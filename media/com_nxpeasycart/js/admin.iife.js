(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Ji,qi,Wi,zi,Qi,Zi,ea,ta,sa,na,oa,ia,aa,ra,la,ca,da,ua,pa,_a,fa,ha,ma,ga,Ca,Sa,Ea,Aa,ba,ya,Ta,va,Oa,Ra,xa,Pa,Na,Ma,Ia,$a,wa,ka,Da,Ua,La,Ya,Xa,Fa,Va,Ga,Ha,Ba;function pn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const xe={},qt=[],_t=()=>{},to=()=>!1,Ms=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),_n=e=>e.startsWith("onUpdate:"),ze=Object.assign,fn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Rc=Object.prototype.hasOwnProperty,Oe=(e,t)=>Rc.call(e,t),me=Array.isArray,Wt=e=>rs(e)==="[object Map]",zt=e=>rs(e)==="[object Set]",so=e=>rs(e)==="[object Date]",Ee=e=>typeof e=="function",Ue=e=>typeof e=="string",ct=e=>typeof e=="symbol",Ne=e=>e!==null&&typeof e=="object",no=e=>(Ne(e)||Ee(e))&&Ee(e.then)&&Ee(e.catch),oo=Object.prototype.toString,rs=e=>oo.call(e),xc=e=>rs(e).slice(8,-1),io=e=>rs(e)==="[object Object]",hn=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ls=pn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Is=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Pc=/-\w/g,$t=Is(e=>e.replace(Pc,t=>t.slice(1).toUpperCase())),Nc=/\B([A-Z])/g,wt=Is(e=>e.replace(Nc,"-$1").toLowerCase()),ao=Is(e=>e.charAt(0).toUpperCase()+e.slice(1)),mn=Is(e=>e?`on${ao(e)}`:""),kt=(e,t)=>!Object.is(e,t),$s=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ro=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},ws=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let lo;const ks=()=>lo||(lo=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Dt(e){if(me(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=Ue(o)?wc(o):Dt(o);if(n)for(const a in n)t[a]=n[a]}return t}else if(Ue(e)||Ne(e))return e}const Mc=/;(?![^(]*\))/g,Ic=/:([^]+)/,$c=/\/\*[^]*?\*\//g;function wc(e){const t={};return e.replace($c,"").split(Mc).forEach(s=>{if(s){const o=s.split(Ic);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Pe(e){let t="";if(Ue(e))t=e;else if(me(e))for(let s=0;s<e.length;s++){const o=Pe(e[s]);o&&(t+=o+" ")}else if(Ne(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const kc=pn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function co(e){return!!e||e===""}function Dc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=cs(e[o],t[o]);return s}function cs(e,t){if(e===t)return!0;let s=so(e),o=so(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=ct(e),o=ct(t),s||o)return e===t;if(s=me(e),o=me(t),s||o)return s&&o?Dc(e,t):!1;if(s=Ne(e),o=Ne(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const l in e){const r=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(r&&!p||!r&&p||!cs(e[l],t[l]))return!1}}return String(e)===String(t)}function gn(e,t){return e.findIndex(s=>cs(s,t))}const uo=e=>!!(e&&e.__v_isRef===!0),u=e=>Ue(e)?e:e==null?"":me(e)||Ne(e)&&(e.toString===oo||!Ee(e.toString))?uo(e)?u(e.value):JSON.stringify(e,po,2):String(e),po=(e,t)=>uo(t)?po(e,t.value):Wt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],a)=>(s[Cn(o,a)+" =>"]=n,s),{})}:zt(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Cn(s))}:ct(t)?Cn(t):Ne(t)&&!me(t)&&!io(t)?String(t):t,Cn=(e,t="")=>{var s;return ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let st;class Uc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=st,!t&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=st;try{return st=this,t()}finally{st=s}}}on(){++this._on===1&&(this.prevScope=st,st=this)}off(){this._on>0&&--this._on===0&&(st=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Lc(){return st}let Me;const Sn=new WeakSet;class _o{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Sn.has(this)&&(Sn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ho(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Eo(this),mo(this);const t=Me,s=dt;Me=this,dt=!0;try{return this.fn()}finally{go(this),Me=t,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)yn(t);this.deps=this.depsTail=void 0,Eo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Sn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bn(this)&&this.run()}get dirty(){return bn(this)}}let fo=0,ds,us;function ho(e,t=!1){if(e.flags|=8,t){e.next=us,us=e;return}e.next=ds,ds=e}function En(){fo++}function An(){if(--fo>0)return;if(us){let t=us;for(us=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ds;){let t=ds;for(ds=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function mo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function go(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),yn(o),Yc(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function bn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Co(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Co(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ps)||(e.globalVersion=ps,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!bn(e))))return;e.flags|=2;const t=e.dep,s=Me,o=dt;Me=e,dt=!0;try{mo(e);const n=e.fn(e._value);(t.version===0||kt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Me=s,dt=o,go(e),e.flags&=-3}}function yn(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)yn(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Yc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let dt=!0;const So=[];function ft(){So.push(dt),dt=!1}function ht(){const e=So.pop();dt=e===void 0?!0:e}function Eo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Me;Me=void 0;try{t()}finally{Me=s}}}let ps=0;class Xc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Tn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Me||!dt||Me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Me)s=this.activeLink=new Xc(Me,this),Me.deps?(s.prevDep=Me.depsTail,Me.depsTail.nextDep=s,Me.depsTail=s):Me.deps=Me.depsTail=s,Ao(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Me.depsTail,s.nextDep=void 0,Me.depsTail.nextDep=s,Me.depsTail=s,Me.deps===s&&(Me.deps=o)}return s}trigger(t){this.version++,ps++,this.notify(t)}notify(t){En();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{An()}}}function Ao(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Ao(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const vn=new WeakMap,Vt=Symbol(""),On=Symbol(""),_s=Symbol("");function Je(e,t,s){if(dt&&Me){let o=vn.get(e);o||vn.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new Tn),n.map=o,n.key=s),n.track()}}function Tt(e,t,s,o,n,a){const l=vn.get(e);if(!l){ps++;return}const r=p=>{p&&p.trigger()};if(En(),t==="clear")l.forEach(r);else{const p=me(e),_=p&&hn(s);if(p&&s==="length"){const f=Number(o);l.forEach((d,A)=>{(A==="length"||A===_s||!ct(A)&&A>=f)&&r(d)})}else switch((s!==void 0||l.has(void 0))&&r(l.get(s)),_&&r(l.get(_s)),t){case"add":p?_&&r(l.get("length")):(r(l.get(Vt)),Wt(e)&&r(l.get(On)));break;case"delete":p||(r(l.get(Vt)),Wt(e)&&r(l.get(On)));break;case"set":Wt(e)&&r(l.get(Vt));break}}An()}function Qt(e){const t=ve(e);return t===e?t:(Je(t,"iterate",_s),rt(e)?t:t.map(He))}function Ds(e){return Je(e=ve(e),"iterate",_s),e}const Fc={__proto__:null,[Symbol.iterator](){return Rn(this,Symbol.iterator,He)},concat(...e){return Qt(this).concat(...e.map(t=>me(t)?Qt(t):t))},entries(){return Rn(this,"entries",e=>(e[1]=He(e[1]),e))},every(e,t){return vt(this,"every",e,t,void 0,arguments)},filter(e,t){return vt(this,"filter",e,t,s=>s.map(He),arguments)},find(e,t){return vt(this,"find",e,t,He,arguments)},findIndex(e,t){return vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return vt(this,"findLast",e,t,He,arguments)},findLastIndex(e,t){return vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return xn(this,"includes",e)},indexOf(...e){return xn(this,"indexOf",e)},join(e){return Qt(this).join(e)},lastIndexOf(...e){return xn(this,"lastIndexOf",e)},map(e,t){return vt(this,"map",e,t,void 0,arguments)},pop(){return fs(this,"pop")},push(...e){return fs(this,"push",e)},reduce(e,...t){return bo(this,"reduce",e,t)},reduceRight(e,...t){return bo(this,"reduceRight",e,t)},shift(){return fs(this,"shift")},some(e,t){return vt(this,"some",e,t,void 0,arguments)},splice(...e){return fs(this,"splice",e)},toReversed(){return Qt(this).toReversed()},toSorted(e){return Qt(this).toSorted(e)},toSpliced(...e){return Qt(this).toSpliced(...e)},unshift(...e){return fs(this,"unshift",e)},values(){return Rn(this,"values",He)}};function Rn(e,t,s){const o=Ds(e),n=o[t]();return o!==e&&!rt(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const Vc=Array.prototype;function vt(e,t,s,o,n,a){const l=Ds(e),r=l!==e&&!rt(e),p=l[t];if(p!==Vc[t]){const d=p.apply(e,a);return r?He(d):d}let _=s;l!==e&&(r?_=function(d,A){return s.call(this,He(d),A,e)}:s.length>2&&(_=function(d,A){return s.call(this,d,A,e)}));const f=p.call(l,_,o);return r&&n?n(f):f}function bo(e,t,s,o){const n=Ds(e);let a=s;return n!==e&&(rt(e)?s.length>3&&(a=function(l,r,p){return s.call(this,l,r,p,e)}):a=function(l,r,p){return s.call(this,l,He(r),p,e)}),n[t](a,...o)}function xn(e,t,s){const o=ve(e);Je(o,"iterate",_s);const n=o[t](...s);return(n===-1||n===!1)&&Mn(s[0])?(s[0]=ve(s[0]),o[t](...s)):n}function fs(e,t,s=[]){ft(),En();const o=ve(e)[t].apply(e,s);return An(),ht(),o}const Gc=pn("__proto__,__v_isRef,__isVue"),yo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ct));function Hc(e){ct(e)||(e=String(e));const t=ve(this);return Je(t,"has",e),t.hasOwnProperty(e)}class To{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return o===(n?a?No:Po:a?xo:Ro).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=me(t);if(!n){let p;if(l&&(p=Fc[s]))return p;if(s==="hasOwnProperty")return Hc}const r=Reflect.get(t,s,Be(t)?t:o);if((ct(s)?yo.has(s):Gc(s))||(n||Je(t,"get",s),a))return r;if(Be(r)){const p=l&&hn(s)?r:r.value;return n&&Ne(p)?Nn(p):p}return Ne(r)?n?Nn(r):$e(r):r}}class vo extends To{constructor(t=!1){super(!1,t)}set(t,s,o,n){let a=t[s];if(!this._isShallow){const p=Ut(a);if(!rt(o)&&!Ut(o)&&(a=ve(a),o=ve(o)),!me(t)&&Be(a)&&!Be(o))return p||(a.value=o),!0}const l=me(t)&&hn(s)?Number(s)<t.length:Oe(t,s),r=Reflect.set(t,s,o,Be(t)?t:n);return t===ve(n)&&(l?kt(o,a)&&Tt(t,"set",s,o):Tt(t,"add",s,o)),r}deleteProperty(t,s){const o=Oe(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&Tt(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!ct(s)||!yo.has(s))&&Je(t,"has",s),o}ownKeys(t){return Je(t,"iterate",me(t)?"length":Vt),Reflect.ownKeys(t)}}class Oo extends To{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Bc=new vo,jc=new Oo,Kc=new vo(!0),Jc=new Oo(!0),Pn=e=>e,Us=e=>Reflect.getPrototypeOf(e);function qc(e,t,s){return function(...o){const n=this.__v_raw,a=ve(n),l=Wt(a),r=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,_=n[e](...o),f=s?Pn:t?Fs:He;return!t&&Je(a,"iterate",p?On:Vt),{next(){const{value:d,done:A}=_.next();return A?{value:d,done:A}:{value:r?[f(d[0]),f(d[1])]:f(d),done:A}},[Symbol.iterator](){return this}}}}function Ls(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Wc(e,t){const s={get(n){const a=this.__v_raw,l=ve(a),r=ve(n);e||(kt(n,r)&&Je(l,"get",n),Je(l,"get",r));const{has:p}=Us(l),_=t?Pn:e?Fs:He;if(p.call(l,n))return _(a.get(n));if(p.call(l,r))return _(a.get(r));a!==l&&a.get(n)},get size(){const n=this.__v_raw;return!e&&Je(ve(n),"iterate",Vt),n.size},has(n){const a=this.__v_raw,l=ve(a),r=ve(n);return e||(kt(n,r)&&Je(l,"has",n),Je(l,"has",r)),n===r?a.has(n):a.has(n)||a.has(r)},forEach(n,a){const l=this,r=l.__v_raw,p=ve(r),_=t?Pn:e?Fs:He;return!e&&Je(p,"iterate",Vt),r.forEach((f,d)=>n.call(a,_(f),_(d),l))}};return ze(s,e?{add:Ls("add"),set:Ls("set"),delete:Ls("delete"),clear:Ls("clear")}:{add(n){!t&&!rt(n)&&!Ut(n)&&(n=ve(n));const a=ve(this);return Us(a).has.call(a,n)||(a.add(n),Tt(a,"add",n,n)),this},set(n,a){!t&&!rt(a)&&!Ut(a)&&(a=ve(a));const l=ve(this),{has:r,get:p}=Us(l);let _=r.call(l,n);_||(n=ve(n),_=r.call(l,n));const f=p.call(l,n);return l.set(n,a),_?kt(a,f)&&Tt(l,"set",n,a):Tt(l,"add",n,a),this},delete(n){const a=ve(this),{has:l,get:r}=Us(a);let p=l.call(a,n);p||(n=ve(n),p=l.call(a,n)),r&&r.call(a,n);const _=a.delete(n);return p&&Tt(a,"delete",n,void 0),_},clear(){const n=ve(this),a=n.size!==0,l=n.clear();return a&&Tt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=qc(n,e,t)}),s}function Ys(e,t){const s=Wc(e,t);return(o,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(Oe(s,n)&&n in o?s:o,n,a)}const zc={get:Ys(!1,!1)},Qc={get:Ys(!1,!0)},Zc={get:Ys(!0,!1)},ed={get:Ys(!0,!0)},Ro=new WeakMap,xo=new WeakMap,Po=new WeakMap,No=new WeakMap;function td(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sd(e){return e.__v_skip||!Object.isExtensible(e)?0:td(xc(e))}function $e(e){return Ut(e)?e:Xs(e,!1,Bc,zc,Ro)}function nd(e){return Xs(e,!1,Kc,Qc,xo)}function Nn(e){return Xs(e,!0,jc,Zc,Po)}function Ev(e){return Xs(e,!0,Jc,ed,No)}function Xs(e,t,s,o,n){if(!Ne(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=sd(e);if(a===0)return e;const l=n.get(e);if(l)return l;const r=new Proxy(e,a===2?o:s);return n.set(e,r),r}function Zt(e){return Ut(e)?Zt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ut(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function Mn(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function od(e){return!Oe(e,"__v_skip")&&Object.isExtensible(e)&&ro(e,"__v_skip",!0),e}const He=e=>Ne(e)?$e(e):e,Fs=e=>Ne(e)?Nn(e):e;function Be(e){return e?e.__v_isRef===!0:!1}function Ye(e){return id(e,!1)}function id(e,t){return Be(e)?e:new ad(e,t)}class ad{constructor(t,s){this.dep=new Tn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ve(t),this._value=s?t:He(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||rt(t)||Ut(t);t=o?t:ve(t),kt(t,s)&&(this._rawValue=t,this._value=o?t:He(t),this.dep.trigger())}}function c(e){return Be(e)?e.value:e}const rd={get:(e,t,s)=>t==="__v_raw"?e:c(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return Be(n)&&!Be(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function Mo(e){return Zt(e)?e:new Proxy(e,rd)}class ld{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Tn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ps-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return ho(this,!0),!0}get value(){const t=this.dep.track();return Co(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function cd(e,t,s=!1){let o,n;return Ee(e)?o=e:(o=e.get,n=e.set),new ld(o,n,s)}const Vs={},Gs=new WeakMap;let Gt;function dd(e,t=!1,s=Gt){if(s){let o=Gs.get(s);o||Gs.set(s,o=[]),o.push(e)}}function ud(e,t,s=xe){const{immediate:o,deep:n,once:a,scheduler:l,augmentJob:r,call:p}=s,_=b=>n?b:rt(b)||n===!1||n===0?Ot(b,1):Ot(b);let f,d,A,P,U=!1,v=!1;if(Be(e)?(d=()=>e.value,U=rt(e)):Zt(e)?(d=()=>_(e),U=!0):me(e)?(v=!0,U=e.some(b=>Zt(b)||rt(b)),d=()=>e.map(b=>{if(Be(b))return b.value;if(Zt(b))return _(b);if(Ee(b))return p?p(b,2):b()})):Ee(e)?t?d=p?()=>p(e,2):e:d=()=>{if(A){ft();try{A()}finally{ht()}}const b=Gt;Gt=f;try{return p?p(e,3,[P]):e(P)}finally{Gt=b}}:d=_t,t&&n){const b=d,H=n===!0?1/0:n;d=()=>Ot(b(),H)}const D=Lc(),T=()=>{f.stop(),D&&D.active&&fn(D.effects,f)};if(a&&t){const b=t;t=(...H)=>{b(...H),T()}}let J=v?new Array(e.length).fill(Vs):Vs;const I=b=>{if(!(!(f.flags&1)||!f.dirty&&!b))if(t){const H=f.run();if(n||U||(v?H.some((le,_e)=>kt(le,J[_e])):kt(H,J))){A&&A();const le=Gt;Gt=f;try{const _e=[H,J===Vs?void 0:v&&J[0]===Vs?[]:J,P];J=H,p?p(t,3,_e):t(..._e)}finally{Gt=le}}}else f.run()};return r&&r(I),f=new _o(d),f.scheduler=l?()=>l(I,!1):I,P=b=>dd(b,!1,f),A=f.onStop=()=>{const b=Gs.get(f);if(b){if(p)p(b,4);else for(const H of b)H();Gs.delete(f)}},t?o?I(!0):J=f.run():l?l(I.bind(null,!0),!0):f.run(),T.pause=f.pause.bind(f),T.resume=f.resume.bind(f),T.stop=T,T}function Ot(e,t=1/0,s){if(t<=0||!Ne(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Be(e))Ot(e.value,t,s);else if(me(e))for(let o=0;o<e.length;o++)Ot(e[o],t,s);else if(zt(e)||Wt(e))e.forEach(o=>{Ot(o,t,s)});else if(io(e)){for(const o in e)Ot(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Ot(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const hs=[];let In=!1;function Av(e,...t){if(In)return;In=!0,ft();const s=hs.length?hs[hs.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=pd();if(o)es(o,s,11,[e+t.map(a=>{var l,r;return(r=(l=a.toString)==null?void 0:l.call(a))!=null?r:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${Oi(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,..._d(n)),console.warn(...a)}ht(),In=!1}function pd(){let e=hs[hs.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function _d(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...fd(s))}),t}function fd({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${Oi(e.component,e.type,o)}`,a=">"+s;return e.props?[n,...hd(e.props),a]:[n+a]}function hd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...Io(o,e[o]))}),s.length>3&&t.push(" ..."),t}function Io(e,t,s){return Ue(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Be(t)?(t=Io(e,ve(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Ee(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ve(t),s?t:[`${e}=`,t])}function es(e,t,s,o){try{return o?e(...o):e()}catch(n){Hs(n,t,s)}}function mt(e,t,s,o){if(Ee(e)){const n=es(e,t,s,o);return n&&no(n)&&n.catch(a=>{Hs(a,t,s)}),n}if(me(e)){const n=[];for(let a=0;a<e.length;a++)n.push(mt(e[a],t,s,o));return n}}function Hs(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||xe;if(t){let r=t.parent;const p=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const f=r.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,p,_)===!1)return}r=r.parent}if(a){ft(),es(a,null,10,[e,p,_]),ht();return}}md(e,s,n,o,l)}function md(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Qe=[];let gt=-1;const ts=[];let Lt=null,ss=0;const $o=Promise.resolve();let Bs=null;function wo(e){const t=Bs||$o;return e?t.then(this?e.bind(this):e):t}function gd(e){let t=gt+1,s=Qe.length;for(;t<s;){const o=t+s>>>1,n=Qe[o],a=ms(n);a<e||a===e&&n.flags&2?t=o+1:s=o}return t}function $n(e){if(!(e.flags&1)){const t=ms(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=ms(s)?Qe.push(e):Qe.splice(gd(t),0,e),e.flags|=1,ko()}}function ko(){Bs||(Bs=$o.then(Lo))}function Cd(e){me(e)?ts.push(...e):Lt&&e.id===-1?Lt.splice(ss+1,0,e):e.flags&1||(ts.push(e),e.flags|=1),ko()}function Do(e,t,s=gt+1){for(;s<Qe.length;s++){const o=Qe[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Qe.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Uo(e){if(ts.length){const t=[...new Set(ts)].sort((s,o)=>ms(s)-ms(o));if(ts.length=0,Lt){Lt.push(...t);return}for(Lt=t,ss=0;ss<Lt.length;ss++){const s=Lt[ss];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Lt=null,ss=0}}const ms=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Lo(e){try{for(gt=0;gt<Qe.length;gt++){const t=Qe[gt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),es(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;gt<Qe.length;gt++){const t=Qe[gt];t&&(t.flags&=-2)}gt=-1,Qe.length=0,Uo(),Bs=null,(Qe.length||ts.length)&&Lo()}}let qe=null,Yo=null;function js(e){const t=qe;return qe=e,Yo=e&&e.type.__scopeId||null,t}function Xo(e,t=qe,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&Si(-1);const a=js(t);let l;try{l=e(...n)}finally{js(a),o._d&&Si(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function ie(e,t){if(qe===null)return e;const s=sn(qe),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,l,r,p=xe]=t[n];a&&(Ee(a)&&(a={mounted:a,updated:a}),a.deep&&Ot(l),o.push({dir:a,instance:s,value:l,oldValue:void 0,arg:r,modifiers:p}))}return e}function Ht(e,t,s,o){const n=e.dirs,a=t&&t.dirs;for(let l=0;l<n.length;l++){const r=n[l];a&&(r.oldValue=a[l].value);let p=r.dir[o];p&&(ft(),mt(p,s,8,[e.el,r,e,t]),ht())}}const Sd=Symbol("_vte"),Ed=e=>e.__isTeleport,Ad=Symbol("_leaveCb");function wn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,wn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Fo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ks=new WeakMap;function gs(e,t,s,o,n=!1){if(me(e)){e.forEach((U,v)=>gs(U,t&&(me(t)?t[v]:t),s,o,n));return}if(ns(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&gs(e,t,s,o.component.subTree);return}const a=o.shapeFlag&4?sn(o.component):o.el,l=n?null:a,{i:r,r:p}=e,_=t&&t.r,f=r.refs===xe?r.refs={}:r.refs,d=r.setupState,A=ve(d),P=d===xe?to:U=>Oe(A,U);if(_!=null&&_!==p){if(Vo(t),Ue(_))f[_]=null,P(_)&&(d[_]=null);else if(Be(_)){_.value=null;const U=t;U.k&&(f[U.k]=null)}}if(Ee(p))es(p,r,12,[l,f]);else{const U=Ue(p),v=Be(p);if(U||v){const D=()=>{if(e.f){const T=U?P(p)?d[p]:f[p]:p.value;if(n)me(T)&&fn(T,a);else if(me(T))T.includes(a)||T.push(a);else if(U)f[p]=[a],P(p)&&(d[p]=f[p]);else{const J=[a];p.value=J,e.k&&(f[e.k]=J)}}else U?(f[p]=l,P(p)&&(d[p]=l)):v&&(p.value=l,e.k&&(f[e.k]=l))};if(l){const T=()=>{D(),Ks.delete(e)};T.id=-1,Ks.set(e,T),ot(T,s)}else Vo(e),D()}}}function Vo(e){const t=Ks.get(e);t&&(t.flags|=8,Ks.delete(e))}ks().requestIdleCallback,ks().cancelIdleCallback;const ns=e=>!!e.type.__asyncLoader,Go=e=>e.type.__isKeepAlive;function bd(e,t){Ho(e,"a",t)}function yd(e,t){Ho(e,"da",t)}function Ho(e,t,s=et){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Js(t,o,s),s){let n=s.parent;for(;n&&n.parent;)Go(n.parent.vnode)&&Td(o,t,s,n),n=n.parent}}function Td(e,t,s,o){const n=Js(t,e,o,!0);jo(()=>{fn(o[t],n)},s)}function Js(e,t,s=et,o=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...l)=>{ft();const r=ys(s),p=mt(t,s,e,l);return r(),ht(),p});return o?n.unshift(a):n.push(a),a}}const Rt=e=>(t,s=et)=>{(!Ts||e==="sp")&&Js(e,(...o)=>t(...o),s)},vd=Rt("bm"),nt=Rt("m"),Od=Rt("bu"),Rd=Rt("u"),Bo=Rt("bum"),jo=Rt("um"),xd=Rt("sp"),Pd=Rt("rtg"),Nd=Rt("rtc");function Md(e,t=et){Js("ec",e,t)}const Id=Symbol.for("v-ndc");function Te(e,t,s,o){let n;const a=s,l=me(e);if(l||Ue(e)){const r=l&&Zt(e);let p=!1,_=!1;r&&(p=!rt(e),_=Ut(e),e=Ds(e)),n=new Array(e.length);for(let f=0,d=e.length;f<d;f++)n[f]=t(p?_?Fs(He(e[f])):He(e[f]):e[f],f,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,a)}else if(Ne(e))if(e[Symbol.iterator])n=Array.from(e,(r,p)=>t(r,p,void 0,a));else{const r=Object.keys(e);n=new Array(r.length);for(let p=0,_=r.length;p<_;p++){const f=r[p];n[p]=t(e[f],f,p,a)}}else n=[];return n}function $d(e,t,s={},o,n){if(qe.ce||qe.parent&&ns(qe.parent)&&qe.parent.ce){const _=Object.keys(s).length>0;return y(),lt(Se,null,[Xe("slot",s,o)],_?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),y();const l=a&&Ko(a(s)),r=s.key||l&&l.key,p=lt(Se,{key:(r&&!ct(r)?r:`_${t}`)+(!l&&o?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function Ko(e){return e.some(t=>Gn(t)?!(t.type===xt||t.type===Se&&!Ko(t.children)):!0)?e:null}const kn=e=>e?yi(e)?sn(e):kn(e.parent):null,Cs=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kn(e.parent),$root:e=>kn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>zo(e),$forceUpdate:e=>e.f||(e.f=()=>{$n(e.update)}),$nextTick:e=>e.n||(e.n=wo.bind(e.proxy)),$watch:e=>tu.bind(e)}),Dn=(e,t)=>e!==xe&&!e.__isScriptSetup&&Oe(e,t),wd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:a,accessCache:l,type:r,appContext:p}=e;let _;if(t[0]!=="$"){const P=l[t];if(P!==void 0)switch(P){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(Dn(o,t))return l[t]=1,o[t];if(n!==xe&&Oe(n,t))return l[t]=2,n[t];if((_=e.propsOptions[0])&&Oe(_,t))return l[t]=3,a[t];if(s!==xe&&Oe(s,t))return l[t]=4,s[t];Un&&(l[t]=0)}}const f=Cs[t];let d,A;if(f)return t==="$attrs"&&Je(e.attrs,"get",""),f(e);if((d=r.__cssModules)&&(d=d[t]))return d;if(s!==xe&&Oe(s,t))return l[t]=4,s[t];if(A=p.config.globalProperties,Oe(A,t))return A[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:a}=e;return Dn(n,t)?(n[t]=s,!0):o!==xe&&Oe(o,t)?(o[t]=s,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:a,type:l}},r){let p,_;return!!(s[r]||e!==xe&&r[0]!=="$"&&Oe(e,r)||Dn(t,r)||(p=a[0])&&Oe(p,r)||Oe(o,r)||Oe(Cs,r)||Oe(n.config.globalProperties,r)||(_=l.__cssModules)&&_[r])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Oe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Jo(e){return me(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Un=!0;function kd(e){const t=zo(e),s=e.proxy,o=e.ctx;Un=!1,t.beforeCreate&&qo(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:l,watch:r,provide:p,inject:_,created:f,beforeMount:d,mounted:A,beforeUpdate:P,updated:U,activated:v,deactivated:D,beforeDestroy:T,beforeUnmount:J,destroyed:I,unmounted:b,render:H,renderTracked:le,renderTriggered:_e,errorCaptured:he,serverPrefetch:Z,expose:G,inheritAttrs:F,components:j,directives:Q,filters:ae}=t;if(_&&Dd(_,o,null),l)for(const q in l){const N=l[q];Ee(N)&&(o[q]=N.bind(s))}if(n){const q=n.call(s,s);Ne(q)&&(e.data=$e(q))}if(Un=!0,a)for(const q in a){const N=a[q],k=Ee(N)?N.bind(s,s):Ee(N.get)?N.get.bind(s,s):_t,X=!Ee(N)&&Ee(N.set)?N.set.bind(s):_t,w=Ce({get:k,set:X});Object.defineProperty(o,q,{enumerable:!0,configurable:!0,get:()=>w.value,set:B=>w.value=B})}if(r)for(const q in r)Wo(r[q],o,s,q);if(p){const q=Ee(p)?p.call(s):p;Reflect.ownKeys(q).forEach(N=>{Vd(N,q[N])})}f&&qo(f,e,"c");function te(q,N){me(N)?N.forEach(k=>q(k.bind(s))):N&&q(N.bind(s))}if(te(vd,d),te(nt,A),te(Od,P),te(Rd,U),te(bd,v),te(yd,D),te(Md,he),te(Nd,le),te(Pd,_e),te(Bo,J),te(jo,b),te(xd,Z),me(G))if(G.length){const q=e.exposed||(e.exposed={});G.forEach(N=>{Object.defineProperty(q,N,{get:()=>s[N],set:k=>s[N]=k,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===_t&&(e.render=H),F!=null&&(e.inheritAttrs=F),j&&(e.components=j),Q&&(e.directives=Q),Z&&Fo(e)}function Dd(e,t,s=_t){me(e)&&(e=Ln(e));for(const o in e){const n=e[o];let a;Ne(n)?"default"in n?a=Ws(n.from||o,n.default,!0):a=Ws(n.from||o):a=Ws(n),Be(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function qo(e,t,s){mt(me(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function Wo(e,t,s,o){let n=o.includes(".")?fi(s,o):()=>s[o];if(Ue(e)){const a=t[e];Ee(a)&&we(n,a)}else if(Ee(e))we(n,e.bind(s));else if(Ne(e))if(me(e))e.forEach(a=>Wo(a,t,s,o));else{const a=Ee(e.handler)?e.handler.bind(s):t[e.handler];Ee(a)&&we(n,a,e)}}function zo(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,r=a.get(t);let p;return r?p=r:!n.length&&!s&&!o?p=t:(p={},n.length&&n.forEach(_=>qs(p,_,l,!0)),qs(p,t,l)),Ne(t)&&a.set(t,p),p}function qs(e,t,s,o=!1){const{mixins:n,extends:a}=t;a&&qs(e,a,s,!0),n&&n.forEach(l=>qs(e,l,s,!0));for(const l in t)if(!(o&&l==="expose")){const r=Ud[l]||s&&s[l];e[l]=r?r(e[l],t[l]):t[l]}return e}const Ud={data:Qo,props:Zo,emits:Zo,methods:Ss,computed:Ss,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:Ss,directives:Ss,watch:Yd,provide:Qo,inject:Ld};function Qo(e,t){return t?e?function(){return ze(Ee(e)?e.call(this,this):e,Ee(t)?t.call(this,this):t)}:t:e}function Ld(e,t){return Ss(Ln(e),Ln(t))}function Ln(e){if(me(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function Ss(e,t){return e?ze(Object.create(null),e,t):t}function Zo(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:ze(Object.create(null),Jo(e),Jo(t!=null?t:{})):t}function Yd(e,t){if(!e)return t;if(!t)return e;const s=ze(Object.create(null),e);for(const o in t)s[o]=Ze(e[o],t[o]);return s}function ei(){return{app:null,config:{isNativeTag:to,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xd=0;function Fd(e,t){return function(o,n=null){Ee(o)||(o=ze({},o)),n!=null&&!Ne(n)&&(n=null);const a=ei(),l=new WeakSet,r=[];let p=!1;const _=a.app={_uid:Xd++,_component:o,_props:n,_container:null,_context:a,_instance:null,version:Ru,get config(){return a.config},set config(f){},use(f,...d){return l.has(f)||(f&&Ee(f.install)?(l.add(f),f.install(_,...d)):Ee(f)&&(l.add(f),f(_,...d))),_},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),_},component(f,d){return d?(a.components[f]=d,_):a.components[f]},directive(f,d){return d?(a.directives[f]=d,_):a.directives[f]},mount(f,d,A){if(!p){const P=_._ceVNode||Xe(o,n);return P.appContext=a,A===!0?A="svg":A===!1&&(A=void 0),e(P,f,A),p=!0,_._container=f,f.__vue_app__=_,sn(P.component)}},onUnmount(f){r.push(f)},unmount(){p&&(mt(r,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(f,d){return a.provides[f]=d,_},runWithContext(f){const d=os;os=_;try{return f()}finally{os=d}}};return _}}let os=null;function Vd(e,t){if(et){let s=et.provides;const o=et.parent&&et.parent.provides;o===s&&(s=et.provides=Object.create(o)),s[e]=t}}function Ws(e,t,s=!1){const o=Cu();if(o||os){let n=os?os._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ee(t)?t.call(o&&o.proxy):t}}const ti={},si=()=>Object.create(ti),ni=e=>Object.getPrototypeOf(e)===ti;function Gd(e,t,s,o=!1){const n={},a=si();e.propsDefaults=Object.create(null),oi(e,t,n,a);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=o?n:nd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function Hd(e,t,s,o){const{props:n,attrs:a,vnode:{patchFlag:l}}=e,r=ve(n),[p]=e.propsOptions;let _=!1;if((o||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let A=f[d];if(zs(e.emitsOptions,A))continue;const P=t[A];if(p)if(Oe(a,A))P!==a[A]&&(a[A]=P,_=!0);else{const U=$t(A);n[U]=Yn(p,r,U,P,e,!1)}else P!==a[A]&&(a[A]=P,_=!0)}}}else{oi(e,t,n,a)&&(_=!0);let f;for(const d in r)(!t||!Oe(t,d)&&((f=wt(d))===d||!Oe(t,f)))&&(p?s&&(s[d]!==void 0||s[f]!==void 0)&&(n[d]=Yn(p,r,d,void 0,e,!0)):delete n[d]);if(a!==r)for(const d in a)(!t||!Oe(t,d))&&(delete a[d],_=!0)}_&&Tt(e.attrs,"set","")}function oi(e,t,s,o){const[n,a]=e.propsOptions;let l=!1,r;if(t)for(let p in t){if(ls(p))continue;const _=t[p];let f;n&&Oe(n,f=$t(p))?!a||!a.includes(f)?s[f]=_:(r||(r={}))[f]=_:zs(e.emitsOptions,p)||(!(p in o)||_!==o[p])&&(o[p]=_,l=!0)}if(a){const p=ve(s),_=r||xe;for(let f=0;f<a.length;f++){const d=a[f];s[d]=Yn(n,p,d,_[d],e,!Oe(_,d))}}return l}function Yn(e,t,s,o,n,a){const l=e[s];if(l!=null){const r=Oe(l,"default");if(r&&o===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&Ee(p)){const{propsDefaults:_}=n;if(s in _)o=_[s];else{const f=ys(n);o=_[s]=p.call(null,t),f()}}else o=p;n.ce&&n.ce._setProp(s,o)}l[0]&&(a&&!r?o=!1:l[1]&&(o===""||o===wt(s))&&(o=!0))}return o}const Bd=new WeakMap;function ii(e,t,s=!1){const o=s?Bd:t.propsCache,n=o.get(e);if(n)return n;const a=e.props,l={},r=[];let p=!1;if(!Ee(e)){const f=d=>{p=!0;const[A,P]=ii(d,t,!0);ze(l,A),P&&r.push(...P)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!p)return Ne(e)&&o.set(e,qt),qt;if(me(a))for(let f=0;f<a.length;f++){const d=$t(a[f]);ai(d)&&(l[d]=xe)}else if(a)for(const f in a){const d=$t(f);if(ai(d)){const A=a[f],P=l[d]=me(A)||Ee(A)?{type:A}:ze({},A),U=P.type;let v=!1,D=!0;if(me(U))for(let T=0;T<U.length;++T){const J=U[T],I=Ee(J)&&J.name;if(I==="Boolean"){v=!0;break}else I==="String"&&(D=!1)}else v=Ee(U)&&U.name==="Boolean";P[0]=v,P[1]=D,(v||Oe(P,"default"))&&r.push(d)}}const _=[l,r];return Ne(e)&&o.set(e,_),_}function ai(e){return e[0]!=="$"&&!ls(e)}const Xn=e=>e==="_"||e==="_ctx"||e==="$stable",Fn=e=>me(e)?e.map(Ct):[Ct(e)],jd=(e,t,s)=>{if(t._n)return t;const o=Xo((...n)=>Fn(t(...n)),s);return o._c=!1,o},ri=(e,t,s)=>{const o=e._ctx;for(const n in e){if(Xn(n))continue;const a=e[n];if(Ee(a))t[n]=jd(n,a,o);else if(a!=null){const l=Fn(a);t[n]=()=>l}}},li=(e,t)=>{const s=Fn(t);e.slots.default=()=>s},ci=(e,t,s)=>{for(const o in t)(s||!Xn(o))&&(e[o]=t[o])},Kd=(e,t,s)=>{const o=e.slots=si();if(e.vnode.shapeFlag&32){const n=t._;n?(ci(o,t,s),s&&ro(o,"_",n,!0)):ri(t,o)}else t&&li(e,t)},Jd=(e,t,s)=>{const{vnode:o,slots:n}=e;let a=!0,l=xe;if(o.shapeFlag&32){const r=t._;r?s&&r===1?a=!1:ci(n,t,s):(a=!t.$stable,ri(t,n)),l=t}else t&&(li(e,t),l={default:1});if(a)for(const r in n)!Xn(r)&&l[r]==null&&delete n[r]},ot=cu;function qd(e){return Wd(e)}function Wd(e,t){const s=ks();s.__VUE__=!0;const{insert:o,remove:n,patchProp:a,createElement:l,createText:r,createComment:p,setText:_,setElementText:f,parentNode:d,nextSibling:A,setScopeId:P=_t,insertStaticContent:U}=e,v=(m,E,Y,g=null,h=null,S=null,O=void 0,$=null,L=!!E.dynamicChildren)=>{if(m===E)return;m&&!bs(m,E)&&(g=C(m),B(m,h,S,!0),m=null),E.patchFlag===-2&&(L=!1,E.dynamicChildren=null);const{type:M,ref:ee,shapeFlag:z}=E;switch(M){case Qs:D(m,E,Y,g);break;case xt:T(m,E,Y,g);break;case Zs:m==null&&J(E,Y,g,O);break;case Se:j(m,E,Y,g,h,S,O,$,L);break;default:z&1?H(m,E,Y,g,h,S,O,$,L):z&6?Q(m,E,Y,g,h,S,O,$,L):(z&64||z&128)&&M.process(m,E,Y,g,h,S,O,$,L,re)}ee!=null&&h?gs(ee,m&&m.ref,S,E||m,!E):ee==null&&m&&m.ref!=null&&gs(m.ref,null,S,m,!0)},D=(m,E,Y,g)=>{if(m==null)o(E.el=r(E.children),Y,g);else{const h=E.el=m.el;E.children!==m.children&&_(h,E.children)}},T=(m,E,Y,g)=>{m==null?o(E.el=p(E.children||""),Y,g):E.el=m.el},J=(m,E,Y,g)=>{[m.el,m.anchor]=U(m.children,E,Y,g,m.el,m.anchor)},I=({el:m,anchor:E},Y,g)=>{let h;for(;m&&m!==E;)h=A(m),o(m,Y,g),m=h;o(E,Y,g)},b=({el:m,anchor:E})=>{let Y;for(;m&&m!==E;)Y=A(m),n(m),m=Y;n(E)},H=(m,E,Y,g,h,S,O,$,L)=>{E.type==="svg"?O="svg":E.type==="math"&&(O="mathml"),m==null?le(E,Y,g,h,S,O,$,L):Z(m,E,h,S,O,$,L)},le=(m,E,Y,g,h,S,O,$)=>{let L,M;const{props:ee,shapeFlag:z,transition:se,dirs:ne}=m;if(L=m.el=l(m.type,S,ee&&ee.is,ee),z&8?f(L,m.children):z&16&&he(m.children,L,null,g,h,Vn(m,S),O,$),ne&&Ht(m,null,g,"created"),_e(L,m,m.scopeId,O,g),ee){for(const Ae in ee)Ae!=="value"&&!ls(Ae)&&a(L,Ae,null,ee[Ae],S,g);"value"in ee&&a(L,"value",null,ee.value,S),(M=ee.onVnodeBeforeMount)&&St(M,g,m)}ne&&Ht(m,null,g,"beforeMount");const ge=zd(h,se);ge&&se.beforeEnter(L),o(L,E,Y),((M=ee&&ee.onVnodeMounted)||ge||ne)&&ot(()=>{M&&St(M,g,m),ge&&se.enter(L),ne&&Ht(m,null,g,"mounted")},h)},_e=(m,E,Y,g,h)=>{if(Y&&P(m,Y),g)for(let S=0;S<g.length;S++)P(m,g[S]);if(h){let S=h.subTree;if(E===S||Ci(S.type)&&(S.ssContent===E||S.ssFallback===E)){const O=h.vnode;_e(m,O,O.scopeId,O.slotScopeIds,h.parent)}}},he=(m,E,Y,g,h,S,O,$,L=0)=>{for(let M=L;M<m.length;M++){const ee=m[M]=$?Yt(m[M]):Ct(m[M]);v(null,ee,E,Y,g,h,S,O,$)}},Z=(m,E,Y,g,h,S,O)=>{const $=E.el=m.el;let{patchFlag:L,dynamicChildren:M,dirs:ee}=E;L|=m.patchFlag&16;const z=m.props||xe,se=E.props||xe;let ne;if(Y&&Bt(Y,!1),(ne=se.onVnodeBeforeUpdate)&&St(ne,Y,E,m),ee&&Ht(E,m,Y,"beforeUpdate"),Y&&Bt(Y,!0),(z.innerHTML&&se.innerHTML==null||z.textContent&&se.textContent==null)&&f($,""),M?G(m.dynamicChildren,M,$,Y,g,Vn(E,h),S):O||N(m,E,$,null,Y,g,Vn(E,h),S,!1),L>0){if(L&16)F($,z,se,Y,h);else if(L&2&&z.class!==se.class&&a($,"class",null,se.class,h),L&4&&a($,"style",z.style,se.style,h),L&8){const ge=E.dynamicProps;for(let Ae=0;Ae<ge.length;Ae++){const ye=ge[Ae],Fe=z[ye],Ve=se[ye];(Ve!==Fe||ye==="value")&&a($,ye,Fe,Ve,h,Y)}}L&1&&m.children!==E.children&&f($,E.children)}else!O&&M==null&&F($,z,se,Y,h);((ne=se.onVnodeUpdated)||ee)&&ot(()=>{ne&&St(ne,Y,E,m),ee&&Ht(E,m,Y,"updated")},g)},G=(m,E,Y,g,h,S,O)=>{for(let $=0;$<E.length;$++){const L=m[$],M=E[$],ee=L.el&&(L.type===Se||!bs(L,M)||L.shapeFlag&198)?d(L.el):Y;v(L,M,ee,null,g,h,S,O,!0)}},F=(m,E,Y,g,h)=>{if(E!==Y){if(E!==xe)for(const S in E)!ls(S)&&!(S in Y)&&a(m,S,E[S],null,h,g);for(const S in Y){if(ls(S))continue;const O=Y[S],$=E[S];O!==$&&S!=="value"&&a(m,S,$,O,h,g)}"value"in Y&&a(m,"value",E.value,Y.value,h)}},j=(m,E,Y,g,h,S,O,$,L)=>{const M=E.el=m?m.el:r(""),ee=E.anchor=m?m.anchor:r("");let{patchFlag:z,dynamicChildren:se,slotScopeIds:ne}=E;ne&&($=$?$.concat(ne):ne),m==null?(o(M,Y,g),o(ee,Y,g),he(E.children||[],Y,ee,h,S,O,$,L)):z>0&&z&64&&se&&m.dynamicChildren?(G(m.dynamicChildren,se,Y,h,S,O,$),(E.key!=null||h&&E===h.subTree)&&di(m,E,!0)):N(m,E,Y,ee,h,S,O,$,L)},Q=(m,E,Y,g,h,S,O,$,L)=>{E.slotScopeIds=$,m==null?E.shapeFlag&512?h.ctx.activate(E,Y,g,O,L):ae(E,Y,g,h,S,O,L):fe(m,E,L)},ae=(m,E,Y,g,h,S,O)=>{const $=m.component=gu(m,g,h);if(Go(m)&&($.ctx.renderer=re),Su($,!1,O),$.asyncDep){if(h&&h.registerDep($,te,O),!m.el){const L=$.subTree=Xe(xt);T(null,L,E,Y),m.placeholder=L.el}}else te($,m,E,Y,h,S,O)},fe=(m,E,Y)=>{const g=E.component=m.component;if(ru(m,E,Y))if(g.asyncDep&&!g.asyncResolved){q(g,E,Y);return}else g.next=E,g.update();else E.el=m.el,g.vnode=E},te=(m,E,Y,g,h,S,O)=>{const $=()=>{if(m.isMounted){let{next:z,bu:se,u:ne,parent:ge,vnode:Ae}=m;{const je=ui(m);if(je){z&&(z.el=Ae.el,q(m,z,O)),je.asyncDep.then(()=>{m.isUnmounted||$()});return}}let ye=z,Fe;Bt(m,!1),z?(z.el=Ae.el,q(m,z,O)):z=Ae,se&&$s(se),(Fe=z.props&&z.props.onVnodeBeforeUpdate)&&St(Fe,ge,z,Ae),Bt(m,!0);const Ve=mi(m),ke=m.subTree;m.subTree=Ve,v(ke,Ve,d(ke.el),C(ke),m,h,S),z.el=Ve.el,ye===null&&lu(m,Ve.el),ne&&ot(ne,h),(Fe=z.props&&z.props.onVnodeUpdated)&&ot(()=>St(Fe,ge,z,Ae),h)}else{let z;const{el:se,props:ne}=E,{bm:ge,m:Ae,parent:ye,root:Fe,type:Ve}=m,ke=ns(E);Bt(m,!1),ge&&$s(ge),!ke&&(z=ne&&ne.onVnodeBeforeMount)&&St(z,ye,E),Bt(m,!0);{Fe.ce&&Fe.ce._def.shadowRoot!==!1&&Fe.ce._injectChildStyle(Ve);const je=m.subTree=mi(m);v(null,je,Y,g,m,h,S),E.el=je.el}if(Ae&&ot(Ae,h),!ke&&(z=ne&&ne.onVnodeMounted)){const je=E;ot(()=>St(z,ye,je),h)}(E.shapeFlag&256||ye&&ns(ye.vnode)&&ye.vnode.shapeFlag&256)&&m.a&&ot(m.a,h),m.isMounted=!0,E=Y=g=null}};m.scope.on();const L=m.effect=new _o($);m.scope.off();const M=m.update=L.run.bind(L),ee=m.job=L.runIfDirty.bind(L);ee.i=m,ee.id=m.uid,L.scheduler=()=>$n(ee),Bt(m,!0),M()},q=(m,E,Y)=>{E.component=m;const g=m.vnode.props;m.vnode=E,m.next=null,Hd(m,E.props,g,Y),Jd(m,E.children,Y),ft(),Do(m),ht()},N=(m,E,Y,g,h,S,O,$,L=!1)=>{const M=m&&m.children,ee=m?m.shapeFlag:0,z=E.children,{patchFlag:se,shapeFlag:ne}=E;if(se>0){if(se&128){X(M,z,Y,g,h,S,O,$,L);return}else if(se&256){k(M,z,Y,g,h,S,O,$,L);return}}ne&8?(ee&16&&R(M,h,S),z!==M&&f(Y,z)):ee&16?ne&16?X(M,z,Y,g,h,S,O,$,L):R(M,h,S,!0):(ee&8&&f(Y,""),ne&16&&he(z,Y,g,h,S,O,$,L))},k=(m,E,Y,g,h,S,O,$,L)=>{m=m||qt,E=E||qt;const M=m.length,ee=E.length,z=Math.min(M,ee);let se;for(se=0;se<z;se++){const ne=E[se]=L?Yt(E[se]):Ct(E[se]);v(m[se],ne,Y,null,h,S,O,$,L)}M>ee?R(m,h,S,!0,!1,z):he(E,Y,g,h,S,O,$,L,z)},X=(m,E,Y,g,h,S,O,$,L)=>{let M=0;const ee=E.length;let z=m.length-1,se=ee-1;for(;M<=z&&M<=se;){const ne=m[M],ge=E[M]=L?Yt(E[M]):Ct(E[M]);if(bs(ne,ge))v(ne,ge,Y,null,h,S,O,$,L);else break;M++}for(;M<=z&&M<=se;){const ne=m[z],ge=E[se]=L?Yt(E[se]):Ct(E[se]);if(bs(ne,ge))v(ne,ge,Y,null,h,S,O,$,L);else break;z--,se--}if(M>z){if(M<=se){const ne=se+1,ge=ne<ee?E[ne].el:g;for(;M<=se;)v(null,E[M]=L?Yt(E[M]):Ct(E[M]),Y,ge,h,S,O,$,L),M++}}else if(M>se)for(;M<=z;)B(m[M],h,S,!0),M++;else{const ne=M,ge=M,Ae=new Map;for(M=ge;M<=se;M++){const De=E[M]=L?Yt(E[M]):Ct(E[M]);De.key!=null&&Ae.set(De.key,M)}let ye,Fe=0;const Ve=se-ge+1;let ke=!1,je=0;const We=new Array(Ve);for(M=0;M<Ve;M++)We[M]=0;for(M=ne;M<=z;M++){const De=m[M];if(Fe>=Ve){B(De,h,S,!0);continue}let Ke;if(De.key!=null)Ke=Ae.get(De.key);else for(ye=ge;ye<=se;ye++)if(We[ye-ge]===0&&bs(De,E[ye])){Ke=ye;break}Ke===void 0?B(De,h,S,!0):(We[Ke-ge]=M+1,Ke>=je?je=Ke:ke=!0,v(De,E[Ke],Y,null,h,S,O,$,L),Fe++)}const at=ke?Qd(We):qt;for(ye=at.length-1,M=Ve-1;M>=0;M--){const De=ge+M,Ke=E[De],It=E[De+1],Kt=De+1<ee?It.el||It.placeholder:g;We[M]===0?v(null,Ke,Y,Kt,h,S,O,$,L):ke&&(ye<0||M!==at[ye]?w(Ke,Y,Kt,2):ye--)}}},w=(m,E,Y,g,h=null)=>{const{el:S,type:O,transition:$,children:L,shapeFlag:M}=m;if(M&6){w(m.component.subTree,E,Y,g);return}if(M&128){m.suspense.move(E,Y,g);return}if(M&64){O.move(m,E,Y,re);return}if(O===Se){o(S,E,Y);for(let z=0;z<L.length;z++)w(L[z],E,Y,g);o(m.anchor,E,Y);return}if(O===Zs){I(m,E,Y);return}if(g!==2&&M&1&&$)if(g===0)$.beforeEnter(S),o(S,E,Y),ot(()=>$.enter(S),h);else{const{leave:z,delayLeave:se,afterLeave:ne}=$,ge=()=>{m.ctx.isUnmounted?n(S):o(S,E,Y)},Ae=()=>{S._isLeaving&&S[Ad](!0),z(S,()=>{ge(),ne&&ne()})};se?se(S,ge,Ae):Ae()}else o(S,E,Y)},B=(m,E,Y,g=!1,h=!1)=>{const{type:S,props:O,ref:$,children:L,dynamicChildren:M,shapeFlag:ee,patchFlag:z,dirs:se,cacheIndex:ne}=m;if(z===-2&&(h=!1),$!=null&&(ft(),gs($,null,Y,m,!0),ht()),ne!=null&&(E.renderCache[ne]=void 0),ee&256){E.ctx.deactivate(m);return}const ge=ee&1&&se,Ae=!ns(m);let ye;if(Ae&&(ye=O&&O.onVnodeBeforeUnmount)&&St(ye,E,m),ee&6)V(m.component,Y,g);else{if(ee&128){m.suspense.unmount(Y,g);return}ge&&Ht(m,null,E,"beforeUnmount"),ee&64?m.type.remove(m,E,Y,re,g):M&&!M.hasOnce&&(S!==Se||z>0&&z&64)?R(M,E,Y,!1,!0):(S===Se&&z&384||!h&&ee&16)&&R(L,E,Y),g&&W(m)}(Ae&&(ye=O&&O.onVnodeUnmounted)||ge)&&ot(()=>{ye&&St(ye,E,m),ge&&Ht(m,null,E,"unmounted")},Y)},W=m=>{const{type:E,el:Y,anchor:g,transition:h}=m;if(E===Se){ce(Y,g);return}if(E===Zs){b(m);return}const S=()=>{n(Y),h&&!h.persisted&&h.afterLeave&&h.afterLeave()};if(m.shapeFlag&1&&h&&!h.persisted){const{leave:O,delayLeave:$}=h,L=()=>O(Y,S);$?$(m.el,S,L):L()}else S()},ce=(m,E)=>{let Y;for(;m!==E;)Y=A(m),n(m),m=Y;n(E)},V=(m,E,Y)=>{const{bum:g,scope:h,job:S,subTree:O,um:$,m:L,a:M}=m;pi(L),pi(M),g&&$s(g),h.stop(),S&&(S.flags|=8,B(O,m,E,Y)),$&&ot($,E),ot(()=>{m.isUnmounted=!0},E)},R=(m,E,Y,g=!1,h=!1,S=0)=>{for(let O=S;O<m.length;O++)B(m[O],E,Y,g,h)},C=m=>{if(m.shapeFlag&6)return C(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const E=A(m.anchor||m.el),Y=E&&E[Sd];return Y?A(Y):E};let oe=!1;const de=(m,E,Y)=>{m==null?E._vnode&&B(E._vnode,null,null,!0):v(E._vnode||null,m,E,null,null,null,Y),E._vnode=m,oe||(oe=!0,Do(),Uo(),oe=!1)},re={p:v,um:B,m:w,r:W,mt:ae,mc:he,pc:N,pbc:G,n:C,o:e};return{render:de,hydrate:void 0,createApp:Fd(de)}}function Vn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Bt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function di(e,t,s=!1){const o=e.children,n=t.children;if(me(o)&&me(n))for(let a=0;a<o.length;a++){const l=o[a];let r=n[a];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=n[a]=Yt(n[a]),r.el=l.el),!s&&r.patchFlag!==-2&&di(l,r)),r.type===Qs&&r.patchFlag!==-1&&(r.el=l.el),r.type===xt&&!r.el&&(r.el=l.el)}}function Qd(e){const t=e.slice(),s=[0];let o,n,a,l,r;const p=e.length;for(o=0;o<p;o++){const _=e[o];if(_!==0){if(n=s[s.length-1],e[n]<_){t[o]=n,s.push(o);continue}for(a=0,l=s.length-1;a<l;)r=a+l>>1,e[s[r]]<_?a=r+1:l=r;_<e[s[a]]&&(a>0&&(t[o]=s[a-1]),s[a]=o)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=t[l];return s}function ui(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ui(t)}function pi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Zd=Symbol.for("v-scx"),eu=()=>Ws(Zd);function we(e,t,s){return _i(e,t,s)}function _i(e,t,s=xe){const{immediate:o,deep:n,flush:a,once:l}=s,r=ze({},s),p=t&&o||!t&&a!=="post";let _;if(Ts){if(a==="sync"){const P=eu();_=P.__watcherHandles||(P.__watcherHandles=[])}else if(!p){const P=()=>{};return P.stop=_t,P.resume=_t,P.pause=_t,P}}const f=et;r.call=(P,U,v)=>mt(P,f,U,v);let d=!1;a==="post"?r.scheduler=P=>{ot(P,f&&f.suspense)}:a!=="sync"&&(d=!0,r.scheduler=(P,U)=>{U?P():$n(P)}),r.augmentJob=P=>{t&&(P.flags|=4),d&&(P.flags|=2,f&&(P.id=f.uid,P.i=f))};const A=ud(e,t,r);return Ts&&(_?_.push(A):p&&A()),A}function tu(e,t,s){const o=this.proxy,n=Ue(e)?e.includes(".")?fi(o,e):()=>o[e]:e.bind(o,o);let a;Ee(t)?a=t:(a=t.handler,s=t);const l=ys(this),r=_i(n,a.bind(o),s);return l(),r}function fi(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const su=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${$t(t)}Modifiers`]||e[`${wt(t)}Modifiers`];function nu(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||xe;let n=s;const a=t.startsWith("update:"),l=a&&su(o,t.slice(7));l&&(l.trim&&(n=s.map(f=>Ue(f)?f.trim():f)),l.number&&(n=s.map(ws)));let r,p=o[r=mn(t)]||o[r=mn($t(t))];!p&&a&&(p=o[r=mn(wt(t))]),p&&mt(p,e,6,n);const _=o[r+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,mt(_,e,6,n)}}const ou=new WeakMap;function hi(e,t,s=!1){const o=s?ou:t.emitsCache,n=o.get(e);if(n!==void 0)return n;const a=e.emits;let l={},r=!1;if(!Ee(e)){const p=_=>{const f=hi(_,t,!0);f&&(r=!0,ze(l,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!r?(Ne(e)&&o.set(e,null),null):(me(a)?a.forEach(p=>l[p]=null):ze(l,a),Ne(e)&&o.set(e,l),l)}function zs(e,t){return!e||!Ms(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,wt(t))||Oe(e,t))}function bv(){}function mi(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[a],slots:l,attrs:r,emit:p,render:_,renderCache:f,props:d,data:A,setupState:P,ctx:U,inheritAttrs:v}=e,D=js(e);let T,J;try{if(s.shapeFlag&4){const b=n||o,H=b;T=Ct(_.call(H,b,f,d,P,A,U)),J=r}else{const b=t;T=Ct(b.length>1?b(d,{attrs:r,slots:l,emit:p}):b(d,null)),J=t.props?r:iu(r)}}catch(b){Es.length=0,Hs(b,e,1),T=Xe(xt)}let I=T;if(J&&v!==!1){const b=Object.keys(J),{shapeFlag:H}=I;b.length&&H&7&&(a&&b.some(_n)&&(J=au(J,a)),I=is(I,J,!1,!0))}return s.dirs&&(I=is(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(s.dirs):s.dirs),s.transition&&wn(I,s.transition),T=I,js(D),T}const iu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ms(s))&&((t||(t={}))[s]=e[s]);return t},au=(e,t)=>{const s={};for(const o in e)(!_n(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function ru(e,t,s){const{props:o,children:n,component:a}=e,{props:l,children:r,patchFlag:p}=t,_=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return o?gi(o,l,_):!!l;if(p&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const A=f[d];if(l[A]!==o[A]&&!zs(_,A))return!0}}}else return(n||r)&&(!r||!r.$stable)?!0:o===l?!1:o?l?gi(o,l,_):!0:!!l;return!1}function gi(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const a=o[n];if(t[a]!==e[a]&&!zs(s,a))return!0}return!1}function lu({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ci=e=>e.__isSuspense;function cu(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):Cd(e)}const Se=Symbol.for("v-fgt"),Qs=Symbol.for("v-txt"),xt=Symbol.for("v-cmt"),Zs=Symbol.for("v-stc"),Es=[];let it=null;function y(e=!1){Es.push(it=e?null:[])}function du(){Es.pop(),it=Es[Es.length-1]||null}let As=1;function Si(e,t=!1){As+=e,e<0&&it&&t&&(it.hasOnce=!0)}function Ei(e){return e.dynamicChildren=As>0?it||qt:null,du(),As>0&&it&&it.push(e),e}function x(e,t,s,o,n,a){return Ei(i(e,t,s,o,n,a,!0))}function lt(e,t,s,o,n){return Ei(Xe(e,t,s,o,n,!0))}function Gn(e){return e?e.__v_isVNode===!0:!1}function bs(e,t){return e.type===t.type&&e.key===t.key}const Ai=({key:e})=>e!=null?e:null,en=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||Be(e)||Ee(e)?{i:qe,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,n=null,a=e===Se?0:1,l=!1,r=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ai(t),ref:t&&en(t),scopeId:Yo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return r?(Hn(p,s),a&128&&e.normalize(p)):s&&(p.shapeFlag|=Ue(s)?8:16),As>0&&!l&&it&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&it.push(p),p}const Xe=uu;function uu(e,t=null,s=null,o=0,n=null,a=!1){if((!e||e===Id)&&(e=xt),Gn(e)){const r=is(e,t,!0);return s&&Hn(r,s),As>0&&!a&&it&&(r.shapeFlag&6?it[it.indexOf(e)]=r:it.push(r)),r.patchFlag=-2,r}if(Ou(e)&&(e=e.__vccOpts),t){t=pu(t);let{class:r,style:p}=t;r&&!Ue(r)&&(t.class=Pe(r)),Ne(p)&&(Mn(p)&&!me(p)&&(p=ze({},p)),t.style=Dt(p))}const l=Ue(e)?1:Ci(e)?128:Ed(e)?64:Ne(e)?4:Ee(e)?2:0;return i(e,t,s,o,n,l,a,!0)}function pu(e){return e?Mn(e)||ni(e)?ze({},e):e:null}function is(e,t,s=!1,o=!1){const{props:n,ref:a,patchFlag:l,children:r,transition:p}=e,_=t?fu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&Ai(_),ref:t&&t.ref?s&&a?me(a)?a.concat(en(t)):[a,en(t)]:en(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&is(e.ssContent),ssFallback:e.ssFallback&&is(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&o&&wn(f,p.clone(f)),f}function Ge(e=" ",t=0){return Xe(Qs,null,e,t)}function _u(e,t){const s=Xe(Zs,null,e);return s.staticCount=t,s}function be(e="",t=!1){return t?(y(),lt(xt,null,e)):Xe(xt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?Xe(xt):me(e)?Xe(Se,null,e.slice()):Gn(e)?Yt(e):Xe(Qs,null,String(e))}function Yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:is(e)}function Hn(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(me(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),Hn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ni(t)?t._ctx=qe:n===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ee(t)?(t={default:t,_ctx:qe},s=32):(t=String(t),o&64?(s=16,t=[Ge(t)]):s=8);e.children=t,e.shapeFlag|=s}function fu(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=Pe([t.class,o.class]));else if(n==="style")t.style=Dt([t.style,o.style]);else if(Ms(n)){const a=t[n],l=o[n];l&&a!==l&&!(me(a)&&a.includes(l))&&(t[n]=a?[].concat(a,l):l)}else n!==""&&(t[n]=o[n])}return t}function St(e,t,s,o=null){mt(e,t,7,[s,o])}const hu=ei();let mu=0;function gu(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||hu,a={uid:mu++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Uc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ii(o,n),emitsOptions:hi(o,n),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:o.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=nu.bind(null,a),e.ce&&e.ce(a),a}let et=null;const Cu=()=>et||qe;let tn,Bn;{const e=ks(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),a=>{n.length>1?n.forEach(l=>l(a)):n[0](a)}};tn=t("__VUE_INSTANCE_SETTERS__",s=>et=s),Bn=t("__VUE_SSR_SETTERS__",s=>Ts=s)}const ys=e=>{const t=et;return tn(e),e.scope.on(),()=>{e.scope.off(),tn(t)}},bi=()=>{et&&et.scope.off(),tn(null)};function yi(e){return e.vnode.shapeFlag&4}let Ts=!1;function Su(e,t=!1,s=!1){t&&Bn(t);const{props:o,children:n}=e.vnode,a=yi(e);Gd(e,o,a,t),Kd(e,n,s||t);const l=a?Eu(e,t):void 0;return t&&Bn(!1),l}function Eu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wd);const{setup:o}=s;if(o){ft();const n=e.setupContext=o.length>1?bu(e):null,a=ys(e),l=es(o,e,0,[e.props,n]),r=no(l);if(ht(),a(),(r||e.sp)&&!ns(e)&&Fo(e),r){if(l.then(bi,bi),t)return l.then(p=>{Ti(e,p)}).catch(p=>{Hs(p,e,0)});e.asyncDep=l}else Ti(e,l)}else vi(e)}function Ti(e,t,s){Ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ne(t)&&(e.setupState=Mo(t)),vi(e)}function vi(e,t,s){const o=e.type;e.render||(e.render=o.render||_t);{const n=ys(e);ft();try{kd(e)}finally{ht(),n()}}}const Au={get(e,t){return Je(e,"get",""),e[t]}};function bu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Au),slots:e.slots,emit:e.emit,expose:t}}function sn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Mo(od(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Cs)return Cs[s](e)},has(t,s){return s in t||s in Cs}})):e.proxy}const yu=/(?:^|[-_])\w/g,Tu=e=>e.replace(yu,t=>t.toUpperCase()).replace(/[-_]/g,"");function vu(e,t=!0){return Ee(e)?e.displayName||e.name:e.name||t&&e.__name}function Oi(e,t,s=!1){let o=vu(t);if(!o&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){const n=a=>{for(const l in a)if(a[l]===t)return l};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?Tu(o):s?"App":"Anonymous"}function Ou(e){return Ee(e)&&"__vccOpts"in e}const Ce=(e,t)=>cd(e,t,Ts),Ru="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jn;const Ri=typeof window!="undefined"&&window.trustedTypes;if(Ri)try{jn=Ri.createPolicy("vue",{createHTML:e=>e})}catch(e){}const xi=jn?e=>jn.createHTML(e):e=>e,xu="http://www.w3.org/2000/svg",Pu="http://www.w3.org/1998/Math/MathML",Pt=typeof document!="undefined"?document:null,Pi=Pt&&Pt.createElement("template"),Nu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?Pt.createElementNS(xu,e):t==="mathml"?Pt.createElementNS(Pu,e):s?Pt.createElement(e,{is:s}):Pt.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,a){const l=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Pi.innerHTML=xi(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const r=Pi.content;if(o==="svg"||o==="mathml"){const p=r.firstChild;for(;p.firstChild;)r.appendChild(p.firstChild);r.removeChild(p)}t.insertBefore(r,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Mu=Symbol("_vtc");function Iu(e,t,s){const o=e[Mu];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const nn=Symbol("_vod"),Ni=Symbol("_vsh"),$u={name:"show",beforeMount(e,{value:t},{transition:s}){e[nn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):vs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),vs(e,!0),o.enter(e)):o.leave(e,()=>{vs(e,!1)}):vs(e,t))},beforeUnmount(e,{value:t}){vs(e,t)}};function vs(e,t){e.style.display=t?e[nn]:"none",e[Ni]=!t}const wu=Symbol(""),ku=/(?:^|;)\s*display\s*:/;function Du(e,t,s){const o=e.style,n=Ue(s);let a=!1;if(s&&!n){if(t)if(Ue(t))for(const l of t.split(";")){const r=l.slice(0,l.indexOf(":")).trim();s[r]==null&&on(o,r,"")}else for(const l in t)s[l]==null&&on(o,l,"");for(const l in s)l==="display"&&(a=!0),on(o,l,s[l])}else if(n){if(t!==s){const l=o[wu];l&&(s+=";"+l),o.cssText=s,a=ku.test(s)}}else t&&e.removeAttribute("style");nn in e&&(e[nn]=a?o.display:"",e[Ni]&&(o.display="none"))}const Mi=/\s*!important$/;function on(e,t,s){if(me(s))s.forEach(o=>on(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=Uu(e,t);Mi.test(s)?e.setProperty(wt(o),s.replace(Mi,""),"important"):e[o]=s}}const Ii=["Webkit","Moz","ms"],Kn={};function Uu(e,t){const s=Kn[t];if(s)return s;let o=$t(t);if(o!=="filter"&&o in e)return Kn[t]=o;o=ao(o);for(let n=0;n<Ii.length;n++){const a=Ii[n]+o;if(a in e)return Kn[t]=a}return t}const $i="http://www.w3.org/1999/xlink";function wi(e,t,s,o,n,a=kc(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS($i,t.slice(6,t.length)):e.setAttributeNS($i,t,s):s==null||a&&!co(s)?e.removeAttribute(t):e.setAttribute(t,a?"":ct(s)?String(s):s)}function ki(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?xi(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const r=a==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(r!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=co(s):s==null&&r==="string"?(s="",l=!0):r==="number"&&(s=0,l=!0)}try{e[t]=s}catch(r){}l&&e.removeAttribute(n||t)}function Xt(e,t,s,o){e.addEventListener(t,s,o)}function Lu(e,t,s,o){e.removeEventListener(t,s,o)}const Di=Symbol("_vei");function Yu(e,t,s,o,n=null){const a=e[Di]||(e[Di]={}),l=a[t];if(o&&l)l.value=o;else{const[r,p]=Xu(t);if(o){const _=a[t]=Gu(o,n);Xt(e,r,_,p)}else l&&(Lu(e,r,l,p),a[t]=void 0)}}const Ui=/(?:Once|Passive|Capture)$/;function Xu(e){let t;if(Ui.test(e)){t={};let o;for(;o=e.match(Ui);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):wt(e.slice(2)),t]}let Jn=0;const Fu=Promise.resolve(),Vu=()=>Jn||(Fu.then(()=>Jn=0),Jn=Date.now());function Gu(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;mt(Hu(o,s.value),t,5,[o])};return s.value=e,s.attached=Vu(),s}function Hu(e,t){if(me(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const Li=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Bu=(e,t,s,o,n,a)=>{const l=n==="svg";t==="class"?Iu(e,o,l):t==="style"?Du(e,s,o):Ms(t)?_n(t)||Yu(e,t,s,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ju(e,t,o,l))?(ki(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&wi(e,t,o,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ue(o))?ki(e,$t(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),wi(e,t,o,l))};function ju(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Li(t)&&Ee(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Li(t)&&Ue(s)?!1:t in e}const as=e=>{const t=e.props["onUpdate:modelValue"]||!1;return me(t)?s=>$s(t,s):t};function Ku(e){e.target.composing=!0}function Yi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Nt=Symbol("_assign"),pe={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[Nt]=as(n);const a=o||n.props&&n.props.type==="number";Xt(e,t?"change":"input",l=>{if(l.target.composing)return;let r=e.value;s&&(r=r.trim()),a&&(r=ws(r)),e[Nt](r)}),s&&Xt(e,"change",()=>{e.value=e.value.trim()}),t||(Xt(e,"compositionstart",Ku),Xt(e,"compositionend",Yi),Xt(e,"change",Yi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:a}},l){if(e[Nt]=as(l),e.composing)return;const r=(a||e.type==="number")&&!/^0\d/.test(e.value)?ws(e.value):e.value,p=t==null?"":t;r!==p&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===p)||(e.value=p))}},Ft={deep:!0,created(e,t,s){e[Nt]=as(s),Xt(e,"change",()=>{const o=e._modelValue,n=Os(e),a=e.checked,l=e[Nt];if(me(o)){const r=gn(o,n),p=r!==-1;if(a&&!p)l(o.concat(n));else if(!a&&p){const _=[...o];_.splice(r,1),l(_)}}else if(zt(o)){const r=new Set(o);a?r.add(n):r.delete(n),l(r)}else l(Vi(e,a))})},mounted:Xi,beforeUpdate(e,t,s){e[Nt]=as(s),Xi(e,t,s)}};function Xi(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(me(t))n=gn(t,o.props.value)>-1;else if(zt(t))n=t.has(o.props.value);else{if(t===s)return;n=cs(t,Vi(e,!0))}e.checked!==n&&(e.checked=n)}const Mt={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=zt(t);Xt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?ws(Os(l)):Os(l));e[Nt](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,wo(()=>{e._assigning=!1})}),e[Nt]=as(o)},mounted(e,{value:t}){Fi(e,t)},beforeUpdate(e,t,s){e[Nt]=as(s)},updated(e,{value:t}){e._assigning||Fi(e,t)}};function Fi(e,t){const s=e.multiple,o=me(t);if(!(s&&!o&&!zt(t))){for(let n=0,a=e.options.length;n<a;n++){const l=e.options[n],r=Os(l);if(s)if(o){const p=typeof r;p==="string"||p==="number"?l.selected=t.some(_=>String(_)===String(r)):l.selected=gn(t,r)>-1}else l.selected=t.has(r);else if(cs(Os(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Os(e){return"_value"in e?e._value:e.value}function Vi(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Ju=["ctrl","shift","alt","meta"],qu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ju.some(s=>e[`${s}Key`]&&!t.includes(s))},Et=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...a)=>{for(let l=0;l<t.length;l++){const r=qu[t[l]];if(r&&r(n,t))return}return e(n,...a)})},Wu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const a=wt(n.key);if(t.some(l=>l===a||Wu[l]===a))return e(n)})},zu=ze({patchProp:Bu},Nu);let Gi;function Qu(){return Gi||(Gi=qd(zu))}const Zu=(...e)=>{const t=Qu().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=tp(o);if(!n)return;const a=t._component;!Ee(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,ep(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function ep(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function tp(e){return Ue(e)?document.querySelector(e):e}const At=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},sp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},np={key:0,class:"nxp-ec-admin-error"},op={class:"nxp-ec-admin-error__title"},ip={class:"nxp-ec-admin-error__body"};function ap(e,t,s,o,n,a){return y(),x("div",null,[n.error?(y(),x("div",np,[i("h2",op,u(a.fallbackTitle),1),i("p",ip,u(a.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>a.reload&&a.reload(...l))},u(a.reloadLabel),1)])):$d(e.$slots,"default",{key:1})])}const rp=At(sp,[["render",ap]]),lp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},cp={class:"nxp-ec-admin-panel__header"},dp={class:"nxp-ec-admin-panel__title"},up={class:"nxp-ec-admin-panel__lead"},pp={class:"nxp-ec-admin-panel__actions"},_p=["disabled"],fp={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hp={key:1,class:"nxp-ec-dashboard"},mp={class:"nxp-ec-dashboard__metrics"},gp={class:"nxp-ec-dashboard__card"},Cp={class:"nxp-ec-dashboard__value"},Sp={class:"nxp-ec-dashboard__hint"},Ep={class:"nxp-ec-dashboard__card"},Ap={class:"nxp-ec-dashboard__value"},bp={class:"nxp-ec-dashboard__hint"},yp={class:"nxp-ec-dashboard__card"},Tp={class:"nxp-ec-dashboard__value"},vp={class:"nxp-ec-dashboard__hint"},Op={class:"nxp-ec-dashboard__card"},Rp={class:"nxp-ec-dashboard__value"},xp={class:"nxp-ec-dashboard__hint"},Pp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Np={class:"nxp-ec-dashboard__checklist-header"},Mp={id:"dashboard-checklist-heading"},Ip={class:"nxp-ec-dashboard__checklist-progress"},$p={class:"nxp-ec-dashboard__checklist-list"},wp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},kp={key:0,class:"fa-solid fa-circle-check"},Dp={key:1,class:"fa-regular fa-circle"},Up={class:"nxp-ec-dashboard__checklist-label"},Lp=["href","title"],Yp={class:"nxp-ec-sr-only"},Xp=At({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,o=s.translate,n=s.state,a=Ce(()=>{var d;const f=(d=n.summary)==null?void 0:d.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),l=(f=0)=>{const d=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(d)}catch(A){return`${a.value} ${d.toFixed(2)}`}},r=Ce(()=>Array.isArray(n.checklist)?n.checklist:[]),p=Ce(()=>r.value.filter(f=>f.completed).length),_=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,d)=>(y(),x("section",lp,[i("header",cp,[i("div",null,[i("h2",dp,u(c(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",up,u(c(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",pp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:d[0]||(d[0]=A=>f.$emit("refresh")),disabled:c(n).loading},u(c(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,_p)])]),c(n).error?(y(),x("div",fp,u(c(n).error),1)):(y(),x("div",hp,[i("div",mp,[i("article",gp,[i("h3",null,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Cp,u(c(n).summary.products.active),1),i("p",Sp,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(c(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Ep,[i("h3",null,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",Ap,u(l(c(n).summary.orders.revenue_today)),1),i("p",bp,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(c(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",yp,[i("h3",null,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",Tp,u(c(n).summary.customers.total),1),i("p",vp,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Op,[i("h3",null,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Rp,u(l(c(n).summary.orders.revenue_month)),1),i("p",xp,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),i("section",Pp,[i("header",Np,[i("h3",Mp,u(c(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Ip,u(p.value)+" / "+u(r.value.length),1)]),i("ul",$p,[(y(!0),x(Se,null,Te(r.value,A=>(y(),x("li",{key:A.id,class:Pe({"is-complete":A.completed})},[i("span",wp,[A.completed?(y(),x("span",kp)):(y(),x("span",Dp))]),i("span",Up,u(c(o)(A.label,_(A.label))),1),A.link?(y(),x("a",{key:0,href:A.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:c(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[d[1]||(d[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",Yp,u(c(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Lp)):be("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-c78e71ec"]]),Fp={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Vp={id:"nxp-ec-products-caption",class:"visually-hidden"},Gp={scope:"col"},Hp={scope:"col"},Bp={scope:"col"},jp={scope:"col"},Kp={scope:"col"},Jp={scope:"col"},qp={scope:"col"},Wp={scope:"col"},zp={scope:"col",class:"nxp-ec-admin-table__actions"},Qp={key:0},Zp={colspan:"8",class:"nxp-ec-admin-table__empty"},e_={class:"nxp-ec-products-table__title"},t_={class:"nxp-ec-products-table__slug"},s_={key:0,class:"nxp-ec-products-table__badge"},n_={class:"nxp-ec-status nxp-ec-status--featured"},o_={key:0},i_={key:1},a_={key:0},r_={key:1},l_=["disabled","aria-pressed","title","aria-label","onClick"],c_={class:"nxp-ec-sr-only"},d_={class:"nxp-ec-admin-table__actions"},u_=["onClick","title","aria-label"],p_={class:"nxp-ec-sr-only"},__=["onClick","title","aria-label"],f_={class:"nxp-ec-sr-only"},h_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,o=Ce(()=>(t.baseCurrency||"USD").toUpperCase()),n=p=>{var P,U,v,D;const _=(U=(P=p==null?void 0:p.summary)==null?void 0:P.variants)!=null?U:{};if(_.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const f=Number.isFinite(_.price_min_cents)?_.price_min_cents:null,d=Number.isFinite(_.price_max_cents)?_.price_max_cents:null;if(f===null)return"";const A=_.currency||((D=(v=p==null?void 0:p.variants)==null?void 0:v[0])==null?void 0:D.currency)||o.value;return d===null||d===f?r(f,A):`${r(f,A)}  ${r(d,A)}`},a=p=>{var d,A;const _=(A=(d=p==null?void 0:p.summary)==null?void 0:d.variants)!=null?A:{},f=Number.isFinite(_.count)?_.count:Array.isArray(p==null?void 0:p.variants)?p.variants.length:0;return f===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(f)])},l=p=>{if(!Array.isArray(p)||!p.length)return"";const _=p.map(A=>(A==null?void 0:A.title)||(A==null?void 0:A.slug)).filter(A=>!!A);if(!_.length)return"";if(_.length<=3)return _.join(", ");const f=_.slice(0,3).join(", "),d=_.length-3;return`${f} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(d)])}`},r=(p,_)=>`${(p/100).toFixed(2)} ${_}`;return(p,_)=>(y(),x("table",Fp,[i("caption",Vp,u(c(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",Gp,u(c(s)("JGRID_HEADING_ID","ID")),1),i("th",Hp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",Bp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",jp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",Kp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",Jp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",qp,u(c(s)("JSTATUS","Status")),1),i("th",Wp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",zp,u(c(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?be("",!0):(y(),x("tr",Qp,[i("td",Zp,u(c(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(y(!0),x(Se,null,Te(e.items,f=>{var d,A,P,U,v,D,T,J,I,b,H,le;return y(),x("tr",{key:f.id},[i("td",null,u(f.id),1),i("td",null,[i("div",e_,u(f.title),1),i("div",t_,u(f.slug),1),f.featured?(y(),x("div",s_,[i("span",n_,[_[0]||(_[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Ge(" "+u(c(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):be("",!0)]),i("td",null,[n(f)?(y(),x("span",o_,u(n(f)),1)):(y(),x("span",i_,u(c(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))]),i("td",null,u(a(f)),1),i("td",null,[i("span",{class:Pe(["nxp-ec-status",(A=(d=f.summary)==null?void 0:d.variants)!=null&&A.stock_zero?"nxp-ec-status--danger":(U=(P=f.summary)==null?void 0:P.variants)!=null&&U.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(D=(v=f.summary)==null?void 0:v.variants)!=null&&D.stock_zero||((J=(T=f.summary)==null?void 0:T.variants)==null?void 0:J.stock_total)===0?(y(),x(Se,{key:0},[Ge(u(c(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(y(),x(Se,{key:1},[Ge(u(c(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((H=(b=(I=f.summary)==null?void 0:I.variants)==null?void 0:b.stock_total)!=null?H:0)])),1)],64))],2)]),i("td",null,[(le=f.categories)!=null&&le.length?(y(),x("span",a_,u(l(f.categories)),1)):(y(),x("span",r_,u(c(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))]),i("td",null,[i("button",{type:"button",class:Pe(["nxp-ec-status","nxp-ec-status-button",f.active?"nxp-ec-status--active":"nxp-ec-status--inactive"]),disabled:e.saving,"aria-pressed":f.active?"true":"false",title:f.active?c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_DEACTIVATE","Deactivate product",[],"productsStatusDeactivate"):c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_ACTIVATE","Activate product",[],"productsStatusActivate"),"aria-label":f.active?c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_DEACTIVATE","Deactivate product",[],"productsStatusDeactivate"):c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_ACTIVATE","Activate product",[],"productsStatusActivate"),onClick:_e=>p.$emit("toggle-active",f)},[i("i",{class:Pe(f.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ge(" "+u(f.active?c(s)("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):c(s)("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"))+" ",1),i("span",c_,u(c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,l_)]),i("td",null,u(f.modified||f.created),1),i("td",d_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:_e=>p.$emit("edit",f),title:c(s)("JGLOBAL_EDIT","Edit"),"aria-label":c(s)("JGLOBAL_EDIT","Edit")},[_[1]||(_[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",p_,u(c(s)("JGLOBAL_EDIT","Edit")),1)],8,u_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:_e=>p.$emit("delete",f),title:c(s)("JTRASH","Delete"),"aria-label":c(s)("JTRASH","Delete")},[_[2]||(_[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",f_,u(c(s)("JTRASH","Delete")),1)],8,__)])])}),128))])]))}},m_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},g_={class:"nxp-ec-modal__dialog"},C_={class:"nxp-ec-modal__header"},S_={class:"nxp-ec-modal__title"},E_={class:"nxp-ec-modal__header-actions"},A_=["disabled","title","aria-label"],b_={class:"nxp-ec-sr-only"},y_=["disabled","title","aria-label"],T_={class:"nxp-ec-sr-only"},v_=["aria-label"],O_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},R_={class:"nxp-ec-form-field"},x_={class:"nxp-ec-form-label",for:"product-title"},P_={class:"nxp-ec-form-field"},N_={class:"nxp-ec-form-label",for:"product-slug"},M_=["placeholder"],I_={class:"nxp-ec-form-field"},$_={class:"nxp-ec-form-label",for:"product-short-desc"},w_={class:"nxp-ec-form-field"},k_={class:"nxp-ec-form-label",for:"product-long-desc"},D_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},U_={class:"nxp-ec-form-label",for:"product-active"},L_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Y_={class:"nxp-ec-form-label",for:"product-featured"},X_={class:"nxp-ec-form-help"},F_={class:"nxp-ec-form-field"},V_={class:"nxp-ec-form-label",for:"product-images"},G_={id:"product-images",class:"nxp-ec-image-list"},H_=["id","onUpdate:modelValue","placeholder"],B_={class:"nxp-ec-image-row__actions"},j_=["onClick"],K_=["onClick","disabled"],J_=["onClick","disabled"],q_=["onClick","aria-label"],W_={class:"nxp-ec-form-help"},z_={class:"nxp-ec-form-field"},Q_={class:"nxp-ec-form-label",for:"product-category-select"},Z_=["value"],ef={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},tf=["onClick","aria-label"],sf={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},nf=["onKeydown","placeholder"],of={class:"nxp-ec-form-help"},af={class:"nxp-ec-variant-section"},rf={class:"nxp-ec-variant-section__header"},lf={class:"nxp-ec-variant-section__title"},cf={class:"nxp-ec-form-help"},df={class:"nxp-ec-variant-card__header"},uf={class:"nxp-ec-variant-card__title"},pf=["onClick"],_f=["onClick","disabled"],ff={class:"nxp-ec-variant-card__grid"},hf={class:"nxp-ec-form-field"},mf=["for"],gf=["id","onUpdate:modelValue"],Cf={class:"nxp-ec-form-field"},Sf=["for"],Ef=["id","onUpdate:modelValue","onBlur"],Af={class:"nxp-ec-form-field"},bf=["for"],yf=["id","onUpdate:modelValue"],Tf={class:"nxp-ec-form-help"},vf={class:"nxp-ec-form-field"},Of=["for"],Rf=["id","onUpdate:modelValue"],xf={class:"nxp-ec-form-field"},Pf=["for"],Nf=["id","onUpdate:modelValue"],Mf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},If=["for"],$f=["id","onUpdate:modelValue"],wf={class:"nxp-ec-variant-options"},kf={class:"nxp-ec-variant-options__header"},Df={class:"nxp-ec-variant-options__title"},Uf=["onClick"],Lf={class:"nxp-ec-form-help"},Yf=["id","onUpdate:modelValue","placeholder"],Xf=["id","onUpdate:modelValue","placeholder"],Ff=["onClick","aria-label"],Vf={class:"nxp-ec-modal__actions"},Gf=["disabled"],Hf=["disabled"],Hi="product-editor-form",Bf=At({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),l=g=>{var h,S,O,$,L,M,ee,z;if(g==null)return null;if(typeof g=="string"){const se=g.trim();return se===""?null:{id:0,title:se,slug:""}}if(typeof g=="object"){const se=Number.parseInt((S=(h=g.id)!=null?h:g.value)!=null?S:0,10)||0,ne=(ee=(M=(L=($=(O=g.title)!=null?O:g.name)!=null?$:g.text)!=null?L:g.label)!=null?M:g.slug)!=null?ee:"",ge=String(ne!=null?ne:"").trim(),Ae=String((z=g.slug)!=null?z:"").trim();return se<=0&&ge===""?null:{id:se>0?se:0,title:ge!==""?ge:Ae,slug:Ae}}return null},r=$e({title:"",slug:"",short_desc:"",long_desc:"",active:!0,featured:!1,images:[],categories:[],variants:[]}),p=Ye(""),_=Ye(!1),f=Ce(()=>{const h=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(l).filter(O=>O&&O.id>0&&O.title!==""),S=new Map;return h.forEach(O=>{S.set(O.id,O)}),r.categories.forEach(O=>{var $;O.id>0&&O.title&&!S.has(O.id)&&S.set(O.id,{id:O.id,title:O.title,slug:($=O.slug)!=null?$:""})}),Array.from(S.values()).sort((O,$)=>O.title.localeCompare($.title))}),d=Ce(()=>{const g=new Map;return f.value.forEach(h=>{var S;g.set(h.id,{title:h.title,slug:(S=h.slug)!=null?S:""})}),g}),A=Ce({get:()=>r.categories.filter(g=>g.id>0).map(g=>g.id),set:g=>{const h=Array.isArray(g)?g:[],S=Array.from(new Set(h.map(L=>Number.parseInt(L!=null?L:0,10)||0).filter(L=>L>0))),O=r.categories.filter(L=>!(L.id>0)),$=S.map(L=>{const M=d.value.get(L),ee=r.categories.find(ne=>ne.id===L),z=(M==null?void 0:M.title)||(ee==null?void 0:ee.title)||"",se=(M==null?void 0:M.slug)||(ee==null?void 0:ee.slug)||"";return z===""?null:{id:L,title:z,slug:se}}).filter(L=>L!==null);r.categories.splice(0,r.categories.length,...$,...O)}}),P=Ce(()=>s.product&&s.product.id?"edit":"create"),U=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),v=()=>({name:"",value:""}),D=g=>g?g.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",T=()=>{_.value=!0,r.slug=D(r.slug)},J=g=>{const S=(Array.isArray(g)?g:[]).map(l).filter(L=>L&&(L.id>0||L.title!=="")),O=new Set,$=[];S.forEach(L=>{const M=L.id>0?`id:${L.id}`:`title:${L.title.toLowerCase()}`;O.has(M)||(O.add(M),$.push(L))}),r.categories.splice(0,r.categories.length,...$)},I=g=>{r.variants.splice(0,r.variants.length,...g)},b=g=>{r.images.splice(0,r.images.length,...g)},H=g=>Array.isArray(g)?g.map(h=>{var S,O,$;return{name:String((O=(S=h==null?void 0:h.name)!=null?S:h==null?void 0:h.key)!=null?O:"").trim(),value:String(($=h==null?void 0:h.value)!=null?$:"").trim()}}):g&&typeof g=="object"?Object.entries(g).map(([h,S])=>({name:String(h!=null?h:"").trim(),value:String(S!=null?S:"").trim()})):[],le=g=>!Array.isArray(g)||g.length===0?[U()]:g.map(h=>{var S,O,$,L;return{id:Number.parseInt((S=h==null?void 0:h.id)!=null?S:0,10)||0,sku:String((O=h==null?void 0:h.sku)!=null?O:"").trim(),price:(h==null?void 0:h.price)!=null?String(h.price):Number.isFinite(h==null?void 0:h.price_cents)?(h.price_cents/100).toFixed(2):"",currency:String(($=h==null?void 0:h.currency)!=null?$:a.value).toUpperCase(),stock:Number.parseInt((L=h==null?void 0:h.stock)!=null?L:0,10)||0,weight:(h==null?void 0:h.weight)!=null?String(h.weight):"",active:(h==null?void 0:h.active)!==void 0?!!h.active:!0,options:H(h==null?void 0:h.options)}}),_e=g=>{var $,L,M,ee;const h=g?JSON.parse(JSON.stringify(g)):{};r.title=($=h.title)!=null?$:"",r.slug=(L=h.slug)!=null?L:"",r.short_desc=(M=h.short_desc)!=null?M:"",r.long_desc=(ee=h.long_desc)!=null?ee:"",r.active=h.active!==void 0?!!h.active:!0,r.featured=h.featured!==void 0?!!h.featured:!1;const S=Array.isArray(h.images)?h.images.map(z=>String(z!=null?z:"").trim()).filter(Boolean):[];b(S);const O=Array.isArray(h.categories)?h.categories:[];J(O),p.value="",I(le(h.variants)),_.value=!!r.slug};we(()=>s.product,g=>{_e(g)},{immediate:!0}),we(()=>r.title,g=>{_.value||(r.slug=D(g))}),we(a,g=>{r.variants.forEach(h=>{h.currency=g})});const he=()=>{const g=p.value.trim();if(!g)return;const h=g.toLowerCase(),S=r.categories.slice();S.some($=>$.title.toLowerCase()===h)||(S.push({id:0,title:g,slug:""}),r.categories.splice(0,r.categories.length,...S)),p.value=""},Z=g=>{if(g<0||g>=r.categories.length)return;const h=r.categories.slice();h.splice(g,1),r.categories.splice(0,r.categories.length,...h)},G=()=>{r.variants.push(U())},F=g=>{r.variants.length<=1||r.variants.splice(g,1)},j=g=>{const h=r.variants[g];h&&(Array.isArray(h.options)||(h.options=[]),h.options.push(v()))},Q=(g,h)=>{const S=r.variants[g];!S||!Array.isArray(S.options)||S.options.splice(h,1)},ae=(g,h)=>`${g.id||"new"}-${h}`,fe=g=>{const h=r.variants[g];if(!h)return;const S=JSON.parse(JSON.stringify(h));S.id=0,S.sku=[S.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),S.active=!0,r.variants.splice(g+1,0,S)},te=g=>{const h=r.variants[g];if(!h)return;const S=Number.parseFloat(h.price);Number.isNaN(S)||(h.price=S.toFixed(2))};let q=null,N=null,k=null,X=null,w="";const B=()=>{Array.isArray(r.images)||(r.images=[])},W=g=>{var $,L,M;if(!g)return"";let h=String(g).trim();if(h==="")return"";try{const ee=(M=(L=($=window.Joomla)==null?void 0:$.getOptions)==null?void 0:L.call($,"system.paths",{}))!=null?M:{},z=ee.rootFull||window.location.origin,se=ee.root||"/";h.startsWith(z)&&(h=h.substring(z.length)),h.startsWith(se)&&(h=h.substring(se.length))}catch(ee){}const S=h.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);S&&S[1]&&(h=S[1]);const O=h.indexOf("#joomlaImage://");return O!==-1&&(h=h.substring(0,O)),h.trim()},ce=(g,{keepIndex:h=!1,appendWhenNoIndex:S=!1,targetIndex:O=null}={})=>{const $=W(g);if($==="")return!1;B();const L=O!==null&&O>=0?O:X;return L==null||Number.isNaN(L)?S?(r.images.push($),h||(X=null,w=""),!0):!1:(L>=r.images.length?r.images.push($):r.images[L]=$,w=h?$:"",h||(X=null,w=""),!0)},V=()=>{B(),r.images.push("")},R=g=>{B(),r.images.splice(g,1)},C=(g,h)=>{B();const S=r.images[g];if(S===void 0)return;const O=g+h;O<0||O>=r.images.length||(r.images.splice(g,1),r.images.splice(O,0,S))},oe=g=>{var O;B();const h=(O=r.images[g])!=null?O:"";if(typeof window=="undefined")return;const S=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),h);ce(S!=null?S:"",{targetIndex:g})},de=()=>{var L,M,ee,z,se,ne;const g=(s.mediaModalUrl||"").trim();if(g!=="")return g;const h=(ee=(M=(L=window.Joomla)==null?void 0:L.getOptions)==null?void 0:M.call(L,"media-picker",{}))!=null?ee:{};if(h.modalUrl)return h.modalUrl;const S=(ne=(se=(z=window.Joomla)==null?void 0:z.getOptions)==null?void 0:se.call(z,"system.paths",{}))!=null?ne:{},O=S.rootFull||S.root||"";return(O?O.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},re=async()=>{var ee,z,se,ne,ge,Ae,ye,Fe,Ve;if(q)return q;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(ke){return null}const g=(se=(z=(ee=window.Joomla)==null?void 0:ee.getOptions)==null?void 0:z.call(ee,"system.paths",{}))!=null?se:{},h=g.rootFull||g.root||"",S=(Ae=(ge=(ne=window.Joomla)==null?void 0:ne.getOptions)==null?void 0:ge.call(ne,"com_media",{}))!=null?Ae:{},O=(S==null?void 0:S.file_path)||"images",$=(Ve=(Fe=(ye=window.Joomla)==null?void 0:ye.getOptions)==null?void 0:Fe.call(ye,"media-picker",{}))!=null?Ve:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},M=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return N=document.createElement("div"),N.className="nxp-ec-media-picker-host",N.style.display="none",N.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${h.replace(/"/g,"&quot;")}"
            root-folder="${O.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${M}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify($).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(N),q=N.querySelector("joomla-field-media"),k=N.querySelector(".nxp-ec-media-field__input"),q.addEventListener("change",ke=>{var at,De,Ke,It,Kt,Jt;const je=(Ke=(De=(at=ke.detail)==null?void 0:at.value)!=null?De:k==null?void 0:k.value)!=null?Ke:"";let We=W(je);if(We===""&&w!==""&&(We=w),We===""&&((It=window.Joomla)!=null&&It.selectedMediaFile)){const zn=W((Kt=window.Joomla.selectedMediaFile.url)!=null?Kt:""),Qn=W((Jt=window.Joomla.selectedMediaFile.path)!=null?Jt:"");We=zn||Qn}ce(We)}),q.addEventListener("joomla-dialog:close",()=>{X=null,w=""}),k&&k.addEventListener("change",()=>{var je,We,at,De;if(X===null)return;let ke=W((je=k.value)!=null?je:"");if(ke===""&&w!==""&&(ke=w),ke===""&&((We=window.Joomla)!=null&&We.selectedMediaFile)){const Ke=W((at=window.Joomla.selectedMediaFile.url)!=null?at:""),It=W((De=window.Joomla.selectedMediaFile.path)!=null?De:"");ke=Ke||It}ke!==""&&ce(ke)}),q},Ie=g=>{var L,M;const h=g==null?void 0:g.detail;if(!h||typeof h!="object")return;const S=W((L=h.path)!=null?L:""),$=W((M=h.url)!=null?M:"")||S;$===""||X===null||(w=$,ce($,{keepIndex:!0}))};nt(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",Ie)});const m=async g=>{var O;B();const h=await re();if(!h||typeof h.show!="function"){oe(g);return}X=g,h.setAttribute("url",de());const S=(O=r.images[g])!=null?O:"";typeof h.setValue=="function"?h.setValue(S):k&&(k.value=S);try{h.show()}catch($){X=null,w="",oe(g)}};Bo(()=>{N&&N.parentNode&&N.parentNode.removeChild(N),q=null,N=null,k=null,X=null,w="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",Ie)});const E=()=>{var $,L;B();const g=Array.from(new Set(r.images.map(M=>String(M!=null?M:"").trim()).filter(M=>M!==""))),h=r.categories.map(M=>{var ne,ge,Ae;const ee=Number.parseInt((ne=M==null?void 0:M.id)!=null?ne:0,10)||0,z=String((ge=M==null?void 0:M.title)!=null?ge:"").trim(),se=String((Ae=M==null?void 0:M.slug)!=null?Ae:"").trim();return ee>0?{id:ee,title:z,slug:se}:z===""?null:{id:0,title:z,slug:""}}).filter(M=>M!==null),S=r.variants.map(M=>{const ee=Array.isArray(M.options)?M.options.map(ne=>{var ge,Ae;return{name:String((ge=ne==null?void 0:ne.name)!=null?ge:"").trim(),value:String((Ae=ne==null?void 0:ne.value)!=null?Ae:"").trim()}}).filter(ne=>ne.name!==""&&ne.value!==""):[],z=Number.isFinite(Number(M.stock))?Math.max(0,parseInt(M.stock,10)):0,se=M.weight!==null&&M.weight!==""?String(M.weight).trim():null;return{id:M.id||0,sku:M.sku.trim(),price:M.price!==null&&M.price!==void 0?String(M.price).trim():"",currency:M.currency?String(M.currency).trim().toUpperCase():a.value,stock:z,weight:se,active:!!M.active,options:ee}}),O={title:r.title.trim(),slug:r.slug.trim(),short_desc:($=r.short_desc)!=null?$:"",long_desc:(L=r.long_desc)!=null?L:"",active:!!r.active,featured:!!r.featured,images:g,categories:h,variants:S};o("submit",O)},Y=()=>{o("cancel")};return we(()=>s.saving,(g,h)=>{h&&!g&&s.errors.length===0&&P.value==="create"&&(_e(null),p.value="",_.value=!1)}),(g,h)=>e.open?(y(),x("div",m_,[h[10]||(h[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",g_,[i("header",C_,[i("h2",S_,u(P.value==="edit"?c(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):c(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",E_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:Y,disabled:e.saving,title:c(n)("JCANCEL","Cancel"),"aria-label":c(n)("JCANCEL","Cancel")},[h[8]||(h[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",b_,u(c(n)("JCANCEL","Cancel")),1)],8,A_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:Hi,title:e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save"),"aria-label":e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save")},[i("i",{class:Pe(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",T_,u(e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save")),1)],8,y_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:Y,"aria-label":c(n)("JCLOSE","Close")},"  ",8,v_)])]),i("form",{id:Hi,class:"nxp-ec-form",onSubmit:Et(E,["prevent"])},[e.errors.length?(y(),x("div",O_,[(y(!0),x(Se,null,Te(e.errors,(S,O)=>(y(),x("p",{key:O},u(S),1))),128))])):be("",!0),i("div",R_,[i("label",x_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),ie(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[0]||(h[0]=S=>r.title=S),required:""},null,512),[[pe,r.title,void 0,{trim:!0}]])]),i("div",P_,[i("label",N_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),ie(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[1]||(h[1]=S=>r.slug=S),onInput:T,placeholder:c(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,M_),[[pe,r.slug,void 0,{trim:!0}]])]),i("div",I_,[i("label",$_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),ie(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":h[2]||(h[2]=S=>r.short_desc=S)},null,512),[[pe,r.short_desc]])]),i("div",w_,[i("label",k_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),ie(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":h[3]||(h[3]=S=>r.long_desc=S)},null,512),[[pe,r.long_desc]])]),i("div",D_,[i("label",U_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_ACTIVE","Published")),1),ie(i("input",{id:"product-active",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":h[4]||(h[4]=S=>r.active=S)},null,512),[[Ft,r.active]])]),i("div",L_,[i("label",Y_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),ie(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":h[5]||(h[5]=S=>r.featured=S)},null,512),[[Ft,r.featured]]),i("p",X_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",F_,[i("label",V_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",G_,[(y(!0),x(Se,null,Te(r.images,(S,O)=>(y(),x("div",{key:`product-image-${O}`,class:"nxp-ec-image-row"},[ie(i("input",{id:`product-image-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$=>r.images[O]=$,placeholder:c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,H_),[[pe,r.images[O],void 0,{trim:!0}]]),i("div",B_,[i("button",{type:"button",class:"nxp-ec-btn",onClick:$=>m(O)},[h[9]||(h[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Ge(" "+u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,j_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>C(O,-1),disabled:O===0},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,K_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>C(O,1),disabled:O===r.images.length-1},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,J_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:$=>R(O),"aria-label":c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),9,q_)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:V},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",W_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",z_,[i("label",Q_,u(c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),ie(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":h[6]||(h[6]=S=>A.value=S)},[(y(!0),x(Se,null,Te(f.value,S=>(y(),x("option",{key:S.id,value:S.id},u(S.title),9,Z_))),128))],512),[[Mt,A.value]]),i("div",ef,[(y(!0),x(Se,null,Te(r.categories,(S,O)=>(y(),x("span",{key:`selected-category-${O}`,class:"nxp-ec-chip"},[Ge(u(S.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:$=>Z(O),"aria-label":c(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,tf)]))),128))]),i("div",sf,[ie(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":h[7]||(h[7]=S=>p.value=S),onKeydown:jt(Et(he,["prevent"]),["enter"]),placeholder:c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,nf),[[pe,p.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:he},u(c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",of,u(c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",af,[i("header",rf,[i("h3",lf,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:G},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",cf,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price and currency.")),1),(y(!0),x(Se,null,Te(r.variants,(S,O)=>(y(),x("article",{key:ae(S,O),class:"nxp-ec-variant-card"},[i("header",df,[i("h4",uf,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(O+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>fe(O)},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,pf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:$=>F(O),disabled:r.variants.length<=1},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,_f)]),i("div",ff,[i("div",hf,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${O}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,mf),ie(i("input",{id:`variant-sku-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$=>S.sku=$,required:""},null,8,gf),[[pe,S.sku,void 0,{trim:!0}]])]),i("div",Cf,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${O}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Sf),ie(i("input",{id:`variant-price-${O}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$=>S.price=$,onBlur:$=>te(O),required:""},null,40,Ef),[[pe,S.price,void 0,{trim:!0}]])]),i("div",Af,[i("label",{class:"nxp-ec-form-label",for:`variant-currency-${O}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY","Currency")),9,bf),ie(i("input",{id:`variant-currency-${O}`,class:"nxp-ec-form-input",type:"text",maxlength:"3","onUpdate:modelValue":$=>S.currency=$,readonly:"","aria-readonly":"true"},null,8,yf),[[pe,S.currency,void 0,{trim:!0}]]),i("p",Tf,u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_HELP","Variants inherit the store base currency (%s).",[a.value])),1)]),i("div",vf,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${O}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Of),ie(i("input",{id:`variant-stock-${O}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":$=>S.stock=$},null,8,Rf),[[pe,S.stock,void 0,{number:!0}]])]),i("div",xf,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${O}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,Pf),ie(i("input",{id:`variant-weight-${O}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":$=>S.weight=$},null,8,Nf),[[pe,S.weight,void 0,{trim:!0}]])]),i("div",Mf,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${O}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,If),ie(i("input",{id:`variant-active-${O}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":$=>S.active=$},null,8,$f),[[Ft,S.active]])])]),i("section",wf,[i("header",kf,[i("h5",Df,u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>j(O)},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,Uf)]),i("p",Lf,u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(y(!0),x(Se,null,Te(S.options,($,L)=>(y(),x("div",{key:`variant-${O}-option-${L}`,class:"nxp-ec-variant-option-row"},[ie(i("input",{id:`variant-${O}-option-name-${L}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M=>$.name=M,placeholder:c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,Yf),[[pe,$.name,void 0,{trim:!0}]]),ie(i("input",{id:`variant-${O}-option-value-${L}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M=>$.value=M,placeholder:c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,Xf),[[pe,$.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:M=>Q(O,L),"aria-label":c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Ff)]))),128))])]))),128))]),i("footer",Vf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:Y,disabled:e.saving},u(c(n)("JCANCEL","Cancel")),9,Gf),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},u(e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save")),9,Hf)])],32)])])):be("",!0)}},[["__scopeId","data-v-0de525bf"]]),jf={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Kf={key:1,class:"nxp-ec-skeleton__table"},Jf={key:2,class:"nxp-ec-skeleton__card"},qf={key:3,class:"nxp-ec-skeleton__circle"};function Wf(e,t,s,o,n,a){return y(),x("div",{class:Pe(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(y(),x("div",{key:0,class:"nxp-ec-skeleton__line",style:Dt({width:s.width})},null,4)):s.type==="table"?(y(),x("div",Kf,[(y(!0),x(Se,null,Te(s.rows,l=>(y(),x("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(y(!0),x(Se,null,Te(s.columns,r=>(y(),x("div",{key:r,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(y(),x("div",Jf,[...t[0]||(t[0]=[_u('<div class="nxp-ec-skeleton__card-header" data-v-c59f3790></div><div class="nxp-ec-skeleton__card-body" data-v-c59f3790><div class="nxp-ec-skeleton__line" data-v-c59f3790></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c59f3790></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c59f3790></div></div>',2)])])):s.type==="circle"?(y(),x("div",qf)):(y(),x("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Dt({width:s.width,height:s.height})},null,4))],2)}const Rs=At(jf,[["render",Wf],["__scopeId","data-v-c59f3790"]]),zf={class:"nxp-ec-admin-panel"},Qf={class:"nxp-ec-admin-panel__header"},Zf={class:"nxp-ec-admin-panel__title"},eh={class:"nxp-ec-admin-panel__lead"},th={class:"nxp-ec-admin-panel__actions"},sh=["placeholder","aria-label"],nh=["disabled","title","aria-label"],oh={class:"nxp-ec-sr-only"},ih={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ah={key:1,class:"nxp-ec-admin-panel__body"},rh={key:2,class:"nxp-ec-admin-panel__body"},lh=["title"],ch={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=$e({mode:"create",product:null}),l=Ye(!1),r=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),p=Ce(()=>a.product),_=Ce(()=>(s.mediaModalUrl||"").trim()),f=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},d=I=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(I)),l.value=!0},A=()=>{l.value=!1,s.state.validationErrors=[]},P=async I=>{var H;const b={...I,active:I.active?1:0,featured:I.featured?1:0};a.mode==="edit"&&((H=a.product)!=null&&H.id)?o("update",{id:a.product.id,data:b}):o("create",b)},U=async I=>{var le;const b=(le=I==null?void 0:I.title)!=null?le:"",H=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[b||"#"]);window.confirm(H)&&o("delete",[I.id])},v=I=>{if(!(I!=null&&I.id)||s.state.saving)return;const b=Z=>Z==null?"":String(Z),H=(Z,G=0)=>{const F=Number(Z);return Number.isFinite(F)?F:G},le=Array.isArray(I.variants)?I.variants.map(Z=>{var fe,te;if(!Z)return null;const G=b(Z.sku).trim();if(!G)return null;let F=H(Z.price_cents,Number.NaN);if(!Number.isFinite(F)){const q=b(Z.price),N=q?Number.parseFloat(q):NaN;F=Number.isFinite(N)?Math.round(N*100):NaN}if(!Number.isFinite(F))return null;const j=b((fe=Z.currency)!=null?fe:r.value).trim().toUpperCase();if(!j)return null;const Q=(te=Z.options)!=null?te:null,ae=Math.max(0,Math.round(H(Z.stock,0)));return{id:H(Z.id,0),sku:G,price_cents:Math.round(F),currency:j,stock:ae,options:Q!=null?Q:null,weight:Z.weight!==null&&Z.weight!==void 0&&Z.weight!==""?String(Z.weight):null,active:Z.active===void 0?!0:!!Z.active}}).filter(Boolean):[];if(!le.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const _e=Array.isArray(I.categories)?I.categories.map(Z=>{if(Z==null)return null;if(typeof Z=="number")return Z>0?{id:Z,title:"",slug:""}:null;if(typeof Z=="string"&&Z.trim()!==""&&Number.isFinite(Number(Z))){const F=Number(Z);return F>0?{id:F,title:"",slug:""}:null}if(typeof Z=="object"){if(Z.id){const j=H(Z.id,0);return j>0?{id:j,title:"",slug:""}:null}return H(Z.id,0)<=0&&!Z.title?null:{id:0,title:b(Z.title),slug:b(Z.slug)}}const G=b(Z).trim();return G?{id:0,title:G,slug:""}:null}).filter(Boolean):[],he=Array.isArray(I.images)?I.images.map(Z=>b(Z).trim()).map(Z=>{var Q,ae,fe;let G=Z;if(!G)return"";const F=G.indexOf("#joomlaImage://");F!==-1&&(G=G.substring(0,F));const j=G.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(j&&j[1]&&(G=j[1]),typeof window!="undefined")try{const te=(fe=(ae=(Q=window.Joomla)==null?void 0:Q.getOptions)==null?void 0:ae.call(Q,"system.paths",{}))!=null?fe:{},q=te.rootFull||window.location.origin,N=te.root||"/";G.startsWith(q)&&(G=G.substring(q.length)),G.startsWith(N)&&(G=G.substring(N.length))}catch(te){}return G.trim()}).filter(Z=>Z!==""):[];s.state.error="",o("update",{id:I.id,data:{title:b(I.title),slug:b(I.slug),short_desc:b(I.short_desc),long_desc:b(I.long_desc),active:I.active?0:1,featured:I.featured?1:0,images:he,variants:le,categories:_e}})},D=()=>{o("refresh")},T=()=>{o("search")},J=I=>{if(!I)return"";try{const b=new Date(I),le=new Date-b,_e=Math.floor(le/1e3),he=Math.floor(_e/60),Z=Math.floor(he/60);return _e<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):he<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[he]):Z<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Z]):b.toLocaleString()}catch(b){return I}};return we(()=>s.state.saving,(I,b)=>{b&&!I&&l.value&&!s.state.validationErrors.length&&!s.state.error&&A()}),(I,b)=>(y(),x("section",zf,[i("header",Qf,[i("div",null,[i("h2",Zf,u(c(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",eh,u(c(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",th,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":b[0]||(b[0]=H=>e.state.search=H),onKeyup:jt(T,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,sh),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:D,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":c(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[b[1]||(b[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",oh,u(c(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,nh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:f},[b[2]||(b[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ge(" "+u(c(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(y(),x("div",ih,u(e.state.error),1)):e.state.loading?(y(),x("div",ah,[Xe(Rs,{type:"table",rows:5,columns:5})])):(y(),x("div",rh,[Xe(h_,{items:e.state.items,translate:c(n),"base-currency":r.value,saving:e.state.saving,onEdit:d,onDelete:U,onToggleActive:v},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(J(e.state.lastUpdated)),9,lh)):be("",!0)])),Xe(Bf,{open:l.value,product:p.value,saving:e.state.saving,"base-currency":r.value,translate:c(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":_.value,onSubmit:P,onCancel:A},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},dh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},uh={class:"nxp-ec-admin-panel__header"},ph={class:"nxp-ec-admin-panel__title"},_h={class:"nxp-ec-admin-panel__lead"},fh={class:"nxp-ec-admin-panel__actions"},hh=["placeholder","aria-label"],mh=["disabled","title","aria-label"],gh={class:"nxp-ec-sr-only"},Ch={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Sh={key:1,class:"nxp-ec-admin-panel__body"},Eh={key:2,class:"nxp-ec-admin-panel__body"},Ah={class:"nxp-ec-admin-panel__table"},bh={class:"nxp-ec-admin-table"},yh={scope:"col"},Th={scope:"col"},vh={scope:"col"},Oh={scope:"col"},Rh={scope:"col"},xh={key:0},Ph={colspan:"6"},Nh={scope:"row"},Mh={class:"nxp-ec-admin-table__actions"},Ih=["onClick","title","aria-label"],$h={class:"nxp-ec-sr-only"},wh=["disabled","onClick","title","aria-label"],kh={class:"nxp-ec-sr-only"},Dh={key:0,class:"nxp-ec-admin-pagination"},Uh=["disabled"],Lh={class:"nxp-ec-admin-pagination__status"},Yh=["disabled"],Xh=["title"],Fh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Vh={class:"nxp-ec-modal__dialog"},Gh={class:"nxp-ec-modal__header"},Hh={class:"nxp-ec-modal__title"},Bh=["title","aria-label"],jh={class:"nxp-ec-sr-only"},Kh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Jh={class:"nxp-ec-form-field"},qh={class:"nxp-ec-form-label",for:"category-title"},Wh={class:"nxp-ec-form-field"},zh={class:"nxp-ec-form-label",for:"category-slug"},Qh={class:"nxp-ec-form-field"},Zh={class:"nxp-ec-form-label",for:"category-parent"},em={value:""},tm=["value"],sm={class:"nxp-ec-form-field"},nm={class:"nxp-ec-form-label",for:"category-sort"},om={class:"nxp-ec-modal__actions"},im=["disabled"],am={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ye(!1),l=Ye(!1),r=Ye([]),p=G=>{const j=(Array.isArray(G)?G:[]).map(w=>{var B,W,ce,V,R;return{...w,id:Number.parseInt((B=w==null?void 0:w.id)!=null?B:0,10)||0,parent_id:(w==null?void 0:w.parent_id)!=null&&Number.parseInt(w.parent_id,10)||0,sort:Number.parseInt((W=w==null?void 0:w.sort)!=null?W:0,10)||0,title:String((ce=w==null?void 0:w.title)!=null?ce:"").trim(),slug:String((V=w==null?void 0:w.slug)!=null?V:"").trim(),usage:(R=w==null?void 0:w.usage)!=null?R:0}}).filter(w=>w.id>0||w.title!==""),Q=new Set(j.map(w=>w.id));j.forEach(w=>{Q.has(w.parent_id)||(w.parent_id=0)});const ae=new Map,fe=new Map;j.forEach(w=>{fe.set(w.id,w);const B=w.parent_id||0;ae.has(B)||ae.set(B,[]),ae.get(B).push(w)});const te=w=>w.sort((B,W)=>{var ce,V;return((ce=B.sort)!=null?ce:0)-((V=W.sort)!=null?V:0)||B.title.localeCompare(W.title,void 0,{sensitivity:"base"})});ae.forEach(te);const q=new Set,N=[],k=(w,B,W)=>{if(!w||q.has(w.id)||W.includes(w.id))return;const ce=[...W],V=ce.map(oe=>{var de;return(de=fe.get(oe))==null?void 0:de.title}).filter(Boolean),R={...w,depth:B,path:V.join(" / "),ancestors:ce,indentedTitle:B>0?`${" ".repeat(B)}${w.title}`:w.title};N.push(R),q.add(w.id),(ae.get(w.id)||[]).forEach(oe=>k(oe,B+1,[...W,w.id]))},X=j.filter(w=>w.parent_id===0||!Q.has(w.parent_id));return te(X),X.forEach(w=>k(w,0,[])),j.forEach(w=>{q.has(w.id)||k(w,0,[])}),N},_=Ce(()=>{var G,F;return p((F=(G=s.state)==null?void 0:G.items)!=null?F:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),d=$e(f()),A=Ce(()=>{var F,j;const G=(j=Array.isArray(r.value)&&r.value.length?r.value:(F=s.state)==null?void 0:F.items)!=null?j:[];return p(G).filter(Q=>Q.id>0&&Q.id!==d.id&&!(Array.isArray(Q.ancestors)&&Q.ancestors.includes(d.id))).map(Q=>({id:Q.id,title:Q.title,label:Q.depth>0?`${" ".repeat(Q.depth)}${Q.title}`:Q.title}))}),P=()=>{Object.assign(d,f()),l.value=!1},U=G=>G?G.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",v=()=>{l.value=!0,d.slug=U(d.slug)};we(()=>d.title,G=>{l.value||(d.slug=U(G))});const D=async(G=0)=>{if(typeof s.loadOptions!="function"){r.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const F=await s.loadOptions();r.value=Array.isArray(F)?[...F]:[]}catch(F){r.value=[]}r.value=r.value.filter(F=>{var Q,ae;return(Number.parseInt((ae=(Q=F==null?void 0:F.id)!=null?Q:F==null?void 0:F.value)!=null?ae:0,10)||0)!==G})},T=async()=>{P(),await D(),a.value=!0},J=async G=>{var F,j,Q,ae;G&&(d.id=Number.parseInt((F=G.id)!=null?F:0,10)||0,d.title=String((j=G.title)!=null?j:"").trim(),d.slug=String((Q=G.slug)!=null?Q:"").trim(),d.parent_id=G.parent_id!=null&&Number.parseInt(G.parent_id,10)||null,d.sort=Number.parseInt((ae=G.sort)!=null?ae:0,10)||0,l.value=!!d.slug,await D(d.id),a.value=!0)},I=()=>{a.value=!1,P()},b=()=>{o("refresh")},H=()=>{o("search")},le=G=>{o("page",G)},_e=()=>{const G={id:d.id||void 0,title:d.title.trim(),slug:d.slug.trim(),parent_id:d.parent_id||null,sort:Number.isFinite(d.sort)?d.sort:0};o("save",G)},he=G=>{if(!G||!G.id)return;const F=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(F)||o("delete",[G.id])},Z=G=>{if(!G)return"";try{const F=new Date(G),Q=new Date-F,ae=Math.floor(Q/1e3),fe=Math.floor(ae/60),te=Math.floor(fe/60);return ae<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):fe<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[fe]):te<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[te]):F.toLocaleString()}catch(F){return G}};return we(()=>{var G;return(G=s.state)==null?void 0:G.saving},(G,F)=>{var j,Q,ae;F&&!G&&(((Q=(j=s.state)==null?void 0:j.validationErrors)!=null?Q:[]).length>0||(ae=s.state)!=null&&ae.error||(a.value=!1,P()))}),(G,F)=>(y(),x("section",dh,[i("header",uh,[i("div",null,[i("h2",ph,u(c(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",_h,u(c(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",fh,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":F[0]||(F[0]=j=>e.state.search=j),onKeyup:jt(H,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,hh),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:b,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":c(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[F[7]||(F[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",gh,u(c(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,mh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:T},[F[8]||(F[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ge(" "+u(c(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(y(),x("div",Ch,u(e.state.error),1)):e.state.loading?(y(),x("div",Sh,[Xe(Rs,{type:"table",rows:5,columns:5})])):(y(),x("div",Eh,[i("div",Ah,[i("table",bh,[i("thead",null,[i("tr",null,[i("th",yh,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",Th,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",vh,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Oh,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Rh,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),F[9]||(F[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?be("",!0):(y(),x("tr",xh,[i("td",Ph,u(c(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(y(!0),x(Se,null,Te(_.value,j=>{var Q;return y(),x("tr",{key:j.id,class:Pe({"is-active":d.id===j.id})},[i("th",Nh,[i("span",{style:Dt({paddingLeft:`${j.depth*1.5}rem`})},u(j.indentedTitle),5)]),i("td",null,u(j.slug||""),1),i("td",null,u(j.path||c(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),i("td",null,u(j.sort),1),i("td",null,u((Q=j.usage)!=null?Q:0),1),i("td",Mh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ae=>J(j),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[F[10]||(F[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",$h,u(c(n)("JEDIT","Edit")),1)],8,Ih),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:ae=>he(j),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[F[11]||(F[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",kh,u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,wh)])],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",Dh,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:F[1]||(F[1]=j=>le(e.state.pagination.current-1))},"  ",8,Uh),i("span",Lh,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:F[2]||(F[2]=j=>le(e.state.pagination.current+1))},"  ",8,Yh)])):be("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(Z(e.state.lastUpdated)),9,Xh)):be("",!0),a.value?(y(),x("div",Fh,[i("div",{class:"nxp-ec-modal__backdrop",onClick:I}),i("div",Vh,[i("header",Gh,[i("h3",Hh,u(d.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:I,title:c(n)("JCLOSE","Close"),"aria-label":c(n)("JCLOSE","Close")},[F[12]||(F[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",jh,u(c(n)("JCLOSE","Close")),1)],8,Bh)]),i("form",{class:"nxp-ec-form",onSubmit:Et(_e,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(y(),x("div",Kh,[i("ul",null,[(y(!0),x(Se,null,Te(e.state.validationErrors,(j,Q)=>(y(),x("li",{key:Q},u(j),1))),128))])])):be("",!0),i("div",Jh,[i("label",qh,u(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),ie(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F[3]||(F[3]=j=>d.title=j),required:"",maxlength:"255"},null,512),[[pe,d.title,void 0,{trim:!0}]])]),i("div",Wh,[i("label",zh,u(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),ie(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F[4]||(F[4]=j=>d.slug=j),maxlength:"190",onInput:v},null,544),[[pe,d.slug,void 0,{trim:!0}]])]),i("div",Qh,[i("label",Zh,u(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),ie(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":F[5]||(F[5]=j=>d.parent_id=j)},[i("option",em,u(c(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(y(!0),x(Se,null,Te(A.value,j=>(y(),x("option",{key:j.id,value:j.id},u(j.label),9,tm))),128))],512),[[Mt,d.parent_id,void 0,{number:!0}]])]),i("div",sm,[i("label",nm,u(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),ie(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":F[6]||(F[6]=j=>d.sort=j),min:"0",step:"1"},null,512),[[pe,d.sort,void 0,{number:!0}]])]),i("footer",om,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[F[13]||(F[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ge(" "+u(c(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,im),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:I},[F[14]||(F[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),Ge(" "+u(c(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):be("",!0)]))]))}},rm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},lm={class:"nxp-ec-admin-panel__header"},cm={class:"nxp-ec-admin-panel__title"},dm={class:"nxp-ec-admin-panel__lead"},um={class:"nxp-ec-admin-panel__actions"},pm=["placeholder","aria-label"],_m=["aria-label"],fm={value:""},hm=["value"],mm=["disabled","title","aria-label"],gm={class:"nxp-ec-sr-only"},Cm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Sm={key:1,class:"nxp-ec-admin-panel__body"},Em={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},Am={class:"nxp-ec-admin-panel__table"},bm={key:0,class:"nxp-ec-admin-panel__selection"},ym=["aria-label"],Tm={value:""},vm=["value"],Om=["disabled"],Rm=["title","aria-label"],xm={class:"nxp-ec-sr-only"},Pm={class:"nxp-ec-admin-table"},Nm={scope:"col",class:"nxp-ec-admin-table__select"},Mm={scope:"col"},Im={scope:"col"},$m={scope:"col"},wm={scope:"col"},km={scope:"col"},Dm={scope:"col",class:"nxp-ec-admin-table__actions"},Um={key:0},Lm={colspan:"7"},Ym={class:"nxp-ec-admin-table__select"},Xm=["checked","onChange","aria-label"],Fm={scope:"row"},Vm=["onClick"],Gm={class:"nxp-ec-admin-table__meta"},Hm={class:"nxp-ec-badge"},Bm={class:"nxp-ec-admin-table__actions"},jm=["onUpdate:modelValue","aria-label"],Km=["value"],Jm=["value"],qm=["disabled","onClick"],Wm={key:1,class:"nxp-ec-admin-pagination"},zm=["disabled"],Qm={class:"nxp-ec-admin-pagination__status"},Zm=["disabled"],eg=["title"],tg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},sg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},ng={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},og={class:"nxp-ec-admin-panel__sidebar-header"},ig=["title","aria-label"],ag={class:"nxp-ec-sr-only"},rg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},lg={class:"nxp-ec-admin-panel__section"},cg={class:"nxp-ec-admin-list"},dg={class:"nxp-ec-admin-list__title"},ug={class:"nxp-ec-admin-list__meta"},pg={class:"nxp-ec-admin-panel__section"},_g={class:"nxp-ec-admin-panel__total"},fg={class:"nxp-ec-admin-panel__section"},hg={class:"nxp-ec-admin-address"},mg={class:"nxp-ec-admin-panel__section"},gg={key:0,class:"nxp-ec-admin-address"},Cg={key:1,class:"nxp-ec-admin-panel__muted"},Sg={key:1,class:"nxp-ec-admin-panel__section"},Eg={class:"nxp-ec-admin-list"},Ag={class:"nxp-ec-admin-list__title"},bg={class:"nxp-ec-admin-list__meta"},yg={class:"nxp-ec-admin-panel__section"},Tg=["placeholder"],vg={class:"nxp-ec-admin-form__actions"},Og=["disabled"],Rg={class:"nxp-ec-admin-panel__section"},xg={key:0,class:"nxp-ec-admin-list"},Pg={class:"nxp-ec-admin-list__title"},Ng={class:"nxp-ec-admin-list__meta"},Mg={key:1,class:"nxp-ec-admin-panel__muted"},Ig=At({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=$e({}),l=Ye(""),r=Ye(""),p=Ce(()=>r.value.trim().length>0),_=Ce(()=>{var k;const N=(k=s.state)==null?void 0:k.selection;return!N||typeof N.values!="function"?[]:Array.from(N.values())}),f=Ce(()=>_.value.length>0);we(_,N=>{N.length||(l.value="")}),we(()=>{var N;return(N=s.state.activeOrder)==null?void 0:N.id},()=>{r.value=""}),we(()=>s.state.items,N=>{Array.isArray(N)&&N.forEach(k=>{!k||typeof k.id=="undefined"||a[k.id]||(a[k.id]=k.state)})},{immediate:!0});const d=(N,k)=>{const X=(Number(N)||0)/100,w=(k||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:w}).format(X)}catch(B){return`${w} ${X.toFixed(2)}`}},A=N=>{if(!N)return"";const k=new Date(N);return Number.isNaN(k.getTime())?N:k.toLocaleString()},P=N=>N===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(N)]),U=N=>{if(!N)return"";const k=`COM_NXPEASYCART_ORDERS_STATE_${String(N).toUpperCase()}`;return n(k,N)},v=N=>s.state.orderStates.filter(k=>k!==N.state),D=N=>(a[N.id]||N.state)!==N.state,T=N=>!N||typeof N!="object"?[]:Object.entries(N).filter(([,k])=>k!=null&&`${k}`.trim()!=="").map(([k,X])=>({key:k,value:`${X}`.trim()})),J=()=>{o("refresh")},I=()=>{o("search")},b=()=>{o("filter",s.state.filterState)},H=N=>{o("view",N)},le=()=>{o("close")},_e=N=>{const k=a[N.id]||N.state;k!==N.state&&o("transition",{id:N.id,state:k})},he=N=>{o("page",N)},Z=N=>{var k,X,w,B;return(B=(w=(X=(k=s.state)==null?void 0:k.selection)==null?void 0:X.has)==null?void 0:w.call(X,N))!=null?B:!1},G=N=>{o("toggle-selection",N)},F=()=>{l.value="",o("clear-selection")},j=()=>{!f.value||!l.value||o("bulk-transition",{ids:[..._.value],state:l.value})},Q=()=>{if(!s.state.activeOrder)return;const N=r.value.trim();N&&(o("add-note",{id:s.state.activeOrder.id,message:N}),r.value="")},ae=Ce(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(_.value.length)],"ordersSelectedCount")),fe=N=>{var k,X,w,B,W,ce,V,R,C,oe,de,re;if(!N||!N.action)return"";switch(N.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const Ie=U((X=(k=N.context)==null?void 0:k.from)!=null?X:""),m=U((B=(w=N.context)==null?void 0:w.to)!=null?B:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[Ie||((W=N.context)==null?void 0:W.from)||"",m||((ce=N.context)==null?void 0:ce.to)||""],"ordersTimelineState")}case"order.note":return((V=N.context)==null?void 0:V.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const Ie=((R=N.context)==null?void 0:R.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),m=d((oe=(C=N.context)==null?void 0:C.amount_cents)!=null?oe:0,(re=(de=s.state)==null?void 0:de.activeOrder)==null?void 0:re.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[Ie,m],"ordersTimelinePaymentRecorded")}default:return N.action}},te=N=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(N.status||"").toUpperCase()}`,N.status||""),q=N=>{if(!N)return"";try{const k=new Date(N),w=new Date-k,B=Math.floor(w/1e3),W=Math.floor(B/60),ce=Math.floor(W/60);return B<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):W<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[W]):ce<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ce]):k.toLocaleString()}catch(k){return N}};return(N,k)=>(y(),x("section",rm,[i("header",lm,[i("div",null,[i("h2",cm,u(c(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",dm,u(c(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",um,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":k[0]||(k[0]=X=>e.state.search=X),onKeyup:jt(I,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,pm),[[pe,e.state.search]]),ie(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":k[1]||(k[1]=X=>e.state.filterState=X),onChange:b,"aria-label":c(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",fm,"  "+u(c(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(y(!0),x(Se,null,Te(e.state.orderStates,X=>(y(),x("option",{key:X,value:X},u(U(X)),9,hm))),128))],40,_m),[[Mt,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:J,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[k[6]||(k[6]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",gm,u(c(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,mm)])]),e.state.error?(y(),x("div",Cm,u(e.state.error),1)):e.state.loading?(y(),x("div",Sm,[Xe(Rs,{type:"table",rows:5,columns:7})])):(y(),x("div",Em,[i("div",Am,[f.value?(y(),x("div",bm,[i("span",null,u(ae.value),1),ie(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":k[2]||(k[2]=X=>l.value=X),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",Tm,u(c(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(y(!0),x(Se,null,Te(e.state.orderStates,X=>(y(),x("option",{key:`bulk-${X}`,value:X},u(U(X)),9,vm))),128))],8,ym),[[Mt,l.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!l.value||e.state.saving,onClick:j},[k[7]||(k[7]=i("i",{class:"fa-solid fa-check"},null,-1)),Ge(" "+u(c(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,Om),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:F,title:c(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[k[8]||(k[8]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",xm,u(c(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,Rm)])):be("",!0),i("table",Pm,[i("thead",null,[i("tr",null,[i("th",Nm,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",Mm,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",Im,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",$m,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",wm,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",km,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",Dm,u(c(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?be("",!0):(y(),x("tr",Um,[i("td",Lm,u(c(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(y(!0),x(Se,null,Te(e.state.items,X=>{var w,B,W;return y(),x("tr",{key:X.id,class:Pe({"is-active":e.state.activeOrder&&e.state.activeOrder.id===X.id})},[i("td",Ym,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:Z(X.id),onChange:ce=>G(X.id),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Xm)]),i("th",Fm,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:ce=>H(X)},u(X.order_no),9,Vm)]),i("td",null,[i("div",null,u(X.email),1),i("div",Gm,u(P((W=X.items_count)!=null?W:(B=(w=X.items)==null?void 0:w.length)!=null?B:0)),1)]),i("td",null,u(d(X.total_cents,X.currency)),1),i("td",null,[i("span",Hm,u(U(X.state)),1)]),i("td",null,u(A(X.modified||X.created)),1),i("td",Bm,[ie(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":ce=>a[X.id]=ce,"aria-label":c(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:X.state},u(U(X.state)),9,Km),(y(!0),x(Se,null,Te(v(X),ce=>(y(),x("option",{key:ce,value:ce},u(U(ce)),9,Jm))),128))],8,jm),[[Mt,a[X.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!D(X),onClick:ce=>_e(X)},u(c(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,qm)])],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",Wm,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:k[3]||(k[3]=X=>he(e.state.pagination.current-1))},"  ",8,zm),i("span",Qm,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:k[4]||(k[4]=X=>he(e.state.pagination.current+1))},"  ",8,Zm)])):be("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(q(e.state.lastUpdated)),9,eg)):be("",!0),e.state.activeOrder?(y(),x("div",tg,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:le}),i("div",sg,[i("aside",ng,[i("header",og,[i("h3",null,u(c(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+u(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:le,title:c(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[k[9]||(k[9]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",ag,u(c(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,ig)]),e.state.transitionError?(y(),x("div",rg,u(e.state.transitionError),1)):be("",!0),i("section",lg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",cg,[(y(!0),x(Se,null,Te(e.state.activeOrder.items,X=>(y(),x("li",{key:X.id},[i("div",dg,[Ge(u(X.title)+" ",1),i("small",null,"("+u(X.sku)+")",1)]),i("div",ug,"  "+u(X.qty)+"  "+u(d(X.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",pg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",_g,u(d(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",fg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",hg,[(y(!0),x(Se,null,Te(T(e.state.activeOrder.billing),X=>(y(),x("span",{key:X.key},u(X.value),1))),128))])]),i("section",mg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(y(),x("address",gg,[(y(!0),x(Se,null,Te(T(e.state.activeOrder.shipping),X=>(y(),x("span",{key:X.key},u(X.value),1))),128))])):(y(),x("p",Cg,u(c(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(y(),x("section",Sg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",Eg,[(y(!0),x(Se,null,Te(e.state.activeOrder.transactions,X=>(y(),x("li",{key:X.id},[i("div",Ag,u(X.gateway)+"  "+u(d(X.amount_cents,e.state.activeOrder.currency)),1),i("div",bg,u(te(X))+"  "+u(A(X.created)),1)]))),128))])])):be("",!0),i("section",yg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:Et(Q,["prevent"])},[ie(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":k[5]||(k[5]=X=>r.value=X),placeholder:c(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,Tg),[[pe,r.value]]),i("div",vg,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[k[10]||(k[10]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ge(" "+u(c(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,Og)])],32)]),i("section",Rg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),e.state.activeOrder.timeline&&e.state.activeOrder.timeline.length?(y(),x("ul",xg,[(y(!0),x(Se,null,Te(e.state.activeOrder.timeline,X=>(y(),x("li",{key:X.id},[i("div",Pg,u(fe(X)),1),i("div",Ng,u(A(X.created)),1)]))),128))])):(y(),x("p",Mg,u(c(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):be("",!0)]))]))}},[["__scopeId","data-v-f2999fa9"]]),$g={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},wg={class:"nxp-ec-admin-panel__header"},kg={class:"nxp-ec-admin-panel__title"},Dg={class:"nxp-ec-admin-panel__lead"},Ug={class:"nxp-ec-admin-panel__actions"},Lg=["placeholder","aria-label"],Yg=["disabled","title","aria-label"],Xg={class:"nxp-ec-sr-only"},Fg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Vg={key:1,class:"nxp-ec-admin-panel__body"},Gg={key:2,class:"nxp-ec-admin-panel__body"},Hg={class:"nxp-ec-admin-panel__table"},Bg={class:"nxp-ec-admin-table"},jg={scope:"col"},Kg={scope:"col"},Jg={scope:"col"},qg={scope:"col"},Wg={scope:"col"},zg={key:0},Qg={colspan:"5"},Zg={scope:"row"},eC=["onClick"],tC={key:0,class:"nxp-ec-admin-pagination"},sC=["disabled"],nC={class:"nxp-ec-admin-pagination__status"},oC=["disabled"],iC=["title"],aC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},rC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},lC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},cC={class:"nxp-ec-admin-panel__sidebar-header"},dC=["title","aria-label"],uC={class:"nxp-ec-sr-only"},pC={class:"nxp-ec-admin-panel__section"},_C={class:"nxp-ec-admin-summary"},fC={class:"nxp-ec-admin-panel__section"},hC={class:"nxp-ec-admin-address"},mC={class:"nxp-ec-admin-panel__section"},gC={key:0,class:"nxp-ec-admin-address"},CC={key:1,class:"nxp-ec-admin-panel__muted"},SC={class:"nxp-ec-admin-panel__section"},EC={key:0,class:"nxp-ec-admin-list"},AC={class:"nxp-ec-admin-list__title"},bC={class:"nxp-ec-admin-list__meta"},yC={key:1,class:"nxp-ec-admin-panel__muted"},TC=At({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=(v,D)=>{const T=(Number(v)||0)/100,J=(D||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:J}).format(T)}catch(I){return`${J} ${T.toFixed(2)}`}},l=v=>{if(!v)return"";const D=new Date(v);return Number.isNaN(D.getTime())?v:D.toLocaleString()},r=v=>!v||typeof v!="object"?[]:Object.entries(v).filter(([,D])=>D!=null&&`${D}`.trim()!=="").map(([D,T])=>({key:D,value:`${T}`.trim()})),p=v=>{if(!v)return"";const D=`COM_NXPEASYCART_ORDERS_STATE_${String(v).toUpperCase()}`;return n(D,v)},_=()=>o("refresh"),f=()=>o("search"),d=v=>o("page",v),A=v=>o("view",v),P=()=>o("close"),U=v=>{if(!v)return"";try{const D=new Date(v),J=new Date-D,I=Math.floor(J/1e3),b=Math.floor(I/60),H=Math.floor(b/60);return I<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):b<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[b]):H<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[H]):D.toLocaleString()}catch(D){return v}};return(v,D)=>{var T,J,I;return y(),x("section",$g,[i("header",wg,[i("div",null,[i("h2",kg,u(c(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",Dg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",Ug,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=b=>e.state.search=b),onKeyup:jt(f,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,Lg),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":c(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[D[3]||(D[3]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Xg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,Yg)])]),e.state.error?(y(),x("div",Fg,u(e.state.error),1)):e.state.loading?(y(),x("div",Vg,[Xe(Rs,{type:"table",rows:5,columns:5})])):(y(),x("div",Gg,[i("div",Hg,[i("table",Bg,[i("thead",null,[i("tr",null,[i("th",jg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",Kg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",Jg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",qg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",Wg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?be("",!0):(y(),x("tr",zg,[i("td",Qg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(y(!0),x(Se,null,Te(e.state.items,b=>{var H;return y(),x("tr",{key:b.email,class:Pe({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===b.email})},[i("th",Zg,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:le=>A(b)},u(b.email),9,eC)]),i("td",null,u(((H=b.meta)==null?void 0:H.name)||""),1),i("td",null,u(b.orders_count),1),i("td",null,u(a(b.total_spent_cents,b.currency||e.baseCurrency)),1),i("td",null,u(l(b.last_order)),1)],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",tC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[1]||(D[1]=b=>d(e.state.pagination.current-1))},"  ",8,sC),i("span",nC,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[2]||(D[2]=b=>d(e.state.pagination.current+1))},"  ",8,oC)])):be("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(U(e.state.lastUpdated)),9,iC)):be("",!0),e.state.activeCustomer?(y(),x("div",aC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:P}),i("div",rC,[i("aside",lC,[i("header",cC,[i("h3",null,u(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:P,title:c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[D[4]||(D[4]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",uC,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,dC)]),i("section",pC,[i("h4",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",_C,[i("div",null,[i("dt",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,u(((T=e.state.activeCustomer.meta)==null?void 0:T.name)||""),1)]),i("div",null,[i("dt",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,u(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,u(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,u(l(e.state.activeCustomer.last_order)),1)])])]),i("section",fC,[i("h4",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",hC,[(y(!0),x(Se,null,Te(r((J=e.state.activeCustomer.meta)==null?void 0:J.billing),b=>(y(),x("span",{key:b.key},u(b.value),1))),128))])]),i("section",mC,[i("h4",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(I=e.state.activeCustomer.meta)!=null&&I.shipping?(y(),x("address",gC,[(y(!0),x(Se,null,Te(r(e.state.activeCustomer.meta.shipping),b=>(y(),x("span",{key:b.key},u(b.value),1))),128))])):(y(),x("p",CC,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",SC,[i("h4",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(y(),x("ul",EC,[(y(!0),x(Se,null,Te(e.state.activeCustomer.orders,b=>(y(),x("li",{key:b.id},[i("div",AC,u(b.order_no)+"  "+u(a(b.total_cents,b.currency||e.baseCurrency)),1),i("div",bC,u(p(b.state))+"  "+u(l(b.created)),1)]))),128))])):(y(),x("p",yC,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))])])])])):be("",!0)]))])}}},[["__scopeId","data-v-4fa39d6b"]]),vC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},OC={class:"nxp-ec-admin-panel__header"},RC={class:"nxp-ec-admin-panel__title"},xC={class:"nxp-ec-admin-panel__lead"},PC={class:"nxp-ec-admin-panel__actions"},NC=["placeholder","aria-label"],MC=["disabled","title","aria-label"],IC={class:"nxp-ec-sr-only"},$C={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},wC={key:1,class:"nxp-ec-admin-panel__loading"},kC={key:2,class:"nxp-ec-admin-panel__body"},DC={class:"nxp-ec-admin-panel__table"},UC={class:"nxp-ec-admin-table"},LC={scope:"col"},YC={scope:"col"},XC={scope:"col"},FC={scope:"col"},VC={scope:"col"},GC={scope:"col"},HC={key:0},BC={colspan:"7"},jC={scope:"row"},KC={class:"nxp-ec-admin-table__actions"},JC=["onClick","title","aria-label"],qC={class:"nxp-ec-sr-only"},WC=["onClick","title","aria-label"],zC={class:"nxp-ec-sr-only"},QC={key:0,class:"nxp-ec-admin-pagination"},ZC=["disabled"],eS={class:"nxp-ec-admin-pagination__status"},tS=["disabled"],sS={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},nS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},oS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},iS={class:"nxp-ec-admin-panel__sidebar-header"},aS=["title","aria-label"],rS={class:"nxp-ec-sr-only"},lS={class:"nxp-ec-form-field"},cS={class:"nxp-ec-form-label",for:"coupon-code"},dS={class:"nxp-ec-form-field"},uS={class:"nxp-ec-form-label",for:"coupon-type"},pS={value:"percent"},_S={value:"fixed"},fS={class:"nxp-ec-form-field"},hS={class:"nxp-ec-form-label",for:"coupon-value"},mS={class:"nxp-ec-form-field"},gS={class:"nxp-ec-form-label",for:"coupon-min-total"},CS={class:"nxp-ec-form-field"},SS={class:"nxp-ec-form-label",for:"coupon-start"},ES={class:"nxp-ec-form-field"},AS={class:"nxp-ec-form-label",for:"coupon-end"},bS={class:"nxp-ec-form-field"},yS={class:"nxp-ec-form-label",for:"coupon-max-uses"},TS={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vS={class:"nxp-ec-form-label",for:"coupon-active"},OS={class:"nxp-ec-modal__actions"},RS=["disabled"],xS=["disabled"],PS=["disabled"],NS=At({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),l=$e({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),r=Ce(()=>l.open),p=()=>o("refresh"),_=()=>o("search"),f=I=>o("page",I),d=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},A=I=>{var b,H;Object.assign(l,{open:!0,id:I.id,code:I.code,type:I.type,value:I.value,min_total:(H=I.min_total)!=null?H:((b=I.min_total_cents)!=null?b:0)/100,start:I.start?I.start.substring(0,10):"",end:I.end?I.end.substring(0,10):"",max_uses:I.max_uses,active:I.active})},P=()=>{l.open=!1},U=()=>{const I={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",I)},v=I=>{const b=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(b)&&(o("delete",[I.id]),l.id===I.id&&P())},D=(I,b)=>{const H=(Number(I)||0)/100,le=(b||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:le}).format(H)}catch(_e){return`${le} ${H.toFixed(2)}`}},T=I=>I.type==="percent"?`${I.value}%`:D(I.value*100,a.value),J=I=>I==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return we(()=>s.state.saving,(I,b)=>{b&&!I&&!s.state.error&&l.open&&P()}),(I,b)=>(y(),x("section",vC,[i("header",OC,[i("div",null,[i("h2",RC,u(c(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",xC,u(c(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",PC,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":b[0]||(b[0]=H=>e.state.search=H),onKeyup:jt(_,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,NC),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[b[12]||(b[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",IC,u(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,MC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:d},[b[13]||(b[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ge(" "+u(c(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(y(),x("div",$C,u(e.state.error),1)):e.state.loading?(y(),x("div",wC,u(c(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(y(),x("div",kC,[i("div",DC,[i("table",UC,[i("thead",null,[i("tr",null,[i("th",LC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",YC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",XC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",FC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",VC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",GC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),b[14]||(b[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?be("",!0):(y(),x("tr",HC,[i("td",BC,u(c(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(y(!0),x(Se,null,Te(e.state.items,H=>(y(),x("tr",{key:H.id,class:Pe({"is-active":l.id===H.id})},[i("th",jC,u(H.code),1),i("td",null,u(J(H.type)),1),i("td",null,u(T(H)),1),i("td",null,u(D(H.min_total_cents,a.value)),1),i("td",null,[i("span",{class:Pe(["nxp-ec-badge",{"is-active":H.active}])},[i("i",{class:Pe(H.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ge(" "+u(H.active?c(n)("JYES","Yes"):c(n)("JNO","No")),1)],2)]),i("td",null,u(H.times_used)+u(H.max_uses?` / ${H.max_uses}`:""),1),i("td",KC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:le=>A(H),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[b[15]||(b[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",qC,u(c(n)("JEDIT","Edit")),1)],8,JC),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:le=>v(H),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[b[16]||(b[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",zC,u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,WC)])],2))),128))])]),e.state.pagination.pages>1?(y(),x("div",QC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:b[1]||(b[1]=H=>f(e.state.pagination.current-1))},"  ",8,ZC),i("span",eS,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:b[2]||(b[2]=H=>f(e.state.pagination.current+1))},"  ",8,tS)])):be("",!0)]),r.value?(y(),x("div",sS,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:P}),i("div",nS,[i("aside",oS,[i("header",iS,[i("h3",null,u(l.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:P,title:c(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[b[17]||(b[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",rS,u(c(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,aS)]),i("form",{class:"nxp-ec-form",onSubmit:Et(U,["prevent"]),autocomplete:"off"},[i("div",lS,[i("label",cS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),ie(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[3]||(b[3]=H=>l.code=H),required:"",maxlength:"64"},null,512),[[pe,l.code,void 0,{trim:!0}]])]),i("div",dS,[i("label",uS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),ie(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":b[4]||(b[4]=H=>l.type=H)},[i("option",pS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",_S,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[Mt,l.type]])]),i("div",fS,[i("label",hS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),ie(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":b[5]||(b[5]=H=>l.value=H),required:""},null,512),[[pe,l.value,void 0,{number:!0}]])]),i("div",mS,[i("label",gS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),ie(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":b[6]||(b[6]=H=>l.min_total=H)},null,512),[[pe,l.min_total,void 0,{number:!0}]])]),i("div",CS,[i("label",SS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),ie(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":b[7]||(b[7]=H=>l.start=H)},null,512),[[pe,l.start]])]),i("div",ES,[i("label",AS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),ie(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":b[8]||(b[8]=H=>l.end=H)},null,512),[[pe,l.end]])]),i("div",bS,[i("label",yS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),ie(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":b[9]||(b[9]=H=>l.max_uses=H)},null,512),[[pe,l.max_uses,void 0,{number:!0}]])]),i("div",TS,[i("label",vS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),ie(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":b[10]||(b[10]=H=>l.active=H)},null,512),[[Ft,l.active]])]),i("footer",OS,[i("button",{class:"nxp-ec-btn",type:"button",onClick:P,disabled:e.state.saving},u(c(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,RS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},u(e.state.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,xS)]),l.id?(y(),x("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:b[11]||(b[11]=H=>v(l)),disabled:e.state.saving},[b[18]||(b[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Ge(" "+u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,PS)):be("",!0)],32)])])])):be("",!0)]))]))}},[["__scopeId","data-v-f3fb8685"]]),MS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},IS={class:"nxp-ec-admin-panel__header"},$S={class:"nxp-ec-admin-panel__title"},wS={class:"nxp-ec-admin-panel__lead"},kS={class:"nxp-ec-settings-tabs"},DS={key:0,class:"nxp-ec-settings-panel"},US={class:"nxp-ec-settings-panel__header"},LS=["disabled"],YS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},XS={key:1,class:"nxp-ec-admin-panel__loading"},FS={class:"nxp-ec-form-field"},VS={class:"nxp-ec-form-label",for:"settings-store-name"},GS={class:"nxp-ec-form-field"},HS={class:"nxp-ec-form-label",for:"settings-store-email"},BS={class:"nxp-ec-form-field"},jS={class:"nxp-ec-form-label",for:"settings-store-phone"},KS={class:"nxp-ec-form-field"},JS={class:"nxp-ec-form-label",for:"settings-base-currency"},qS={class:"nxp-ec-form-help"},WS={class:"nxp-ec-form-field nxp-ec-form-field--inline"},zS={class:"nxp-ec-form-label",for:"settings-payments-configured"},QS={class:"nxp-ec-form-help"},ZS={class:"nxp-ec-settings-actions"},eE=["disabled"],tE=["disabled"],sE={key:1,class:"nxp-ec-settings-panel"},nE={class:"nxp-ec-settings-panel__header"},oE=["disabled"],iE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},aE={key:1,class:"nxp-ec-settings-grid"},rE={class:"nxp-ec-settings-table"},lE={class:"nxp-ec-admin-table"},cE={scope:"col"},dE={scope:"col"},uE={scope:"col"},pE={scope:"col"},_E={scope:"col"},fE={key:0},hE={colspan:"6"},mE={scope:"row"},gE={class:"nxp-ec-admin-table__actions"},CE=["onClick","title","aria-label"],SE={class:"nxp-ec-sr-only"},EE=["onClick","title","aria-label"],AE={class:"nxp-ec-sr-only"},bE={class:"nxp-ec-form-field"},yE={class:"nxp-ec-form-label",for:"tax-country"},TE={class:"nxp-ec-form-field"},vE={class:"nxp-ec-form-label",for:"tax-region"},OE={class:"nxp-ec-form-field"},RE={class:"nxp-ec-form-label",for:"tax-rate"},xE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},PE={class:"nxp-ec-form-label",for:"tax-inclusive"},NE={class:"nxp-ec-form-field"},ME={class:"nxp-ec-form-label",for:"tax-priority"},IE={class:"nxp-ec-settings-actions"},$E=["disabled"],wE=["disabled"],kE={key:2,class:"nxp-ec-settings-panel"},DE={class:"nxp-ec-settings-panel__header"},UE=["disabled"],LE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},YE={key:1,class:"nxp-ec-settings-grid"},XE={class:"nxp-ec-settings-table"},FE={class:"nxp-ec-admin-table"},VE={scope:"col"},GE={scope:"col"},HE={scope:"col"},BE={scope:"col"},jE={scope:"col"},KE={scope:"col"},JE={key:0},qE={colspan:"7"},WE={scope:"row"},zE={class:"nxp-ec-admin-table__actions"},QE=["onClick","title","aria-label"],ZE={class:"nxp-ec-sr-only"},eA=["onClick","title","aria-label"],tA={class:"nxp-ec-sr-only"},sA={class:"nxp-ec-form-field"},nA={class:"nxp-ec-form-label",for:"shipping-name"},oA={class:"nxp-ec-form-field"},iA={class:"nxp-ec-form-label",for:"shipping-type"},aA={value:"flat"},rA={value:"free_over"},lA={class:"nxp-ec-form-field"},cA={class:"nxp-ec-form-label",for:"shipping-price"},dA={key:0,class:"nxp-ec-form-field"},uA={class:"nxp-ec-form-label",for:"shipping-threshold"},pA={class:"nxp-ec-form-field"},_A={class:"nxp-ec-form-label",for:"shipping-regions"},fA=["placeholder"],hA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},mA={class:"nxp-ec-form-label",for:"shipping-active"},gA={class:"nxp-ec-settings-actions"},CA=["disabled"],SA=["disabled"],EA={key:3,class:"nxp-ec-settings-panel"},AA={class:"nxp-ec-settings-panel__header"},bA={class:"nxp-ec-settings-actions"},yA=["disabled"],TA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vA={key:1,class:"nxp-ec-admin-panel__loading"},OA={class:"nxp-ec-form-field"},RA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},xA={class:"nxp-ec-form-field"},PA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},NA={class:"nxp-ec-form-field"},MA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},IA={class:"nxp-ec-form-help"},$A={class:"nxp-ec-form-field"},wA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},kA={value:"test"},DA={value:"live"},UA={class:"nxp-ec-form-field"},LA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},YA={class:"nxp-ec-form-field"},XA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},FA={class:"nxp-ec-form-field"},VA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},GA={class:"nxp-ec-form-help"},HA={class:"nxp-ec-form-field"},BA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},jA={value:"sandbox"},KA={value:"live"},JA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},qA={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},WA={class:"nxp-ec-form-field"},zA={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},QA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},ZA={class:"nxp-ec-settings-actions"},eb=["disabled"],tb=["disabled"],sb={key:4,class:"nxp-ec-settings-panel"},nb={class:"nxp-ec-settings-panel__header"},ob=["disabled"],ib={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ab={key:1,class:"nxp-ec-admin-panel__loading"},rb={class:"nxp-ec-form-help"},lb={class:"nxp-ec-visual-grid"},cb={class:"nxp-ec-visual-field"},db={class:"nxp-ec-form-label",for:"visual-primary-color"},ub={class:"nxp-ec-color-input-group"},pb=["value"],_b=["placeholder"],fb={class:"nxp-ec-visual-field"},hb={class:"nxp-ec-form-label",for:"visual-text-color"},mb={class:"nxp-ec-color-input-group"},gb=["value"],Cb=["placeholder"],Sb={class:"nxp-ec-visual-field"},Eb={class:"nxp-ec-form-label",for:"visual-surface-color"},Ab={class:"nxp-ec-color-input-group"},bb=["value"],yb=["placeholder"],Tb={class:"nxp-ec-visual-field"},vb={class:"nxp-ec-form-label",for:"visual-border-color"},Ob={class:"nxp-ec-color-input-group"},Rb=["value"],xb=["placeholder"],Pb={class:"nxp-ec-visual-field"},Nb={class:"nxp-ec-form-label",for:"visual-muted-color"},Mb={class:"nxp-ec-color-input-group"},Ib=["value"],$b=["placeholder"],wb={class:"nxp-ec-visual-preview"},kb={type:"button",class:"nxp-ec-preview-btn"},Db={class:"nxp-ec-preview-text"},Ub={class:"nxp-ec-preview-muted"},Lb={class:"nxp-ec-settings-actions"},Yb=["disabled"],Xb=["disabled"],Fb=At({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.settingsState,l=s.taxState,r=s.shippingState,p=s.paymentsState,_=Ye("general"),f=Ce(()=>{var de;const V=s.baseCurrency||"USD",R=typeof d.baseCurrency=="string"?d.baseCurrency.trim():"",C=typeof((de=a==null?void 0:a.values)==null?void 0:de.base_currency)=="string"?a.values.base_currency.trim():"";return(R!==""?R:C!==""?C:V).toUpperCase()}),d=$e({storeName:"",storeEmail:"",storePhone:"",paymentsConfigured:!1,baseCurrency:""}),A=$e({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),P=$e({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),U=$e({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"}}),v=$e({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),D=Ce(()=>{var R,C;const V=(C=(R=a.values)==null?void 0:R.visual_defaults)!=null?C:{};return{primary:V.primary_color||"#4f6d7a",text:V.text_color||"#1f2933",surface:V.surface_color||"#ffffff",border:V.border_color||"#e4e7ec",muted:V.muted_color||"#6b7280"}}),T=Ce(()=>({"--nxp-ec-color-primary":v.primaryColor||D.value.primary,"--nxp-ec-color-text":v.textColor||D.value.text,"--nxp-ec-color-surface":v.surfaceColor||D.value.surface,"--nxp-ec-color-border":v.borderColor||D.value.border,"--nxp-ec-color-muted":v.mutedColor||D.value.muted})),J=(V={})=>{var de,re,Ie,m,E,Y,g,h,S,O,$;const R=(de=V==null?void 0:V.store)!=null?de:{},C=(re=V==null?void 0:V.payments)!=null?re:{},oe=(Ie=V==null?void 0:V.visual)!=null?Ie:{};Object.assign(d,{storeName:(m=R.name)!=null?m:"",storeEmail:(E=R.email)!=null?E:"",storePhone:(Y=R.phone)!=null?Y:"",paymentsConfigured:!!C.configured,baseCurrency:typeof(V==null?void 0:V.base_currency)=="string"?V.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase()}),Object.assign(v,{primaryColor:(g=oe.primary_color)!=null?g:"",textColor:(h=oe.text_color)!=null?h:"",surfaceColor:(S=oe.surface_color)!=null?S:"",borderColor:(O=oe.border_color)!=null?O:"",mutedColor:($=oe.muted_color)!=null?$:""})},I=(V={})=>{var de,re,Ie,m,E,Y,g,h,S,O,$,L,M;const R=(de=V.stripe)!=null?de:{},C=(re=V.paypal)!=null?re:{},oe=(Ie=V.cod)!=null?Ie:{};Object.assign(U.stripe,{publishable_key:(m=R.publishable_key)!=null?m:"",secret_key:(E=R.secret_key)!=null?E:"",webhook_secret:(Y=R.webhook_secret)!=null?Y:"",mode:(g=R.mode)!=null?g:"test"}),Object.assign(U.paypal,{client_id:(h=C.client_id)!=null?h:"",client_secret:(S=C.client_secret)!=null?S:"",webhook_id:(O=C.webhook_id)!=null?O:"",mode:($=C.mode)!=null?$:"sandbox"}),Object.assign(U.cod,{enabled:oe.enabled!==void 0?!!oe.enabled:U.cod.enabled,label:(M=(L=oe.label)!=null?L:U.cod.label)!=null?M:"Cash on delivery"})};we(()=>a.values,V=>{J(V!=null?V:{})},{immediate:!0});const b=()=>o("refresh-settings"),H=()=>{const V=(d.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:d.storeName,email:d.storeEmail,phone:d.storePhone,base_currency:V},payments:{configured:d.paymentsConfigured},base_currency:V})},le=()=>{var V;J((V=a.values)!=null?V:{})};we(()=>a.saving,(V,R)=>{var C;R&&!V&&!a.error&&J((C=a.values)!=null?C:{})}),we(()=>d.baseCurrency,V=>{if(typeof V=="string"){const R=V.replace(/[^A-Za-z]/g,"").toUpperCase();R!==V&&(d.baseCurrency=R)}}),we(()=>p.config,V=>{I(V!=null?V:{})},{immediate:!0}),we(()=>p.saving,(V,R)=>{var C;R&&!V&&!p.error&&I((C=p.config)!=null?C:{})});const _e=()=>o("refresh-payments"),he=()=>{const V=JSON.parse(JSON.stringify(U));o("save-payments",V)},Z=()=>{var V;I((V=p.config)!=null?V:{})},G=()=>o("refresh-settings"),F=()=>{o("save-settings",{visual:{primary_color:v.primaryColor,text_color:v.textColor,surface_color:v.surfaceColor,border_color:v.borderColor,muted_color:v.mutedColor}})},j=()=>{var R,C,oe,de,re,Ie,m;const V=(C=(R=a.values)==null?void 0:R.visual)!=null?C:{};Object.assign(v,{primaryColor:(oe=V.primary_color)!=null?oe:"",textColor:(de=V.text_color)!=null?de:"",surfaceColor:(re=V.surface_color)!=null?re:"",borderColor:(Ie=V.border_color)!=null?Ie:"",mutedColor:(m=V.muted_color)!=null?m:""})},Q=()=>o("refresh-tax"),ae=()=>o("refresh-shipping"),fe=V=>{Object.assign(A,{id:V.id,country:V.country,region:V.region,rate:V.rate,inclusive:V.inclusive,priority:V.priority})},te=()=>{Object.assign(A,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},q=()=>{o("save-tax",{id:A.id||void 0,country:A.country,region:A.region,rate:A.rate,inclusive:A.inclusive,priority:A.priority})},N=V=>{const R=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(R)&&(o("delete-tax",[V.id]),A.id===V.id&&te())};we(()=>l.saving,(V,R)=>{R&&!V&&!l.error&&te()});const k=V=>{var R,C,oe;Object.assign(P,{id:V.id,name:V.name,type:V.type,price:(C=V.price)!=null?C:((R=V.price_cents)!=null?R:0)/100,threshold:V.threshold!==null&&V.threshold!==void 0?V.threshold:((oe=V.threshold_cents)!=null?oe:0)/100,regions:V.regions&&V.regions.length?V.regions.join(", "):"",active:V.active})},X=()=>{Object.assign(P,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},w=()=>{const V={id:P.id||void 0,name:P.name,type:P.type,price:P.price,threshold:P.type==="free_over"?P.threshold:0,regions:P.regions,active:P.active};o("save-shipping",V)},B=V=>{const R=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(R)&&(o("delete-shipping",[V.id]),P.id===V.id&&X())};we(()=>r.saving,(V,R)=>{R&&!V&&!r.error&&X()});const W=(V,R)=>{const C=(Number(V)||0)/100,oe=(R||"").toUpperCase()||f.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:oe}).format(C)}catch(de){return`${oe} ${C.toFixed(2)}`}},ce=V=>V==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(V,R)=>(y(),x("section",MS,[i("header",IS,[i("div",null,[i("h2",$S,u(c(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",wS,u(c(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",kS,[i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:R[0]||(R[0]=C=>_.value="general")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="tax"}]),onClick:R[1]||(R[1]=C=>_.value="tax")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="shipping"}]),onClick:R[2]||(R[2]=C=>_.value="shipping")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:R[3]||(R[3]=C=>_.value="payments")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:R[4]||(R[4]=C=>_.value="visual")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(y(),x("div",DS,[i("header",US,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:b,disabled:c(a).loading},u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,LS)]),c(a).error?(y(),x("div",YS,u(c(a).error),1)):c(a).loading?(y(),x("div",XS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form",onSubmit:Et(H,["prevent"])},[i("div",FS,[i("label",VS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),ie(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[5]||(R[5]=C=>d.storeName=C),maxlength:"190"},null,512),[[pe,d.storeName,void 0,{trim:!0}]])]),i("div",GS,[i("label",HS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),ie(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":R[6]||(R[6]=C=>d.storeEmail=C)},null,512),[[pe,d.storeEmail,void 0,{trim:!0}]])]),i("div",BS,[i("label",jS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),ie(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[7]||(R[7]=C=>d.storePhone=C),maxlength:"64"},null,512),[[pe,d.storePhone,void 0,{trim:!0}]])]),i("div",KS,[i("label",JS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),ie(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":R[8]||(R[8]=C=>d.baseCurrency=C),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[pe,d.baseCurrency,void 0,{trim:!0}]]),i("p",qS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",WS,[i("label",zS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),ie(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":R[9]||(R[9]=C=>d.paymentsConfigured=C)},null,512),[[Ft,d.paymentsConfigured]]),i("p",QS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",ZS,[i("button",{class:"nxp-ec-btn",type:"button",onClick:le,disabled:c(a).saving},u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,eE),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(a).saving},u(c(a).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,tE)])],32))])):_.value==="tax"?(y(),x("div",sE,[i("header",nE,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Q,disabled:c(l).loading},u(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,oE)]),c(l).error?(y(),x("div",iE,u(c(l).error),1)):(y(),x("div",aE,[i("div",rE,[i("table",lE,[i("thead",null,[i("tr",null,[i("th",cE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",dE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",uE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",pE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",_E,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),R[46]||(R[46]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[c(l).items.length?be("",!0):(y(),x("tr",fE,[i("td",hE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(y(!0),x(Se,null,Te(c(l).items,C=>{var oe;return y(),x("tr",{key:C.id,class:Pe({"is-active":A.id===C.id})},[i("th",mE,u(C.country),1),i("td",null,u(C.region||""),1),i("td",null,u(((oe=C.rate)!=null?oe:0).toFixed(2))+"%",1),i("td",null,u(C.inclusive?c(n)("JYES","Yes"):c(n)("JNO","No")),1),i("td",null,u(C.priority),1),i("td",gE,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:de=>fe(C),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[R[47]||(R[47]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",SE,u(c(n)("JEDIT","Edit")),1)],8,CE),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:de=>N(C),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[R[48]||(R[48]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",AE,u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,EE)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:Et(q,["prevent"])},[i("h4",null,u(A.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",bE,[i("label",yE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),ie(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[10]||(R[10]=C=>A.country=C),maxlength:"2",required:""},null,512),[[pe,A.country,void 0,{trim:!0}]])]),i("div",TE,[i("label",vE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),ie(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[11]||(R[11]=C=>A.region=C)},null,512),[[pe,A.region,void 0,{trim:!0}]])]),i("div",OE,[i("label",RE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),ie(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":R[12]||(R[12]=C=>A.rate=C),required:""},null,512),[[pe,A.rate,void 0,{number:!0}]])]),i("div",xE,[i("label",PE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),ie(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":R[13]||(R[13]=C=>A.inclusive=C)},null,512),[[Ft,A.inclusive]])]),i("div",NE,[i("label",ME,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),ie(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":R[14]||(R[14]=C=>A.priority=C)},null,512),[[pe,A.priority,void 0,{number:!0}]])]),i("div",IE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:te,disabled:c(l).saving},u(c(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,$E),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(l).saving},u(c(l).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,wE)])],32)]))])):_.value==="shipping"?(y(),x("div",kE,[i("header",DE,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ae,disabled:c(r).loading},u(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,UE)]),c(r).error?(y(),x("div",LE,u(c(r).error),1)):(y(),x("div",YE,[i("div",XE,[i("table",FE,[i("thead",null,[i("tr",null,[i("th",VE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",GE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",HE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",BE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",jE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",KE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),R[49]||(R[49]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[c(r).items.length?be("",!0):(y(),x("tr",JE,[i("td",qE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(y(!0),x(Se,null,Te(c(r).items,C=>(y(),x("tr",{key:C.id,class:Pe({"is-active":P.id===C.id})},[i("th",WE,u(C.name),1),i("td",null,u(ce(C.type)),1),i("td",null,u(W(C.price_cents,f.value)),1),i("td",null,u(C.type==="free_over"?W(C.threshold_cents,f.value):""),1),i("td",null,u(C.regions&&C.regions.length?C.regions.join(", "):c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,[i("span",{class:Pe(["nxp-ec-badge",{"is-active":C.active}])},[i("i",{class:Pe(C.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ge(" "+u(C.active?c(n)("JYES","Yes"):c(n)("JNO","No")),1)],2)]),i("td",zE,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:oe=>k(C),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[R[50]||(R[50]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",ZE,u(c(n)("JEDIT","Edit")),1)],8,QE),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:oe=>B(C),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[R[51]||(R[51]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",tA,u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,eA)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:Et(w,["prevent"])},[i("h4",null,u(P.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",sA,[i("label",nA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),ie(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[15]||(R[15]=C=>P.name=C),required:""},null,512),[[pe,P.name,void 0,{trim:!0}]])]),i("div",oA,[i("label",iA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),ie(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":R[16]||(R[16]=C=>P.type=C)},[i("option",aA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",rA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[Mt,P.type]])]),i("div",lA,[i("label",cA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),ie(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":R[17]||(R[17]=C=>P.price=C),required:""},null,512),[[pe,P.price,void 0,{number:!0}]])]),P.type==="free_over"?(y(),x("div",dA,[i("label",uA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),ie(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":R[18]||(R[18]=C=>P.threshold=C),required:""},null,512),[[pe,P.threshold,void 0,{number:!0}]])])):be("",!0),i("div",pA,[i("label",_A,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),ie(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[19]||(R[19]=C=>P.regions=C),placeholder:c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,fA),[[pe,P.regions,void 0,{trim:!0}]])]),i("div",hA,[i("label",mA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),ie(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":R[20]||(R[20]=C=>P.active=C)},null,512),[[Ft,P.active]])]),i("div",gA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:X,disabled:c(r).saving},u(c(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,CA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(r).saving},u(c(r).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,SA)])],32)]))])):_.value==="payments"?(y(),x("div",EA,[i("header",AA,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",bA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:_e,disabled:c(p).loading},u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,yA)])]),c(p).error?(y(),x("div",TA,u(c(p).error),1)):c(p).loading?(y(),x("div",vA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:Et(he,["prevent"])},[i("fieldset",null,[i("legend",null,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",OA,[i("label",RA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),ie(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[21]||(R[21]=C=>U.stripe.publishable_key=C)},null,512),[[pe,U.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",xA,[i("label",PA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),ie(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":R[22]||(R[22]=C=>U.stripe.secret_key=C),autocomplete:"off"},null,512),[[pe,U.stripe.secret_key,void 0,{trim:!0}]])]),i("div",NA,[i("label",MA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),ie(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":R[23]||(R[23]=C=>U.stripe.webhook_secret=C),autocomplete:"off"},null,512),[[pe,U.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",IA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",$A,[i("label",wA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ie(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":R[24]||(R[24]=C=>U.stripe.mode=C)},[i("option",kA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",DA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Mt,U.stripe.mode]])])]),i("fieldset",null,[i("legend",null,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",UA,[i("label",LA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),ie(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[25]||(R[25]=C=>U.paypal.client_id=C)},null,512),[[pe,U.paypal.client_id,void 0,{trim:!0}]])]),i("div",YA,[i("label",XA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),ie(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":R[26]||(R[26]=C=>U.paypal.client_secret=C),autocomplete:"off"},null,512),[[pe,U.paypal.client_secret,void 0,{trim:!0}]])]),i("div",FA,[i("label",VA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),ie(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[27]||(R[27]=C=>U.paypal.webhook_id=C)},null,512),[[pe,U.paypal.webhook_id,void 0,{trim:!0}]]),i("p",GA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",HA,[i("label",BA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ie(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":R[28]||(R[28]=C=>U.paypal.mode=C)},[i("option",jA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",KA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Mt,U.paypal.mode]])])]),i("fieldset",null,[i("legend",null,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",JA,[i("label",qA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),ie(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":R[29]||(R[29]=C=>U.cod.enabled=C)},null,512),[[Ft,U.cod.enabled]])]),i("div",WA,[i("label",zA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),ie(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[30]||(R[30]=C=>U.cod.label=C),placeholder:"Cash on delivery"},null,512),[[pe,U.cod.label,void 0,{trim:!0}]])])]),c(p).message?(y(),x("div",QA,u(c(p).message),1)):be("",!0),i("div",ZA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Z,disabled:c(p).saving},u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,eb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(p).saving},u(c(p).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,tb)])],32))])):_.value==="visual"?(y(),x("div",sb,[i("header",nb,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:G,disabled:c(a).loading},u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,ob)]),c(a).error?(y(),x("div",ib,u(c(a).error),1)):c(a).loading?(y(),x("div",ab,u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:Et(F,["prevent"])},[i("p",rb,u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("div",lb,[i("div",cb,[i("label",db,u(c(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",ub,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:v.primaryColor||D.value.primary,onInput:R[31]||(R[31]=C=>v.primaryColor=C.target.value)},null,40,pb),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[32]||(R[32]=C=>v.primaryColor=C),placeholder:D.value.primary,maxlength:"7"},null,8,_b),[[pe,v.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[33]||(R[33]=C=>v.primaryColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",fb,[i("label",hb,u(c(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",mb,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:v.textColor||D.value.text,onInput:R[34]||(R[34]=C=>v.textColor=C.target.value)},null,40,gb),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[35]||(R[35]=C=>v.textColor=C),placeholder:D.value.text,maxlength:"7"},null,8,Cb),[[pe,v.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[36]||(R[36]=C=>v.textColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",Sb,[i("label",Eb,u(c(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",Ab,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:v.surfaceColor||D.value.surface,onInput:R[37]||(R[37]=C=>v.surfaceColor=C.target.value)},null,40,bb),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[38]||(R[38]=C=>v.surfaceColor=C),placeholder:D.value.surface,maxlength:"7"},null,8,yb),[[pe,v.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[39]||(R[39]=C=>v.surfaceColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",Tb,[i("label",vb,u(c(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",Ob,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:v.borderColor||D.value.border,onInput:R[40]||(R[40]=C=>v.borderColor=C.target.value)},null,40,Rb),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[41]||(R[41]=C=>v.borderColor=C),placeholder:D.value.border,maxlength:"7"},null,8,xb),[[pe,v.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[42]||(R[42]=C=>v.borderColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",Pb,[i("label",Nb,u(c(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",Mb,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:v.mutedColor||D.value.muted,onInput:R[43]||(R[43]=C=>v.mutedColor=C.target.value)},null,40,Ib),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[44]||(R[44]=C=>v.mutedColor=C),placeholder:D.value.muted,maxlength:"7"},null,8,$b),[[pe,v.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[45]||(R[45]=C=>v.mutedColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",wb,[i("h4",null,u(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Dt(T.value)},[i("button",kb,u(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",Db,u(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",Ub,u(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",Lb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:c(a).saving},u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,Yb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(a).saving},u(c(a).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,Xb)])],32))])):be("",!0)]))}},[["__scopeId","data-v-0565e43d"]]),Vb={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},Gb={class:"nxp-ec-admin-panel__header"},Hb={class:"nxp-ec-admin-panel__title"},Bb={class:"nxp-ec-admin-panel__lead"},jb={class:"nxp-ec-admin-panel__actions"},Kb=["placeholder","aria-label"],Jb=["value"],qb={value:""},Wb=["value"],zb=["disabled","title","aria-label"],Qb={class:"nxp-ec-sr-only"},Zb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ey={key:1,class:"nxp-ec-admin-panel__body"},ty={key:2,class:"nxp-ec-admin-panel__body"},sy={class:"nxp-ec-admin-panel__table"},ny={class:"nxp-ec-admin-table"},oy={scope:"col"},iy={scope:"col"},ay={scope:"col"},ry={scope:"col"},ly={scope:"col"},cy={key:0},dy={colspan:"5"},uy={class:"nxp-ec-log-entity"},py={class:"nxp-ec-log-entity-id"},_y={class:"nxp-ec-log-context"},fy={key:0,class:"nxp-ec-admin-pagination"},hy=["disabled"],my={class:"nxp-ec-admin-pagination__status"},gy=["disabled"],Cy=["title"],Sy=At({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.state,l=Ce(()=>{const D=new Set;return Array.isArray(a.items)&&a.items.forEach(T=>{T!=null&&T.entity_type&&D.add(T.entity_type)}),a.entity&&D.add(a.entity),Array.from(D).sort()}),r=()=>o("refresh"),p=()=>o("search"),_=D=>o("filter",D),f=D=>o("page",D),d=D=>{if(!D)return"";try{const T=new Date(D.replace(" ","T"));if(!Number.isNaN(T.getTime()))return T.toLocaleString()}catch(T){}return D},A=D=>{if(!D)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(D){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return D.charAt(0).toUpperCase()+D.slice(1)}},P=D=>{if(!(D!=null&&D.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const T=D.user.name||"",J=D.user.username||"";return T&&J?`${T} (${J})`:T||J||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},U=D=>{if(!D||Array.isArray(D)&&!D.length||typeof D=="object"&&!Object.keys(D).length)return"";try{return JSON.stringify(D,null,2)}catch(T){return String(D)}},v=D=>{if(!D)return"";try{const T=new Date(D),I=new Date-T,b=Math.floor(I/1e3),H=Math.floor(b/60),le=Math.floor(H/60);return b<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):H<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[H]):le<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[le]):T.toLocaleString()}catch(T){return D}};return(D,T)=>(y(),x("section",Vb,[i("header",Gb,[i("div",null,[i("h2",Hb,u(c(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",Bb,u(c(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",jb,[ie(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":T[0]||(T[0]=J=>c(a).search=J),placeholder:c(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":c(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:jt(p,["enter"])},null,40,Kb),[[pe,c(a).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:c(a).entity,onChange:T[1]||(T[1]=J=>_(J.target.value)),"aria-label":"Entity filter"},[i("option",qb,u(c(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(y(!0),x(Se,null,Te(l.value,J=>(y(),x("option",{key:J,value:J},u(A(J)),9,Wb))),128))],40,Jb),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:r,disabled:c(a).loading,title:c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[T[4]||(T[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Qb,u(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,zb)])]),c(a).error?(y(),x("div",Zb,u(c(a).error),1)):c(a).loading?(y(),x("div",ey,[Xe(Rs,{type:"table",rows:5,columns:5})])):(y(),x("div",ty,[i("div",sy,[i("table",ny,[i("thead",null,[i("tr",null,[i("th",oy,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",iy,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",ay,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",ry,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",ly,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[c(a).items.length?be("",!0):(y(),x("tr",cy,[i("td",dy,u(c(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(y(!0),x(Se,null,Te(c(a).items,J=>(y(),x("tr",{key:J.id},[i("td",null,u(d(J.created)),1),i("td",null,[i("span",uy,u(A(J.entity_type)),1),i("span",py,"#"+u(J.entity_id),1)]),i("td",null,u(J.action),1),i("td",null,u(P(J)),1),i("td",null,[i("pre",_y,u(U(J.context)),1)])]))),128))])]),c(a).pagination.pages>1?(y(),x("div",fy,[i("button",{class:"nxp-ec-btn",type:"button",disabled:c(a).pagination.current<=1,onClick:T[2]||(T[2]=J=>f(c(a).pagination.current-1))},"  ",8,hy),i("span",my,u(c(a).pagination.current)+" / "+u(c(a).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:c(a).pagination.current>=c(a).pagination.pages,onClick:T[3]||(T[3]=J=>f(c(a).pagination.current+1))},"  ",8,gy)])):be("",!0)]),c(a).lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:c(a).lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(v(c(a).lastUpdated)),9,Cy)):be("",!0)]))]))}},[["__scopeId","data-v-0f086c0e"]]),Ey={key:0,class:"nxp-ec-onboarding"},Ay={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},by={class:"nxp-ec-onboarding__header"},yy={class:"nxp-ec-onboarding__title"},Ty={class:"nxp-ec-onboarding__lead"},vy={class:"nxp-ec-onboarding__progress"},Oy={class:"nxp-ec-onboarding__progress-bar"},Ry={class:"nxp-ec-onboarding__progress-label"},xy={class:"nxp-ec-onboarding__steps"},Py={class:"nxp-ec-onboarding__step-main"},Ny={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},My={key:0,class:"fa-solid fa-circle-check"},Iy={key:1,class:"fa-regular fa-circle"},$y={class:"nxp-ec-onboarding__step-actions"},wy=["onClick"],ky=At({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,o=Ce(()=>t.steps.length?t.steps.filter(r=>r.completed).length/t.steps.length*100:0),n=Ce(()=>`${o.value}%`),a=Ce(()=>{const l=t.steps.filter(r=>r.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,r)=>e.visible?(y(),x("div",Ey,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:r[0]||(r[0]=p=>l.$emit("close"))}),i("section",Ay,[i("header",by,[i("div",null,[i("h2",yy,u(c(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",Ty,u(c(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:r[1]||(r[1]=p=>l.$emit("close"))},u(c(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",vy,[i("div",Oy,[i("span",{style:Dt({width:n.value})},null,4)]),i("span",Ry,u(a.value),1)]),i("ol",xy,[(y(!0),x(Se,null,Te(e.steps,p=>(y(),x("li",{key:p.id,class:Pe({"is-complete":p.completed})},[i("div",Py,[i("span",Ny,[p.completed?(y(),x("span",My)):(y(),x("span",Iy))]),i("div",null,[i("h3",null,u(c(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,u(c(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",$y,[p.link?(y(),x("button",{key:0,type:"button",class:Pe(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:_=>l.$emit("navigate",p)},u(p.completed?c(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):c(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,wy)):be("",!0)])],2))),128))])])])):be("",!0)}},[["__scopeId","data-v-485ff468"]]),Dy=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let o=String(e);return t.forEach(a=>{const l=a!=null?a:"";o=o.replace("%s",String(l))}),o},Uy=(e,t="",s=[])=>{var a;const o=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(n=l)}return Dy(n,s)};function Ly(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const l=t[n];return l!=null&&l!==""?l:a};return{__:(n,a="",l=[],r="")=>{const p=s(r,a);return Uy(n,p,l)}}}class Yy{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};o.headers={...o.headers,...s.headers||{}};const n=String(o.method||"GET").toUpperCase();let a=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const l=await fetch(a,o);let r=null;const p=await l.text();if(p)try{r=JSON.parse(p)}catch(_){}if(!l.ok){const _=new Error((r==null?void 0:r.message)||`Request failed with status ${l.status}`);throw _.code=l.status,_.details=(r==null?void 0:r.data)||(r==null?void 0:r.errors)||null,_}if((r==null?void 0:r.success)===!1){const _=new Error(r.message||"Unknown API error");throw _.details=r.data||r.errors||null,_}return r!=null?r:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,o);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(o){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var A,P,U,v;const l=new URLSearchParams({limit:String(s),start:String(o)});n&&l.set("search",n);const r=`${t}&${l.toString()}`,_=(A=(await this.get(r,{signal:a})).data)!=null?A:{},f=(U=(P=_.items)!=null?P:_.data)!=null?U:[],d=(v=_.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:d}}async fetchCategories({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,d;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:o=0,search:n="",state:a="",signal:l}){var A,P,U,v;const r=this.mergeParams(t,{limit:s,start:o,search:n||void 0,state:a||void 0}),_=(A=(await this.get(r,{signal:l})).data)!=null?A:{},f=(U=(P=_.items)!=null?P:_.data)!=null?U:[],d=(v=_.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:d}}async fetchCustomers({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var d,A,P;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(d=(await this.get(l,{signal:a})).data)!=null?d:{},_=(A=p.items)!=null?A:[],f=(P=p.pagination)!=null?P:{total:0,limit:s,pages:0,current:0};return{items:_,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,d;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.coupon)!=null?r:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,d;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.rate)!=null?r:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,d;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.rule)!=null?r:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:o=0,search:n="",entity:a="",signal:l}){var f,d,A;const r=this.mergeParams(t,{limit:s,start:o,search:n||void 0,entity:a||void 0}),_=(f=(await this.get(r,{signal:l})).data)!=null?f:{};return{items:(d=_.items)!=null?d:[],pagination:(A=_.pagination)!=null?A:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,n;return t?(n=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:o=""}){var l,r;const n=this.mergeParams(t,{id:s||void 0,order_no:o||void 0});return(r=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?r:null}async transitionOrder({endpoint:t,id:s,state:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.post(n,{state:o})).data)==null?void 0:l.order)!=null?r:null}async bulkTransitionOrders({endpoint:t,ids:s,state:o}){var l;const n={ids:s,state:o};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:o}){var a,l;return(l=(a=(await this.post(t,{id:s,message:o})).data)==null?void 0:a.order)!=null?l:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?r:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?r:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}mergeParams(t,s={}){const o=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||o.set(n,String(a))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const ut=e=>new Yy(e),Bi=typeof window!="undefined"&&window.performance;function ji(e){if(Bi)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function Xy(e,t,s){if(!Bi)return null;try{performance.measure(e,t,s);const o=performance.getEntriesByName(e,"measure")[0];if(o)return console.log(`[NXP EC Performance] ${e}: ${o.duration.toFixed(2)}ms`),o.duration}catch(o){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,o)}return null}const an=$e({}),Fy=3e5;function Vy(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function bt(e,t=Fy){const s=an[e];return s?Vy(s,t)?s.data:(delete an[e],null):null}function pt(e,t){an[e]={data:t,timestamp:Date.now()}}function Le(e){delete an[e]}function yt(e){const t=Ye({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return ji(l),l},endFetch:l=>{const r=`${e}-fetch-end`;ji(r);const p=Xy(`${e}-fetch`,l,r);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const qn=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function Gy({endpoints:e,token:t,autoload:s=!0,cacheTTL:o=3e5}){var le,_e,he,Z;const n=ut({token:t}),a=yt("products"),l=(le=e==null?void 0:e.list)!=null?le:"",r=(_e=e==null?void 0:e.create)!=null?_e:qn(l,"store"),p=(he=e==null?void 0:e.update)!=null?he:qn(l,"update"),_=(Z=e==null?void 0:e.delete)!=null?Z:qn(l,"delete"),f=typeof AbortController!="undefined",d=$e({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),A=Ye(null),P=()=>{const G=d.pagination.current||1,F=d.pagination.limit||20,j=d.search.trim();return`products:page=${G}:limit=${F}:search=${j}`},U=async(G=!1)=>{var fe;if(!l){d.error="Products endpoint unavailable.",d.items=[];return}const F=P(),j=G?null:bt(F,o);if(j){a.recordCacheHit(),d.items=j.items,d.pagination={...d.pagination,...j.pagination},d.lastUpdated=j.lastUpdated;return}a.recordCacheMiss(),d.loading=!0,d.error="",d.validationErrors=[],A.value&&f&&A.value.abort();const Q=f?new AbortController:null;A.value=Q;const ae=a.startFetch();try{const{items:te,pagination:q}=await n.fetchProducts({endpoint:l,signal:Q?Q.signal:void 0,limit:d.pagination.limit,start:Math.max(0,(d.pagination.current-1)*d.pagination.limit),search:d.search.trim()});d.items=te,d.pagination={...d.pagination,...q,current:q.current&&q.current>0?q.current:1},d.lastUpdated=new Date().toISOString(),pt(F,{items:te,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;d.error=(fe=te==null?void 0:te.message)!=null?fe:"Unknown error"}finally{a.endFetch(ae),f&&A.value===Q&&(A.value=null),d.loading=!1}},v=()=>{d.pagination.current=1,Le(P()),U(!0)},D=()=>{d.pagination.current=1,U()},T=G=>G?typeof G=="string"?G:typeof G=="object"&&G.message?String(G.message):String(G):"",J=(G,{setValidation:F=!1}={})=>{var j;if((G==null?void 0:G.code)===422&&F){const Q=Array.isArray(G.details)?G.details:[G.details].filter(Boolean);d.validationErrors=Q.map(T).filter(ae=>ae!=="");return}d.error=(j=G==null?void 0:G.message)!=null?j:"Unknown error"},I=async G=>{if(!r)throw new Error("Create endpoint unavailable.");d.saving=!0,d.validationErrors=[];try{const F=await n.createProduct({endpoint:r,data:G});return F&&(d.items=[F,...d.items],d.pagination.total+=1,Le(P())),F}catch(F){throw J(F,{setValidation:!0}),F}finally{d.saving=!1}},b=async(G,F)=>{if(!p)throw new Error("Update endpoint unavailable.");d.saving=!0,d.validationErrors=[];try{const j=await n.updateProduct({endpoint:p,id:G,data:F});if(j){const Q=d.items.findIndex(ae=>ae.id===j.id);Q!==-1&&d.items.splice(Q,1,j),Le(P())}return j}catch(j){throw J(j,{setValidation:!0}),j}finally{d.saving=!1}},H=async G=>{if(!_)throw new Error("Delete endpoint unavailable.");d.deleting=!0,d.validationErrors=[];try{const F=await n.deleteProducts({endpoint:_,ids:G});return F.length&&(d.items=d.items.filter(j=>!F.includes(j.id)),d.pagination.total=Math.max(0,d.pagination.total-F.length),Le(P())),F}catch(F){throw J(F),F}finally{d.deleting=!1}};return nt(()=>{s&&U()}),{state:d,loadProducts:U,refresh:v,search:D,createProduct:I,updateProduct:b,deleteProducts:H,metrics:a.metrics}}function Hy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var _e,he,Z,G,F,j,Q,ae,fe,te,q,N,k,X;const a=ut({token:t}),l=yt("categories"),r=(_e=e==null?void 0:e.list)!=null?_e:"",p=(he=e==null?void 0:e.create)!=null?he:r,_=(Z=e==null?void 0:e.update)!=null?Z:r,f=(G=e==null?void 0:e.delete)!=null?G:r,d=$e({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(ae=(Q=(F=s.pagination)==null?void 0:F.total)!=null?Q:(j=s.items)==null?void 0:j.length)!=null?ae:0,limit:(te=(fe=s.pagination)==null?void 0:fe.limit)!=null?te:20,pages:(N=(q=s.pagination)==null?void 0:q.pages)!=null?N:0,current:(X=(k=s.pagination)==null?void 0:k.current)!=null?X:1},search:"",lastUpdated:null}),A=typeof AbortController!="undefined",P=Ye(null),U=()=>{const w=d.pagination.current||1,B=d.pagination.limit||20,W=d.search.trim();return`categories:page=${w}:limit=${B}:search=${W}`},v=async(w=!1)=>{var R;if(!r){d.error="Categories endpoint unavailable.",d.items=[];return}const B=U(),W=w?null:bt(B,n);if(W){l.recordCacheHit(),d.items=W.items,d.pagination={...d.pagination,...W.pagination},d.lastUpdated=W.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="",d.validationErrors=[],P.value&&A&&P.value.abort();const ce=A?new AbortController:null;P.value=ce;const V=l.startFetch();try{const C=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:oe,pagination:de}=await a.fetchCategories({endpoint:r,limit:d.pagination.limit,start:C,search:d.search.trim(),signal:ce?ce.signal:void 0});d.items=oe,d.pagination={...d.pagination,...de,current:de.current&&de.current>0?de.current:1},d.lastUpdated=new Date().toISOString(),pt(B,{items:oe,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(C){if((C==null?void 0:C.name)==="AbortError")return;d.error=(R=C==null?void 0:C.message)!=null?R:"Unknown error"}finally{l.endFetch(V),A&&P.value===ce&&(P.value=null),d.loading=!1}},D=()=>{d.pagination.current=1,Le(U()),v(!0)},T=()=>{d.pagination.current=1,v()},J=w=>{const B=Number(w);Number.isNaN(B)||B<1||B===d.pagination.current||(d.pagination.current=B,v())},I=(w,{validation:B=!1}={})=>{var W;if(B&&(w==null?void 0:w.code)===422){const ce=w.details,V=Array.isArray(ce)?ce:[ce].filter(Boolean);d.validationErrors=V.map(R=>R?typeof R=="string"?R:typeof R=="object"&&R.message?String(R.message):String(R):"").filter(Boolean);return}d.error=(W=w==null?void 0:w.message)!=null?W:"Unknown error"},b=async w=>{if(!p||!_)throw new Error("Category endpoints unavailable.");d.saving=!0,d.error="",d.validationErrors=[];try{let B=null;return w.id?B=await a.updateCategory({endpoint:_,id:w.id,data:w}):B=await a.createCategory({endpoint:p,data:w}),B&&(Le(U()),await v()),B}catch(B){throw I(B,{validation:!0}),B}finally{d.saving=!1}},H=async w=>{if(!Array.isArray(w)||!w.length||!f)return 0;d.deleting=!0,d.error="";try{const B=await a.deleteCategories({endpoint:f,ids:w});return B&&(Le(U()),await v()),B}catch(B){throw I(B),B}finally{d.deleting=!1}},le=async()=>{if(!r)return[];try{const{items:w}=await a.fetchCategories({endpoint:r,limit:200,start:0,search:""});return w}catch(w){return[]}};return nt(()=>{o&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadCategories:v,refresh:D,search:T,goToPage:J,saveCategory:b,deleteCategories:H,loadOptions:le,metrics:l.metrics}}const rn=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function By({endpoints:e,token:t,states:s=[],preload:o={},autoload:n=!0,cacheTTL:a=3e5}){var N,k,X,w,B,W,ce,V,R;const l=ut({token:t}),r=yt("orders"),p=(N=e==null?void 0:e.list)!=null?N:"",_=(k=e==null?void 0:e.show)!=null?k:rn(p,"show"),f=(X=e==null?void 0:e.transition)!=null?X:rn(p,"transition"),d=(w=e==null?void 0:e.bulkTransition)!=null?w:rn(p,"bulkTransition"),A=(B=e==null?void 0:e.note)!=null?B:rn(p,"note"),P=typeof AbortController!="undefined",U=Ye(null),v=Array.isArray(o==null?void 0:o.items)?o.items:[],D=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},T=$e({loading:!1,saving:!1,error:"",transitionError:"",items:[...v],pagination:{total:(W=D.total)!=null?W:v.length,limit:(ce=D.limit)!=null?ce:20,pages:(V=D.pages)!=null?V:0,current:(R=D.current)!=null?R:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null}),J=()=>{const C=T.pagination.current||1,oe=T.pagination.limit||20,de=T.search.trim(),re=T.filterState||"";return`orders:page=${C}:limit=${oe}:search=${de}:state=${re}`},I=async(C=!1)=>{var m;if(!p){T.error="Orders endpoint unavailable.",T.items=[];return}const oe=J(),de=C?null:bt(oe,a);if(de){r.recordCacheHit(),T.items=de.items,T.pagination={...T.pagination,...de.pagination},T.lastUpdated=de.lastUpdated;return}r.recordCacheMiss(),T.loading=!0,T.error="",U.value&&P&&U.value.abort();const re=P?new AbortController:null;U.value=re;const Ie=r.startFetch();try{const E=Math.max(0,(T.pagination.current-1)*T.pagination.limit),{items:Y,pagination:g}=await l.fetchOrders({endpoint:p,limit:T.pagination.limit,start:E,search:T.search.trim(),state:T.filterState,signal:re?re.signal:void 0});T.items=Y,T.pagination={...T.pagination,...g,current:g.current&&g.current>0?g.current:1},T.selection.clear(),T.lastUpdated=new Date().toISOString(),pt(oe,{items:Y,pagination:T.pagination,lastUpdated:T.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;T.error=(m=E==null?void 0:E.message)!=null?m:"Unknown error"}finally{r.endFetch(Ie),P&&U.value===re&&(U.value=null),T.loading=!1}},b=()=>{T.pagination.current=1,Le(J()),I(!0)},H=()=>{T.pagination.current=1,I()},le=C=>{T.filterState=C||"",T.pagination.current=1,I()},_e=C=>{const oe=Number(C);Number.isNaN(oe)||oe<1||oe===T.pagination.current||(T.pagination.current=oe,I())},he=()=>{T.selection.clear()},Z=C=>{C&&(T.selection.has(C)?T.selection.delete(C):T.selection.add(C))},G=()=>{T.pagination.current>=T.pagination.pages||(T.pagination.current+=1,I())},F=()=>{T.pagination.current<=1||(T.pagination.current-=1,I())},j=async(C,oe="")=>{var de;if(!_)return null;try{return await l.fetchOrder({endpoint:_,id:C,orderNumber:oe})}catch(re){return T.transitionError=(de=re==null?void 0:re.message)!=null?de:"Unknown error",null}},Q=async C=>{var oe,de,re,Ie,m,E,Y;if(!C){T.activeOrder=null;return}if(T.transitionError="",C.items&&C.items.length&&C.billing){T.activeOrder=C;return}try{const g=await j(C.id,C.order_no);T.activeOrder=g||{...C,items:Array.isArray(C.items)?C.items:[],transactions:(oe=C.transactions)!=null?oe:[],timeline:(de=C.timeline)!=null?de:[],billing:(re=C.billing)!=null?re:{}}}catch(g){T.transitionError=(Ie=g==null?void 0:g.message)!=null?Ie:"Unknown error",T.activeOrder={...C,items:Array.isArray(C.items)?C.items:[],transactions:(m=C.transactions)!=null?m:[],timeline:(E=C.timeline)!=null?E:[],billing:(Y=C.billing)!=null?Y:{}}}},ae=()=>{T.transitionError="",T.activeOrder=null},fe=C=>{if(!(C!=null&&C.id))return;const oe=T.items.findIndex(de=>de.id===C.id);oe!==-1&&T.items.splice(oe,1,C)},te=async(C,oe)=>{var de;if(!f)throw new Error("Transition endpoint unavailable.");T.saving=!0,T.transitionError="";try{const re=await l.transitionOrder({endpoint:f,id:C,state:oe});return re&&(fe(re),T.activeOrder&&T.activeOrder.id===re.id&&(T.activeOrder=re),Le(J())),re}catch(re){throw T.transitionError=(de=re==null?void 0:re.message)!=null?de:"Unknown error",re}finally{T.saving=!1}},q=async(C,oe)=>{var de;if(!d)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(C)||!C.length)return{updated:[]};T.saving=!0;try{const re=await l.bulkTransitionOrders({endpoint:d,ids:C,state:oe}),Ie=Array.isArray(re.updated)?re.updated:[];return Ie.forEach(m=>{fe(m),T.activeOrder&&T.activeOrder.id===m.id&&(T.activeOrder=m)}),he(),{updated:Ie}}catch(re){throw T.transitionError=(de=re==null?void 0:re.message)!=null?de:"Unknown error",re}finally{T.saving=!1}};return nt(()=>{n&&I()}),{state:T,loadOrders:I,refresh:b,search:H,setFilterState:le,goToPage:_e,nextPage:G,previousPage:F,viewOrder:Q,closeOrder:ae,transitionOrder:te,bulkTransition:q,toggleSelection:Z,clearSelection:he,metrics:r.metrics,addNote:async(C,oe)=>{var de;if(!A)throw new Error("Note endpoint unavailable.");if(!C||!oe||!oe.trim())return null;T.transitionError="",T.saving=!0;try{const re=await l.addOrderNote({endpoint:A,id:C,message:oe});return re&&(fe(re),T.activeOrder&&T.activeOrder.id===re.id&&(T.activeOrder=re)),re}catch(re){throw T.transitionError=(de=re==null?void 0:re.message)!=null?de:"Unknown error",re}finally{T.saving=!1}}}}function jy({endpoint:e="",token:t="",preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var f,d,A;const a=ut({token:t}),l=yt("dashboard"),r=$e({loading:!1,error:"",summary:(A=s.summary)!=null?A:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(d=(f=s.summary)==null?void 0:f.currency)!=null?d:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",_=async(P=!1)=>{var T,J;if(!e)return;const U=p(),v=P?null:bt(U,n);if(v){l.recordCacheHit(),r.summary=v.summary,r.checklist=v.checklist,r.lastUpdated=v.lastUpdated;return}l.recordCacheMiss(),r.loading=!0,r.error="";const D=l.startFetch();try{const I=await a.fetchDashboard({endpoint:e});r.summary=(T=I.summary)!=null?T:r.summary,r.checklist=Array.isArray(I.checklist)?I.checklist:r.checklist,r.lastUpdated=new Date().toISOString(),pt(U,{summary:r.summary,checklist:r.checklist,lastUpdated:r.lastUpdated})}catch(I){r.error=(J=I==null?void 0:I.message)!=null?J:"Unknown error"}finally{l.endFetch(D),r.loading=!1}};return nt(()=>{o&&(!Array.isArray(r.checklist)||!r.checklist.length)&&_()}),{state:r,refresh:_,metrics:l.metrics}}function Ky({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var I,b,H,le,_e,he,Z,G,F,j,Q,ae,fe;const a=ut({token:t}),l=yt("customers"),r=(I=e==null?void 0:e.list)!=null?I:"",p=(b=e==null?void 0:e.show)!=null?b:"",_=$e({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(he=(_e=(H=s.pagination)==null?void 0:H.total)!=null?_e:(le=s.items)==null?void 0:le.length)!=null?he:0,limit:(G=(Z=s.pagination)==null?void 0:Z.limit)!=null?G:20,pages:(j=(F=s.pagination)==null?void 0:F.pages)!=null?j:0,current:(ae=(Q=s.pagination)==null?void 0:Q.current)!=null?ae:1},search:"",activeCustomer:(fe=s.active)!=null?fe:null,lastUpdated:null}),f=typeof AbortController!="undefined",d=Ye(null),A=()=>{const te=_.pagination.current||1,q=_.pagination.limit||20,N=_.search.trim();return`customers:page=${te}:limit=${q}:search=${N}`},P=async(te=!1)=>{var w;if(!r){_.error="Customers endpoint unavailable.",_.items=[];return}const q=A(),N=te?null:bt(q,n);if(N){l.recordCacheHit(),_.items=N.items,_.pagination={..._.pagination,...N.pagination},_.lastUpdated=N.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="",d.value&&f&&d.value.abort();const k=f?new AbortController:null;d.value=k;const X=l.startFetch();try{const B=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:W,pagination:ce}=await a.fetchCustomers({endpoint:r,limit:_.pagination.limit,start:B,search:_.search.trim(),signal:k?k.signal:void 0});_.items=W,_.pagination={..._.pagination,...ce,current:ce.current&&ce.current>0?ce.current:1},_.lastUpdated=new Date().toISOString(),pt(q,{items:W,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(B){if((B==null?void 0:B.name)==="AbortError")return;_.error=(w=B==null?void 0:B.message)!=null?w:"Unknown error"}finally{l.endFetch(X),f&&d.value===k&&(d.value=null),_.loading=!1}},U=()=>{_.pagination.current=1,Le(A()),P(!0)},v=()=>{_.pagination.current=1,P()},D=te=>{const q=Number(te);Number.isNaN(q)||q<1||q===_.pagination.current||(_.pagination.current=q,P())},T=async te=>{var q;if(!p||!(te!=null&&te.email)){_.activeCustomer=te||null;return}try{const N=await a.fetchCustomer({endpoint:p,email:te.email});_.activeCustomer=N||te}catch(N){_.error=(q=N==null?void 0:N.message)!=null?q:"Unknown error"}},J=()=>{_.activeCustomer=null};return nt(()=>{o&&(!Array.isArray(_.items)||!_.items.length)&&P()}),{state:_,loadCustomers:P,refresh:U,search:v,goToPage:D,viewCustomer:T,closeCustomer:J,metrics:l.metrics}}function Jy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var _e,he,Z,G,F,j,Q,ae,fe,te,q,N,k,X;const a=ut({token:t}),l=yt("coupons"),r=(_e=e==null?void 0:e.list)!=null?_e:"",p=(he=e==null?void 0:e.create)!=null?he:r,_=(Z=e==null?void 0:e.update)!=null?Z:r,f=(G=e==null?void 0:e.delete)!=null?G:r,d=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ae=(Q=(F=s.pagination)==null?void 0:F.total)!=null?Q:(j=s.items)==null?void 0:j.length)!=null?ae:0,limit:(te=(fe=s.pagination)==null?void 0:fe.limit)!=null?te:20,pages:(N=(q=s.pagination)==null?void 0:q.pages)!=null?N:0,current:(X=(k=s.pagination)==null?void 0:k.current)!=null?X:1},search:"",activeCoupon:null,lastUpdated:null}),A=typeof AbortController!="undefined",P=Ye(null),U=()=>{const w=d.pagination.current||1,B=d.pagination.limit||20,W=d.search.trim();return`coupons:page=${w}:limit=${B}:search=${W}`},v=async(w=!1)=>{var R;if(!r){d.error="Coupons endpoint unavailable.",d.items=[];return}const B=U(),W=w?null:bt(B,n);if(W){l.recordCacheHit(),d.items=W.items,d.pagination={...d.pagination,...W.pagination},d.lastUpdated=W.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="",P.value&&A&&P.value.abort();const ce=A?new AbortController:null;P.value=ce;const V=l.startFetch();try{const C=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:oe,pagination:de}=await a.fetchCoupons({endpoint:r,limit:d.pagination.limit,start:C,search:d.search.trim(),signal:ce?ce.signal:void 0});d.items=oe,d.pagination={...d.pagination,...de,current:de.current&&de.current>0?de.current:1},d.lastUpdated=new Date().toISOString(),pt(B,{items:oe,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(C){if((C==null?void 0:C.name)==="AbortError")return;d.error=(R=C==null?void 0:C.message)!=null?R:"Unknown error"}finally{l.endFetch(V),A&&P.value===ce&&(P.value=null),d.loading=!1}},D=()=>{d.pagination.current=1,Le(U()),v(!0)},T=()=>{d.pagination.current=1,v()},J=w=>{const B=Number(w);Number.isNaN(B)||B<1||B===d.pagination.current||(d.pagination.current=B,v())},I=w=>{d.activeCoupon=w},b=w=>{const B=d.items.findIndex(W=>W.id===w.id);B===-1?d.items.unshift(w):d.items.splice(B,1,w)},H=async w=>{var B;d.saving=!0,d.error="";try{let W=null;return w.id?W=await a.updateCoupon({endpoint:_,id:w.id,data:w}):W=await a.createCoupon({endpoint:p,data:w}),W&&(b(W),d.activeCoupon&&d.activeCoupon.id===W.id&&(d.activeCoupon=W),Le(U())),W}catch(W){throw d.error=(B=W==null?void 0:W.message)!=null?B:"Unknown error",W}finally{d.saving=!1}},le=async w=>{var B;if(!Array.isArray(w)||!w.length)return 0;d.saving=!0,d.error="";try{const W=await a.deleteCoupons({endpoint:f,ids:w});return W&&(d.items=d.items.filter(ce=>!w.includes(ce.id)),d.activeCoupon&&w.includes(d.activeCoupon.id)&&(d.activeCoupon=null),Le(U())),W}catch(W){throw d.error=(B=W==null?void 0:W.message)!=null?B:"Unknown error",W}finally{d.saving=!1}};return nt(()=>{o&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadCoupons:v,refresh:D,search:T,goToPage:J,setActive:I,saveCoupon:H,deleteCoupons:le,metrics:l.metrics}}const Wn=(e={})=>{var l,r,p,_,f,d,A,P,U,v,D,T,J,I,b,H,le;const t=(l=e.store)!=null?l:{},s=(r=e.payments)!=null?r:{},o=(p=e.visual)!=null?p:{},n=(_=e.visual_defaults)!=null?_:{},a=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"USD";return{store:{name:(f=t.name)!=null?f:"",email:(d=t.email)!=null?d:"",phone:(A=t.phone)!=null?A:""},payments:{configured:!!s.configured},base_currency:a,visual:{primary_color:(P=o.primary_color)!=null?P:"",text_color:(U=o.text_color)!=null?U:"",surface_color:(v=o.surface_color)!=null?v:"",border_color:(D=o.border_color)!=null?D:"",muted_color:(T=o.muted_color)!=null?T:""},visual_defaults:{primary_color:(J=n.primary_color)!=null?J:"#4f6d7a",text_color:(I=n.text_color)!=null?I:"#1f2933",surface_color:(b=n.surface_color)!=null?b:"#ffffff",border_color:(H=n.border_color)!=null?H:"#e4e7ec",muted_color:(le=n.muted_color)!=null?le:"#6b7280"}}};function qy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var A,P;const a=ut({token:t}),l=yt("settings"),r=(A=e==null?void 0:e.show)!=null?A:"",p=(P=e==null?void 0:e.update)!=null?P:r,_=$e({loading:!1,saving:!1,error:"",values:Wn(s),lastUpdated:null}),f=async(U=!1)=>{var J;if(!r){_.error="Settings endpoint unavailable.";return}const v="settings:data",D=U?null:bt(v,n);if(D){l.recordCacheHit(),_.values=D.values,_.lastUpdated=D.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="";const T=l.startFetch();try{const I=await a.fetchSettings({endpoint:r});_.values=Wn(I),_.lastUpdated=new Date().toISOString(),pt(v,{values:_.values,lastUpdated:_.lastUpdated})}catch(I){throw _.error=(J=I==null?void 0:I.message)!=null?J:"Unknown error",I}finally{l.endFetch(T),_.loading=!1}},d=async U=>{var v;if(!p)return _.error="Settings endpoint unavailable.",null;_.saving=!0,_.error="";try{const D=await a.updateSettings({endpoint:p,data:U});return _.values=Wn(D),_.lastUpdated=new Date().toISOString(),Le("settings:data"),pt("settings:data",{values:_.values,lastUpdated:_.lastUpdated}),_.values}catch(D){throw _.error=(v=D==null?void 0:D.message)!=null?v:"Unknown error",D}finally{_.saving=!1}};return nt(()=>{o&&(!s||!s.store)&&f()}),{state:_,refresh:f,save:d,metrics:l.metrics}}function Wy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var I,b,H,le,_e,he,Z,G,F,j,Q,ae,fe,te;const a=ut({token:t}),l=yt("taxRates"),r=(I=e==null?void 0:e.list)!=null?I:"",p=(b=e==null?void 0:e.create)!=null?b:r,_=(H=e==null?void 0:e.update)!=null?H:r,f=(le=e==null?void 0:e.delete)!=null?le:r,d=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(G=(Z=(_e=s.pagination)==null?void 0:_e.total)!=null?Z:(he=s.items)==null?void 0:he.length)!=null?G:0,limit:(j=(F=s.pagination)==null?void 0:F.limit)!=null?j:20,pages:(ae=(Q=s.pagination)==null?void 0:Q.pages)!=null?ae:0,current:(te=(fe=s.pagination)==null?void 0:fe.current)!=null?te:1},search:"",lastUpdated:null}),A=typeof AbortController!="undefined",P=Ye(null),U=()=>{const q=d.pagination.current||1,N=d.pagination.limit||20,k=d.search.trim();return`taxRates:page=${q}:limit=${N}:search=${k}`},v=async(q=!1)=>{var B;if(!r){d.error="Tax endpoint unavailable.",d.items=[];return}const N=U(),k=q?null:bt(N,n);if(k){l.recordCacheHit(),d.items=k.items,d.pagination={...d.pagination,...k.pagination},d.lastUpdated=k.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="",P.value&&A&&P.value.abort();const X=A?new AbortController:null;P.value=X;const w=l.startFetch();try{const W=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:ce,pagination:V}=await a.fetchTaxRates({endpoint:r,limit:d.pagination.limit,start:W,search:d.search.trim(),signal:X?X.signal:void 0});d.items=ce,d.pagination={...d.pagination,...V,current:V.current&&V.current>0?V.current:1},d.lastUpdated=new Date().toISOString(),pt(N,{items:ce,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(W){if((W==null?void 0:W.name)==="AbortError")return;d.error=(B=W==null?void 0:W.message)!=null?B:"Unknown error"}finally{l.endFetch(w),A&&P.value===X&&(P.value=null),d.loading=!1}},D=()=>{d.pagination.current=1,Le(U()),v(!0)},T=async q=>{var N;d.saving=!0,d.error="";try{const k=q.id?await a.updateTaxRate({endpoint:_,id:q.id,data:q}):await a.createTaxRate({endpoint:p,data:q});if(k){const X=d.items.findIndex(w=>w.id===k.id);X===-1?d.items.unshift(k):d.items.splice(X,1,k),Le(U())}return k}catch(k){throw d.error=(N=k==null?void 0:k.message)!=null?N:"Unknown error",k}finally{d.saving=!1}},J=async q=>{var N;if(!Array.isArray(q)||!q.length)return 0;d.saving=!0,d.error="";try{const k=await a.deleteTaxRates({endpoint:f,ids:q});return k&&(d.items=d.items.filter(X=>!q.includes(X.id)),Le(U())),k}catch(k){throw d.error=(N=k==null?void 0:k.message)!=null?N:"Unknown error",k}finally{d.saving=!1}};return nt(()=>{o&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadRates:v,refresh:D,saveRate:T,deleteRates:J,metrics:l.metrics}}function zy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var I,b,H,le,_e,he,Z,G,F,j,Q,ae,fe,te;const a=ut({token:t}),l=yt("shippingRules"),r=(I=e==null?void 0:e.list)!=null?I:"",p=(b=e==null?void 0:e.create)!=null?b:r,_=(H=e==null?void 0:e.update)!=null?H:r,f=(le=e==null?void 0:e.delete)!=null?le:r,d=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(G=(Z=(_e=s.pagination)==null?void 0:_e.total)!=null?Z:(he=s.items)==null?void 0:he.length)!=null?G:0,limit:(j=(F=s.pagination)==null?void 0:F.limit)!=null?j:20,pages:(ae=(Q=s.pagination)==null?void 0:Q.pages)!=null?ae:0,current:(te=(fe=s.pagination)==null?void 0:fe.current)!=null?te:1},search:"",lastUpdated:null}),A=typeof AbortController!="undefined",P=Ye(null),U=()=>{const q=d.pagination.current||1,N=d.pagination.limit||20,k=d.search.trim();return`shippingRules:page=${q}:limit=${N}:search=${k}`},v=async(q=!1)=>{var B;if(!r){d.error="Shipping endpoint unavailable.",d.items=[];return}const N=U(),k=q?null:bt(N,n);if(k){l.recordCacheHit(),d.items=k.items,d.pagination={...d.pagination,...k.pagination},d.lastUpdated=k.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="",P.value&&A&&P.value.abort();const X=A?new AbortController:null;P.value=X;const w=l.startFetch();try{const W=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:ce,pagination:V}=await a.fetchShippingRules({endpoint:r,limit:d.pagination.limit,start:W,search:d.search.trim(),signal:X?X.signal:void 0});d.items=ce,d.pagination={...d.pagination,...V,current:V.current&&V.current>0?V.current:1},d.lastUpdated=new Date().toISOString(),pt(N,{items:ce,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(W){if((W==null?void 0:W.name)==="AbortError")return;d.error=(B=W==null?void 0:W.message)!=null?B:"Unknown error"}finally{l.endFetch(w),A&&P.value===X&&(P.value=null),d.loading=!1}},D=()=>{d.pagination.current=1,Le(U()),v(!0)},T=async q=>{var N;d.saving=!0,d.error="";try{const k=q.id?await a.updateShippingRule({endpoint:_,id:q.id,data:q}):await a.createShippingRule({endpoint:p,data:q});if(k){const X=d.items.findIndex(w=>w.id===k.id);X===-1?d.items.unshift(k):d.items.splice(X,1,k),Le(U())}return k}catch(k){throw d.error=(N=k==null?void 0:k.message)!=null?N:"Unknown error",k}finally{d.saving=!1}},J=async q=>{var N;if(!Array.isArray(q)||!q.length)return 0;d.saving=!0,d.error="";try{const k=await a.deleteShippingRules({endpoint:f,ids:q});return k&&(d.items=d.items.filter(X=>!q.includes(X.id)),Le(U())),k}catch(k){throw d.error=(N=k==null?void 0:k.message)!=null?N:"Unknown error",k}finally{d.saving=!1}};return nt(()=>{o&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadRules:v,refresh:D,saveRule:T,deleteRules:J,metrics:l.metrics}}function Qy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var T,J,I,b,H,le,_e,he,Z,G,F;const a=ut({token:t}),l=yt("logs"),r=(T=e==null?void 0:e.list)!=null?T:"",p=$e({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(H=(b=(J=s.pagination)==null?void 0:J.total)!=null?b:(I=s.items)==null?void 0:I.length)!=null?H:0,limit:(_e=(le=s.pagination)==null?void 0:le.limit)!=null?_e:20,pages:(Z=(he=s.pagination)==null?void 0:he.pages)!=null?Z:0,current:(F=(G=s.pagination)==null?void 0:G.current)!=null?F:1},search:"",entity:"",lastUpdated:null}),_=typeof AbortController!="undefined",f=Ye(null),d=()=>{const j=p.pagination.current||1,Q=p.pagination.limit||20,ae=p.search.trim(),fe=p.entity.trim();return`logs:page=${j}:limit=${Q}:search=${ae}:entity=${fe}`},A=async(j=!1)=>{var q;if(!r){p.error="Logs endpoint unavailable.",p.items=[];return}const Q=d(),ae=j?null:bt(Q,n);if(ae){l.recordCacheHit(),p.items=ae.items,p.pagination={...p.pagination,...ae.pagination},p.lastUpdated=ae.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",_&&f.value&&f.value.abort();const fe=_?new AbortController:null;f.value=fe;const te=l.startFetch();try{const N=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:k,pagination:X}=await a.fetchLogs({endpoint:r,limit:p.pagination.limit,start:N,search:p.search.trim(),entity:p.entity,signal:fe?fe.signal:void 0});p.items=k,p.pagination={...p.pagination,...X,current:X.current&&X.current>0?X.current:1},p.lastUpdated=new Date().toISOString(),pt(Q,{items:k,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(N){if((N==null?void 0:N.name)==="AbortError")return;p.error=(q=N==null?void 0:N.message)!=null?q:"Unknown error"}finally{l.endFetch(te),_&&f.value===fe&&(f.value=null),p.loading=!1}},P=()=>{p.pagination.current=1,Le(d()),A(!0)},U=()=>{p.pagination.current=1,A()},v=j=>{const Q=typeof j=="string"?j.trim():"";p.entity!==Q&&(p.entity=Q,p.pagination.current=1,A())},D=j=>{const Q=Number(j);Number.isNaN(Q)||Q<1||Q===p.pagination.current||(p.pagination.current=Q,A())};return nt(()=>{o&&(!Array.isArray(p.items)||!p.items.length)&&A()}),{state:p,loadLogs:A,refresh:P,search:U,setEntity:v,goToPage:D,metrics:l.metrics}}const Ki=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"}});function Zy({endpoints:e={},token:t=""}){const s=ut({token:t}),o=$e({loading:!1,saving:!1,error:"",config:Ki(),message:""}),n=async()=>{var r,p,_,f;if(e.show){o.loading=!0,o.error="";try{const d=await s.get(e.show);o.config=l((_=(p=(r=d==null?void 0:d.data)==null?void 0:r.config)!=null?p:d==null?void 0:d.config)!=null?_:{})}catch(d){o.error=(f=d.message)!=null?f:"Unable to load payment configuration."}finally{o.loading=!1}}},a=async r=>{var p,_,f,d,A,P,U;if(e.update){o.saving=!0,o.error="",o.message="";try{const v=await s.post(e.update,{config:r});o.config=l((f=(_=(p=v==null?void 0:v.data)==null?void 0:p.config)!=null?_:v==null?void 0:v.config)!=null?f:{}),o.message=(P=(A=(d=v==null?void 0:v.data)==null?void 0:d.message)!=null?A:v==null?void 0:v.message)!=null?P:""}catch(v){o.error=(U=v.message)!=null?U:"Unable to save payment configuration."}finally{o.saving=!1}}},l=r=>{var _,f,d;const p=Ki();return{stripe:{...p.stripe,...(_=r.stripe)!=null?_:{}},paypal:{...p.paypal,...(f=r.paypal)!=null?f:{}},cod:{...p.cod,...(d=r.cod)!=null?d:{}}}};return{state:o,refresh:n,save:a}}const eT={class:"nxp-ec-admin-app__shell"},tT={class:"nxp-ec-admin-app__header"},sT={class:"nxp-ec-admin-app__title"},nT={class:"nxp-ec-admin-app__lead"},oT={key:0,class:"nxp-ec-admin-nav"},iT=["href"],aT={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},rT={class:"nxp-ec-admin-panel__body"},lT={class:"nxp-ec-admin-panel__lead"},xs="nxp:admin:onboarding:dismissed",cT={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var qa,Wa,za,Qa,Za,er,tr,sr,nr,or,ir,ar,rr,lr,cr,dr,ur,pr,_r,fr,hr,mr,gr,Cr,Sr,Er,Ar,br,yr,Tr,vr,Or,Rr,xr,Pr,Nr,Mr,Ir,$r,wr,kr,Dr,Ur,Lr,Yr,Xr,Fr,Vr,Gr,Hr,Br,jr,Kr,Jr,qr,Wr,zr,Qr,Zr,el,tl,sl,nl,ol,il,al,rl,ll,cl,dl,ul,pl,_l,fl,hl,ml,gl,Cl,Sl,El,Al,bl,yl,Tl,vl,Ol,Rl,xl,Pl,Nl,Ml,Il,$l,wl,kl,Dl,Ul,Ll,Yl,Xl,Fl,Vl,Gl,Hl,Bl,jl,Kl,Jl,ql,Wl,zl,Ql,Zl,ec,tc,sc,nc,oc,ic,ac,rc,lc,cc,dc,uc,pc,_c,fc,hc,mc,gc,Cc,Sc,Ec,Ac,bc,yc;const t=e,{__:s}=Ly(t.dataset),o=Ce(()=>{var K;return((K=t.dataset)==null?void 0:K.appTitleKey)||"COM_NXPEASYCART"}),n=Ce(()=>{var K;return((K=t.dataset)==null?void 0:K.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(K,ue)=>{if(!K||typeof K!="string")return ue;try{return JSON.parse(K)}catch(Re){return ue}},l=Ce(()=>{var ue,Re;if(Array.isArray((ue=t.config)==null?void 0:ue.navItems))return t.config.navItems.map(tt=>({id:tt.id,title:tt.title,link:tt.link}));const K=a((Re=t.dataset)==null?void 0:Re.navItems,[]);return Array.isArray(K)?K.map(tt=>({id:tt.id,title:tt.title,link:tt.link})):[]}),r=K=>{const ue=l.value;if(!Array.isArray(ue))return"";const Re=ue.find(tt=>tt.id===K);return Re?Re.link:""},p=Ce(()=>{var K,ue;return((K=t.config)==null?void 0:K.activeSection)||((ue=t.dataset)==null?void 0:ue.activeSection)||"dashboard"}),_=K=>p.value===K,f=Ce(()=>_("dashboard")),d=Ce(()=>_("products")),A=Ce(()=>_("categories")||_("products")),P=Ce(()=>_("orders")),U=Ce(()=>_("customers")),v=Ce(()=>_("coupons")),D=Ce(()=>_("settings")),T=Ce(()=>_("logs")),J=(or=(qa=t.endpoints)==null?void 0:qa.products)!=null?or:{list:(za=(Wa=t.dataset)==null?void 0:Wa.productsEndpoint)!=null?za:"",create:(Za=(Qa=t.dataset)==null?void 0:Qa.productsEndpointCreate)!=null?Za:"",update:(tr=(er=t.dataset)==null?void 0:er.productsEndpointUpdate)!=null?tr:"",delete:(nr=(sr=t.dataset)==null?void 0:sr.productsEndpointDelete)!=null?nr:""},I=(fr=(ir=t.endpoints)==null?void 0:ir.categories)!=null?fr:{list:(rr=(ar=t.dataset)==null?void 0:ar.categoriesEndpoint)!=null?rr:"",create:(cr=(lr=t.dataset)==null?void 0:lr.categoriesEndpointCreate)!=null?cr:"",update:(ur=(dr=t.dataset)==null?void 0:dr.categoriesEndpointUpdate)!=null?ur:"",delete:(_r=(pr=t.dataset)==null?void 0:pr.categoriesEndpointDelete)!=null?_r:""},b=(Or=(hr=t.endpoints)==null?void 0:hr.orders)!=null?Or:{list:(gr=(mr=t.dataset)==null?void 0:mr.ordersEndpoint)!=null?gr:"",show:(Sr=(Cr=t.dataset)==null?void 0:Cr.ordersEndpointShow)!=null?Sr:"",transition:(Ar=(Er=t.dataset)==null?void 0:Er.ordersEndpointTransition)!=null?Ar:"",bulkTransition:(yr=(br=t.dataset)==null?void 0:br.ordersEndpointBulk)!=null?yr:"",note:(vr=(Tr=t.dataset)==null?void 0:Tr.ordersEndpointNote)!=null?vr:""},H=(Ir=(Rr=t.endpoints)==null?void 0:Rr.customers)!=null?Ir:{list:(Pr=(xr=t.dataset)==null?void 0:xr.customersEndpoint)!=null?Pr:"",show:(Mr=(Nr=t.dataset)==null?void 0:Nr.customersEndpointShow)!=null?Mr:""},le=(Vr=($r=t.endpoints)==null?void 0:$r.coupons)!=null?Vr:{list:(kr=(wr=t.dataset)==null?void 0:wr.couponsEndpoint)!=null?kr:"",create:(Ur=(Dr=t.dataset)==null?void 0:Dr.couponsEndpointCreate)!=null?Ur:"",update:(Yr=(Lr=t.dataset)==null?void 0:Lr.couponsEndpointUpdate)!=null?Yr:"",delete:(Fr=(Xr=t.dataset)==null?void 0:Xr.couponsEndpointDelete)!=null?Fr:""},_e=(Qr=(Gr=t.endpoints)==null?void 0:Gr.tax)!=null?Qr:{list:(Br=(Hr=t.dataset)==null?void 0:Hr.taxEndpoint)!=null?Br:"",create:(Kr=(jr=t.dataset)==null?void 0:jr.taxEndpointCreate)!=null?Kr:"",update:(qr=(Jr=t.dataset)==null?void 0:Jr.taxEndpointUpdate)!=null?qr:"",delete:(zr=(Wr=t.dataset)==null?void 0:Wr.taxEndpointDelete)!=null?zr:""},he=(ll=(Zr=t.endpoints)==null?void 0:Zr.shipping)!=null?ll:{list:(tl=(el=t.dataset)==null?void 0:el.shippingEndpoint)!=null?tl:"",create:(nl=(sl=t.dataset)==null?void 0:sl.shippingEndpointCreate)!=null?nl:"",update:(il=(ol=t.dataset)==null?void 0:ol.shippingEndpointUpdate)!=null?il:"",delete:(rl=(al=t.dataset)==null?void 0:al.shippingEndpointDelete)!=null?rl:""},Z=(fl=(cl=t.endpoints)==null?void 0:cl.settings)!=null?fl:{show:(ul=(dl=t.dataset)==null?void 0:dl.settingsEndpointShow)!=null?ul:"",update:(_l=(pl=t.dataset)==null?void 0:pl.settingsEndpointUpdate)!=null?_l:""},G=(Cl=(hl=t.endpoints)==null?void 0:hl.logs)!=null?Cl:{list:(gl=(ml=t.dataset)==null?void 0:ml.logsEndpoint)!=null?gl:""},F=(Tl=(Sl=t.endpoints)==null?void 0:Sl.payments)!=null?Tl:{show:(Al=(El=t.dataset)==null?void 0:El.paymentsEndpointShow)!=null?Al:"",update:(yl=(bl=t.dataset)==null?void 0:bl.paymentsEndpointUpdate)!=null?yl:""},j=Ce(()=>{var K;return a((K=t.dataset)==null?void 0:K.orderStates,[])}),{state:Q,refresh:ae}=jy({endpoint:(Ml=(Nl=(xl=(vl=t.endpoints)==null?void 0:vl.dashboard)!=null?xl:(Rl=(Ol=t.config)==null?void 0:Ol.endpoints)==null?void 0:Rl.dashboard)!=null?Nl:(Pl=t.dataset)==null?void 0:Pl.dashboardEndpoint)!=null?Ml:"",token:t.csrfToken,preload:(Dl=($l=(Il=t.config)==null?void 0:Il.preload)==null?void 0:$l.dashboard)!=null?Dl:{summary:a((wl=t.dataset)==null?void 0:wl.dashboardSummary,{}),checklist:a((kl=t.dataset)==null?void 0:kl.dashboardChecklist,[])},autoload:f.value}),{state:fe,refresh:te,search:q,createProduct:N,updateProduct:k,deleteProducts:X}=Gy({endpoints:J,token:t.csrfToken,autoload:d.value}),{state:w,refresh:B,search:W,goToPage:ce,saveCategory:V,deleteCategories:R,loadOptions:C}=Hy({endpoints:I,token:t.csrfToken,preload:(Fl=(Ll=(Ul=t.config)==null?void 0:Ul.preload)==null?void 0:Ll.categories)!=null?Fl:{items:a((Yl=t.dataset)==null?void 0:Yl.categoriesPreload,[]),pagination:a((Xl=t.dataset)==null?void 0:Xl.categoriesPreloadPagination,{})},autoload:A.value}),oe=Ce(()=>(Array.isArray(w.items)?w.items:[]).map(ue=>{var Re,tt,Ns;return{id:Number.parseInt((Re=ue==null?void 0:ue.id)!=null?Re:0,10)||0,title:String((tt=ue==null?void 0:ue.title)!=null?tt:"").trim(),slug:String((Ns=ue==null?void 0:ue.slug)!=null?Ns:"").trim()}}).filter(ue=>ue.title!=="")),{state:de,refresh:re,search:Ie,setFilterState:m,viewOrder:E,closeOrder:Y,transitionOrder:g,goToPage:h,bulkTransition:S,toggleSelection:O,clearSelection:$,addNote:L}=By({endpoints:b,token:t.csrfToken,states:j.value,preload:(jl=(Gl=(Vl=t.config)==null?void 0:Vl.preload)==null?void 0:Gl.orders)!=null?jl:{items:a((Hl=t.dataset)==null?void 0:Hl.ordersPreload,[]),pagination:a((Bl=t.dataset)==null?void 0:Bl.ordersPreloadPagination,{})},autoload:P.value}),{state:M,refresh:ee,search:z,goToPage:se,viewCustomer:ne,closeCustomer:ge}=Ky({endpoints:H,token:t.csrfToken,preload:(zl=(Jl=(Kl=t.config)==null?void 0:Kl.preload)==null?void 0:Jl.customers)!=null?zl:{items:a((ql=t.dataset)==null?void 0:ql.customersPreload,[]),pagination:a((Wl=t.dataset)==null?void 0:Wl.customersPreloadPagination,{})},autoload:U.value}),{state:Ae,refresh:ye,search:Fe,goToPage:Ve,saveCoupon:ke,deleteCoupons:je}=Jy({endpoints:(Zl=(Ql=t.endpoints)==null?void 0:Ql.coupons)!=null?Zl:le,token:t.csrfToken,preload:(oc=(tc=(ec=t.config)==null?void 0:ec.preload)==null?void 0:tc.coupons)!=null?oc:{items:a((sc=t.dataset)==null?void 0:sc.couponsPreload,[]),pagination:a((nc=t.dataset)==null?void 0:nc.couponsPreloadPagination,{})},autoload:v.value}),We=(lc=(ac=(ic=t.config)==null?void 0:ic.preload)==null?void 0:ac.settings)!=null?lc:a((rc=t.dataset)==null?void 0:rc.settingsPreload,{}),{state:at,refresh:De,save:Ke}=qy({endpoints:Z,token:t.csrfToken,preload:We,autoload:D.value}),It=Ce(()=>{var ue,Re;const K=(Re=(ue=t.dataset)==null?void 0:ue.baseCurrency)!=null?Re:"";return typeof K=="string"?K.trim().toUpperCase():""}),Kt=Ce(()=>{var ue,Re;const K=(Re=(ue=at==null?void 0:at.values)==null?void 0:ue.base_currency)!=null?Re:"";return typeof K=="string"?K.trim().toUpperCase():""}),Jt=Ce(()=>{const K=Kt.value||It.value;return K!==""?K:"USD"}),zn=Ce(()=>{var ue,Re;const K=(Re=(ue=t.dataset)==null?void 0:ue.mediaModalUrl)!=null?Re:"";return typeof K=="string"?K.trim():""}),Qn=K=>{switch(K){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:r("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:r("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:r("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:r("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:r("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:K||"step",titleKey:K||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:K||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:r("dashboard")||""}}},ja=Ce(()=>(Array.isArray(Q.checklist)?Q.checklist:[]).map(ue=>{const Re=Qn(ue.label);return{id:Re.id,completed:!!ue.completed,link:ue.link||Re.link||"",label:ue.label,titleKey:Re.titleKey,descriptionKey:Re.descriptionKey,titleFallback:Re.titleFallback,descriptionFallback:Re.descriptionFallback}})),Zn=Ce(()=>ja.value.some(K=>!K.completed)),Ps=Ye(!1),dT=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(xs,"0")}catch(K){}Ps.value=!0},Ka=()=>{if(Ps.value=!1,typeof window!="undefined")try{window.localStorage.setItem(xs,"1")}catch(K){}},uT=K=>{K&&typeof K.link=="string"&&K.link!==""&&(Ka(),typeof window!="undefined"&&(window.location.href=K.link))};we(Zn,K=>{if(!K&&(Ps.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(xs,"1")}catch(ue){}});const pT=(_c=(dc=(cc=t.config)==null?void 0:cc.preload)==null?void 0:dc.tax)!=null?_c:{items:a((uc=t.dataset)==null?void 0:uc.taxPreload,[]),pagination:a((pc=t.dataset)==null?void 0:pc.taxPreloadPagination,{})},{state:_T,refresh:cn,saveRate:fT,deleteRates:hT}=Wy({endpoints:_e,token:t.csrfToken,preload:pT,autoload:D.value}),mT=(Cc=(hc=(fc=t.config)==null?void 0:fc.preload)==null?void 0:hc.shipping)!=null?Cc:{items:a((mc=t.dataset)==null?void 0:mc.shippingPreload,[]),pagination:a((gc=t.dataset)==null?void 0:gc.shippingPreloadPagination,{})},{state:gT,refresh:dn,saveRule:CT,deleteRules:ST}=zy({endpoints:he,token:t.csrfToken,preload:mT,autoload:D.value}),ET=(yc=(Ec=(Sc=t.config)==null?void 0:Sc.preload)==null?void 0:Ec.logs)!=null?yc:{items:a((Ac=t.dataset)==null?void 0:Ac.logsPreload,[]),pagination:a((bc=t.dataset)==null?void 0:bc.logsPreloadPagination,{})},{state:AT,refresh:Ja,search:bT,setEntity:yT,goToPage:TT}=Qy({endpoints:G,token:t.csrfToken,preload:ET,autoload:T.value}),{state:vT,refresh:eo,save:OT}=Zy({endpoints:F,token:t.csrfToken});we(p,K=>{switch(K){case"dashboard":ae();break;case"products":te(),B();break;case"categories":B();break;case"orders":re();break;case"customers":ee();break;case"coupons":ye();break;case"settings":De(),cn(),dn(),eo();break;case"logs":Ja();break}}),nt(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const K=window.localStorage.getItem(xs);Zn.value?K!=="1"&&(Ps.value=!0):window.localStorage.setItem(xs,"1")}catch(K){}}D.value&&eo()});const RT=()=>{te()},xT=()=>{q()},PT=async K=>{try{await N(K),te(),B()}catch(ue){}},NT=async({id:K,data:ue})=>{try{await k(K,ue),te(),B()}catch(Re){}},MT=async K=>{try{await X(K),te(),B()}catch(ue){}},IT=()=>{B()},$T=()=>{W()},wT=K=>{ce(K)},kT=async K=>{try{await V(K),B()}catch(ue){}},DT=async K=>{try{await R(K),B()}catch(ue){}},UT=()=>{ae()},LT=()=>{re()},YT=()=>{Ie()},XT=K=>{m(K)},FT=K=>{E(K)},VT=()=>{Y()},GT=async({id:K,state:ue})=>{await g(K,ue)},HT=K=>{h(K)},BT=async({ids:K,state:ue})=>{await S(K,ue)},jT=K=>{O(K)},KT=()=>{$()},JT=async({id:K,message:ue})=>{await L(K,ue)},qT=()=>{ee()},WT=()=>{z()},zT=K=>{se(K)},QT=K=>{ne(K)},ZT=()=>{ge()},ev=()=>{ye()},tv=()=>{Fe()},sv=K=>{Ve(K)},nv=async K=>{try{await ke(K)}catch(ue){}},ov=async K=>{try{await je(K)}catch(ue){}},iv=()=>{De()},av=async K=>{try{await Ke(K)}catch(ue){}},rv=()=>{cn()},lv=async K=>{try{await fT(K),cn()}catch(ue){}},cv=async K=>{try{await hT(K),cn()}catch(ue){}},dv=()=>{dn()},uv=async K=>{try{await CT(K),dn()}catch(ue){}},pv=async K=>{try{await ST(K),dn()}catch(ue){}},_v=()=>{Ja()},fv=()=>{bT()},hv=K=>{yT(K)},mv=K=>{TT(K)},gv=()=>{eo()},Cv=async K=>{await OT(K)};return(K,ue)=>(y(),lt(rp,null,{default:Xo(()=>{var Re,tt,Ns,Tc,vc,Oc;return[i("section",eT,[i("header",tT,[i("div",null,[i("h1",sT,u(c(s)(o.value,(tt=(Re=t.dataset)==null?void 0:Re.appTitle)!=null?tt:"NXP Easy Cart",[],"appTitle")),1),i("p",nT,u(c(s)(n.value,(Tc=(Ns=t.dataset)==null?void 0:Ns.appLead)!=null?Tc:"Manage your storefront from one place.",[],"appLead")),1)]),ie(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:dT},u(c(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[$u,Zn.value]])]),l.value.length?(y(),x("nav",oT,[(y(!0),x(Se,null,Te(l.value,un=>(y(),x("a",{key:un.id,href:un.link,class:Pe({"is-active":un.id===p.value})},u(un.title),11,iT))),128))])):be("",!0),p.value==="dashboard"?(y(),lt(Xp,{key:1,state:c(Q),translate:c(s),onRefresh:UT},null,8,["state","translate"])):p.value==="products"?(y(),lt(ch,{key:2,state:c(fe),translate:c(s),"base-currency":Jt.value,"category-options":oe.value,"media-modal-url":zn.value,onCreate:PT,onUpdate:NT,onDelete:MT,onRefresh:RT,onSearch:xT},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(y(),lt(am,{key:3,state:c(w),translate:c(s),"load-options":c(C),onRefresh:IT,onSearch:$T,onPage:wT,onSave:kT,onDelete:DT},null,8,["state","translate","load-options"])):p.value==="orders"?(y(),lt(Ig,{key:4,state:c(de),translate:c(s),onRefresh:LT,onSearch:YT,onFilter:XT,onView:FT,onClose:VT,onTransition:GT,onPage:HT,onBulkTransition:BT,onToggleSelection:jT,onClearSelection:KT,onAddNote:JT},null,8,["state","translate"])):p.value==="customers"?(y(),lt(TC,{key:5,state:c(M),translate:c(s),"base-currency":Jt.value,onRefresh:qT,onSearch:WT,onPage:zT,onView:QT,onClose:ZT},null,8,["state","translate","base-currency"])):p.value==="coupons"?(y(),lt(NS,{key:6,state:c(Ae),translate:c(s),"base-currency":Jt.value,onRefresh:ev,onSearch:tv,onPage:sv,onSave:nv,onDelete:ov},null,8,["state","translate","base-currency"])):p.value==="settings"?(y(),lt(Fb,{key:7,"settings-state":c(at),"tax-state":c(_T),"shipping-state":c(gT),"payments-state":c(vT),translate:c(s),"base-currency":Jt.value,onRefreshSettings:iv,onSaveSettings:av,onRefreshTax:rv,onSaveTax:lv,onDeleteTax:cv,onRefreshShipping:dv,onSaveShipping:uv,onDeleteShipping:pv,onRefreshPayments:gv,onSavePayments:Cv},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency"])):p.value==="logs"?(y(),lt(Sy,{key:8,state:c(AT),translate:c(s),onRefresh:_v,onSearch:fv,onFilter:hv,onPage:mv},null,8,["state","translate"])):(y(),x("div",aT,[i("div",rT,[i("p",lT,u(c(s)(n.value,(Oc=(vc=t.dataset)==null?void 0:vc.appLead)!=null?Oc:"This section will be available soon.",[],"appLead")),1)])]))]),Xe(ky,{visible:Ps.value,steps:ja.value,translate:c(s),onClose:Ka,onNavigate:uT},null,8,["visible","steps","translate"])]}),_:1}))}},ln=document.getElementById("nxp-ec-admin-app");if(!ln)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(Ji=ln.getAttribute("data-csrf-token"))!=null?Ji:"",t=Object.assign({},ln.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(A){console.warn("[NXP Easy Cart] Failed to parse admin config payload",A)}const o=(ea=(qi=s==null?void 0:s.endpoints)==null?void 0:qi.products)!=null?ea:{list:(Wi=t.productsEndpoint)!=null?Wi:"",create:(zi=t.productsEndpointCreate)!=null?zi:"",update:(Qi=t.productsEndpointUpdate)!=null?Qi:"",delete:(Zi=t.productsEndpointDelete)!=null?Zi:""},n=(aa=(ta=s==null?void 0:s.endpoints)==null?void 0:ta.categories)!=null?aa:{list:(sa=t.categoriesEndpoint)!=null?sa:"",create:(na=t.categoriesEndpointCreate)!=null?na:"",update:(oa=t.categoriesEndpointUpdate)!=null?oa:"",delete:(ia=t.categoriesEndpointDelete)!=null?ia:""},a=(_a=(ra=s==null?void 0:s.endpoints)==null?void 0:ra.orders)!=null?_a:{list:(la=t.ordersEndpoint)!=null?la:"",show:(ca=t.ordersEndpointShow)!=null?ca:"",transition:(da=t.ordersEndpointTransition)!=null?da:"",bulkTransition:(ua=t.ordersEndpointBulk)!=null?ua:"",note:(pa=t.ordersEndpointNote)!=null?pa:""},l=(ga=(fa=s==null?void 0:s.endpoints)==null?void 0:fa.customers)!=null?ga:{list:(ha=t.customersEndpoint)!=null?ha:"",show:(ma=t.customersEndpointShow)!=null?ma:""},r=(ya=(Ca=s==null?void 0:s.endpoints)==null?void 0:Ca.coupons)!=null?ya:{list:(Sa=t.couponsEndpoint)!=null?Sa:"",create:(Ea=t.couponsEndpointCreate)!=null?Ea:"",update:(Aa=t.couponsEndpointUpdate)!=null?Aa:"",delete:(ba=t.couponsEndpointDelete)!=null?ba:""},p=(Pa=(Ta=s==null?void 0:s.endpoints)==null?void 0:Ta.tax)!=null?Pa:{list:(va=t.taxEndpoint)!=null?va:"",create:(Oa=t.taxEndpointCreate)!=null?Oa:"",update:(Ra=t.taxEndpointUpdate)!=null?Ra:"",delete:(xa=t.taxEndpointDelete)!=null?xa:""},_=(ka=(Na=s==null?void 0:s.endpoints)==null?void 0:Na.shipping)!=null?ka:{list:(Ma=t.shippingEndpoint)!=null?Ma:"",create:(Ia=t.shippingEndpointCreate)!=null?Ia:"",update:($a=t.shippingEndpointUpdate)!=null?$a:"",delete:(wa=t.shippingEndpointDelete)!=null?wa:""},f=(Ya=(Da=s==null?void 0:s.endpoints)==null?void 0:Da.settings)!=null?Ya:{show:(Ua=t.settingsEndpointShow)!=null?Ua:"",update:(La=t.settingsEndpointUpdate)!=null?La:""},d=(Va=(Xa=s==null?void 0:s.endpoints)==null?void 0:Xa.logs)!=null?Va:{list:(Fa=t.logsEndpoint)!=null?Fa:""};Zu(cT,{csrfToken:e,dataset:t,config:s,endpoints:{products:o,categories:n,orders:a,customers:l,coupons:r,tax:p,shipping:_,settings:f,logs:d,dashboard:(Ba=(Ha=(Ga=s==null?void 0:s.endpoints)==null?void 0:Ga.dashboard)!=null?Ha:t.dashboardEndpoint)!=null?Ba:""}}).mount(ln)}})();
