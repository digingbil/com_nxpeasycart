(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var ro,lo,co,uo,po,_o,fo,mo,ho,go,Eo,Co,So,Ao,bo,To,yo,Ro,Oo,xo,vo,No,Po,Mo,Io,ko,$o,wo,Lo,Do,Uo,Yo,Xo,Fo,Go,Vo,Ho,Bo,Ko,jo,Jo,Wo,qo,zo,Qo,Zo,er,tr,nr,sr,ir,ar,or,rr,lr,cr,dr,ur;function ys(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ke={},tn=[],Et=()=>{},mi=()=>!1,Hn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rs=e=>e.startsWith("onUpdate:"),ze=Object.assign,Os=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},jc=Object.prototype.hasOwnProperty,Ne=(e,t)=>jc.call(e,t),Ee=Array.isArray,nn=e=>hn(e)==="[object Map]",sn=e=>hn(e)==="[object Set]",hi=e=>hn(e)==="[object Date]",Se=e=>typeof e=="function",Fe=e=>typeof e=="string",pt=e=>typeof e=="symbol",$e=e=>e!==null&&typeof e=="object",gi=e=>($e(e)||Se(e))&&Se(e.then)&&Se(e.catch),Ei=Object.prototype.toString,hn=e=>Ei.call(e),Jc=e=>hn(e).slice(8,-1),Ci=e=>hn(e)==="[object Object]",xs=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=ys(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Wc=/-\w/g,Yt=Bn(e=>e.replace(Wc,t=>t.slice(1).toUpperCase())),qc=/\B([A-Z])/g,Xt=Bn(e=>e.replace(qc,"-$1").toLowerCase()),Si=Bn(e=>e.charAt(0).toUpperCase()+e.slice(1)),vs=Bn(e=>e?`on${Si(e)}`:""),Ft=(e,t)=>!Object.is(e,t),Kn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ai=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},jn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bi;const Jn=()=>bi||(bi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Gt(e){if(Ee(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=Fe(a)?ed(a):Gt(a);if(n)for(const o in n)t[o]=n[o]}return t}else if(Fe(e)||$e(e))return e}const zc=/;(?![^(]*\))/g,Qc=/:([^]+)/,Zc=/\/\*[^]*?\*\//g;function ed(e){const t={};return e.replace(Zc,"").split(zc).forEach(s=>{if(s){const a=s.split(Qc);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Me(e){let t="";if(Fe(e))t=e;else if(Ee(e))for(let s=0;s<e.length;s++){const a=Me(e[s]);a&&(t+=a+" ")}else if($e(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const td=ys("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ti(e){return!!e||e===""}function nd(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=En(e[a],t[a]);return s}function En(e,t){if(e===t)return!0;let s=hi(e),a=hi(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=pt(e),a=pt(t),s||a)return e===t;if(s=Ee(e),a=Ee(t),s||a)return s&&a?nd(e,t):!1;if(s=$e(e),a=$e(t),s||a){if(!s||!a)return!1;const n=Object.keys(e).length,o=Object.keys(t).length;if(n!==o)return!1;for(const c in e){const u=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(u&&!p||!u&&p||!En(e[c],t[c]))return!1}}return String(e)===String(t)}function Ns(e,t){return e.findIndex(s=>En(s,t))}const yi=e=>!!(e&&e.__v_isRef===!0),d=e=>Fe(e)?e:e==null?"":Ee(e)||$e(e)&&(e.toString===Ei||!Se(e.toString))?yi(e)?d(e.value):JSON.stringify(e,Ri,2):String(e),Ri=(e,t)=>yi(t)?Ri(e,t.value):nn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],o)=>(s[Ps(a,o)+" =>"]=n,s),{})}:sn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ps(s))}:pt(t)?Ps(t):$e(t)&&!Ee(t)&&!Ci(t)?String(t):t,Ps=(e,t="")=>{var s;return pt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class sd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function id(){return nt}let we;const Ms=new WeakSet;class Oi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ms.has(this)&&(Ms.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||vi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ki(this),Ni(this);const t=we,s=_t;we=this,_t=!0;try{return this.fn()}finally{Pi(this),we=t,_t=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ws(t);this.deps=this.depsTail=void 0,ki(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ms.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$s(this)&&this.run()}get dirty(){return $s(this)}}let xi=0,Cn,Sn;function vi(e,t=!1){if(e.flags|=8,t){e.next=Sn,Sn=e;return}e.next=Cn,Cn=e}function Is(){xi++}function ks(){if(--xi>0)return;if(Sn){let t=Sn;for(Sn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Cn;){let t=Cn;for(Cn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function Ni(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Pi(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),ws(a),ad(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function $s(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Mi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Mi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===An)||(e.globalVersion=An,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!$s(e))))return;e.flags|=2;const t=e.dep,s=we,a=_t;we=e,_t=!0;try{Ni(e);const n=e.fn(e._value);(t.version===0||Ft(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{we=s,_t=a,Pi(e),e.flags&=-3}}function ws(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)ws(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function ad(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let _t=!0;const Ii=[];function Ct(){Ii.push(_t),_t=!1}function St(){const e=Ii.pop();_t=e===void 0?!0:e}function ki(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=we;we=void 0;try{t()}finally{we=s}}}let An=0;class od{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ls{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!we||!_t||we===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==we)s=this.activeLink=new od(we,this),we.deps?(s.prevDep=we.depsTail,we.depsTail.nextDep=s,we.depsTail=s):we.deps=we.depsTail=s,$i(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=we.depsTail,s.nextDep=void 0,we.depsTail.nextDep=s,we.depsTail=s,we.deps===s&&(we.deps=a)}return s}trigger(t){this.version++,An++,this.notify(t)}notify(t){Is();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ks()}}}function $i(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)$i(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ds=new WeakMap,jt=Symbol(""),Us=Symbol(""),bn=Symbol("");function We(e,t,s){if(_t&&we){let a=Ds.get(e);a||Ds.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new Ls),n.map=a,n.key=s),n.track()}}function Mt(e,t,s,a,n,o){const c=Ds.get(e);if(!c){An++;return}const u=p=>{p&&p.trigger()};if(Is(),t==="clear")c.forEach(u);else{const p=Ee(e),m=p&&xs(s);if(p&&s==="length"){const f=Number(a);c.forEach((l,g)=>{(g==="length"||g===bn||!pt(g)&&g>=f)&&u(l)})}else switch((s!==void 0||c.has(void 0))&&u(c.get(s)),m&&u(c.get(bn)),t){case"add":p?m&&u(c.get("length")):(u(c.get(jt)),nn(e)&&u(c.get(Us)));break;case"delete":p||(u(c.get(jt)),nn(e)&&u(c.get(Us)));break;case"set":nn(e)&&u(c.get(jt));break}}ks()}function an(e){const t=ve(e);return t===e?t:(We(t,"iterate",bn),ut(e)?t:t.map(Ke))}function Wn(e){return We(e=ve(e),"iterate",bn),e}const rd={__proto__:null,[Symbol.iterator](){return Ys(this,Symbol.iterator,Ke)},concat(...e){return an(this).concat(...e.map(t=>Ee(t)?an(t):t))},entries(){return Ys(this,"entries",e=>(e[1]=Ke(e[1]),e))},every(e,t){return It(this,"every",e,t,void 0,arguments)},filter(e,t){return It(this,"filter",e,t,s=>s.map(Ke),arguments)},find(e,t){return It(this,"find",e,t,Ke,arguments)},findIndex(e,t){return It(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return It(this,"findLast",e,t,Ke,arguments)},findLastIndex(e,t){return It(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return It(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xs(this,"includes",e)},indexOf(...e){return Xs(this,"indexOf",e)},join(e){return an(this).join(e)},lastIndexOf(...e){return Xs(this,"lastIndexOf",e)},map(e,t){return It(this,"map",e,t,void 0,arguments)},pop(){return Tn(this,"pop")},push(...e){return Tn(this,"push",e)},reduce(e,...t){return wi(this,"reduce",e,t)},reduceRight(e,...t){return wi(this,"reduceRight",e,t)},shift(){return Tn(this,"shift")},some(e,t){return It(this,"some",e,t,void 0,arguments)},splice(...e){return Tn(this,"splice",e)},toReversed(){return an(this).toReversed()},toSorted(e){return an(this).toSorted(e)},toSpliced(...e){return an(this).toSpliced(...e)},unshift(...e){return Tn(this,"unshift",e)},values(){return Ys(this,"values",Ke)}};function Ys(e,t,s){const a=Wn(e),n=a[t]();return a!==e&&!ut(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.done||(o.value=s(o.value)),o}),n}const ld=Array.prototype;function It(e,t,s,a,n,o){const c=Wn(e),u=c!==e&&!ut(e),p=c[t];if(p!==ld[t]){const l=p.apply(e,o);return u?Ke(l):l}let m=s;c!==e&&(u?m=function(l,g){return s.call(this,Ke(l),g,e)}:s.length>2&&(m=function(l,g){return s.call(this,l,g,e)}));const f=p.call(c,m,a);return u&&n?n(f):f}function wi(e,t,s,a){const n=Wn(e);let o=s;return n!==e&&(ut(e)?s.length>3&&(o=function(c,u,p){return s.call(this,c,u,p,e)}):o=function(c,u,p){return s.call(this,c,Ke(u),p,e)}),n[t](o,...a)}function Xs(e,t,s){const a=ve(e);We(a,"iterate",bn);const n=a[t](...s);return(n===-1||n===!1)&&Vs(s[0])?(s[0]=ve(s[0]),a[t](...s)):n}function Tn(e,t,s=[]){Ct(),Is();const a=ve(e)[t].apply(e,s);return ks(),St(),a}const cd=ys("__proto__,__v_isRef,__isVue"),Li=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pt));function dd(e){pt(e)||(e=String(e));const t=ve(this);return We(t,"has",e),t.hasOwnProperty(e)}class Di{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return a===(n?o?Vi:Gi:o?Fi:Xi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const c=Ee(t);if(!n){let p;if(c&&(p=rd[s]))return p;if(s==="hasOwnProperty")return dd}const u=Reflect.get(t,s,je(t)?t:a);if((pt(s)?Li.has(s):cd(s))||(n||We(t,"get",s),o))return u;if(je(u)){const p=c&&xs(s)?u:u.value;return n&&$e(p)?Gs(p):p}return $e(u)?n?Gs(u):Ie(u):u}}class Ui extends Di{constructor(t=!1){super(!1,t)}set(t,s,a,n){let o=t[s];if(!this._isShallow){const p=Vt(o);if(!ut(a)&&!Vt(a)&&(o=ve(o),a=ve(a)),!Ee(t)&&je(o)&&!je(a))return p||(o.value=a),!0}const c=Ee(t)&&xs(s)?Number(s)<t.length:Ne(t,s),u=Reflect.set(t,s,a,je(t)?t:n);return t===ve(n)&&(c?Ft(a,o)&&Mt(t,"set",s,a):Mt(t,"add",s,a)),u}deleteProperty(t,s){const a=Ne(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Mt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!pt(s)||!Li.has(s))&&We(t,"has",s),a}ownKeys(t){return We(t,"iterate",Ee(t)?"length":jt),Reflect.ownKeys(t)}}class Yi extends Di{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const ud=new Ui,pd=new Yi,_d=new Ui(!0),fd=new Yi(!0),Fs=e=>e,qn=e=>Reflect.getPrototypeOf(e);function md(e,t,s){return function(...a){const n=this.__v_raw,o=ve(n),c=nn(o),u=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,m=n[e](...a),f=s?Fs:t?es:Ke;return!t&&We(o,"iterate",p?Us:jt),{next(){const{value:l,done:g}=m.next();return g?{value:l,done:g}:{value:u?[f(l[0]),f(l[1])]:f(l),done:g}},[Symbol.iterator](){return this}}}}function zn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function hd(e,t){const s={get(n){const o=this.__v_raw,c=ve(o),u=ve(n);e||(Ft(n,u)&&We(c,"get",n),We(c,"get",u));const{has:p}=qn(c),m=t?Fs:e?es:Ke;if(p.call(c,n))return m(o.get(n));if(p.call(c,u))return m(o.get(u));o!==c&&o.get(n)},get size(){const n=this.__v_raw;return!e&&We(ve(n),"iterate",jt),n.size},has(n){const o=this.__v_raw,c=ve(o),u=ve(n);return e||(Ft(n,u)&&We(c,"has",n),We(c,"has",u)),n===u?o.has(n):o.has(n)||o.has(u)},forEach(n,o){const c=this,u=c.__v_raw,p=ve(u),m=t?Fs:e?es:Ke;return!e&&We(p,"iterate",jt),u.forEach((f,l)=>n.call(o,m(f),m(l),c))}};return ze(s,e?{add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear")}:{add(n){!t&&!ut(n)&&!Vt(n)&&(n=ve(n));const o=ve(this);return qn(o).has.call(o,n)||(o.add(n),Mt(o,"add",n,n)),this},set(n,o){!t&&!ut(o)&&!Vt(o)&&(o=ve(o));const c=ve(this),{has:u,get:p}=qn(c);let m=u.call(c,n);m||(n=ve(n),m=u.call(c,n));const f=p.call(c,n);return c.set(n,o),m?Ft(o,f)&&Mt(c,"set",n,o):Mt(c,"add",n,o),this},delete(n){const o=ve(this),{has:c,get:u}=qn(o);let p=c.call(o,n);p||(n=ve(n),p=c.call(o,n)),u&&u.call(o,n);const m=o.delete(n);return p&&Mt(o,"delete",n,void 0),m},clear(){const n=ve(this),o=n.size!==0,c=n.clear();return o&&Mt(n,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=md(n,e,t)}),s}function Qn(e,t){const s=hd(e,t);return(a,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(Ne(s,n)&&n in a?s:a,n,o)}const gd={get:Qn(!1,!1)},Ed={get:Qn(!1,!0)},Cd={get:Qn(!0,!1)},Sd={get:Qn(!0,!0)},Xi=new WeakMap,Fi=new WeakMap,Gi=new WeakMap,Vi=new WeakMap;function Ad(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bd(e){return e.__v_skip||!Object.isExtensible(e)?0:Ad(Jc(e))}function Ie(e){return Vt(e)?e:Zn(e,!1,ud,gd,Xi)}function Td(e){return Zn(e,!1,_d,Ed,Fi)}function Gs(e){return Zn(e,!0,pd,Cd,Gi)}function I1(e){return Zn(e,!0,fd,Sd,Vi)}function Zn(e,t,s,a,n){if(!$e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=bd(e);if(o===0)return e;const c=n.get(e);if(c)return c;const u=new Proxy(e,o===2?a:s);return n.set(e,u),u}function on(e){return Vt(e)?on(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function Vs(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function yd(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&Ai(e,"__v_skip",!0),e}const Ke=e=>$e(e)?Ie(e):e,es=e=>$e(e)?Gs(e):e;function je(e){return e?e.__v_isRef===!0:!1}function Xe(e){return Rd(e,!1)}function Rd(e,t){return je(e)?e:new Od(e,t)}class Od{constructor(t,s){this.dep=new Ls,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ve(t),this._value=s?t:Ke(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||ut(t)||Vt(t);t=a?t:ve(t),Ft(t,s)&&(this._rawValue=t,this._value=a?t:Ke(t),this.dep.trigger())}}function r(e){return je(e)?e.value:e}const xd={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return je(n)&&!je(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function Hi(e){return on(e)?e:new Proxy(e,xd)}class vd{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ls(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=An-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&we!==this)return vi(this,!0),!0}get value(){const t=this.dep.track();return Mi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Nd(e,t,s=!1){let a,n;return Se(e)?a=e:(a=e.get,n=e.set),new vd(a,n,s)}const ts={},ns=new WeakMap;let Jt;function Pd(e,t=!1,s=Jt){if(s){let a=ns.get(s);a||ns.set(s,a=[]),a.push(e)}}function Md(e,t,s=ke){const{immediate:a,deep:n,once:o,scheduler:c,augmentJob:u,call:p}=s,m=G=>n?G:ut(G)||n===!1||n===0?kt(G,1):kt(G);let f,l,g,k,V=!1,w=!1;if(je(e)?(l=()=>e.value,V=ut(e)):on(e)?(l=()=>m(e),V=!0):Ee(e)?(w=!0,V=e.some(G=>on(G)||ut(G)),l=()=>e.map(G=>{if(je(G))return G.value;if(on(G))return m(G);if(Se(G))return p?p(G,2):G()})):Se(e)?t?l=p?()=>p(e,2):e:l=()=>{if(g){Ct();try{g()}finally{St()}}const G=Jt;Jt=f;try{return p?p(e,3,[k]):e(k)}finally{Jt=G}}:l=Et,t&&n){const G=l,Y=n===!0?1/0:n;l=()=>kt(G(),Y)}const K=id(),L=()=>{f.stop(),K&&K.active&&Os(K.effects,f)};if(o&&t){const G=t;t=(...Y)=>{G(...Y),L()}}let $=w?new Array(e.length).fill(ts):ts;const D=G=>{if(!(!(f.flags&1)||!f.dirty&&!G))if(t){const Y=f.run();if(n||V||(w?Y.some((R,te)=>Ft(R,$[te])):Ft(Y,$))){g&&g();const R=Jt;Jt=f;try{const te=[Y,$===ts?void 0:w&&$[0]===ts?[]:$,k];$=Y,p?p(t,3,te):t(...te)}finally{Jt=R}}}else f.run()};return u&&u(D),f=new Oi(l),f.scheduler=c?()=>c(D,!1):D,k=G=>Pd(G,!1,f),g=f.onStop=()=>{const G=ns.get(f);if(G){if(p)p(G,4);else for(const Y of G)Y();ns.delete(f)}},t?a?D(!0):$=f.run():c?c(D.bind(null,!0),!0):f.run(),L.pause=f.pause.bind(f),L.resume=f.resume.bind(f),L.stop=L,L}function kt(e,t=1/0,s){if(t<=0||!$e(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,je(e))kt(e.value,t,s);else if(Ee(e))for(let a=0;a<e.length;a++)kt(e[a],t,s);else if(sn(e)||nn(e))e.forEach(a=>{kt(a,t,s)});else if(Ci(e)){for(const a in e)kt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&kt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yn=[];let Hs=!1;function k1(e,...t){if(Hs)return;Hs=!0,Ct();const s=yn.length?yn[yn.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=Id();if(a)rn(a,s,11,[e+t.map(o=>{var c,u;return(u=(c=o.toString)==null?void 0:c.call(o))!=null?u:JSON.stringify(o)}).join(""),s&&s.proxy,n.map(({vnode:o})=>`at <${Ya(s,o.type)}>`).join(`
`),n]);else{const o=[`[Vue warn]: ${e}`,...t];n.length&&o.push(`
`,...kd(n)),console.warn(...o)}St(),Hs=!1}function Id(){let e=yn[yn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function kd(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...$d(s))}),t}function $d({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${Ya(e.component,e.type,a)}`,o=">"+s;return e.props?[n,...wd(e.props),o]:[n+o]}function wd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...Bi(a,e[a]))}),s.length>3&&t.push(" ..."),t}function Bi(e,t,s){return Fe(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:je(t)?(t=Bi(e,ve(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Se(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ve(t),s?t:[`${e}=`,t])}function rn(e,t,s,a){try{return a?e(...a):e()}catch(n){ss(n,t,s)}}function At(e,t,s,a){if(Se(e)){const n=rn(e,t,s,a);return n&&gi(n)&&n.catch(o=>{ss(o,t,s)}),n}if(Ee(e)){const n=[];for(let o=0;o<e.length;o++)n.push(At(e[o],t,s,a));return n}}function ss(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||ke;if(t){let u=t.parent;const p=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const f=u.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](e,p,m)===!1)return}u=u.parent}if(o){Ct(),rn(o,null,10,[e,p,m]),St();return}}Ld(e,s,n,a,c)}function Ld(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const Qe=[];let bt=-1;const ln=[];let Ht=null,cn=0;const Ki=Promise.resolve();let is=null;function ji(e){const t=is||Ki;return e?t.then(this?e.bind(this):e):t}function Dd(e){let t=bt+1,s=Qe.length;for(;t<s;){const a=t+s>>>1,n=Qe[a],o=Rn(n);o<e||o===e&&n.flags&2?t=a+1:s=a}return t}function Bs(e){if(!(e.flags&1)){const t=Rn(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=Rn(s)?Qe.push(e):Qe.splice(Dd(t),0,e),e.flags|=1,Ji()}}function Ji(){is||(is=Ki.then(zi))}function Ud(e){Ee(e)?ln.push(...e):Ht&&e.id===-1?Ht.splice(cn+1,0,e):e.flags&1||(ln.push(e),e.flags|=1),Ji()}function Wi(e,t,s=bt+1){for(;s<Qe.length;s++){const a=Qe[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;Qe.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function qi(e){if(ln.length){const t=[...new Set(ln)].sort((s,a)=>Rn(s)-Rn(a));if(ln.length=0,Ht){Ht.push(...t);return}for(Ht=t,cn=0;cn<Ht.length;cn++){const s=Ht[cn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ht=null,cn=0}}const Rn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function zi(e){try{for(bt=0;bt<Qe.length;bt++){const t=Qe[bt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;bt<Qe.length;bt++){const t=Qe[bt];t&&(t.flags&=-2)}bt=-1,Qe.length=0,qi(),is=null,(Qe.length||ln.length)&&zi()}}let qe=null,Qi=null;function as(e){const t=qe;return qe=e,Qi=e&&e.type.__scopeId||null,t}function Zi(e,t=qe,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&Ia(-1);const o=as(t);let c;try{c=e(...n)}finally{as(o),a._d&&Ia(1)}return c};return a._n=!0,a._c=!0,a._d=!0,a}function Q(e,t){if(qe===null)return e;const s=ms(qe),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,c,u,p=ke]=t[n];o&&(Se(o)&&(o={mounted:o,updated:o}),o.deep&&kt(c),a.push({dir:o,instance:s,value:c,oldValue:void 0,arg:u,modifiers:p}))}return e}function Wt(e,t,s,a){const n=e.dirs,o=t&&t.dirs;for(let c=0;c<n.length;c++){const u=n[c];o&&(u.oldValue=o[c].value);let p=u.dir[a];p&&(Ct(),At(p,s,8,[e.el,u,e,t]),St())}}const Yd=Symbol("_vte"),Xd=e=>e.__isTeleport,Fd=Symbol("_leaveCb");function Ks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ea(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const os=new WeakMap;function On(e,t,s,a,n=!1){if(Ee(e)){e.forEach((V,w)=>On(V,t&&(Ee(t)?t[w]:t),s,a,n));return}if(dn(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&On(e,t,s,a.component.subTree);return}const o=a.shapeFlag&4?ms(a.component):a.el,c=n?null:o,{i:u,r:p}=e,m=t&&t.r,f=u.refs===ke?u.refs={}:u.refs,l=u.setupState,g=ve(l),k=l===ke?mi:V=>Ne(g,V);if(m!=null&&m!==p){if(ta(t),Fe(m))f[m]=null,k(m)&&(l[m]=null);else if(je(m)){m.value=null;const V=t;V.k&&(f[V.k]=null)}}if(Se(p))rn(p,u,12,[c,f]);else{const V=Fe(p),w=je(p);if(V||w){const K=()=>{if(e.f){const L=V?k(p)?l[p]:f[p]:p.value;if(n)Ee(L)&&Os(L,o);else if(Ee(L))L.includes(o)||L.push(o);else if(V)f[p]=[o],k(p)&&(l[p]=f[p]);else{const $=[o];p.value=$,e.k&&(f[e.k]=$)}}else V?(f[p]=c,k(p)&&(l[p]=c)):w&&(p.value=c,e.k&&(f[e.k]=c))};if(c){const L=()=>{K(),os.delete(e)};L.id=-1,os.set(e,L),rt(L,s)}else ta(e),K()}}}function ta(e){const t=os.get(e);t&&(t.flags|=8,os.delete(e))}Jn().requestIdleCallback,Jn().cancelIdleCallback;const dn=e=>!!e.type.__asyncLoader,na=e=>e.type.__isKeepAlive;function Gd(e,t){sa(e,"a",t)}function Vd(e,t){sa(e,"da",t)}function sa(e,t,s=et){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(rs(t,a,s),s){let n=s.parent;for(;n&&n.parent;)na(n.parent.vnode)&&Hd(a,t,s,n),n=n.parent}}function Hd(e,t,s,a){const n=rs(t,e,a,!0);aa(()=>{Os(a[t],n)},s)}function rs(e,t,s=et,a=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...c)=>{Ct();const u=In(s),p=At(t,s,e,c);return u(),St(),p});return a?n.unshift(o):n.push(o),o}}const $t=e=>(t,s=et)=>{(!kn||e==="sp")&&rs(e,(...a)=>t(...a),s)},Bd=$t("bm"),ot=$t("m"),Kd=$t("bu"),jd=$t("u"),ia=$t("bum"),aa=$t("um"),Jd=$t("sp"),Wd=$t("rtg"),qd=$t("rtc");function zd(e,t=et){rs("ec",e,t)}const Qd=Symbol.for("v-ndc");function Oe(e,t,s,a){let n;const o=s,c=Ee(e);if(c||Fe(e)){const u=c&&on(e);let p=!1,m=!1;u&&(p=!ut(e),m=Vt(e),e=Wn(e)),n=new Array(e.length);for(let f=0,l=e.length;f<l;f++)n[f]=t(p?m?es(Ke(e[f])):Ke(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,o)}else if($e(e))if(e[Symbol.iterator])n=Array.from(e,(u,p)=>t(u,p,void 0,o));else{const u=Object.keys(e);n=new Array(u.length);for(let p=0,m=u.length;p<m;p++){const f=u[p];n[p]=t(e[f],f,p,o)}}else n=[];return n}function Zd(e,t,s={},a,n){if(qe.ce||qe.parent&&dn(qe.parent)&&qe.parent.ce){const m=Object.keys(s).length>0;return T(),st(Ce,null,[He("slot",s,a)],m?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),T();const c=o&&oa(o(s)),u=s.key||c&&c.key,p=st(Ce,{key:(u&&!pt(u)?u:`_${t}`)+(!c&&a?"_fb":"")},c||[],c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),o&&o._c&&(o._d=!0),p}function oa(e){return e.some(t=>ti(t)?!(t.type===wt||t.type===Ce&&!oa(t.children)):!0)?e:null}const js=e=>e?La(e)?ms(e):js(e.parent):null,xn=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>js(e.parent),$root:e=>js(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>da(e),$forceUpdate:e=>e.f||(e.f=()=>{Bs(e.update)}),$nextTick:e=>e.n||(e.n=ji.bind(e.proxy)),$watch:e=>Au.bind(e)}),Js=(e,t)=>e!==ke&&!e.__isScriptSetup&&Ne(e,t),eu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:o,accessCache:c,type:u,appContext:p}=e;let m;if(t[0]!=="$"){const k=c[t];if(k!==void 0)switch(k){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(Js(a,t))return c[t]=1,a[t];if(n!==ke&&Ne(n,t))return c[t]=2,n[t];if((m=e.propsOptions[0])&&Ne(m,t))return c[t]=3,o[t];if(s!==ke&&Ne(s,t))return c[t]=4,s[t];Ws&&(c[t]=0)}}const f=xn[t];let l,g;if(f)return t==="$attrs"&&We(e.attrs,"get",""),f(e);if((l=u.__cssModules)&&(l=l[t]))return l;if(s!==ke&&Ne(s,t))return c[t]=4,s[t];if(g=p.config.globalProperties,Ne(g,t))return g[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:o}=e;return Js(n,t)?(n[t]=s,!0):a!==ke&&Ne(a,t)?(a[t]=s,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:o,type:c}},u){let p,m;return!!(s[u]||e!==ke&&u[0]!=="$"&&Ne(e,u)||Js(t,u)||(p=o[0])&&Ne(p,u)||Ne(a,u)||Ne(xn,u)||Ne(n.config.globalProperties,u)||(m=c.__cssModules)&&m[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ne(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ra(e){return Ee(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ws=!0;function tu(e){const t=da(e),s=e.proxy,a=e.ctx;Ws=!1,t.beforeCreate&&la(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:c,watch:u,provide:p,inject:m,created:f,beforeMount:l,mounted:g,beforeUpdate:k,updated:V,activated:w,deactivated:K,beforeDestroy:L,beforeUnmount:$,destroyed:D,unmounted:G,render:Y,renderTracked:R,renderTriggered:te,errorCaptured:de,serverPrefetch:ge,expose:J,inheritAttrs:j,components:N,directives:h,filters:x}=t;if(m&&nu(m,a,null),c)for(const q in c){const ne=c[q];Se(ne)&&(a[q]=ne.bind(s))}if(n){const q=n.call(s,s);$e(q)&&(e.data=Ie(q))}if(Ws=!0,o)for(const q in o){const ne=o[q],z=Se(ne)?ne.bind(s,s):Se(ne.get)?ne.get.bind(s,s):Et,oe=!Se(ne)&&Se(ne.set)?ne.set.bind(s):Et,F=me({get:z,set:oe});Object.defineProperty(a,q,{enumerable:!0,configurable:!0,get:()=>F.value,set:W=>F.value=W})}if(u)for(const q in u)ca(u[q],a,s,q);if(p){const q=Se(p)?p.call(s):p;Reflect.ownKeys(q).forEach(ne=>{lu(ne,q[ne])})}f&&la(f,e,"c");function Z(q,ne){Ee(ne)?ne.forEach(z=>q(z.bind(s))):ne&&q(ne.bind(s))}if(Z(Bd,l),Z(ot,g),Z(Kd,k),Z(jd,V),Z(Gd,w),Z(Vd,K),Z(zd,de),Z(qd,R),Z(Wd,te),Z(ia,$),Z(aa,G),Z(Jd,ge),Ee(J))if(J.length){const q=e.exposed||(e.exposed={});J.forEach(ne=>{Object.defineProperty(q,ne,{get:()=>s[ne],set:z=>s[ne]=z,enumerable:!0})})}else e.exposed||(e.exposed={});Y&&e.render===Et&&(e.render=Y),j!=null&&(e.inheritAttrs=j),N&&(e.components=N),h&&(e.directives=h),ge&&ea(e)}function nu(e,t,s=Et){Ee(e)&&(e=qs(e));for(const a in e){const n=e[a];let o;$e(n)?"default"in n?o=cs(n.from||a,n.default,!0):o=cs(n.from||a):o=cs(n),je(o)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:c=>o.value=c}):t[a]=o}}function la(e,t,s){At(Ee(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function ca(e,t,s,a){let n=a.includes(".")?xa(s,a):()=>s[a];if(Fe(e)){const o=t[e];Se(o)&&Ue(n,o)}else if(Se(e))Ue(n,e.bind(s));else if($e(e))if(Ee(e))e.forEach(o=>ca(o,t,s,a));else{const o=Se(e.handler)?e.handler.bind(s):t[e.handler];Se(o)&&Ue(n,o,e)}}function da(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:c}}=e.appContext,u=o.get(t);let p;return u?p=u:!n.length&&!s&&!a?p=t:(p={},n.length&&n.forEach(m=>ls(p,m,c,!0)),ls(p,t,c)),$e(t)&&o.set(t,p),p}function ls(e,t,s,a=!1){const{mixins:n,extends:o}=t;o&&ls(e,o,s,!0),n&&n.forEach(c=>ls(e,c,s,!0));for(const c in t)if(!(a&&c==="expose")){const u=su[c]||s&&s[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const su={data:ua,props:pa,emits:pa,methods:vn,computed:vn,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:vn,directives:vn,watch:au,provide:ua,inject:iu};function ua(e,t){return t?e?function(){return ze(Se(e)?e.call(this,this):e,Se(t)?t.call(this,this):t)}:t:e}function iu(e,t){return vn(qs(e),qs(t))}function qs(e){if(Ee(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function vn(e,t){return e?ze(Object.create(null),e,t):t}function pa(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:ze(Object.create(null),ra(e),ra(t!=null?t:{})):t}function au(e,t){if(!e)return t;if(!t)return e;const s=ze(Object.create(null),e);for(const a in t)s[a]=Ze(e[a],t[a]);return s}function _a(){return{app:null,config:{isNativeTag:mi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ou=0;function ru(e,t){return function(a,n=null){Se(a)||(a=ze({},a)),n!=null&&!$e(n)&&(n=null);const o=_a(),c=new WeakSet,u=[];let p=!1;const m=o.app={_uid:ou++,_component:a,_props:n,_container:null,_context:o,_instance:null,version:ju,get config(){return o.config},set config(f){},use(f,...l){return c.has(f)||(f&&Se(f.install)?(c.add(f),f.install(m,...l)):Se(f)&&(c.add(f),f(m,...l))),m},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),m},component(f,l){return l?(o.components[f]=l,m):o.components[f]},directive(f,l){return l?(o.directives[f]=l,m):o.directives[f]},mount(f,l,g){if(!p){const k=m._ceVNode||He(a,n);return k.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),e(k,f,g),p=!0,m._container=f,f.__vue_app__=m,ms(k.component)}},onUnmount(f){u.push(f)},unmount(){p&&(At(u,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(f,l){return o.provides[f]=l,m},runWithContext(f){const l=un;un=m;try{return f()}finally{un=l}}};return m}}let un=null;function lu(e,t){if(et){let s=et.provides;const a=et.parent&&et.parent.provides;a===s&&(s=et.provides=Object.create(a)),s[e]=t}}function cs(e,t,s=!1){const a=Uu();if(a||un){let n=un?un._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Se(t)?t.call(a&&a.proxy):t}}const fa={},ma=()=>Object.create(fa),ha=e=>Object.getPrototypeOf(e)===fa;function cu(e,t,s,a=!1){const n={},o=ma();e.propsDefaults=Object.create(null),ga(e,t,n,o);for(const c in e.propsOptions[0])c in n||(n[c]=void 0);s?e.props=a?n:Td(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function du(e,t,s,a){const{props:n,attrs:o,vnode:{patchFlag:c}}=e,u=ve(n),[p]=e.propsOptions;let m=!1;if((a||c>0)&&!(c&16)){if(c&8){const f=e.vnode.dynamicProps;for(let l=0;l<f.length;l++){let g=f[l];if(ds(e.emitsOptions,g))continue;const k=t[g];if(p)if(Ne(o,g))k!==o[g]&&(o[g]=k,m=!0);else{const V=Yt(g);n[V]=zs(p,u,V,k,e,!1)}else k!==o[g]&&(o[g]=k,m=!0)}}}else{ga(e,t,n,o)&&(m=!0);let f;for(const l in u)(!t||!Ne(t,l)&&((f=Xt(l))===l||!Ne(t,f)))&&(p?s&&(s[l]!==void 0||s[f]!==void 0)&&(n[l]=zs(p,u,l,void 0,e,!0)):delete n[l]);if(o!==u)for(const l in o)(!t||!Ne(t,l))&&(delete o[l],m=!0)}m&&Mt(e.attrs,"set","")}function ga(e,t,s,a){const[n,o]=e.propsOptions;let c=!1,u;if(t)for(let p in t){if(gn(p))continue;const m=t[p];let f;n&&Ne(n,f=Yt(p))?!o||!o.includes(f)?s[f]=m:(u||(u={}))[f]=m:ds(e.emitsOptions,p)||(!(p in a)||m!==a[p])&&(a[p]=m,c=!0)}if(o){const p=ve(s),m=u||ke;for(let f=0;f<o.length;f++){const l=o[f];s[l]=zs(n,p,l,m[l],e,!Ne(m,l))}}return c}function zs(e,t,s,a,n,o){const c=e[s];if(c!=null){const u=Ne(c,"default");if(u&&a===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&Se(p)){const{propsDefaults:m}=n;if(s in m)a=m[s];else{const f=In(n);a=m[s]=p.call(null,t),f()}}else a=p;n.ce&&n.ce._setProp(s,a)}c[0]&&(o&&!u?a=!1:c[1]&&(a===""||a===Xt(s))&&(a=!0))}return a}const uu=new WeakMap;function Ea(e,t,s=!1){const a=s?uu:t.propsCache,n=a.get(e);if(n)return n;const o=e.props,c={},u=[];let p=!1;if(!Se(e)){const f=l=>{p=!0;const[g,k]=Ea(l,t,!0);ze(c,g),k&&u.push(...k)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!p)return $e(e)&&a.set(e,tn),tn;if(Ee(o))for(let f=0;f<o.length;f++){const l=Yt(o[f]);Ca(l)&&(c[l]=ke)}else if(o)for(const f in o){const l=Yt(f);if(Ca(l)){const g=o[f],k=c[l]=Ee(g)||Se(g)?{type:g}:ze({},g),V=k.type;let w=!1,K=!0;if(Ee(V))for(let L=0;L<V.length;++L){const $=V[L],D=Se($)&&$.name;if(D==="Boolean"){w=!0;break}else D==="String"&&(K=!1)}else w=Se(V)&&V.name==="Boolean";k[0]=w,k[1]=K,(w||Ne(k,"default"))&&u.push(l)}}const m=[c,u];return $e(e)&&a.set(e,m),m}function Ca(e){return e[0]!=="$"&&!gn(e)}const Qs=e=>e==="_"||e==="_ctx"||e==="$stable",Zs=e=>Ee(e)?e.map(Tt):[Tt(e)],pu=(e,t,s)=>{if(t._n)return t;const a=Zi((...n)=>Zs(t(...n)),s);return a._c=!1,a},Sa=(e,t,s)=>{const a=e._ctx;for(const n in e){if(Qs(n))continue;const o=e[n];if(Se(o))t[n]=pu(n,o,a);else if(o!=null){const c=Zs(o);t[n]=()=>c}}},Aa=(e,t)=>{const s=Zs(t);e.slots.default=()=>s},ba=(e,t,s)=>{for(const a in t)(s||!Qs(a))&&(e[a]=t[a])},_u=(e,t,s)=>{const a=e.slots=ma();if(e.vnode.shapeFlag&32){const n=t._;n?(ba(a,t,s),s&&Ai(a,"_",n,!0)):Sa(t,a)}else t&&Aa(e,t)},fu=(e,t,s)=>{const{vnode:a,slots:n}=e;let o=!0,c=ke;if(a.shapeFlag&32){const u=t._;u?s&&u===1?o=!1:ba(n,t,s):(o=!t.$stable,Sa(t,n)),c=t}else t&&(Aa(e,t),c={default:1});if(o)for(const u in n)!Qs(u)&&c[u]==null&&delete n[u]},rt=Nu;function mu(e){return hu(e)}function hu(e,t){const s=Jn();s.__VUE__=!0;const{insert:a,remove:n,patchProp:o,createElement:c,createText:u,createComment:p,setText:m,setElementText:f,parentNode:l,nextSibling:g,setScopeId:k=Et,insertStaticContent:V}=e,w=(C,I,B,b=null,A=null,X=null,E=void 0,_=null,S=!!I.dynamicChildren)=>{if(C===I)return;C&&!Mn(C,I)&&(b=he(C),W(C,A,X,!0),C=null),I.patchFlag===-2&&(S=!1,I.dynamicChildren=null);const{type:P,ref:y,shapeFlag:O}=I;switch(P){case us:K(C,I,B,b);break;case wt:L(C,I,B,b);break;case ps:C==null&&$(I,B,b,E);break;case Ce:N(C,I,B,b,A,X,E,_,S);break;default:O&1?Y(C,I,B,b,A,X,E,_,S):O&6?h(C,I,B,b,A,X,E,_,S):(O&64||O&128)&&P.process(C,I,B,b,A,X,E,_,S,Pe)}y!=null&&A?On(y,C&&C.ref,X,I||C,!I):y==null&&C&&C.ref!=null&&On(C.ref,null,X,C,!0)},K=(C,I,B,b)=>{if(C==null)a(I.el=u(I.children),B,b);else{const A=I.el=C.el;I.children!==C.children&&m(A,I.children)}},L=(C,I,B,b)=>{C==null?a(I.el=p(I.children||""),B,b):I.el=C.el},$=(C,I,B,b)=>{[C.el,C.anchor]=V(C.children,I,B,b,C.el,C.anchor)},D=({el:C,anchor:I},B,b)=>{let A;for(;C&&C!==I;)A=g(C),a(C,B,b),C=A;a(I,B,b)},G=({el:C,anchor:I})=>{let B;for(;C&&C!==I;)B=g(C),n(C),C=B;n(I)},Y=(C,I,B,b,A,X,E,_,S)=>{I.type==="svg"?E="svg":I.type==="math"&&(E="mathml"),C==null?R(I,B,b,A,X,E,_,S):ge(C,I,A,X,E,_,S)},R=(C,I,B,b,A,X,E,_)=>{let S,P;const{props:y,shapeFlag:O,transition:H,dirs:M}=C;if(S=C.el=c(C.type,X,y&&y.is,y),O&8?f(S,C.children):O&16&&de(C.children,S,null,b,A,ei(C,X),E,_),M&&Wt(C,null,b,"created"),te(S,C,C.scopeId,E,b),y){for(const ue in y)ue!=="value"&&!gn(ue)&&o(S,ue,null,y[ue],X,b);"value"in y&&o(S,"value",null,y.value,X),(P=y.onVnodeBeforeMount)&&yt(P,b,C)}M&&Wt(C,null,b,"beforeMount");const ie=gu(A,H);ie&&H.beforeEnter(S),a(S,I,B),((P=y&&y.onVnodeMounted)||ie||M)&&rt(()=>{P&&yt(P,b,C),ie&&H.enter(S),M&&Wt(C,null,b,"mounted")},A)},te=(C,I,B,b,A)=>{if(B&&k(C,B),b)for(let X=0;X<b.length;X++)k(C,b[X]);if(A){let X=A.subTree;if(I===X||Ma(X.type)&&(X.ssContent===I||X.ssFallback===I)){const E=A.vnode;te(C,E,E.scopeId,E.slotScopeIds,A.parent)}}},de=(C,I,B,b,A,X,E,_,S=0)=>{for(let P=S;P<C.length;P++){const y=C[P]=_?Bt(C[P]):Tt(C[P]);w(null,y,I,B,b,A,X,E,_)}},ge=(C,I,B,b,A,X,E)=>{const _=I.el=C.el;let{patchFlag:S,dynamicChildren:P,dirs:y}=I;S|=C.patchFlag&16;const O=C.props||ke,H=I.props||ke;let M;if(B&&qt(B,!1),(M=H.onVnodeBeforeUpdate)&&yt(M,B,I,C),y&&Wt(I,C,B,"beforeUpdate"),B&&qt(B,!0),(O.innerHTML&&H.innerHTML==null||O.textContent&&H.textContent==null)&&f(_,""),P?J(C.dynamicChildren,P,_,B,b,ei(I,A),X):E||ne(C,I,_,null,B,b,ei(I,A),X,!1),S>0){if(S&16)j(_,O,H,B,A);else if(S&2&&O.class!==H.class&&o(_,"class",null,H.class,A),S&4&&o(_,"style",O.style,H.style,A),S&8){const ie=I.dynamicProps;for(let ue=0;ue<ie.length;ue++){const fe=ie[ue],Ae=O[fe],xe=H[fe];(xe!==Ae||fe==="value")&&o(_,fe,Ae,xe,A,B)}}S&1&&C.children!==I.children&&f(_,I.children)}else!E&&P==null&&j(_,O,H,B,A);((M=H.onVnodeUpdated)||y)&&rt(()=>{M&&yt(M,B,I,C),y&&Wt(I,C,B,"updated")},b)},J=(C,I,B,b,A,X,E)=>{for(let _=0;_<I.length;_++){const S=C[_],P=I[_],y=S.el&&(S.type===Ce||!Mn(S,P)||S.shapeFlag&198)?l(S.el):B;w(S,P,y,null,b,A,X,E,!0)}},j=(C,I,B,b,A)=>{if(I!==B){if(I!==ke)for(const X in I)!gn(X)&&!(X in B)&&o(C,X,I[X],null,A,b);for(const X in B){if(gn(X))continue;const E=B[X],_=I[X];E!==_&&X!=="value"&&o(C,X,_,E,A,b)}"value"in B&&o(C,"value",I.value,B.value,A)}},N=(C,I,B,b,A,X,E,_,S)=>{const P=I.el=C?C.el:u(""),y=I.anchor=C?C.anchor:u("");let{patchFlag:O,dynamicChildren:H,slotScopeIds:M}=I;M&&(_=_?_.concat(M):M),C==null?(a(P,B,b),a(y,B,b),de(I.children||[],B,y,A,X,E,_,S)):O>0&&O&64&&H&&C.dynamicChildren?(J(C.dynamicChildren,H,B,A,X,E,_),(I.key!=null||A&&I===A.subTree)&&Ta(C,I,!0)):ne(C,I,B,y,A,X,E,_,S)},h=(C,I,B,b,A,X,E,_,S)=>{I.slotScopeIds=_,C==null?I.shapeFlag&512?A.ctx.activate(I,B,b,E,S):x(I,B,b,A,X,E,S):ce(C,I,S)},x=(C,I,B,b,A,X,E)=>{const _=C.component=Du(C,b,A);if(na(C)&&(_.ctx.renderer=Pe),Yu(_,!1,E),_.asyncDep){if(A&&A.registerDep(_,Z,E),!C.el){const S=_.subTree=He(wt);L(null,S,I,B),C.placeholder=S.el}}else Z(_,C,I,B,A,X,E)},ce=(C,I,B)=>{const b=I.component=C.component;if(xu(C,I,B))if(b.asyncDep&&!b.asyncResolved){q(b,I,B);return}else b.next=I,b.update();else I.el=C.el,b.vnode=I},Z=(C,I,B,b,A,X,E)=>{const _=()=>{if(C.isMounted){let{next:O,bu:H,u:M,parent:ie,vnode:ue}=C;{const tt=ya(C);if(tt){O&&(O.el=ue.el,q(C,O,E)),tt.asyncDep.then(()=>{C.isUnmounted||_()});return}}let fe=O,Ae;qt(C,!1),O?(O.el=ue.el,q(C,O,E)):O=ue,H&&Kn(H),(Ae=O.props&&O.props.onVnodeBeforeUpdate)&&yt(Ae,ie,O,ue),qt(C,!0);const xe=Na(C),Le=C.subTree;C.subTree=xe,w(Le,xe,l(Le.el),he(Le),C,A,X),O.el=xe.el,fe===null&&vu(C,xe.el),M&&rt(M,A),(Ae=O.props&&O.props.onVnodeUpdated)&&rt(()=>yt(Ae,ie,O,ue),A)}else{let O;const{el:H,props:M}=I,{bm:ie,m:ue,parent:fe,root:Ae,type:xe}=C,Le=dn(I);qt(C,!1),ie&&Kn(ie),!Le&&(O=M&&M.onVnodeBeforeMount)&&yt(O,fe,I),qt(C,!0);{Ae.ce&&Ae.ce._def.shadowRoot!==!1&&Ae.ce._injectChildStyle(xe);const tt=C.subTree=Na(C);w(null,tt,B,b,C,A,X),I.el=tt.el}if(ue&&rt(ue,A),!Le&&(O=M&&M.onVnodeMounted)){const tt=I;rt(()=>yt(O,fe,tt),A)}(I.shapeFlag&256||fe&&dn(fe.vnode)&&fe.vnode.shapeFlag&256)&&C.a&&rt(C.a,A),C.isMounted=!0,I=B=b=null}};C.scope.on();const S=C.effect=new Oi(_);C.scope.off();const P=C.update=S.run.bind(S),y=C.job=S.runIfDirty.bind(S);y.i=C,y.id=C.uid,S.scheduler=()=>Bs(y),qt(C,!0),P()},q=(C,I,B)=>{I.component=C;const b=C.vnode.props;C.vnode=I,C.next=null,du(C,I.props,b,B),fu(C,I.children,B),Ct(),Wi(C),St()},ne=(C,I,B,b,A,X,E,_,S=!1)=>{const P=C&&C.children,y=C?C.shapeFlag:0,O=I.children,{patchFlag:H,shapeFlag:M}=I;if(H>0){if(H&128){oe(P,O,B,b,A,X,E,_,S);return}else if(H&256){z(P,O,B,b,A,X,E,_,S);return}}M&8?(y&16&&le(P,A,X),O!==P&&f(B,O)):y&16?M&16?oe(P,O,B,b,A,X,E,_,S):le(P,A,X,!0):(y&8&&f(B,""),M&16&&de(O,B,b,A,X,E,_,S))},z=(C,I,B,b,A,X,E,_,S)=>{C=C||tn,I=I||tn;const P=C.length,y=I.length,O=Math.min(P,y);let H;for(H=0;H<O;H++){const M=I[H]=S?Bt(I[H]):Tt(I[H]);w(C[H],M,B,null,A,X,E,_,S)}P>y?le(C,A,X,!0,!1,O):de(I,B,b,A,X,E,_,S,O)},oe=(C,I,B,b,A,X,E,_,S)=>{let P=0;const y=I.length;let O=C.length-1,H=y-1;for(;P<=O&&P<=H;){const M=C[P],ie=I[P]=S?Bt(I[P]):Tt(I[P]);if(Mn(M,ie))w(M,ie,B,null,A,X,E,_,S);else break;P++}for(;P<=O&&P<=H;){const M=C[O],ie=I[H]=S?Bt(I[H]):Tt(I[H]);if(Mn(M,ie))w(M,ie,B,null,A,X,E,_,S);else break;O--,H--}if(P>O){if(P<=H){const M=H+1,ie=M<y?I[M].el:b;for(;P<=H;)w(null,I[P]=S?Bt(I[P]):Tt(I[P]),B,ie,A,X,E,_,S),P++}}else if(P>H)for(;P<=O;)W(C[P],A,X,!0),P++;else{const M=P,ie=P,ue=new Map;for(P=ie;P<=H;P++){const Ve=I[P]=S?Bt(I[P]):Tt(I[P]);Ve.key!=null&&ue.set(Ve.key,P)}let fe,Ae=0;const xe=H-ie+1;let Le=!1,tt=0;const vt=new Array(xe);for(P=0;P<xe;P++)vt[P]=0;for(P=M;P<=O;P++){const Ve=C[P];if(Ae>=xe){W(Ve,A,X,!0);continue}let Ge;if(Ve.key!=null)Ge=ue.get(Ve.key);else for(fe=ie;fe<=H;fe++)if(vt[fe-ie]===0&&Mn(Ve,I[fe])){Ge=fe;break}Ge===void 0?W(Ve,A,X,!0):(vt[Ge-ie]=P+1,Ge>=tt?tt=Ge:Le=!0,w(Ve,I[Ge],B,null,A,X,E,_,S),Ae++)}const it=Le?Eu(vt):tn;for(fe=it.length-1,P=xe-1;P>=0;P--){const Ve=ie+P,Ge=I[Ve],Nt=I[Ve+1],Pt=Ve+1<y?Nt.el||Nt.placeholder:b;vt[P]===0?w(null,Ge,B,Pt,A,X,E,_,S):Le&&(fe<0||P!==it[fe]?F(Ge,B,Pt,2):fe--)}}},F=(C,I,B,b,A=null)=>{const{el:X,type:E,transition:_,children:S,shapeFlag:P}=C;if(P&6){F(C.component.subTree,I,B,b);return}if(P&128){C.suspense.move(I,B,b);return}if(P&64){E.move(C,I,B,Pe);return}if(E===Ce){a(X,I,B);for(let O=0;O<S.length;O++)F(S[O],I,B,b);a(C.anchor,I,B);return}if(E===ps){D(C,I,B);return}if(b!==2&&P&1&&_)if(b===0)_.beforeEnter(X),a(X,I,B),rt(()=>_.enter(X),A);else{const{leave:O,delayLeave:H,afterLeave:M}=_,ie=()=>{C.ctx.isUnmounted?n(X):a(X,I,B)},ue=()=>{X._isLeaving&&X[Fd](!0),O(X,()=>{ie(),M&&M()})};H?H(X,ie,ue):ue()}else a(X,I,B)},W=(C,I,B,b=!1,A=!1)=>{const{type:X,props:E,ref:_,children:S,dynamicChildren:P,shapeFlag:y,patchFlag:O,dirs:H,cacheIndex:M}=C;if(O===-2&&(A=!1),_!=null&&(Ct(),On(_,null,B,C,!0),St()),M!=null&&(I.renderCache[M]=void 0),y&256){I.ctx.deactivate(C);return}const ie=y&1&&H,ue=!dn(C);let fe;if(ue&&(fe=E&&E.onVnodeBeforeUnmount)&&yt(fe,I,C),y&6)_e(C.component,B,b);else{if(y&128){C.suspense.unmount(B,b);return}ie&&Wt(C,null,I,"beforeUnmount"),y&64?C.type.remove(C,I,B,Pe,b):P&&!P.hasOnce&&(X!==Ce||O>0&&O&64)?le(P,I,B,!1,!0):(X===Ce&&O&384||!A&&y&16)&&le(S,I,B),b&&ee(C)}(ue&&(fe=E&&E.onVnodeUnmounted)||ie)&&rt(()=>{fe&&yt(fe,I,C),ie&&Wt(C,null,I,"unmounted")},B)},ee=C=>{const{type:I,el:B,anchor:b,transition:A}=C;if(I===Ce){re(B,b);return}if(I===ps){G(C);return}const X=()=>{n(B),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(C.shapeFlag&1&&A&&!A.persisted){const{leave:E,delayLeave:_}=A,S=()=>E(B,X);_?_(C.el,X,S):S()}else X()},re=(C,I)=>{let B;for(;C!==I;)B=g(C),n(C),C=B;n(I)},_e=(C,I,B)=>{const{bum:b,scope:A,job:X,subTree:E,um:_,m:S,a:P}=C;Ra(S),Ra(P),b&&Kn(b),A.stop(),X&&(X.flags|=8,W(E,C,I,B)),_&&rt(_,I),rt(()=>{C.isUnmounted=!0},I)},le=(C,I,B,b=!1,A=!1,X=0)=>{for(let E=X;E<C.length;E++)W(C[E],I,B,b,A)},he=C=>{if(C.shapeFlag&6)return he(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const I=g(C.anchor||C.el),B=I&&I[Yd];return B?g(B):I};let Re=!1;const Te=(C,I,B)=>{C==null?I._vnode&&W(I._vnode,null,null,!0):w(I._vnode||null,C,I,null,null,null,B),I._vnode=C,Re||(Re=!0,Wi(),qi(),Re=!1)},Pe={p:w,um:W,m:F,r:ee,mt:x,mc:de,pc:ne,pbc:J,n:he,o:e};return{render:Te,hydrate:void 0,createApp:ru(Te)}}function ei({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function gu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ta(e,t,s=!1){const a=e.children,n=t.children;if(Ee(a)&&Ee(n))for(let o=0;o<a.length;o++){const c=a[o];let u=n[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[o]=Bt(n[o]),u.el=c.el),!s&&u.patchFlag!==-2&&Ta(c,u)),u.type===us&&u.patchFlag!==-1&&(u.el=c.el),u.type===wt&&!u.el&&(u.el=c.el)}}function Eu(e){const t=e.slice(),s=[0];let a,n,o,c,u;const p=e.length;for(a=0;a<p;a++){const m=e[a];if(m!==0){if(n=s[s.length-1],e[n]<m){t[a]=n,s.push(a);continue}for(o=0,c=s.length-1;o<c;)u=o+c>>1,e[s[u]]<m?o=u+1:c=u;m<e[s[o]]&&(o>0&&(t[a]=s[o-1]),s[o]=a)}}for(o=s.length,c=s[o-1];o-- >0;)s[o]=c,c=t[c];return s}function ya(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ya(t)}function Ra(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Cu=Symbol.for("v-scx"),Su=()=>cs(Cu);function Ue(e,t,s){return Oa(e,t,s)}function Oa(e,t,s=ke){const{immediate:a,deep:n,flush:o,once:c}=s,u=ze({},s),p=t&&a||!t&&o!=="post";let m;if(kn){if(o==="sync"){const k=Su();m=k.__watcherHandles||(k.__watcherHandles=[])}else if(!p){const k=()=>{};return k.stop=Et,k.resume=Et,k.pause=Et,k}}const f=et;u.call=(k,V,w)=>At(k,f,V,w);let l=!1;o==="post"?u.scheduler=k=>{rt(k,f&&f.suspense)}:o!=="sync"&&(l=!0,u.scheduler=(k,V)=>{V?k():Bs(k)}),u.augmentJob=k=>{t&&(k.flags|=4),l&&(k.flags|=2,f&&(k.id=f.uid,k.i=f))};const g=Md(e,t,u);return kn&&(m?m.push(g):p&&g()),g}function Au(e,t,s){const a=this.proxy,n=Fe(e)?e.includes(".")?xa(a,e):()=>a[e]:e.bind(a,a);let o;Se(t)?o=t:(o=t.handler,s=t);const c=In(this),u=Oa(n,o.bind(a),s);return c(),u}function xa(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const bu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Yt(t)}Modifiers`]||e[`${Xt(t)}Modifiers`];function Tu(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||ke;let n=s;const o=t.startsWith("update:"),c=o&&bu(a,t.slice(7));c&&(c.trim&&(n=s.map(f=>Fe(f)?f.trim():f)),c.number&&(n=s.map(jn)));let u,p=a[u=vs(t)]||a[u=vs(Yt(t))];!p&&o&&(p=a[u=vs(Xt(t))]),p&&At(p,e,6,n);const m=a[u+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,At(m,e,6,n)}}const yu=new WeakMap;function va(e,t,s=!1){const a=s?yu:t.emitsCache,n=a.get(e);if(n!==void 0)return n;const o=e.emits;let c={},u=!1;if(!Se(e)){const p=m=>{const f=va(m,t,!0);f&&(u=!0,ze(c,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!o&&!u?($e(e)&&a.set(e,null),null):(Ee(o)?o.forEach(p=>c[p]=null):ze(c,o),$e(e)&&a.set(e,c),c)}function ds(e,t){return!e||!Hn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,Xt(t))||Ne(e,t))}function $1(){}function Na(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[o],slots:c,attrs:u,emit:p,render:m,renderCache:f,props:l,data:g,setupState:k,ctx:V,inheritAttrs:w}=e,K=as(e);let L,$;try{if(s.shapeFlag&4){const G=n||a,Y=G;L=Tt(m.call(Y,G,f,l,k,g,V)),$=u}else{const G=t;L=Tt(G.length>1?G(l,{attrs:u,slots:c,emit:p}):G(l,null)),$=t.props?u:Ru(u)}}catch(G){Nn.length=0,ss(G,e,1),L=He(wt)}let D=L;if($&&w!==!1){const G=Object.keys($),{shapeFlag:Y}=D;G.length&&Y&7&&(o&&G.some(Rs)&&($=Ou($,o)),D=pn(D,$,!1,!0))}return s.dirs&&(D=pn(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&Ks(D,s.transition),L=D,as(K),L}const Ru=e=>{let t;for(const s in e)(s==="class"||s==="style"||Hn(s))&&((t||(t={}))[s]=e[s]);return t},Ou=(e,t)=>{const s={};for(const a in e)(!Rs(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function xu(e,t,s){const{props:a,children:n,component:o}=e,{props:c,children:u,patchFlag:p}=t,m=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return a?Pa(a,c,m):!!c;if(p&8){const f=t.dynamicProps;for(let l=0;l<f.length;l++){const g=f[l];if(c[g]!==a[g]&&!ds(m,g))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:a===c?!1:a?c?Pa(a,c,m):!0:!!c;return!1}function Pa(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const o=a[n];if(t[o]!==e[o]&&!ds(s,o))return!0}return!1}function vu({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ma=e=>e.__isSuspense;function Nu(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):Ud(e)}const Ce=Symbol.for("v-fgt"),us=Symbol.for("v-txt"),wt=Symbol.for("v-cmt"),ps=Symbol.for("v-stc"),Nn=[];let lt=null;function T(e=!1){Nn.push(lt=e?null:[])}function Pu(){Nn.pop(),lt=Nn[Nn.length-1]||null}let Pn=1;function Ia(e,t=!1){Pn+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function ka(e){return e.dynamicChildren=Pn>0?lt||tn:null,Pu(),Pn>0&&lt&&lt.push(e),e}function v(e,t,s,a,n,o){return ka(i(e,t,s,a,n,o,!0))}function st(e,t,s,a,n){return ka(He(e,t,s,a,n,!0))}function ti(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const $a=({key:e})=>e!=null?e:null,_s=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||je(e)||Se(e)?{i:qe,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,a=0,n=null,o=e===Ce?0:1,c=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$a(t),ref:t&&_s(t),scopeId:Qi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return u?(ni(p,s),o&128&&e.normalize(p)):s&&(p.shapeFlag|=Fe(s)?8:16),Pn>0&&!c&&lt&&(p.patchFlag>0||o&6)&&p.patchFlag!==32&&lt.push(p),p}const He=Mu;function Mu(e,t=null,s=null,a=0,n=null,o=!1){if((!e||e===Qd)&&(e=wt),ti(e)){const u=pn(e,t,!0);return s&&ni(u,s),Pn>0&&!o&&lt&&(u.shapeFlag&6?lt[lt.indexOf(e)]=u:lt.push(u)),u.patchFlag=-2,u}if(Ku(e)&&(e=e.__vccOpts),t){t=Iu(t);let{class:u,style:p}=t;u&&!Fe(u)&&(t.class=Me(u)),$e(p)&&(Vs(p)&&!Ee(p)&&(p=ze({},p)),t.style=Gt(p))}const c=Fe(e)?1:Ma(e)?128:Xd(e)?64:$e(e)?4:Se(e)?2:0;return i(e,t,s,a,n,c,o,!0)}function Iu(e){return e?Vs(e)||ha(e)?ze({},e):e:null}function pn(e,t,s=!1,a=!1){const{props:n,ref:o,patchFlag:c,children:u,transition:p}=e,m=t?$u(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&$a(m),ref:t&&t.ref?s&&o?Ee(o)?o.concat(_s(t)):[o,_s(t)]:_s(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pn(e.ssContent),ssFallback:e.ssFallback&&pn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&a&&Ks(f,p.clone(f)),f}function ye(e=" ",t=0){return He(us,null,e,t)}function ku(e,t){const s=He(ps,null,e);return s.staticCount=t,s}function ae(e="",t=!1){return t?(T(),st(wt,null,e)):He(wt,null,e)}function Tt(e){return e==null||typeof e=="boolean"?He(wt):Ee(e)?He(Ce,null,e.slice()):ti(e)?Bt(e):He(us,null,String(e))}function Bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pn(e)}function ni(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Ee(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),ni(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ha(t)?t._ctx=qe:n===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Se(t)?(t={default:t,_ctx:qe},s=32):(t=String(t),a&64?(s=16,t=[ye(t)]):s=8);e.children=t,e.shapeFlag|=s}function $u(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=Me([t.class,a.class]));else if(n==="style")t.style=Gt([t.style,a.style]);else if(Hn(n)){const o=t[n],c=a[n];c&&o!==c&&!(Ee(o)&&o.includes(c))&&(t[n]=o?[].concat(o,c):c)}else n!==""&&(t[n]=a[n])}return t}function yt(e,t,s,a=null){At(e,t,7,[s,a])}const wu=_a();let Lu=0;function Du(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||wu,o={uid:Lu++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ea(a,n),emitsOptions:va(a,n),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:a.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Tu.bind(null,o),e.ce&&e.ce(o),o}let et=null;const Uu=()=>et||qe;let fs,si;{const e=Jn(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),o=>{n.length>1?n.forEach(c=>c(o)):n[0](o)}};fs=t("__VUE_INSTANCE_SETTERS__",s=>et=s),si=t("__VUE_SSR_SETTERS__",s=>kn=s)}const In=e=>{const t=et;return fs(e),e.scope.on(),()=>{e.scope.off(),fs(t)}},wa=()=>{et&&et.scope.off(),fs(null)};function La(e){return e.vnode.shapeFlag&4}let kn=!1;function Yu(e,t=!1,s=!1){t&&si(t);const{props:a,children:n}=e.vnode,o=La(e);cu(e,a,o,t),_u(e,n,s||t);const c=o?Xu(e,t):void 0;return t&&si(!1),c}function Xu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,eu);const{setup:a}=s;if(a){Ct();const n=e.setupContext=a.length>1?Gu(e):null,o=In(e),c=rn(a,e,0,[e.props,n]),u=gi(c);if(St(),o(),(u||e.sp)&&!dn(e)&&ea(e),u){if(c.then(wa,wa),t)return c.then(p=>{Da(e,p)}).catch(p=>{ss(p,e,0)});e.asyncDep=c}else Da(e,c)}else Ua(e)}function Da(e,t,s){Se(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$e(t)&&(e.setupState=Hi(t)),Ua(e)}function Ua(e,t,s){const a=e.type;e.render||(e.render=a.render||Et);{const n=In(e);Ct();try{tu(e)}finally{St(),n()}}}const Fu={get(e,t){return We(e,"get",""),e[t]}};function Gu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Fu),slots:e.slots,emit:e.emit,expose:t}}function ms(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Hi(yd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in xn)return xn[s](e)},has(t,s){return s in t||s in xn}})):e.proxy}const Vu=/(?:^|[-_])\w/g,Hu=e=>e.replace(Vu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Bu(e,t=!0){return Se(e)?e.displayName||e.name:e.name||t&&e.__name}function Ya(e,t,s=!1){let a=Bu(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=o=>{for(const c in o)if(o[c]===t)return c};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?Hu(a):s?"App":"Anonymous"}function Ku(e){return Se(e)&&"__vccOpts"in e}const me=(e,t)=>Nd(e,t,kn),ju="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ii;const Xa=typeof window!="undefined"&&window.trustedTypes;if(Xa)try{ii=Xa.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Fa=ii?e=>ii.createHTML(e):e=>e,Ju="http://www.w3.org/2000/svg",Wu="http://www.w3.org/1998/Math/MathML",Lt=typeof document!="undefined"?document:null,Ga=Lt&&Lt.createElement("template"),qu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?Lt.createElementNS(Ju,e):t==="mathml"?Lt.createElementNS(Wu,e):s?Lt.createElement(e,{is:s}):Lt.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,o){const c=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{Ga.innerHTML=Fa(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const u=Ga.content;if(a==="svg"||a==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[c?c.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},zu=Symbol("_vtc");function Qu(e,t,s){const a=e[zu];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const hs=Symbol("_vod"),Va=Symbol("_vsh"),Zu={name:"show",beforeMount(e,{value:t},{transition:s}){e[hs]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):$n(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),$n(e,!0),a.enter(e)):a.leave(e,()=>{$n(e,!1)}):$n(e,t))},beforeUnmount(e,{value:t}){$n(e,t)}};function $n(e,t){e.style.display=t?e[hs]:"none",e[Va]=!t}const ep=Symbol(""),tp=/(?:^|;)\s*display\s*:/;function np(e,t,s){const a=e.style,n=Fe(s);let o=!1;if(s&&!n){if(t)if(Fe(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();s[u]==null&&gs(a,u,"")}else for(const c in t)s[c]==null&&gs(a,c,"");for(const c in s)c==="display"&&(o=!0),gs(a,c,s[c])}else if(n){if(t!==s){const c=a[ep];c&&(s+=";"+c),a.cssText=s,o=tp.test(s)}}else t&&e.removeAttribute("style");hs in e&&(e[hs]=o?a.display:"",e[Va]&&(a.display="none"))}const Ha=/\s*!important$/;function gs(e,t,s){if(Ee(s))s.forEach(a=>gs(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=sp(e,t);Ha.test(s)?e.setProperty(Xt(a),s.replace(Ha,""),"important"):e[a]=s}}const Ba=["Webkit","Moz","ms"],ai={};function sp(e,t){const s=ai[t];if(s)return s;let a=Yt(t);if(a!=="filter"&&a in e)return ai[t]=a;a=Si(a);for(let n=0;n<Ba.length;n++){const o=Ba[n]+a;if(o in e)return ai[t]=o}return t}const Ka="http://www.w3.org/1999/xlink";function ja(e,t,s,a,n,o=td(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ka,t.slice(6,t.length)):e.setAttributeNS(Ka,t,s):s==null||o&&!Ti(s)?e.removeAttribute(t):e.setAttribute(t,o?"":pt(s)?String(s):s)}function Ja(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Fa(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let c=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Ti(s):s==null&&u==="string"?(s="",c=!0):u==="number"&&(s=0,c=!0)}try{e[t]=s}catch(u){}c&&e.removeAttribute(n||t)}function Kt(e,t,s,a){e.addEventListener(t,s,a)}function ip(e,t,s,a){e.removeEventListener(t,s,a)}const Wa=Symbol("_vei");function ap(e,t,s,a,n=null){const o=e[Wa]||(e[Wa]={}),c=o[t];if(a&&c)c.value=a;else{const[u,p]=op(t);if(a){const m=o[t]=cp(a,n);Kt(e,u,m,p)}else c&&(ip(e,u,c,p),o[t]=void 0)}}const qa=/(?:Once|Passive|Capture)$/;function op(e){let t;if(qa.test(e)){t={};let a;for(;a=e.match(qa);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xt(e.slice(2)),t]}let oi=0;const rp=Promise.resolve(),lp=()=>oi||(rp.then(()=>oi=0),oi=Date.now());function cp(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;At(dp(a,s.value),t,5,[a])};return s.value=e,s.attached=lp(),s}function dp(e,t){if(Ee(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const za=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,up=(e,t,s,a,n,o)=>{const c=n==="svg";t==="class"?Qu(e,a,c):t==="style"?np(e,s,a):Hn(t)?Rs(t)||ap(e,t,s,a,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):pp(e,t,a,c))?(Ja(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ja(e,t,a,c,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(a))?Ja(e,Yt(t),a,o,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),ja(e,t,a,c))};function pp(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&za(t)&&Se(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return za(t)&&Fe(s)?!1:t in e}const _n=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?s=>Kn(t,s):t};function _p(e){e.target.composing=!0}function Qa(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dt=Symbol("_assign"),pe={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[Dt]=_n(n);const o=a||n.props&&n.props.type==="number";Kt(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;s&&(u=u.trim()),o&&(u=jn(u)),e[Dt](u)}),s&&Kt(e,"change",()=>{e.value=e.value.trim()}),t||(Kt(e,"compositionstart",_p),Kt(e,"compositionend",Qa),Kt(e,"change",Qa))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:o}},c){if(e[Dt]=_n(c),e.composing)return;const u=(o||e.type==="number")&&!/^0\d/.test(e.value)?jn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===p)||(e.value=p))}},ct={deep:!0,created(e,t,s){e[Dt]=_n(s),Kt(e,"change",()=>{const a=e._modelValue,n=wn(e),o=e.checked,c=e[Dt];if(Ee(a)){const u=Ns(a,n),p=u!==-1;if(o&&!p)c(a.concat(n));else if(!o&&p){const m=[...a];m.splice(u,1),c(m)}}else if(sn(a)){const u=new Set(a);o?u.add(n):u.delete(n),c(u)}else c(to(e,o))})},mounted:Za,beforeUpdate(e,t,s){e[Dt]=_n(s),Za(e,t,s)}};function Za(e,{value:t,oldValue:s},a){e._modelValue=t;let n;if(Ee(t))n=Ns(t,a.props.value)>-1;else if(sn(t))n=t.has(a.props.value);else{if(t===s)return;n=En(t,to(e,!0))}e.checked!==n&&(e.checked=n)}const ft={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const n=sn(t);Kt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?jn(wn(c)):wn(c));e[Dt](e.multiple?n?new Set(o):o:o[0]),e._assigning=!0,ji(()=>{e._assigning=!1})}),e[Dt]=_n(a)},mounted(e,{value:t}){eo(e,t)},beforeUpdate(e,t,s){e[Dt]=_n(s)},updated(e,{value:t}){e._assigning||eo(e,t)}};function eo(e,t){const s=e.multiple,a=Ee(t);if(!(s&&!a&&!sn(t))){for(let n=0,o=e.options.length;n<o;n++){const c=e.options[n],u=wn(c);if(s)if(a){const p=typeof u;p==="string"||p==="number"?c.selected=t.some(m=>String(m)===String(u)):c.selected=Ns(t,u)>-1}else c.selected=t.has(u);else if(En(wn(c),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function wn(e){return"_value"in e?e._value:e.value}function to(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const fp=["ctrl","shift","alt","meta"],mp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>fp.some(s=>e[`${s}Key`]&&!t.includes(s))},mt=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...o)=>{for(let c=0;c<t.length;c++){const u=mp[t[c]];if(u&&u(n,t))return}return e(n,...o)})},hp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const o=Xt(n.key);if(t.some(c=>c===o||hp[c]===o))return e(n)})},gp=ze({patchProp:up},qu);let no;function Ep(){return no||(no=mu(gp))}const Cp=(...e)=>{const t=Ep().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=Ap(a);if(!n)return;const o=t._component;!Se(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const c=s(n,!1,Sp(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),c},t};function Sp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ap(e){return Fe(e)?document.querySelector(e):e}const Rt=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},bp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},Tp={key:0,class:"nxp-ec-admin-error"},yp={class:"nxp-ec-admin-error__title"},Rp={class:"nxp-ec-admin-error__body"};function Op(e,t,s,a,n,o){return T(),v("div",null,[n.error?(T(),v("div",Tp,[i("h2",yp,d(o.fallbackTitle),1),i("p",Rp,d(o.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...c)=>o.reload&&o.reload(...c))},d(o.reloadLabel),1)])):Zd(e.$slots,"default",{key:1})])}const xp=Rt(bp,[["render",Op]]),vp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},Np={class:"nxp-ec-admin-panel__header"},Pp={class:"nxp-ec-admin-panel__title"},Mp={class:"nxp-ec-admin-panel__lead"},Ip={class:"nxp-ec-admin-panel__actions"},kp=["disabled"],$p={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},wp={key:1,class:"nxp-ec-dashboard"},Lp={class:"nxp-ec-dashboard__metrics"},Dp={class:"nxp-ec-dashboard__card"},Up={class:"nxp-ec-dashboard__value"},Yp={class:"nxp-ec-dashboard__hint"},Xp={class:"nxp-ec-dashboard__card"},Fp={class:"nxp-ec-dashboard__value"},Gp={class:"nxp-ec-dashboard__hint"},Vp={class:"nxp-ec-dashboard__card"},Hp={class:"nxp-ec-dashboard__value"},Bp={class:"nxp-ec-dashboard__hint"},Kp={class:"nxp-ec-dashboard__card"},jp={class:"nxp-ec-dashboard__value"},Jp={class:"nxp-ec-dashboard__hint"},Wp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},qp={class:"nxp-ec-dashboard__checklist-header"},zp={id:"dashboard-checklist-heading"},Qp={class:"nxp-ec-dashboard__checklist-progress"},Zp={class:"nxp-ec-dashboard__checklist-list"},e_={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},t_={key:0,class:"fa-solid fa-circle-check"},n_={key:1,class:"fa-regular fa-circle"},s_={class:"nxp-ec-dashboard__checklist-label"},i_=["href","title"],a_={class:"nxp-ec-sr-only"},o_=Rt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,a=s.translate,n=s.state,o=me(()=>{var l;const f=(l=n.summary)==null?void 0:l.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),c=(f=0)=>{const l=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:o.value}).format(l)}catch(g){return`${o.value} ${l.toFixed(2)}`}},u=me(()=>Array.isArray(n.checklist)?n.checklist:[]),p=me(()=>u.value.filter(f=>f.completed).length),m=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,l)=>(T(),v("section",vp,[i("header",Np,[i("div",null,[i("h2",Pp,d(r(a)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",Mp,d(r(a)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Ip,[i("button",{class:"nxp-ec-btn",type:"button",onClick:l[0]||(l[0]=g=>f.$emit("refresh")),disabled:r(n).loading},d(r(a)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,kp)])]),r(n).error?(T(),v("div",$p,d(r(n).error),1)):(T(),v("div",wp,[i("div",Lp,[i("article",Dp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Up,d(r(n).summary.products.active),1),i("p",Yp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Xp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",Fp,d(c(r(n).summary.orders.revenue_today)),1),i("p",Gp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",Vp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",Hp,d(r(n).summary.customers.total),1),i("p",Bp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Kp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",jp,d(c(r(n).summary.orders.revenue_month)),1),i("p",Jp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[o.value.value],"dashboardMetricCurrency")),1)])]),i("section",Wp,[i("header",qp,[i("h3",zp,d(r(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Qp,d(p.value)+" / "+d(u.value.length),1)]),i("ul",Zp,[(T(!0),v(Ce,null,Oe(u.value,g=>(T(),v("li",{key:g.id,class:Me({"is-complete":g.completed})},[i("span",e_,[g.completed?(T(),v("span",t_)):(T(),v("span",n_))]),i("span",s_,d(r(a)(g.label,m(g.label))),1),g.link?(T(),v("a",{key:0,href:g.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[l[1]||(l[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",a_,d(r(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,i_)):ae("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),r_={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},l_={id:"nxp-ec-products-caption",class:"visually-hidden"},c_={scope:"col"},d_={scope:"col"},u_={scope:"col"},p_={scope:"col"},__={scope:"col"},f_={scope:"col"},m_={scope:"col"},h_={scope:"col"},g_={scope:"col",class:"nxp-ec-admin-table__actions"},E_={key:0},C_={colspan:"8",class:"nxp-ec-admin-table__empty"},S_=["data-label"],A_={class:"nxp-ec-admin-table__primary"},b_={class:"nxp-ec-products-table__title"},T_={class:"nxp-ec-products-table__slug"},y_={key:0,class:"nxp-ec-products-table__badge"},R_={class:"nxp-ec-status nxp-ec-status--featured"},O_=["data-label"],x_={key:0},v_={key:1},N_=["data-label"],P_=["data-label"],M_=["data-label"],I_={key:0},k_={key:1},$_=["data-label"],w_=["disabled","aria-pressed","title","aria-label","onClick"],L_={class:"nxp-ec-sr-only"},D_=["data-label"],U_={class:"nxp-ec-admin-table__actions"},Y_=["onClick","title","aria-label"],X_={class:"nxp-ec-sr-only"},F_=["onClick","title","aria-label"],G_={class:"nxp-ec-sr-only"},ri=1,Ln=-1,li=0,V_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,a=me(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,l=!1)=>{const g=Number(f);if(Number.isFinite(g))return g===Ln?Ln:g===li?li:ri;if(l)return Ln;if(typeof f=="string"){const k=f.trim().toLowerCase();if(k==="out_of_stock"||k==="out-of-stock"||k==="-1")return Ln;if(k==="inactive"||k==="0")return li}return ri},o=f=>{var V;const l=n((V=f==null?void 0:f.status)!=null?V:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),g=l===ri,k=l===Ln;return{status:l,isActive:g,isOutOfStock:k,label:g?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):k?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:g?"nxp-ec-status--active":k?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:g?"fa-solid fa-circle-check":k?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},c=f=>{var w,K,L,$;const l=(K=(w=f==null?void 0:f.summary)==null?void 0:w.variants)!=null?K:{};if(l.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const g=Number.isFinite(l.price_min_cents)?l.price_min_cents:null,k=Number.isFinite(l.price_max_cents)?l.price_max_cents:null;if(g===null)return"";const V=l.currency||(($=(L=f==null?void 0:f.variants)==null?void 0:L[0])==null?void 0:$.currency)||a.value;return k===null||k===g?m(g,V):`${m(g,V)}  ${m(k,V)}`},u=f=>{var k,V;const l=(V=(k=f==null?void 0:f.summary)==null?void 0:k.variants)!=null?V:{},g=Number.isFinite(l.count)?l.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return g===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(g)])},p=f=>{if(!Array.isArray(f)||!f.length)return"";const l=f.map(V=>(V==null?void 0:V.title)||(V==null?void 0:V.slug)).filter(V=>!!V);if(!l.length)return"";if(l.length<=3)return l.join(", ");const g=l.slice(0,3).join(", "),k=l.length-3;return`${g} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(k)])}`},m=(f,l)=>`${(f/100).toFixed(2)} ${l}`;return(f,l)=>(T(),v("table",r_,[i("caption",l_,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",c_,d(r(s)("JGRID_HEADING_ID","ID")),1),i("th",d_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",u_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",p_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",__,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",f_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",m_,d(r(s)("JSTATUS","Status")),1),i("th",h_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",g_,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?ae("",!0):(T(),v("tr",E_,[i("td",C_,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.items,g=>{var k,V,w,K,L,$,D,G,Y,R,te,de;return T(),v("tr",{key:g.id},[i("td",{"data-label":r(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},d(g.id),9,S_),i("td",A_,[i("div",b_,d(g.title),1),i("div",T_,d(g.slug),1),g.featured?(T(),v("div",y_,[i("span",R_,[l[0]||(l[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),ye(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ae("",!0)]),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[c(g)?(T(),v("span",x_,d(c(g)),1)):(T(),v("span",v_,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,O_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},d(u(g)),9,N_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[i("span",{class:Me(["nxp-ec-status",(V=(k=g.summary)==null?void 0:k.variants)!=null&&V.stock_zero?"nxp-ec-status--danger":(K=(w=g.summary)==null?void 0:w.variants)!=null&&K.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[($=(L=g.summary)==null?void 0:L.variants)!=null&&$.stock_zero||((G=(D=g.summary)==null?void 0:D.variants)==null?void 0:G.stock_total)===0?(T(),v(Ce,{key:0},[ye(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(T(),v(Ce,{key:1},[ye(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((te=(R=(Y=g.summary)==null?void 0:Y.variants)==null?void 0:R.stock_total)!=null?te:0)])),1)],64))],2)],8,P_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(de=g.categories)!=null&&de.length?(T(),v("span",I_,d(p(g.categories)),1)):(T(),v("span",k_,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,M_),i("td",{"data-label":r(s)("JSTATUS","Status")},[i("button",{type:"button",class:Me(["nxp-ec-status","nxp-ec-status-button",o(g).className]),disabled:e.saving,"aria-pressed":o(g).isActive?"true":"false",title:o(g).title,"aria-label":o(g).title,onClick:ge=>f.$emit("toggle-active",g)},[i("i",{class:Me(o(g).icon),"aria-hidden":"true"},null,2),ye(" "+d(o(g).label)+" ",1),i("span",L_,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,w_)],8,$_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},d(g.modified||g.created),9,D_),i("td",U_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("edit",g),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[l[1]||(l[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",X_,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,Y_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("delete",g),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[l[2]||(l[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",G_,d(r(s)("JTRASH","Delete")),1)],8,F_)])])}),128))])]))}},H_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},B_={class:"nxp-ec-modal__dialog"},K_={class:"nxp-ec-modal__header"},j_={class:"nxp-ec-modal__title"},J_={class:"nxp-ec-modal__header-actions"},W_=["disabled","title","aria-label"],q_={class:"nxp-ec-sr-only"},z_=["disabled","title","aria-label"],Q_={class:"nxp-ec-sr-only"},Z_=["aria-label"],ef={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},tf={class:"nxp-ec-form-field"},nf={class:"nxp-ec-form-label",for:"product-title"},sf={class:"nxp-ec-form-field"},af={class:"nxp-ec-form-label",for:"product-slug"},of=["placeholder"],rf={class:"nxp-ec-form-field"},lf={class:"nxp-ec-form-label",for:"product-short-desc"},cf={class:"nxp-ec-form-field"},df={class:"nxp-ec-form-label",for:"product-long-desc"},uf={class:"nxp-ec-form-field"},pf={class:"nxp-ec-form-label",for:"product-status"},_f={value:1},ff={value:-1},mf={value:0},hf={class:"nxp-ec-form-help"},gf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Ef={class:"nxp-ec-form-label",for:"product-featured"},Cf={class:"nxp-ec-form-help"},Sf={class:"nxp-ec-form-field"},Af={class:"nxp-ec-form-label",for:"product-images"},bf={id:"product-images",class:"nxp-ec-image-list"},Tf=["id","onUpdate:modelValue","placeholder"],yf={class:"nxp-ec-image-row__actions"},Rf=["onClick"],Of=["onClick","disabled"],xf=["onClick","disabled"],vf=["onClick","aria-label"],Nf={class:"nxp-ec-form-help"},Pf={class:"nxp-ec-form-field"},Mf={class:"nxp-ec-form-label",for:"product-category-select"},If=["value"],kf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},$f=["onClick","aria-label"],wf={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},Lf=["onKeydown","placeholder"],Df={class:"nxp-ec-form-help"},Uf={class:"nxp-ec-variant-section"},Yf={class:"nxp-ec-variant-section__header"},Xf={class:"nxp-ec-variant-section__title"},Ff={class:"nxp-ec-form-help"},Gf={class:"nxp-ec-variant-card__header"},Vf={class:"nxp-ec-variant-card__title"},Hf=["onClick"],Bf=["onClick","disabled"],Kf={class:"nxp-ec-variant-card__grid"},jf={class:"nxp-ec-form-field"},Jf=["for"],Wf=["id","onUpdate:modelValue"],qf={class:"nxp-ec-form-field"},zf=["for"],Qf=["id","onUpdate:modelValue","onBlur"],Zf={class:"nxp-ec-form-field"},em=["for"],tm=["id","onUpdate:modelValue"],nm={class:"nxp-ec-form-field"},sm=["for"],im=["id","onUpdate:modelValue"],am={class:"nxp-ec-form-field nxp-ec-form-field--inline"},om=["for"],rm=["id","onUpdate:modelValue"],lm={class:"nxp-ec-variant-options"},cm={class:"nxp-ec-variant-options__header"},dm={class:"nxp-ec-variant-options__title"},um=["onClick"],pm={class:"nxp-ec-form-help"},_m=["id","onUpdate:modelValue","placeholder"],fm=["id","onUpdate:modelValue","placeholder"],mm=["onClick","aria-label"],hm={class:"nxp-ec-modal__actions"},gm=["disabled"],Em=["disabled"],so="product-editor-form",Cm=Rt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=me(()=>(s.baseCurrency||"USD").toUpperCase()),c=E=>{var _,S,P,y,O,H,M,ie;if(E==null)return null;if(typeof E=="string"){const ue=E.trim();return ue===""?null:{id:0,title:ue,slug:""}}if(typeof E=="object"){const ue=Number.parseInt((S=(_=E.id)!=null?_:E.value)!=null?S:0,10)||0,fe=(M=(H=(O=(y=(P=E.title)!=null?P:E.name)!=null?y:E.text)!=null?O:E.label)!=null?H:E.slug)!=null?M:"",Ae=String(fe!=null?fe:"").trim(),xe=String((ie=E.slug)!=null?ie:"").trim(),Le=E.parent_id!==null&&E.parent_id!==void 0&&Number.parseInt(E.parent_id,10)||null;return ue<=0&&Ae===""?null:{id:ue>0?ue:0,title:Ae!==""?Ae:xe,slug:xe,parent_id:Le}}return null},u=E=>{const _=Number(E);if(Number.isFinite(_))return _===-1?-1:_===0?0:1;if(typeof E=="string"){const S=E.trim().toLowerCase();if(S==="out_of_stock"||S==="out-of-stock"||S==="-1")return-1;if(S==="inactive"||S==="0")return 0}return 1},p=Ie({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),m=Xe(""),f=Xe(!1),l=(E,_,S=new Set)=>{if(!E||S.has(E))return 0;S.add(E);const P=_.find(y=>y.id===E);return!P||!P.parent_id?0:1+l(P.parent_id,_,S)},g=E=>{if(!E)return"";const _=Array.isArray(s.categoryOptions)?s.categoryOptions:[],S=l(E.id,_);return S===0?E.title:"".repeat(S)+" "+E.title},k=me(()=>{const _=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(c).filter(O=>O&&O.id>0&&O.title!==""),S=new Map;_.forEach(O=>{S.set(O.id,O)}),p.categories.forEach(O=>{var H;O.id>0&&O.title&&!S.has(O.id)&&S.set(O.id,{id:O.id,title:O.title,slug:(H=O.slug)!=null?H:"",parent_id:O.parent_id!==null&&O.parent_id!==void 0?O.parent_id:null})});const P=Array.from(S.values()),y=(O=null,H=0)=>P.filter(M=>M.parent_id===O).sort((M,ie)=>M.title.localeCompare(ie.title)).flatMap(M=>[M,...y(M.id,H+1)]);return y()}),V=me(()=>{const E=new Map;return k.value.forEach(_=>{var S;E.set(_.id,{title:_.title,slug:(S=_.slug)!=null?S:""})}),E}),w=me({get:()=>p.categories.filter(_=>_&&_.id>0).map(_=>_.id),set:E=>{const _=Array.isArray(E)?E:[],S=Array.from(new Set(_.map(O=>Number.parseInt(O!=null?O:0,10)||0).filter(O=>O>0))),P=p.categories.filter(O=>!(O.id>0)),y=S.map(O=>{const H=V.value.get(O),M=p.categories.find(fe=>fe.id===O),ie=(H==null?void 0:H.title)||(M==null?void 0:M.title)||"",ue=(H==null?void 0:H.slug)||(M==null?void 0:M.slug)||"";return ie===""?null:{id:O,title:ie,slug:ue}}).filter(O=>O!==null);p.categories.splice(0,p.categories.length,...y,...P)}}),K=me(()=>s.product&&s.product.id?"edit":"create"),L=()=>({id:0,sku:"",price:"",currency:o.value,stock:0,weight:"",active:!0,options:[]}),$=()=>({name:"",value:""}),D=E=>E?E.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",G=()=>{f.value=!0,p.slug=D(p.slug)},Y=E=>{const S=(Array.isArray(E)?E:[]).map(c).filter(O=>O&&(O.id>0||O.title!=="")),P=new Set,y=[];S.forEach(O=>{const H=O.id>0?`id:${O.id}`:`title:${O.title.toLowerCase()}`;P.has(H)||(P.add(H),y.push(O))}),p.categories.splice(0,p.categories.length,...y)},R=E=>{p.variants.splice(0,p.variants.length,...E)},te=E=>{p.images.splice(0,p.images.length,...E)},de=E=>Array.isArray(E)?E.map(_=>{var S,P,y;return{name:String((P=(S=_==null?void 0:_.name)!=null?S:_==null?void 0:_.key)!=null?P:"").trim(),value:String((y=_==null?void 0:_.value)!=null?y:"").trim()}}):E&&typeof E=="object"?Object.entries(E).map(([_,S])=>({name:String(_!=null?_:"").trim(),value:String(S!=null?S:"").trim()})):[],ge=E=>!Array.isArray(E)||E.length===0?[L()]:E.map(_=>{var S,P,y,O;return{id:Number.parseInt((S=_==null?void 0:_.id)!=null?S:0,10)||0,sku:String((P=_==null?void 0:_.sku)!=null?P:"").trim(),price:(_==null?void 0:_.price)!=null?String(_.price):Number.isFinite(_==null?void 0:_.price_cents)?(_.price_cents/100).toFixed(2):"",currency:String((y=_==null?void 0:_.currency)!=null?y:o.value).toUpperCase(),stock:Number.parseInt((O=_==null?void 0:_.stock)!=null?O:0,10)||0,weight:(_==null?void 0:_.weight)!=null?String(_.weight):"",active:(_==null?void 0:_.active)!==void 0?!!_.active:!0,options:de(_==null?void 0:_.options)}}),J=E=>{var y,O,H,M;const _=E?JSON.parse(JSON.stringify(E)):{};p.title=(y=_.title)!=null?y:"",p.slug=(O=_.slug)!=null?O:"",p.short_desc=(H=_.short_desc)!=null?H:"",p.long_desc=(M=_.long_desc)!=null?M:"",p.status=u(_.status!==void 0?_.status:_.active),p.featured=_.featured!==void 0?!!_.featured:!1;const S=Array.isArray(_.images)?_.images.map(ie=>String(ie!=null?ie:"").trim()).filter(Boolean):[];te(S);const P=Array.isArray(_.categories)?_.categories:[];Y(P),m.value="",R(ge(_.variants)),f.value=!!p.slug};Ue(()=>s.product,E=>{J(E)},{immediate:!0}),Ue(()=>p.title,E=>{f.value||(p.slug=D(E))}),Ue(o,E=>{p.variants.forEach(_=>{_.currency=E})});const j=()=>{const E=m.value.trim();if(!E)return;const _=E.toLowerCase(),S=p.categories.slice();S.some(y=>y.title.toLowerCase()===_)||(S.push({id:0,title:E,slug:""}),p.categories.splice(0,p.categories.length,...S)),m.value=""},N=E=>{if(E<0||E>=p.categories.length)return;const _=p.categories.slice();_.splice(E,1),p.categories.splice(0,p.categories.length,..._)},h=()=>{p.variants.push(L())},x=E=>{p.variants.length<=1||p.variants.splice(E,1)},ce=E=>{const _=p.variants[E];_&&(Array.isArray(_.options)||(_.options=[]),_.options.push($()))},Z=(E,_)=>{const S=p.variants[E];!S||!Array.isArray(S.options)||S.options.splice(_,1)},q=(E,_)=>`${E.id||"new"}-${_}`,ne=E=>{const _=p.variants[E];if(!_)return;const S=JSON.parse(JSON.stringify(_));S.id=0,S.sku=[S.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),S.active=!0,p.variants.splice(E+1,0,S)},z=E=>{const _=p.variants[E];if(!_)return;const S=Number.parseFloat(_.price);Number.isNaN(S)||(_.price=S.toFixed(2))};let oe=null,F=null,W=null,ee=null,re="";const _e=()=>{Array.isArray(p.images)||(p.images=[])},le=E=>{var y,O,H;if(!E)return"";let _=String(E).trim();if(_==="")return"";try{const M=(H=(O=(y=window.Joomla)==null?void 0:y.getOptions)==null?void 0:O.call(y,"system.paths",{}))!=null?H:{},ie=M.rootFull||window.location.origin,ue=M.root||"/";_.startsWith(ie)&&(_=_.substring(ie.length)),_.startsWith(ue)&&(_=_.substring(ue.length))}catch(M){}const S=_.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);S&&S[1]&&(_=S[1]);const P=_.indexOf("#joomlaImage://");return P!==-1&&(_=_.substring(0,P)),_.trim()},he=(E,{keepIndex:_=!1,appendWhenNoIndex:S=!1,targetIndex:P=null}={})=>{const y=le(E);if(y==="")return!1;_e();const O=P!==null&&P>=0?P:ee;return O==null||Number.isNaN(O)?S?(p.images.push(y),_||(ee=null,re=""),!0):!1:(O>=p.images.length?p.images.push(y):p.images[O]=y,re=_?y:"",_||(ee=null,re=""),!0)},Re=()=>{_e(),p.images.push("")},Te=E=>{_e(),p.images.splice(E,1)},Pe=(E,_)=>{_e();const S=p.images[E];if(S===void 0)return;const P=E+_;P<0||P>=p.images.length||(p.images.splice(E,1),p.images.splice(P,0,S))},Be=E=>{var P;_e();const _=(P=p.images[E])!=null?P:"";if(typeof window=="undefined")return;const S=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),_);he(S!=null?S:"",{targetIndex:E})},C=()=>{var O,H,M,ie,ue,fe;const E=(s.mediaModalUrl||"").trim();if(E!=="")return E;const _=(M=(H=(O=window.Joomla)==null?void 0:O.getOptions)==null?void 0:H.call(O,"media-picker",{}))!=null?M:{};if(_.modalUrl)return _.modalUrl;const S=(fe=(ue=(ie=window.Joomla)==null?void 0:ie.getOptions)==null?void 0:ue.call(ie,"system.paths",{}))!=null?fe:{},P=S.rootFull||S.root||"";return(P?P.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},I=async()=>{var M,ie,ue,fe,Ae,xe,Le,tt,vt;if(oe)return oe;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(it){return null}const E=(ue=(ie=(M=window.Joomla)==null?void 0:M.getOptions)==null?void 0:ie.call(M,"system.paths",{}))!=null?ue:{},_=E.rootFull||E.root||"",S=(xe=(Ae=(fe=window.Joomla)==null?void 0:fe.getOptions)==null?void 0:Ae.call(fe,"com_media",{}))!=null?xe:{},P=(S==null?void 0:S.file_path)||"images",y=(vt=(tt=(Le=window.Joomla)==null?void 0:Le.getOptions)==null?void 0:tt.call(Le,"media-picker",{}))!=null?vt:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},H=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return F=document.createElement("div"),F.className="nxp-ec-media-picker-host",F.style.display="none",F.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${_.replace(/"/g,"&quot;")}"
            root-folder="${P.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${H}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(y).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(F),oe=F.querySelector("joomla-field-media"),W=F.querySelector(".nxp-ec-media-field__input"),oe.addEventListener("change",it=>{var Nt,Pt,Qt,mn,As,bs;const Ve=(Qt=(Pt=(Nt=it.detail)==null?void 0:Nt.value)!=null?Pt:W==null?void 0:W.value)!=null?Qt:"";let Ge=le(Ve);if(Ge===""&&re!==""&&(Ge=re),Ge===""&&((mn=window.Joomla)!=null&&mn.selectedMediaFile)){const ui=le((As=window.Joomla.selectedMediaFile.url)!=null?As:""),pi=le((bs=window.Joomla.selectedMediaFile.path)!=null?bs:"");Ge=ui||pi}he(Ge)}),oe.addEventListener("joomla-dialog:close",()=>{ee=null,re=""}),W&&W.addEventListener("change",()=>{var Ve,Ge,Nt,Pt;if(ee===null)return;let it=le((Ve=W.value)!=null?Ve:"");if(it===""&&re!==""&&(it=re),it===""&&((Ge=window.Joomla)!=null&&Ge.selectedMediaFile)){const Qt=le((Nt=window.Joomla.selectedMediaFile.url)!=null?Nt:""),mn=le((Pt=window.Joomla.selectedMediaFile.path)!=null?Pt:"");it=Qt||mn}it!==""&&he(it)}),oe},B=E=>{var O,H;const _=E==null?void 0:E.detail;if(!_||typeof _!="object")return;const S=le((O=_.path)!=null?O:""),y=le((H=_.url)!=null?H:"")||S;y===""||ee===null||(re=y,he(y,{keepIndex:!0}))};ot(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",B)});const b=async E=>{var P;_e();const _=await I();if(!_||typeof _.show!="function"){Be(E);return}ee=E,_.setAttribute("url",C());const S=(P=p.images[E])!=null?P:"";typeof _.setValue=="function"?_.setValue(S):W&&(W.value=S);try{_.show()}catch(y){ee=null,re="",Be(E)}};ia(()=>{F&&F.parentNode&&F.parentNode.removeChild(F),oe=null,F=null,W=null,ee=null,re="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",B)});const A=()=>{var O,H;_e();const E=Array.from(new Set(p.images.map(M=>String(M!=null?M:"").trim()).filter(M=>M!==""))),_=p.categories.map(M=>{var Ae,xe,Le;const ie=Number.parseInt((Ae=M==null?void 0:M.id)!=null?Ae:0,10)||0,ue=String((xe=M==null?void 0:M.title)!=null?xe:"").trim(),fe=String((Le=M==null?void 0:M.slug)!=null?Le:"").trim();return ie>0?{id:ie,title:ue,slug:fe}:ue===""?null:{id:0,title:ue,slug:""}}).filter(M=>M!==null),S=p.variants.map(M=>{const ie=Array.isArray(M.options)?M.options.map(Ae=>{var xe,Le;return{name:String((xe=Ae==null?void 0:Ae.name)!=null?xe:"").trim(),value:String((Le=Ae==null?void 0:Ae.value)!=null?Le:"").trim()}}).filter(Ae=>Ae.name!==""&&Ae.value!==""):[],ue=Number.isFinite(Number(M.stock))?Math.max(0,parseInt(M.stock,10)):0,fe=M.weight!==null&&M.weight!==""?String(M.weight).trim():null;return{id:M.id||0,sku:M.sku.trim(),price:M.price!==null&&M.price!==void 0?String(M.price).trim():"",currency:M.currency?String(M.currency).trim().toUpperCase():o.value,stock:ue,weight:fe,active:!!M.active,options:ie}}),P=u(p.status),y={title:p.title.trim(),slug:p.slug.trim(),short_desc:(O=p.short_desc)!=null?O:"",long_desc:(H=p.long_desc)!=null?H:"",status:P,active:P,featured:!!p.featured,images:E,categories:_,variants:S};a("submit",y)},X=()=>{a("cancel")};return Ue(()=>s.saving,(E,_)=>{_&&!E&&s.errors.length===0&&K.value==="create"&&(J(null),m.value="",f.value=!1)}),(E,_)=>e.open?(T(),v("div",H_,[_[10]||(_[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",B_,[i("header",K_,[i("h2",j_,d(K.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",J_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:X,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[_[8]||(_[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",q_,d(r(n)("JCANCEL","Cancel")),1)],8,W_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:so,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[i("i",{class:Me(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",Q_,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,z_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:X,"aria-label":r(n)("JCLOSE","Close")},"  ",8,Z_)])]),i("form",{id:so,class:"nxp-ec-form",onSubmit:mt(A,["prevent"])},[e.errors.length?(T(),v("div",ef,[(T(!0),v(Ce,null,Oe(e.errors,(S,P)=>(T(),v("p",{key:P},d(S),1))),128))])):ae("",!0),i("div",tf,[i("label",nf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),Q(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[0]||(_[0]=S=>p.title=S),required:""},null,512),[[pe,p.title,void 0,{trim:!0}]])]),i("div",sf,[i("label",af,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),Q(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[1]||(_[1]=S=>p.slug=S),onInput:G,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,of),[[pe,p.slug,void 0,{trim:!0}]])]),i("div",rf,[i("label",lf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),Q(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":_[2]||(_[2]=S=>p.short_desc=S)},null,512),[[pe,p.short_desc]])]),i("div",cf,[i("label",df,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),Q(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":_[3]||(_[3]=S=>p.long_desc=S)},null,512),[[pe,p.long_desc]])]),i("div",uf,[i("label",pf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),Q(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":_[4]||(_[4]=S=>p.status=S)},[i("option",_f,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",mf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[ft,p.status,void 0,{number:!0}]]),i("p",hf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",gf,[i("label",Ef,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),Q(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":_[5]||(_[5]=S=>p.featured=S)},null,512),[[ct,p.featured]]),i("p",Cf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",Sf,[i("label",Af,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",bf,[(T(!0),v(Ce,null,Oe(p.images,(S,P)=>(T(),v("div",{key:`product-image-${P}`,class:"nxp-ec-image-row"},[Q(i("input",{id:`product-image-${P}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y=>p.images[P]=y,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,Tf),[[pe,p.images[P],void 0,{trim:!0}]]),i("div",yf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:y=>b(P)},[_[9]||(_[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,Rf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>Pe(P,-1),disabled:P===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,Of),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>Pe(P,1),disabled:P===p.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,xf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:y=>Te(P),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,vf)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:Re},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",Nf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",Pf,[i("label",Mf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),Q(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":_[6]||(_[6]=S=>w.value=S)},[(T(!0),v(Ce,null,Oe(k.value,S=>(T(),v("option",{key:S.id,value:S.id},d(g(S)),9,If))),128))],512),[[ft,w.value]]),i("div",kf,[(T(!0),v(Ce,null,Oe(p.categories,(S,P)=>(T(),v("span",{key:`selected-category-${P}`,class:"nxp-ec-chip"},[ye(d(S.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:y=>N(P),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,$f)]))),128))]),i("div",wf,[Q(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":_[7]||(_[7]=S=>m.value=S),onKeydown:zt(mt(j,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,Lf),[[pe,m.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:j},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",Df,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",Uf,[i("header",Yf,[i("h3",Xf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:h},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",Ff,[ye(d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),o.value?(T(),v(Ce,{key:0},[ye(" ("+d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[o.value]))+") ",1)],64)):ae("",!0)]),(T(!0),v(Ce,null,Oe(p.variants,(S,P)=>(T(),v("article",{key:q(S,P),class:"nxp-ec-variant-card"},[i("header",Gf,[i("h4",Vf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(P+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>ne(P)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Hf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:y=>x(P),disabled:p.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,Bf)]),i("div",Kf,[i("div",jf,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Jf),Q(i("input",{id:`variant-sku-${P}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y=>S.sku=y,required:""},null,8,Wf),[[pe,S.sku,void 0,{trim:!0}]])]),i("div",qf,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,zf),Q(i("input",{id:`variant-price-${P}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":y=>S.price=y,onBlur:y=>z(P),required:""},null,40,Qf),[[pe,S.price,void 0,{trim:!0}]])]),i("div",Zf,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,em),Q(i("input",{id:`variant-stock-${P}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":y=>S.stock=y},null,8,tm),[[pe,S.stock,void 0,{number:!0}]])]),i("div",nm,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,sm),Q(i("input",{id:`variant-weight-${P}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":y=>S.weight=y},null,8,im),[[pe,S.weight,void 0,{trim:!0}]])]),i("div",am,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,om),Q(i("input",{id:`variant-active-${P}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":y=>S.active=y},null,8,rm),[[ct,S.active]])])]),i("section",lm,[i("header",cm,[i("h5",dm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>ce(P)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,um)]),i("p",pm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(T(!0),v(Ce,null,Oe(S.options,(y,O)=>(T(),v("div",{key:`variant-${P}-option-${O}`,class:"nxp-ec-variant-option-row"},[Q(i("input",{id:`variant-${P}-option-name-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H=>y.name=H,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,_m),[[pe,y.name,void 0,{trim:!0}]]),Q(i("input",{id:`variant-${P}-option-value-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H=>y.value=H,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,fm),[[pe,y.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:H=>Z(P,O),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,mm)]))),128))])]))),128))]),i("footer",hm,[i("button",{type:"button",class:"nxp-ec-btn",onClick:X,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,gm),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,Em)])],32)])])):ae("",!0)}},[["__scopeId","data-v-ecc75f68"]]),Sm={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Am={key:1,class:"nxp-ec-skeleton__table"},bm={key:2,class:"nxp-ec-skeleton__card"},Tm={key:3,class:"nxp-ec-skeleton__circle"};function ym(e,t,s,a,n,o){return T(),v("div",{class:Me(["nxp-ec-skeleton",o.skeletonClasses])},[s.type==="text"?(T(),v("div",{key:0,class:"nxp-ec-skeleton__line",style:Gt({width:s.width})},null,4)):s.type==="table"?(T(),v("div",Am,[(T(!0),v(Ce,null,Oe(s.rows,c=>(T(),v("div",{key:c,class:"nxp-ec-skeleton__table-row"},[(T(!0),v(Ce,null,Oe(s.columns,u=>(T(),v("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(T(),v("div",bm,[...t[0]||(t[0]=[ku('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(T(),v("div",Tm)):(T(),v("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Gt({width:s.width,height:s.height})},null,4))],2)}const Dn=Rt(Sm,[["render",ym],["__scopeId","data-v-c8b9a887"]]),Rm={class:"nxp-ec-admin-panel"},Om={class:"nxp-ec-admin-panel__header"},xm={class:"nxp-ec-admin-panel__title"},vm={class:"nxp-ec-admin-panel__lead"},Nm={class:"nxp-ec-admin-panel__actions"},Pm=["placeholder","aria-label"],Mm=["disabled","title","aria-label"],Im={class:"nxp-ec-sr-only"},km={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},$m={key:1,class:"nxp-ec-admin-panel__body"},wm={key:2,class:"nxp-ec-admin-panel__body"},Lm=["title"],Un=1,fn=-1,Es=0,Dm={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Ie({mode:"create",product:null}),c=Xe(!1),u=me(()=>(s.baseCurrency||"USD").toUpperCase()),p=me(()=>o.product),m=me(()=>(s.mediaModalUrl||"").trim()),f=(Y,R=!1)=>{const te=Number(Y);if(Number.isFinite(te))return te===fn?fn:te===Es?Es:Un;if(R)return fn;if(typeof Y=="string"){const de=Y.trim().toLowerCase();if(de==="out_of_stock"||de==="out-of-stock"||de==="-1")return fn;if(de==="inactive"||de==="0")return Es}return Un},l=(Y,R=!1)=>{const te=f(Y,R);return te===Un?fn:te===fn?Es:Un},g=()=>{s.state.validationErrors=[],s.state.error="",o.mode="create",o.product={title:"",slug:"",short_desc:"",long_desc:"",status:Un,active:!0,featured:!1,images:[],categories:[],variants:[]},c.value=!0},k=Y=>{s.state.validationErrors=[],s.state.error="",o.mode="edit",o.product=JSON.parse(JSON.stringify(Y)),c.value=!0},V=()=>{c.value=!1,s.state.validationErrors=[]},w=async Y=>{var de,ge;const R=f((de=Y.status)!=null?de:Y.active,Y.out_of_stock),te={...Y,status:R,active:R,featured:Y.featured?1:0};o.mode==="edit"&&((ge=o.product)!=null&&ge.id)?a("update",{id:o.product.id,data:te}):a("create",te)},K=async Y=>{var de;const R=(de=Y==null?void 0:Y.title)!=null?de:"",te=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[R||"#"]);window.confirm(te)&&a("delete",[Y.id])},L=Y=>{var N;if(!(Y!=null&&Y.id)||s.state.saving)return;const R=l((N=Y.status)!=null?N:Y.active,Y.out_of_stock),te=h=>h==null?"":String(h),de=(h,x=0)=>{const ce=Number(h);return Number.isFinite(ce)?ce:x},ge=Array.isArray(Y.variants)?Y.variants.map(h=>{var z,oe;if(!h)return null;const x=te(h.sku).trim();if(!x)return null;let ce=de(h.price_cents,Number.NaN);if(!Number.isFinite(ce)){const F=te(h.price),W=F?Number.parseFloat(F):NaN;ce=Number.isFinite(W)?Math.round(W*100):NaN}if(!Number.isFinite(ce))return null;const Z=te((z=h.currency)!=null?z:u.value).trim().toUpperCase();if(!Z)return null;const q=(oe=h.options)!=null?oe:null,ne=Math.max(0,Math.round(de(h.stock,0)));return{id:de(h.id,0),sku:x,price_cents:Math.round(ce),currency:Z,stock:ne,options:q!=null?q:null,weight:h.weight!==null&&h.weight!==void 0&&h.weight!==""?String(h.weight):null,active:h.active===void 0?!0:!!h.active}}).filter(Boolean):[];if(!ge.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const J=Array.isArray(Y.categories)?Y.categories.map(h=>{if(h==null)return null;if(typeof h=="number")return h>0?{id:h,title:"",slug:""}:null;if(typeof h=="string"&&h.trim()!==""&&Number.isFinite(Number(h))){const ce=Number(h);return ce>0?{id:ce,title:"",slug:""}:null}if(typeof h=="object"){if(h.id){const Z=de(h.id,0);return Z>0?{id:Z,title:"",slug:""}:null}return de(h.id,0)<=0&&!h.title?null:{id:0,title:te(h.title),slug:te(h.slug)}}const x=te(h).trim();return x?{id:0,title:x,slug:""}:null}).filter(Boolean):[],j=Array.isArray(Y.images)?Y.images.map(h=>te(h).trim()).map(h=>{var q,ne,z;let x=h;if(!x)return"";const ce=x.indexOf("#joomlaImage://");ce!==-1&&(x=x.substring(0,ce));const Z=x.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(Z&&Z[1]&&(x=Z[1]),typeof window!="undefined")try{const oe=(z=(ne=(q=window.Joomla)==null?void 0:q.getOptions)==null?void 0:ne.call(q,"system.paths",{}))!=null?z:{},F=oe.rootFull||window.location.origin,W=oe.root||"/";x.startsWith(F)&&(x=x.substring(F.length)),x.startsWith(W)&&(x=x.substring(W.length))}catch(oe){}return x.trim()}).filter(h=>h!==""):[];s.state.error="",a("update",{id:Y.id,data:{title:te(Y.title),slug:te(Y.slug),short_desc:te(Y.short_desc),long_desc:te(Y.long_desc),status:R,active:R,featured:Y.featured?1:0,images:j,variants:ge,categories:J}})},$=()=>{a("refresh")},D=()=>{a("search")},G=Y=>{if(!Y)return"";try{const R=new Date(Y),de=new Date-R,ge=Math.floor(de/1e3),J=Math.floor(ge/60),j=Math.floor(J/60);return ge<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):J<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[J]):j<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[j]):R.toLocaleString()}catch(R){return Y}};return Ue(()=>s.state.saving,(Y,R)=>{R&&!Y&&c.value&&!s.state.validationErrors.length&&!s.state.error&&V()}),(Y,R)=>(T(),v("section",Rm,[i("header",Om,[i("div",null,[i("h2",xm,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",vm,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",Nm,[Q(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":R[0]||(R[0]=te=>e.state.search=te),onKeyup:zt(D,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,Pm),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:$,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[R[1]||(R[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Im,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,Mm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:g},[R[2]||(R[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(T(),v("div",km,d(e.state.error),1)):ae("",!0),e.state.loading?(T(),v("div",$m,[He(Dn,{type:"table",rows:5,columns:5})])):ae("",!0),e.state.loading?ae("",!0):(T(),v("div",wm,[He(V_,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:k,onDelete:K,onToggleActive:L},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(G(e.state.lastUpdated)),9,Lm)):ae("",!0)])),He(Cm,{open:c.value,product:p.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":m.value,onSubmit:w,onCancel:V},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Um={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Ym={class:"nxp-ec-admin-panel__header"},Xm={class:"nxp-ec-admin-panel__title"},Fm={class:"nxp-ec-admin-panel__lead"},Gm={class:"nxp-ec-admin-panel__actions"},Vm=["placeholder","aria-label"],Hm=["disabled","title","aria-label"],Bm={class:"nxp-ec-sr-only"},Km={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},jm={key:1,class:"nxp-ec-admin-panel__body"},Jm={key:2,class:"nxp-ec-admin-panel__body"},Wm={class:"nxp-ec-admin-panel__table"},qm={class:"nxp-ec-admin-table"},zm={scope:"col"},Qm={scope:"col"},Zm={scope:"col"},eh={scope:"col"},th={scope:"col"},nh={key:0},sh={colspan:"6"},ih={scope:"row",class:"nxp-ec-admin-table__primary"},ah=["data-label"],oh=["data-label"],rh=["data-label"],lh=["data-label"],ch={class:"nxp-ec-admin-table__actions"},dh=["onClick","title","aria-label"],uh={class:"nxp-ec-sr-only"},ph=["disabled","onClick","title","aria-label"],_h={class:"nxp-ec-sr-only"},fh={key:0,class:"nxp-ec-admin-pagination"},mh=["disabled"],hh={class:"nxp-ec-admin-pagination__status"},gh=["disabled"],Eh=["title"],Ch={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Sh={class:"nxp-ec-modal__dialog"},Ah={class:"nxp-ec-modal__header"},bh={class:"nxp-ec-modal__title"},Th=["title","aria-label"],yh={class:"nxp-ec-sr-only"},Rh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Oh={class:"nxp-ec-form-field"},xh={class:"nxp-ec-form-label",for:"category-title"},vh={class:"nxp-ec-form-field"},Nh={class:"nxp-ec-form-label",for:"category-slug"},Ph={class:"nxp-ec-form-field"},Mh={class:"nxp-ec-form-label",for:"category-parent"},Ih={value:""},kh=["value"],$h={class:"nxp-ec-form-field"},wh={class:"nxp-ec-form-label",for:"category-sort"},Lh={class:"nxp-ec-modal__actions"},Dh=["disabled"],Uh={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Xe(!1),c=Xe(!1),u=Xe([]),p=J=>{const N=(Array.isArray(J)?J:[]).map(F=>{var W,ee,re,_e,le;return{...F,id:Number.parseInt((W=F==null?void 0:F.id)!=null?W:0,10)||0,parent_id:(F==null?void 0:F.parent_id)!=null&&Number.parseInt(F.parent_id,10)||0,sort:Number.parseInt((ee=F==null?void 0:F.sort)!=null?ee:0,10)||0,title:String((re=F==null?void 0:F.title)!=null?re:"").trim(),slug:String((_e=F==null?void 0:F.slug)!=null?_e:"").trim(),usage:(le=F==null?void 0:F.usage)!=null?le:0}}).filter(F=>F.id>0||F.title!==""),h=new Set(N.map(F=>F.id));N.forEach(F=>{h.has(F.parent_id)||(F.parent_id=0)});const x=new Map,ce=new Map;N.forEach(F=>{ce.set(F.id,F);const W=F.parent_id||0;x.has(W)||x.set(W,[]),x.get(W).push(F)});const Z=F=>F.sort((W,ee)=>{var re,_e;return((re=W.sort)!=null?re:0)-((_e=ee.sort)!=null?_e:0)||W.title.localeCompare(ee.title,void 0,{sensitivity:"base"})});x.forEach(Z);const q=new Set,ne=[],z=(F,W,ee)=>{if(!F||q.has(F.id)||ee.includes(F.id))return;const re=[...ee],_e=re.map(Re=>{var Te;return(Te=ce.get(Re))==null?void 0:Te.title}).filter(Boolean),le={...F,depth:W,path:_e.join(" / "),ancestors:re,indentedTitle:W>0?`${" ".repeat(W)}${F.title}`:F.title};ne.push(le),q.add(F.id),(x.get(F.id)||[]).forEach(Re=>z(Re,W+1,[...ee,F.id]))},oe=N.filter(F=>F.parent_id===0||!h.has(F.parent_id));return Z(oe),oe.forEach(F=>z(F,0,[])),N.forEach(F=>{q.has(F.id)||z(F,0,[])}),ne},m=me(()=>{var J,j;return p((j=(J=s.state)==null?void 0:J.items)!=null?j:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),l=Ie(f()),g=me(()=>{var j,N;const J=(N=Array.isArray(u.value)&&u.value.length?u.value:(j=s.state)==null?void 0:j.items)!=null?N:[];return p(J).filter(h=>h.id>0&&h.id!==l.id&&!(Array.isArray(h.ancestors)&&h.ancestors.includes(l.id))).map(h=>({id:h.id,title:h.title,label:h.depth>0?`${" ".repeat(h.depth)}${h.title}`:h.title}))}),k=()=>{Object.assign(l,f()),c.value=!1},V=J=>J?J.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",w=()=>{c.value=!0,l.slug=V(l.slug)};Ue(()=>l.title,J=>{c.value||(l.slug=V(J))});const K=async(J=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const j=await s.loadOptions();u.value=Array.isArray(j)?[...j]:[]}catch(j){u.value=[]}u.value=u.value.filter(j=>{var h,x;return(Number.parseInt((x=(h=j==null?void 0:j.id)!=null?h:j==null?void 0:j.value)!=null?x:0,10)||0)!==J})},L=async()=>{k(),await K(),o.value=!0},$=async J=>{var j,N,h,x;J&&(l.id=Number.parseInt((j=J.id)!=null?j:0,10)||0,l.title=String((N=J.title)!=null?N:"").trim(),l.slug=String((h=J.slug)!=null?h:"").trim(),l.parent_id=J.parent_id!=null&&Number.parseInt(J.parent_id,10)||null,l.sort=Number.parseInt((x=J.sort)!=null?x:0,10)||0,c.value=!!l.slug,await K(l.id),o.value=!0)},D=()=>{o.value=!1,k()},G=()=>{a("refresh")},Y=()=>{a("search")},R=J=>{a("page",J)},te=()=>{const J={id:l.id||void 0,title:l.title.trim(),slug:l.slug.trim(),parent_id:l.parent_id||null,sort:Number.isFinite(l.sort)?l.sort:0};a("save",J)},de=J=>{if(!J||!J.id)return;const j=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(j)||a("delete",[J.id])},ge=J=>{if(!J)return"";try{const j=new Date(J),h=new Date-j,x=Math.floor(h/1e3),ce=Math.floor(x/60),Z=Math.floor(ce/60);return x<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):ce<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[ce]):Z<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Z]):j.toLocaleString()}catch(j){return J}};return Ue(()=>{var J;return(J=s.state)==null?void 0:J.saving},(J,j)=>{var N,h,x;j&&!J&&(((h=(N=s.state)==null?void 0:N.validationErrors)!=null?h:[]).length>0||(x=s.state)!=null&&x.error||(o.value=!1,k()))}),(J,j)=>(T(),v("section",Um,[i("header",Ym,[i("div",null,[i("h2",Xm,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",Fm,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",Gm,[Q(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":j[0]||(j[0]=N=>e.state.search=N),onKeyup:zt(Y,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Vm),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:G,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[j[7]||(j[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Bm,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Hm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:L},[j[8]||(j[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(T(),v("div",Km,d(e.state.error),1)):ae("",!0),e.state.loading?(T(),v("div",jm,[He(Dn,{type:"table",rows:5,columns:5})])):ae("",!0),e.state.loading?ae("",!0):(T(),v("div",Jm,[i("div",Wm,[i("table",qm,[i("thead",null,[i("tr",null,[i("th",zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",Qm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",Zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",eh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",th,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),j[9]||(j[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ae("",!0):(T(),v("tr",nh,[i("td",sh,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(T(!0),v(Ce,null,Oe(m.value,N=>{var h;return T(),v("tr",{key:N.id,class:Me({"is-active":l.id===N.id})},[i("th",ih,[i("span",{style:Gt({paddingLeft:`${N.depth*1.5}rem`})},d(N.indentedTitle),5)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},d(N.slug||""),9,ah),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},d(N.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,oh),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},d(N.sort),9,rh),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},d((h=N.usage)!=null?h:0),9,lh),i("td",ch,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:x=>$(N),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[j[10]||(j[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",uh,d(r(n)("JEDIT","Edit")),1)],8,dh),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:x=>de(N),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[j[11]||(j[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",_h,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,ph)])],2)}),128))])]),e.state.pagination.pages>1?(T(),v("div",fh,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:j[1]||(j[1]=N=>R(e.state.pagination.current-1))},"  ",8,mh),i("span",hh,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:j[2]||(j[2]=N=>R(e.state.pagination.current+1))},"  ",8,gh)])):ae("",!0)]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(ge(e.state.lastUpdated)),9,Eh)):ae("",!0),o.value?(T(),v("div",Ch,[i("div",{class:"nxp-ec-modal__backdrop",onClick:D}),i("div",Sh,[i("header",Ah,[i("h3",bh,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:D,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[j[12]||(j[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",yh,d(r(n)("JCLOSE","Close")),1)],8,Th)]),i("form",{class:"nxp-ec-form",onSubmit:mt(te,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(T(),v("div",Rh,[i("ul",null,[(T(!0),v(Ce,null,Oe(e.state.validationErrors,(N,h)=>(T(),v("li",{key:h},d(N),1))),128))])])):ae("",!0),i("div",Oh,[i("label",xh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),Q(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":j[3]||(j[3]=N=>l.title=N),required:"",maxlength:"255"},null,512),[[pe,l.title,void 0,{trim:!0}]])]),i("div",vh,[i("label",Nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),Q(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":j[4]||(j[4]=N=>l.slug=N),maxlength:"190",onInput:w},null,544),[[pe,l.slug,void 0,{trim:!0}]])]),i("div",Ph,[i("label",Mh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),Q(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":j[5]||(j[5]=N=>l.parent_id=N)},[i("option",Ih,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(T(!0),v(Ce,null,Oe(g.value,N=>(T(),v("option",{key:N.id,value:N.id},d(N.label),9,kh))),128))],512),[[ft,l.parent_id,void 0,{number:!0}]])]),i("div",$h,[i("label",wh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),Q(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":j[6]||(j[6]=N=>l.sort=N),min:"0",step:"1"},null,512),[[pe,l.sort,void 0,{number:!0}]])]),i("footer",Lh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[j[13]||(j[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,Dh),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:D},[j[14]||(j[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):ae("",!0)]))]))}},Yh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Xh={class:"nxp-ec-admin-panel__header"},Fh={class:"nxp-ec-admin-panel__title"},Gh={class:"nxp-ec-admin-panel__lead"},Vh={class:"nxp-ec-admin-panel__actions"},Hh=["placeholder","aria-label"],Bh=["aria-label"],Kh={value:""},jh=["value"],Jh=["disabled","title","aria-label"],Wh={class:"nxp-ec-sr-only"},qh=["disabled","title","aria-label"],zh={class:"nxp-ec-sr-only"},Qh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Zh={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},eg={key:2,class:"nxp-ec-admin-panel__body"},tg={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},ng={class:"nxp-ec-admin-panel__table"},sg={key:0,class:"nxp-ec-admin-panel__selection"},ig=["aria-label"],ag={value:""},og=["value"],rg=["disabled"],lg=["title","aria-label"],cg={class:"nxp-ec-sr-only"},dg={class:"nxp-ec-admin-table"},ug={scope:"col",class:"nxp-ec-admin-table__select"},pg={scope:"col"},_g={scope:"col"},fg={scope:"col"},mg={scope:"col"},hg={scope:"col"},gg={scope:"col",class:"nxp-ec-admin-table__actions"},Eg={key:0},Cg={colspan:"7"},Sg={class:"nxp-ec-admin-table__select"},Ag=["checked","onChange","aria-label"],bg={scope:"row",class:"nxp-ec-admin-table__primary"},Tg=["onClick"],yg=["data-label"],Rg={class:"nxp-ec-admin-table__meta"},Og=["data-label"],xg=["data-label"],vg={class:"nxp-ec-badge"},Ng=["title"],Pg=["data-label"],Mg={class:"nxp-ec-admin-table__actions"},Ig=["onUpdate:modelValue","aria-label"],kg=["value"],$g=["value"],wg=["disabled","onClick"],Lg={key:1,class:"nxp-ec-admin-pagination"},Dg=["disabled"],Ug={class:"nxp-ec-admin-pagination__status"},Yg=["disabled"],Xg=["title"],Fg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Gg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Vg={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Hg={class:"nxp-ec-admin-panel__sidebar-header"},Bg=["title","aria-label"],Kg={class:"nxp-ec-sr-only"},jg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Jg={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},Wg={key:2,class:"nxp-ec-admin-panel__section"},qg={class:"nxp-ec-admin-copy"},zg=["value"],Qg=["disabled"],Zg={key:0,class:"nxp-ec-admin-panel__muted"},eE={class:"nxp-ec-admin-copy"},tE=["disabled"],nE={key:0,class:"nxp-ec-admin-panel__muted"},sE={class:"nxp-ec-admin-panel__section"},iE={class:"nxp-ec-admin-list"},aE={class:"nxp-ec-admin-list__title"},oE={class:"nxp-ec-admin-list__meta"},rE={class:"nxp-ec-admin-panel__section"},lE={class:"nxp-ec-admin-panel__total"},cE={class:"nxp-ec-admin-panel__section"},dE={class:"nxp-ec-admin-address"},uE={class:"nxp-ec-admin-panel__section"},pE={key:0,class:"nxp-ec-admin-address"},_E={key:1,class:"nxp-ec-admin-panel__muted"},fE={class:"nxp-ec-admin-panel__section"},mE={class:"nxp-ec-form-field"},hE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},gE={class:"nxp-ec-form-field"},EE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},CE={class:"nxp-ec-form-field"},SE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},AE={key:0,class:"nxp-ec-form-checkbox"},bE={class:"nxp-ec-admin-form__actions"},TE=["disabled"],yE={key:3,class:"nxp-ec-admin-panel__section"},RE={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},OE=["disabled"],xE=["disabled"],vE={key:4,class:"nxp-ec-admin-panel__section"},NE={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},PE={class:"nxp-ec-form-field"},ME={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},IE=["placeholder"],kE={class:"nxp-ec-form-help"},$E={class:"nxp-ec-form-field"},wE={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},LE=["placeholder"],DE={class:"nxp-ec-form-field"},UE={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},YE={class:"nxp-ec-admin-form__actions"},XE=["disabled"],FE={key:5,class:"nxp-ec-admin-panel__section"},GE={class:"nxp-ec-admin-list"},VE={class:"nxp-ec-admin-list__title"},HE={class:"nxp-ec-admin-list__meta"},BE={class:"nxp-ec-admin-panel__section"},KE=["placeholder"],jE={class:"nxp-ec-admin-form__actions"},JE=["disabled"],WE={class:"nxp-ec-admin-panel__section"},qE={key:0,class:"nxp-ec-admin-list"},zE={class:"nxp-ec-admin-list__title"},QE={class:"nxp-ec-admin-list__meta"},ZE={key:1,class:"nxp-ec-admin-panel__muted"},eC=Rt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Ie({}),c=Xe(""),u=Xe(""),p=me(()=>u.value.trim().length>0),m=Xe(""),f=Ie({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),l=Ie({amount:null,reference:"",note:""}),g=me(()=>{var A;const b=(A=s.state)==null?void 0:A.selection;return!b||typeof b.values!="function"?[]:Array.from(b.values())}),k=me(()=>g.value.length>0),V=me(()=>{var E;const b=(E=s.state)==null?void 0:E.activeOrder;if(!b)return!1;const A=["cod","bank_transfer"],X=String(b.payment_method||"").toLowerCase();return b.state==="pending"&&A.includes(X)});me(()=>V.value),Ue(g,b=>{b.length||(c.value="")}),Ue(()=>s.state.activeOrder,b=>{var A,X,E;u.value="",m.value="",f.carrier=(A=b==null?void 0:b.carrier)!=null?A:"",f.tracking_number=(X=b==null?void 0:b.tracking_number)!=null?X:"",f.tracking_url=(E=b==null?void 0:b.tracking_url)!=null?E:"",f.markFulfilled=!1,l.amount=null,l.reference="",l.note=""},{immediate:!0}),Ue(()=>s.state.items,b=>{Array.isArray(b)&&b.forEach(A=>{!A||typeof A.id=="undefined"||o[A.id]||(o[A.id]=A.state)})},{immediate:!0}),Ue(()=>s.state.transitionError,b=>{var X;if(!b)return;const A=(X=s.state)==null?void 0:X.items;Array.isArray(A)&&A.forEach(E=>{E!=null&&E.id&&E.state&&(o[E.id]=E.state)})});const w=(b,A)=>{const X=(Number(b)||0)/100,E=(A||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:E}).format(X)}catch(_){return`${E} ${X.toFixed(2)}`}},K=b=>{if(!b)return"";const A=new Date(b);return Number.isNaN(A.getTime())?b:A.toLocaleString()},L=b=>b?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[b]||b:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),$=b=>b===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(b)]),D=b=>{if(!b)return"";const A=`COM_NXPEASYCART_ORDERS_STATE_${String(b).toUpperCase()}`;return n(A,b)},G=b=>s.state.orderStates.filter(A=>A!==b.state),Y=b=>(o[b.id]||b.state)!==b.state,R=()=>{var b;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((b=window.location)!=null&&b.origin)?window.location.origin:""},te=me(()=>{var P,y;const b=(y=(P=s.state)==null?void 0:P.activeOrder)!=null?y:{},A=String(b.public_token||"").trim(),X=String(b.order_no||"").trim();if(!A)return"";const E=R();if(!E)return"";const _=E.endsWith("/")?"":"/",S=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:A});return X&&S.set("no",X),`${E}${_}index.php?${S.toString()}`}),de=async()=>{var b;if(te.value){try{if(!((b=navigator==null?void 0:navigator.clipboard)!=null&&b.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(te.value),m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(A){try{const X=document.createElement("textarea");X.value=te.value,X.setAttribute("readonly",""),X.style.position="absolute",X.style.left="-9999px",document.body.appendChild(X),X.select(),document.execCommand("copy"),document.body.removeChild(X),m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(X){m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}m.value&&setTimeout(()=>{m.value=""},2e3)}},ge=me(()=>{var A,X,E,_,S;const b=(X=(A=s.state)==null?void 0:A.activeOrder)!=null?X:{};return f.carrier!==((E=b.carrier)!=null?E:"")||f.tracking_number!==((_=b.tracking_number)!=null?_:"")||f.tracking_url!==((S=b.tracking_url)!=null?S:"")||f.markFulfilled}),J=b=>!b||typeof b!="object"?[]:Object.entries(b).filter(([,A])=>A!=null&&`${A}`.trim()!=="").map(([A,X])=>({key:A,value:`${X}`.trim()})),j=()=>{a("refresh")},N=()=>{a("export")},h=()=>{a("search")},x=()=>{a("filter",s.state.filterState)},ce=b=>{a("view",b)},Z=()=>{a("close")},q=b=>{const A=o[b.id]||b.state;A!==b.state&&a("transition",{id:b.id,state:A})},ne=b=>{a("page",b)},z=b=>{var A,X,E,_;return(_=(E=(X=(A=s.state)==null?void 0:A.selection)==null?void 0:X.has)==null?void 0:E.call(X,b))!=null?_:!1},oe=b=>{a("toggle-selection",b)},F=()=>{c.value="",a("clear-selection")},W=()=>{!k.value||!c.value||a("bulk-transition",{ids:[...g.value],state:c.value})},ee=()=>{if(!s.state.activeOrder)return;const b=u.value.trim();b&&(a("add-note",{id:s.state.activeOrder.id,message:b}),u.value="")},re=()=>{s.state.activeOrder&&a("invoice",s.state.activeOrder.id)},_e=()=>{!s.state.activeOrder||!ge.value||(a("save-tracking",{id:s.state.activeOrder.id,carrier:f.carrier,tracking_number:f.tracking_number,tracking_url:f.tracking_url,mark_fulfilled:f.markFulfilled}),f.markFulfilled=!1)},le=b=>{s.state.activeOrder&&a("send-email",{id:s.state.activeOrder.id,type:b})},he=()=>{if(!s.state.activeOrder||!V.value)return;const b=s.state.activeOrder,A=l.amount!==null&&l.amount!==""?Math.round(Number(l.amount)*100):b.total_cents;a("record-payment",{id:b.id,amountCents:A,reference:l.reference,note:l.note}),l.amount=null,l.reference="",l.note=""},Re=b=>{var E;const A=(E=s.state)==null?void 0:E.activeOrder;return A?(A.timeline||A.audit||[]).some(_=>{var S;return _.action==="order.email.sent"?((S=_.context)==null?void 0:S.type)===b:!1}):!1},Te=me(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(g.value.length)],"ordersSelectedCount")),Pe=b=>{var A,X,E,_,S,P,y,O,H,M,ie,ue;if(!b||!b.action)return"";switch(b.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const fe=D((X=(A=b.context)==null?void 0:A.from)!=null?X:""),Ae=D((_=(E=b.context)==null?void 0:E.to)!=null?_:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[fe||((S=b.context)==null?void 0:S.from)||"",Ae||((P=b.context)==null?void 0:P.to)||""],"ordersTimelineState")}case"order.note":return((y=b.context)==null?void 0:y.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const fe=((O=b.context)==null?void 0:O.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),Ae=w((M=(H=b.context)==null?void 0:H.amount_cents)!=null?M:0,(ue=(ie=s.state)==null?void 0:ie.activeOrder)==null?void 0:ue.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[fe,Ae],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return b.action}},Be=b=>{if(!b)return"";const A=String(b.type||"").toLowerCase(),X=String(b.message||"").trim(),E=String(b.state||"").toLowerCase();return A==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):E?D(E):X||A||""},C=me(()=>{var E,_,S,P;const b=[];return(Array.isArray((_=(E=s.state)==null?void 0:E.activeOrder)==null?void 0:_.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((y,O)=>{var H,M;b.push({label:Be(y),created:(H=y==null?void 0:y.at)!=null?H:"",key:`f-${O}-${(M=y==null?void 0:y.at)!=null?M:""}`})}),(Array.isArray((P=(S=s.state)==null?void 0:S.activeOrder)==null?void 0:P.timeline)?s.state.activeOrder.timeline:[]).forEach((y,O)=>{var H,M,ie;b.push({label:Pe(y),created:(H=y==null?void 0:y.created)!=null?H:"",key:`a-${(M=y==null?void 0:y.id)!=null?M:O}-${(ie=y==null?void 0:y.created)!=null?ie:""}`})}),b.filter(y=>y.label).sort((y,O)=>{const H=new Date(y.created||0).getTime();return new Date(O.created||0).getTime()-H})}),I=b=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(b.status||"").toUpperCase()}`,b.status||""),B=b=>{if(!b)return"";try{const A=new Date(b),E=new Date-A,_=Math.floor(E/1e3),S=Math.floor(_/60),P=Math.floor(S/60);return _<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):S<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[S]):P<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[P]):A.toLocaleString()}catch(A){return b}};return(b,A)=>{var X,E;return T(),v("section",Yh,[i("header",Xh,[i("div",null,[i("h2",Fh,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",Gh,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",Vh,[Q(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":A[0]||(A[0]=_=>e.state.search=_),onKeyup:zt(h,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Hh),[[pe,e.state.search]]),Q(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":A[1]||(A[1]=_=>e.state.filterState=_),onChange:x,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",Kh,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(T(!0),v(Ce,null,Oe(e.state.orderStates,_=>(T(),v("option",{key:_,value:_},d(D(_)),9,jh))),128))],40,Bh),[[ft,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:N,disabled:e.state.loading||e.state.exporting,title:r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[A[15]||(A[15]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",Wh,d(r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,Jh),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:j,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[A[16]||(A[16]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",zh,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,qh)])]),e.state.error?(T(),v("div",Qh,d(e.state.error),1)):ae("",!0),e.state.transitionError&&!e.state.error?(T(),v("div",Zh,d(e.state.transitionError),1)):ae("",!0),e.state.loading&&!e.state.error?(T(),v("div",eg,[He(Dn,{type:"table",rows:5,columns:7})])):ae("",!0),!e.state.loading&&!e.state.error?(T(),v("div",tg,[i("div",ng,[k.value?(T(),v("div",sg,[i("span",null,d(Te.value),1),Q(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":A[2]||(A[2]=_=>c.value=_),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",ag,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(T(!0),v(Ce,null,Oe(e.state.orderStates,_=>(T(),v("option",{key:`bulk-${_}`,value:_},d(D(_)),9,og))),128))],8,ig),[[ft,c.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!c.value||e.state.saving,onClick:W},[A[17]||(A[17]=i("i",{class:"fa-solid fa-check"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,rg),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:F,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[A[18]||(A[18]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",cg,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,lg)])):ae("",!0),i("table",dg,[i("thead",null,[i("tr",null,[i("th",ug,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",pg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",_g,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",fg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",mg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",hg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",gg,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?ae("",!0):(T(),v("tr",Eg,[i("td",Cg,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,_=>{var S,P,y;return T(),v("tr",{key:_.id,class:Me({"is-active":e.state.activeOrder&&e.state.activeOrder.id===_.id})},[i("td",Sg,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:z(_.id),onChange:O=>oe(_.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Ag)]),i("th",bg,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:O=>ce(_)},d(_.order_no),9,Tg)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[i("div",null,d(_.email),1),i("div",Rg,d($((y=_.items_count)!=null?y:(P=(S=_.items)==null?void 0:S.length)!=null?P:0)),1)],8,yg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},d(w(_.total_cents,_.currency)),9,Og),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[i("span",vg,d(D(_.state)),1),_.needs_review?(T(),v("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:_.review_reason||r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,Ng)):ae("",!0)],8,xg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},d(K(_.modified||_.created)),9,Pg),i("td",Mg,[Q(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":O=>o[_.id]=O,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:_.state},d(D(_.state)),9,kg),(T(!0),v(Ce,null,Oe(G(_),O=>(T(),v("option",{key:O,value:O},d(D(O)),9,$g))),128))],8,Ig),[[ft,o[_.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!Y(_),onClick:O=>q(_)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,wg)])],2)}),128))])]),e.state.pagination.pages>1?(T(),v("div",Lg,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:A[3]||(A[3]=_=>ne(e.state.pagination.current-1))},"  ",8,Dg),i("span",Ug,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:A[4]||(A[4]=_=>ne(e.state.pagination.current+1))},"  ",8,Yg)])):ae("",!0)]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(B(e.state.lastUpdated)),9,Xg)):ae("",!0),e.state.activeOrder?(T(),v("div",Fg,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:Z}),i("div",Gg,[i("aside",Vg,[i("header",Hg,[i("h3",null,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Z,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[A[19]||(A[19]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Kg,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,Bg)]),e.state.transitionError?(T(),v("div",jg,d(e.state.transitionError),1)):ae("",!0),(X=e.state.activeOrder)!=null&&X.needs_review?(T(),v("div",Jg,[i("strong",null,d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),ye(" "+d(L((E=e.state.activeOrder)==null?void 0:E.review_reason)),1)])):ae("",!0),te.value?(T(),v("section",Wg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",qg,[i("input",{type:"text",class:"nxp-ec-form-input",value:te.value,readonly:""},null,8,zg),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!te.value,onClick:de},[A[20]||(A[20]=i("i",{class:"fa-solid fa-link"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,Qg)]),m.value?(T(),v("p",Zg,d(m.value),1)):ae("",!0),i("div",eE,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:re},[A[21]||(A[21]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,tE),s.state.invoiceLoading?(T(),v("span",nE,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ae("",!0)])])):ae("",!0),i("section",sE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",iE,[(T(!0),v(Ce,null,Oe(e.state.activeOrder.items,_=>(T(),v("li",{key:_.id},[i("div",aE,[ye(d(_.title)+" ",1),i("small",null,"("+d(_.sku)+")",1)]),i("div",oE,"  "+d(_.qty)+"  "+d(w(_.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",rE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",lE,d(w(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",cE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",dE,[(T(!0),v(Ce,null,Oe(J(e.state.activeOrder.billing),_=>(T(),v("span",{key:_.key},d(_.value),1))),128))])]),i("section",uE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(T(),v("address",pE,[(T(!0),v(Ce,null,Oe(J(e.state.activeOrder.shipping),_=>(T(),v("span",{key:_.key},d(_.value),1))),128))])):(T(),v("p",_E,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),i("section",fE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",mE,[i("label",hE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),Q(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[5]||(A[5]=_=>f.carrier=_)},null,512),[[pe,f.carrier]])]),i("div",gE,[i("label",EE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),Q(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[6]||(A[6]=_=>f.tracking_number=_)},null,512),[[pe,f.tracking_number]])]),i("div",CE,[i("label",SE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),Q(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":A[7]||(A[7]=_=>f.tracking_url=_)},null,512),[[pe,f.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(T(),v("label",AE,[Q(i("input",{type:"checkbox","onUpdate:modelValue":A[8]||(A[8]=_=>f.markFulfilled=_)},null,512),[[ct,f.markFulfilled]]),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):ae("",!0),i("div",bE,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!ge.value||e.state.saving,onClick:_e},[A[22]||(A[22]=i("i",{class:"fa-solid fa-truck"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,TE)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(T(),v("section",yE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),i("div",RE,[e.state.activeOrder.state==="fulfilled"?(T(),v("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:A[9]||(A[9]=_=>le("shipped"))},[A[23]||(A[23]=i("i",{class:"fa-solid fa-envelope"},null,-1)),ye(" "+d(Re("shipped")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,OE)):ae("",!0),e.state.activeOrder.state==="refunded"?(T(),v("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:A[10]||(A[10]=_=>le("refunded"))},[A[24]||(A[24]=i("i",{class:"fa-solid fa-envelope"},null,-1)),ye(" "+d(Re("refunded")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,xE)):ae("",!0)])])):ae("",!0),V.value?(T(),v("section",vE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),i("p",NE,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),i("div",PE,[i("label",ME,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),Q(i("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":A[11]||(A[11]=_=>l.amount=_),placeholder:w(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,IE),[[pe,l.amount]]),i("small",kE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),i("div",$E,[i("label",wE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),Q(i("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[12]||(A[12]=_=>l.reference=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,LE),[[pe,l.reference]])]),i("div",DE,[i("label",UE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),Q(i("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":A[13]||(A[13]=_=>l.note=_)},null,512),[[pe,l.note]])]),i("div",YE,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving,onClick:he},[A[25]||(A[25]=i("i",{class:"icon-credit"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,XE)])])):ae("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(T(),v("section",FE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",GE,[(T(!0),v(Ce,null,Oe(e.state.activeOrder.transactions,_=>(T(),v("li",{key:_.id},[i("div",VE,d(_.gateway)+"  "+d(w(_.amount_cents,e.state.activeOrder.currency)),1),i("div",HE,d(I(_))+"  "+d(K(_.created)),1)]))),128))])])):ae("",!0),i("section",BE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:mt(ee,["prevent"])},[Q(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":A[14]||(A[14]=_=>u.value=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,KE),[[pe,u.value]]),i("div",jE,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[A[26]||(A[26]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,JE)])],32)]),i("section",WE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),C.value.length?(T(),v("ul",qE,[(T(!0),v(Ce,null,Oe(C.value,_=>(T(),v("li",{key:_.key},[i("div",zE,d(_.label),1),i("div",QE,d(K(_.created)),1)]))),128))])):(T(),v("p",ZE,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):ae("",!0)])):ae("",!0)])}}},[["__scopeId","data-v-71dc11f1"]]),tC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},nC={class:"nxp-ec-admin-panel__header"},sC={class:"nxp-ec-admin-panel__title"},iC={class:"nxp-ec-admin-panel__lead"},aC={class:"nxp-ec-admin-panel__actions"},oC=["placeholder","aria-label"],rC=["disabled","title","aria-label"],lC={class:"nxp-ec-sr-only"},cC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},dC={key:1,class:"nxp-ec-admin-panel__body"},uC={key:2,class:"nxp-ec-admin-panel__body"},pC={class:"nxp-ec-admin-panel__table"},_C={class:"nxp-ec-admin-table"},fC={scope:"col"},mC={scope:"col"},hC={scope:"col"},gC={scope:"col"},EC={scope:"col"},CC={key:0},SC={colspan:"5"},AC={scope:"row",class:"nxp-ec-admin-table__primary"},bC=["onClick"],TC=["data-label"],yC=["data-label"],RC=["data-label"],OC=["data-label"],xC={key:0,class:"nxp-ec-admin-pagination"},vC=["disabled"],NC={class:"nxp-ec-admin-pagination__status"},PC=["disabled"],MC=["title"],IC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},kC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},$C={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},wC={class:"nxp-ec-admin-panel__sidebar-header"},LC=["title","aria-label"],DC={class:"nxp-ec-sr-only"},UC={class:"nxp-ec-admin-panel__section"},YC={class:"nxp-ec-admin-summary"},XC={class:"nxp-ec-admin-panel__section"},FC={class:"nxp-ec-admin-address"},GC={class:"nxp-ec-admin-panel__section"},VC={key:0,class:"nxp-ec-admin-address"},HC={key:1,class:"nxp-ec-admin-panel__muted"},BC={class:"nxp-ec-admin-panel__section"},KC={key:0,class:"nxp-ec-admin-list"},jC={class:"nxp-ec-admin-list__title"},JC={class:"nxp-ec-admin-list__meta"},WC={key:1,class:"nxp-ec-admin-panel__muted"},qC={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},zC={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},QC={class:"nxp-ec-gdpr-actions"},ZC=["disabled","title"],eS=["disabled","title"],tS=Rt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=(L,$)=>{const D=(Number(L)||0)/100,G=($||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:G}).format(D)}catch(Y){return`${G} ${D.toFixed(2)}`}},c=L=>{if(!L)return"";const $=new Date(L);return Number.isNaN($.getTime())?L:$.toLocaleString()},u=L=>!L||typeof L!="object"?[]:Object.entries(L).filter(([,$])=>$!=null&&`${$}`.trim()!=="").map(([$,D])=>({key:$,value:`${D}`.trim()})),p=L=>{if(!L)return"";const $=`COM_NXPEASYCART_ORDERS_STATE_${String(L).toUpperCase()}`;return n($,L)},m=()=>a("refresh"),f=()=>a("search"),l=L=>a("page",L),g=L=>a("view",L),k=()=>a("close"),V=L=>a("gdprExport",L),w=L=>a("gdprAnonymise",L),K=L=>{if(!L)return"";try{const $=new Date(L),G=new Date-$,Y=Math.floor(G/1e3),R=Math.floor(Y/60),te=Math.floor(R/60);return Y<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):R<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[R]):te<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[te]):$.toLocaleString()}catch($){return L}};return(L,$)=>{var D,G,Y;return T(),v("section",tC,[i("header",nC,[i("div",null,[i("h2",sC,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",iC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",aC,[Q(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":$[0]||($[0]=R=>e.state.search=R),onKeyup:zt(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,oC),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:m,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[$[5]||($[5]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",lC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,rC)])]),e.state.error?(T(),v("div",cC,d(e.state.error),1)):ae("",!0),e.state.loading?(T(),v("div",dC,[He(Dn,{type:"table",rows:5,columns:5})])):ae("",!0),e.state.loading?ae("",!0):(T(),v("div",uC,[i("div",pC,[i("table",_C,[i("thead",null,[i("tr",null,[i("th",fC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",mC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",hC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",gC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",EC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?ae("",!0):(T(),v("tr",CC,[i("td",SC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,R=>{var te;return T(),v("tr",{key:R.email,class:Me({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===R.email})},[i("th",AC,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:de=>g(R)},d(R.email),9,bC)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},d(((te=R.meta)==null?void 0:te.name)||""),9,TC),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},d(R.orders_count),9,yC),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},d(o(R.total_spent_cents,R.currency||e.baseCurrency)),9,RC),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},d(c(R.last_order)),9,OC)],2)}),128))])]),e.state.pagination.pages>1?(T(),v("div",xC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:$[1]||($[1]=R=>l(e.state.pagination.current-1))},"  ",8,vC),i("span",NC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:$[2]||($[2]=R=>l(e.state.pagination.current+1))},"  ",8,PC)])):ae("",!0)]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(K(e.state.lastUpdated)),9,MC)):ae("",!0),e.state.activeCustomer?(T(),v("div",IC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:k}),i("div",kC,[i("aside",$C,[i("header",wC,[i("h3",null,d(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:k,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[$[6]||($[6]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",DC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,LC)]),i("section",UC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",YC,[i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,d(((D=e.state.activeCustomer.meta)==null?void 0:D.name)||""),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,d(o(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,d(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,d(c(e.state.activeCustomer.last_order)),1)])])]),i("section",XC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",FC,[(T(!0),v(Ce,null,Oe(u((G=e.state.activeCustomer.meta)==null?void 0:G.billing),R=>(T(),v("span",{key:R.key},d(R.value),1))),128))])]),i("section",GC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(Y=e.state.activeCustomer.meta)!=null&&Y.shipping?(T(),v("address",VC,[(T(!0),v(Ce,null,Oe(u(e.state.activeCustomer.meta.shipping),R=>(T(),v("span",{key:R.key},d(R.value),1))),128))])):(T(),v("p",HC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",BC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(T(),v("ul",KC,[(T(!0),v(Ce,null,Oe(e.state.activeCustomer.orders,R=>(T(),v("li",{key:R.id},[i("div",jC,d(R.order_no)+"  "+d(o(R.total_cents,R.currency||e.baseCurrency)),1),i("div",JC,d(p(R.state))+"  "+d(c(R.created)),1)]))),128))])):(T(),v("p",WC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),i("section",qC,[i("h4",null,d(r(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),i("p",zC,d(r(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),i("div",QC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:$[3]||($[3]=R=>V(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[$[7]||($[7]=i("i",{class:"fa-solid fa-download"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,ZC),i("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:$[4]||($[4]=R=>w(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[$[8]||($[8]=i("i",{class:"fa-solid fa-user-slash"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,eS)]),e.state.gdprMessage?(T(),v("p",{key:0,class:Me(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},d(e.state.gdprMessage),3)):ae("",!0)])])])])):ae("",!0)]))])}}},[["__scopeId","data-v-fb6159d8"]]),nS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},sS={class:"nxp-ec-admin-panel__header"},iS={class:"nxp-ec-admin-panel__title"},aS={class:"nxp-ec-admin-panel__lead"},oS={class:"nxp-ec-admin-panel__actions"},rS=["placeholder","aria-label"],lS=["disabled","title","aria-label"],cS={class:"nxp-ec-sr-only"},dS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},uS={key:1,class:"nxp-ec-admin-panel__loading"},pS={key:2,class:"nxp-ec-admin-panel__body"},_S={class:"nxp-ec-admin-panel__table"},fS={class:"nxp-ec-admin-table"},mS={scope:"col"},hS={scope:"col"},gS={scope:"col"},ES={scope:"col"},CS={scope:"col"},SS={scope:"col"},AS={key:0},bS={colspan:"7"},TS={scope:"row",class:"nxp-ec-admin-table__primary"},yS=["data-label"],RS=["data-label"],OS=["data-label"],xS=["data-label"],vS=["data-label"],NS={class:"nxp-ec-admin-table__actions"},PS=["onClick","title","aria-label"],MS={class:"nxp-ec-sr-only"},IS=["onClick","title","aria-label"],kS={class:"nxp-ec-sr-only"},$S={key:0,class:"nxp-ec-admin-pagination"},wS=["disabled"],LS={class:"nxp-ec-admin-pagination__status"},DS=["disabled"],US={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},YS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},XS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},FS={class:"nxp-ec-admin-panel__sidebar-header"},GS=["title","aria-label"],VS={class:"nxp-ec-sr-only"},HS={class:"nxp-ec-form-field"},BS={class:"nxp-ec-form-label",for:"coupon-code"},KS={class:"nxp-ec-form-field"},jS={class:"nxp-ec-form-label",for:"coupon-type"},JS={value:"percent"},WS={value:"fixed"},qS={class:"nxp-ec-form-field"},zS={class:"nxp-ec-form-label",for:"coupon-value"},QS={class:"nxp-ec-form-field"},ZS={class:"nxp-ec-form-label",for:"coupon-min-total"},eA={class:"nxp-ec-form-field"},tA={class:"nxp-ec-form-label",for:"coupon-start"},nA={class:"nxp-ec-form-field"},sA={class:"nxp-ec-form-label",for:"coupon-end"},iA={class:"nxp-ec-form-field"},aA={class:"nxp-ec-form-label",for:"coupon-max-uses"},oA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},rA={class:"nxp-ec-form-label",for:"coupon-active"},lA={class:"nxp-ec-modal__actions"},cA=["disabled"],dA=["disabled"],uA=["disabled"],pA=Rt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=me(()=>(s.baseCurrency||"USD").toUpperCase()),c=Ie({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=me(()=>c.open),p=()=>a("refresh"),m=()=>a("search"),f=D=>a("page",D),l=()=>{Object.assign(c,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},g=D=>{var G,Y;Object.assign(c,{open:!0,id:D.id,code:D.code,type:D.type,value:D.value,min_total:(Y=D.min_total)!=null?Y:((G=D.min_total_cents)!=null?G:0)/100,start:D.start?D.start.substring(0,10):"",end:D.end?D.end.substring(0,10):"",max_uses:D.max_uses,active:D.active})},k=()=>{c.open=!1},V=()=>{const D={id:c.id||void 0,code:c.code,type:c.type,value:c.value,min_total:c.min_total||0,start:c.start||null,end:c.end||null,max_uses:c.max_uses!==null&&c.max_uses!==""?c.max_uses:null,active:c.active};a("save",D)},w=D=>{const G=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(G)&&(a("delete",[D.id]),c.id===D.id&&k())},K=(D,G)=>{const Y=(Number(D)||0)/100,R=(G||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:R}).format(Y)}catch(te){return`${R} ${Y.toFixed(2)}`}},L=D=>D.type==="percent"?`${D.value}%`:K(D.value*100,o.value),$=D=>D==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Ue(()=>s.state.saving,(D,G)=>{G&&!D&&!s.state.error&&c.open&&k()}),(D,G)=>(T(),v("section",nS,[i("header",sS,[i("div",null,[i("h2",iS,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",aS,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",oS,[Q(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":G[0]||(G[0]=Y=>e.state.search=Y),onKeyup:zt(m,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,rS),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[G[12]||(G[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",cS,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,lS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:l},[G[13]||(G[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(T(),v("div",dS,d(e.state.error),1)):ae("",!0),e.state.loading?(T(),v("div",uS,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):ae("",!0),e.state.loading?ae("",!0):(T(),v("div",pS,[i("div",_S,[i("table",fS,[i("thead",null,[i("tr",null,[i("th",mS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",hS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",gS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",ES,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",CS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",SS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),G[14]||(G[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ae("",!0):(T(),v("tr",AS,[i("td",bS,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,Y=>(T(),v("tr",{key:Y.id,class:Me({"is-active":c.id===Y.id})},[i("th",TS,d(Y.code),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},d($(Y.type)),9,yS),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},d(L(Y)),9,RS),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},d(K(Y.min_total_cents,o.value)),9,OS),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[i("span",{class:Me(["nxp-ec-badge",{"is-active":Y.active}])},[i("i",{class:Me(Y.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ye(" "+d(Y.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,xS),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},d(Y.times_used)+d(Y.max_uses?` / ${Y.max_uses}`:""),9,vS),i("td",NS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:R=>g(Y),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[G[15]||(G[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",MS,d(r(n)("JEDIT","Edit")),1)],8,PS),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:R=>w(Y),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[G[16]||(G[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",kS,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,IS)])],2))),128))])]),e.state.pagination.pages>1?(T(),v("div",$S,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:G[1]||(G[1]=Y=>f(e.state.pagination.current-1))},"  ",8,wS),i("span",LS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:G[2]||(G[2]=Y=>f(e.state.pagination.current+1))},"  ",8,DS)])):ae("",!0)]),u.value?(T(),v("div",US,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:k}),i("div",YS,[i("aside",XS,[i("header",FS,[i("h3",null,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:k,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[G[17]||(G[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",VS,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,GS)]),i("form",{class:"nxp-ec-form",onSubmit:mt(V,["prevent"]),autocomplete:"off"},[i("div",HS,[i("label",BS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),Q(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":G[3]||(G[3]=Y=>c.code=Y),required:"",maxlength:"64"},null,512),[[pe,c.code,void 0,{trim:!0}]])]),i("div",KS,[i("label",jS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),Q(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":G[4]||(G[4]=Y=>c.type=Y)},[i("option",JS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",WS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[ft,c.type]])]),i("div",qS,[i("label",zS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),Q(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G[5]||(G[5]=Y=>c.value=Y),required:""},null,512),[[pe,c.value,void 0,{number:!0}]])]),i("div",QS,[i("label",ZS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),Q(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G[6]||(G[6]=Y=>c.min_total=Y)},null,512),[[pe,c.min_total,void 0,{number:!0}]])]),i("div",eA,[i("label",tA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),Q(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":G[7]||(G[7]=Y=>c.start=Y)},null,512),[[pe,c.start]])]),i("div",nA,[i("label",sA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),Q(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":G[8]||(G[8]=Y=>c.end=Y)},null,512),[[pe,c.end]])]),i("div",iA,[i("label",aA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),Q(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":G[9]||(G[9]=Y=>c.max_uses=Y)},null,512),[[pe,c.max_uses,void 0,{number:!0}]])]),i("div",oA,[i("label",rA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),Q(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":G[10]||(G[10]=Y=>c.active=Y)},null,512),[[ct,c.active]])]),i("footer",lA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:k,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,cA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,dA)]),c.id?(T(),v("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:G[11]||(G[11]=Y=>w(c)),disabled:e.state.saving},[G[18]||(G[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,uA)):ae("",!0)],32)])])])):ae("",!0)]))]))}},[["__scopeId","data-v-7a1d4dad"]]),_A={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},fA={class:"nxp-ec-admin-panel__header"},mA={class:"nxp-ec-admin-panel__title"},hA={class:"nxp-ec-admin-panel__lead"},gA={class:"nxp-ec-settings-tabs"},EA={key:0,class:"nxp-ec-settings-panel"},CA={class:"nxp-ec-settings-panel__header"},SA=["disabled"],AA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bA={key:1,class:"nxp-ec-admin-panel__loading"},TA={class:"nxp-ec-form-field"},yA={class:"nxp-ec-form-label",for:"settings-store-name"},RA={class:"nxp-ec-form-field"},OA={class:"nxp-ec-form-label",for:"settings-store-email"},xA={class:"nxp-ec-form-field"},vA={class:"nxp-ec-form-label",for:"settings-store-phone"},NA={class:"nxp-ec-form-field"},PA={class:"nxp-ec-form-label",for:"settings-base-currency"},MA={class:"nxp-ec-form-help"},IA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},kA={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},$A={class:"nxp-ec-form-help"},wA={class:"nxp-ec-form-field"},LA={class:"nxp-ec-form-label",for:"settings-category-page-size"},DA={class:"nxp-ec-form-help"},UA={class:"nxp-ec-form-field"},YA={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},XA={value:"paged"},FA={value:"infinite"},GA={class:"nxp-ec-form-help"},VA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},HA={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},BA={class:"nxp-ec-form-help"},KA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},jA={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},JA={class:"nxp-ec-form-help"},WA={key:0,class:"nxp-ec-form-field"},qA={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},zA={class:"nxp-ec-form-help"},QA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ZA={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},eb={class:"nxp-ec-form-help"},tb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},nb={class:"nxp-ec-settings-actions"},sb=["disabled"],ib=["disabled"],ab={key:1,class:"nxp-ec-settings-panel"},ob={class:"nxp-ec-settings-panel__header"},rb=["disabled"],lb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},cb={class:"nxp-ec-form-help"},db={class:"nxp-ec-form-grid"},ub={class:"nxp-ec-form-field"},pb={class:"nxp-ec-form-label",for:"settings-checkout-window"},_b={class:"nxp-ec-form-help"},fb={class:"nxp-ec-form-field"},mb={class:"nxp-ec-form-label",for:"settings-offline-window"},hb={class:"nxp-ec-form-help"},gb={class:"nxp-ec-form-grid"},Eb={class:"nxp-ec-form-field"},Cb={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},Sb={class:"nxp-ec-form-field"},Ab={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},bb={class:"nxp-ec-form-field"},Tb={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},yb={class:"nxp-ec-form-grid"},Rb={class:"nxp-ec-form-field"},Ob={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},xb={class:"nxp-ec-form-field"},vb={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},Nb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Pb={class:"nxp-ec-settings-actions"},Mb=["disabled"],Ib=["disabled"],kb={key:2,class:"nxp-ec-settings-panel"},$b={class:"nxp-ec-settings-panel__header"},wb={class:"nxp-ec-settings-actions"},Lb=["disabled"],Db={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ub={key:1,class:"nxp-ec-admin-panel__loading"},Yb={class:"nxp-ec-form-field"},Xb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},Fb={class:"nxp-ec-form-field"},Gb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},Vb={class:"nxp-ec-form-field"},Hb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},Bb={class:"nxp-ec-form-help"},Kb={class:"nxp-ec-form-field"},jb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},Jb={value:"test"},Wb={value:"live"},qb={class:"nxp-ec-form-field"},zb={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},Qb={class:"nxp-ec-form-field"},Zb={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},eT={class:"nxp-ec-form-field"},tT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},nT={class:"nxp-ec-form-help"},sT={class:"nxp-ec-form-field"},iT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},aT={value:"sandbox"},oT={value:"live"},rT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},lT={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},cT={class:"nxp-ec-form-field"},dT={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},uT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},pT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},_T={class:"nxp-ec-form-field"},fT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},mT={class:"nxp-ec-form-field"},hT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},gT=["placeholder"],ET={class:"nxp-ec-form-help"},CT={class:"nxp-ec-form-grid"},ST={class:"nxp-ec-form-field"},AT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},bT={class:"nxp-ec-form-field"},TT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},yT={class:"nxp-ec-form-field"},RT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},OT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},xT={class:"nxp-ec-form-label",for:"settings-payments-configured"},vT={class:"nxp-ec-form-help"},NT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},PT={class:"nxp-ec-settings-actions"},MT=["disabled"],IT=["disabled"],kT={key:3,class:"nxp-ec-settings-panel"},$T={class:"nxp-ec-settings-panel__header"},wT=["disabled"],LT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},DT={key:1,class:"nxp-ec-admin-panel__loading"},UT={class:"nxp-ec-form-help"},YT={class:"nxp-ec-form-help nxp-ec-form-help--muted"},XT={class:"nxp-ec-visual-grid"},FT={class:"nxp-ec-visual-field"},GT={class:"nxp-ec-form-label",for:"visual-primary-color"},VT={class:"nxp-ec-color-input-group"},HT=["value"],BT=["placeholder"],KT={class:"nxp-ec-visual-field"},jT={class:"nxp-ec-form-label",for:"visual-text-color"},JT={class:"nxp-ec-color-input-group"},WT=["value"],qT=["placeholder"],zT={class:"nxp-ec-visual-field"},QT={class:"nxp-ec-form-label",for:"visual-surface-color"},ZT={class:"nxp-ec-color-input-group"},ey=["value"],ty=["placeholder"],ny={class:"nxp-ec-visual-field"},sy={class:"nxp-ec-form-label",for:"visual-border-color"},iy={class:"nxp-ec-color-input-group"},ay=["value"],oy=["placeholder"],ry={class:"nxp-ec-visual-field"},ly={class:"nxp-ec-form-label",for:"visual-muted-color"},cy={class:"nxp-ec-color-input-group"},dy=["value"],uy=["placeholder"],py={class:"nxp-ec-visual-preview"},_y={type:"button",class:"nxp-ec-preview-btn"},fy={class:"nxp-ec-preview-text"},my={class:"nxp-ec-preview-muted"},hy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},gy={class:"nxp-ec-settings-actions"},Ey=["disabled"],Cy=["disabled"],Sy=Rt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=s.settingsState,c=s.paymentsState,p=Xe(["general","security","payments","visual"].includes(s.initialTab)?s.initialTab:"general");me(()=>{var Z;const N=s.baseCurrency||"USD",h=typeof m.baseCurrency=="string"?m.baseCurrency.trim():"",x=typeof((Z=o==null?void 0:o.values)==null?void 0:Z.base_currency)=="string"?o.values.base_currency.trim():"";return(h!==""?h:x!==""?x:N).toUpperCase()});const m=Ie({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1}),f=Ie({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),l=Ie({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),g=Ie({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),k=me(()=>{var h,x;const N=(x=(h=o.values)==null?void 0:h.visual_defaults)!=null?x:{};return{primary:N.primary_color||"#4f6d7a",text:N.text_color||"#1f2933",surface:N.surface_color||"#ffffff",border:N.border_color||"#e4e7ec",muted:N.muted_color||"#6b7280"}}),V=me(()=>({"--nxp-ec-color-primary":g.primaryColor||k.value.primary,"--nxp-ec-color-text":g.textColor||k.value.text,"--nxp-ec-color-surface":g.surfaceColor||k.value.surface,"--nxp-ec-color-border":g.borderColor||k.value.border,"--nxp-ec-color-muted":g.mutedColor||k.value.muted})),w=(N={})=>{var q,ne,z,oe,F,W,ee,re,_e,le,he,Re,Te,Pe,Be,C,I;const h=(q=N==null?void 0:N.store)!=null?q:{},x=(ne=N==null?void 0:N.payments)!=null?ne:{},ce=(z=N==null?void 0:N.visual)!=null?z:{},Z=(F=(oe=N==null?void 0:N.security)==null?void 0:oe.rate_limits)!=null?F:{};Object.assign(m,{storeName:(W=h.name)!=null?W:"",storeEmail:(ee=h.email)!=null?ee:"",storePhone:(re=h.phone)!=null?re:"",checkoutPhoneRequired:!!((_e=N==null?void 0:N.checkout_phone_required)!=null&&_e),paymentsConfigured:!!x.configured,autoSendOrderEmails:!!((le=N==null?void 0:N.auto_send_order_emails)!=null&&le),baseCurrency:typeof(N==null?void 0:N.base_currency)=="string"?N.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),categoryPageSize:Number.isFinite(Number(N==null?void 0:N.category_page_size))?Number(N.category_page_size):12,categoryPaginationMode:(N==null?void 0:N.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((he=N==null?void 0:N.stale_order_cleanup_enabled)!=null&&he),staleOrderHours:Number.isFinite(Number(N==null?void 0:N.stale_order_hours))?Math.max(1,Math.min(720,Number(N.stale_order_hours))):48,showAdvancedMode:!!((Re=N==null?void 0:N.show_advanced_mode)!=null&&Re)}),Object.assign(g,{primaryColor:(Te=ce.primary_color)!=null?Te:"",textColor:(Pe=ce.text_color)!=null?Pe:"",surfaceColor:(Be=ce.surface_color)!=null?Be:"",borderColor:(C=ce.border_color)!=null?C:"",mutedColor:(I=ce.muted_color)!=null?I:""}),Object.assign(f,{checkoutWindowMinutes:Number.isFinite(Number(Z.checkout_window_minutes))?Number(Z.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(Z.checkout_ip_limit))?Number(Z.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(Z.checkout_email_limit))?Number(Z.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(Z.checkout_session_limit))?Number(Z.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(Z.offline_window_minutes))?Number(Z.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(Z.offline_ip_limit))?Number(Z.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(Z.offline_email_limit))?Number(Z.offline_email_limit):5})},K=(N={})=>{var q,ne,z,oe,F,W,ee,re,_e,le,he,Re,Te,Pe,Be,C,I,B,b,A,X,E,_,S;const h=(q=N.stripe)!=null?q:{},x=(ne=N.paypal)!=null?ne:{},ce=(z=N.cod)!=null?z:{},Z=(oe=N.bank_transfer)!=null?oe:{};Object.assign(l.stripe,{publishable_key:(F=h.publishable_key)!=null?F:"",secret_key:(W=h.secret_key)!=null?W:"",webhook_secret:(ee=h.webhook_secret)!=null?ee:"",mode:(re=h.mode)!=null?re:"test"}),Object.assign(l.paypal,{client_id:(_e=x.client_id)!=null?_e:"",client_secret:(le=x.client_secret)!=null?le:"",webhook_id:(he=x.webhook_id)!=null?he:"",mode:(Re=x.mode)!=null?Re:"sandbox"}),Object.assign(l.cod,{enabled:ce.enabled!==void 0?!!ce.enabled:l.cod.enabled,label:(Pe=(Te=ce.label)!=null?Te:l.cod.label)!=null?Pe:"Cash on delivery"}),Object.assign(l.bank_transfer,{enabled:Z.enabled!==void 0?!!Z.enabled:l.bank_transfer.enabled,label:(C=(Be=Z.label)!=null?Be:l.bank_transfer.label)!=null?C:"Bank transfer",instructions:(B=(I=Z.instructions)!=null?I:l.bank_transfer.instructions)!=null?B:"",account_name:(A=(b=Z.account_name)!=null?b:l.bank_transfer.account_name)!=null?A:"",iban:(E=(X=Z.iban)!=null?X:l.bank_transfer.iban)!=null?E:"",bic:(S=(_=Z.bic)!=null?_:l.bank_transfer.bic)!=null?S:""})};Ue(()=>o.values,N=>{w(N!=null?N:{})},{immediate:!0});const L=()=>a("refresh-settings"),$=()=>{const N=(m.baseCurrency||"").trim().toUpperCase();a("save-settings",{store:{name:m.storeName,email:m.storeEmail,phone:m.storePhone,base_currency:N},payments:{configured:m.paymentsConfigured},base_currency:N,checkout_phone_required:m.checkoutPhoneRequired,auto_send_order_emails:m.autoSendOrderEmails,category_page_size:Number.isFinite(Number(m.categoryPageSize))?Number(m.categoryPageSize):12,category_pagination_mode:m.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!m.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(m.staleOrderHours))?Math.max(1,Math.min(720,Number(m.staleOrderHours))):48,show_advanced_mode:!!m.showAdvancedMode})},D=()=>{var N;w((N=o.values)!=null?N:{})},G=()=>{const N=(h,x=0)=>{const ce=Number(h);return Number.isFinite(ce)&&ce>=0?ce:x};a("save-settings",{security:{rate_limits:{checkout_window_minutes:N(f.checkoutWindowMinutes,15),checkout_ip_limit:N(f.checkoutIpLimit,10),checkout_email_limit:N(f.checkoutEmailLimit,5),checkout_session_limit:N(f.checkoutSessionLimit,15),offline_window_minutes:N(f.offlineWindowMinutes,240),offline_ip_limit:N(f.offlineIpLimit,10),offline_email_limit:N(f.offlineEmailLimit,5)}}})},Y=()=>{var N;w((N=o.values)!=null?N:{})};Ue(()=>o.saving,(N,h)=>{var x;h&&!N&&!o.error&&w((x=o.values)!=null?x:{})}),Ue(()=>m.baseCurrency,N=>{if(typeof N=="string"){const h=N.replace(/[^A-Za-z]/g,"").toUpperCase();h!==N&&(m.baseCurrency=h)}}),Ue(()=>c.config,N=>{K(N!=null?N:{})},{immediate:!0}),Ue(()=>c.saving,(N,h)=>{var x;h&&!N&&!c.error&&K((x=c.config)!=null?x:{})});const R=()=>a("refresh-payments"),te=()=>{const N=JSON.parse(JSON.stringify(l));a("save-payments",N),a("save-settings",{payments:{configured:m.paymentsConfigured}})},de=()=>{var N;K((N=c.config)!=null?N:{})},ge=()=>a("refresh-settings"),J=()=>{a("save-settings",{visual:{primary_color:g.primaryColor,text_color:g.textColor,surface_color:g.surfaceColor,border_color:g.borderColor,muted_color:g.mutedColor}})},j=()=>{var h,x,ce,Z,q,ne,z;const N=(x=(h=o.values)==null?void 0:h.visual)!=null?x:{};Object.assign(g,{primaryColor:(ce=N.primary_color)!=null?ce:"",textColor:(Z=N.text_color)!=null?Z:"",surfaceColor:(q=N.surface_color)!=null?q:"",borderColor:(ne=N.border_color)!=null?ne:"",mutedColor:(z=N.muted_color)!=null?z:""})};return(N,h)=>(T(),v("section",_A,[i("header",fA,[i("div",null,[i("h2",mA,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",hA,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",gA,[i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="general"}]),onClick:h[0]||(h[0]=x=>p.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),m.showAdvancedMode?(T(),v("button",{key:0,type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="security"}]),onClick:h[1]||(h[1]=x=>p.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):ae("",!0),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="payments"}]),onClick:h[2]||(h[2]=x=>p.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="visual"}]),onClick:h[3]||(h[3]=x=>p.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),p.value==="general"?(T(),v("div",EA,[i("header",CA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,SA)]),r(o).error?(T(),v("div",AA,d(r(o).error),1)):r(o).loading?(T(),v("div",bA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(T(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:mt($,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),i("div",TA,[i("label",yA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),Q(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[4]||(h[4]=x=>m.storeName=x),maxlength:"190"},null,512),[[pe,m.storeName,void 0,{trim:!0}]])]),i("div",RA,[i("label",OA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),Q(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":h[5]||(h[5]=x=>m.storeEmail=x)},null,512),[[pe,m.storeEmail,void 0,{trim:!0}]])]),i("div",xA,[i("label",vA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),Q(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[6]||(h[6]=x=>m.storePhone=x),maxlength:"64"},null,512),[[pe,m.storePhone,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),i("div",NA,[i("label",PA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),Q(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":h[7]||(h[7]=x=>m.baseCurrency=x),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[pe,m.baseCurrency,void 0,{trim:!0}]]),i("p",MA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",IA,[i("label",kA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),Q(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[8]||(h[8]=x=>m.checkoutPhoneRequired=x)},null,512),[[ct,m.checkoutPhoneRequired]]),i("p",$A,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),i("div",wA,[i("label",LA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),Q(i("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":h[9]||(h[9]=x=>m.categoryPageSize=x)},null,512),[[pe,m.categoryPageSize,void 0,{number:!0}]]),i("p",DA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),i("div",UA,[i("label",YA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),Q(i("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":h[10]||(h[10]=x=>m.categoryPaginationMode=x)},[i("option",XA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),i("option",FA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[ft,m.categoryPaginationMode]]),i("p",GA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),i("div",VA,[i("label",HA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),Q(i("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[11]||(h[11]=x=>m.autoSendOrderEmails=x)},null,512),[[ct,m.autoSendOrderEmails]]),i("p",BA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),i("div",KA,[i("label",jA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),Q(i("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[12]||(h[12]=x=>m.staleOrderCleanupEnabled=x)},null,512),[[ct,m.staleOrderCleanupEnabled]]),i("p",JA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),m.staleOrderCleanupEnabled?(T(),v("div",WA,[i("label",qA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),Q(i("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":h[13]||(h[13]=x=>m.staleOrderHours=x)},null,512),[[pe,m.staleOrderHours,void 0,{number:!0}]]),i("p",zA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):ae("",!0)]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),i("div",QA,[i("label",ZA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),Q(i("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[14]||(h[14]=x=>m.showAdvancedMode=x)},null,512),[[ct,m.showAdvancedMode]]),i("p",eb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),r(o).message?(T(),v("div",tb,d(r(o).message),1)):ae("",!0),i("div",nb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:D,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,sb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,ib)])],32))])):p.value==="security"&&m.showAdvancedMode?(T(),v("div",ab,[i("header",ob,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,rb)]),r(o).error?(T(),v("div",lb,d(r(o).error),1)):(T(),v("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:mt(G,["prevent"])},[i("p",cb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",db,[i("div",ub,[i("label",pb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),Q(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[15]||(h[15]=x=>f.checkoutWindowMinutes=x)},null,512),[[pe,f.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",_b,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",fb,[i("label",mb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),Q(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[16]||(h[16]=x=>f.offlineWindowMinutes=x)},null,512),[[pe,f.offlineWindowMinutes,void 0,{number:!0}]]),i("p",hb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",gb,[i("div",Eb,[i("label",Cb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),Q(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[17]||(h[17]=x=>f.checkoutIpLimit=x)},null,512),[[pe,f.checkoutIpLimit,void 0,{number:!0}]])]),i("div",Sb,[i("label",Ab,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),Q(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[18]||(h[18]=x=>f.checkoutEmailLimit=x)},null,512),[[pe,f.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",bb,[i("label",Tb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),Q(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[19]||(h[19]=x=>f.checkoutSessionLimit=x)},null,512),[[pe,f.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",yb,[i("div",Rb,[i("label",Ob,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),Q(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[20]||(h[20]=x=>f.offlineIpLimit=x)},null,512),[[pe,f.offlineIpLimit,void 0,{number:!0}]])]),i("div",xb,[i("label",vb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),Q(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[21]||(h[21]=x=>f.offlineEmailLimit=x)},null,512),[[pe,f.offlineEmailLimit,void 0,{number:!0}]])])]),r(o).message?(T(),v("div",Nb,d(r(o).message),1)):ae("",!0),i("div",Pb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Y,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,Mb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,Ib)])],32))])):p.value==="payments"?(T(),v("div",kb,[i("header",$b,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",wb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:R,disabled:r(c).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,Lb)])]),r(c).error?(T(),v("div",Db,d(r(c).error),1)):r(c).loading?(T(),v("div",Ub,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(T(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:mt(te,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",Yb,[i("label",Xb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),Q(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[22]||(h[22]=x=>l.stripe.publishable_key=x)},null,512),[[pe,l.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",Fb,[i("label",Gb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),Q(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":h[23]||(h[23]=x=>l.stripe.secret_key=x),autocomplete:"off"},null,512),[[pe,l.stripe.secret_key,void 0,{trim:!0}]])]),i("div",Vb,[i("label",Hb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),Q(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":h[24]||(h[24]=x=>l.stripe.webhook_secret=x),autocomplete:"off"},null,512),[[pe,l.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",Bb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",Kb,[i("label",jb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Q(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":h[25]||(h[25]=x=>l.stripe.mode=x)},[i("option",Jb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",Wb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ft,l.stripe.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",qb,[i("label",zb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),Q(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[26]||(h[26]=x=>l.paypal.client_id=x)},null,512),[[pe,l.paypal.client_id,void 0,{trim:!0}]])]),i("div",Qb,[i("label",Zb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),Q(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":h[27]||(h[27]=x=>l.paypal.client_secret=x),autocomplete:"off"},null,512),[[pe,l.paypal.client_secret,void 0,{trim:!0}]])]),i("div",eT,[i("label",tT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),Q(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[28]||(h[28]=x=>l.paypal.webhook_id=x)},null,512),[[pe,l.paypal.webhook_id,void 0,{trim:!0}]]),i("p",nT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",sT,[i("label",iT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Q(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":h[29]||(h[29]=x=>l.paypal.mode=x)},[i("option",aT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",oT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ft,l.paypal.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",rT,[i("label",lT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),Q(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":h[30]||(h[30]=x=>l.cod.enabled=x)},null,512),[[ct,l.cod.enabled]])]),i("div",cT,[i("label",dT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),Q(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[31]||(h[31]=x=>l.cod.label=x),placeholder:"Cash on delivery"},null,512),[[pe,l.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",uT,[i("label",pT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),Q(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":h[32]||(h[32]=x=>l.bank_transfer.enabled=x)},null,512),[[ct,l.bank_transfer.enabled]])]),i("div",_T,[i("label",fT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),Q(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[33]||(h[33]=x=>l.bank_transfer.label=x),placeholder:"Bank transfer"},null,512),[[pe,l.bank_transfer.label,void 0,{trim:!0}]])]),i("div",mT,[i("label",hT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),Q(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":h[34]||(h[34]=x=>l.bank_transfer.instructions=x),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,gT),[[pe,l.bank_transfer.instructions]]),i("p",ET,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",CT,[i("div",ST,[i("label",AT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),Q(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[35]||(h[35]=x=>l.bank_transfer.account_name=x)},null,512),[[pe,l.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",bT,[i("label",TT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),Q(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[36]||(h[36]=x=>l.bank_transfer.iban=x),maxlength:"34"},null,512),[[pe,l.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",yT,[i("label",RT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),Q(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[37]||(h[37]=x=>l.bank_transfer.bic=x),maxlength:"11"},null,512),[[pe,l.bank_transfer.bic,void 0,{trim:!0}]])])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),i("div",OT,[i("label",xT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),Q(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[38]||(h[38]=x=>m.paymentsConfigured=x)},null,512),[[ct,m.paymentsConfigured]]),i("p",vT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),r(c).message?(T(),v("div",NT,d(r(c).message),1)):ae("",!0),i("div",PT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:de,disabled:r(c).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,MT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(c).saving},d(r(c).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,IT)])],32))])):p.value==="visual"?(T(),v("div",kT,[i("header",$T,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ge,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,wT)]),r(o).error?(T(),v("div",LT,d(r(o).error),1)):r(o).loading?(T(),v("div",DT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(T(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:mt(J,["prevent"])},[i("p",UT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",YT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",XT,[i("div",FT,[i("label",GT,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",VT,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:g.primaryColor||k.value.primary,onInput:h[39]||(h[39]=x=>g.primaryColor=x.target.value)},null,40,HT),Q(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[40]||(h[40]=x=>g.primaryColor=x),placeholder:k.value.primary,maxlength:"7"},null,8,BT),[[pe,g.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[41]||(h[41]=x=>g.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",KT,[i("label",jT,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",JT,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:g.textColor||k.value.text,onInput:h[42]||(h[42]=x=>g.textColor=x.target.value)},null,40,WT),Q(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[43]||(h[43]=x=>g.textColor=x),placeholder:k.value.text,maxlength:"7"},null,8,qT),[[pe,g.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[44]||(h[44]=x=>g.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",zT,[i("label",QT,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",ZT,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:g.surfaceColor||k.value.surface,onInput:h[45]||(h[45]=x=>g.surfaceColor=x.target.value)},null,40,ey),Q(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[46]||(h[46]=x=>g.surfaceColor=x),placeholder:k.value.surface,maxlength:"7"},null,8,ty),[[pe,g.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[47]||(h[47]=x=>g.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",ny,[i("label",sy,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",iy,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:g.borderColor||k.value.border,onInput:h[48]||(h[48]=x=>g.borderColor=x.target.value)},null,40,ay),Q(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[49]||(h[49]=x=>g.borderColor=x),placeholder:k.value.border,maxlength:"7"},null,8,oy),[[pe,g.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[50]||(h[50]=x=>g.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",ry,[i("label",ly,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",cy,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:g.mutedColor||k.value.muted,onInput:h[51]||(h[51]=x=>g.mutedColor=x.target.value)},null,40,dy),Q(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[52]||(h[52]=x=>g.mutedColor=x),placeholder:k.value.muted,maxlength:"7"},null,8,uy),[[pe,g.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[53]||(h[53]=x=>g.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",py,[i("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Gt(V.value)},[i("button",_y,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",fy,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",my,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),r(o).message?(T(),v("div",hy,d(r(o).message),1)):ae("",!0),i("div",gy,[i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,Ey),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,Cy)])],32))])):ae("",!0)]))}},[["__scopeId","data-v-28d59a61"]]),Ay={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},by={class:"nxp-ec-admin-panel__header"},Ty={class:"nxp-ec-admin-panel__title"},yy={class:"nxp-ec-admin-panel__lead"},Ry={class:"nxp-ec-admin-panel__actions"},Oy=["disabled","title","aria-label"],xy={class:"nxp-ec-sr-only"},vy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ny={key:1,class:"nxp-ec-admin-panel__loading"},Py={key:2,class:"nxp-ec-admin-panel__body"},My={class:"nxp-ec-admin-panel__table"},Iy={class:"nxp-ec-admin-table"},ky={scope:"col"},$y={scope:"col"},wy={scope:"col"},Ly={scope:"col"},Dy={scope:"col"},Uy={key:0},Yy={colspan:"6"},Xy={scope:"row",class:"nxp-ec-admin-table__primary"},Fy=["data-label"],Gy=["data-label"],Vy=["data-label"],Hy=["data-label"],By={class:"nxp-ec-admin-table__actions"},Ky=["onClick","title","aria-label"],jy={class:"nxp-ec-sr-only"},Jy=["onClick","title","aria-label"],Wy={class:"nxp-ec-sr-only"},qy={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},zy={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Qy={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Zy={class:"nxp-ec-admin-panel__sidebar-header"},eR=["title","aria-label"],tR={class:"nxp-ec-sr-only"},nR={class:"nxp-ec-form-field"},sR={class:"nxp-ec-form-label",for:"tax-country"},iR=["placeholder"],aR={class:"nxp-ec-form-help"},oR={class:"nxp-ec-form-field"},rR={class:"nxp-ec-form-label",for:"tax-region"},lR=["placeholder"],cR={class:"nxp-ec-form-help"},dR={class:"nxp-ec-form-field"},uR={class:"nxp-ec-form-label",for:"tax-rate"},pR={class:"nxp-ec-input-group"},_R={class:"nxp-ec-form-field nxp-ec-form-field--inline"},fR={class:"nxp-ec-form-label",for:"tax-inclusive"},mR={class:"nxp-ec-form-help"},hR={class:"nxp-ec-form-field"},gR={class:"nxp-ec-form-label",for:"tax-priority"},ER={class:"nxp-ec-form-help"},CR={class:"nxp-ec-modal__actions"},SR=["disabled"],AR=["disabled"],bR=["disabled"],TR={__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Xe(!1),c=Ie({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),u=()=>a("refresh"),p=()=>{l(),o.value=!0},m=V=>{Object.assign(c,{id:V.id,country:V.country,region:V.region,rate:V.rate,inclusive:V.inclusive,priority:V.priority}),o.value=!0},f=()=>{o.value=!1,l()},l=()=>{Object.assign(c,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},g=()=>{a("save",{id:c.id||void 0,country:c.country,region:c.region,rate:c.rate,inclusive:c.inclusive,priority:c.priority})},k=V=>{const w=n("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(w)&&(a("delete",[V.id]),c.id===V.id&&f())};return Ue(()=>s.state.saving,(V,w)=>{w&&!V&&!s.state.error&&f()}),(V,w)=>(T(),v("section",Ay,[i("header",by,[i("div",null,[i("h2",Ty,d(r(n)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),i("p",yy,d(r(n)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),i("div",Ry,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[w[6]||(w[6]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",xy,d(r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,Oy),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[w[7]||(w[7]=i("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(T(),v("div",vy,d(e.state.error),1)):ae("",!0),e.state.loading?(T(),v("div",Ny,d(r(n)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):ae("",!0),e.state.loading?ae("",!0):(T(),v("div",Py,[i("div",My,[i("table",Iy,[i("thead",null,[i("tr",null,[i("th",ky,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),i("th",$y,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),i("th",wy,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("th",Ly,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),i("th",Dy,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),w[8]||(w[8]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ae("",!0):(T(),v("tr",Uy,[i("td",Yy,d(r(n)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,K=>{var L;return T(),v("tr",{key:K.id,class:Me({"is-active":c.id===K.id})},[i("th",Xy,d(K.country),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_REGION","Region")},d(K.region||""),9,Fy),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_RATE","Rate")},d(((L=K.rate)!=null?L:0).toFixed(2))+"%",9,Gy),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[i("span",{class:Me(["nxp-ec-badge",{"is-active":K.inclusive}])},[i("i",{class:Me(K.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ye(" "+d(K.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,Vy),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},d(K.priority),9,Hy),i("td",By,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:$=>m(K),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[w[9]||(w[9]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",jy,d(r(n)("JEDIT","Edit")),1)],8,Ky),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:$=>k(K),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[w[10]||(w[10]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",Wy,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Jy)])],2)}),128))])])]),o.value?(T(),v("div",qy,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:f}),i("div",zy,[i("aside",Qy,[i("header",Zy,[i("h3",null,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:f,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[w[11]||(w[11]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",tR,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,eR)]),i("form",{class:"nxp-ec-form",onSubmit:mt(g,["prevent"]),autocomplete:"off"},[i("div",nR,[i("label",sR,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),Q(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w[0]||(w[0]=K=>c.country=K),maxlength:"2",required:"",placeholder:r(n)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,iR),[[pe,c.country,void 0,{trim:!0}]]),i("p",aR,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),i("div",oR,[i("label",rR,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),Q(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w[1]||(w[1]=K=>c.region=K),placeholder:r(n)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,lR),[[pe,c.region,void 0,{trim:!0}]]),i("p",cR,d(r(n)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),i("div",dR,[i("label",uR,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("div",pR,[Q(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":w[2]||(w[2]=K=>c.rate=K),required:""},null,512),[[pe,c.rate,void 0,{number:!0}]]),w[12]||(w[12]=i("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),i("div",_R,[i("label",fR,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),Q(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":w[3]||(w[3]=K=>c.inclusive=K)},null,512),[[ct,c.inclusive]]),i("p",mR,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),i("div",hR,[i("label",gR,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),Q(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":w[4]||(w[4]=K=>c.priority=K)},null,512),[[pe,c.priority,void 0,{number:!0}]]),i("p",ER,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),i("footer",CR,[i("button",{class:"nxp-ec-btn",type:"button",onClick:f,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,SR),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,AR)]),c.id?(T(),v("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:w[5]||(w[5]=K=>k(c)),disabled:e.state.saving},[w[13]||(w[13]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,bR)):ae("",!0)],32)])])])):ae("",!0)]))]))}},yR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},RR={class:"nxp-ec-admin-panel__header"},OR={class:"nxp-ec-admin-panel__title"},xR={class:"nxp-ec-admin-panel__lead"},vR={class:"nxp-ec-admin-panel__actions"},NR=["disabled","title","aria-label"],PR={class:"nxp-ec-sr-only"},MR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},IR={key:1,class:"nxp-ec-admin-panel__loading"},kR={key:2,class:"nxp-ec-admin-panel__body"},$R={class:"nxp-ec-admin-panel__table"},wR={class:"nxp-ec-admin-table"},LR={scope:"col"},DR={scope:"col"},UR={scope:"col"},YR={scope:"col"},XR={scope:"col"},FR={scope:"col"},GR={key:0},VR={colspan:"7"},HR={scope:"row",class:"nxp-ec-admin-table__primary"},BR=["data-label"],KR=["data-label"],jR=["data-label"],JR=["data-label"],WR=["data-label"],qR={class:"nxp-ec-admin-table__actions"},zR=["onClick","title","aria-label"],QR={class:"nxp-ec-sr-only"},ZR=["onClick","title","aria-label"],eO={class:"nxp-ec-sr-only"},tO={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},nO={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},sO={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},iO={class:"nxp-ec-admin-panel__sidebar-header"},aO=["title","aria-label"],oO={class:"nxp-ec-sr-only"},rO={class:"nxp-ec-form-field"},lO={class:"nxp-ec-form-label",for:"shipping-name"},cO=["placeholder"],dO={class:"nxp-ec-form-field"},uO={class:"nxp-ec-form-label",for:"shipping-type"},pO={value:"flat"},_O={value:"free_over"},fO={class:"nxp-ec-form-help"},mO={class:"nxp-ec-form-field"},hO={class:"nxp-ec-form-label",for:"shipping-price"},gO={class:"nxp-ec-input-group"},EO={class:"nxp-ec-input-group__prefix"},CO={key:0,class:"nxp-ec-form-field"},SO={class:"nxp-ec-form-label",for:"shipping-threshold"},AO={class:"nxp-ec-input-group"},bO={class:"nxp-ec-input-group__prefix"},TO={class:"nxp-ec-form-help"},yO={class:"nxp-ec-form-field"},RO={class:"nxp-ec-form-label",for:"shipping-regions"},OO=["placeholder"],xO={class:"nxp-ec-form-help"},vO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},NO={class:"nxp-ec-form-label",for:"shipping-active"},PO={class:"nxp-ec-form-help"},MO={class:"nxp-ec-modal__actions"},IO=["disabled"],kO=["disabled"],$O=["disabled"],wO={__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=me(()=>{const L=s.baseCurrency;return typeof L=="string"&&L.trim()!==""?L.trim().toUpperCase():"USD"}),c=Xe(!1),u=Ie({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),p=()=>a("refresh"),m=()=>{g(),c.value=!0},f=L=>{var $,D,G;Object.assign(u,{id:L.id,name:L.name,type:L.type,price:(D=L.price)!=null?D:(($=L.price_cents)!=null?$:0)/100,threshold:L.threshold!==null&&L.threshold!==void 0?L.threshold:((G=L.threshold_cents)!=null?G:0)/100,regions:L.regions&&L.regions.length?L.regions.join(", "):"",active:L.active}),c.value=!0},l=()=>{c.value=!1,g()},g=()=>{Object.assign(u,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},k=()=>{const L={id:u.id||void 0,name:u.name,type:u.type,price:u.price,threshold:u.type==="free_over"?u.threshold:0,regions:u.regions,active:u.active};a("save",L)},V=L=>{const $=n("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm($)&&(a("delete",[L.id]),u.id===L.id&&l())};Ue(()=>s.state.saving,(L,$)=>{$&&!L&&!s.state.error&&l()});const w=(L,$)=>{const D=(Number(L)||0)/100,G=($||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:G}).format(D)}catch(Y){return`${G} ${D.toFixed(2)}`}},K=L=>L==="free_over"?n("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):n("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(L,$)=>(T(),v("section",yR,[i("header",RR,[i("div",null,[i("h2",OR,d(r(n)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),i("p",xR,d(r(n)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),i("div",vR,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[$[7]||($[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",PR,d(r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,NR),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:m},[$[8]||($[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(T(),v("div",MR,d(e.state.error),1)):ae("",!0),e.state.loading?(T(),v("div",IR,d(r(n)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):ae("",!0),e.state.loading?ae("",!0):(T(),v("div",kR,[i("div",$R,[i("table",wR,[i("thead",null,[i("tr",null,[i("th",LR,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),i("th",DR,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),i("th",UR,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("th",YR,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("th",XR,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),i("th",FR,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),$[9]||($[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ae("",!0):(T(),v("tr",GR,[i("td",VR,d(r(n)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,D=>(T(),v("tr",{key:D.id,class:Me({"is-active":u.id===D.id})},[i("th",HR,d(D.name),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},d(K(D.type)),9,BR),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},d(w(D.price_cents,o.value)),9,KR),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},d(D.type==="free_over"?w(D.threshold_cents,o.value):""),9,jR),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},d(D.regions&&D.regions.length?D.regions.join(", "):r(n)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,JR),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[i("span",{class:Me(["nxp-ec-badge",{"is-active":D.active}])},[i("i",{class:Me(D.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ye(" "+d(D.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,WR),i("td",qR,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:G=>f(D),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[$[10]||($[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",QR,d(r(n)("JEDIT","Edit")),1)],8,zR),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:G=>V(D),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[$[11]||($[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",eO,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,ZR)])],2))),128))])])]),c.value?(T(),v("div",tO,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:l}),i("div",nO,[i("aside",sO,[i("header",iO,[i("h3",null,d(u.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:l,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[$[12]||($[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",oO,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,aO)]),i("form",{class:"nxp-ec-form",onSubmit:mt(k,["prevent"]),autocomplete:"off"},[i("div",rO,[i("label",lO,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),Q(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[0]||($[0]=D=>u.name=D),required:"",placeholder:r(n)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,cO),[[pe,u.name,void 0,{trim:!0}]])]),i("div",dO,[i("label",uO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),Q(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":$[1]||($[1]=D=>u.type=D)},[i("option",pO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),i("option",_O,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[ft,u.type]]),i("p",fO,d(u.type==="free_over"?r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),i("div",mO,[i("label",hO,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("div",gO,[i("span",EO,d(o.value),1),Q(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$[2]||($[2]=D=>u.price=D),required:""},null,512),[[pe,u.price,void 0,{number:!0}]])])]),u.type==="free_over"?(T(),v("div",CO,[i("label",SO,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("div",AO,[i("span",bO,d(o.value),1),Q(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$[3]||($[3]=D=>u.threshold=D),required:""},null,512),[[pe,u.threshold,void 0,{number:!0}]])]),i("p",TO,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):ae("",!0),i("div",yO,[i("label",RO,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),Q(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[4]||($[4]=D=>u.regions=D),placeholder:r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,OO),[[pe,u.regions,void 0,{trim:!0}]]),i("p",xO,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),i("div",vO,[i("label",NO,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),Q(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":$[5]||($[5]=D=>u.active=D)},null,512),[[ct,u.active]]),i("p",PO,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),i("footer",MO,[i("button",{class:"nxp-ec-btn",type:"button",onClick:l,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,IO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,kO)]),u.id?(T(),v("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:$[6]||($[6]=D=>V(u)),disabled:e.state.saving},[$[13]||($[13]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,$O)):ae("",!0)],32)])])])):ae("",!0)]))]))}},LO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},DO={class:"nxp-ec-admin-panel__header"},UO={class:"nxp-ec-admin-panel__title"},YO={class:"nxp-ec-admin-panel__lead"},XO={class:"nxp-ec-admin-panel__actions"},FO=["placeholder","aria-label"],GO=["value"],VO={value:""},HO=["value"],BO=["disabled","title","aria-label"],KO={class:"nxp-ec-sr-only"},jO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},JO={key:1,class:"nxp-ec-admin-panel__body"},WO={key:2,class:"nxp-ec-admin-panel__body"},qO={class:"nxp-ec-admin-panel__table"},zO={class:"nxp-ec-admin-table"},QO={scope:"col"},ZO={scope:"col"},ex={scope:"col"},tx={scope:"col"},nx={scope:"col"},sx={key:0},ix={colspan:"5"},ax=["data-label"],ox=["data-label"],rx={class:"nxp-ec-log-entity"},lx={class:"nxp-ec-log-entity-id"},cx=["data-label"],dx=["data-label"],ux=["data-label"],px={class:"nxp-ec-log-context"},_x={key:0,class:"nxp-ec-admin-pagination"},fx=["disabled"],mx={class:"nxp-ec-admin-pagination__status"},hx=["disabled"],gx=["title"],Ex=Rt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=s.state,c=me(()=>{const K=new Set;return Array.isArray(o.items)&&o.items.forEach(L=>{L!=null&&L.entity_type&&K.add(L.entity_type)}),o.entity&&K.add(o.entity),Array.from(K).sort()}),u=()=>a("refresh"),p=()=>a("search"),m=K=>a("filter",K),f=K=>a("page",K),l=K=>{if(!K)return"";try{const L=new Date(K.replace(" ","T"));if(!Number.isNaN(L.getTime()))return L.toLocaleString()}catch(L){}return K},g=K=>{if(!K)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(K){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return K.charAt(0).toUpperCase()+K.slice(1)}},k=K=>{if(!(K!=null&&K.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const L=K.user.name||"",$=K.user.username||"";return L&&$?`${L} (${$})`:L||$||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},V=K=>{if(!K||Array.isArray(K)&&!K.length||typeof K=="object"&&!Object.keys(K).length)return"";try{return JSON.stringify(K,null,2)}catch(L){return String(K)}},w=K=>{if(!K)return"";try{const L=new Date(K),D=new Date-L,G=Math.floor(D/1e3),Y=Math.floor(G/60),R=Math.floor(Y/60);return G<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Y<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Y]):R<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[R]):L.toLocaleString()}catch(L){return K}};return(K,L)=>(T(),v("section",LO,[i("header",DO,[i("div",null,[i("h2",UO,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",YO,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",XO,[Q(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":L[0]||(L[0]=$=>r(o).search=$),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:zt(p,["enter"])},null,40,FO),[[pe,r(o).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(o).entity,onChange:L[1]||(L[1]=$=>m($.target.value)),"aria-label":"Entity filter"},[i("option",VO,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(T(!0),v(Ce,null,Oe(c.value,$=>(T(),v("option",{key:$,value:$},d(g($)),9,HO))),128))],40,GO),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(o).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[L[4]||(L[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",KO,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,BO)])]),r(o).error?(T(),v("div",jO,d(r(o).error),1)):ae("",!0),r(o).loading?(T(),v("div",JO,[He(Dn,{type:"table",rows:5,columns:5})])):ae("",!0),r(o).loading?ae("",!0):(T(),v("div",WO,[i("div",qO,[i("table",zO,[i("thead",null,[i("tr",null,[i("th",QO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",ZO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",ex,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",tx,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",nx,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(o).items.length?ae("",!0):(T(),v("tr",sx,[i("td",ix,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(T(!0),v(Ce,null,Oe(r(o).items,$=>(T(),v("tr",{key:$.id},[i("td",{class:"nxp-ec-admin-table__primary","data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},d(l($.created)),9,ax),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[i("span",rx,d(g($.entity_type)),1),i("span",lx,"#"+d($.entity_id),1)],8,ox),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},d($.action),9,cx),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},d(k($)),9,dx),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[i("pre",px,d(V($.context)),1)],8,ux)]))),128))])]),r(o).pagination.pages>1?(T(),v("div",_x,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current<=1,onClick:L[2]||(L[2]=$=>f(r(o).pagination.current-1))},"  ",8,fx),i("span",mx,d(r(o).pagination.current)+" / "+d(r(o).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current>=r(o).pagination.pages,onClick:L[3]||(L[3]=$=>f(r(o).pagination.current+1))},"  ",8,hx)])):ae("",!0)]),r(o).lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(o).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(w(r(o).lastUpdated)),9,gx)):ae("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),Cx={key:0,class:"nxp-ec-onboarding"},Sx={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},Ax={class:"nxp-ec-onboarding__header"},bx={class:"nxp-ec-onboarding__title"},Tx={class:"nxp-ec-onboarding__lead"},yx={class:"nxp-ec-onboarding__progress"},Rx={class:"nxp-ec-onboarding__progress-bar"},Ox={class:"nxp-ec-onboarding__progress-label"},xx={class:"nxp-ec-onboarding__steps"},vx={class:"nxp-ec-onboarding__step-main"},Nx={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},Px={key:0,class:"fa-solid fa-circle-check"},Mx={key:1,class:"fa-regular fa-circle"},Ix={class:"nxp-ec-onboarding__step-actions"},kx=["onClick"],$x=Rt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,a=me(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=me(()=>`${a.value}%`),o=me(()=>{const c=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(c),String(t.steps.length)],"onboardingProgress")});return(c,u)=>e.visible?(T(),v("div",Cx,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>c.$emit("close"))}),i("section",Sx,[i("header",Ax,[i("div",null,[i("h2",bx,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",Tx,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>c.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",yx,[i("div",Rx,[i("span",{style:Gt({width:n.value})},null,4)]),i("span",Ox,d(o.value),1)]),i("ol",xx,[(T(!0),v(Ce,null,Oe(e.steps,p=>(T(),v("li",{key:p.id,class:Me({"is-complete":p.completed})},[i("div",vx,[i("span",Nx,[p.completed?(T(),v("span",Px)):(T(),v("span",Mx))]),i("div",null,[i("h3",null,d(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,d(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",Ix,[p.link?(T(),v("button",{key:0,type:"button",class:Me(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:m=>c.$emit("navigate",p)},d(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,kx)):ae("",!0)])],2))),128))])])])):ae("",!0)}},[["__scopeId","data-v-c2a94811"]]),wx=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(o){}let a=String(e);return t.forEach(o=>{const c=o!=null?o:"";a=a.replace("%s",String(c))}),a},Lx=(e,t="",s=[])=>{var o;const a=(o=window==null?void 0:window.Joomla)==null?void 0:o.Text;let n=t||e;if(a&&typeof a._=="function"){const c=a._(e);c&&c!==e&&(n=c)}return wx(n,s)};function Dx(e={}){const t=e||{},s=(n,o)=>{if(!n)return o;const c=t[n];return c!=null&&c!==""?c:o};return{__:(n,o="",c=[],u="")=>{const p=s(u,o);return Lx(n,p,c)}}}class Ux{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const a={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};a.headers={...a.headers,...s.headers||{}};const n=String(a.method||"GET").toUpperCase();let o=t;this.token&&(a.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(o=this.ensureTokenOnUrl(o)));const c=await fetch(o,a);let u=null;const p=await c.text();if(p)try{u=JSON.parse(p)}catch(m){}if(!c.ok){const m=new Error((u==null?void 0:u.message)||`Request failed with status ${c.status}`);throw m.code=c.status,m.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,m}if((u==null?void 0:u.success)===!1){const m=new Error(u.message||"Unknown API error");throw m.details=u.data||u.errors||null,m}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const a=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,a);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(a){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var g,k,V,w;const c=new URLSearchParams({limit:String(s),start:String(a)});n&&c.set("search",n);const u=`${t}&${c.toString()}`,m=(g=(await this.get(u,{signal:o})).data)!=null?g:{},f=(V=(k=m.items)!=null?k:m.data)!=null?V:[],l=(w=m.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCategories({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:a=0,search:n="",state:o="",signal:c}){var g,k,V,w;const u=this.mergeParams(t,{limit:s,start:a,search:n||void 0,state:o||void 0}),m=(g=(await this.get(u,{signal:c})).data)!=null?g:{},f=(V=(k=m.items)!=null?k:m.data)!=null?V:[],l=(w=m.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCustomers({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var l,g,k;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(l=(await this.get(c,{signal:o})).data)!=null?l:{},m=(g=p.items)!=null?g:[],f=(k=p.pagination)!=null?k:{total:0,limit:s,pages:0,current:0};return{items:m,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var o,c;const a=this.mergeParams(t,{email:s});return(c=(o=(await this.get(a)).data)==null?void 0:o.customer)!=null?c:null}async fetchCoupons({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?o:null}async updateCoupon({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchTaxRates({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?o:null}async updateTaxRate({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchShippingRules({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?o:null}async updateShippingRule({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchLogs({endpoint:t,limit:s=20,start:a=0,search:n="",entity:o="",signal:c}){var f,l,g;const u=this.mergeParams(t,{limit:s,start:a,search:n||void 0,entity:o||void 0}),m=(f=(await this.get(u,{signal:c})).data)!=null?f:{};return{items:(l=m.items)!=null?l:[],pagination:(g=m.pagination)!=null?g:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var a;return t?(a=(await this.get(t)).data)!=null?a:{}:{}}async fetchSettings({endpoint:t}){var a,n;return t?(n=(a=(await this.get(t)).data)==null?void 0:a.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,o;return(o=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?o:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:a=""}){var c,u;const n=this.mergeParams(t,{id:s||void 0,order_no:a||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.post(n,{state:a})).data)==null?void 0:c.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:a}){var c;const n={ids:s,state:a};return(c=(await this.post(t,n)).data)!=null?c:{}}async addOrderNote({endpoint:t,id:s,message:a}){var o,c;return(c=(o=(await this.post(t,{id:s,message:a})).data)==null?void 0:o.order)!=null?c:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:a}){var c,u;const n={id:s||void 0,order_no:a||void 0};return(u=(c=(await this.post(t,n)).data)==null?void 0:c.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:a=""}){var c,u;const n=this.mergeParams(t,{search:s||void 0,state:a||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:a}){var o,c;return(c=(o=(await this.post(t,{id:s,...a})).data)==null?void 0:o.order)!=null?c:null}async sendOrderEmail({endpoint:t,id:s,type:a}){var o,c;return(c=(o=(await this.post(t,{id:s,type:a})).data)==null?void 0:o.order)!=null?c:null}async recordTransaction({endpoint:t,id:s,amountCents:a,reference:n,note:o}){var u,p;return(p=(u=(await this.post(t,{id:s,amount_cents:a,reference:n||void 0,note:o||void 0})).data)==null?void 0:u.order)!=null?p:null}async createProduct({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateProduct({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:[]}async createCategory({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateCategory({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async gdprExport({endpoint:t,email:s}){var o,c;const a=this.mergeParams(t,{email:s});return(c=(o=(await this.get(a)).data)==null?void 0:o.export)!=null?c:null}async gdprAnonymise({endpoint:t,email:s}){var n,o,c,u;const a=await this.post(t,{email:s});return{affected:(o=(n=a.data)==null?void 0:n.affected)!=null?o:0,message:(u=(c=a.data)==null?void 0:c.message)!=null?u:""}}mergeParams(t,s={}){const a=new URLSearchParams;return Object.entries(s).forEach(([n,o])=>{o==null||o===""||a.set(n,String(o))}),a.toString()?`${t}${t.includes("?")?"&":"?"}${a.toString()}`:t}}const ht=e=>new Ux(e),io=typeof window!="undefined"&&window.performance;function ao(e){if(io)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function Yx(e,t,s){if(!io)return null;try{performance.measure(e,t,s);const a=performance.getEntriesByName(e,"measure")[0];if(a)return console.log(`[NXP EC Performance] ${e}: ${a.duration.toFixed(2)}ms`),a.duration}catch(a){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,a)}return null}const Cs=Ie({}),Xx=3e5;function Fx(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Ot(e,t=Xx){const s=Cs[e];return s?Fx(s,t)?s.data:(delete Cs[e],null):null}function gt(e,t){Cs[e]={data:t,timestamp:Date.now()}}function De(e){delete Cs[e]}function xt(e){const t=Xe({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const c=`${e}-fetch-start`;return ao(c),c},endFetch:c=>{const u=`${e}-fetch-end`;ao(u);const p=Yx(`${e}-fetch`,c,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const ci=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.products.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function Gx({endpoints:e,token:t,autoload:s=!0,cacheTTL:a=3e5}){var R,te,de,ge;const n=ht({token:t}),o=xt("products"),c=(R=e==null?void 0:e.list)!=null?R:"",u=(te=e==null?void 0:e.create)!=null?te:ci(c,"store"),p=(de=e==null?void 0:e.update)!=null?de:ci(c,"update"),m=(ge=e==null?void 0:e.delete)!=null?ge:ci(c,"delete"),f=typeof AbortController!="undefined",l=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),g=Xe(null),k=()=>{const J=l.pagination.current||1,j=l.pagination.limit||20,N=l.search.trim();return`products:page=${J}:limit=${j}:search=${N}`},V=async(J=!1)=>{var ce;if(!c){l.error="Products endpoint unavailable.",l.items=[];return}const j=k(),N=J?null:Ot(j,a);if(N){o.recordCacheHit(),l.items=N.items,l.pagination={...l.pagination,...N.pagination},l.lastUpdated=N.lastUpdated;return}o.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],g.value&&f&&g.value.abort();const h=f?new AbortController:null;g.value=h;const x=o.startFetch();try{const{items:Z,pagination:q}=await n.fetchProducts({endpoint:c,signal:h?h.signal:void 0,limit:l.pagination.limit,start:Math.max(0,(l.pagination.current-1)*l.pagination.limit),search:l.search.trim()});l.items=Z,l.pagination={...l.pagination,...q,current:q.current&&q.current>0?q.current:1},l.lastUpdated=new Date().toISOString(),gt(j,{items:Z,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Z){if((Z==null?void 0:Z.name)==="AbortError")return;l.error=(ce=Z==null?void 0:Z.message)!=null?ce:"Unknown error"}finally{o.endFetch(x),f&&g.value===h&&(g.value=null),l.loading=!1}},w=()=>{l.pagination.current=1,De(k()),V(!0)},K=()=>{l.pagination.current=1,V()},L=J=>J?typeof J=="string"?J:typeof J=="object"&&J.message?String(J.message):String(J):"",$=(J,{setValidation:j=!1}={})=>{var N;if((J==null?void 0:J.code)===422&&j){const h=Array.isArray(J.details)?J.details:[J.details].filter(Boolean);l.validationErrors=h.map(L).filter(x=>x!=="");return}l.error=(N=J==null?void 0:J.message)!=null?N:"Unknown error"},D=async J=>{if(!u)throw new Error("Create endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const j=await n.createProduct({endpoint:u,data:J});return j&&(l.items=[j,...l.items],l.pagination.total+=1,De(k())),j}catch(j){throw $(j,{setValidation:!0}),j}finally{l.saving=!1}},G=async(J,j)=>{if(!p)throw new Error("Update endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const N=await n.updateProduct({endpoint:p,id:J,data:j});if(N){const h=l.items.findIndex(x=>x.id===N.id);h!==-1&&l.items.splice(h,1,N),De(k())}return N}catch(N){throw $(N,{setValidation:!0}),N}finally{l.saving=!1}},Y=async J=>{if(!m)throw new Error("Delete endpoint unavailable.");l.deleting=!0,l.validationErrors=[];try{const j=await n.deleteProducts({endpoint:m,ids:J});return j.length&&(l.items=l.items.filter(N=>!j.includes(N.id)),l.pagination.total=Math.max(0,l.pagination.total-j.length),De(k())),j}catch(j){throw $(j),j}finally{l.deleting=!1}};return ot(()=>{s&&V()}),{state:l,loadProducts:V,refresh:w,search:K,createProduct:D,updateProduct:G,deleteProducts:Y,metrics:o.metrics}}function Vx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var te,de,ge,J,j,N,h,x,ce,Z,q,ne,z,oe;const o=ht({token:t}),c=xt("categories"),u=(te=e==null?void 0:e.list)!=null?te:"",p=(de=e==null?void 0:e.create)!=null?de:u,m=(ge=e==null?void 0:e.update)!=null?ge:u,f=(J=e==null?void 0:e.delete)!=null?J:u,l=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(x=(h=(j=s.pagination)==null?void 0:j.total)!=null?h:(N=s.items)==null?void 0:N.length)!=null?x:0,limit:(Z=(ce=s.pagination)==null?void 0:ce.limit)!=null?Z:20,pages:(ne=(q=s.pagination)==null?void 0:q.pages)!=null?ne:0,current:(oe=(z=s.pagination)==null?void 0:z.current)!=null?oe:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const F=l.pagination.current||1,W=l.pagination.limit||20,ee=l.search.trim();return`categories:page=${F}:limit=${W}:search=${ee}`},w=async(F=!1)=>{var le;if(!u){l.error="Categories endpoint unavailable.",l.items=[];return}const W=V(),ee=F?null:Ot(W,n);if(ee){c.recordCacheHit(),l.items=ee.items,l.pagination={...l.pagination,...ee.pagination},l.lastUpdated=ee.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],k.value&&g&&k.value.abort();const re=g?new AbortController:null;k.value=re;const _e=c.startFetch();try{const he=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Re,pagination:Te}=await o.fetchCategories({endpoint:u,limit:l.pagination.limit,start:he,search:l.search.trim(),signal:re?re.signal:void 0});l.items=Re,l.pagination={...l.pagination,...Te,current:Te.current&&Te.current>0?Te.current:1},l.lastUpdated=new Date().toISOString(),gt(W,{items:Re,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(he){if((he==null?void 0:he.name)==="AbortError")return;l.error=(le=he==null?void 0:he.message)!=null?le:"Unknown error"}finally{c.endFetch(_e),g&&k.value===re&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,De(V()),w(!0)},L=()=>{l.pagination.current=1,w()},$=F=>{const W=Number(F);Number.isNaN(W)||W<1||W===l.pagination.current||(l.pagination.current=W,w(!0))},D=(F,{validation:W=!1}={})=>{var ee;if(W&&(F==null?void 0:F.code)===422){const re=F.details,_e=Array.isArray(re)?re:[re].filter(Boolean);l.validationErrors=_e.map(le=>le?typeof le=="string"?le:typeof le=="object"&&le.message?String(le.message):String(le):"").filter(Boolean);return}l.error=(ee=F==null?void 0:F.message)!=null?ee:"Unknown error"},G=async F=>{if(!p||!m)throw new Error("Category endpoints unavailable.");l.saving=!0,l.error="",l.validationErrors=[];try{let W=null;return F.id?W=await o.updateCategory({endpoint:m,id:F.id,data:F}):W=await o.createCategory({endpoint:p,data:F}),W&&(De(V()),await w()),W}catch(W){throw D(W,{validation:!0}),W}finally{l.saving=!1}},Y=async F=>{if(!Array.isArray(F)||!F.length||!f)return 0;l.deleting=!0,l.error="";try{const W=await o.deleteCategories({endpoint:f,ids:F});return W&&(De(V()),await w()),W}catch(W){throw D(W),W}finally{l.deleting=!1}},R=async()=>{if(!u)return[];try{const{items:F}=await o.fetchCategories({endpoint:u,limit:200,start:0,search:""});return F}catch(F){return[]}};return ot(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadCategories:w,refresh:K,search:L,goToPage:$,saveCategory:G,deleteCategories:Y,loadOptions:R,metrics:c.metrics}}const Ut=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.orders.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function Hx({endpoints:e,token:t,states:s=[],preload:a={},autoload:n=!0,cacheTTL:o=3e5}){var Re,Te,Pe,Be,C,I,B,b,A,X,E,_,S,P;const c=ht({token:t}),u=xt("orders"),p=(Re=e==null?void 0:e.list)!=null?Re:"",m=(Te=e==null?void 0:e.show)!=null?Te:Ut(p,"show"),f=(Pe=e==null?void 0:e.transition)!=null?Pe:Ut(p,"transition"),l=(Be=e==null?void 0:e.bulkTransition)!=null?Be:Ut(p,"bulkTransition"),g=(C=e==null?void 0:e.note)!=null?C:Ut(p,"note"),k=(I=e==null?void 0:e.tracking)!=null?I:Ut(p,"tracking"),V=(B=e==null?void 0:e.invoice)!=null?B:Ut(p,"invoice"),w=(b=e==null?void 0:e.export)!=null?b:Ut(p,"export"),K=(A=e==null?void 0:e.sendEmail)!=null?A:Ut(p,"sendEmail"),L=(X=e==null?void 0:e.recordTransaction)!=null?X:Ut(p,"recordTransaction"),$=typeof AbortController!="undefined",D=Xe(null),G=Array.isArray(a==null?void 0:a.items)?a.items:[],Y=a!=null&&a.pagination&&typeof a.pagination=="object"?a.pagination:{},R=Ie({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...G],pagination:{total:(E=Y.total)!=null?E:G.length,limit:(_=Y.limit)!=null?_:20,pages:(S=Y.pages)!=null?S:0,current:(P=Y.current)!=null?P:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),te=()=>{const y=R.pagination.current||1,O=R.pagination.limit||20,H=R.search.trim(),M=R.filterState||"";return`orders:page=${y}:limit=${O}:search=${H}:state=${M}`},de=async(y=!1)=>{var ue;if(!p){R.error="Orders endpoint unavailable.",R.items=[];return}const O=te(),H=y?null:Ot(O,o);if(H){u.recordCacheHit(),R.items=H.items,R.pagination={...R.pagination,...H.pagination},R.lastUpdated=H.lastUpdated;return}u.recordCacheMiss(),R.loading=!0,R.error="",D.value&&$&&D.value.abort();const M=$?new AbortController:null;D.value=M;const ie=u.startFetch();try{const fe=Math.max(0,(R.pagination.current-1)*R.pagination.limit),{items:Ae,pagination:xe}=await c.fetchOrders({endpoint:p,limit:R.pagination.limit,start:fe,search:R.search.trim(),state:R.filterState,signal:M?M.signal:void 0});R.items=Ae,R.pagination={...R.pagination,...xe,current:xe.current&&xe.current>0?xe.current:1},R.selection.clear(),R.lastUpdated=new Date().toISOString(),gt(O,{items:Ae,pagination:R.pagination,lastUpdated:R.lastUpdated})}catch(fe){if((fe==null?void 0:fe.name)==="AbortError")return;R.error=(ue=fe==null?void 0:fe.message)!=null?ue:"Unknown error"}finally{u.endFetch(ie),$&&D.value===M&&(D.value=null),R.loading=!1}},ge=()=>{R.pagination.current=1,De(te()),de(!0)},J=()=>{R.pagination.current=1,de()},j=y=>{R.filterState=y||"",R.pagination.current=1,de()},N=y=>{const O=Number(y);Number.isNaN(O)||O<1||O===R.pagination.current||(R.pagination.current=O,de(!0))},h=()=>{R.selection.clear()},x=y=>{y&&(R.selection.has(y)?R.selection.delete(y):R.selection.add(y))},ce=()=>{R.pagination.current>=R.pagination.pages||(R.pagination.current+=1,de(!0))},Z=()=>{R.pagination.current<=1||(R.pagination.current-=1,de(!0))},q=async(y,O="")=>{var H;if(!m)return null;try{return await c.fetchOrder({endpoint:m,id:y,orderNumber:O})}catch(M){return R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",null}},ne=async y=>{var O,H,M;if(!y){R.activeOrder=null;return}R.transitionError="";try{const ie=await q(y.id,y.order_no);R.activeOrder=ie||{...y,items:Array.isArray(y.items)?y.items:[],transactions:Array.isArray(y.transactions)?y.transactions:[],timeline:Array.isArray(y.timeline)?y.timeline:[],billing:(O=y.billing)!=null?O:{}}}catch(ie){R.transitionError=(H=ie==null?void 0:ie.message)!=null?H:"Unknown error",R.activeOrder={...y,items:Array.isArray(y.items)?y.items:[],transactions:Array.isArray(y.transactions)?y.transactions:[],timeline:Array.isArray(y.timeline)?y.timeline:[],billing:(M=y.billing)!=null?M:{}}}},z=()=>{R.transitionError="",R.activeOrder=null},oe=y=>{if(!(y!=null&&y.id))return;const O=R.items.findIndex(H=>H.id===y.id);O!==-1&&R.items.splice(O,1,y)},F=async(y,O)=>{var H;if(!f)throw new Error("Transition endpoint unavailable.");R.saving=!0,R.transitionError="";try{const M=await c.transitionOrder({endpoint:f,id:y,state:O});return M&&(oe(M),R.activeOrder&&R.activeOrder.id===M.id&&(R.activeOrder=M),De(te())),M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.saving=!1}},W=async(y,O)=>{var H;if(!k)throw new Error("Tracking endpoint unavailable.");R.saving=!0,R.transitionError="";try{const M=await c.updateOrderTracking({endpoint:k,id:y,tracking:O});return M&&(oe(M),R.activeOrder&&R.activeOrder.id===M.id&&(R.activeOrder=M),De(te())),M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.saving=!1}},ee=async(y,O="")=>{var H;if(!V)throw new Error("Invoice endpoint unavailable.");R.invoiceLoading=!0,R.transitionError="";try{const M=await c.fetchOrderInvoice({endpoint:V,id:y,orderNumber:O});if(!M)throw new Error("Invoice not available.");return M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.invoiceLoading=!1}},re=async()=>{var y;if(!w)throw new Error("Export endpoint unavailable.");R.exporting=!0,R.error="";try{const O=await c.exportOrders({endpoint:w,search:R.search.trim(),state:R.filterState});if(!O)throw new Error("Export not available.");return O}catch(O){throw R.error=(y=O==null?void 0:O.message)!=null?y:"Export failed",O}finally{R.exporting=!1}},_e=async(y,O)=>{var H;if(!K)throw new Error("Send email endpoint unavailable.");R.saving=!0,R.transitionError="";try{const M=await c.sendOrderEmail({endpoint:K,id:y,type:O});return M&&(oe(M),R.activeOrder&&R.activeOrder.id===M.id&&(R.activeOrder=M),De(te())),M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Failed to send email",M}finally{R.saving=!1}},le=async(y,{amountCents:O,reference:H,note:M})=>{var ie;if(!L)throw new Error("Record transaction endpoint unavailable.");R.saving=!0,R.transitionError="";try{const ue=await c.recordTransaction({endpoint:L,id:y,amountCents:O,reference:H,note:M});return ue&&(oe(ue),R.activeOrder&&R.activeOrder.id===ue.id&&(R.activeOrder=ue),De(te())),ue}catch(ue){throw R.transitionError=(ie=ue==null?void 0:ue.message)!=null?ie:"Failed to record payment",ue}finally{R.saving=!1}},he=async(y,O)=>{var H;if(!l)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(y)||!y.length)return{updated:[]};R.saving=!0;try{const M=await c.bulkTransitionOrders({endpoint:l,ids:y,state:O}),ie=Array.isArray(M.updated)?M.updated:[];return ie.forEach(ue=>{oe(ue),R.activeOrder&&R.activeOrder.id===ue.id&&(R.activeOrder=ue)}),h(),{updated:ie}}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.saving=!1}};return ot(()=>{n&&de()}),{state:R,loadOrders:de,refresh:ge,search:J,setFilterState:j,goToPage:N,nextPage:ce,previousPage:Z,viewOrder:ne,closeOrder:z,transitionOrder:F,bulkTransition:he,updateTracking:W,downloadInvoice:ee,exportOrders:re,sendEmail:_e,recordTransaction:le,toggleSelection:x,clearSelection:h,metrics:u.metrics,addNote:async(y,O)=>{var H;if(!g)throw new Error("Note endpoint unavailable.");if(!y||!O||!O.trim())return null;R.transitionError="",R.saving=!0;try{const M=await c.addOrderNote({endpoint:g,id:y,message:O});return M&&(oe(M),R.activeOrder&&R.activeOrder.id===M.id&&(R.activeOrder=M)),M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.saving=!1}}}}function Bx({endpoint:e="",token:t="",preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var f,l,g;const o=ht({token:t}),c=xt("dashboard"),u=Ie({loading:!1,error:"",summary:(g=s.summary)!=null?g:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(l=(f=s.summary)==null?void 0:f.currency)!=null?l:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",m=async(k=!1)=>{var L,$;if(!e)return;const V=p(),w=k?null:Ot(V,n);if(w){c.recordCacheHit(),u.summary=w.summary,u.checklist=w.checklist,u.lastUpdated=w.lastUpdated;return}c.recordCacheMiss(),u.loading=!0,u.error="";const K=c.startFetch();try{const D=await o.fetchDashboard({endpoint:e});u.summary=(L=D.summary)!=null?L:u.summary,u.checklist=Array.isArray(D.checklist)?D.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),gt(V,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(D){u.error=($=D==null?void 0:D.message)!=null?$:"Unknown error"}finally{c.endFetch(K),u.loading=!1}};return ot(()=>{a&&(!Array.isArray(u.checklist)||!u.checklist.length)&&m()}),{state:u,refresh:m,metrics:c.metrics}}function Kx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var te,de,ge,J,j,N,h,x,ce,Z,q,ne,z,oe,F,W,ee;const o=ht({token:t}),c=xt("customers"),u=(te=e==null?void 0:e.list)!=null?te:"",p=(de=e==null?void 0:e.show)!=null?de:"",m=(J=(ge=e==null?void 0:e.gdpr)==null?void 0:ge.export)!=null?J:"",f=(N=(j=e==null?void 0:e.gdpr)==null?void 0:j.anonymise)!=null?N:"",l=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Z=(ce=(h=s.pagination)==null?void 0:h.total)!=null?ce:(x=s.items)==null?void 0:x.length)!=null?Z:0,limit:(ne=(q=s.pagination)==null?void 0:q.limit)!=null?ne:20,pages:(oe=(z=s.pagination)==null?void 0:z.pages)!=null?oe:0,current:(W=(F=s.pagination)==null?void 0:F.current)!=null?W:1},search:"",activeCustomer:(ee=s.active)!=null?ee:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const re=l.pagination.current||1,_e=l.pagination.limit||20,le=l.search.trim();return`customers:page=${re}:limit=${_e}:search=${le}`},w=async(re=!1)=>{var Te;if(!u){l.error="Customers endpoint unavailable.",l.items=[];return}const _e=V(),le=re?null:Ot(_e,n);if(le){c.recordCacheHit(),l.items=le.items,l.pagination={...l.pagination,...le.pagination},l.lastUpdated=le.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const he=g?new AbortController:null;k.value=he;const Re=c.startFetch();try{const Pe=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Be,pagination:C}=await o.fetchCustomers({endpoint:u,limit:l.pagination.limit,start:Pe,search:l.search.trim(),signal:he?he.signal:void 0});l.items=Be,l.pagination={...l.pagination,...C,current:C.current&&C.current>0?C.current:1},l.lastUpdated=new Date().toISOString(),gt(_e,{items:Be,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Pe){if((Pe==null?void 0:Pe.name)==="AbortError")return;l.error=(Te=Pe==null?void 0:Pe.message)!=null?Te:"Unknown error"}finally{c.endFetch(Re),g&&k.value===he&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,De(V()),w(!0)},L=()=>{l.pagination.current=1,w()},$=re=>{const _e=Number(re);Number.isNaN(_e)||_e<1||_e===l.pagination.current||(l.pagination.current=_e,w(!0))},D=async re=>{var _e;if(!p||!(re!=null&&re.email)){l.activeCustomer=re||null;return}try{const le=await o.fetchCustomer({endpoint:p,email:re.email});l.activeCustomer=le||re}catch(le){l.error=(_e=le==null?void 0:le.message)!=null?_e:"Unknown error"}},G=()=>{l.activeCustomer=null,l.gdprMessage="",l.gdprSuccess=!1},Y=async re=>{var _e;if(!m||!re){l.gdprMessage="GDPR export endpoint unavailable.",l.gdprSuccess=!1;return}l.gdprLoading=!0,l.gdprMessage="";try{const le=await o.gdprExport({endpoint:m,email:re});if(!le)throw new Error("No data returned");const he=new Blob([JSON.stringify(le,null,2)],{type:"application/json"}),Re=URL.createObjectURL(he),Te=document.createElement("a");Te.href=Re,Te.download=`gdpr-export-${re.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Re),l.gdprMessage="Data exported successfully.",l.gdprSuccess=!0}catch(le){l.gdprMessage=(_e=le==null?void 0:le.message)!=null?_e:"Export failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}},R=async re=>{var le;if(!f||!re){l.gdprMessage="GDPR anonymise endpoint unavailable.",l.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${re}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){l.gdprLoading=!0,l.gdprMessage="";try{const he=await o.gdprAnonymise({endpoint:f,email:re});l.gdprMessage=he.message||`Anonymised ${he.affected} order(s).`,l.gdprSuccess=!0,De(V()),w(!0),setTimeout(()=>{l.activeCustomer=null,l.gdprMessage=""},2e3)}catch(he){l.gdprMessage=(le=he==null?void 0:he.message)!=null?le:"Anonymisation failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}}};return ot(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadCustomers:w,refresh:K,search:L,goToPage:$,viewCustomer:D,closeCustomer:G,gdprExport:Y,gdprAnonymise:R,metrics:c.metrics}}function jx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var te,de,ge,J,j,N,h,x,ce,Z,q,ne,z,oe;const o=ht({token:t}),c=xt("coupons"),u=(te=e==null?void 0:e.list)!=null?te:"",p=(de=e==null?void 0:e.create)!=null?de:u,m=(ge=e==null?void 0:e.update)!=null?ge:u,f=(J=e==null?void 0:e.delete)!=null?J:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(x=(h=(j=s.pagination)==null?void 0:j.total)!=null?h:(N=s.items)==null?void 0:N.length)!=null?x:0,limit:(Z=(ce=s.pagination)==null?void 0:ce.limit)!=null?Z:20,pages:(ne=(q=s.pagination)==null?void 0:q.pages)!=null?ne:0,current:(oe=(z=s.pagination)==null?void 0:z.current)!=null?oe:1},search:"",activeCoupon:null,lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const F=l.pagination.current||1,W=l.pagination.limit||20,ee=l.search.trim();return`coupons:page=${F}:limit=${W}:search=${ee}`},w=async(F=!1)=>{var le;if(!u){l.error="Coupons endpoint unavailable.",l.items=[];return}const W=V(),ee=F?null:Ot(W,n);if(ee){c.recordCacheHit(),l.items=ee.items,l.pagination={...l.pagination,...ee.pagination},l.lastUpdated=ee.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const re=g?new AbortController:null;k.value=re;const _e=c.startFetch();try{const he=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Re,pagination:Te}=await o.fetchCoupons({endpoint:u,limit:l.pagination.limit,start:he,search:l.search.trim(),signal:re?re.signal:void 0});l.items=Re,l.pagination={...l.pagination,...Te,current:Te.current&&Te.current>0?Te.current:1},l.lastUpdated=new Date().toISOString(),gt(W,{items:Re,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(he){if((he==null?void 0:he.name)==="AbortError")return;l.error=(le=he==null?void 0:he.message)!=null?le:"Unknown error"}finally{c.endFetch(_e),g&&k.value===re&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,De(V()),w(!0)},L=()=>{l.pagination.current=1,w()},$=F=>{const W=Number(F);Number.isNaN(W)||W<1||W===l.pagination.current||(l.pagination.current=W,w(!0))},D=F=>{l.activeCoupon=F},G=F=>{const W=l.items.findIndex(ee=>ee.id===F.id);W===-1?l.items.unshift(F):l.items.splice(W,1,F)},Y=async F=>{var W;l.saving=!0,l.error="";try{let ee=null;return F.id?ee=await o.updateCoupon({endpoint:m,id:F.id,data:F}):ee=await o.createCoupon({endpoint:p,data:F}),ee&&(G(ee),l.activeCoupon&&l.activeCoupon.id===ee.id&&(l.activeCoupon=ee),De(V())),ee}catch(ee){throw l.error=(W=ee==null?void 0:ee.message)!=null?W:"Unknown error",ee}finally{l.saving=!1}},R=async F=>{var W;if(!Array.isArray(F)||!F.length)return 0;l.saving=!0,l.error="";try{const ee=await o.deleteCoupons({endpoint:f,ids:F});return ee&&(l.items=l.items.filter(re=>!F.includes(re.id)),l.activeCoupon&&F.includes(l.activeCoupon.id)&&(l.activeCoupon=null),De(V())),ee}catch(ee){throw l.error=(W=ee==null?void 0:ee.message)!=null?W:"Unknown error",ee}finally{l.saving=!1}};return ot(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadCoupons:w,refresh:K,search:L,goToPage:$,setActive:D,saveCoupon:Y,deleteCoupons:R,metrics:c.metrics}}const di=(e={})=>{var u,p,m,f,l,g,k,V,w,K,L,$,D,G,Y,R,te,de,ge;const t=(u=e.store)!=null?u:{},s=(p=e.payments)!=null?p:{},a=(m=e.visual)!=null?m:{},n=(f=e.visual_defaults)!=null?f:{},o=(g=(l=e.security)==null?void 0:l.rate_limits)!=null?g:{},c=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"";return{store:{name:(k=t.name)!=null?k:"",email:(V=t.email)!=null?V:"",phone:(w=t.phone)!=null?w:""},payments:{configured:!!s.configured},base_currency:c,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(K=a.primary_color)!=null?K:"",text_color:(L=a.text_color)!=null?L:"",surface_color:($=a.surface_color)!=null?$:"",border_color:(D=a.border_color)!=null?D:"",muted_color:(G=a.muted_color)!=null?G:""},visual_defaults:{primary_color:(Y=n.primary_color)!=null?Y:"#4f6d7a",text_color:(R=n.text_color)!=null?R:"#1f2933",surface_color:(te=n.surface_color)!=null?te:"#ffffff",border_color:(de=n.border_color)!=null?de:"#e4e7ec",muted_color:(ge=n.muted_color)!=null?ge:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(o.checkout_ip_limit))?Number(o.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(o.checkout_email_limit))?Number(o.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(o.checkout_session_limit))?Number(o.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(o.checkout_window_minutes))?Number(o.checkout_window_minutes):Number.isFinite(Number(o.checkout_window))?Math.max(0,Math.ceil(Number(o.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(o.offline_ip_limit))?Number(o.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(o.offline_email_limit))?Number(o.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(o.offline_window_minutes))?Number(o.offline_window_minutes):Number.isFinite(Number(o.offline_window))?Math.max(0,Math.ceil(Number(o.offline_window)/60)):30}}}};function Jx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var g,k;const o=ht({token:t}),c=xt("settings"),u=(g=e==null?void 0:e.show)!=null?g:"",p=(k=e==null?void 0:e.update)!=null?k:u,m=Ie({loading:!1,saving:!1,error:"",message:"",values:di(s),lastUpdated:null}),f=async(V=!1)=>{var $;if(!u){m.error="Settings endpoint unavailable.";return}const w="settings:data",K=V?null:Ot(w,n);if(K){c.recordCacheHit(),m.values=K.values,m.lastUpdated=K.lastUpdated;return}c.recordCacheMiss(),m.loading=!0,m.error="";const L=c.startFetch();try{const D=await o.fetchSettings({endpoint:u});m.values=di(D),m.lastUpdated=new Date().toISOString(),gt(w,{values:m.values,lastUpdated:m.lastUpdated})}catch(D){throw m.error=($=D==null?void 0:D.message)!=null?$:"Unknown error",D}finally{c.endFetch(L),m.loading=!1}},l=async V=>{var w;if(!p)return m.error="Settings endpoint unavailable.",null;m.saving=!0,m.error="",m.message="";try{const K=await o.updateSettings({endpoint:p,data:V});return m.values=di(K),m.lastUpdated=new Date().toISOString(),m.message="Settings saved.",De("settings:data"),gt("settings:data",{values:m.values,lastUpdated:m.lastUpdated}),m.values}catch(K){throw m.error=(w=K==null?void 0:K.message)!=null?w:"Unknown error",K}finally{m.saving=!1}};return ot(()=>{a&&(!s||!s.store)&&f()}),{state:m,refresh:f,save:l,metrics:c.metrics}}function Wx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var D,G,Y,R,te,de,ge,J,j,N,h,x,ce,Z;const o=ht({token:t}),c=xt("taxRates"),u=(D=e==null?void 0:e.list)!=null?D:"",p=(G=e==null?void 0:e.create)!=null?G:u,m=(Y=e==null?void 0:e.update)!=null?Y:u,f=(R=e==null?void 0:e.delete)!=null?R:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(J=(ge=(te=s.pagination)==null?void 0:te.total)!=null?ge:(de=s.items)==null?void 0:de.length)!=null?J:0,limit:(N=(j=s.pagination)==null?void 0:j.limit)!=null?N:20,pages:(x=(h=s.pagination)==null?void 0:h.pages)!=null?x:0,current:(Z=(ce=s.pagination)==null?void 0:ce.current)!=null?Z:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const q=l.pagination.current||1,ne=l.pagination.limit||20,z=l.search.trim();return`taxRates:page=${q}:limit=${ne}:search=${z}`},w=async(q=!1)=>{var W;if(!u){l.error="Tax endpoint unavailable.",l.items=[];return}const ne=V(),z=q?null:Ot(ne,n);if(z){c.recordCacheHit(),l.items=z.items,l.pagination={...l.pagination,...z.pagination},l.lastUpdated=z.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const oe=g?new AbortController:null;k.value=oe;const F=c.startFetch();try{const ee=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:re,pagination:_e}=await o.fetchTaxRates({endpoint:u,limit:l.pagination.limit,start:ee,search:l.search.trim(),signal:oe?oe.signal:void 0});l.items=re,l.pagination={...l.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},l.lastUpdated=new Date().toISOString(),gt(ne,{items:re,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(ee){if((ee==null?void 0:ee.name)==="AbortError")return;l.error=(W=ee==null?void 0:ee.message)!=null?W:"Unknown error"}finally{c.endFetch(F),g&&k.value===oe&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,De(V()),w(!0)},L=async q=>{var ne;l.saving=!0,l.error="";try{const z=q.id?await o.updateTaxRate({endpoint:m,id:q.id,data:q}):await o.createTaxRate({endpoint:p,data:q});if(z){const oe=l.items.findIndex(F=>F.id===z.id);oe===-1?l.items.unshift(z):l.items.splice(oe,1,z),De(V())}return z}catch(z){throw l.error=(ne=z==null?void 0:z.message)!=null?ne:"Unknown error",z}finally{l.saving=!1}},$=async q=>{var ne;if(!Array.isArray(q)||!q.length)return 0;l.saving=!0,l.error="";try{const z=await o.deleteTaxRates({endpoint:f,ids:q});return z&&(l.items=l.items.filter(oe=>!q.includes(oe.id)),De(V())),z}catch(z){throw l.error=(ne=z==null?void 0:z.message)!=null?ne:"Unknown error",z}finally{l.saving=!1}};return ot(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadRates:w,refresh:K,saveRate:L,deleteRates:$,metrics:c.metrics}}function qx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var D,G,Y,R,te,de,ge,J,j,N,h,x,ce,Z;const o=ht({token:t}),c=xt("shippingRules"),u=(D=e==null?void 0:e.list)!=null?D:"",p=(G=e==null?void 0:e.create)!=null?G:u,m=(Y=e==null?void 0:e.update)!=null?Y:u,f=(R=e==null?void 0:e.delete)!=null?R:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(J=(ge=(te=s.pagination)==null?void 0:te.total)!=null?ge:(de=s.items)==null?void 0:de.length)!=null?J:0,limit:(N=(j=s.pagination)==null?void 0:j.limit)!=null?N:20,pages:(x=(h=s.pagination)==null?void 0:h.pages)!=null?x:0,current:(Z=(ce=s.pagination)==null?void 0:ce.current)!=null?Z:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const q=l.pagination.current||1,ne=l.pagination.limit||20,z=l.search.trim();return`shippingRules:page=${q}:limit=${ne}:search=${z}`},w=async(q=!1)=>{var W;if(!u){l.error="Shipping endpoint unavailable.",l.items=[];return}const ne=V(),z=q?null:Ot(ne,n);if(z){c.recordCacheHit(),l.items=z.items,l.pagination={...l.pagination,...z.pagination},l.lastUpdated=z.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const oe=g?new AbortController:null;k.value=oe;const F=c.startFetch();try{const ee=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:re,pagination:_e}=await o.fetchShippingRules({endpoint:u,limit:l.pagination.limit,start:ee,search:l.search.trim(),signal:oe?oe.signal:void 0});l.items=re,l.pagination={...l.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},l.lastUpdated=new Date().toISOString(),gt(ne,{items:re,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(ee){if((ee==null?void 0:ee.name)==="AbortError")return;l.error=(W=ee==null?void 0:ee.message)!=null?W:"Unknown error"}finally{c.endFetch(F),g&&k.value===oe&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,De(V()),w(!0)},L=async q=>{var ne;l.saving=!0,l.error="";try{const z=q.id?await o.updateShippingRule({endpoint:m,id:q.id,data:q}):await o.createShippingRule({endpoint:p,data:q});if(z){const oe=l.items.findIndex(F=>F.id===z.id);oe===-1?l.items.unshift(z):l.items.splice(oe,1,z),De(V())}return z}catch(z){throw l.error=(ne=z==null?void 0:z.message)!=null?ne:"Unknown error",z}finally{l.saving=!1}},$=async q=>{var ne;if(!Array.isArray(q)||!q.length)return 0;l.saving=!0,l.error="";try{const z=await o.deleteShippingRules({endpoint:f,ids:q});return z&&(l.items=l.items.filter(oe=>!q.includes(oe.id)),De(V())),z}catch(z){throw l.error=(ne=z==null?void 0:z.message)!=null?ne:"Unknown error",z}finally{l.saving=!1}};return ot(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadRules:w,refresh:K,saveRule:L,deleteRules:$,metrics:c.metrics}}function zx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var L,$,D,G,Y,R,te,de,ge,J,j;const o=ht({token:t}),c=xt("logs"),u=(L=e==null?void 0:e.list)!=null?L:"",p=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Y=(G=($=s.pagination)==null?void 0:$.total)!=null?G:(D=s.items)==null?void 0:D.length)!=null?Y:0,limit:(te=(R=s.pagination)==null?void 0:R.limit)!=null?te:20,pages:(ge=(de=s.pagination)==null?void 0:de.pages)!=null?ge:0,current:(j=(J=s.pagination)==null?void 0:J.current)!=null?j:1},search:"",entity:"",lastUpdated:null}),m=typeof AbortController!="undefined",f=Xe(null),l=()=>{const N=p.pagination.current||1,h=p.pagination.limit||20,x=p.search.trim(),ce=p.entity.trim();return`logs:page=${N}:limit=${h}:search=${x}:entity=${ce}`},g=async(N=!1)=>{var q;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const h=l(),x=N?null:Ot(h,n);if(x){c.recordCacheHit(),p.items=x.items,p.pagination={...p.pagination,...x.pagination},p.lastUpdated=x.lastUpdated;return}c.recordCacheMiss(),p.loading=!0,p.error="",m&&f.value&&f.value.abort();const ce=m?new AbortController:null;f.value=ce;const Z=c.startFetch();try{const ne=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:z,pagination:oe}=await o.fetchLogs({endpoint:u,limit:p.pagination.limit,start:ne,search:p.search.trim(),entity:p.entity,signal:ce?ce.signal:void 0});p.items=z,p.pagination={...p.pagination,...oe,current:oe.current&&oe.current>0?oe.current:1},p.lastUpdated=new Date().toISOString(),gt(h,{items:z,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(ne){if((ne==null?void 0:ne.name)==="AbortError")return;p.error=(q=ne==null?void 0:ne.message)!=null?q:"Unknown error"}finally{c.endFetch(Z),m&&f.value===ce&&(f.value=null),p.loading=!1}},k=()=>{p.pagination.current=1,De(l()),g(!0)},V=()=>{p.pagination.current=1,g()},w=N=>{const h=typeof N=="string"?N.trim():"";p.entity!==h&&(p.entity=h,p.pagination.current=1,g())},K=N=>{const h=Number(N);Number.isNaN(h)||h<1||h===p.pagination.current||(p.pagination.current=h,g(!0))};return ot(()=>{a&&(!Array.isArray(p.items)||!p.items.length)&&g()}),{state:p,loadLogs:g,refresh:k,search:V,setEntity:w,goToPage:K,metrics:c.metrics}}const oo=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function Qx({endpoints:e={},token:t=""}){const s=ht({token:t}),a=Ie({loading:!1,saving:!1,error:"",config:oo(),message:""}),n=async()=>{var u,p,m,f;if(e.show){a.loading=!0,a.error="";try{const l=await s.get(e.show);a.config=c((m=(p=(u=l==null?void 0:l.data)==null?void 0:u.config)!=null?p:l==null?void 0:l.config)!=null?m:{})}catch(l){a.error=(f=l.message)!=null?f:"Unable to load payment configuration."}finally{a.loading=!1}}},o=async u=>{var p,m,f,l,g,k,V;if(e.update){a.saving=!0,a.error="",a.message="";try{const w=await s.post(e.update,{config:u});a.config=c((f=(m=(p=w==null?void 0:w.data)==null?void 0:p.config)!=null?m:w==null?void 0:w.config)!=null?f:{}),a.message=(k=(g=(l=w==null?void 0:w.data)==null?void 0:l.message)!=null?g:w==null?void 0:w.message)!=null?k:""}catch(w){a.error=(V=w.message)!=null?V:"Unable to save payment configuration."}finally{a.saving=!1}}},c=u=>{var m,f,l,g;const p=oo();return{stripe:{...p.stripe,...(m=u.stripe)!=null?m:{}},paypal:{...p.paypal,...(f=u.paypal)!=null?f:{}},cod:{...p.cod,...(l=u.cod)!=null?l:{}},bank_transfer:{...p.bank_transfer,...(g=u.bank_transfer)!=null?g:{}}}};return{state:a,refresh:n,save:o}}const Zx={class:"nxp-ec-admin-app__shell"},ev={class:"nxp-ec-admin-app__header"},tv={class:"nxp-ec-admin-app__title"},nv={class:"nxp-ec-admin-app__lead"},sv={key:0,class:"nxp-ec-admin-nav"},iv=["href"],av={key:11,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},ov={class:"nxp-ec-admin-panel__body"},rv={class:"nxp-ec-admin-panel__lead"},Yn="nxp:admin:onboarding:dismissed",lv={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var hr,gr,Er,Cr,Sr,Ar,br,Tr,yr,Rr,Or,xr,vr,Nr,Pr,Mr,Ir,kr,$r,wr,Lr,Dr,Ur,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,al,ol,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Cl,Sl,Al,bl,Tl,yl,Rl,Ol,xl,vl,Nl,Pl,Ml,Il,kl,$l,wl,Ll,Dl,Ul,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,ac,oc,rc,lc,cc,dc,uc,pc,_c,fc,mc,hc,gc,Ec,Cc,Sc,Ac,bc,Tc,yc,Rc,Oc,xc,vc,Nc,Pc,Mc,Ic,kc,$c,wc,Lc,Dc,Uc,Yc,Xc,Fc,Gc,Vc,Hc,Bc,Kc;const t=e,{__:s}=Dx(t.dataset),a=me(()=>{var U;return((U=t.dataset)==null?void 0:U.appTitleKey)||"COM_NXPEASYCART"}),n=me(()=>{var U;return((U=t.dataset)==null?void 0:U.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),o=(U,se)=>{if(!U||typeof U!="string")return se;try{return JSON.parse(U)}catch(be){return se}},c=me(()=>{var U,se;return!!((se=(U=Zt==null?void 0:Zt.values)==null?void 0:U.show_advanced_mode)!=null&&se)}),u=me(()=>{var se,be;let U=[];if(Array.isArray((se=t.config)==null?void 0:se.navItems))U=t.config.navItems.map(Ye=>({id:Ye.id,title:Ye.title,link:Ye.link}));else{const Ye=o((be=t.dataset)==null?void 0:be.navItems,[]);U=Array.isArray(Ye)?Ye.map(Je=>({id:Je.id,title:Je.title,link:Je.link})):[]}return c.value||(U=U.filter(Ye=>Ye.id!=="logs")),U}),p=U=>{const se=u.value;if(!Array.isArray(se))return"";const be=se.find(Ye=>Ye.id===U);return be?be.link:""},m=me(()=>{var U,se;return((U=t.config)==null?void 0:U.activeSection)||((se=t.dataset)==null?void 0:se.activeSection)||"dashboard"}),f=me(()=>{var U,se;return((U=t.config)==null?void 0:U.settingsTab)||((se=t.dataset)==null?void 0:se.settingsTab)||"general"}),l=U=>m.value===U,g=me(()=>l("dashboard")),k=me(()=>l("products")),V=me(()=>l("categories")||l("products")),w=me(()=>l("orders")),K=me(()=>l("customers")),L=me(()=>l("coupons")),$=me(()=>l("settings")),D=me(()=>l("tax")),G=me(()=>l("shipping")),Y=me(()=>l("logs")),R=(Rr=(hr=t.endpoints)==null?void 0:hr.products)!=null?Rr:{list:(Er=(gr=t.dataset)==null?void 0:gr.productsEndpoint)!=null?Er:"",create:(Sr=(Cr=t.dataset)==null?void 0:Cr.productsEndpointCreate)!=null?Sr:"",update:(br=(Ar=t.dataset)==null?void 0:Ar.productsEndpointUpdate)!=null?br:"",delete:(yr=(Tr=t.dataset)==null?void 0:Tr.productsEndpointDelete)!=null?yr:""},te=(wr=(Or=t.endpoints)==null?void 0:Or.categories)!=null?wr:{list:(vr=(xr=t.dataset)==null?void 0:xr.categoriesEndpoint)!=null?vr:"",create:(Pr=(Nr=t.dataset)==null?void 0:Nr.categoriesEndpointCreate)!=null?Pr:"",update:(Ir=(Mr=t.dataset)==null?void 0:Mr.categoriesEndpointUpdate)!=null?Ir:"",delete:($r=(kr=t.dataset)==null?void 0:kr.categoriesEndpointDelete)!=null?$r:""},de=(jr=(Lr=t.endpoints)==null?void 0:Lr.orders)!=null?jr:{list:(Ur=(Dr=t.dataset)==null?void 0:Dr.ordersEndpoint)!=null?Ur:"",show:(Xr=(Yr=t.dataset)==null?void 0:Yr.ordersEndpointShow)!=null?Xr:"",transition:(Gr=(Fr=t.dataset)==null?void 0:Fr.ordersEndpointTransition)!=null?Gr:"",bulkTransition:(Hr=(Vr=t.dataset)==null?void 0:Vr.ordersEndpointBulk)!=null?Hr:"",note:(Kr=(Br=t.dataset)==null?void 0:Br.ordersEndpointNote)!=null?Kr:""},ge=(Zr=(Jr=t.endpoints)==null?void 0:Jr.customers)!=null?Zr:{list:(qr=(Wr=t.dataset)==null?void 0:Wr.customersEndpoint)!=null?qr:"",show:(Qr=(zr=t.dataset)==null?void 0:zr.customersEndpointShow)!=null?Qr:""},J=(cl=(el=t.endpoints)==null?void 0:el.coupons)!=null?cl:{list:(nl=(tl=t.dataset)==null?void 0:tl.couponsEndpoint)!=null?nl:"",create:(il=(sl=t.dataset)==null?void 0:sl.couponsEndpointCreate)!=null?il:"",update:(ol=(al=t.dataset)==null?void 0:al.couponsEndpointUpdate)!=null?ol:"",delete:(ll=(rl=t.dataset)==null?void 0:rl.couponsEndpointDelete)!=null?ll:""},j=(Cl=(dl=t.endpoints)==null?void 0:dl.tax)!=null?Cl:{list:(pl=(ul=t.dataset)==null?void 0:ul.taxEndpoint)!=null?pl:"",create:(fl=(_l=t.dataset)==null?void 0:_l.taxEndpointCreate)!=null?fl:"",update:(hl=(ml=t.dataset)==null?void 0:ml.taxEndpointUpdate)!=null?hl:"",delete:(El=(gl=t.dataset)==null?void 0:gl.taxEndpointDelete)!=null?El:""},N=(Nl=(Sl=t.endpoints)==null?void 0:Sl.shipping)!=null?Nl:{list:(bl=(Al=t.dataset)==null?void 0:Al.shippingEndpoint)!=null?bl:"",create:(yl=(Tl=t.dataset)==null?void 0:Tl.shippingEndpointCreate)!=null?yl:"",update:(Ol=(Rl=t.dataset)==null?void 0:Rl.shippingEndpointUpdate)!=null?Ol:"",delete:(vl=(xl=t.dataset)==null?void 0:xl.shippingEndpointDelete)!=null?vl:""},h=(wl=(Pl=t.endpoints)==null?void 0:Pl.settings)!=null?wl:{show:(Il=(Ml=t.dataset)==null?void 0:Ml.settingsEndpointShow)!=null?Il:"",update:($l=(kl=t.dataset)==null?void 0:kl.settingsEndpointUpdate)!=null?$l:""},x=(Yl=(Ll=t.endpoints)==null?void 0:Ll.logs)!=null?Yl:{list:(Ul=(Dl=t.dataset)==null?void 0:Dl.logsEndpoint)!=null?Ul:""},ce=(Bl=(Xl=t.endpoints)==null?void 0:Xl.payments)!=null?Bl:{show:(Gl=(Fl=t.dataset)==null?void 0:Fl.paymentsEndpointShow)!=null?Gl:"",update:(Hl=(Vl=t.dataset)==null?void 0:Vl.paymentsEndpointUpdate)!=null?Hl:""},Z=me(()=>{var U;return o((U=t.dataset)==null?void 0:U.orderStates,[])}),{state:q,refresh:ne}=Bx({endpoint:(Ql=(zl=(Wl=(Kl=t.endpoints)==null?void 0:Kl.dashboard)!=null?Wl:(Jl=(jl=t.config)==null?void 0:jl.endpoints)==null?void 0:Jl.dashboard)!=null?zl:(ql=t.dataset)==null?void 0:ql.dashboardEndpoint)!=null?Ql:"",token:t.csrfToken,preload:(sc=(ec=(Zl=t.config)==null?void 0:Zl.preload)==null?void 0:ec.dashboard)!=null?sc:{summary:o((tc=t.dataset)==null?void 0:tc.dashboardSummary,{}),checklist:o((nc=t.dataset)==null?void 0:nc.dashboardChecklist,[])},autoload:g.value}),{state:z,refresh:oe,search:F,createProduct:W,updateProduct:ee,deleteProducts:re}=Gx({endpoints:R,token:t.csrfToken,autoload:k.value}),{state:_e,refresh:le,search:he,goToPage:Re,saveCategory:Te,deleteCategories:Pe,loadOptions:Be}=Vx({endpoints:te,token:t.csrfToken,preload:(lc=(ac=(ic=t.config)==null?void 0:ic.preload)==null?void 0:ac.categories)!=null?lc:{items:o((oc=t.dataset)==null?void 0:oc.categoriesPreload,[]),pagination:o((rc=t.dataset)==null?void 0:rc.categoriesPreloadPagination,{})},autoload:V.value}),C=me(()=>(Array.isArray(_e.items)?_e.items:[]).map(se=>{var be,Ye,Je;return{id:Number.parseInt((be=se==null?void 0:se.id)!=null?be:0,10)||0,title:String((Ye=se==null?void 0:se.title)!=null?Ye:"").trim(),slug:String((Je=se==null?void 0:se.slug)!=null?Je:"").trim(),parent_id:(se==null?void 0:se.parent_id)!==null&&(se==null?void 0:se.parent_id)!==void 0&&Number.parseInt(se.parent_id,10)||null}}).filter(se=>se.title!=="")),{state:I,refresh:B,search:b,setFilterState:A,viewOrder:X,closeOrder:E,transitionOrder:_,goToPage:S,bulkTransition:P,toggleSelection:y,clearSelection:O,addNote:H,updateTracking:M,downloadInvoice:ie,exportOrders:ue,sendEmail:fe,recordTransaction:Ae}=Hx({endpoints:de,token:t.csrfToken,states:Z.value,preload:(_c=(dc=(cc=t.config)==null?void 0:cc.preload)==null?void 0:dc.orders)!=null?_c:{items:o((uc=t.dataset)==null?void 0:uc.ordersPreload,[]),pagination:o((pc=t.dataset)==null?void 0:pc.ordersPreloadPagination,{})},autoload:w.value}),{state:xe,refresh:Le,search:tt,goToPage:vt,viewCustomer:it,closeCustomer:Ve,gdprExport:Ge,gdprAnonymise:Nt}=Kx({endpoints:{...ge,gdpr:(mc=(fc=t.endpoints)==null?void 0:fc.gdpr)!=null?mc:{}},token:t.csrfToken,preload:(Sc=(gc=(hc=t.config)==null?void 0:hc.preload)==null?void 0:gc.customers)!=null?Sc:{items:o((Ec=t.dataset)==null?void 0:Ec.customersPreload,[]),pagination:o((Cc=t.dataset)==null?void 0:Cc.customersPreloadPagination,{})},autoload:K.value}),{state:Pt,refresh:Qt,search:mn,goToPage:As,saveCoupon:bs,deleteCoupons:ui}=jx({endpoints:(bc=(Ac=t.endpoints)==null?void 0:Ac.coupons)!=null?bc:J,token:t.csrfToken,preload:(xc=(yc=(Tc=t.config)==null?void 0:Tc.preload)==null?void 0:yc.coupons)!=null?xc:{items:o((Rc=t.dataset)==null?void 0:Rc.couponsPreload,[]),pagination:o((Oc=t.dataset)==null?void 0:Oc.couponsPreloadPagination,{})},autoload:L.value}),pi=(Mc=(Nc=(vc=t.config)==null?void 0:vc.preload)==null?void 0:Nc.settings)!=null?Mc:o((Pc=t.dataset)==null?void 0:Pc.settingsPreload,{}),{state:Zt,refresh:pr,save:cv}=Jx({endpoints:h,token:t.csrfToken,preload:pi,autoload:$.value}),dv=me(()=>{var se,be;const U=(be=(se=t.dataset)==null?void 0:se.baseCurrency)!=null?be:"";return typeof U=="string"?U.trim().toUpperCase():""}),uv=me(()=>{var se,be;const U=(be=(se=Zt==null?void 0:Zt.values)==null?void 0:se.base_currency)!=null?be:"";return typeof U=="string"?U.trim().toUpperCase():""}),Xn=me(()=>{const U=uv.value||dv.value;return U!==""?U:"USD"}),pv=me(()=>{var se,be;const U=(be=(se=t.dataset)==null?void 0:se.mediaModalUrl)!=null?be:"";return typeof U=="string"?U.trim():""}),_v=me(()=>{var se,be,Ye,Je,at;const U=(Je=(Ye=(se=t.config)==null?void 0:se.siteRoot)!=null?Ye:(be=t.dataset)==null?void 0:be.siteRoot)!=null?Je:"";return typeof U=="string"&&U.trim()!==""?U.trim():typeof window!="undefined"&&((at=window.location)!=null&&at.origin)?window.location.origin:""}),fv=U=>{switch(U){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:p("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:p("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:p("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:U||"step",titleKey:U||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:U||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:p("dashboard")||""}}},_r=me(()=>(Array.isArray(q.checklist)?q.checklist:[]).map(se=>{const be=fv(se.label);return{id:be.id,completed:!!se.completed,link:se.link||be.link||"",label:se.label,titleKey:be.titleKey,descriptionKey:be.descriptionKey,titleFallback:be.titleFallback,descriptionFallback:be.descriptionFallback}})),_i=me(()=>_r.value.some(U=>!U.completed)),Fn=Xe(!1),mv=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Yn,"0")}catch(U){}Fn.value=!0},fr=()=>{if(Fn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Yn,"1")}catch(U){}},hv=U=>{U&&typeof U.link=="string"&&U.link!==""&&(fr(),typeof window!="undefined"&&(window.location.href=U.link))};Ue(_i,U=>{if(!U&&(Fn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Yn,"1")}catch(se){}});const gv=(Lc=(kc=(Ic=t.config)==null?void 0:Ic.preload)==null?void 0:kc.tax)!=null?Lc:{items:o(($c=t.dataset)==null?void 0:$c.taxPreload,[]),pagination:o((wc=t.dataset)==null?void 0:wc.taxPreloadPagination,{})},{state:Ev,refresh:Gn,saveRate:Cv,deleteRates:Sv}=Wx({endpoints:j,token:t.csrfToken,preload:gv,autoload:D.value||$.value}),Av=(Fc=(Uc=(Dc=t.config)==null?void 0:Dc.preload)==null?void 0:Uc.shipping)!=null?Fc:{items:o((Yc=t.dataset)==null?void 0:Yc.shippingPreload,[]),pagination:o((Xc=t.dataset)==null?void 0:Xc.shippingPreloadPagination,{})},{state:bv,refresh:Vn,saveRule:Tv,deleteRules:yv}=qx({endpoints:N,token:t.csrfToken,preload:Av,autoload:G.value||$.value}),Rv=(Kc=(Vc=(Gc=t.config)==null?void 0:Gc.preload)==null?void 0:Vc.logs)!=null?Kc:{items:o((Hc=t.dataset)==null?void 0:Hc.logsPreload,[]),pagination:o((Bc=t.dataset)==null?void 0:Bc.logsPreloadPagination,{})},{state:Ov,refresh:mr,search:xv,setEntity:vv,goToPage:Nv}=zx({endpoints:x,token:t.csrfToken,preload:Rv,autoload:Y.value}),{state:Pv,refresh:fi,save:Mv}=Qx({endpoints:ce,token:t.csrfToken});Ue(m,U=>{switch(U){case"dashboard":ne();break;case"products":oe(),le();break;case"categories":le();break;case"orders":B();break;case"customers":Le();break;case"coupons":Qt();break;case"tax":Gn();break;case"shipping":Vn();break;case"settings":pr(),Gn(),Vn(),fi();break;case"logs":mr();break}}),ot(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const U=window.localStorage.getItem(Yn);_i.value?U!=="1"&&(Fn.value=!0):window.localStorage.setItem(Yn,"1")}catch(U){}}$.value&&fi()});const Iv=()=>{oe()},kv=()=>{F()},$v=async U=>{try{await W(U),oe(),le()}catch(se){}},wv=async({id:U,data:se})=>{try{await ee(U,se),oe(),le()}catch(be){}},Lv=async U=>{try{await re(U),oe(),le()}catch(se){}},Dv=()=>{le()},Uv=()=>{he()},Yv=U=>{Re(U)},Xv=async U=>{try{await Te(U),le()}catch(se){}},Fv=async U=>{try{await Pe(U),le()}catch(se){}},Gv=()=>{ne()},Vv=()=>{B()},Hv=()=>{b()},Bv=U=>{A(U)},Kv=U=>{X(U)},jv=()=>{E()},Jv=async({id:U,state:se})=>{try{await _(U,se)}catch(be){}},Wv=U=>{S(U)},qv=async({ids:U,state:se})=>{try{await P(U,se)}catch(be){}},zv=U=>{y(U)},Qv=()=>{O()},Zv=async({id:U,message:se})=>{await H(U,se)},e1=async U=>{if(!(U!=null&&U.id))return;const{id:se,...be}=U;await M(se,be)},t1=async U=>{!(U!=null&&U.id)||!(U!=null&&U.type)||await fe(U.id,U.type)},n1=async U=>{if(U!=null&&U.id)try{await Ae(U.id,{amountCents:U.amountCents,reference:U.reference,note:U.note})}catch(se){}},s1=async U=>{if(!U)return;const se=await ie(U);if(!(se!=null&&se.content))return;const be=atob(se.content),Ye=new Uint8Array(be.length);for(let en=0;en<be.length;en+=1)Ye[en]=be.charCodeAt(en);const Je=new Blob([Ye],{type:"application/pdf"}),at=window.URL.createObjectURL(Je),dt=document.createElement("a");dt.href=at,dt.download=se.filename||"invoice.pdf",document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),setTimeout(()=>window.URL.revokeObjectURL(at),1e3)},i1=async()=>{const U=await ue();if(!(U!=null&&U.content))return;const se=atob(U.content),be=new Uint8Array(se.length);for(let dt=0;dt<se.length;dt+=1)be[dt]=se.charCodeAt(dt);const Ye=new Blob([be],{type:"text/csv;charset=utf-8"}),Je=window.URL.createObjectURL(Ye),at=document.createElement("a");at.href=Je,at.download=U.filename||"orders-export.csv",document.body.appendChild(at),at.click(),document.body.removeChild(at),setTimeout(()=>window.URL.revokeObjectURL(Je),1e3)},a1=()=>{Le()},o1=()=>{tt()},r1=U=>{vt(U)},l1=U=>{it(U)},c1=()=>{Ve()},d1=U=>{Ge(U)},u1=U=>{Nt(U)},p1=()=>{Qt()},_1=()=>{mn()},f1=U=>{As(U)},m1=async U=>{try{await bs(U)}catch(se){}},h1=async U=>{try{await ui(U)}catch(se){}},g1=()=>{pr()},E1=async U=>{try{await cv(U)}catch(se){}},C1=()=>{Gn()},S1=async U=>{try{await Cv(U),Gn()}catch(se){}},A1=async U=>{try{await Sv(U),Gn()}catch(se){}},b1=()=>{Vn()},T1=async U=>{try{await Tv(U),Vn()}catch(se){}},y1=async U=>{try{await yv(U),Vn()}catch(se){}},R1=()=>{mr()},O1=()=>{xv()},x1=U=>{vv(U)},v1=U=>{Nv(U)},N1=()=>{fi()},P1=async U=>{await Mv(U)};return(U,se)=>(T(),st(xp,null,{default:Zi(()=>{var be,Ye,Je,at,dt,en;return[i("section",Zx,[i("header",ev,[i("div",null,[i("h1",tv,d(r(s)(a.value,(Ye=(be=t.dataset)==null?void 0:be.appTitle)!=null?Ye:"NXP Easy Cart",[],"appTitle")),1),i("p",nv,d(r(s)(n.value,(at=(Je=t.dataset)==null?void 0:Je.appLead)!=null?at:"Manage your storefront from one place.",[],"appLead")),1)]),Q(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:mv},d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[Zu,_i.value]])]),u.value.length?(T(),v("nav",sv,[(T(!0),v(Ce,null,Oe(u.value,Ts=>(T(),v("a",{key:Ts.id,href:Ts.link,class:Me({"is-active":Ts.id===m.value})},d(Ts.title),11,iv))),128))])):ae("",!0),m.value==="dashboard"?(T(),st(o_,{key:1,state:r(q),translate:r(s),onRefresh:Gv},null,8,["state","translate"])):m.value==="products"?(T(),st(Dm,{key:2,state:r(z),translate:r(s),"base-currency":Xn.value,"category-options":C.value,"media-modal-url":pv.value,onCreate:$v,onUpdate:wv,onDelete:Lv,onRefresh:Iv,onSearch:kv},null,8,["state","translate","base-currency","category-options","media-modal-url"])):m.value==="categories"?(T(),st(Uh,{key:3,state:r(_e),translate:r(s),"load-options":r(Be),onRefresh:Dv,onSearch:Uv,onPage:Yv,onSave:Xv,onDelete:Fv},null,8,["state","translate","load-options"])):m.value==="orders"?(T(),st(eC,{key:4,state:r(I),translate:r(s),"site-root":_v.value,onRefresh:Vv,onSearch:Hv,onFilter:Bv,onView:Kv,onClose:jv,onTransition:Jv,onPage:Wv,onBulkTransition:qv,onToggleSelection:zv,onClearSelection:Qv,onAddNote:Zv,onSaveTracking:e1,onSendEmail:t1,onRecordPayment:n1,onInvoice:s1,onExport:i1},null,8,["state","translate","site-root"])):m.value==="customers"?(T(),st(tS,{key:5,state:r(xe),translate:r(s),"base-currency":Xn.value,onRefresh:a1,onSearch:o1,onPage:r1,onView:l1,onClose:c1,onGdprExport:d1,onGdprAnonymise:u1},null,8,["state","translate","base-currency"])):m.value==="coupons"?(T(),st(pA,{key:6,state:r(Pt),translate:r(s),"base-currency":Xn.value,onRefresh:p1,onSearch:_1,onPage:f1,onSave:m1,onDelete:h1},null,8,["state","translate","base-currency"])):m.value==="tax"?(T(),st(TR,{key:7,state:r(Ev),translate:r(s),onRefresh:C1,onSave:S1,onDelete:A1},null,8,["state","translate"])):m.value==="shipping"?(T(),st(wO,{key:8,state:r(bv),translate:r(s),"base-currency":Xn.value,onRefresh:b1,onSave:T1,onDelete:y1},null,8,["state","translate","base-currency"])):m.value==="settings"?(T(),st(Sy,{key:9,"settings-state":r(Zt),"payments-state":r(Pv),translate:r(s),"base-currency":Xn.value,"initial-tab":f.value,onRefreshSettings:g1,onSaveSettings:E1,onRefreshPayments:N1,onSavePayments:P1},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):m.value==="logs"&&c.value?(T(),st(Ex,{key:10,state:r(Ov),translate:r(s),onRefresh:R1,onSearch:O1,onFilter:x1,onPage:v1},null,8,["state","translate"])):(T(),v("div",av,[i("div",ov,[i("p",rv,d(r(s)(n.value,(en=(dt=t.dataset)==null?void 0:dt.appLead)!=null?en:"This section will be available soon.",[],"appLead")),1)])]))]),He($x,{visible:Fn.value,steps:_r.value,translate:r(s),onClose:fr,onNavigate:hv},null,8,["visible","steps","translate"])]}),_:1}))}},Ss=document.getElementById("nxp-ec-admin-app");if(!Ss)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(ro=Ss.getAttribute("data-csrf-token"))!=null?ro:"",t=Object.assign({},Ss.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(k){console.warn("[NXP Easy Cart] Failed to parse admin config payload",k)}const a=(fo=(lo=s==null?void 0:s.endpoints)==null?void 0:lo.products)!=null?fo:{list:(co=t.productsEndpoint)!=null?co:"",create:(uo=t.productsEndpointCreate)!=null?uo:"",update:(po=t.productsEndpointUpdate)!=null?po:"",delete:(_o=t.productsEndpointDelete)!=null?_o:""},n=(So=(mo=s==null?void 0:s.endpoints)==null?void 0:mo.categories)!=null?So:{list:(ho=t.categoriesEndpoint)!=null?ho:"",create:(go=t.categoriesEndpointCreate)!=null?go:"",update:(Eo=t.categoriesEndpointUpdate)!=null?Eo:"",delete:(Co=t.categoriesEndpointDelete)!=null?Co:""},o=(No=(Ao=s==null?void 0:s.endpoints)==null?void 0:Ao.orders)!=null?No:{list:(bo=t.ordersEndpoint)!=null?bo:"",show:(To=t.ordersEndpointShow)!=null?To:"",transition:(yo=t.ordersEndpointTransition)!=null?yo:"",bulkTransition:(Ro=t.ordersEndpointBulk)!=null?Ro:"",note:(Oo=t.ordersEndpointNote)!=null?Oo:"",tracking:(xo=t.ordersEndpointTracking)!=null?xo:"",invoice:(vo=t.ordersEndpointInvoice)!=null?vo:""},c=(ko=(Po=s==null?void 0:s.endpoints)==null?void 0:Po.customers)!=null?ko:{list:(Mo=t.customersEndpoint)!=null?Mo:"",show:(Io=t.customersEndpointShow)!=null?Io:""},u=(Do=($o=s==null?void 0:s.endpoints)==null?void 0:$o.gdpr)!=null?Do:{export:(wo=t.gdprEndpointExport)!=null?wo:"",anonymise:(Lo=t.gdprEndpointAnonymise)!=null?Lo:""},p=(Vo=(Uo=s==null?void 0:s.endpoints)==null?void 0:Uo.coupons)!=null?Vo:{list:(Yo=t.couponsEndpoint)!=null?Yo:"",create:(Xo=t.couponsEndpointCreate)!=null?Xo:"",update:(Fo=t.couponsEndpointUpdate)!=null?Fo:"",delete:(Go=t.couponsEndpointDelete)!=null?Go:""},m=(Wo=(Ho=s==null?void 0:s.endpoints)==null?void 0:Ho.tax)!=null?Wo:{list:(Bo=t.taxEndpoint)!=null?Bo:"",create:(Ko=t.taxEndpointCreate)!=null?Ko:"",update:(jo=t.taxEndpointUpdate)!=null?jo:"",delete:(Jo=t.taxEndpointDelete)!=null?Jo:""},f=(tr=(qo=s==null?void 0:s.endpoints)==null?void 0:qo.shipping)!=null?tr:{list:(zo=t.shippingEndpoint)!=null?zo:"",create:(Qo=t.shippingEndpointCreate)!=null?Qo:"",update:(Zo=t.shippingEndpointUpdate)!=null?Zo:"",delete:(er=t.shippingEndpointDelete)!=null?er:""},l=(ar=(nr=s==null?void 0:s.endpoints)==null?void 0:nr.settings)!=null?ar:{show:(sr=t.settingsEndpointShow)!=null?sr:"",update:(ir=t.settingsEndpointUpdate)!=null?ir:""},g=(lr=(or=s==null?void 0:s.endpoints)==null?void 0:or.logs)!=null?lr:{list:(rr=t.logsEndpoint)!=null?rr:""};Cp(lv,{csrfToken:e,dataset:t,config:s,endpoints:{products:a,categories:n,orders:o,customers:c,gdpr:u,coupons:p,tax:m,shipping:f,settings:l,logs:g,dashboard:(ur=(dr=(cr=s==null?void 0:s.endpoints)==null?void 0:cr.dashboard)!=null?dr:t.dashboardEndpoint)!=null?ur:""}}).mount(Ss)}})();
