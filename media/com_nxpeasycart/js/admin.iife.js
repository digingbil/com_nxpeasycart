(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var To,yo,Ro,Oo,xo,vo,No,Po,Mo,Io,ko,$o,wo,Do,Lo,Yo,Uo,Xo,Go,Fo,Vo,Ho,Bo,Ko,jo,Jo,Wo,qo,zo,Qo,Zo,er,tr,nr,sr,ir,ar,or,rr,lr,cr,dr,ur,_r,pr,fr,mr,hr,gr,Er,Cr,Ar,Sr,br,Tr,yr,Rr,Or,xr,vr,Nr,Pr,Mr;function Gs(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const je={},Cn=[],Dt=()=>{},Pi=()=>!1,os=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Fs=e=>e.startsWith("onUpdate:"),_t=Object.assign,Vs=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Cd=Object.prototype.hasOwnProperty,Ve=(e,t)=>Cd.call(e,t),Pe=Array.isArray,An=e=>kn(e)==="[object Map]",Sn=e=>kn(e)==="[object Set]",Mi=e=>kn(e)==="[object Date]",Ie=e=>typeof e=="function",tt=e=>typeof e=="string",Mt=e=>typeof e=="symbol",We=e=>e!==null&&typeof e=="object",Ii=e=>(We(e)||Ie(e))&&Ie(e.then)&&Ie(e.catch),ki=Object.prototype.toString,kn=e=>ki.call(e),Ad=e=>kn(e).slice(8,-1),$i=e=>kn(e)==="[object Object]",Hs=e=>tt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$n=Gs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rs=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Sd=/-\w/g,tn=rs(e=>e.replace(Sd,t=>t.slice(1).toUpperCase())),bd=/\B([A-Z])/g,nn=rs(e=>e.replace(bd,"-$1").toLowerCase()),wi=rs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bs=rs(e=>e?`on${wi(e)}`:""),sn=(e,t)=>!Object.is(e,t),ls=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Di=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},cs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Li;const ds=()=>Li||(Li=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function jt(e){if(Pe(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=tt(a)?Od(a):jt(a);if(n)for(const o in n)t[o]=n[o]}return t}else if(tt(e)||We(e))return e}const Td=/;(?![^(]*\))/g,yd=/:([^]+)/,Rd=/\/\*[^]*?\*\//g;function Od(e){const t={};return e.replace(Rd,"").split(Td).forEach(s=>{if(s){const a=s.split(yd);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Le(e){let t="";if(tt(e))t=e;else if(Pe(e))for(let s=0;s<e.length;s++){const a=Le(e[s]);a&&(t+=a+" ")}else if(We(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const xd=Gs("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Yi(e){return!!e||e===""}function vd(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=wn(e[a],t[a]);return s}function wn(e,t){if(e===t)return!0;let s=Mi(e),a=Mi(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=Mt(e),a=Mt(t),s||a)return e===t;if(s=Pe(e),a=Pe(t),s||a)return s&&a?vd(e,t):!1;if(s=We(e),a=We(t),s||a){if(!s||!a)return!1;const n=Object.keys(e).length,o=Object.keys(t).length;if(n!==o)return!1;for(const c in e){const u=e.hasOwnProperty(c),_=t.hasOwnProperty(c);if(u&&!_||!u&&_||!wn(e[c],t[c]))return!1}}return String(e)===String(t)}function Ks(e,t){return e.findIndex(s=>wn(s,t))}const Ui=e=>!!(e&&e.__v_isRef===!0),d=e=>tt(e)?e:e==null?"":Pe(e)||We(e)&&(e.toString===ki||!Ie(e.toString))?Ui(e)?d(e.value):JSON.stringify(e,Xi,2):String(e),Xi=(e,t)=>Ui(t)?Xi(e,t.value):An(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],o)=>(s[js(a,o)+" =>"]=n,s),{})}:Sn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>js(s))}:Mt(t)?js(t):We(t)&&!Pe(t)&&!$i(t)?String(t):t,js=(e,t="")=>{var s;return Mt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Et;class Nd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Et,!t&&Et&&(this.index=(Et.scopes||(Et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Et;try{return Et=this,t()}finally{Et=s}}}on(){++this._on===1&&(this.prevScope=Et,Et=this)}off(){this._on>0&&--this._on===0&&(Et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Pd(){return Et}let qe;const Js=new WeakSet;class Gi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Et&&Et.active&&Et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Js.has(this)&&(Js.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Vi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ji(this),Hi(this);const t=qe,s=It;qe=this,It=!0;try{return this.fn()}finally{Bi(this),qe=t,It=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qs(t);this.deps=this.depsTail=void 0,Ji(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Js.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zs(this)&&this.run()}get dirty(){return zs(this)}}let Fi=0,Dn,Ln;function Vi(e,t=!1){if(e.flags|=8,t){e.next=Ln,Ln=e;return}e.next=Dn,Dn=e}function Ws(){Fi++}function qs(){if(--Fi>0)return;if(Ln){let t=Ln;for(Ln=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Dn;){let t=Dn;for(Dn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function Hi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Bi(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),Qs(a),Md(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function zs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ki(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ki(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Yn)||(e.globalVersion=Yn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!zs(e))))return;e.flags|=2;const t=e.dep,s=qe,a=It;qe=e,It=!0;try{Hi(e);const n=e.fn(e._value);(t.version===0||sn(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{qe=s,It=a,Bi(e),e.flags&=-3}}function Qs(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Qs(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Md(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let It=!0;const ji=[];function Lt(){ji.push(It),It=!1}function Yt(){const e=ji.pop();It=e===void 0?!0:e}function Ji(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=qe;qe=void 0;try{t()}finally{qe=s}}}let Yn=0;class Id{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Zs{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!qe||!It||qe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==qe)s=this.activeLink=new Id(qe,this),qe.deps?(s.prevDep=qe.depsTail,qe.depsTail.nextDep=s,qe.depsTail=s):qe.deps=qe.depsTail=s,Wi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=qe.depsTail,s.nextDep=void 0,qe.depsTail.nextDep=s,qe.depsTail=s,qe.deps===s&&(qe.deps=a)}return s}trigger(t){this.version++,Yn++,this.notify(t)}notify(t){Ws();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{qs()}}}function Wi(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)Wi(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ei=new WeakMap,un=Symbol(""),ti=Symbol(""),Un=Symbol("");function dt(e,t,s){if(It&&qe){let a=ei.get(e);a||ei.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new Zs),n.map=a,n.key=s),n.track()}}function Jt(e,t,s,a,n,o){const c=ei.get(e);if(!c){Yn++;return}const u=_=>{_&&_.trigger()};if(Ws(),t==="clear")c.forEach(u);else{const _=Pe(e),p=_&&Hs(s);if(_&&s==="length"){const f=Number(a);c.forEach((l,h)=>{(h==="length"||h===Un||!Mt(h)&&h>=f)&&u(l)})}else switch((s!==void 0||c.has(void 0))&&u(c.get(s)),p&&u(c.get(Un)),t){case"add":_?p&&u(c.get("length")):(u(c.get(un)),An(e)&&u(c.get(ti)));break;case"delete":_||(u(c.get(un)),An(e)&&u(c.get(ti)));break;case"set":An(e)&&u(c.get(un));break}}qs()}function bn(e){const t=Ge(e);return t===e?t:(dt(t,"iterate",Un),vt(e)?t:t.map(rt))}function us(e){return dt(e=Ge(e),"iterate",Un),e}const kd={__proto__:null,[Symbol.iterator](){return ni(this,Symbol.iterator,rt)},concat(...e){return bn(this).concat(...e.map(t=>Pe(t)?bn(t):t))},entries(){return ni(this,"entries",e=>(e[1]=rt(e[1]),e))},every(e,t){return Wt(this,"every",e,t,void 0,arguments)},filter(e,t){return Wt(this,"filter",e,t,s=>s.map(rt),arguments)},find(e,t){return Wt(this,"find",e,t,rt,arguments)},findIndex(e,t){return Wt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Wt(this,"findLast",e,t,rt,arguments)},findLastIndex(e,t){return Wt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Wt(this,"forEach",e,t,void 0,arguments)},includes(...e){return si(this,"includes",e)},indexOf(...e){return si(this,"indexOf",e)},join(e){return bn(this).join(e)},lastIndexOf(...e){return si(this,"lastIndexOf",e)},map(e,t){return Wt(this,"map",e,t,void 0,arguments)},pop(){return Xn(this,"pop")},push(...e){return Xn(this,"push",e)},reduce(e,...t){return qi(this,"reduce",e,t)},reduceRight(e,...t){return qi(this,"reduceRight",e,t)},shift(){return Xn(this,"shift")},some(e,t){return Wt(this,"some",e,t,void 0,arguments)},splice(...e){return Xn(this,"splice",e)},toReversed(){return bn(this).toReversed()},toSorted(e){return bn(this).toSorted(e)},toSpliced(...e){return bn(this).toSpliced(...e)},unshift(...e){return Xn(this,"unshift",e)},values(){return ni(this,"values",rt)}};function ni(e,t,s){const a=us(e),n=a[t]();return a!==e&&!vt(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.done||(o.value=s(o.value)),o}),n}const $d=Array.prototype;function Wt(e,t,s,a,n,o){const c=us(e),u=c!==e&&!vt(e),_=c[t];if(_!==$d[t]){const l=_.apply(e,o);return u?rt(l):l}let p=s;c!==e&&(u?p=function(l,h){return s.call(this,rt(l),h,e)}:s.length>2&&(p=function(l,h){return s.call(this,l,h,e)}));const f=_.call(c,p,a);return u&&n?n(f):f}function qi(e,t,s,a){const n=us(e);let o=s;return n!==e&&(vt(e)?s.length>3&&(o=function(c,u,_){return s.call(this,c,u,_,e)}):o=function(c,u,_){return s.call(this,c,rt(u),_,e)}),n[t](o,...a)}function si(e,t,s){const a=Ge(e);dt(a,"iterate",Un);const n=a[t](...s);return(n===-1||n===!1)&&oi(s[0])?(s[0]=Ge(s[0]),a[t](...s)):n}function Xn(e,t,s=[]){Lt(),Ws();const a=Ge(e)[t].apply(e,s);return qs(),Yt(),a}const wd=Gs("__proto__,__v_isRef,__isVue"),zi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mt));function Dd(e){Mt(e)||(e=String(e));const t=Ge(this);return dt(t,"has",e),t.hasOwnProperty(e)}class Qi{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return a===(n?o?ia:sa:o?na:ta).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const c=Pe(t);if(!n){let _;if(c&&(_=kd[s]))return _;if(s==="hasOwnProperty")return Dd}const u=Reflect.get(t,s,lt(t)?t:a);if((Mt(s)?zi.has(s):wd(s))||(n||dt(t,"get",s),o))return u;if(lt(u)){const _=c&&Hs(s)?u:u.value;return n&&We(_)?ai(_):_}return We(u)?n?ai(u):Be(u):u}}class Zi extends Qi{constructor(t=!1){super(!1,t)}set(t,s,a,n){let o=t[s];if(!this._isShallow){const _=an(o);if(!vt(a)&&!an(a)&&(o=Ge(o),a=Ge(a)),!Pe(t)&&lt(o)&&!lt(a))return _||(o.value=a),!0}const c=Pe(t)&&Hs(s)?Number(s)<t.length:Ve(t,s),u=Reflect.set(t,s,a,lt(t)?t:n);return t===Ge(n)&&(c?sn(a,o)&&Jt(t,"set",s,a):Jt(t,"add",s,a)),u}deleteProperty(t,s){const a=Ve(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Jt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!Mt(s)||!zi.has(s))&&dt(t,"has",s),a}ownKeys(t){return dt(t,"iterate",Pe(t)?"length":un),Reflect.ownKeys(t)}}class ea extends Qi{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Ld=new Zi,Yd=new ea,Ud=new Zi(!0),Xd=new ea(!0),ii=e=>e,_s=e=>Reflect.getPrototypeOf(e);function Gd(e,t,s){return function(...a){const n=this.__v_raw,o=Ge(n),c=An(o),u=e==="entries"||e===Symbol.iterator&&c,_=e==="keys"&&c,p=n[e](...a),f=s?ii:t?hs:rt;return!t&&dt(o,"iterate",_?ti:un),{next(){const{value:l,done:h}=p.next();return h?{value:l,done:h}:{value:u?[f(l[0]),f(l[1])]:f(l),done:h}},[Symbol.iterator](){return this}}}}function ps(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Fd(e,t){const s={get(n){const o=this.__v_raw,c=Ge(o),u=Ge(n);e||(sn(n,u)&&dt(c,"get",n),dt(c,"get",u));const{has:_}=_s(c),p=t?ii:e?hs:rt;if(_.call(c,n))return p(o.get(n));if(_.call(c,u))return p(o.get(u));o!==c&&o.get(n)},get size(){const n=this.__v_raw;return!e&&dt(Ge(n),"iterate",un),n.size},has(n){const o=this.__v_raw,c=Ge(o),u=Ge(n);return e||(sn(n,u)&&dt(c,"has",n),dt(c,"has",u)),n===u?o.has(n):o.has(n)||o.has(u)},forEach(n,o){const c=this,u=c.__v_raw,_=Ge(u),p=t?ii:e?hs:rt;return!e&&dt(_,"iterate",un),u.forEach((f,l)=>n.call(o,p(f),p(l),c))}};return _t(s,e?{add:ps("add"),set:ps("set"),delete:ps("delete"),clear:ps("clear")}:{add(n){!t&&!vt(n)&&!an(n)&&(n=Ge(n));const o=Ge(this);return _s(o).has.call(o,n)||(o.add(n),Jt(o,"add",n,n)),this},set(n,o){!t&&!vt(o)&&!an(o)&&(o=Ge(o));const c=Ge(this),{has:u,get:_}=_s(c);let p=u.call(c,n);p||(n=Ge(n),p=u.call(c,n));const f=_.call(c,n);return c.set(n,o),p?sn(o,f)&&Jt(c,"set",n,o):Jt(c,"add",n,o),this},delete(n){const o=Ge(this),{has:c,get:u}=_s(o);let _=c.call(o,n);_||(n=Ge(n),_=c.call(o,n)),u&&u.call(o,n);const p=o.delete(n);return _&&Jt(o,"delete",n,void 0),p},clear(){const n=Ge(this),o=n.size!==0,c=n.clear();return o&&Jt(n,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Gd(n,e,t)}),s}function fs(e,t){const s=Fd(e,t);return(a,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(Ve(s,n)&&n in a?s:a,n,o)}const Vd={get:fs(!1,!1)},Hd={get:fs(!1,!0)},Bd={get:fs(!0,!1)},Kd={get:fs(!0,!0)},ta=new WeakMap,na=new WeakMap,sa=new WeakMap,ia=new WeakMap;function jd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jd(e){return e.__v_skip||!Object.isExtensible(e)?0:jd(Ad(e))}function Be(e){return an(e)?e:ms(e,!1,Ld,Vd,ta)}function Wd(e){return ms(e,!1,Ud,Hd,na)}function ai(e){return ms(e,!0,Yd,Bd,sa)}function kP(e){return ms(e,!0,Xd,Kd,ia)}function ms(e,t,s,a,n){if(!We(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Jd(e);if(o===0)return e;const c=n.get(e);if(c)return c;const u=new Proxy(e,o===2?a:s);return n.set(e,u),u}function Tn(e){return an(e)?Tn(e.__v_raw):!!(e&&e.__v_isReactive)}function an(e){return!!(e&&e.__v_isReadonly)}function vt(e){return!!(e&&e.__v_isShallow)}function oi(e){return e?!!e.__v_raw:!1}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function qd(e){return!Ve(e,"__v_skip")&&Object.isExtensible(e)&&Di(e,"__v_skip",!0),e}const rt=e=>We(e)?Be(e):e,hs=e=>We(e)?ai(e):e;function lt(e){return e?e.__v_isRef===!0:!1}function ze(e){return zd(e,!1)}function zd(e,t){return lt(e)?e:new Qd(e,t)}class Qd{constructor(t,s){this.dep=new Zs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ge(t),this._value=s?t:rt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||vt(t)||an(t);t=a?t:Ge(t),sn(t,s)&&(this._rawValue=t,this._value=a?t:rt(t),this.dep.trigger())}}function r(e){return lt(e)?e.value:e}const Zd={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return lt(n)&&!lt(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function aa(e){return Tn(e)?e:new Proxy(e,Zd)}class eu{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Zs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&qe!==this)return Vi(this,!0),!0}get value(){const t=this.dep.track();return Ki(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function tu(e,t,s=!1){let a,n;return Ie(e)?a=e:(a=e.get,n=e.set),new eu(a,n,s)}const gs={},Es=new WeakMap;let _n;function nu(e,t=!1,s=_n){if(s){let a=Es.get(s);a||Es.set(s,a=[]),a.push(e)}}function su(e,t,s=je){const{immediate:a,deep:n,once:o,scheduler:c,augmentJob:u,call:_}=s,p=D=>n?D:vt(D)||n===!1||n===0?qt(D,1):qt(D);let f,l,h,O,L=!1,k=!1;if(lt(e)?(l=()=>e.value,L=vt(e)):Tn(e)?(l=()=>p(e),L=!0):Pe(e)?(k=!0,L=e.some(D=>Tn(D)||vt(D)),l=()=>e.map(D=>{if(lt(D))return D.value;if(Tn(D))return p(D);if(Ie(D))return _?_(D,2):D()})):Ie(e)?t?l=_?()=>_(e,2):e:l=()=>{if(h){Lt();try{h()}finally{Yt()}}const D=_n;_n=f;try{return _?_(e,3,[O]):e(O)}finally{_n=D}}:l=Dt,t&&n){const D=l,H=n===!0?1/0:n;l=()=>qt(D(),H)}const v=Pd(),I=()=>{f.stop(),v&&v.active&&Vs(v.effects,f)};if(o&&t){const D=t;t=(...H)=>{D(...H),I()}}let P=k?new Array(e.length).fill(gs):gs;const w=D=>{if(!(!(f.flags&1)||!f.dirty&&!D))if(t){const H=f.run();if(n||L||(k?H.some((pe,ie)=>sn(pe,P[ie])):sn(H,P))){h&&h();const pe=_n;_n=f;try{const ie=[H,P===gs?void 0:k&&P[0]===gs?[]:P,O];P=H,_?_(t,3,ie):t(...ie)}finally{_n=pe}}}else f.run()};return u&&u(w),f=new Gi(l),f.scheduler=c?()=>c(w,!1):w,O=D=>nu(D,!1,f),h=f.onStop=()=>{const D=Es.get(f);if(D){if(_)_(D,4);else for(const H of D)H();Es.delete(f)}},t?a?w(!0):P=f.run():c?c(w.bind(null,!0),!0):f.run(),I.pause=f.pause.bind(f),I.resume=f.resume.bind(f),I.stop=I,I}function qt(e,t=1/0,s){if(t<=0||!We(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,lt(e))qt(e.value,t,s);else if(Pe(e))for(let a=0;a<e.length;a++)qt(e[a],t,s);else if(Sn(e)||An(e))e.forEach(a=>{qt(a,t,s)});else if($i(e)){for(const a in e)qt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&qt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Gn=[];let ri=!1;function $P(e,...t){if(ri)return;ri=!0,Lt();const s=Gn.length?Gn[Gn.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=iu();if(a)yn(a,s,11,[e+t.map(o=>{var c,u;return(u=(c=o.toString)==null?void 0:c.call(o))!=null?u:JSON.stringify(o)}).join(""),s&&s.proxy,n.map(({vnode:o})=>`at <${eo(s,o.type)}>`).join(`
`),n]);else{const o=[`[Vue warn]: ${e}`,...t];n.length&&o.push(`
`,...au(n)),console.warn(...o)}Yt(),ri=!1}function iu(){let e=Gn[Gn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function au(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...ou(s))}),t}function ou({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${eo(e.component,e.type,a)}`,o=">"+s;return e.props?[n,...ru(e.props),o]:[n+o]}function ru(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...oa(a,e[a]))}),s.length>3&&t.push(" ..."),t}function oa(e,t,s){return tt(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:lt(t)?(t=oa(e,Ge(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Ie(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Ge(t),s?t:[`${e}=`,t])}function yn(e,t,s,a){try{return a?e(...a):e()}catch(n){Cs(n,t,s)}}function Ut(e,t,s,a){if(Ie(e)){const n=yn(e,t,s,a);return n&&Ii(n)&&n.catch(o=>{Cs(o,t,s)}),n}if(Pe(e)){const n=[];for(let o=0;o<e.length;o++)n.push(Ut(e[o],t,s,a));return n}}function Cs(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||je;if(t){let u=t.parent;const _=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const f=u.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](e,_,p)===!1)return}u=u.parent}if(o){Lt(),yn(o,null,10,[e,_,p]),Yt();return}}lu(e,s,n,a,c)}function lu(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const pt=[];let Xt=-1;const Rn=[];let on=null,On=0;const ra=Promise.resolve();let As=null;function la(e){const t=As||ra;return e?t.then(this?e.bind(this):e):t}function cu(e){let t=Xt+1,s=pt.length;for(;t<s;){const a=t+s>>>1,n=pt[a],o=Fn(n);o<e||o===e&&n.flags&2?t=a+1:s=a}return t}function li(e){if(!(e.flags&1)){const t=Fn(e),s=pt[pt.length-1];!s||!(e.flags&2)&&t>=Fn(s)?pt.push(e):pt.splice(cu(t),0,e),e.flags|=1,ca()}}function ca(){As||(As=ra.then(_a))}function du(e){Pe(e)?Rn.push(...e):on&&e.id===-1?on.splice(On+1,0,e):e.flags&1||(Rn.push(e),e.flags|=1),ca()}function da(e,t,s=Xt+1){for(;s<pt.length;s++){const a=pt[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;pt.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function ua(e){if(Rn.length){const t=[...new Set(Rn)].sort((s,a)=>Fn(s)-Fn(a));if(Rn.length=0,on){on.push(...t);return}for(on=t,On=0;On<on.length;On++){const s=on[On];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}on=null,On=0}}const Fn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function _a(e){try{for(Xt=0;Xt<pt.length;Xt++){const t=pt[Xt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),yn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Xt<pt.length;Xt++){const t=pt[Xt];t&&(t.flags&=-2)}Xt=-1,pt.length=0,ua(),As=null,(pt.length||Rn.length)&&_a()}}let ut=null,pa=null;function Ss(e){const t=ut;return ut=e,pa=e&&e.type.__scopeId||null,t}function fa(e,t=ut,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&ja(-1);const o=Ss(t);let c;try{c=e(...n)}finally{Ss(o),a._d&&ja(1)}return c};return a._n=!0,a._c=!0,a._d=!0,a}function z(e,t){if(ut===null)return e;const s=Ms(ut),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,c,u,_=je]=t[n];o&&(Ie(o)&&(o={mounted:o,updated:o}),o.deep&&qt(c),a.push({dir:o,instance:s,value:c,oldValue:void 0,arg:u,modifiers:_}))}return e}function pn(e,t,s,a){const n=e.dirs,o=t&&t.dirs;for(let c=0;c<n.length;c++){const u=n[c];o&&(u.oldValue=o[c].value);let _=u.dir[a];_&&(Lt(),Ut(_,s,8,[e.el,u,e,t]),Yt())}}const uu=Symbol("_vte"),_u=e=>e.__isTeleport,pu=Symbol("_leaveCb");function ci(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ci(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ma(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const bs=new WeakMap;function Vn(e,t,s,a,n=!1){if(Pe(e)){e.forEach((L,k)=>Vn(L,t&&(Pe(t)?t[k]:t),s,a,n));return}if(xn(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Vn(e,t,s,a.component.subTree);return}const o=a.shapeFlag&4?Ms(a.component):a.el,c=n?null:o,{i:u,r:_}=e,p=t&&t.r,f=u.refs===je?u.refs={}:u.refs,l=u.setupState,h=Ge(l),O=l===je?Pi:L=>Ve(h,L);if(p!=null&&p!==_){if(ha(t),tt(p))f[p]=null,O(p)&&(l[p]=null);else if(lt(p)){p.value=null;const L=t;L.k&&(f[L.k]=null)}}if(Ie(_))yn(_,u,12,[c,f]);else{const L=tt(_),k=lt(_);if(L||k){const v=()=>{if(e.f){const I=L?O(_)?l[_]:f[_]:_.value;if(n)Pe(I)&&Vs(I,o);else if(Pe(I))I.includes(o)||I.push(o);else if(L)f[_]=[o],O(_)&&(l[_]=f[_]);else{const P=[o];_.value=P,e.k&&(f[e.k]=P)}}else L?(f[_]=c,O(_)&&(l[_]=c)):k&&(_.value=c,e.k&&(f[e.k]=c))};if(c){const I=()=>{v(),bs.delete(e)};I.id=-1,bs.set(e,I),yt(I,s)}else ha(e),v()}}}function ha(e){const t=bs.get(e);t&&(t.flags|=8,bs.delete(e))}ds().requestIdleCallback,ds().cancelIdleCallback;const xn=e=>!!e.type.__asyncLoader,ga=e=>e.type.__isKeepAlive;function fu(e,t){Ea(e,"a",t)}function mu(e,t){Ea(e,"da",t)}function Ea(e,t,s=mt){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ts(t,a,s),s){let n=s.parent;for(;n&&n.parent;)ga(n.parent.vnode)&&hu(a,t,s,n),n=n.parent}}function hu(e,t,s,a){const n=Ts(t,e,a,!0);Aa(()=>{Vs(a[t],n)},s)}function Ts(e,t,s=mt,a=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...c)=>{Lt();const u=Wn(s),_=Ut(t,s,e,c);return u(),Yt(),_});return a?n.unshift(o):n.push(o),o}}const zt=e=>(t,s=mt)=>{(!qn||e==="sp")&&Ts(e,(...a)=>t(...a),s)},gu=zt("bm"),Tt=zt("m"),Eu=zt("bu"),Cu=zt("u"),Ca=zt("bum"),Aa=zt("um"),Au=zt("sp"),Su=zt("rtg"),bu=zt("rtc");function Tu(e,t=mt){Ts("ec",e,t)}const yu=Symbol.for("v-ndc");function De(e,t,s,a){let n;const o=s,c=Pe(e);if(c||tt(e)){const u=c&&Tn(e);let _=!1,p=!1;u&&(_=!vt(e),p=an(e),e=us(e)),n=new Array(e.length);for(let f=0,l=e.length;f<l;f++)n[f]=t(_?p?hs(rt(e[f])):rt(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,o)}else if(We(e))if(e[Symbol.iterator])n=Array.from(e,(u,_)=>t(u,_,void 0,o));else{const u=Object.keys(e);n=new Array(u.length);for(let _=0,p=u.length;_<p;_++){const f=u[_];n[_]=t(e[f],f,_,o)}}else n=[];return n}function Ru(e,t,s={},a,n){if(ut.ce||ut.parent&&xn(ut.parent)&&ut.parent.ce){const p=Object.keys(s).length>0;return g(),Ct(Ne,null,[st("slot",s,a)],p?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),g();const c=o&&Sa(o(s)),u=s.key||c&&c.key,_=Ct(Ne,{key:(u&&!Mt(u)?u:`_${t}`)+(!c&&a?"_fb":"")},c||[],c&&e._===1?64:-2);return _.scopeId&&(_.slotScopeIds=[_.scopeId+"-s"]),o&&o._c&&(o._d=!0),_}function Sa(e){return e.some(t=>Ei(t)?!(t.type===Qt||t.type===Ne&&!Sa(t.children)):!0)?e:null}const di=e=>e?za(e)?Ms(e):di(e.parent):null,Hn=_t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>di(e.parent),$root:e=>di(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ra(e),$forceUpdate:e=>e.f||(e.f=()=>{li(e.update)}),$nextTick:e=>e.n||(e.n=la.bind(e.proxy)),$watch:e=>ju.bind(e)}),ui=(e,t)=>e!==je&&!e.__isScriptSetup&&Ve(e,t),Ou={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:o,accessCache:c,type:u,appContext:_}=e;let p;if(t[0]!=="$"){const O=c[t];if(O!==void 0)switch(O){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(ui(a,t))return c[t]=1,a[t];if(n!==je&&Ve(n,t))return c[t]=2,n[t];if((p=e.propsOptions[0])&&Ve(p,t))return c[t]=3,o[t];if(s!==je&&Ve(s,t))return c[t]=4,s[t];_i&&(c[t]=0)}}const f=Hn[t];let l,h;if(f)return t==="$attrs"&&dt(e.attrs,"get",""),f(e);if((l=u.__cssModules)&&(l=l[t]))return l;if(s!==je&&Ve(s,t))return c[t]=4,s[t];if(h=_.config.globalProperties,Ve(h,t))return h[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:o}=e;return ui(n,t)?(n[t]=s,!0):a!==je&&Ve(a,t)?(a[t]=s,!0):Ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:o,type:c}},u){let _,p;return!!(s[u]||e!==je&&u[0]!=="$"&&Ve(e,u)||ui(t,u)||(_=o[0])&&Ve(_,u)||Ve(a,u)||Ve(Hn,u)||Ve(n.config.globalProperties,u)||(p=c.__cssModules)&&p[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ve(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ba(e){return Pe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let _i=!0;function xu(e){const t=Ra(e),s=e.proxy,a=e.ctx;_i=!1,t.beforeCreate&&Ta(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:c,watch:u,provide:_,inject:p,created:f,beforeMount:l,mounted:h,beforeUpdate:O,updated:L,activated:k,deactivated:v,beforeDestroy:I,beforeUnmount:P,destroyed:w,unmounted:D,render:H,renderTracked:pe,renderTriggered:ie,errorCaptured:x,serverPrefetch:he,expose:G,inheritAttrs:F,components:Z,directives:fe,filters:Te}=t;if(p&&vu(p,a,null),c)for(const C in c){const ee=c[C];Ie(ee)&&(a[C]=ee.bind(s))}if(n){const C=n.call(s,s);We(C)&&(e.data=Be(C))}if(_i=!0,o)for(const C in o){const ee=o[C],V=Ie(ee)?ee.bind(s,s):Ie(ee.get)?ee.get.bind(s,s):Dt,ye=!Ie(ee)&&Ie(ee.set)?ee.set.bind(s):Dt,Y=Se({get:V,set:ye});Object.defineProperty(a,C,{enumerable:!0,configurable:!0,get:()=>Y.value,set:te=>Y.value=te})}if(u)for(const C in u)ya(u[C],a,s,C);if(_){const C=Ie(_)?_.call(s):_;Reflect.ownKeys(C).forEach(ee=>{$u(ee,C[ee])})}f&&Ta(f,e,"c");function A(C,ee){Pe(ee)?ee.forEach(V=>C(V.bind(s))):ee&&C(ee.bind(s))}if(A(gu,l),A(Tt,h),A(Eu,O),A(Cu,L),A(fu,k),A(mu,v),A(Tu,x),A(bu,pe),A(Su,ie),A(Ca,P),A(Aa,D),A(Au,he),Pe(G))if(G.length){const C=e.exposed||(e.exposed={});G.forEach(ee=>{Object.defineProperty(C,ee,{get:()=>s[ee],set:V=>s[ee]=V,enumerable:!0})})}else e.exposed||(e.exposed={});H&&e.render===Dt&&(e.render=H),F!=null&&(e.inheritAttrs=F),Z&&(e.components=Z),fe&&(e.directives=fe),he&&ma(e)}function vu(e,t,s=Dt){Pe(e)&&(e=pi(e));for(const a in e){const n=e[a];let o;We(n)?"default"in n?o=Rs(n.from||a,n.default,!0):o=Rs(n.from||a):o=Rs(n),lt(o)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:c=>o.value=c}):t[a]=o}}function Ta(e,t,s){Ut(Pe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function ya(e,t,s,a){let n=a.includes(".")?Fa(s,a):()=>s[a];if(tt(e)){const o=t[e];Ie(o)&&Qe(n,o)}else if(Ie(e))Qe(n,e.bind(s));else if(We(e))if(Pe(e))e.forEach(o=>ya(o,t,s,a));else{const o=Ie(e.handler)?e.handler.bind(s):t[e.handler];Ie(o)&&Qe(n,o,e)}}function Ra(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:c}}=e.appContext,u=o.get(t);let _;return u?_=u:!n.length&&!s&&!a?_=t:(_={},n.length&&n.forEach(p=>ys(_,p,c,!0)),ys(_,t,c)),We(t)&&o.set(t,_),_}function ys(e,t,s,a=!1){const{mixins:n,extends:o}=t;o&&ys(e,o,s,!0),n&&n.forEach(c=>ys(e,c,s,!0));for(const c in t)if(!(a&&c==="expose")){const u=Nu[c]||s&&s[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const Nu={data:Oa,props:xa,emits:xa,methods:Bn,computed:Bn,beforeCreate:ft,created:ft,beforeMount:ft,mounted:ft,beforeUpdate:ft,updated:ft,beforeDestroy:ft,beforeUnmount:ft,destroyed:ft,unmounted:ft,activated:ft,deactivated:ft,errorCaptured:ft,serverPrefetch:ft,components:Bn,directives:Bn,watch:Mu,provide:Oa,inject:Pu};function Oa(e,t){return t?e?function(){return _t(Ie(e)?e.call(this,this):e,Ie(t)?t.call(this,this):t)}:t:e}function Pu(e,t){return Bn(pi(e),pi(t))}function pi(e){if(Pe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ft(e,t){return e?[...new Set([].concat(e,t))]:t}function Bn(e,t){return e?_t(Object.create(null),e,t):t}function xa(e,t){return e?Pe(e)&&Pe(t)?[...new Set([...e,...t])]:_t(Object.create(null),ba(e),ba(t!=null?t:{})):t}function Mu(e,t){if(!e)return t;if(!t)return e;const s=_t(Object.create(null),e);for(const a in t)s[a]=ft(e[a],t[a]);return s}function va(){return{app:null,config:{isNativeTag:Pi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Iu=0;function ku(e,t){return function(a,n=null){Ie(a)||(a=_t({},a)),n!=null&&!We(n)&&(n=null);const o=va(),c=new WeakSet,u=[];let _=!1;const p=o.app={_uid:Iu++,_component:a,_props:n,_container:null,_context:o,_instance:null,version:C_,get config(){return o.config},set config(f){},use(f,...l){return c.has(f)||(f&&Ie(f.install)?(c.add(f),f.install(p,...l)):Ie(f)&&(c.add(f),f(p,...l))),p},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),p},component(f,l){return l?(o.components[f]=l,p):o.components[f]},directive(f,l){return l?(o.directives[f]=l,p):o.directives[f]},mount(f,l,h){if(!_){const O=p._ceVNode||st(a,n);return O.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),e(O,f,h),_=!0,p._container=f,f.__vue_app__=p,Ms(O.component)}},onUnmount(f){u.push(f)},unmount(){_&&(Ut(u,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(f,l){return o.provides[f]=l,p},runWithContext(f){const l=vn;vn=p;try{return f()}finally{vn=l}}};return p}}let vn=null;function $u(e,t){if(mt){let s=mt.provides;const a=mt.parent&&mt.parent.provides;a===s&&(s=mt.provides=Object.create(a)),s[e]=t}}function Rs(e,t,s=!1){const a=d_();if(a||vn){let n=vn?vn._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ie(t)?t.call(a&&a.proxy):t}}const Na={},Pa=()=>Object.create(Na),Ma=e=>Object.getPrototypeOf(e)===Na;function wu(e,t,s,a=!1){const n={},o=Pa();e.propsDefaults=Object.create(null),Ia(e,t,n,o);for(const c in e.propsOptions[0])c in n||(n[c]=void 0);s?e.props=a?n:Wd(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function Du(e,t,s,a){const{props:n,attrs:o,vnode:{patchFlag:c}}=e,u=Ge(n),[_]=e.propsOptions;let p=!1;if((a||c>0)&&!(c&16)){if(c&8){const f=e.vnode.dynamicProps;for(let l=0;l<f.length;l++){let h=f[l];if(Os(e.emitsOptions,h))continue;const O=t[h];if(_)if(Ve(o,h))O!==o[h]&&(o[h]=O,p=!0);else{const L=tn(h);n[L]=fi(_,u,L,O,e,!1)}else O!==o[h]&&(o[h]=O,p=!0)}}}else{Ia(e,t,n,o)&&(p=!0);let f;for(const l in u)(!t||!Ve(t,l)&&((f=nn(l))===l||!Ve(t,f)))&&(_?s&&(s[l]!==void 0||s[f]!==void 0)&&(n[l]=fi(_,u,l,void 0,e,!0)):delete n[l]);if(o!==u)for(const l in o)(!t||!Ve(t,l))&&(delete o[l],p=!0)}p&&Jt(e.attrs,"set","")}function Ia(e,t,s,a){const[n,o]=e.propsOptions;let c=!1,u;if(t)for(let _ in t){if($n(_))continue;const p=t[_];let f;n&&Ve(n,f=tn(_))?!o||!o.includes(f)?s[f]=p:(u||(u={}))[f]=p:Os(e.emitsOptions,_)||(!(_ in a)||p!==a[_])&&(a[_]=p,c=!0)}if(o){const _=Ge(s),p=u||je;for(let f=0;f<o.length;f++){const l=o[f];s[l]=fi(n,_,l,p[l],e,!Ve(p,l))}}return c}function fi(e,t,s,a,n,o){const c=e[s];if(c!=null){const u=Ve(c,"default");if(u&&a===void 0){const _=c.default;if(c.type!==Function&&!c.skipFactory&&Ie(_)){const{propsDefaults:p}=n;if(s in p)a=p[s];else{const f=Wn(n);a=p[s]=_.call(null,t),f()}}else a=_;n.ce&&n.ce._setProp(s,a)}c[0]&&(o&&!u?a=!1:c[1]&&(a===""||a===nn(s))&&(a=!0))}return a}const Lu=new WeakMap;function ka(e,t,s=!1){const a=s?Lu:t.propsCache,n=a.get(e);if(n)return n;const o=e.props,c={},u=[];let _=!1;if(!Ie(e)){const f=l=>{_=!0;const[h,O]=ka(l,t,!0);_t(c,h),O&&u.push(...O)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!_)return We(e)&&a.set(e,Cn),Cn;if(Pe(o))for(let f=0;f<o.length;f++){const l=tn(o[f]);$a(l)&&(c[l]=je)}else if(o)for(const f in o){const l=tn(f);if($a(l)){const h=o[f],O=c[l]=Pe(h)||Ie(h)?{type:h}:_t({},h),L=O.type;let k=!1,v=!0;if(Pe(L))for(let I=0;I<L.length;++I){const P=L[I],w=Ie(P)&&P.name;if(w==="Boolean"){k=!0;break}else w==="String"&&(v=!1)}else k=Ie(L)&&L.name==="Boolean";O[0]=k,O[1]=v,(k||Ve(O,"default"))&&u.push(l)}}const p=[c,u];return We(e)&&a.set(e,p),p}function $a(e){return e[0]!=="$"&&!$n(e)}const mi=e=>e==="_"||e==="_ctx"||e==="$stable",hi=e=>Pe(e)?e.map(Gt):[Gt(e)],Yu=(e,t,s)=>{if(t._n)return t;const a=fa((...n)=>hi(t(...n)),s);return a._c=!1,a},wa=(e,t,s)=>{const a=e._ctx;for(const n in e){if(mi(n))continue;const o=e[n];if(Ie(o))t[n]=Yu(n,o,a);else if(o!=null){const c=hi(o);t[n]=()=>c}}},Da=(e,t)=>{const s=hi(t);e.slots.default=()=>s},La=(e,t,s)=>{for(const a in t)(s||!mi(a))&&(e[a]=t[a])},Uu=(e,t,s)=>{const a=e.slots=Pa();if(e.vnode.shapeFlag&32){const n=t._;n?(La(a,t,s),s&&Di(a,"_",n,!0)):wa(t,a)}else t&&Da(e,t)},Xu=(e,t,s)=>{const{vnode:a,slots:n}=e;let o=!0,c=je;if(a.shapeFlag&32){const u=t._;u?s&&u===1?o=!1:La(n,t,s):(o=!t.$stable,wa(t,n)),c=t}else t&&(Da(e,t),c={default:1});if(o)for(const u in n)!mi(u)&&c[u]==null&&delete n[u]},yt=t_;function Gu(e){return Fu(e)}function Fu(e,t){const s=ds();s.__VUE__=!0;const{insert:a,remove:n,patchProp:o,createElement:c,createText:u,createComment:_,setText:p,setElementText:f,parentNode:l,nextSibling:h,setScopeId:O=Dt,insertStaticContent:L}=e,k=(E,R,X,ne=null,j=null,q=null,_e=void 0,oe=null,re=!!R.dynamicChildren)=>{if(E===R)return;E&&!Jn(E,R)&&(ne=xe(E),te(E,j,q,!0),E=null),R.patchFlag===-2&&(re=!1,R.dynamicChildren=null);const{type:Q,ref:y,shapeFlag:T}=R;switch(Q){case xs:v(E,R,X,ne);break;case Qt:I(E,R,X,ne);break;case vs:E==null&&P(R,X,ne,_e);break;case Ne:Z(E,R,X,ne,j,q,_e,oe,re);break;default:T&1?H(E,R,X,ne,j,q,_e,oe,re):T&6?fe(E,R,X,ne,j,q,_e,oe,re):(T&64||T&128)&&Q.process(E,R,X,ne,j,q,_e,oe,re,Ke)}y!=null&&j?Vn(y,E&&E.ref,q,R||E,!R):y==null&&E&&E.ref!=null&&Vn(E.ref,null,q,E,!0)},v=(E,R,X,ne)=>{if(E==null)a(R.el=u(R.children),X,ne);else{const j=R.el=E.el;R.children!==E.children&&p(j,R.children)}},I=(E,R,X,ne)=>{E==null?a(R.el=_(R.children||""),X,ne):R.el=E.el},P=(E,R,X,ne)=>{[E.el,E.anchor]=L(E.children,R,X,ne,E.el,E.anchor)},w=({el:E,anchor:R},X,ne)=>{let j;for(;E&&E!==R;)j=h(E),a(E,X,ne),E=j;a(R,X,ne)},D=({el:E,anchor:R})=>{let X;for(;E&&E!==R;)X=h(E),n(E),E=X;n(R)},H=(E,R,X,ne,j,q,_e,oe,re)=>{R.type==="svg"?_e="svg":R.type==="math"&&(_e="mathml"),E==null?pe(R,X,ne,j,q,_e,oe,re):he(E,R,j,q,_e,oe,re)},pe=(E,R,X,ne,j,q,_e,oe)=>{let re,Q;const{props:y,shapeFlag:T,transition:B,dirs:ae}=E;if(re=E.el=c(E.type,q,y&&y.is,y),T&8?f(re,E.children):T&16&&x(E.children,re,null,ne,j,gi(E,q),_e,oe),ae&&pn(E,null,ne,"created"),ie(re,E,E.scopeId,_e,ne),y){for(const Oe in y)Oe!=="value"&&!$n(Oe)&&o(re,Oe,null,y[Oe],q,ne);"value"in y&&o(re,"value",null,y.value,q),(Q=y.onVnodeBeforeMount)&&Ft(Q,ne,E)}ae&&pn(E,null,ne,"beforeMount");const $=Vu(j,B);$&&B.beforeEnter(re),a(re,R,X),((Q=y&&y.onVnodeMounted)||$||ae)&&yt(()=>{Q&&Ft(Q,ne,E),$&&B.enter(re),ae&&pn(E,null,ne,"mounted")},j)},ie=(E,R,X,ne,j)=>{if(X&&O(E,X),ne)for(let q=0;q<ne.length;q++)O(E,ne[q]);if(j){let q=j.subTree;if(R===q||Ka(q.type)&&(q.ssContent===R||q.ssFallback===R)){const _e=j.vnode;ie(E,_e,_e.scopeId,_e.slotScopeIds,j.parent)}}},x=(E,R,X,ne,j,q,_e,oe,re=0)=>{for(let Q=re;Q<E.length;Q++){const y=E[Q]=oe?rn(E[Q]):Gt(E[Q]);k(null,y,R,X,ne,j,q,_e,oe)}},he=(E,R,X,ne,j,q,_e)=>{const oe=R.el=E.el;let{patchFlag:re,dynamicChildren:Q,dirs:y}=R;re|=E.patchFlag&16;const T=E.props||je,B=R.props||je;let ae;if(X&&fn(X,!1),(ae=B.onVnodeBeforeUpdate)&&Ft(ae,X,R,E),y&&pn(R,E,X,"beforeUpdate"),X&&fn(X,!0),(T.innerHTML&&B.innerHTML==null||T.textContent&&B.textContent==null)&&f(oe,""),Q?G(E.dynamicChildren,Q,oe,X,ne,gi(R,j),q):_e||ee(E,R,oe,null,X,ne,gi(R,j),q,!1),re>0){if(re&16)F(oe,T,B,X,j);else if(re&2&&T.class!==B.class&&o(oe,"class",null,B.class,j),re&4&&o(oe,"style",T.style,B.style,j),re&8){const $=R.dynamicProps;for(let Oe=0;Oe<$.length;Oe++){const J=$[Oe],le=T[J],me=B[J];(me!==le||J==="value")&&o(oe,J,le,me,j,X)}}re&1&&E.children!==R.children&&f(oe,R.children)}else!_e&&Q==null&&F(oe,T,B,X,j);((ae=B.onVnodeUpdated)||y)&&yt(()=>{ae&&Ft(ae,X,R,E),y&&pn(R,E,X,"updated")},ne)},G=(E,R,X,ne,j,q,_e)=>{for(let oe=0;oe<R.length;oe++){const re=E[oe],Q=R[oe],y=re.el&&(re.type===Ne||!Jn(re,Q)||re.shapeFlag&198)?l(re.el):X;k(re,Q,y,null,ne,j,q,_e,!0)}},F=(E,R,X,ne,j)=>{if(R!==X){if(R!==je)for(const q in R)!$n(q)&&!(q in X)&&o(E,q,R[q],null,j,ne);for(const q in X){if($n(q))continue;const _e=X[q],oe=R[q];_e!==oe&&q!=="value"&&o(E,q,oe,_e,j,ne)}"value"in X&&o(E,"value",R.value,X.value,j)}},Z=(E,R,X,ne,j,q,_e,oe,re)=>{const Q=R.el=E?E.el:u(""),y=R.anchor=E?E.anchor:u("");let{patchFlag:T,dynamicChildren:B,slotScopeIds:ae}=R;ae&&(oe=oe?oe.concat(ae):ae),E==null?(a(Q,X,ne),a(y,X,ne),x(R.children||[],X,y,j,q,_e,oe,re)):T>0&&T&64&&B&&E.dynamicChildren?(G(E.dynamicChildren,B,X,j,q,_e,oe),(R.key!=null||j&&R===j.subTree)&&Ya(E,R,!0)):ee(E,R,X,y,j,q,_e,oe,re)},fe=(E,R,X,ne,j,q,_e,oe,re)=>{R.slotScopeIds=oe,E==null?R.shapeFlag&512?j.ctx.activate(R,X,ne,_e,re):Te(R,X,ne,j,q,_e,re):b(E,R,re)},Te=(E,R,X,ne,j,q,_e)=>{const oe=E.component=c_(E,ne,j);if(ga(E)&&(oe.ctx.renderer=Ke),u_(oe,!1,_e),oe.asyncDep){if(j&&j.registerDep(oe,A,_e),!E.el){const re=oe.subTree=st(Qt);I(null,re,R,X),E.placeholder=re.el}}else A(oe,E,R,X,j,q,_e)},b=(E,R,X)=>{const ne=R.component=E.component;if(Zu(E,R,X))if(ne.asyncDep&&!ne.asyncResolved){C(ne,R,X);return}else ne.next=R,ne.update();else R.el=E.el,ne.vnode=R},A=(E,R,X,ne,j,q,_e)=>{const oe=()=>{if(E.isMounted){let{next:T,bu:B,u:ae,parent:$,vnode:Oe}=E;{const we=Ua(E);if(we){T&&(T.el=Oe.el,C(E,T,_e)),we.asyncDep.then(()=>{E.isUnmounted||oe()});return}}let J=T,le;fn(E,!1),T?(T.el=Oe.el,C(E,T,_e)):T=Oe,B&&ls(B),(le=T.props&&T.props.onVnodeBeforeUpdate)&&Ft(le,$,T,Oe),fn(E,!0);const me=Ha(E),W=E.subTree;E.subTree=me,k(W,me,l(W.el),xe(W),E,j,q),T.el=me.el,J===null&&e_(E,me.el),ae&&yt(ae,j),(le=T.props&&T.props.onVnodeUpdated)&&yt(()=>Ft(le,$,T,Oe),j)}else{let T;const{el:B,props:ae}=R,{bm:$,m:Oe,parent:J,root:le,type:me}=E,W=xn(R);fn(E,!1),$&&ls($),!W&&(T=ae&&ae.onVnodeBeforeMount)&&Ft(T,J,R),fn(E,!0);{le.ce&&le.ce._def.shadowRoot!==!1&&le.ce._injectChildStyle(me);const we=E.subTree=Ha(E);k(null,we,X,ne,E,j,q),R.el=we.el}if(Oe&&yt(Oe,j),!W&&(T=ae&&ae.onVnodeMounted)){const we=R;yt(()=>Ft(T,J,we),j)}(R.shapeFlag&256||J&&xn(J.vnode)&&J.vnode.shapeFlag&256)&&E.a&&yt(E.a,j),E.isMounted=!0,R=X=ne=null}};E.scope.on();const re=E.effect=new Gi(oe);E.scope.off();const Q=E.update=re.run.bind(re),y=E.job=re.runIfDirty.bind(re);y.i=E,y.id=E.uid,re.scheduler=()=>li(y),fn(E,!0),Q()},C=(E,R,X)=>{R.component=E;const ne=E.vnode.props;E.vnode=R,E.next=null,Du(E,R.props,ne,X),Xu(E,R.children,X),Lt(),da(E),Yt()},ee=(E,R,X,ne,j,q,_e,oe,re=!1)=>{const Q=E&&E.children,y=E?E.shapeFlag:0,T=R.children,{patchFlag:B,shapeFlag:ae}=R;if(B>0){if(B&128){ye(Q,T,X,ne,j,q,_e,oe,re);return}else if(B&256){V(Q,T,X,ne,j,q,_e,oe,re);return}}ae&8?(y&16&&Re(Q,j,q),T!==Q&&f(X,T)):y&16?ae&16?ye(Q,T,X,ne,j,q,_e,oe,re):Re(Q,j,q,!0):(y&8&&f(X,""),ae&16&&x(T,X,ne,j,q,_e,oe,re))},V=(E,R,X,ne,j,q,_e,oe,re)=>{E=E||Cn,R=R||Cn;const Q=E.length,y=R.length,T=Math.min(Q,y);let B;for(B=0;B<T;B++){const ae=R[B]=re?rn(R[B]):Gt(R[B]);k(E[B],ae,X,null,j,q,_e,oe,re)}Q>y?Re(E,j,q,!0,!1,T):x(R,X,ne,j,q,_e,oe,re,T)},ye=(E,R,X,ne,j,q,_e,oe,re)=>{let Q=0;const y=R.length;let T=E.length-1,B=y-1;for(;Q<=T&&Q<=B;){const ae=E[Q],$=R[Q]=re?rn(R[Q]):Gt(R[Q]);if(Jn(ae,$))k(ae,$,X,null,j,q,_e,oe,re);else break;Q++}for(;Q<=T&&Q<=B;){const ae=E[T],$=R[B]=re?rn(R[B]):Gt(R[B]);if(Jn(ae,$))k(ae,$,X,null,j,q,_e,oe,re);else break;T--,B--}if(Q>T){if(Q<=B){const ae=B+1,$=ae<y?R[ae].el:ne;for(;Q<=B;)k(null,R[Q]=re?rn(R[Q]):Gt(R[Q]),X,$,j,q,_e,oe,re),Q++}}else if(Q>B)for(;Q<=T;)te(E[Q],j,q,!0),Q++;else{const ae=Q,$=Q,Oe=new Map;for(Q=$;Q<=B;Q++){const Je=R[Q]=re?rn(R[Q]):Gt(R[Q]);Je.key!=null&&Oe.set(Je.key,Q)}let J,le=0;const me=B-$+1;let W=!1,we=0;const Ue=new Array(me);for(Q=0;Q<me;Q++)Ue[Q]=0;for(Q=ae;Q<=T;Q++){const Je=E[Q];if(le>=me){te(Je,j,q,!0);continue}let N;if(Je.key!=null)N=Oe.get(Je.key);else for(J=$;J<=B;J++)if(Ue[J-$]===0&&Jn(Je,R[J])){N=J;break}N===void 0?te(Je,j,q,!0):(Ue[N-$]=Q+1,N>=we?we=N:W=!0,k(Je,R[N],X,null,j,q,_e,oe,re),le++)}const it=W?Hu(Ue):Cn;for(J=it.length-1,Q=me-1;Q>=0;Q--){const Je=$+Q,N=R[Je],m=R[Je+1],K=Je+1<y?m.el||m.placeholder:ne;Ue[Q]===0?k(null,N,X,K,j,q,_e,oe,re):W&&(J<0||Q!==it[J]?Y(N,X,K,2):J--)}}},Y=(E,R,X,ne,j=null)=>{const{el:q,type:_e,transition:oe,children:re,shapeFlag:Q}=E;if(Q&6){Y(E.component.subTree,R,X,ne);return}if(Q&128){E.suspense.move(R,X,ne);return}if(Q&64){_e.move(E,R,X,Ke);return}if(_e===Ne){a(q,R,X);for(let T=0;T<re.length;T++)Y(re[T],R,X,ne);a(E.anchor,R,X);return}if(_e===vs){w(E,R,X);return}if(ne!==2&&Q&1&&oe)if(ne===0)oe.beforeEnter(q),a(q,R,X),yt(()=>oe.enter(q),j);else{const{leave:T,delayLeave:B,afterLeave:ae}=oe,$=()=>{E.ctx.isUnmounted?n(q):a(q,R,X)},Oe=()=>{q._isLeaving&&q[pu](!0),T(q,()=>{$(),ae&&ae()})};B?B(q,$,Oe):Oe()}else a(q,R,X)},te=(E,R,X,ne=!1,j=!1)=>{const{type:q,props:_e,ref:oe,children:re,dynamicChildren:Q,shapeFlag:y,patchFlag:T,dirs:B,cacheIndex:ae}=E;if(T===-2&&(j=!1),oe!=null&&(Lt(),Vn(oe,null,X,E,!0),Yt()),ae!=null&&(R.renderCache[ae]=void 0),y&256){R.ctx.deactivate(E);return}const $=y&1&&B,Oe=!xn(E);let J;if(Oe&&(J=_e&&_e.onVnodeBeforeUnmount)&&Ft(J,R,E),y&6)ve(E.component,X,ne);else{if(y&128){E.suspense.unmount(X,ne);return}$&&pn(E,null,R,"beforeUnmount"),y&64?E.type.remove(E,R,X,Ke,ne):Q&&!Q.hasOnce&&(q!==Ne||T>0&&T&64)?Re(Q,R,X,!1,!0):(q===Ne&&T&384||!j&&y&16)&&Re(re,R,X),ne&&ce(E)}(Oe&&(J=_e&&_e.onVnodeUnmounted)||$)&&yt(()=>{J&&Ft(J,R,E),$&&pn(E,null,R,"unmounted")},X)},ce=E=>{const{type:R,el:X,anchor:ne,transition:j}=E;if(R===Ne){Ce(X,ne);return}if(R===vs){D(E);return}const q=()=>{n(X),j&&!j.persisted&&j.afterLeave&&j.afterLeave()};if(E.shapeFlag&1&&j&&!j.persisted){const{leave:_e,delayLeave:oe}=j,re=()=>_e(X,q);oe?oe(E.el,q,re):re()}else q()},Ce=(E,R)=>{let X;for(;E!==R;)X=h(E),n(E),E=X;n(R)},ve=(E,R,X)=>{const{bum:ne,scope:j,job:q,subTree:_e,um:oe,m:re,a:Q}=E;Xa(re),Xa(Q),ne&&ls(ne),j.stop(),q&&(q.flags|=8,te(_e,E,R,X)),oe&&yt(oe,R),yt(()=>{E.isUnmounted=!0},R)},Re=(E,R,X,ne=!1,j=!1,q=0)=>{for(let _e=q;_e<E.length;_e++)te(E[_e],R,X,ne,j)},xe=E=>{if(E.shapeFlag&6)return xe(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const R=h(E.anchor||E.el),X=R&&R[uu];return X?h(X):R};let Fe=!1;const $e=(E,R,X)=>{E==null?R._vnode&&te(R._vnode,null,null,!0):k(R._vnode||null,E,R,null,null,null,X),R._vnode=E,Fe||(Fe=!0,da(),ua(),Fe=!1)},Ke={p:k,um:te,m:Y,r:ce,mt:Te,mc:x,pc:ee,pbc:G,n:xe,o:e};return{render:$e,hydrate:void 0,createApp:ku($e)}}function gi({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function fn({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Vu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ya(e,t,s=!1){const a=e.children,n=t.children;if(Pe(a)&&Pe(n))for(let o=0;o<a.length;o++){const c=a[o];let u=n[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[o]=rn(n[o]),u.el=c.el),!s&&u.patchFlag!==-2&&Ya(c,u)),u.type===xs&&u.patchFlag!==-1&&(u.el=c.el),u.type===Qt&&!u.el&&(u.el=c.el)}}function Hu(e){const t=e.slice(),s=[0];let a,n,o,c,u;const _=e.length;for(a=0;a<_;a++){const p=e[a];if(p!==0){if(n=s[s.length-1],e[n]<p){t[a]=n,s.push(a);continue}for(o=0,c=s.length-1;o<c;)u=o+c>>1,e[s[u]]<p?o=u+1:c=u;p<e[s[o]]&&(o>0&&(t[a]=s[o-1]),s[o]=a)}}for(o=s.length,c=s[o-1];o-- >0;)s[o]=c,c=t[c];return s}function Ua(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ua(t)}function Xa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Bu=Symbol.for("v-scx"),Ku=()=>Rs(Bu);function Qe(e,t,s){return Ga(e,t,s)}function Ga(e,t,s=je){const{immediate:a,deep:n,flush:o,once:c}=s,u=_t({},s),_=t&&a||!t&&o!=="post";let p;if(qn){if(o==="sync"){const O=Ku();p=O.__watcherHandles||(O.__watcherHandles=[])}else if(!_){const O=()=>{};return O.stop=Dt,O.resume=Dt,O.pause=Dt,O}}const f=mt;u.call=(O,L,k)=>Ut(O,f,L,k);let l=!1;o==="post"?u.scheduler=O=>{yt(O,f&&f.suspense)}:o!=="sync"&&(l=!0,u.scheduler=(O,L)=>{L?O():li(O)}),u.augmentJob=O=>{t&&(O.flags|=4),l&&(O.flags|=2,f&&(O.id=f.uid,O.i=f))};const h=su(e,t,u);return qn&&(p?p.push(h):_&&h()),h}function ju(e,t,s){const a=this.proxy,n=tt(e)?e.includes(".")?Fa(a,e):()=>a[e]:e.bind(a,a);let o;Ie(t)?o=t:(o=t.handler,s=t);const c=Wn(this),u=Ga(n,o.bind(a),s);return c(),u}function Fa(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const Ju=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tn(t)}Modifiers`]||e[`${nn(t)}Modifiers`];function Wu(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||je;let n=s;const o=t.startsWith("update:"),c=o&&Ju(a,t.slice(7));c&&(c.trim&&(n=s.map(f=>tt(f)?f.trim():f)),c.number&&(n=s.map(cs)));let u,_=a[u=Bs(t)]||a[u=Bs(tn(t))];!_&&o&&(_=a[u=Bs(nn(t))]),_&&Ut(_,e,6,n);const p=a[u+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Ut(p,e,6,n)}}const qu=new WeakMap;function Va(e,t,s=!1){const a=s?qu:t.emitsCache,n=a.get(e);if(n!==void 0)return n;const o=e.emits;let c={},u=!1;if(!Ie(e)){const _=p=>{const f=Va(p,t,!0);f&&(u=!0,_t(c,f))};!s&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}return!o&&!u?(We(e)&&a.set(e,null),null):(Pe(o)?o.forEach(_=>c[_]=null):_t(c,o),We(e)&&a.set(e,c),c)}function Os(e,t){return!e||!os(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ve(e,t[0].toLowerCase()+t.slice(1))||Ve(e,nn(t))||Ve(e,t))}function wP(){}function Ha(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[o],slots:c,attrs:u,emit:_,render:p,renderCache:f,props:l,data:h,setupState:O,ctx:L,inheritAttrs:k}=e,v=Ss(e);let I,P;try{if(s.shapeFlag&4){const D=n||a,H=D;I=Gt(p.call(H,D,f,l,O,h,L)),P=u}else{const D=t;I=Gt(D.length>1?D(l,{attrs:u,slots:c,emit:_}):D(l,null)),P=t.props?u:zu(u)}}catch(D){Kn.length=0,Cs(D,e,1),I=st(Qt)}let w=I;if(P&&k!==!1){const D=Object.keys(P),{shapeFlag:H}=w;D.length&&H&7&&(o&&D.some(Fs)&&(P=Qu(P,o)),w=Nn(w,P,!1,!0))}return s.dirs&&(w=Nn(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&ci(w,s.transition),I=w,Ss(v),I}const zu=e=>{let t;for(const s in e)(s==="class"||s==="style"||os(s))&&((t||(t={}))[s]=e[s]);return t},Qu=(e,t)=>{const s={};for(const a in e)(!Fs(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function Zu(e,t,s){const{props:a,children:n,component:o}=e,{props:c,children:u,patchFlag:_}=t,p=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&_>=0){if(_&1024)return!0;if(_&16)return a?Ba(a,c,p):!!c;if(_&8){const f=t.dynamicProps;for(let l=0;l<f.length;l++){const h=f[l];if(c[h]!==a[h]&&!Os(p,h))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:a===c?!1:a?c?Ba(a,c,p):!0:!!c;return!1}function Ba(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const o=a[n];if(t[o]!==e[o]&&!Os(s,o))return!0}return!1}function e_({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ka=e=>e.__isSuspense;function t_(e,t){t&&t.pendingBranch?Pe(e)?t.effects.push(...e):t.effects.push(e):du(e)}const Ne=Symbol.for("v-fgt"),xs=Symbol.for("v-txt"),Qt=Symbol.for("v-cmt"),vs=Symbol.for("v-stc"),Kn=[];let Rt=null;function g(e=!1){Kn.push(Rt=e?null:[])}function n_(){Kn.pop(),Rt=Kn[Kn.length-1]||null}let jn=1;function ja(e,t=!1){jn+=e,e<0&&Rt&&t&&(Rt.hasOnce=!0)}function Ja(e){return e.dynamicChildren=jn>0?Rt||Cn:null,n_(),jn>0&&Rt&&Rt.push(e),e}function S(e,t,s,a,n,o){return Ja(i(e,t,s,a,n,o,!0))}function Ct(e,t,s,a,n){return Ja(st(e,t,s,a,n,!0))}function Ei(e){return e?e.__v_isVNode===!0:!1}function Jn(e,t){return e.type===t.type&&e.key===t.key}const Wa=({key:e})=>e!=null?e:null,Ns=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?tt(e)||lt(e)||Ie(e)?{i:ut,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,a=0,n=null,o=e===Ne?0:1,c=!1,u=!1){const _={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Wa(t),ref:t&&Ns(t),scopeId:pa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ut};return u?(Ci(_,s),o&128&&e.normalize(_)):s&&(_.shapeFlag|=tt(s)?8:16),jn>0&&!c&&Rt&&(_.patchFlag>0||o&6)&&_.patchFlag!==32&&Rt.push(_),_}const st=s_;function s_(e,t=null,s=null,a=0,n=null,o=!1){if((!e||e===yu)&&(e=Qt),Ei(e)){const u=Nn(e,t,!0);return s&&Ci(u,s),jn>0&&!o&&Rt&&(u.shapeFlag&6?Rt[Rt.indexOf(e)]=u:Rt.push(u)),u.patchFlag=-2,u}if(E_(e)&&(e=e.__vccOpts),t){t=i_(t);let{class:u,style:_}=t;u&&!tt(u)&&(t.class=Le(u)),We(_)&&(oi(_)&&!Pe(_)&&(_=_t({},_)),t.style=jt(_))}const c=tt(e)?1:Ka(e)?128:_u(e)?64:We(e)?4:Ie(e)?2:0;return i(e,t,s,a,n,c,o,!0)}function i_(e){return e?oi(e)||Ma(e)?_t({},e):e:null}function Nn(e,t,s=!1,a=!1){const{props:n,ref:o,patchFlag:c,children:u,transition:_}=e,p=t?o_(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Wa(p),ref:t&&t.ref?s&&o?Pe(o)?o.concat(Ns(t)):[o,Ns(t)]:Ns(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ne?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:_,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Nn(e.ssContent),ssFallback:e.ssFallback&&Nn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return _&&a&&ci(f,_.clone(f)),f}function ke(e=" ",t=0){return st(xs,null,e,t)}function a_(e,t){const s=st(vs,null,e);return s.staticCount=t,s}function ue(e="",t=!1){return t?(g(),Ct(Qt,null,e)):st(Qt,null,e)}function Gt(e){return e==null||typeof e=="boolean"?st(Qt):Pe(e)?st(Ne,null,e.slice()):Ei(e)?rn(e):st(xs,null,String(e))}function rn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Nn(e)}function Ci(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Pe(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),Ci(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Ma(t)?t._ctx=ut:n===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ie(t)?(t={default:t,_ctx:ut},s=32):(t=String(t),a&64?(s=16,t=[ke(t)]):s=8);e.children=t,e.shapeFlag|=s}function o_(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=Le([t.class,a.class]));else if(n==="style")t.style=jt([t.style,a.style]);else if(os(n)){const o=t[n],c=a[n];c&&o!==c&&!(Pe(o)&&o.includes(c))&&(t[n]=o?[].concat(o,c):c)}else n!==""&&(t[n]=a[n])}return t}function Ft(e,t,s,a=null){Ut(e,t,7,[s,a])}const r_=va();let l_=0;function c_(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||r_,o={uid:l_++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Nd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ka(a,n),emitsOptions:Va(a,n),emit:null,emitted:null,propsDefaults:je,inheritAttrs:a.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Wu.bind(null,o),e.ce&&e.ce(o),o}let mt=null;const d_=()=>mt||ut;let Ps,Ai;{const e=ds(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),o=>{n.length>1?n.forEach(c=>c(o)):n[0](o)}};Ps=t("__VUE_INSTANCE_SETTERS__",s=>mt=s),Ai=t("__VUE_SSR_SETTERS__",s=>qn=s)}const Wn=e=>{const t=mt;return Ps(e),e.scope.on(),()=>{e.scope.off(),Ps(t)}},qa=()=>{mt&&mt.scope.off(),Ps(null)};function za(e){return e.vnode.shapeFlag&4}let qn=!1;function u_(e,t=!1,s=!1){t&&Ai(t);const{props:a,children:n}=e.vnode,o=za(e);wu(e,a,o,t),Uu(e,n,s||t);const c=o?__(e,t):void 0;return t&&Ai(!1),c}function __(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ou);const{setup:a}=s;if(a){Lt();const n=e.setupContext=a.length>1?f_(e):null,o=Wn(e),c=yn(a,e,0,[e.props,n]),u=Ii(c);if(Yt(),o(),(u||e.sp)&&!xn(e)&&ma(e),u){if(c.then(qa,qa),t)return c.then(_=>{Qa(e,_)}).catch(_=>{Cs(_,e,0)});e.asyncDep=c}else Qa(e,c)}else Za(e)}function Qa(e,t,s){Ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:We(t)&&(e.setupState=aa(t)),Za(e)}function Za(e,t,s){const a=e.type;e.render||(e.render=a.render||Dt);{const n=Wn(e);Lt();try{xu(e)}finally{Yt(),n()}}}const p_={get(e,t){return dt(e,"get",""),e[t]}};function f_(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,p_),slots:e.slots,emit:e.emit,expose:t}}function Ms(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(aa(qd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Hn)return Hn[s](e)},has(t,s){return s in t||s in Hn}})):e.proxy}const m_=/(?:^|[-_])\w/g,h_=e=>e.replace(m_,t=>t.toUpperCase()).replace(/[-_]/g,"");function g_(e,t=!0){return Ie(e)?e.displayName||e.name:e.name||t&&e.__name}function eo(e,t,s=!1){let a=g_(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=o=>{for(const c in o)if(o[c]===t)return c};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?h_(a):s?"App":"Anonymous"}function E_(e){return Ie(e)&&"__vccOpts"in e}const Se=(e,t)=>tu(e,t,qn),C_="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Si;const to=typeof window!="undefined"&&window.trustedTypes;if(to)try{Si=to.createPolicy("vue",{createHTML:e=>e})}catch(e){}const no=Si?e=>Si.createHTML(e):e=>e,A_="http://www.w3.org/2000/svg",S_="http://www.w3.org/1998/Math/MathML",Zt=typeof document!="undefined"?document:null,so=Zt&&Zt.createElement("template"),b_={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?Zt.createElementNS(A_,e):t==="mathml"?Zt.createElementNS(S_,e):s?Zt.createElement(e,{is:s}):Zt.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>Zt.createTextNode(e),createComment:e=>Zt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,o){const c=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{so.innerHTML=no(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const u=so.content;if(a==="svg"||a==="mathml"){const _=u.firstChild;for(;_.firstChild;)u.appendChild(_.firstChild);u.removeChild(_)}t.insertBefore(u,s)}return[c?c.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},T_=Symbol("_vtc");function y_(e,t,s){const a=e[T_];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Is=Symbol("_vod"),io=Symbol("_vsh"),Pn={name:"show",beforeMount(e,{value:t},{transition:s}){e[Is]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):zn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),zn(e,!0),a.enter(e)):a.leave(e,()=>{zn(e,!1)}):zn(e,t))},beforeUnmount(e,{value:t}){zn(e,t)}};function zn(e,t){e.style.display=t?e[Is]:"none",e[io]=!t}const R_=Symbol(""),O_=/(?:^|;)\s*display\s*:/;function x_(e,t,s){const a=e.style,n=tt(s);let o=!1;if(s&&!n){if(t)if(tt(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();s[u]==null&&ks(a,u,"")}else for(const c in t)s[c]==null&&ks(a,c,"");for(const c in s)c==="display"&&(o=!0),ks(a,c,s[c])}else if(n){if(t!==s){const c=a[R_];c&&(s+=";"+c),a.cssText=s,o=O_.test(s)}}else t&&e.removeAttribute("style");Is in e&&(e[Is]=o?a.display:"",e[io]&&(a.display="none"))}const ao=/\s*!important$/;function ks(e,t,s){if(Pe(s))s.forEach(a=>ks(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=v_(e,t);ao.test(s)?e.setProperty(nn(a),s.replace(ao,""),"important"):e[a]=s}}const oo=["Webkit","Moz","ms"],bi={};function v_(e,t){const s=bi[t];if(s)return s;let a=tn(t);if(a!=="filter"&&a in e)return bi[t]=a;a=wi(a);for(let n=0;n<oo.length;n++){const o=oo[n]+a;if(o in e)return bi[t]=o}return t}const ro="http://www.w3.org/1999/xlink";function lo(e,t,s,a,n,o=xd(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ro,t.slice(6,t.length)):e.setAttributeNS(ro,t,s):s==null||o&&!Yi(s)?e.removeAttribute(t):e.setAttribute(t,o?"":Mt(s)?String(s):s)}function co(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?no(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,_=s==null?e.type==="checkbox"?"on":"":String(s);(u!==_||!("_value"in e))&&(e.value=_),s==null&&e.removeAttribute(t),e._value=s;return}let c=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Yi(s):s==null&&u==="string"?(s="",c=!0):u==="number"&&(s=0,c=!0)}try{e[t]=s}catch(u){}c&&e.removeAttribute(n||t)}function ln(e,t,s,a){e.addEventListener(t,s,a)}function N_(e,t,s,a){e.removeEventListener(t,s,a)}const uo=Symbol("_vei");function P_(e,t,s,a,n=null){const o=e[uo]||(e[uo]={}),c=o[t];if(a&&c)c.value=a;else{const[u,_]=M_(t);if(a){const p=o[t]=$_(a,n);ln(e,u,p,_)}else c&&(N_(e,u,c,_),o[t]=void 0)}}const _o=/(?:Once|Passive|Capture)$/;function M_(e){let t;if(_o.test(e)){t={};let a;for(;a=e.match(_o);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):nn(e.slice(2)),t]}let Ti=0;const I_=Promise.resolve(),k_=()=>Ti||(I_.then(()=>Ti=0),Ti=Date.now());function $_(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Ut(w_(a,s.value),t,5,[a])};return s.value=e,s.attached=k_(),s}function w_(e,t){if(Pe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const po=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,D_=(e,t,s,a,n,o)=>{const c=n==="svg";t==="class"?y_(e,a,c):t==="style"?x_(e,s,a):os(t)?Fs(t)||P_(e,t,s,a,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):L_(e,t,a,c))?(co(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&lo(e,t,a,c,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!tt(a))?co(e,tn(t),a,o,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),lo(e,t,a,c))};function L_(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&po(t)&&Ie(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return po(t)&&tt(s)?!1:t in e}const Mn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Pe(t)?s=>ls(t,s):t};function Y_(e){e.target.composing=!0}function fo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const en=Symbol("_assign"),Ee={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[en]=Mn(n);const o=a||n.props&&n.props.type==="number";ln(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;s&&(u=u.trim()),o&&(u=cs(u)),e[en](u)}),s&&ln(e,"change",()=>{e.value=e.value.trim()}),t||(ln(e,"compositionstart",Y_),ln(e,"compositionend",fo),ln(e,"change",fo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:o}},c){if(e[en]=Mn(c),e.composing)return;const u=(o||e.type==="number")&&!/^0\d/.test(e.value)?cs(e.value):e.value,_=t==null?"":t;u!==_&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===_)||(e.value=_))}},ht={deep:!0,created(e,t,s){e[en]=Mn(s),ln(e,"change",()=>{const a=e._modelValue,n=Qn(e),o=e.checked,c=e[en];if(Pe(a)){const u=Ks(a,n),_=u!==-1;if(o&&!_)c(a.concat(n));else if(!o&&_){const p=[...a];p.splice(u,1),c(p)}}else if(Sn(a)){const u=new Set(a);o?u.add(n):u.delete(n),c(u)}else c(go(e,o))})},mounted:mo,beforeUpdate(e,t,s){e[en]=Mn(s),mo(e,t,s)}};function mo(e,{value:t,oldValue:s},a){e._modelValue=t;let n;if(Pe(t))n=Ks(t,a.props.value)>-1;else if(Sn(t))n=t.has(a.props.value);else{if(t===s)return;n=wn(t,go(e,!0))}e.checked!==n&&(e.checked=n)}const At={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const n=Sn(t);ln(e,"change",()=>{const o=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?cs(Qn(c)):Qn(c));e[en](e.multiple?n?new Set(o):o:o[0]),e._assigning=!0,la(()=>{e._assigning=!1})}),e[en]=Mn(a)},mounted(e,{value:t}){ho(e,t)},beforeUpdate(e,t,s){e[en]=Mn(s)},updated(e,{value:t}){e._assigning||ho(e,t)}};function ho(e,t){const s=e.multiple,a=Pe(t);if(!(s&&!a&&!Sn(t))){for(let n=0,o=e.options.length;n<o;n++){const c=e.options[n],u=Qn(c);if(s)if(a){const _=typeof u;_==="string"||_==="number"?c.selected=t.some(p=>String(p)===String(u)):c.selected=Ks(t,u)>-1}else c.selected=t.has(u);else if(wn(Qn(c),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Qn(e){return"_value"in e?e._value:e.value}function go(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const U_=["ctrl","shift","alt","meta"],X_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>U_.some(s=>e[`${s}Key`]&&!t.includes(s))},Nt=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...o)=>{for(let c=0;c<t.length;c++){const u=X_[t[c]];if(u&&u(n,t))return}return e(n,...o)})},G_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},St=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const o=nn(n.key);if(t.some(c=>c===o||G_[c]===o))return e(n)})},F_=_t({patchProp:D_},b_);let Eo;function V_(){return Eo||(Eo=Gu(F_))}const H_=(...e)=>{const t=V_().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=K_(a);if(!n)return;const o=t._component;!Ie(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const c=s(n,!1,B_(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),c},t};function B_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function K_(e){return tt(e)?document.querySelector(e):e}const Ot=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},j_={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},J_={key:0,class:"nxp-ec-admin-error"},W_={class:"nxp-ec-admin-error__title"},q_={class:"nxp-ec-admin-error__body"};function z_(e,t,s,a,n,o){return g(),S("div",null,[n.error?(g(),S("div",J_,[i("h2",W_,d(o.fallbackTitle),1),i("p",q_,d(o.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...c)=>o.reload&&o.reload(...c))},d(o.reloadLabel),1)])):Ru(e.$slots,"default",{key:1})])}const Q_=Ot(j_,[["render",z_]]),Z_={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},ep={class:"nxp-ec-admin-panel__header"},tp={class:"nxp-ec-admin-panel__title"},np={class:"nxp-ec-admin-panel__lead"},sp={class:"nxp-ec-admin-panel__actions"},ip=["disabled"],ap={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},op={key:1,class:"nxp-ec-dashboard"},rp={class:"nxp-ec-dashboard__metrics"},lp={class:"nxp-ec-dashboard__card"},cp={class:"nxp-ec-dashboard__value"},dp={class:"nxp-ec-dashboard__hint"},up={class:"nxp-ec-dashboard__card"},_p={class:"nxp-ec-dashboard__value"},pp={class:"nxp-ec-dashboard__hint"},fp={class:"nxp-ec-dashboard__card"},mp={class:"nxp-ec-dashboard__value"},hp={class:"nxp-ec-dashboard__hint"},gp={class:"nxp-ec-dashboard__card"},Ep={class:"nxp-ec-dashboard__value"},Cp={class:"nxp-ec-dashboard__hint"},Ap={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Sp={class:"nxp-ec-dashboard__checklist-header"},bp={id:"dashboard-checklist-heading"},Tp={class:"nxp-ec-dashboard__checklist-progress"},yp={class:"nxp-ec-dashboard__checklist-list"},Rp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Op={key:0,class:"fa-solid fa-circle-check"},xp={key:1,class:"fa-regular fa-circle"},vp={class:"nxp-ec-dashboard__checklist-label"},Np=["href","title"],Pp={class:"nxp-ec-sr-only"},Mp=Ot({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,a=s.translate,n=s.state,o=Se(()=>{var l;const f=(l=n.summary)==null?void 0:l.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),c=(f=0)=>{const l=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:o.value}).format(l)}catch(h){return`${o.value} ${l.toFixed(2)}`}},u=Se(()=>Array.isArray(n.checklist)?n.checklist:[]),_=Se(()=>u.value.filter(f=>f.completed).length),p=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,l)=>(g(),S("section",Z_,[i("header",ep,[i("div",null,[i("h2",tp,d(r(a)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",np,d(r(a)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",sp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:l[0]||(l[0]=h=>f.$emit("refresh")),disabled:r(n).loading},d(r(a)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,ip)])]),r(n).error?(g(),S("div",ap,d(r(n).error),1)):(g(),S("div",op,[i("div",rp,[i("article",lp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",cp,d(r(n).summary.products.active),1),i("p",dp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",up,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",_p,d(c(r(n).summary.orders.revenue_today)),1),i("p",pp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",fp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",mp,d(r(n).summary.customers.total),1),i("p",hp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",gp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Ep,d(c(r(n).summary.orders.revenue_month)),1),i("p",Cp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[o.value.value],"dashboardMetricCurrency")),1)])]),i("section",Ap,[i("header",Sp,[i("h3",bp,d(r(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Tp,d(_.value)+" / "+d(u.value.length),1)]),i("ul",yp,[(g(!0),S(Ne,null,De(u.value,h=>(g(),S("li",{key:h.id,class:Le({"is-complete":h.completed})},[i("span",Rp,[h.completed?(g(),S("span",Op)):(g(),S("span",xp))]),i("span",vp,d(r(a)(h.label,p(h.label))),1),h.link?(g(),S("a",{key:0,href:h.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[l[1]||(l[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",Pp,d(r(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Np)):ue("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),Ip={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},kp={id:"nxp-ec-products-caption",class:"visually-hidden"},$p={scope:"col"},wp={scope:"col"},Dp={scope:"col"},Lp={scope:"col"},Yp={scope:"col"},Up={scope:"col"},Xp={scope:"col"},Gp={scope:"col"},Fp={scope:"col",class:"nxp-ec-admin-table__actions"},Vp={key:0},Hp={colspan:"8",class:"nxp-ec-admin-table__empty"},Bp=["data-label"],Kp={class:"nxp-ec-admin-table__primary"},jp={class:"nxp-ec-products-table__title"},Jp={class:"nxp-ec-products-table__slug"},Wp={key:0,class:"nxp-ec-products-table__badge"},qp={class:"nxp-ec-status nxp-ec-status--featured"},zp=["data-label"],Qp={key:0},Zp={key:1},ef=["data-label"],tf=["data-label"],nf=["data-label"],sf={key:0},af={key:1},of=["data-label"],rf=["disabled","aria-pressed","title","aria-label","onClick"],lf={class:"nxp-ec-sr-only"},cf=["data-label"],df={class:"nxp-ec-admin-table__actions"},uf=["onClick","title","aria-label"],_f={class:"nxp-ec-sr-only"},pf=["onClick","title","aria-label"],ff={class:"nxp-ec-sr-only"},yi=1,Zn=-1,Ri=0,mf={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,a=Se(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,l=!1)=>{const h=Number(f);if(Number.isFinite(h))return h===Zn?Zn:h===Ri?Ri:yi;if(l)return Zn;if(typeof f=="string"){const O=f.trim().toLowerCase();if(O==="out_of_stock"||O==="out-of-stock"||O==="-1")return Zn;if(O==="inactive"||O==="0")return Ri}return yi},o=f=>{var L;const l=n((L=f==null?void 0:f.status)!=null?L:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),h=l===yi,O=l===Zn;return{status:l,isActive:h,isOutOfStock:O,label:h?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):O?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:h?"nxp-ec-status--active":O?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:h?"fa-solid fa-circle-check":O?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},c=f=>{var k,v,I,P;const l=(v=(k=f==null?void 0:f.summary)==null?void 0:k.variants)!=null?v:{};if(l.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const h=Number.isFinite(l.price_min_cents)?l.price_min_cents:null,O=Number.isFinite(l.price_max_cents)?l.price_max_cents:null;if(h===null)return"";const L=l.currency||((P=(I=f==null?void 0:f.variants)==null?void 0:I[0])==null?void 0:P.currency)||a.value;return O===null||O===h?p(h,L):`${p(h,L)}  ${p(O,L)}`},u=f=>{var O,L;const l=(L=(O=f==null?void 0:f.summary)==null?void 0:O.variants)!=null?L:{},h=Number.isFinite(l.count)?l.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return h===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(h)])},_=f=>{if(!Array.isArray(f)||!f.length)return"";const l=f.map(L=>(L==null?void 0:L.title)||(L==null?void 0:L.slug)).filter(L=>!!L);if(!l.length)return"";if(l.length<=3)return l.join(", ");const h=l.slice(0,3).join(", "),O=l.length-3;return`${h} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(O)])}`},p=(f,l)=>`${(f/100).toFixed(2)} ${l}`;return(f,l)=>(g(),S("table",Ip,[i("caption",kp,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",$p,d(r(s)("JGRID_HEADING_ID","ID")),1),i("th",wp,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",Dp,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",Lp,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",Yp,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",Up,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",Xp,d(r(s)("JSTATUS","Status")),1),i("th",Gp,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",Fp,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?ue("",!0):(g(),S("tr",Vp,[i("td",Hp,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(g(!0),S(Ne,null,De(e.items,h=>{var O,L,k,v,I,P,w,D,H,pe,ie,x;return g(),S("tr",{key:h.id},[i("td",{"data-label":r(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},d(h.id),9,Bp),i("td",Kp,[i("div",jp,d(h.title),1),i("div",Jp,d(h.slug),1),h.featured?(g(),S("div",Wp,[i("span",qp,[l[0]||(l[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),ke(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ue("",!0)]),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[c(h)?(g(),S("span",Qp,d(c(h)),1)):(g(),S("span",Zp,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,zp),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},d(u(h)),9,ef),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[i("span",{class:Le(["nxp-ec-status",(L=(O=h.summary)==null?void 0:O.variants)!=null&&L.stock_zero?"nxp-ec-status--danger":(v=(k=h.summary)==null?void 0:k.variants)!=null&&v.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(P=(I=h.summary)==null?void 0:I.variants)!=null&&P.stock_zero||((D=(w=h.summary)==null?void 0:w.variants)==null?void 0:D.stock_total)===0?(g(),S(Ne,{key:0},[ke(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(g(),S(Ne,{key:1},[ke(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ie=(pe=(H=h.summary)==null?void 0:H.variants)==null?void 0:pe.stock_total)!=null?ie:0)])),1)],64))],2)],8,tf),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(x=h.categories)!=null&&x.length?(g(),S("span",sf,d(_(h.categories)),1)):(g(),S("span",af,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,nf),i("td",{"data-label":r(s)("JSTATUS","Status")},[i("button",{type:"button",class:Le(["nxp-ec-status","nxp-ec-status-button",o(h).className]),disabled:e.saving,"aria-pressed":o(h).isActive?"true":"false",title:o(h).title,"aria-label":o(h).title,onClick:he=>f.$emit("toggle-active",h)},[i("i",{class:Le(o(h).icon),"aria-hidden":"true"},null,2),ke(" "+d(o(h).label)+" ",1),i("span",lf,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,rf)],8,of),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},d(h.modified||h.created),9,cf),i("td",df,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:he=>f.$emit("edit",h),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[l[1]||(l[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",_f,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,uf),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:he=>f.$emit("delete",h),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[l[2]||(l[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",ff,d(r(s)("JTRASH","Delete")),1)],8,pf)])])}),128))])]))}};class hf{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const a={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};a.headers={...a.headers,...s.headers||{}};const n=String(a.method||"GET").toUpperCase();let o=t;this.token&&(a.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(o=this.ensureTokenOnUrl(o)));const c=await fetch(o,a);let u=null;const _=await c.text();if(_)try{u=JSON.parse(_)}catch(p){}if(!c.ok){const p=new Error((u==null?void 0:u.message)||`Request failed with status ${c.status}`);throw p.code=c.status,p.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,p}if((u==null?void 0:u.success)===!1){const p=new Error(u.message||"Unknown API error");throw p.details=u.data||u.errors||null,p}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const a=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,a);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(a){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var h,O,L,k;const c=new URLSearchParams({limit:String(s),start:String(a)});n&&c.set("search",n);const u=`${t}&${c.toString()}`,p=(h=(await this.get(u,{signal:o})).data)!=null?h:{},f=(L=(O=p.items)!=null?O:p.data)!=null?L:[],l=(k=p.pagination)!=null?k:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCategories({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var p,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(p=(await this.get(c,{signal:o})).data)!=null?p:{};return{items:(f=_.items)!=null?f:[],pagination:(l=_.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:a=0,search:n="",state:o="",signal:c}){var h,O,L,k;const u=this.mergeParams(t,{limit:s,start:a,search:n||void 0,state:o||void 0}),p=(h=(await this.get(u,{signal:c})).data)!=null?h:{},f=(L=(O=p.items)!=null?O:p.data)!=null?L:[],l=(k=p.pagination)!=null?k:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCustomers({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var l,h,O;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(l=(await this.get(c,{signal:o})).data)!=null?l:{},p=(h=_.items)!=null?h:[],f=(O=_.pagination)!=null?O:{total:0,limit:s,pages:0,current:0};return{items:p,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var o,c;const a=this.mergeParams(t,{email:s});return(c=(o=(await this.get(a)).data)==null?void 0:o.customer)!=null?c:null}async fetchCoupons({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var p,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(p=(await this.get(c,{signal:o})).data)!=null?p:{};return{items:(f=_.items)!=null?f:[],pagination:(l=_.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?o:null}async updateCoupon({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchTaxRates({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var p,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(p=(await this.get(c,{signal:o})).data)!=null?p:{};return{items:(f=_.items)!=null?f:[],pagination:(l=_.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?o:null}async updateTaxRate({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchShippingRules({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var p,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(p=(await this.get(c,{signal:o})).data)!=null?p:{};return{items:(f=_.items)!=null?f:[],pagination:(l=_.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?o:null}async updateShippingRule({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchLogs({endpoint:t,limit:s=20,start:a=0,search:n="",entity:o="",signal:c}){var f,l,h;const u=this.mergeParams(t,{limit:s,start:a,search:n||void 0,entity:o||void 0}),p=(f=(await this.get(u,{signal:c})).data)!=null?f:{};return{items:(l=p.items)!=null?l:[],pagination:(h=p.pagination)!=null?h:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var a;return t?(a=(await this.get(t)).data)!=null?a:{}:{}}async fetchSettings({endpoint:t}){var a,n;return t?(n=(a=(await this.get(t)).data)==null?void 0:a.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,o;return(o=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?o:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:a=""}){var c,u;const n=this.mergeParams(t,{id:s||void 0,order_no:a||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.post(n,{state:a})).data)==null?void 0:c.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:a}){var c;const n={ids:s,state:a};return(c=(await this.post(t,n)).data)!=null?c:{}}async addOrderNote({endpoint:t,id:s,message:a}){var o,c;return(c=(o=(await this.post(t,{id:s,message:a})).data)==null?void 0:o.order)!=null?c:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:a}){var c,u;const n={id:s||void 0,order_no:a||void 0};return(u=(c=(await this.post(t,n)).data)==null?void 0:c.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:a=""}){var c,u;const n=this.mergeParams(t,{search:s||void 0,state:a||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:a}){var o,c;return(c=(o=(await this.post(t,{id:s,...a})).data)==null?void 0:o.order)!=null?c:null}async sendOrderEmail({endpoint:t,id:s,type:a}){var o,c;return(c=(o=(await this.post(t,{id:s,type:a})).data)==null?void 0:o.order)!=null?c:null}async recordTransaction({endpoint:t,id:s,amountCents:a,reference:n,note:o}){var u,_;return(_=(u=(await this.post(t,{id:s,amount_cents:a,reference:n||void 0,note:o||void 0})).data)==null?void 0:u.order)!=null?_:null}async resendDownloads({endpoint:t,id:s}){var n,o;return(o=(n=(await this.post(t,{id:s})).data)==null?void 0:n.order)!=null?o:null}async resetDownload({endpoint:t,downloadId:s,orderId:a}){var o;return(o=(await this.post(t,{download_id:s,order_id:a||void 0})).data)!=null?o:null}async createProduct({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateProduct({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:[]}async fetchDigitalFiles({endpoint:t,productId:s,variantId:a=null,signal:n}){var u,_;const o=this.mergeParams(t,{product_id:s,variant_id:a||void 0});return(_=(u=(await this.get(o,{signal:n})).data)==null?void 0:u.files)!=null?_:[]}async uploadDigitalFile({endpoint:t,productId:s,file:a,variantId:n=null,version:o="1.0"}){var _,p;const c=new FormData;return c.append("product_id",s),n&&c.append("variant_id",n),o&&c.append("version",o),c.append("file",a),(p=(_=(await this.request(t,{method:"POST",body:c})).data)==null?void 0:_.file)!=null?p:null}async deleteDigitalFile({endpoint:t,fileId:s}){var n,o;return(o=(n=(await this.post(t,{id:s})).data)==null?void 0:n.deleted)!=null?o:null}async createCategory({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateCategory({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async gdprExport({endpoint:t,email:s}){var o,c;const a=this.mergeParams(t,{email:s});return(c=(o=(await this.get(a)).data)==null?void 0:o.export)!=null?c:null}async gdprAnonymise({endpoint:t,email:s}){var n,o,c,u;const a=await this.post(t,{email:s});return{affected:(o=(n=a.data)==null?void 0:n.affected)!=null?o:0,message:(u=(c=a.data)==null?void 0:c.message)!=null?u:""}}mergeParams(t,s={}){const a=new URLSearchParams;return Object.entries(s).forEach(([n,o])=>{o==null||o===""||a.set(n,String(o))}),a.toString()?`${t}${t.includes("?")?"&":"?"}${a.toString()}`:t}}const Pt=e=>new hf(e),gf={class:"nxp-ec-modal__dialog"},Ef={class:"nxp-ec-modal__header"},Cf={id:"product-modal-title",class:"nxp-ec-modal__title"},Af={class:"nxp-ec-modal__header-actions"},Sf=["disabled","title","aria-label"],bf={class:"nxp-ec-sr-only"},Tf=["disabled","title","aria-label"],yf={class:"nxp-ec-sr-only"},Rf=["title","aria-label"],Of={class:"nxp-ec-sr-only"},xf={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vf={class:"nxp-ec-editor-tabs",role:"tablist"},Nf={class:"nxp-ec-editor-panel"},Pf={class:"nxp-ec-form-field"},Mf={class:"nxp-ec-form-label",for:"product-title"},If={class:"nxp-ec-form-field"},kf={class:"nxp-ec-form-label",for:"product-slug"},$f=["placeholder"],wf={class:"nxp-ec-form-field"},Df={class:"nxp-ec-form-label",for:"product-short-desc"},Lf={class:"nxp-ec-form-field"},Yf={class:"nxp-ec-form-label",for:"product-long-desc"},Uf={class:"nxp-ec-form-field"},Xf={class:"nxp-ec-form-label",for:"product-status"},Gf={value:1},Ff={value:-1},Vf={value:0},Hf={class:"nxp-ec-form-help"},Bf={class:"nxp-ec-form-field"},Kf={class:"nxp-ec-form-label",for:"product-type"},jf={value:"physical"},Jf={value:"digital"},Wf={class:"nxp-ec-form-help"},qf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},zf={class:"nxp-ec-form-label",for:"product-featured"},Qf={class:"nxp-ec-form-help"},Zf={class:"nxp-ec-editor-panel"},em={class:"nxp-ec-form-field"},tm={class:"nxp-ec-form-label",for:"product-images"},nm={id:"product-images",class:"nxp-ec-image-list"},sm=["id","onUpdate:modelValue","placeholder"],im={class:"nxp-ec-image-row__actions"},am=["onClick"],om=["onClick","disabled"],rm=["onClick","disabled"],lm=["onClick","aria-label"],cm={class:"nxp-ec-form-help"},dm={class:"nxp-ec-editor-panel"},um={class:"nxp-ec-form-field"},_m={class:"nxp-ec-form-label",for:"product-category-select"},pm=["value"],fm={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},mm=["onClick","aria-label"],hm={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},gm=["onKeydown","placeholder"],Em={class:"nxp-ec-form-help"},Cm={class:"nxp-ec-variant-section"},Am={class:"nxp-ec-variant-section__header"},Sm={class:"nxp-ec-variant-section__title"},bm={class:"nxp-ec-form-help"},Tm={class:"nxp-ec-variant-card__header"},ym={class:"nxp-ec-variant-card__title"},Rm=["onClick"],Om=["onClick","disabled"],xm={class:"nxp-ec-variant-card__grid"},vm={class:"nxp-ec-form-field"},Nm=["for"],Pm=["id","onUpdate:modelValue"],Mm={class:"nxp-ec-form-field"},Im=["for"],km=["id","onUpdate:modelValue","onBlur"],$m={class:"nxp-ec-form-field"},wm=["for"],Dm=["id","onUpdate:modelValue"],Lm={class:"nxp-ec-form-field"},Ym=["for"],Um=["id","onUpdate:modelValue"],Xm={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Gm=["for"],Fm=["id","onUpdate:modelValue"],Vm={class:"nxp-ec-form-help"},Hm={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Bm=["for"],Km=["id","onUpdate:modelValue"],jm={class:"nxp-ec-variant-options"},Jm={class:"nxp-ec-variant-options__header"},Wm={class:"nxp-ec-variant-options__title"},qm=["onClick"],zm={class:"nxp-ec-form-help"},Qm=["id","onUpdate:modelValue","placeholder"],Zm=["id","onUpdate:modelValue","placeholder"],eh=["onClick","aria-label"],th={class:"nxp-ec-editor-panel nxp-ec-editor-panel--digital"},nh={class:"nxp-ec-admin-alert nxp-ec-admin-alert--info"},sh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ih={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},ah={class:"nxp-ec-digital-grid"},oh={class:"nxp-ec-digital-card"},rh={class:"nxp-ec-form-field"},lh={class:"nxp-ec-form-label",for:"digital-file-input"},ch=["disabled"],dh={class:"nxp-ec-form-field"},uh={class:"nxp-ec-form-label",for:"digital-version"},_h=["disabled"],ph={class:"nxp-ec-form-field"},fh={class:"nxp-ec-form-label",for:"digital-variant"},mh=["disabled"],hh={value:""},gh=["value"],Eh={class:"nxp-ec-form-help"},Ch={class:"nxp-ec-admin-form__actions"},Ah=["disabled"],Sh={class:"nxp-ec-digital-card"},bh={class:"nxp-ec-digital-card__header"},Th={key:0},yh={key:0,class:"nxp-ec-form-help"},Rh={key:1,class:"nxp-ec-digital-table"},Oh={class:"nxp-ec-digital-meta"},xh={class:"nxp-ec-admin-panel__muted"},vh={key:0,class:"nxp-ec-admin-panel__muted"},Nh={class:"nxp-ec-digital-actions"},Ph=["disabled","onClick"],Mh={class:"nxp-ec-modal__actions"},Ih=["disabled"],kh=["disabled"],Co="product-editor-form",$h=Ot({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Se(()=>(s.baseCurrency||"USD").toUpperCase()),c=ze("general"),u=Pt({token:s.csrfToken||""}),_=Se(()=>s.digitalEndpoints||{});Se(()=>s.csrfToken||"");const p=N=>{var m,K,Ae,be,U,ge,se,Ye;if(N==null)return null;if(typeof N=="string"){const Xe=N.trim();return Xe===""?null:{id:0,title:Xe,slug:""}}if(typeof N=="object"){const Xe=Number.parseInt((K=(m=N.id)!=null?m:N.value)!=null?K:0,10)||0,et=(se=(ge=(U=(be=(Ae=N.title)!=null?Ae:N.name)!=null?be:N.text)!=null?U:N.label)!=null?ge:N.slug)!=null?se:"",nt=String(et!=null?et:"").trim(),at=String((Ye=N.slug)!=null?Ye:"").trim(),gt=N.parent_id!==null&&N.parent_id!==void 0&&Number.parseInt(N.parent_id,10)||null;return Xe<=0&&nt===""?null:{id:Xe>0?Xe:0,title:nt!==""?nt:at,slug:at,parent_id:gt}}return null},f=N=>{const m=Number(N);if(Number.isFinite(m))return m===-1?-1:m===0?0:1;if(typeof N=="string"){const K=N.trim().toLowerCase();if(K==="out_of_stock"||K==="out-of-stock"||K==="-1")return-1;if(K==="inactive"||K==="0")return 0}return 1},l=Be({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[],product_type:"physical",digital_files:[]}),h=ze(""),O=ze(!1),L=Se(()=>(l.product_type||"physical").toString().toLowerCase()),k=Se(()=>L.value==="digital"),v=Be({files:[],loading:!1,uploading:!1,deletingId:0,error:"",version:"1.0",variantId:""}),I=ze(null),P=ze(null),w=()=>{I.value=null,P.value&&(P.value.value="")},D=(N,m,K=new Set)=>{if(!N||K.has(N))return 0;K.add(N);const Ae=m.find(be=>be.id===N);return!Ae||!Ae.parent_id?0:1+D(Ae.parent_id,m,K)},H=N=>{if(!N)return"";const m=Array.isArray(s.categoryOptions)?s.categoryOptions:[],K=D(N.id,m);return K===0?N.title:"".repeat(K)+" "+N.title},pe=Se(()=>{const m=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(p).filter(U=>U&&U.id>0&&U.title!==""),K=new Map;m.forEach(U=>{K.set(U.id,U)}),l.categories.forEach(U=>{var ge;U.id>0&&U.title&&!K.has(U.id)&&K.set(U.id,{id:U.id,title:U.title,slug:(ge=U.slug)!=null?ge:"",parent_id:U.parent_id!==null&&U.parent_id!==void 0?U.parent_id:null})});const Ae=Array.from(K.values()),be=(U=null,ge=0)=>Ae.filter(se=>se.parent_id===U).sort((se,Ye)=>se.title.localeCompare(Ye.title)).flatMap(se=>[se,...be(se.id,ge+1)]);return be()}),ie=Se(()=>{const N=new Map;return pe.value.forEach(m=>{var K;N.set(m.id,{title:m.title,slug:(K=m.slug)!=null?K:""})}),N}),x=Se({get:()=>l.categories.filter(m=>m&&m.id>0).map(m=>m.id),set:N=>{const m=Array.isArray(N)?N:[],K=Array.from(new Set(m.map(U=>Number.parseInt(U!=null?U:0,10)||0).filter(U=>U>0))),Ae=l.categories.filter(U=>!(U.id>0)),be=K.map(U=>{const ge=ie.value.get(U),se=l.categories.find(et=>et.id===U),Ye=(ge==null?void 0:ge.title)||(se==null?void 0:se.title)||"",Xe=(ge==null?void 0:ge.slug)||(se==null?void 0:se.slug)||"";return Ye===""?null:{id:U,title:Ye,slug:Xe}}).filter(U=>U!==null);l.categories.splice(0,l.categories.length,...be,...Ae)}}),he=Se(()=>s.product&&s.product.id?"edit":"create"),G=()=>({id:0,sku:"",price:"",currency:o.value,stock:0,weight:"",active:!0,options:[],is_digital:k.value}),F=()=>({name:"",value:""}),Z=N=>N?N.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",fe=()=>{O.value=!0,l.slug=Z(l.slug)},Te=N=>{const K=(Array.isArray(N)?N:[]).map(p).filter(U=>U&&(U.id>0||U.title!=="")),Ae=new Set,be=[];K.forEach(U=>{const ge=U.id>0?`id:${U.id}`:`title:${U.title.toLowerCase()}`;Ae.has(ge)||(Ae.add(ge),be.push(U))}),l.categories.splice(0,l.categories.length,...be)},b=N=>{l.variants.splice(0,l.variants.length,...N),ye()},A=N=>{l.images.splice(0,l.images.length,...N)},C=N=>Array.isArray(N)?N.map(m=>{var K,Ae,be;return{name:String((Ae=(K=m==null?void 0:m.name)!=null?K:m==null?void 0:m.key)!=null?Ae:"").trim(),value:String((be=m==null?void 0:m.value)!=null?be:"").trim()}}):N&&typeof N=="object"?Object.entries(N).map(([m,K])=>({name:String(m!=null?m:"").trim(),value:String(K!=null?K:"").trim()})):[],ee=N=>Array.isArray(N)?N.map(m=>{var K,Ae,be,U,ge,se,Ye;return{id:Number.parseInt((K=m==null?void 0:m.id)!=null?K:0,10)||0,product_id:Number.parseInt((Ae=m==null?void 0:m.product_id)!=null?Ae:0,10)||0,variant_id:(m==null?void 0:m.variant_id)!==null&&(m==null?void 0:m.variant_id)!==void 0?Number.parseInt(m.variant_id,10)||0:null,filename:String((be=m==null?void 0:m.filename)!=null?be:"").trim(),storage_path:String((U=m==null?void 0:m.storage_path)!=null?U:"").trim(),file_size:Number.parseInt((ge=m==null?void 0:m.file_size)!=null?ge:0,10)||0,mime_type:(m==null?void 0:m.mime_type)!==null&&(m==null?void 0:m.mime_type)!==void 0?String(m.mime_type).trim():"",version:String((se=m==null?void 0:m.version)!=null?se:"1.0").trim()||"1.0",created:String((Ye=m==null?void 0:m.created)!=null?Ye:"").trim()}}).filter(m=>m.id>0&&m.filename!==""):[],V=N=>!Array.isArray(N)||N.length===0?[G()]:N.map(m=>{var K,Ae,be,U;return{id:Number.parseInt((K=m==null?void 0:m.id)!=null?K:0,10)||0,sku:String((Ae=m==null?void 0:m.sku)!=null?Ae:"").trim(),price:(m==null?void 0:m.price)!=null?String(m.price):Number.isFinite(m==null?void 0:m.price_cents)?(m.price_cents/100).toFixed(2):"",currency:String((be=m==null?void 0:m.currency)!=null?be:o.value).toUpperCase(),stock:Number.parseInt((U=m==null?void 0:m.stock)!=null?U:0,10)||0,weight:(m==null?void 0:m.weight)!=null?String(m.weight):"",active:(m==null?void 0:m.active)!==void 0?!!m.active:!0,options:C(m==null?void 0:m.options),is_digital:(m==null?void 0:m.is_digital)!==void 0?!!m.is_digital:k.value}}),ye=()=>{l.variants.forEach(N=>{(N.is_digital===void 0||N.is_digital===null)&&(N.is_digital=k.value),k.value&&(N.weight="")})},Y=N=>{var U,ge,se,Ye,Xe;const m=N?JSON.parse(JSON.stringify(N)):{};l.title=(U=m.title)!=null?U:"",l.slug=(ge=m.slug)!=null?ge:"",l.short_desc=(se=m.short_desc)!=null?se:"",l.long_desc=(Ye=m.long_desc)!=null?Ye:"",l.status=f(m.status!==void 0?m.status:m.active),l.featured=m.featured!==void 0?!!m.featured:!1,l.product_type=typeof m.product_type=="string"&&m.product_type!==""?m.product_type.toLowerCase():"physical";const K=Array.isArray(m.images)?m.images.map(et=>String(et!=null?et:"").trim()).filter(Boolean):[];A(K);const Ae=Array.isArray(m.categories)?m.categories:[];Te(Ae);const be=ee((Xe=m.digital_files)!=null?Xe:[]);l.digital_files.splice(0,l.digital_files.length,...be),v.files=be.slice(),v.error="",v.variantId="",v.version="1.0",v.deletingId=0,w(),h.value="",b(V(m.variants)),O.value=!!l.slug},te=Se(()=>l.variants.map((N,m)=>{var U,ge;const K=String((U=N==null?void 0:N.sku)!=null?U:"").trim(),Ae=Array.isArray(N==null?void 0:N.options)?N.options.filter(se=>(se==null?void 0:se.name)&&(se==null?void 0:se.value)).map(se=>`${String(se.name).trim()}: ${String(se.value).trim()}`).join(", "):"",be=n("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(m+1)]);return{id:Number.parseInt((ge=N==null?void 0:N.id)!=null?ge:0,10)||0,label:K||Ae||be}})),ce=N=>{if(!N)return n("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants");const m=te.value.find(K=>K.id===N);return(m==null?void 0:m.label)||n("COM_NXPEASYCART_DIGITAL_VARIANT_SPECIFIC","Variant")},Ce=N=>{const m=Number(N)||0;if(m<=0)return n("COM_NXPEASYCART_DIGITAL_FILE_SIZE_UNKNOWN","Unknown size");const K=["B","KB","MB","GB"];let Ae=0,be=m;for(;be>=1024&&Ae<K.length-1;)be/=1024,Ae+=1;return`${be.toFixed(be>=10?0:1)} ${K[Ae]}`},ve=async()=>{var N,m;if(!((N=s.product)!=null&&N.id)){v.files=ee(l.digital_files);return}if(!((m=_.value)!=null&&m.list)){v.files=ee(l.digital_files);return}v.loading=!0,v.error="";try{const K=await u.fetchDigitalFiles({endpoint:_.value.list,productId:s.product.id}),Ae=ee(K);v.files=Ae,l.digital_files.splice(0,l.digital_files.length,...Ae)}catch(K){v.error=(K==null?void 0:K.message)||n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to load digital files.")}finally{v.loading=!1}},Re=N=>{var K;const m=(K=N==null?void 0:N.target)==null?void 0:K.files;I.value=m&&m.length?m[0]:null},xe=async()=>{var N,m;if(!((N=s.product)!=null&&N.id)){v.error=n("COM_NXPEASYCART_ERROR_PRODUCT_ID_REQUIRED","Save the product before uploading files.");return}if(!((m=_.value)!=null&&m.upload)){v.error=n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Digital upload endpoint unavailable.");return}if(!I.value){v.error=n("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Select a file to upload.");return}v.uploading=!0,v.error="";try{const K=await u.uploadDigitalFile({endpoint:_.value.upload,productId:s.product.id,variantId:v.variantId&&Number.parseInt(v.variantId,10)||null,version:v.version||"1.0",file:I.value}),Ae=K?ee([K]):[];Ae.length&&(v.files.unshift(Ae[0]),l.digital_files.unshift(Ae[0]))}catch(K){v.error=(K==null?void 0:K.message)||n("COM_NXPEASYCART_ERROR_UPLOAD_FAILED","Upload failed.")}finally{v.uploading=!1,w()}},Fe=async N=>{var K,Ae;const m=Number.parseInt((K=N==null?void 0:N.id)!=null?K:0,10)||0;if(!(!m||!((Ae=_.value)!=null&&Ae.delete))){v.deletingId=m,v.error="";try{await u.deleteDigitalFile({endpoint:_.value.delete,fileId:m});const be=v.files.filter(U=>U.id!==m);v.files=be,l.digital_files.splice(0,l.digital_files.length,...be)}catch(be){v.error=(be==null?void 0:be.message)||n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to delete file.")}finally{v.deletingId=0}}};Qe(()=>s.product,N=>{Y(N),c.value="general",c.value==="digital"&&ve()},{immediate:!0}),Qe(()=>l.title,N=>{O.value||(l.slug=Z(N))}),Qe(o,N=>{l.variants.forEach(m=>{m.currency=N})}),Qe(L,()=>{ye()}),Qe(c,N=>{N==="digital"&&ve()});const $e=()=>{const N=h.value.trim();if(!N)return;const m=N.toLowerCase(),K=l.categories.slice();K.some(be=>be.title.toLowerCase()===m)||(K.push({id:0,title:N,slug:""}),l.categories.splice(0,l.categories.length,...K)),h.value=""},Ke=N=>{if(N<0||N>=l.categories.length)return;const m=l.categories.slice();m.splice(N,1),l.categories.splice(0,l.categories.length,...m)},ot=()=>{l.variants.push(G())},E=N=>{l.variants.length<=1||l.variants.splice(N,1)},R=N=>{const m=l.variants[N];m&&(Array.isArray(m.options)||(m.options=[]),m.options.push(F()))},X=(N,m)=>{const K=l.variants[N];!K||!Array.isArray(K.options)||K.options.splice(m,1)},ne=(N,m)=>`${N.id||"new"}-${m}`,j=N=>{const m=l.variants[N];if(!m)return;const K=JSON.parse(JSON.stringify(m));K.id=0,K.sku=[K.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),K.active=!0,l.variants.splice(N+1,0,K)},q=N=>{const m=l.variants[N];if(!m)return;const K=Number.parseFloat(m.price);Number.isNaN(K)||(m.price=K.toFixed(2))};let _e=null,oe=null,re=null,Q=null,y="";const T=()=>{Array.isArray(l.images)||(l.images=[])},B=N=>{var be,U,ge;if(!N)return"";let m=String(N).trim();if(m==="")return"";try{const se=(ge=(U=(be=window.Joomla)==null?void 0:be.getOptions)==null?void 0:U.call(be,"system.paths",{}))!=null?ge:{},Ye=se.rootFull||window.location.origin,Xe=se.root||"/";m.startsWith(Ye)&&(m=m.substring(Ye.length)),m.startsWith(Xe)&&(m=m.substring(Xe.length))}catch(se){}const K=m.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);K&&K[1]&&(m=K[1]);const Ae=m.indexOf("#joomlaImage://");return Ae!==-1&&(m=m.substring(0,Ae)),m.trim()},ae=(N,{keepIndex:m=!1,appendWhenNoIndex:K=!1,targetIndex:Ae=null}={})=>{const be=B(N);if(be==="")return!1;T();const U=Ae!==null&&Ae>=0?Ae:Q;return U==null||Number.isNaN(U)?K?(l.images.push(be),m||(Q=null,y=""),!0):!1:(U>=l.images.length?l.images.push(be):l.images[U]=be,y=m?be:"",m||(Q=null,y=""),!0)},$=()=>{T(),l.images.push("")},Oe=N=>{T(),l.images.splice(N,1)},J=(N,m)=>{T();const K=l.images[N];if(K===void 0)return;const Ae=N+m;Ae<0||Ae>=l.images.length||(l.images.splice(N,1),l.images.splice(Ae,0,K))},le=N=>{var Ae;T();const m=(Ae=l.images[N])!=null?Ae:"";if(typeof window=="undefined")return;const K=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),m);ae(K!=null?K:"",{targetIndex:N})},me=()=>{var U,ge,se,Ye,Xe,et;const N=(s.mediaModalUrl||"").trim();if(N!=="")return N;const m=(se=(ge=(U=window.Joomla)==null?void 0:U.getOptions)==null?void 0:ge.call(U,"media-picker",{}))!=null?se:{};if(m.modalUrl)return m.modalUrl;const K=(et=(Xe=(Ye=window.Joomla)==null?void 0:Ye.getOptions)==null?void 0:Xe.call(Ye,"system.paths",{}))!=null?et:{},Ae=K.rootFull||K.root||"";return(Ae?Ae.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},W=async()=>{var se,Ye,Xe,et,nt,at,gt,Ls,Ys;if(_e)return _e;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(wt){return null}const N=(Xe=(Ye=(se=window.Joomla)==null?void 0:se.getOptions)==null?void 0:Ye.call(se,"system.paths",{}))!=null?Xe:{},m=N.rootFull||N.root||"",K=(at=(nt=(et=window.Joomla)==null?void 0:et.getOptions)==null?void 0:nt.call(et,"com_media",{}))!=null?at:{},Ae=(K==null?void 0:K.file_path)||"images",be=(Ys=(Ls=(gt=window.Joomla)==null?void 0:gt.getOptions)==null?void 0:Ls.call(gt,"media-picker",{}))!=null?Ys:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},ge=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return oe=document.createElement("div"),oe.className="nxp-ec-media-picker-host",oe.style.display="none",oe.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${m.replace(/"/g,"&quot;")}"
            root-folder="${Ae.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${ge}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(be).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(oe),_e=oe.querySelector("joomla-field-media"),re=oe.querySelector(".nxp-ec-media-field__input"),_e.addEventListener("change",wt=>{var mn,hn,cn,dn,ss,Us;const Bt=(cn=(hn=(mn=wt.detail)==null?void 0:mn.value)!=null?hn:re==null?void 0:re.value)!=null?cn:"";let Kt=B(Bt);if(Kt===""&&y!==""&&(Kt=y),Kt===""&&((dn=window.Joomla)!=null&&dn.selectedMediaFile)){const vi=B((ss=window.Joomla.selectedMediaFile.url)!=null?ss:""),gn=B((Us=window.Joomla.selectedMediaFile.path)!=null?Us:"");Kt=vi||gn}ae(Kt)}),_e.addEventListener("joomla-dialog:close",()=>{Q=null,y=""}),re&&re.addEventListener("change",()=>{var Bt,Kt,mn,hn;if(Q===null)return;let wt=B((Bt=re.value)!=null?Bt:"");if(wt===""&&y!==""&&(wt=y),wt===""&&((Kt=window.Joomla)!=null&&Kt.selectedMediaFile)){const cn=B((mn=window.Joomla.selectedMediaFile.url)!=null?mn:""),dn=B((hn=window.Joomla.selectedMediaFile.path)!=null?hn:"");wt=cn||dn}wt!==""&&ae(wt)}),_e},we=N=>{var U,ge;const m=N==null?void 0:N.detail;if(!m||typeof m!="object")return;const K=B((U=m.path)!=null?U:""),be=B((ge=m.url)!=null?ge:"")||K;be===""||Q===null||(y=be,ae(be,{keepIndex:!0}))};Tt(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",we)});const Ue=async N=>{var Ae;T();const m=await W();if(!m||typeof m.show!="function"){le(N);return}Q=N,m.setAttribute("url",me());const K=(Ae=l.images[N])!=null?Ae:"";typeof m.setValue=="function"?m.setValue(K):re&&(re.value=K);try{m.show()}catch(be){Q=null,y="",le(N)}};Ca(()=>{oe&&oe.parentNode&&oe.parentNode.removeChild(oe),_e=null,oe=null,re=null,Q=null,y="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",we)});const it=()=>{var U,ge;T();const N=Array.from(new Set(l.images.map(se=>String(se!=null?se:"").trim()).filter(se=>se!==""))),m=l.categories.map(se=>{var nt,at,gt;const Ye=Number.parseInt((nt=se==null?void 0:se.id)!=null?nt:0,10)||0,Xe=String((at=se==null?void 0:se.title)!=null?at:"").trim(),et=String((gt=se==null?void 0:se.slug)!=null?gt:"").trim();return Ye>0?{id:Ye,title:Xe,slug:et}:Xe===""?null:{id:0,title:Xe,slug:""}}).filter(se=>se!==null),K=l.variants.map(se=>{const Ye=Array.isArray(se.options)?se.options.map(nt=>{var at,gt;return{name:String((at=nt==null?void 0:nt.name)!=null?at:"").trim(),value:String((gt=nt==null?void 0:nt.value)!=null?gt:"").trim()}}).filter(nt=>nt.name!==""&&nt.value!==""):[],Xe=Number.isFinite(Number(se.stock))?Math.max(0,parseInt(se.stock,10)):0,et=se.weight!==null&&se.weight!==""?String(se.weight).trim():null;return{id:se.id||0,sku:se.sku.trim(),price:se.price!==null&&se.price!==void 0?String(se.price).trim():"",currency:se.currency?String(se.currency).trim().toUpperCase():o.value,stock:Xe,weight:et,active:!!se.active,is_digital:!!se.is_digital,options:Ye}}),Ae=f(l.status),be={title:l.title.trim(),slug:l.slug.trim(),short_desc:(U=l.short_desc)!=null?U:"",long_desc:(ge=l.long_desc)!=null?ge:"",status:Ae,active:Ae,featured:!!l.featured,images:N,categories:m,variants:K,product_type:L.value==="digital"?"digital":"physical"};a("submit",be)},Je=()=>{a("cancel")};return Qe(()=>s.saving,(N,m)=>{m&&!N&&s.errors.length===0&&he.value==="create"&&(Y(null),h.value="",O.value=!1)}),(N,m)=>{var K,Ae,be;return e.open?(g(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",onKeydown:St(Je,["esc"])},[m[19]||(m[19]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",gf,[i("header",Ef,[i("h2",Cf,d(he.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",Af,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:Je,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[m[16]||(m[16]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",bf,d(r(n)("JCANCEL","Cancel")),1)],8,Sf),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:Co,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[i("i",{class:Le(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",yf,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,Tf),i("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:Je,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[m[17]||(m[17]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Of,d(r(n)("JCLOSE","Close")),1)],8,Rf)])]),i("form",{id:Co,class:"nxp-ec-form",onSubmit:Nt(it,["prevent"])},[e.errors.length?(g(),S("div",xf,[(g(!0),S(Ne,null,De(e.errors,(U,ge)=>(g(),S("p",{key:ge},d(U),1))),128))])):ue("",!0),i("nav",vf,[i("button",{type:"button",class:Le(["nxp-ec-editor-tab",{"is-active":c.value==="general"}]),onClick:m[0]||(m[0]=U=>c.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General")),3),i("button",{type:"button",class:Le(["nxp-ec-editor-tab",{"is-active":c.value==="variants"}]),onClick:m[1]||(m[1]=U=>c.value="variants")},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),3),i("button",{type:"button",class:Le(["nxp-ec-editor-tab",{"is-active":c.value==="images"}]),onClick:m[2]||(m[2]=U=>c.value="images")},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),3),i("button",{type:"button",class:Le(["nxp-ec-editor-tab",{"is-active":c.value==="categories"}]),onClick:m[3]||(m[3]=U=>c.value="categories")},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),3),i("button",{type:"button",class:Le(["nxp-ec-editor-tab",{"is-active":c.value==="digital"}]),onClick:m[4]||(m[4]=U=>c.value="digital")},d(r(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital")),3)]),z(i("section",Nf,[i("div",Pf,[i("label",Mf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),z(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[5]||(m[5]=U=>l.title=U),required:""},null,512),[[Ee,l.title,void 0,{trim:!0}]])]),i("div",If,[i("label",kf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),z(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[6]||(m[6]=U=>l.slug=U),onInput:fe,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,$f),[[Ee,l.slug,void 0,{trim:!0}]])]),i("div",wf,[i("label",Df,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),z(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":m[7]||(m[7]=U=>l.short_desc=U)},null,512),[[Ee,l.short_desc]])]),i("div",Lf,[i("label",Yf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),z(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":m[8]||(m[8]=U=>l.long_desc=U)},null,512),[[Ee,l.long_desc]])]),i("div",Uf,[i("label",Xf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),z(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":m[9]||(m[9]=U=>l.status=U)},[i("option",Gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",Ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",Vf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[At,l.status,void 0,{number:!0}]]),i("p",Hf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",Bf,[i("label",Kf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE","Product type")),1),z(i("select",{id:"product-type",class:"nxp-ec-form-select","onUpdate:modelValue":m[10]||(m[10]=U=>l.product_type=U)},[i("option",jf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_PHYSICAL","Physical product")),1),i("option",Jf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_DIGITAL","Digital product")),1)],512),[[At,l.product_type]]),i("p",Wf,d(r(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),i("div",qf,[i("label",zf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),z(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":m[11]||(m[11]=U=>l.featured=U)},null,512),[[ht,l.featured]]),i("p",Qf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)])],512),[[Pn,c.value==="general"]]),z(i("section",Zf,[i("div",em,[i("label",tm,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",nm,[(g(!0),S(Ne,null,De(l.images,(U,ge)=>(g(),S("div",{key:`product-image-${ge}`,class:"nxp-ec-image-row"},[z(i("input",{id:`product-image-${ge}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":se=>l.images[ge]=se,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,sm),[[Ee,l.images[ge],void 0,{trim:!0}]]),i("div",im,[i("button",{type:"button",class:"nxp-ec-btn",onClick:se=>Ue(ge)},[m[18]||(m[18]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,am),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:se=>J(ge,-1),disabled:ge===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,om),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:se=>J(ge,1),disabled:ge===l.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,rm),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:se=>Oe(ge),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,lm)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:$},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",cm,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)])],512),[[Pn,c.value==="images"]]),z(i("section",dm,[i("div",um,[i("label",_m,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),z(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":m[12]||(m[12]=U=>x.value=U)},[(g(!0),S(Ne,null,De(pe.value,U=>(g(),S("option",{key:U.id,value:U.id},d(H(U)),9,pm))),128))],512),[[At,x.value]]),i("div",fm,[(g(!0),S(Ne,null,De(l.categories,(U,ge)=>(g(),S("span",{key:`selected-category-${ge}`,class:"nxp-ec-chip"},[ke(d(U.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:se=>Ke(ge),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,mm)]))),128))]),i("div",hm,[z(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":m[13]||(m[13]=U=>h.value=U),onKeydown:St(Nt($e,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,gm),[[Ee,h.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:$e},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",Em,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select a category or create a new one",[],"productCategoriesHelp")),1)])],512),[[Pn,c.value==="categories"]]),z(i("section",Cm,[i("header",Am,[i("h3",Sm,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:ot},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",bm,[ke(d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),o.value?(g(),S(Ne,{key:0},[ke(" ("+d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[o.value]))+") ",1)],64)):ue("",!0)]),(g(!0),S(Ne,null,De(l.variants,(U,ge)=>(g(),S("article",{key:ne(U,ge),class:"nxp-ec-variant-card"},[i("header",Tm,[i("h4",ym,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(ge+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:se=>j(ge)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Rm),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:se=>E(ge),disabled:l.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,Om)]),i("div",xm,[i("div",vm,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${ge}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Nm),z(i("input",{id:`variant-sku-${ge}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":se=>U.sku=se,required:""},null,8,Pm),[[Ee,U.sku,void 0,{trim:!0}]])]),i("div",Mm,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${ge}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Im),z(i("input",{id:`variant-price-${ge}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":se=>U.price=se,onBlur:se=>q(ge),required:""},null,40,km),[[Ee,U.price,void 0,{trim:!0}]])]),i("div",$m,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${ge}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,wm),z(i("input",{id:`variant-stock-${ge}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":se=>U.stock=se},null,8,Dm),[[Ee,U.stock,void 0,{number:!0}]])]),i("div",Lm,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${ge}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,Ym),z(i("input",{id:`variant-weight-${ge}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":se=>U.weight=se},null,8,Um),[[Ee,U.weight,void 0,{trim:!0}]])]),i("div",Xm,[i("label",{class:"nxp-ec-form-label",for:`variant-digital-${ge}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL","Digital item")),9,Gm),z(i("input",{id:`variant-digital-${ge}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":se=>U.is_digital=se},null,8,Fm),[[ht,U.is_digital]]),i("p",Vm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL_HELP","Digital variants skip shipping.")),1)]),i("div",Hm,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${ge}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,Bm),z(i("input",{id:`variant-active-${ge}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":se=>U.active=se},null,8,Km),[[ht,U.active]])])]),i("section",jm,[i("header",Jm,[i("h5",Wm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:se=>R(ge)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,qm)]),i("p",zm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(g(!0),S(Ne,null,De(U.options,(se,Ye)=>(g(),S("div",{key:`variant-${ge}-option-${Ye}`,class:"nxp-ec-variant-option-row"},[z(i("input",{id:`variant-${ge}-option-name-${Ye}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Xe=>se.name=Xe,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,Qm),[[Ee,se.name,void 0,{trim:!0}]]),z(i("input",{id:`variant-${ge}-option-value-${Ye}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Xe=>se.value=Xe,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,Zm),[[Ee,se.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Xe=>X(ge,Ye),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,eh)]))),128))])]))),128))],512),[[Pn,c.value==="variants"]]),z(i("section",th,[i("div",nh,[i("p",null,d(r(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),v.error?(g(),S("div",sh,d(v.error),1)):ue("",!0),(K=e.product)!=null&&K.id?ue("",!0):(g(),S("div",ih,d(r(n)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST","Save the product before attaching digital files.")),1)),i("div",ah,[i("div",oh,[i("h4",null,d(r(n)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1),i("div",rh,[i("label",lh,d(r(n)("COM_NXPEASYCART_DIGITAL_FILES_SELECT","Choose file")),1),i("input",{id:"digital-file-input",ref_key:"fileInputRef",ref:P,type:"file",class:"nxp-ec-form-input",onChange:Re,disabled:v.uploading||!((Ae=e.product)!=null&&Ae.id)},null,40,ch)]),i("div",dh,[i("label",uh,d(r(n)("COM_NXPEASYCART_DIGITAL_VERSION","Version")),1),z(i("input",{id:"digital-version",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[14]||(m[14]=U=>v.version=U),disabled:v.uploading},null,8,_h),[[Ee,v.version,void 0,{trim:!0}]])]),i("div",ph,[i("label",fh,d(r(n)("COM_NXPEASYCART_DIGITAL_VARIANT_SCOPE","Applies to")),1),z(i("select",{id:"digital-variant",class:"nxp-ec-form-select","onUpdate:modelValue":m[15]||(m[15]=U=>v.variantId=U),disabled:v.uploading},[i("option",hh,d(r(n)("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants")),1),(g(!0),S(Ne,null,De(te.value,U=>(g(),S("option",{key:U.id,value:U.id},d(U.label),9,gh))),128))],8,mh),[[At,v.variantId]]),i("p",Eh,d(r(n)("COM_NXPEASYCART_DIGITAL_VARIANT_HELP","Scope downloads to a specific variant when needed.")),1)]),i("div",Ch,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--primary",onClick:xe,disabled:v.uploading||!((be=e.product)!=null&&be.id)},[i("i",{class:Le(["fa-solid fa-cloud-arrow-up",{"fa-spin":v.uploading}]),"aria-hidden":"true"},null,2),ke(" "+d(v.uploading?r(n)("JPROCESSING_REQUEST","Uploading"):r(n)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1)],8,Ah)])]),i("div",Sh,[i("div",bh,[i("h4",null,d(r(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital files")),1),v.loading?(g(),S("span",Th,d(r(n)("JGLOBAL_LOADING","Loading")),1)):ue("",!0)]),v.files.length===0?(g(),S("div",yh,d(r(n)("COM_NXPEASYCART_DIGITAL_FILES_EMPTY","No files attached to this product.")),1)):(g(),S("div",Rh,[(g(!0),S(Ne,null,De(v.files,U=>(g(),S("div",{key:U.id,class:"nxp-ec-digital-row"},[i("div",Oh,[i("strong",null,d(U.filename),1),i("div",xh,[ke(d(ce(U.variant_id))+"  "+d(Ce(U.file_size))+" ",1),U.version?(g(),S(Ne,{key:0},[ke("  v"+d(U.version),1)],64)):ue("",!0)]),U.created?(g(),S("div",vh,d(U.created),1)):ue("",!0)]),i("div",Nh,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",disabled:v.deletingId===U.id,onClick:ge=>Fe(U)},d(v.deletingId===U.id?r(n)("JPROCESSING_REQUEST","Removing"):r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Ph)])]))),128))]))])])],512),[[Pn,c.value==="digital"]]),i("footer",Mh,[i("button",{type:"button",class:"nxp-ec-btn",onClick:Je,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,Ih),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,kh)])],32)])],32)):ue("",!0)}}},[["__scopeId","data-v-d1351706"]]),wh={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Dh={key:1,class:"nxp-ec-skeleton__table"},Lh={key:2,class:"nxp-ec-skeleton__card"},Yh={key:3,class:"nxp-ec-skeleton__circle"};function Uh(e,t,s,a,n,o){return g(),S("div",{class:Le(["nxp-ec-skeleton",o.skeletonClasses])},[s.type==="text"?(g(),S("div",{key:0,class:"nxp-ec-skeleton__line",style:jt({width:s.width})},null,4)):s.type==="table"?(g(),S("div",Dh,[(g(!0),S(Ne,null,De(s.rows,c=>(g(),S("div",{key:c,class:"nxp-ec-skeleton__table-row"},[(g(!0),S(Ne,null,De(s.columns,u=>(g(),S("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(g(),S("div",Lh,[...t[0]||(t[0]=[a_('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(g(),S("div",Yh)):(g(),S("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:jt({width:s.width,height:s.height})},null,4))],2)}const es=Ot(wh,[["render",Uh],["__scopeId","data-v-c8b9a887"]]),Xh={class:"nxp-ec-admin-panel"},Gh={class:"nxp-ec-admin-panel__header"},Fh={class:"nxp-ec-admin-panel__title"},Vh={class:"nxp-ec-admin-panel__lead"},Hh={class:"nxp-ec-admin-panel__actions"},Bh=["placeholder","aria-label"],Kh=["disabled","title","aria-label"],jh={class:"nxp-ec-sr-only"},Jh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Wh={key:1,class:"nxp-ec-admin-panel__body"},qh={key:2,class:"nxp-ec-admin-panel__body"},zh=["title"],ts=1,In=-1,$s=0,Qh={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Be({mode:"create",product:null}),c=ze(!1),u=Se(()=>(s.baseCurrency||"USD").toUpperCase()),_=Se(()=>o.product),p=Se(()=>(s.mediaModalUrl||"").trim()),f=Se(()=>s.digitalEndpoints||{}),l=Se(()=>s.csrfToken||""),h=(ie,x=!1)=>{const he=Number(ie);if(Number.isFinite(he))return he===In?In:he===$s?$s:ts;if(x)return In;if(typeof ie=="string"){const G=ie.trim().toLowerCase();if(G==="out_of_stock"||G==="out-of-stock"||G==="-1")return In;if(G==="inactive"||G==="0")return $s}return ts},O=(ie,x=!1)=>{const he=h(ie,x);return he===ts?In:he===In?$s:ts},L=()=>{s.state.validationErrors=[],s.state.error="",o.mode="create",o.product={title:"",slug:"",short_desc:"",long_desc:"",status:ts,active:!0,featured:!1,images:[],categories:[],variants:[],product_type:"physical"},c.value=!0},k=ie=>{s.state.validationErrors=[],s.state.error="",o.mode="edit";const x=JSON.parse(JSON.stringify(ie));x.product_type||(x.product_type="physical"),o.product=x,c.value=!0},v=()=>{c.value=!1,s.state.validationErrors=[]},I=async ie=>{var G,F;const x=h((G=ie.status)!=null?G:ie.active,ie.out_of_stock),he={...ie,status:x,active:x,featured:ie.featured?1:0,product_type:typeof ie.product_type=="string"&&ie.product_type.trim()||"physical"};o.mode==="edit"&&((F=o.product)!=null&&F.id)?a("update",{id:o.product.id,data:he}):a("create",he)},P=async ie=>{var G;const x=(G=ie==null?void 0:ie.title)!=null?G:"",he=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[x||"#"]);window.confirm(he)&&a("delete",[ie.id])},w=ie=>{var Te;if(!(ie!=null&&ie.id)||s.state.saving)return;const x=O((Te=ie.status)!=null?Te:ie.active,ie.out_of_stock),he=b=>b==null?"":String(b),G=(b,A=0)=>{const C=Number(b);return Number.isFinite(C)?C:A},F=Array.isArray(ie.variants)?ie.variants.map(b=>{var Y,te;if(!b)return null;const A=he(b.sku).trim();if(!A)return null;let C=G(b.price_cents,Number.NaN);if(!Number.isFinite(C)){const ce=he(b.price),Ce=ce?Number.parseFloat(ce):NaN;C=Number.isFinite(Ce)?Math.round(Ce*100):NaN}if(!Number.isFinite(C))return null;const ee=he((Y=b.currency)!=null?Y:u.value).trim().toUpperCase();if(!ee)return null;const V=(te=b.options)!=null?te:null,ye=Math.max(0,Math.round(G(b.stock,0)));return{id:G(b.id,0),sku:A,price_cents:Math.round(C),currency:ee,stock:ye,options:V!=null?V:null,weight:b.weight!==null&&b.weight!==void 0&&b.weight!==""?String(b.weight):null,active:b.active===void 0?!0:!!b.active,is_digital:b.is_digital===void 0?!1:!!b.is_digital}}).filter(Boolean):[];if(!F.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const Z=Array.isArray(ie.categories)?ie.categories.map(b=>{if(b==null)return null;if(typeof b=="number")return b>0?{id:b,title:"",slug:""}:null;if(typeof b=="string"&&b.trim()!==""&&Number.isFinite(Number(b))){const C=Number(b);return C>0?{id:C,title:"",slug:""}:null}if(typeof b=="object"){if(b.id){const ee=G(b.id,0);return ee>0?{id:ee,title:"",slug:""}:null}return G(b.id,0)<=0&&!b.title?null:{id:0,title:he(b.title),slug:he(b.slug)}}const A=he(b).trim();return A?{id:0,title:A,slug:""}:null}).filter(Boolean):[],fe=Array.isArray(ie.images)?ie.images.map(b=>he(b).trim()).map(b=>{var V,ye,Y;let A=b;if(!A)return"";const C=A.indexOf("#joomlaImage://");C!==-1&&(A=A.substring(0,C));const ee=A.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(ee&&ee[1]&&(A=ee[1]),typeof window!="undefined")try{const te=(Y=(ye=(V=window.Joomla)==null?void 0:V.getOptions)==null?void 0:ye.call(V,"system.paths",{}))!=null?Y:{},ce=te.rootFull||window.location.origin,Ce=te.root||"/";A.startsWith(ce)&&(A=A.substring(ce.length)),A.startsWith(Ce)&&(A=A.substring(Ce.length))}catch(te){}return A.trim()}).filter(b=>b!==""):[];s.state.error="",a("update",{id:ie.id,data:{title:he(ie.title),slug:he(ie.slug),short_desc:he(ie.short_desc),long_desc:he(ie.long_desc),status:x,active:x,featured:ie.featured?1:0,images:fe,variants:F,categories:Z,product_type:typeof ie.product_type=="string"&&ie.product_type.trim()||"physical"}})},D=()=>{a("refresh")},H=()=>{a("search")},pe=ie=>{if(!ie)return"";try{const x=new Date(ie),G=new Date-x,F=Math.floor(G/1e3),Z=Math.floor(F/60),fe=Math.floor(Z/60);return F<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Z<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Z]):fe<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[fe]):x.toLocaleString()}catch(x){return ie}};return Qe(()=>s.state.saving,(ie,x)=>{x&&!ie&&c.value&&!s.state.validationErrors.length&&!s.state.error&&v()}),(ie,x)=>(g(),S("section",Xh,[i("header",Gh,[i("div",null,[i("h2",Fh,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",Vh,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",Hh,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":x[0]||(x[0]=he=>e.state.search=he),onKeyup:St(H,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,Bh),[[Ee,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:D,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[x[1]||(x[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",jh,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,Kh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:L},[x[2]||(x[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(g(),S("div",Jh,d(e.state.error),1)):ue("",!0),e.state.loading?(g(),S("div",Wh,[st(es,{type:"table",rows:5,columns:5})])):ue("",!0),e.state.loading?ue("",!0):(g(),S("div",qh,[st(mf,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:k,onDelete:P,onToggleActive:w},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(g(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(pe(e.state.lastUpdated)),9,zh)):ue("",!0)])),st($h,{open:c.value,product:_.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":p.value,"digital-endpoints":f.value,"csrf-token":l.value,onSubmit:I,onCancel:v},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url","digital-endpoints","csrf-token"])]))}},Zh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},eg={class:"nxp-ec-admin-panel__header"},tg={class:"nxp-ec-admin-panel__title"},ng={class:"nxp-ec-admin-panel__lead"},sg={class:"nxp-ec-admin-panel__actions"},ig=["placeholder","aria-label"],ag=["disabled","title","aria-label"],og={class:"nxp-ec-sr-only"},rg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},lg={key:1,class:"nxp-ec-admin-panel__body"},cg={key:2,class:"nxp-ec-admin-panel__body"},dg={class:"nxp-ec-admin-panel__table"},ug={class:"nxp-ec-admin-table"},_g={scope:"col"},pg={scope:"col"},fg={scope:"col"},mg={scope:"col"},hg={scope:"col"},gg={key:0},Eg={colspan:"6"},Cg={scope:"row",class:"nxp-ec-admin-table__primary"},Ag=["data-label"],Sg=["data-label"],bg=["data-label"],Tg=["data-label"],yg={class:"nxp-ec-admin-table__actions"},Rg=["onClick","title","aria-label"],Og={class:"nxp-ec-sr-only"},xg=["disabled","onClick","title","aria-label"],vg={class:"nxp-ec-sr-only"},Ng={key:0,class:"nxp-ec-admin-pagination"},Pg=["disabled"],Mg={class:"nxp-ec-admin-pagination__status"},Ig=["disabled"],kg=["title"],$g={class:"nxp-ec-modal__dialog"},wg={class:"nxp-ec-modal__header"},Dg={id:"category-modal-title",class:"nxp-ec-modal__title"},Lg=["title","aria-label"],Yg={class:"nxp-ec-sr-only"},Ug={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Xg={class:"nxp-ec-form-field"},Gg={class:"nxp-ec-form-label",for:"category-title"},Fg={class:"nxp-ec-form-field"},Vg={class:"nxp-ec-form-label",for:"category-slug"},Hg={class:"nxp-ec-form-field"},Bg={class:"nxp-ec-form-label",for:"category-parent"},Kg={value:""},jg=["value"],Jg={class:"nxp-ec-form-field"},Wg={class:"nxp-ec-form-label",for:"category-sort"},qg={class:"nxp-ec-modal__actions"},zg=["disabled"],Qg=Ot({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=ze(!1),c=ze(!1),u=ze([]),_=G=>{const Z=(Array.isArray(G)?G:[]).map(Y=>{var te,ce,Ce,ve,Re;return{...Y,id:Number.parseInt((te=Y==null?void 0:Y.id)!=null?te:0,10)||0,parent_id:(Y==null?void 0:Y.parent_id)!=null&&Number.parseInt(Y.parent_id,10)||0,sort:Number.parseInt((ce=Y==null?void 0:Y.sort)!=null?ce:0,10)||0,title:String((Ce=Y==null?void 0:Y.title)!=null?Ce:"").trim(),slug:String((ve=Y==null?void 0:Y.slug)!=null?ve:"").trim(),usage:(Re=Y==null?void 0:Y.usage)!=null?Re:0}}).filter(Y=>Y.id>0||Y.title!==""),fe=new Set(Z.map(Y=>Y.id));Z.forEach(Y=>{fe.has(Y.parent_id)||(Y.parent_id=0)});const Te=new Map,b=new Map;Z.forEach(Y=>{b.set(Y.id,Y);const te=Y.parent_id||0;Te.has(te)||Te.set(te,[]),Te.get(te).push(Y)});const A=Y=>Y.sort((te,ce)=>{var Ce,ve;return((Ce=te.sort)!=null?Ce:0)-((ve=ce.sort)!=null?ve:0)||te.title.localeCompare(ce.title,void 0,{sensitivity:"base"})});Te.forEach(A);const C=new Set,ee=[],V=(Y,te,ce)=>{if(!Y||C.has(Y.id)||ce.includes(Y.id))return;const Ce=[...ce],ve=Ce.map(Fe=>{var $e;return($e=b.get(Fe))==null?void 0:$e.title}).filter(Boolean),Re={...Y,depth:te,path:ve.join(" / "),ancestors:Ce,indentedTitle:te>0?`${" ".repeat(te)}${Y.title}`:Y.title};ee.push(Re),C.add(Y.id),(Te.get(Y.id)||[]).forEach(Fe=>V(Fe,te+1,[...ce,Y.id]))},ye=Z.filter(Y=>Y.parent_id===0||!fe.has(Y.parent_id));return A(ye),ye.forEach(Y=>V(Y,0,[])),Z.forEach(Y=>{C.has(Y.id)||V(Y,0,[])}),ee},p=Se(()=>{var G,F;return _((F=(G=s.state)==null?void 0:G.items)!=null?F:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),l=Be(f()),h=Se(()=>{var F,Z;const G=(Z=Array.isArray(u.value)&&u.value.length?u.value:(F=s.state)==null?void 0:F.items)!=null?Z:[];return _(G).filter(fe=>fe.id>0&&fe.id!==l.id&&!(Array.isArray(fe.ancestors)&&fe.ancestors.includes(l.id))).map(fe=>({id:fe.id,title:fe.title,label:fe.depth>0?`${" ".repeat(fe.depth)}${fe.title}`:fe.title}))}),O=()=>{Object.assign(l,f()),c.value=!1},L=G=>G?G.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",k=()=>{c.value=!0,l.slug=L(l.slug)};Qe(()=>l.title,G=>{c.value||(l.slug=L(G))});const v=async(G=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const F=await s.loadOptions();u.value=Array.isArray(F)?[...F]:[]}catch(F){u.value=[]}u.value=u.value.filter(F=>{var fe,Te;return(Number.parseInt((Te=(fe=F==null?void 0:F.id)!=null?fe:F==null?void 0:F.value)!=null?Te:0,10)||0)!==G})},I=async()=>{O(),await v(),o.value=!0},P=async G=>{var F,Z,fe,Te;G&&(l.id=Number.parseInt((F=G.id)!=null?F:0,10)||0,l.title=String((Z=G.title)!=null?Z:"").trim(),l.slug=String((fe=G.slug)!=null?fe:"").trim(),l.parent_id=G.parent_id!=null&&Number.parseInt(G.parent_id,10)||null,l.sort=Number.parseInt((Te=G.sort)!=null?Te:0,10)||0,c.value=!!l.slug,await v(l.id),o.value=!0)},w=()=>{o.value=!1,O()},D=()=>{a("refresh")},H=()=>{a("search")},pe=G=>{a("page",G)},ie=()=>{const G={id:l.id||void 0,title:l.title.trim(),slug:l.slug.trim(),parent_id:l.parent_id||null,sort:Number.isFinite(l.sort)?l.sort:0};a("save",G)},x=G=>{if(!G||!G.id)return;const F=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(F)||a("delete",[G.id])},he=G=>{if(!G)return"";try{const F=new Date(G),fe=new Date-F,Te=Math.floor(fe/1e3),b=Math.floor(Te/60),A=Math.floor(b/60);return Te<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):b<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[b]):A<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[A]):F.toLocaleString()}catch(F){return G}};return Qe(()=>{var G;return(G=s.state)==null?void 0:G.saving},(G,F)=>{var Z,fe,Te;F&&!G&&(((fe=(Z=s.state)==null?void 0:Z.validationErrors)!=null?fe:[]).length>0||(Te=s.state)!=null&&Te.error||(o.value=!1,O()))}),(G,F)=>(g(),S("section",Zh,[i("header",eg,[i("div",null,[i("h2",tg,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",ng,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",sg,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":F[0]||(F[0]=Z=>e.state.search=Z),onKeyup:St(H,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,ig),[[Ee,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:D,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[F[7]||(F[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",og,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,ag),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:I},[F[8]||(F[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(g(),S("div",rg,d(e.state.error),1)):ue("",!0),e.state.loading?(g(),S("div",lg,[st(es,{type:"table",rows:5,columns:5})])):ue("",!0),e.state.loading?ue("",!0):(g(),S("div",cg,[i("div",dg,[i("table",ug,[i("thead",null,[i("tr",null,[i("th",_g,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",pg,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",fg,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",mg,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",hg,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),F[9]||(F[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ue("",!0):(g(),S("tr",gg,[i("td",Eg,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(g(!0),S(Ne,null,De(p.value,Z=>{var fe;return g(),S("tr",{key:Z.id,class:Le({"is-active":l.id===Z.id})},[i("th",Cg,[i("span",{style:jt({paddingLeft:`${Z.depth*1.5}rem`})},d(Z.indentedTitle),5)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},d(Z.slug||""),9,Ag),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},d(Z.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,Sg),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},d(Z.sort),9,bg),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},d((fe=Z.usage)!=null?fe:0),9,Tg),i("td",yg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Te=>P(Z),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[F[10]||(F[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",Og,d(r(n)("JEDIT","Edit")),1)],8,Rg),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:Te=>x(Z),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[F[11]||(F[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",vg,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,xg)])],2)}),128))])]),e.state.pagination.pages>1?(g(),S("div",Ng,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:F[1]||(F[1]=Z=>pe(e.state.pagination.current-1))},"  ",8,Pg),i("span",Mg,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:F[2]||(F[2]=Z=>pe(e.state.pagination.current+1))},"  ",8,Ig)])):ue("",!0)]),e.state.lastUpdated?(g(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(he(e.state.lastUpdated)),9,kg)):ue("",!0),o.value?(g(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"category-modal-title",onKeydown:St(w,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop",onClick:w}),i("div",$g,[i("header",wg,[i("h3",Dg,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:w,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[F[12]||(F[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Yg,d(r(n)("JCLOSE","Close")),1)],8,Lg)]),i("form",{class:"nxp-ec-form",onSubmit:Nt(ie,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(g(),S("div",Ug,[i("ul",null,[(g(!0),S(Ne,null,De(e.state.validationErrors,(Z,fe)=>(g(),S("li",{key:fe},d(Z),1))),128))])])):ue("",!0),i("div",Xg,[i("label",Gg,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),z(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F[3]||(F[3]=Z=>l.title=Z),required:"",maxlength:"255"},null,512),[[Ee,l.title,void 0,{trim:!0}]])]),i("div",Fg,[i("label",Vg,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),z(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F[4]||(F[4]=Z=>l.slug=Z),maxlength:"190",onInput:k},null,544),[[Ee,l.slug,void 0,{trim:!0}]])]),i("div",Hg,[i("label",Bg,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),z(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":F[5]||(F[5]=Z=>l.parent_id=Z)},[i("option",Kg,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(g(!0),S(Ne,null,De(h.value,Z=>(g(),S("option",{key:Z.id,value:Z.id},d(Z.label),9,jg))),128))],512),[[At,l.parent_id,void 0,{number:!0}]])]),i("div",Jg,[i("label",Wg,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),z(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":F[6]||(F[6]=Z=>l.sort=Z),min:"0",step:"1"},null,512),[[Ee,l.sort,void 0,{number:!0}]])]),i("footer",qg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[F[13]||(F[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,zg),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:w},[F[14]||(F[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])],32)):ue("",!0)]))]))}},[["__scopeId","data-v-abfd7207"]]),Zg={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},eE={class:"nxp-ec-admin-panel__header"},tE={class:"nxp-ec-admin-panel__title"},nE={class:"nxp-ec-admin-panel__lead"},sE={class:"nxp-ec-admin-panel__actions"},iE=["placeholder","aria-label"],aE=["aria-label"],oE={value:""},rE=["value"],lE=["disabled","title","aria-label"],cE={class:"nxp-ec-sr-only"},dE=["disabled","title","aria-label"],uE={class:"nxp-ec-sr-only"},_E={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},pE={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fE={key:2,class:"nxp-ec-admin-panel__body"},mE={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},hE={class:"nxp-ec-admin-panel__table"},gE={key:0,class:"nxp-ec-admin-panel__selection"},EE=["aria-label"],CE={value:""},AE=["value"],SE=["disabled"],bE=["title","aria-label"],TE={class:"nxp-ec-sr-only"},yE={class:"nxp-ec-admin-table"},RE={scope:"col",class:"nxp-ec-admin-table__select"},OE={scope:"col"},xE={scope:"col"},vE={scope:"col"},NE={scope:"col"},PE={scope:"col"},ME={scope:"col",class:"nxp-ec-admin-table__actions"},IE={key:0},kE={colspan:"7"},$E={class:"nxp-ec-admin-table__select"},wE=["checked","onChange","aria-label"],DE={scope:"row",class:"nxp-ec-admin-table__primary"},LE=["onClick"],YE=["data-label"],UE={class:"nxp-ec-admin-table__meta"},XE=["data-label"],GE=["data-label"],FE={class:"nxp-ec-badge"},VE=["title"],HE=["data-label"],BE={class:"nxp-ec-admin-table__actions"},KE=["onUpdate:modelValue","aria-label"],jE=["value"],JE=["value"],WE=["disabled","onClick"],qE=["aria-label"],zE=["disabled","aria-label"],QE={class:"nxp-ec-admin-pagination__status","aria-current":"page"},ZE=["disabled","aria-label"],eC=["title"],tC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},nC={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},sC={class:"nxp-ec-admin-panel__sidebar-header"},iC={id:"order-modal-title"},aC=["title","aria-label"],oC={class:"nxp-ec-sr-only"},rC={class:"nxp-ec-admin-panel__sidebar-content"},lC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},cC={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},dC={key:2,class:"nxp-ec-admin-panel__section"},uC={class:"nxp-ec-admin-copy"},_C=["value"],pC=["disabled"],fC={key:0,class:"nxp-ec-admin-panel__muted"},mC={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},hC=["disabled"],gC={key:0,class:"nxp-ec-admin-panel__muted"},EC={class:"nxp-ec-admin-panel__section"},CC={class:"nxp-ec-admin-list"},AC={class:"nxp-ec-admin-list__title"},SC={class:"nxp-ec-admin-list__meta"},bC={key:3,class:"nxp-ec-admin-panel__section"},TC={class:"nxp-ec-admin-panel__section-header"},yC=["disabled"],RC={key:0,class:"nxp-ec-admin-panel__muted"},OC={class:"nxp-ec-download-list"},xC={class:"nxp-ec-download-card__meta"},vC={class:"nxp-ec-admin-list__title"},NC={class:"nxp-ec-admin-panel__muted"},PC={class:"nxp-ec-download-card__actions"},MC=["disabled","onClick","title"],IC=["onClick"],kC=["href"],$C={class:"nxp-ec-admin-panel__section"},wC={class:"nxp-ec-admin-panel__total"},DC={class:"nxp-ec-admin-panel__addresses"},LC={class:"nxp-ec-admin-panel__section"},YC={class:"nxp-ec-admin-address"},UC={class:"nxp-ec-admin-panel__section"},XC={key:0,class:"nxp-ec-admin-address"},GC={key:1,class:"nxp-ec-admin-panel__muted"},FC={class:"nxp-ec-admin-panel__section"},VC={class:"nxp-ec-form-field"},HC={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},BC={class:"nxp-ec-form-field"},KC={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},jC={class:"nxp-ec-form-field"},JC={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},WC={key:0,class:"nxp-ec-form-checkbox"},qC={class:"nxp-ec-admin-form__actions"},zC=["disabled"],QC={key:4,class:"nxp-ec-admin-panel__section"},ZC={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},eA=["disabled"],tA=["disabled"],nA={key:5,class:"nxp-ec-admin-panel__section"},sA={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},iA={class:"nxp-ec-form-field"},aA={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},oA=["placeholder"],rA={class:"nxp-ec-form-help"},lA={class:"nxp-ec-form-field"},cA={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},dA=["placeholder"],uA={class:"nxp-ec-form-field"},_A={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},pA={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},fA=["disabled"],mA={key:6,class:"nxp-ec-admin-panel__section"},hA={class:"nxp-ec-admin-list"},gA={class:"nxp-ec-admin-list__title"},EA={class:"nxp-ec-admin-list__meta"},CA={class:"nxp-ec-admin-panel__section"},AA=["placeholder"],SA={class:"nxp-ec-admin-form__actions"},bA=["disabled"],TA={class:"nxp-ec-admin-panel__section"},yA={key:0,class:"nxp-ec-admin-list"},RA={class:"nxp-ec-admin-list__title"},OA={class:"nxp-ec-admin-list__meta"},xA={key:1,class:"nxp-ec-admin-panel__muted"},vA=Ot({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Be({}),c=ze(""),u=ze(""),_=Se(()=>u.value.trim().length>0),p=ze(""),f=ze(""),l=Be({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),h=Be({amount:null,reference:"",note:""}),O=Se(()=>{var T;const y=(T=s.state)==null?void 0:T.selection;return!y||typeof y.values!="function"?[]:Array.from(y.values())}),L=Se(()=>O.value.length>0),k=Se(()=>{var ae;const y=(ae=s.state)==null?void 0:ae.activeOrder;if(!y)return!1;const T=["cod","bank_transfer"],B=String(y.payment_method||"").toLowerCase();return y.state==="pending"&&T.includes(B)}),v=Se(()=>{var B,ae;const y=(B=s.state)==null?void 0:B.activeOrder;return y?["paid","fulfilled"].includes(y.state)&&((ae=y.downloads)==null?void 0:ae.length)>0:!1});Se(()=>k.value),Qe(O,y=>{y.length||(c.value="")}),Qe(()=>s.state.activeOrder,y=>{var T,B,ae;u.value="",p.value="",l.carrier=(T=y==null?void 0:y.carrier)!=null?T:"",l.tracking_number=(B=y==null?void 0:y.tracking_number)!=null?B:"",l.tracking_url=(ae=y==null?void 0:y.tracking_url)!=null?ae:"",l.markFulfilled=!1,h.amount=null,h.reference="",h.note="",f.value=""},{immediate:!0}),Qe(()=>s.state.items,y=>{Array.isArray(y)&&y.forEach(T=>{!T||typeof T.id=="undefined"||o[T.id]||(o[T.id]=T.state)})},{immediate:!0}),Qe(()=>s.state.transitionError,y=>{var B;if(!y)return;const T=(B=s.state)==null?void 0:B.items;Array.isArray(T)&&T.forEach(ae=>{ae!=null&&ae.id&&ae.state&&(o[ae.id]=ae.state)})});const I=(y,T)=>{const B=(Number(y)||0)/100,ae=(T||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ae}).format(B)}catch($){return`${ae} ${B.toFixed(2)}`}},P=y=>{if(!y)return"";const T=new Date(y);return Number.isNaN(T.getTime())?y:T.toLocaleString()},w=y=>y?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[y]||y:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),D=y=>y===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(y)]),H=y=>{if(!y)return"";const T=`COM_NXPEASYCART_ORDERS_STATE_${String(y).toUpperCase()}`;return n(T,y)},pe=y=>s.state.orderStates.filter(T=>T!==y.state),ie=y=>(o[y.id]||y.state)!==y.state,x=()=>{var y;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((y=window.location)!=null&&y.origin)?window.location.origin:""},he=Se(()=>{var J,le;const y=(le=(J=s.state)==null?void 0:J.activeOrder)!=null?le:{},T=String(y.public_token||"").trim(),B=String(y.order_no||"").trim();if(!T)return"";const ae=x();if(!ae)return"";const $=ae.endsWith("/")?"":"/",Oe=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:T});return B&&Oe.set("no",B),`${ae}${$}index.php?${Oe.toString()}`}),G=async()=>{var y;if(he.value){try{if(!((y=navigator==null?void 0:navigator.clipboard)!=null&&y.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(he.value),p.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(T){try{const B=document.createElement("textarea");B.value=he.value,B.setAttribute("readonly",""),B.style.position="absolute",B.style.left="-9999px",document.body.appendChild(B),B.select(),document.execCommand("copy"),document.body.removeChild(B),p.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(B){p.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}p.value&&setTimeout(()=>{p.value=""},2e3)}},F=y=>{var ae,$;const T=Number((ae=y==null?void 0:y.download_count)!=null?ae:0),B=Number(($=y==null?void 0:y.max_downloads)!=null?$:0);if(B>0){const Oe=Math.max(0,B-T);return n("COM_NXPEASYCART_ORDER_DOWNLOADS_REMAINING","%d downloads remaining",[Oe])}return n("COM_NXPEASYCART_ORDER_DOWNLOADS_UNLIMITED","Unlimited downloads")},Z=y=>y!=null&&y.expires_at?n("COM_NXPEASYCART_ORDER_DOWNLOADS_EXPIRES","Expires %s",[y.expires_at]):n("JNONE","No expiry"),fe=async y=>{var B;const T=y==null?void 0:y.url;if(T){try{if(!((B=navigator==null?void 0:navigator.clipboard)!=null&&B.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(T),f.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(ae){try{const $=document.createElement("textarea");$.value=T,$.setAttribute("readonly",""),$.style.position="absolute",$.style.left="-9999px",document.body.appendChild($),$.select(),document.execCommand("copy"),document.body.removeChild($),f.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch($){f.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.")}}f.value&&setTimeout(()=>{f.value=""},2e3)}},Te=Se(()=>{var T,B,ae,$,Oe;const y=(B=(T=s.state)==null?void 0:T.activeOrder)!=null?B:{};return l.carrier!==((ae=y.carrier)!=null?ae:"")||l.tracking_number!==(($=y.tracking_number)!=null?$:"")||l.tracking_url!==((Oe=y.tracking_url)!=null?Oe:"")||l.markFulfilled}),b=y=>!y||typeof y!="object"?[]:Object.entries(y).filter(([,T])=>T!=null&&`${T}`.trim()!=="").map(([T,B])=>({key:T,value:`${B}`.trim()})),A=()=>{a("refresh")},C=()=>{a("export")},ee=()=>{a("search")},V=()=>{a("filter",s.state.filterState)},ye=y=>{a("view",y)},Y=()=>{a("close")},te=y=>{const T=o[y.id]||y.state;T!==y.state&&a("transition",{id:y.id,state:T})},ce=y=>{a("page",y)},Ce=y=>{var T,B,ae,$;return($=(ae=(B=(T=s.state)==null?void 0:T.selection)==null?void 0:B.has)==null?void 0:ae.call(B,y))!=null?$:!1},ve=y=>{a("toggle-selection",y)},Re=()=>{c.value="",a("clear-selection")},xe=()=>{!L.value||!c.value||a("bulk-transition",{ids:[...O.value],state:c.value})},Fe=()=>{if(!s.state.activeOrder)return;const y=u.value.trim();y&&(a("add-note",{id:s.state.activeOrder.id,message:y}),u.value="")},$e=()=>{s.state.activeOrder&&a("invoice",s.state.activeOrder.id)},Ke=()=>{!s.state.activeOrder||!Te.value||(a("save-tracking",{id:s.state.activeOrder.id,carrier:l.carrier,tracking_number:l.tracking_number,tracking_url:l.tracking_url,mark_fulfilled:l.markFulfilled}),l.markFulfilled=!1)},ot=y=>{s.state.activeOrder&&a("send-email",{id:s.state.activeOrder.id,type:y})},E=()=>{if(!s.state.activeOrder||!k.value)return;const y=s.state.activeOrder,T=h.amount!==null&&h.amount!==""?Math.round(Number(h.amount)*100):y.total_cents;a("record-payment",{id:y.id,amountCents:T,reference:h.reference,note:h.note}),h.amount=null,h.reference="",h.note=""},R=()=>{!s.state.activeOrder||!v.value||a("resend-downloads",{id:s.state.activeOrder.id})},X=y=>{!s.state.activeOrder||!(y!=null&&y.id)||a("reset-download",{download_id:y.id,order_id:s.state.activeOrder.id})},ne=y=>{var ae;const T=(ae=s.state)==null?void 0:ae.activeOrder;return T?(T.timeline||T.audit||[]).some($=>{var Oe;return $.action==="order.email.sent"?((Oe=$.context)==null?void 0:Oe.type)===y:!1}):!1},j=Se(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(O.value.length)],"ordersSelectedCount")),q=y=>{var T,B,ae,$,Oe,J,le,me,W,we,Ue,it;if(!y||!y.action)return"";switch(y.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const Je=H((B=(T=y.context)==null?void 0:T.from)!=null?B:""),N=H(($=(ae=y.context)==null?void 0:ae.to)!=null?$:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[Je||((Oe=y.context)==null?void 0:Oe.from)||"",N||((J=y.context)==null?void 0:J.to)||""],"ordersTimelineState")}case"order.note":return((le=y.context)==null?void 0:le.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const Je=((me=y.context)==null?void 0:me.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),N=I((we=(W=y.context)==null?void 0:W.amount_cents)!=null?we:0,(it=(Ue=s.state)==null?void 0:Ue.activeOrder)==null?void 0:it.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[Je,N],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return y.action}},_e=y=>{if(!y)return"";const T=String(y.type||"").toLowerCase(),B=String(y.message||"").trim(),ae=String(y.state||"").toLowerCase();return T==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):ae?H(ae):B||T||""},oe=Se(()=>{var ae,$,Oe,J;const y=[];return(Array.isArray(($=(ae=s.state)==null?void 0:ae.activeOrder)==null?void 0:$.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((le,me)=>{var W,we;y.push({label:_e(le),created:(W=le==null?void 0:le.at)!=null?W:"",key:`f-${me}-${(we=le==null?void 0:le.at)!=null?we:""}`})}),(Array.isArray((J=(Oe=s.state)==null?void 0:Oe.activeOrder)==null?void 0:J.timeline)?s.state.activeOrder.timeline:[]).forEach((le,me)=>{var W,we,Ue;y.push({label:q(le),created:(W=le==null?void 0:le.created)!=null?W:"",key:`a-${(we=le==null?void 0:le.id)!=null?we:me}-${(Ue=le==null?void 0:le.created)!=null?Ue:""}`})}),y.filter(le=>le.label).sort((le,me)=>{const W=new Date(le.created||0).getTime();return new Date(me.created||0).getTime()-W})}),re=y=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(y.status||"").toUpperCase()}`,y.status||""),Q=y=>{if(!y)return"";try{const T=new Date(y),ae=new Date-T,$=Math.floor(ae/1e3),Oe=Math.floor($/60),J=Math.floor(Oe/60);return $<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Oe<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Oe]):J<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[J]):T.toLocaleString()}catch(T){return y}};return(y,T)=>{var B,ae;return g(),S("section",Zg,[i("header",eE,[i("div",null,[i("h2",tE,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",nE,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",sE,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":T[0]||(T[0]=$=>e.state.search=$),onKeyup:St(ee,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,iE),[[Ee,e.state.search]]),z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":T[1]||(T[1]=$=>e.state.filterState=$),onChange:V,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",oE,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(g(!0),S(Ne,null,De(e.state.orderStates,$=>(g(),S("option",{key:$,value:$},d(H($)),9,rE))),128))],40,aE),[[At,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:C,disabled:e.state.loading||e.state.exporting,title:r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[T[15]||(T[15]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",cE,d(r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,lE),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:A,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[T[16]||(T[16]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",uE,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,dE)])]),e.state.error?(g(),S("div",_E,d(e.state.error),1)):ue("",!0),e.state.transitionError&&!e.state.error?(g(),S("div",pE,d(e.state.transitionError),1)):ue("",!0),e.state.loading&&!e.state.error?(g(),S("div",fE,[st(es,{type:"table",rows:5,columns:7})])):ue("",!0),!e.state.loading&&!e.state.error?(g(),S("div",mE,[i("div",hE,[L.value?(g(),S("div",gE,[i("span",null,d(j.value),1),z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":T[2]||(T[2]=$=>c.value=$),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",CE,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(g(!0),S(Ne,null,De(e.state.orderStates,$=>(g(),S("option",{key:`bulk-${$}`,value:$},d(H($)),9,AE))),128))],8,EE),[[At,c.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!c.value||e.state.saving,onClick:xe},[T[17]||(T[17]=i("i",{class:"fa-solid fa-check"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,SE),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Re,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[T[18]||(T[18]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",TE,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,bE)])):ue("",!0),i("table",yE,[i("thead",null,[i("tr",null,[i("th",RE,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",OE,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",xE,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",vE,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",NE,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",PE,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",ME,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?ue("",!0):(g(),S("tr",IE,[i("td",kE,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(g(!0),S(Ne,null,De(e.state.items,$=>{var Oe,J,le;return g(),S("tr",{key:$.id,class:Le({"is-active":e.state.activeOrder&&e.state.activeOrder.id===$.id})},[i("td",$E,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:Ce($.id),onChange:me=>ve($.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,wE)]),i("th",DE,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:me=>ye($)},d($.order_no),9,LE)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[i("div",null,d($.email),1),i("div",UE,d(D((le=$.items_count)!=null?le:(J=(Oe=$.items)==null?void 0:Oe.length)!=null?J:0)),1)],8,YE),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},d(I($.total_cents,$.currency)),9,XE),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[i("span",FE,d(H($.state)),1),$.needs_review?(g(),S("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:$.review_reason||r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,VE)):ue("",!0)],8,GE),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},d(P($.modified||$.created)),9,HE),i("td",BE,[z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":me=>o[$.id]=me,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:$.state},d(H($.state)),9,jE),(g(!0),S(Ne,null,De(pe($),me=>(g(),S("option",{key:me,value:me},d(H(me)),9,JE))),128))],8,KE),[[At,o[$.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!ie($),onClick:me=>te($)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,WE)])],2)}),128))])]),e.state.pagination.pages>1?(g(),S("nav",{key:1,class:"nxp-ec-admin-pagination","aria-label":r(n)("COM_NXPEASYCART_PAGINATION","Pagination")},[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:T[3]||(T[3]=$=>ce(e.state.pagination.current-1)),"aria-label":r(n)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,zE),i("span",QE,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:T[4]||(T[4]=$=>ce(e.state.pagination.current+1)),"aria-label":r(n)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,ZE)],8,qE)):ue("",!0)]),e.state.lastUpdated?(g(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(Q(e.state.lastUpdated)),9,eC)):ue("",!0),e.state.activeOrder?(g(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"order-modal-title",onKeydown:St(Y,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:Y}),i("div",tC,[i("aside",nC,[i("header",sC,[i("h3",iC,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Y,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[T[19]||(T[19]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",oC,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,aC)]),i("div",rC,[e.state.transitionError?(g(),S("div",lC,d(e.state.transitionError),1)):ue("",!0),(B=e.state.activeOrder)!=null&&B.needs_review?(g(),S("div",cC,[i("strong",null,d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),ke(" "+d(w((ae=e.state.activeOrder)==null?void 0:ae.review_reason)),1)])):ue("",!0),he.value?(g(),S("section",dC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",uC,[i("input",{type:"text",class:"nxp-ec-form-input",value:he.value,readonly:""},null,8,_C),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!he.value,onClick:G},[T[20]||(T[20]=i("i",{class:"fa-solid fa-link"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,pC)]),p.value?(g(),S("p",fC,d(p.value),1)):ue("",!0),i("div",mC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:$e},[T[21]||(T[21]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,hC),s.state.invoiceLoading?(g(),S("span",gC,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ue("",!0)])])):ue("",!0),i("section",EC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",CC,[(g(!0),S(Ne,null,De(e.state.activeOrder.items,$=>(g(),S("li",{key:$.id},[i("div",AC,[ke(d($.title)+" ",1),i("small",null,"("+d($.sku)+")",1)]),i("div",SC,"  "+d($.qty)+"  "+d(I($.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),e.state.activeOrder.downloads&&e.state.activeOrder.downloads.length?(g(),S("section",bC,[i("div",TC,[i("h4",null,d(r(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital downloads")),1),v.value?(g(),S("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--small",disabled:e.state.saving,onClick:R},[T[22]||(T[22]=i("i",{class:"fa-solid fa-envelope"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_ORDERS_RESEND_DOWNLOADS","Resend email")),1)],8,yC)):ue("",!0)]),f.value?(g(),S("p",RC,d(f.value),1)):ue("",!0),i("div",OC,[(g(!0),S(Ne,null,De(e.state.activeOrder.downloads,$=>(g(),S("article",{key:$.id,class:"nxp-ec-download-card"},[i("div",xC,[i("div",vC,d($.filename),1),i("div",NC,d(F($))+"  "+d(Z($)),1)]),i("div",PC,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",disabled:e.state.saving,onClick:Oe=>X($),title:r(n)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD_TITLE","Reset download count to 0")},[T[23]||(T[23]=i("i",{class:"fa-solid fa-rotate-left"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD","Reset")),1)],8,MC),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",onClick:Oe=>fe($)},d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),9,IC),$.url?(g(),S("a",{key:0,class:"nxp-ec-btn nxp-ec-btn--small",href:$.url,target:"_blank",rel:"noopener"},d(r(n)("COM_NXPEASYCART_DOWNLOAD","Download")),9,kC)):ue("",!0)])]))),128))])])):ue("",!0),i("section",$C,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",wC,d(I(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("div",DC,[i("section",LC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",YC,[(g(!0),S(Ne,null,De(b(e.state.activeOrder.billing),$=>(g(),S("span",{key:$.key},d($.value),1))),128))])]),i("section",UC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(g(),S("address",XC,[(g(!0),S(Ne,null,De(b(e.state.activeOrder.shipping),$=>(g(),S("span",{key:$.key},d($.value),1))),128))])):(g(),S("p",GC,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),i("section",FC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",VC,[i("label",HC,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),z(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":T[5]||(T[5]=$=>l.carrier=$)},null,512),[[Ee,l.carrier]])]),i("div",BC,[i("label",KC,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),z(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":T[6]||(T[6]=$=>l.tracking_number=$)},null,512),[[Ee,l.tracking_number]])]),i("div",jC,[i("label",JC,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),z(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":T[7]||(T[7]=$=>l.tracking_url=$)},null,512),[[Ee,l.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(g(),S("label",WC,[z(i("input",{type:"checkbox","onUpdate:modelValue":T[8]||(T[8]=$=>l.markFulfilled=$)},null,512),[[ht,l.markFulfilled]]),ke(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):ue("",!0),i("div",qC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!Te.value||e.state.saving,onClick:Ke},[T[24]||(T[24]=i("i",{class:"fa-solid fa-truck"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,zC)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(g(),S("section",QC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),i("div",ZC,[e.state.activeOrder.state==="fulfilled"?(g(),S("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:T[9]||(T[9]=$=>ot("shipped"))},[T[25]||(T[25]=i("i",{class:"fa-solid fa-envelope"},null,-1)),ke(" "+d(ne("shipped")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,eA)):ue("",!0),e.state.activeOrder.state==="refunded"?(g(),S("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:T[10]||(T[10]=$=>ot("refunded"))},[T[26]||(T[26]=i("i",{class:"fa-solid fa-envelope"},null,-1)),ke(" "+d(ne("refunded")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,tA)):ue("",!0)])])):ue("",!0),k.value?(g(),S("section",nA,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),i("p",sA,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),i("div",iA,[i("label",aA,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),z(i("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":T[11]||(T[11]=$=>h.amount=$),placeholder:I(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,oA),[[Ee,h.amount]]),i("small",rA,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),i("div",lA,[i("label",cA,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),z(i("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":T[12]||(T[12]=$=>h.reference=$),placeholder:r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,dA),[[Ee,h.reference]])]),i("div",uA,[i("label",_A,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),z(i("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":T[13]||(T[13]=$=>h.note=$)},null,512),[[Ee,h.note]])]),i("div",pA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving,onClick:E},[T[27]||(T[27]=i("i",{class:"icon-credit"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,fA)])])):ue("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(g(),S("section",mA,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",hA,[(g(!0),S(Ne,null,De(e.state.activeOrder.transactions,$=>(g(),S("li",{key:$.id},[i("div",gA,d($.gateway)+"  "+d(I($.amount_cents,e.state.activeOrder.currency)),1),i("div",EA,d(re($))+"  "+d(P($.created)),1)]))),128))])])):ue("",!0),i("section",CA,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:Nt(Fe,["prevent"])},[z(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":T[14]||(T[14]=$=>u.value=$),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,AA),[[Ee,u.value]]),i("div",SA,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!_.value||e.state.saving},[T[28]||(T[28]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,bA)])],32)]),i("section",TA,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),oe.value.length?(g(),S("ul",yA,[(g(!0),S(Ne,null,De(oe.value,$=>(g(),S("li",{key:$.key},[i("div",RA,d($.label),1),i("div",OA,d(P($.created)),1)]))),128))])):(g(),S("p",xA,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])],32)):ue("",!0)])):ue("",!0)])}}},[["__scopeId","data-v-c57062e2"]]),NA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},PA={class:"nxp-ec-admin-panel__header"},MA={class:"nxp-ec-admin-panel__title"},IA={class:"nxp-ec-admin-panel__lead"},kA={class:"nxp-ec-admin-panel__actions"},$A=["placeholder","aria-label"],wA=["disabled","title","aria-label"],DA={class:"nxp-ec-sr-only"},LA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},YA={key:1,class:"nxp-ec-admin-panel__body"},UA={key:2,class:"nxp-ec-admin-panel__body"},XA={class:"nxp-ec-admin-panel__table"},GA={class:"nxp-ec-admin-table"},FA={scope:"col"},VA={scope:"col"},HA={scope:"col"},BA={scope:"col"},KA={scope:"col"},jA={key:0},JA={colspan:"5"},WA={scope:"row",class:"nxp-ec-admin-table__primary"},qA=["onClick"],zA=["data-label"],QA=["data-label"],ZA=["data-label"],eS=["data-label"],tS={key:0,class:"nxp-ec-admin-pagination"},nS=["disabled"],sS={class:"nxp-ec-admin-pagination__status"},iS=["disabled"],aS=["title"],oS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},rS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},lS={class:"nxp-ec-admin-panel__sidebar-header"},cS={id:"customer-modal-title"},dS=["title","aria-label"],uS={class:"nxp-ec-sr-only"},_S={class:"nxp-ec-admin-panel__section"},pS={class:"nxp-ec-admin-summary"},fS={class:"nxp-ec-admin-panel__addresses"},mS={class:"nxp-ec-admin-panel__section"},hS={class:"nxp-ec-admin-address"},gS={class:"nxp-ec-admin-panel__section"},ES={key:0,class:"nxp-ec-admin-address"},CS={key:1,class:"nxp-ec-admin-panel__muted"},AS={class:"nxp-ec-admin-panel__section"},SS={key:0,class:"nxp-ec-admin-list"},bS={class:"nxp-ec-admin-list__title"},TS={class:"nxp-ec-admin-list__meta"},yS={key:1,class:"nxp-ec-admin-panel__muted"},RS={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},OS={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},xS={class:"nxp-ec-gdpr-actions"},vS=["disabled","title"],NS=["disabled","title"],PS=Ot({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=(I,P)=>{const w=(Number(I)||0)/100,D=(P||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:D}).format(w)}catch(H){return`${D} ${w.toFixed(2)}`}},c=I=>{if(!I)return"";const P=new Date(I);return Number.isNaN(P.getTime())?I:P.toLocaleString()},u=I=>!I||typeof I!="object"?[]:Object.entries(I).filter(([,P])=>P!=null&&`${P}`.trim()!=="").map(([P,w])=>({key:P,value:`${w}`.trim()})),_=I=>{if(!I)return"";const P=`COM_NXPEASYCART_ORDERS_STATE_${String(I).toUpperCase()}`;return n(P,I)},p=()=>a("refresh"),f=()=>a("search"),l=I=>a("page",I),h=I=>a("view",I),O=()=>a("close"),L=I=>a("gdprExport",I),k=I=>a("gdprAnonymise",I),v=I=>{if(!I)return"";try{const P=new Date(I),D=new Date-P,H=Math.floor(D/1e3),pe=Math.floor(H/60),ie=Math.floor(pe/60);return H<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):pe<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[pe]):ie<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ie]):P.toLocaleString()}catch(P){return I}};return(I,P)=>{var w,D,H;return g(),S("section",NA,[i("header",PA,[i("div",null,[i("h2",MA,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",IA,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",kA,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":P[0]||(P[0]=pe=>e.state.search=pe),onKeyup:St(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,$A),[[Ee,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[P[5]||(P[5]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",DA,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,wA)])]),e.state.error?(g(),S("div",LA,d(e.state.error),1)):ue("",!0),e.state.loading?(g(),S("div",YA,[st(es,{type:"table",rows:5,columns:5})])):ue("",!0),e.state.loading?ue("",!0):(g(),S("div",UA,[i("div",XA,[i("table",GA,[i("thead",null,[i("tr",null,[i("th",FA,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",VA,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",HA,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",BA,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",KA,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?ue("",!0):(g(),S("tr",jA,[i("td",JA,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(g(!0),S(Ne,null,De(e.state.items,pe=>{var ie;return g(),S("tr",{key:pe.email,class:Le({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===pe.email})},[i("th",WA,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:x=>h(pe)},d(pe.email),9,qA)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},d(((ie=pe.meta)==null?void 0:ie.name)||""),9,zA),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},d(pe.orders_count),9,QA),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},d(o(pe.total_spent_cents,pe.currency||e.baseCurrency)),9,ZA),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},d(c(pe.last_order)),9,eS)],2)}),128))])]),e.state.pagination.pages>1?(g(),S("div",tS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:P[1]||(P[1]=pe=>l(e.state.pagination.current-1))},"  ",8,nS),i("span",sS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:P[2]||(P[2]=pe=>l(e.state.pagination.current+1))},"  ",8,iS)])):ue("",!0)]),e.state.lastUpdated?(g(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(v(e.state.lastUpdated)),9,aS)):ue("",!0),e.state.activeCustomer?(g(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"customer-modal-title",onKeydown:St(O,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:O}),i("div",oS,[i("aside",rS,[i("header",lS,[i("h3",cS,d(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:O,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[P[6]||(P[6]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",uS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,dS)]),i("section",_S,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",pS,[i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,d(((w=e.state.activeCustomer.meta)==null?void 0:w.name)||""),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,d(o(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,d(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,d(c(e.state.activeCustomer.last_order)),1)])])]),i("div",fS,[i("section",mS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",hS,[(g(!0),S(Ne,null,De(u((D=e.state.activeCustomer.meta)==null?void 0:D.billing),pe=>(g(),S("span",{key:pe.key},d(pe.value),1))),128))])]),i("section",gS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(H=e.state.activeCustomer.meta)!=null&&H.shipping?(g(),S("address",ES,[(g(!0),S(Ne,null,De(u(e.state.activeCustomer.meta.shipping),pe=>(g(),S("span",{key:pe.key},d(pe.value),1))),128))])):(g(),S("p",CS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),i("section",AS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(g(),S("ul",SS,[(g(!0),S(Ne,null,De(e.state.activeCustomer.orders,pe=>(g(),S("li",{key:pe.id},[i("div",bS,d(pe.order_no)+"  "+d(o(pe.total_cents,pe.currency||e.baseCurrency)),1),i("div",TS,d(_(pe.state))+"  "+d(c(pe.created)),1)]))),128))])):(g(),S("p",yS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),i("section",RS,[i("h4",null,d(r(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),i("p",OS,d(r(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),i("div",xS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:P[3]||(P[3]=pe=>L(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[P[7]||(P[7]=i("i",{class:"fa-solid fa-download"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,vS),i("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:P[4]||(P[4]=pe=>k(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[P[8]||(P[8]=i("i",{class:"fa-solid fa-user-slash"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,NS)]),e.state.gdprMessage?(g(),S("p",{key:0,class:Le(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},d(e.state.gdprMessage),3)):ue("",!0)])])])],32)):ue("",!0)]))])}}},[["__scopeId","data-v-2e6c67f3"]]),MS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},IS={class:"nxp-ec-admin-panel__header"},kS={class:"nxp-ec-admin-panel__title"},$S={class:"nxp-ec-admin-panel__lead"},wS={class:"nxp-ec-admin-panel__actions"},DS=["placeholder","aria-label"],LS=["disabled","title","aria-label"],YS={class:"nxp-ec-sr-only"},US={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},XS={key:1,class:"nxp-ec-admin-panel__loading"},GS={key:2,class:"nxp-ec-admin-panel__body"},FS={class:"nxp-ec-admin-panel__table"},VS={class:"nxp-ec-admin-table"},HS={scope:"col"},BS={scope:"col"},KS={scope:"col"},jS={scope:"col"},JS={scope:"col"},WS={scope:"col"},qS={key:0},zS={colspan:"7"},QS={scope:"row",class:"nxp-ec-admin-table__primary"},ZS=["data-label"],eb=["data-label"],tb=["data-label"],nb=["data-label"],sb=["data-label"],ib={class:"nxp-ec-admin-table__actions"},ab=["onClick","title","aria-label"],ob={class:"nxp-ec-sr-only"},rb=["onClick","title","aria-label"],lb={class:"nxp-ec-sr-only"},cb=["aria-label"],db=["disabled","aria-label"],ub={class:"nxp-ec-admin-pagination__status","aria-current":"page"},_b=["disabled","aria-label"],pb={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},fb={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},mb={class:"nxp-ec-admin-panel__sidebar-header"},hb={id:"coupon-modal-title"},gb=["title","aria-label"],Eb={class:"nxp-ec-sr-only"},Cb={class:"nxp-ec-form-field"},Ab={class:"nxp-ec-form-label",for:"coupon-code"},Sb={class:"nxp-ec-form-field"},bb={class:"nxp-ec-form-label",for:"coupon-type"},Tb={value:"percent"},yb={value:"fixed"},Rb={class:"nxp-ec-form-field"},Ob={class:"nxp-ec-form-label",for:"coupon-value"},xb={class:"nxp-ec-form-field"},vb={class:"nxp-ec-form-label",for:"coupon-min-total"},Nb={class:"nxp-ec-form-field"},Pb={class:"nxp-ec-form-label",for:"coupon-start"},Mb={class:"nxp-ec-form-field"},Ib={class:"nxp-ec-form-label",for:"coupon-end"},kb={class:"nxp-ec-form-field"},$b={class:"nxp-ec-form-label",for:"coupon-max-uses"},wb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Db={class:"nxp-ec-form-label",for:"coupon-active"},Lb={class:"nxp-ec-modal__actions"},Yb=["disabled"],Ub=["disabled"],Xb=["disabled"],Gb=Ot({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Se(()=>(s.baseCurrency||"USD").toUpperCase()),c=Be({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=Se(()=>c.open),_=()=>a("refresh"),p=()=>a("search"),f=w=>a("page",w),l=()=>{Object.assign(c,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},h=w=>{var D,H;Object.assign(c,{open:!0,id:w.id,code:w.code,type:w.type,value:w.value,min_total:(H=w.min_total)!=null?H:((D=w.min_total_cents)!=null?D:0)/100,start:w.start?w.start.substring(0,10):"",end:w.end?w.end.substring(0,10):"",max_uses:w.max_uses,active:w.active})},O=()=>{c.open=!1},L=()=>{const w={id:c.id||void 0,code:c.code,type:c.type,value:c.value,min_total:c.min_total||0,start:c.start||null,end:c.end||null,max_uses:c.max_uses!==null&&c.max_uses!==""?c.max_uses:null,active:c.active};a("save",w)},k=w=>{const D=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(D)&&(a("delete",[w.id]),c.id===w.id&&O())},v=(w,D)=>{const H=(Number(w)||0)/100,pe=(D||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:pe}).format(H)}catch(ie){return`${pe} ${H.toFixed(2)}`}},I=w=>w.type==="percent"?`${w.value}%`:v(w.value*100,o.value),P=w=>w==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Qe(()=>s.state.saving,(w,D)=>{D&&!w&&!s.state.error&&c.open&&O()}),(w,D)=>(g(),S("section",MS,[i("header",IS,[i("div",null,[i("h2",kS,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",$S,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",wS,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=H=>e.state.search=H),onKeyup:St(p,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,DS),[[Ee,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[D[12]||(D[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",YS,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,LS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:l},[D[13]||(D[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(g(),S("div",US,d(e.state.error),1)):ue("",!0),e.state.loading?(g(),S("div",XS,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):ue("",!0),e.state.loading?ue("",!0):(g(),S("div",GS,[i("div",FS,[i("table",VS,[i("thead",null,[i("tr",null,[i("th",HS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",BS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",KS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",jS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",JS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",WS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),D[14]||(D[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ue("",!0):(g(),S("tr",qS,[i("td",zS,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(g(!0),S(Ne,null,De(e.state.items,H=>(g(),S("tr",{key:H.id,class:Le({"is-active":c.id===H.id})},[i("th",QS,d(H.code),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},d(P(H.type)),9,ZS),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},d(I(H)),9,eb),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},d(v(H.min_total_cents,o.value)),9,tb),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[i("span",{class:Le(["nxp-ec-badge",{"is-active":H.active}])},[i("i",{class:Le(H.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ke(" "+d(H.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,nb),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},d(H.times_used)+d(H.max_uses?` / ${H.max_uses}`:""),9,sb),i("td",ib,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:pe=>h(H),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[D[15]||(D[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",ob,d(r(n)("JEDIT","Edit")),1)],8,ab),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:pe=>k(H),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[D[16]||(D[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",lb,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,rb)])],2))),128))])]),e.state.pagination.pages>1?(g(),S("nav",{key:0,class:"nxp-ec-admin-pagination","aria-label":r(n)("COM_NXPEASYCART_PAGINATION","Pagination")},[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[1]||(D[1]=H=>f(e.state.pagination.current-1)),"aria-label":r(n)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,db),i("span",ub,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[2]||(D[2]=H=>f(e.state.pagination.current+1)),"aria-label":r(n)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,_b)],8,cb)):ue("",!0)]),u.value?(g(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"coupon-modal-title",onKeydown:St(O,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:O}),i("div",pb,[i("aside",fb,[i("header",mb,[i("h3",hb,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:O,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[D[17]||(D[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",Eb,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,gb)]),i("form",{class:"nxp-ec-form",onSubmit:Nt(L,["prevent"]),autocomplete:"off"},[i("div",Cb,[i("label",Ab,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),z(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":D[3]||(D[3]=H=>c.code=H),required:"",maxlength:"64"},null,512),[[Ee,c.code,void 0,{trim:!0}]])]),i("div",Sb,[i("label",bb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),z(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":D[4]||(D[4]=H=>c.type=H)},[i("option",Tb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",yb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[At,c.type]])]),i("div",Rb,[i("label",Ob,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),z(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":D[5]||(D[5]=H=>c.value=H),required:""},null,512),[[Ee,c.value,void 0,{number:!0}]])]),i("div",xb,[i("label",vb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),z(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":D[6]||(D[6]=H=>c.min_total=H)},null,512),[[Ee,c.min_total,void 0,{number:!0}]])]),i("div",Nb,[i("label",Pb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),z(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":D[7]||(D[7]=H=>c.start=H)},null,512),[[Ee,c.start]])]),i("div",Mb,[i("label",Ib,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),z(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":D[8]||(D[8]=H=>c.end=H)},null,512),[[Ee,c.end]])]),i("div",kb,[i("label",$b,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),z(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":D[9]||(D[9]=H=>c.max_uses=H)},null,512),[[Ee,c.max_uses,void 0,{number:!0}]])]),i("div",wb,[i("label",Db,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),z(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":D[10]||(D[10]=H=>c.active=H)},null,512),[[ht,c.active]])]),i("footer",Lb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:O,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,Yb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,Ub)]),c.id?(g(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:D[11]||(D[11]=H=>k(c)),disabled:e.state.saving},[D[18]||(D[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Xb)):ue("",!0)],32)])])],32)):ue("",!0)]))]))}},[["__scopeId","data-v-768a321c"]]),Fb={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},Vb={class:"nxp-ec-admin-panel__header"},Hb={class:"nxp-ec-admin-panel__title"},Bb={class:"nxp-ec-admin-panel__lead"},Kb={class:"nxp-ec-settings-tabs"},jb={key:0,class:"nxp-ec-settings-panel"},Jb={class:"nxp-ec-settings-panel__header"},Wb=["disabled"],qb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},zb={key:1,class:"nxp-ec-admin-panel__loading"},Qb={class:"nxp-ec-form-field"},Zb={class:"nxp-ec-form-label",for:"settings-store-name"},eT={class:"nxp-ec-form-field"},tT={class:"nxp-ec-form-label",for:"settings-store-email"},nT={class:"nxp-ec-form-field"},sT={class:"nxp-ec-form-label",for:"settings-store-phone"},iT={class:"nxp-ec-form-field"},aT={class:"nxp-ec-form-label",for:"settings-base-currency"},oT=["value"],rT={class:"nxp-ec-form-help"},lT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},cT={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},dT={class:"nxp-ec-form-help"},uT={class:"nxp-ec-form-field"},_T={class:"nxp-ec-form-label",for:"settings-display-locale"},pT={class:"nxp-ec-form-help"},fT={class:"nxp-ec-form-field"},mT={class:"nxp-ec-form-label",for:"settings-category-page-size"},hT={class:"nxp-ec-form-help"},gT={class:"nxp-ec-form-field"},ET={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},CT={value:"paged"},AT={value:"infinite"},ST={class:"nxp-ec-form-help"},bT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},TT={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},yT={class:"nxp-ec-form-help"},RT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},OT={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},xT={class:"nxp-ec-form-help"},vT={key:0,class:"nxp-ec-form-field"},NT={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},PT={class:"nxp-ec-form-help"},MT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},IT={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},kT={class:"nxp-ec-form-help"},$T={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},wT={class:"nxp-ec-settings-actions"},DT=["disabled"],LT=["disabled"],YT={key:1,class:"nxp-ec-settings-panel"},UT={class:"nxp-ec-settings-panel__header"},XT=["disabled"],GT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},FT={key:1,class:"nxp-ec-admin-panel__loading"},VT={class:"nxp-ec-form-grid"},HT={class:"nxp-ec-form-field"},BT={class:"nxp-ec-form-label",for:"settings-digital-max"},KT={class:"nxp-ec-form-help"},jT={class:"nxp-ec-form-field"},JT={class:"nxp-ec-form-label",for:"settings-digital-expiry"},WT={class:"nxp-ec-form-help"},qT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},zT={class:"nxp-ec-form-label",for:"settings-digital-fulfill"},QT={class:"nxp-ec-form-help"},ZT={class:"nxp-ec-form-field"},ey={class:"nxp-ec-form-label",for:"settings-digital-storage"},ty={class:"nxp-ec-form-help"},ny={class:"nxp-ec-settings-actions"},sy=["disabled"],iy={key:2,class:"nxp-ec-settings-panel"},ay={class:"nxp-ec-settings-panel__header"},oy=["disabled"],ry={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ly={class:"nxp-ec-form-help"},cy={class:"nxp-ec-form-grid"},dy={class:"nxp-ec-form-field"},uy={class:"nxp-ec-form-label",for:"settings-checkout-window"},_y={class:"nxp-ec-form-help"},py={class:"nxp-ec-form-field"},fy={class:"nxp-ec-form-label",for:"settings-offline-window"},my={class:"nxp-ec-form-help"},hy={class:"nxp-ec-form-grid"},gy={class:"nxp-ec-form-field"},Ey={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},Cy={class:"nxp-ec-form-field"},Ay={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},Sy={class:"nxp-ec-form-field"},by={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},Ty={class:"nxp-ec-form-grid"},yy={class:"nxp-ec-form-field"},Ry={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},Oy={class:"nxp-ec-form-field"},xy={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},vy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Ny={class:"nxp-ec-settings-actions"},Py=["disabled"],My=["disabled"],Iy={key:3,class:"nxp-ec-settings-panel"},ky={class:"nxp-ec-settings-panel__header"},$y={class:"nxp-ec-settings-actions"},wy=["disabled"],Dy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ly={key:1,class:"nxp-ec-admin-panel__loading"},Yy={class:"nxp-ec-form-field"},Uy={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},Xy={class:"nxp-ec-form-field"},Gy={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},Fy={class:"nxp-ec-form-field"},Vy={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},Hy={class:"nxp-ec-form-help"},By={class:"nxp-ec-form-field"},Ky={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},jy={value:"test"},Jy={value:"live"},Wy={class:"nxp-ec-form-field"},qy={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},zy={class:"nxp-ec-form-field"},Qy={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},Zy={class:"nxp-ec-form-field"},eR={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},tR={class:"nxp-ec-form-help"},nR={class:"nxp-ec-form-field"},sR={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},iR={value:"sandbox"},aR={value:"live"},oR={class:"nxp-ec-form-field nxp-ec-form-field--inline"},rR={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},lR={class:"nxp-ec-form-field"},cR={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},dR={class:"nxp-ec-form-field nxp-ec-form-field--inline"},uR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},_R={class:"nxp-ec-form-field"},pR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},fR={class:"nxp-ec-form-field"},mR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},hR=["placeholder"],gR={class:"nxp-ec-form-help"},ER={class:"nxp-ec-form-grid"},CR={class:"nxp-ec-form-field"},AR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},SR={class:"nxp-ec-form-field"},bR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},TR={class:"nxp-ec-form-field"},yR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},RR={class:"nxp-ec-form-field nxp-ec-form-field--inline"},OR={class:"nxp-ec-form-label",for:"settings-payments-configured"},xR={class:"nxp-ec-form-help"},vR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},NR={class:"nxp-ec-settings-actions"},PR=["disabled"],MR=["disabled"],IR={key:4,class:"nxp-ec-settings-panel"},kR={class:"nxp-ec-settings-panel__header"},$R=["disabled"],wR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},DR={key:1,class:"nxp-ec-admin-panel__loading"},LR={class:"nxp-ec-form-help"},YR={class:"nxp-ec-form-help nxp-ec-form-help--muted"},UR={class:"nxp-ec-visual-grid"},XR={class:"nxp-ec-visual-field"},GR={class:"nxp-ec-form-label",for:"visual-primary-color"},FR={class:"nxp-ec-color-input-group"},VR=["value"],HR=["placeholder"],BR={class:"nxp-ec-visual-field"},KR={class:"nxp-ec-form-label",for:"visual-text-color"},jR={class:"nxp-ec-color-input-group"},JR=["value"],WR=["placeholder"],qR={class:"nxp-ec-visual-field"},zR={class:"nxp-ec-form-label",for:"visual-surface-color"},QR={class:"nxp-ec-color-input-group"},ZR=["value"],eO=["placeholder"],tO={class:"nxp-ec-visual-field"},nO={class:"nxp-ec-form-label",for:"visual-border-color"},sO={class:"nxp-ec-color-input-group"},iO=["value"],aO=["placeholder"],oO={class:"nxp-ec-visual-field"},rO={class:"nxp-ec-form-label",for:"visual-muted-color"},lO={class:"nxp-ec-color-input-group"},cO=["value"],dO=["placeholder"],uO={class:"nxp-ec-visual-preview"},_O={type:"button",class:"nxp-ec-preview-btn"},pO={class:"nxp-ec-preview-text"},fO={class:"nxp-ec-preview-muted"},mO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},hO={class:"nxp-ec-settings-actions"},gO=["disabled"],EO=["disabled"],CO=Ot({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=s.settingsState,c=s.paymentsState,_=ze(["general","digital","security","payments","visual"].includes(s.initialTab)?s.initialTab:"general");Se(()=>{var V;const b=s.baseCurrency||"USD",A=typeof p.baseCurrency=="string"?p.baseCurrency.trim():"",C=typeof((V=o==null?void 0:o.values)==null?void 0:V.base_currency)=="string"?o.values.base_currency.trim():"";return(A!==""?A:C!==""?C:b).toUpperCase()});const p=Be({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1,digitalMaxDownloads:5,digitalExpiryDays:30,digitalStoragePath:"",digitalAutoFulfill:!0}),f=Be({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),l=Be({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),h=Be({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),O=Se(()=>{var A,C;const b=(C=(A=o.values)==null?void 0:A.visual_defaults)!=null?C:{};return{primary:b.primary_color||"#4f6d7a",text:b.text_color||"#1f2933",surface:b.surface_color||"#ffffff",border:b.border_color||"#e4e7ec",muted:b.muted_color||"#6b7280"}}),L=Se(()=>{var b,A;return(A=(b=o.values)==null?void 0:b.currencies)!=null?A:[]}),k=Se(()=>({"--nxp-ec-color-primary":h.primaryColor||O.value.primary,"--nxp-ec-color-text":h.textColor||O.value.text,"--nxp-ec-color-surface":h.surfaceColor||O.value.surface,"--nxp-ec-color-border":h.borderColor||O.value.border,"--nxp-ec-color-muted":h.mutedColor||O.value.muted})),v=(b={})=>{var ye,Y,te,ce,Ce,ve,Re,xe,Fe,$e,Ke,ot,E,R,X,ne,j,q;const A=(ye=b==null?void 0:b.store)!=null?ye:{},C=(Y=b==null?void 0:b.payments)!=null?Y:{},ee=(te=b==null?void 0:b.visual)!=null?te:{},V=(Ce=(ce=b==null?void 0:b.security)==null?void 0:ce.rate_limits)!=null?Ce:{};Object.assign(p,{storeName:(ve=A.name)!=null?ve:"",storeEmail:(Re=A.email)!=null?Re:"",storePhone:(xe=A.phone)!=null?xe:"",checkoutPhoneRequired:!!((Fe=b==null?void 0:b.checkout_phone_required)!=null&&Fe),paymentsConfigured:!!C.configured,autoSendOrderEmails:!!(($e=b==null?void 0:b.auto_send_order_emails)!=null&&$e),baseCurrency:typeof(b==null?void 0:b.base_currency)=="string"?b.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(b==null?void 0:b.display_locale)=="string"?b.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(b==null?void 0:b.category_page_size))?Number(b.category_page_size):12,categoryPaginationMode:(b==null?void 0:b.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((Ke=b==null?void 0:b.stale_order_cleanup_enabled)!=null&&Ke),staleOrderHours:Number.isFinite(Number(b==null?void 0:b.stale_order_hours))?Math.max(1,Math.min(720,Number(b.stale_order_hours))):48,showAdvancedMode:!!((ot=b==null?void 0:b.show_advanced_mode)!=null&&ot),digitalMaxDownloads:Number.isFinite(Number(b==null?void 0:b.digital_download_max))?Math.max(0,Number(b.digital_download_max)):5,digitalExpiryDays:Number.isFinite(Number(b==null?void 0:b.digital_download_expiry))?Math.max(0,Number(b.digital_download_expiry)):30,digitalStoragePath:typeof(b==null?void 0:b.digital_storage_path)=="string"?b.digital_storage_path:"",digitalAutoFulfill:!!((E=b==null?void 0:b.digital_auto_fulfill)==null||E)}),Object.assign(h,{primaryColor:(R=ee.primary_color)!=null?R:"",textColor:(X=ee.text_color)!=null?X:"",surfaceColor:(ne=ee.surface_color)!=null?ne:"",borderColor:(j=ee.border_color)!=null?j:"",mutedColor:(q=ee.muted_color)!=null?q:""}),Object.assign(f,{checkoutWindowMinutes:Number.isFinite(Number(V.checkout_window_minutes))?Number(V.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(V.checkout_ip_limit))?Number(V.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(V.checkout_email_limit))?Number(V.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(V.checkout_session_limit))?Number(V.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(V.offline_window_minutes))?Number(V.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(V.offline_ip_limit))?Number(V.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(V.offline_email_limit))?Number(V.offline_email_limit):5})},I=(b={})=>{var ye,Y,te,ce,Ce,ve,Re,xe,Fe,$e,Ke,ot,E,R,X,ne,j,q,_e,oe,re,Q,y,T;const A=(ye=b.stripe)!=null?ye:{},C=(Y=b.paypal)!=null?Y:{},ee=(te=b.cod)!=null?te:{},V=(ce=b.bank_transfer)!=null?ce:{};Object.assign(l.stripe,{publishable_key:(Ce=A.publishable_key)!=null?Ce:"",secret_key:(ve=A.secret_key)!=null?ve:"",webhook_secret:(Re=A.webhook_secret)!=null?Re:"",mode:(xe=A.mode)!=null?xe:"test"}),Object.assign(l.paypal,{client_id:(Fe=C.client_id)!=null?Fe:"",client_secret:($e=C.client_secret)!=null?$e:"",webhook_id:(Ke=C.webhook_id)!=null?Ke:"",mode:(ot=C.mode)!=null?ot:"sandbox"}),Object.assign(l.cod,{enabled:ee.enabled!==void 0?!!ee.enabled:l.cod.enabled,label:(R=(E=ee.label)!=null?E:l.cod.label)!=null?R:"Cash on delivery"}),Object.assign(l.bank_transfer,{enabled:V.enabled!==void 0?!!V.enabled:l.bank_transfer.enabled,label:(ne=(X=V.label)!=null?X:l.bank_transfer.label)!=null?ne:"Bank transfer",instructions:(q=(j=V.instructions)!=null?j:l.bank_transfer.instructions)!=null?q:"",account_name:(oe=(_e=V.account_name)!=null?_e:l.bank_transfer.account_name)!=null?oe:"",iban:(Q=(re=V.iban)!=null?re:l.bank_transfer.iban)!=null?Q:"",bic:(T=(y=V.bic)!=null?y:l.bank_transfer.bic)!=null?T:""})};Qe(()=>o.values,b=>{v(b!=null?b:{})},{immediate:!0});const P=()=>a("refresh-settings"),w=()=>{const b=(p.baseCurrency||"").trim().toUpperCase(),A=(p.displayLocale||"").trim();a("save-settings",{store:{name:p.storeName,email:p.storeEmail,phone:p.storePhone,base_currency:b},payments:{configured:p.paymentsConfigured},base_currency:b,display_locale:A,checkout_phone_required:p.checkoutPhoneRequired,auto_send_order_emails:p.autoSendOrderEmails,category_page_size:Number.isFinite(Number(p.categoryPageSize))?Number(p.categoryPageSize):12,category_pagination_mode:p.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!p.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(p.staleOrderHours))?Math.max(1,Math.min(720,Number(p.staleOrderHours))):48,show_advanced_mode:!!p.showAdvancedMode})},D=()=>{var b;v((b=o.values)!=null?b:{})},H=()=>{const b=Number.isFinite(Number(p.digitalMaxDownloads))?Math.max(0,Number(p.digitalMaxDownloads)):0,A=Number.isFinite(Number(p.digitalExpiryDays))?Math.max(0,Number(p.digitalExpiryDays)):0,C=(p.digitalStoragePath||"").trim();a("save-settings",{digital_download_max:b,digital_download_expiry:A,digital_storage_path:C,digital_auto_fulfill:!!p.digitalAutoFulfill})},pe=()=>{var b;v((b=o.values)!=null?b:{})},ie=()=>{const b=(A,C=0)=>{const ee=Number(A);return Number.isFinite(ee)&&ee>=0?ee:C};a("save-settings",{security:{rate_limits:{checkout_window_minutes:b(f.checkoutWindowMinutes,15),checkout_ip_limit:b(f.checkoutIpLimit,10),checkout_email_limit:b(f.checkoutEmailLimit,5),checkout_session_limit:b(f.checkoutSessionLimit,15),offline_window_minutes:b(f.offlineWindowMinutes,240),offline_ip_limit:b(f.offlineIpLimit,10),offline_email_limit:b(f.offlineEmailLimit,5)}}})},x=()=>{var b;v((b=o.values)!=null?b:{})};Qe(()=>o.saving,(b,A)=>{var C;A&&!b&&!o.error&&v((C=o.values)!=null?C:{})}),Qe(()=>c.config,b=>{I(b!=null?b:{})},{immediate:!0}),Qe(()=>c.saving,(b,A)=>{var C;A&&!b&&!c.error&&I((C=c.config)!=null?C:{})});const he=()=>a("refresh-payments"),G=()=>{const b=JSON.parse(JSON.stringify(l));a("save-payments",b),a("save-settings",{payments:{configured:p.paymentsConfigured}})},F=()=>{var b;I((b=c.config)!=null?b:{})},Z=()=>a("refresh-settings"),fe=()=>{a("save-settings",{visual:{primary_color:h.primaryColor,text_color:h.textColor,surface_color:h.surfaceColor,border_color:h.borderColor,muted_color:h.mutedColor}})},Te=()=>{var A,C,ee,V,ye,Y,te;const b=(C=(A=o.values)==null?void 0:A.visual)!=null?C:{};Object.assign(h,{primaryColor:(ee=b.primary_color)!=null?ee:"",textColor:(V=b.text_color)!=null?V:"",surfaceColor:(ye=b.surface_color)!=null?ye:"",borderColor:(Y=b.border_color)!=null?Y:"",mutedColor:(te=b.muted_color)!=null?te:""})};return(b,A)=>(g(),S("section",Fb,[i("header",Vb,[i("div",null,[i("h2",Hb,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",Bb,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",Kb,[i("button",{type:"button",class:Le(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:A[0]||(A[0]=C=>_.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Le(["nxp-ec-settings-tab",{"is-active":_.value==="digital"}]),onClick:A[1]||(A[1]=C=>_.value="digital")},d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital")),3),p.showAdvancedMode?(g(),S("button",{key:0,type:"button",class:Le(["nxp-ec-settings-tab",{"is-active":_.value==="security"}]),onClick:A[2]||(A[2]=C=>_.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):ue("",!0),i("button",{type:"button",class:Le(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:A[3]||(A[3]=C=>_.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Le(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:A[4]||(A[4]=C=>_.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(g(),S("div",jb,[i("header",Jb,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:P,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,Wb)]),r(o).error?(g(),S("div",qb,d(r(o).error),1)):r(o).loading?(g(),S("div",zb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(g(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:Nt(w,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),i("div",Qb,[i("label",Zb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),z(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[5]||(A[5]=C=>p.storeName=C),maxlength:"190"},null,512),[[Ee,p.storeName,void 0,{trim:!0}]])]),i("div",eT,[i("label",tT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),z(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":A[6]||(A[6]=C=>p.storeEmail=C)},null,512),[[Ee,p.storeEmail,void 0,{trim:!0}]])]),i("div",nT,[i("label",sT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),z(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[7]||(A[7]=C=>p.storePhone=C),maxlength:"64"},null,512),[[Ee,p.storePhone,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),i("div",iT,[i("label",aT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),z(i("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":A[8]||(A[8]=C=>p.baseCurrency=C),required:""},[(g(!0),S(Ne,null,De(L.value,C=>(g(),S("option",{key:C.code,value:C.code},d(C.label),9,oT))),128))],512),[[At,p.baseCurrency]]),i("p",rT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",lT,[i("label",cT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),z(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[9]||(A[9]=C=>p.checkoutPhoneRequired=C)},null,512),[[ht,p.checkoutPhoneRequired]]),i("p",dT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",uT,[i("label",_T,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),z(i("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[10]||(A[10]=C=>p.displayLocale=C),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[Ee,p.displayLocale,void 0,{trim:!0}]]),i("p",pT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),i("div",fT,[i("label",mT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),z(i("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":A[11]||(A[11]=C=>p.categoryPageSize=C)},null,512),[[Ee,p.categoryPageSize,void 0,{number:!0}]]),i("p",hT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),i("div",gT,[i("label",ET,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),z(i("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":A[12]||(A[12]=C=>p.categoryPaginationMode=C)},[i("option",CT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),i("option",AT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[At,p.categoryPaginationMode]]),i("p",ST,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),i("div",bT,[i("label",TT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),z(i("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[13]||(A[13]=C=>p.autoSendOrderEmails=C)},null,512),[[ht,p.autoSendOrderEmails]]),i("p",yT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),i("div",RT,[i("label",OT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),z(i("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[14]||(A[14]=C=>p.staleOrderCleanupEnabled=C)},null,512),[[ht,p.staleOrderCleanupEnabled]]),i("p",xT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),p.staleOrderCleanupEnabled?(g(),S("div",vT,[i("label",NT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),z(i("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":A[15]||(A[15]=C=>p.staleOrderHours=C)},null,512),[[Ee,p.staleOrderHours,void 0,{number:!0}]]),i("p",PT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):ue("",!0)]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),i("div",MT,[i("label",IT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),z(i("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[16]||(A[16]=C=>p.showAdvancedMode=C)},null,512),[[ht,p.showAdvancedMode]]),i("p",kT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),r(o).message?(g(),S("div",$T,d(r(o).message),1)):ue("",!0),i("div",wT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:D,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,DT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,LT)])],32))])):_.value==="digital"?(g(),S("div",YT,[i("header",UT,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital products")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:P,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh")),9,XT)]),r(o).error?(g(),S("div",GT,d(r(o).error),1)):r(o).loading?(g(),S("div",FT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings")),1)):(g(),S("form",{key:2,class:"nxp-ec-settings-form",onSubmit:Nt(H,["prevent"])},[i("div",VT,[i("div",HT,[i("label",BT,d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS","Default max downloads")),1),z(i("input",{id:"settings-digital-max",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[17]||(A[17]=C=>p.digitalMaxDownloads=C)},null,512),[[Ee,p.digitalMaxDownloads,void 0,{number:!0}]]),i("p",KT,d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS_DESC","Maximum downloads allowed per purchase (0 for unlimited).")),1)]),i("div",jT,[i("label",JT,d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY","Download link expiry (days)")),1),z(i("input",{id:"settings-digital-expiry",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[18]||(A[18]=C=>p.digitalExpiryDays=C)},null,512),[[Ee,p.digitalExpiryDays,void 0,{number:!0}]]),i("p",WT,d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY_DESC","Number of days before links expire (0 for no expiry).")),1)]),i("div",qT,[i("label",zT,d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL","Auto-fulfill digital orders")),1),z(i("input",{id:"settings-digital-fulfill",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[19]||(A[19]=C=>p.digitalAutoFulfill=C)},null,512),[[ht,p.digitalAutoFulfill]]),i("p",QT,d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL_DESC","Mark digital-only orders fulfilled after payment.")),1)]),i("div",ZT,[i("label",ey,d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH","Storage path")),1),z(i("input",{id:"settings-digital-storage",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[20]||(A[20]=C=>p.digitalStoragePath=C),maxlength:"250"},null,512),[[Ee,p.digitalStoragePath,void 0,{trim:!0}]]),i("p",ty,d(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH_DESC","Protected directory for digital files. Adjust only if you know the server path.")),1)])]),i("div",ny,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:pe},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_RESET","Reset")),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,sy)])],32))])):_.value==="security"&&p.showAdvancedMode?(g(),S("div",iy,[i("header",ay,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:P,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,oy)]),r(o).error?(g(),S("div",ry,d(r(o).error),1)):(g(),S("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:Nt(ie,["prevent"])},[i("p",ly,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",cy,[i("div",dy,[i("label",uy,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),z(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[21]||(A[21]=C=>f.checkoutWindowMinutes=C)},null,512),[[Ee,f.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",_y,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",py,[i("label",fy,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),z(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[22]||(A[22]=C=>f.offlineWindowMinutes=C)},null,512),[[Ee,f.offlineWindowMinutes,void 0,{number:!0}]]),i("p",my,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",hy,[i("div",gy,[i("label",Ey,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),z(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[23]||(A[23]=C=>f.checkoutIpLimit=C)},null,512),[[Ee,f.checkoutIpLimit,void 0,{number:!0}]])]),i("div",Cy,[i("label",Ay,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),z(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[24]||(A[24]=C=>f.checkoutEmailLimit=C)},null,512),[[Ee,f.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",Sy,[i("label",by,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),z(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[25]||(A[25]=C=>f.checkoutSessionLimit=C)},null,512),[[Ee,f.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",Ty,[i("div",yy,[i("label",Ry,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),z(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[26]||(A[26]=C=>f.offlineIpLimit=C)},null,512),[[Ee,f.offlineIpLimit,void 0,{number:!0}]])]),i("div",Oy,[i("label",xy,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),z(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[27]||(A[27]=C=>f.offlineEmailLimit=C)},null,512),[[Ee,f.offlineEmailLimit,void 0,{number:!0}]])])]),r(o).message?(g(),S("div",vy,d(r(o).message),1)):ue("",!0),i("div",Ny,[i("button",{class:"nxp-ec-btn",type:"button",onClick:x,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,Py),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,My)])],32))])):_.value==="payments"?(g(),S("div",Iy,[i("header",ky,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",$y,[i("button",{class:"nxp-ec-btn",type:"button",onClick:he,disabled:r(c).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,wy)])]),r(c).error?(g(),S("div",Dy,d(r(c).error),1)):r(c).loading?(g(),S("div",Ly,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(g(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:Nt(G,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",Yy,[i("label",Uy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),z(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[28]||(A[28]=C=>l.stripe.publishable_key=C)},null,512),[[Ee,l.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",Xy,[i("label",Gy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),z(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":A[29]||(A[29]=C=>l.stripe.secret_key=C),autocomplete:"off"},null,512),[[Ee,l.stripe.secret_key,void 0,{trim:!0}]])]),i("div",Fy,[i("label",Vy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),z(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":A[30]||(A[30]=C=>l.stripe.webhook_secret=C),autocomplete:"off"},null,512),[[Ee,l.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",Hy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",By,[i("label",Ky,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),z(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":A[31]||(A[31]=C=>l.stripe.mode=C)},[i("option",jy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",Jy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[At,l.stripe.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",Wy,[i("label",qy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),z(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[32]||(A[32]=C=>l.paypal.client_id=C)},null,512),[[Ee,l.paypal.client_id,void 0,{trim:!0}]])]),i("div",zy,[i("label",Qy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),z(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":A[33]||(A[33]=C=>l.paypal.client_secret=C),autocomplete:"off"},null,512),[[Ee,l.paypal.client_secret,void 0,{trim:!0}]])]),i("div",Zy,[i("label",eR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),z(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[34]||(A[34]=C=>l.paypal.webhook_id=C)},null,512),[[Ee,l.paypal.webhook_id,void 0,{trim:!0}]]),i("p",tR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",nR,[i("label",sR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),z(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":A[35]||(A[35]=C=>l.paypal.mode=C)},[i("option",iR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",aR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[At,l.paypal.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",oR,[i("label",rR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),z(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":A[36]||(A[36]=C=>l.cod.enabled=C)},null,512),[[ht,l.cod.enabled]])]),i("div",lR,[i("label",cR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),z(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[37]||(A[37]=C=>l.cod.label=C),placeholder:"Cash on delivery"},null,512),[[Ee,l.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",dR,[i("label",uR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),z(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":A[38]||(A[38]=C=>l.bank_transfer.enabled=C)},null,512),[[ht,l.bank_transfer.enabled]])]),i("div",_R,[i("label",pR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),z(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[39]||(A[39]=C=>l.bank_transfer.label=C),placeholder:"Bank transfer"},null,512),[[Ee,l.bank_transfer.label,void 0,{trim:!0}]])]),i("div",fR,[i("label",mR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),z(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":A[40]||(A[40]=C=>l.bank_transfer.instructions=C),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,hR),[[Ee,l.bank_transfer.instructions]]),i("p",gR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",ER,[i("div",CR,[i("label",AR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),z(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[41]||(A[41]=C=>l.bank_transfer.account_name=C)},null,512),[[Ee,l.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",SR,[i("label",bR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),z(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[42]||(A[42]=C=>l.bank_transfer.iban=C),maxlength:"34"},null,512),[[Ee,l.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",TR,[i("label",yR,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),z(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[43]||(A[43]=C=>l.bank_transfer.bic=C),maxlength:"11"},null,512),[[Ee,l.bank_transfer.bic,void 0,{trim:!0}]])])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),i("div",RR,[i("label",OR,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),z(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[44]||(A[44]=C=>p.paymentsConfigured=C)},null,512),[[ht,p.paymentsConfigured]]),i("p",xR,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),r(c).message?(g(),S("div",vR,d(r(c).message),1)):ue("",!0),i("div",NR,[i("button",{class:"nxp-ec-btn",type:"button",onClick:F,disabled:r(c).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,PR),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(c).saving},d(r(c).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,MR)])],32))])):_.value==="visual"?(g(),S("div",IR,[i("header",kR,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Z,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,$R)]),r(o).error?(g(),S("div",wR,d(r(o).error),1)):r(o).loading?(g(),S("div",DR,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(g(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:Nt(fe,["prevent"])},[i("p",LR,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",YR,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",UR,[i("div",XR,[i("label",GR,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",FR,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:h.primaryColor||O.value.primary,onInput:A[45]||(A[45]=C=>h.primaryColor=C.target.value)},null,40,VR),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[46]||(A[46]=C=>h.primaryColor=C),placeholder:O.value.primary,maxlength:"7"},null,8,HR),[[Ee,h.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[47]||(A[47]=C=>h.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",BR,[i("label",KR,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",jR,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:h.textColor||O.value.text,onInput:A[48]||(A[48]=C=>h.textColor=C.target.value)},null,40,JR),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[49]||(A[49]=C=>h.textColor=C),placeholder:O.value.text,maxlength:"7"},null,8,WR),[[Ee,h.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[50]||(A[50]=C=>h.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",qR,[i("label",zR,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",QR,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:h.surfaceColor||O.value.surface,onInput:A[51]||(A[51]=C=>h.surfaceColor=C.target.value)},null,40,ZR),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[52]||(A[52]=C=>h.surfaceColor=C),placeholder:O.value.surface,maxlength:"7"},null,8,eO),[[Ee,h.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[53]||(A[53]=C=>h.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",tO,[i("label",nO,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",sO,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:h.borderColor||O.value.border,onInput:A[54]||(A[54]=C=>h.borderColor=C.target.value)},null,40,iO),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[55]||(A[55]=C=>h.borderColor=C),placeholder:O.value.border,maxlength:"7"},null,8,aO),[[Ee,h.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[56]||(A[56]=C=>h.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",oO,[i("label",rO,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",lO,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:h.mutedColor||O.value.muted,onInput:A[57]||(A[57]=C=>h.mutedColor=C.target.value)},null,40,cO),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[58]||(A[58]=C=>h.mutedColor=C),placeholder:O.value.muted,maxlength:"7"},null,8,dO),[[Ee,h.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[59]||(A[59]=C=>h.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",uO,[i("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:jt(k.value)},[i("button",_O,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",pO,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",fO,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),r(o).message?(g(),S("div",mO,d(r(o).message),1)):ue("",!0),i("div",hO,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Te,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,gO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,EO)])],32))])):ue("",!0)]))}},[["__scopeId","data-v-3ef6847a"]]),AO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},SO={class:"nxp-ec-admin-panel__header"},bO={class:"nxp-ec-admin-panel__title"},TO={class:"nxp-ec-admin-panel__lead"},yO={class:"nxp-ec-admin-panel__actions"},RO=["disabled","title","aria-label"],OO={class:"nxp-ec-sr-only"},xO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vO={key:1,class:"nxp-ec-admin-panel__loading"},NO={key:2,class:"nxp-ec-admin-panel__body"},PO={class:"nxp-ec-admin-panel__table"},MO={class:"nxp-ec-admin-table"},IO={scope:"col"},kO={scope:"col"},$O={scope:"col"},wO={scope:"col"},DO={scope:"col"},LO={scope:"col"},YO={key:0},UO={colspan:"7"},XO={scope:"row",class:"nxp-ec-admin-table__primary"},GO=["data-label"],FO=["data-label"],VO=["data-label"],HO=["data-label"],BO=["data-label"],KO={class:"nxp-ec-admin-table__actions"},jO=["onClick","title","aria-label"],JO={class:"nxp-ec-sr-only"},WO=["onClick","title","aria-label"],qO={class:"nxp-ec-sr-only"},zO={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},QO={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},ZO={class:"nxp-ec-admin-panel__sidebar-header"},ex={id:"tax-modal-title"},tx=["title","aria-label"],nx={class:"nxp-ec-sr-only"},sx={class:"nxp-ec-form-field"},ix={class:"nxp-ec-form-label",for:"tax-name"},ax=["placeholder"],ox={class:"nxp-ec-form-help"},rx={class:"nxp-ec-form-field"},lx={class:"nxp-ec-form-label",for:"tax-country"},cx=["placeholder"],dx={class:"nxp-ec-form-help"},ux={class:"nxp-ec-form-field"},_x={class:"nxp-ec-form-label",for:"tax-region"},px=["placeholder"],fx={class:"nxp-ec-form-help"},mx={class:"nxp-ec-form-field"},hx={class:"nxp-ec-form-label",for:"tax-rate"},gx={class:"nxp-ec-input-group"},Ex={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Cx={class:"nxp-ec-form-label",for:"tax-inclusive"},Ax={class:"nxp-ec-form-help"},Sx={class:"nxp-ec-form-field"},bx={class:"nxp-ec-form-label",for:"tax-priority"},Tx={class:"nxp-ec-form-help"},yx={class:"nxp-ec-modal__actions"},Rx=["disabled"],Ox=["disabled"],xx=["disabled"],vx=Ot({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=ze(!1),c=Be({id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0}),u=()=>a("refresh"),_=()=>{l(),o.value=!0},p=L=>{Object.assign(c,{id:L.id,name:L.name||"",country:L.country,region:L.region,rate:L.rate,inclusive:L.inclusive,priority:L.priority}),o.value=!0},f=()=>{o.value=!1,l()},l=()=>{Object.assign(c,{id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0})},h=()=>{a("save",{id:c.id||void 0,name:c.name||null,country:c.country,region:c.region,rate:c.rate,inclusive:c.inclusive,priority:c.priority})},O=L=>{const k=n("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(k)&&(a("delete",[L.id]),c.id===L.id&&f())};return Qe(()=>s.state.saving,(L,k)=>{k&&!L&&!s.state.error&&f()}),(L,k)=>(g(),S("section",AO,[i("header",SO,[i("div",null,[i("h2",bO,d(r(n)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),i("p",TO,d(r(n)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),i("div",yO,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[k[7]||(k[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",OO,d(r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,RO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_},[k[8]||(k[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(g(),S("div",xO,d(e.state.error),1)):ue("",!0),e.state.loading?(g(),S("div",vO,d(r(n)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):ue("",!0),e.state.loading?ue("",!0):(g(),S("div",NO,[i("div",PO,[i("table",MO,[i("thead",null,[i("tr",null,[i("th",IO,d(r(n)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),i("th",kO,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),i("th",$O,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),i("th",wO,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("th",DO,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),i("th",LO,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),k[9]||(k[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ue("",!0):(g(),S("tr",YO,[i("td",UO,d(r(n)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(g(!0),S(Ne,null,De(e.state.items,v=>{var I;return g(),S("tr",{key:v.id,class:Le({"is-active":c.id===v.id})},[i("th",XO,d(v.name||r(n)("COM_NXPEASYCART_TAX_DEFAULT_NAME","Tax",[],"taxDefaultName")),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country")},d(v.country),9,GO),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_REGION","Region")},d(v.region||""),9,FO),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_RATE","Rate")},d(((I=v.rate)!=null?I:0).toFixed(2))+"%",9,VO),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[i("span",{class:Le(["nxp-ec-badge",{"is-active":v.inclusive}])},[i("i",{class:Le(v.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ke(" "+d(v.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,HO),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},d(v.priority),9,BO),i("td",KO,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:P=>p(v),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[k[10]||(k[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",JO,d(r(n)("JEDIT","Edit")),1)],8,jO),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:P=>O(v),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[k[11]||(k[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",qO,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,WO)])],2)}),128))])])]),o.value?(g(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"tax-modal-title",onKeydown:St(f,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:f}),i("div",zO,[i("aside",QO,[i("header",ZO,[i("h3",ex,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:f,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[k[12]||(k[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",nx,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,tx)]),i("form",{class:"nxp-ec-form",onSubmit:Nt(h,["prevent"]),autocomplete:"off"},[i("div",sx,[i("label",ix,d(r(n)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),z(i("input",{id:"tax-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[0]||(k[0]=v=>c.name=v),maxlength:"100",placeholder:r(n)("COM_NXPEASYCART_TAX_NAME_PLACEHOLDER","e.g. VAT, GST, Sales Tax",[],"taxNamePlaceholder")},null,8,ax),[[Ee,c.name,void 0,{trim:!0}]]),i("p",ox,d(r(n)("COM_NXPEASYCART_TAX_NAME_HELP",'Optional display name shown to customers. Falls back to "Tax" if empty.',[],"taxNameHelp")),1)]),i("div",rx,[i("label",lx,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),z(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[1]||(k[1]=v=>c.country=v),maxlength:"2",required:"",placeholder:r(n)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,cx),[[Ee,c.country,void 0,{trim:!0}]]),i("p",dx,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),i("div",ux,[i("label",_x,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),z(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[2]||(k[2]=v=>c.region=v),placeholder:r(n)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,px),[[Ee,c.region,void 0,{trim:!0}]]),i("p",fx,d(r(n)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),i("div",mx,[i("label",hx,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("div",gx,[z(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":k[3]||(k[3]=v=>c.rate=v),required:""},null,512),[[Ee,c.rate,void 0,{number:!0}]]),k[13]||(k[13]=i("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),i("div",Ex,[i("label",Cx,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),z(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":k[4]||(k[4]=v=>c.inclusive=v)},null,512),[[ht,c.inclusive]]),i("p",Ax,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),i("div",Sx,[i("label",bx,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),z(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":k[5]||(k[5]=v=>c.priority=v)},null,512),[[Ee,c.priority,void 0,{number:!0}]]),i("p",Tx,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),i("footer",yx,[i("button",{class:"nxp-ec-btn",type:"button",onClick:f,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,Rx),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,Ox)]),c.id?(g(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:k[6]||(k[6]=v=>O(c)),disabled:e.state.saving},[k[14]||(k[14]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,xx)):ue("",!0)],32)])])],32)):ue("",!0)]))]))}},[["__scopeId","data-v-2ed24c88"]]),Nx={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},Px={class:"nxp-ec-admin-panel__header"},Mx={class:"nxp-ec-admin-panel__title"},Ix={class:"nxp-ec-admin-panel__lead"},kx={class:"nxp-ec-admin-panel__actions"},$x=["disabled","title","aria-label"],wx={class:"nxp-ec-sr-only"},Dx={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Lx={key:1,class:"nxp-ec-admin-panel__loading"},Yx={key:2,class:"nxp-ec-admin-panel__body"},Ux={class:"nxp-ec-admin-panel__table"},Xx={class:"nxp-ec-admin-table"},Gx={scope:"col"},Fx={scope:"col"},Vx={scope:"col"},Hx={scope:"col"},Bx={scope:"col"},Kx={scope:"col"},jx={key:0},Jx={colspan:"7"},Wx={scope:"row",class:"nxp-ec-admin-table__primary"},qx=["data-label"],zx=["data-label"],Qx=["data-label"],Zx=["data-label"],e1=["data-label"],t1={class:"nxp-ec-admin-table__actions"},n1=["onClick","title","aria-label"],s1={class:"nxp-ec-sr-only"},i1=["onClick","title","aria-label"],a1={class:"nxp-ec-sr-only"},o1={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},r1={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},l1={class:"nxp-ec-admin-panel__sidebar-header"},c1={id:"shipping-modal-title"},d1=["title","aria-label"],u1={class:"nxp-ec-sr-only"},_1={class:"nxp-ec-form-field"},p1={class:"nxp-ec-form-label",for:"shipping-name"},f1=["placeholder"],m1={class:"nxp-ec-form-field"},h1={class:"nxp-ec-form-label",for:"shipping-type"},g1={value:"flat"},E1={value:"free_over"},C1={class:"nxp-ec-form-help"},A1={class:"nxp-ec-form-field"},S1={class:"nxp-ec-form-label",for:"shipping-price"},b1={class:"nxp-ec-input-group"},T1={class:"nxp-ec-input-group__prefix"},y1={key:0,class:"nxp-ec-form-field"},R1={class:"nxp-ec-form-label",for:"shipping-threshold"},O1={class:"nxp-ec-input-group"},x1={class:"nxp-ec-input-group__prefix"},v1={class:"nxp-ec-form-help"},N1={class:"nxp-ec-form-field"},P1={class:"nxp-ec-form-label",for:"shipping-regions"},M1=["placeholder"],I1={class:"nxp-ec-form-help"},k1={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$1={class:"nxp-ec-form-label",for:"shipping-active"},w1={class:"nxp-ec-form-help"},D1={class:"nxp-ec-modal__actions"},L1=["disabled"],Y1=["disabled"],U1=["disabled"],X1=Ot({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Se(()=>{const I=s.baseCurrency;return typeof I=="string"&&I.trim()!==""?I.trim().toUpperCase():"USD"}),c=ze(!1),u=Be({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),_=()=>a("refresh"),p=()=>{h(),c.value=!0},f=I=>{var P,w,D;Object.assign(u,{id:I.id,name:I.name,type:I.type,price:(w=I.price)!=null?w:((P=I.price_cents)!=null?P:0)/100,threshold:I.threshold!==null&&I.threshold!==void 0?I.threshold:((D=I.threshold_cents)!=null?D:0)/100,regions:I.regions&&I.regions.length?I.regions.join(", "):"",active:I.active}),c.value=!0},l=()=>{c.value=!1,h()},h=()=>{Object.assign(u,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},O=()=>{const I={id:u.id||void 0,name:u.name,type:u.type,price:u.price,threshold:u.type==="free_over"?u.threshold:0,regions:u.regions,active:u.active};a("save",I)},L=I=>{const P=n("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(P)&&(a("delete",[I.id]),u.id===I.id&&l())};Qe(()=>s.state.saving,(I,P)=>{P&&!I&&!s.state.error&&l()});const k=(I,P)=>{const w=(Number(I)||0)/100,D=(P||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:D}).format(w)}catch(H){return`${D} ${w.toFixed(2)}`}},v=I=>I==="free_over"?n("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):n("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(I,P)=>(g(),S("section",Nx,[i("header",Px,[i("div",null,[i("h2",Mx,d(r(n)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),i("p",Ix,d(r(n)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),i("div",kx,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[P[7]||(P[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",wx,d(r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,$x),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[P[8]||(P[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(g(),S("div",Dx,d(e.state.error),1)):ue("",!0),e.state.loading?(g(),S("div",Lx,d(r(n)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):ue("",!0),e.state.loading?ue("",!0):(g(),S("div",Yx,[i("div",Ux,[i("table",Xx,[i("thead",null,[i("tr",null,[i("th",Gx,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),i("th",Fx,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),i("th",Vx,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("th",Hx,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("th",Bx,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),i("th",Kx,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),P[9]||(P[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ue("",!0):(g(),S("tr",jx,[i("td",Jx,d(r(n)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(g(!0),S(Ne,null,De(e.state.items,w=>(g(),S("tr",{key:w.id,class:Le({"is-active":u.id===w.id})},[i("th",Wx,d(w.name),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},d(v(w.type)),9,qx),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},d(k(w.price_cents,o.value)),9,zx),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},d(w.type==="free_over"?k(w.threshold_cents,o.value):""),9,Qx),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},d(w.regions&&w.regions.length?w.regions.join(", "):r(n)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,Zx),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[i("span",{class:Le(["nxp-ec-badge",{"is-active":w.active}])},[i("i",{class:Le(w.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ke(" "+d(w.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,e1),i("td",t1,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:D=>f(w),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[P[10]||(P[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",s1,d(r(n)("JEDIT","Edit")),1)],8,n1),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:D=>L(w),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[P[11]||(P[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",a1,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,i1)])],2))),128))])])]),c.value?(g(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"shipping-modal-title",onKeydown:St(l,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:l}),i("div",o1,[i("aside",r1,[i("header",l1,[i("h3",c1,d(u.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:l,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[P[12]||(P[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",u1,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,d1)]),i("form",{class:"nxp-ec-form",onSubmit:Nt(O,["prevent"]),autocomplete:"off"},[i("div",_1,[i("label",p1,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),z(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":P[0]||(P[0]=w=>u.name=w),required:"",placeholder:r(n)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,f1),[[Ee,u.name,void 0,{trim:!0}]])]),i("div",m1,[i("label",h1,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),z(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":P[1]||(P[1]=w=>u.type=w)},[i("option",g1,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),i("option",E1,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[At,u.type]]),i("p",C1,d(u.type==="free_over"?r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),i("div",A1,[i("label",S1,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("div",b1,[i("span",T1,d(o.value),1),z(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":P[2]||(P[2]=w=>u.price=w),required:""},null,512),[[Ee,u.price,void 0,{number:!0}]])])]),u.type==="free_over"?(g(),S("div",y1,[i("label",R1,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("div",O1,[i("span",x1,d(o.value),1),z(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":P[3]||(P[3]=w=>u.threshold=w),required:""},null,512),[[Ee,u.threshold,void 0,{number:!0}]])]),i("p",v1,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):ue("",!0),i("div",N1,[i("label",P1,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),z(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":P[4]||(P[4]=w=>u.regions=w),placeholder:r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,M1),[[Ee,u.regions,void 0,{trim:!0}]]),i("p",I1,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),i("div",k1,[i("label",$1,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),z(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":P[5]||(P[5]=w=>u.active=w)},null,512),[[ht,u.active]]),i("p",w1,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),i("footer",D1,[i("button",{class:"nxp-ec-btn",type:"button",onClick:l,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,L1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,Y1)]),u.id?(g(),S("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:P[6]||(P[6]=w=>L(u)),disabled:e.state.saving},[P[13]||(P[13]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ke(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,U1)):ue("",!0)],32)])])],32)):ue("",!0)]))]))}},[["__scopeId","data-v-e9835937"]]),G1={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},F1={class:"nxp-ec-admin-panel__header"},V1={class:"nxp-ec-admin-panel__title"},H1={class:"nxp-ec-admin-panel__lead"},B1={class:"nxp-ec-admin-panel__actions"},K1=["placeholder","aria-label"],j1=["value"],J1={value:""},W1=["value"],q1=["disabled","title","aria-label"],z1={class:"nxp-ec-sr-only"},Q1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Z1={key:1,class:"nxp-ec-admin-panel__body"},ev={key:2,class:"nxp-ec-admin-panel__body"},tv={class:"nxp-ec-admin-panel__table"},nv={class:"nxp-ec-admin-table"},sv={scope:"col"},iv={scope:"col"},av={scope:"col"},ov={scope:"col"},rv={scope:"col"},lv={key:0},cv={colspan:"5"},dv=["data-label"],uv=["data-label"],_v={class:"nxp-ec-log-entity"},pv={class:"nxp-ec-log-entity-id"},fv=["data-label"],mv=["data-label"],hv=["data-label"],gv={class:"nxp-ec-log-context"},Ev={key:0,class:"nxp-ec-admin-pagination"},Cv=["disabled"],Av={class:"nxp-ec-admin-pagination__status"},Sv=["disabled"],bv=["title"],Tv=Ot({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=s.state,c=Se(()=>{const v=new Set;return Array.isArray(o.items)&&o.items.forEach(I=>{I!=null&&I.entity_type&&v.add(I.entity_type)}),o.entity&&v.add(o.entity),Array.from(v).sort()}),u=()=>a("refresh"),_=()=>a("search"),p=v=>a("filter",v),f=v=>a("page",v),l=v=>{if(!v)return"";try{const I=new Date(v.replace(" ","T"));if(!Number.isNaN(I.getTime()))return I.toLocaleString()}catch(I){}return v},h=v=>{if(!v)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(v){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return v.charAt(0).toUpperCase()+v.slice(1)}},O=v=>{if(!(v!=null&&v.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const I=v.user.name||"",P=v.user.username||"";return I&&P?`${I} (${P})`:I||P||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},L=v=>{if(!v||Array.isArray(v)&&!v.length||typeof v=="object"&&!Object.keys(v).length)return"";try{return JSON.stringify(v,null,2)}catch(I){return String(v)}},k=v=>{if(!v)return"";try{const I=new Date(v),w=new Date-I,D=Math.floor(w/1e3),H=Math.floor(D/60),pe=Math.floor(H/60);return D<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):H<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[H]):pe<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[pe]):I.toLocaleString()}catch(I){return v}};return(v,I)=>(g(),S("section",G1,[i("header",F1,[i("div",null,[i("h2",V1,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",H1,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",B1,[z(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":I[0]||(I[0]=P=>r(o).search=P),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:St(_,["enter"])},null,40,K1),[[Ee,r(o).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(o).entity,onChange:I[1]||(I[1]=P=>p(P.target.value)),"aria-label":"Entity filter"},[i("option",J1,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(g(!0),S(Ne,null,De(c.value,P=>(g(),S("option",{key:P,value:P},d(h(P)),9,W1))),128))],40,j1),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(o).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[I[4]||(I[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",z1,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,q1)])]),r(o).error?(g(),S("div",Q1,d(r(o).error),1)):ue("",!0),r(o).loading?(g(),S("div",Z1,[st(es,{type:"table",rows:5,columns:5})])):ue("",!0),r(o).loading?ue("",!0):(g(),S("div",ev,[i("div",tv,[i("table",nv,[i("thead",null,[i("tr",null,[i("th",sv,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",iv,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",av,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",ov,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",rv,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(o).items.length?ue("",!0):(g(),S("tr",lv,[i("td",cv,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(g(!0),S(Ne,null,De(r(o).items,P=>(g(),S("tr",{key:P.id},[i("td",{class:"nxp-ec-admin-table__primary","data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},d(l(P.created)),9,dv),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[i("span",_v,d(h(P.entity_type)),1),i("span",pv,"#"+d(P.entity_id),1)],8,uv),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},d(P.action),9,fv),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},d(O(P)),9,mv),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[i("pre",gv,d(L(P.context)),1)],8,hv)]))),128))])]),r(o).pagination.pages>1?(g(),S("div",Ev,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current<=1,onClick:I[2]||(I[2]=P=>f(r(o).pagination.current-1))},"  ",8,Cv),i("span",Av,d(r(o).pagination.current)+" / "+d(r(o).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current>=r(o).pagination.pages,onClick:I[3]||(I[3]=P=>f(r(o).pagination.current+1))},"  ",8,Sv)])):ue("",!0)]),r(o).lastUpdated?(g(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(o).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(k(r(o).lastUpdated)),9,bv)):ue("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),yv={key:0,class:"nxp-ec-onboarding"},Rv={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},Ov={class:"nxp-ec-onboarding__header"},xv={class:"nxp-ec-onboarding__title"},vv={class:"nxp-ec-onboarding__lead"},Nv={class:"nxp-ec-onboarding__progress"},Pv={class:"nxp-ec-onboarding__progress-bar"},Mv={class:"nxp-ec-onboarding__progress-label"},Iv={class:"nxp-ec-onboarding__steps"},kv={class:"nxp-ec-onboarding__step-main"},$v={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},wv={key:0,class:"fa-solid fa-circle-check"},Dv={key:1,class:"fa-regular fa-circle"},Lv={class:"nxp-ec-onboarding__step-actions"},Yv=["onClick"],Uv=Ot({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,a=Se(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=Se(()=>`${a.value}%`),o=Se(()=>{const c=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(c),String(t.steps.length)],"onboardingProgress")});return(c,u)=>e.visible?(g(),S("div",yv,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=_=>c.$emit("close"))}),i("section",Rv,[i("header",Ov,[i("div",null,[i("h2",xv,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",vv,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=_=>c.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",Nv,[i("div",Pv,[i("span",{style:jt({width:n.value})},null,4)]),i("span",Mv,d(o.value),1)]),i("ol",Iv,[(g(!0),S(Ne,null,De(e.steps,_=>(g(),S("li",{key:_.id,class:Le({"is-complete":_.completed})},[i("div",kv,[i("span",$v,[_.completed?(g(),S("span",wv)):(g(),S("span",Dv))]),i("div",null,[i("h3",null,d(r(s)(_.titleKey,_.titleFallback,[],`${_.id}-title`)),1),i("p",null,d(r(s)(_.descriptionKey,_.descriptionFallback,[],`${_.id}-description`)),1)])]),i("div",Lv,[_.link?(g(),S("button",{key:0,type:"button",class:Le(["nxp-ec-btn",{"nxp-ec-btn--ghost":_.completed}]),onClick:p=>c.$emit("navigate",_)},d(_.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${_.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${_.id}-action`)),11,Yv)):ue("",!0)])],2))),128))])])])):ue("",!0)}},[["__scopeId","data-v-c2a94811"]]),Xv=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(o){}let a=String(e);return t.forEach(o=>{const c=o!=null?o:"";a=a.replace(/%[sd]/,String(c))}),a},Gv=(e,t="",s=[])=>{var o;const a=(o=window==null?void 0:window.Joomla)==null?void 0:o.Text;let n=t||e;if(a&&typeof a._=="function"){const c=a._(e);c&&c!==e&&(n=c)}return Xv(n,s)};function Fv(e={}){const t=e||{},s=(n,o)=>{if(!n)return o;const c=t[n];return c!=null&&c!==""?c:o};return{__:(n,o="",c=[],u="")=>{const _=s(u,o);return Gv(n,_,c)}}}const Ao=typeof window!="undefined"&&window.performance;function So(e){if(Ao)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function Vv(e,t,s){if(!Ao)return null;try{performance.measure(e,t,s);const a=performance.getEntriesByName(e,"measure")[0];if(a)return a.duration}catch(a){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,a)}return null}const ws=Be({}),Hv=3e5;function Bv(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Vt(e,t=Hv){const s=ws[e];return s?Bv(s,t)?s.data:(delete ws[e],null):null}function kt(e,t){ws[e]={data:t,timestamp:Date.now()}}function He(e){delete ws[e]}function Ht(e){const t=ze({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const c=`${e}-fetch-start`;return So(c),c},endFetch:c=>{const u=`${e}-fetch-end`;So(u);const _=Vv(`${e}-fetch`,c,u);_!==null&&(t.value.lastFetchDuration=_),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const Oi=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.products.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function Kv({endpoints:e,token:t,autoload:s=!0,cacheTTL:a=3e5}){var pe,ie,x,he;const n=Pt({token:t}),o=Ht("products"),c=(pe=e==null?void 0:e.list)!=null?pe:"",u=(ie=e==null?void 0:e.create)!=null?ie:Oi(c,"store"),_=(x=e==null?void 0:e.update)!=null?x:Oi(c,"update"),p=(he=e==null?void 0:e.delete)!=null?he:Oi(c,"delete"),f=typeof AbortController!="undefined",l=Be({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),h=ze(null),O=()=>{const G=l.pagination.current||1,F=l.pagination.limit||20,Z=l.search.trim();return`products:page=${G}:limit=${F}:search=${Z}`},L=async(G=!1)=>{var b;if(!c){l.error="Products endpoint unavailable.",l.items=[];return}const F=O(),Z=G?null:Vt(F,a);if(Z){o.recordCacheHit(),l.items=Z.items,l.pagination={...l.pagination,...Z.pagination},l.lastUpdated=Z.lastUpdated;return}o.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],h.value&&f&&h.value.abort();const fe=f?new AbortController:null;h.value=fe;const Te=o.startFetch();try{const{items:A,pagination:C}=await n.fetchProducts({endpoint:c,signal:fe?fe.signal:void 0,limit:l.pagination.limit,start:Math.max(0,(l.pagination.current-1)*l.pagination.limit),search:l.search.trim()});l.items=A,l.pagination={...l.pagination,...C,current:C.current&&C.current>0?C.current:1},l.lastUpdated=new Date().toISOString(),kt(F,{items:A,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(A){if((A==null?void 0:A.name)==="AbortError")return;l.error=(b=A==null?void 0:A.message)!=null?b:"Unknown error"}finally{o.endFetch(Te),f&&h.value===fe&&(h.value=null),l.loading=!1}},k=()=>{l.pagination.current=1,He(O()),L(!0)},v=()=>{l.pagination.current=1,L()},I=G=>G?typeof G=="string"?G:typeof G=="object"&&G.message?String(G.message):String(G):"",P=(G,{setValidation:F=!1}={})=>{var Z;if((G==null?void 0:G.code)===422&&F){const fe=Array.isArray(G.details)?G.details:[G.details].filter(Boolean);l.validationErrors=fe.map(I).filter(Te=>Te!=="");return}l.error=(Z=G==null?void 0:G.message)!=null?Z:"Unknown error"},w=async G=>{if(!u)throw new Error("Create endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const F=await n.createProduct({endpoint:u,data:G});return F&&(l.items=[F,...l.items],l.pagination.total+=1,He(O())),F}catch(F){throw P(F,{setValidation:!0}),F}finally{l.saving=!1}},D=async(G,F)=>{if(!_)throw new Error("Update endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const Z=await n.updateProduct({endpoint:_,id:G,data:F});if(Z){const fe=l.items.findIndex(Te=>Te.id===Z.id);fe!==-1&&l.items.splice(fe,1,Z),He(O())}return Z}catch(Z){throw P(Z,{setValidation:!0}),Z}finally{l.saving=!1}},H=async G=>{if(!p)throw new Error("Delete endpoint unavailable.");l.deleting=!0,l.validationErrors=[];try{const F=await n.deleteProducts({endpoint:p,ids:G});return F.length&&(l.items=l.items.filter(Z=>!F.includes(Z.id)),l.pagination.total=Math.max(0,l.pagination.total-F.length),He(O())),F}catch(F){throw P(F),F}finally{l.deleting=!1}};return Tt(()=>{s&&L()}),{state:l,loadProducts:L,refresh:k,search:v,createProduct:w,updateProduct:D,deleteProducts:H,metrics:o.metrics}}function jv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var ie,x,he,G,F,Z,fe,Te,b,A,C,ee,V,ye;const o=Pt({token:t}),c=Ht("categories"),u=(ie=e==null?void 0:e.list)!=null?ie:"",_=(x=e==null?void 0:e.create)!=null?x:u,p=(he=e==null?void 0:e.update)!=null?he:u,f=(G=e==null?void 0:e.delete)!=null?G:u,l=Be({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(Te=(fe=(F=s.pagination)==null?void 0:F.total)!=null?fe:(Z=s.items)==null?void 0:Z.length)!=null?Te:0,limit:(A=(b=s.pagination)==null?void 0:b.limit)!=null?A:20,pages:(ee=(C=s.pagination)==null?void 0:C.pages)!=null?ee:0,current:(ye=(V=s.pagination)==null?void 0:V.current)!=null?ye:1},search:"",lastUpdated:null}),h=typeof AbortController!="undefined",O=ze(null),L=()=>{const Y=l.pagination.current||1,te=l.pagination.limit||20,ce=l.search.trim();return`categories:page=${Y}:limit=${te}:search=${ce}`},k=async(Y=!1)=>{var Re;if(!u){l.error="Categories endpoint unavailable.",l.items=[];return}const te=L(),ce=Y?null:Vt(te,n);if(ce){c.recordCacheHit(),l.items=ce.items,l.pagination={...l.pagination,...ce.pagination},l.lastUpdated=ce.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],O.value&&h&&O.value.abort();const Ce=h?new AbortController:null;O.value=Ce;const ve=c.startFetch();try{const xe=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Fe,pagination:$e}=await o.fetchCategories({endpoint:u,limit:l.pagination.limit,start:xe,search:l.search.trim(),signal:Ce?Ce.signal:void 0});l.items=Fe,l.pagination={...l.pagination,...$e,current:$e.current&&$e.current>0?$e.current:1},l.lastUpdated=new Date().toISOString(),kt(te,{items:Fe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(xe){if((xe==null?void 0:xe.name)==="AbortError")return;l.error=(Re=xe==null?void 0:xe.message)!=null?Re:"Unknown error"}finally{c.endFetch(ve),h&&O.value===Ce&&(O.value=null),l.loading=!1}},v=()=>{l.pagination.current=1,He(L()),k(!0)},I=()=>{l.pagination.current=1,k()},P=Y=>{const te=Number(Y);Number.isNaN(te)||te<1||te===l.pagination.current||(l.pagination.current=te,k(!0))},w=(Y,{validation:te=!1}={})=>{var ce;if(te&&(Y==null?void 0:Y.code)===422){const Ce=Y.details,ve=Array.isArray(Ce)?Ce:[Ce].filter(Boolean);l.validationErrors=ve.map(Re=>Re?typeof Re=="string"?Re:typeof Re=="object"&&Re.message?String(Re.message):String(Re):"").filter(Boolean);return}l.error=(ce=Y==null?void 0:Y.message)!=null?ce:"Unknown error"},D=async Y=>{if(!_||!p)throw new Error("Category endpoints unavailable.");l.saving=!0,l.error="",l.validationErrors=[];try{let te=null;return Y.id?te=await o.updateCategory({endpoint:p,id:Y.id,data:Y}):te=await o.createCategory({endpoint:_,data:Y}),te&&(He(L()),await k()),te}catch(te){throw w(te,{validation:!0}),te}finally{l.saving=!1}},H=async Y=>{if(!Array.isArray(Y)||!Y.length||!f)return 0;l.deleting=!0,l.error="";try{const te=await o.deleteCategories({endpoint:f,ids:Y});return te&&(He(L()),await k()),te}catch(te){throw w(te),te}finally{l.deleting=!1}},pe=async()=>{if(!u)return[];try{const{items:Y}=await o.fetchCategories({endpoint:u,limit:200,start:0,search:""});return Y}catch(Y){return[]}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadCategories:k,refresh:v,search:I,goToPage:P,saveCategory:D,deleteCategories:H,loadOptions:pe,metrics:c.metrics}}const $t=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.orders.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function Jv({endpoints:e,token:t,states:s=[],preload:a={},autoload:n=!0,cacheTTL:o=3e5}){var E,R,X,ne,j,q,_e,oe,re,Q,y,T,B,ae,$,Oe;const c=Pt({token:t}),u=Ht("orders"),_=(E=e==null?void 0:e.list)!=null?E:"",p=(R=e==null?void 0:e.show)!=null?R:$t(_,"show"),f=(X=e==null?void 0:e.transition)!=null?X:$t(_,"transition"),l=(ne=e==null?void 0:e.bulkTransition)!=null?ne:$t(_,"bulkTransition"),h=(j=e==null?void 0:e.note)!=null?j:$t(_,"note"),O=(q=e==null?void 0:e.tracking)!=null?q:$t(_,"tracking"),L=(_e=e==null?void 0:e.invoice)!=null?_e:$t(_,"invoice"),k=(oe=e==null?void 0:e.export)!=null?oe:$t(_,"export"),v=(re=e==null?void 0:e.sendEmail)!=null?re:$t(_,"sendEmail"),I=(Q=e==null?void 0:e.recordTransaction)!=null?Q:$t(_,"recordTransaction"),P=(y=e==null?void 0:e.resendDownloads)!=null?y:$t(_,"resendDownloads"),w=(T=e==null?void 0:e.resetDownload)!=null?T:$t(_,"resetDownload"),D=typeof AbortController!="undefined",H=ze(null),pe=Array.isArray(a==null?void 0:a.items)?a.items:[],ie=a!=null&&a.pagination&&typeof a.pagination=="object"?a.pagination:{},x=Be({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...pe],pagination:{total:(B=ie.total)!=null?B:pe.length,limit:(ae=ie.limit)!=null?ae:20,pages:($=ie.pages)!=null?$:0,current:(Oe=ie.current)!=null?Oe:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),he=()=>{const J=x.pagination.current||1,le=x.pagination.limit||20,me=x.search.trim(),W=x.filterState||"";return`orders:page=${J}:limit=${le}:search=${me}:state=${W}`},G=async(J=!1)=>{var Ue;if(!_){x.error="Orders endpoint unavailable.",x.items=[];return}const le=he(),me=J?null:Vt(le,o);if(me){u.recordCacheHit(),x.items=me.items,x.pagination={...x.pagination,...me.pagination},x.lastUpdated=me.lastUpdated;return}u.recordCacheMiss(),x.loading=!0,x.error="",H.value&&D&&H.value.abort();const W=D?new AbortController:null;H.value=W;const we=u.startFetch();try{const it=Math.max(0,(x.pagination.current-1)*x.pagination.limit),{items:Je,pagination:N}=await c.fetchOrders({endpoint:_,limit:x.pagination.limit,start:it,search:x.search.trim(),state:x.filterState,signal:W?W.signal:void 0});x.items=Je,x.pagination={...x.pagination,...N,current:N.current&&N.current>0?N.current:1},x.selection.clear(),x.lastUpdated=new Date().toISOString(),kt(le,{items:Je,pagination:x.pagination,lastUpdated:x.lastUpdated})}catch(it){if((it==null?void 0:it.name)==="AbortError")return;x.error=(Ue=it==null?void 0:it.message)!=null?Ue:"Unknown error"}finally{u.endFetch(we),D&&H.value===W&&(H.value=null),x.loading=!1}},F=()=>{x.pagination.current=1,He(he()),G(!0)},Z=()=>{x.pagination.current=1,G()},fe=J=>{x.filterState=J||"",x.pagination.current=1,G()},Te=J=>{const le=Number(J);Number.isNaN(le)||le<1||le===x.pagination.current||(x.pagination.current=le,G(!0))},b=()=>{x.selection.clear()},A=J=>{J&&(x.selection.has(J)?x.selection.delete(J):x.selection.add(J))},C=()=>{x.pagination.current>=x.pagination.pages||(x.pagination.current+=1,G(!0))},ee=()=>{x.pagination.current<=1||(x.pagination.current-=1,G(!0))},V=async(J,le="")=>{var me;if(!p)return null;try{return await c.fetchOrder({endpoint:p,id:J,orderNumber:le})}catch(W){return x.transitionError=(me=W==null?void 0:W.message)!=null?me:"Unknown error",null}},ye=async J=>{var le,me,W;if(!J){x.activeOrder=null;return}x.transitionError="";try{const we=await V(J.id,J.order_no);x.activeOrder=we||{...J,items:Array.isArray(J.items)?J.items:[],transactions:Array.isArray(J.transactions)?J.transactions:[],timeline:Array.isArray(J.timeline)?J.timeline:[],billing:(le=J.billing)!=null?le:{}}}catch(we){x.transitionError=(me=we==null?void 0:we.message)!=null?me:"Unknown error",x.activeOrder={...J,items:Array.isArray(J.items)?J.items:[],transactions:Array.isArray(J.transactions)?J.transactions:[],timeline:Array.isArray(J.timeline)?J.timeline:[],billing:(W=J.billing)!=null?W:{}}}},Y=()=>{x.transitionError="",x.activeOrder=null},te=J=>{if(!(J!=null&&J.id))return;const le=x.items.findIndex(me=>me.id===J.id);le!==-1&&x.items.splice(le,1,J)},ce=async(J,le)=>{var me;if(!f)throw new Error("Transition endpoint unavailable.");x.saving=!0,x.transitionError="";try{const W=await c.transitionOrder({endpoint:f,id:J,state:le});return W&&(te(W),x.activeOrder&&x.activeOrder.id===W.id&&(x.activeOrder=W),He(he())),W}catch(W){throw x.transitionError=(me=W==null?void 0:W.message)!=null?me:"Unknown error",W}finally{x.saving=!1}},Ce=async(J,le)=>{var me;if(!O)throw new Error("Tracking endpoint unavailable.");x.saving=!0,x.transitionError="";try{const W=await c.updateOrderTracking({endpoint:O,id:J,tracking:le});return W&&(te(W),x.activeOrder&&x.activeOrder.id===W.id&&(x.activeOrder=W),He(he())),W}catch(W){throw x.transitionError=(me=W==null?void 0:W.message)!=null?me:"Unknown error",W}finally{x.saving=!1}},ve=async(J,le="")=>{var me;if(!L)throw new Error("Invoice endpoint unavailable.");x.invoiceLoading=!0,x.transitionError="";try{const W=await c.fetchOrderInvoice({endpoint:L,id:J,orderNumber:le});if(!W)throw new Error("Invoice not available.");return W}catch(W){throw x.transitionError=(me=W==null?void 0:W.message)!=null?me:"Unknown error",W}finally{x.invoiceLoading=!1}},Re=async()=>{var J;if(!k)throw new Error("Export endpoint unavailable.");x.exporting=!0,x.error="";try{const le=await c.exportOrders({endpoint:k,search:x.search.trim(),state:x.filterState});if(!le)throw new Error("Export not available.");return le}catch(le){throw x.error=(J=le==null?void 0:le.message)!=null?J:"Export failed",le}finally{x.exporting=!1}},xe=async(J,le)=>{var me;if(!v)throw new Error("Send email endpoint unavailable.");x.saving=!0,x.transitionError="";try{const W=await c.sendOrderEmail({endpoint:v,id:J,type:le});return W&&(te(W),x.activeOrder&&x.activeOrder.id===W.id&&(x.activeOrder=W),He(he())),W}catch(W){throw x.transitionError=(me=W==null?void 0:W.message)!=null?me:"Failed to send email",W}finally{x.saving=!1}},Fe=async(J,{amountCents:le,reference:me,note:W})=>{var we;if(!I)throw new Error("Record transaction endpoint unavailable.");x.saving=!0,x.transitionError="";try{const Ue=await c.recordTransaction({endpoint:I,id:J,amountCents:le,reference:me,note:W});return Ue&&(te(Ue),x.activeOrder&&x.activeOrder.id===Ue.id&&(x.activeOrder=Ue),He(he())),Ue}catch(Ue){throw x.transitionError=(we=Ue==null?void 0:Ue.message)!=null?we:"Failed to record payment",Ue}finally{x.saving=!1}},$e=async J=>{var le;if(!P)throw new Error("Resend downloads endpoint unavailable.");x.saving=!0,x.transitionError="";try{const me=await c.resendDownloads({endpoint:P,id:J});return me&&(te(me),x.activeOrder&&x.activeOrder.id===me.id&&(x.activeOrder=me),He(he())),me}catch(me){throw x.transitionError=(le=me==null?void 0:me.message)!=null?le:"Failed to resend downloads email",me}finally{x.saving=!1}},Ke=async(J,le)=>{var me;if(!w)throw new Error("Reset download endpoint unavailable.");x.saving=!0,x.transitionError="";try{const W=await c.resetDownload({endpoint:w,downloadId:J,orderId:le});return W!=null&&W.order&&(te(W.order),x.activeOrder&&x.activeOrder.id===W.order.id&&(x.activeOrder=W.order),He(he())),W}catch(W){throw x.transitionError=(me=W==null?void 0:W.message)!=null?me:"Failed to reset download count",W}finally{x.saving=!1}},ot=async(J,le)=>{var me;if(!l)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(J)||!J.length)return{updated:[]};x.saving=!0;try{const W=await c.bulkTransitionOrders({endpoint:l,ids:J,state:le}),we=Array.isArray(W.updated)?W.updated:[];return we.forEach(Ue=>{te(Ue),x.activeOrder&&x.activeOrder.id===Ue.id&&(x.activeOrder=Ue)}),b(),{updated:we}}catch(W){throw x.transitionError=(me=W==null?void 0:W.message)!=null?me:"Unknown error",W}finally{x.saving=!1}};return Tt(()=>{n&&G()}),{state:x,loadOrders:G,refresh:F,search:Z,setFilterState:fe,goToPage:Te,nextPage:C,previousPage:ee,viewOrder:ye,closeOrder:Y,transitionOrder:ce,bulkTransition:ot,updateTracking:Ce,downloadInvoice:ve,exportOrders:Re,sendEmail:xe,recordTransaction:Fe,resendDownloads:$e,resetDownload:Ke,toggleSelection:A,clearSelection:b,metrics:u.metrics,addNote:async(J,le)=>{var me;if(!h)throw new Error("Note endpoint unavailable.");if(!J||!le||!le.trim())return null;x.transitionError="",x.saving=!0;try{const W=await c.addOrderNote({endpoint:h,id:J,message:le});return W&&(te(W),x.activeOrder&&x.activeOrder.id===W.id&&(x.activeOrder=W)),W}catch(W){throw x.transitionError=(me=W==null?void 0:W.message)!=null?me:"Unknown error",W}finally{x.saving=!1}}}}function Wv({endpoint:e="",token:t="",preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var f,l,h;const o=Pt({token:t}),c=Ht("dashboard"),u=Be({loading:!1,error:"",summary:(h=s.summary)!=null?h:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(l=(f=s.summary)==null?void 0:f.currency)!=null?l:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),_=()=>"dashboard",p=async(O=!1)=>{var I,P;if(!e)return;const L=_(),k=O?null:Vt(L,n);if(k){c.recordCacheHit(),u.summary=k.summary,u.checklist=k.checklist,u.lastUpdated=k.lastUpdated;return}c.recordCacheMiss(),u.loading=!0,u.error="";const v=c.startFetch();try{const w=await o.fetchDashboard({endpoint:e});u.summary=(I=w.summary)!=null?I:u.summary,u.checklist=Array.isArray(w.checklist)?w.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),kt(L,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(w){u.error=(P=w==null?void 0:w.message)!=null?P:"Unknown error"}finally{c.endFetch(v),u.loading=!1}};return Tt(()=>{a&&(!Array.isArray(u.checklist)||!u.checklist.length)&&p()}),{state:u,refresh:p,metrics:c.metrics}}function qv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var ie,x,he,G,F,Z,fe,Te,b,A,C,ee,V,ye,Y,te,ce;const o=Pt({token:t}),c=Ht("customers"),u=(ie=e==null?void 0:e.list)!=null?ie:"",_=(x=e==null?void 0:e.show)!=null?x:"",p=(G=(he=e==null?void 0:e.gdpr)==null?void 0:he.export)!=null?G:"",f=(Z=(F=e==null?void 0:e.gdpr)==null?void 0:F.anonymise)!=null?Z:"",l=Be({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(A=(b=(fe=s.pagination)==null?void 0:fe.total)!=null?b:(Te=s.items)==null?void 0:Te.length)!=null?A:0,limit:(ee=(C=s.pagination)==null?void 0:C.limit)!=null?ee:20,pages:(ye=(V=s.pagination)==null?void 0:V.pages)!=null?ye:0,current:(te=(Y=s.pagination)==null?void 0:Y.current)!=null?te:1},search:"",activeCustomer:(ce=s.active)!=null?ce:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),h=typeof AbortController!="undefined",O=ze(null),L=()=>{const Ce=l.pagination.current||1,ve=l.pagination.limit||20,Re=l.search.trim();return`customers:page=${Ce}:limit=${ve}:search=${Re}`},k=async(Ce=!1)=>{var $e;if(!u){l.error="Customers endpoint unavailable.",l.items=[];return}const ve=L(),Re=Ce?null:Vt(ve,n);if(Re){c.recordCacheHit(),l.items=Re.items,l.pagination={...l.pagination,...Re.pagination},l.lastUpdated=Re.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",O.value&&h&&O.value.abort();const xe=h?new AbortController:null;O.value=xe;const Fe=c.startFetch();try{const Ke=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:ot,pagination:E}=await o.fetchCustomers({endpoint:u,limit:l.pagination.limit,start:Ke,search:l.search.trim(),signal:xe?xe.signal:void 0});l.items=ot,l.pagination={...l.pagination,...E,current:E.current&&E.current>0?E.current:1},l.lastUpdated=new Date().toISOString(),kt(ve,{items:ot,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Ke){if((Ke==null?void 0:Ke.name)==="AbortError")return;l.error=($e=Ke==null?void 0:Ke.message)!=null?$e:"Unknown error"}finally{c.endFetch(Fe),h&&O.value===xe&&(O.value=null),l.loading=!1}},v=()=>{l.pagination.current=1,He(L()),k(!0)},I=()=>{l.pagination.current=1,k()},P=Ce=>{const ve=Number(Ce);Number.isNaN(ve)||ve<1||ve===l.pagination.current||(l.pagination.current=ve,k(!0))},w=async Ce=>{var ve;if(!_||!(Ce!=null&&Ce.email)){l.activeCustomer=Ce||null;return}try{const Re=await o.fetchCustomer({endpoint:_,email:Ce.email});l.activeCustomer=Re||Ce}catch(Re){l.error=(ve=Re==null?void 0:Re.message)!=null?ve:"Unknown error"}},D=()=>{l.activeCustomer=null,l.gdprMessage="",l.gdprSuccess=!1},H=async Ce=>{var ve;if(!p||!Ce){l.gdprMessage="GDPR export endpoint unavailable.",l.gdprSuccess=!1;return}l.gdprLoading=!0,l.gdprMessage="";try{const Re=await o.gdprExport({endpoint:p,email:Ce});if(!Re)throw new Error("No data returned");const xe=new Blob([JSON.stringify(Re,null,2)],{type:"application/json"}),Fe=URL.createObjectURL(xe),$e=document.createElement("a");$e.href=Fe,$e.download=`gdpr-export-${Ce.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild($e),$e.click(),document.body.removeChild($e),URL.revokeObjectURL(Fe),l.gdprMessage="Data exported successfully.",l.gdprSuccess=!0}catch(Re){l.gdprMessage=(ve=Re==null?void 0:Re.message)!=null?ve:"Export failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}},pe=async Ce=>{var Re;if(!f||!Ce){l.gdprMessage="GDPR anonymise endpoint unavailable.",l.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${Ce}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){l.gdprLoading=!0,l.gdprMessage="";try{const xe=await o.gdprAnonymise({endpoint:f,email:Ce});l.gdprMessage=xe.message||`Anonymised ${xe.affected} order(s).`,l.gdprSuccess=!0,He(L()),k(!0),setTimeout(()=>{l.activeCustomer=null,l.gdprMessage=""},2e3)}catch(xe){l.gdprMessage=(Re=xe==null?void 0:xe.message)!=null?Re:"Anonymisation failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadCustomers:k,refresh:v,search:I,goToPage:P,viewCustomer:w,closeCustomer:D,gdprExport:H,gdprAnonymise:pe,metrics:c.metrics}}function zv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var ie,x,he,G,F,Z,fe,Te,b,A,C,ee,V,ye;const o=Pt({token:t}),c=Ht("coupons"),u=(ie=e==null?void 0:e.list)!=null?ie:"",_=(x=e==null?void 0:e.create)!=null?x:u,p=(he=e==null?void 0:e.update)!=null?he:u,f=(G=e==null?void 0:e.delete)!=null?G:u,l=Be({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Te=(fe=(F=s.pagination)==null?void 0:F.total)!=null?fe:(Z=s.items)==null?void 0:Z.length)!=null?Te:0,limit:(A=(b=s.pagination)==null?void 0:b.limit)!=null?A:20,pages:(ee=(C=s.pagination)==null?void 0:C.pages)!=null?ee:0,current:(ye=(V=s.pagination)==null?void 0:V.current)!=null?ye:1},search:"",activeCoupon:null,lastUpdated:null}),h=typeof AbortController!="undefined",O=ze(null),L=()=>{const Y=l.pagination.current||1,te=l.pagination.limit||20,ce=l.search.trim();return`coupons:page=${Y}:limit=${te}:search=${ce}`},k=async(Y=!1)=>{var Re;if(!u){l.error="Coupons endpoint unavailable.",l.items=[];return}const te=L(),ce=Y?null:Vt(te,n);if(ce){c.recordCacheHit(),l.items=ce.items,l.pagination={...l.pagination,...ce.pagination},l.lastUpdated=ce.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",O.value&&h&&O.value.abort();const Ce=h?new AbortController:null;O.value=Ce;const ve=c.startFetch();try{const xe=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Fe,pagination:$e}=await o.fetchCoupons({endpoint:u,limit:l.pagination.limit,start:xe,search:l.search.trim(),signal:Ce?Ce.signal:void 0});l.items=Fe,l.pagination={...l.pagination,...$e,current:$e.current&&$e.current>0?$e.current:1},l.lastUpdated=new Date().toISOString(),kt(te,{items:Fe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(xe){if((xe==null?void 0:xe.name)==="AbortError")return;l.error=(Re=xe==null?void 0:xe.message)!=null?Re:"Unknown error"}finally{c.endFetch(ve),h&&O.value===Ce&&(O.value=null),l.loading=!1}},v=()=>{l.pagination.current=1,He(L()),k(!0)},I=()=>{l.pagination.current=1,k()},P=Y=>{const te=Number(Y);Number.isNaN(te)||te<1||te===l.pagination.current||(l.pagination.current=te,k(!0))},w=Y=>{l.activeCoupon=Y},D=Y=>{const te=l.items.findIndex(ce=>ce.id===Y.id);te===-1?l.items.unshift(Y):l.items.splice(te,1,Y)},H=async Y=>{var te;l.saving=!0,l.error="";try{let ce=null;return Y.id?ce=await o.updateCoupon({endpoint:p,id:Y.id,data:Y}):ce=await o.createCoupon({endpoint:_,data:Y}),ce&&(D(ce),l.activeCoupon&&l.activeCoupon.id===ce.id&&(l.activeCoupon=ce),He(L())),ce}catch(ce){throw l.error=(te=ce==null?void 0:ce.message)!=null?te:"Unknown error",ce}finally{l.saving=!1}},pe=async Y=>{var te;if(!Array.isArray(Y)||!Y.length)return 0;l.saving=!0,l.error="";try{const ce=await o.deleteCoupons({endpoint:f,ids:Y});return ce&&(l.items=l.items.filter(Ce=>!Y.includes(Ce.id)),l.activeCoupon&&Y.includes(l.activeCoupon.id)&&(l.activeCoupon=null),He(L())),ce}catch(ce){throw l.error=(te=ce==null?void 0:ce.message)!=null?te:"Unknown error",ce}finally{l.saving=!1}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadCoupons:k,refresh:v,search:I,goToPage:P,setActive:w,saveCoupon:H,deleteCoupons:pe,metrics:c.metrics}}const xi=(e={})=>{var p,f,l,h,O,L,k,v,I,P,w,D,H,pe,ie,x,he,G,F;const t=(p=e.store)!=null?p:{},s=(f=e.payments)!=null?f:{},a=(l=e.visual)!=null?l:{},n=(h=e.visual_defaults)!=null?h:{},o=(L=(O=e.security)==null?void 0:O.rate_limits)!=null?L:{},c=Array.isArray(e.currencies)?e.currencies:[],u=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",_=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(k=t.name)!=null?k:"",email:(v=t.email)!=null?v:"",phone:(I=t.phone)!=null?I:""},payments:{configured:!!s.configured},base_currency:u,display_locale:_,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(P=a.primary_color)!=null?P:"",text_color:(w=a.text_color)!=null?w:"",surface_color:(D=a.surface_color)!=null?D:"",border_color:(H=a.border_color)!=null?H:"",muted_color:(pe=a.muted_color)!=null?pe:""},visual_defaults:{primary_color:(ie=n.primary_color)!=null?ie:"#4f6d7a",text_color:(x=n.text_color)!=null?x:"#1f2933",surface_color:(he=n.surface_color)!=null?he:"#ffffff",border_color:(G=n.border_color)!=null?G:"#e4e7ec",muted_color:(F=n.muted_color)!=null?F:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(o.checkout_ip_limit))?Number(o.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(o.checkout_email_limit))?Number(o.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(o.checkout_session_limit))?Number(o.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(o.checkout_window_minutes))?Number(o.checkout_window_minutes):Number.isFinite(Number(o.checkout_window))?Math.max(0,Math.ceil(Number(o.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(o.offline_ip_limit))?Number(o.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(o.offline_email_limit))?Number(o.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(o.offline_window_minutes))?Number(o.offline_window_minutes):Number.isFinite(Number(o.offline_window))?Math.max(0,Math.ceil(Number(o.offline_window)/60)):30}},currencies:c}};function Qv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var h,O;const o=Pt({token:t}),c=Ht("settings"),u=(h=e==null?void 0:e.show)!=null?h:"",_=(O=e==null?void 0:e.update)!=null?O:u,p=Be({loading:!1,saving:!1,error:"",message:"",values:xi(s),lastUpdated:null}),f=async(L=!1)=>{var P;if(!u){p.error="Settings endpoint unavailable.";return}const k="settings:data",v=L?null:Vt(k,n);if(v){c.recordCacheHit(),p.values=v.values,p.lastUpdated=v.lastUpdated;return}c.recordCacheMiss(),p.loading=!0,p.error="";const I=c.startFetch();try{const w=await o.fetchSettings({endpoint:u});p.values=xi(w),p.lastUpdated=new Date().toISOString(),kt(k,{values:p.values,lastUpdated:p.lastUpdated})}catch(w){throw p.error=(P=w==null?void 0:w.message)!=null?P:"Unknown error",w}finally{c.endFetch(I),p.loading=!1}},l=async L=>{var k;if(!_)return p.error="Settings endpoint unavailable.",null;p.saving=!0,p.error="",p.message="";try{const v=await o.updateSettings({endpoint:_,data:L});return p.values=xi(v),p.lastUpdated=new Date().toISOString(),p.message="Settings saved.",He("settings:data"),kt("settings:data",{values:p.values,lastUpdated:p.lastUpdated}),p.values}catch(v){throw p.error=(k=v==null?void 0:v.message)!=null?k:"Unknown error",v}finally{p.saving=!1}};return Tt(()=>{a&&f()}),{state:p,refresh:f,save:l,metrics:c.metrics}}function Zv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var w,D,H,pe,ie,x,he,G,F,Z,fe,Te,b,A;const o=Pt({token:t}),c=Ht("taxRates"),u=(w=e==null?void 0:e.list)!=null?w:"",_=(D=e==null?void 0:e.create)!=null?D:u,p=(H=e==null?void 0:e.update)!=null?H:u,f=(pe=e==null?void 0:e.delete)!=null?pe:u,l=Be({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(G=(he=(ie=s.pagination)==null?void 0:ie.total)!=null?he:(x=s.items)==null?void 0:x.length)!=null?G:0,limit:(Z=(F=s.pagination)==null?void 0:F.limit)!=null?Z:20,pages:(Te=(fe=s.pagination)==null?void 0:fe.pages)!=null?Te:0,current:(A=(b=s.pagination)==null?void 0:b.current)!=null?A:1},search:"",lastUpdated:null}),h=typeof AbortController!="undefined",O=ze(null),L=()=>{const C=l.pagination.current||1,ee=l.pagination.limit||20,V=l.search.trim();return`taxRates:page=${C}:limit=${ee}:search=${V}`},k=async(C=!1)=>{var te;if(!u){l.error="Tax endpoint unavailable.",l.items=[];return}const ee=L(),V=C?null:Vt(ee,n);if(V){c.recordCacheHit(),l.items=V.items,l.pagination={...l.pagination,...V.pagination},l.lastUpdated=V.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",O.value&&h&&O.value.abort();const ye=h?new AbortController:null;O.value=ye;const Y=c.startFetch();try{const ce=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Ce,pagination:ve}=await o.fetchTaxRates({endpoint:u,limit:l.pagination.limit,start:ce,search:l.search.trim(),signal:ye?ye.signal:void 0});l.items=Ce,l.pagination={...l.pagination,...ve,current:ve.current&&ve.current>0?ve.current:1},l.lastUpdated=new Date().toISOString(),kt(ee,{items:Ce,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(ce){if((ce==null?void 0:ce.name)==="AbortError")return;l.error=(te=ce==null?void 0:ce.message)!=null?te:"Unknown error"}finally{c.endFetch(Y),h&&O.value===ye&&(O.value=null),l.loading=!1}},v=()=>{l.pagination.current=1,He(L()),k(!0)},I=async C=>{var ee;l.saving=!0,l.error="";try{const V=C.id?await o.updateTaxRate({endpoint:p,id:C.id,data:C}):await o.createTaxRate({endpoint:_,data:C});if(V){const ye=l.items.findIndex(Y=>Y.id===V.id);ye===-1?l.items.unshift(V):l.items.splice(ye,1,V),He(L())}return V}catch(V){throw l.error=(ee=V==null?void 0:V.message)!=null?ee:"Unknown error",V}finally{l.saving=!1}},P=async C=>{var ee;if(!Array.isArray(C)||!C.length)return 0;l.saving=!0,l.error="";try{const V=await o.deleteTaxRates({endpoint:f,ids:C});return V&&(l.items=l.items.filter(ye=>!C.includes(ye.id)),He(L())),V}catch(V){throw l.error=(ee=V==null?void 0:V.message)!=null?ee:"Unknown error",V}finally{l.saving=!1}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadRates:k,refresh:v,saveRate:I,deleteRates:P,metrics:c.metrics}}function eN({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var w,D,H,pe,ie,x,he,G,F,Z,fe,Te,b,A;const o=Pt({token:t}),c=Ht("shippingRules"),u=(w=e==null?void 0:e.list)!=null?w:"",_=(D=e==null?void 0:e.create)!=null?D:u,p=(H=e==null?void 0:e.update)!=null?H:u,f=(pe=e==null?void 0:e.delete)!=null?pe:u,l=Be({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(G=(he=(ie=s.pagination)==null?void 0:ie.total)!=null?he:(x=s.items)==null?void 0:x.length)!=null?G:0,limit:(Z=(F=s.pagination)==null?void 0:F.limit)!=null?Z:20,pages:(Te=(fe=s.pagination)==null?void 0:fe.pages)!=null?Te:0,current:(A=(b=s.pagination)==null?void 0:b.current)!=null?A:1},search:"",lastUpdated:null}),h=typeof AbortController!="undefined",O=ze(null),L=()=>{const C=l.pagination.current||1,ee=l.pagination.limit||20,V=l.search.trim();return`shippingRules:page=${C}:limit=${ee}:search=${V}`},k=async(C=!1)=>{var te;if(!u){l.error="Shipping endpoint unavailable.",l.items=[];return}const ee=L(),V=C?null:Vt(ee,n);if(V){c.recordCacheHit(),l.items=V.items,l.pagination={...l.pagination,...V.pagination},l.lastUpdated=V.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",O.value&&h&&O.value.abort();const ye=h?new AbortController:null;O.value=ye;const Y=c.startFetch();try{const ce=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Ce,pagination:ve}=await o.fetchShippingRules({endpoint:u,limit:l.pagination.limit,start:ce,search:l.search.trim(),signal:ye?ye.signal:void 0});l.items=Ce,l.pagination={...l.pagination,...ve,current:ve.current&&ve.current>0?ve.current:1},l.lastUpdated=new Date().toISOString(),kt(ee,{items:Ce,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(ce){if((ce==null?void 0:ce.name)==="AbortError")return;l.error=(te=ce==null?void 0:ce.message)!=null?te:"Unknown error"}finally{c.endFetch(Y),h&&O.value===ye&&(O.value=null),l.loading=!1}},v=()=>{l.pagination.current=1,He(L()),k(!0)},I=async C=>{var ee;l.saving=!0,l.error="";try{const V=C.id?await o.updateShippingRule({endpoint:p,id:C.id,data:C}):await o.createShippingRule({endpoint:_,data:C});if(V){const ye=l.items.findIndex(Y=>Y.id===V.id);ye===-1?l.items.unshift(V):l.items.splice(ye,1,V),He(L())}return V}catch(V){throw l.error=(ee=V==null?void 0:V.message)!=null?ee:"Unknown error",V}finally{l.saving=!1}},P=async C=>{var ee;if(!Array.isArray(C)||!C.length)return 0;l.saving=!0,l.error="";try{const V=await o.deleteShippingRules({endpoint:f,ids:C});return V&&(l.items=l.items.filter(ye=>!C.includes(ye.id)),He(L())),V}catch(V){throw l.error=(ee=V==null?void 0:V.message)!=null?ee:"Unknown error",V}finally{l.saving=!1}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadRules:k,refresh:v,saveRule:I,deleteRules:P,metrics:c.metrics}}function tN({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var I,P,w,D,H,pe,ie,x,he,G,F;const o=Pt({token:t}),c=Ht("logs"),u=(I=e==null?void 0:e.list)!=null?I:"",_=Be({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(H=(D=(P=s.pagination)==null?void 0:P.total)!=null?D:(w=s.items)==null?void 0:w.length)!=null?H:0,limit:(ie=(pe=s.pagination)==null?void 0:pe.limit)!=null?ie:20,pages:(he=(x=s.pagination)==null?void 0:x.pages)!=null?he:0,current:(F=(G=s.pagination)==null?void 0:G.current)!=null?F:1},search:"",entity:"",lastUpdated:null}),p=typeof AbortController!="undefined",f=ze(null),l=()=>{const Z=_.pagination.current||1,fe=_.pagination.limit||20,Te=_.search.trim(),b=_.entity.trim();return`logs:page=${Z}:limit=${fe}:search=${Te}:entity=${b}`},h=async(Z=!1)=>{var C;if(!u){_.error="Logs endpoint unavailable.",_.items=[];return}const fe=l(),Te=Z?null:Vt(fe,n);if(Te){c.recordCacheHit(),_.items=Te.items,_.pagination={..._.pagination,...Te.pagination},_.lastUpdated=Te.lastUpdated;return}c.recordCacheMiss(),_.loading=!0,_.error="",p&&f.value&&f.value.abort();const b=p?new AbortController:null;f.value=b;const A=c.startFetch();try{const ee=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:V,pagination:ye}=await o.fetchLogs({endpoint:u,limit:_.pagination.limit,start:ee,search:_.search.trim(),entity:_.entity,signal:b?b.signal:void 0});_.items=V,_.pagination={..._.pagination,...ye,current:ye.current&&ye.current>0?ye.current:1},_.lastUpdated=new Date().toISOString(),kt(fe,{items:V,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(ee){if((ee==null?void 0:ee.name)==="AbortError")return;_.error=(C=ee==null?void 0:ee.message)!=null?C:"Unknown error"}finally{c.endFetch(A),p&&f.value===b&&(f.value=null),_.loading=!1}},O=()=>{_.pagination.current=1,He(l()),h(!0)},L=()=>{_.pagination.current=1,h()},k=Z=>{const fe=typeof Z=="string"?Z.trim():"";_.entity!==fe&&(_.entity=fe,_.pagination.current=1,h())},v=Z=>{const fe=Number(Z);Number.isNaN(fe)||fe<1||fe===_.pagination.current||(_.pagination.current=fe,h(!0))};return Tt(()=>{a&&(!Array.isArray(_.items)||!_.items.length)&&h()}),{state:_,loadLogs:h,refresh:O,search:L,setEntity:k,goToPage:v,metrics:c.metrics}}const bo=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function nN({endpoints:e={},token:t=""}){const s=Pt({token:t}),a=Be({loading:!1,saving:!1,error:"",config:bo(),message:""}),n=async()=>{var u,_,p,f;if(e.show){a.loading=!0,a.error="";try{const l=await s.get(e.show);a.config=c((p=(_=(u=l==null?void 0:l.data)==null?void 0:u.config)!=null?_:l==null?void 0:l.config)!=null?p:{})}catch(l){a.error=(f=l.message)!=null?f:"Unable to load payment configuration."}finally{a.loading=!1}}},o=async u=>{var _,p,f,l,h,O,L;if(e.update){a.saving=!0,a.error="",a.message="";try{const k=await s.post(e.update,{config:u});a.config=c((f=(p=(_=k==null?void 0:k.data)==null?void 0:_.config)!=null?p:k==null?void 0:k.config)!=null?f:{}),a.message=(O=(h=(l=k==null?void 0:k.data)==null?void 0:l.message)!=null?h:k==null?void 0:k.message)!=null?O:""}catch(k){a.error=(L=k.message)!=null?L:"Unable to save payment configuration."}finally{a.saving=!1}}},c=u=>{var p,f,l,h;const _=bo();return{stripe:{..._.stripe,...(p=u.stripe)!=null?p:{}},paypal:{..._.paypal,...(f=u.paypal)!=null?f:{}},cod:{..._.cod,...(l=u.cod)!=null?l:{}},bank_transfer:{..._.bank_transfer,...(h=u.bank_transfer)!=null?h:{}}}};return{state:a,refresh:n,save:o}}const sN={class:"nxp-ec-admin-app__shell"},iN={class:"nxp-ec-admin-app__header"},aN={class:"nxp-ec-admin-app__title"},oN={class:"nxp-ec-admin-app__lead"},rN={class:"nxp-ec-btn__progress-label"},lN={key:0,class:"nxp-ec-admin-nav"},cN=["href"],dN={key:11,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},uN={class:"nxp-ec-admin-panel__body"},_N={class:"nxp-ec-admin-panel__lead"},ns="nxp:admin:onboarding:dismissed",pN={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var $r,wr,Dr,Lr,Yr,Ur,Xr,Gr,Fr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,al,ol,rl,ll,cl,dl,ul,_l,pl,fl,ml,hl,gl,El,Cl,Al,Sl,bl,Tl,yl,Rl,Ol,xl,vl,Nl,Pl,Ml,Il,kl,$l,wl,Dl,Ll,Yl,Ul,Xl,Gl,Fl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,ac,oc,rc,lc,cc,dc,uc,_c,pc,fc,mc,hc,gc,Ec,Cc,Ac,Sc,bc,Tc,yc,Rc,Oc,xc,vc,Nc,Pc,Mc,Ic,kc,$c,wc,Dc,Lc,Yc,Uc,Xc,Gc,Fc,Vc,Hc,Bc,Kc,jc,Jc,Wc,qc,zc,Qc,Zc,ed,td,nd,sd,id,ad,od,rd,ld,cd,dd,ud,_d,pd,fd,md,hd,gd,Ed;const t=e,{__:s}=Fv(t.dataset),a=Se(()=>{var M;return((M=t.dataset)==null?void 0:M.appTitleKey)||"COM_NXPEASYCART"}),n=Se(()=>{var M;return((M=t.dataset)==null?void 0:M.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),o=(M,de)=>{if(!M||typeof M!="string")return de;try{return JSON.parse(M)}catch(Me){return de}},c=Se(()=>{var M,de;return!!((de=(M=at==null?void 0:at.values)==null?void 0:M.show_advanced_mode)!=null&&de)}),u=Se(()=>{var de,Me;let M=[];if(Array.isArray((de=t.config)==null?void 0:de.navItems))M=t.config.navItems.map(Ze=>({id:Ze.id,title:Ze.title,link:Ze.link}));else{const Ze=o((Me=t.dataset)==null?void 0:Me.navItems,[]);M=Array.isArray(Ze)?Ze.map(ct=>({id:ct.id,title:ct.title,link:ct.link})):[]}return c.value||(M=M.filter(Ze=>Ze.id!=="logs")),M}),_=M=>{const de=u.value;if(!Array.isArray(de))return"";const Me=de.find(Ze=>Ze.id===M);return Me?Me.link:""},p=Se(()=>{var M,de;return((M=t.config)==null?void 0:M.activeSection)||((de=t.dataset)==null?void 0:de.activeSection)||"dashboard"}),f=Se(()=>{var M,de;return((M=t.config)==null?void 0:M.settingsTab)||((de=t.dataset)==null?void 0:de.settingsTab)||"general"}),l=M=>p.value===M,h=Se(()=>l("dashboard")),O=Se(()=>l("products")),L=Se(()=>l("categories")||l("products")),k=Se(()=>l("orders")),v=Se(()=>l("customers")),I=Se(()=>l("coupons")),P=Se(()=>l("settings")),w=Se(()=>l("tax")),D=Se(()=>l("shipping")),H=Se(()=>l("logs")),pe=(Vr=($r=t.endpoints)==null?void 0:$r.products)!=null?Vr:{list:(Dr=(wr=t.dataset)==null?void 0:wr.productsEndpoint)!=null?Dr:"",create:(Yr=(Lr=t.dataset)==null?void 0:Lr.productsEndpointCreate)!=null?Yr:"",update:(Xr=(Ur=t.dataset)==null?void 0:Ur.productsEndpointUpdate)!=null?Xr:"",delete:(Fr=(Gr=t.dataset)==null?void 0:Gr.productsEndpointDelete)!=null?Fr:""},ie=(Zr=(Hr=t.endpoints)==null?void 0:Hr.categories)!=null?Zr:{list:(Kr=(Br=t.dataset)==null?void 0:Br.categoriesEndpoint)!=null?Kr:"",create:(Jr=(jr=t.dataset)==null?void 0:jr.categoriesEndpointCreate)!=null?Jr:"",update:(qr=(Wr=t.dataset)==null?void 0:Wr.categoriesEndpointUpdate)!=null?qr:"",delete:(Qr=(zr=t.dataset)==null?void 0:zr.categoriesEndpointDelete)!=null?Qr:""},x=(ul=(el=t.endpoints)==null?void 0:el.orders)!=null?ul:{list:(nl=(tl=t.dataset)==null?void 0:tl.ordersEndpoint)!=null?nl:"",show:(il=(sl=t.dataset)==null?void 0:sl.ordersEndpointShow)!=null?il:"",transition:(ol=(al=t.dataset)==null?void 0:al.ordersEndpointTransition)!=null?ol:"",bulkTransition:(ll=(rl=t.dataset)==null?void 0:rl.ordersEndpointBulk)!=null?ll:"",note:(dl=(cl=t.dataset)==null?void 0:cl.ordersEndpointNote)!=null?dl:""},he=(gl=(_l=t.endpoints)==null?void 0:_l.customers)!=null?gl:{list:(fl=(pl=t.dataset)==null?void 0:pl.customersEndpoint)!=null?fl:"",show:(hl=(ml=t.dataset)==null?void 0:ml.customersEndpointShow)!=null?hl:""},G=(xl=(El=t.endpoints)==null?void 0:El.coupons)!=null?xl:{list:(Al=(Cl=t.dataset)==null?void 0:Cl.couponsEndpoint)!=null?Al:"",create:(bl=(Sl=t.dataset)==null?void 0:Sl.couponsEndpointCreate)!=null?bl:"",update:(yl=(Tl=t.dataset)==null?void 0:Tl.couponsEndpointUpdate)!=null?yl:"",delete:(Ol=(Rl=t.dataset)==null?void 0:Rl.couponsEndpointDelete)!=null?Ol:""},F=(Ll=(vl=t.endpoints)==null?void 0:vl.tax)!=null?Ll:{list:(Pl=(Nl=t.dataset)==null?void 0:Nl.taxEndpoint)!=null?Pl:"",create:(Il=(Ml=t.dataset)==null?void 0:Ml.taxEndpointCreate)!=null?Il:"",update:($l=(kl=t.dataset)==null?void 0:kl.taxEndpointUpdate)!=null?$l:"",delete:(Dl=(wl=t.dataset)==null?void 0:wl.taxEndpointDelete)!=null?Dl:""},Z=(jl=(Yl=t.endpoints)==null?void 0:Yl.shipping)!=null?jl:{list:(Xl=(Ul=t.dataset)==null?void 0:Ul.shippingEndpoint)!=null?Xl:"",create:(Fl=(Gl=t.dataset)==null?void 0:Gl.shippingEndpointCreate)!=null?Fl:"",update:(Hl=(Vl=t.dataset)==null?void 0:Vl.shippingEndpointUpdate)!=null?Hl:"",delete:(Kl=(Bl=t.dataset)==null?void 0:Bl.shippingEndpointDelete)!=null?Kl:""},fe=(tc=(Jl=t.endpoints)==null?void 0:Jl.digitalfiles)!=null?tc:{list:(ql=(Wl=t.dataset)==null?void 0:Wl.digitalfilesEndpointList)!=null?ql:"",upload:(Ql=(zl=t.dataset)==null?void 0:zl.digitalfilesEndpointUpload)!=null?Ql:"",delete:(ec=(Zl=t.dataset)==null?void 0:Zl.digitalfilesEndpointDelete)!=null?ec:""},Te=(rc=(nc=t.endpoints)==null?void 0:nc.settings)!=null?rc:{show:(ic=(sc=t.dataset)==null?void 0:sc.settingsEndpointShow)!=null?ic:"",update:(oc=(ac=t.dataset)==null?void 0:ac.settingsEndpointUpdate)!=null?oc:""},b=(uc=(lc=t.endpoints)==null?void 0:lc.logs)!=null?uc:{list:(dc=(cc=t.dataset)==null?void 0:cc.logsEndpoint)!=null?dc:""},A=(gc=(_c=t.endpoints)==null?void 0:_c.payments)!=null?gc:{show:(fc=(pc=t.dataset)==null?void 0:pc.paymentsEndpointShow)!=null?fc:"",update:(hc=(mc=t.dataset)==null?void 0:mc.paymentsEndpointUpdate)!=null?hc:""},C=Se(()=>{var M;return o((M=t.dataset)==null?void 0:M.orderStates,[])}),{state:ee,refresh:V}=Wv({endpoint:(yc=(Tc=(Sc=(Ec=t.endpoints)==null?void 0:Ec.dashboard)!=null?Sc:(Ac=(Cc=t.config)==null?void 0:Cc.endpoints)==null?void 0:Ac.dashboard)!=null?Tc:(bc=t.dataset)==null?void 0:bc.dashboardEndpoint)!=null?yc:"",token:t.csrfToken,preload:(Nc=(Oc=(Rc=t.config)==null?void 0:Rc.preload)==null?void 0:Oc.dashboard)!=null?Nc:{summary:o((xc=t.dataset)==null?void 0:xc.dashboardSummary,{}),checklist:o((vc=t.dataset)==null?void 0:vc.dashboardChecklist,[])},autoload:h.value}),{state:ye,refresh:Y,search:te,createProduct:ce,updateProduct:Ce,deleteProducts:ve}=Kv({endpoints:pe,token:t.csrfToken,autoload:O.value}),{state:Re,refresh:xe,search:Fe,goToPage:$e,saveCategory:Ke,deleteCategories:ot,loadOptions:E}=jv({endpoints:ie,token:t.csrfToken,preload:($c=(Mc=(Pc=t.config)==null?void 0:Pc.preload)==null?void 0:Mc.categories)!=null?$c:{items:o((Ic=t.dataset)==null?void 0:Ic.categoriesPreload,[]),pagination:o((kc=t.dataset)==null?void 0:kc.categoriesPreloadPagination,{})},autoload:L.value}),R=Se(()=>(Array.isArray(Re.items)?Re.items:[]).map(de=>{var Me,Ze,ct;return{id:Number.parseInt((Me=de==null?void 0:de.id)!=null?Me:0,10)||0,title:String((Ze=de==null?void 0:de.title)!=null?Ze:"").trim(),slug:String((ct=de==null?void 0:de.slug)!=null?ct:"").trim(),parent_id:(de==null?void 0:de.parent_id)!==null&&(de==null?void 0:de.parent_id)!==void 0&&Number.parseInt(de.parent_id,10)||null}}).filter(de=>de.title!=="")),{state:X,refresh:ne,search:j,setFilterState:q,viewOrder:_e,closeOrder:oe,transitionOrder:re,goToPage:Q,bulkTransition:y,toggleSelection:T,clearSelection:B,addNote:ae,updateTracking:$,downloadInvoice:Oe,exportOrders:J,sendEmail:le,recordTransaction:me,resendDownloads:W,resetDownload:we}=Jv({endpoints:x,token:t.csrfToken,states:C.value,preload:(Uc=(Dc=(wc=t.config)==null?void 0:wc.preload)==null?void 0:Dc.orders)!=null?Uc:{items:o((Lc=t.dataset)==null?void 0:Lc.ordersPreload,[]),pagination:o((Yc=t.dataset)==null?void 0:Yc.ordersPreloadPagination,{})},autoload:k.value}),{state:Ue,refresh:it,search:Je,goToPage:N,viewCustomer:m,closeCustomer:K,gdprExport:Ae,gdprAnonymise:be}=qv({endpoints:{...he,gdpr:(Gc=(Xc=t.endpoints)==null?void 0:Xc.gdpr)!=null?Gc:{}},token:t.csrfToken,preload:(Kc=(Vc=(Fc=t.config)==null?void 0:Fc.preload)==null?void 0:Vc.customers)!=null?Kc:{items:o((Hc=t.dataset)==null?void 0:Hc.customersPreload,[]),pagination:o((Bc=t.dataset)==null?void 0:Bc.customersPreloadPagination,{})},autoload:v.value}),{state:U,refresh:ge,search:se,goToPage:Ye,saveCoupon:Xe,deleteCoupons:et}=zv({endpoints:(Jc=(jc=t.endpoints)==null?void 0:jc.coupons)!=null?Jc:G,token:t.csrfToken,preload:(Zc=(qc=(Wc=t.config)==null?void 0:Wc.preload)==null?void 0:qc.coupons)!=null?Zc:{items:o((zc=t.dataset)==null?void 0:zc.couponsPreload,[]),pagination:o((Qc=t.dataset)==null?void 0:Qc.couponsPreloadPagination,{})},autoload:I.value}),nt=(sd=(td=(ed=t.config)==null?void 0:ed.preload)==null?void 0:td.settings)!=null?sd:o((nd=t.dataset)==null?void 0:nd.settingsPreload,{}),{state:at,refresh:gt,save:Ls}=Qv({endpoints:Te,token:t.csrfToken,preload:nt,autoload:P.value}),Ys=Se(()=>{var de,Me;const M=(Me=(de=t.dataset)==null?void 0:de.baseCurrency)!=null?Me:"";return typeof M=="string"?M.trim().toUpperCase():""}),wt=Se(()=>{var de,Me;const M=(Me=(de=at==null?void 0:at.values)==null?void 0:de.base_currency)!=null?Me:"";return typeof M=="string"?M.trim().toUpperCase():""}),Bt=Se(()=>{const M=wt.value||Ys.value;return M!==""?M:"USD"}),Kt=Se(()=>{var de,Me;const M=(Me=(de=t.dataset)==null?void 0:de.mediaModalUrl)!=null?Me:"";return typeof M=="string"?M.trim():""}),mn=Se(()=>{var de,Me,Ze,ct,bt;const M=(ct=(Ze=(de=t.config)==null?void 0:de.siteRoot)!=null?Ze:(Me=t.dataset)==null?void 0:Me.siteRoot)!=null?ct:"";return typeof M=="string"&&M.trim()!==""?M.trim():typeof window!="undefined"&&((bt=window.location)!=null&&bt.origin)?window.location.origin:""}),hn=M=>{switch(M){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:_("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_PUBLISH_CART_MODULE":return{id:"publish-cart-module",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_DESC",titleFallback:"Publish the cart module",descriptionFallback:"Add the cart module to a template position so customers can see their shopping cart.",link:"index.php?option=com_modules&filter[module]=mod_nxpeasycart_cart"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:_("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:_("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:_("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:_("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:M||"step",titleKey:M||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:M||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:_("dashboard")||""}}},cn=Se(()=>(Array.isArray(ee.checklist)?ee.checklist:[]).map(de=>{const Me=hn(de.label);return{id:Me.id,completed:!!de.completed,link:de.link||Me.link||"",label:de.label,titleKey:Me.titleKey,descriptionKey:Me.descriptionKey,titleFallback:Me.titleFallback,descriptionFallback:Me.descriptionFallback}})),dn=Se(()=>cn.value.some(M=>!M.completed)),ss=Se(()=>{const M=cn.value;if(!M.length)return{completed:0,total:0,percent:0};const de=M.filter(Me=>Me.completed).length;return{completed:de,total:M.length,percent:Math.round(de/M.length*100)}}),Us=Se(()=>{const{completed:M,total:de}=ss.value;return`${M}/${de}`}),vi=Se(()=>{const{percent:M}=ss.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${M}%, #e9ecef ${M}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:M>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),gn=ze(!1),fN=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(ns,"0")}catch(M){}gn.value=!0},Ir=()=>{if(gn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(ns,"1")}catch(M){}},mN=M=>{M&&typeof M.link=="string"&&M.link!==""&&(Ir(),typeof window!="undefined"&&(window.location.href=M.link))};Qe(dn,M=>{if(!M&&(gn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(ns,"1")}catch(de){}});const hN=(ld=(ad=(id=t.config)==null?void 0:id.preload)==null?void 0:ad.tax)!=null?ld:{items:o((od=t.dataset)==null?void 0:od.taxPreload,[]),pagination:o((rd=t.dataset)==null?void 0:rd.taxPreloadPagination,{})},{state:gN,refresh:is,saveRate:EN,deleteRates:CN}=Zv({endpoints:F,token:t.csrfToken,preload:hN,autoload:w.value||P.value}),AN=(pd=(dd=(cd=t.config)==null?void 0:cd.preload)==null?void 0:dd.shipping)!=null?pd:{items:o((ud=t.dataset)==null?void 0:ud.shippingPreload,[]),pagination:o((_d=t.dataset)==null?void 0:_d.shippingPreloadPagination,{})},{state:SN,refresh:as,saveRule:bN,deleteRules:TN}=eN({endpoints:Z,token:t.csrfToken,preload:AN,autoload:D.value||P.value}),yN=(Ed=(md=(fd=t.config)==null?void 0:fd.preload)==null?void 0:md.logs)!=null?Ed:{items:o((hd=t.dataset)==null?void 0:hd.logsPreload,[]),pagination:o((gd=t.dataset)==null?void 0:gd.logsPreloadPagination,{})},{state:RN,refresh:kr,search:ON,setEntity:xN,goToPage:vN}=tN({endpoints:b,token:t.csrfToken,preload:yN,autoload:H.value}),{state:NN,refresh:Ni,save:PN}=nN({endpoints:A,token:t.csrfToken});Qe(p,M=>{switch(M){case"dashboard":V();break;case"products":Y(),xe();break;case"categories":xe();break;case"orders":ne();break;case"customers":it();break;case"coupons":ge();break;case"tax":is();break;case"shipping":as();break;case"settings":gt(),is(),as(),Ni();break;case"logs":kr();break}}),Tt(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const M=window.localStorage.getItem(ns);dn.value?M!=="1"&&(gn.value=!0):window.localStorage.setItem(ns,"1")}catch(M){}}P.value&&Ni()});const MN=()=>{Y()},IN=()=>{te()},kN=async M=>{try{await ce(M),Y(),xe(),He("dashboard"),V(!0)}catch(de){}},$N=async({id:M,data:de})=>{try{await Ce(M,de),Y(),xe()}catch(Me){}},wN=async M=>{try{await ve(M),Y(),xe()}catch(de){}},DN=()=>{xe()},LN=()=>{Fe()},YN=M=>{$e(M)},UN=async M=>{try{await Ke(M),xe()}catch(de){}},XN=async M=>{try{await ot(M),xe()}catch(de){}},GN=()=>{V()},FN=()=>{ne()},VN=()=>{j()},HN=M=>{q(M)},BN=M=>{_e(M)},KN=()=>{oe()},jN=async({id:M,state:de})=>{try{await re(M,de)}catch(Me){}},JN=M=>{Q(M)},WN=async({ids:M,state:de})=>{try{await y(M,de)}catch(Me){}},qN=M=>{T(M)},zN=()=>{B()},QN=async({id:M,message:de})=>{await ae(M,de)},ZN=async M=>{if(!(M!=null&&M.id))return;const{id:de,...Me}=M;try{await $(de,Me)}catch(Ze){}},eP=async M=>{!(M!=null&&M.id)||!(M!=null&&M.type)||await le(M.id,M.type)},tP=async M=>{if(M!=null&&M.id)try{await me(M.id,{amountCents:M.amountCents,reference:M.reference,note:M.note})}catch(de){}},nP=async M=>{if(M!=null&&M.id)try{await W(M.id)}catch(de){}},sP=async M=>{if(M!=null&&M.download_id)try{await we(M.download_id,M.order_id)}catch(de){}},iP=async M=>{if(!M)return;const de=await Oe(M);if(!(de!=null&&de.content))return;const Me=atob(de.content),Ze=new Uint8Array(Me.length);for(let En=0;En<Me.length;En+=1)Ze[En]=Me.charCodeAt(En);const ct=new Blob([Ze],{type:"application/pdf"}),bt=window.URL.createObjectURL(ct),xt=document.createElement("a");xt.href=bt,xt.download=de.filename||"invoice.pdf",document.body.appendChild(xt),xt.click(),document.body.removeChild(xt),setTimeout(()=>window.URL.revokeObjectURL(bt),1e3)},aP=async()=>{const M=await J();if(!(M!=null&&M.content))return;const de=atob(M.content),Me=new Uint8Array(de.length);for(let xt=0;xt<de.length;xt+=1)Me[xt]=de.charCodeAt(xt);const Ze=new Blob([Me],{type:"text/csv;charset=utf-8"}),ct=window.URL.createObjectURL(Ze),bt=document.createElement("a");bt.href=ct,bt.download=M.filename||"orders-export.csv",document.body.appendChild(bt),bt.click(),document.body.removeChild(bt),setTimeout(()=>window.URL.revokeObjectURL(ct),1e3)},oP=()=>{it()},rP=()=>{Je()},lP=M=>{N(M)},cP=M=>{m(M)},dP=()=>{K()},uP=M=>{Ae(M)},_P=M=>{be(M)},pP=()=>{ge()},fP=()=>{se()},mP=M=>{Ye(M)},hP=async M=>{try{await Xe(M)}catch(de){}},gP=async M=>{try{await et(M)}catch(de){}},EP=()=>{gt(!0)},CP=async M=>{try{await Ls(M),He("dashboard"),V(!0)}catch(de){}},AP=()=>{is()},SP=async M=>{try{await EN(M),is()}catch(de){}},bP=async M=>{try{await CN(M),is()}catch(de){}},TP=()=>{as()},yP=async M=>{try{await bN(M),as()}catch(de){}},RP=async M=>{try{await TN(M),as()}catch(de){}},OP=()=>{kr()},xP=()=>{ON()},vP=M=>{xN(M)},NP=M=>{vN(M)},PP=()=>{Ni()},MP=async M=>{await PN(M),He("dashboard"),V(!0)};return(M,de)=>(g(),Ct(Q_,null,{default:fa(()=>{var Me,Ze,ct,bt,xt,En;return[i("section",sN,[i("header",iN,[i("div",null,[i("h1",aN,d(r(s)(a.value,(Ze=(Me=t.dataset)==null?void 0:Me.appTitle)!=null?Ze:"NXP Easy Cart",[],"appTitle")),1),i("p",oN,d(r(s)(n.value,(bt=(ct=t.dataset)==null?void 0:ct.appLead)!=null?bt:"Manage your storefront from one place.",[],"appLead")),1)]),z(i("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:jt(vi.value),onClick:fN},[ke(d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),i("span",rN,d(Us.value),1)],4),[[Pn,dn.value]])]),u.value.length?(g(),S("nav",lN,[(g(!0),S(Ne,null,De(u.value,Xs=>(g(),S("a",{key:Xs.id,href:Xs.link,class:Le({"is-active":Xs.id===p.value})},d(Xs.title),11,cN))),128))])):ue("",!0),p.value==="dashboard"?(g(),Ct(Mp,{key:1,state:r(ee),translate:r(s),onRefresh:GN},null,8,["state","translate"])):p.value==="products"?(g(),Ct(Qh,{key:2,state:r(ye),translate:r(s),"base-currency":Bt.value,"category-options":R.value,"media-modal-url":Kt.value,"digital-endpoints":r(fe),"csrf-token":t.csrfToken,onCreate:kN,onUpdate:$N,onDelete:wN,onRefresh:MN,onSearch:IN},null,8,["state","translate","base-currency","category-options","media-modal-url","digital-endpoints","csrf-token"])):p.value==="categories"?(g(),Ct(Qg,{key:3,state:r(Re),translate:r(s),"load-options":r(E),onRefresh:DN,onSearch:LN,onPage:YN,onSave:UN,onDelete:XN},null,8,["state","translate","load-options"])):p.value==="orders"?(g(),Ct(vA,{key:4,state:r(X),translate:r(s),"site-root":mn.value,onRefresh:FN,onSearch:VN,onFilter:HN,onView:BN,onClose:KN,onTransition:jN,onPage:JN,onBulkTransition:WN,onToggleSelection:qN,onClearSelection:zN,onAddNote:QN,onSaveTracking:ZN,onSendEmail:eP,onRecordPayment:tP,onResendDownloads:nP,onResetDownload:sP,onInvoice:iP,onExport:aP},null,8,["state","translate","site-root"])):p.value==="customers"?(g(),Ct(PS,{key:5,state:r(Ue),translate:r(s),"base-currency":Bt.value,onRefresh:oP,onSearch:rP,onPage:lP,onView:cP,onClose:dP,onGdprExport:uP,onGdprAnonymise:_P},null,8,["state","translate","base-currency"])):p.value==="coupons"?(g(),Ct(Gb,{key:6,state:r(U),translate:r(s),"base-currency":Bt.value,onRefresh:pP,onSearch:fP,onPage:mP,onSave:hP,onDelete:gP},null,8,["state","translate","base-currency"])):p.value==="tax"?(g(),Ct(vx,{key:7,state:r(gN),translate:r(s),onRefresh:AP,onSave:SP,onDelete:bP},null,8,["state","translate"])):p.value==="shipping"?(g(),Ct(X1,{key:8,state:r(SN),translate:r(s),"base-currency":Bt.value,onRefresh:TP,onSave:yP,onDelete:RP},null,8,["state","translate","base-currency"])):p.value==="settings"?(g(),Ct(CO,{key:9,"settings-state":r(at),"payments-state":r(NN),translate:r(s),"base-currency":Bt.value,"initial-tab":f.value,onRefreshSettings:EP,onSaveSettings:CP,onRefreshPayments:PP,onSavePayments:MP},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):p.value==="logs"&&c.value?(g(),Ct(Tv,{key:10,state:r(RN),translate:r(s),onRefresh:OP,onSearch:xP,onFilter:vP,onPage:NP},null,8,["state","translate"])):(g(),S("div",dN,[i("div",uN,[i("p",_N,d(r(s)(n.value,(En=(xt=t.dataset)==null?void 0:xt.appLead)!=null?En:"This section will be available soon.",[],"appLead")),1)])]))]),st(Uv,{visible:gn.value,steps:cn.value,translate:r(s),onClose:Ir,onNavigate:mN},null,8,["visible","steps","translate"])]}),_:1}))}},Ds=document.getElementById("nxp-ec-admin-app");if(!Ds)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(To=Ds.getAttribute("data-csrf-token"))!=null?To:"",t=Object.assign({},Ds.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(L){console.warn("[NXP Easy Cart] Failed to parse admin config payload",L)}const a=(No=(yo=s==null?void 0:s.endpoints)==null?void 0:yo.products)!=null?No:{list:(Ro=t.productsEndpoint)!=null?Ro:"",create:(Oo=t.productsEndpointCreate)!=null?Oo:"",update:(xo=t.productsEndpointUpdate)!=null?xo:"",delete:(vo=t.productsEndpointDelete)!=null?vo:""},n=(wo=(Po=s==null?void 0:s.endpoints)==null?void 0:Po.categories)!=null?wo:{list:(Mo=t.categoriesEndpoint)!=null?Mo:"",create:(Io=t.categoriesEndpointCreate)!=null?Io:"",update:(ko=t.categoriesEndpointUpdate)!=null?ko:"",delete:($o=t.categoriesEndpointDelete)!=null?$o:""},o=(Ho=(Do=s==null?void 0:s.endpoints)==null?void 0:Do.orders)!=null?Ho:{list:(Lo=t.ordersEndpoint)!=null?Lo:"",show:(Yo=t.ordersEndpointShow)!=null?Yo:"",transition:(Uo=t.ordersEndpointTransition)!=null?Uo:"",bulkTransition:(Xo=t.ordersEndpointBulk)!=null?Xo:"",note:(Go=t.ordersEndpointNote)!=null?Go:"",tracking:(Fo=t.ordersEndpointTracking)!=null?Fo:"",invoice:(Vo=t.ordersEndpointInvoice)!=null?Vo:""},c=(Jo=(Bo=s==null?void 0:s.endpoints)==null?void 0:Bo.customers)!=null?Jo:{list:(Ko=t.customersEndpoint)!=null?Ko:"",show:(jo=t.customersEndpointShow)!=null?jo:""},u=(Qo=(Wo=s==null?void 0:s.endpoints)==null?void 0:Wo.gdpr)!=null?Qo:{export:(qo=t.gdprEndpointExport)!=null?qo:"",anonymise:(zo=t.gdprEndpointAnonymise)!=null?zo:""},_=(ir=(Zo=s==null?void 0:s.endpoints)==null?void 0:Zo.coupons)!=null?ir:{list:(er=t.couponsEndpoint)!=null?er:"",create:(tr=t.couponsEndpointCreate)!=null?tr:"",update:(nr=t.couponsEndpointUpdate)!=null?nr:"",delete:(sr=t.couponsEndpointDelete)!=null?sr:""},p=(dr=(ar=s==null?void 0:s.endpoints)==null?void 0:ar.tax)!=null?dr:{list:(or=t.taxEndpoint)!=null?or:"",create:(rr=t.taxEndpointCreate)!=null?rr:"",update:(lr=t.taxEndpointUpdate)!=null?lr:"",delete:(cr=t.taxEndpointDelete)!=null?cr:""},f=(hr=(ur=s==null?void 0:s.endpoints)==null?void 0:ur.shipping)!=null?hr:{list:(_r=t.shippingEndpoint)!=null?_r:"",create:(pr=t.shippingEndpointCreate)!=null?pr:"",update:(fr=t.shippingEndpointUpdate)!=null?fr:"",delete:(mr=t.shippingEndpointDelete)!=null?mr:""},l=(Sr=(gr=s==null?void 0:s.endpoints)==null?void 0:gr.digitalfiles)!=null?Sr:{list:(Er=t.digitalfilesEndpointList)!=null?Er:"",upload:(Cr=t.digitalfilesEndpointUpload)!=null?Cr:"",delete:(Ar=t.digitalfilesEndpointDelete)!=null?Ar:""},h=(Rr=(br=s==null?void 0:s.endpoints)==null?void 0:br.settings)!=null?Rr:{show:(Tr=t.settingsEndpointShow)!=null?Tr:"",update:(yr=t.settingsEndpointUpdate)!=null?yr:""},O=(vr=(Or=s==null?void 0:s.endpoints)==null?void 0:Or.logs)!=null?vr:{list:(xr=t.logsEndpoint)!=null?xr:""};H_(pN,{csrfToken:e,dataset:t,config:s,endpoints:{products:a,categories:n,orders:o,customers:c,gdpr:u,coupons:_,tax:p,shipping:f,digitalfiles:l,settings:h,logs:O,dashboard:(Mr=(Pr=(Nr=s==null?void 0:s.endpoints)==null?void 0:Nr.dashboard)!=null?Pr:t.dashboardEndpoint)!=null?Mr:""}}).mount(Ds)}})();
