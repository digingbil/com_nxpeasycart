(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var ta,sa,na,ia,oa,aa,ra,la,ca,da,ua,pa,_a,fa,ha,ma,ga,Sa,Ca,Ea,ba,Aa,Ta,ya,Oa,Ra,va,xa,Na,Pa,Ma,Ia,ka,wa,$a,Ua,Da,La,Ya,Xa,Fa,Ga,Va,Ha,Ba,Ka,ja,Ja,Wa,qa,za,Qa;function Sn(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Me={},Wt=[],ft=()=>{},li=()=>!1,ws=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Cn=e=>e.startsWith("onUpdate:"),ze=Object.assign,En=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},kc=Object.prototype.hasOwnProperty,ve=(e,t)=>kc.call(e,t),me=Array.isArray,qt=e=>ls(e)==="[object Map]",zt=e=>ls(e)==="[object Set]",ci=e=>ls(e)==="[object Date]",be=e=>typeof e=="function",Ye=e=>typeof e=="string",ct=e=>typeof e=="symbol",Ie=e=>e!==null&&typeof e=="object",di=e=>(Ie(e)||be(e))&&be(e.then)&&be(e.catch),ui=Object.prototype.toString,ls=e=>ui.call(e),wc=e=>ls(e).slice(8,-1),pi=e=>ls(e)==="[object Object]",bn=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cs=Sn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$s=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},$c=/-\w/g,$t=$s(e=>e.replace($c,t=>t.slice(1).toUpperCase())),Uc=/\B([A-Z])/g,Ut=$s(e=>e.replace(Uc,"-$1").toLowerCase()),_i=$s(e=>e.charAt(0).toUpperCase()+e.slice(1)),An=$s(e=>e?`on${_i(e)}`:""),Dt=(e,t)=>!Object.is(e,t),Us=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},fi=(e,t,n,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:n})},Ds=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let hi;const Ls=()=>hi||(hi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Lt(e){if(me(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],s=Ye(o)?Xc(o):Lt(o);if(s)for(const a in s)t[a]=s[a]}return t}else if(Ye(e)||Ie(e))return e}const Dc=/;(?![^(]*\))/g,Lc=/:([^]+)/,Yc=/\/\*[^]*?\*\//g;function Xc(e){const t={};return e.replace(Yc,"").split(Dc).forEach(n=>{if(n){const o=n.split(Lc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Pe(e){let t="";if(Ye(e))t=e;else if(me(e))for(let n=0;n<e.length;n++){const o=Pe(e[n]);o&&(t+=o+" ")}else if(Ie(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Fc=Sn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function mi(e){return!!e||e===""}function Gc(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=ds(e[o],t[o]);return n}function ds(e,t){if(e===t)return!0;let n=ci(e),o=ci(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=ct(e),o=ct(t),n||o)return e===t;if(n=me(e),o=me(t),n||o)return n&&o?Gc(e,t):!1;if(n=Ie(e),o=Ie(t),n||o){if(!n||!o)return!1;const s=Object.keys(e).length,a=Object.keys(t).length;if(s!==a)return!1;for(const l in e){const d=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(d&&!p||!d&&p||!ds(e[l],t[l]))return!1}}return String(e)===String(t)}function Tn(e,t){return e.findIndex(n=>ds(n,t))}const gi=e=>!!(e&&e.__v_isRef===!0),u=e=>Ye(e)?e:e==null?"":me(e)||Ie(e)&&(e.toString===ui||!be(e.toString))?gi(e)?u(e.value):JSON.stringify(e,Si,2):String(e),Si=(e,t)=>gi(t)?Si(e,t.value):qt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s],a)=>(n[yn(o,a)+" =>"]=s,n),{})}:zt(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>yn(n))}:ct(t)?yn(t):Ie(t)&&!me(t)&&!pi(t)?String(t):t,yn=(e,t="")=>{var n;return ct(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class Vc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=nt;try{return nt=this,t()}finally{nt=n}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(this.effects.length=0,n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Hc(){return nt}let ke;const On=new WeakSet;class Ci{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,On.has(this)&&(On.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ri(this),Ai(this);const t=ke,n=dt;ke=this,dt=!0;try{return this.fn()}finally{Ti(this),ke=t,dt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Nn(t);this.deps=this.depsTail=void 0,Ri(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?On.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xn(this)&&this.run()}get dirty(){return xn(this)}}let Ei=0,us,ps;function bi(e,t=!1){if(e.flags|=8,t){e.next=ps,ps=e;return}e.next=us,us=e}function Rn(){Ei++}function vn(){if(--Ei>0)return;if(ps){let t=ps;for(ps=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;us;){let t=us;for(us=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=n}}if(e)throw e}function Ai(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ti(e){let t,n=e.depsTail,o=n;for(;o;){const s=o.prevDep;o.version===-1?(o===n&&(n=s),Nn(o),Bc(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=s}e.deps=t,e.depsTail=n}function xn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(yi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function yi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===_s)||(e.globalVersion=_s,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!xn(e))))return;e.flags|=2;const t=e.dep,n=ke,o=dt;ke=e,dt=!0;try{Ai(e);const s=e.fn(e._value);(t.version===0||Dt(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{ke=n,dt=o,Ti(e),e.flags&=-3}}function Nn(e,t=!1){const{dep:n,prevSub:o,nextSub:s}=e;if(o&&(o.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=o,e.nextSub=void 0),n.subs===e&&(n.subs=o,!o&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)Nn(a,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Bc(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let dt=!0;const Oi=[];function ht(){Oi.push(dt),dt=!1}function mt(){const e=Oi.pop();dt=e===void 0?!0:e}function Ri(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ke;ke=void 0;try{t()}finally{ke=n}}}let _s=0;class Kc{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ke||!dt||ke===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ke)n=this.activeLink=new Kc(ke,this),ke.deps?(n.prevDep=ke.depsTail,ke.depsTail.nextDep=n,ke.depsTail=n):ke.deps=ke.depsTail=n,vi(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const o=n.nextDep;o.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=o),n.prevDep=ke.depsTail,n.nextDep=void 0,ke.depsTail.nextDep=n,ke.depsTail=n,ke.deps===n&&(ke.deps=o)}return n}trigger(t){this.version++,_s++,this.notify(t)}notify(t){Rn();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{vn()}}}function vi(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)vi(o)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Mn=new WeakMap,Vt=Symbol(""),In=Symbol(""),fs=Symbol("");function We(e,t,n){if(dt&&ke){let o=Mn.get(e);o||Mn.set(e,o=new Map);let s=o.get(n);s||(o.set(n,s=new Pn),s.map=o,s.key=n),s.track()}}function Ot(e,t,n,o,s,a){const l=Mn.get(e);if(!l){_s++;return}const d=p=>{p&&p.trigger()};if(Rn(),t==="clear")l.forEach(d);else{const p=me(e),_=p&&bn(n);if(p&&n==="length"){const f=Number(o);l.forEach((c,g)=>{(g==="length"||g===fs||!ct(g)&&g>=f)&&d(c)})}else switch((n!==void 0||l.has(void 0))&&d(l.get(n)),_&&d(l.get(fs)),t){case"add":p?_&&d(l.get("length")):(d(l.get(Vt)),qt(e)&&d(l.get(In)));break;case"delete":p||(d(l.get(Vt)),qt(e)&&d(l.get(In)));break;case"set":qt(e)&&d(l.get(Vt));break}}vn()}function Qt(e){const t=Re(e);return t===e?t:(We(t,"iterate",fs),rt(e)?t:t.map(je))}function Ys(e){return We(e=Re(e),"iterate",fs),e}const jc={__proto__:null,[Symbol.iterator](){return kn(this,Symbol.iterator,je)},concat(...e){return Qt(this).concat(...e.map(t=>me(t)?Qt(t):t))},entries(){return kn(this,"entries",e=>(e[1]=je(e[1]),e))},every(e,t){return Rt(this,"every",e,t,void 0,arguments)},filter(e,t){return Rt(this,"filter",e,t,n=>n.map(je),arguments)},find(e,t){return Rt(this,"find",e,t,je,arguments)},findIndex(e,t){return Rt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Rt(this,"findLast",e,t,je,arguments)},findLastIndex(e,t){return Rt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Rt(this,"forEach",e,t,void 0,arguments)},includes(...e){return wn(this,"includes",e)},indexOf(...e){return wn(this,"indexOf",e)},join(e){return Qt(this).join(e)},lastIndexOf(...e){return wn(this,"lastIndexOf",e)},map(e,t){return Rt(this,"map",e,t,void 0,arguments)},pop(){return hs(this,"pop")},push(...e){return hs(this,"push",e)},reduce(e,...t){return xi(this,"reduce",e,t)},reduceRight(e,...t){return xi(this,"reduceRight",e,t)},shift(){return hs(this,"shift")},some(e,t){return Rt(this,"some",e,t,void 0,arguments)},splice(...e){return hs(this,"splice",e)},toReversed(){return Qt(this).toReversed()},toSorted(e){return Qt(this).toSorted(e)},toSpliced(...e){return Qt(this).toSpliced(...e)},unshift(...e){return hs(this,"unshift",e)},values(){return kn(this,"values",je)}};function kn(e,t,n){const o=Ys(e),s=o[t]();return o!==e&&!rt(e)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.done||(a.value=n(a.value)),a}),s}const Jc=Array.prototype;function Rt(e,t,n,o,s,a){const l=Ys(e),d=l!==e&&!rt(e),p=l[t];if(p!==Jc[t]){const c=p.apply(e,a);return d?je(c):c}let _=n;l!==e&&(d?_=function(c,g){return n.call(this,je(c),g,e)}:n.length>2&&(_=function(c,g){return n.call(this,c,g,e)}));const f=p.call(l,_,o);return d&&s?s(f):f}function xi(e,t,n,o){const s=Ys(e);let a=n;return s!==e&&(rt(e)?n.length>3&&(a=function(l,d,p){return n.call(this,l,d,p,e)}):a=function(l,d,p){return n.call(this,l,je(d),p,e)}),s[t](a,...o)}function wn(e,t,n){const o=Re(e);We(o,"iterate",fs);const s=o[t](...n);return(s===-1||s===!1)&&Dn(n[0])?(n[0]=Re(n[0]),o[t](...n)):s}function hs(e,t,n=[]){ht(),Rn();const o=Re(e)[t].apply(e,n);return vn(),mt(),o}const Wc=Sn("__proto__,__v_isRef,__isVue"),Ni=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ct));function qc(e){ct(e)||(e=String(e));const t=Re(this);return We(t,"has",e),t.hasOwnProperty(e)}class Pi{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,o){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return o===(s?a?Ui:$i:a?wi:ki).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=me(t);if(!s){let p;if(l&&(p=jc[n]))return p;if(n==="hasOwnProperty")return qc}const d=Reflect.get(t,n,Je(t)?t:o);if((ct(n)?Ni.has(n):Wc(n))||(s||We(t,"get",n),a))return d;if(Je(d)){const p=l&&bn(n)?d:d.value;return s&&Ie(p)?Un(p):p}return Ie(d)?s?Un(d):we(d):d}}class Mi extends Pi{constructor(t=!1){super(!1,t)}set(t,n,o,s){let a=t[n];if(!this._isShallow){const p=Yt(a);if(!rt(o)&&!Yt(o)&&(a=Re(a),o=Re(o)),!me(t)&&Je(a)&&!Je(o))return p||(a.value=o),!0}const l=me(t)&&bn(n)?Number(n)<t.length:ve(t,n),d=Reflect.set(t,n,o,Je(t)?t:s);return t===Re(s)&&(l?Dt(o,a)&&Ot(t,"set",n,o):Ot(t,"add",n,o)),d}deleteProperty(t,n){const o=ve(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&o&&Ot(t,"delete",n,void 0),s}has(t,n){const o=Reflect.has(t,n);return(!ct(n)||!Ni.has(n))&&We(t,"has",n),o}ownKeys(t){return We(t,"iterate",me(t)?"length":Vt),Reflect.ownKeys(t)}}class Ii extends Pi{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const zc=new Mi,Qc=new Ii,Zc=new Mi(!0),ed=new Ii(!0),$n=e=>e,Xs=e=>Reflect.getPrototypeOf(e);function td(e,t,n){return function(...o){const s=this.__v_raw,a=Re(s),l=qt(a),d=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,_=s[e](...o),f=n?$n:t?Hs:je;return!t&&We(a,"iterate",p?In:Vt),{next(){const{value:c,done:g}=_.next();return g?{value:c,done:g}:{value:d?[f(c[0]),f(c[1])]:f(c),done:g}},[Symbol.iterator](){return this}}}}function Fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sd(e,t){const n={get(s){const a=this.__v_raw,l=Re(a),d=Re(s);e||(Dt(s,d)&&We(l,"get",s),We(l,"get",d));const{has:p}=Xs(l),_=t?$n:e?Hs:je;if(p.call(l,s))return _(a.get(s));if(p.call(l,d))return _(a.get(d));a!==l&&a.get(s)},get size(){const s=this.__v_raw;return!e&&We(Re(s),"iterate",Vt),s.size},has(s){const a=this.__v_raw,l=Re(a),d=Re(s);return e||(Dt(s,d)&&We(l,"has",s),We(l,"has",d)),s===d?a.has(s):a.has(s)||a.has(d)},forEach(s,a){const l=this,d=l.__v_raw,p=Re(d),_=t?$n:e?Hs:je;return!e&&We(p,"iterate",Vt),d.forEach((f,c)=>s.call(a,_(f),_(c),l))}};return ze(n,e?{add:Fs("add"),set:Fs("set"),delete:Fs("delete"),clear:Fs("clear")}:{add(s){!t&&!rt(s)&&!Yt(s)&&(s=Re(s));const a=Re(this);return Xs(a).has.call(a,s)||(a.add(s),Ot(a,"add",s,s)),this},set(s,a){!t&&!rt(a)&&!Yt(a)&&(a=Re(a));const l=Re(this),{has:d,get:p}=Xs(l);let _=d.call(l,s);_||(s=Re(s),_=d.call(l,s));const f=p.call(l,s);return l.set(s,a),_?Dt(a,f)&&Ot(l,"set",s,a):Ot(l,"add",s,a),this},delete(s){const a=Re(this),{has:l,get:d}=Xs(a);let p=l.call(a,s);p||(s=Re(s),p=l.call(a,s)),d&&d.call(a,s);const _=a.delete(s);return p&&Ot(a,"delete",s,void 0),_},clear(){const s=Re(this),a=s.size!==0,l=s.clear();return a&&Ot(s,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=td(s,e,t)}),n}function Gs(e,t){const n=sd(e,t);return(o,s,a)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(ve(n,s)&&s in o?n:o,s,a)}const nd={get:Gs(!1,!1)},id={get:Gs(!1,!0)},od={get:Gs(!0,!1)},ad={get:Gs(!0,!0)},ki=new WeakMap,wi=new WeakMap,$i=new WeakMap,Ui=new WeakMap;function rd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ld(e){return e.__v_skip||!Object.isExtensible(e)?0:rd(wc(e))}function we(e){return Yt(e)?e:Vs(e,!1,zc,nd,ki)}function cd(e){return Vs(e,!1,Zc,id,wi)}function Un(e){return Vs(e,!0,Qc,od,$i)}function bR(e){return Vs(e,!0,ed,ad,Ui)}function Vs(e,t,n,o,s){if(!Ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=ld(e);if(a===0)return e;const l=s.get(e);if(l)return l;const d=new Proxy(e,a===2?o:n);return s.set(e,d),d}function Zt(e){return Yt(e)?Zt(e.__v_raw):!!(e&&e.__v_isReactive)}function Yt(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function Dn(e){return e?!!e.__v_raw:!1}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function dd(e){return!ve(e,"__v_skip")&&Object.isExtensible(e)&&fi(e,"__v_skip",!0),e}const je=e=>Ie(e)?we(e):e,Hs=e=>Ie(e)?Un(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function Ge(e){return ud(e,!1)}function ud(e,t){return Je(e)?e:new pd(e,t)}class pd{constructor(t,n){this.dep=new Pn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Re(t),this._value=n?t:je(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,o=this.__v_isShallow||rt(t)||Yt(t);t=o?t:Re(t),Dt(t,n)&&(this._rawValue=t,this._value=o?t:je(t),this.dep.trigger())}}function r(e){return Je(e)?e.value:e}const _d={get:(e,t,n)=>t==="__v_raw"?e:r(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return Je(s)&&!Je(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function Di(e){return Zt(e)?e:new Proxy(e,_d)}class fd{constructor(t,n,o){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Pn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_s-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&ke!==this)return bi(this,!0),!0}get value(){const t=this.dep.track();return yi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function hd(e,t,n=!1){let o,s;return be(e)?o=e:(o=e.get,s=e.set),new fd(o,s,n)}const Bs={},Ks=new WeakMap;let Ht;function md(e,t=!1,n=Ht){if(n){let o=Ks.get(n);o||Ks.set(n,o=[]),o.push(e)}}function gd(e,t,n=Me){const{immediate:o,deep:s,once:a,scheduler:l,augmentJob:d,call:p}=n,_=M=>s?M:rt(M)||s===!1||s===0?vt(M,1):vt(M);let f,c,g,R,k=!1,O=!1;if(Je(e)?(c=()=>e.value,k=rt(e)):Zt(e)?(c=()=>_(e),k=!0):me(e)?(O=!0,k=e.some(M=>Zt(M)||rt(M)),c=()=>e.map(M=>{if(Je(M))return M.value;if(Zt(M))return _(M);if(be(M))return p?p(M,2):M()})):be(e)?t?c=p?()=>p(e,2):e:c=()=>{if(g){ht();try{g()}finally{mt()}}const M=Ht;Ht=f;try{return p?p(e,3,[R]):e(R)}finally{Ht=M}}:c=ft,t&&s){const M=c,L=s===!0?1/0:s;c=()=>vt(M(),L)}const N=Hc(),A=()=>{f.stop(),N&&N.active&&En(N.effects,f)};if(a&&t){const M=t;t=(...L)=>{M(...L),A()}}let W=O?new Array(e.length).fill(Bs):Bs;const H=M=>{if(!(!(f.flags&1)||!f.dirty&&!M))if(t){const L=f.run();if(s||k||(O?L.some((oe,ae)=>Dt(oe,W[ae])):Dt(L,W))){g&&g();const oe=Ht;Ht=f;try{const ae=[L,W===Bs?void 0:O&&W[0]===Bs?[]:W,R];W=L,p?p(t,3,ae):t(...ae)}finally{Ht=oe}}}else f.run()};return d&&d(H),f=new Ci(c),f.scheduler=l?()=>l(H,!1):H,R=M=>md(M,!1,f),g=f.onStop=()=>{const M=Ks.get(f);if(M){if(p)p(M,4);else for(const L of M)L();Ks.delete(f)}},t?o?H(!0):W=f.run():l?l(H.bind(null,!0),!0):f.run(),A.pause=f.pause.bind(f),A.resume=f.resume.bind(f),A.stop=A,A}function vt(e,t=1/0,n){if(t<=0||!Ie(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Je(e))vt(e.value,t,n);else if(me(e))for(let o=0;o<e.length;o++)vt(e[o],t,n);else if(zt(e)||qt(e))e.forEach(o=>{vt(o,t,n)});else if(pi(e)){for(const o in e)vt(e[o],t,n);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&vt(e[o],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ms=[];let Ln=!1;function AR(e,...t){if(Ln)return;Ln=!0,ht();const n=ms.length?ms[ms.length-1].component:null,o=n&&n.appContext.config.warnHandler,s=Sd();if(o)es(o,n,11,[e+t.map(a=>{var l,d;return(d=(l=a.toString)==null?void 0:l.call(a))!=null?d:JSON.stringify(a)}).join(""),n&&n.proxy,s.map(({vnode:a})=>`at <${ko(n,a.type)}>`).join(`
`),s]);else{const a=[`[Vue warn]: ${e}`,...t];s.length&&a.push(`
`,...Cd(s)),console.warn(...a)}mt(),Ln=!1}function Sd(){let e=ms[ms.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function Cd(e){const t=[];return e.forEach((n,o)=>{t.push(...o===0?[]:[`
`],...Ed(n))}),t}function Ed({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,s=` at <${ko(e.component,e.type,o)}`,a=">"+n;return e.props?[s,...bd(e.props),a]:[s+a]}function bd(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(o=>{t.push(...Li(o,e[o]))}),n.length>3&&t.push(" ..."),t}function Li(e,t,n){return Ye(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:Je(t)?(t=Li(e,Re(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):be(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Re(t),n?t:[`${e}=`,t])}function es(e,t,n,o){try{return o?e(...o):e()}catch(s){js(s,t,n)}}function gt(e,t,n,o){if(be(e)){const s=es(e,t,n,o);return s&&di(s)&&s.catch(a=>{js(a,t,n)}),s}if(me(e)){const s=[];for(let a=0;a<e.length;a++)s.push(gt(e[a],t,n,o));return s}}function js(e,t,n,o=!0){const s=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Me;if(t){let d=t.parent;const p=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${n}`;for(;d;){const f=d.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](e,p,_)===!1)return}d=d.parent}if(a){ht(),es(a,null,10,[e,p,_]),mt();return}}Ad(e,n,s,o,l)}function Ad(e,t,n,o=!0,s=!1){if(s)throw e;console.error(e)}const Qe=[];let St=-1;const ts=[];let Xt=null,ss=0;const Yi=Promise.resolve();let Js=null;function Xi(e){const t=Js||Yi;return e?t.then(this?e.bind(this):e):t}function Td(e){let t=St+1,n=Qe.length;for(;t<n;){const o=t+n>>>1,s=Qe[o],a=gs(s);a<e||a===e&&s.flags&2?t=o+1:n=o}return t}function Yn(e){if(!(e.flags&1)){const t=gs(e),n=Qe[Qe.length-1];!n||!(e.flags&2)&&t>=gs(n)?Qe.push(e):Qe.splice(Td(t),0,e),e.flags|=1,Fi()}}function Fi(){Js||(Js=Yi.then(Hi))}function yd(e){me(e)?ts.push(...e):Xt&&e.id===-1?Xt.splice(ss+1,0,e):e.flags&1||(ts.push(e),e.flags|=1),Fi()}function Gi(e,t,n=St+1){for(;n<Qe.length;n++){const o=Qe[n];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Qe.splice(n,1),n--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Vi(e){if(ts.length){const t=[...new Set(ts)].sort((n,o)=>gs(n)-gs(o));if(ts.length=0,Xt){Xt.push(...t);return}for(Xt=t,ss=0;ss<Xt.length;ss++){const n=Xt[ss];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Xt=null,ss=0}}const gs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Hi(e){try{for(St=0;St<Qe.length;St++){const t=Qe[St];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),es(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;St<Qe.length;St++){const t=Qe[St];t&&(t.flags&=-2)}St=-1,Qe.length=0,Vi(),Js=null,(Qe.length||ts.length)&&Hi()}}let qe=null,Bi=null;function Ws(e){const t=qe;return qe=e,Bi=e&&e.type.__scopeId||null,t}function Ki(e,t=qe,n){if(!t||e._n)return e;const o=(...s)=>{o._d&&Ro(-1);const a=Ws(t);let l;try{l=e(...s)}finally{Ws(a),o._d&&Ro(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function te(e,t){if(qe===null)return e;const n=an(qe),o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,l,d,p=Me]=t[s];a&&(be(a)&&(a={mounted:a,updated:a}),a.deep&&vt(l),o.push({dir:a,instance:n,value:l,oldValue:void 0,arg:d,modifiers:p}))}return e}function Bt(e,t,n,o){const s=e.dirs,a=t&&t.dirs;for(let l=0;l<s.length;l++){const d=s[l];a&&(d.oldValue=a[l].value);let p=d.dir[o];p&&(ht(),gt(p,n,8,[e.el,d,e,t]),mt())}}const Od=Symbol("_vte"),Rd=e=>e.__isTeleport,vd=Symbol("_leaveCb");function Xn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Xn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ji(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const qs=new WeakMap;function Ss(e,t,n,o,s=!1){if(me(e)){e.forEach((k,O)=>Ss(k,t&&(me(t)?t[O]:t),n,o,s));return}if(ns(o)&&!s){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Ss(e,t,n,o.component.subTree);return}const a=o.shapeFlag&4?an(o.component):o.el,l=s?null:a,{i:d,r:p}=e,_=t&&t.r,f=d.refs===Me?d.refs={}:d.refs,c=d.setupState,g=Re(c),R=c===Me?li:k=>ve(g,k);if(_!=null&&_!==p){if(Ji(t),Ye(_))f[_]=null,R(_)&&(c[_]=null);else if(Je(_)){_.value=null;const k=t;k.k&&(f[k.k]=null)}}if(be(p))es(p,d,12,[l,f]);else{const k=Ye(p),O=Je(p);if(k||O){const N=()=>{if(e.f){const A=k?R(p)?c[p]:f[p]:p.value;if(s)me(A)&&En(A,a);else if(me(A))A.includes(a)||A.push(a);else if(k)f[p]=[a],R(p)&&(c[p]=f[p]);else{const W=[a];p.value=W,e.k&&(f[e.k]=W)}}else k?(f[p]=l,R(p)&&(c[p]=l)):O&&(p.value=l,e.k&&(f[e.k]=l))};if(l){const A=()=>{N(),qs.delete(e)};A.id=-1,qs.set(e,A),ot(A,n)}else Ji(e),N()}}}function Ji(e){const t=qs.get(e);t&&(t.flags|=8,qs.delete(e))}Ls().requestIdleCallback,Ls().cancelIdleCallback;const ns=e=>!!e.type.__asyncLoader,Wi=e=>e.type.__isKeepAlive;function xd(e,t){qi(e,"a",t)}function Nd(e,t){qi(e,"da",t)}function qi(e,t,n=et){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(zs(t,o,n),n){let s=n.parent;for(;s&&s.parent;)Wi(s.parent.vnode)&&Pd(o,t,n,s),s=s.parent}}function Pd(e,t,n,o){const s=zs(t,e,o,!0);Qi(()=>{En(o[t],s)},n)}function zs(e,t,n=et,o=!1){if(n){const s=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...l)=>{ht();const d=ys(n),p=gt(t,n,e,l);return d(),mt(),p});return o?s.unshift(a):s.push(a),a}}const xt=e=>(t,n=et)=>{(!Os||e==="sp")&&zs(e,(...o)=>t(...o),n)},Md=xt("bm"),it=xt("m"),Id=xt("bu"),kd=xt("u"),zi=xt("bum"),Qi=xt("um"),wd=xt("sp"),$d=xt("rtg"),Ud=xt("rtc");function Dd(e,t=et){zs("ec",e,t)}const Ld=Symbol.for("v-ndc");function Oe(e,t,n,o){let s;const a=n,l=me(e);if(l||Ye(e)){const d=l&&Zt(e);let p=!1,_=!1;d&&(p=!rt(e),_=Yt(e),e=Ys(e)),s=new Array(e.length);for(let f=0,c=e.length;f<c;f++)s[f]=t(p?_?Hs(je(e[f])):je(e[f]):e[f],f,void 0,a)}else if(typeof e=="number"){s=new Array(e);for(let d=0;d<e;d++)s[d]=t(d+1,d,void 0,a)}else if(Ie(e))if(e[Symbol.iterator])s=Array.from(e,(d,p)=>t(d,p,void 0,a));else{const d=Object.keys(e);s=new Array(d.length);for(let p=0,_=d.length;p<_;p++){const f=d[p];s[p]=t(e[f],f,p,a)}}else s=[];return s}function Yd(e,t,n={},o,s){if(qe.ce||qe.parent&&ns(qe.parent)&&qe.parent.ce){const _=Object.keys(n).length>0;return y(),lt(Se,null,[Ve("slot",n,o)],_?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),y();const l=a&&Zi(a(n)),d=n.key||l&&l.key,p=lt(Se,{key:(d&&!ct(d)?d:`_${t}`)+(!l&&o?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function Zi(e){return e.some(t=>Wn(t)?!(t.type===Nt||t.type===Se&&!Zi(t.children)):!0)?e:null}const Fn=e=>e?Po(e)?an(e):Fn(e.parent):null,Cs=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fn(e.parent),$root:e=>Fn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>no(e),$forceUpdate:e=>e.f||(e.f=()=>{Yn(e.update)}),$nextTick:e=>e.n||(e.n=Xi.bind(e.proxy)),$watch:e=>ru.bind(e)}),Gn=(e,t)=>e!==Me&&!e.__isScriptSetup&&ve(e,t),Xd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:d,appContext:p}=e;let _;if(t[0]!=="$"){const R=l[t];if(R!==void 0)switch(R){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(Gn(o,t))return l[t]=1,o[t];if(s!==Me&&ve(s,t))return l[t]=2,s[t];if((_=e.propsOptions[0])&&ve(_,t))return l[t]=3,a[t];if(n!==Me&&ve(n,t))return l[t]=4,n[t];Vn&&(l[t]=0)}}const f=Cs[t];let c,g;if(f)return t==="$attrs"&&We(e.attrs,"get",""),f(e);if((c=d.__cssModules)&&(c=c[t]))return c;if(n!==Me&&ve(n,t))return l[t]=4,n[t];if(g=p.config.globalProperties,ve(g,t))return g[t]},set({_:e},t,n){const{data:o,setupState:s,ctx:a}=e;return Gn(s,t)?(s[t]=n,!0):o!==Me&&ve(o,t)?(o[t]=n,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:a,type:l}},d){let p,_;return!!(n[d]||e!==Me&&d[0]!=="$"&&ve(e,d)||Gn(t,d)||(p=a[0])&&ve(p,d)||ve(o,d)||ve(Cs,d)||ve(s.config.globalProperties,d)||(_=l.__cssModules)&&_[d])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ve(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function eo(e){return me(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Vn=!0;function Fd(e){const t=no(e),n=e.proxy,o=e.ctx;Vn=!1,t.beforeCreate&&to(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:d,provide:p,inject:_,created:f,beforeMount:c,mounted:g,beforeUpdate:R,updated:k,activated:O,deactivated:N,beforeDestroy:A,beforeUnmount:W,destroyed:H,unmounted:M,render:L,renderTracked:oe,renderTriggered:ae,errorCaptured:le,serverPrefetch:fe,expose:j,inheritAttrs:B,components:q,directives:G,filters:se}=t;if(_&&Gd(_,o,null),l)for(const z in l){const P=l[z];be(P)&&(o[z]=P.bind(n))}if(s){const z=s.call(n,n);Ie(z)&&(e.data=we(z))}if(Vn=!0,a)for(const z in a){const P=a[z],I=be(P)?P.bind(n,n):be(P.get)?P.get.bind(n,n):ft,X=!be(P)&&be(P.set)?P.set.bind(n):ft,U=ge({get:I,set:X});Object.defineProperty(o,z,{enumerable:!0,configurable:!0,get:()=>U.value,set:V=>U.value=V})}if(d)for(const z in d)so(d[z],o,n,z);if(p){const z=be(p)?p.call(n):p;Reflect.ownKeys(z).forEach(P=>{Jd(P,z[P])})}f&&to(f,e,"c");function ne(z,P){me(P)?P.forEach(I=>z(I.bind(n))):P&&z(P.bind(n))}if(ne(Md,c),ne(it,g),ne(Id,R),ne(kd,k),ne(xd,O),ne(Nd,N),ne(Dd,le),ne(Ud,oe),ne($d,ae),ne(zi,W),ne(Qi,M),ne(wd,fe),me(j))if(j.length){const z=e.exposed||(e.exposed={});j.forEach(P=>{Object.defineProperty(z,P,{get:()=>n[P],set:I=>n[P]=I,enumerable:!0})})}else e.exposed||(e.exposed={});L&&e.render===ft&&(e.render=L),B!=null&&(e.inheritAttrs=B),q&&(e.components=q),G&&(e.directives=G),fe&&ji(e)}function Gd(e,t,n=ft){me(e)&&(e=Hn(e));for(const o in e){const s=e[o];let a;Ie(s)?"default"in s?a=Zs(s.from||o,s.default,!0):a=Zs(s.from||o):a=Zs(s),Je(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function to(e,t,n){gt(me(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function so(e,t,n,o){let s=o.includes(".")?bo(n,o):()=>n[o];if(Ye(e)){const a=t[e];be(a)&&De(s,a)}else if(be(e))De(s,e.bind(n));else if(Ie(e))if(me(e))e.forEach(a=>so(a,t,n,o));else{const a=be(e.handler)?e.handler.bind(n):t[e.handler];be(a)&&De(s,a,e)}}function no(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,d=a.get(t);let p;return d?p=d:!s.length&&!n&&!o?p=t:(p={},s.length&&s.forEach(_=>Qs(p,_,l,!0)),Qs(p,t,l)),Ie(t)&&a.set(t,p),p}function Qs(e,t,n,o=!1){const{mixins:s,extends:a}=t;a&&Qs(e,a,n,!0),s&&s.forEach(l=>Qs(e,l,n,!0));for(const l in t)if(!(o&&l==="expose")){const d=Vd[l]||n&&n[l];e[l]=d?d(e[l],t[l]):t[l]}return e}const Vd={data:io,props:oo,emits:oo,methods:Es,computed:Es,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:Es,directives:Es,watch:Bd,provide:io,inject:Hd};function io(e,t){return t?e?function(){return ze(be(e)?e.call(this,this):e,be(t)?t.call(this,this):t)}:t:e}function Hd(e,t){return Es(Hn(e),Hn(t))}function Hn(e){if(me(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function Es(e,t){return e?ze(Object.create(null),e,t):t}function oo(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:ze(Object.create(null),eo(e),eo(t!=null?t:{})):t}function Bd(e,t){if(!e)return t;if(!t)return e;const n=ze(Object.create(null),e);for(const o in t)n[o]=Ze(e[o],t[o]);return n}function ao(){return{app:null,config:{isNativeTag:li,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kd=0;function jd(e,t){return function(o,s=null){be(o)||(o=ze({},o)),s!=null&&!Ie(s)&&(s=null);const a=ao(),l=new WeakSet,d=[];let p=!1;const _=a.app={_uid:Kd++,_component:o,_props:s,_container:null,_context:a,_instance:null,version:ku,get config(){return a.config},set config(f){},use(f,...c){return l.has(f)||(f&&be(f.install)?(l.add(f),f.install(_,...c)):be(f)&&(l.add(f),f(_,...c))),_},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),_},component(f,c){return c?(a.components[f]=c,_):a.components[f]},directive(f,c){return c?(a.directives[f]=c,_):a.directives[f]},mount(f,c,g){if(!p){const R=_._ceVNode||Ve(o,s);return R.appContext=a,g===!0?g="svg":g===!1&&(g=void 0),e(R,f,g),p=!0,_._container=f,f.__vue_app__=_,an(R.component)}},onUnmount(f){d.push(f)},unmount(){p&&(gt(d,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(f,c){return a.provides[f]=c,_},runWithContext(f){const c=is;is=_;try{return f()}finally{is=c}}};return _}}let is=null;function Jd(e,t){if(et){let n=et.provides;const o=et.parent&&et.parent.provides;o===n&&(n=et.provides=Object.create(o)),n[e]=t}}function Zs(e,t,n=!1){const o=yu();if(o||is){let s=is?is._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&be(t)?t.call(o&&o.proxy):t}}const ro={},lo=()=>Object.create(ro),co=e=>Object.getPrototypeOf(e)===ro;function Wd(e,t,n,o=!1){const s={},a=lo();e.propsDefaults=Object.create(null),uo(e,t,s,a);for(const l in e.propsOptions[0])l in s||(s[l]=void 0);n?e.props=o?s:cd(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function qd(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,d=Re(s),[p]=e.propsOptions;let _=!1;if((o||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let c=0;c<f.length;c++){let g=f[c];if(en(e.emitsOptions,g))continue;const R=t[g];if(p)if(ve(a,g))R!==a[g]&&(a[g]=R,_=!0);else{const k=$t(g);s[k]=Bn(p,d,k,R,e,!1)}else R!==a[g]&&(a[g]=R,_=!0)}}}else{uo(e,t,s,a)&&(_=!0);let f;for(const c in d)(!t||!ve(t,c)&&((f=Ut(c))===c||!ve(t,f)))&&(p?n&&(n[c]!==void 0||n[f]!==void 0)&&(s[c]=Bn(p,d,c,void 0,e,!0)):delete s[c]);if(a!==d)for(const c in a)(!t||!ve(t,c))&&(delete a[c],_=!0)}_&&Ot(e.attrs,"set","")}function uo(e,t,n,o){const[s,a]=e.propsOptions;let l=!1,d;if(t)for(let p in t){if(cs(p))continue;const _=t[p];let f;s&&ve(s,f=$t(p))?!a||!a.includes(f)?n[f]=_:(d||(d={}))[f]=_:en(e.emitsOptions,p)||(!(p in o)||_!==o[p])&&(o[p]=_,l=!0)}if(a){const p=Re(n),_=d||Me;for(let f=0;f<a.length;f++){const c=a[f];n[c]=Bn(s,p,c,_[c],e,!ve(_,c))}}return l}function Bn(e,t,n,o,s,a){const l=e[n];if(l!=null){const d=ve(l,"default");if(d&&o===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&be(p)){const{propsDefaults:_}=s;if(n in _)o=_[n];else{const f=ys(s);o=_[n]=p.call(null,t),f()}}else o=p;s.ce&&s.ce._setProp(n,o)}l[0]&&(a&&!d?o=!1:l[1]&&(o===""||o===Ut(n))&&(o=!0))}return o}const zd=new WeakMap;function po(e,t,n=!1){const o=n?zd:t.propsCache,s=o.get(e);if(s)return s;const a=e.props,l={},d=[];let p=!1;if(!be(e)){const f=c=>{p=!0;const[g,R]=po(c,t,!0);ze(l,g),R&&d.push(...R)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!p)return Ie(e)&&o.set(e,Wt),Wt;if(me(a))for(let f=0;f<a.length;f++){const c=$t(a[f]);_o(c)&&(l[c]=Me)}else if(a)for(const f in a){const c=$t(f);if(_o(c)){const g=a[f],R=l[c]=me(g)||be(g)?{type:g}:ze({},g),k=R.type;let O=!1,N=!0;if(me(k))for(let A=0;A<k.length;++A){const W=k[A],H=be(W)&&W.name;if(H==="Boolean"){O=!0;break}else H==="String"&&(N=!1)}else O=be(k)&&k.name==="Boolean";R[0]=O,R[1]=N,(O||ve(R,"default"))&&d.push(c)}}const _=[l,d];return Ie(e)&&o.set(e,_),_}function _o(e){return e[0]!=="$"&&!cs(e)}const Kn=e=>e==="_"||e==="_ctx"||e==="$stable",jn=e=>me(e)?e.map(Ct):[Ct(e)],Qd=(e,t,n)=>{if(t._n)return t;const o=Ki((...s)=>jn(t(...s)),n);return o._c=!1,o},fo=(e,t,n)=>{const o=e._ctx;for(const s in e){if(Kn(s))continue;const a=e[s];if(be(a))t[s]=Qd(s,a,o);else if(a!=null){const l=jn(a);t[s]=()=>l}}},ho=(e,t)=>{const n=jn(t);e.slots.default=()=>n},mo=(e,t,n)=>{for(const o in t)(n||!Kn(o))&&(e[o]=t[o])},Zd=(e,t,n)=>{const o=e.slots=lo();if(e.vnode.shapeFlag&32){const s=t._;s?(mo(o,t,n),n&&fi(o,"_",s,!0)):fo(t,o)}else t&&ho(e,t)},eu=(e,t,n)=>{const{vnode:o,slots:s}=e;let a=!0,l=Me;if(o.shapeFlag&32){const d=t._;d?n&&d===1?a=!1:mo(s,t,n):(a=!t.$stable,fo(t,s)),l=t}else t&&(ho(e,t),l={default:1});if(a)for(const d in s)!Kn(d)&&l[d]==null&&delete s[d]},ot=hu;function tu(e){return su(e)}function su(e,t){const n=Ls();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:d,createComment:p,setText:_,setElementText:f,parentNode:c,nextSibling:g,setScopeId:R=ft,insertStaticContent:k}=e,O=(m,b,Y,K=null,E=null,h=null,T=void 0,v=null,$=!!b.dynamicChildren)=>{if(m===b)return;m&&!Ts(m,b)&&(K=ie(m),V(m,E,h,!0),m=null),b.patchFlag===-2&&($=!1,b.dynamicChildren=null);const{type:D,ref:Z,shapeFlag:F}=b;switch(D){case tn:N(m,b,Y,K);break;case Nt:A(m,b,Y,K);break;case sn:m==null&&W(b,Y,K,T);break;case Se:q(m,b,Y,K,E,h,T,v,$);break;default:F&1?L(m,b,Y,K,E,h,T,v,$):F&6?G(m,b,Y,K,E,h,T,v,$):(F&64||F&128)&&D.process(m,b,Y,K,E,h,T,v,$,S)}Z!=null&&E?Ss(Z,m&&m.ref,h,b||m,!b):Z==null&&m&&m.ref!=null&&Ss(m.ref,null,h,m,!0)},N=(m,b,Y,K)=>{if(m==null)o(b.el=d(b.children),Y,K);else{const E=b.el=m.el;b.children!==m.children&&_(E,b.children)}},A=(m,b,Y,K)=>{m==null?o(b.el=p(b.children||""),Y,K):b.el=m.el},W=(m,b,Y,K)=>{[m.el,m.anchor]=k(m.children,b,Y,K,m.el,m.anchor)},H=({el:m,anchor:b},Y,K)=>{let E;for(;m&&m!==b;)E=g(m),o(m,Y,K),m=E;o(b,Y,K)},M=({el:m,anchor:b})=>{let Y;for(;m&&m!==b;)Y=g(m),s(m),m=Y;s(b)},L=(m,b,Y,K,E,h,T,v,$)=>{b.type==="svg"?T="svg":b.type==="math"&&(T="mathml"),m==null?oe(b,Y,K,E,h,T,v,$):fe(m,b,E,h,T,v,$)},oe=(m,b,Y,K,E,h,T,v)=>{let $,D;const{props:Z,shapeFlag:F,transition:ee,dirs:re}=m;if($=m.el=l(m.type,h,Z&&Z.is,Z),F&8?f($,m.children):F&16&&le(m.children,$,null,K,E,Jn(m,h),T,v),re&&Bt(m,null,K,"created"),ae($,m,m.scopeId,T,K),Z){for(const he in Z)he!=="value"&&!cs(he)&&a($,he,null,Z[he],h,K);"value"in Z&&a($,"value",null,Z.value,h),(D=Z.onVnodeBeforeMount)&&Et(D,K,m)}re&&Bt(m,null,K,"beforeMount");const pe=nu(E,ee);pe&&ee.beforeEnter($),o($,b,Y),((D=Z&&Z.onVnodeMounted)||pe||re)&&ot(()=>{D&&Et(D,K,m),pe&&ee.enter($),re&&Bt(m,null,K,"mounted")},E)},ae=(m,b,Y,K,E)=>{if(Y&&R(m,Y),K)for(let h=0;h<K.length;h++)R(m,K[h]);if(E){let h=E.subTree;if(b===h||Oo(h.type)&&(h.ssContent===b||h.ssFallback===b)){const T=E.vnode;ae(m,T,T.scopeId,T.slotScopeIds,E.parent)}}},le=(m,b,Y,K,E,h,T,v,$=0)=>{for(let D=$;D<m.length;D++){const Z=m[D]=v?Ft(m[D]):Ct(m[D]);O(null,Z,b,Y,K,E,h,T,v)}},fe=(m,b,Y,K,E,h,T)=>{const v=b.el=m.el;let{patchFlag:$,dynamicChildren:D,dirs:Z}=b;$|=m.patchFlag&16;const F=m.props||Me,ee=b.props||Me;let re;if(Y&&Kt(Y,!1),(re=ee.onVnodeBeforeUpdate)&&Et(re,Y,b,m),Z&&Bt(b,m,Y,"beforeUpdate"),Y&&Kt(Y,!0),(F.innerHTML&&ee.innerHTML==null||F.textContent&&ee.textContent==null)&&f(v,""),D?j(m.dynamicChildren,D,v,Y,K,Jn(b,E),h):T||P(m,b,v,null,Y,K,Jn(b,E),h,!1),$>0){if($&16)B(v,F,ee,Y,E);else if($&2&&F.class!==ee.class&&a(v,"class",null,ee.class,E),$&4&&a(v,"style",F.style,ee.style,E),$&8){const pe=b.dynamicProps;for(let he=0;he<pe.length;he++){const Ce=pe[he],xe=F[Ce],Le=ee[Ce];(Le!==xe||Ce==="value")&&a(v,Ce,xe,Le,E,Y)}}$&1&&m.children!==b.children&&f(v,b.children)}else!T&&D==null&&B(v,F,ee,Y,E);((re=ee.onVnodeUpdated)||Z)&&ot(()=>{re&&Et(re,Y,b,m),Z&&Bt(b,m,Y,"updated")},K)},j=(m,b,Y,K,E,h,T)=>{for(let v=0;v<b.length;v++){const $=m[v],D=b[v],Z=$.el&&($.type===Se||!Ts($,D)||$.shapeFlag&198)?c($.el):Y;O($,D,Z,null,K,E,h,T,!0)}},B=(m,b,Y,K,E)=>{if(b!==Y){if(b!==Me)for(const h in b)!cs(h)&&!(h in Y)&&a(m,h,b[h],null,E,K);for(const h in Y){if(cs(h))continue;const T=Y[h],v=b[h];T!==v&&h!=="value"&&a(m,h,v,T,E,K)}"value"in Y&&a(m,"value",b.value,Y.value,E)}},q=(m,b,Y,K,E,h,T,v,$)=>{const D=b.el=m?m.el:d(""),Z=b.anchor=m?m.anchor:d("");let{patchFlag:F,dynamicChildren:ee,slotScopeIds:re}=b;re&&(v=v?v.concat(re):re),m==null?(o(D,Y,K),o(Z,Y,K),le(b.children||[],Y,Z,E,h,T,v,$)):F>0&&F&64&&ee&&m.dynamicChildren?(j(m.dynamicChildren,ee,Y,E,h,T,v),(b.key!=null||E&&b===E.subTree)&&go(m,b,!0)):P(m,b,Y,Z,E,h,T,v,$)},G=(m,b,Y,K,E,h,T,v,$)=>{b.slotScopeIds=v,m==null?b.shapeFlag&512?E.ctx.activate(b,Y,K,T,$):se(b,Y,K,E,h,T,$):ue(m,b,$)},se=(m,b,Y,K,E,h,T)=>{const v=m.component=Tu(m,K,E);if(Wi(m)&&(v.ctx.renderer=S),Ou(v,!1,T),v.asyncDep){if(E&&E.registerDep(v,ne,T),!m.el){const $=v.subTree=Ve(Nt);A(null,$,b,Y),m.placeholder=$.el}}else ne(v,m,b,Y,E,h,T)},ue=(m,b,Y)=>{const K=b.component=m.component;if(_u(m,b,Y))if(K.asyncDep&&!K.asyncResolved){z(K,b,Y);return}else K.next=b,K.update();else b.el=m.el,K.vnode=b},ne=(m,b,Y,K,E,h,T)=>{const v=()=>{if(m.isMounted){let{next:F,bu:ee,u:re,parent:pe,vnode:he}=m;{const $e=So(m);if($e){F&&(F.el=he.el,z(m,F,T)),$e.asyncDep.then(()=>{m.isUnmounted||v()});return}}let Ce=F,xe;Kt(m,!1),F?(F.el=he.el,z(m,F,T)):F=he,ee&&Us(ee),(xe=F.props&&F.props.onVnodeBeforeUpdate)&&Et(xe,pe,F,he),Kt(m,!0);const Le=To(m),Ke=m.subTree;m.subTree=Le,O(Ke,Le,c(Ke.el),ie(Ke),m,E,h),F.el=Le.el,Ce===null&&fu(m,Le.el),re&&ot(re,E),(xe=F.props&&F.props.onVnodeUpdated)&&ot(()=>Et(xe,pe,F,he),E)}else{let F;const{el:ee,props:re}=b,{bm:pe,m:he,parent:Ce,root:xe,type:Le}=m,Ke=ns(b);Kt(m,!1),pe&&Us(pe),!Ke&&(F=re&&re.onVnodeBeforeMount)&&Et(F,Ce,b),Kt(m,!0);{xe.ce&&xe.ce._def.shadowRoot!==!1&&xe.ce._injectChildStyle(Le);const $e=m.subTree=To(m);O(null,$e,Y,K,m,E,h),b.el=$e.el}if(he&&ot(he,E),!Ke&&(F=re&&re.onVnodeMounted)){const $e=b;ot(()=>Et(F,Ce,$e),E)}(b.shapeFlag&256||Ce&&ns(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&m.a&&ot(m.a,E),m.isMounted=!0,b=Y=K=null}};m.scope.on();const $=m.effect=new Ci(v);m.scope.off();const D=m.update=$.run.bind($),Z=m.job=$.runIfDirty.bind($);Z.i=m,Z.id=m.uid,$.scheduler=()=>Yn(Z),Kt(m,!0),D()},z=(m,b,Y)=>{b.component=m;const K=m.vnode.props;m.vnode=b,m.next=null,qd(m,b.props,K,Y),eu(m,b.children,Y),ht(),Gi(m),mt()},P=(m,b,Y,K,E,h,T,v,$=!1)=>{const D=m&&m.children,Z=m?m.shapeFlag:0,F=b.children,{patchFlag:ee,shapeFlag:re}=b;if(ee>0){if(ee&128){X(D,F,Y,K,E,h,T,v,$);return}else if(ee&256){I(D,F,Y,K,E,h,T,v,$);return}}re&8?(Z&16&&ye(D,E,h),F!==D&&f(Y,F)):Z&16?re&16?X(D,F,Y,K,E,h,T,v,$):ye(D,E,h,!0):(Z&8&&f(Y,""),re&16&&le(F,Y,K,E,h,T,v,$))},I=(m,b,Y,K,E,h,T,v,$)=>{m=m||Wt,b=b||Wt;const D=m.length,Z=b.length,F=Math.min(D,Z);let ee;for(ee=0;ee<F;ee++){const re=b[ee]=$?Ft(b[ee]):Ct(b[ee]);O(m[ee],re,Y,null,E,h,T,v,$)}D>Z?ye(m,E,h,!0,!1,F):le(b,Y,K,E,h,T,v,$,F)},X=(m,b,Y,K,E,h,T,v,$)=>{let D=0;const Z=b.length;let F=m.length-1,ee=Z-1;for(;D<=F&&D<=ee;){const re=m[D],pe=b[D]=$?Ft(b[D]):Ct(b[D]);if(Ts(re,pe))O(re,pe,Y,null,E,h,T,v,$);else break;D++}for(;D<=F&&D<=ee;){const re=m[F],pe=b[ee]=$?Ft(b[ee]):Ct(b[ee]);if(Ts(re,pe))O(re,pe,Y,null,E,h,T,v,$);else break;F--,ee--}if(D>F){if(D<=ee){const re=ee+1,pe=re<Z?b[re].el:K;for(;D<=ee;)O(null,b[D]=$?Ft(b[D]):Ct(b[D]),Y,pe,E,h,T,v,$),D++}}else if(D>ee)for(;D<=F;)V(m[D],E,h,!0),D++;else{const re=D,pe=D,he=new Map;for(D=pe;D<=ee;D++){const Ue=b[D]=$?Ft(b[D]):Ct(b[D]);Ue.key!=null&&he.set(Ue.key,D)}let Ce,xe=0;const Le=ee-pe+1;let Ke=!1,$e=0;const tt=new Array(Le);for(D=0;D<Le;D++)tt[D]=0;for(D=re;D<=F;D++){const Ue=m[D];if(xe>=Le){V(Ue,E,h,!0);continue}let Fe;if(Ue.key!=null)Fe=he.get(Ue.key);else for(Ce=pe;Ce<=ee;Ce++)if(tt[Ce-pe]===0&&Ts(Ue,b[Ce])){Fe=Ce;break}Fe===void 0?V(Ue,E,h,!0):(tt[Fe-pe]=D+1,Fe>=$e?$e=Fe:Ke=!0,O(Ue,b[Fe],Y,null,E,h,T,v,$),xe++)}const He=Ke?iu(tt):Wt;for(Ce=He.length-1,D=Le-1;D>=0;D--){const Ue=pe+D,Fe=b[Ue],kt=b[Ue+1],wt=Ue+1<Z?kt.el||kt.placeholder:K;tt[D]===0?O(null,Fe,Y,wt,E,h,T,v,$):Ke&&(Ce<0||D!==He[Ce]?U(Fe,Y,wt,2):Ce--)}}},U=(m,b,Y,K,E=null)=>{const{el:h,type:T,transition:v,children:$,shapeFlag:D}=m;if(D&6){U(m.component.subTree,b,Y,K);return}if(D&128){m.suspense.move(b,Y,K);return}if(D&64){T.move(m,b,Y,S);return}if(T===Se){o(h,b,Y);for(let F=0;F<$.length;F++)U($[F],b,Y,K);o(m.anchor,b,Y);return}if(T===sn){H(m,b,Y);return}if(K!==2&&D&1&&v)if(K===0)v.beforeEnter(h),o(h,b,Y),ot(()=>v.enter(h),E);else{const{leave:F,delayLeave:ee,afterLeave:re}=v,pe=()=>{m.ctx.isUnmounted?s(h):o(h,b,Y)},he=()=>{h._isLeaving&&h[vd](!0),F(h,()=>{pe(),re&&re()})};ee?ee(h,pe,he):he()}else o(h,b,Y)},V=(m,b,Y,K=!1,E=!1)=>{const{type:h,props:T,ref:v,children:$,dynamicChildren:D,shapeFlag:Z,patchFlag:F,dirs:ee,cacheIndex:re}=m;if(F===-2&&(E=!1),v!=null&&(ht(),Ss(v,null,Y,m,!0),mt()),re!=null&&(b.renderCache[re]=void 0),Z&256){b.ctx.deactivate(m);return}const pe=Z&1&&ee,he=!ns(m);let Ce;if(he&&(Ce=T&&T.onVnodeBeforeUnmount)&&Et(Ce,b,m),Z&6)Ae(m.component,Y,K);else{if(Z&128){m.suspense.unmount(Y,K);return}pe&&Bt(m,null,b,"beforeUnmount"),Z&64?m.type.remove(m,b,Y,S,K):D&&!D.hasOnce&&(h!==Se||F>0&&F&64)?ye(D,b,Y,!1,!0):(h===Se&&F&384||!E&&Z&16)&&ye($,b,Y),K&&Q(m)}(he&&(Ce=T&&T.onVnodeUnmounted)||pe)&&ot(()=>{Ce&&Et(Ce,b,m),pe&&Bt(m,null,b,"unmounted")},Y)},Q=m=>{const{type:b,el:Y,anchor:K,transition:E}=m;if(b===Se){ce(Y,K);return}if(b===sn){M(m);return}const h=()=>{s(Y),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(m.shapeFlag&1&&E&&!E.persisted){const{leave:T,delayLeave:v}=E,$=()=>T(Y,h);v?v(m.el,h,$):$()}else h()},ce=(m,b)=>{let Y;for(;m!==b;)Y=g(m),s(m),m=Y;s(b)},Ae=(m,b,Y)=>{const{bum:K,scope:E,job:h,subTree:T,um:v,m:$,a:D}=m;Co($),Co(D),K&&Us(K),E.stop(),h&&(h.flags|=8,V(T,m,b,Y)),v&&ot(v,b),ot(()=>{m.isUnmounted=!0},b)},ye=(m,b,Y,K=!1,E=!1,h=0)=>{for(let T=h;T<m.length;T++)V(m[T],b,Y,K,E)},ie=m=>{if(m.shapeFlag&6)return ie(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const b=g(m.anchor||m.el),Y=b&&b[Od];return Y?g(Y):b};let w=!1;const C=(m,b,Y)=>{m==null?b._vnode&&V(b._vnode,null,null,!0):O(b._vnode||null,m,b,null,null,null,Y),b._vnode=m,w||(w=!0,Gi(),Vi(),w=!1)},S={p:O,um:V,m:U,r:Q,mt:se,mc:le,pc:P,pbc:j,n:ie,o:e};return{render:C,hydrate:void 0,createApp:jd(C)}}function Jn({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Kt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function go(e,t,n=!1){const o=e.children,s=t.children;if(me(o)&&me(s))for(let a=0;a<o.length;a++){const l=o[a];let d=s[a];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=s[a]=Ft(s[a]),d.el=l.el),!n&&d.patchFlag!==-2&&go(l,d)),d.type===tn&&d.patchFlag!==-1&&(d.el=l.el),d.type===Nt&&!d.el&&(d.el=l.el)}}function iu(e){const t=e.slice(),n=[0];let o,s,a,l,d;const p=e.length;for(o=0;o<p;o++){const _=e[o];if(_!==0){if(s=n[n.length-1],e[s]<_){t[o]=s,n.push(o);continue}for(a=0,l=n.length-1;a<l;)d=a+l>>1,e[n[d]]<_?a=d+1:l=d;_<e[n[a]]&&(a>0&&(t[o]=n[a-1]),n[a]=o)}}for(a=n.length,l=n[a-1];a-- >0;)n[a]=l,l=t[l];return n}function So(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:So(t)}function Co(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ou=Symbol.for("v-scx"),au=()=>Zs(ou);function De(e,t,n){return Eo(e,t,n)}function Eo(e,t,n=Me){const{immediate:o,deep:s,flush:a,once:l}=n,d=ze({},n),p=t&&o||!t&&a!=="post";let _;if(Os){if(a==="sync"){const R=au();_=R.__watcherHandles||(R.__watcherHandles=[])}else if(!p){const R=()=>{};return R.stop=ft,R.resume=ft,R.pause=ft,R}}const f=et;d.call=(R,k,O)=>gt(R,f,k,O);let c=!1;a==="post"?d.scheduler=R=>{ot(R,f&&f.suspense)}:a!=="sync"&&(c=!0,d.scheduler=(R,k)=>{k?R():Yn(R)}),d.augmentJob=R=>{t&&(R.flags|=4),c&&(R.flags|=2,f&&(R.id=f.uid,R.i=f))};const g=gd(e,t,d);return Os&&(_?_.push(g):p&&g()),g}function ru(e,t,n){const o=this.proxy,s=Ye(e)?e.includes(".")?bo(o,e):()=>o[e]:e.bind(o,o);let a;be(t)?a=t:(a=t.handler,n=t);const l=ys(this),d=Eo(s,a.bind(o),n);return l(),d}function bo(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}const lu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${$t(t)}Modifiers`]||e[`${Ut(t)}Modifiers`];function cu(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||Me;let s=n;const a=t.startsWith("update:"),l=a&&lu(o,t.slice(7));l&&(l.trim&&(s=n.map(f=>Ye(f)?f.trim():f)),l.number&&(s=n.map(Ds)));let d,p=o[d=An(t)]||o[d=An($t(t))];!p&&a&&(p=o[d=An(Ut(t))]),p&&gt(p,e,6,s);const _=o[d+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,gt(_,e,6,s)}}const du=new WeakMap;function Ao(e,t,n=!1){const o=n?du:t.emitsCache,s=o.get(e);if(s!==void 0)return s;const a=e.emits;let l={},d=!1;if(!be(e)){const p=_=>{const f=Ao(_,t,!0);f&&(d=!0,ze(l,f))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!d?(Ie(e)&&o.set(e,null),null):(me(a)?a.forEach(p=>l[p]=null):ze(l,a),Ie(e)&&o.set(e,l),l)}function en(e,t){return!e||!ws(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,Ut(t))||ve(e,t))}function TR(){}function To(e){const{type:t,vnode:n,proxy:o,withProxy:s,propsOptions:[a],slots:l,attrs:d,emit:p,render:_,renderCache:f,props:c,data:g,setupState:R,ctx:k,inheritAttrs:O}=e,N=Ws(e);let A,W;try{if(n.shapeFlag&4){const M=s||o,L=M;A=Ct(_.call(L,M,f,c,R,g,k)),W=d}else{const M=t;A=Ct(M.length>1?M(c,{attrs:d,slots:l,emit:p}):M(c,null)),W=t.props?d:uu(d)}}catch(M){bs.length=0,js(M,e,1),A=Ve(Nt)}let H=A;if(W&&O!==!1){const M=Object.keys(W),{shapeFlag:L}=H;M.length&&L&7&&(a&&M.some(Cn)&&(W=pu(W,a)),H=os(H,W,!1,!0))}return n.dirs&&(H=os(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(n.dirs):n.dirs),n.transition&&Xn(H,n.transition),A=H,Ws(N),A}const uu=e=>{let t;for(const n in e)(n==="class"||n==="style"||ws(n))&&((t||(t={}))[n]=e[n]);return t},pu=(e,t)=>{const n={};for(const o in e)(!Cn(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function _u(e,t,n){const{props:o,children:s,component:a}=e,{props:l,children:d,patchFlag:p}=t,_=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return o?yo(o,l,_):!!l;if(p&8){const f=t.dynamicProps;for(let c=0;c<f.length;c++){const g=f[c];if(l[g]!==o[g]&&!en(_,g))return!0}}}else return(s||d)&&(!d||!d.$stable)?!0:o===l?!1:o?l?yo(o,l,_):!0:!!l;return!1}function yo(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const a=o[s];if(t[a]!==e[a]&&!en(n,a))return!0}return!1}function fu({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=n,t=t.parent;else break}}const Oo=e=>e.__isSuspense;function hu(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):yd(e)}const Se=Symbol.for("v-fgt"),tn=Symbol.for("v-txt"),Nt=Symbol.for("v-cmt"),sn=Symbol.for("v-stc"),bs=[];let at=null;function y(e=!1){bs.push(at=e?null:[])}function mu(){bs.pop(),at=bs[bs.length-1]||null}let As=1;function Ro(e,t=!1){As+=e,e<0&&at&&t&&(at.hasOnce=!0)}function vo(e){return e.dynamicChildren=As>0?at||Wt:null,mu(),As>0&&at&&at.push(e),e}function x(e,t,n,o,s,a){return vo(i(e,t,n,o,s,a,!0))}function lt(e,t,n,o,s){return vo(Ve(e,t,n,o,s,!0))}function Wn(e){return e?e.__v_isVNode===!0:!1}function Ts(e,t){return e.type===t.type&&e.key===t.key}const xo=({key:e})=>e!=null?e:null,nn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ye(e)||Je(e)||be(e)?{i:qe,r:e,k:t,f:!!n}:e:null);function i(e,t=null,n=null,o=0,s=null,a=e===Se?0:1,l=!1,d=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xo(t),ref:t&&nn(t),scopeId:Bi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:qe};return d?(qn(p,n),a&128&&e.normalize(p)):n&&(p.shapeFlag|=Ye(n)?8:16),As>0&&!l&&at&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&at.push(p),p}const Ve=gu;function gu(e,t=null,n=null,o=0,s=null,a=!1){if((!e||e===Ld)&&(e=Nt),Wn(e)){const d=os(e,t,!0);return n&&qn(d,n),As>0&&!a&&at&&(d.shapeFlag&6?at[at.indexOf(e)]=d:at.push(d)),d.patchFlag=-2,d}if(Iu(e)&&(e=e.__vccOpts),t){t=Su(t);let{class:d,style:p}=t;d&&!Ye(d)&&(t.class=Pe(d)),Ie(p)&&(Dn(p)&&!me(p)&&(p=ze({},p)),t.style=Lt(p))}const l=Ye(e)?1:Oo(e)?128:Rd(e)?64:Ie(e)?4:be(e)?2:0;return i(e,t,n,o,s,l,a,!0)}function Su(e){return e?Dn(e)||co(e)?ze({},e):e:null}function os(e,t,n=!1,o=!1){const{props:s,ref:a,patchFlag:l,children:d,transition:p}=e,_=t?Eu(s||{},t):s,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&xo(_),ref:t&&t.ref?n&&a?me(a)?a.concat(nn(t)):[a,nn(t)]:nn(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&os(e.ssContent),ssFallback:e.ssFallback&&os(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&o&&Xn(f,p.clone(f)),f}function Be(e=" ",t=0){return Ve(tn,null,e,t)}function Cu(e,t){const n=Ve(sn,null,e);return n.staticCount=t,n}function Te(e="",t=!1){return t?(y(),lt(Nt,null,e)):Ve(Nt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?Ve(Nt):me(e)?Ve(Se,null,e.slice()):Wn(e)?Ft(e):Ve(tn,null,String(e))}function Ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:os(e)}function qn(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(me(t))n=16;else if(typeof t=="object")if(o&65){const s=t.default;s&&(s._c&&(s._d=!1),qn(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!co(t)?t._ctx=qe:s===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:qe},n=32):(t=String(t),o&64?(n=16,t=[Be(t)]):n=8);e.children=t,e.shapeFlag|=n}function Eu(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const s in o)if(s==="class")t.class!==o.class&&(t.class=Pe([t.class,o.class]));else if(s==="style")t.style=Lt([t.style,o.style]);else if(ws(s)){const a=t[s],l=o[s];l&&a!==l&&!(me(a)&&a.includes(l))&&(t[s]=a?[].concat(a,l):l)}else s!==""&&(t[s]=o[s])}return t}function Et(e,t,n,o=null){gt(e,t,7,[n,o])}const bu=ao();let Au=0;function Tu(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||bu,a={uid:Au++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Vc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:po(o,s),emitsOptions:Ao(o,s),emit:null,emitted:null,propsDefaults:Me,inheritAttrs:o.inheritAttrs,ctx:Me,data:Me,props:Me,attrs:Me,slots:Me,refs:Me,setupState:Me,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=cu.bind(null,a),e.ce&&e.ce(a),a}let et=null;const yu=()=>et||qe;let on,zn;{const e=Ls(),t=(n,o)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(o),a=>{s.length>1?s.forEach(l=>l(a)):s[0](a)}};on=t("__VUE_INSTANCE_SETTERS__",n=>et=n),zn=t("__VUE_SSR_SETTERS__",n=>Os=n)}const ys=e=>{const t=et;return on(e),e.scope.on(),()=>{e.scope.off(),on(t)}},No=()=>{et&&et.scope.off(),on(null)};function Po(e){return e.vnode.shapeFlag&4}let Os=!1;function Ou(e,t=!1,n=!1){t&&zn(t);const{props:o,children:s}=e.vnode,a=Po(e);Wd(e,o,a,t),Zd(e,s,n||t);const l=a?Ru(e,t):void 0;return t&&zn(!1),l}function Ru(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xd);const{setup:o}=n;if(o){ht();const s=e.setupContext=o.length>1?xu(e):null,a=ys(e),l=es(o,e,0,[e.props,s]),d=di(l);if(mt(),a(),(d||e.sp)&&!ns(e)&&ji(e),d){if(l.then(No,No),t)return l.then(p=>{Mo(e,p)}).catch(p=>{js(p,e,0)});e.asyncDep=l}else Mo(e,l)}else Io(e)}function Mo(e,t,n){be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ie(t)&&(e.setupState=Di(t)),Io(e)}function Io(e,t,n){const o=e.type;e.render||(e.render=o.render||ft);{const s=ys(e);ht();try{Fd(e)}finally{mt(),s()}}}const vu={get(e,t){return We(e,"get",""),e[t]}};function xu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,vu),slots:e.slots,emit:e.emit,expose:t}}function an(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Di(dd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Cs)return Cs[n](e)},has(t,n){return n in t||n in Cs}})):e.proxy}const Nu=/(?:^|[-_])\w/g,Pu=e=>e.replace(Nu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Mu(e,t=!0){return be(e)?e.displayName||e.name:e.name||t&&e.__name}function ko(e,t,n=!1){let o=Mu(t);if(!o&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(o=s[1])}if(!o&&e&&e.parent){const s=a=>{for(const l in a)if(a[l]===t)return l};o=s(e.components||e.parent.type.components)||s(e.appContext.components)}return o?Pu(o):n?"App":"Anonymous"}function Iu(e){return be(e)&&"__vccOpts"in e}const ge=(e,t)=>hd(e,t,Os),ku="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qn;const wo=typeof window!="undefined"&&window.trustedTypes;if(wo)try{Qn=wo.createPolicy("vue",{createHTML:e=>e})}catch(e){}const $o=Qn?e=>Qn.createHTML(e):e=>e,wu="http://www.w3.org/2000/svg",$u="http://www.w3.org/1998/Math/MathML",Pt=typeof document!="undefined"?document:null,Uo=Pt&&Pt.createElement("template"),Uu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const s=t==="svg"?Pt.createElementNS(wu,e):t==="mathml"?Pt.createElementNS($u,e):n?Pt.createElement(e,{is:n}):Pt.createElement(e);return e==="select"&&o&&o.multiple!=null&&s.setAttribute("multiple",o.multiple),s},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,s,a){const l=n?n.previousSibling:t.lastChild;if(s&&(s===a||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{Uo.innerHTML=$o(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const d=Uo.content;if(o==="svg"||o==="mathml"){const p=d.firstChild;for(;p.firstChild;)d.appendChild(p.firstChild);d.removeChild(p)}t.insertBefore(d,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Du=Symbol("_vtc");function Lu(e,t,n){const o=e[Du];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const rn=Symbol("_vod"),Do=Symbol("_vsh"),Yu={name:"show",beforeMount(e,{value:t},{transition:n}){e[rn]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Rs(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),Rs(e,!0),o.enter(e)):o.leave(e,()=>{Rs(e,!1)}):Rs(e,t))},beforeUnmount(e,{value:t}){Rs(e,t)}};function Rs(e,t){e.style.display=t?e[rn]:"none",e[Do]=!t}const Xu=Symbol(""),Fu=/(?:^|;)\s*display\s*:/;function Gu(e,t,n){const o=e.style,s=Ye(n);let a=!1;if(n&&!s){if(t)if(Ye(t))for(const l of t.split(";")){const d=l.slice(0,l.indexOf(":")).trim();n[d]==null&&ln(o,d,"")}else for(const l in t)n[l]==null&&ln(o,l,"");for(const l in n)l==="display"&&(a=!0),ln(o,l,n[l])}else if(s){if(t!==n){const l=o[Xu];l&&(n+=";"+l),o.cssText=n,a=Fu.test(n)}}else t&&e.removeAttribute("style");rn in e&&(e[rn]=a?o.display:"",e[Do]&&(o.display="none"))}const Lo=/\s*!important$/;function ln(e,t,n){if(me(n))n.forEach(o=>ln(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Vu(e,t);Lo.test(n)?e.setProperty(Ut(o),n.replace(Lo,""),"important"):e[o]=n}}const Yo=["Webkit","Moz","ms"],Zn={};function Vu(e,t){const n=Zn[t];if(n)return n;let o=$t(t);if(o!=="filter"&&o in e)return Zn[t]=o;o=_i(o);for(let s=0;s<Yo.length;s++){const a=Yo[s]+o;if(a in e)return Zn[t]=a}return t}const Xo="http://www.w3.org/1999/xlink";function Fo(e,t,n,o,s,a=Fc(t)){o&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Xo,t.slice(6,t.length)):e.setAttributeNS(Xo,t,n):n==null||a&&!mi(n)?e.removeAttribute(t):e.setAttribute(t,a?"":ct(n)?String(n):n)}function Go(e,t,n,o,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?$o(n):n);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const d=a==="OPTION"?e.getAttribute("value")||"":e.value,p=n==null?e.type==="checkbox"?"on":"":String(n);(d!==p||!("_value"in e))&&(e.value=p),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=mi(n):n==null&&d==="string"?(n="",l=!0):d==="number"&&(n=0,l=!0)}try{e[t]=n}catch(d){}l&&e.removeAttribute(s||t)}function Gt(e,t,n,o){e.addEventListener(t,n,o)}function Hu(e,t,n,o){e.removeEventListener(t,n,o)}const Vo=Symbol("_vei");function Bu(e,t,n,o,s=null){const a=e[Vo]||(e[Vo]={}),l=a[t];if(o&&l)l.value=o;else{const[d,p]=Ku(t);if(o){const _=a[t]=Wu(o,s);Gt(e,d,_,p)}else l&&(Hu(e,d,l,p),a[t]=void 0)}}const Ho=/(?:Once|Passive|Capture)$/;function Ku(e){let t;if(Ho.test(e)){t={};let o;for(;o=e.match(Ho);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ut(e.slice(2)),t]}let ei=0;const ju=Promise.resolve(),Ju=()=>ei||(ju.then(()=>ei=0),ei=Date.now());function Wu(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;gt(qu(o,n.value),t,5,[o])};return n.value=e,n.attached=Ju(),n}function qu(e,t){if(me(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o&&o(s))}else return t}const Bo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zu=(e,t,n,o,s,a)=>{const l=s==="svg";t==="class"?Lu(e,o,l):t==="style"?Gu(e,n,o):ws(t)?Cn(t)||Bu(e,t,n,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qu(e,t,o,l))?(Go(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Fo(e,t,o,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ye(o))?Go(e,$t(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Fo(e,t,o,l))};function Qu(e,t,n,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Bo(t)&&be(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Bo(t)&&Ye(n)?!1:t in e}const as=e=>{const t=e.props["onUpdate:modelValue"]||!1;return me(t)?n=>Us(t,n):t};function Zu(e){e.target.composing=!0}function Ko(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mt=Symbol("_assign"),de={created(e,{modifiers:{lazy:t,trim:n,number:o}},s){e[Mt]=as(s);const a=o||s.props&&s.props.type==="number";Gt(e,t?"change":"input",l=>{if(l.target.composing)return;let d=e.value;n&&(d=d.trim()),a&&(d=Ds(d)),e[Mt](d)}),n&&Gt(e,"change",()=>{e.value=e.value.trim()}),t||(Gt(e,"compositionstart",Zu),Gt(e,"compositionend",Ko),Gt(e,"change",Ko))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:o,trim:s,number:a}},l){if(e[Mt]=as(l),e.composing)return;const d=(a||e.type==="number")&&!/^0\d/.test(e.value)?Ds(e.value):e.value,p=t==null?"":t;d!==p&&(document.activeElement===e&&e.type!=="range"&&(o&&t===n||s&&e.value.trim()===p)||(e.value=p))}},It={deep:!0,created(e,t,n){e[Mt]=as(n),Gt(e,"change",()=>{const o=e._modelValue,s=vs(e),a=e.checked,l=e[Mt];if(me(o)){const d=Tn(o,s),p=d!==-1;if(a&&!p)l(o.concat(s));else if(!a&&p){const _=[...o];_.splice(d,1),l(_)}}else if(zt(o)){const d=new Set(o);a?d.add(s):d.delete(s),l(d)}else l(Wo(e,a))})},mounted:jo,beforeUpdate(e,t,n){e[Mt]=as(n),jo(e,t,n)}};function jo(e,{value:t,oldValue:n},o){e._modelValue=t;let s;if(me(t))s=Tn(t,o.props.value)>-1;else if(zt(t))s=t.has(o.props.value);else{if(t===n)return;s=ds(t,Wo(e,!0))}e.checked!==s&&(e.checked=s)}const bt={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const s=zt(t);Gt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?Ds(vs(l)):vs(l));e[Mt](e.multiple?s?new Set(a):a:a[0]),e._assigning=!0,Xi(()=>{e._assigning=!1})}),e[Mt]=as(o)},mounted(e,{value:t}){Jo(e,t)},beforeUpdate(e,t,n){e[Mt]=as(n)},updated(e,{value:t}){e._assigning||Jo(e,t)}};function Jo(e,t){const n=e.multiple,o=me(t);if(!(n&&!o&&!zt(t))){for(let s=0,a=e.options.length;s<a;s++){const l=e.options[s],d=vs(l);if(n)if(o){const p=typeof d;p==="string"||p==="number"?l.selected=t.some(_=>String(_)===String(d)):l.selected=Tn(t,d)>-1}else l.selected=t.has(d);else if(ds(vs(l),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function vs(e){return"_value"in e?e._value:e.value}function Wo(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ep=["ctrl","shift","alt","meta"],tp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ep.some(n=>e[`${n}Key`]&&!t.includes(n))},ut=(e,t)=>{const n=e._withMods||(e._withMods={}),o=t.join(".");return n[o]||(n[o]=(s,...a)=>{for(let l=0;l<t.length;l++){const d=tp[t[l]];if(d&&d(s,t))return}return e(s,...a)})},sp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jt=(e,t)=>{const n=e._withKeys||(e._withKeys={}),o=t.join(".");return n[o]||(n[o]=s=>{if(!("key"in s))return;const a=Ut(s.key);if(t.some(l=>l===a||sp[l]===a))return e(s)})},np=ze({patchProp:zu},Uu);let qo;function ip(){return qo||(qo=tu(np))}const op=(...e)=>{const t=ip().createApp(...e),{mount:n}=t;return t.mount=o=>{const s=rp(o);if(!s)return;const a=t._component;!be(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,ap(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t};function ap(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function rp(e){return Ye(e)?document.querySelector(e):e}const At=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},lp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},cp={key:0,class:"nxp-ec-admin-error"},dp={class:"nxp-ec-admin-error__title"},up={class:"nxp-ec-admin-error__body"};function pp(e,t,n,o,s,a){return y(),x("div",null,[s.error?(y(),x("div",cp,[i("h2",dp,u(a.fallbackTitle),1),i("p",up,u(a.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>a.reload&&a.reload(...l))},u(a.reloadLabel),1)])):Yd(e.$slots,"default",{key:1})])}const _p=At(lp,[["render",pp]]),fp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},hp={class:"nxp-ec-admin-panel__header"},mp={class:"nxp-ec-admin-panel__title"},gp={class:"nxp-ec-admin-panel__lead"},Sp={class:"nxp-ec-admin-panel__actions"},Cp=["disabled"],Ep={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bp={key:1,class:"nxp-ec-dashboard"},Ap={class:"nxp-ec-dashboard__metrics"},Tp={class:"nxp-ec-dashboard__card"},yp={class:"nxp-ec-dashboard__value"},Op={class:"nxp-ec-dashboard__hint"},Rp={class:"nxp-ec-dashboard__card"},vp={class:"nxp-ec-dashboard__value"},xp={class:"nxp-ec-dashboard__hint"},Np={class:"nxp-ec-dashboard__card"},Pp={class:"nxp-ec-dashboard__value"},Mp={class:"nxp-ec-dashboard__hint"},Ip={class:"nxp-ec-dashboard__card"},kp={class:"nxp-ec-dashboard__value"},wp={class:"nxp-ec-dashboard__hint"},$p={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Up={class:"nxp-ec-dashboard__checklist-header"},Dp={id:"dashboard-checklist-heading"},Lp={class:"nxp-ec-dashboard__checklist-progress"},Yp={class:"nxp-ec-dashboard__checklist-list"},Xp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Fp={key:0,class:"fa-solid fa-circle-check"},Gp={key:1,class:"fa-regular fa-circle"},Vp={class:"nxp-ec-dashboard__checklist-label"},Hp=["href","title"],Bp={class:"nxp-ec-sr-only"},Kp=At({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const n=e,o=n.translate,s=n.state,a=ge(()=>{var c;const f=(c=s.summary)==null?void 0:c.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),l=(f=0)=>{const c=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(c)}catch(g){return`${a.value} ${c.toFixed(2)}`}},d=ge(()=>Array.isArray(s.checklist)?s.checklist:[]),p=ge(()=>d.value.filter(f=>f.completed).length),_=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,c)=>(y(),x("section",fp,[i("header",hp,[i("div",null,[i("h2",mp,u(r(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",gp,u(r(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Sp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:c[0]||(c[0]=g=>f.$emit("refresh")),disabled:r(s).loading},u(r(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,Cp)])]),r(s).error?(y(),x("div",Ep,u(r(s).error),1)):(y(),x("div",bp,[i("div",Ap,[i("article",Tp,[i("h3",null,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",yp,u(r(s).summary.products.active),1),i("p",Op,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(s).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Rp,[i("h3",null,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",vp,u(l(r(s).summary.orders.revenue_today)),1),i("p",xp,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(s).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",Np,[i("h3",null,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",Pp,u(r(s).summary.customers.total),1),i("p",Mp,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Ip,[i("h3",null,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",kp,u(l(r(s).summary.orders.revenue_month)),1),i("p",wp,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),i("section",$p,[i("header",Up,[i("h3",Dp,u(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Lp,u(p.value)+" / "+u(d.value.length),1)]),i("ul",Yp,[(y(!0),x(Se,null,Oe(d.value,g=>(y(),x("li",{key:g.id,class:Pe({"is-complete":g.completed})},[i("span",Xp,[g.completed?(y(),x("span",Fp)):(y(),x("span",Gp))]),i("span",Vp,u(r(o)(g.label,_(g.label))),1),g.link?(y(),x("a",{key:0,href:g.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",Bp,u(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Hp)):Te("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-59cce8c1"]]),jp={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Jp={id:"nxp-ec-products-caption",class:"visually-hidden"},Wp={scope:"col"},qp={scope:"col"},zp={scope:"col"},Qp={scope:"col"},Zp={scope:"col"},e_={scope:"col"},t_={scope:"col"},s_={scope:"col"},n_={scope:"col",class:"nxp-ec-admin-table__actions"},i_={key:0},o_={colspan:"8",class:"nxp-ec-admin-table__empty"},a_={class:"nxp-ec-products-table__title"},r_={class:"nxp-ec-products-table__slug"},l_={key:0,class:"nxp-ec-products-table__badge"},c_={class:"nxp-ec-status nxp-ec-status--featured"},d_={key:0},u_={key:1},p_={key:0},__={key:1},f_=["disabled","aria-pressed","title","aria-label","onClick"],h_={class:"nxp-ec-sr-only"},m_={class:"nxp-ec-admin-table__actions"},g_=["onClick","title","aria-label"],S_={class:"nxp-ec-sr-only"},C_=["onClick","title","aria-label"],E_={class:"nxp-ec-sr-only"},ti=1,xs=-1,si=0,b_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,n=t.translate,o=ge(()=>(t.baseCurrency||"USD").toUpperCase()),s=(f,c=!1)=>{const g=Number(f);if(Number.isFinite(g))return g===xs?xs:g===si?si:ti;if(c)return xs;if(typeof f=="string"){const R=f.trim().toLowerCase();if(R==="out_of_stock"||R==="out-of-stock"||R==="-1")return xs;if(R==="inactive"||R==="0")return si}return ti},a=f=>{var k;const c=s((k=f==null?void 0:f.status)!=null?k:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),g=c===ti,R=c===xs;return{status:c,isActive:g,isOutOfStock:R,label:g?n("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):R?n("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):n("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:g?"nxp-ec-status--active":R?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:g?"fa-solid fa-circle-check":R?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:n("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},l=f=>{var O,N,A,W;const c=(N=(O=f==null?void 0:f.summary)==null?void 0:O.variants)!=null?N:{};if(c.multiple_currencies)return n("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const g=Number.isFinite(c.price_min_cents)?c.price_min_cents:null,R=Number.isFinite(c.price_max_cents)?c.price_max_cents:null;if(g===null)return"";const k=c.currency||((W=(A=f==null?void 0:f.variants)==null?void 0:A[0])==null?void 0:W.currency)||o.value;return R===null||R===g?_(g,k):`${_(g,k)}  ${_(R,k)}`},d=f=>{var R,k;const c=(k=(R=f==null?void 0:f.summary)==null?void 0:R.variants)!=null?k:{},g=Number.isFinite(c.count)?c.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return g===1?n("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):n("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(g)])},p=f=>{if(!Array.isArray(f)||!f.length)return"";const c=f.map(k=>(k==null?void 0:k.title)||(k==null?void 0:k.slug)).filter(k=>!!k);if(!c.length)return"";if(c.length<=3)return c.join(", ");const g=c.slice(0,3).join(", "),R=c.length-3;return`${g} ${n("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(R)])}`},_=(f,c)=>`${(f/100).toFixed(2)} ${c}`;return(f,c)=>(y(),x("table",jp,[i("caption",Jp,u(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",Wp,u(r(n)("JGRID_HEADING_ID","ID")),1),i("th",qp,u(r(n)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",zp,u(r(n)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",Qp,u(r(n)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",Zp,u(r(n)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",e_,u(r(n)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",t_,u(r(n)("JSTATUS","Status")),1),i("th",s_,u(r(n)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",n_,u(r(n)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?Te("",!0):(y(),x("tr",i_,[i("td",o_,u(r(n)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(y(!0),x(Se,null,Oe(e.items,g=>{var R,k,O,N,A,W,H,M,L,oe,ae,le;return y(),x("tr",{key:g.id},[i("td",null,u(g.id),1),i("td",null,[i("div",a_,u(g.title),1),i("div",r_,u(g.slug),1),g.featured?(y(),x("div",l_,[i("span",c_,[c[0]||(c[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):Te("",!0)]),i("td",null,[l(g)?(y(),x("span",d_,u(l(g)),1)):(y(),x("span",u_,u(r(n)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))]),i("td",null,u(d(g)),1),i("td",null,[i("span",{class:Pe(["nxp-ec-status",(k=(R=g.summary)==null?void 0:R.variants)!=null&&k.stock_zero?"nxp-ec-status--danger":(N=(O=g.summary)==null?void 0:O.variants)!=null&&N.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(W=(A=g.summary)==null?void 0:A.variants)!=null&&W.stock_zero||((M=(H=g.summary)==null?void 0:H.variants)==null?void 0:M.stock_total)===0?(y(),x(Se,{key:0},[Be(u(r(n)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(y(),x(Se,{key:1},[Be(u(r(n)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ae=(oe=(L=g.summary)==null?void 0:L.variants)==null?void 0:oe.stock_total)!=null?ae:0)])),1)],64))],2)]),i("td",null,[(le=g.categories)!=null&&le.length?(y(),x("span",p_,u(p(g.categories)),1)):(y(),x("span",__,u(r(n)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))]),i("td",null,[i("button",{type:"button",class:Pe(["nxp-ec-status","nxp-ec-status-button",a(g).className]),disabled:e.saving,"aria-pressed":a(g).isActive?"true":"false",title:a(g).title,"aria-label":a(g).title,onClick:fe=>f.$emit("toggle-active",g)},[i("i",{class:Pe(a(g).icon),"aria-hidden":"true"},null,2),Be(" "+u(a(g).label)+" ",1),i("span",h_,u(r(n)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,f_)]),i("td",null,u(g.modified||g.created),1),i("td",m_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:fe=>f.$emit("edit",g),title:r(n)("JGLOBAL_EDIT","Edit"),"aria-label":r(n)("JGLOBAL_EDIT","Edit")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",S_,u(r(n)("JGLOBAL_EDIT","Edit")),1)],8,g_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:fe=>f.$emit("delete",g),title:r(n)("JTRASH","Delete"),"aria-label":r(n)("JTRASH","Delete")},[c[2]||(c[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",E_,u(r(n)("JTRASH","Delete")),1)],8,C_)])])}),128))])]))}},A_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},T_={class:"nxp-ec-modal__dialog"},y_={class:"nxp-ec-modal__header"},O_={class:"nxp-ec-modal__title"},R_={class:"nxp-ec-modal__header-actions"},v_=["disabled","title","aria-label"],x_={class:"nxp-ec-sr-only"},N_=["disabled","title","aria-label"],P_={class:"nxp-ec-sr-only"},M_=["aria-label"],I_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},k_={class:"nxp-ec-form-field"},w_={class:"nxp-ec-form-label",for:"product-title"},$_={class:"nxp-ec-form-field"},U_={class:"nxp-ec-form-label",for:"product-slug"},D_=["placeholder"],L_={class:"nxp-ec-form-field"},Y_={class:"nxp-ec-form-label",for:"product-short-desc"},X_={class:"nxp-ec-form-field"},F_={class:"nxp-ec-form-label",for:"product-long-desc"},G_={class:"nxp-ec-form-field"},V_={class:"nxp-ec-form-label",for:"product-status"},H_={value:1},B_={value:-1},K_={value:0},j_={class:"nxp-ec-form-help"},J_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},W_={class:"nxp-ec-form-label",for:"product-featured"},q_={class:"nxp-ec-form-help"},z_={class:"nxp-ec-form-field"},Q_={class:"nxp-ec-form-label",for:"product-images"},Z_={id:"product-images",class:"nxp-ec-image-list"},ef=["id","onUpdate:modelValue","placeholder"],tf={class:"nxp-ec-image-row__actions"},sf=["onClick"],nf=["onClick","disabled"],of=["onClick","disabled"],af=["onClick","aria-label"],rf={class:"nxp-ec-form-help"},lf={class:"nxp-ec-form-field"},cf={class:"nxp-ec-form-label",for:"product-category-select"},df=["value"],uf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},pf=["onClick","aria-label"],_f={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},ff=["onKeydown","placeholder"],hf={class:"nxp-ec-form-help"},mf={class:"nxp-ec-variant-section"},gf={class:"nxp-ec-variant-section__header"},Sf={class:"nxp-ec-variant-section__title"},Cf={class:"nxp-ec-form-help"},Ef={class:"nxp-ec-variant-card__header"},bf={class:"nxp-ec-variant-card__title"},Af=["onClick"],Tf=["onClick","disabled"],yf={class:"nxp-ec-variant-card__grid"},Of={class:"nxp-ec-form-field"},Rf=["for"],vf=["id","onUpdate:modelValue"],xf={class:"nxp-ec-form-field"},Nf=["for"],Pf=["id","onUpdate:modelValue","onBlur"],Mf={class:"nxp-ec-form-field"},If=["for"],kf=["id","onUpdate:modelValue"],wf={class:"nxp-ec-form-help"},$f={class:"nxp-ec-form-field"},Uf=["for"],Df=["id","onUpdate:modelValue"],Lf={class:"nxp-ec-form-field"},Yf=["for"],Xf=["id","onUpdate:modelValue"],Ff={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Gf=["for"],Vf=["id","onUpdate:modelValue"],Hf={class:"nxp-ec-variant-options"},Bf={class:"nxp-ec-variant-options__header"},Kf={class:"nxp-ec-variant-options__title"},jf=["onClick"],Jf={class:"nxp-ec-form-help"},Wf=["id","onUpdate:modelValue","placeholder"],qf=["id","onUpdate:modelValue","placeholder"],zf=["onClick","aria-label"],Qf={class:"nxp-ec-modal__actions"},Zf=["disabled"],eh=["disabled"],zo="product-editor-form",th=At({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,o=t,s=n.translate,a=ge(()=>(n.baseCurrency||"USD").toUpperCase()),l=E=>{var h,T,v,$,D,Z,F,ee;if(E==null)return null;if(typeof E=="string"){const re=E.trim();return re===""?null:{id:0,title:re,slug:""}}if(typeof E=="object"){const re=Number.parseInt((T=(h=E.id)!=null?h:E.value)!=null?T:0,10)||0,pe=(F=(Z=(D=($=(v=E.title)!=null?v:E.name)!=null?$:E.text)!=null?D:E.label)!=null?Z:E.slug)!=null?F:"",he=String(pe!=null?pe:"").trim(),Ce=String((ee=E.slug)!=null?ee:"").trim();return re<=0&&he===""?null:{id:re>0?re:0,title:he!==""?he:Ce,slug:Ce}}return null},d=E=>{const h=Number(E);if(Number.isFinite(h))return h===-1?-1:h===0?0:1;if(typeof E=="string"){const T=E.trim().toLowerCase();if(T==="out_of_stock"||T==="out-of-stock"||T==="-1")return-1;if(T==="inactive"||T==="0")return 0}return 1},p=we({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),_=Ge(""),f=Ge(!1),c=ge(()=>{const h=(Array.isArray(n.categoryOptions)?n.categoryOptions:[]).map(l).filter(v=>v&&v.id>0&&v.title!==""),T=new Map;return h.forEach(v=>{T.set(v.id,v)}),p.categories.forEach(v=>{var $;v.id>0&&v.title&&!T.has(v.id)&&T.set(v.id,{id:v.id,title:v.title,slug:($=v.slug)!=null?$:""})}),Array.from(T.values()).sort((v,$)=>v.title.localeCompare($.title))}),g=ge(()=>{const E=new Map;return c.value.forEach(h=>{var T;E.set(h.id,{title:h.title,slug:(T=h.slug)!=null?T:""})}),E}),R=ge({get:()=>p.categories.filter(E=>E.id>0).map(E=>E.id),set:E=>{const h=Array.isArray(E)?E:[],T=Array.from(new Set(h.map(D=>Number.parseInt(D!=null?D:0,10)||0).filter(D=>D>0))),v=p.categories.filter(D=>!(D.id>0)),$=T.map(D=>{const Z=g.value.get(D),F=p.categories.find(pe=>pe.id===D),ee=(Z==null?void 0:Z.title)||(F==null?void 0:F.title)||"",re=(Z==null?void 0:Z.slug)||(F==null?void 0:F.slug)||"";return ee===""?null:{id:D,title:ee,slug:re}}).filter(D=>D!==null);p.categories.splice(0,p.categories.length,...$,...v)}}),k=ge(()=>n.product&&n.product.id?"edit":"create"),O=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),N=()=>({name:"",value:""}),A=E=>E?E.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",W=()=>{f.value=!0,p.slug=A(p.slug)},H=E=>{const T=(Array.isArray(E)?E:[]).map(l).filter(D=>D&&(D.id>0||D.title!=="")),v=new Set,$=[];T.forEach(D=>{const Z=D.id>0?`id:${D.id}`:`title:${D.title.toLowerCase()}`;v.has(Z)||(v.add(Z),$.push(D))}),p.categories.splice(0,p.categories.length,...$)},M=E=>{p.variants.splice(0,p.variants.length,...E)},L=E=>{p.images.splice(0,p.images.length,...E)},oe=E=>Array.isArray(E)?E.map(h=>{var T,v,$;return{name:String((v=(T=h==null?void 0:h.name)!=null?T:h==null?void 0:h.key)!=null?v:"").trim(),value:String(($=h==null?void 0:h.value)!=null?$:"").trim()}}):E&&typeof E=="object"?Object.entries(E).map(([h,T])=>({name:String(h!=null?h:"").trim(),value:String(T!=null?T:"").trim()})):[],ae=E=>!Array.isArray(E)||E.length===0?[O()]:E.map(h=>{var T,v,$,D;return{id:Number.parseInt((T=h==null?void 0:h.id)!=null?T:0,10)||0,sku:String((v=h==null?void 0:h.sku)!=null?v:"").trim(),price:(h==null?void 0:h.price)!=null?String(h.price):Number.isFinite(h==null?void 0:h.price_cents)?(h.price_cents/100).toFixed(2):"",currency:String(($=h==null?void 0:h.currency)!=null?$:a.value).toUpperCase(),stock:Number.parseInt((D=h==null?void 0:h.stock)!=null?D:0,10)||0,weight:(h==null?void 0:h.weight)!=null?String(h.weight):"",active:(h==null?void 0:h.active)!==void 0?!!h.active:!0,options:oe(h==null?void 0:h.options)}}),le=E=>{var $,D,Z,F;const h=E?JSON.parse(JSON.stringify(E)):{};p.title=($=h.title)!=null?$:"",p.slug=(D=h.slug)!=null?D:"",p.short_desc=(Z=h.short_desc)!=null?Z:"",p.long_desc=(F=h.long_desc)!=null?F:"",p.status=d(h.status!==void 0?h.status:h.active),p.featured=h.featured!==void 0?!!h.featured:!1;const T=Array.isArray(h.images)?h.images.map(ee=>String(ee!=null?ee:"").trim()).filter(Boolean):[];L(T);const v=Array.isArray(h.categories)?h.categories:[];H(v),_.value="",M(ae(h.variants)),f.value=!!p.slug};De(()=>n.product,E=>{le(E)},{immediate:!0}),De(()=>p.title,E=>{f.value||(p.slug=A(E))}),De(a,E=>{p.variants.forEach(h=>{h.currency=E})});const fe=()=>{const E=_.value.trim();if(!E)return;const h=E.toLowerCase(),T=p.categories.slice();T.some($=>$.title.toLowerCase()===h)||(T.push({id:0,title:E,slug:""}),p.categories.splice(0,p.categories.length,...T)),_.value=""},j=E=>{if(E<0||E>=p.categories.length)return;const h=p.categories.slice();h.splice(E,1),p.categories.splice(0,p.categories.length,...h)},B=()=>{p.variants.push(O())},q=E=>{p.variants.length<=1||p.variants.splice(E,1)},G=E=>{const h=p.variants[E];h&&(Array.isArray(h.options)||(h.options=[]),h.options.push(N()))},se=(E,h)=>{const T=p.variants[E];!T||!Array.isArray(T.options)||T.options.splice(h,1)},ue=(E,h)=>`${E.id||"new"}-${h}`,ne=E=>{const h=p.variants[E];if(!h)return;const T=JSON.parse(JSON.stringify(h));T.id=0,T.sku=[T.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),T.active=!0,p.variants.splice(E+1,0,T)},z=E=>{const h=p.variants[E];if(!h)return;const T=Number.parseFloat(h.price);Number.isNaN(T)||(h.price=T.toFixed(2))};let P=null,I=null,X=null,U=null,V="";const Q=()=>{Array.isArray(p.images)||(p.images=[])},ce=E=>{var $,D,Z;if(!E)return"";let h=String(E).trim();if(h==="")return"";try{const F=(Z=(D=($=window.Joomla)==null?void 0:$.getOptions)==null?void 0:D.call($,"system.paths",{}))!=null?Z:{},ee=F.rootFull||window.location.origin,re=F.root||"/";h.startsWith(ee)&&(h=h.substring(ee.length)),h.startsWith(re)&&(h=h.substring(re.length))}catch(F){}const T=h.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);T&&T[1]&&(h=T[1]);const v=h.indexOf("#joomlaImage://");return v!==-1&&(h=h.substring(0,v)),h.trim()},Ae=(E,{keepIndex:h=!1,appendWhenNoIndex:T=!1,targetIndex:v=null}={})=>{const $=ce(E);if($==="")return!1;Q();const D=v!==null&&v>=0?v:U;return D==null||Number.isNaN(D)?T?(p.images.push($),h||(U=null,V=""),!0):!1:(D>=p.images.length?p.images.push($):p.images[D]=$,V=h?$:"",h||(U=null,V=""),!0)},ye=()=>{Q(),p.images.push("")},ie=E=>{Q(),p.images.splice(E,1)},w=(E,h)=>{Q();const T=p.images[E];if(T===void 0)return;const v=E+h;v<0||v>=p.images.length||(p.images.splice(E,1),p.images.splice(v,0,T))},C=E=>{var v;Q();const h=(v=p.images[E])!=null?v:"";if(typeof window=="undefined")return;const T=window.prompt(s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),h);Ae(T!=null?T:"",{targetIndex:E})},S=()=>{var D,Z,F,ee,re,pe;const E=(n.mediaModalUrl||"").trim();if(E!=="")return E;const h=(F=(Z=(D=window.Joomla)==null?void 0:D.getOptions)==null?void 0:Z.call(D,"media-picker",{}))!=null?F:{};if(h.modalUrl)return h.modalUrl;const T=(pe=(re=(ee=window.Joomla)==null?void 0:ee.getOptions)==null?void 0:re.call(ee,"system.paths",{}))!=null?pe:{},v=T.rootFull||T.root||"";return(v?v.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},Ee=async()=>{var F,ee,re,pe,he,Ce,xe,Le,Ke;if(P)return P;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch($e){return null}const E=(re=(ee=(F=window.Joomla)==null?void 0:F.getOptions)==null?void 0:ee.call(F,"system.paths",{}))!=null?re:{},h=E.rootFull||E.root||"",T=(Ce=(he=(pe=window.Joomla)==null?void 0:pe.getOptions)==null?void 0:he.call(pe,"com_media",{}))!=null?Ce:{},v=(T==null?void 0:T.file_path)||"images",$=(Ke=(Le=(xe=window.Joomla)==null?void 0:xe.getOptions)==null?void 0:Le.call(xe,"media-picker",{}))!=null?Ke:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},Z=s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return I=document.createElement("div"),I.className="nxp-ec-media-picker-host",I.style.display="none",I.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${h.replace(/"/g,"&quot;")}"
            root-folder="${v.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${Z}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify($).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(I),P=I.querySelector("joomla-field-media"),X=I.querySelector(".nxp-ec-media-field__input"),P.addEventListener("change",$e=>{var Ue,Fe,kt,wt,Jt,_n;const tt=(kt=(Fe=(Ue=$e.detail)==null?void 0:Ue.value)!=null?Fe:X==null?void 0:X.value)!=null?kt:"";let He=ce(tt);if(He===""&&V!==""&&(He=V),He===""&&((wt=window.Joomla)!=null&&wt.selectedMediaFile)){const oi=ce((Jt=window.Joomla.selectedMediaFile.url)!=null?Jt:""),fn=ce((_n=window.Joomla.selectedMediaFile.path)!=null?_n:"");He=oi||fn}Ae(He)}),P.addEventListener("joomla-dialog:close",()=>{U=null,V=""}),X&&X.addEventListener("change",()=>{var tt,He,Ue,Fe;if(U===null)return;let $e=ce((tt=X.value)!=null?tt:"");if($e===""&&V!==""&&($e=V),$e===""&&((He=window.Joomla)!=null&&He.selectedMediaFile)){const kt=ce((Ue=window.Joomla.selectedMediaFile.url)!=null?Ue:""),wt=ce((Fe=window.Joomla.selectedMediaFile.path)!=null?Fe:"");$e=kt||wt}$e!==""&&Ae($e)}),P},m=E=>{var D,Z;const h=E==null?void 0:E.detail;if(!h||typeof h!="object")return;const T=ce((D=h.path)!=null?D:""),$=ce((Z=h.url)!=null?Z:"")||T;$===""||U===null||(V=$,Ae($,{keepIndex:!0}))};it(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",m)});const b=async E=>{var v;Q();const h=await Ee();if(!h||typeof h.show!="function"){C(E);return}U=E,h.setAttribute("url",S());const T=(v=p.images[E])!=null?v:"";typeof h.setValue=="function"?h.setValue(T):X&&(X.value=T);try{h.show()}catch($){U=null,V="",C(E)}};zi(()=>{I&&I.parentNode&&I.parentNode.removeChild(I),P=null,I=null,X=null,U=null,V="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",m)});const Y=()=>{var D,Z;Q();const E=Array.from(new Set(p.images.map(F=>String(F!=null?F:"").trim()).filter(F=>F!==""))),h=p.categories.map(F=>{var he,Ce,xe;const ee=Number.parseInt((he=F==null?void 0:F.id)!=null?he:0,10)||0,re=String((Ce=F==null?void 0:F.title)!=null?Ce:"").trim(),pe=String((xe=F==null?void 0:F.slug)!=null?xe:"").trim();return ee>0?{id:ee,title:re,slug:pe}:re===""?null:{id:0,title:re,slug:""}}).filter(F=>F!==null),T=p.variants.map(F=>{const ee=Array.isArray(F.options)?F.options.map(he=>{var Ce,xe;return{name:String((Ce=he==null?void 0:he.name)!=null?Ce:"").trim(),value:String((xe=he==null?void 0:he.value)!=null?xe:"").trim()}}).filter(he=>he.name!==""&&he.value!==""):[],re=Number.isFinite(Number(F.stock))?Math.max(0,parseInt(F.stock,10)):0,pe=F.weight!==null&&F.weight!==""?String(F.weight).trim():null;return{id:F.id||0,sku:F.sku.trim(),price:F.price!==null&&F.price!==void 0?String(F.price).trim():"",currency:F.currency?String(F.currency).trim().toUpperCase():a.value,stock:re,weight:pe,active:!!F.active,options:ee}}),v=d(p.status),$={title:p.title.trim(),slug:p.slug.trim(),short_desc:(D=p.short_desc)!=null?D:"",long_desc:(Z=p.long_desc)!=null?Z:"",status:v,active:v,featured:!!p.featured,images:E,categories:h,variants:T};o("submit",$)},K=()=>{o("cancel")};return De(()=>n.saving,(E,h)=>{h&&!E&&n.errors.length===0&&k.value==="create"&&(le(null),_.value="",f.value=!1)}),(E,h)=>e.open?(y(),x("div",A_,[h[10]||(h[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",T_,[i("header",y_,[i("h2",O_,u(k.value==="edit"?r(s)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",R_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:K,disabled:e.saving,title:r(s)("JCANCEL","Cancel"),"aria-label":r(s)("JCANCEL","Cancel")},[h[8]||(h[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",x_,u(r(s)("JCANCEL","Cancel")),1)],8,v_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:zo,title:e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save"),"aria-label":e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save")},[i("i",{class:Pe(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",P_,u(e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save")),1)],8,N_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:K,"aria-label":r(s)("JCLOSE","Close")},"  ",8,M_)])]),i("form",{id:zo,class:"nxp-ec-form",onSubmit:ut(Y,["prevent"])},[e.errors.length?(y(),x("div",I_,[(y(!0),x(Se,null,Oe(e.errors,(T,v)=>(y(),x("p",{key:v},u(T),1))),128))])):Te("",!0),i("div",k_,[i("label",w_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),te(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[0]||(h[0]=T=>p.title=T),required:""},null,512),[[de,p.title,void 0,{trim:!0}]])]),i("div",$_,[i("label",U_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),te(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[1]||(h[1]=T=>p.slug=T),onInput:W,placeholder:r(s)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,D_),[[de,p.slug,void 0,{trim:!0}]])]),i("div",L_,[i("label",Y_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),te(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":h[2]||(h[2]=T=>p.short_desc=T)},null,512),[[de,p.short_desc]])]),i("div",X_,[i("label",F_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),te(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":h[3]||(h[3]=T=>p.long_desc=T)},null,512),[[de,p.long_desc]])]),i("div",G_,[i("label",V_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),te(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":h[4]||(h[4]=T=>p.status=T)},[i("option",H_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",B_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",K_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[bt,p.status,void 0,{number:!0}]]),i("p",j_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",J_,[i("label",W_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),te(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":h[5]||(h[5]=T=>p.featured=T)},null,512),[[It,p.featured]]),i("p",q_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",z_,[i("label",Q_,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",Z_,[(y(!0),x(Se,null,Oe(p.images,(T,v)=>(y(),x("div",{key:`product-image-${v}`,class:"nxp-ec-image-row"},[te(i("input",{id:`product-image-${v}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$=>p.images[v]=$,placeholder:r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,ef),[[de,p.images[v],void 0,{trim:!0}]]),i("div",tf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:$=>b(v)},[h[9]||(h[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,sf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>w(v,-1),disabled:v===0},u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,nf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>w(v,1),disabled:v===p.images.length-1},u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,of),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:$=>ie(v),"aria-label":r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},u(r(s)("COM_NXPEASYCART_REMOVE","Remove")),9,af)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:ye},u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",rf,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",lf,[i("label",cf,u(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),te(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":h[6]||(h[6]=T=>R.value=T)},[(y(!0),x(Se,null,Oe(c.value,T=>(y(),x("option",{key:T.id,value:T.id},u(T.title),9,df))),128))],512),[[bt,R.value]]),i("div",uf,[(y(!0),x(Se,null,Oe(p.categories,(T,v)=>(y(),x("span",{key:`selected-category-${v}`,class:"nxp-ec-chip"},[Be(u(T.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:$=>j(v),"aria-label":r(s)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,pf)]))),128))]),i("div",_f,[te(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":h[7]||(h[7]=T=>_.value=T),onKeydown:jt(ut(fe,["prevent"]),["enter"]),placeholder:r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,ff),[[de,_.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:fe},u(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",hf,u(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",mf,[i("header",gf,[i("h3",Sf,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:B},u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",Cf,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price and currency.")),1),(y(!0),x(Se,null,Oe(p.variants,(T,v)=>(y(),x("article",{key:ue(T,v),class:"nxp-ec-variant-card"},[i("header",Ef,[i("h4",bf,u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(v+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>ne(v)},u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Af),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:$=>q(v),disabled:p.variants.length<=1},u(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,Tf)]),i("div",yf,[i("div",Of,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${v}`},u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Rf),te(i("input",{id:`variant-sku-${v}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$=>T.sku=$,required:""},null,8,vf),[[de,T.sku,void 0,{trim:!0}]])]),i("div",xf,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${v}`},u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Nf),te(i("input",{id:`variant-price-${v}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$=>T.price=$,onBlur:$=>z(v),required:""},null,40,Pf),[[de,T.price,void 0,{trim:!0}]])]),i("div",Mf,[i("label",{class:"nxp-ec-form-label",for:`variant-currency-${v}`},u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY","Currency")),9,If),te(i("input",{id:`variant-currency-${v}`,class:"nxp-ec-form-input",type:"text",maxlength:"3","onUpdate:modelValue":$=>T.currency=$,readonly:"","aria-readonly":"true"},null,8,kf),[[de,T.currency,void 0,{trim:!0}]]),i("p",wf,u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_HELP","Variants inherit the store base currency (%s).",[a.value])),1)]),i("div",$f,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${v}`},u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Uf),te(i("input",{id:`variant-stock-${v}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":$=>T.stock=$},null,8,Df),[[de,T.stock,void 0,{number:!0}]])]),i("div",Lf,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${v}`},u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,Yf),te(i("input",{id:`variant-weight-${v}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":$=>T.weight=$},null,8,Xf),[[de,T.weight,void 0,{trim:!0}]])]),i("div",Ff,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${v}`},u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,Gf),te(i("input",{id:`variant-active-${v}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":$=>T.active=$},null,8,Vf),[[It,T.active]])])]),i("section",Hf,[i("header",Bf,[i("h5",Kf,u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>G(v)},u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,jf)]),i("p",Jf,u(r(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(y(!0),x(Se,null,Oe(T.options,($,D)=>(y(),x("div",{key:`variant-${v}-option-${D}`,class:"nxp-ec-variant-option-row"},[te(i("input",{id:`variant-${v}-option-name-${D}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Z=>$.name=Z,placeholder:r(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,Wf),[[de,$.name,void 0,{trim:!0}]]),te(i("input",{id:`variant-${v}-option-value-${D}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Z=>$.value=Z,placeholder:r(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,qf),[[de,$.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Z=>se(v,D),"aria-label":r(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},u(r(s)("COM_NXPEASYCART_REMOVE","Remove")),9,zf)]))),128))])]))),128))]),i("footer",Qf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:K,disabled:e.saving},u(r(s)("JCANCEL","Cancel")),9,Zf),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},u(e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save")),9,eh)])],32)])])):Te("",!0)}},[["__scopeId","data-v-99bc4a39"]]),sh={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},nh={key:1,class:"nxp-ec-skeleton__table"},ih={key:2,class:"nxp-ec-skeleton__card"},oh={key:3,class:"nxp-ec-skeleton__circle"};function ah(e,t,n,o,s,a){return y(),x("div",{class:Pe(["nxp-ec-skeleton",a.skeletonClasses])},[n.type==="text"?(y(),x("div",{key:0,class:"nxp-ec-skeleton__line",style:Lt({width:n.width})},null,4)):n.type==="table"?(y(),x("div",nh,[(y(!0),x(Se,null,Oe(n.rows,l=>(y(),x("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(y(!0),x(Se,null,Oe(n.columns,d=>(y(),x("div",{key:d,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):n.type==="card"?(y(),x("div",ih,[...t[0]||(t[0]=[Cu('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):n.type==="circle"?(y(),x("div",oh)):(y(),x("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Lt({width:n.width,height:n.height})},null,4))],2)}const Ns=At(sh,[["render",ah],["__scopeId","data-v-c8b9a887"]]),rh={class:"nxp-ec-admin-panel"},lh={class:"nxp-ec-admin-panel__header"},ch={class:"nxp-ec-admin-panel__title"},dh={class:"nxp-ec-admin-panel__lead"},uh={class:"nxp-ec-admin-panel__actions"},ph=["placeholder","aria-label"],_h=["disabled","title","aria-label"],fh={class:"nxp-ec-sr-only"},hh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mh={key:1,class:"nxp-ec-admin-panel__body"},gh={key:2,class:"nxp-ec-admin-panel__body"},Sh=["title"],Ps=1,rs=-1,cn=0,Ch={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const n=e,o=t,s=n.translate,a=we({mode:"create",product:null}),l=Ge(!1),d=ge(()=>(n.baseCurrency||"USD").toUpperCase()),p=ge(()=>a.product),_=ge(()=>(n.mediaModalUrl||"").trim()),f=(L,oe=!1)=>{const ae=Number(L);if(Number.isFinite(ae))return ae===rs?rs:ae===cn?cn:Ps;if(oe)return rs;if(typeof L=="string"){const le=L.trim().toLowerCase();if(le==="out_of_stock"||le==="out-of-stock"||le==="-1")return rs;if(le==="inactive"||le==="0")return cn}return Ps},c=(L,oe=!1)=>{const ae=f(L,oe);return ae===Ps?rs:ae===rs?cn:Ps},g=()=>{n.state.validationErrors=[],n.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",status:Ps,active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},R=L=>{n.state.validationErrors=[],n.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(L)),l.value=!0},k=()=>{l.value=!1,n.state.validationErrors=[]},O=async L=>{var le,fe;const oe=f((le=L.status)!=null?le:L.active,L.out_of_stock),ae={...L,status:oe,active:oe,featured:L.featured?1:0};a.mode==="edit"&&((fe=a.product)!=null&&fe.id)?o("update",{id:a.product.id,data:ae}):o("create",ae)},N=async L=>{var le;const oe=(le=L==null?void 0:L.title)!=null?le:"",ae=s("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[oe||"#"]);window.confirm(ae)&&o("delete",[L.id])},A=L=>{var q;if(!(L!=null&&L.id)||n.state.saving)return;const oe=c((q=L.status)!=null?q:L.active,L.out_of_stock),ae=G=>G==null?"":String(G),le=(G,se=0)=>{const ue=Number(G);return Number.isFinite(ue)?ue:se},fe=Array.isArray(L.variants)?L.variants.map(G=>{var I,X;if(!G)return null;const se=ae(G.sku).trim();if(!se)return null;let ue=le(G.price_cents,Number.NaN);if(!Number.isFinite(ue)){const U=ae(G.price),V=U?Number.parseFloat(U):NaN;ue=Number.isFinite(V)?Math.round(V*100):NaN}if(!Number.isFinite(ue))return null;const ne=ae((I=G.currency)!=null?I:d.value).trim().toUpperCase();if(!ne)return null;const z=(X=G.options)!=null?X:null,P=Math.max(0,Math.round(le(G.stock,0)));return{id:le(G.id,0),sku:se,price_cents:Math.round(ue),currency:ne,stock:P,options:z!=null?z:null,weight:G.weight!==null&&G.weight!==void 0&&G.weight!==""?String(G.weight):null,active:G.active===void 0?!0:!!G.active}}).filter(Boolean):[];if(!fe.length){n.state.error=s("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const j=Array.isArray(L.categories)?L.categories.map(G=>{if(G==null)return null;if(typeof G=="number")return G>0?{id:G,title:"",slug:""}:null;if(typeof G=="string"&&G.trim()!==""&&Number.isFinite(Number(G))){const ue=Number(G);return ue>0?{id:ue,title:"",slug:""}:null}if(typeof G=="object"){if(G.id){const ne=le(G.id,0);return ne>0?{id:ne,title:"",slug:""}:null}return le(G.id,0)<=0&&!G.title?null:{id:0,title:ae(G.title),slug:ae(G.slug)}}const se=ae(G).trim();return se?{id:0,title:se,slug:""}:null}).filter(Boolean):[],B=Array.isArray(L.images)?L.images.map(G=>ae(G).trim()).map(G=>{var z,P,I;let se=G;if(!se)return"";const ue=se.indexOf("#joomlaImage://");ue!==-1&&(se=se.substring(0,ue));const ne=se.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(ne&&ne[1]&&(se=ne[1]),typeof window!="undefined")try{const X=(I=(P=(z=window.Joomla)==null?void 0:z.getOptions)==null?void 0:P.call(z,"system.paths",{}))!=null?I:{},U=X.rootFull||window.location.origin,V=X.root||"/";se.startsWith(U)&&(se=se.substring(U.length)),se.startsWith(V)&&(se=se.substring(V.length))}catch(X){}return se.trim()}).filter(G=>G!==""):[];n.state.error="",o("update",{id:L.id,data:{title:ae(L.title),slug:ae(L.slug),short_desc:ae(L.short_desc),long_desc:ae(L.long_desc),status:oe,active:oe,featured:L.featured?1:0,images:B,variants:fe,categories:j}})},W=()=>{o("refresh")},H=()=>{o("search")},M=L=>{if(!L)return"";try{const oe=new Date(L),le=new Date-oe,fe=Math.floor(le/1e3),j=Math.floor(fe/60),B=Math.floor(j/60);return fe<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):j<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[j]):B<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[B]):oe.toLocaleString()}catch(oe){return L}};return De(()=>n.state.saving,(L,oe)=>{oe&&!L&&l.value&&!n.state.validationErrors.length&&!n.state.error&&k()}),(L,oe)=>(y(),x("section",rh,[i("header",lh,[i("div",null,[i("h2",ch,u(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",dh,u(r(s)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",uh,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":oe[0]||(oe[0]=ae=>e.state.search=ae),onKeyup:jt(H,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,ph),[[de,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:W,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[oe[1]||(oe[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",fh,u(r(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,_h),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:g},[oe[2]||(oe[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(y(),x("div",hh,u(e.state.error),1)):e.state.loading?(y(),x("div",mh,[Ve(Ns,{type:"table",rows:5,columns:5})])):(y(),x("div",gh,[Ve(b_,{items:e.state.items,translate:r(s),"base-currency":d.value,saving:e.state.saving,onEdit:R,onDelete:N,onToggleActive:A},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(M(e.state.lastUpdated)),9,Sh)):Te("",!0)])),Ve(th,{open:l.value,product:p.value,saving:e.state.saving,"base-currency":d.value,translate:r(s),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":_.value,onSubmit:O,onCancel:k},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Eh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},bh={class:"nxp-ec-admin-panel__header"},Ah={class:"nxp-ec-admin-panel__title"},Th={class:"nxp-ec-admin-panel__lead"},yh={class:"nxp-ec-admin-panel__actions"},Oh=["placeholder","aria-label"],Rh=["disabled","title","aria-label"],vh={class:"nxp-ec-sr-only"},xh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Nh={key:1,class:"nxp-ec-admin-panel__body"},Ph={key:2,class:"nxp-ec-admin-panel__body"},Mh={class:"nxp-ec-admin-panel__table"},Ih={class:"nxp-ec-admin-table"},kh={scope:"col"},wh={scope:"col"},$h={scope:"col"},Uh={scope:"col"},Dh={scope:"col"},Lh={key:0},Yh={colspan:"6"},Xh={scope:"row"},Fh={class:"nxp-ec-admin-table__actions"},Gh=["onClick","title","aria-label"],Vh={class:"nxp-ec-sr-only"},Hh=["disabled","onClick","title","aria-label"],Bh={class:"nxp-ec-sr-only"},Kh={key:0,class:"nxp-ec-admin-pagination"},jh=["disabled"],Jh={class:"nxp-ec-admin-pagination__status"},Wh=["disabled"],qh=["title"],zh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Qh={class:"nxp-ec-modal__dialog"},Zh={class:"nxp-ec-modal__header"},em={class:"nxp-ec-modal__title"},tm=["title","aria-label"],sm={class:"nxp-ec-sr-only"},nm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},im={class:"nxp-ec-form-field"},om={class:"nxp-ec-form-label",for:"category-title"},am={class:"nxp-ec-form-field"},rm={class:"nxp-ec-form-label",for:"category-slug"},lm={class:"nxp-ec-form-field"},cm={class:"nxp-ec-form-label",for:"category-parent"},dm={value:""},um=["value"],pm={class:"nxp-ec-form-field"},_m={class:"nxp-ec-form-label",for:"category-sort"},fm={class:"nxp-ec-modal__actions"},hm=["disabled"],mm={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,o=t,s=n.translate,a=Ge(!1),l=Ge(!1),d=Ge([]),p=j=>{const q=(Array.isArray(j)?j:[]).map(U=>{var V,Q,ce,Ae,ye;return{...U,id:Number.parseInt((V=U==null?void 0:U.id)!=null?V:0,10)||0,parent_id:(U==null?void 0:U.parent_id)!=null&&Number.parseInt(U.parent_id,10)||0,sort:Number.parseInt((Q=U==null?void 0:U.sort)!=null?Q:0,10)||0,title:String((ce=U==null?void 0:U.title)!=null?ce:"").trim(),slug:String((Ae=U==null?void 0:U.slug)!=null?Ae:"").trim(),usage:(ye=U==null?void 0:U.usage)!=null?ye:0}}).filter(U=>U.id>0||U.title!==""),G=new Set(q.map(U=>U.id));q.forEach(U=>{G.has(U.parent_id)||(U.parent_id=0)});const se=new Map,ue=new Map;q.forEach(U=>{ue.set(U.id,U);const V=U.parent_id||0;se.has(V)||se.set(V,[]),se.get(V).push(U)});const ne=U=>U.sort((V,Q)=>{var ce,Ae;return((ce=V.sort)!=null?ce:0)-((Ae=Q.sort)!=null?Ae:0)||V.title.localeCompare(Q.title,void 0,{sensitivity:"base"})});se.forEach(ne);const z=new Set,P=[],I=(U,V,Q)=>{if(!U||z.has(U.id)||Q.includes(U.id))return;const ce=[...Q],Ae=ce.map(w=>{var C;return(C=ue.get(w))==null?void 0:C.title}).filter(Boolean),ye={...U,depth:V,path:Ae.join(" / "),ancestors:ce,indentedTitle:V>0?`${" ".repeat(V)}${U.title}`:U.title};P.push(ye),z.add(U.id),(se.get(U.id)||[]).forEach(w=>I(w,V+1,[...Q,U.id]))},X=q.filter(U=>U.parent_id===0||!G.has(U.parent_id));return ne(X),X.forEach(U=>I(U,0,[])),q.forEach(U=>{z.has(U.id)||I(U,0,[])}),P},_=ge(()=>{var j,B;return p((B=(j=n.state)==null?void 0:j.items)!=null?B:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),c=we(f()),g=ge(()=>{var B,q;const j=(q=Array.isArray(d.value)&&d.value.length?d.value:(B=n.state)==null?void 0:B.items)!=null?q:[];return p(j).filter(G=>G.id>0&&G.id!==c.id&&!(Array.isArray(G.ancestors)&&G.ancestors.includes(c.id))).map(G=>({id:G.id,title:G.title,label:G.depth>0?`${" ".repeat(G.depth)}${G.title}`:G.title}))}),R=()=>{Object.assign(c,f()),l.value=!1},k=j=>j?j.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",O=()=>{l.value=!0,c.slug=k(c.slug)};De(()=>c.title,j=>{l.value||(c.slug=k(j))});const N=async(j=0)=>{if(typeof n.loadOptions!="function"){d.value=Array.isArray(n.state.items)?[...n.state.items]:[];return}try{const B=await n.loadOptions();d.value=Array.isArray(B)?[...B]:[]}catch(B){d.value=[]}d.value=d.value.filter(B=>{var G,se;return(Number.parseInt((se=(G=B==null?void 0:B.id)!=null?G:B==null?void 0:B.value)!=null?se:0,10)||0)!==j})},A=async()=>{R(),await N(),a.value=!0},W=async j=>{var B,q,G,se;j&&(c.id=Number.parseInt((B=j.id)!=null?B:0,10)||0,c.title=String((q=j.title)!=null?q:"").trim(),c.slug=String((G=j.slug)!=null?G:"").trim(),c.parent_id=j.parent_id!=null&&Number.parseInt(j.parent_id,10)||null,c.sort=Number.parseInt((se=j.sort)!=null?se:0,10)||0,l.value=!!c.slug,await N(c.id),a.value=!0)},H=()=>{a.value=!1,R()},M=()=>{o("refresh")},L=()=>{o("search")},oe=j=>{o("page",j)},ae=()=>{const j={id:c.id||void 0,title:c.title.trim(),slug:c.slug.trim(),parent_id:c.parent_id||null,sort:Number.isFinite(c.sort)?c.sort:0};o("save",j)},le=j=>{if(!j||!j.id)return;const B=s("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(B)||o("delete",[j.id])},fe=j=>{if(!j)return"";try{const B=new Date(j),G=new Date-B,se=Math.floor(G/1e3),ue=Math.floor(se/60),ne=Math.floor(ue/60);return se<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):ue<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[ue]):ne<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ne]):B.toLocaleString()}catch(B){return j}};return De(()=>{var j;return(j=n.state)==null?void 0:j.saving},(j,B)=>{var q,G,se;B&&!j&&(((G=(q=n.state)==null?void 0:q.validationErrors)!=null?G:[]).length>0||(se=n.state)!=null&&se.error||(a.value=!1,R()))}),(j,B)=>(y(),x("section",Eh,[i("header",bh,[i("div",null,[i("h2",Ah,u(r(s)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",Th,u(r(s)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",yh,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":B[0]||(B[0]=q=>e.state.search=q),onKeyup:jt(L,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Oh),[[de,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:M,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[B[7]||(B[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",vh,u(r(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Rh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:A},[B[8]||(B[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(y(),x("div",xh,u(e.state.error),1)):e.state.loading?(y(),x("div",Nh,[Ve(Ns,{type:"table",rows:5,columns:5})])):(y(),x("div",Ph,[i("div",Mh,[i("table",Ih,[i("thead",null,[i("tr",null,[i("th",kh,u(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",wh,u(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",$h,u(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Uh,u(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Dh,u(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),B[9]||(B[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Te("",!0):(y(),x("tr",Lh,[i("td",Yh,u(r(s)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(y(!0),x(Se,null,Oe(_.value,q=>{var G;return y(),x("tr",{key:q.id,class:Pe({"is-active":c.id===q.id})},[i("th",Xh,[i("span",{style:Lt({paddingLeft:`${q.depth*1.5}rem`})},u(q.indentedTitle),5)]),i("td",null,u(q.slug||""),1),i("td",null,u(q.path||r(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),i("td",null,u(q.sort),1),i("td",null,u((G=q.usage)!=null?G:0),1),i("td",Fh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:se=>W(q),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[B[10]||(B[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",Vh,u(r(s)("JEDIT","Edit")),1)],8,Gh),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:se=>le(q),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[B[11]||(B[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",Bh,u(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Hh)])],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",Kh,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:B[1]||(B[1]=q=>oe(e.state.pagination.current-1))},"  ",8,jh),i("span",Jh,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:B[2]||(B[2]=q=>oe(e.state.pagination.current+1))},"  ",8,Wh)])):Te("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(fe(e.state.lastUpdated)),9,qh)):Te("",!0),a.value?(y(),x("div",zh,[i("div",{class:"nxp-ec-modal__backdrop",onClick:H}),i("div",Qh,[i("header",Zh,[i("h3",em,u(c.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:H,title:r(s)("JCLOSE","Close"),"aria-label":r(s)("JCLOSE","Close")},[B[12]||(B[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",sm,u(r(s)("JCLOSE","Close")),1)],8,tm)]),i("form",{class:"nxp-ec-form",onSubmit:ut(ae,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(y(),x("div",nm,[i("ul",null,[(y(!0),x(Se,null,Oe(e.state.validationErrors,(q,G)=>(y(),x("li",{key:G},u(q),1))),128))])])):Te("",!0),i("div",im,[i("label",om,u(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),te(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[3]||(B[3]=q=>c.title=q),required:"",maxlength:"255"},null,512),[[de,c.title,void 0,{trim:!0}]])]),i("div",am,[i("label",rm,u(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),te(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[4]||(B[4]=q=>c.slug=q),maxlength:"190",onInput:O},null,544),[[de,c.slug,void 0,{trim:!0}]])]),i("div",lm,[i("label",cm,u(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),te(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":B[5]||(B[5]=q=>c.parent_id=q)},[i("option",dm,u(r(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(y(!0),x(Se,null,Oe(g.value,q=>(y(),x("option",{key:q.id,value:q.id},u(q.label),9,um))),128))],512),[[bt,c.parent_id,void 0,{number:!0}]])]),i("div",pm,[i("label",_m,u(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),te(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":B[6]||(B[6]=q=>c.sort=q),min:"0",step:"1"},null,512),[[de,c.sort,void 0,{number:!0}]])]),i("footer",fm,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[B[13]||(B[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,hm),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:H},[B[14]||(B[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):Te("",!0)]))]))}},gm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Sm={class:"nxp-ec-admin-panel__header"},Cm={class:"nxp-ec-admin-panel__title"},Em={class:"nxp-ec-admin-panel__lead"},bm={class:"nxp-ec-admin-panel__actions"},Am=["placeholder","aria-label"],Tm=["aria-label"],ym={value:""},Om=["value"],Rm=["disabled","title","aria-label"],vm={class:"nxp-ec-sr-only"},xm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Nm={key:1,class:"nxp-ec-admin-panel__body"},Pm={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},Mm={class:"nxp-ec-admin-panel__table"},Im={key:0,class:"nxp-ec-admin-panel__selection"},km=["aria-label"],wm={value:""},$m=["value"],Um=["disabled"],Dm=["title","aria-label"],Lm={class:"nxp-ec-sr-only"},Ym={class:"nxp-ec-admin-table"},Xm={scope:"col",class:"nxp-ec-admin-table__select"},Fm={scope:"col"},Gm={scope:"col"},Vm={scope:"col"},Hm={scope:"col"},Bm={scope:"col"},Km={scope:"col",class:"nxp-ec-admin-table__actions"},jm={key:0},Jm={colspan:"7"},Wm={class:"nxp-ec-admin-table__select"},qm=["checked","onChange","aria-label"],zm={scope:"row"},Qm=["onClick"],Zm={class:"nxp-ec-admin-table__meta"},eg={class:"nxp-ec-badge"},tg={class:"nxp-ec-admin-table__actions"},sg=["onUpdate:modelValue","aria-label"],ng=["value"],ig=["value"],og=["disabled","onClick"],ag={key:1,class:"nxp-ec-admin-pagination"},rg=["disabled"],lg={class:"nxp-ec-admin-pagination__status"},cg=["disabled"],dg=["title"],ug={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},pg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},_g={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},fg={class:"nxp-ec-admin-panel__sidebar-header"},hg=["title","aria-label"],mg={class:"nxp-ec-sr-only"},gg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Sg={class:"nxp-ec-admin-panel__section"},Cg={class:"nxp-ec-admin-list"},Eg={class:"nxp-ec-admin-list__title"},bg={class:"nxp-ec-admin-list__meta"},Ag={class:"nxp-ec-admin-panel__section"},Tg={class:"nxp-ec-admin-panel__total"},yg={class:"nxp-ec-admin-panel__section"},Og={class:"nxp-ec-admin-address"},Rg={class:"nxp-ec-admin-panel__section"},vg={key:0,class:"nxp-ec-admin-address"},xg={key:1,class:"nxp-ec-admin-panel__muted"},Ng={key:1,class:"nxp-ec-admin-panel__section"},Pg={class:"nxp-ec-admin-list"},Mg={class:"nxp-ec-admin-list__title"},Ig={class:"nxp-ec-admin-list__meta"},kg={class:"nxp-ec-admin-panel__section"},wg=["placeholder"],$g={class:"nxp-ec-admin-form__actions"},Ug=["disabled"],Dg={class:"nxp-ec-admin-panel__section"},Lg={key:0,class:"nxp-ec-admin-list"},Yg={class:"nxp-ec-admin-list__title"},Xg={class:"nxp-ec-admin-list__meta"},Fg={key:1,class:"nxp-ec-admin-panel__muted"},Gg=At({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note"],setup(e,{emit:t}){const n=e,o=t,s=n.translate,a=we({}),l=Ge(""),d=Ge(""),p=ge(()=>d.value.trim().length>0),_=ge(()=>{var I;const P=(I=n.state)==null?void 0:I.selection;return!P||typeof P.values!="function"?[]:Array.from(P.values())}),f=ge(()=>_.value.length>0);De(_,P=>{P.length||(l.value="")}),De(()=>{var P;return(P=n.state.activeOrder)==null?void 0:P.id},()=>{d.value=""}),De(()=>n.state.items,P=>{Array.isArray(P)&&P.forEach(I=>{!I||typeof I.id=="undefined"||a[I.id]||(a[I.id]=I.state)})},{immediate:!0});const c=(P,I)=>{const X=(Number(P)||0)/100,U=(I||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:U}).format(X)}catch(V){return`${U} ${X.toFixed(2)}`}},g=P=>{if(!P)return"";const I=new Date(P);return Number.isNaN(I.getTime())?P:I.toLocaleString()},R=P=>P===1?s("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):s("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(P)]),k=P=>{if(!P)return"";const I=`COM_NXPEASYCART_ORDERS_STATE_${String(P).toUpperCase()}`;return s(I,P)},O=P=>n.state.orderStates.filter(I=>I!==P.state),N=P=>(a[P.id]||P.state)!==P.state,A=P=>!P||typeof P!="object"?[]:Object.entries(P).filter(([,I])=>I!=null&&`${I}`.trim()!=="").map(([I,X])=>({key:I,value:`${X}`.trim()})),W=()=>{o("refresh")},H=()=>{o("search")},M=()=>{o("filter",n.state.filterState)},L=P=>{o("view",P)},oe=()=>{o("close")},ae=P=>{const I=a[P.id]||P.state;I!==P.state&&o("transition",{id:P.id,state:I})},le=P=>{o("page",P)},fe=P=>{var I,X,U,V;return(V=(U=(X=(I=n.state)==null?void 0:I.selection)==null?void 0:X.has)==null?void 0:U.call(X,P))!=null?V:!1},j=P=>{o("toggle-selection",P)},B=()=>{l.value="",o("clear-selection")},q=()=>{!f.value||!l.value||o("bulk-transition",{ids:[..._.value],state:l.value})},G=()=>{if(!n.state.activeOrder)return;const P=d.value.trim();P&&(o("add-note",{id:n.state.activeOrder.id,message:P}),d.value="")},se=ge(()=>s("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(_.value.length)],"ordersSelectedCount")),ue=P=>{var I,X,U,V,Q,ce,Ae,ye,ie,w,C,S;if(!P||!P.action)return"";switch(P.action){case"order.created":return s("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const Ee=k((X=(I=P.context)==null?void 0:I.from)!=null?X:""),m=k((V=(U=P.context)==null?void 0:U.to)!=null?V:"");return s("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[Ee||((Q=P.context)==null?void 0:Q.from)||"",m||((ce=P.context)==null?void 0:ce.to)||""],"ordersTimelineState")}case"order.note":return((Ae=P.context)==null?void 0:Ae.message)||s("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const Ee=((ye=P.context)==null?void 0:ye.gateway)||s("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),m=c((w=(ie=P.context)==null?void 0:ie.amount_cents)!=null?w:0,(S=(C=n.state)==null?void 0:C.activeOrder)==null?void 0:S.currency);return s("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[Ee,m],"ordersTimelinePaymentRecorded")}default:return P.action}},ne=P=>s(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(P.status||"").toUpperCase()}`,P.status||""),z=P=>{if(!P)return"";try{const I=new Date(P),U=new Date-I,V=Math.floor(U/1e3),Q=Math.floor(V/60),ce=Math.floor(Q/60);return V<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Q<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Q]):ce<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ce]):I.toLocaleString()}catch(I){return P}};return(P,I)=>(y(),x("section",gm,[i("header",Sm,[i("div",null,[i("h2",Cm,u(r(s)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",Em,u(r(s)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",bm,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":I[0]||(I[0]=X=>e.state.search=X),onKeyup:jt(H,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Am),[[de,e.state.search]]),te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":I[1]||(I[1]=X=>e.state.filterState=X),onChange:M,"aria-label":r(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",ym,"  "+u(r(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(y(!0),x(Se,null,Oe(e.state.orderStates,X=>(y(),x("option",{key:X,value:X},u(k(X)),9,Om))),128))],40,Tm),[[bt,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:W,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[I[6]||(I[6]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",vm,u(r(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Rm)])]),e.state.error?(y(),x("div",xm,u(e.state.error),1)):e.state.loading?(y(),x("div",Nm,[Ve(Ns,{type:"table",rows:5,columns:7})])):(y(),x("div",Pm,[i("div",Mm,[f.value?(y(),x("div",Im,[i("span",null,u(se.value),1),te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":I[2]||(I[2]=X=>l.value=X),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",wm,u(r(s)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(y(!0),x(Se,null,Oe(e.state.orderStates,X=>(y(),x("option",{key:`bulk-${X}`,value:X},u(k(X)),9,$m))),128))],8,km),[[bt,l.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!l.value||e.state.saving,onClick:q},[I[7]||(I[7]=i("i",{class:"fa-solid fa-check"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,Um),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:B,title:r(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[I[8]||(I[8]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",Lm,u(r(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,Dm)])):Te("",!0),i("table",Ym,[i("thead",null,[i("tr",null,[i("th",Xm,u(r(s)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",Fm,u(r(s)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",Gm,u(r(s)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",Vm,u(r(s)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",Hm,u(r(s)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",Bm,u(r(s)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",Km,u(r(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?Te("",!0):(y(),x("tr",jm,[i("td",Jm,u(r(s)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(y(!0),x(Se,null,Oe(e.state.items,X=>{var U,V,Q;return y(),x("tr",{key:X.id,class:Pe({"is-active":e.state.activeOrder&&e.state.activeOrder.id===X.id})},[i("td",Wm,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:fe(X.id),onChange:ce=>j(X.id),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,qm)]),i("th",zm,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:ce=>L(X)},u(X.order_no),9,Qm)]),i("td",null,[i("div",null,u(X.email),1),i("div",Zm,u(R((Q=X.items_count)!=null?Q:(V=(U=X.items)==null?void 0:U.length)!=null?V:0)),1)]),i("td",null,u(c(X.total_cents,X.currency)),1),i("td",null,[i("span",eg,u(k(X.state)),1)]),i("td",null,u(g(X.modified||X.created)),1),i("td",tg,[te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":ce=>a[X.id]=ce,"aria-label":r(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:X.state},u(k(X.state)),9,ng),(y(!0),x(Se,null,Oe(O(X),ce=>(y(),x("option",{key:ce,value:ce},u(k(ce)),9,ig))),128))],8,sg),[[bt,a[X.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!N(X),onClick:ce=>ae(X)},u(r(s)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,og)])],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",ag,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:I[3]||(I[3]=X=>le(e.state.pagination.current-1))},"  ",8,rg),i("span",lg,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:I[4]||(I[4]=X=>le(e.state.pagination.current+1))},"  ",8,cg)])):Te("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(z(e.state.lastUpdated)),9,dg)):Te("",!0),e.state.activeOrder?(y(),x("div",ug,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:oe}),i("div",pg,[i("aside",_g,[i("header",fg,[i("h3",null,u(r(s)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+u(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:oe,title:r(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[I[9]||(I[9]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",mg,u(r(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,hg)]),e.state.transitionError?(y(),x("div",gg,u(e.state.transitionError),1)):Te("",!0),i("section",Sg,[i("h4",null,u(r(s)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",Cg,[(y(!0),x(Se,null,Oe(e.state.activeOrder.items,X=>(y(),x("li",{key:X.id},[i("div",Eg,[Be(u(X.title)+" ",1),i("small",null,"("+u(X.sku)+")",1)]),i("div",bg,"  "+u(X.qty)+"  "+u(c(X.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",Ag,[i("h4",null,u(r(s)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",Tg,u(c(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",yg,[i("h4",null,u(r(s)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",Og,[(y(!0),x(Se,null,Oe(A(e.state.activeOrder.billing),X=>(y(),x("span",{key:X.key},u(X.value),1))),128))])]),i("section",Rg,[i("h4",null,u(r(s)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(y(),x("address",vg,[(y(!0),x(Se,null,Oe(A(e.state.activeOrder.shipping),X=>(y(),x("span",{key:X.key},u(X.value),1))),128))])):(y(),x("p",xg,u(r(s)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(y(),x("section",Ng,[i("h4",null,u(r(s)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",Pg,[(y(!0),x(Se,null,Oe(e.state.activeOrder.transactions,X=>(y(),x("li",{key:X.id},[i("div",Mg,u(X.gateway)+"  "+u(c(X.amount_cents,e.state.activeOrder.currency)),1),i("div",Ig,u(ne(X))+"  "+u(g(X.created)),1)]))),128))])])):Te("",!0),i("section",kg,[i("h4",null,u(r(s)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:ut(G,["prevent"])},[te(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":I[5]||(I[5]=X=>d.value=X),placeholder:r(s)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,wg),[[de,d.value]]),i("div",$g,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[I[10]||(I[10]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,Ug)])],32)]),i("section",Dg,[i("h4",null,u(r(s)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),e.state.activeOrder.timeline&&e.state.activeOrder.timeline.length?(y(),x("ul",Lg,[(y(!0),x(Se,null,Oe(e.state.activeOrder.timeline,X=>(y(),x("li",{key:X.id},[i("div",Yg,u(ue(X)),1),i("div",Xg,u(g(X.created)),1)]))),128))])):(y(),x("p",Fg,u(r(s)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):Te("",!0)]))]))}},[["__scopeId","data-v-f2999fa9"]]),Vg={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},Hg={class:"nxp-ec-admin-panel__header"},Bg={class:"nxp-ec-admin-panel__title"},Kg={class:"nxp-ec-admin-panel__lead"},jg={class:"nxp-ec-admin-panel__actions"},Jg=["placeholder","aria-label"],Wg=["disabled","title","aria-label"],qg={class:"nxp-ec-sr-only"},zg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Qg={key:1,class:"nxp-ec-admin-panel__body"},Zg={key:2,class:"nxp-ec-admin-panel__body"},eS={class:"nxp-ec-admin-panel__table"},tS={class:"nxp-ec-admin-table"},sS={scope:"col"},nS={scope:"col"},iS={scope:"col"},oS={scope:"col"},aS={scope:"col"},rS={key:0},lS={colspan:"5"},cS={scope:"row"},dS=["onClick"],uS={key:0,class:"nxp-ec-admin-pagination"},pS=["disabled"],_S={class:"nxp-ec-admin-pagination__status"},fS=["disabled"],hS=["title"],mS={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},gS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},SS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},CS={class:"nxp-ec-admin-panel__sidebar-header"},ES=["title","aria-label"],bS={class:"nxp-ec-sr-only"},AS={class:"nxp-ec-admin-panel__section"},TS={class:"nxp-ec-admin-summary"},yS={class:"nxp-ec-admin-panel__section"},OS={class:"nxp-ec-admin-address"},RS={class:"nxp-ec-admin-panel__section"},vS={key:0,class:"nxp-ec-admin-address"},xS={key:1,class:"nxp-ec-admin-panel__muted"},NS={class:"nxp-ec-admin-panel__section"},PS={key:0,class:"nxp-ec-admin-list"},MS={class:"nxp-ec-admin-list__title"},IS={class:"nxp-ec-admin-list__meta"},kS={key:1,class:"nxp-ec-admin-panel__muted"},wS=At({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close"],setup(e,{emit:t}){const n=e,o=t,s=n.translate,a=(O,N)=>{const A=(Number(O)||0)/100,W=(N||"").toUpperCase()||n.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:W}).format(A)}catch(H){return`${W} ${A.toFixed(2)}`}},l=O=>{if(!O)return"";const N=new Date(O);return Number.isNaN(N.getTime())?O:N.toLocaleString()},d=O=>!O||typeof O!="object"?[]:Object.entries(O).filter(([,N])=>N!=null&&`${N}`.trim()!=="").map(([N,A])=>({key:N,value:`${A}`.trim()})),p=O=>{if(!O)return"";const N=`COM_NXPEASYCART_ORDERS_STATE_${String(O).toUpperCase()}`;return s(N,O)},_=()=>o("refresh"),f=()=>o("search"),c=O=>o("page",O),g=O=>o("view",O),R=()=>o("close"),k=O=>{if(!O)return"";try{const N=new Date(O),W=new Date-N,H=Math.floor(W/1e3),M=Math.floor(H/60),L=Math.floor(M/60);return H<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):M<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[M]):L<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[L]):N.toLocaleString()}catch(N){return O}};return(O,N)=>{var A,W,H;return y(),x("section",Vg,[i("header",Hg,[i("div",null,[i("h2",Bg,u(r(s)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",Kg,u(r(s)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",jg,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":N[0]||(N[0]=M=>e.state.search=M),onKeyup:jt(f,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,Jg),[[de,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[N[3]||(N[3]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",qg,u(r(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,Wg)])]),e.state.error?(y(),x("div",zg,u(e.state.error),1)):e.state.loading?(y(),x("div",Qg,[Ve(Ns,{type:"table",rows:5,columns:5})])):(y(),x("div",Zg,[i("div",eS,[i("table",tS,[i("thead",null,[i("tr",null,[i("th",sS,u(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",nS,u(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",iS,u(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",oS,u(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",aS,u(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?Te("",!0):(y(),x("tr",rS,[i("td",lS,u(r(s)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(y(!0),x(Se,null,Oe(e.state.items,M=>{var L;return y(),x("tr",{key:M.email,class:Pe({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===M.email})},[i("th",cS,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:oe=>g(M)},u(M.email),9,dS)]),i("td",null,u(((L=M.meta)==null?void 0:L.name)||""),1),i("td",null,u(M.orders_count),1),i("td",null,u(a(M.total_spent_cents,M.currency||e.baseCurrency)),1),i("td",null,u(l(M.last_order)),1)],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",uS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:N[1]||(N[1]=M=>c(e.state.pagination.current-1))},"  ",8,pS),i("span",_S,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:N[2]||(N[2]=M=>c(e.state.pagination.current+1))},"  ",8,fS)])):Te("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(k(e.state.lastUpdated)),9,hS)):Te("",!0),e.state.activeCustomer?(y(),x("div",mS,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:R}),i("div",gS,[i("aside",SS,[i("header",CS,[i("h3",null,u(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:R,title:r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[N[4]||(N[4]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",bS,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,ES)]),i("section",AS,[i("h4",null,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",TS,[i("div",null,[i("dt",null,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,u(((A=e.state.activeCustomer.meta)==null?void 0:A.name)||""),1)]),i("div",null,[i("dt",null,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,u(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,u(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,u(l(e.state.activeCustomer.last_order)),1)])])]),i("section",yS,[i("h4",null,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",OS,[(y(!0),x(Se,null,Oe(d((W=e.state.activeCustomer.meta)==null?void 0:W.billing),M=>(y(),x("span",{key:M.key},u(M.value),1))),128))])]),i("section",RS,[i("h4",null,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(H=e.state.activeCustomer.meta)!=null&&H.shipping?(y(),x("address",vS,[(y(!0),x(Se,null,Oe(d(e.state.activeCustomer.meta.shipping),M=>(y(),x("span",{key:M.key},u(M.value),1))),128))])):(y(),x("p",xS,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",NS,[i("h4",null,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(y(),x("ul",PS,[(y(!0),x(Se,null,Oe(e.state.activeCustomer.orders,M=>(y(),x("li",{key:M.id},[i("div",MS,u(M.order_no)+"  "+u(a(M.total_cents,M.currency||e.baseCurrency)),1),i("div",IS,u(p(M.state))+"  "+u(l(M.created)),1)]))),128))])):(y(),x("p",kS,u(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))])])])])):Te("",!0)]))])}}},[["__scopeId","data-v-f2676e0d"]]),$S={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},US={class:"nxp-ec-admin-panel__header"},DS={class:"nxp-ec-admin-panel__title"},LS={class:"nxp-ec-admin-panel__lead"},YS={class:"nxp-ec-admin-panel__actions"},XS=["placeholder","aria-label"],FS=["disabled","title","aria-label"],GS={class:"nxp-ec-sr-only"},VS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},HS={key:1,class:"nxp-ec-admin-panel__loading"},BS={key:2,class:"nxp-ec-admin-panel__body"},KS={class:"nxp-ec-admin-panel__table"},jS={class:"nxp-ec-admin-table"},JS={scope:"col"},WS={scope:"col"},qS={scope:"col"},zS={scope:"col"},QS={scope:"col"},ZS={scope:"col"},eC={key:0},tC={colspan:"7"},sC={scope:"row"},nC={class:"nxp-ec-admin-table__actions"},iC=["onClick","title","aria-label"],oC={class:"nxp-ec-sr-only"},aC=["onClick","title","aria-label"],rC={class:"nxp-ec-sr-only"},lC={key:0,class:"nxp-ec-admin-pagination"},cC=["disabled"],dC={class:"nxp-ec-admin-pagination__status"},uC=["disabled"],pC={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},_C={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},fC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},hC={class:"nxp-ec-admin-panel__sidebar-header"},mC=["title","aria-label"],gC={class:"nxp-ec-sr-only"},SC={class:"nxp-ec-form-field"},CC={class:"nxp-ec-form-label",for:"coupon-code"},EC={class:"nxp-ec-form-field"},bC={class:"nxp-ec-form-label",for:"coupon-type"},AC={value:"percent"},TC={value:"fixed"},yC={class:"nxp-ec-form-field"},OC={class:"nxp-ec-form-label",for:"coupon-value"},RC={class:"nxp-ec-form-field"},vC={class:"nxp-ec-form-label",for:"coupon-min-total"},xC={class:"nxp-ec-form-field"},NC={class:"nxp-ec-form-label",for:"coupon-start"},PC={class:"nxp-ec-form-field"},MC={class:"nxp-ec-form-label",for:"coupon-end"},IC={class:"nxp-ec-form-field"},kC={class:"nxp-ec-form-label",for:"coupon-max-uses"},wC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$C={class:"nxp-ec-form-label",for:"coupon-active"},UC={class:"nxp-ec-modal__actions"},DC=["disabled"],LC=["disabled"],YC=["disabled"],XC=At({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,o=t,s=n.translate,a=ge(()=>(n.baseCurrency||"USD").toUpperCase()),l=we({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),d=ge(()=>l.open),p=()=>o("refresh"),_=()=>o("search"),f=H=>o("page",H),c=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},g=H=>{var M,L;Object.assign(l,{open:!0,id:H.id,code:H.code,type:H.type,value:H.value,min_total:(L=H.min_total)!=null?L:((M=H.min_total_cents)!=null?M:0)/100,start:H.start?H.start.substring(0,10):"",end:H.end?H.end.substring(0,10):"",max_uses:H.max_uses,active:H.active})},R=()=>{l.open=!1},k=()=>{const H={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",H)},O=H=>{const M=s("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(M)&&(o("delete",[H.id]),l.id===H.id&&R())},N=(H,M)=>{const L=(Number(H)||0)/100,oe=(M||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:oe}).format(L)}catch(ae){return`${oe} ${L.toFixed(2)}`}},A=H=>H.type==="percent"?`${H.value}%`:N(H.value*100,a.value),W=H=>H==="fixed"?s("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):s("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return De(()=>n.state.saving,(H,M)=>{M&&!H&&!n.state.error&&l.open&&R()}),(H,M)=>(y(),x("section",$S,[i("header",US,[i("div",null,[i("h2",DS,u(r(s)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",LS,u(r(s)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",YS,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":M[0]||(M[0]=L=>e.state.search=L),onKeyup:jt(_,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,XS),[[de,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[M[12]||(M[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",GS,u(r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,FS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:c},[M[13]||(M[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(y(),x("div",VS,u(e.state.error),1)):e.state.loading?(y(),x("div",HS,u(r(s)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(y(),x("div",BS,[i("div",KS,[i("table",jS,[i("thead",null,[i("tr",null,[i("th",JS,u(r(s)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",WS,u(r(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",qS,u(r(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",zS,u(r(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",QS,u(r(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",ZS,u(r(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),M[14]||(M[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Te("",!0):(y(),x("tr",eC,[i("td",tC,u(r(s)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(y(!0),x(Se,null,Oe(e.state.items,L=>(y(),x("tr",{key:L.id,class:Pe({"is-active":l.id===L.id})},[i("th",sC,u(L.code),1),i("td",null,u(W(L.type)),1),i("td",null,u(A(L)),1),i("td",null,u(N(L.min_total_cents,a.value)),1),i("td",null,[i("span",{class:Pe(["nxp-ec-badge",{"is-active":L.active}])},[i("i",{class:Pe(L.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Be(" "+u(L.active?r(s)("JYES","Yes"):r(s)("JNO","No")),1)],2)]),i("td",null,u(L.times_used)+u(L.max_uses?` / ${L.max_uses}`:""),1),i("td",nC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:oe=>g(L),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[M[15]||(M[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",oC,u(r(s)("JEDIT","Edit")),1)],8,iC),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:oe=>O(L),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[M[16]||(M[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",rC,u(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,aC)])],2))),128))])]),e.state.pagination.pages>1?(y(),x("div",lC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:M[1]||(M[1]=L=>f(e.state.pagination.current-1))},"  ",8,cC),i("span",dC,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:M[2]||(M[2]=L=>f(e.state.pagination.current+1))},"  ",8,uC)])):Te("",!0)]),d.value?(y(),x("div",pC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:R}),i("div",_C,[i("aside",fC,[i("header",hC,[i("h3",null,u(l.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:R,title:r(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[M[17]||(M[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",gC,u(r(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,mC)]),i("form",{class:"nxp-ec-form",onSubmit:ut(k,["prevent"]),autocomplete:"off"},[i("div",SC,[i("label",CC,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),te(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M[3]||(M[3]=L=>l.code=L),required:"",maxlength:"64"},null,512),[[de,l.code,void 0,{trim:!0}]])]),i("div",EC,[i("label",bC,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),te(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":M[4]||(M[4]=L=>l.type=L)},[i("option",AC,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",TC,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[bt,l.type]])]),i("div",yC,[i("label",OC,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),te(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":M[5]||(M[5]=L=>l.value=L),required:""},null,512),[[de,l.value,void 0,{number:!0}]])]),i("div",RC,[i("label",vC,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),te(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":M[6]||(M[6]=L=>l.min_total=L)},null,512),[[de,l.min_total,void 0,{number:!0}]])]),i("div",xC,[i("label",NC,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),te(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":M[7]||(M[7]=L=>l.start=L)},null,512),[[de,l.start]])]),i("div",PC,[i("label",MC,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),te(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":M[8]||(M[8]=L=>l.end=L)},null,512),[[de,l.end]])]),i("div",IC,[i("label",kC,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),te(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":M[9]||(M[9]=L=>l.max_uses=L)},null,512),[[de,l.max_uses,void 0,{number:!0}]])]),i("div",wC,[i("label",$C,u(r(s)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),te(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":M[10]||(M[10]=L=>l.active=L)},null,512),[[It,l.active]])]),i("footer",UC,[i("button",{class:"nxp-ec-btn",type:"button",onClick:R,disabled:e.state.saving},u(r(s)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,DC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},u(e.state.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,LC)]),l.id?(y(),x("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:M[11]||(M[11]=L=>O(l)),disabled:e.state.saving},[M[18]||(M[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,YC)):Te("",!0)],32)])])])):Te("",!0)]))]))}},[["__scopeId","data-v-f3fb8685"]]),FC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},GC={class:"nxp-ec-admin-panel__header"},VC={class:"nxp-ec-admin-panel__title"},HC={class:"nxp-ec-admin-panel__lead"},BC={class:"nxp-ec-settings-tabs"},KC={key:0,class:"nxp-ec-settings-panel"},jC={class:"nxp-ec-settings-panel__header"},JC=["disabled"],WC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qC={key:1,class:"nxp-ec-admin-panel__loading"},zC={class:"nxp-ec-form-field"},QC={class:"nxp-ec-form-label",for:"settings-store-name"},ZC={class:"nxp-ec-form-field"},eE={class:"nxp-ec-form-label",for:"settings-store-email"},tE={class:"nxp-ec-form-field"},sE={class:"nxp-ec-form-label",for:"settings-store-phone"},nE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iE={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},oE={class:"nxp-ec-form-help"},aE={class:"nxp-ec-form-field"},rE={class:"nxp-ec-form-label",for:"settings-base-currency"},lE={class:"nxp-ec-form-help"},cE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},dE={class:"nxp-ec-form-label",for:"settings-payments-configured"},uE={class:"nxp-ec-form-help"},pE={class:"nxp-ec-settings-actions"},_E=["disabled"],fE=["disabled"],hE={key:1,class:"nxp-ec-settings-panel"},mE={class:"nxp-ec-settings-panel__header"},gE=["disabled"],SE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},CE={class:"nxp-ec-form-help"},EE={class:"nxp-ec-form-grid"},bE={class:"nxp-ec-form-field"},AE={class:"nxp-ec-form-label",for:"settings-checkout-window"},TE={class:"nxp-ec-form-help"},yE={class:"nxp-ec-form-field"},OE={class:"nxp-ec-form-label",for:"settings-offline-window"},RE={class:"nxp-ec-form-help"},vE={class:"nxp-ec-form-grid"},xE={class:"nxp-ec-form-field"},NE={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},PE={class:"nxp-ec-form-field"},ME={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},IE={class:"nxp-ec-form-field"},kE={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},wE={class:"nxp-ec-form-grid"},$E={class:"nxp-ec-form-field"},UE={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},DE={class:"nxp-ec-form-field"},LE={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},YE={class:"nxp-ec-settings-actions"},XE=["disabled"],FE=["disabled"],GE={key:2,class:"nxp-ec-settings-panel"},VE={class:"nxp-ec-settings-panel__header"},HE=["disabled"],BE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},KE={key:1,class:"nxp-ec-settings-grid"},jE={class:"nxp-ec-settings-table"},JE={class:"nxp-ec-admin-table"},WE={scope:"col"},qE={scope:"col"},zE={scope:"col"},QE={scope:"col"},ZE={scope:"col"},eb={key:0},tb={colspan:"6"},sb={scope:"row"},nb={class:"nxp-ec-admin-table__actions"},ib=["onClick","title","aria-label"],ob={class:"nxp-ec-sr-only"},ab=["onClick","title","aria-label"],rb={class:"nxp-ec-sr-only"},lb={class:"nxp-ec-form-field"},cb={class:"nxp-ec-form-label",for:"tax-country"},db={class:"nxp-ec-form-field"},ub={class:"nxp-ec-form-label",for:"tax-region"},pb={class:"nxp-ec-form-field"},_b={class:"nxp-ec-form-label",for:"tax-rate"},fb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},hb={class:"nxp-ec-form-label",for:"tax-inclusive"},mb={class:"nxp-ec-form-field"},gb={class:"nxp-ec-form-label",for:"tax-priority"},Sb={class:"nxp-ec-settings-actions"},Cb=["disabled"],Eb=["disabled"],bb={key:3,class:"nxp-ec-settings-panel"},Ab={class:"nxp-ec-settings-panel__header"},Tb=["disabled"],yb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ob={key:1,class:"nxp-ec-settings-grid"},Rb={class:"nxp-ec-settings-table"},vb={class:"nxp-ec-admin-table"},xb={scope:"col"},Nb={scope:"col"},Pb={scope:"col"},Mb={scope:"col"},Ib={scope:"col"},kb={scope:"col"},wb={key:0},$b={colspan:"7"},Ub={scope:"row"},Db={class:"nxp-ec-admin-table__actions"},Lb=["onClick","title","aria-label"],Yb={class:"nxp-ec-sr-only"},Xb=["onClick","title","aria-label"],Fb={class:"nxp-ec-sr-only"},Gb={class:"nxp-ec-form-field"},Vb={class:"nxp-ec-form-label",for:"shipping-name"},Hb={class:"nxp-ec-form-field"},Bb={class:"nxp-ec-form-label",for:"shipping-type"},Kb={value:"flat"},jb={value:"free_over"},Jb={class:"nxp-ec-form-field"},Wb={class:"nxp-ec-form-label",for:"shipping-price"},qb={key:0,class:"nxp-ec-form-field"},zb={class:"nxp-ec-form-label",for:"shipping-threshold"},Qb={class:"nxp-ec-form-field"},Zb={class:"nxp-ec-form-label",for:"shipping-regions"},eA=["placeholder"],tA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},sA={class:"nxp-ec-form-label",for:"shipping-active"},nA={class:"nxp-ec-settings-actions"},iA=["disabled"],oA=["disabled"],aA={key:4,class:"nxp-ec-settings-panel"},rA={class:"nxp-ec-settings-panel__header"},lA={class:"nxp-ec-settings-actions"},cA=["disabled"],dA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},uA={key:1,class:"nxp-ec-admin-panel__loading"},pA={class:"nxp-ec-form-field"},_A={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},fA={class:"nxp-ec-form-field"},hA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},mA={class:"nxp-ec-form-field"},gA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},SA={class:"nxp-ec-form-help"},CA={class:"nxp-ec-form-field"},EA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},bA={value:"test"},AA={value:"live"},TA={class:"nxp-ec-form-field"},yA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},OA={class:"nxp-ec-form-field"},RA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},vA={class:"nxp-ec-form-field"},xA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},NA={class:"nxp-ec-form-help"},PA={class:"nxp-ec-form-field"},MA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},IA={value:"sandbox"},kA={value:"live"},wA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$A={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},UA={class:"nxp-ec-form-field"},DA={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},LA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},YA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},XA={class:"nxp-ec-form-field"},FA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},GA={class:"nxp-ec-form-field"},VA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},HA=["placeholder"],BA={class:"nxp-ec-form-help"},KA={class:"nxp-ec-form-grid"},jA={class:"nxp-ec-form-field"},JA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},WA={class:"nxp-ec-form-field"},qA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},zA={class:"nxp-ec-form-field"},QA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},ZA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},eT={class:"nxp-ec-settings-actions"},tT=["disabled"],sT=["disabled"],nT={key:5,class:"nxp-ec-settings-panel"},iT={class:"nxp-ec-settings-panel__header"},oT=["disabled"],aT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},rT={key:1,class:"nxp-ec-admin-panel__loading"},lT={class:"nxp-ec-form-help"},cT={class:"nxp-ec-visual-grid"},dT={class:"nxp-ec-visual-field"},uT={class:"nxp-ec-form-label",for:"visual-primary-color"},pT={class:"nxp-ec-color-input-group"},_T=["value"],fT=["placeholder"],hT={class:"nxp-ec-visual-field"},mT={class:"nxp-ec-form-label",for:"visual-text-color"},gT={class:"nxp-ec-color-input-group"},ST=["value"],CT=["placeholder"],ET={class:"nxp-ec-visual-field"},bT={class:"nxp-ec-form-label",for:"visual-surface-color"},AT={class:"nxp-ec-color-input-group"},TT=["value"],yT=["placeholder"],OT={class:"nxp-ec-visual-field"},RT={class:"nxp-ec-form-label",for:"visual-border-color"},vT={class:"nxp-ec-color-input-group"},xT=["value"],NT=["placeholder"],PT={class:"nxp-ec-visual-field"},MT={class:"nxp-ec-form-label",for:"visual-muted-color"},IT={class:"nxp-ec-color-input-group"},kT=["value"],wT=["placeholder"],$T={class:"nxp-ec-visual-preview"},UT={type:"button",class:"nxp-ec-preview-btn"},DT={class:"nxp-ec-preview-text"},LT={class:"nxp-ec-preview-muted"},YT={class:"nxp-ec-settings-actions"},XT=["disabled"],FT=["disabled"],GT=At({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const n=e,o=t,s=n.translate,a=n.settingsState,l=n.taxState,d=n.shippingState,p=n.paymentsState,_=Ge("general"),f=ge(()=>{var m;const w=n.baseCurrency||"USD",C=typeof c.baseCurrency=="string"?c.baseCurrency.trim():"",S=typeof((m=a==null?void 0:a.values)==null?void 0:m.base_currency)=="string"?a.values.base_currency.trim():"";return(C!==""?C:S!==""?S:w).toUpperCase()}),c=we({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,baseCurrency:""}),g=we({checkoutWindowMinutes:10,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:30,offlineIpLimit:3,offlineEmailLimit:3}),R=we({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),k=we({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),O=we({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),N=we({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),A=ge(()=>{var C,S;const w=(S=(C=a.values)==null?void 0:C.visual_defaults)!=null?S:{};return{primary:w.primary_color||"#4f6d7a",text:w.text_color||"#1f2933",surface:w.surface_color||"#ffffff",border:w.border_color||"#e4e7ec",muted:w.muted_color||"#6b7280"}}),W=ge(()=>({"--nxp-ec-color-primary":N.primaryColor||A.value.primary,"--nxp-ec-color-text":N.textColor||A.value.text,"--nxp-ec-color-surface":N.surfaceColor||A.value.surface,"--nxp-ec-color-border":N.borderColor||A.value.border,"--nxp-ec-color-muted":N.mutedColor||A.value.muted})),H=(w={})=>{var b,Y,K,E,h,T,v,$,D,Z,F,ee,re,pe;const C=(b=w==null?void 0:w.store)!=null?b:{},S=(Y=w==null?void 0:w.payments)!=null?Y:{},Ee=(K=w==null?void 0:w.visual)!=null?K:{},m=(h=(E=w==null?void 0:w.security)==null?void 0:E.rate_limits)!=null?h:{};Object.assign(c,{storeName:(T=C.name)!=null?T:"",storeEmail:(v=C.email)!=null?v:"",storePhone:($=C.phone)!=null?$:"",checkoutPhoneRequired:!!((D=w==null?void 0:w.checkout_phone_required)!=null&&D),paymentsConfigured:!!S.configured,baseCurrency:typeof(w==null?void 0:w.base_currency)=="string"?w.base_currency.trim().toUpperCase():(n.baseCurrency||"USD").toUpperCase()}),Object.assign(N,{primaryColor:(Z=Ee.primary_color)!=null?Z:"",textColor:(F=Ee.text_color)!=null?F:"",surfaceColor:(ee=Ee.surface_color)!=null?ee:"",borderColor:(re=Ee.border_color)!=null?re:"",mutedColor:(pe=Ee.muted_color)!=null?pe:""}),Object.assign(g,{checkoutWindowMinutes:Number.isFinite(Number(m.checkout_window_minutes))?Number(m.checkout_window_minutes):10,checkoutIpLimit:Number.isFinite(Number(m.checkout_ip_limit))?Number(m.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(m.checkout_email_limit))?Number(m.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(m.checkout_session_limit))?Number(m.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(m.offline_window_minutes))?Number(m.offline_window_minutes):30,offlineIpLimit:Number.isFinite(Number(m.offline_ip_limit))?Number(m.offline_ip_limit):3,offlineEmailLimit:Number.isFinite(Number(m.offline_email_limit))?Number(m.offline_email_limit):3})},M=(w={})=>{var b,Y,K,E,h,T,v,$,D,Z,F,ee,re,pe,he,Ce,xe,Le,Ke,$e,tt,He,Ue,Fe;const C=(b=w.stripe)!=null?b:{},S=(Y=w.paypal)!=null?Y:{},Ee=(K=w.cod)!=null?K:{},m=(E=w.bank_transfer)!=null?E:{};Object.assign(O.stripe,{publishable_key:(h=C.publishable_key)!=null?h:"",secret_key:(T=C.secret_key)!=null?T:"",webhook_secret:(v=C.webhook_secret)!=null?v:"",mode:($=C.mode)!=null?$:"test"}),Object.assign(O.paypal,{client_id:(D=S.client_id)!=null?D:"",client_secret:(Z=S.client_secret)!=null?Z:"",webhook_id:(F=S.webhook_id)!=null?F:"",mode:(ee=S.mode)!=null?ee:"sandbox"}),Object.assign(O.cod,{enabled:Ee.enabled!==void 0?!!Ee.enabled:O.cod.enabled,label:(pe=(re=Ee.label)!=null?re:O.cod.label)!=null?pe:"Cash on delivery"}),Object.assign(O.bank_transfer,{enabled:m.enabled!==void 0?!!m.enabled:O.bank_transfer.enabled,label:(Ce=(he=m.label)!=null?he:O.bank_transfer.label)!=null?Ce:"Bank transfer",instructions:(Le=(xe=m.instructions)!=null?xe:O.bank_transfer.instructions)!=null?Le:"",account_name:($e=(Ke=m.account_name)!=null?Ke:O.bank_transfer.account_name)!=null?$e:"",iban:(He=(tt=m.iban)!=null?tt:O.bank_transfer.iban)!=null?He:"",bic:(Fe=(Ue=m.bic)!=null?Ue:O.bank_transfer.bic)!=null?Fe:""})};De(()=>a.values,w=>{H(w!=null?w:{})},{immediate:!0});const L=()=>o("refresh-settings"),oe=()=>{const w=(c.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:c.storeName,email:c.storeEmail,phone:c.storePhone,base_currency:w},payments:{configured:c.paymentsConfigured},base_currency:w,checkout_phone_required:c.checkoutPhoneRequired})},ae=()=>{var w;H((w=a.values)!=null?w:{})},le=()=>{const w=(C,S=0)=>{const Ee=Number(C);return Number.isFinite(Ee)&&Ee>=0?Ee:S};o("save-settings",{security:{rate_limits:{checkout_window_minutes:w(g.checkoutWindowMinutes,10),checkout_ip_limit:w(g.checkoutIpLimit,10),checkout_email_limit:w(g.checkoutEmailLimit,5),checkout_session_limit:w(g.checkoutSessionLimit,15),offline_window_minutes:w(g.offlineWindowMinutes,30),offline_ip_limit:w(g.offlineIpLimit,3),offline_email_limit:w(g.offlineEmailLimit,3)}}})},fe=()=>{var w;H((w=a.values)!=null?w:{})};De(()=>a.saving,(w,C)=>{var S;C&&!w&&!a.error&&H((S=a.values)!=null?S:{})}),De(()=>c.baseCurrency,w=>{if(typeof w=="string"){const C=w.replace(/[^A-Za-z]/g,"").toUpperCase();C!==w&&(c.baseCurrency=C)}}),De(()=>p.config,w=>{M(w!=null?w:{})},{immediate:!0}),De(()=>p.saving,(w,C)=>{var S;C&&!w&&!p.error&&M((S=p.config)!=null?S:{})});const j=()=>o("refresh-payments"),B=()=>{const w=JSON.parse(JSON.stringify(O));o("save-payments",w)},q=()=>{var w;M((w=p.config)!=null?w:{})},G=()=>o("refresh-settings"),se=()=>{o("save-settings",{visual:{primary_color:N.primaryColor,text_color:N.textColor,surface_color:N.surfaceColor,border_color:N.borderColor,muted_color:N.mutedColor}})},ue=()=>{var C,S,Ee,m,b,Y,K;const w=(S=(C=a.values)==null?void 0:C.visual)!=null?S:{};Object.assign(N,{primaryColor:(Ee=w.primary_color)!=null?Ee:"",textColor:(m=w.text_color)!=null?m:"",surfaceColor:(b=w.surface_color)!=null?b:"",borderColor:(Y=w.border_color)!=null?Y:"",mutedColor:(K=w.muted_color)!=null?K:""})},ne=()=>o("refresh-tax"),z=()=>o("refresh-shipping"),P=w=>{Object.assign(R,{id:w.id,country:w.country,region:w.region,rate:w.rate,inclusive:w.inclusive,priority:w.priority})},I=()=>{Object.assign(R,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},X=()=>{o("save-tax",{id:R.id||void 0,country:R.country,region:R.region,rate:R.rate,inclusive:R.inclusive,priority:R.priority})},U=w=>{const C=s("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(C)&&(o("delete-tax",[w.id]),R.id===w.id&&I())};De(()=>l.saving,(w,C)=>{C&&!w&&!l.error&&I()});const V=w=>{var C,S,Ee;Object.assign(k,{id:w.id,name:w.name,type:w.type,price:(S=w.price)!=null?S:((C=w.price_cents)!=null?C:0)/100,threshold:w.threshold!==null&&w.threshold!==void 0?w.threshold:((Ee=w.threshold_cents)!=null?Ee:0)/100,regions:w.regions&&w.regions.length?w.regions.join(", "):"",active:w.active})},Q=()=>{Object.assign(k,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},ce=()=>{const w={id:k.id||void 0,name:k.name,type:k.type,price:k.price,threshold:k.type==="free_over"?k.threshold:0,regions:k.regions,active:k.active};o("save-shipping",w)},Ae=w=>{const C=s("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(C)&&(o("delete-shipping",[w.id]),k.id===w.id&&Q())};De(()=>d.saving,(w,C)=>{C&&!w&&!d.error&&Q()});const ye=(w,C)=>{const S=(Number(w)||0)/100,Ee=(C||"").toUpperCase()||f.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:Ee}).format(S)}catch(m){return`${Ee} ${S.toFixed(2)}`}},ie=w=>w==="free_over"?s("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):s("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(w,C)=>(y(),x("section",FC,[i("header",GC,[i("div",null,[i("h2",VC,u(r(s)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",HC,u(r(s)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",BC,[i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:C[0]||(C[0]=S=>_.value="general")},u(r(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="security"}]),onClick:C[1]||(C[1]=S=>_.value="security")},u(r(s)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="tax"}]),onClick:C[2]||(C[2]=S=>_.value="tax")},u(r(s)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="shipping"}]),onClick:C[3]||(C[3]=S=>_.value="shipping")},u(r(s)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:C[4]||(C[4]=S=>_.value="payments")},u(r(s)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:C[5]||(C[5]=S=>_.value="visual")},u(r(s)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(y(),x("div",KC,[i("header",jC,[i("h3",null,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:r(a).loading},u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,JC)]),r(a).error?(y(),x("div",WC,u(r(a).error),1)):r(a).loading?(y(),x("div",qC,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form",onSubmit:ut(oe,["prevent"])},[i("div",zC,[i("label",QC,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),te(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[6]||(C[6]=S=>c.storeName=S),maxlength:"190"},null,512),[[de,c.storeName,void 0,{trim:!0}]])]),i("div",ZC,[i("label",eE,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),te(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":C[7]||(C[7]=S=>c.storeEmail=S)},null,512),[[de,c.storeEmail,void 0,{trim:!0}]])]),i("div",tE,[i("label",sE,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),te(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[8]||(C[8]=S=>c.storePhone=S),maxlength:"64"},null,512),[[de,c.storePhone,void 0,{trim:!0}]])]),i("div",nE,[i("label",iE,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),te(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[9]||(C[9]=S=>c.checkoutPhoneRequired=S)},null,512),[[It,c.checkoutPhoneRequired]]),i("p",oE,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",aE,[i("label",rE,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),te(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":C[10]||(C[10]=S=>c.baseCurrency=S),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[de,c.baseCurrency,void 0,{trim:!0}]]),i("p",lE,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",cE,[i("label",dE,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),te(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[11]||(C[11]=S=>c.paymentsConfigured=S)},null,512),[[It,c.paymentsConfigured]]),i("p",uE,u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",pE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ae,disabled:r(a).saving},u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,_E),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},u(r(a).saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,fE)])],32))])):_.value==="security"?(y(),x("div",hE,[i("header",mE,[i("h3",null,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:r(a).loading},u(r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,gE)]),r(a).error?(y(),x("div",SE,u(r(a).error),1)):(y(),x("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:ut(le,["prevent"])},[i("p",CE,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",EE,[i("div",bE,[i("label",AE,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),te(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[12]||(C[12]=S=>g.checkoutWindowMinutes=S)},null,512),[[de,g.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",TE,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",yE,[i("label",OE,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),te(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[13]||(C[13]=S=>g.offlineWindowMinutes=S)},null,512),[[de,g.offlineWindowMinutes,void 0,{number:!0}]]),i("p",RE,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",vE,[i("div",xE,[i("label",NE,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),te(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[14]||(C[14]=S=>g.checkoutIpLimit=S)},null,512),[[de,g.checkoutIpLimit,void 0,{number:!0}]])]),i("div",PE,[i("label",ME,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),te(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[15]||(C[15]=S=>g.checkoutEmailLimit=S)},null,512),[[de,g.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",IE,[i("label",kE,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),te(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[16]||(C[16]=S=>g.checkoutSessionLimit=S)},null,512),[[de,g.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",wE,[i("div",$E,[i("label",UE,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),te(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[17]||(C[17]=S=>g.offlineIpLimit=S)},null,512),[[de,g.offlineIpLimit,void 0,{number:!0}]])]),i("div",DE,[i("label",LE,u(r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),te(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[18]||(C[18]=S=>g.offlineEmailLimit=S)},null,512),[[de,g.offlineEmailLimit,void 0,{number:!0}]])])]),i("div",YE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:fe,disabled:r(a).saving},u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,XE),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},u(r(a).saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,FE)])],32))])):_.value==="tax"?(y(),x("div",GE,[i("header",VE,[i("h3",null,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ne,disabled:r(l).loading},u(r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,HE)]),r(l).error?(y(),x("div",BE,u(r(l).error),1)):(y(),x("div",KE,[i("div",jE,[i("table",JE,[i("thead",null,[i("tr",null,[i("th",WE,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",qE,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",zE,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",QE,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",ZE,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),C[61]||(C[61]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(l).items.length?Te("",!0):(y(),x("tr",eb,[i("td",tb,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(y(!0),x(Se,null,Oe(r(l).items,S=>{var Ee;return y(),x("tr",{key:S.id,class:Pe({"is-active":R.id===S.id})},[i("th",sb,u(S.country),1),i("td",null,u(S.region||""),1),i("td",null,u(((Ee=S.rate)!=null?Ee:0).toFixed(2))+"%",1),i("td",null,u(S.inclusive?r(s)("JYES","Yes"):r(s)("JNO","No")),1),i("td",null,u(S.priority),1),i("td",nb,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:m=>P(S),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[C[62]||(C[62]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",ob,u(r(s)("JEDIT","Edit")),1)],8,ib),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:m=>U(S),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[C[63]||(C[63]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",rb,u(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,ab)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ut(X,["prevent"])},[i("h4",null,u(R.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",lb,[i("label",cb,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),te(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[19]||(C[19]=S=>R.country=S),maxlength:"2",required:""},null,512),[[de,R.country,void 0,{trim:!0}]])]),i("div",db,[i("label",ub,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),te(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[20]||(C[20]=S=>R.region=S)},null,512),[[de,R.region,void 0,{trim:!0}]])]),i("div",pb,[i("label",_b,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),te(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":C[21]||(C[21]=S=>R.rate=S),required:""},null,512),[[de,R.rate,void 0,{number:!0}]])]),i("div",fb,[i("label",hb,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),te(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[22]||(C[22]=S=>R.inclusive=S)},null,512),[[It,R.inclusive]])]),i("div",mb,[i("label",gb,u(r(s)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),te(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":C[23]||(C[23]=S=>R.priority=S)},null,512),[[de,R.priority,void 0,{number:!0}]])]),i("div",Sb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:I,disabled:r(l).saving},u(r(s)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,Cb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(l).saving},u(r(l).saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,Eb)])],32)]))])):_.value==="shipping"?(y(),x("div",bb,[i("header",Ab,[i("h3",null,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:z,disabled:r(d).loading},u(r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,Tb)]),r(d).error?(y(),x("div",yb,u(r(d).error),1)):(y(),x("div",Ob,[i("div",Rb,[i("table",vb,[i("thead",null,[i("tr",null,[i("th",xb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",Nb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",Pb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",Mb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",Ib,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",kb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),C[64]||(C[64]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(d).items.length?Te("",!0):(y(),x("tr",wb,[i("td",$b,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(y(!0),x(Se,null,Oe(r(d).items,S=>(y(),x("tr",{key:S.id,class:Pe({"is-active":k.id===S.id})},[i("th",Ub,u(S.name),1),i("td",null,u(ie(S.type)),1),i("td",null,u(ye(S.price_cents,f.value)),1),i("td",null,u(S.type==="free_over"?ye(S.threshold_cents,f.value):""),1),i("td",null,u(S.regions&&S.regions.length?S.regions.join(", "):r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,[i("span",{class:Pe(["nxp-ec-badge",{"is-active":S.active}])},[i("i",{class:Pe(S.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Be(" "+u(S.active?r(s)("JYES","Yes"):r(s)("JNO","No")),1)],2)]),i("td",Db,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Ee=>V(S),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[C[65]||(C[65]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",Yb,u(r(s)("JEDIT","Edit")),1)],8,Lb),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Ee=>Ae(S),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[C[66]||(C[66]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",Fb,u(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Xb)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ut(ce,["prevent"])},[i("h4",null,u(k.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",Gb,[i("label",Vb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),te(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[24]||(C[24]=S=>k.name=S),required:""},null,512),[[de,k.name,void 0,{trim:!0}]])]),i("div",Hb,[i("label",Bb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),te(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":C[25]||(C[25]=S=>k.type=S)},[i("option",Kb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",jb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[bt,k.type]])]),i("div",Jb,[i("label",Wb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),te(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":C[26]||(C[26]=S=>k.price=S),required:""},null,512),[[de,k.price,void 0,{number:!0}]])]),k.type==="free_over"?(y(),x("div",qb,[i("label",zb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),te(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":C[27]||(C[27]=S=>k.threshold=S),required:""},null,512),[[de,k.threshold,void 0,{number:!0}]])])):Te("",!0),i("div",Qb,[i("label",Zb,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),te(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[28]||(C[28]=S=>k.regions=S),placeholder:r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,eA),[[de,k.regions,void 0,{trim:!0}]])]),i("div",tA,[i("label",sA,u(r(s)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),te(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[29]||(C[29]=S=>k.active=S)},null,512),[[It,k.active]])]),i("div",nA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Q,disabled:r(d).saving},u(r(s)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,iA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(d).saving},u(r(d).saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,oA)])],32)]))])):_.value==="payments"?(y(),x("div",aA,[i("header",rA,[i("h3",null,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",lA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(p).loading},u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,cA)])]),r(p).error?(y(),x("div",dA,u(r(p).error),1)):r(p).loading?(y(),x("div",uA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:ut(B,["prevent"])},[i("fieldset",null,[i("legend",null,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",pA,[i("label",_A,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),te(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[30]||(C[30]=S=>O.stripe.publishable_key=S)},null,512),[[de,O.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",fA,[i("label",hA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),te(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[31]||(C[31]=S=>O.stripe.secret_key=S),autocomplete:"off"},null,512),[[de,O.stripe.secret_key,void 0,{trim:!0}]])]),i("div",mA,[i("label",gA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),te(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[32]||(C[32]=S=>O.stripe.webhook_secret=S),autocomplete:"off"},null,512),[[de,O.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",SA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",CA,[i("label",EA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),te(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":C[33]||(C[33]=S=>O.stripe.mode=S)},[i("option",bA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",AA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[bt,O.stripe.mode]])])]),i("fieldset",null,[i("legend",null,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",TA,[i("label",yA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),te(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[34]||(C[34]=S=>O.paypal.client_id=S)},null,512),[[de,O.paypal.client_id,void 0,{trim:!0}]])]),i("div",OA,[i("label",RA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),te(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[35]||(C[35]=S=>O.paypal.client_secret=S),autocomplete:"off"},null,512),[[de,O.paypal.client_secret,void 0,{trim:!0}]])]),i("div",vA,[i("label",xA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),te(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[36]||(C[36]=S=>O.paypal.webhook_id=S)},null,512),[[de,O.paypal.webhook_id,void 0,{trim:!0}]]),i("p",NA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",PA,[i("label",MA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),te(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":C[37]||(C[37]=S=>O.paypal.mode=S)},[i("option",IA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",kA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[bt,O.paypal.mode]])])]),i("fieldset",null,[i("legend",null,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",wA,[i("label",$A,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),te(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":C[38]||(C[38]=S=>O.cod.enabled=S)},null,512),[[It,O.cod.enabled]])]),i("div",UA,[i("label",DA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),te(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[39]||(C[39]=S=>O.cod.label=S),placeholder:"Cash on delivery"},null,512),[[de,O.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",LA,[i("label",YA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),te(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":C[40]||(C[40]=S=>O.bank_transfer.enabled=S)},null,512),[[It,O.bank_transfer.enabled]])]),i("div",XA,[i("label",FA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),te(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[41]||(C[41]=S=>O.bank_transfer.label=S),placeholder:"Bank transfer"},null,512),[[de,O.bank_transfer.label,void 0,{trim:!0}]])]),i("div",GA,[i("label",VA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),te(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":C[42]||(C[42]=S=>O.bank_transfer.instructions=S),placeholder:r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,HA),[[de,O.bank_transfer.instructions]]),i("p",BA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",KA,[i("div",jA,[i("label",JA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),te(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[43]||(C[43]=S=>O.bank_transfer.account_name=S)},null,512),[[de,O.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",WA,[i("label",qA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),te(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[44]||(C[44]=S=>O.bank_transfer.iban=S),maxlength:"34"},null,512),[[de,O.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",zA,[i("label",QA,u(r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),te(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[45]||(C[45]=S=>O.bank_transfer.bic=S),maxlength:"11"},null,512),[[de,O.bank_transfer.bic,void 0,{trim:!0}]])])])]),r(p).message?(y(),x("div",ZA,u(r(p).message),1)):Te("",!0),i("div",eT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:q,disabled:r(p).saving},u(r(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,tT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(p).saving},u(r(p).saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,sT)])],32))])):_.value==="visual"?(y(),x("div",nT,[i("header",iT,[i("h3",null,u(r(s)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:G,disabled:r(a).loading},u(r(s)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,oT)]),r(a).error?(y(),x("div",aT,u(r(a).error),1)):r(a).loading?(y(),x("div",rT,u(r(s)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:ut(se,["prevent"])},[i("p",lT,u(r(s)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("div",cT,[i("div",dT,[i("label",uT,u(r(s)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",pT,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:N.primaryColor||A.value.primary,onInput:C[46]||(C[46]=S=>N.primaryColor=S.target.value)},null,40,_T),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[47]||(C[47]=S=>N.primaryColor=S),placeholder:A.value.primary,maxlength:"7"},null,8,fT),[[de,N.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[48]||(C[48]=S=>N.primaryColor="")},u(r(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",hT,[i("label",mT,u(r(s)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",gT,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:N.textColor||A.value.text,onInput:C[49]||(C[49]=S=>N.textColor=S.target.value)},null,40,ST),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[50]||(C[50]=S=>N.textColor=S),placeholder:A.value.text,maxlength:"7"},null,8,CT),[[de,N.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[51]||(C[51]=S=>N.textColor="")},u(r(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",ET,[i("label",bT,u(r(s)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",AT,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:N.surfaceColor||A.value.surface,onInput:C[52]||(C[52]=S=>N.surfaceColor=S.target.value)},null,40,TT),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[53]||(C[53]=S=>N.surfaceColor=S),placeholder:A.value.surface,maxlength:"7"},null,8,yT),[[de,N.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[54]||(C[54]=S=>N.surfaceColor="")},u(r(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",OT,[i("label",RT,u(r(s)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",vT,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:N.borderColor||A.value.border,onInput:C[55]||(C[55]=S=>N.borderColor=S.target.value)},null,40,xT),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[56]||(C[56]=S=>N.borderColor=S),placeholder:A.value.border,maxlength:"7"},null,8,NT),[[de,N.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[57]||(C[57]=S=>N.borderColor="")},u(r(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",PT,[i("label",MT,u(r(s)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",IT,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:N.mutedColor||A.value.muted,onInput:C[58]||(C[58]=S=>N.mutedColor=S.target.value)},null,40,kT),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[59]||(C[59]=S=>N.mutedColor=S),placeholder:A.value.muted,maxlength:"7"},null,8,wT),[[de,N.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[60]||(C[60]=S=>N.mutedColor="")},u(r(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",$T,[i("h4",null,u(r(s)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Lt(W.value)},[i("button",UT,u(r(s)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",DT,u(r(s)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",LT,u(r(s)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",YT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ue,disabled:r(a).saving},u(r(s)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,XT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},u(r(a).saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,FT)])],32))])):Te("",!0)]))}},[["__scopeId","data-v-16b61b42"]]),VT={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},HT={class:"nxp-ec-admin-panel__header"},BT={class:"nxp-ec-admin-panel__title"},KT={class:"nxp-ec-admin-panel__lead"},jT={class:"nxp-ec-admin-panel__actions"},JT=["placeholder","aria-label"],WT=["value"],qT={value:""},zT=["value"],QT=["disabled","title","aria-label"],ZT={class:"nxp-ec-sr-only"},ey={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ty={key:1,class:"nxp-ec-admin-panel__body"},sy={key:2,class:"nxp-ec-admin-panel__body"},ny={class:"nxp-ec-admin-panel__table"},iy={class:"nxp-ec-admin-table"},oy={scope:"col"},ay={scope:"col"},ry={scope:"col"},ly={scope:"col"},cy={scope:"col"},dy={key:0},uy={colspan:"5"},py={class:"nxp-ec-log-entity"},_y={class:"nxp-ec-log-entity-id"},fy={class:"nxp-ec-log-context"},hy={key:0,class:"nxp-ec-admin-pagination"},my=["disabled"],gy={class:"nxp-ec-admin-pagination__status"},Sy=["disabled"],Cy=["title"],Ey=At({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const n=e,o=t,s=n.translate,a=n.state,l=ge(()=>{const N=new Set;return Array.isArray(a.items)&&a.items.forEach(A=>{A!=null&&A.entity_type&&N.add(A.entity_type)}),a.entity&&N.add(a.entity),Array.from(N).sort()}),d=()=>o("refresh"),p=()=>o("search"),_=N=>o("filter",N),f=N=>o("page",N),c=N=>{if(!N)return"";try{const A=new Date(N.replace(" ","T"));if(!Number.isNaN(A.getTime()))return A.toLocaleString()}catch(A){}return N},g=N=>{if(!N)return s("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(N){case"order":return s("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return s("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return s("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return s("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return N.charAt(0).toUpperCase()+N.slice(1)}},R=N=>{if(!(N!=null&&N.user))return s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const A=N.user.name||"",W=N.user.username||"";return A&&W?`${A} (${W})`:A||W||s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},k=N=>{if(!N||Array.isArray(N)&&!N.length||typeof N=="object"&&!Object.keys(N).length)return"";try{return JSON.stringify(N,null,2)}catch(A){return String(N)}},O=N=>{if(!N)return"";try{const A=new Date(N),H=new Date-A,M=Math.floor(H/1e3),L=Math.floor(M/60),oe=Math.floor(L/60);return M<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):L<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[L]):oe<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[oe]):A.toLocaleString()}catch(A){return N}};return(N,A)=>(y(),x("section",VT,[i("header",HT,[i("div",null,[i("h2",BT,u(r(s)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",KT,u(r(s)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",jT,[te(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":A[0]||(A[0]=W=>r(a).search=W),placeholder:r(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:jt(p,["enter"])},null,40,JT),[[de,r(a).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(a).entity,onChange:A[1]||(A[1]=W=>_(W.target.value)),"aria-label":"Entity filter"},[i("option",qT,u(r(s)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(y(!0),x(Se,null,Oe(l.value,W=>(y(),x("option",{key:W,value:W},u(g(W)),9,zT))),128))],40,WT),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:r(a).loading,title:r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[A[4]||(A[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",ZT,u(r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,QT)])]),r(a).error?(y(),x("div",ey,u(r(a).error),1)):r(a).loading?(y(),x("div",ty,[Ve(Ns,{type:"table",rows:5,columns:5})])):(y(),x("div",sy,[i("div",ny,[i("table",iy,[i("thead",null,[i("tr",null,[i("th",oy,u(r(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",ay,u(r(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",ry,u(r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",ly,u(r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",cy,u(r(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(a).items.length?Te("",!0):(y(),x("tr",dy,[i("td",uy,u(r(s)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(y(!0),x(Se,null,Oe(r(a).items,W=>(y(),x("tr",{key:W.id},[i("td",null,u(c(W.created)),1),i("td",null,[i("span",py,u(g(W.entity_type)),1),i("span",_y,"#"+u(W.entity_id),1)]),i("td",null,u(W.action),1),i("td",null,u(R(W)),1),i("td",null,[i("pre",fy,u(k(W.context)),1)])]))),128))])]),r(a).pagination.pages>1?(y(),x("div",hy,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current<=1,onClick:A[2]||(A[2]=W=>f(r(a).pagination.current-1))},"  ",8,my),i("span",gy,u(r(a).pagination.current)+" / "+u(r(a).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current>=r(a).pagination.pages,onClick:A[3]||(A[3]=W=>f(r(a).pagination.current+1))},"  ",8,Sy)])):Te("",!0)]),r(a).lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(a).lastUpdated},u(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(O(r(a).lastUpdated)),9,Cy)):Te("",!0)]))]))}},[["__scopeId","data-v-3275d875"]]),by={key:0,class:"nxp-ec-onboarding"},Ay={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},Ty={class:"nxp-ec-onboarding__header"},yy={class:"nxp-ec-onboarding__title"},Oy={class:"nxp-ec-onboarding__lead"},Ry={class:"nxp-ec-onboarding__progress"},vy={class:"nxp-ec-onboarding__progress-bar"},xy={class:"nxp-ec-onboarding__progress-label"},Ny={class:"nxp-ec-onboarding__steps"},Py={class:"nxp-ec-onboarding__step-main"},My={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},Iy={key:0,class:"fa-solid fa-circle-check"},ky={key:1,class:"fa-regular fa-circle"},wy={class:"nxp-ec-onboarding__step-actions"},$y=["onClick"],Uy=At({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,n=t.translate,o=ge(()=>t.steps.length?t.steps.filter(d=>d.completed).length/t.steps.length*100:0),s=ge(()=>`${o.value}%`),a=ge(()=>{const l=t.steps.filter(d=>d.completed).length;return n("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,d)=>e.visible?(y(),x("div",by,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:d[0]||(d[0]=p=>l.$emit("close"))}),i("section",Ay,[i("header",Ty,[i("div",null,[i("h2",yy,u(r(n)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",Oy,u(r(n)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:d[1]||(d[1]=p=>l.$emit("close"))},u(r(n)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",Ry,[i("div",vy,[i("span",{style:Lt({width:s.value})},null,4)]),i("span",xy,u(a.value),1)]),i("ol",Ny,[(y(!0),x(Se,null,Oe(e.steps,p=>(y(),x("li",{key:p.id,class:Pe({"is-complete":p.completed})},[i("div",Py,[i("span",My,[p.completed?(y(),x("span",Iy)):(y(),x("span",ky))]),i("div",null,[i("h3",null,u(r(n)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,u(r(n)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",wy,[p.link?(y(),x("button",{key:0,type:"button",class:Pe(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:_=>l.$emit("navigate",p)},u(p.completed?r(n)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(n)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,$y)):Te("",!0)])],2))),128))])])])):Te("",!0)}},[["__scopeId","data-v-97d3dc8b"]]),Dy=(e,t=[])=>{var s;if(!t.length)return e;const n=(s=window==null?void 0:window.Joomla)==null?void 0:s.sprintf;if(typeof n=="function")try{return n.call(window.Joomla,e,...t)}catch(a){}let o=String(e);return t.forEach(a=>{const l=a!=null?a:"";o=o.replace("%s",String(l))}),o},Ly=(e,t="",n=[])=>{var a;const o=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let s=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(s=l)}return Dy(s,n)};function Yy(e={}){const t=e||{},n=(s,a)=>{if(!s)return a;const l=t[s];return l!=null&&l!==""?l:a};return{__:(s,a="",l=[],d="")=>{const p=n(d,a);return Ly(s,p,l)}}}class Xy{constructor({token:t=""}={}){this.token=t}async request(t,n={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...n};o.headers={...o.headers,...n.headers||{}};const s=String(o.method||"GET").toUpperCase();let a=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,s!=="GET"&&(a=this.ensureTokenOnUrl(a)));const l=await fetch(a,o);let d=null;const p=await l.text();if(p)try{d=JSON.parse(p)}catch(_){}if(!l.ok){const _=new Error((d==null?void 0:d.message)||`Request failed with status ${l.status}`);throw _.code=l.status,_.details=(d==null?void 0:d.data)||(d==null?void 0:d.errors)||null,_}if((d==null?void 0:d.success)===!1){const _=new Error(d.message||"Unknown API error");throw _.details=d.data||d.errors||null,_}return d!=null?d:{}}ensureTokenOnUrl(t){if(!this.token)return t;const n=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,s=new URL(t,o);return s.searchParams.has(this.token)||s.searchParams.set(this.token,"1"),s.toString()}catch(o){if(t.includes(`${n}=`))return t;const s=t.includes("?")?"&":"?";return`${t}${s}${n}=1`}}get(t,n={}){return this.request(t,{...n,method:"GET"})}post(t,n,o={}){const s={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:s,body:JSON.stringify(n)})}put(t,n,o={}){const s={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:s,body:JSON.stringify(n)})}delete(t,n={}){return this.request(t,{...n,method:"DELETE"})}async fetchProducts({endpoint:t,limit:n=20,start:o=0,search:s="",signal:a}){var g,R,k,O;const l=new URLSearchParams({limit:String(n),start:String(o)});s&&l.set("search",s);const d=`${t}&${l.toString()}`,_=(g=(await this.get(d,{signal:a})).data)!=null?g:{},f=(k=(R=_.items)!=null?R:_.data)!=null?k:[],c=(O=_.pagination)!=null?O:{total:0,limit:n,pages:0,current:0};return{items:f,pagination:c}}async fetchCategories({endpoint:t,limit:n=20,start:o=0,search:s="",signal:a}){var _,f,c;const l=this.mergeParams(t,{limit:n,start:o,search:s||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:n,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:n=20,start:o=0,search:s="",state:a="",signal:l}){var g,R,k,O;const d=this.mergeParams(t,{limit:n,start:o,search:s||void 0,state:a||void 0}),_=(g=(await this.get(d,{signal:l})).data)!=null?g:{},f=(k=(R=_.items)!=null?R:_.data)!=null?k:[],c=(O=_.pagination)!=null?O:{total:0,limit:n,pages:0,current:0};return{items:f,pagination:c}}async fetchCustomers({endpoint:t,limit:n=20,start:o=0,search:s="",signal:a}){var c,g,R;const l=this.mergeParams(t,{limit:n,start:o,search:s||void 0}),p=(c=(await this.get(l,{signal:a})).data)!=null?c:{},_=(g=p.items)!=null?g:[],f=(R=p.pagination)!=null?R:{total:0,limit:n,pages:0,current:0};return{items:_,pagination:f}}async fetchCustomer({endpoint:t,email:n}){var a,l;const o=this.mergeParams(t,{email:n});return(l=(a=(await this.get(o)).data)==null?void 0:a.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:n=20,start:o=0,search:s="",signal:a}){var _,f,c;const l=this.mergeParams(t,{limit:n,start:o,search:s||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:n,pages:0,current:0}}}async createCoupon({endpoint:t,data:n}){var s,a;return(a=(s=(await this.post(t,n)).data)==null?void 0:s.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:n,data:o}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,o)).data)==null?void 0:l.coupon)!=null?d:null}async deleteCoupons({endpoint:t,ids:n}){var s,a;return(a=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:n=20,start:o=0,search:s="",signal:a}){var _,f,c;const l=this.mergeParams(t,{limit:n,start:o,search:s||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:n,pages:0,current:0}}}async createTaxRate({endpoint:t,data:n}){var s,a;return(a=(s=(await this.post(t,n)).data)==null?void 0:s.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:n,data:o}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,o)).data)==null?void 0:l.rate)!=null?d:null}async deleteTaxRates({endpoint:t,ids:n}){var s,a;return(a=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:n=20,start:o=0,search:s="",signal:a}){var _,f,c;const l=this.mergeParams(t,{limit:n,start:o,search:s||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:n,pages:0,current:0}}}async createShippingRule({endpoint:t,data:n}){var s,a;return(a=(s=(await this.post(t,n)).data)==null?void 0:s.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:n,data:o}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,o)).data)==null?void 0:l.rule)!=null?d:null}async deleteShippingRules({endpoint:t,ids:n}){var s,a;return(a=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:n=20,start:o=0,search:s="",entity:a="",signal:l}){var f,c,g;const d=this.mergeParams(t,{limit:n,start:o,search:s||void 0,entity:a||void 0}),_=(f=(await this.get(d,{signal:l})).data)!=null?f:{};return{items:(c=_.items)!=null?c:[],pagination:(g=_.pagination)!=null?g:{total:0,limit:n,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,s;return t?(s=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?s:{}:{}}async updateSettings({endpoint:t,data:n}){var s,a;return(a=(s=(await this.put(t,n)).data)==null?void 0:s.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:n=null,orderNumber:o=""}){var l,d;const s=this.mergeParams(t,{id:n||void 0,order_no:o||void 0});return(d=(l=(await this.get(s)).data)==null?void 0:l.order)!=null?d:null}async transitionOrder({endpoint:t,id:n,state:o}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.post(s,{state:o})).data)==null?void 0:l.order)!=null?d:null}async bulkTransitionOrders({endpoint:t,ids:n,state:o}){var l;const s={ids:n,state:o};return(l=(await this.post(t,s)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:n,message:o}){var a,l;return(l=(a=(await this.post(t,{id:n,message:o})).data)==null?void 0:a.order)!=null?l:null}async createProduct({endpoint:t,data:n}){var s,a;return(a=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?a:null}async updateProduct({endpoint:t,id:n,data:o}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,o)).data)==null?void 0:l.item)!=null?d:null}async deleteProducts({endpoint:t,ids:n}){var s,a;return(a=(s=(await this.post(t,{ids:n},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?a:[]}async createCategory({endpoint:t,data:n}){var s,a;return(a=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?a:null}async updateCategory({endpoint:t,id:n,data:o}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,o)).data)==null?void 0:l.item)!=null?d:null}async deleteCategories({endpoint:t,ids:n}){var s,a;return(a=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?a:0}mergeParams(t,n={}){const o=new URLSearchParams;return Object.entries(n).forEach(([s,a])=>{a==null||a===""||o.set(s,String(a))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const pt=e=>new Xy(e),Qo=typeof window!="undefined"&&window.performance;function Zo(e){if(Qo)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function Fy(e,t,n){if(!Qo)return null;try{performance.measure(e,t,n);const o=performance.getEntriesByName(e,"measure")[0];if(o)return console.log(`[NXP EC Performance] ${e}: ${o.duration.toFixed(2)}ms`),o.duration}catch(o){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,o)}return null}const dn=we({}),Gy=3e5;function Vy(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Tt(e,t=Gy){const n=dn[e];return n?Vy(n,t)?n.data:(delete dn[e],null):null}function _t(e,t){dn[e]={data:t,timestamp:Date.now()}}function Xe(e){delete dn[e]}function yt(e){const t=Ge({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return Zo(l),l},endFetch:l=>{const d=`${e}-fetch-end`;Zo(d);const p=Fy(`${e}-fetch`,l,d);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const ni=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,n);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function Hy({endpoints:e,token:t,autoload:n=!0,cacheTTL:o=3e5}){var oe,ae,le,fe;const s=pt({token:t}),a=yt("products"),l=(oe=e==null?void 0:e.list)!=null?oe:"",d=(ae=e==null?void 0:e.create)!=null?ae:ni(l,"store"),p=(le=e==null?void 0:e.update)!=null?le:ni(l,"update"),_=(fe=e==null?void 0:e.delete)!=null?fe:ni(l,"delete"),f=typeof AbortController!="undefined",c=we({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),g=Ge(null),R=()=>{const j=c.pagination.current||1,B=c.pagination.limit||20,q=c.search.trim();return`products:page=${j}:limit=${B}:search=${q}`},k=async(j=!1)=>{var ue;if(!l){c.error="Products endpoint unavailable.",c.items=[];return}const B=R(),q=j?null:Tt(B,o);if(q){a.recordCacheHit(),c.items=q.items,c.pagination={...c.pagination,...q.pagination},c.lastUpdated=q.lastUpdated;return}a.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],g.value&&f&&g.value.abort();const G=f?new AbortController:null;g.value=G;const se=a.startFetch();try{const{items:ne,pagination:z}=await s.fetchProducts({endpoint:l,signal:G?G.signal:void 0,limit:c.pagination.limit,start:Math.max(0,(c.pagination.current-1)*c.pagination.limit),search:c.search.trim()});c.items=ne,c.pagination={...c.pagination,...z,current:z.current&&z.current>0?z.current:1},c.lastUpdated=new Date().toISOString(),_t(B,{items:ne,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(ne){if((ne==null?void 0:ne.name)==="AbortError")return;c.error=(ue=ne==null?void 0:ne.message)!=null?ue:"Unknown error"}finally{a.endFetch(se),f&&g.value===G&&(g.value=null),c.loading=!1}},O=()=>{c.pagination.current=1,Xe(R()),k(!0)},N=()=>{c.pagination.current=1,k()},A=j=>j?typeof j=="string"?j:typeof j=="object"&&j.message?String(j.message):String(j):"",W=(j,{setValidation:B=!1}={})=>{var q;if((j==null?void 0:j.code)===422&&B){const G=Array.isArray(j.details)?j.details:[j.details].filter(Boolean);c.validationErrors=G.map(A).filter(se=>se!=="");return}c.error=(q=j==null?void 0:j.message)!=null?q:"Unknown error"},H=async j=>{if(!d)throw new Error("Create endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const B=await s.createProduct({endpoint:d,data:j});return B&&(c.items=[B,...c.items],c.pagination.total+=1,Xe(R())),B}catch(B){throw W(B,{setValidation:!0}),B}finally{c.saving=!1}},M=async(j,B)=>{if(!p)throw new Error("Update endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const q=await s.updateProduct({endpoint:p,id:j,data:B});if(q){const G=c.items.findIndex(se=>se.id===q.id);G!==-1&&c.items.splice(G,1,q),Xe(R())}return q}catch(q){throw W(q,{setValidation:!0}),q}finally{c.saving=!1}},L=async j=>{if(!_)throw new Error("Delete endpoint unavailable.");c.deleting=!0,c.validationErrors=[];try{const B=await s.deleteProducts({endpoint:_,ids:j});return B.length&&(c.items=c.items.filter(q=>!B.includes(q.id)),c.pagination.total=Math.max(0,c.pagination.total-B.length),Xe(R())),B}catch(B){throw W(B),B}finally{c.deleting=!1}};return it(()=>{n&&k()}),{state:c,loadProducts:k,refresh:O,search:N,createProduct:H,updateProduct:M,deleteProducts:L,metrics:a.metrics}}function By({endpoints:e,token:t,preload:n={},autoload:o=!0,cacheTTL:s=3e5}){var ae,le,fe,j,B,q,G,se,ue,ne,z,P,I,X;const a=pt({token:t}),l=yt("categories"),d=(ae=e==null?void 0:e.list)!=null?ae:"",p=(le=e==null?void 0:e.create)!=null?le:d,_=(fe=e==null?void 0:e.update)!=null?fe:d,f=(j=e==null?void 0:e.delete)!=null?j:d,c=we({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(n.items)?n.items:[],pagination:{total:(se=(G=(B=n.pagination)==null?void 0:B.total)!=null?G:(q=n.items)==null?void 0:q.length)!=null?se:0,limit:(ne=(ue=n.pagination)==null?void 0:ue.limit)!=null?ne:20,pages:(P=(z=n.pagination)==null?void 0:z.pages)!=null?P:0,current:(X=(I=n.pagination)==null?void 0:I.current)!=null?X:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",R=Ge(null),k=()=>{const U=c.pagination.current||1,V=c.pagination.limit||20,Q=c.search.trim();return`categories:page=${U}:limit=${V}:search=${Q}`},O=async(U=!1)=>{var ye;if(!d){c.error="Categories endpoint unavailable.",c.items=[];return}const V=k(),Q=U?null:Tt(V,s);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],R.value&&g&&R.value.abort();const ce=g?new AbortController:null;R.value=ce;const Ae=l.startFetch();try{const ie=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:w,pagination:C}=await a.fetchCategories({endpoint:d,limit:c.pagination.limit,start:ie,search:c.search.trim(),signal:ce?ce.signal:void 0});c.items=w,c.pagination={...c.pagination,...C,current:C.current&&C.current>0?C.current:1},c.lastUpdated=new Date().toISOString(),_t(V,{items:w,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(ie){if((ie==null?void 0:ie.name)==="AbortError")return;c.error=(ye=ie==null?void 0:ie.message)!=null?ye:"Unknown error"}finally{l.endFetch(Ae),g&&R.value===ce&&(R.value=null),c.loading=!1}},N=()=>{c.pagination.current=1,Xe(k()),O(!0)},A=()=>{c.pagination.current=1,O()},W=U=>{const V=Number(U);Number.isNaN(V)||V<1||V===c.pagination.current||(c.pagination.current=V,O())},H=(U,{validation:V=!1}={})=>{var Q;if(V&&(U==null?void 0:U.code)===422){const ce=U.details,Ae=Array.isArray(ce)?ce:[ce].filter(Boolean);c.validationErrors=Ae.map(ye=>ye?typeof ye=="string"?ye:typeof ye=="object"&&ye.message?String(ye.message):String(ye):"").filter(Boolean);return}c.error=(Q=U==null?void 0:U.message)!=null?Q:"Unknown error"},M=async U=>{if(!p||!_)throw new Error("Category endpoints unavailable.");c.saving=!0,c.error="",c.validationErrors=[];try{let V=null;return U.id?V=await a.updateCategory({endpoint:_,id:U.id,data:U}):V=await a.createCategory({endpoint:p,data:U}),V&&(Xe(k()),await O()),V}catch(V){throw H(V,{validation:!0}),V}finally{c.saving=!1}},L=async U=>{if(!Array.isArray(U)||!U.length||!f)return 0;c.deleting=!0,c.error="";try{const V=await a.deleteCategories({endpoint:f,ids:U});return V&&(Xe(k()),await O()),V}catch(V){throw H(V),V}finally{c.deleting=!1}},oe=async()=>{if(!d)return[];try{const{items:U}=await a.fetchCategories({endpoint:d,limit:200,start:0,search:""});return U}catch(U){return[]}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&O()}),{state:c,loadCategories:O,refresh:N,search:A,goToPage:W,saveCategory:M,deleteCategories:L,loadOptions:oe,metrics:l.metrics}}const un=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,n);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function Ky({endpoints:e,token:t,states:n=[],preload:o={},autoload:s=!0,cacheTTL:a=3e5}){var P,I,X,U,V,Q,ce,Ae,ye;const l=pt({token:t}),d=yt("orders"),p=(P=e==null?void 0:e.list)!=null?P:"",_=(I=e==null?void 0:e.show)!=null?I:un(p,"show"),f=(X=e==null?void 0:e.transition)!=null?X:un(p,"transition"),c=(U=e==null?void 0:e.bulkTransition)!=null?U:un(p,"bulkTransition"),g=(V=e==null?void 0:e.note)!=null?V:un(p,"note"),R=typeof AbortController!="undefined",k=Ge(null),O=Array.isArray(o==null?void 0:o.items)?o.items:[],N=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},A=we({loading:!1,saving:!1,error:"",transitionError:"",items:[...O],pagination:{total:(Q=N.total)!=null?Q:O.length,limit:(ce=N.limit)!=null?ce:20,pages:(Ae=N.pages)!=null?Ae:0,current:(ye=N.current)!=null?ye:1},search:"",filterState:"",orderStates:Array.isArray(n)&&n.length?n:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null}),W=()=>{const ie=A.pagination.current||1,w=A.pagination.limit||20,C=A.search.trim(),S=A.filterState||"";return`orders:page=${ie}:limit=${w}:search=${C}:state=${S}`},H=async(ie=!1)=>{var m;if(!p){A.error="Orders endpoint unavailable.",A.items=[];return}const w=W(),C=ie?null:Tt(w,a);if(C){d.recordCacheHit(),A.items=C.items,A.pagination={...A.pagination,...C.pagination},A.lastUpdated=C.lastUpdated;return}d.recordCacheMiss(),A.loading=!0,A.error="",k.value&&R&&k.value.abort();const S=R?new AbortController:null;k.value=S;const Ee=d.startFetch();try{const b=Math.max(0,(A.pagination.current-1)*A.pagination.limit),{items:Y,pagination:K}=await l.fetchOrders({endpoint:p,limit:A.pagination.limit,start:b,search:A.search.trim(),state:A.filterState,signal:S?S.signal:void 0});A.items=Y,A.pagination={...A.pagination,...K,current:K.current&&K.current>0?K.current:1},A.selection.clear(),A.lastUpdated=new Date().toISOString(),_t(w,{items:Y,pagination:A.pagination,lastUpdated:A.lastUpdated})}catch(b){if((b==null?void 0:b.name)==="AbortError")return;A.error=(m=b==null?void 0:b.message)!=null?m:"Unknown error"}finally{d.endFetch(Ee),R&&k.value===S&&(k.value=null),A.loading=!1}},M=()=>{A.pagination.current=1,Xe(W()),H(!0)},L=()=>{A.pagination.current=1,H()},oe=ie=>{A.filterState=ie||"",A.pagination.current=1,H()},ae=ie=>{const w=Number(ie);Number.isNaN(w)||w<1||w===A.pagination.current||(A.pagination.current=w,H())},le=()=>{A.selection.clear()},fe=ie=>{ie&&(A.selection.has(ie)?A.selection.delete(ie):A.selection.add(ie))},j=()=>{A.pagination.current>=A.pagination.pages||(A.pagination.current+=1,H())},B=()=>{A.pagination.current<=1||(A.pagination.current-=1,H())},q=async(ie,w="")=>{var C;if(!_)return null;try{return await l.fetchOrder({endpoint:_,id:ie,orderNumber:w})}catch(S){return A.transitionError=(C=S==null?void 0:S.message)!=null?C:"Unknown error",null}},G=async ie=>{var w,C,S,Ee,m,b,Y;if(!ie){A.activeOrder=null;return}if(A.transitionError="",ie.items&&ie.items.length&&ie.billing){A.activeOrder=ie;return}try{const K=await q(ie.id,ie.order_no);A.activeOrder=K||{...ie,items:Array.isArray(ie.items)?ie.items:[],transactions:(w=ie.transactions)!=null?w:[],timeline:(C=ie.timeline)!=null?C:[],billing:(S=ie.billing)!=null?S:{}}}catch(K){A.transitionError=(Ee=K==null?void 0:K.message)!=null?Ee:"Unknown error",A.activeOrder={...ie,items:Array.isArray(ie.items)?ie.items:[],transactions:(m=ie.transactions)!=null?m:[],timeline:(b=ie.timeline)!=null?b:[],billing:(Y=ie.billing)!=null?Y:{}}}},se=()=>{A.transitionError="",A.activeOrder=null},ue=ie=>{if(!(ie!=null&&ie.id))return;const w=A.items.findIndex(C=>C.id===ie.id);w!==-1&&A.items.splice(w,1,ie)},ne=async(ie,w)=>{var C;if(!f)throw new Error("Transition endpoint unavailable.");A.saving=!0,A.transitionError="";try{const S=await l.transitionOrder({endpoint:f,id:ie,state:w});return S&&(ue(S),A.activeOrder&&A.activeOrder.id===S.id&&(A.activeOrder=S),Xe(W())),S}catch(S){throw A.transitionError=(C=S==null?void 0:S.message)!=null?C:"Unknown error",S}finally{A.saving=!1}},z=async(ie,w)=>{var C;if(!c)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(ie)||!ie.length)return{updated:[]};A.saving=!0;try{const S=await l.bulkTransitionOrders({endpoint:c,ids:ie,state:w}),Ee=Array.isArray(S.updated)?S.updated:[];return Ee.forEach(m=>{ue(m),A.activeOrder&&A.activeOrder.id===m.id&&(A.activeOrder=m)}),le(),{updated:Ee}}catch(S){throw A.transitionError=(C=S==null?void 0:S.message)!=null?C:"Unknown error",S}finally{A.saving=!1}};return it(()=>{s&&H()}),{state:A,loadOrders:H,refresh:M,search:L,setFilterState:oe,goToPage:ae,nextPage:j,previousPage:B,viewOrder:G,closeOrder:se,transitionOrder:ne,bulkTransition:z,toggleSelection:fe,clearSelection:le,metrics:d.metrics,addNote:async(ie,w)=>{var C;if(!g)throw new Error("Note endpoint unavailable.");if(!ie||!w||!w.trim())return null;A.transitionError="",A.saving=!0;try{const S=await l.addOrderNote({endpoint:g,id:ie,message:w});return S&&(ue(S),A.activeOrder&&A.activeOrder.id===S.id&&(A.activeOrder=S)),S}catch(S){throw A.transitionError=(C=S==null?void 0:S.message)!=null?C:"Unknown error",S}finally{A.saving=!1}}}}function jy({endpoint:e="",token:t="",preload:n={},autoload:o=!0,cacheTTL:s=3e5}){var f,c,g;const a=pt({token:t}),l=yt("dashboard"),d=we({loading:!1,error:"",summary:(g=n.summary)!=null?g:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(c=(f=n.summary)==null?void 0:f.currency)!=null?c:"USD"},checklist:Array.isArray(n.checklist)?n.checklist:[],lastUpdated:null}),p=()=>"dashboard",_=async(R=!1)=>{var A,W;if(!e)return;const k=p(),O=R?null:Tt(k,s);if(O){l.recordCacheHit(),d.summary=O.summary,d.checklist=O.checklist,d.lastUpdated=O.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="";const N=l.startFetch();try{const H=await a.fetchDashboard({endpoint:e});d.summary=(A=H.summary)!=null?A:d.summary,d.checklist=Array.isArray(H.checklist)?H.checklist:d.checklist,d.lastUpdated=new Date().toISOString(),_t(k,{summary:d.summary,checklist:d.checklist,lastUpdated:d.lastUpdated})}catch(H){d.error=(W=H==null?void 0:H.message)!=null?W:"Unknown error"}finally{l.endFetch(N),d.loading=!1}};return it(()=>{o&&(!Array.isArray(d.checklist)||!d.checklist.length)&&_()}),{state:d,refresh:_,metrics:l.metrics}}function Jy({endpoints:e,token:t,preload:n={},autoload:o=!0,cacheTTL:s=3e5}){var H,M,L,oe,ae,le,fe,j,B,q,G,se,ue;const a=pt({token:t}),l=yt("customers"),d=(H=e==null?void 0:e.list)!=null?H:"",p=(M=e==null?void 0:e.show)!=null?M:"",_=we({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(le=(ae=(L=n.pagination)==null?void 0:L.total)!=null?ae:(oe=n.items)==null?void 0:oe.length)!=null?le:0,limit:(j=(fe=n.pagination)==null?void 0:fe.limit)!=null?j:20,pages:(q=(B=n.pagination)==null?void 0:B.pages)!=null?q:0,current:(se=(G=n.pagination)==null?void 0:G.current)!=null?se:1},search:"",activeCustomer:(ue=n.active)!=null?ue:null,lastUpdated:null}),f=typeof AbortController!="undefined",c=Ge(null),g=()=>{const ne=_.pagination.current||1,z=_.pagination.limit||20,P=_.search.trim();return`customers:page=${ne}:limit=${z}:search=${P}`},R=async(ne=!1)=>{var U;if(!d){_.error="Customers endpoint unavailable.",_.items=[];return}const z=g(),P=ne?null:Tt(z,s);if(P){l.recordCacheHit(),_.items=P.items,_.pagination={..._.pagination,...P.pagination},_.lastUpdated=P.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="",c.value&&f&&c.value.abort();const I=f?new AbortController:null;c.value=I;const X=l.startFetch();try{const V=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:Q,pagination:ce}=await a.fetchCustomers({endpoint:d,limit:_.pagination.limit,start:V,search:_.search.trim(),signal:I?I.signal:void 0});_.items=Q,_.pagination={..._.pagination,...ce,current:ce.current&&ce.current>0?ce.current:1},_.lastUpdated=new Date().toISOString(),_t(z,{items:Q,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(V){if((V==null?void 0:V.name)==="AbortError")return;_.error=(U=V==null?void 0:V.message)!=null?U:"Unknown error"}finally{l.endFetch(X),f&&c.value===I&&(c.value=null),_.loading=!1}},k=()=>{_.pagination.current=1,Xe(g()),R(!0)},O=()=>{_.pagination.current=1,R()},N=ne=>{const z=Number(ne);Number.isNaN(z)||z<1||z===_.pagination.current||(_.pagination.current=z,R())},A=async ne=>{var z;if(!p||!(ne!=null&&ne.email)){_.activeCustomer=ne||null;return}try{const P=await a.fetchCustomer({endpoint:p,email:ne.email});_.activeCustomer=P||ne}catch(P){_.error=(z=P==null?void 0:P.message)!=null?z:"Unknown error"}},W=()=>{_.activeCustomer=null};return it(()=>{o&&(!Array.isArray(_.items)||!_.items.length)&&R()}),{state:_,loadCustomers:R,refresh:k,search:O,goToPage:N,viewCustomer:A,closeCustomer:W,metrics:l.metrics}}function Wy({endpoints:e,token:t,preload:n={},autoload:o=!0,cacheTTL:s=3e5}){var ae,le,fe,j,B,q,G,se,ue,ne,z,P,I,X;const a=pt({token:t}),l=yt("coupons"),d=(ae=e==null?void 0:e.list)!=null?ae:"",p=(le=e==null?void 0:e.create)!=null?le:d,_=(fe=e==null?void 0:e.update)!=null?fe:d,f=(j=e==null?void 0:e.delete)!=null?j:d,c=we({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(se=(G=(B=n.pagination)==null?void 0:B.total)!=null?G:(q=n.items)==null?void 0:q.length)!=null?se:0,limit:(ne=(ue=n.pagination)==null?void 0:ue.limit)!=null?ne:20,pages:(P=(z=n.pagination)==null?void 0:z.pages)!=null?P:0,current:(X=(I=n.pagination)==null?void 0:I.current)!=null?X:1},search:"",activeCoupon:null,lastUpdated:null}),g=typeof AbortController!="undefined",R=Ge(null),k=()=>{const U=c.pagination.current||1,V=c.pagination.limit||20,Q=c.search.trim();return`coupons:page=${U}:limit=${V}:search=${Q}`},O=async(U=!1)=>{var ye;if(!d){c.error="Coupons endpoint unavailable.",c.items=[];return}const V=k(),Q=U?null:Tt(V,s);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",R.value&&g&&R.value.abort();const ce=g?new AbortController:null;R.value=ce;const Ae=l.startFetch();try{const ie=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:w,pagination:C}=await a.fetchCoupons({endpoint:d,limit:c.pagination.limit,start:ie,search:c.search.trim(),signal:ce?ce.signal:void 0});c.items=w,c.pagination={...c.pagination,...C,current:C.current&&C.current>0?C.current:1},c.lastUpdated=new Date().toISOString(),_t(V,{items:w,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(ie){if((ie==null?void 0:ie.name)==="AbortError")return;c.error=(ye=ie==null?void 0:ie.message)!=null?ye:"Unknown error"}finally{l.endFetch(Ae),g&&R.value===ce&&(R.value=null),c.loading=!1}},N=()=>{c.pagination.current=1,Xe(k()),O(!0)},A=()=>{c.pagination.current=1,O()},W=U=>{const V=Number(U);Number.isNaN(V)||V<1||V===c.pagination.current||(c.pagination.current=V,O())},H=U=>{c.activeCoupon=U},M=U=>{const V=c.items.findIndex(Q=>Q.id===U.id);V===-1?c.items.unshift(U):c.items.splice(V,1,U)},L=async U=>{var V;c.saving=!0,c.error="";try{let Q=null;return U.id?Q=await a.updateCoupon({endpoint:_,id:U.id,data:U}):Q=await a.createCoupon({endpoint:p,data:U}),Q&&(M(Q),c.activeCoupon&&c.activeCoupon.id===Q.id&&(c.activeCoupon=Q),Xe(k())),Q}catch(Q){throw c.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error",Q}finally{c.saving=!1}},oe=async U=>{var V;if(!Array.isArray(U)||!U.length)return 0;c.saving=!0,c.error="";try{const Q=await a.deleteCoupons({endpoint:f,ids:U});return Q&&(c.items=c.items.filter(ce=>!U.includes(ce.id)),c.activeCoupon&&U.includes(c.activeCoupon.id)&&(c.activeCoupon=null),Xe(k())),Q}catch(Q){throw c.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error",Q}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&O()}),{state:c,loadCoupons:O,refresh:N,search:A,goToPage:W,setActive:H,saveCoupon:L,deleteCoupons:oe,metrics:l.metrics}}const ii=(e={})=>{var d,p,_,f,c,g,R,k,O,N,A,W,H,M,L,oe,ae,le,fe;const t=(d=e.store)!=null?d:{},n=(p=e.payments)!=null?p:{},o=(_=e.visual)!=null?_:{},s=(f=e.visual_defaults)!=null?f:{},a=(g=(c=e.security)==null?void 0:c.rate_limits)!=null?g:{},l=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"USD";return{store:{name:(R=t.name)!=null?R:"",email:(k=t.email)!=null?k:"",phone:(O=t.phone)!=null?O:""},payments:{configured:!!n.configured},base_currency:l,checkout_phone_required:!!e.checkout_phone_required,visual:{primary_color:(N=o.primary_color)!=null?N:"",text_color:(A=o.text_color)!=null?A:"",surface_color:(W=o.surface_color)!=null?W:"",border_color:(H=o.border_color)!=null?H:"",muted_color:(M=o.muted_color)!=null?M:""},visual_defaults:{primary_color:(L=s.primary_color)!=null?L:"#4f6d7a",text_color:(oe=s.text_color)!=null?oe:"#1f2933",surface_color:(ae=s.surface_color)!=null?ae:"#ffffff",border_color:(le=s.border_color)!=null?le:"#e4e7ec",muted_color:(fe=s.muted_color)!=null?fe:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(a.checkout_ip_limit))?Number(a.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(a.checkout_email_limit))?Number(a.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(a.checkout_session_limit))?Number(a.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(a.checkout_window_minutes))?Number(a.checkout_window_minutes):Number.isFinite(Number(a.checkout_window))?Math.max(0,Math.ceil(Number(a.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(a.offline_ip_limit))?Number(a.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(a.offline_email_limit))?Number(a.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(a.offline_window_minutes))?Number(a.offline_window_minutes):Number.isFinite(Number(a.offline_window))?Math.max(0,Math.ceil(Number(a.offline_window)/60)):30}}}};function qy({endpoints:e,token:t,preload:n={},autoload:o=!0,cacheTTL:s=3e5}){var g,R;const a=pt({token:t}),l=yt("settings"),d=(g=e==null?void 0:e.show)!=null?g:"",p=(R=e==null?void 0:e.update)!=null?R:d,_=we({loading:!1,saving:!1,error:"",values:ii(n),lastUpdated:null}),f=async(k=!1)=>{var W;if(!d){_.error="Settings endpoint unavailable.";return}const O="settings:data",N=k?null:Tt(O,s);if(N){l.recordCacheHit(),_.values=N.values,_.lastUpdated=N.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="";const A=l.startFetch();try{const H=await a.fetchSettings({endpoint:d});_.values=ii(H),_.lastUpdated=new Date().toISOString(),_t(O,{values:_.values,lastUpdated:_.lastUpdated})}catch(H){throw _.error=(W=H==null?void 0:H.message)!=null?W:"Unknown error",H}finally{l.endFetch(A),_.loading=!1}},c=async k=>{var O;if(!p)return _.error="Settings endpoint unavailable.",null;_.saving=!0,_.error="";try{const N=await a.updateSettings({endpoint:p,data:k});return _.values=ii(N),_.lastUpdated=new Date().toISOString(),Xe("settings:data"),_t("settings:data",{values:_.values,lastUpdated:_.lastUpdated}),_.values}catch(N){throw _.error=(O=N==null?void 0:N.message)!=null?O:"Unknown error",N}finally{_.saving=!1}};return it(()=>{o&&(!n||!n.store)&&f()}),{state:_,refresh:f,save:c,metrics:l.metrics}}function zy({endpoints:e,token:t,preload:n={},autoload:o=!0,cacheTTL:s=3e5}){var H,M,L,oe,ae,le,fe,j,B,q,G,se,ue,ne;const a=pt({token:t}),l=yt("taxRates"),d=(H=e==null?void 0:e.list)!=null?H:"",p=(M=e==null?void 0:e.create)!=null?M:d,_=(L=e==null?void 0:e.update)!=null?L:d,f=(oe=e==null?void 0:e.delete)!=null?oe:d,c=we({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(j=(fe=(ae=n.pagination)==null?void 0:ae.total)!=null?fe:(le=n.items)==null?void 0:le.length)!=null?j:0,limit:(q=(B=n.pagination)==null?void 0:B.limit)!=null?q:20,pages:(se=(G=n.pagination)==null?void 0:G.pages)!=null?se:0,current:(ne=(ue=n.pagination)==null?void 0:ue.current)!=null?ne:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",R=Ge(null),k=()=>{const z=c.pagination.current||1,P=c.pagination.limit||20,I=c.search.trim();return`taxRates:page=${z}:limit=${P}:search=${I}`},O=async(z=!1)=>{var V;if(!d){c.error="Tax endpoint unavailable.",c.items=[];return}const P=k(),I=z?null:Tt(P,s);if(I){l.recordCacheHit(),c.items=I.items,c.pagination={...c.pagination,...I.pagination},c.lastUpdated=I.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",R.value&&g&&R.value.abort();const X=g?new AbortController:null;R.value=X;const U=l.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:ce,pagination:Ae}=await a.fetchTaxRates({endpoint:d,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:X?X.signal:void 0});c.items=ce,c.pagination={...c.pagination,...Ae,current:Ae.current&&Ae.current>0?Ae.current:1},c.lastUpdated=new Date().toISOString(),_t(P,{items:ce,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error"}finally{l.endFetch(U),g&&R.value===X&&(R.value=null),c.loading=!1}},N=()=>{c.pagination.current=1,Xe(k()),O(!0)},A=async z=>{var P;c.saving=!0,c.error="";try{const I=z.id?await a.updateTaxRate({endpoint:_,id:z.id,data:z}):await a.createTaxRate({endpoint:p,data:z});if(I){const X=c.items.findIndex(U=>U.id===I.id);X===-1?c.items.unshift(I):c.items.splice(X,1,I),Xe(k())}return I}catch(I){throw c.error=(P=I==null?void 0:I.message)!=null?P:"Unknown error",I}finally{c.saving=!1}},W=async z=>{var P;if(!Array.isArray(z)||!z.length)return 0;c.saving=!0,c.error="";try{const I=await a.deleteTaxRates({endpoint:f,ids:z});return I&&(c.items=c.items.filter(X=>!z.includes(X.id)),Xe(k())),I}catch(I){throw c.error=(P=I==null?void 0:I.message)!=null?P:"Unknown error",I}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&O()}),{state:c,loadRates:O,refresh:N,saveRate:A,deleteRates:W,metrics:l.metrics}}function Qy({endpoints:e,token:t,preload:n={},autoload:o=!0,cacheTTL:s=3e5}){var H,M,L,oe,ae,le,fe,j,B,q,G,se,ue,ne;const a=pt({token:t}),l=yt("shippingRules"),d=(H=e==null?void 0:e.list)!=null?H:"",p=(M=e==null?void 0:e.create)!=null?M:d,_=(L=e==null?void 0:e.update)!=null?L:d,f=(oe=e==null?void 0:e.delete)!=null?oe:d,c=we({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(j=(fe=(ae=n.pagination)==null?void 0:ae.total)!=null?fe:(le=n.items)==null?void 0:le.length)!=null?j:0,limit:(q=(B=n.pagination)==null?void 0:B.limit)!=null?q:20,pages:(se=(G=n.pagination)==null?void 0:G.pages)!=null?se:0,current:(ne=(ue=n.pagination)==null?void 0:ue.current)!=null?ne:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",R=Ge(null),k=()=>{const z=c.pagination.current||1,P=c.pagination.limit||20,I=c.search.trim();return`shippingRules:page=${z}:limit=${P}:search=${I}`},O=async(z=!1)=>{var V;if(!d){c.error="Shipping endpoint unavailable.",c.items=[];return}const P=k(),I=z?null:Tt(P,s);if(I){l.recordCacheHit(),c.items=I.items,c.pagination={...c.pagination,...I.pagination},c.lastUpdated=I.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",R.value&&g&&R.value.abort();const X=g?new AbortController:null;R.value=X;const U=l.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:ce,pagination:Ae}=await a.fetchShippingRules({endpoint:d,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:X?X.signal:void 0});c.items=ce,c.pagination={...c.pagination,...Ae,current:Ae.current&&Ae.current>0?Ae.current:1},c.lastUpdated=new Date().toISOString(),_t(P,{items:ce,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error"}finally{l.endFetch(U),g&&R.value===X&&(R.value=null),c.loading=!1}},N=()=>{c.pagination.current=1,Xe(k()),O(!0)},A=async z=>{var P;c.saving=!0,c.error="";try{const I=z.id?await a.updateShippingRule({endpoint:_,id:z.id,data:z}):await a.createShippingRule({endpoint:p,data:z});if(I){const X=c.items.findIndex(U=>U.id===I.id);X===-1?c.items.unshift(I):c.items.splice(X,1,I),Xe(k())}return I}catch(I){throw c.error=(P=I==null?void 0:I.message)!=null?P:"Unknown error",I}finally{c.saving=!1}},W=async z=>{var P;if(!Array.isArray(z)||!z.length)return 0;c.saving=!0,c.error="";try{const I=await a.deleteShippingRules({endpoint:f,ids:z});return I&&(c.items=c.items.filter(X=>!z.includes(X.id)),Xe(k())),I}catch(I){throw c.error=(P=I==null?void 0:I.message)!=null?P:"Unknown error",I}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&O()}),{state:c,loadRules:O,refresh:N,saveRule:A,deleteRules:W,metrics:l.metrics}}function Zy({endpoints:e,token:t,preload:n={},autoload:o=!0,cacheTTL:s=3e5}){var A,W,H,M,L,oe,ae,le,fe,j,B;const a=pt({token:t}),l=yt("logs"),d=(A=e==null?void 0:e.list)!=null?A:"",p=we({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(L=(M=(W=n.pagination)==null?void 0:W.total)!=null?M:(H=n.items)==null?void 0:H.length)!=null?L:0,limit:(ae=(oe=n.pagination)==null?void 0:oe.limit)!=null?ae:20,pages:(fe=(le=n.pagination)==null?void 0:le.pages)!=null?fe:0,current:(B=(j=n.pagination)==null?void 0:j.current)!=null?B:1},search:"",entity:"",lastUpdated:null}),_=typeof AbortController!="undefined",f=Ge(null),c=()=>{const q=p.pagination.current||1,G=p.pagination.limit||20,se=p.search.trim(),ue=p.entity.trim();return`logs:page=${q}:limit=${G}:search=${se}:entity=${ue}`},g=async(q=!1)=>{var z;if(!d){p.error="Logs endpoint unavailable.",p.items=[];return}const G=c(),se=q?null:Tt(G,s);if(se){l.recordCacheHit(),p.items=se.items,p.pagination={...p.pagination,...se.pagination},p.lastUpdated=se.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",_&&f.value&&f.value.abort();const ue=_?new AbortController:null;f.value=ue;const ne=l.startFetch();try{const P=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:I,pagination:X}=await a.fetchLogs({endpoint:d,limit:p.pagination.limit,start:P,search:p.search.trim(),entity:p.entity,signal:ue?ue.signal:void 0});p.items=I,p.pagination={...p.pagination,...X,current:X.current&&X.current>0?X.current:1},p.lastUpdated=new Date().toISOString(),_t(G,{items:I,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(P){if((P==null?void 0:P.name)==="AbortError")return;p.error=(z=P==null?void 0:P.message)!=null?z:"Unknown error"}finally{l.endFetch(ne),_&&f.value===ue&&(f.value=null),p.loading=!1}},R=()=>{p.pagination.current=1,Xe(c()),g(!0)},k=()=>{p.pagination.current=1,g()},O=q=>{const G=typeof q=="string"?q.trim():"";p.entity!==G&&(p.entity=G,p.pagination.current=1,g())},N=q=>{const G=Number(q);Number.isNaN(G)||G<1||G===p.pagination.current||(p.pagination.current=G,g())};return it(()=>{o&&(!Array.isArray(p.items)||!p.items.length)&&g()}),{state:p,loadLogs:g,refresh:R,search:k,setEntity:O,goToPage:N,metrics:l.metrics}}const ea=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function eO({endpoints:e={},token:t=""}){const n=pt({token:t}),o=we({loading:!1,saving:!1,error:"",config:ea(),message:""}),s=async()=>{var d,p,_,f;if(e.show){o.loading=!0,o.error="";try{const c=await n.get(e.show);o.config=l((_=(p=(d=c==null?void 0:c.data)==null?void 0:d.config)!=null?p:c==null?void 0:c.config)!=null?_:{})}catch(c){o.error=(f=c.message)!=null?f:"Unable to load payment configuration."}finally{o.loading=!1}}},a=async d=>{var p,_,f,c,g,R,k;if(e.update){o.saving=!0,o.error="",o.message="";try{const O=await n.post(e.update,{config:d});o.config=l((f=(_=(p=O==null?void 0:O.data)==null?void 0:p.config)!=null?_:O==null?void 0:O.config)!=null?f:{}),o.message=(R=(g=(c=O==null?void 0:O.data)==null?void 0:c.message)!=null?g:O==null?void 0:O.message)!=null?R:""}catch(O){o.error=(k=O.message)!=null?k:"Unable to save payment configuration."}finally{o.saving=!1}}},l=d=>{var _,f,c,g;const p=ea();return{stripe:{...p.stripe,...(_=d.stripe)!=null?_:{}},paypal:{...p.paypal,...(f=d.paypal)!=null?f:{}},cod:{...p.cod,...(c=d.cod)!=null?c:{}},bank_transfer:{...p.bank_transfer,...(g=d.bank_transfer)!=null?g:{}}}};return{state:o,refresh:s,save:a}}const tO={class:"nxp-ec-admin-app__shell"},sO={class:"nxp-ec-admin-app__header"},nO={class:"nxp-ec-admin-app__title"},iO={class:"nxp-ec-admin-app__lead"},oO={key:0,class:"nxp-ec-admin-nav"},aO=["href"],rO={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},lO={class:"nxp-ec-admin-panel__body"},cO={class:"nxp-ec-admin-panel__lead"},Ms="nxp:admin:onboarding:dismissed",dO={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var tr,sr,nr,ir,or,ar,rr,lr,cr,dr,ur,pr,_r,fr,hr,mr,gr,Sr,Cr,Er,br,Ar,Tr,yr,Or,Rr,vr,xr,Nr,Pr,Mr,Ir,kr,wr,$r,Ur,Dr,Lr,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,sl,nl,il,ol,al,rl,ll,cl,dl,ul,pl,_l,fl,hl,ml,gl,Sl,Cl,El,bl,Al,Tl,yl,Ol,Rl,vl,xl,Nl,Pl,Ml,Il,kl,wl,$l,Ul,Dl,Ll,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,sc,nc,ic,oc,ac,rc,lc,cc,dc,uc,pc,_c,fc,hc,mc,gc,Sc,Cc,Ec,bc,Ac,Tc,yc,Oc,Rc,vc,xc,Nc;const t=e,{__:n}=Yy(t.dataset),o=ge(()=>{var J;return((J=t.dataset)==null?void 0:J.appTitleKey)||"COM_NXPEASYCART"}),s=ge(()=>{var J;return((J=t.dataset)==null?void 0:J.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(J,_e)=>{if(!J||typeof J!="string")return _e;try{return JSON.parse(J)}catch(Ne){return _e}},l=ge(()=>{var _e,Ne;if(Array.isArray((_e=t.config)==null?void 0:_e.navItems))return t.config.navItems.map(st=>({id:st.id,title:st.title,link:st.link}));const J=a((Ne=t.dataset)==null?void 0:Ne.navItems,[]);return Array.isArray(J)?J.map(st=>({id:st.id,title:st.title,link:st.link})):[]}),d=J=>{const _e=l.value;if(!Array.isArray(_e))return"";const Ne=_e.find(st=>st.id===J);return Ne?Ne.link:""},p=ge(()=>{var J,_e;return((J=t.config)==null?void 0:J.activeSection)||((_e=t.dataset)==null?void 0:_e.activeSection)||"dashboard"}),_=J=>p.value===J,f=ge(()=>_("dashboard")),c=ge(()=>_("products")),g=ge(()=>_("categories")||_("products")),R=ge(()=>_("orders")),k=ge(()=>_("customers")),O=ge(()=>_("coupons")),N=ge(()=>_("settings")),A=ge(()=>_("logs")),W=(dr=(tr=t.endpoints)==null?void 0:tr.products)!=null?dr:{list:(nr=(sr=t.dataset)==null?void 0:sr.productsEndpoint)!=null?nr:"",create:(or=(ir=t.dataset)==null?void 0:ir.productsEndpointCreate)!=null?or:"",update:(rr=(ar=t.dataset)==null?void 0:ar.productsEndpointUpdate)!=null?rr:"",delete:(cr=(lr=t.dataset)==null?void 0:lr.productsEndpointDelete)!=null?cr:""},H=(Er=(ur=t.endpoints)==null?void 0:ur.categories)!=null?Er:{list:(_r=(pr=t.dataset)==null?void 0:pr.categoriesEndpoint)!=null?_r:"",create:(hr=(fr=t.dataset)==null?void 0:fr.categoriesEndpointCreate)!=null?hr:"",update:(gr=(mr=t.dataset)==null?void 0:mr.categoriesEndpointUpdate)!=null?gr:"",delete:(Cr=(Sr=t.dataset)==null?void 0:Sr.categoriesEndpointDelete)!=null?Cr:""},M=(Ir=(br=t.endpoints)==null?void 0:br.orders)!=null?Ir:{list:(Tr=(Ar=t.dataset)==null?void 0:Ar.ordersEndpoint)!=null?Tr:"",show:(Or=(yr=t.dataset)==null?void 0:yr.ordersEndpointShow)!=null?Or:"",transition:(vr=(Rr=t.dataset)==null?void 0:Rr.ordersEndpointTransition)!=null?vr:"",bulkTransition:(Nr=(xr=t.dataset)==null?void 0:xr.ordersEndpointBulk)!=null?Nr:"",note:(Mr=(Pr=t.dataset)==null?void 0:Pr.ordersEndpointNote)!=null?Mr:""},L=(Lr=(kr=t.endpoints)==null?void 0:kr.customers)!=null?Lr:{list:($r=(wr=t.dataset)==null?void 0:wr.customersEndpoint)!=null?$r:"",show:(Dr=(Ur=t.dataset)==null?void 0:Ur.customersEndpointShow)!=null?Dr:""},oe=(Jr=(Yr=t.endpoints)==null?void 0:Yr.coupons)!=null?Jr:{list:(Fr=(Xr=t.dataset)==null?void 0:Xr.couponsEndpoint)!=null?Fr:"",create:(Vr=(Gr=t.dataset)==null?void 0:Gr.couponsEndpointCreate)!=null?Vr:"",update:(Br=(Hr=t.dataset)==null?void 0:Hr.couponsEndpointUpdate)!=null?Br:"",delete:(jr=(Kr=t.dataset)==null?void 0:Kr.couponsEndpointDelete)!=null?jr:""},ae=(il=(Wr=t.endpoints)==null?void 0:Wr.tax)!=null?il:{list:(zr=(qr=t.dataset)==null?void 0:qr.taxEndpoint)!=null?zr:"",create:(Zr=(Qr=t.dataset)==null?void 0:Qr.taxEndpointCreate)!=null?Zr:"",update:(tl=(el=t.dataset)==null?void 0:el.taxEndpointUpdate)!=null?tl:"",delete:(nl=(sl=t.dataset)==null?void 0:sl.taxEndpointDelete)!=null?nl:""},le=(fl=(ol=t.endpoints)==null?void 0:ol.shipping)!=null?fl:{list:(rl=(al=t.dataset)==null?void 0:al.shippingEndpoint)!=null?rl:"",create:(cl=(ll=t.dataset)==null?void 0:ll.shippingEndpointCreate)!=null?cl:"",update:(ul=(dl=t.dataset)==null?void 0:dl.shippingEndpointUpdate)!=null?ul:"",delete:(_l=(pl=t.dataset)==null?void 0:pl.shippingEndpointDelete)!=null?_l:""},fe=(El=(hl=t.endpoints)==null?void 0:hl.settings)!=null?El:{show:(gl=(ml=t.dataset)==null?void 0:ml.settingsEndpointShow)!=null?gl:"",update:(Cl=(Sl=t.dataset)==null?void 0:Sl.settingsEndpointUpdate)!=null?Cl:""},j=(yl=(bl=t.endpoints)==null?void 0:bl.logs)!=null?yl:{list:(Tl=(Al=t.dataset)==null?void 0:Al.logsEndpoint)!=null?Tl:""},B=(Pl=(Ol=t.endpoints)==null?void 0:Ol.payments)!=null?Pl:{show:(vl=(Rl=t.dataset)==null?void 0:Rl.paymentsEndpointShow)!=null?vl:"",update:(Nl=(xl=t.dataset)==null?void 0:xl.paymentsEndpointUpdate)!=null?Nl:""},q=ge(()=>{var J;return a((J=t.dataset)==null?void 0:J.orderStates,[])}),{state:G,refresh:se}=jy({endpoint:(Dl=(Ul=(wl=(Ml=t.endpoints)==null?void 0:Ml.dashboard)!=null?wl:(kl=(Il=t.config)==null?void 0:Il.endpoints)==null?void 0:kl.dashboard)!=null?Ul:($l=t.dataset)==null?void 0:$l.dashboardEndpoint)!=null?Dl:"",token:t.csrfToken,preload:(Gl=(Yl=(Ll=t.config)==null?void 0:Ll.preload)==null?void 0:Yl.dashboard)!=null?Gl:{summary:a((Xl=t.dataset)==null?void 0:Xl.dashboardSummary,{}),checklist:a((Fl=t.dataset)==null?void 0:Fl.dashboardChecklist,[])},autoload:f.value}),{state:ue,refresh:ne,search:z,createProduct:P,updateProduct:I,deleteProducts:X}=Hy({endpoints:W,token:t.csrfToken,autoload:c.value}),{state:U,refresh:V,search:Q,goToPage:ce,saveCategory:Ae,deleteCategories:ye,loadOptions:ie}=By({endpoints:H,token:t.csrfToken,preload:(jl=(Hl=(Vl=t.config)==null?void 0:Vl.preload)==null?void 0:Hl.categories)!=null?jl:{items:a((Bl=t.dataset)==null?void 0:Bl.categoriesPreload,[]),pagination:a((Kl=t.dataset)==null?void 0:Kl.categoriesPreloadPagination,{})},autoload:g.value}),w=ge(()=>(Array.isArray(U.items)?U.items:[]).map(_e=>{var Ne,st,ks;return{id:Number.parseInt((Ne=_e==null?void 0:_e.id)!=null?Ne:0,10)||0,title:String((st=_e==null?void 0:_e.title)!=null?st:"").trim(),slug:String((ks=_e==null?void 0:_e.slug)!=null?ks:"").trim()}}).filter(_e=>_e.title!=="")),{state:C,refresh:S,search:Ee,setFilterState:m,viewOrder:b,closeOrder:Y,transitionOrder:K,goToPage:E,bulkTransition:h,toggleSelection:T,clearSelection:v,addNote:$}=Ky({endpoints:M,token:t.csrfToken,states:q.value,preload:(Ql=(Wl=(Jl=t.config)==null?void 0:Jl.preload)==null?void 0:Wl.orders)!=null?Ql:{items:a((ql=t.dataset)==null?void 0:ql.ordersPreload,[]),pagination:a((zl=t.dataset)==null?void 0:zl.ordersPreloadPagination,{})},autoload:R.value}),{state:D,refresh:Z,search:F,goToPage:ee,viewCustomer:re,closeCustomer:pe}=Jy({endpoints:L,token:t.csrfToken,preload:(nc=(ec=(Zl=t.config)==null?void 0:Zl.preload)==null?void 0:ec.customers)!=null?nc:{items:a((tc=t.dataset)==null?void 0:tc.customersPreload,[]),pagination:a((sc=t.dataset)==null?void 0:sc.customersPreloadPagination,{})},autoload:k.value}),{state:he,refresh:Ce,search:xe,goToPage:Le,saveCoupon:Ke,deleteCoupons:$e}=Wy({endpoints:(oc=(ic=t.endpoints)==null?void 0:ic.coupons)!=null?oc:oe,token:t.csrfToken,preload:(dc=(rc=(ac=t.config)==null?void 0:ac.preload)==null?void 0:rc.coupons)!=null?dc:{items:a((lc=t.dataset)==null?void 0:lc.couponsPreload,[]),pagination:a((cc=t.dataset)==null?void 0:cc.couponsPreloadPagination,{})},autoload:O.value}),tt=(fc=(pc=(uc=t.config)==null?void 0:uc.preload)==null?void 0:pc.settings)!=null?fc:a((_c=t.dataset)==null?void 0:_c.settingsPreload,{}),{state:He,refresh:Ue,save:Fe}=qy({endpoints:fe,token:t.csrfToken,preload:tt,autoload:N.value}),kt=ge(()=>{var _e,Ne;const J=(Ne=(_e=t.dataset)==null?void 0:_e.baseCurrency)!=null?Ne:"";return typeof J=="string"?J.trim().toUpperCase():""}),wt=ge(()=>{var _e,Ne;const J=(Ne=(_e=He==null?void 0:He.values)==null?void 0:_e.base_currency)!=null?Ne:"";return typeof J=="string"?J.trim().toUpperCase():""}),Jt=ge(()=>{const J=wt.value||kt.value;return J!==""?J:"USD"}),_n=ge(()=>{var _e,Ne;const J=(Ne=(_e=t.dataset)==null?void 0:_e.mediaModalUrl)!=null?Ne:"";return typeof J=="string"?J.trim():""}),oi=J=>{switch(J){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:d("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:d("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:d("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:d("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:d("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:J||"step",titleKey:J||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:J||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:d("dashboard")||""}}},fn=ge(()=>(Array.isArray(G.checklist)?G.checklist:[]).map(_e=>{const Ne=oi(_e.label);return{id:Ne.id,completed:!!_e.completed,link:_e.link||Ne.link||"",label:_e.label,titleKey:Ne.titleKey,descriptionKey:Ne.descriptionKey,titleFallback:Ne.titleFallback,descriptionFallback:Ne.descriptionFallback}})),ai=ge(()=>fn.value.some(J=>!J.completed)),Is=Ge(!1),uO=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Ms,"0")}catch(J){}Is.value=!0},Za=()=>{if(Is.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Ms,"1")}catch(J){}},pO=J=>{J&&typeof J.link=="string"&&J.link!==""&&(Za(),typeof window!="undefined"&&(window.location.href=J.link))};De(ai,J=>{if(!J&&(Is.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Ms,"1")}catch(_e){}});const _O=(Cc=(mc=(hc=t.config)==null?void 0:hc.preload)==null?void 0:mc.tax)!=null?Cc:{items:a((gc=t.dataset)==null?void 0:gc.taxPreload,[]),pagination:a((Sc=t.dataset)==null?void 0:Sc.taxPreloadPagination,{})},{state:fO,refresh:hn,saveRate:hO,deleteRates:mO}=zy({endpoints:ae,token:t.csrfToken,preload:_O,autoload:N.value}),gO=(yc=(bc=(Ec=t.config)==null?void 0:Ec.preload)==null?void 0:bc.shipping)!=null?yc:{items:a((Ac=t.dataset)==null?void 0:Ac.shippingPreload,[]),pagination:a((Tc=t.dataset)==null?void 0:Tc.shippingPreloadPagination,{})},{state:SO,refresh:mn,saveRule:CO,deleteRules:EO}=Qy({endpoints:le,token:t.csrfToken,preload:gO,autoload:N.value}),bO=(Nc=(Rc=(Oc=t.config)==null?void 0:Oc.preload)==null?void 0:Rc.logs)!=null?Nc:{items:a((vc=t.dataset)==null?void 0:vc.logsPreload,[]),pagination:a((xc=t.dataset)==null?void 0:xc.logsPreloadPagination,{})},{state:AO,refresh:er,search:TO,setEntity:yO,goToPage:OO}=Zy({endpoints:j,token:t.csrfToken,preload:bO,autoload:A.value}),{state:RO,refresh:ri,save:vO}=eO({endpoints:B,token:t.csrfToken});De(p,J=>{switch(J){case"dashboard":se();break;case"products":ne(),V();break;case"categories":V();break;case"orders":S();break;case"customers":Z();break;case"coupons":Ce();break;case"settings":Ue(),hn(),mn(),ri();break;case"logs":er();break}}),it(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const J=window.localStorage.getItem(Ms);ai.value?J!=="1"&&(Is.value=!0):window.localStorage.setItem(Ms,"1")}catch(J){}}N.value&&ri()});const xO=()=>{ne()},NO=()=>{z()},PO=async J=>{try{await P(J),ne(),V()}catch(_e){}},MO=async({id:J,data:_e})=>{try{await I(J,_e),ne(),V()}catch(Ne){}},IO=async J=>{try{await X(J),ne(),V()}catch(_e){}},kO=()=>{V()},wO=()=>{Q()},$O=J=>{ce(J)},UO=async J=>{try{await Ae(J),V()}catch(_e){}},DO=async J=>{try{await ye(J),V()}catch(_e){}},LO=()=>{se()},YO=()=>{S()},XO=()=>{Ee()},FO=J=>{m(J)},GO=J=>{b(J)},VO=()=>{Y()},HO=async({id:J,state:_e})=>{await K(J,_e)},BO=J=>{E(J)},KO=async({ids:J,state:_e})=>{await h(J,_e)},jO=J=>{T(J)},JO=()=>{v()},WO=async({id:J,message:_e})=>{await $(J,_e)},qO=()=>{Z()},zO=()=>{F()},QO=J=>{ee(J)},ZO=J=>{re(J)},eR=()=>{pe()},tR=()=>{Ce()},sR=()=>{xe()},nR=J=>{Le(J)},iR=async J=>{try{await Ke(J)}catch(_e){}},oR=async J=>{try{await $e(J)}catch(_e){}},aR=()=>{Ue()},rR=async J=>{try{await Fe(J)}catch(_e){}},lR=()=>{hn()},cR=async J=>{try{await hO(J),hn()}catch(_e){}},dR=async J=>{try{await mO(J),hn()}catch(_e){}},uR=()=>{mn()},pR=async J=>{try{await CO(J),mn()}catch(_e){}},_R=async J=>{try{await EO(J),mn()}catch(_e){}},fR=()=>{er()},hR=()=>{TO()},mR=J=>{yO(J)},gR=J=>{OO(J)},SR=()=>{ri()},CR=async J=>{await vO(J)};return(J,_e)=>(y(),lt(_p,null,{default:Ki(()=>{var Ne,st,ks,Pc,Mc,Ic;return[i("section",tO,[i("header",sO,[i("div",null,[i("h1",nO,u(r(n)(o.value,(st=(Ne=t.dataset)==null?void 0:Ne.appTitle)!=null?st:"NXP Easy Cart",[],"appTitle")),1),i("p",iO,u(r(n)(s.value,(Pc=(ks=t.dataset)==null?void 0:ks.appLead)!=null?Pc:"Manage your storefront from one place.",[],"appLead")),1)]),te(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:uO},u(r(n)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[Yu,ai.value]])]),l.value.length?(y(),x("nav",oO,[(y(!0),x(Se,null,Oe(l.value,gn=>(y(),x("a",{key:gn.id,href:gn.link,class:Pe({"is-active":gn.id===p.value})},u(gn.title),11,aO))),128))])):Te("",!0),p.value==="dashboard"?(y(),lt(Kp,{key:1,state:r(G),translate:r(n),onRefresh:LO},null,8,["state","translate"])):p.value==="products"?(y(),lt(Ch,{key:2,state:r(ue),translate:r(n),"base-currency":Jt.value,"category-options":w.value,"media-modal-url":_n.value,onCreate:PO,onUpdate:MO,onDelete:IO,onRefresh:xO,onSearch:NO},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(y(),lt(mm,{key:3,state:r(U),translate:r(n),"load-options":r(ie),onRefresh:kO,onSearch:wO,onPage:$O,onSave:UO,onDelete:DO},null,8,["state","translate","load-options"])):p.value==="orders"?(y(),lt(Gg,{key:4,state:r(C),translate:r(n),onRefresh:YO,onSearch:XO,onFilter:FO,onView:GO,onClose:VO,onTransition:HO,onPage:BO,onBulkTransition:KO,onToggleSelection:jO,onClearSelection:JO,onAddNote:WO},null,8,["state","translate"])):p.value==="customers"?(y(),lt(wS,{key:5,state:r(D),translate:r(n),"base-currency":Jt.value,onRefresh:qO,onSearch:zO,onPage:QO,onView:ZO,onClose:eR},null,8,["state","translate","base-currency"])):p.value==="coupons"?(y(),lt(XC,{key:6,state:r(he),translate:r(n),"base-currency":Jt.value,onRefresh:tR,onSearch:sR,onPage:nR,onSave:iR,onDelete:oR},null,8,["state","translate","base-currency"])):p.value==="settings"?(y(),lt(GT,{key:7,"settings-state":r(He),"tax-state":r(fO),"shipping-state":r(SO),"payments-state":r(RO),translate:r(n),"base-currency":Jt.value,onRefreshSettings:aR,onSaveSettings:rR,onRefreshTax:lR,onSaveTax:cR,onDeleteTax:dR,onRefreshShipping:uR,onSaveShipping:pR,onDeleteShipping:_R,onRefreshPayments:SR,onSavePayments:CR},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency"])):p.value==="logs"?(y(),lt(Ey,{key:8,state:r(AO),translate:r(n),onRefresh:fR,onSearch:hR,onFilter:mR,onPage:gR},null,8,["state","translate"])):(y(),x("div",rO,[i("div",lO,[i("p",cO,u(r(n)(s.value,(Ic=(Mc=t.dataset)==null?void 0:Mc.appLead)!=null?Ic:"This section will be available soon.",[],"appLead")),1)])]))]),Ve(Uy,{visible:Is.value,steps:fn.value,translate:r(n),onClose:Za,onNavigate:pO},null,8,["visible","steps","translate"])]}),_:1}))}},pn=document.getElementById("nxp-ec-admin-app");if(!pn)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(ta=pn.getAttribute("data-csrf-token"))!=null?ta:"",t=Object.assign({},pn.dataset);let n={};if(t.config)try{n=JSON.parse(t.config)}catch(g){console.warn("[NXP Easy Cart] Failed to parse admin config payload",g)}const o=(ra=(sa=n==null?void 0:n.endpoints)==null?void 0:sa.products)!=null?ra:{list:(na=t.productsEndpoint)!=null?na:"",create:(ia=t.productsEndpointCreate)!=null?ia:"",update:(oa=t.productsEndpointUpdate)!=null?oa:"",delete:(aa=t.productsEndpointDelete)!=null?aa:""},s=(_a=(la=n==null?void 0:n.endpoints)==null?void 0:la.categories)!=null?_a:{list:(ca=t.categoriesEndpoint)!=null?ca:"",create:(da=t.categoriesEndpointCreate)!=null?da:"",update:(ua=t.categoriesEndpointUpdate)!=null?ua:"",delete:(pa=t.categoriesEndpointDelete)!=null?pa:""},a=(Ea=(fa=n==null?void 0:n.endpoints)==null?void 0:fa.orders)!=null?Ea:{list:(ha=t.ordersEndpoint)!=null?ha:"",show:(ma=t.ordersEndpointShow)!=null?ma:"",transition:(ga=t.ordersEndpointTransition)!=null?ga:"",bulkTransition:(Sa=t.ordersEndpointBulk)!=null?Sa:"",note:(Ca=t.ordersEndpointNote)!=null?Ca:""},l=(ya=(ba=n==null?void 0:n.endpoints)==null?void 0:ba.customers)!=null?ya:{list:(Aa=t.customersEndpoint)!=null?Aa:"",show:(Ta=t.customersEndpointShow)!=null?Ta:""},d=(Pa=(Oa=n==null?void 0:n.endpoints)==null?void 0:Oa.coupons)!=null?Pa:{list:(Ra=t.couponsEndpoint)!=null?Ra:"",create:(va=t.couponsEndpointCreate)!=null?va:"",update:(xa=t.couponsEndpointUpdate)!=null?xa:"",delete:(Na=t.couponsEndpointDelete)!=null?Na:""},p=(Ua=(Ma=n==null?void 0:n.endpoints)==null?void 0:Ma.tax)!=null?Ua:{list:(Ia=t.taxEndpoint)!=null?Ia:"",create:(ka=t.taxEndpointCreate)!=null?ka:"",update:(wa=t.taxEndpointUpdate)!=null?wa:"",delete:($a=t.taxEndpointDelete)!=null?$a:""},_=(Ga=(Da=n==null?void 0:n.endpoints)==null?void 0:Da.shipping)!=null?Ga:{list:(La=t.shippingEndpoint)!=null?La:"",create:(Ya=t.shippingEndpointCreate)!=null?Ya:"",update:(Xa=t.shippingEndpointUpdate)!=null?Xa:"",delete:(Fa=t.shippingEndpointDelete)!=null?Fa:""},f=(Ka=(Va=n==null?void 0:n.endpoints)==null?void 0:Va.settings)!=null?Ka:{show:(Ha=t.settingsEndpointShow)!=null?Ha:"",update:(Ba=t.settingsEndpointUpdate)!=null?Ba:""},c=(Wa=(ja=n==null?void 0:n.endpoints)==null?void 0:ja.logs)!=null?Wa:{list:(Ja=t.logsEndpoint)!=null?Ja:""};op(dO,{csrfToken:e,dataset:t,config:n,endpoints:{products:o,categories:s,orders:a,customers:l,coupons:d,tax:p,shipping:_,settings:f,logs:c,dashboard:(Qa=(za=(qa=n==null?void 0:n.endpoints)==null?void 0:qa.dashboard)!=null?za:t.dashboardEndpoint)!=null?Qa:""}}).mount(pn)}})();
