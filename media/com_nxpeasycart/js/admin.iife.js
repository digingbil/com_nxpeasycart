(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Ai,Si,bi,yi,Ti,Ri,Oi,xi,vi,Ni,Pi,Mi,Ii,ki,$i,wi,Di,Li,Yi,Ui,Xi,Fi,Gi,Vi,Hi,Bi,Ki,ji,Ji,Wi,qi,zi,Qi,Zi,er,tr,nr,sr,ar,or,ir,rr,lr,cr,dr,ur,pr,_r,fr,mr,hr,gr,Er,Cr,Ar,Sr,br,yr,Tr,Rr,Or,xr,vr,Nr,Pr,Mr,Ir,kr,$r,wr,Dr,Lr,Yr,Ur,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,al,ol,il,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Cl,Al,Sl,bl,yl,Tl,Rl,Ol,xl,vl,Nl,Pl,Ml,Il,kl,$l,wl,Dl,Ll,Yl,Ul,Xl,Fl,Gl,Vl,Hl,Bl,Kl;function ks(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Fe={},ln=[],vt=()=>{},ya=()=>!1,es=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),$s=e=>e.startsWith("onUpdate:"),rt=Object.assign,ws=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},f_=Object.prototype.hasOwnProperty,Ye=(e,t)=>f_.call(e,t),Oe=Array.isArray,cn=e=>Tn(e)==="[object Map]",dn=e=>Tn(e)==="[object Set]",Ta=e=>Tn(e)==="[object Date]",Pe=e=>typeof e=="function",Je=e=>typeof e=="string",Tt=e=>typeof e=="symbol",Ge=e=>e!==null&&typeof e=="object",Ra=e=>(Ge(e)||Pe(e))&&Pe(e.then)&&Pe(e.catch),Oa=Object.prototype.toString,Tn=e=>Oa.call(e),m_=e=>Tn(e).slice(8,-1),xa=e=>Tn(e)==="[object Object]",Ds=e=>Je(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rn=ks(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ts=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},h_=/-\w/g,Kt=ts(e=>e.replace(h_,t=>t.slice(1).toUpperCase())),g_=/\B([A-Z])/g,jt=ts(e=>e.replace(g_,"-$1").toLowerCase()),va=ts(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ls=ts(e=>e?`on${va(e)}`:""),Jt=(e,t)=>!Object.is(e,t),ns=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Na=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},ss=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Pa;const as=()=>Pa||(Pa=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Rt(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=Je(i)?S_(i):Rt(i);if(s)for(const o in s)t[o]=s[o]}return t}else if(Je(e)||Ge(e))return e}const E_=/;(?![^(]*\))/g,C_=/:([^]+)/,A_=/\/\*[^]*?\*\//g;function S_(e){const t={};return e.replace(A_,"").split(E_).forEach(n=>{if(n){const i=n.split(C_);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function ve(e){let t="";if(Je(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const i=ve(e[n]);i&&(t+=i+" ")}else if(Ge(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const b_=ks("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ma(e){return!!e||e===""}function y_(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=On(e[i],t[i]);return n}function On(e,t){if(e===t)return!0;let n=Ta(e),i=Ta(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Tt(e),i=Tt(t),n||i)return e===t;if(n=Oe(e),i=Oe(t),n||i)return n&&i?y_(e,t):!1;if(n=Ge(e),i=Ge(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const l in e){const d=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(d&&!p||!d&&p||!On(e[l],t[l]))return!1}}return String(e)===String(t)}function Ys(e,t){return e.findIndex(n=>On(n,t))}const Ia=e=>!!(e&&e.__v_isRef===!0),c=e=>Je(e)?e:e==null?"":Oe(e)||Ge(e)&&(e.toString===Oa||!Pe(e.toString))?Ia(e)?c(e.value):JSON.stringify(e,ka,2):String(e),ka=(e,t)=>Ia(t)?ka(e,t.value):cn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s],o)=>(n[Us(i,o)+" =>"]=s,n),{})}:dn(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Us(n))}:Tt(t)?Us(t):Ge(t)&&!Oe(t)&&!xa(t)?String(t):t,Us=(e,t="")=>{var n;return Tt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ut;class T_{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ut,!t&&ut&&(this.index=(ut.scopes||(ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ut;try{return ut=this,t()}finally{ut=n}}}on(){++this._on===1&&(this.prevScope=ut,ut=this)}off(){this._on>0&&--this._on===0&&(ut=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function R_(){return ut}let Ve;const Xs=new WeakSet;class $a{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ut&&ut.active&&ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xs.has(this)&&(Xs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Da(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Fa(this),La(this);const t=Ve,n=Ot;Ve=this,Ot=!0;try{return this.fn()}finally{Ya(this),Ve=t,Ot=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Hs(t);this.deps=this.depsTail=void 0,Fa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vs(this)&&this.run()}get dirty(){return Vs(this)}}let wa=0,xn,vn;function Da(e,t=!1){if(e.flags|=8,t){e.next=vn,vn=e;return}e.next=xn,xn=e}function Fs(){wa++}function Gs(){if(--wa>0)return;if(vn){let t=vn;for(vn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xn;){let t=xn;for(xn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function La(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ya(e){let t,n=e.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Hs(i),O_(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}e.deps=t,e.depsTail=n}function Vs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ua(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ua(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Nn)||(e.globalVersion=Nn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Vs(e))))return;e.flags|=2;const t=e.dep,n=Ve,i=Ot;Ve=e,Ot=!0;try{La(e);const s=e.fn(e._value);(t.version===0||Jt(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ve=n,Ot=i,Ya(e),e.flags&=-3}}function Hs(e,t=!1){const{dep:n,prevSub:i,nextSub:s}=e;if(i&&(i.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Hs(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function O_(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ot=!0;const Xa=[];function Nt(){Xa.push(Ot),Ot=!1}function Pt(){const e=Xa.pop();Ot=e===void 0?!0:e}function Fa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ve;Ve=void 0;try{t()}finally{Ve=n}}}let Nn=0;class x_{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bs{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ve||!Ot||Ve===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ve)n=this.activeLink=new x_(Ve,this),Ve.deps?(n.prevDep=Ve.depsTail,Ve.depsTail.nextDep=n,Ve.depsTail=n):Ve.deps=Ve.depsTail=n,Ga(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Ve.depsTail,n.nextDep=void 0,Ve.depsTail.nextDep=n,Ve.depsTail=n,Ve.deps===n&&(Ve.deps=i)}return n}trigger(t){this.version++,Nn++,this.notify(t)}notify(t){Fs();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Gs()}}}function Ga(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Ga(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const os=new WeakMap,en=Symbol(""),Ks=Symbol(""),Pn=Symbol("");function tt(e,t,n){if(Ot&&Ve){let i=os.get(e);i||os.set(e,i=new Map);let s=i.get(n);s||(i.set(n,s=new Bs),s.map=i,s.key=n),s.track()}}function Ut(e,t,n,i,s,o){const l=os.get(e);if(!l){Nn++;return}const d=p=>{p&&p.trigger()};if(Fs(),t==="clear")l.forEach(d);else{const p=Oe(e),_=p&&Ds(n);if(p&&n==="length"){const m=Number(i);l.forEach((u,R)=>{(R==="length"||R===Pn||!Tt(R)&&R>=m)&&d(u)})}else switch((n!==void 0||l.has(void 0))&&d(l.get(n)),_&&d(l.get(Pn)),t){case"add":p?_&&d(l.get("length")):(d(l.get(en)),cn(e)&&d(l.get(Ks)));break;case"delete":p||(d(l.get(en)),cn(e)&&d(l.get(Ks)));break;case"set":cn(e)&&d(l.get(en));break}}Gs()}function v_(e,t){const n=os.get(e);return n&&n.get(t)}function un(e){const t=$e(e);return t===e?t:(tt(t,"iterate",Pn),yt(e)?t:t.map(et))}function is(e){return tt(e=$e(e),"iterate",Pn),e}const N_={__proto__:null,[Symbol.iterator](){return js(this,Symbol.iterator,et)},concat(...e){return un(this).concat(...e.map(t=>Oe(t)?un(t):t))},entries(){return js(this,"entries",e=>(e[1]=et(e[1]),e))},every(e,t){return Xt(this,"every",e,t,void 0,arguments)},filter(e,t){return Xt(this,"filter",e,t,n=>n.map(et),arguments)},find(e,t){return Xt(this,"find",e,t,et,arguments)},findIndex(e,t){return Xt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xt(this,"findLast",e,t,et,arguments)},findLastIndex(e,t){return Xt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Js(this,"includes",e)},indexOf(...e){return Js(this,"indexOf",e)},join(e){return un(this).join(e)},lastIndexOf(...e){return Js(this,"lastIndexOf",e)},map(e,t){return Xt(this,"map",e,t,void 0,arguments)},pop(){return Mn(this,"pop")},push(...e){return Mn(this,"push",e)},reduce(e,...t){return Va(this,"reduce",e,t)},reduceRight(e,...t){return Va(this,"reduceRight",e,t)},shift(){return Mn(this,"shift")},some(e,t){return Xt(this,"some",e,t,void 0,arguments)},splice(...e){return Mn(this,"splice",e)},toReversed(){return un(this).toReversed()},toSorted(e){return un(this).toSorted(e)},toSpliced(...e){return un(this).toSpliced(...e)},unshift(...e){return Mn(this,"unshift",e)},values(){return js(this,"values",et)}};function js(e,t,n){const i=is(e),s=i[t]();return i!==e&&!yt(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.done||(o.value=n(o.value)),o}),s}const P_=Array.prototype;function Xt(e,t,n,i,s,o){const l=is(e),d=l!==e&&!yt(e),p=l[t];if(p!==P_[t]){const u=p.apply(e,o);return d?et(u):u}let _=n;l!==e&&(d?_=function(u,R){return n.call(this,et(u),R,e)}:n.length>2&&(_=function(u,R){return n.call(this,u,R,e)}));const m=p.call(l,_,i);return d&&s?s(m):m}function Va(e,t,n,i){const s=is(e);let o=n;return s!==e&&(yt(e)?n.length>3&&(o=function(l,d,p){return n.call(this,l,d,p,e)}):o=function(l,d,p){return n.call(this,l,et(d),p,e)}),s[t](o,...i)}function Js(e,t,n){const i=$e(e);tt(i,"iterate",Pn);const s=i[t](...n);return(s===-1||s===!1)&&zs(n[0])?(n[0]=$e(n[0]),i[t](...n)):s}function Mn(e,t,n=[]){Nt(),Fs();const i=$e(e)[t].apply(e,n);return Gs(),Pt(),i}const M_=ks("__proto__,__v_isRef,__isVue"),Ha=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Tt));function I_(e){Tt(e)||(e=String(e));const t=$e(this);return tt(t,"has",e),t.hasOwnProperty(e)}class Ba{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(s?o?za:qa:o?Wa:Ja).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const l=Oe(t);if(!s){let p;if(l&&(p=N_[n]))return p;if(n==="hasOwnProperty")return I_}const d=Reflect.get(t,n,Qe(t)?t:i);if((Tt(n)?Ha.has(n):M_(n))||(s||tt(t,"get",n),o))return d;if(Qe(d)){const p=l&&Ds(n)?d:d.value;return s&&Ge(p)?qs(p):p}return Ge(d)?s?qs(d):Ue(d):d}}class Ka extends Ba{constructor(t=!1){super(!1,t)}set(t,n,i,s){let o=t[n];if(!this._isShallow){const p=Wt(o);if(!yt(i)&&!Wt(i)&&(o=$e(o),i=$e(i)),!Oe(t)&&Qe(o)&&!Qe(i))return p||(o.value=i),!0}const l=Oe(t)&&Ds(n)?Number(n)<t.length:Ye(t,n),d=Reflect.set(t,n,i,Qe(t)?t:s);return t===$e(s)&&(l?Jt(i,o)&&Ut(t,"set",n,i):Ut(t,"add",n,i)),d}deleteProperty(t,n){const i=Ye(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&i&&Ut(t,"delete",n,void 0),s}has(t,n){const i=Reflect.has(t,n);return(!Tt(n)||!Ha.has(n))&&tt(t,"has",n),i}ownKeys(t){return tt(t,"iterate",Oe(t)?"length":en),Reflect.ownKeys(t)}}class ja extends Ba{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const k_=new Ka,$_=new ja,w_=new Ka(!0),D_=new ja(!0),Ws=e=>e,rs=e=>Reflect.getPrototypeOf(e);function L_(e,t,n){return function(...i){const s=this.__v_raw,o=$e(s),l=cn(o),d=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,_=s[e](...i),m=n?Ws:t?us:et;return!t&&tt(o,"iterate",p?Ks:en),{next(){const{value:u,done:R}=_.next();return R?{value:u,done:R}:{value:d?[m(u[0]),m(u[1])]:m(u),done:R}},[Symbol.iterator](){return this}}}}function ls(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Y_(e,t){const n={get(s){const o=this.__v_raw,l=$e(o),d=$e(s);e||(Jt(s,d)&&tt(l,"get",s),tt(l,"get",d));const{has:p}=rs(l),_=t?Ws:e?us:et;if(p.call(l,s))return _(o.get(s));if(p.call(l,d))return _(o.get(d));o!==l&&o.get(s)},get size(){const s=this.__v_raw;return!e&&tt($e(s),"iterate",en),s.size},has(s){const o=this.__v_raw,l=$e(o),d=$e(s);return e||(Jt(s,d)&&tt(l,"has",s),tt(l,"has",d)),s===d?o.has(s):o.has(s)||o.has(d)},forEach(s,o){const l=this,d=l.__v_raw,p=$e(d),_=t?Ws:e?us:et;return!e&&tt(p,"iterate",en),d.forEach((m,u)=>s.call(o,_(m),_(u),l))}};return rt(n,e?{add:ls("add"),set:ls("set"),delete:ls("delete"),clear:ls("clear")}:{add(s){!t&&!yt(s)&&!Wt(s)&&(s=$e(s));const o=$e(this);return rs(o).has.call(o,s)||(o.add(s),Ut(o,"add",s,s)),this},set(s,o){!t&&!yt(o)&&!Wt(o)&&(o=$e(o));const l=$e(this),{has:d,get:p}=rs(l);let _=d.call(l,s);_||(s=$e(s),_=d.call(l,s));const m=p.call(l,s);return l.set(s,o),_?Jt(o,m)&&Ut(l,"set",s,o):Ut(l,"add",s,o),this},delete(s){const o=$e(this),{has:l,get:d}=rs(o);let p=l.call(o,s);p||(s=$e(s),p=l.call(o,s)),d&&d.call(o,s);const _=o.delete(s);return p&&Ut(o,"delete",s,void 0),_},clear(){const s=$e(this),o=s.size!==0,l=s.clear();return o&&Ut(s,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=L_(s,e,t)}),n}function cs(e,t){const n=Y_(e,t);return(i,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Ye(n,s)&&s in i?n:i,s,o)}const U_={get:cs(!1,!1)},X_={get:cs(!1,!0)},F_={get:cs(!0,!1)},G_={get:cs(!0,!0)},Ja=new WeakMap,Wa=new WeakMap,qa=new WeakMap,za=new WeakMap;function V_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function H_(e){return e.__v_skip||!Object.isExtensible(e)?0:V_(m_(e))}function Ue(e){return Wt(e)?e:ds(e,!1,k_,U_,Ja)}function B_(e){return ds(e,!1,w_,X_,Wa)}function qs(e){return ds(e,!0,$_,F_,qa)}function xD(e){return ds(e,!0,D_,G_,za)}function ds(e,t,n,i,s){if(!Ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=H_(e);if(o===0)return e;const l=s.get(e);if(l)return l;const d=new Proxy(e,o===2?i:n);return s.set(e,d),d}function pn(e){return Wt(e)?pn(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function yt(e){return!!(e&&e.__v_isShallow)}function zs(e){return e?!!e.__v_raw:!1}function $e(e){const t=e&&e.__v_raw;return t?$e(t):e}function K_(e){return!Ye(e,"__v_skip")&&Object.isExtensible(e)&&Na(e,"__v_skip",!0),e}const et=e=>Ge(e)?Ue(e):e,us=e=>Ge(e)?qs(e):e;function Qe(e){return e?e.__v_isRef===!0:!1}function ke(e){return j_(e,!1)}function j_(e,t){return Qe(e)?e:new J_(e,t)}class J_{constructor(t,n){this.dep=new Bs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:$e(t),this._value=n?t:et(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||yt(t)||Wt(t);t=i?t:$e(t),Jt(t,n)&&(this._rawValue=t,this._value=i?t:et(t),this.dep.trigger())}}function r(e){return Qe(e)?e.value:e}const W_={get:(e,t,n)=>t==="__v_raw"?e:r(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return Qe(s)&&!Qe(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function Qa(e){return pn(e)?e:new Proxy(e,W_)}class q_{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return v_($e(this._object),this._key)}}class z_{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function qt(e,t,n){return Qe(e)?e:Pe(e)?new z_(e):Ge(e)&&arguments.length>1?Q_(e,t,n):ke(e)}function Q_(e,t,n){const i=e[t];return Qe(i)?i:new q_(e,t,n)}class Z_{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Bs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Nn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ve!==this)return Da(this,!0),!0}get value(){const t=this.dep.track();return Ua(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ef(e,t,n=!1){let i,s;return Pe(e)?i=e:(i=e.get,s=e.set),new Z_(i,s,n)}const ps={},_s=new WeakMap;let tn;function tf(e,t=!1,n=tn){if(n){let i=_s.get(n);i||_s.set(n,i=[]),i.push(e)}}function nf(e,t,n=Fe){const{immediate:i,deep:s,once:o,scheduler:l,augmentJob:d,call:p}=n,_=I=>s?I:yt(I)||s===!1||s===0?Ft(I,1):Ft(I);let m,u,R,g,w=!1,M=!1;if(Qe(e)?(u=()=>e.value,w=yt(e)):pn(e)?(u=()=>_(e),w=!0):Oe(e)?(M=!0,w=e.some(I=>pn(I)||yt(I)),u=()=>e.map(I=>{if(Qe(I))return I.value;if(pn(I))return _(I);if(Pe(I))return p?p(I,2):I()})):Pe(e)?t?u=p?()=>p(e,2):e:u=()=>{if(R){Nt();try{R()}finally{Pt()}}const I=tn;tn=m;try{return p?p(e,3,[g]):e(g)}finally{tn=I}}:u=vt,t&&s){const I=u,Y=s===!0?1/0:s;u=()=>Ft(I(),Y)}const C=R_(),E=()=>{m.stop(),C&&C.active&&ws(C.effects,m)};if(o&&t){const I=t;t=(...Y)=>{I(...Y),E()}}let f=M?new Array(e.length).fill(ps):ps;const O=I=>{if(!(!(m.flags&1)||!m.dirty&&!I))if(t){const Y=m.run();if(s||w||(M?Y.some((U,T)=>Jt(U,f[T])):Jt(Y,f))){R&&R();const U=tn;tn=m;try{const T=[Y,f===ps?void 0:M&&f[0]===ps?[]:f,g];f=Y,p?p(t,3,T):t(...T)}finally{tn=U}}}else m.run()};return d&&d(O),m=new $a(u),m.scheduler=l?()=>l(O,!1):O,g=I=>tf(I,!1,m),R=m.onStop=()=>{const I=_s.get(m);if(I){if(p)p(I,4);else for(const Y of I)Y();_s.delete(m)}},t?i?O(!0):f=m.run():l?l(O.bind(null,!0),!0):m.run(),E.pause=m.pause.bind(m),E.resume=m.resume.bind(m),E.stop=E,E}function Ft(e,t=1/0,n){if(t<=0||!Ge(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,Qe(e))Ft(e.value,t,n);else if(Oe(e))for(let i=0;i<e.length;i++)Ft(e[i],t,n);else if(dn(e)||cn(e))e.forEach(i=>{Ft(i,t,n)});else if(xa(e)){for(const i in e)Ft(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Ft(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const In=[];let Qs=!1;function vD(e,...t){if(Qs)return;Qs=!0,Nt();const n=In.length?In[In.length-1].component:null,i=n&&n.appContext.config.warnHandler,s=sf();if(i)_n(i,n,11,[e+t.map(o=>{var l,d;return(d=(l=o.toString)==null?void 0:l.call(o))!=null?d:JSON.stringify(o)}).join(""),n&&n.proxy,s.map(({vnode:o})=>`at <${Ko(n,o.type)}>`).join(`
`),s]);else{const o=[`[Vue warn]: ${e}`,...t];s.length&&o.push(`
`,...af(s)),console.warn(...o)}Pt(),Qs=!1}function sf(){let e=In[In.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function af(e){const t=[];return e.forEach((n,i)=>{t.push(...i===0?[]:[`
`],...of(n))}),t}function of({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,s=` at <${Ko(e.component,e.type,i)}`,o=">"+n;return e.props?[s,...rf(e.props),o]:[s+o]}function rf(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(i=>{t.push(...Za(i,e[i]))}),n.length>3&&t.push(" ..."),t}function Za(e,t,n){return Je(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:Qe(t)?(t=Za(e,$e(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Pe(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=$e(t),n?t:[`${e}=`,t])}function _n(e,t,n,i){try{return i?e(...i):e()}catch(s){fs(s,t,n)}}function Mt(e,t,n,i){if(Pe(e)){const s=_n(e,t,n,i);return s&&Ra(s)&&s.catch(o=>{fs(o,t,n)}),s}if(Oe(e)){const s=[];for(let o=0;o<e.length;o++)s.push(Mt(e[o],t,n,i));return s}}function fs(e,t,n,i=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Fe;if(t){let d=t.parent;const p=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${n}`;for(;d;){const m=d.ec;if(m){for(let u=0;u<m.length;u++)if(m[u](e,p,_)===!1)return}d=d.parent}if(o){Nt(),_n(o,null,10,[e,p,_]),Pt();return}}lf(e,n,s,i,l)}function lf(e,t,n,i=!0,s=!1){if(s)throw e;console.error(e)}const lt=[];let It=-1;const fn=[];let zt=null,mn=0;const eo=Promise.resolve();let ms=null;function to(e){const t=ms||eo;return e?t.then(this?e.bind(this):e):t}function cf(e){let t=It+1,n=lt.length;for(;t<n;){const i=t+n>>>1,s=lt[i],o=kn(s);o<e||o===e&&s.flags&2?t=i+1:n=i}return t}function Zs(e){if(!(e.flags&1)){const t=kn(e),n=lt[lt.length-1];!n||!(e.flags&2)&&t>=kn(n)?lt.push(e):lt.splice(cf(t),0,e),e.flags|=1,no()}}function no(){ms||(ms=eo.then(oo))}function df(e){Oe(e)?fn.push(...e):zt&&e.id===-1?zt.splice(mn+1,0,e):e.flags&1||(fn.push(e),e.flags|=1),no()}function so(e,t,n=It+1){for(;n<lt.length;n++){const i=lt[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;lt.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ao(e){if(fn.length){const t=[...new Set(fn)].sort((n,i)=>kn(n)-kn(i));if(fn.length=0,zt){zt.push(...t);return}for(zt=t,mn=0;mn<zt.length;mn++){const n=zt[mn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}zt=null,mn=0}}const kn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function oo(e){try{for(It=0;It<lt.length;It++){const t=lt[It];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),_n(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;It<lt.length;It++){const t=lt[It];t&&(t.flags&=-2)}It=-1,lt.length=0,ao(),ms=null,(lt.length||fn.length)&&oo()}}let nt=null,io=null;function hs(e){const t=nt;return nt=e,io=e&&e.type.__scopeId||null,t}function ro(e,t=nt,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&Uo(-1);const o=hs(t);let l;try{l=e(...s)}finally{hs(o),i._d&&Uo(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function te(e,t){if(nt===null)return e;const n=Os(nt),i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,l,d,p=Fe]=t[s];o&&(Pe(o)&&(o={mounted:o,updated:o}),o.deep&&Ft(l),i.push({dir:o,instance:n,value:l,oldValue:void 0,arg:d,modifiers:p}))}return e}function nn(e,t,n,i){const s=e.dirs,o=t&&t.dirs;for(let l=0;l<s.length;l++){const d=s[l];o&&(d.oldValue=o[l].value);let p=d.dir[i];p&&(Nt(),Mt(p,n,8,[e.el,d,e,t]),Pt())}}const uf=Symbol("_vte"),pf=e=>e.__isTeleport,_f=Symbol("_leaveCb");function ea(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ea(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function lo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const gs=new WeakMap;function $n(e,t,n,i,s=!1){if(Oe(e)){e.forEach((w,M)=>$n(w,t&&(Oe(t)?t[M]:t),n,i,s));return}if(hn(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&$n(e,t,n,i.component.subTree);return}const o=i.shapeFlag&4?Os(i.component):i.el,l=s?null:o,{i:d,r:p}=e,_=t&&t.r,m=d.refs===Fe?d.refs={}:d.refs,u=d.setupState,R=$e(u),g=u===Fe?ya:w=>Ye(R,w);if(_!=null&&_!==p){if(co(t),Je(_))m[_]=null,g(_)&&(u[_]=null);else if(Qe(_)){_.value=null;const w=t;w.k&&(m[w.k]=null)}}if(Pe(p))_n(p,d,12,[l,m]);else{const w=Je(p),M=Qe(p);if(w||M){const C=()=>{if(e.f){const E=w?g(p)?u[p]:m[p]:p.value;if(s)Oe(E)&&ws(E,o);else if(Oe(E))E.includes(o)||E.push(o);else if(w)m[p]=[o],g(p)&&(u[p]=m[p]);else{const f=[o];p.value=f,e.k&&(m[e.k]=f)}}else w?(m[p]=l,g(p)&&(u[p]=l)):M&&(p.value=l,e.k&&(m[e.k]=l))};if(l){const E=()=>{C(),gs.delete(e)};E.id=-1,gs.set(e,E),Et(E,n)}else co(e),C()}}}function co(e){const t=gs.get(e);t&&(t.flags|=8,gs.delete(e))}as().requestIdleCallback,as().cancelIdleCallback;const hn=e=>!!e.type.__asyncLoader,uo=e=>e.type.__isKeepAlive;function ff(e,t){po(e,"a",t)}function mf(e,t){po(e,"da",t)}function po(e,t,n=dt){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Es(t,i,n),n){let s=n.parent;for(;s&&s.parent;)uo(s.parent.vnode)&&hf(i,t,n,s),s=s.parent}}function hf(e,t,n,i){const s=Es(t,e,i,!0);ta(()=>{ws(i[t],s)},n)}function Es(e,t,n=dt,i=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...l)=>{Nt();const d=Fn(n),p=Mt(t,n,e,l);return d(),Pt(),p});return i?s.unshift(o):s.push(o),o}}const Gt=e=>(t,n=dt)=>{(!Gn||e==="sp")&&Es(e,(...i)=>t(...i),n)},gf=Gt("bm"),pt=Gt("m"),Ef=Gt("bu"),Cf=Gt("u"),wn=Gt("bum"),ta=Gt("um"),Af=Gt("sp"),Sf=Gt("rtg"),bf=Gt("rtc");function yf(e,t=dt){Es("ec",e,t)}const Tf=Symbol.for("v-ndc");function xe(e,t,n,i){let s;const o=n,l=Oe(e);if(l||Je(e)){const d=l&&pn(e);let p=!1,_=!1;d&&(p=!yt(e),_=Wt(e),e=is(e)),s=new Array(e.length);for(let m=0,u=e.length;m<u;m++)s[m]=t(p?_?us(et(e[m])):et(e[m]):e[m],m,void 0,o)}else if(typeof e=="number"){s=new Array(e);for(let d=0;d<e;d++)s[d]=t(d+1,d,void 0,o)}else if(Ge(e))if(e[Symbol.iterator])s=Array.from(e,(d,p)=>t(d,p,void 0,o));else{const d=Object.keys(e);s=new Array(d.length);for(let p=0,_=d.length;p<_;p++){const m=d[p];s[p]=t(e[m],m,p,o)}}else s=[];return s}function Rf(e,t,n={},i,s){if(nt.ce||nt.parent&&hn(nt.parent)&&nt.parent.ce){const _=Object.keys(n).length>0;return A(),We(be,null,[je("slot",n,i)],_?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),A();const l=o&&_o(o(n)),d=n.key||l&&l.key,p=We(be,{key:(d&&!Tt(d)?d:`_${t}`)+(!l&&i?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),o&&o._c&&(o._d=!0),p}function _o(e){return e.some(t=>da(t)?!(t.type===Vt||t.type===be&&!_o(t.children)):!0)?e:null}const na=e=>e?Vo(e)?Os(e):na(e.parent):null,Dn=rt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>na(e.parent),$root:e=>na(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>go(e),$forceUpdate:e=>e.f||(e.f=()=>{Zs(e.update)}),$nextTick:e=>e.n||(e.n=to.bind(e.proxy)),$watch:e=>jf.bind(e)}),sa=(e,t)=>e!==Fe&&!e.__isScriptSetup&&Ye(e,t),Of={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:d,appContext:p}=e;let _;if(t[0]!=="$"){const g=l[t];if(g!==void 0)switch(g){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(sa(i,t))return l[t]=1,i[t];if(s!==Fe&&Ye(s,t))return l[t]=2,s[t];if((_=e.propsOptions[0])&&Ye(_,t))return l[t]=3,o[t];if(n!==Fe&&Ye(n,t))return l[t]=4,n[t];aa&&(l[t]=0)}}const m=Dn[t];let u,R;if(m)return t==="$attrs"&&tt(e.attrs,"get",""),m(e);if((u=d.__cssModules)&&(u=u[t]))return u;if(n!==Fe&&Ye(n,t))return l[t]=4,n[t];if(R=p.config.globalProperties,Ye(R,t))return R[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:o}=e;return sa(s,t)?(s[t]=n,!0):i!==Fe&&Ye(i,t)?(i[t]=n,!0):Ye(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:o,type:l}},d){let p,_;return!!(n[d]||e!==Fe&&d[0]!=="$"&&Ye(e,d)||sa(t,d)||(p=o[0])&&Ye(p,d)||Ye(i,d)||Ye(Dn,d)||Ye(s.config.globalProperties,d)||(_=l.__cssModules)&&_[d])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ye(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function fo(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let aa=!0;function xf(e){const t=go(e),n=e.proxy,i=e.ctx;aa=!1,t.beforeCreate&&mo(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:l,watch:d,provide:p,inject:_,created:m,beforeMount:u,mounted:R,beforeUpdate:g,updated:w,activated:M,deactivated:C,beforeDestroy:E,beforeUnmount:f,destroyed:O,unmounted:I,render:Y,renderTracked:U,renderTriggered:T,errorCaptured:v,serverPrefetch:G,expose:S,inheritAttrs:J,components:H,directives:ne,filters:Z}=t;if(_&&vf(_,i,null),l)for(const x in l){const h=l[x];Pe(h)&&(i[x]=h.bind(n))}if(s){const x=s.call(n,n);Ge(x)&&(e.data=Ue(x))}if(aa=!0,o)for(const x in o){const h=o[x],y=Pe(h)?h.bind(n,n):Pe(h.get)?h.get.bind(n,n):vt,P=!Pe(h)&&Pe(h.set)?h.set.bind(n):vt,L=_e({get:y,set:P});Object.defineProperty(i,x,{enumerable:!0,configurable:!0,get:()=>L.value,set:F=>L.value=F})}if(d)for(const x in d)ho(d[x],i,n,x);if(p){const x=Pe(p)?p.call(n):p;Reflect.ownKeys(x).forEach(h=>{$f(h,x[h])})}m&&mo(m,e,"c");function $(x,h){Oe(h)?h.forEach(y=>x(y.bind(n))):h&&x(h.bind(n))}if($(gf,u),$(pt,R),$(Ef,g),$(Cf,w),$(ff,M),$(mf,C),$(yf,v),$(bf,U),$(Sf,T),$(wn,f),$(ta,I),$(Af,G),Oe(S))if(S.length){const x=e.exposed||(e.exposed={});S.forEach(h=>{Object.defineProperty(x,h,{get:()=>n[h],set:y=>n[h]=y,enumerable:!0})})}else e.exposed||(e.exposed={});Y&&e.render===vt&&(e.render=Y),J!=null&&(e.inheritAttrs=J),H&&(e.components=H),ne&&(e.directives=ne),G&&lo(e)}function vf(e,t,n=vt){Oe(e)&&(e=oa(e));for(const i in e){const s=e[i];let o;Ge(s)?"default"in s?o=As(s.from||i,s.default,!0):o=As(s.from||i):o=As(s),Qe(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[i]=o}}function mo(e,t,n){Mt(Oe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function ho(e,t,n,i){let s=i.includes(".")?$o(n,i):()=>n[i];if(Je(e)){const o=t[e];Pe(o)&&He(s,o)}else if(Pe(e))He(s,e.bind(n));else if(Ge(e))if(Oe(e))e.forEach(o=>ho(o,t,n,i));else{const o=Pe(e.handler)?e.handler.bind(n):t[e.handler];Pe(o)&&He(s,o,e)}}function go(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,d=o.get(t);let p;return d?p=d:!s.length&&!n&&!i?p=t:(p={},s.length&&s.forEach(_=>Cs(p,_,l,!0)),Cs(p,t,l)),Ge(t)&&o.set(t,p),p}function Cs(e,t,n,i=!1){const{mixins:s,extends:o}=t;o&&Cs(e,o,n,!0),s&&s.forEach(l=>Cs(e,l,n,!0));for(const l in t)if(!(i&&l==="expose")){const d=Nf[l]||n&&n[l];e[l]=d?d(e[l],t[l]):t[l]}return e}const Nf={data:Eo,props:Co,emits:Co,methods:Ln,computed:Ln,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:Ln,directives:Ln,watch:Mf,provide:Eo,inject:Pf};function Eo(e,t){return t?e?function(){return rt(Pe(e)?e.call(this,this):e,Pe(t)?t.call(this,this):t)}:t:e}function Pf(e,t){return Ln(oa(e),oa(t))}function oa(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ct(e,t){return e?[...new Set([].concat(e,t))]:t}function Ln(e,t){return e?rt(Object.create(null),e,t):t}function Co(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:rt(Object.create(null),fo(e),fo(t!=null?t:{})):t}function Mf(e,t){if(!e)return t;if(!t)return e;const n=rt(Object.create(null),e);for(const i in t)n[i]=ct(e[i],t[i]);return n}function Ao(){return{app:null,config:{isNativeTag:ya,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let If=0;function kf(e,t){return function(i,s=null){Pe(i)||(i=rt({},i)),s!=null&&!Ge(s)&&(s=null);const o=Ao(),l=new WeakSet,d=[];let p=!1;const _=o.app={_uid:If++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:Cm,get config(){return o.config},set config(m){},use(m,...u){return l.has(m)||(m&&Pe(m.install)?(l.add(m),m.install(_,...u)):Pe(m)&&(l.add(m),m(_,...u))),_},mixin(m){return o.mixins.includes(m)||o.mixins.push(m),_},component(m,u){return u?(o.components[m]=u,_):o.components[m]},directive(m,u){return u?(o.directives[m]=u,_):o.directives[m]},mount(m,u,R){if(!p){const g=_._ceVNode||je(i,s);return g.appContext=o,R===!0?R="svg":R===!1&&(R=void 0),e(g,m,R),p=!0,_._container=m,m.__vue_app__=_,Os(g.component)}},onUnmount(m){d.push(m)},unmount(){p&&(Mt(d,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(m,u){return o.provides[m]=u,_},runWithContext(m){const u=gn;gn=_;try{return m()}finally{gn=u}}};return _}}let gn=null;function $f(e,t){if(dt){let n=dt.provides;const i=dt.parent&&dt.parent.provides;i===n&&(n=dt.provides=Object.create(i)),n[e]=t}}function As(e,t,n=!1){const i=dm();if(i||gn){let s=gn?gn._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Pe(t)?t.call(i&&i.proxy):t}}const So={},bo=()=>Object.create(So),yo=e=>Object.getPrototypeOf(e)===So;function wf(e,t,n,i=!1){const s={},o=bo();e.propsDefaults=Object.create(null),To(e,t,s,o);for(const l in e.propsOptions[0])l in s||(s[l]=void 0);n?e.props=i?s:B_(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function Df(e,t,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=e,d=$e(s),[p]=e.propsOptions;let _=!1;if((i||l>0)&&!(l&16)){if(l&8){const m=e.vnode.dynamicProps;for(let u=0;u<m.length;u++){let R=m[u];if(Ss(e.emitsOptions,R))continue;const g=t[R];if(p)if(Ye(o,R))g!==o[R]&&(o[R]=g,_=!0);else{const w=Kt(R);s[w]=ia(p,d,w,g,e,!1)}else g!==o[R]&&(o[R]=g,_=!0)}}}else{To(e,t,s,o)&&(_=!0);let m;for(const u in d)(!t||!Ye(t,u)&&((m=jt(u))===u||!Ye(t,m)))&&(p?n&&(n[u]!==void 0||n[m]!==void 0)&&(s[u]=ia(p,d,u,void 0,e,!0)):delete s[u]);if(o!==d)for(const u in o)(!t||!Ye(t,u))&&(delete o[u],_=!0)}_&&Ut(e.attrs,"set","")}function To(e,t,n,i){const[s,o]=e.propsOptions;let l=!1,d;if(t)for(let p in t){if(Rn(p))continue;const _=t[p];let m;s&&Ye(s,m=Kt(p))?!o||!o.includes(m)?n[m]=_:(d||(d={}))[m]=_:Ss(e.emitsOptions,p)||(!(p in i)||_!==i[p])&&(i[p]=_,l=!0)}if(o){const p=$e(n),_=d||Fe;for(let m=0;m<o.length;m++){const u=o[m];n[u]=ia(s,p,u,_[u],e,!Ye(_,u))}}return l}function ia(e,t,n,i,s,o){const l=e[n];if(l!=null){const d=Ye(l,"default");if(d&&i===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&Pe(p)){const{propsDefaults:_}=s;if(n in _)i=_[n];else{const m=Fn(s);i=_[n]=p.call(null,t),m()}}else i=p;s.ce&&s.ce._setProp(n,i)}l[0]&&(o&&!d?i=!1:l[1]&&(i===""||i===jt(n))&&(i=!0))}return i}const Lf=new WeakMap;function Ro(e,t,n=!1){const i=n?Lf:t.propsCache,s=i.get(e);if(s)return s;const o=e.props,l={},d=[];let p=!1;if(!Pe(e)){const m=u=>{p=!0;const[R,g]=Ro(u,t,!0);rt(l,R),g&&d.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!o&&!p)return Ge(e)&&i.set(e,ln),ln;if(Oe(o))for(let m=0;m<o.length;m++){const u=Kt(o[m]);Oo(u)&&(l[u]=Fe)}else if(o)for(const m in o){const u=Kt(m);if(Oo(u)){const R=o[m],g=l[u]=Oe(R)||Pe(R)?{type:R}:rt({},R),w=g.type;let M=!1,C=!0;if(Oe(w))for(let E=0;E<w.length;++E){const f=w[E],O=Pe(f)&&f.name;if(O==="Boolean"){M=!0;break}else O==="String"&&(C=!1)}else M=Pe(w)&&w.name==="Boolean";g[0]=M,g[1]=C,(M||Ye(g,"default"))&&d.push(u)}}const _=[l,d];return Ge(e)&&i.set(e,_),_}function Oo(e){return e[0]!=="$"&&!Rn(e)}const ra=e=>e==="_"||e==="_ctx"||e==="$stable",la=e=>Oe(e)?e.map(kt):[kt(e)],Yf=(e,t,n)=>{if(t._n)return t;const i=ro((...s)=>la(t(...s)),n);return i._c=!1,i},xo=(e,t,n)=>{const i=e._ctx;for(const s in e){if(ra(s))continue;const o=e[s];if(Pe(o))t[s]=Yf(s,o,i);else if(o!=null){const l=la(o);t[s]=()=>l}}},vo=(e,t)=>{const n=la(t);e.slots.default=()=>n},No=(e,t,n)=>{for(const i in t)(n||!ra(i))&&(e[i]=t[i])},Uf=(e,t,n)=>{const i=e.slots=bo();if(e.vnode.shapeFlag&32){const s=t._;s?(No(i,t,n),n&&Na(i,"_",s,!0)):xo(t,i)}else t&&vo(e,t)},Xf=(e,t,n)=>{const{vnode:i,slots:s}=e;let o=!0,l=Fe;if(i.shapeFlag&32){const d=t._;d?n&&d===1?o=!1:No(s,t,n):(o=!t.$stable,xo(t,s)),l=t}else t&&(vo(e,t),l={default:1});if(o)for(const d in s)!ra(d)&&l[d]==null&&delete s[d]},Et=tm;function Ff(e){return Gf(e)}function Gf(e,t){const n=as();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:d,createComment:p,setText:_,setElementText:m,parentNode:u,nextSibling:R,setScopeId:g=vt,insertStaticContent:w}=e,M=(N,k,V,ae=null,z=null,ee=null,q=void 0,W=null,Q=!!k.dynamicChildren)=>{if(N===k)return;N&&!Xn(N,k)&&(ae=he(N),F(N,z,ee,!0),N=null),k.patchFlag===-2&&(Q=!1,k.dynamicChildren=null);const{type:j,ref:pe,shapeFlag:re}=k;switch(j){case bs:C(N,k,V,ae);break;case Vt:E(N,k,V,ae);break;case ys:N==null&&f(k,V,ae,q);break;case be:H(N,k,V,ae,z,ee,q,W,Q);break;default:re&1?Y(N,k,V,ae,z,ee,q,W,Q):re&6?ne(N,k,V,ae,z,ee,q,W,Q):(re&64||re&128)&&j.process(N,k,V,ae,z,ee,q,W,Q,Ae)}pe!=null&&z?$n(pe,N&&N.ref,ee,k||N,!k):pe==null&&N&&N.ref!=null&&$n(N.ref,null,ee,N,!0)},C=(N,k,V,ae)=>{if(N==null)i(k.el=d(k.children),V,ae);else{const z=k.el=N.el;k.children!==N.children&&_(z,k.children)}},E=(N,k,V,ae)=>{N==null?i(k.el=p(k.children||""),V,ae):k.el=N.el},f=(N,k,V,ae)=>{[N.el,N.anchor]=w(N.children,k,V,ae,N.el,N.anchor)},O=({el:N,anchor:k},V,ae)=>{let z;for(;N&&N!==k;)z=R(N),i(N,V,ae),N=z;i(k,V,ae)},I=({el:N,anchor:k})=>{let V;for(;N&&N!==k;)V=R(N),s(N),N=V;s(k)},Y=(N,k,V,ae,z,ee,q,W,Q)=>{k.type==="svg"?q="svg":k.type==="math"&&(q="mathml"),N==null?U(k,V,ae,z,ee,q,W,Q):G(N,k,z,ee,q,W,Q)},U=(N,k,V,ae,z,ee,q,W)=>{let Q,j;const{props:pe,shapeFlag:re,transition:ue,dirs:Ee}=N;if(Q=N.el=l(N.type,ee,pe&&pe.is,pe),re&8?m(Q,N.children):re&16&&v(N.children,Q,null,ae,z,ca(N,ee),q,W),Ee&&nn(N,null,ae,"created"),T(Q,N,N.scopeId,q,ae),pe){for(const Me in pe)Me!=="value"&&!Rn(Me)&&o(Q,Me,null,pe[Me],ee,ae);"value"in pe&&o(Q,"value",null,pe.value,ee),(j=pe.onVnodeBeforeMount)&&$t(j,ae,N)}Ee&&nn(N,null,ae,"beforeMount");const Te=Vf(z,ue);Te&&ue.beforeEnter(Q),i(Q,k,V),((j=pe&&pe.onVnodeMounted)||Te||Ee)&&Et(()=>{j&&$t(j,ae,N),Te&&ue.enter(Q),Ee&&nn(N,null,ae,"mounted")},z)},T=(N,k,V,ae,z)=>{if(V&&g(N,V),ae)for(let ee=0;ee<ae.length;ee++)g(N,ae[ee]);if(z){let ee=z.subTree;if(k===ee||Yo(ee.type)&&(ee.ssContent===k||ee.ssFallback===k)){const q=z.vnode;T(N,q,q.scopeId,q.slotScopeIds,z.parent)}}},v=(N,k,V,ae,z,ee,q,W,Q=0)=>{for(let j=Q;j<N.length;j++){const pe=N[j]=W?Qt(N[j]):kt(N[j]);M(null,pe,k,V,ae,z,ee,q,W)}},G=(N,k,V,ae,z,ee,q)=>{const W=k.el=N.el;let{patchFlag:Q,dynamicChildren:j,dirs:pe}=k;Q|=N.patchFlag&16;const re=N.props||Fe,ue=k.props||Fe;let Ee;if(V&&sn(V,!1),(Ee=ue.onVnodeBeforeUpdate)&&$t(Ee,V,k,N),pe&&nn(k,N,V,"beforeUpdate"),V&&sn(V,!0),(re.innerHTML&&ue.innerHTML==null||re.textContent&&ue.textContent==null)&&m(W,""),j?S(N.dynamicChildren,j,W,V,ae,ca(k,z),ee):q||h(N,k,W,null,V,ae,ca(k,z),ee,!1),Q>0){if(Q&16)J(W,re,ue,V,z);else if(Q&2&&re.class!==ue.class&&o(W,"class",null,ue.class,z),Q&4&&o(W,"style",re.style,ue.style,z),Q&8){const Te=k.dynamicProps;for(let Me=0;Me<Te.length;Me++){const Ie=Te[Me],De=re[Ie],Be=ue[Ie];(Be!==De||Ie==="value")&&o(W,Ie,De,Be,z,V)}}Q&1&&N.children!==k.children&&m(W,k.children)}else!q&&j==null&&J(W,re,ue,V,z);((Ee=ue.onVnodeUpdated)||pe)&&Et(()=>{Ee&&$t(Ee,V,k,N),pe&&nn(k,N,V,"updated")},ae)},S=(N,k,V,ae,z,ee,q)=>{for(let W=0;W<k.length;W++){const Q=N[W],j=k[W],pe=Q.el&&(Q.type===be||!Xn(Q,j)||Q.shapeFlag&198)?u(Q.el):V;M(Q,j,pe,null,ae,z,ee,q,!0)}},J=(N,k,V,ae,z)=>{if(k!==V){if(k!==Fe)for(const ee in k)!Rn(ee)&&!(ee in V)&&o(N,ee,k[ee],null,z,ae);for(const ee in V){if(Rn(ee))continue;const q=V[ee],W=k[ee];q!==W&&ee!=="value"&&o(N,ee,W,q,z,ae)}"value"in V&&o(N,"value",k.value,V.value,z)}},H=(N,k,V,ae,z,ee,q,W,Q)=>{const j=k.el=N?N.el:d(""),pe=k.anchor=N?N.anchor:d("");let{patchFlag:re,dynamicChildren:ue,slotScopeIds:Ee}=k;Ee&&(W=W?W.concat(Ee):Ee),N==null?(i(j,V,ae),i(pe,V,ae),v(k.children||[],V,pe,z,ee,q,W,Q)):re>0&&re&64&&ue&&N.dynamicChildren?(S(N.dynamicChildren,ue,V,z,ee,q,W),(k.key!=null||z&&k===z.subTree)&&Po(N,k,!0)):h(N,k,V,pe,z,ee,q,W,Q)},ne=(N,k,V,ae,z,ee,q,W,Q)=>{k.slotScopeIds=W,N==null?k.shapeFlag&512?z.ctx.activate(k,V,ae,q,Q):Z(k,V,ae,z,ee,q,Q):Ce(N,k,Q)},Z=(N,k,V,ae,z,ee,q)=>{const W=N.component=cm(N,ae,z);if(uo(N)&&(W.ctx.renderer=Ae),um(W,!1,q),W.asyncDep){if(z&&z.registerDep(W,$,q),!N.el){const Q=W.subTree=je(Vt);E(null,Q,k,V),N.placeholder=Q.el}}else $(W,N,k,V,z,ee,q)},Ce=(N,k,V)=>{const ae=k.component=N.component;if(Zf(N,k,V))if(ae.asyncDep&&!ae.asyncResolved){x(ae,k,V);return}else ae.next=k,ae.update();else k.el=N.el,ae.vnode=k},$=(N,k,V,ae,z,ee,q)=>{const W=()=>{if(N.isMounted){let{next:re,bu:ue,u:Ee,parent:Te,vnode:Me}=N;{const Le=Mo(N);if(Le){re&&(re.el=Me.el,x(N,re,q)),Le.asyncDep.then(()=>{N.isUnmounted||W()});return}}let Ie=re,De;sn(N,!1),re?(re.el=Me.el,x(N,re,q)):re=Me,ue&&ns(ue),(De=re.props&&re.props.onVnodeBeforeUpdate)&&$t(De,Te,re,Me),sn(N,!0);const Be=Do(N),Ke=N.subTree;N.subTree=Be,M(Ke,Be,u(Ke.el),he(Ke),N,z,ee),re.el=Be.el,Ie===null&&em(N,Be.el),Ee&&Et(Ee,z),(De=re.props&&re.props.onVnodeUpdated)&&Et(()=>$t(De,Te,re,Me),z)}else{let re;const{el:ue,props:Ee}=k,{bm:Te,m:Me,parent:Ie,root:De,type:Be}=N,Ke=hn(k);sn(N,!1),Te&&ns(Te),!Ke&&(re=Ee&&Ee.onVnodeBeforeMount)&&$t(re,Ie,k),sn(N,!0);{De.ce&&De.ce._def.shadowRoot!==!1&&De.ce._injectChildStyle(Be);const Le=N.subTree=Do(N);M(null,Le,V,ae,N,z,ee),k.el=Le.el}if(Me&&Et(Me,z),!Ke&&(re=Ee&&Ee.onVnodeMounted)){const Le=k;Et(()=>$t(re,Ie,Le),z)}(k.shapeFlag&256||Ie&&hn(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&N.a&&Et(N.a,z),N.isMounted=!0,k=V=ae=null}};N.scope.on();const Q=N.effect=new $a(W);N.scope.off();const j=N.update=Q.run.bind(Q),pe=N.job=Q.runIfDirty.bind(Q);pe.i=N,pe.id=N.uid,Q.scheduler=()=>Zs(pe),sn(N,!0),j()},x=(N,k,V)=>{k.component=N;const ae=N.vnode.props;N.vnode=k,N.next=null,Df(N,k.props,ae,V),Xf(N,k.children,V),Nt(),so(N),Pt()},h=(N,k,V,ae,z,ee,q,W,Q=!1)=>{const j=N&&N.children,pe=N?N.shapeFlag:0,re=k.children,{patchFlag:ue,shapeFlag:Ee}=k;if(ue>0){if(ue&128){P(j,re,V,ae,z,ee,q,W,Q);return}else if(ue&256){y(j,re,V,ae,z,ee,q,W,Q);return}}Ee&8?(pe&16&&de(j,z,ee),re!==j&&m(V,re)):pe&16?Ee&16?P(j,re,V,ae,z,ee,q,W,Q):de(j,z,ee,!0):(pe&8&&m(V,""),Ee&16&&v(re,V,ae,z,ee,q,W,Q))},y=(N,k,V,ae,z,ee,q,W,Q)=>{N=N||ln,k=k||ln;const j=N.length,pe=k.length,re=Math.min(j,pe);let ue;for(ue=0;ue<re;ue++){const Ee=k[ue]=Q?Qt(k[ue]):kt(k[ue]);M(N[ue],Ee,V,null,z,ee,q,W,Q)}j>pe?de(N,z,ee,!0,!1,re):v(k,V,ae,z,ee,q,W,Q,re)},P=(N,k,V,ae,z,ee,q,W,Q)=>{let j=0;const pe=k.length;let re=N.length-1,ue=pe-1;for(;j<=re&&j<=ue;){const Ee=N[j],Te=k[j]=Q?Qt(k[j]):kt(k[j]);if(Xn(Ee,Te))M(Ee,Te,V,null,z,ee,q,W,Q);else break;j++}for(;j<=re&&j<=ue;){const Ee=N[re],Te=k[ue]=Q?Qt(k[ue]):kt(k[ue]);if(Xn(Ee,Te))M(Ee,Te,V,null,z,ee,q,W,Q);else break;re--,ue--}if(j>re){if(j<=ue){const Ee=ue+1,Te=Ee<pe?k[Ee].el:ae;for(;j<=ue;)M(null,k[j]=Q?Qt(k[j]):kt(k[j]),V,Te,z,ee,q,W,Q),j++}}else if(j>ue)for(;j<=re;)F(N[j],z,ee,!0),j++;else{const Ee=j,Te=j,Me=new Map;for(j=Te;j<=ue;j++){const Ze=k[j]=Q?Qt(k[j]):kt(k[j]);Ze.key!=null&&Me.set(Ze.key,j)}let Ie,De=0;const Be=ue-Te+1;let Ke=!1,Le=0;const Lt=new Array(Be);for(j=0;j<Be;j++)Lt[j]=0;for(j=Ee;j<=re;j++){const Ze=N[j];if(De>=Be){F(Ze,z,ee,!0);continue}let ot;if(Ze.key!=null)ot=Me.get(Ze.key);else for(Ie=Te;Ie<=ue;Ie++)if(Lt[Ie-Te]===0&&Xn(Ze,k[Ie])){ot=Ie;break}ot===void 0?F(Ze,z,ee,!0):(Lt[ot-Te]=j+1,ot>=Le?Le=ot:Ke=!0,M(Ze,k[ot],V,null,z,ee,q,W,Q),De++)}const an=Ke?Hf(Lt):ln;for(Ie=an.length-1,j=Be-1;j>=0;j--){const Ze=Te+j,ot=k[Ze],me=k[Ze+1],ye=Ze+1<pe?me.el||me.placeholder:ae;Lt[j]===0?M(null,ot,V,ye,z,ee,q,W,Q):Ke&&(Ie<0||j!==an[Ie]?L(ot,V,ye,2):Ie--)}}},L=(N,k,V,ae,z=null)=>{const{el:ee,type:q,transition:W,children:Q,shapeFlag:j}=N;if(j&6){L(N.component.subTree,k,V,ae);return}if(j&128){N.suspense.move(k,V,ae);return}if(j&64){q.move(N,k,V,Ae);return}if(q===be){i(ee,k,V);for(let re=0;re<Q.length;re++)L(Q[re],k,V,ae);i(N.anchor,k,V);return}if(q===ys){O(N,k,V);return}if(ae!==2&&j&1&&W)if(ae===0)W.beforeEnter(ee),i(ee,k,V),Et(()=>W.enter(ee),z);else{const{leave:re,delayLeave:ue,afterLeave:Ee}=W,Te=()=>{N.ctx.isUnmounted?s(ee):i(ee,k,V)},Me=()=>{ee._isLeaving&&ee[_f](!0),re(ee,()=>{Te(),Ee&&Ee()})};ue?ue(ee,Te,Me):Me()}else i(ee,k,V)},F=(N,k,V,ae=!1,z=!1)=>{const{type:ee,props:q,ref:W,children:Q,dynamicChildren:j,shapeFlag:pe,patchFlag:re,dirs:ue,cacheIndex:Ee}=N;if(re===-2&&(z=!1),W!=null&&(Nt(),$n(W,null,V,N,!0),Pt()),Ee!=null&&(k.renderCache[Ee]=void 0),pe&256){k.ctx.deactivate(N);return}const Te=pe&1&&ue,Me=!hn(N);let Ie;if(Me&&(Ie=q&&q.onVnodeBeforeUnmount)&&$t(Ie,k,N),pe&6)ie(N.component,V,ae);else{if(pe&128){N.suspense.unmount(V,ae);return}Te&&nn(N,null,k,"beforeUnmount"),pe&64?N.type.remove(N,k,V,Ae,ae):j&&!j.hasOnce&&(ee!==be||re>0&&re&64)?de(j,k,V,!1,!0):(ee===be&&re&384||!z&&pe&16)&&de(Q,k,V),ae&&B(N)}(Me&&(Ie=q&&q.onVnodeUnmounted)||Te)&&Et(()=>{Ie&&$t(Ie,k,N),Te&&nn(N,null,k,"unmounted")},V)},B=N=>{const{type:k,el:V,anchor:ae,transition:z}=N;if(k===be){X(V,ae);return}if(k===ys){I(N);return}const ee=()=>{s(V),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(N.shapeFlag&1&&z&&!z.persisted){const{leave:q,delayLeave:W}=z,Q=()=>q(V,ee);W?W(N.el,ee,Q):Q()}else ee()},X=(N,k)=>{let V;for(;N!==k;)V=R(N),s(N),N=V;s(k)},ie=(N,k,V)=>{const{bum:ae,scope:z,job:ee,subTree:q,um:W,m:Q,a:j}=N;Io(Q),Io(j),ae&&ns(ae),z.stop(),ee&&(ee.flags|=8,F(q,N,k,V)),W&&Et(W,k),Et(()=>{N.isUnmounted=!0},k)},de=(N,k,V,ae=!1,z=!1,ee=0)=>{for(let q=ee;q<N.length;q++)F(N[q],k,V,ae,z)},he=N=>{if(N.shapeFlag&6)return he(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const k=R(N.anchor||N.el),V=k&&k[uf];return V?R(V):k};let K=!1;const le=(N,k,V)=>{N==null?k._vnode&&F(k._vnode,null,null,!0):M(k._vnode||null,N,k,null,null,null,V),k._vnode=N,K||(K=!0,so(),ao(),K=!1)},Ae={p:M,um:F,m:L,r:B,mt:Z,mc:v,pc:h,pbc:S,n:he,o:e};return{render:le,hydrate:void 0,createApp:kf(le)}}function ca({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function sn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Vf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Po(e,t,n=!1){const i=e.children,s=t.children;if(Oe(i)&&Oe(s))for(let o=0;o<i.length;o++){const l=i[o];let d=s[o];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=s[o]=Qt(s[o]),d.el=l.el),!n&&d.patchFlag!==-2&&Po(l,d)),d.type===bs&&d.patchFlag!==-1&&(d.el=l.el),d.type===Vt&&!d.el&&(d.el=l.el)}}function Hf(e){const t=e.slice(),n=[0];let i,s,o,l,d;const p=e.length;for(i=0;i<p;i++){const _=e[i];if(_!==0){if(s=n[n.length-1],e[s]<_){t[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)d=o+l>>1,e[n[d]]<_?o=d+1:l=d;_<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=t[l];return n}function Mo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Mo(t)}function Io(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Bf=Symbol.for("v-scx"),Kf=()=>As(Bf);function He(e,t,n){return ko(e,t,n)}function ko(e,t,n=Fe){const{immediate:i,deep:s,flush:o,once:l}=n,d=rt({},n),p=t&&i||!t&&o!=="post";let _;if(Gn){if(o==="sync"){const g=Kf();_=g.__watcherHandles||(g.__watcherHandles=[])}else if(!p){const g=()=>{};return g.stop=vt,g.resume=vt,g.pause=vt,g}}const m=dt;d.call=(g,w,M)=>Mt(g,m,w,M);let u=!1;o==="post"?d.scheduler=g=>{Et(g,m&&m.suspense)}:o!=="sync"&&(u=!0,d.scheduler=(g,w)=>{w?g():Zs(g)}),d.augmentJob=g=>{t&&(g.flags|=4),u&&(g.flags|=2,m&&(g.id=m.uid,g.i=m))};const R=nf(e,t,d);return Gn&&(_?_.push(R):p&&R()),R}function jf(e,t,n){const i=this.proxy,s=Je(e)?e.includes(".")?$o(i,e):()=>i[e]:e.bind(i,i);let o;Pe(t)?o=t:(o=t.handler,n=t);const l=Fn(this),d=ko(s,o.bind(i),n);return l(),d}function $o(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const Jf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Kt(t)}Modifiers`]||e[`${jt(t)}Modifiers`];function Wf(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Fe;let s=n;const o=t.startsWith("update:"),l=o&&Jf(i,t.slice(7));l&&(l.trim&&(s=n.map(m=>Je(m)?m.trim():m)),l.number&&(s=n.map(ss)));let d,p=i[d=Ls(t)]||i[d=Ls(Kt(t))];!p&&o&&(p=i[d=Ls(jt(t))]),p&&Mt(p,e,6,s);const _=i[d+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,Mt(_,e,6,s)}}const qf=new WeakMap;function wo(e,t,n=!1){const i=n?qf:t.emitsCache,s=i.get(e);if(s!==void 0)return s;const o=e.emits;let l={},d=!1;if(!Pe(e)){const p=_=>{const m=wo(_,t,!0);m&&(d=!0,rt(l,m))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!o&&!d?(Ge(e)&&i.set(e,null),null):(Oe(o)?o.forEach(p=>l[p]=null):rt(l,o),Ge(e)&&i.set(e,l),l)}function Ss(e,t){return!e||!es(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ye(e,t[0].toLowerCase()+t.slice(1))||Ye(e,jt(t))||Ye(e,t))}function ND(){}function Do(e){const{type:t,vnode:n,proxy:i,withProxy:s,propsOptions:[o],slots:l,attrs:d,emit:p,render:_,renderCache:m,props:u,data:R,setupState:g,ctx:w,inheritAttrs:M}=e,C=hs(e);let E,f;try{if(n.shapeFlag&4){const I=s||i,Y=I;E=kt(_.call(Y,I,m,u,g,R,w)),f=d}else{const I=t;E=kt(I.length>1?I(u,{attrs:d,slots:l,emit:p}):I(u,null)),f=t.props?d:zf(d)}}catch(I){Yn.length=0,fs(I,e,1),E=je(Vt)}let O=E;if(f&&M!==!1){const I=Object.keys(f),{shapeFlag:Y}=O;I.length&&Y&7&&(o&&I.some($s)&&(f=Qf(f,o)),O=En(O,f,!1,!0))}return n.dirs&&(O=En(O,null,!1,!0),O.dirs=O.dirs?O.dirs.concat(n.dirs):n.dirs),n.transition&&ea(O,n.transition),E=O,hs(C),E}const zf=e=>{let t;for(const n in e)(n==="class"||n==="style"||es(n))&&((t||(t={}))[n]=e[n]);return t},Qf=(e,t)=>{const n={};for(const i in e)(!$s(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Zf(e,t,n){const{props:i,children:s,component:o}=e,{props:l,children:d,patchFlag:p}=t,_=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return i?Lo(i,l,_):!!l;if(p&8){const m=t.dynamicProps;for(let u=0;u<m.length;u++){const R=m[u];if(l[R]!==i[R]&&!Ss(_,R))return!0}}}else return(s||d)&&(!d||!d.$stable)?!0:i===l?!1:i?l?Lo(i,l,_):!0:!!l;return!1}function Lo(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==e[o]&&!Ss(n,o))return!0}return!1}function em({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const Yo=e=>e.__isSuspense;function tm(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):df(e)}const be=Symbol.for("v-fgt"),bs=Symbol.for("v-txt"),Vt=Symbol.for("v-cmt"),ys=Symbol.for("v-stc"),Yn=[];let Ct=null;function A(e=!1){Yn.push(Ct=e?null:[])}function nm(){Yn.pop(),Ct=Yn[Yn.length-1]||null}let Un=1;function Uo(e,t=!1){Un+=e,e<0&&Ct&&t&&(Ct.hasOnce=!0)}function Xo(e){return e.dynamicChildren=Un>0?Ct||ln:null,nm(),Un>0&&Ct&&Ct.push(e),e}function b(e,t,n,i,s,o){return Xo(a(e,t,n,i,s,o,!0))}function We(e,t,n,i,s){return Xo(je(e,t,n,i,s,!0))}function da(e){return e?e.__v_isVNode===!0:!1}function Xn(e,t){return e.type===t.type&&e.key===t.key}const Fo=({key:e})=>e!=null?e:null,Ts=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Je(e)||Qe(e)||Pe(e)?{i:nt,r:e,k:t,f:!!n}:e:null);function a(e,t=null,n=null,i=0,s=null,o=e===be?0:1,l=!1,d=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Fo(t),ref:t&&Ts(t),scopeId:io,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:nt};return d?(ua(p,n),o&128&&e.normalize(p)):n&&(p.shapeFlag|=Je(n)?8:16),Un>0&&!l&&Ct&&(p.patchFlag>0||o&6)&&p.patchFlag!==32&&Ct.push(p),p}const je=sm;function sm(e,t=null,n=null,i=0,s=null,o=!1){if((!e||e===Tf)&&(e=Vt),da(e)){const d=En(e,t,!0);return n&&ua(d,n),Un>0&&!o&&Ct&&(d.shapeFlag&6?Ct[Ct.indexOf(e)]=d:Ct.push(d)),d.patchFlag=-2,d}if(Em(e)&&(e=e.__vccOpts),t){t=am(t);let{class:d,style:p}=t;d&&!Je(d)&&(t.class=ve(d)),Ge(p)&&(zs(p)&&!Oe(p)&&(p=rt({},p)),t.style=Rt(p))}const l=Je(e)?1:Yo(e)?128:pf(e)?64:Ge(e)?4:Pe(e)?2:0;return a(e,t,n,i,s,l,o,!0)}function am(e){return e?zs(e)||yo(e)?rt({},e):e:null}function En(e,t,n=!1,i=!1){const{props:s,ref:o,patchFlag:l,children:d,transition:p}=e,_=t?im(s||{},t):s,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&Fo(_),ref:t&&t.ref?n&&o?Oe(o)?o.concat(Ts(t)):[o,Ts(t)]:Ts(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==be?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&En(e.ssContent),ssFallback:e.ssFallback&&En(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&i&&ea(m,p.clone(m)),m}function ge(e=" ",t=0){return je(bs,null,e,t)}function om(e,t){const n=je(ys,null,e);return n.staticCount=t,n}function se(e="",t=!1){return t?(A(),We(Vt,null,e)):je(Vt,null,e)}function kt(e){return e==null||typeof e=="boolean"?je(Vt):Oe(e)?je(be,null,e.slice()):da(e)?Qt(e):je(bs,null,String(e))}function Qt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:En(e)}function ua(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),ua(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!yo(t)?t._ctx=nt:s===3&&nt&&(nt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Pe(t)?(t={default:t,_ctx:nt},n=32):(t=String(t),i&64?(n=16,t=[ge(t)]):n=8);e.children=t,e.shapeFlag|=n}function im(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=ve([t.class,i.class]));else if(s==="style")t.style=Rt([t.style,i.style]);else if(es(s)){const o=t[s],l=i[s];l&&o!==l&&!(Oe(o)&&o.includes(l))&&(t[s]=o?[].concat(o,l):l)}else s!==""&&(t[s]=i[s])}return t}function $t(e,t,n,i=null){Mt(e,t,7,[n,i])}const rm=Ao();let lm=0;function cm(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||rm,o={uid:lm++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new T_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ro(i,s),emitsOptions:wo(i,s),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:i.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Wf.bind(null,o),e.ce&&e.ce(o),o}let dt=null;const dm=()=>dt||nt;let Rs,pa;{const e=as(),t=(n,i)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(i),o=>{s.length>1?s.forEach(l=>l(o)):s[0](o)}};Rs=t("__VUE_INSTANCE_SETTERS__",n=>dt=n),pa=t("__VUE_SSR_SETTERS__",n=>Gn=n)}const Fn=e=>{const t=dt;return Rs(e),e.scope.on(),()=>{e.scope.off(),Rs(t)}},Go=()=>{dt&&dt.scope.off(),Rs(null)};function Vo(e){return e.vnode.shapeFlag&4}let Gn=!1;function um(e,t=!1,n=!1){t&&pa(t);const{props:i,children:s}=e.vnode,o=Vo(e);wf(e,i,o,t),Uf(e,s,n||t);const l=o?pm(e,t):void 0;return t&&pa(!1),l}function pm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Of);const{setup:i}=n;if(i){Nt();const s=e.setupContext=i.length>1?fm(e):null,o=Fn(e),l=_n(i,e,0,[e.props,s]),d=Ra(l);if(Pt(),o(),(d||e.sp)&&!hn(e)&&lo(e),d){if(l.then(Go,Go),t)return l.then(p=>{Ho(e,p)}).catch(p=>{fs(p,e,0)});e.asyncDep=l}else Ho(e,l)}else Bo(e)}function Ho(e,t,n){Pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ge(t)&&(e.setupState=Qa(t)),Bo(e)}function Bo(e,t,n){const i=e.type;e.render||(e.render=i.render||vt);{const s=Fn(e);Nt();try{xf(e)}finally{Pt(),s()}}}const _m={get(e,t){return tt(e,"get",""),e[t]}};function fm(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,_m),slots:e.slots,emit:e.emit,expose:t}}function Os(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Qa(K_(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Dn)return Dn[n](e)},has(t,n){return n in t||n in Dn}})):e.proxy}const mm=/(?:^|[-_])\w/g,hm=e=>e.replace(mm,t=>t.toUpperCase()).replace(/[-_]/g,"");function gm(e,t=!0){return Pe(e)?e.displayName||e.name:e.name||t&&e.__name}function Ko(e,t,n=!1){let i=gm(t);if(!i&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(i=s[1])}if(!i&&e&&e.parent){const s=o=>{for(const l in o)if(o[l]===t)return l};i=s(e.components||e.parent.type.components)||s(e.appContext.components)}return i?hm(i):n?"App":"Anonymous"}function Em(e){return Pe(e)&&"__vccOpts"in e}const _e=(e,t)=>ef(e,t,Gn),Cm="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _a;const jo=typeof window!="undefined"&&window.trustedTypes;if(jo)try{_a=jo.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Jo=_a?e=>_a.createHTML(e):e=>e,Am="http://www.w3.org/2000/svg",Sm="http://www.w3.org/1998/Math/MathML",Ht=typeof document!="undefined"?document:null,Wo=Ht&&Ht.createElement("template"),bm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t==="svg"?Ht.createElementNS(Am,e):t==="mathml"?Ht.createElementNS(Sm,e):n?Ht.createElement(e,{is:n}):Ht.createElement(e);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>Ht.createTextNode(e),createComment:e=>Ht.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ht.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,o){const l=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Wo.innerHTML=Jo(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const d=Wo.content;if(i==="svg"||i==="mathml"){const p=d.firstChild;for(;p.firstChild;)d.appendChild(p.firstChild);d.removeChild(p)}t.insertBefore(d,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ym=Symbol("_vtc");function Tm(e,t,n){const i=e[ym];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xs=Symbol("_vod"),qo=Symbol("_vsh"),Cn={name:"show",beforeMount(e,{value:t},{transition:n}){e[xs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Vn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Vn(e,!0),i.enter(e)):i.leave(e,()=>{Vn(e,!1)}):Vn(e,t))},beforeUnmount(e,{value:t}){Vn(e,t)}};function Vn(e,t){e.style.display=t?e[xs]:"none",e[qo]=!t}const Rm=Symbol(""),Om=/(?:^|;)\s*display\s*:/;function xm(e,t,n){const i=e.style,s=Je(n);let o=!1;if(n&&!s){if(t)if(Je(t))for(const l of t.split(";")){const d=l.slice(0,l.indexOf(":")).trim();n[d]==null&&vs(i,d,"")}else for(const l in t)n[l]==null&&vs(i,l,"");for(const l in n)l==="display"&&(o=!0),vs(i,l,n[l])}else if(s){if(t!==n){const l=i[Rm];l&&(n+=";"+l),i.cssText=n,o=Om.test(n)}}else t&&e.removeAttribute("style");xs in e&&(e[xs]=o?i.display:"",e[qo]&&(i.display="none"))}const zo=/\s*!important$/;function vs(e,t,n){if(Oe(n))n.forEach(i=>vs(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=vm(e,t);zo.test(n)?e.setProperty(jt(i),n.replace(zo,""),"important"):e[i]=n}}const Qo=["Webkit","Moz","ms"],fa={};function vm(e,t){const n=fa[t];if(n)return n;let i=Kt(t);if(i!=="filter"&&i in e)return fa[t]=i;i=va(i);for(let s=0;s<Qo.length;s++){const o=Qo[s]+i;if(o in e)return fa[t]=o}return t}const Zo="http://www.w3.org/1999/xlink";function ei(e,t,n,i,s,o=b_(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Zo,t.slice(6,t.length)):e.setAttributeNS(Zo,t,n):n==null||o&&!Ma(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Tt(n)?String(n):n)}function ti(e,t,n,i,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Jo(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const d=o==="OPTION"?e.getAttribute("value")||"":e.value,p=n==null?e.type==="checkbox"?"on":"":String(n);(d!==p||!("_value"in e))&&(e.value=p),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=Ma(n):n==null&&d==="string"?(n="",l=!0):d==="number"&&(n=0,l=!0)}try{e[t]=n}catch(d){}l&&e.removeAttribute(s||t)}function Zt(e,t,n,i){e.addEventListener(t,n,i)}function Nm(e,t,n,i){e.removeEventListener(t,n,i)}const ni=Symbol("_vei");function Pm(e,t,n,i,s=null){const o=e[ni]||(e[ni]={}),l=o[t];if(i&&l)l.value=i;else{const[d,p]=Mm(t);if(i){const _=o[t]=$m(i,s);Zt(e,d,_,p)}else l&&(Nm(e,d,l,p),o[t]=void 0)}}const si=/(?:Once|Passive|Capture)$/;function Mm(e){let t;if(si.test(e)){t={};let i;for(;i=e.match(si);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):jt(e.slice(2)),t]}let ma=0;const Im=Promise.resolve(),km=()=>ma||(Im.then(()=>ma=0),ma=Date.now());function $m(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Mt(wm(i,n.value),t,5,[i])};return n.value=e,n.attached=km(),n}function wm(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const ai=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Dm=(e,t,n,i,s,o)=>{const l=s==="svg";t==="class"?Tm(e,i,l):t==="style"?xm(e,n,i):es(t)?$s(t)||Pm(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Lm(e,t,i,l))?(ti(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&ei(e,t,i,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Je(i))?ti(e,Kt(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),ei(e,t,i,l))};function Lm(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&ai(t)&&Pe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ai(t)&&Je(n)?!1:t in e}const An=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Oe(t)?n=>ns(t,n):t};function Ym(e){e.target.composing=!0}function oi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Bt=Symbol("_assign"),fe={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e[Bt]=An(s);const o=i||s.props&&s.props.type==="number";Zt(e,t?"change":"input",l=>{if(l.target.composing)return;let d=e.value;n&&(d=d.trim()),o&&(d=ss(d)),e[Bt](d)}),n&&Zt(e,"change",()=>{e.value=e.value.trim()}),t||(Zt(e,"compositionstart",Ym),Zt(e,"compositionend",oi),Zt(e,"change",oi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:s,number:o}},l){if(e[Bt]=An(l),e.composing)return;const d=(o||e.type==="number")&&!/^0\d/.test(e.value)?ss(e.value):e.value,p=t==null?"":t;d!==p&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||s&&e.value.trim()===p)||(e.value=p))}},st={deep:!0,created(e,t,n){e[Bt]=An(n),Zt(e,"change",()=>{const i=e._modelValue,s=Hn(e),o=e.checked,l=e[Bt];if(Oe(i)){const d=Ys(i,s),p=d!==-1;if(o&&!p)l(i.concat(s));else if(!o&&p){const _=[...i];_.splice(d,1),l(_)}}else if(dn(i)){const d=new Set(i);o?d.add(s):d.delete(s),l(d)}else l(li(e,o))})},mounted:ii,beforeUpdate(e,t,n){e[Bt]=An(n),ii(e,t,n)}};function ii(e,{value:t,oldValue:n},i){e._modelValue=t;let s;if(Oe(t))s=Ys(t,i.props.value)>-1;else if(dn(t))s=t.has(i.props.value);else{if(t===n)return;s=On(t,li(e,!0))}e.checked!==s&&(e.checked=s)}const _t={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=dn(t);Zt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?ss(Hn(l)):Hn(l));e[Bt](e.multiple?s?new Set(o):o:o[0]),e._assigning=!0,to(()=>{e._assigning=!1})}),e[Bt]=An(i)},mounted(e,{value:t}){ri(e,t)},beforeUpdate(e,t,n){e[Bt]=An(n)},updated(e,{value:t}){e._assigning||ri(e,t)}};function ri(e,t){const n=e.multiple,i=Oe(t);if(!(n&&!i&&!dn(t))){for(let s=0,o=e.options.length;s<o;s++){const l=e.options[s],d=Hn(l);if(n)if(i){const p=typeof d;p==="string"||p==="number"?l.selected=t.some(_=>String(_)===String(d)):l.selected=Ys(t,d)>-1}else l.selected=t.has(d);else if(On(Hn(l),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Hn(e){return"_value"in e?e._value:e.value}function li(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Um=["ctrl","shift","alt","meta"],Xm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Um.some(n=>e[`${n}Key`]&&!t.includes(n))},ft=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(s,...o)=>{for(let l=0;l<t.length;l++){const d=Xm[t[l]];if(d&&d(s,t))return}return e(s,...o)})},Fm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},mt=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const o=jt(s.key);if(t.some(l=>l===o||Fm[l]===o))return e(s)})},Gm=rt({patchProp:Dm},bm);let ci;function Vm(){return ci||(ci=Ff(Gm))}const Hm=(...e)=>{const t=Vm().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=Km(i);if(!s)return;const o=t._component;!Pe(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,Bm(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t};function Bm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Km(e){return Je(e)?document.querySelector(e):e}const at=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},jm={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},Jm={key:0,class:"nxp-ec-admin-error"},Wm={class:"nxp-ec-admin-error__title"},qm={class:"nxp-ec-admin-error__body"};function zm(e,t,n,i,s,o){return A(),b("div",null,[s.error?(A(),b("div",Jm,[a("h2",Wm,c(o.fallbackTitle),1),a("p",qm,c(o.fallbackMessage),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>o.reload&&o.reload(...l))},c(o.reloadLabel),1)])):Rf(e.$slots,"default",{key:1})])}const Qm=at(jm,[["render",zm]]),Zm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},eh={class:"nxp-ec-admin-panel__header"},th={class:"nxp-ec-admin-panel__title"},nh={class:"nxp-ec-admin-panel__lead"},sh={class:"nxp-ec-admin-panel__actions"},ah=["disabled"],oh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ih={key:1,class:"nxp-ec-dashboard"},rh={class:"nxp-ec-dashboard__metrics"},lh={class:"nxp-ec-dashboard__card"},ch={class:"nxp-ec-dashboard__value"},dh={class:"nxp-ec-dashboard__hint"},uh={class:"nxp-ec-dashboard__card"},ph={class:"nxp-ec-dashboard__value"},_h={class:"nxp-ec-dashboard__hint"},fh={class:"nxp-ec-dashboard__card"},mh={class:"nxp-ec-dashboard__value"},hh={class:"nxp-ec-dashboard__hint"},gh={class:"nxp-ec-dashboard__card"},Eh={class:"nxp-ec-dashboard__value"},Ch={class:"nxp-ec-dashboard__hint"},Ah={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Sh={class:"nxp-ec-dashboard__checklist-header"},bh={id:"dashboard-checklist-heading"},yh={class:"nxp-ec-dashboard__checklist-progress"},Th={class:"nxp-ec-dashboard__checklist-list"},Rh={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Oh={key:0,class:"fa-solid fa-circle-check"},xh={key:1,class:"fa-regular fa-circle"},vh={class:"nxp-ec-dashboard__checklist-label"},Nh=["href","title"],Ph={class:"nxp-ec-sr-only"},Mh=at({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const n=e,i=n.translate,s=n.state,o=_e(()=>{var u;const m=(u=s.summary)==null?void 0:u.currency;return typeof m=="string"&&m.trim()!==""?m.trim():"USD"}),l=(m=0)=>{const u=(Number(m)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:o.value}).format(u)}catch(R){return`${o.value} ${u.toFixed(2)}`}},d=_e(()=>Array.isArray(s.checklist)?s.checklist:[]),p=_e(()=>d.value.filter(m=>m.completed).length),_=m=>{switch(m){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return m}};return(m,u)=>(A(),b("section",Zm,[a("header",eh,[a("div",null,[a("h2",th,c(r(i)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),a("p",nh,c(r(i)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),a("div",sh,[a("button",{class:"nxp-ec-btn",type:"button",onClick:u[0]||(u[0]=R=>m.$emit("refresh")),disabled:r(s).loading},c(r(i)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,ah)])]),r(s).error?(A(),b("div",oh,c(r(s).error),1)):(A(),b("div",ih,[a("div",rh,[a("article",lh,[a("h3",null,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),a("p",ch,c(r(s).summary.products.active),1),a("p",dh,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(s).summary.products.total)],"dashboardMetricProductsTotal")),1)]),a("article",uh,[a("h3",null,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),a("p",ph,c(l(r(s).summary.orders.revenue_today)),1),a("p",_h,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(s).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),a("article",fh,[a("h3",null,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),a("p",mh,c(r(s).summary.customers.total),1),a("p",hh,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),a("article",gh,[a("h3",null,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),a("p",Eh,c(l(r(s).summary.orders.revenue_month)),1),a("p",Ch,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[o.value.value],"dashboardMetricCurrency")),1)])]),a("section",Ah,[a("header",Sh,[a("h3",bh,c(r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),a("span",yh,c(p.value)+" / "+c(d.value.length),1)]),a("ul",Th,[(A(!0),b(be,null,xe(d.value,R=>(A(),b("li",{key:R.id,class:ve({"is-complete":R.completed})},[a("span",Rh,[R.completed?(A(),b("span",Oh)):(A(),b("span",xh))]),a("span",vh,c(r(i)(R.label,_(R.label))),1),R.link?(A(),b("a",{key:0,href:R.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[u[1]||(u[1]=a("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),a("span",Ph,c(r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Nh)):se("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),Ih={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},kh={id:"nxp-ec-products-caption",class:"visually-hidden"},$h={scope:"col"},wh={scope:"col"},Dh={scope:"col"},Lh={scope:"col"},Yh={scope:"col",class:"nxp-ec-admin-table__actions"},Uh={key:0},Xh={colspan:"8",class:"nxp-ec-admin-table__empty"},Fh=["data-label"],Gh={class:"nxp-ec-admin-table__primary"},Vh={class:"nxp-ec-products-table__title"},Hh={class:"nxp-ec-products-table__slug"},Bh={key:0,class:"nxp-ec-products-table__badge"},Kh={class:"nxp-ec-status nxp-ec-status--muted"},jh={key:1,class:"nxp-ec-products-table__badge"},Jh={class:"nxp-ec-status nxp-ec-status--featured"},Wh=["data-label"],qh={key:0},zh={key:1},Qh=["data-label"],Zh=["data-label"],eg=["data-label"],tg={key:0},ng=["title"],sg=["data-label"],ag=["disabled","aria-pressed","title","aria-label","onClick"],og={class:"nxp-ec-sr-only"},ig=["data-label"],rg={class:"nxp-ec-admin-table__actions"},lg=["onClick","title","disabled","aria-label"],cg={class:"nxp-ec-sr-only"},dg=["onClick","title","disabled","aria-label"],ug={class:"nxp-ec-sr-only"},ha=1,Bn=-1,ga=0,pg={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1},currentUserId:{type:Number,default:0},sortColumn:{type:String,default:""},sortDirection:{type:String,default:"DESC"}},emits:["edit","delete","toggle-active","sort"],setup(e,{emit:t}){const n=e,i=t,s=C=>{i("sort",C)},o=C=>n.sortColumn!==C?"fa-solid fa-sort":n.sortDirection==="ASC"?"fa-solid fa-sort-up":"fa-solid fa-sort-down",l=n.translate,d=_e(()=>(n.baseCurrency||"USD").toUpperCase()),p=(C,E=!1)=>{const f=Number(C);if(Number.isFinite(f))return f===Bn?Bn:f===ga?ga:ha;if(E)return Bn;if(typeof C=="string"){const O=C.trim().toLowerCase();if(O==="out_of_stock"||O==="out-of-stock"||O==="-1")return Bn;if(O==="inactive"||O==="0")return ga}return ha},_=C=>{var I;const E=p((I=C==null?void 0:C.status)!=null?I:C==null?void 0:C.active,C==null?void 0:C.out_of_stock),f=E===ha,O=E===Bn;return{status:E,isActive:f,isOutOfStock:O,label:f?l("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):O?l("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):l("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:f?"nxp-ec-status--active":O?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:f?"fa-solid fa-circle-check":O?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:l("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},m=C=>(C==null?void 0:C.checked_out)&&Number(C.checked_out)!==0&&Number(C.checked_out)!==Number(n.currentUserId||0),u=C=>{var O,I;const E=(I=(O=C==null?void 0:C.checked_out_user)==null?void 0:O.name)!=null?I:"",f=(C==null?void 0:C.checked_out)===Number(n.currentUserId||0)?l("JGLOBAL_YOU","You"):E||l("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Another user");return l("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[f],"productLockedBy")},R=C=>{var Y,U,T,v;const E=(U=(Y=C==null?void 0:C.summary)==null?void 0:Y.variants)!=null?U:{};if(E.multiple_currencies)return l("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const f=Number.isFinite(E.price_min_cents)?E.price_min_cents:null,O=Number.isFinite(E.price_max_cents)?E.price_max_cents:null;if(f===null)return"";const I=E.currency||((v=(T=C==null?void 0:C.variants)==null?void 0:T[0])==null?void 0:v.currency)||d.value;return O===null||O===f?M(f,I):`${M(f,I)}  ${M(O,I)}`},g=C=>{var O,I;const E=(I=(O=C==null?void 0:C.summary)==null?void 0:O.variants)!=null?I:{},f=Number.isFinite(E.count)?E.count:Array.isArray(C==null?void 0:C.variants)?C.variants.length:0;return f===1?l("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):l("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(f)])},w=C=>{if(!Array.isArray(C)||!C.length)return"";const E=C.map(I=>(I==null?void 0:I.title)||(I==null?void 0:I.slug)).filter(I=>!!I);if(!E.length)return"";if(E.length<=3)return E.join(", ");const f=E.slice(0,3).join(", "),O=E.length-3;return`${f} ${l("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(O)])}`},M=(C,E)=>`${(C/100).toFixed(2)} ${E}`;return(C,E)=>(A(),b("table",Ih,[a("caption",kh,c(r(l)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),a("thead",null,[a("tr",null,[a("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:E[0]||(E[0]=f=>s("id"))},[ge(c(r(l)("JGRID_HEADING_ID","ID"))+" ",1),a("i",{class:ve([o("id"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),a("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:E[1]||(E[1]=f=>s("title"))},[ge(c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product"))+" ",1),a("i",{class:ve([o("title"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),a("th",$h,c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),a("th",wh,c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),a("th",Dh,c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),a("th",Lh,c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),a("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:E[2]||(E[2]=f=>s("status"))},[ge(c(r(l)("JSTATUS","Status"))+" ",1),a("i",{class:ve([o("status"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),a("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:E[3]||(E[3]=f=>s("modified"))},[ge(c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated"))+" ",1),a("i",{class:ve([o("modified"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),a("th",Yh,c(r(l)("JGLOBAL_ACTIONS","Actions")),1)])]),a("tbody",null,[e.items.length?se("",!0):(A(),b("tr",Uh,[a("td",Xh,c(r(l)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(A(!0),b(be,null,xe(e.items,f=>{var O,I,Y,U,T,v,G,S,J,H,ne,Z;return A(),b("tr",{key:f.id},[a("td",{"data-label":r(l)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},c(f.id),9,Fh),a("td",Gh,[a("div",Vh,c(f.title),1),a("div",Hh,c(f.slug),1),f.checked_out?(A(),b("div",Bh,[a("span",Kh,[E[4]||(E[4]=a("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),ge(" "+c(u(f)),1)])])):se("",!0),f.featured?(A(),b("div",jh,[a("span",Jh,[E[5]||(E[5]=a("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),ge(" "+c(r(l)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):se("",!0)]),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[R(f)?(A(),b("span",qh,c(R(f)),1)):(A(),b("span",zh,c(r(l)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,Wh),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},c(g(f)),9,Qh),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[a("span",{class:ve(["nxp-ec-status",(I=(O=f.summary)==null?void 0:O.variants)!=null&&I.stock_zero?"nxp-ec-status--danger":(U=(Y=f.summary)==null?void 0:Y.variants)!=null&&U.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(v=(T=f.summary)==null?void 0:T.variants)!=null&&v.stock_zero||((S=(G=f.summary)==null?void 0:G.variants)==null?void 0:S.stock_total)===0?(A(),b(be,{key:0},[ge(c(r(l)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(A(),b(be,{key:1},[ge(c(r(l)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ne=(H=(J=f.summary)==null?void 0:J.variants)==null?void 0:H.stock_total)!=null?ne:0)])),1)],64))],2)],8,Zh),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(Z=f.categories)!=null&&Z.length?(A(),b("span",tg,c(w(f.categories)),1)):(A(),b("span",{key:1,class:"nxp-ec-status nxp-ec-status--warning",title:r(l)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES_WARNING","This product has no categories and may not appear in category listings")},[E[6]||(E[6]=a("i",{class:"fa-solid fa-triangle-exclamation","aria-hidden":"true"},null,-1)),ge(" "+c(r(l)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1)],8,ng))],8,eg),a("td",{"data-label":r(l)("JSTATUS","Status")},[a("button",{type:"button",class:ve(["nxp-ec-status","nxp-ec-status-button",_(f).className]),disabled:e.saving||m(f),"aria-pressed":_(f).isActive?"true":"false",title:_(f).title,"aria-label":_(f).title,onClick:Ce=>C.$emit("toggle-active",f)},[a("i",{class:ve(_(f).icon),"aria-hidden":"true"},null,2),ge(" "+c(_(f).label)+" ",1),a("span",og,c(r(l)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,ag)],8,sg),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},c(f.modified||f.created),9,ig),a("td",rg,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Ce=>C.$emit("edit",f),title:r(l)("JGLOBAL_EDIT","Edit"),disabled:e.saving,"aria-label":r(l)("JGLOBAL_EDIT","Edit")},[E[7]||(E[7]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",cg,c(r(l)("JGLOBAL_EDIT","Edit")),1)],8,lg),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Ce=>C.$emit("delete",f),title:r(l)("JTRASH","Delete"),disabled:e.saving||m(f),"aria-label":r(l)("JTRASH","Delete")},[E[8]||(E[8]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",ug,c(r(l)("JTRASH","Delete")),1)],8,dg)])])}),128))])]))}};class _g{constructor({token:t=""}={}){this.token=t}async request(t,n={}){const i={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...n};i.headers={...i.headers,...n.headers||{}};const s=String(i.method||"GET").toUpperCase();let o=t;this.token&&(i.headers["X-CSRF-Token"]=this.token,s!=="GET"&&(o=this.ensureTokenOnUrl(o)));const l=await fetch(o,i);let d=null;const p=await l.text();if(p)try{d=JSON.parse(p)}catch(_){}if(!l.ok){const _=new Error((d==null?void 0:d.message)||`Request failed with status ${l.status}`);throw _.code=l.status,_.details=(d==null?void 0:d.data)||(d==null?void 0:d.errors)||null,_}if((d==null?void 0:d.success)===!1){const _=new Error(d.message||"Unknown API error");throw _.details=d.data||d.errors||null,_}return d!=null?d:{}}ensureTokenOnUrl(t){if(!this.token)return t;const n=encodeURIComponent(this.token);try{const i=typeof window!="undefined"&&window.location?window.location.origin:void 0,s=new URL(t,i);return s.searchParams.has(this.token)||s.searchParams.set(this.token,"1"),s.toString()}catch(i){if(t.includes(`${n}=`))return t;const s=t.includes("?")?"&":"?";return`${t}${s}${n}=1`}}get(t,n={}){return this.request(t,{...n,method:"GET"})}post(t,n,i={}){const s={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"POST",headers:s,body:JSON.stringify(n)})}put(t,n,i={}){const s={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"PUT",headers:s,body:JSON.stringify(n)})}delete(t,n={}){return this.request(t,{...n,method:"DELETE"})}async fetchProducts({endpoint:t,limit:n=20,start:i=0,search:s="",categoryId:o=null,sort:l="",sortDir:d="",signal:p}){var M,C,E,f;const _=new URLSearchParams({limit:String(n),start:String(i)});s&&_.set("search",s),o&&_.set("category_id",String(o)),l&&_.set("sort",l),d&&_.set("sort_dir",d);const m=`${t}&${_.toString()}`,R=(M=(await this.get(m,{signal:p})).data)!=null?M:{},g=(E=(C=R.items)!=null?C:R.data)!=null?E:[],w=(f=R.pagination)!=null?f:{total:0,limit:n,pages:0,current:0};return{items:g,pagination:w}}async fetchCategories({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var _,m,u;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(_=(await this.get(l,{signal:o})).data)!=null?_:{};return{items:(m=p.items)!=null?m:[],pagination:(u=p.pagination)!=null?u:{total:0,limit:n,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:n=20,start:i=0,search:s="",state:o="",signal:l}){var R,g,w,M;const d=this.mergeParams(t,{limit:n,start:i,search:s||void 0,state:o||void 0}),_=(R=(await this.get(d,{signal:l})).data)!=null?R:{},m=(w=(g=_.items)!=null?g:_.data)!=null?w:[],u=(M=_.pagination)!=null?M:{total:0,limit:n,pages:0,current:0};return{items:m,pagination:u}}async fetchCustomers({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var u,R,g;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(u=(await this.get(l,{signal:o})).data)!=null?u:{},_=(R=p.items)!=null?R:[],m=(g=p.pagination)!=null?g:{total:0,limit:n,pages:0,current:0};return{items:_,pagination:m}}async fetchCustomer({endpoint:t,email:n}){var o,l;const i=this.mergeParams(t,{email:n});return(l=(o=(await this.get(i)).data)==null?void 0:o.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var _,m,u;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(_=(await this.get(l,{signal:o})).data)!=null?_:{};return{items:(m=p.items)!=null?m:[],pagination:(u=p.pagination)!=null?u:{total:0,limit:n,pages:0,current:0}}}async createCoupon({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.coupon)!=null?o:null}async updateCoupon({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.coupon)!=null?d:null}async deleteCoupons({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:0}async fetchTaxRates({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var _,m,u;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(_=(await this.get(l,{signal:o})).data)!=null?_:{};return{items:(m=p.items)!=null?m:[],pagination:(u=p.pagination)!=null?u:{total:0,limit:n,pages:0,current:0}}}async createTaxRate({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.rate)!=null?o:null}async updateTaxRate({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.rate)!=null?d:null}async deleteTaxRates({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:0}async fetchShippingRules({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var _,m,u;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(_=(await this.get(l,{signal:o})).data)!=null?_:{};return{items:(m=p.items)!=null?m:[],pagination:(u=p.pagination)!=null?u:{total:0,limit:n,pages:0,current:0}}}async createShippingRule({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.rule)!=null?o:null}async updateShippingRule({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.rule)!=null?d:null}async deleteShippingRules({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:0}async fetchLogs({endpoint:t,limit:n=20,start:i=0,search:s="",entity:o="",signal:l}){var m,u,R;const d=this.mergeParams(t,{limit:n,start:i,search:s||void 0,entity:o||void 0}),_=(m=(await this.get(d,{signal:l})).data)!=null?m:{};return{items:(u=_.items)!=null?u:[],pagination:(R=_.pagination)!=null?R:{total:0,limit:n,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var i;return t?(i=(await this.get(t)).data)!=null?i:{}:{}}async fetchSettings({endpoint:t}){var i,s;return t?(s=(i=(await this.get(t)).data)==null?void 0:i.settings)!=null?s:{}:{}}async updateSettings({endpoint:t,data:n}){var s,o;return(o=(s=(await this.put(t,n)).data)==null?void 0:s.settings)!=null?o:{}}async fetchOrder({endpoint:t,id:n=null,orderNumber:i=""}){var l,d;const s=this.mergeParams(t,{id:n||void 0,order_no:i||void 0});return(d=(l=(await this.get(s)).data)==null?void 0:l.order)!=null?d:null}async transitionOrder({endpoint:t,id:n,state:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.post(s,{state:i})).data)==null?void 0:l.order)!=null?d:null}async bulkTransitionOrders({endpoint:t,ids:n,state:i}){var l;const s={ids:n,state:i};return(l=(await this.post(t,s)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:n,message:i}){var o,l;return(l=(o=(await this.post(t,{id:n,message:i})).data)==null?void 0:o.order)!=null?l:null}async fetchOrderInvoice({endpoint:t,id:n,orderNumber:i}){var l,d;const s={id:n||void 0,order_no:i||void 0};return(d=(l=(await this.post(t,s)).data)==null?void 0:l.invoice)!=null?d:null}async exportOrders({endpoint:t,search:n="",state:i=""}){var l,d;const s=this.mergeParams(t,{search:n||void 0,state:i||void 0});return(d=(l=(await this.get(s)).data)==null?void 0:l.export)!=null?d:null}async updateOrderTracking({endpoint:t,id:n,tracking:i}){var o,l;return(l=(o=(await this.post(t,{id:n,...i})).data)==null?void 0:o.order)!=null?l:null}async sendOrderEmail({endpoint:t,id:n,type:i}){var o,l;return(l=(o=(await this.post(t,{id:n,type:i})).data)==null?void 0:o.order)!=null?l:null}async recordTransaction({endpoint:t,id:n,amountCents:i,reference:s,note:o}){var d,p;return(p=(d=(await this.post(t,{id:n,amount_cents:i,reference:s||void 0,note:o||void 0})).data)==null?void 0:d.order)!=null?p:null}async resendDownloads({endpoint:t,id:n}){var s,o;return(o=(s=(await this.post(t,{id:n})).data)==null?void 0:s.order)!=null?o:null}async resetDownload({endpoint:t,downloadId:n,orderId:i}){var o;return(o=(await this.post(t,{download_id:n,order_id:i||void 0})).data)!=null?o:null}async checkoutOrder({endpoint:t,id:n}){var o,l;const i=this.mergeParams(t,{id:n});return(l=(o=(await this.post(i,{id:n})).data)==null?void 0:o.order)!=null?l:null}async checkinOrder({endpoint:t,id:n,force:i=!1}){var l,d;const s=this.mergeParams(t,{id:n,force:i?1:void 0});return(d=(l=(await this.post(s,{id:n})).data)==null?void 0:l.order)!=null?d:null}async createProduct({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?o:null}async updateProduct({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.item)!=null?d:null}async deleteProducts({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.post(t,{ids:n},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:[]}async checkoutProduct({endpoint:t,id:n}){var o,l;const i=this.mergeParams(t,{id:n});return(l=(o=(await this.post(i,{id:n})).data)==null?void 0:o.item)!=null?l:null}async checkinProduct({endpoint:t,id:n,force:i=!1}){var l,d;const s=this.mergeParams(t,{id:n,force:i?1:void 0});return(d=(l=(await this.post(s,{id:n})).data)==null?void 0:l.item)!=null?d:null}async fetchDigitalFiles({endpoint:t,productId:n,variantId:i=null,signal:s}){var d,p;const o=this.mergeParams(t,{product_id:n,variant_id:i||void 0});return(p=(d=(await this.get(o,{signal:s})).data)==null?void 0:d.files)!=null?p:[]}async uploadDigitalFile({endpoint:t,productId:n,file:i,variantId:s=null,version:o="1.0"}){var p,_;const l=new FormData;return l.append("product_id",n),s&&l.append("variant_id",s),o&&l.append("version",o),l.append("file",i),(_=(p=(await this.request(t,{method:"POST",body:l})).data)==null?void 0:p.file)!=null?_:null}async deleteDigitalFile({endpoint:t,fileId:n}){var s,o;return(o=(s=(await this.post(t,{id:n})).data)==null?void 0:s.deleted)!=null?o:null}async createCategory({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?o:null}async updateCategory({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.item)!=null?d:null}async deleteCategories({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:0}async checkoutCategory({endpoint:t,id:n}){var o,l;const i=this.mergeParams(t,{id:n});return(l=(o=(await this.post(i,{id:n})).data)==null?void 0:o.item)!=null?l:null}async checkinCategory({endpoint:t,id:n,force:i=!1}){var l,d;const s=this.mergeParams(t,{id:n,force:i?1:void 0});return(d=(l=(await this.post(s,{id:n})).data)==null?void 0:l.item)!=null?d:null}async gdprExport({endpoint:t,email:n}){var o,l;const i=this.mergeParams(t,{email:n});return(l=(o=(await this.get(i)).data)==null?void 0:o.export)!=null?l:null}async gdprAnonymise({endpoint:t,email:n}){var s,o,l,d;const i=await this.post(t,{email:n});return{affected:(o=(s=i.data)==null?void 0:s.affected)!=null?o:0,message:(d=(l=i.data)==null?void 0:l.message)!=null?d:""}}mergeParams(t,n={}){const i=new URLSearchParams;return Object.entries(n).forEach(([s,o])=>{o==null||o===""||i.set(s,String(o))}),i.toString()?`${t}${t.includes("?")?"&":"?"}${i.toString()}`:t}}const At=e=>new _g(e),fg={class:"nxp-ec-editor-panel"},mg={class:"nxp-ec-form-field"},hg={class:"nxp-ec-form-label",for:"product-title"},gg={class:"nxp-ec-form-field"},Eg={class:"nxp-ec-form-label",for:"product-slug"},Cg=["placeholder"],Ag={class:"nxp-ec-form-field"},Sg={class:"nxp-ec-form-label",for:"product-short-desc"},bg={class:"nxp-ec-form-field"},yg={class:"nxp-ec-form-label",for:"product-long-desc"},Tg={class:"nxp-ec-form-field"},Rg={class:"nxp-ec-form-label",for:"product-status"},Og={value:1},xg={value:-1},vg={value:0},Ng={class:"nxp-ec-form-help"},Pg={class:"nxp-ec-form-field"},Mg={class:"nxp-ec-form-label",for:"product-type"},Ig={value:"physical"},kg={value:"digital"},$g={class:"nxp-ec-form-help"},wg={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Dg={class:"nxp-ec-form-label",for:"product-featured"},Lg={class:"nxp-ec-form-help"},Yg={__name:"GeneralTab",props:{form:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["slug-input"],setup(e){const n=e.translate;return(i,s)=>(A(),b("section",fg,[a("div",mg,[a("label",hg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),te(a("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>e.form.title=o),required:""},null,512),[[fe,e.form.title,void 0,{trim:!0}]])]),a("div",gg,[a("label",Eg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),te(a("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>e.form.slug=o),onInput:s[2]||(s[2]=o=>i.$emit("slug-input")),placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,Cg),[[fe,e.form.slug,void 0,{trim:!0}]])]),a("div",Ag,[a("label",Sg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),te(a("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":s[3]||(s[3]=o=>e.form.short_desc=o)},null,512),[[fe,e.form.short_desc]])]),a("div",bg,[a("label",yg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),te(a("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":s[4]||(s[4]=o=>e.form.long_desc=o)},null,512),[[fe,e.form.long_desc]])]),a("div",Tg,[a("label",Rg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),te(a("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":s[5]||(s[5]=o=>e.form.status=o)},[a("option",Og,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),a("option",xg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),a("option",vg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[_t,e.form.status,void 0,{number:!0}]]),a("p",Ng,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),a("div",Pg,[a("label",Mg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE","Product type")),1),te(a("select",{id:"product-type",class:"nxp-ec-form-select","onUpdate:modelValue":s[6]||(s[6]=o=>e.form.product_type=o)},[a("option",Ig,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_PHYSICAL","Physical product")),1),a("option",kg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_DIGITAL","Digital product")),1)],512),[[_t,e.form.product_type]]),a("p",$g,c(r(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),a("div",wg,[a("label",Dg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),te(a("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":s[7]||(s[7]=o=>e.form.featured=o)},null,512),[[st,e.form.featured]]),a("p",Lg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)])]))}},Ug={class:"nxp-ec-editor-panel"},Xg={class:"nxp-ec-form-field"},Fg={class:"nxp-ec-form-label",for:"product-images"},Gg={id:"product-images",class:"nxp-ec-image-list"},Vg=["id","value","onInput","placeholder"],Hg={class:"nxp-ec-image-row__actions"},Bg=["onClick"],Kg=["onClick","disabled"],jg=["onClick","disabled"],Jg=["onClick","aria-label"],Wg={class:"nxp-ec-form-help"},qg={__name:"ImagesTab",props:{images:{type:Array,default:()=>[]},translate:{type:Function,required:!0}},emits:["add-image","remove-image","move-image","update-image","open-media-modal"],setup(e){const n=e.translate;return(i,s)=>(A(),b("section",Ug,[a("div",Xg,[a("label",Fg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),a("div",Gg,[(A(!0),b(be,null,xe(e.images,(o,l)=>(A(),b("div",{key:`product-image-${l}`,class:"nxp-ec-image-row"},[a("input",{id:`product-image-${l}`,class:"nxp-ec-form-input",type:"text",value:o,onInput:d=>i.$emit("update-image",l,d.target.value),placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg")},null,40,Vg),a("div",Hg,[a("button",{type:"button",class:"nxp-ec-btn",onClick:d=>i.$emit("open-media-modal",l)},[s[1]||(s[1]=a("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),ge(" "+c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media")),1)],8,Bg),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:d=>i.$emit("move-image",l,-1),disabled:l===0},c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up")),9,Kg),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:d=>i.$emit("move-image",l,1),disabled:l===e.images.length-1},c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down")),9,jg),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:d=>i.$emit("remove-image",l),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image")},c(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Jg)])]))),128))]),a("button",{type:"button",class:"nxp-ec-btn",onClick:s[0]||(s[0]=o=>i.$emit("add-image"))},c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image")),1),a("p",Wg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)])]))}},zg={class:"nxp-ec-editor-panel"},Qg={class:"nxp-ec-form-field"},Zg={class:"nxp-ec-form-label",for:"product-category-select"},eE=["value"],tE=["value"],nE={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},sE=["onClick","aria-label"],aE={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},oE=["value","placeholder"],iE={class:"nxp-ec-form-help"},rE=at({__name:"CategoriesTab",props:{categories:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},newCategoryDraft:{type:String,default:""},translate:{type:Function,required:!0}},emits:["add-category","remove-category","update-selection","update:newCategoryDraft"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=_e(()=>n.categories.filter(_=>_&&_.id>0).map(_=>_.id)),l=_=>{const m=Array.from(_.target.selectedOptions).map(u=>Number.parseInt(u.value,10));i("update-selection",m)},d=(_,m=new Set)=>{if(!_||m.has(_))return 0;m.add(_);const u=n.categoryOptions.find(R=>R.id===_);return!u||!u.parent_id?0:1+d(u.parent_id,m)},p=_=>{if(!_)return"";const m=d(_.id);return m===0?_.title:"".repeat(m)+" "+_.title};return(_,m)=>(A(),b("section",zg,[a("div",Qg,[a("label",Zg,c(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),a("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"",value:o.value,onChange:l},[(A(!0),b(be,null,xe(e.categoryOptions,u=>(A(),b("option",{key:u.id,value:u.id},c(p(u)),9,tE))),128))],40,eE),a("div",nE,[(A(!0),b(be,null,xe(e.categories,(u,R)=>(A(),b("span",{key:`selected-category-${R}`,class:"nxp-ec-chip"},[ge(c(u.title)+" ",1),a("button",{type:"button",class:"nxp-ec-chip__remove",onClick:g=>_.$emit("remove-category",R),"aria-label":r(s)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,sE)]))),128))]),a("div",aE,[a("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field",value:e.newCategoryDraft,onInput:m[0]||(m[0]=u=>_.$emit("update:newCategoryDraft",u.target.value)),onKeydown:m[1]||(m[1]=mt(ft(u=>_.$emit("add-category"),["prevent"]),["enter"])),placeholder:r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name")},null,40,oE),a("button",{type:"button",class:"nxp-ec-btn",onClick:m[2]||(m[2]=u=>_.$emit("add-category"))},c(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category")),1)]),a("p",iE,c(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select a category or create a new one")),1)])]))}},[["__scopeId","data-v-c762bc9c"]]),lE={class:"nxp-ec-variant-section"},cE={class:"nxp-ec-variant-section__header"},dE={class:"nxp-ec-variant-section__title"},uE={class:"nxp-ec-form-help"},pE={class:"nxp-ec-variant-card__header"},_E={class:"nxp-ec-variant-card__title"},fE=["onClick"],mE=["onClick","disabled"],hE={class:"nxp-ec-variant-card__grid"},gE={class:"nxp-ec-form-field"},EE=["for"],CE=["id","onUpdate:modelValue"],AE={class:"nxp-ec-form-field"},SE=["for"],bE=["id","onUpdate:modelValue","placeholder"],yE={class:"nxp-ec-form-field"},TE=["for"],RE=["id","onUpdate:modelValue","onBlur"],OE={class:"nxp-ec-form-field"},xE=["for"],vE=["id","onUpdate:modelValue","onBlur","placeholder"],NE={class:"nxp-ec-form-field"},PE=["for"],ME=["id","onUpdate:modelValue","disabled"],IE={class:"nxp-ec-form-help"},kE={class:"nxp-ec-form-field"},$E=["for"],wE=["id","onUpdate:modelValue","disabled"],DE={class:"nxp-ec-form-help"},LE={key:0,class:"nxp-ec-form-field"},YE=["for"],UE=["id","onUpdate:modelValue"],XE={key:1,class:"nxp-ec-form-field"},FE=["for"],GE=["id","onUpdate:modelValue"],VE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},HE=["for"],BE=["id","onUpdate:modelValue"],KE={class:"nxp-ec-variant-options"},jE={class:"nxp-ec-variant-options__header"},JE={class:"nxp-ec-variant-options__title"},WE=["onClick"],qE={class:"nxp-ec-form-help"},zE=["id","onUpdate:modelValue","placeholder"],QE=["id","onUpdate:modelValue","placeholder"],ZE=["onClick","aria-label"],eC={class:"nxp-ec-variant-images"},tC={class:"nxp-ec-variant-images__header"},nC={class:"nxp-ec-variant-images__title"},sC=["onClick"],aC={class:"nxp-ec-form-help"},oC={key:0,class:"nxp-ec-variant-images__list"},iC=["src","alt"],rC=["onClick","aria-label"],lC={key:1,class:"nxp-ec-variant-images__empty"},cC={__name:"VariantsTab",props:{variants:{type:Array,default:()=>[]},baseCurrency:{type:String,default:"USD"},productType:{type:String,default:"physical"},hasMediaModal:{type:Boolean,default:!1},resolveImageUrl:{type:Function,default:e=>e},translate:{type:Function,required:!0}},emits:["add-variant","remove-variant","duplicate-variant","add-option","remove-option","format-price","format-sale-price","open-variant-media-modal","remove-variant-image"],setup(e){const t=e,n=_e(()=>{var o;return((o=t.productType)==null?void 0:o.toLowerCase())!=="digital"}),i=t.translate,s=(o,l)=>`${o.id||"new"}-${l}`;return(o,l)=>(A(),b("section",lE,[a("header",cE,[a("h3",dE,c(r(i)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),a("button",{type:"button",class:"nxp-ec-btn",onClick:l[0]||(l[0]=d=>o.$emit("add-variant"))},c(r(i)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),a("p",uE,[ge(c(r(i)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),e.baseCurrency?(A(),b(be,{key:0},[ge(" ("+c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[e.baseCurrency]))+") ",1)],64)):se("",!0)]),(A(!0),b(be,null,xe(e.variants,(d,p)=>(A(),b("article",{key:s(d,p),class:"nxp-ec-variant-card"},[a("header",pE,[a("h4",_E,c(r(i)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(p+1)])),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:_=>o.$emit("duplicate-variant",p)},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,fE),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:_=>o.$emit("remove-variant",p),disabled:e.variants.length<=1},c(r(i)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,mE)]),a("div",hE,[a("div",gE,[a("label",{class:"nxp-ec-form-label",for:`variant-sku-${p}`},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,EE),te(a("input",{id:`variant-sku-${p}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_=>d.sku=_,required:""},null,8,CE),[[fe,d.sku,void 0,{trim:!0}]])]),a("div",AE,[a("label",{class:"nxp-ec-form-label",for:`variant-ean-${p}`},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_EAN","EAN")),9,SE),te(a("input",{id:`variant-ean-${p}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_=>d.ean=_,placeholder:r(i)("COM_NXPEASYCART_FIELD_VARIANT_EAN_PLACEHOLDER","8 or 13 digits"),maxlength:"13",pattern:"\\d{8}|\\d{13}"},null,8,bE),[[fe,d.ean,void 0,{trim:!0}]])]),a("div",yE,[a("label",{class:"nxp-ec-form-label",for:`variant-price-${p}`},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,TE),te(a("input",{id:`variant-price-${p}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":_=>d.price=_,onBlur:_=>o.$emit("format-price",p),required:""},null,40,RE),[[fe,d.price,void 0,{trim:!0}]])]),a("div",OE,[a("label",{class:"nxp-ec-form-label",for:`variant-sale-price-${p}`},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE","Sale Price")),9,xE),te(a("input",{id:`variant-sale-price-${p}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":_=>d.sale_price=_,onBlur:_=>o.$emit("format-sale-price",p),placeholder:r(i)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE_PLACEHOLDER","Leave empty if not on sale")},null,40,vE),[[fe,d.sale_price,void 0,{trim:!0}]])]),a("div",NE,[a("label",{class:"nxp-ec-form-label",for:`variant-sale-start-${p}`},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START","Sale Start")),9,PE),te(a("input",{id:`variant-sale-start-${p}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":_=>d.sale_start_local=_,disabled:!d.sale_price||d.sale_price===""},null,8,ME),[[fe,d.sale_start_local]]),a("p",IE,c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START_HELP","Leave empty to start immediately")),1)]),a("div",kE,[a("label",{class:"nxp-ec-form-label",for:`variant-sale-end-${p}`},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END","Sale End")),9,$E),te(a("input",{id:`variant-sale-end-${p}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":_=>d.sale_end_local=_,disabled:!d.sale_price||d.sale_price===""},null,8,wE),[[fe,d.sale_end_local]]),a("p",DE,c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END_HELP","Leave empty for no expiration")),1)]),n.value?(A(),b("div",LE,[a("label",{class:"nxp-ec-form-label",for:`variant-stock-${p}`},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,YE),te(a("input",{id:`variant-stock-${p}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":_=>d.stock=_},null,8,UE),[[fe,d.stock,void 0,{number:!0}]])])):se("",!0),n.value?(A(),b("div",XE,[a("label",{class:"nxp-ec-form-label",for:`variant-weight-${p}`},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,FE),te(a("input",{id:`variant-weight-${p}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":_=>d.weight=_},null,8,GE),[[fe,d.weight,void 0,{trim:!0}]])])):se("",!0),a("div",VE,[a("label",{class:"nxp-ec-form-label",for:`variant-active-${p}`},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,HE),te(a("input",{id:`variant-active-${p}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":_=>d.active=_},null,8,BE),[[st,d.active]])])]),a("section",KE,[a("header",jE,[a("h5",JE,c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:_=>o.$emit("add-option",p)},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,WE)]),a("p",qE,c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(A(!0),b(be,null,xe(d.options,(_,m)=>(A(),b("div",{key:`variant-${p}-option-${m}`,class:"nxp-ec-variant-option-row"},[te(a("input",{id:`variant-${p}-option-name-${m}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":u=>_.name=u,placeholder:r(i)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,zE),[[fe,_.name,void 0,{trim:!0}]]),te(a("input",{id:`variant-${p}-option-value-${m}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":u=>_.value=u,placeholder:r(i)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,QE),[[fe,_.value,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:u=>o.$emit("remove-option",p,m),"aria-label":r(i)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},c(r(i)("COM_NXPEASYCART_REMOVE","Remove")),9,ZE)]))),128))]),a("section",eC,[a("header",tC,[a("h5",nC,c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES","Variant Images")),1),e.hasMediaModal?(A(),b("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:_=>o.$emit("open-variant-media-modal",p)},c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_IMAGE_ADD","Add image")),9,sC)):se("",!0)]),a("p",aC,c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES_HELP","Add variant-specific images (e.g., different colours). Leave empty to use product images.")),1),d.images&&d.images.length>0?(A(),b("div",oC,[(A(!0),b(be,null,xe(d.images,(_,m)=>(A(),b("div",{key:`variant-${p}-img-${m}`,class:"nxp-ec-variant-image"},[a("img",{src:e.resolveImageUrl(_),alt:r(i)("COM_NXPEASYCART_VARIANT_IMAGE","Variant image")+" "+(m+1),class:"nxp-ec-variant-image__thumb"},null,8,iC),a("button",{type:"button",class:"nxp-ec-variant-image__remove",onClick:u=>o.$emit("remove-variant-image",p,m),"aria-label":r(i)("COM_NXPEASYCART_REMOVE","Remove")},[...l[1]||(l[1]=[a("i",{class:"fa-solid fa-times"},null,-1)])],8,rC)]))),128))])):(A(),b("p",lC,c(r(i)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES_EMPTY","No variant images (using product images)")),1))])]))),128))]))}},dC={class:"nxp-ec-editor-panel nxp-ec-editor-panel--digital"},uC={class:"nxp-ec-admin-alert nxp-ec-admin-alert--info"},pC={style:{"margin-bottom":"0"}},_C={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fC={key:1,class:"nxp-ec-admin-callout nxp-ec-admin-callout--info"},mC={class:"nxp-ec-admin-callout__content"},hC={class:"nxp-ec-admin-callout__title"},gC={class:"nxp-ec-digital-grid"},EC={class:"nxp-ec-digital-card"},CC={class:"nxp-ec-form-field"},AC={class:"nxp-ec-form-label",for:"digital-file-input"},SC=["disabled"],bC={class:"nxp-ec-form-field"},yC={class:"nxp-ec-form-label",for:"digital-version"},TC=["value","disabled"],RC={class:"nxp-ec-form-field"},OC={class:"nxp-ec-form-label",for:"digital-variant"},xC=["value","disabled"],vC={value:""},NC=["value"],PC={class:"nxp-ec-form-help"},MC={class:"nxp-ec-admin-form__actions"},IC=["disabled"],kC={class:"nxp-ec-digital-card"},$C={class:"nxp-ec-digital-card__header"},wC={key:0},DC={key:0,class:"nxp-ec-form-help"},LC={key:1,class:"nxp-ec-digital-table"},YC={class:"nxp-ec-digital-meta"},UC={class:"nxp-ec-admin-panel__muted"},XC={key:0,class:"nxp-ec-admin-panel__muted"},FC={class:"nxp-ec-digital-actions"},GC=["disabled","onClick"],VC={__name:"DigitalFilesTab",props:{productId:{type:[Number,String],default:null},files:{type:Array,default:()=>[]},variantOptions:{type:Array,default:()=>[]},version:{type:String,default:"1.0"},variantId:{type:[String,Number],default:""},loading:{type:Boolean,default:!1},uploading:{type:Boolean,default:!1},deletingId:{type:Number,default:0},error:{type:String,default:""},translate:{type:Function,required:!0}},emits:["upload","delete","file-change","update:version","update:variantId"],setup(e,{expose:t,emit:n}){const i=e,s=n,o=i.translate,l=ke(null),d=m=>{var R;const u=(R=m==null?void 0:m.target)==null?void 0:R.files;s("file-change",u&&u.length?u[0]:null)},p=m=>{if(!m)return o("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants");const u=i.variantOptions.find(R=>R.id===m);return(u==null?void 0:u.label)||o("COM_NXPEASYCART_DIGITAL_VARIANT_SPECIFIC","Variant")},_=m=>{const u=Number(m)||0;if(u<=0)return o("COM_NXPEASYCART_DIGITAL_FILE_SIZE_UNKNOWN","Unknown size");const R=["B","KB","MB","GB"];let g=0,w=u;for(;w>=1024&&g<R.length-1;)w/=1024,g+=1;return`${w.toFixed(w>=10?0:1)} ${R[g]}`};return t({resetFileInput:()=>{l.value&&(l.value.value="")}}),(m,u)=>(A(),b("section",dC,[a("div",uC,[a("p",pC,c(r(o)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),e.error?(A(),b("div",_C,c(e.error),1)):se("",!0),e.productId?se("",!0):(A(),b("div",fC,[u[3]||(u[3]=a("span",{class:"nxp-ec-admin-callout__icon"},[a("i",{class:"fa-solid fa-circle-info"})],-1)),a("div",mC,[a("div",hC,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST_TITLE","Save Required")),1),ge(" "+c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST","Digital files are linked to the product record. Save this product first, then reopen the editor to upload your files.")),1)])])),a("div",gC,[a("div",EC,[a("h4",null,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1),a("div",CC,[a("label",AC,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_SELECT","Choose file")),1),a("input",{id:"digital-file-input",ref_key:"fileInputRef",ref:l,type:"file",class:"nxp-ec-form-input",onChange:d,disabled:e.uploading||!e.productId},null,40,SC)]),a("div",bC,[a("label",yC,c(r(o)("COM_NXPEASYCART_DIGITAL_VERSION","Version")),1),a("input",{id:"digital-version",class:"nxp-ec-form-input",type:"text",value:e.version,onInput:u[0]||(u[0]=R=>m.$emit("update:version",R.target.value)),disabled:e.uploading},null,40,TC)]),a("div",RC,[a("label",OC,c(r(o)("COM_NXPEASYCART_DIGITAL_VARIANT_SCOPE","Applies to")),1),a("select",{id:"digital-variant",class:"nxp-ec-form-select",value:e.variantId,onChange:u[1]||(u[1]=R=>m.$emit("update:variantId",R.target.value)),disabled:e.uploading},[a("option",vC,c(r(o)("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants")),1),(A(!0),b(be,null,xe(e.variantOptions,R=>(A(),b("option",{key:R.id,value:R.id},c(R.label),9,NC))),128))],40,xC),a("p",PC,c(r(o)("COM_NXPEASYCART_DIGITAL_VARIANT_HELP","Scope downloads to a specific variant when needed.")),1)]),a("div",MC,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--primary",onClick:u[2]||(u[2]=R=>m.$emit("upload")),disabled:e.uploading||!e.productId},[a("i",{class:ve(["fa-solid fa-cloud-arrow-up",{"fa-spin":e.uploading}]),"aria-hidden":"true"},null,2),ge(" "+c(e.uploading?r(o)("JPROCESSING_REQUEST","Uploading..."):r(o)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1)],8,IC)])]),a("div",kC,[a("div",$C,[a("h4",null,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES","Digital files")),1),e.loading?(A(),b("span",wC,c(r(o)("JGLOBAL_LOADING","Loading...")),1)):se("",!0)]),e.files.length===0?(A(),b("div",DC,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_EMPTY","No files attached to this product.")),1)):(A(),b("div",LC,[(A(!0),b(be,null,xe(e.files,R=>(A(),b("div",{key:R.id,class:"nxp-ec-digital-row"},[a("div",YC,[a("strong",null,c(R.filename),1),a("div",UC,[ge(c(p(R.variant_id))+"  "+c(_(R.file_size))+" ",1),R.version?(A(),b(be,{key:0},[ge("  v"+c(R.version),1)],64)):se("",!0)]),R.created?(A(),b("div",XC,c(R.created),1)):se("",!0)]),a("div",FC,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",disabled:e.deletingId===R.id,onClick:g=>m.$emit("delete",R)},c(e.deletingId===R.id?r(o)("JPROCESSING_REQUEST","Removing..."):r(o)("COM_NXPEASYCART_REMOVE","Remove")),9,GC)])]))),128))]))])])]))}};function HC(e,t){const n=ke(""),i=u=>{var R,g,w,M,C,E,f,O;if(u==null)return null;if(typeof u=="string"){const I=u.trim();return I===""?null:{id:0,title:I,slug:""}}if(typeof u=="object"){const I=Number.parseInt((g=(R=u.id)!=null?R:u.value)!=null?g:0,10)||0,Y=(f=(E=(C=(M=(w=u.title)!=null?w:u.name)!=null?M:u.text)!=null?C:u.label)!=null?E:u.slug)!=null?f:"",U=String(Y!=null?Y:"").trim(),T=String((O=u.slug)!=null?O:"").trim(),v=u.parent_id!==null&&u.parent_id!==void 0&&Number.parseInt(u.parent_id,10)||null;return I<=0&&U===""?null:{id:I>0?I:0,title:U!==""?U:T,slug:T,parent_id:v}}return null},s=_e(()=>{const R=(Array.isArray(t.value)?t.value:[]).map(i).filter(C=>C&&C.id>0&&C.title!==""),g=new Map;R.forEach(C=>{g.set(C.id,C)}),e.value.forEach(C=>{var E;C.id>0&&C.title&&!g.has(C.id)&&g.set(C.id,{id:C.id,title:C.title,slug:(E=C.slug)!=null?E:"",parent_id:C.parent_id!==null&&C.parent_id!==void 0?C.parent_id:null})});const w=Array.from(g.values()),M=(C=null)=>w.filter(E=>E.parent_id===C).sort((E,f)=>E.title.localeCompare(f.title)).flatMap(E=>[E,...M(E.id)]);return M()}),o=_e(()=>{const u=new Map;return s.value.forEach(R=>{var g;u.set(R.id,{title:R.title,slug:(g=R.slug)!=null?g:""})}),u});return{newCategoryDraft:n,categoryOptionsList:s,categoryOptionsMap:o,resetCategories:u=>{const g=(Array.isArray(u)?u:[]).map(i).filter(C=>C&&(C.id>0||C.title!=="")),w=new Set,M=[];g.forEach(C=>{const E=C.id>0?`id:${C.id}`:`title:${C.title.toLowerCase()}`;w.has(E)||(w.add(E),M.push(C))}),e.value.splice(0,e.value.length,...M)},handleCategorySelectionUpdate:u=>{const R=Array.isArray(u)?u:[],g=Array.from(new Set(R.map(C=>Number.parseInt(C!=null?C:0,10)||0).filter(C=>C>0))),w=e.value.filter(C=>!(C.id>0)),M=g.map(C=>{const E=o.value.get(C),f=e.value.find(Y=>Y.id===C),O=(E==null?void 0:E.title)||(f==null?void 0:f.title)||"",I=(E==null?void 0:E.slug)||(f==null?void 0:f.slug)||"";return O===""?null:{id:C,title:O,slug:I}}).filter(C=>C!==null);e.value.splice(0,e.value.length,...M,...w)},addCategory:()=>{const u=n.value.trim();if(!u)return;const R=u.toLowerCase(),g=e.value.slice();g.some(M=>M.title.toLowerCase()===R)||(g.push({id:0,title:u,slug:""}),e.value.splice(0,e.value.length,...g)),n.value=""},removeCategory:u=>{if(u<0||u>=e.value.length)return;const R=e.value.slice();R.splice(u,1),e.value.splice(0,e.value.length,...R)},buildPayloadCategories:()=>e.value.map(u=>{var M,C,E;const R=Number.parseInt((M=u==null?void 0:u.id)!=null?M:0,10)||0,g=String((C=u==null?void 0:u.title)!=null?C:"").trim(),w=String((E=u==null?void 0:u.slug)!=null?E:"").trim();return R>0?{id:R,title:g,slug:w}:g===""?null:{id:0,title:g,slug:""}}).filter(u=>u!==null)}}function BC(e,t,n,i){const s=i,o=T=>{if(!T||T==="")return"";try{const v=new Date(T.replace(" ","T")+"Z");if(isNaN(v.getTime()))return"";const G=v.getFullYear(),S=String(v.getMonth()+1).padStart(2,"0"),J=String(v.getDate()).padStart(2,"0"),H=String(v.getHours()).padStart(2,"0"),ne=String(v.getMinutes()).padStart(2,"0");return`${G}-${S}-${J}T${H}:${ne}`}catch(v){return""}},l=T=>{if(!T||T==="")return null;try{const v=new Date(T);return isNaN(v.getTime())?null:v.toISOString().slice(0,19).replace("T"," ")}catch(v){return null}},d=()=>({id:0,sku:"",ean:"",price:"",sale_price:"",sale_start:null,sale_end:null,sale_start_local:"",sale_end_local:"",currency:t.value,stock:0,weight:"",active:!0,options:[],images:[],is_digital:n.value}),p=()=>({name:"",value:""}),_=T=>Array.isArray(T)?T.map(v=>{var G,S,J;return{name:String((S=(G=v==null?void 0:v.name)!=null?G:v==null?void 0:v.key)!=null?S:"").trim(),value:String((J=v==null?void 0:v.value)!=null?J:"").trim()}}):T&&typeof T=="object"?Object.entries(T).map(([v,G])=>({name:String(v!=null?v:"").trim(),value:String(G!=null?G:"").trim()})):[],m=T=>!Array.isArray(T)||T.length===0?[d()]:T.map(v=>{var J,H,ne,Z,Ce,$;const G=(v==null?void 0:v.sale_price)!=null?String(v.sale_price):Number.isFinite(v==null?void 0:v.sale_price_cents)?(v.sale_price_cents/100).toFixed(2):"";let S=[];return Array.isArray(v==null?void 0:v.images)&&(S=v.images.filter(x=>typeof x=="string"&&x.trim()!=="").map(x=>x.trim())),{id:Number.parseInt((J=v==null?void 0:v.id)!=null?J:0,10)||0,sku:String((H=v==null?void 0:v.sku)!=null?H:"").trim(),ean:(v==null?void 0:v.ean)!=null?String(v.ean).trim():"",price:(v==null?void 0:v.price)!=null?String(v.price):Number.isFinite(v==null?void 0:v.price_cents)?(v.price_cents/100).toFixed(2):"",sale_price:G,sale_start:(ne=v==null?void 0:v.sale_start)!=null?ne:null,sale_end:(Z=v==null?void 0:v.sale_end)!=null?Z:null,sale_start_local:o(v==null?void 0:v.sale_start),sale_end_local:o(v==null?void 0:v.sale_end),currency:String((Ce=v==null?void 0:v.currency)!=null?Ce:t.value).toUpperCase(),stock:Number.parseInt(($=v==null?void 0:v.stock)!=null?$:0,10)||0,weight:(v==null?void 0:v.weight)!=null?String(v.weight):"",active:(v==null?void 0:v.active)!==void 0?!!v.active:!0,options:_(v==null?void 0:v.options),images:S,is_digital:(v==null?void 0:v.is_digital)!==void 0?!!v.is_digital:n.value}}),u=()=>{e.value.forEach(T=>{(T.is_digital===void 0||T.is_digital===null)&&(T.is_digital=n.value),n.value&&(T.weight="")})},R=T=>{e.value.splice(0,e.value.length,...T),u()},g=_e(()=>e.value.map((T,v)=>{var H,ne;const G=String((H=T==null?void 0:T.sku)!=null?H:"").trim(),S=Array.isArray(T==null?void 0:T.options)?T.options.filter(Z=>(Z==null?void 0:Z.name)&&(Z==null?void 0:Z.value)).map(Z=>`${String(Z.name).trim()}: ${String(Z.value).trim()}`).join(", "):"",J=s("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(v+1)]);return{id:Number.parseInt((ne=T==null?void 0:T.id)!=null?ne:0,10)||0,label:G||S||J}}));return{blankVariant:d,normaliseVariants:m,applyVariantDigitalDefaults:u,resetVariants:R,variantOptions:g,addVariant:()=>{e.value.push(d())},removeVariant:T=>{e.value.length<=1||e.value.splice(T,1)},duplicateVariant:T=>{const v=e.value[T];if(!v)return;const G=JSON.parse(JSON.stringify(v));G.id=0,G.sku=[G.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),G.active=!0,e.value.splice(T+1,0,G)},addVariantOption:T=>{const v=e.value[T];v&&(Array.isArray(v.options)||(v.options=[]),v.options.push(p()))},removeVariantOption:(T,v)=>{const G=e.value[T];!G||!Array.isArray(G.options)||G.options.splice(v,1)},formatVariantPrice:T=>{const v=e.value[T];if(!v)return;const G=Number.parseFloat(v.price);Number.isNaN(G)||(v.price=G.toFixed(2))},formatVariantSalePrice:T=>{const v=e.value[T];if(!v)return;if(v.sale_price===""||v.sale_price===null||v.sale_price===void 0){v.sale_price="";return}const G=Number.parseFloat(v.sale_price);if(Number.isNaN(G)){v.sale_price="";return}v.sale_price=G.toFixed(2)},removeVariantImage:(T,v)=>{const G=e.value[T];!G||!Array.isArray(G.images)||G.images.splice(v,1)},buildPayloadVariants:()=>e.value.map(T=>{const v=Array.isArray(T.options)?T.options.map($=>{var x,h;return{name:String((x=$==null?void 0:$.name)!=null?x:"").trim(),value:String((h=$==null?void 0:$.value)!=null?h:"").trim()}}).filter($=>$.name!==""&&$.value!==""):[],G=Number.isFinite(Number(T.stock))?Math.max(0,parseInt(T.stock,10)):0,S=T.weight!==null&&T.weight!==""?String(T.weight).trim():null,J=T.ean&&String(T.ean).trim()!==""?String(T.ean).trim():null,H=T.sale_price!==null&&T.sale_price!==void 0&&T.sale_price!==""?String(T.sale_price).trim():null,ne=l(T.sale_start_local),Z=l(T.sale_end_local),Ce=Array.isArray(T.images)?T.images.map($=>typeof $=="string"?$.trim():"").filter($=>$!==""):[];return{id:T.id||0,sku:T.sku.trim(),ean:J,price:T.price!==null&&T.price!==void 0?String(T.price).trim():"",sale_price:H,sale_start:ne,sale_end:Z,currency:T.currency?String(T.currency).trim().toUpperCase():t.value,stock:G,weight:S,active:!!T.active,is_digital:!!T.is_digital,options:v,images:Ce.length>0?Ce:null}})}}function KC(e,t,n,i){const s=i,o=Ue({files:[],loading:!1,uploading:!1,deletingId:0,error:"",version:"1.0",variantId:""}),l=ke(null),d=ke(null),p=M=>Array.isArray(M)?M.map(C=>{var E,f,O,I,Y,U,T;return{id:Number.parseInt((E=C==null?void 0:C.id)!=null?E:0,10)||0,product_id:Number.parseInt((f=C==null?void 0:C.product_id)!=null?f:0,10)||0,variant_id:(C==null?void 0:C.variant_id)!==null&&(C==null?void 0:C.variant_id)!==void 0?Number.parseInt(C.variant_id,10)||0:null,filename:String((O=C==null?void 0:C.filename)!=null?O:"").trim(),storage_path:String((I=C==null?void 0:C.storage_path)!=null?I:"").trim(),file_size:Number.parseInt((Y=C==null?void 0:C.file_size)!=null?Y:0,10)||0,mime_type:(C==null?void 0:C.mime_type)!==null&&(C==null?void 0:C.mime_type)!==void 0?String(C.mime_type).trim():"",version:String((U=C==null?void 0:C.version)!=null?U:"1.0").trim()||"1.0",created:String((T=C==null?void 0:C.created)!=null?T:"").trim()}}).filter(C=>C.id>0&&C.filename!==""):[],_=()=>{var M;l.value=null,(M=d.value)!=null&&M.resetFileInput&&d.value.resetFileInput()};return{digitalState:o,selectedFile:l,digitalFilesTabRef:d,normaliseDigitalFiles:p,resetFileInput:_,resetDigitalFiles:M=>{const C=p(M!=null?M:[]);e.value.splice(0,e.value.length,...C),o.files=C.slice(),o.error="",o.variantId="",o.version="1.0",o.deletingId=0,_()},loadDigitalFiles:async M=>{var C;if(!M){o.files=p(e.value);return}if(!((C=n.value)!=null&&C.list)){o.files=p(e.value);return}o.loading=!0,o.error="";try{const E=await t.fetchDigitalFiles({endpoint:n.value.list,productId:M}),f=p(E);o.files=f,e.value.splice(0,e.value.length,...f)}catch(E){o.error=(E==null?void 0:E.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to load digital files.")}finally{o.loading=!1}},handleFileChange:M=>{l.value=M},uploadDigitalFile:async M=>{var C;if(!M){o.error=s("COM_NXPEASYCART_ERROR_PRODUCT_ID_REQUIRED","Save the product before uploading files.");return}if(!((C=n.value)!=null&&C.upload)){o.error=s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Digital upload endpoint unavailable.");return}if(!l.value){o.error=s("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Select a file to upload.");return}o.uploading=!0,o.error="";try{const E=await t.uploadDigitalFile({endpoint:n.value.upload,productId:M,variantId:o.variantId&&Number.parseInt(o.variantId,10)||null,version:o.version||"1.0",file:l.value}),f=E?p([E]):[];f.length&&(o.files.unshift(f[0]),e.value.unshift(f[0]))}catch(E){o.error=(E==null?void 0:E.message)||s("COM_NXPEASYCART_ERROR_UPLOAD_FAILED","Upload failed.")}finally{o.uploading=!1,_()}},deleteDigitalFile:async M=>{var E,f;const C=Number.parseInt((E=M==null?void 0:M.id)!=null?E:0,10)||0;if(!(!C||!((f=n.value)!=null&&f.delete))){o.deletingId=C,o.error="";try{await t.deleteDigitalFile({endpoint:n.value.delete,fileId:C});const O=o.files.filter(I=>I.id!==C);o.files=O,e.value.splice(0,e.value.length,...O)}catch(O){o.error=(O==null?void 0:O.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to delete file.")}finally{o.deletingId=0}}}}}function jC(e,t,n,i){const s=i;let o=null,l=null,d=null,p=null,_=null,m="";const u=U=>{var v,G,S;if(!U||typeof U!="string")return"";const T=U.trim();if(T==="")return"";if(T.startsWith("http://")||T.startsWith("https://")||T.startsWith("//"))return T;if(typeof window!="undefined")try{const H=((S=(G=(v=window.Joomla)==null?void 0:v.getOptions)==null?void 0:G.call(v,"system.paths",{}))!=null?S:{}).root||"",ne=T.startsWith("/")?T:`/${T}`;return H+ne}catch(J){}return T.startsWith("/")?T:`/${T}`},R=_e(()=>{var U;return typeof window=="undefined"?!1:!!((U=window.customElements)!=null&&U.get("joomla-field-media"))}),g=U=>{var S,J,H;if(!U)return"";let T=String(U).trim();if(T==="")return"";try{const ne=(H=(J=(S=window.Joomla)==null?void 0:S.getOptions)==null?void 0:J.call(S,"system.paths",{}))!=null?H:{},Z=ne.rootFull||window.location.origin,Ce=ne.root||"/";T.startsWith(Z)&&(T=T.substring(Z.length)),T.startsWith(Ce)&&(T=T.substring(Ce.length))}catch(ne){}const v=T.match(/^(local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(v&&v[2]){const ne=v[1].toLowerCase();let Z=v[2];if(ne==="local-images"||ne==="images")!Z.startsWith("images/")&&!Z.startsWith("/images/")&&(Z="images/"+Z);else if(ne.startsWith("local-")){const Ce=ne.replace("local-","");!Z.startsWith(Ce+"/")&&!Z.startsWith("/"+Ce+"/")&&(Z=Ce+"/"+Z)}T=Z}const G=T.indexOf("#joomlaImage://");return G!==-1&&(T=T.substring(0,G)),T.trim()},w=(U,{keepIndex:T=!1,appendWhenNoIndex:v=!1,targetIndex:G=null}={})=>{const S=g(U);if(S==="")return!1;Array.isArray(e.value)||(e.value=[]);const J=G!==null&&G>=0?G:p;return J==null||Number.isNaN(J)?v?(e.value.push(S),T||(p=null,m=""),!0):!1:(J>=e.value.length?e.value.push(S):e.value[J]=S,m=T?S:"",T||(p=null,m=""),!0)},M=()=>{var J,H,ne,Z,Ce,$;const U=(n.value||"").trim();if(U!=="")return U;const T=(ne=(H=(J=window.Joomla)==null?void 0:J.getOptions)==null?void 0:H.call(J,"media-picker",{}))!=null?ne:{};if(T.modalUrl)return T.modalUrl;const v=($=(Ce=(Z=window.Joomla)==null?void 0:Z.getOptions)==null?void 0:Ce.call(Z,"system.paths",{}))!=null?$:{},G=v.rootFull||v.root||"";return(G?G.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},C=async()=>{var ne,Z,Ce,$,x,h,y,P,L;if(o)return o;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(F){return null}const U=(Ce=(Z=(ne=window.Joomla)==null?void 0:ne.getOptions)==null?void 0:Z.call(ne,"system.paths",{}))!=null?Ce:{},T=U.rootFull||U.root||"",v=(h=(x=($=window.Joomla)==null?void 0:$.getOptions)==null?void 0:x.call($,"com_media",{}))!=null?h:{},G=(v==null?void 0:v.file_path)||"images",S=(L=(P=(y=window.Joomla)==null?void 0:y.getOptions)==null?void 0:P.call(y,"media-picker",{}))!=null?L:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},H=s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return l=document.createElement("div"),l.className="nxp-ec-media-picker-host",l.style.display="none",l.innerHTML=`
            <joomla-field-media
                class="nxp-ec-media-field"
                types="images"
                base-path="${T.replace(/"/g,"&quot;")}"
                root-folder="${G.replace(/"/g,"&quot;")}"
                url=""
                preview="none"
                input=".nxp-ec-media-field__input"
                button-select=".nxp-ec-media-field__select"
                button-clear=".nxp-ec-media-field__clear"
                modal-title="${H}"
                modal-width="960"
                modal-height="600"
                supported-extensions='${JSON.stringify(S).replace(/'/g,"&apos;")}'
            >
                <div class="input-group">
                    <input type="text" class="nxp-ec-media-field__input field-media-input" />
                    <button type="button" class="nxp-ec-media-field__select button-select"></button>
                    <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
                </div>
            </joomla-field-media>
        `,document.body.appendChild(l),o=l.querySelector("joomla-field-media"),d=l.querySelector(".nxp-ec-media-field__input"),o.addEventListener("change",F=>{var ie,de,he,K,le,Ae;const B=(he=(de=(ie=F.detail)==null?void 0:ie.value)!=null?de:d==null?void 0:d.value)!=null?he:"";let X=g(B);if(X===""&&m!==""&&(X=m),X===""&&((K=window.Joomla)!=null&&K.selectedMediaFile)){const Ne=g((le=window.Joomla.selectedMediaFile.url)!=null?le:""),N=g((Ae=window.Joomla.selectedMediaFile.path)!=null?Ae:"");X=Ne||N}w(X)}),o.addEventListener("joomla-dialog:close",()=>{p=null,m=""}),d&&d.addEventListener("change",()=>{var B,X,ie,de;if(p===null)return;let F=g((B=d.value)!=null?B:"");if(F===""&&m!==""&&(F=m),F===""&&((X=window.Joomla)!=null&&X.selectedMediaFile)){const he=g((ie=window.Joomla.selectedMediaFile.url)!=null?ie:""),K=g((de=window.Joomla.selectedMediaFile.path)!=null?de:"");F=he||K}F!==""&&w(F)}),o},E=U=>{var J,H;const T=U==null?void 0:U.detail;if(!T||typeof T!="object")return;const v=g((J=T.path)!=null?J:""),S=g((H=T.url)!=null?H:"")||v;if(S!==""){if(_!==null){const ne=t.value[_];ne&&(Array.isArray(ne.images)||(ne.images=[]),ne.images.push(S)),_=null;return}p!==null&&(m=S,w(S,{keepIndex:!0}))}},f=U=>{var G;Array.isArray(e.value)||(e.value=[]);const T=(G=e.value[U])!=null?G:"";if(typeof window=="undefined")return;const v=window.prompt(s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),T);w(v!=null?v:"",{targetIndex:U})};return{resolveImageUrl:u,hasMediaModal:R,normaliseMediaValue:g,openMediaModal:async U=>{var G;Array.isArray(e.value)||(e.value=[]);const T=await C();if(!T||typeof T.show!="function"){f(U);return}p=U,T.setAttribute("url",M());const v=(G=e.value[U])!=null?G:"";typeof T.setValue=="function"?T.setValue(v):d&&(d.value=v);try{T.show()}catch(S){p=null,m="",f(U)}},openVariantMediaModal:async U=>{const T=t.value[U];if(!T)return;Array.isArray(T.images)||(T.images=[]);const v=await C();if(!v||typeof v.show!="function"){const G=window.prompt(s("COM_NXPEASYCART_FIELD_IMAGE_URL_PROMPT","Enter image URL:"),"");G&&G.trim()!==""&&T.images.push(G.trim());return}_=U,p=null,v.setAttribute("url",M()),typeof v.setValue=="function"?v.setValue(""):d&&(d.value="");try{v.show()}catch(G){_=null;const S=window.prompt(s("COM_NXPEASYCART_FIELD_IMAGE_URL_PROMPT","Enter image URL:"),"");S&&S.trim()!==""&&T.images.push(S.trim())}},setupLifecycle:()=>{pt(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",E)}),wn(()=>{l&&l.parentNode&&l.parentNode.removeChild(l),o=null,l=null,d=null,p=null,_=null,m="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",E)})}}}function JC(e){const t=()=>{Array.isArray(e.value)||(e.value=[])};return{ensureImagesArray:t,resetImages:p=>{e.value.splice(0,e.value.length,...p)},addImage:()=>{t(),e.value.push("")},removeImage:p=>{t(),e.value.splice(p,1)},moveImage:(p,_)=>{t();const m=e.value[p];if(m===void 0)return;const u=p+_;u<0||u>=e.value.length||(e.value.splice(p,1),e.value.splice(u,0,m))},updateImage:(p,_)=>{t(),p>=0&&p<e.value.length&&(e.value[p]=_)},buildPayloadImages:()=>(t(),Array.from(new Set(e.value.map(p=>String(p!=null?p:"").trim()).filter(p=>p!==""))))}}const WC={class:"nxp-ec-modal__dialog"},qC={class:"nxp-ec-modal__header"},zC={id:"product-modal-title",class:"nxp-ec-modal__title"},QC={class:"nxp-ec-modal__header-actions"},ZC=["disabled","title","aria-label"],eA={class:"nxp-ec-sr-only"},tA=["disabled","title","aria-label"],nA={class:"nxp-ec-sr-only"},sA=["title","aria-label"],aA={class:"nxp-ec-sr-only"},oA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},iA={class:"nxp-ec-editor-tabs",role:"tablist"},rA={class:"nxp-ec-modal__actions"},lA=["disabled"],cA=["disabled"],di="product-editor-form",dA=at({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=ke(null),l=ke("general"),d=Ue({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[],product_type:"physical",digital_files:[]}),p=ke(!1),_=_e(()=>(n.baseCurrency||"USD").toUpperCase()),m=_e(()=>(d.product_type||"physical").toString().toLowerCase()),u=_e(()=>m.value==="digital"),R=_e(()=>n.product&&n.product.id?"edit":"create"),g=HC(qt(d,"categories"),qt(n,"categoryOptions")),w=BC(qt(d,"variants"),_,u,s),M=At({token:n.csrfToken||""}),C=_e(()=>n.digitalEndpoints||{}),E=KC(qt(d,"digital_files"),M,C,s),f=jC(qt(d,"images"),qt(d,"variants"),qt(n,"mediaModalUrl"),s),O=JC(qt(d,"images"));f.setupLifecycle();const I=J=>J?J.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",Y=()=>{p.value=!0,d.slug=I(d.slug)},U=J=>{const H=Number(J);if(Number.isFinite(H))return H===-1?-1:H===0?0:1;if(typeof J=="string"){const ne=J.trim().toLowerCase();if(ne==="out_of_stock"||ne==="out-of-stock"||ne==="-1")return-1;if(ne==="inactive"||ne==="0")return 0}return 1},T=J=>{var Ce,$,x,h;const H=J?JSON.parse(JSON.stringify(J)):{};d.title=(Ce=H.title)!=null?Ce:"",d.slug=($=H.slug)!=null?$:"",d.short_desc=(x=H.short_desc)!=null?x:"",d.long_desc=(h=H.long_desc)!=null?h:"",d.status=U(H.status!==void 0?H.status:H.active),d.featured=H.featured!==void 0?!!H.featured:!1,d.product_type=typeof H.product_type=="string"&&H.product_type!==""?H.product_type.toLowerCase():"physical";const ne=Array.isArray(H.images)?H.images.map(y=>String(y!=null?y:"").trim()).filter(Boolean):[];O.resetImages(ne);const Z=Array.isArray(H.categories)?H.categories:[];g.resetCategories(Z),w.resetVariants(w.normaliseVariants(H.variants)),E.resetDigitalFiles(H.digital_files),g.newCategoryDraft.value="",p.value=!!d.slug};He(()=>n.product,J=>{T(J),l.value="general"},{immediate:!0}),He(()=>d.title,J=>{p.value||(d.slug=I(J))}),He(_,J=>{d.variants.forEach(H=>{H.currency=J})}),He(m,J=>{w.applyVariantDigitalDefaults(),J!=="digital"&&l.value==="digital"&&(l.value="general")}),He(l,J=>{var H;J==="digital"&&E.loadDigitalFiles((H=n.product)==null?void 0:H.id)}),He(()=>n.saving,(J,H)=>{H&&!J&&n.errors.length===0&&R.value==="create"&&(T(null),g.newCategoryDraft.value="",p.value=!1)});const v=()=>{if(!o.value)return!0;const J=o.value;if(J.checkValidity())return!0;const H=J.querySelector(":invalid");if(!H)return!0;const ne=H.closest("[data-tab]");if(ne){const Z=ne.dataset.tab;if(Z&&Z!==l.value)return l.value=Z,setTimeout(()=>{H.focus(),H.reportValidity()},50),!1}return H.focus(),H.reportValidity(),!1},G=()=>{var ne,Z;if(!v())return;const J=U(d.status),H={title:d.title.trim(),slug:d.slug.trim(),short_desc:(ne=d.short_desc)!=null?ne:"",long_desc:(Z=d.long_desc)!=null?Z:"",status:J,active:J,featured:!!d.featured,images:O.buildPayloadImages(),categories:g.buildPayloadCategories(),variants:w.buildPayloadVariants(),product_type:m.value==="digital"?"digital":"physical"};i("submit",H)},S=()=>{i("cancel")};return(J,H)=>{var ne;return e.open?(A(),b("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",onKeydown:mt(S,["esc"])},[H[11]||(H[11]=a("div",{class:"nxp-ec-modal__backdrop"},null,-1)),a("div",WC,[a("header",qC,[a("h2",zC,c(R.value==="edit"?r(s)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),a("div",QC,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:S,disabled:e.saving,title:r(s)("JCANCEL","Cancel"),"aria-label":r(s)("JCANCEL","Cancel")},[H[9]||(H[9]=a("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),a("span",eA,c(r(s)("JCANCEL","Cancel")),1)],8,ZC),a("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:di,title:e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save"),"aria-label":e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save")},[a("i",{class:ve(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),a("span",nA,c(e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save")),1)],8,tA),a("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:S,title:r(s)("JCLOSE","Close"),"aria-label":r(s)("JCLOSE","Close")},[H[10]||(H[10]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",aA,c(r(s)("JCLOSE","Close")),1)],8,sA)])]),a("form",{ref_key:"formRef",ref:o,id:di,class:"nxp-ec-form",novalidate:"",onSubmit:ft(G,["prevent"])},[e.errors.length?(A(),b("div",oA,[(A(!0),b(be,null,xe(e.errors,(Z,Ce)=>(A(),b("p",{key:Ce},c(Z),1))),128))])):se("",!0),a("nav",iA,[a("button",{type:"button",class:ve(["nxp-ec-editor-tab",{"is-active":l.value==="general"}]),onClick:H[0]||(H[0]=Z=>l.value="general")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General")),3),a("button",{type:"button",class:ve(["nxp-ec-editor-tab",{"is-active":l.value==="variants"}]),onClick:H[1]||(H[1]=Z=>l.value="variants")},c(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),3),a("button",{type:"button",class:ve(["nxp-ec-editor-tab",{"is-active":l.value==="images"}]),onClick:H[2]||(H[2]=Z=>l.value="images")},c(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),3),a("button",{type:"button",class:ve(["nxp-ec-editor-tab",{"is-active":l.value==="categories"}]),onClick:H[3]||(H[3]=Z=>l.value="categories")},c(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),3),u.value?(A(),b("button",{key:0,type:"button",class:ve(["nxp-ec-editor-tab",{"is-active":l.value==="digital"}]),onClick:H[4]||(H[4]=Z=>l.value="digital")},c(r(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital")),3)):se("",!0)]),te(je(Yg,{"data-tab":"general",form:d,translate:r(s),onSlugInput:Y},null,8,["form","translate"]),[[Cn,l.value==="general"]]),te(je(qg,{"data-tab":"images",images:d.images,translate:r(s),onAddImage:r(O).addImage,onRemoveImage:r(O).removeImage,onMoveImage:r(O).moveImage,onUpdateImage:r(O).updateImage,onOpenMediaModal:r(f).openMediaModal},null,8,["images","translate","onAddImage","onRemoveImage","onMoveImage","onUpdateImage","onOpenMediaModal"]),[[Cn,l.value==="images"]]),te(je(rE,{"data-tab":"categories",categories:d.categories,"category-options":r(g).categoryOptionsList.value,"new-category-draft":r(g).newCategoryDraft.value,translate:r(s),onAddCategory:r(g).addCategory,onRemoveCategory:r(g).removeCategory,onUpdateSelection:r(g).handleCategorySelectionUpdate,"onUpdate:newCategoryDraft":H[5]||(H[5]=Z=>r(g).newCategoryDraft.value=Z)},null,8,["categories","category-options","new-category-draft","translate","onAddCategory","onRemoveCategory","onUpdateSelection"]),[[Cn,l.value==="categories"]]),te(je(cC,{"data-tab":"variants",variants:d.variants,"base-currency":_.value,"product-type":d.product_type,"has-media-modal":r(f).hasMediaModal.value,"resolve-image-url":r(f).resolveImageUrl,translate:r(s),onAddVariant:r(w).addVariant,onRemoveVariant:r(w).removeVariant,onDuplicateVariant:r(w).duplicateVariant,onAddOption:r(w).addVariantOption,onRemoveOption:r(w).removeVariantOption,onFormatPrice:r(w).formatVariantPrice,onFormatSalePrice:r(w).formatVariantSalePrice,onOpenVariantMediaModal:r(f).openVariantMediaModal,onRemoveVariantImage:r(w).removeVariantImage},null,8,["variants","base-currency","product-type","has-media-modal","resolve-image-url","translate","onAddVariant","onRemoveVariant","onDuplicateVariant","onAddOption","onRemoveOption","onFormatPrice","onFormatSalePrice","onOpenVariantMediaModal","onRemoveVariantImage"]),[[Cn,l.value==="variants"]]),te(je(VC,{"data-tab":"digital",ref:"digitalFilesTabRef","product-id":(ne=n.product)==null?void 0:ne.id,files:r(E).digitalState.files,"variant-options":r(w).variantOptions.value,version:r(E).digitalState.version,"variant-id":r(E).digitalState.variantId,loading:r(E).digitalState.loading,uploading:r(E).digitalState.uploading,"deleting-id":r(E).digitalState.deletingId,error:r(E).digitalState.error,translate:r(s),onUpload:H[6]||(H[6]=()=>{var Z;return r(E).uploadDigitalFile((Z=n.product)==null?void 0:Z.id)}),onDelete:r(E).deleteDigitalFile,onFileChange:r(E).handleFileChange,"onUpdate:version":H[7]||(H[7]=Z=>r(E).digitalState.version=Z),"onUpdate:variantId":H[8]||(H[8]=Z=>r(E).digitalState.variantId=Z)},null,8,["product-id","files","variant-options","version","variant-id","loading","uploading","deleting-id","error","translate","onDelete","onFileChange"]),[[Cn,l.value==="digital"]]),a("footer",rA,[a("button",{type:"button",class:"nxp-ec-btn",onClick:S,disabled:e.saving},c(r(s)("JCANCEL","Cancel")),9,lA),a("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},c(e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save")),9,cA)])],544)])],32)):se("",!0)}}},[["__scopeId","data-v-49d6e824"]]),uA={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},pA={key:1,class:"nxp-ec-skeleton__table"},_A={key:2,class:"nxp-ec-skeleton__card"},fA={key:3,class:"nxp-ec-skeleton__circle"};function mA(e,t,n,i,s,o){return A(),b("div",{class:ve(["nxp-ec-skeleton",o.skeletonClasses])},[n.type==="text"?(A(),b("div",{key:0,class:"nxp-ec-skeleton__line",style:Rt({width:n.width})},null,4)):n.type==="table"?(A(),b("div",pA,[(A(!0),b(be,null,xe(n.rows,l=>(A(),b("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(A(!0),b(be,null,xe(n.columns,d=>(A(),b("div",{key:d,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):n.type==="card"?(A(),b("div",_A,[...t[0]||(t[0]=[om('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):n.type==="circle"?(A(),b("div",fA)):(A(),b("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Rt({width:n.width,height:n.height})},null,4))],2)}const Kn=at(uA,[["render",mA],["__scopeId","data-v-c8b9a887"]]),hA={class:"nxp-ec-admin-panel"},gA={class:"nxp-ec-admin-panel__header"},EA={class:"nxp-ec-admin-panel__title"},CA={class:"nxp-ec-admin-panel__lead"},AA={class:"nxp-ec-admin-panel__actions"},SA=["aria-label"],bA={value:null},yA=["value"],TA=["placeholder","aria-label"],RA=["disabled","title","aria-label"],OA={class:"nxp-ec-sr-only"},xA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vA={key:1,class:"nxp-ec-admin-panel__body"},NA={key:2,class:"nxp-ec-admin-panel__body"},PA={key:0,class:"nxp-ec-admin-pagination"},MA=["disabled"],IA={class:"nxp-ec-admin-pagination__status"},kA=["disabled"],$A=["title"],jn=1,Sn=-1,Ns=0,wA={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""},checkoutProduct:{type:Function,default:null},checkinProduct:{type:Function,default:null},forceCheckinProduct:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["create","update","delete","refresh","search","page","filter-category","sort"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ue({mode:"create",product:null}),l=ke(!1),d=ke(null),p=_e(()=>(n.baseCurrency||"USD").toUpperCase()),_=_e(()=>o.product),m=_e(()=>(n.mediaModalUrl||"").trim()),u=_e(()=>n.digitalEndpoints||{}),R=_e(()=>n.csrfToken||""),g=_e(()=>Number(n.currentUserId||0)),w=($,x=!1)=>{const h=Number($);if(Number.isFinite(h))return h===Sn?Sn:h===Ns?Ns:jn;if(x)return Sn;if(typeof $=="string"){const y=$.trim().toLowerCase();if(y==="out_of_stock"||y==="out-of-stock"||y==="-1")return Sn;if(y==="inactive"||y==="0")return Ns}return jn},M=($,x=!1)=>{const h=w($,x);return h===jn?Sn:h===Sn?Ns:jn},C=$=>($==null?void 0:$.checked_out)&&Number($.checked_out)!==0&&Number($.checked_out)!==g.value,E=$=>{var h,y;if(!$)return"";const x=(y=(h=$.checked_out_user)==null?void 0:h.name)!=null?y:"";return x||($.checked_out===g.value?s("JGLOBAL_YOU","You"):"")},f=async()=>{if(!d.value||!n.checkinProduct){d.value=null;return}try{await n.checkinProduct(d.value)}catch($){}finally{d.value=null}},O=async()=>{await f(),n.state.validationErrors=[],n.state.error="",o.mode="create",o.product={title:"",slug:"",short_desc:"",long_desc:"",status:jn,active:!0,featured:!1,images:[],categories:[],variants:[],product_type:"physical"},l.value=!0},I=async $=>{await f(),n.state.validationErrors=[],n.state.error="",o.mode="edit";const x=JSON.parse(JSON.stringify($));x.product_type||(x.product_type="physical");const h=E($);if(C($)){if(!await Y($,h)){n.state.error=h!==""?s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT","This product is currently checked out by %s.",[h]):s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","This product is currently checked out by another user.");return}return}if($!=null&&$.id&&n.checkoutProduct)try{const y=await n.checkoutProduct($.id);if(y){d.value=y.id,o.product=JSON.parse(JSON.stringify(y)),l.value=!0;return}}catch(y){n.state.error=(y==null?void 0:y.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to edit this product right now.");return}o.product=x,l.value=!0},Y=async($,x="")=>{if(!($!=null&&$.id)||typeof n.forceCheckinProduct!="function")return null;const h=s("COM_NXPEASYCART_FORCE_CHECKIN_PRODUCT","This product is checked out by %s. Force check-in?",[x||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(h))return null;try{const y=await n.forceCheckinProduct($.id);if(y)return d.value=y.id,o.product=JSON.parse(JSON.stringify(y)),l.value=!0,y}catch(y){n.state.error=(y==null?void 0:y.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to check in this product.")}return null},U=async()=>{await f(),l.value=!1,n.state.validationErrors=[]},T=async $=>{var y,P;const x=w((y=$.status)!=null?y:$.active,$.out_of_stock),h={...$,status:x,active:x,featured:$.featured?1:0,product_type:typeof $.product_type=="string"&&$.product_type.trim()||"physical"};o.mode==="edit"&&((P=o.product)!=null&&P.id)?i("update",{id:o.product.id,data:h}):i("create",h)},v=async $=>{var y;const x=(y=$==null?void 0:$.title)!=null?y:"",h=s("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[x||"#"]);window.confirm(h)&&i("delete",[$.id])},G=$=>{var B;if(!($!=null&&$.id)||n.state.saving)return;const x=M((B=$.status)!=null?B:$.active,$.out_of_stock),h=X=>X==null?"":String(X),y=(X,ie=0)=>{const de=Number(X);return Number.isFinite(de)?de:ie},P=Array.isArray($.variants)?$.variants.map(X=>{var Ne,N;if(!X)return null;const ie=h(X.sku).trim();if(!ie)return null;let de=y(X.price_cents,Number.NaN);if(!Number.isFinite(de)){const k=h(X.price),V=k?Number.parseFloat(k):NaN;de=Number.isFinite(V)?Math.round(V*100):NaN}if(!Number.isFinite(de))return null;const he=h((Ne=X.currency)!=null?Ne:p.value).trim().toUpperCase();if(!he)return null;const K=(N=X.options)!=null?N:null,le=Math.max(0,Math.round(y(X.stock,0)));let Ae=null;return Array.isArray(X.images)&&X.images.length>0&&(Ae=X.images.map(k=>h(k).trim()).filter(k=>k!==""),Ae.length===0&&(Ae=null)),{id:y(X.id,0),sku:ie,price_cents:Math.round(de),currency:he,stock:le,options:K!=null?K:null,weight:X.weight!==null&&X.weight!==void 0&&X.weight!==""?String(X.weight):null,active:X.active===void 0?!0:!!X.active,is_digital:typeof $.product_type=="string"&&$.product_type.toLowerCase()==="digital",images:Ae}}).filter(Boolean):[];if(!P.length){n.state.error=s("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const L=Array.isArray($.categories)?$.categories.map(X=>{if(X==null)return null;if(typeof X=="number")return X>0?{id:X,title:"",slug:""}:null;if(typeof X=="string"&&X.trim()!==""&&Number.isFinite(Number(X))){const de=Number(X);return de>0?{id:de,title:"",slug:""}:null}if(typeof X=="object"){if(X.id){const he=y(X.id,0);return he>0?{id:he,title:"",slug:""}:null}return y(X.id,0)<=0&&!X.title?null:{id:0,title:h(X.title),slug:h(X.slug)}}const ie=h(X).trim();return ie?{id:0,title:ie,slug:""}:null}).filter(Boolean):[],F=Array.isArray($.images)?$.images.map(X=>h(X).trim()).map(X=>{var K,le,Ae;let ie=X;if(!ie)return"";const de=ie.indexOf("#joomlaImage://");de!==-1&&(ie=ie.substring(0,de));const he=ie.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(he&&he[1]&&(ie=he[1]),typeof window!="undefined")try{const Ne=(Ae=(le=(K=window.Joomla)==null?void 0:K.getOptions)==null?void 0:le.call(K,"system.paths",{}))!=null?Ae:{},N=Ne.rootFull||window.location.origin,k=Ne.root||"/";ie.startsWith(N)&&(ie=ie.substring(N.length)),ie.startsWith(k)&&(ie=ie.substring(k.length))}catch(Ne){}return ie.trim()}).filter(X=>X!==""):[];n.state.error="",i("update",{id:$.id,data:{title:h($.title),slug:h($.slug),short_desc:h($.short_desc),long_desc:h($.long_desc),status:x,active:x,featured:$.featured?1:0,images:F,variants:P,categories:L,product_type:typeof $.product_type=="string"&&$.product_type.trim()||"physical"}})},S=()=>{i("refresh")},J=()=>{i("search")},H=()=>{i("filter-category",n.state.categoryId)},ne=$=>{i("sort",$)},Z=$=>{i("page",$)},Ce=$=>{if(!$)return"";try{const x=new Date($),y=new Date-x,P=Math.floor(y/1e3),L=Math.floor(P/60),F=Math.floor(L/60);return P<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):L<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[L]):F<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[F]):x.toLocaleString()}catch(x){return $}};return wn(()=>{f()}),He(()=>n.state.saving,($,x)=>{x&&!$&&l.value&&!n.state.validationErrors.length&&!n.state.error&&U()}),($,x)=>{var h;return A(),b("section",hA,[a("header",gA,[a("div",null,[a("h2",EA,c(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),a("p",CA,c(r(s)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),a("div",AA,[te(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":x[0]||(x[0]=y=>e.state.categoryId=y),onChange:H,"aria-label":r(s)("COM_NXPEASYCART_PRODUCTS_FILTER_CATEGORY","Filter by category",[],"productsFilterCategory")},[a("option",bA,c(r(s)("COM_NXPEASYCART_PRODUCTS_ALL_CATEGORIES","All categories")),1),(A(!0),b(be,null,xe(e.categoryOptions,y=>(A(),b("option",{key:y.id,value:y.id},c(y.title),9,yA))),128))],40,SA),[[_t,e.state.categoryId]]),te(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":x[1]||(x[1]=y=>e.state.search=y),onKeyup:mt(J,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,TA),[[fe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:S,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[x[4]||(x[4]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",OA,c(r(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,RA),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:O},[x[5]||(x[5]=a("i",{class:"fa-solid fa-plus"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(A(),b("div",xA,c(e.state.error),1)):se("",!0),e.state.loading?(A(),b("div",vA,[je(Kn,{type:"table",rows:5,columns:5})])):se("",!0),e.state.loading?se("",!0):(A(),b("div",NA,[je(pg,{items:e.state.items,translate:r(s),"base-currency":p.value,saving:e.state.saving,"current-user-id":g.value,"sort-column":e.state.sort,"sort-direction":e.state.sortDir,onEdit:I,onDelete:v,onToggleActive:G,onSort:ne},null,8,["items","translate","base-currency","saving","current-user-id","sort-column","sort-direction"]),((h=e.state.pagination)==null?void 0:h.pages)>1?(A(),b("div",PA,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:x[2]||(x[2]=y=>Z(e.state.pagination.current-1))},"  ",8,MA),a("span",IA,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:x[3]||(x[3]=y=>Z(e.state.pagination.current+1))},"  ",8,kA)])):se("",!0),e.state.lastUpdated?(A(),b("div",{key:1,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(Ce(e.state.lastUpdated)),9,$A)):se("",!0)])),je(dA,{open:l.value,product:_.value,saving:e.state.saving,"base-currency":p.value,translate:r(s),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":m.value,"digital-endpoints":u.value,"csrf-token":R.value,onSubmit:T,onCancel:U},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url","digital-endpoints","csrf-token"])])}}},DA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},LA={class:"nxp-ec-admin-panel__header"},YA={class:"nxp-ec-admin-panel__title"},UA={class:"nxp-ec-admin-panel__lead"},XA={class:"nxp-ec-admin-panel__actions"},FA=["placeholder","aria-label"],GA=["disabled","title","aria-label"],VA={class:"nxp-ec-sr-only"},HA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},BA={key:1,class:"nxp-ec-admin-panel__body"},KA={key:2,class:"nxp-ec-admin-panel__body"},jA={class:"nxp-ec-admin-panel__table"},JA={class:"nxp-ec-admin-table"},WA={scope:"col"},qA={scope:"col"},zA={scope:"col"},QA={scope:"col"},ZA={scope:"col"},eS={key:0},tS={colspan:"6"},nS={scope:"row",class:"nxp-ec-admin-table__primary"},sS={key:0,class:"nxp-ec-admin-table__meta"},aS={class:"nxp-ec-status nxp-ec-status--muted"},oS=["data-label"],iS=["data-label"],rS=["data-label"],lS=["data-label"],cS={class:"nxp-ec-admin-table__actions"},dS=["onClick","title","disabled","aria-label"],uS={class:"nxp-ec-sr-only"},pS=["disabled","onClick","title","aria-label"],_S={class:"nxp-ec-sr-only"},fS={key:0,class:"nxp-ec-admin-pagination"},mS=["disabled"],hS={class:"nxp-ec-admin-pagination__status"},gS=["disabled"],ES=["title"],CS={class:"nxp-ec-modal__dialog"},AS={class:"nxp-ec-modal__header"},SS={id:"category-modal-title",class:"nxp-ec-modal__title"},bS=["title","aria-label"],yS={class:"nxp-ec-sr-only"},TS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},RS={class:"nxp-ec-form-field"},OS={class:"nxp-ec-form-label",for:"category-title"},xS={class:"nxp-ec-form-field"},vS={class:"nxp-ec-form-label",for:"category-slug"},NS={class:"nxp-ec-form-field"},PS={class:"nxp-ec-form-label",for:"category-parent"},MS={value:""},IS=["value"],kS={class:"nxp-ec-form-field"},$S={class:"nxp-ec-form-label",for:"category-sort"},wS={class:"nxp-ec-modal__actions"},DS=["disabled"],LS=at({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null},checkoutCategory:{type:Function,default:null},checkinCategory:{type:Function,default:null},forceCheckinCategory:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=ke(!1),l=ke(!1),d=ke([]),p=ke(null),_=_e(()=>Number(n.currentUserId||0)),m=x=>{const y=(Array.isArray(x)?x:[]).map(K=>{var le,Ae,Ne,N,k;return{...K,id:Number.parseInt((le=K==null?void 0:K.id)!=null?le:0,10)||0,parent_id:(K==null?void 0:K.parent_id)!=null&&Number.parseInt(K.parent_id,10)||0,sort:Number.parseInt((Ae=K==null?void 0:K.sort)!=null?Ae:0,10)||0,title:String((Ne=K==null?void 0:K.title)!=null?Ne:"").trim(),slug:String((N=K==null?void 0:K.slug)!=null?N:"").trim(),usage:(k=K==null?void 0:K.usage)!=null?k:0}}).filter(K=>K.id>0||K.title!==""),P=new Set(y.map(K=>K.id));y.forEach(K=>{P.has(K.parent_id)||(K.parent_id=0)});const L=new Map,F=new Map;y.forEach(K=>{F.set(K.id,K);const le=K.parent_id||0;L.has(le)||L.set(le,[]),L.get(le).push(K)});const B=K=>K.sort((le,Ae)=>{var Ne,N;return((Ne=le.sort)!=null?Ne:0)-((N=Ae.sort)!=null?N:0)||le.title.localeCompare(Ae.title,void 0,{sensitivity:"base"})});L.forEach(B);const X=new Set,ie=[],de=(K,le,Ae)=>{if(!K||X.has(K.id)||Ae.includes(K.id))return;const Ne=[...Ae],N=Ne.map(ae=>{var z;return(z=F.get(ae))==null?void 0:z.title}).filter(Boolean),k={...K,depth:le,path:N.join(" / "),ancestors:Ne,indentedTitle:le>0?`${" ".repeat(le)}${K.title}`:K.title};ie.push(k),X.add(K.id),(L.get(K.id)||[]).forEach(ae=>de(ae,le+1,[...Ae,K.id]))},he=y.filter(K=>K.parent_id===0||!P.has(K.parent_id));return B(he),he.forEach(K=>de(K,0,[])),y.forEach(K=>{X.has(K.id)||de(K,0,[])}),ie},u=x=>(x==null?void 0:x.checked_out)&&Number(x.checked_out)!==0&&Number(x.checked_out)!==_.value,R=x=>{var F,B;if(!x)return"";const h=Number(x.checked_out)||0,y=x.checked_out_user&&x.checked_out_user.id?Number(x.checked_out_user.id):0,P=h||y;if(P!==0&&P===_.value)return s("JGLOBAL_YOU","You");const L=(B=(F=x.checked_out_user)==null?void 0:F.name)!=null?B:"";return L||""},g=x=>s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[R(x)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]),w=async()=>{if(!p.value||!n.checkinCategory){p.value=null;return}try{await n.checkinCategory(p.value)}catch(x){}finally{p.value=null}},M=_e(()=>{var x,h;return m((h=(x=n.state)==null?void 0:x.items)!=null?h:[])}),C=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),E=Ue(C()),f=_e(()=>{var h,y;const x=(y=Array.isArray(d.value)&&d.value.length?d.value:(h=n.state)==null?void 0:h.items)!=null?y:[];return m(x).filter(P=>P.id>0&&P.id!==E.id&&!(Array.isArray(P.ancestors)&&P.ancestors.includes(E.id))).map(P=>({id:P.id,title:P.title,label:P.depth>0?`${" ".repeat(P.depth)}${P.title}`:P.title}))}),O=()=>{Object.assign(E,C()),l.value=!1},I=x=>x?x.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",Y=()=>{l.value=!0,E.slug=I(E.slug)};He(()=>E.title,x=>{l.value||(E.slug=I(x))});const U=async(x=0)=>{if(typeof n.loadOptions!="function"){d.value=Array.isArray(n.state.items)?[...n.state.items]:[];return}try{const h=await n.loadOptions();d.value=Array.isArray(h)?[...h]:[]}catch(h){d.value=[]}d.value=d.value.filter(h=>{var P,L;return(Number.parseInt((L=(P=h==null?void 0:h.id)!=null?P:h==null?void 0:h.value)!=null?L:0,10)||0)!==x})},T=async()=>{await w(),n.state.error="",n.state.validationErrors=[],O(),await U(),o.value=!0},v=async x=>{var P,L,F,B;if(!x)return;n.state.error="",n.state.validationErrors=[];const h=R(x);if(u(x)){if(!await G(x,h)){n.state.error=h!==""?s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT","This category is currently checked out by %s.",[h]):s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","This category is currently checked out by another user.");return}return}await w();let y=x;if(x!=null&&x.id&&n.checkoutCategory)try{const X=await n.checkoutCategory(x.id);X&&(p.value=X.id,y=X)}catch(X){n.state.error=(X==null?void 0:X.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to edit this category right now.");return}E.id=Number.parseInt((P=y.id)!=null?P:0,10)||0,E.title=String((L=y.title)!=null?L:"").trim(),E.slug=String((F=y.slug)!=null?F:"").trim(),E.parent_id=y.parent_id!=null&&Number.parseInt(y.parent_id,10)||null,E.sort=Number.parseInt((B=y.sort)!=null?B:0,10)||0,l.value=!!E.slug,await U(E.id),o.value=!0},G=async(x,h="")=>{var P,L,F,B;if(!(x!=null&&x.id)||typeof n.forceCheckinCategory!="function")return null;const y=s("COM_NXPEASYCART_FORCE_CHECKIN_CATEGORY","This category is checked out by %s. Force check-in?",[h||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(y))return null;try{const X=await n.forceCheckinCategory(x.id);if(X)return p.value=X.id,E.id=Number.parseInt((P=X.id)!=null?P:0,10)||0,E.title=String((L=X.title)!=null?L:"").trim(),E.slug=String((F=X.slug)!=null?F:"").trim(),E.parent_id=X.parent_id!=null&&Number.parseInt(X.parent_id,10)||null,E.sort=Number.parseInt((B=X.sort)!=null?B:0,10)||0,l.value=!!E.slug,await U(E.id),o.value=!0,X}catch(X){n.state.error=(X==null?void 0:X.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to check in this category.")}return null},S=async()=>{o.value=!1,await w(),O()},J=()=>{i("refresh")},H=()=>{i("search")},ne=x=>{i("page",x)},Z=()=>{const x={id:E.id||void 0,title:E.title.trim(),slug:E.slug.trim(),parent_id:E.parent_id||null,sort:Number.isFinite(E.sort)?E.sort:0};i("save",x)},Ce=x=>{if(!x||!x.id)return;const h=s("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(h)||i("delete",[x.id])},$=x=>{if(!x)return"";try{const h=new Date(x),P=new Date-h,L=Math.floor(P/1e3),F=Math.floor(L/60),B=Math.floor(F/60);return L<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):F<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[F]):B<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[B]):h.toLocaleString()}catch(h){return x}};return wn(()=>{w()}),He(()=>{var x;return(x=n.state)==null?void 0:x.saving},async(x,h)=>{var y,P,L;h&&!x&&(((P=(y=n.state)==null?void 0:y.validationErrors)!=null?P:[]).length>0||(L=n.state)!=null&&L.error||(await w(),o.value=!1,O()))}),(x,h)=>(A(),b("section",DA,[a("header",LA,[a("div",null,[a("h2",YA,c(r(s)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),a("p",UA,c(r(s)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),a("div",XA,[te(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":h[0]||(h[0]=y=>e.state.search=y),onKeyup:mt(H,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,FA),[[fe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:J,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[h[7]||(h[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",VA,c(r(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,GA),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:T},[h[8]||(h[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(A(),b("div",HA,c(e.state.error),1)):se("",!0),e.state.loading?(A(),b("div",BA,[je(Kn,{type:"table",rows:5,columns:5})])):se("",!0),e.state.loading?se("",!0):(A(),b("div",KA,[a("div",jA,[a("table",JA,[a("thead",null,[a("tr",null,[a("th",WA,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),a("th",qA,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),a("th",zA,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),a("th",QA,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),a("th",ZA,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),h[9]||(h[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?se("",!0):(A(),b("tr",eS,[a("td",tS,c(r(s)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(A(!0),b(be,null,xe(M.value,y=>{var P;return A(),b("tr",{key:y.id,class:ve({"is-active":E.id===y.id})},[a("th",nS,[a("span",{style:Rt({paddingLeft:`${y.depth*1.5}rem`})},c(y.indentedTitle),5),y.checked_out?(A(),b("div",sS,[a("span",aS,[h[10]||(h[10]=a("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),ge(" "+c(g(y)),1)])])):se("",!0)]),a("td",{"data-label":r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},c(y.slug||""),9,oS),a("td",{"data-label":r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},c(y.path||r(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,iS),a("td",{"data-label":r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},c(y.sort),9,rS),a("td",{"data-label":r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},c((P=y.usage)!=null?P:0),9,lS),a("td",cS,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:L=>v(y),title:r(s)("JEDIT","Edit"),disabled:e.state.saving,"aria-label":r(s)("JEDIT","Edit")},[h[11]||(h[11]=a("i",{class:"fa-solid fa-pen-to-square"},null,-1)),a("span",uS,c(r(s)("JEDIT","Edit")),1)],8,dS),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting||u(y),onClick:L=>Ce(y),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[h[12]||(h[12]=a("i",{class:"fa-solid fa-trash"},null,-1)),a("span",_S,c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,pS)])],2)}),128))])]),e.state.pagination.pages>1?(A(),b("div",fS,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:h[1]||(h[1]=y=>ne(e.state.pagination.current-1))},"  ",8,mS),a("span",hS,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:h[2]||(h[2]=y=>ne(e.state.pagination.current+1))},"  ",8,gS)])):se("",!0)]),e.state.lastUpdated?(A(),b("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c($(e.state.lastUpdated)),9,ES)):se("",!0),o.value?(A(),b("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"category-modal-title",onKeydown:mt(S,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop",onClick:S}),a("div",CS,[a("header",AS,[a("h3",SS,c(E.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:S,title:r(s)("JCLOSE","Close"),"aria-label":r(s)("JCLOSE","Close")},[h[13]||(h[13]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",yS,c(r(s)("JCLOSE","Close")),1)],8,bS)]),a("form",{class:"nxp-ec-form",onSubmit:ft(Z,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(A(),b("div",TS,[a("ul",null,[(A(!0),b(be,null,xe(e.state.validationErrors,(y,P)=>(A(),b("li",{key:P},c(y),1))),128))])])):se("",!0),a("div",RS,[a("label",OS,c(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),te(a("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[3]||(h[3]=y=>E.title=y),required:"",maxlength:"255"},null,512),[[fe,E.title,void 0,{trim:!0}]])]),a("div",xS,[a("label",vS,c(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),te(a("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[4]||(h[4]=y=>E.slug=y),maxlength:"190",onInput:Y},null,544),[[fe,E.slug,void 0,{trim:!0}]])]),a("div",NS,[a("label",PS,c(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),te(a("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":h[5]||(h[5]=y=>E.parent_id=y)},[a("option",MS,c(r(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(A(!0),b(be,null,xe(f.value,y=>(A(),b("option",{key:y.id,value:y.id},c(y.label),9,IS))),128))],512),[[_t,E.parent_id,void 0,{number:!0}]])]),a("div",kS,[a("label",$S,c(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),te(a("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":h[6]||(h[6]=y=>E.sort=y),min:"0",step:"1"},null,512),[[fe,E.sort,void 0,{number:!0}]])]),a("footer",wS,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[h[14]||(h[14]=a("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,DS),a("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:S},[h[15]||(h[15]=a("i",{class:"fa-solid fa-ban"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])],32)):se("",!0)]))]))}},[["__scopeId","data-v-0bba5030"]]);function Ea(e){const t=e;return{formatCurrency:(u,R)=>{const g=(Number(u)||0)/100,w=(R||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:w}).format(g)}catch(M){return`${w} ${g.toFixed(2)}`}},formatDate:u=>{if(!u)return"";const R=new Date(u);return Number.isNaN(R.getTime())?u:R.toLocaleString()},formatTimestamp:u=>{if(!u)return"";const R=new Date(u);return Number.isNaN(R.getTime())?u:R.toLocaleString()},stateLabel:u=>{if(!u)return"";const R=`COM_NXPEASYCART_ORDERS_STATE_${String(u).toUpperCase()}`;return t(R,u)},itemsLabel:u=>u===1?t("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):t("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(u)]),formatReviewReason:u=>u?{payment_amount_mismatch:t("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[u]||u:t("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),downloadCountLabel:u=>{var w,M;const R=Number((w=u==null?void 0:u.download_count)!=null?w:0),g=Number((M=u==null?void 0:u.max_downloads)!=null?M:0);if(g>0){const C=Math.max(0,g-R);return t("COM_NXPEASYCART_ORDER_DOWNLOADS_REMAINING","%d downloads remaining",[C])}return t("COM_NXPEASYCART_ORDER_DOWNLOADS_UNLIMITED","Unlimited downloads")},downloadExpiryLabel:u=>u!=null&&u.expires_at?t("COM_NXPEASYCART_ORDER_DOWNLOADS_EXPIRES","Expires %s",[u.expires_at]):t("JNONE","No expiry"),addressLines:u=>!u||typeof u!="object"?[]:Object.entries(u).filter(([,R])=>R!=null&&`${R}`.trim()!=="").map(([R,g])=>({key:R,value:`${g}`.trim()}))}}function ui(e,t){const n=e,i=l=>(l==null?void 0:l.checked_out)&&Number(l.checked_out)!==0&&Number(l.checked_out)!==t.value;return{isLocked:i,lockLabel:l=>{var _,m;const d=(m=(_=l==null?void 0:l.checked_out_user)==null?void 0:_.name)!=null?m:"",p=(l==null?void 0:l.checked_out)===t.value?n("JGLOBAL_YOU","You"):d||n("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user");return n("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[p])},createActiveOrderLocked:l=>_e(()=>i(l.value))}}const YS={class:"nxp-ec-admin-panel__table"},US={key:0,class:"nxp-ec-admin-panel__selection"},XS=["aria-label"],FS={value:""},GS=["value"],VS=["disabled"],HS=["title","aria-label"],BS={class:"nxp-ec-sr-only"},KS={class:"nxp-ec-admin-table"},jS={scope:"col",class:"nxp-ec-admin-table__select"},JS={scope:"col"},WS={scope:"col"},qS={scope:"col"},zS={scope:"col"},QS={scope:"col"},ZS={scope:"col",class:"nxp-ec-admin-table__actions"},eb={key:0},tb={colspan:"7"},nb={class:"nxp-ec-admin-table__select"},sb=["checked","onChange","disabled","aria-label"],ab={scope:"row",class:"nxp-ec-admin-table__primary"},ob=["onClick","disabled"],ib={key:0,class:"nxp-ec-admin-table__meta"},rb={class:"nxp-ec-status nxp-ec-status--muted"},lb=["data-label"],cb={class:"nxp-ec-admin-table__meta"},db=["data-label"],ub=["data-label"],pb={class:"nxp-ec-badge"},_b=["title"],fb=["data-label"],mb={class:"nxp-ec-admin-table__actions"},hb=["value","onChange","disabled","aria-label"],gb=["value"],Eb=["value"],Cb=["disabled","onClick"],Ab=["aria-label"],Sb=["disabled","aria-label"],bb={class:"nxp-ec-admin-pagination__status","aria-current":"page"},yb=["disabled","aria-label"],Tb={__name:"OrdersTable",props:{items:{type:Array,required:!0},orderStates:{type:Array,required:!0},selection:{type:Set,default:()=>new Set},pagination:{type:Object,required:!0},activeOrderId:{type:Number,default:null},saving:{type:Boolean,default:!1},currentUserId:{type:Number,default:0},translate:{type:Function,required:!0}},emits:["view","transition","bulk-transition","toggle-selection","clear-selection","page"],setup(e,{expose:t,emit:n}){const i=e,s=n,o=i.translate,l=_e(()=>i.currentUserId),{formatCurrency:d,formatDate:p,stateLabel:_,itemsLabel:m}=Ea(o),{isLocked:u,lockLabel:R}=ui(o,l),g=Ue({}),w=ke(""),M=_e(()=>!i.selection||typeof i.selection.values!="function"?[]:Array.from(i.selection.values())),C=_e(()=>M.value.length>0),E=_e(()=>{const v=M.value.length;return v===1?o("COM_NXPEASYCART_ORDERS_SELECTED_ONE","1 order selected"):o("COM_NXPEASYCART_ORDERS_SELECTED_MANY","%s orders selected",[String(v)])}),f=v=>{var G,S,J;return(J=(S=(G=i.selection)==null?void 0:G.has)==null?void 0:S.call(G,v))!=null?J:!1},O=v=>i.orderStates.filter(G=>G!==v.state),I=v=>(g[v.id]||v.state)!==v.state,Y=(v,G)=>{g[v]=G},U=v=>{if(!v||u(v))return;const G=g[v.id]||v.state;G!==v.state&&s("transition",{id:v.id,state:G})},T=()=>{if(!C.value||!w.value)return;const v=[...M.value].filter(G=>{var J,H,ne;const S=(ne=(H=(J=i.items)==null?void 0:J.find)==null?void 0:H.call(J,Z=>Z.id===G))!=null?ne:null;return!u(S)});v.length&&s("bulk-transition",{ids:v,state:w.value})};return He(()=>i.items,v=>{Array.isArray(v)&&v.forEach(G=>{!G||typeof G.id=="undefined"||g[G.id]||(g[G.id]=G.state)})},{immediate:!0}),He(M,v=>{v.length||(w.value="")}),t({resetSelections:()=>{var v;(v=i.items)==null||v.forEach(G=>{G!=null&&G.id&&G.state&&(g[G.id]=G.state)})}}),(v,G)=>(A(),b("div",YS,[C.value?(A(),b("div",US,[a("span",null,c(E.value),1),te(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":G[0]||(G[0]=S=>w.value=S),"aria-label":r(o)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state")},[a("option",FS,c(r(o)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state")),1),(A(!0),b(be,null,xe(e.orderStates,S=>(A(),b("option",{key:`bulk-${S}`,value:S},c(r(_)(S)),9,GS))),128))],8,XS),[[_t,w.value]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!w.value||e.saving,onClick:T},[G[4]||(G[4]=a("i",{class:"fa-solid fa-check"},null,-1)),ge(" "+c(r(o)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply")),1)],8,VS),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:G[1]||(G[1]=S=>v.$emit("clear-selection")),title:r(o)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear"),"aria-label":r(o)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear")},[G[5]||(G[5]=a("i",{class:"fa-solid fa-xmark"},null,-1)),a("span",BS,c(r(o)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear")),1)],8,HS)])):se("",!0),a("table",KS,[a("thead",null,[a("tr",null,[a("th",jS,c(r(o)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select")),1),a("th",JS,c(r(o)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order")),1),a("th",WS,c(r(o)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")),1),a("th",qS,c(r(o)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")),1),a("th",zS,c(r(o)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")),1),a("th",QS,c(r(o)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")),1),a("th",ZS,c(r(o)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state")),1)])]),a("tbody",null,[e.items.length?se("",!0):(A(),b("tr",eb,[a("td",tb,c(r(o)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.")),1)])),(A(!0),b(be,null,xe(e.items,S=>{var J,H,ne;return A(),b("tr",{key:S.id,class:ve({"is-active":e.activeOrderId===S.id})},[a("td",nb,[a("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:f(S.id),onChange:Z=>v.$emit("toggle-selection",S.id),disabled:r(u)(S),"aria-label":r(o)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order")},null,40,sb)]),a("th",ab,[a("button",{class:"nxp-ec-link-button",type:"button",onClick:Z=>v.$emit("view",S),disabled:e.saving},c(S.order_no),9,ob),S.checked_out?(A(),b("div",ib,[a("span",rb,[G[6]||(G[6]=a("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),ge(" "+c(r(R)(S)),1)])])):se("",!0)]),a("td",{"data-label":r(o)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[a("div",null,c(S.email),1),a("div",cb,c(r(m)((ne=S.items_count)!=null?ne:(H=(J=S.items)==null?void 0:J.length)!=null?H:0)),1)],8,lb),a("td",{"data-label":r(o)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},c(r(d)(S.total_cents,S.currency)),9,db),a("td",{"data-label":r(o)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[a("span",pb,c(r(_)(S.state)),1),S.needs_review?(A(),b("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:S.review_reason||r(o)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},c(r(o)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,_b)):se("",!0)],8,ub),a("td",{"data-label":r(o)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},c(r(p)(S.modified||S.created)),9,fb),a("td",mb,[a("select",{class:"nxp-ec-admin-select",value:g[S.id]||S.state,onChange:Z=>Y(S.id,Z.target.value),disabled:r(u)(S),"aria-label":r(o)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state")},[a("option",{value:S.state},c(r(_)(S.state)),9,gb),(A(!0),b(be,null,xe(O(S),Z=>(A(),b("option",{key:Z,value:Z},c(r(_)(Z)),9,Eb))),128))],40,hb),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.saving||!I(S)||r(u)(S),onClick:Z=>U(S)},c(r(o)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions")),9,Cb)])],2)}),128))])]),e.pagination.pages>1?(A(),b("nav",{key:1,class:"nxp-ec-admin-pagination","aria-label":r(o)("COM_NXPEASYCART_PAGINATION","Pagination")},[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.pagination.current<=1,onClick:G[2]||(G[2]=S=>v.$emit("page",e.pagination.current-1)),"aria-label":r(o)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,Sb),a("span",bb,c(e.pagination.current)+" / "+c(e.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.pagination.current>=e.pagination.pages,onClick:G[3]||(G[3]=S=>v.$emit("page",e.pagination.current+1)),"aria-label":r(o)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,yb)],8,Ab)):se("",!0)]))}};function pi(e,t=2e3){const n=e,i=ke("");let s=null;const o=()=>{s&&clearTimeout(s),i.value&&(s=setTimeout(()=>{i.value="",s=null},t))};return{message:i,copy:async p=>{var _;if(!p)return!1;try{if((_=navigator==null?void 0:navigator.clipboard)!=null&&_.writeText)return await navigator.clipboard.writeText(p),i.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied"),o(),!0;throw new Error("Clipboard unavailable")}catch(m){try{const u=document.createElement("textarea");return u.value=p,u.setAttribute("readonly",""),u.style.position="absolute",u.style.left="-9999px",document.body.appendChild(u),u.select(),document.execCommand("copy"),document.body.removeChild(u),i.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied"),o(),!0}catch(u){return i.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below."),o(),!1}}},clearMessage:()=>{i.value="",s&&(clearTimeout(s),s=null)}}}const Rb={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Ob={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},xb={class:"nxp-ec-modal__header"},vb={id:"order-modal-title",class:"nxp-ec-modal__title"},Nb=["title","aria-label"],Pb={class:"nxp-ec-admin-panel__sidebar-content"},Mb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ib={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},kb={key:2,class:"nxp-ec-admin-panel__section"},$b={class:"nxp-ec-admin-copy"},wb=["value"],Db={class:"nxp-ec-admin-panel__section-actions"},Lb=["disabled"],Yb=["disabled"],Ub={key:0,class:"nxp-ec-admin-panel__muted"},Xb={key:1,class:"nxp-ec-admin-panel__muted"},Fb={class:"nxp-ec-admin-panel__section"},Gb={class:"nxp-ec-admin-list"},Vb={class:"nxp-ec-admin-list__title"},Hb={class:"nxp-ec-admin-list__meta"},Bb={key:3,class:"nxp-ec-admin-panel__section"},Kb={class:"nxp-ec-admin-panel__section-header"},jb=["disabled"],Jb={key:0,class:"nxp-ec-admin-panel__muted"},Wb={class:"nxp-ec-download-list"},qb={class:"nxp-ec-download-card__meta"},zb={class:"nxp-ec-admin-list__title"},Qb={class:"nxp-ec-admin-panel__muted"},Zb={class:"nxp-ec-download-card__actions"},ey=["disabled","onClick","title"],ty=["onClick"],ny=["href"],sy={class:"nxp-ec-admin-panel__section"},ay={class:"nxp-ec-admin-panel__total"},oy={class:"nxp-ec-admin-panel__addresses"},iy={class:"nxp-ec-admin-panel__section"},ry={class:"nxp-ec-admin-address"},ly={class:"nxp-ec-admin-panel__section"},cy={key:0,class:"nxp-ec-admin-address"},dy={key:1,class:"nxp-ec-admin-panel__muted"},uy={class:"nxp-ec-admin-panel__section"},py={class:"nxp-ec-form-field"},_y={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},fy={class:"nxp-ec-form-field"},my={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},hy={class:"nxp-ec-form-field"},gy={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},Ey={key:0,class:"nxp-ec-form-checkbox"},Cy={class:"nxp-ec-admin-form__actions"},Ay=["disabled"],Sy={key:4,class:"nxp-ec-admin-panel__section"},by={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},yy=["disabled"],Ty=["disabled"],Ry={key:5,class:"nxp-ec-admin-panel__section"},Oy={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},xy={class:"nxp-ec-form-field"},vy={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},Ny=["placeholder"],Py={class:"nxp-ec-form-help"},My={class:"nxp-ec-form-field"},Iy={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},ky=["placeholder"],$y={class:"nxp-ec-form-field"},wy={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},Dy={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},Ly=["disabled"],Yy={key:6,class:"nxp-ec-admin-panel__section"},Uy={class:"nxp-ec-admin-list"},Xy={class:"nxp-ec-admin-list__title"},Fy={class:"nxp-ec-admin-list__meta"},Gy={class:"nxp-ec-admin-panel__section"},Vy=["placeholder"],Hy={class:"nxp-ec-admin-form__actions"},By=["disabled"],Ky={class:"nxp-ec-admin-panel__section"},jy={key:0,class:"nxp-ec-admin-list"},Jy={class:"nxp-ec-admin-list__title"},Wy={class:"nxp-ec-admin-list__meta"},qy={key:1,class:"nxp-ec-admin-panel__muted"},zy=at({__name:"OrderDetailSidebar",props:{order:{type:Object,required:!0},saving:{type:Boolean,default:!1},isLocked:{type:Boolean,default:!1},invoiceLoading:{type:Boolean,default:!1},transitionError:{type:String,default:""},siteRoot:{type:String,default:""},translate:{type:Function,required:!0}},emits:["close","add-note","save-tracking","invoice","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,{formatCurrency:o,formatDate:l,stateLabel:d,formatReviewReason:p,downloadCountLabel:_,downloadExpiryLabel:m,addressLines:u}=Ea(s),R=pi(s),g=pi(s),w=ke(""),M=Ue({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),C=Ue({amount:null,reference:"",note:""}),E=_e(()=>w.value.trim().length>0),f=_e(()=>{if(!n.order)return!1;const $=["cod","bank_transfer"],x=String(n.order.payment_method||"").toLowerCase();return n.order.state==="pending"&&$.includes(x)}),O=_e(()=>{var x;return n.order?["paid","fulfilled"].includes(n.order.state)&&((x=n.order.downloads)==null?void 0:x.length)>0:!1}),I=_e(()=>{var $,x,h,y,P,L;return M.carrier!==((x=($=n.order)==null?void 0:$.carrier)!=null?x:"")||M.tracking_number!==((y=(h=n.order)==null?void 0:h.tracking_number)!=null?y:"")||M.tracking_url!==((L=(P=n.order)==null?void 0:P.tracking_url)!=null?L:"")||M.markFulfilled}),Y=_e(()=>{var L,F,B,X;const $=String(((L=n.order)==null?void 0:L.public_token)||"").trim(),x=String(((F=n.order)==null?void 0:F.order_no)||"").trim();if(!$)return"";const h=((B=n.siteRoot)==null?void 0:B.trim())||(typeof window!="undefined"?(X=window.location)==null?void 0:X.origin:"")||"";if(!h)return"";const y=h.endsWith("/")?"":"/",P=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:$});return x&&P.set("no",x),`${h}${y}index.php?${P.toString()}`}),U=_e(()=>{var y,P;const $=[];return(Array.isArray((y=n.order)==null?void 0:y.fulfillment_events)?n.order.fulfillment_events:[]).forEach((L,F)=>{var B,X;$.push({label:v(L),created:(B=L==null?void 0:L.at)!=null?B:"",key:`f-${F}-${(X=L==null?void 0:L.at)!=null?X:""}`})}),(Array.isArray((P=n.order)==null?void 0:P.timeline)?n.order.timeline:[]).forEach((L,F)=>{var B,X,ie;$.push({label:T(L),created:(B=L==null?void 0:L.created)!=null?B:"",key:`a-${(X=L==null?void 0:L.id)!=null?X:F}-${(ie=L==null?void 0:L.created)!=null?ie:""}`})}),$.filter(L=>L.label).sort((L,F)=>{const B=new Date(L.created||0).getTime();return new Date(F.created||0).getTime()-B})}),T=$=>{var x,h,y,P,L,F,B,X,ie,de,he;if(!$||!$.action)return"";switch($.action){case"order.created":return s("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created");case"order.state.transitioned":{const K=d((h=(x=$.context)==null?void 0:x.from)!=null?h:""),le=d((P=(y=$.context)==null?void 0:y.to)!=null?P:"");return s("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[K||((L=$.context)==null?void 0:L.from)||"",le||((F=$.context)==null?void 0:F.to)||""])}case"order.note":return((B=$.context)==null?void 0:B.message)||s("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added");case"order.payment.recorded":{const K=((X=$.context)==null?void 0:X.gateway)||s("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment"),le=o((de=(ie=$.context)==null?void 0:ie.amount_cents)!=null?de:0,(he=n.order)==null?void 0:he.currency);return s("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[K,le])}case"order.tracking.updated":return s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated");default:return $.action}},v=$=>{if(!$)return"";const x=String($.type||"").toLowerCase(),h=String($.message||"").trim(),y=String($.state||"").toLowerCase();return x==="tracking"?s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated"):y?d(y):h||x||""},G=$=>s(`COM_NXPEASYCART_TRANSACTION_STATUS_${String($.status||"").toUpperCase()}`,$.status||""),S=$=>{var h,y;return(((h=n.order)==null?void 0:h.timeline)||((y=n.order)==null?void 0:y.audit)||[]).some(P=>{var L;return P.action==="order.email.sent"&&((L=P.context)==null?void 0:L.type)===$})},J=()=>R.copy(Y.value),H=$=>g.copy($==null?void 0:$.url),ne=()=>{!n.order||!I.value||n.isLocked||(i("save-tracking",{id:n.order.id,carrier:M.carrier,tracking_number:M.tracking_number,tracking_url:M.tracking_url,mark_fulfilled:M.markFulfilled}),M.markFulfilled=!1)},Z=()=>{if(!n.order||n.isLocked)return;const $=w.value.trim();$&&(i("add-note",{id:n.order.id,message:$}),w.value="")},Ce=()=>{if(!n.order||!f.value||n.isLocked)return;const $=C.amount!==null&&C.amount!==""?Math.round(Number(C.amount)*100):n.order.total_cents;i("record-payment",{id:n.order.id,amountCents:$,reference:C.reference,note:C.note}),C.amount=null,C.reference="",C.note=""};return He(()=>n.order,$=>{var x,h,y;w.value="",R.clearMessage(),g.clearMessage(),M.carrier=(x=$==null?void 0:$.carrier)!=null?x:"",M.tracking_number=(h=$==null?void 0:$.tracking_number)!=null?h:"",M.tracking_url=(y=$==null?void 0:$.tracking_url)!=null?y:"",M.markFulfilled=!1,C.amount=null,C.reference="",C.note=""},{immediate:!0}),($,x)=>{var h,y;return A(),b("div",{class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"order-modal-title",onKeydown:x[14]||(x[14]=mt(P=>$.$emit("close"),["esc"]))},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:x[0]||(x[0]=P=>$.$emit("close"))}),a("div",Rb,[a("aside",Ob,[a("header",xb,[a("h3",vb,c(r(s)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details"))+"  "+c(e.order.order_no),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:x[1]||(x[1]=P=>$.$emit("close")),title:r(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details")},[...x[15]||(x[15]=[a("i",{class:"fa-solid fa-circle-xmark"},null,-1)])],8,Nb)]),a("div",Pb,[e.transitionError?(A(),b("div",Mb,c(e.transitionError),1)):se("",!0),(h=e.order)!=null&&h.needs_review?(A(),b("div",Ib,[a("strong",null,c(r(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review"))+":",1),ge(" "+c(r(p)((y=e.order)==null?void 0:y.review_reason)),1)])):se("",!0),Y.value?(A(),b("section",kb,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link")),1),a("div",$b,[a("input",{type:"text",class:"nxp-ec-form-input",value:Y.value,readonly:""},null,8,wb)]),a("div",Db,[a("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!Y.value,onClick:J},[x[16]||(x[16]=a("i",{class:"fa-solid fa-link"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),1)],8,Lb),a("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!e.order||e.invoiceLoading,onClick:x[2]||(x[2]=P=>$.$emit("invoice",e.order.id))},[x[17]||(x[17]=a("i",{class:"fa-solid fa-file-pdf"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)")),1)],8,Yb)]),r(R).message.value?(A(),b("p",Ub,c(r(R).message.value),1)):se("",!0),e.invoiceLoading?(A(),b("p",Xb,c(r(s)("COM_NXPEASYCART_LOADING","Loading")),1)):se("",!0)])):se("",!0),a("section",Fb,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items")),1),a("ul",Gb,[(A(!0),b(be,null,xe(e.order.items,P=>(A(),b("li",{key:P.id},[a("div",Vb,[ge(c(P.title)+" ",1),a("small",null,"("+c(P.sku)+")",1)]),a("div",Hb,"  "+c(P.qty)+"  "+c(r(o)(P.unit_price_cents,e.order.currency)),1)]))),128))])]),e.order.downloads&&e.order.downloads.length?(A(),b("section",Bb,[a("div",Kb,[a("h4",null,c(r(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital downloads")),1),O.value?(A(),b("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--small",disabled:e.saving||e.isLocked,onClick:x[3]||(x[3]=P=>$.$emit("resend-downloads",{id:e.order.id}))},[x[18]||(x[18]=a("i",{class:"fa-solid fa-envelope"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_ORDERS_RESEND_DOWNLOADS","Resend email")),1)],8,jb)):se("",!0)]),r(g).message.value?(A(),b("p",Jb,c(r(g).message.value),1)):se("",!0),a("div",Wb,[(A(!0),b(be,null,xe(e.order.downloads,P=>(A(),b("article",{key:P.id,class:"nxp-ec-download-card"},[a("div",qb,[a("div",zb,c(P.filename),1),a("div",Qb,c(r(_)(P))+"  "+c(r(m)(P)),1)]),a("div",Zb,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",disabled:e.saving||e.isLocked,onClick:L=>$.$emit("reset-download",{download_id:P.id,order_id:e.order.id}),title:r(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD_TITLE","Reset download count to 0")},[x[19]||(x[19]=a("i",{class:"fa-solid fa-rotate-left"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD","Reset")),1)],8,ey),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",onClick:L=>H(P)},c(r(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),9,ty),P.url?(A(),b("a",{key:0,class:"nxp-ec-btn nxp-ec-btn--small",href:P.url,target:"_blank",rel:"noopener"},c(r(s)("COM_NXPEASYCART_DOWNLOAD","Download")),9,ny)):se("",!0)])]))),128))])])):se("",!0),a("section",sy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total")),1),a("p",ay,c(r(o)(e.order.total_cents,e.order.currency)),1)]),a("div",oy,[a("section",iy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing")),1),a("address",ry,[(A(!0),b(be,null,xe(r(u)(e.order.billing),P=>(A(),b("span",{key:P.key},c(P.value),1))),128))])]),a("section",ly,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping")),1),e.order.shipping?(A(),b("address",cy,[(A(!0),b(be,null,xe(r(u)(e.order.shipping),P=>(A(),b("span",{key:P.key},c(P.value),1))),128))])):(A(),b("p",dy,c(r(s)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.")),1))])]),a("section",uy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking")),1),a("div",py,[a("label",_y,c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier")),1),te(a("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":x[4]||(x[4]=P=>M.carrier=P)},null,512),[[fe,M.carrier]])]),a("div",fy,[a("label",my,c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number")),1),te(a("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":x[5]||(x[5]=P=>M.tracking_number=P)},null,512),[[fe,M.tracking_number]])]),a("div",hy,[a("label",gy,c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL")),1),te(a("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":x[6]||(x[6]=P=>M.tracking_url=P)},null,512),[[fe,M.tracking_url]])]),e.order.state!=="fulfilled"&&e.order.state!=="refunded"?(A(),b("label",Ey,[te(a("input",{type:"checkbox","onUpdate:modelValue":x[7]||(x[7]=P=>M.markFulfilled=P)},null,512),[[st,M.markFulfilled]]),ge(" "+c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled")),1)])):se("",!0),a("div",Cy,[a("button",{class:"nxp-ec-btn",type:"button",disabled:!I.value||e.saving||e.isLocked,onClick:ne},[x[20]||(x[20]=a("i",{class:"fa-solid fa-truck"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking")),1)],8,Ay)])]),e.order.state==="fulfilled"||e.order.state==="refunded"?(A(),b("section",Sy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications")),1),a("div",by,[e.order.state==="fulfilled"?(A(),b("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.saving||e.isLocked,onClick:x[8]||(x[8]=P=>$.$emit("send-email",{id:e.order.id,type:"shipped"}))},[x[21]||(x[21]=a("i",{class:"fa-solid fa-envelope"},null,-1)),ge(" "+c(S("shipped")?r(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email"):r(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email")),1)],8,yy)):se("",!0),e.order.state==="refunded"?(A(),b("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.saving||e.isLocked,onClick:x[9]||(x[9]=P=>$.$emit("send-email",{id:e.order.id,type:"refunded"}))},[x[22]||(x[22]=a("i",{class:"fa-solid fa-envelope"},null,-1)),ge(" "+c(S("refunded")?r(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email"):r(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email")),1)],8,Ty)):se("",!0)])])):se("",!0),f.value?(A(),b("section",Ry,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment")),1),a("p",Oy,c(r(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.")),1),a("div",xy,[a("label",vy,c(r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount")),1),te(a("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":x[10]||(x[10]=P=>C.amount=P),placeholder:r(o)(e.order.total_cents,e.order.currency)},null,8,Ny),[[fe,C.amount]]),a("small",Py,c(r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total")),1)]),a("div",My,[a("label",Iy,c(r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)")),1),te(a("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":x[11]||(x[11]=P=>C.reference=P),placeholder:r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...")},null,8,ky),[[fe,C.reference]])]),a("div",$y,[a("label",wy,c(r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)")),1),te(a("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":x[12]||(x[12]=P=>C.note=P)},null,512),[[fe,C.note]])]),a("div",Dy,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.saving||e.isLocked||!f.value,onClick:Ce},[x[23]||(x[23]=a("i",{class:"icon-credit"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment")),1)],8,Ly)])])):se("",!0),e.order.transactions&&e.order.transactions.length?(A(),b("section",Yy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments")),1),a("ul",Uy,[(A(!0),b(be,null,xe(e.order.transactions,P=>(A(),b("li",{key:P.id},[a("div",Xy,c(P.gateway)+"  "+c(r(o)(P.amount_cents,e.order.currency)),1),a("div",Fy,c(G(P))+"  "+c(r(l)(P.created)),1)]))),128))])])):se("",!0),a("section",Gy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note")),1),a("form",{class:"nxp-ec-admin-form",onSubmit:ft(Z,["prevent"])},[te(a("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":x[13]||(x[13]=P=>w.value=P),placeholder:r(s)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note")},null,8,Vy),[[fe,w.value]]),a("div",Hy,[a("button",{class:"nxp-ec-btn",type:"submit",disabled:!E.value||e.saving||e.isLocked},[x[24]||(x[24]=a("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note")),1)],8,By)])],32)]),a("section",Ky,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History")),1),U.value.length?(A(),b("ul",jy,[(A(!0),b(be,null,xe(U.value,P=>(A(),b("li",{key:P.key},[a("div",Jy,c(P.label),1),a("div",Wy,c(r(l)(P.created)),1)]))),128))])):(A(),b("p",qy,c(r(s)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.")),1))])])])])],32)}}},[["__scopeId","data-v-d64f1f85"]]),Qy={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Zy={class:"nxp-ec-admin-panel__header"},eT={class:"nxp-ec-admin-panel__title"},tT={class:"nxp-ec-admin-panel__lead"},nT={class:"nxp-ec-admin-panel__actions"},sT=["placeholder","aria-label"],aT=["aria-label"],oT={value:""},iT=["value"],rT=["disabled","title","aria-label"],lT={class:"nxp-ec-sr-only"},cT=["disabled","title","aria-label"],dT={class:"nxp-ec-sr-only"},uT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},pT={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},_T={key:2,class:"nxp-ec-admin-panel__body"},fT={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},mT=["title"],hT=at({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""},currentUserId:{type:Number,default:0},forceCheckinOrder:{type:Function,default:null}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=_e(()=>Number(n.currentUserId||0)),{stateLabel:l,formatTimestamp:d}=Ea(s),{isLocked:p,createActiveOrderLocked:_}=ui(s,o),m=ke(null),u=_e(()=>{var f;return(f=n.state)==null?void 0:f.activeOrder}),R=_(u);He(()=>n.state.transitionError,f=>{var O;f&&((O=m.value)!=null&&O.resetSelections)&&m.value.resetSelections()}),wn(()=>{M()});const g=async f=>{var I;if(!(f!=null&&f.id)||typeof n.forceCheckinOrder!="function")return null;const O=s("COM_NXPEASYCART_FORCE_CHECKIN_ORDER","This order is checked out by %s. Force check-in?",[((I=f.checked_out_user)==null?void 0:I.name)||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(O))return null;try{return await n.forceCheckinOrder(f.id)}catch(Y){return null}},w=async f=>{f&&(p(f)&&!await g(f)||i("view",f))},M=()=>{i("close")},C=f=>{i("transition",f)},E=f=>{i("bulk-transition",f)};return(f,O)=>{var I;return A(),b("section",Qy,[a("header",Zy,[a("div",null,[a("h2",eT,c(r(s)("COM_NXPEASYCART_MENU_ORDERS","Orders")),1),a("p",tT,c(r(s)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.")),1)]),a("div",nT,[te(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders"),"onUpdate:modelValue":O[0]||(O[0]=Y=>e.state.search=Y),onKeyup:O[1]||(O[1]=mt(Y=>i("search"),["enter"])),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders")},null,40,sT),[[fe,e.state.search]]),te(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":O[2]||(O[2]=Y=>e.state.filterState=Y),onChange:O[3]||(O[3]=Y=>i("filter",e.state.filterState)),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state")},[a("option",oT,"  "+c(r(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State"))+"  ",1),(A(!0),b(be,null,xe(e.state.orderStates,Y=>(A(),b("option",{key:Y,value:Y},c(r(l)(Y)),9,iT))),128))],40,aT),[[_t,e.state.filterState]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:O[4]||(O[4]=Y=>i("export")),disabled:e.state.loading||e.state.exporting,title:r(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV")},[O[16]||(O[16]=a("i",{class:"fa-solid fa-file-csv"},null,-1)),a("span",lT,c(r(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV")),1)],8,rT),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:O[5]||(O[5]=Y=>i("refresh")),disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh")},[O[17]||(O[17]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",dT,c(r(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh")),1)],8,cT)])]),e.state.error?(A(),b("div",uT,c(e.state.error),1)):se("",!0),e.state.transitionError&&!e.state.error&&!e.state.activeOrder?(A(),b("div",pT,c(e.state.transitionError),1)):se("",!0),e.state.loading&&!e.state.error?(A(),b("div",_T,[je(Kn,{type:"table",rows:5,columns:7})])):se("",!0),!e.state.loading&&!e.state.error?(A(),b("div",fT,[je(r(Tb),{ref_key:"ordersTableRef",ref:m,items:e.state.items,"order-states":e.state.orderStates,selection:e.state.selection,pagination:e.state.pagination,"active-order-id":(I=e.state.activeOrder)==null?void 0:I.id,saving:e.state.saving,"current-user-id":e.currentUserId,translate:e.translate,onView:w,onTransition:C,onBulkTransition:E,onToggleSelection:O[6]||(O[6]=Y=>i("toggle-selection",Y)),onClearSelection:O[7]||(O[7]=Y=>i("clear-selection")),onPage:O[8]||(O[8]=Y=>i("page",Y))},null,8,["items","order-states","selection","pagination","active-order-id","saving","current-user-id","translate"]),e.state.lastUpdated?(A(),b("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(r(d)(e.state.lastUpdated)),9,mT)):se("",!0),e.state.activeOrder?(A(),We(r(zy),{key:1,order:e.state.activeOrder,saving:e.state.saving,"is-locked":r(R),"invoice-loading":e.state.invoiceLoading,"transition-error":e.state.transitionError,"site-root":e.siteRoot,translate:e.translate,onClose:M,onAddNote:O[9]||(O[9]=Y=>i("add-note",Y)),onSaveTracking:O[10]||(O[10]=Y=>i("save-tracking",Y)),onInvoice:O[11]||(O[11]=Y=>i("invoice",Y)),onSendEmail:O[12]||(O[12]=Y=>i("send-email",Y)),onRecordPayment:O[13]||(O[13]=Y=>i("record-payment",Y)),onResendDownloads:O[14]||(O[14]=Y=>i("resend-downloads",Y)),onResetDownload:O[15]||(O[15]=Y=>i("reset-download",Y))},null,8,["order","saving","is-locked","invoice-loading","transition-error","site-root","translate"])):se("",!0)])):se("",!0)])}}},[["__scopeId","data-v-bd76553a"]]),gT={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},ET={class:"nxp-ec-admin-panel__header"},CT={class:"nxp-ec-admin-panel__title"},AT={class:"nxp-ec-admin-panel__lead"},ST={class:"nxp-ec-admin-panel__actions"},bT=["placeholder","aria-label"],yT=["disabled","title","aria-label"],TT={class:"nxp-ec-sr-only"},RT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},OT={key:1,class:"nxp-ec-admin-panel__body"},xT={key:2,class:"nxp-ec-admin-panel__body"},vT={class:"nxp-ec-admin-panel__table"},NT={class:"nxp-ec-admin-table"},PT={scope:"col"},MT={scope:"col"},IT={scope:"col"},kT={scope:"col"},$T={scope:"col"},wT={key:0},DT={colspan:"5"},LT={scope:"row",class:"nxp-ec-admin-table__primary"},YT=["onClick"],UT=["data-label"],XT=["data-label"],FT=["data-label"],GT=["data-label"],VT={key:0,class:"nxp-ec-admin-pagination"},HT=["disabled"],BT={class:"nxp-ec-admin-pagination__status"},KT=["disabled"],jT=["title"],JT={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},WT={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},qT={class:"nxp-ec-admin-panel__sidebar-header"},zT={id:"customer-modal-title"},QT=["title","aria-label"],ZT={class:"nxp-ec-sr-only"},eR={class:"nxp-ec-admin-panel__section"},tR={class:"nxp-ec-admin-summary"},nR={class:"nxp-ec-admin-panel__addresses"},sR={class:"nxp-ec-admin-panel__section"},aR={class:"nxp-ec-admin-address"},oR={class:"nxp-ec-admin-panel__section"},iR={key:0,class:"nxp-ec-admin-address"},rR={key:1,class:"nxp-ec-admin-panel__muted"},lR={class:"nxp-ec-admin-panel__section"},cR={key:0,class:"nxp-ec-admin-list"},dR={class:"nxp-ec-admin-list__title"},uR={class:"nxp-ec-admin-list__meta"},pR={key:1,class:"nxp-ec-admin-panel__muted"},_R={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},fR={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},mR={class:"nxp-ec-gdpr-actions"},hR=["disabled","title"],gR=["disabled","title"],ER=at({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=(E,f)=>{const O=(Number(E)||0)/100,I=(f||"").toUpperCase()||n.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:I}).format(O)}catch(Y){return`${I} ${O.toFixed(2)}`}},l=E=>{if(!E)return"";const f=new Date(E);return Number.isNaN(f.getTime())?E:f.toLocaleString()},d=E=>!E||typeof E!="object"?[]:Object.entries(E).filter(([,f])=>f!=null&&`${f}`.trim()!=="").map(([f,O])=>({key:f,value:`${O}`.trim()})),p=E=>{if(!E)return"";const f=`COM_NXPEASYCART_ORDERS_STATE_${String(E).toUpperCase()}`;return s(f,E)},_=()=>i("refresh"),m=()=>i("search"),u=E=>i("page",E),R=E=>i("view",E),g=()=>i("close"),w=E=>i("gdprExport",E),M=E=>i("gdprAnonymise",E),C=E=>{if(!E)return"";try{const f=new Date(E),I=new Date-f,Y=Math.floor(I/1e3),U=Math.floor(Y/60),T=Math.floor(U/60);return Y<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):U<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[U]):T<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[T]):f.toLocaleString()}catch(f){return E}};return(E,f)=>{var O,I,Y;return A(),b("section",gT,[a("header",ET,[a("div",null,[a("h2",CT,c(r(s)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),a("p",AT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),a("div",ST,[te(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":f[0]||(f[0]=U=>e.state.search=U),onKeyup:mt(m,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,bT),[[fe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[f[5]||(f[5]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",TT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,yT)])]),e.state.error?(A(),b("div",RT,c(e.state.error),1)):se("",!0),e.state.loading?(A(),b("div",OT,[je(Kn,{type:"table",rows:5,columns:5})])):se("",!0),e.state.loading?se("",!0):(A(),b("div",xT,[a("div",vT,[a("table",NT,[a("thead",null,[a("tr",null,[a("th",PT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),a("th",MT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),a("th",IT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),a("th",kT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),a("th",$T,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),a("tbody",null,[e.state.items.length?se("",!0):(A(),b("tr",wT,[a("td",DT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(A(!0),b(be,null,xe(e.state.items,U=>{var T;return A(),b("tr",{key:U.email,class:ve({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===U.email})},[a("th",LT,[a("button",{class:"nxp-ec-link-button",type:"button",onClick:v=>R(U)},c(U.email),9,YT)]),a("td",{"data-label":r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},c(((T=U.meta)==null?void 0:T.name)||""),9,UT),a("td",{"data-label":r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},c(U.orders_count),9,XT),a("td",{"data-label":r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},c(o(U.total_spent_cents,U.currency||e.baseCurrency)),9,FT),a("td",{"data-label":r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},c(l(U.last_order)),9,GT)],2)}),128))])]),e.state.pagination.pages>1?(A(),b("div",VT,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:f[1]||(f[1]=U=>u(e.state.pagination.current-1))},"  ",8,HT),a("span",BT,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:f[2]||(f[2]=U=>u(e.state.pagination.current+1))},"  ",8,KT)])):se("",!0)]),e.state.lastUpdated?(A(),b("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(C(e.state.lastUpdated)),9,jT)):se("",!0),e.state.activeCustomer?(A(),b("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"customer-modal-title",onKeydown:mt(g,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:g}),a("div",JT,[a("aside",WT,[a("header",qT,[a("h3",zT,c(e.state.activeCustomer.email),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:g,title:r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[f[6]||(f[6]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",ZT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,QT)]),a("section",eR,[a("h4",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),a("dl",tR,[a("div",null,[a("dt",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),a("dd",null,c(((O=e.state.activeCustomer.meta)==null?void 0:O.name)||""),1)]),a("div",null,[a("dt",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),a("dd",null,c(o(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),a("div",null,[a("dt",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),a("dd",null,c(e.state.activeCustomer.orders_count),1)]),a("div",null,[a("dt",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),a("dd",null,c(l(e.state.activeCustomer.last_order)),1)])])]),a("div",nR,[a("section",sR,[a("h4",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),a("address",aR,[(A(!0),b(be,null,xe(d((I=e.state.activeCustomer.meta)==null?void 0:I.billing),U=>(A(),b("span",{key:U.key},c(U.value),1))),128))])]),a("section",oR,[a("h4",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(Y=e.state.activeCustomer.meta)!=null&&Y.shipping?(A(),b("address",iR,[(A(!0),b(be,null,xe(d(e.state.activeCustomer.meta.shipping),U=>(A(),b("span",{key:U.key},c(U.value),1))),128))])):(A(),b("p",rR,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),a("section",lR,[a("h4",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(A(),b("ul",cR,[(A(!0),b(be,null,xe(e.state.activeCustomer.orders,U=>(A(),b("li",{key:U.id},[a("div",dR,c(U.order_no)+"  "+c(o(U.total_cents,U.currency||e.baseCurrency)),1),a("div",uR,c(p(U.state))+"  "+c(l(U.created)),1)]))),128))])):(A(),b("p",pR,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),a("section",_R,[a("h4",null,c(r(s)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),a("p",fR,c(r(s)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),a("div",mR,[a("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:f[3]||(f[3]=U=>w(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(s)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[f[7]||(f[7]=a("i",{class:"fa-solid fa-download"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,hR),a("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:f[4]||(f[4]=U=>M(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(s)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[f[8]||(f[8]=a("i",{class:"fa-solid fa-user-slash"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,gR)]),e.state.gdprMessage?(A(),b("p",{key:0,class:ve(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},c(e.state.gdprMessage),3)):se("",!0)])])])],32)):se("",!0)]))])}}},[["__scopeId","data-v-2e6c67f3"]]),CR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},AR={class:"nxp-ec-admin-panel__header"},SR={class:"nxp-ec-admin-panel__title"},bR={class:"nxp-ec-admin-panel__lead"},yR={class:"nxp-ec-admin-panel__actions"},TR=["placeholder","aria-label"],RR=["disabled","title","aria-label"],OR={class:"nxp-ec-sr-only"},xR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vR={key:1,class:"nxp-ec-admin-panel__loading"},NR={key:2,class:"nxp-ec-admin-panel__body"},PR={class:"nxp-ec-admin-panel__table"},MR={class:"nxp-ec-admin-table"},IR={scope:"col"},kR={scope:"col"},$R={scope:"col"},wR={scope:"col"},DR={scope:"col"},LR={scope:"col"},YR={key:0},UR={colspan:"7"},XR={scope:"row",class:"nxp-ec-admin-table__primary"},FR=["data-label"],GR=["data-label"],VR=["data-label"],HR=["data-label"],BR=["data-label"],KR={class:"nxp-ec-admin-table__actions"},jR=["onClick","title","aria-label"],JR={class:"nxp-ec-sr-only"},WR=["onClick","title","aria-label"],qR={class:"nxp-ec-sr-only"},zR=["aria-label"],QR=["disabled","aria-label"],ZR={class:"nxp-ec-admin-pagination__status","aria-current":"page"},eO=["disabled","aria-label"],tO={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},nO={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},sO={class:"nxp-ec-admin-panel__sidebar-header"},aO={id:"coupon-modal-title"},oO=["title","aria-label"],iO={class:"nxp-ec-sr-only"},rO={class:"nxp-ec-form-field"},lO={class:"nxp-ec-form-label",for:"coupon-code"},cO={class:"nxp-ec-form-field"},dO={class:"nxp-ec-form-label",for:"coupon-type"},uO={value:"percent"},pO={value:"fixed"},_O={class:"nxp-ec-form-field"},fO={class:"nxp-ec-form-label",for:"coupon-value"},mO={class:"nxp-ec-form-field"},hO={class:"nxp-ec-form-label",for:"coupon-min-total"},gO={class:"nxp-ec-form-field"},EO={class:"nxp-ec-form-label",for:"coupon-start"},CO={class:"nxp-ec-form-field"},AO={class:"nxp-ec-form-label",for:"coupon-end"},SO={class:"nxp-ec-form-field"},bO={class:"nxp-ec-form-label",for:"coupon-max-uses"},yO={class:"nxp-ec-form-field"},TO={class:"nxp-ec-form-label",for:"coupon-max-uses-per-user"},RO={class:"nxp-ec-form-hint"},OO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},xO={class:"nxp-ec-form-label",for:"coupon-allow-sale-items"},vO={class:"nxp-ec-form-hint"},NO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},PO={class:"nxp-ec-form-label",for:"coupon-active"},MO={class:"nxp-ec-modal__actions"},IO=["disabled"],kO=["disabled"],$O=["disabled"],wO=at({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=_e(()=>(n.baseCurrency||"USD").toUpperCase()),l=Ue({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0}),d=_e(()=>l.open),p=()=>i("refresh"),_=()=>i("search"),m=O=>i("page",O),u=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0})},R=O=>{var I,Y,U;Object.assign(l,{open:!0,id:O.id,code:O.code,type:O.type,value:O.value,min_total:(Y=O.min_total)!=null?Y:((I=O.min_total_cents)!=null?I:0)/100,start:O.start?O.start.substring(0,10):"",end:O.end?O.end.substring(0,10):"",max_uses:O.max_uses,max_uses_per_user:O.max_uses_per_user,allow_sale_items:(U=O.allow_sale_items)!=null?U:!0,active:O.active})},g=()=>{l.open=!1},w=()=>{const O={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,max_uses_per_user:l.max_uses_per_user!==null&&l.max_uses_per_user!==""?l.max_uses_per_user:null,allow_sale_items:l.allow_sale_items,active:l.active};i("save",O)},M=O=>{const I=s("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(I)&&(i("delete",[O.id]),l.id===O.id&&g())},C=(O,I)=>{const Y=(Number(O)||0)/100,U=(I||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:U}).format(Y)}catch(T){return`${U} ${Y.toFixed(2)}`}},E=O=>O.type==="percent"?`${O.value}%`:C(O.value*100,o.value),f=O=>O==="fixed"?s("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):s("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return He(()=>n.state.saving,(O,I)=>{I&&!O&&!n.state.error&&l.open&&g()}),(O,I)=>(A(),b("section",CR,[a("header",AR,[a("div",null,[a("h2",SR,c(r(s)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),a("p",bR,c(r(s)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),a("div",yR,[te(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":I[0]||(I[0]=Y=>e.state.search=Y),onKeyup:mt(_,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,TR),[[fe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[I[14]||(I[14]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",OR,c(r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,RR),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:u},[I[15]||(I[15]=a("i",{class:"fa-solid fa-plus"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(A(),b("div",xR,c(e.state.error),1)):se("",!0),e.state.loading?(A(),b("div",vR,c(r(s)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):se("",!0),e.state.loading?se("",!0):(A(),b("div",NR,[a("div",PR,[a("table",MR,[a("thead",null,[a("tr",null,[a("th",IR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),a("th",kR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),a("th",$R,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),a("th",wR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),a("th",DR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),a("th",LR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),I[16]||(I[16]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?se("",!0):(A(),b("tr",YR,[a("td",UR,c(r(s)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(A(!0),b(be,null,xe(e.state.items,Y=>(A(),b("tr",{key:Y.id,class:ve({"is-active":l.id===Y.id})},[a("th",XR,c(Y.code),1),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},c(f(Y.type)),9,FR),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},c(E(Y)),9,GR),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},c(C(Y.min_total_cents,o.value)),9,VR),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[a("span",{class:ve(["nxp-ec-badge",{"is-active":Y.active}])},[a("i",{class:ve(Y.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ge(" "+c(Y.active?r(s)("JYES","Yes"):r(s)("JNO","No")),1)],2)],8,HR),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},c(Y.times_used)+c(Y.max_uses?` / ${Y.max_uses}`:""),9,BR),a("td",KR,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:U=>R(Y),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[I[17]||(I[17]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",JR,c(r(s)("JEDIT","Edit")),1)],8,jR),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:U=>M(Y),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[I[18]||(I[18]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",qR,c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,WR)])],2))),128))])]),e.state.pagination.pages>1?(A(),b("nav",{key:0,class:"nxp-ec-admin-pagination","aria-label":r(s)("COM_NXPEASYCART_PAGINATION","Pagination")},[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:I[1]||(I[1]=Y=>m(e.state.pagination.current-1)),"aria-label":r(s)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,QR),a("span",ZR,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:I[2]||(I[2]=Y=>m(e.state.pagination.current+1)),"aria-label":r(s)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,eO)],8,zR)):se("",!0)]),d.value?(A(),b("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"coupon-modal-title",onKeydown:mt(g,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:g}),a("div",tO,[a("aside",nO,[a("header",sO,[a("h3",aO,c(l.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:g,title:r(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[I[19]||(I[19]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",iO,c(r(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,oO)]),a("form",{class:"nxp-ec-form",onSubmit:ft(w,["prevent"]),autocomplete:"off"},[a("div",rO,[a("label",lO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),te(a("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":I[3]||(I[3]=Y=>l.code=Y),required:"",maxlength:"64"},null,512),[[fe,l.code,void 0,{trim:!0}]])]),a("div",cO,[a("label",dO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),te(a("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":I[4]||(I[4]=Y=>l.type=Y)},[a("option",uO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),a("option",pO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[_t,l.type]])]),a("div",_O,[a("label",fO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),te(a("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":I[5]||(I[5]=Y=>l.value=Y),required:""},null,512),[[fe,l.value,void 0,{number:!0}]])]),a("div",mO,[a("label",hO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),te(a("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":I[6]||(I[6]=Y=>l.min_total=Y)},null,512),[[fe,l.min_total,void 0,{number:!0}]])]),a("div",gO,[a("label",EO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),te(a("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":I[7]||(I[7]=Y=>l.start=Y)},null,512),[[fe,l.start]])]),a("div",CO,[a("label",AO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),te(a("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":I[8]||(I[8]=Y=>l.end=Y)},null,512),[[fe,l.end]])]),a("div",SO,[a("label",bO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),te(a("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":I[9]||(I[9]=Y=>l.max_uses=Y)},null,512),[[fe,l.max_uses,void 0,{number:!0}]])]),a("div",yO,[a("label",TO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER","Max uses per user",[],"couponsFormMaxUsesPerUser")),1),te(a("input",{id:"coupon-max-uses-per-user",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":I[10]||(I[10]=Y=>l.max_uses_per_user=Y)},null,512),[[fe,l.max_uses_per_user,void 0,{number:!0}]]),a("small",RO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER_HINT","Limit how many times a single user or email can use this coupon. Leave empty for unlimited.",[],"couponsFormMaxUsesPerUserHint")),1)]),a("div",OO,[a("label",xO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS","Allow on sale items",[],"couponsFormAllowSaleItems")),1),te(a("input",{id:"coupon-allow-sale-items",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":I[11]||(I[11]=Y=>l.allow_sale_items=Y)},null,512),[[st,l.allow_sale_items]]),a("small",vO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS_HINT","When disabled, this coupon cannot be applied if the cart contains items currently on sale.",[],"couponsFormAllowSaleItemsHint")),1)]),a("div",NO,[a("label",PO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),te(a("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":I[12]||(I[12]=Y=>l.active=Y)},null,512),[[st,l.active]])]),a("footer",MO,[a("button",{class:"nxp-ec-btn",type:"button",onClick:g,disabled:e.state.saving},c(r(s)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,IO),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,kO)]),l.id?(A(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:I[13]||(I[13]=Y=>M(l)),disabled:e.state.saving},[I[20]||(I[20]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,$O)):se("",!0)],32)])])],32)):se("",!0)]))]))}},[["__scopeId","data-v-f9ade401"]]),DO={class:"nxp-ec-settings-panel"},LO={class:"nxp-ec-settings-panel__header"},YO=["disabled"],UO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},XO={key:1,class:"nxp-ec-admin-panel__loading"},FO={class:"nxp-ec-form-field"},GO={class:"nxp-ec-form-label",for:"settings-store-name"},VO={class:"nxp-ec-form-field"},HO={class:"nxp-ec-form-label",for:"settings-store-email"},BO={class:"nxp-ec-form-field"},KO={class:"nxp-ec-form-label",for:"settings-store-phone"},jO={class:"nxp-ec-form-field"},JO={class:"nxp-ec-form-label",for:"settings-base-currency"},WO=["value"],qO={class:"nxp-ec-form-help"},zO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},QO={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},ZO={class:"nxp-ec-form-help"},ex={class:"nxp-ec-form-field"},tx={class:"nxp-ec-form-label",for:"settings-display-locale"},nx={class:"nxp-ec-form-help"},sx={class:"nxp-ec-form-field"},ax={class:"nxp-ec-form-label",for:"settings-category-page-size"},ox={class:"nxp-ec-form-help"},ix={class:"nxp-ec-form-field"},rx={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},lx={value:"paged"},cx={value:"infinite"},dx={class:"nxp-ec-form-help"},ux={class:"nxp-ec-form-field nxp-ec-form-field--inline"},px={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},_x={class:"nxp-ec-form-help"},fx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},mx={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},hx={class:"nxp-ec-form-help"},gx={key:0,class:"nxp-ec-form-field"},Ex={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},Cx={class:"nxp-ec-form-help"},Ax={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Sx={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},bx={class:"nxp-ec-form-help"},yx={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Tx={class:"nxp-ec-settings-actions"},Rx=["disabled"],Ox=["disabled"],xx={__name:"GeneralTab",props:{draft:{type:Object,required:!0},currencies:{type:Array,default:()=>[]},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""},message:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const n=e.translate;return(i,s)=>(A(),b("div",DO,[a("header",LO,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:s[0]||(s[0]=o=>i.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,YO)]),e.error?(A(),b("div",UO,c(e.error),1)):e.loading?(A(),b("div",XO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings...",[],"settingsGeneralLoading")),1)):(A(),b("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:s[14]||(s[14]=ft(o=>i.$emit("save"),["prevent"]))},[a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),a("div",FO,[a("label",GO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),te(a("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>e.draft.storeName=o),maxlength:"190"},null,512),[[fe,e.draft.storeName,void 0,{trim:!0}]])]),a("div",VO,[a("label",HO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),te(a("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":s[2]||(s[2]=o=>e.draft.storeEmail=o)},null,512),[[fe,e.draft.storeEmail,void 0,{trim:!0}]])]),a("div",BO,[a("label",KO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),te(a("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[3]||(s[3]=o=>e.draft.storePhone=o),maxlength:"64"},null,512),[[fe,e.draft.storePhone,void 0,{trim:!0}]])])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),a("div",jO,[a("label",JO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),te(a("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":s[4]||(s[4]=o=>e.draft.baseCurrency=o),required:""},[(A(!0),b(be,null,xe(e.currencies,o=>(A(),b("option",{key:o.code,value:o.code},c(o.label),9,WO))),128))],512),[[_t,e.draft.baseCurrency]]),a("p",qO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),a("div",zO,[a("label",QO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),te(a("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=o=>e.draft.checkoutPhoneRequired=o)},null,512),[[st,e.draft.checkoutPhoneRequired]]),a("p",ZO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),a("div",ex,[a("label",tx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),te(a("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[6]||(s[6]=o=>e.draft.displayLocale=o),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[fe,e.draft.displayLocale,void 0,{trim:!0}]]),a("p",nx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),a("div",sx,[a("label",ax,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),te(a("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":s[7]||(s[7]=o=>e.draft.categoryPageSize=o)},null,512),[[fe,e.draft.categoryPageSize,void 0,{number:!0}]]),a("p",ox,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),a("div",ix,[a("label",rx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),te(a("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":s[8]||(s[8]=o=>e.draft.categoryPaginationMode=o)},[a("option",lx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),a("option",cx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[_t,e.draft.categoryPaginationMode]]),a("p",dx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),a("div",ux,[a("label",px,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),te(a("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[9]||(s[9]=o=>e.draft.autoSendOrderEmails=o)},null,512),[[st,e.draft.autoSendOrderEmails]]),a("p",_x,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),a("div",fx,[a("label",mx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),te(a("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=o=>e.draft.staleOrderCleanupEnabled=o)},null,512),[[st,e.draft.staleOrderCleanupEnabled]]),a("p",hx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),e.draft.staleOrderCleanupEnabled?(A(),b("div",gx,[a("label",Ex,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),te(a("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":s[11]||(s[11]=o=>e.draft.staleOrderHours=o)},null,512),[[fe,e.draft.staleOrderHours,void 0,{number:!0}]]),a("p",Cx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):se("",!0)]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),a("div",Ax,[a("label",Sx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),te(a("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[12]||(s[12]=o=>e.draft.showAdvancedMode=o)},null,512),[[st,e.draft.showAdvancedMode]]),a("p",bx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),e.message?(A(),b("div",yx,c(e.message),1)):se("",!0),a("div",Tx,[a("button",{class:"nxp-ec-btn",type:"button",onClick:s[13]||(s[13]=o=>i.$emit("reset")),disabled:e.saving},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,Rx),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,Ox)])],32))]))}},vx={class:"nxp-ec-settings-panel"},Nx={class:"nxp-ec-settings-panel__header"},Px=["disabled"],Mx={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ix={key:1,class:"nxp-ec-admin-panel__loading"},kx={class:"nxp-ec-form-grid"},$x={class:"nxp-ec-form-field"},wx={class:"nxp-ec-form-label",for:"settings-digital-max"},Dx={class:"nxp-ec-form-help"},Lx={class:"nxp-ec-form-field"},Yx={class:"nxp-ec-form-label",for:"settings-digital-expiry"},Ux={class:"nxp-ec-form-help"},Xx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Fx={class:"nxp-ec-form-label",for:"settings-digital-fulfill"},Gx={class:"nxp-ec-form-help"},Vx={class:"nxp-ec-form-field"},Hx={class:"nxp-ec-form-label",for:"settings-digital-max-size"},Bx={class:"nxp-ec-form-help"},Kx={class:"nxp-ec-form-field"},jx={class:"nxp-ec-form-label",for:"settings-digital-storage"},Jx={class:"nxp-ec-form-help"},Wx={class:"nxp-ec-form-section"},qx={class:"nxp-ec-form-section__title"},zx={class:"nxp-ec-form-help",style:{"margin-bottom":"1rem"}},Qx={class:"nxp-ec-filetypes-actions"},Zx={class:"nxp-ec-filetypes-grid"},ev={class:"nxp-ec-filetypes-category__title"},tv={class:"nxp-ec-filetypes-category__list"},nv=["value"],sv={class:"nxp-ec-filetypes-item__label"},av={class:"nxp-ec-form-field",style:{"margin-top":"1.5rem"}},ov={class:"nxp-ec-form-label",for:"settings-digital-custom-ext"},iv={class:"nxp-ec-form-help nxp-ec-form-help--warning"},rv={class:"nxp-ec-settings-actions"},lv=["disabled"],cv={__name:"DigitalTab",props:{draft:{type:Object,required:!0},fileTypeCategories:{type:Object,default:()=>({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]})},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const t=e,n=t.translate,i=d=>{var _;return(_={archives:"Archives",audio:"Audio",video:"Video",images:"Images",documents:"Documents",ebooks:"E-books",installers:"Installers"}[d])!=null?_:d.charAt(0).toUpperCase()+d.slice(1)},s=()=>Object.values(t.fileTypeCategories).flat(),o=()=>{t.draft.digitalAllowedExtensions=s()},l=()=>{t.draft.digitalAllowedExtensions=[]};return(d,p)=>(A(),b("div",vx,[a("header",Nx,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital products")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:p[0]||(p[0]=_=>d.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh")),9,Px)]),e.error?(A(),b("div",Mx,c(e.error),1)):e.loading?(A(),b("div",Ix,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings...")),1)):(A(),b("form",{key:2,class:"nxp-ec-settings-form",onSubmit:p[9]||(p[9]=ft(_=>d.$emit("save"),["prevent"]))},[a("div",kx,[a("div",$x,[a("label",wx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS","Default max downloads")),1),te(a("input",{id:"settings-digital-max",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":p[1]||(p[1]=_=>e.draft.digitalMaxDownloads=_)},null,512),[[fe,e.draft.digitalMaxDownloads,void 0,{number:!0}]]),a("p",Dx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS_DESC","Maximum downloads allowed per purchase (0 for unlimited).")),1)]),a("div",Lx,[a("label",Yx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY","Download link expiry (days)")),1),te(a("input",{id:"settings-digital-expiry",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":p[2]||(p[2]=_=>e.draft.digitalExpiryDays=_)},null,512),[[fe,e.draft.digitalExpiryDays,void 0,{number:!0}]]),a("p",Ux,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY_DESC","Number of days before links expire (0 for no expiry).")),1)]),a("div",Xx,[a("label",Fx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL","Auto-fulfill digital orders")),1),te(a("input",{id:"settings-digital-fulfill",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":p[3]||(p[3]=_=>e.draft.digitalAutoFulfill=_)},null,512),[[st,e.draft.digitalAutoFulfill]]),a("p",Gx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL_DESC","Mark digital-only orders fulfilled after payment.")),1)]),a("div",Vx,[a("label",Hx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE","Max file size (MB)")),1),te(a("input",{id:"settings-digital-max-size",class:"nxp-ec-form-input",type:"number",min:"1",max:"2048",step:"1","onUpdate:modelValue":p[4]||(p[4]=_=>e.draft.digitalMaxFileSize=_)},null,512),[[fe,e.draft.digitalMaxFileSize,void 0,{number:!0}]]),a("p",Bx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE_DESC","Maximum upload size per file in megabytes (1-2048 MB).")),1)]),a("div",Kx,[a("label",jx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH","Storage path")),1),te(a("input",{id:"settings-digital-storage",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[5]||(p[5]=_=>e.draft.digitalStoragePath=_),maxlength:"250"},null,512),[[fe,e.draft.digitalStoragePath,void 0,{trim:!0}]]),a("p",Jx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH_DESC","Protected directory for digital files. Adjust only if you know the server path.")),1)])]),a("div",Wx,[a("h4",qx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES","Allowed File Types")),1),a("p",zx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES_DESC","Select which file types can be uploaded as digital products.")),1),a("div",Qx,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm",onClick:o},c(r(n)("COM_NXPEASYCART_SELECT_ALL","Select All")),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-btn--link",onClick:l},c(r(n)("COM_NXPEASYCART_SELECT_NONE","Select None")),1)]),a("div",Zx,[(A(!0),b(be,null,xe(e.fileTypeCategories,(_,m)=>(A(),b("div",{key:m,class:"nxp-ec-filetypes-category"},[a("h5",ev,c(i(m)),1),a("div",tv,[(A(!0),b(be,null,xe(_,u=>(A(),b("label",{key:u,class:"nxp-ec-filetypes-item"},[te(a("input",{type:"checkbox",value:u,"onUpdate:modelValue":p[6]||(p[6]=R=>e.draft.digitalAllowedExtensions=R),class:"nxp-ec-filetypes-item__checkbox"},null,8,nv),[[st,e.draft.digitalAllowedExtensions]]),a("span",sv,"."+c(u),1)]))),128))])]))),128))]),a("div",av,[a("label",ov,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS","Custom Extensions")),1),te(a("input",{id:"settings-digital-custom-ext",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[7]||(p[7]=_=>e.draft.digitalCustomExtensions=_),placeholder:"blend, psd, ai, sketch"},null,512),[[fe,e.draft.digitalCustomExtensions,void 0,{trim:!0}]]),a("p",iv,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS_DESC","Comma-separated list of additional extensions. These bypass MIME validation - use only for trusted uploads.")),1)])]),a("div",rv,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:p[8]||(p[8]=_=>d.$emit("reset"))},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_RESET","Reset")),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("JSAVE","Save")),9,lv)])],32))]))}},dv={class:"nxp-ec-settings-panel"},uv={class:"nxp-ec-settings-panel__header"},pv=["disabled"],_v={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fv={class:"nxp-ec-form-help"},mv={class:"nxp-ec-form-grid"},hv={class:"nxp-ec-form-field"},gv={class:"nxp-ec-form-label",for:"settings-checkout-window"},Ev={class:"nxp-ec-form-help"},Cv={class:"nxp-ec-form-field"},Av={class:"nxp-ec-form-label",for:"settings-offline-window"},Sv={class:"nxp-ec-form-help"},bv={class:"nxp-ec-form-grid"},yv={class:"nxp-ec-form-field"},Tv={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},Rv={class:"nxp-ec-form-field"},Ov={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},xv={class:"nxp-ec-form-field"},vv={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},Nv={class:"nxp-ec-form-grid"},Pv={class:"nxp-ec-form-field"},Mv={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},Iv={class:"nxp-ec-form-field"},kv={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},$v={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},wv={class:"nxp-ec-settings-actions"},Dv=["disabled"],Lv=["disabled"],Yv={__name:"SecurityTab",props:{draft:{type:Object,required:!0},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""},message:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const n=e.translate;return(i,s)=>(A(),b("div",dv,[a("header",uv,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:s[0]||(s[0]=o=>i.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh")),9,pv)]),e.error?(A(),b("div",_v,c(e.error),1)):(A(),b("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:s[9]||(s[9]=ft(o=>i.$emit("save"),["prevent"]))},[a("p",fv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.")),1),a("div",mv,[a("div",hv,[a("label",gv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)")),1),te(a("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[1]||(s[1]=o=>e.draft.checkoutWindowMinutes=o)},null,512),[[fe,e.draft.checkoutWindowMinutes,void 0,{number:!0}]]),a("p",Ev,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.")),1)]),a("div",Cv,[a("label",Av,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)")),1),te(a("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[2]||(s[2]=o=>e.draft.offlineWindowMinutes=o)},null,512),[[fe,e.draft.offlineWindowMinutes,void 0,{number:!0}]]),a("p",Sv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.")),1)])]),a("div",bv,[a("div",yv,[a("label",Tv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP")),1),te(a("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[3]||(s[3]=o=>e.draft.checkoutIpLimit=o)},null,512),[[fe,e.draft.checkoutIpLimit,void 0,{number:!0}]])]),a("div",Rv,[a("label",Ov,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email")),1),te(a("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[4]||(s[4]=o=>e.draft.checkoutEmailLimit=o)},null,512),[[fe,e.draft.checkoutEmailLimit,void 0,{number:!0}]])]),a("div",xv,[a("label",vv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session")),1),te(a("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[5]||(s[5]=o=>e.draft.checkoutSessionLimit=o)},null,512),[[fe,e.draft.checkoutSessionLimit,void 0,{number:!0}]])])]),a("div",Nv,[a("div",Pv,[a("label",Mv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP")),1),te(a("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[6]||(s[6]=o=>e.draft.offlineIpLimit=o)},null,512),[[fe,e.draft.offlineIpLimit,void 0,{number:!0}]])]),a("div",Iv,[a("label",kv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email")),1),te(a("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[7]||(s[7]=o=>e.draft.offlineEmailLimit=o)},null,512),[[fe,e.draft.offlineEmailLimit,void 0,{number:!0}]])])]),e.message?(A(),b("div",$v,c(e.message),1)):se("",!0),a("div",wv,[a("button",{class:"nxp-ec-btn",type:"button",onClick:s[8]||(s[8]=o=>i.$emit("reset")),disabled:e.saving},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel")),9,Dv),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security")),9,Lv)])],32))]))}},Uv={class:"nxp-ec-settings-panel"},Xv={class:"nxp-ec-settings-panel__header"},Fv={class:"nxp-ec-settings-actions"},Gv=["disabled"],Vv={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Hv={key:1,class:"nxp-ec-admin-panel__loading"},Bv={class:"nxp-ec-fieldset-legend-with-help"},Kv=["title"],jv={class:"nxp-ec-form-field"},Jv={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},Wv=["title"],qv=["placeholder"],zv={class:"nxp-ec-form-help"},Qv={class:"nxp-ec-form-field"},Zv={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},eN=["title"],tN=["placeholder"],nN={class:"nxp-ec-form-help"},sN={class:"nxp-ec-form-field"},aN={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},oN=["title"],iN=["placeholder"],rN={class:"nxp-ec-form-help"},lN={style:{display:"block","margin-top":"0.25rem","word-break":"break-all"}},cN={class:"nxp-ec-form-field"},dN={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},uN={value:"test"},pN={value:"live"},_N={class:"nxp-ec-fieldset-legend-with-help"},fN=["title"],mN={class:"nxp-ec-form-field"},hN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},gN=["title"],EN={class:"nxp-ec-form-help"},CN={class:"nxp-ec-form-field"},AN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},SN=["title"],bN={class:"nxp-ec-form-help"},yN={class:"nxp-ec-form-field"},TN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},RN=["title"],ON=["placeholder"],xN={class:"nxp-ec-form-help"},vN={style:{display:"block","margin-top":"0.25rem","word-break":"break-all"}},NN={class:"nxp-ec-form-field"},PN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},MN={value:"sandbox"},IN={value:"live"},kN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$N={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},wN={class:"nxp-ec-form-field"},DN={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},LN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},YN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},UN={class:"nxp-ec-form-field"},XN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},FN={class:"nxp-ec-form-field"},GN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},VN=["placeholder"],HN={class:"nxp-ec-form-help"},BN={class:"nxp-ec-form-grid"},KN={class:"nxp-ec-form-field"},jN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},JN={class:"nxp-ec-form-field"},WN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},qN={class:"nxp-ec-form-field"},zN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},QN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ZN={class:"nxp-ec-form-label",for:"settings-payments-configured"},eP={class:"nxp-ec-form-help"},tP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},nP={class:"nxp-ec-settings-actions"},sP=["disabled"],aP=["disabled"],oP={__name:"PaymentsTab",props:{draft:{type:Object,required:!0},settingsDraft:{type:Object,required:!0},siteUrl:{type:String,default:""},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""},message:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const n=e.translate;return(i,s)=>(A(),b("div",Uv,[a("header",Xv,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways")),1),a("div",Fv,[a("button",{class:"nxp-ec-btn",type:"button",onClick:s[0]||(s[0]=o=>i.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh")),9,Gv)])]),e.error?(A(),b("div",Vv,c(e.error),1)):e.loading?(A(),b("div",Hv,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration...")),1)):(A(),b("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:s[19]||(s[19]=ft(o=>i.$emit("save"),["prevent"]))},[a("fieldset",null,[a("legend",Bv,[a("span",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe")),1),a("a",{href:"https://docs.stripe.com/keys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SETUP_GUIDE","View Stripe setup documentation")},c(r(n)("COM_NXPEASYCART_SETTINGS_SETUP_GUIDE","Setup Guide")),9,Kv)]),a("div",jv,[a("label",Jv,[ge(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key"))+" ",1),a("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_GET_STRIPE_KEYS","Get your API keys from Stripe Dashboard")}," [link] ",8,Wv)]),te(a("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>e.draft.stripe.publishable_key=o),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_PK_PLACEHOLDER","pk_test_... or pk_live_...")},null,8,qv),[[fe,e.draft.stripe.publishable_key,void 0,{trim:!0}]]),a("p",zv,c(r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_PK_HELP","Find in Stripe Dashboard -> Developers -> API Keys. Starts with pk_test_ (test) or pk_live_ (live).")),1)]),a("div",Qv,[a("label",Zv,[ge(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key"))+" ",1),a("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_GET_STRIPE_KEYS","Get your API keys from Stripe Dashboard")}," [link] ",8,eN)]),te(a("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":s[2]||(s[2]=o=>e.draft.stripe.secret_key=o),autocomplete:"off",placeholder:r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_SK_PLACEHOLDER","sk_test_... or sk_live_...")},null,8,tN),[[fe,e.draft.stripe.secret_key,void 0,{trim:!0}]]),a("p",nN,c(r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_SK_HELP","Find in Stripe Dashboard -> Developers -> API Keys. Click 'Reveal' to view. Starts with sk_test_ (test) or sk_live_ (live).")),1)]),a("div",sN,[a("label",aN,[ge(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret"))+" ",1),a("a",{href:"https://dashboard.stripe.com/webhooks",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_CREATE_STRIPE_WEBHOOK","Create webhook in Stripe Dashboard")}," [link] ",8,oN)]),te(a("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":s[3]||(s[3]=o=>e.draft.stripe.webhook_secret=o),autocomplete:"off",placeholder:r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_WH_PLACEHOLDER","whsec_...")},null,8,iN),[[fe,e.draft.stripe.webhook_secret,void 0,{trim:!0}]]),a("p",rN,[ge(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Create webhook in Stripe Dashboard -> Developers -> Webhooks. Your webhook URL:"))+" ",1),a("code",lN,c(e.siteUrl)+"/index.php?option=com_nxpeasycart&task=webhook.stripe",1)])]),a("div",cN,[a("label",dN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode")),1),te(a("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":s[4]||(s[4]=o=>e.draft.stripe.mode=o)},[a("option",uN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test")),1),a("option",pN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live")),1)],512),[[_t,e.draft.stripe.mode]])])]),a("fieldset",null,[a("legend",_N,[a("span",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal")),1),a("a",{href:"https://developer.paypal.com/api/rest/",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_SETUP_GUIDE","View PayPal setup documentation")},c(r(n)("COM_NXPEASYCART_SETTINGS_SETUP_GUIDE","Setup Guide")),9,fN)]),a("div",mN,[a("label",hN,[ge(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID"))+" ",1),a("a",{href:"https://developer.paypal.com/dashboard/applications/sandbox",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_GET_PAYPAL_CREDS","Get credentials from PayPal Developer Dashboard")}," [link] ",8,gN)]),te(a("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[5]||(s[5]=o=>e.draft.paypal.client_id=o)},null,512),[[fe,e.draft.paypal.client_id,void 0,{trim:!0}]]),a("p",EN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYPAL_CLIENT_ID_HELP","Find in PayPal Developer Dashboard -> Apps & Credentials -> Your App. Long alphanumeric string.")),1)]),a("div",CN,[a("label",AN,[ge(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret"))+" ",1),a("a",{href:"https://developer.paypal.com/dashboard/applications/sandbox",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_GET_PAYPAL_CREDS","Get credentials from PayPal Developer Dashboard")}," [link] ",8,SN)]),te(a("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":s[6]||(s[6]=o=>e.draft.paypal.client_secret=o),autocomplete:"off"},null,512),[[fe,e.draft.paypal.client_secret,void 0,{trim:!0}]]),a("p",bN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYPAL_CLIENT_SECRET_HELP","Find in PayPal Developer Dashboard -> Apps & Credentials -> Your App. Click 'Show' to reveal.")),1)]),a("div",yN,[a("label",TN,[ge(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID"))+" ",1),a("a",{href:"https://developer.paypal.com/api/rest/webhooks/",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_CREATE_PAYPAL_WEBHOOK","Learn about PayPal webhooks")}," [link] ",8,RN)]),te(a("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[7]||(s[7]=o=>e.draft.paypal.webhook_id=o),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYPAL_WH_PLACEHOLDER","WH-...")},null,8,ON),[[fe,e.draft.paypal.webhook_id,void 0,{trim:!0}]]),a("p",xN,[ge(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Create webhook in your PayPal app -> Webhooks section. Required for signature verification. Your webhook URL:"))+" ",1),a("code",vN,c(e.siteUrl)+"/index.php?option=com_nxpeasycart&task=webhook.paypal",1)])]),a("div",NN,[a("label",PN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode")),1),te(a("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":s[8]||(s[8]=o=>e.draft.paypal.mode=o)},[a("option",MN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox")),1),a("option",IN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live")),1)],512),[[_t,e.draft.paypal.mode]])])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery")),1),a("div",kN,[a("label",$N,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery")),1),te(a("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":s[9]||(s[9]=o=>e.draft.cod.enabled=o)},null,512),[[st,e.draft.cod.enabled]])]),a("div",wN,[a("label",DN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label")),1),te(a("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[10]||(s[10]=o=>e.draft.cod.label=o),placeholder:"Cash on delivery"},null,512),[[fe,e.draft.cod.label,void 0,{trim:!0}]])])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer")),1),a("div",LN,[a("label",YN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer")),1),te(a("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":s[11]||(s[11]=o=>e.draft.bank_transfer.enabled=o)},null,512),[[st,e.draft.bank_transfer.enabled]])]),a("div",UN,[a("label",XN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label")),1),te(a("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[12]||(s[12]=o=>e.draft.bank_transfer.label=o),placeholder:"Bank transfer"},null,512),[[fe,e.draft.bank_transfer.label,void 0,{trim:!0}]])]),a("div",FN,[a("label",GN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions")),1),te(a("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":s[13]||(s[13]=o=>e.draft.bank_transfer.instructions=o),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.")},null,8,VN),[[fe,e.draft.bank_transfer.instructions]]),a("p",HN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.")),1)]),a("div",BN,[a("div",KN,[a("label",jN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name")),1),te(a("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[14]||(s[14]=o=>e.draft.bank_transfer.account_name=o)},null,512),[[fe,e.draft.bank_transfer.account_name,void 0,{trim:!0}]])]),a("div",JN,[a("label",WN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN")),1),te(a("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[15]||(s[15]=o=>e.draft.bank_transfer.iban=o),maxlength:"34"},null,512),[[fe,e.draft.bank_transfer.iban,void 0,{trim:!0}]])]),a("div",qN,[a("label",zN,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT")),1),te(a("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[16]||(s[16]=o=>e.draft.bank_transfer.bic=o),maxlength:"11"},null,512),[[fe,e.draft.bank_transfer.bic,void 0,{trim:!0}]])])])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status")),1),a("div",QN,[a("label",ZN,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured")),1),te(a("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[17]||(s[17]=o=>e.settingsDraft.paymentsConfigured=o)},null,512),[[st,e.settingsDraft.paymentsConfigured]]),a("p",eP,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).")),1)])]),e.message?(A(),b("div",tP,c(e.message),1)):se("",!0),a("div",nP,[a("button",{class:"nxp-ec-btn",type:"button",onClick:s[18]||(s[18]=o=>i.$emit("reset")),disabled:e.saving},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel")),9,sP),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments")),9,aP)])],32))]))}},iP={class:"nxp-ec-settings-panel"},rP={class:"nxp-ec-settings-panel__header"},lP=["disabled"],cP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},dP={key:1,class:"nxp-ec-admin-panel__loading"},uP={class:"nxp-ec-form-help"},pP={class:"nxp-ec-form-help nxp-ec-form-help--muted"},_P={class:"nxp-ec-visual-grid"},fP={class:"nxp-ec-visual-field"},mP={class:"nxp-ec-form-label",for:"visual-primary-color"},hP={class:"nxp-ec-color-input-group"},gP=["value"],EP=["placeholder"],CP={class:"nxp-ec-visual-field"},AP={class:"nxp-ec-form-label",for:"visual-text-color"},SP={class:"nxp-ec-color-input-group"},bP=["value"],yP=["placeholder"],TP={class:"nxp-ec-visual-field"},RP={class:"nxp-ec-form-label",for:"visual-surface-color"},OP={class:"nxp-ec-color-input-group"},xP=["value"],vP=["placeholder"],NP={class:"nxp-ec-visual-field"},PP={class:"nxp-ec-form-label",for:"visual-border-color"},MP={class:"nxp-ec-color-input-group"},IP=["value"],kP=["placeholder"],$P={class:"nxp-ec-visual-field"},wP={class:"nxp-ec-form-label",for:"visual-muted-color"},DP={class:"nxp-ec-color-input-group"},LP=["value"],YP=["placeholder"],UP={class:"nxp-ec-visual-preview"},XP={type:"button",class:"nxp-ec-preview-btn"},FP={class:"nxp-ec-preview-text"},GP={class:"nxp-ec-preview-muted"},VP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},HP={class:"nxp-ec-settings-actions"},BP=["disabled"],KP=["disabled"],jP={__name:"VisualTab",props:{draft:{type:Object,required:!0},templateDefaults:{type:Object,default:()=>({primary:"#4f6d7a",text:"#1f2933",surface:"#ffffff",border:"#e4e7ec",muted:"#6b7280"})},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""},message:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const t=e,n=t.translate,i=_e(()=>({"--nxp-ec-color-primary":t.draft.primaryColor||t.templateDefaults.primary,"--nxp-ec-color-text":t.draft.textColor||t.templateDefaults.text,"--nxp-ec-color-surface":t.draft.surfaceColor||t.templateDefaults.surface,"--nxp-ec-color-border":t.draft.borderColor||t.templateDefaults.border,"--nxp-ec-color-muted":t.draft.mutedColor||t.templateDefaults.muted}));return(s,o)=>(A(),b("div",iP,[a("header",rP,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:o[0]||(o[0]=l=>s.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh")),9,lP)]),e.error?(A(),b("div",cP,c(e.error),1)):e.loading?(A(),b("div",dP,c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings...")),1)):(A(),b("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:o[17]||(o[17]=ft(l=>s.$emit("save"),["prevent"]))},[a("p",uP,c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.")),1),a("p",pP,c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.")),1),a("div",_P,[a("div",fP,[a("label",mP,c(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color")),1),a("div",hP,[a("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.primaryColor||e.templateDefaults.primary,onInput:o[1]||(o[1]=l=>e.draft.primaryColor=l.target.value)},null,40,gP),te(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[2]||(o[2]=l=>e.draft.primaryColor=l),placeholder:e.templateDefaults.primary,maxlength:"7"},null,8,EP),[[fe,e.draft.primaryColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[3]||(o[3]=l=>e.draft.primaryColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])]),a("div",CP,[a("label",AP,c(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color")),1),a("div",SP,[a("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.textColor||e.templateDefaults.text,onInput:o[4]||(o[4]=l=>e.draft.textColor=l.target.value)},null,40,bP),te(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[5]||(o[5]=l=>e.draft.textColor=l),placeholder:e.templateDefaults.text,maxlength:"7"},null,8,yP),[[fe,e.draft.textColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[6]||(o[6]=l=>e.draft.textColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])]),a("div",TP,[a("label",RP,c(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color")),1),a("div",OP,[a("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.surfaceColor||e.templateDefaults.surface,onInput:o[7]||(o[7]=l=>e.draft.surfaceColor=l.target.value)},null,40,xP),te(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[8]||(o[8]=l=>e.draft.surfaceColor=l),placeholder:e.templateDefaults.surface,maxlength:"7"},null,8,vP),[[fe,e.draft.surfaceColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[9]||(o[9]=l=>e.draft.surfaceColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])]),a("div",NP,[a("label",PP,c(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color")),1),a("div",MP,[a("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.borderColor||e.templateDefaults.border,onInput:o[10]||(o[10]=l=>e.draft.borderColor=l.target.value)},null,40,IP),te(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[11]||(o[11]=l=>e.draft.borderColor=l),placeholder:e.templateDefaults.border,maxlength:"7"},null,8,kP),[[fe,e.draft.borderColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[12]||(o[12]=l=>e.draft.borderColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])]),a("div",$P,[a("label",wP,c(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color")),1),a("div",DP,[a("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.mutedColor||e.templateDefaults.muted,onInput:o[13]||(o[13]=l=>e.draft.mutedColor=l.target.value)},null,40,LP),te(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[14]||(o[14]=l=>e.draft.mutedColor=l),placeholder:e.templateDefaults.muted,maxlength:"7"},null,8,YP),[[fe,e.draft.mutedColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[15]||(o[15]=l=>e.draft.mutedColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])])]),a("div",UP,[a("h4",null,c(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview")),1),a("div",{class:"nxp-ec-preview-box",style:Rt(i.value)},[a("button",XP,c(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button")),1),a("p",FP,c(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors")),1),a("p",GP,c(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example")),1)],4)]),e.message?(A(),b("div",VP,c(e.message),1)):se("",!0),a("div",HP,[a("button",{class:"nxp-ec-btn",type:"button",onClick:o[16]||(o[16]=l=>s.$emit("reset")),disabled:e.saving},c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel")),9,BP),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors")),9,KP)])],32))]))}},JP={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},WP={class:"nxp-ec-admin-panel__header"},qP={class:"nxp-ec-admin-panel__title"},zP={class:"nxp-ec-admin-panel__lead"},QP={class:"nxp-ec-settings-tabs"},ZP=at({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=n.settingsState,l=n.paymentsState,p=ke(["general","digital","security","payments","visual"].includes(n.initialTab)?n.initialTab:"general"),_=Ue({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:n.baseCurrency||"USD",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1,digitalMaxDownloads:5,digitalExpiryDays:30,digitalStoragePath:"",digitalAutoFulfill:!0,digitalMaxFileSize:200,digitalAllowedExtensions:[],digitalCustomExtensions:""}),m=Ue({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),u=Ue({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),R=Ue({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),g=ke({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]});_e(()=>{var L;const h=n.baseCurrency||"USD",y=typeof _.baseCurrency=="string"?_.baseCurrency.trim():"",P=typeof((L=o==null?void 0:o.values)==null?void 0:L.base_currency)=="string"?o.values.base_currency.trim():"";return y!==""?y:P!==""?P:h});const w=_e(()=>{var y,P;const h=(P=(y=o.values)==null?void 0:y.visual_defaults)!=null?P:{};return{primary:h.primary_color||"#4f6d7a",text:h.text_color||"#1f2933",surface:h.surface_color||"#ffffff",border:h.border_color||"#e4e7ec",muted:h.muted_color||"#6b7280"}}),M=_e(()=>{var h,y;return(y=(h=o.values)==null?void 0:h.currencies)!=null?y:[]}),C=_e(()=>{var h,y,P;return((P=(y=(h=window.Joomla)==null?void 0:h.getOptions)==null?void 0:y.call(h,"system.paths"))==null?void 0:P.root)||window.location.origin}),E=()=>Object.values(g.value).flat(),f=h=>{var P;const y=(P=h==null?void 0:h.digital)==null?void 0:P.allowed_extensions;return y==null?E():Array.isArray(y)?[...y]:E()},O=(h={})=>{var B,X,ie,de,he,K,le,Ae,Ne,N,k,V,ae,z,ee,q,W,Q,j,pe;const y=(B=h==null?void 0:h.store)!=null?B:{},P=(X=h==null?void 0:h.payments)!=null?X:{},L=(ie=h==null?void 0:h.visual)!=null?ie:{},F=(he=(de=h==null?void 0:h.security)==null?void 0:de.rate_limits)!=null?he:{};Object.assign(_,{storeName:(K=y.name)!=null?K:"",storeEmail:(le=y.email)!=null?le:"",storePhone:(Ae=y.phone)!=null?Ae:"",checkoutPhoneRequired:!!((Ne=h==null?void 0:h.checkout_phone_required)!=null&&Ne),paymentsConfigured:!!P.configured,autoSendOrderEmails:!!((N=h==null?void 0:h.auto_send_order_emails)!=null&&N),baseCurrency:typeof(h==null?void 0:h.base_currency)=="string"?h.base_currency.trim().toUpperCase():(n.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(h==null?void 0:h.display_locale)=="string"?h.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(h==null?void 0:h.category_page_size))?Number(h.category_page_size):12,categoryPaginationMode:(h==null?void 0:h.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((k=h==null?void 0:h.stale_order_cleanup_enabled)!=null&&k),staleOrderHours:Number.isFinite(Number(h==null?void 0:h.stale_order_hours))?Math.max(1,Math.min(720,Number(h.stale_order_hours))):48,showAdvancedMode:!!((V=h==null?void 0:h.show_advanced_mode)!=null&&V),digitalMaxDownloads:Number.isFinite(Number(h==null?void 0:h.digital_download_max))?Math.max(0,Number(h.digital_download_max)):5,digitalExpiryDays:Number.isFinite(Number(h==null?void 0:h.digital_download_expiry))?Math.max(0,Number(h.digital_download_expiry)):30,digitalStoragePath:typeof(h==null?void 0:h.digital_storage_path)=="string"?h.digital_storage_path:"",digitalAutoFulfill:!!((ae=h==null?void 0:h.digital_auto_fulfill)==null||ae),digitalMaxFileSize:Number.isFinite(Number(h==null?void 0:h.digital_max_file_size))?Math.max(1,Math.min(2048,Number(h.digital_max_file_size))):200,digitalAllowedExtensions:f(h),digitalCustomExtensions:typeof((z=h==null?void 0:h.digital)==null?void 0:z.custom_extensions)=="string"?h.digital.custom_extensions:""}),(ee=h==null?void 0:h.digital)!=null&&ee.file_type_categories&&(g.value=h.digital.file_type_categories),Object.assign(R,{primaryColor:(q=L.primary_color)!=null?q:"",textColor:(W=L.text_color)!=null?W:"",surfaceColor:(Q=L.surface_color)!=null?Q:"",borderColor:(j=L.border_color)!=null?j:"",mutedColor:(pe=L.muted_color)!=null?pe:""}),Object.assign(m,{checkoutWindowMinutes:Number.isFinite(Number(F.checkout_window_minutes))?Number(F.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(F.checkout_ip_limit))?Number(F.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(F.checkout_email_limit))?Number(F.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(F.checkout_session_limit))?Number(F.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(F.offline_window_minutes))?Number(F.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(F.offline_ip_limit))?Number(F.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(F.offline_email_limit))?Number(F.offline_email_limit):5})},I=(h={})=>{var B,X,ie,de,he,K,le,Ae,Ne,N,k,V,ae,z,ee,q,W,Q,j,pe,re,ue,Ee,Te;const y=(B=h.stripe)!=null?B:{},P=(X=h.paypal)!=null?X:{},L=(ie=h.cod)!=null?ie:{},F=(de=h.bank_transfer)!=null?de:{};Object.assign(u.stripe,{publishable_key:(he=y.publishable_key)!=null?he:"",secret_key:(K=y.secret_key)!=null?K:"",webhook_secret:(le=y.webhook_secret)!=null?le:"",mode:(Ae=y.mode)!=null?Ae:"test"}),Object.assign(u.paypal,{client_id:(Ne=P.client_id)!=null?Ne:"",client_secret:(N=P.client_secret)!=null?N:"",webhook_id:(k=P.webhook_id)!=null?k:"",mode:(V=P.mode)!=null?V:"sandbox"}),Object.assign(u.cod,{enabled:L.enabled!==void 0?!!L.enabled:u.cod.enabled,label:(z=(ae=L.label)!=null?ae:u.cod.label)!=null?z:"Cash on delivery"}),Object.assign(u.bank_transfer,{enabled:F.enabled!==void 0?!!F.enabled:u.bank_transfer.enabled,label:(q=(ee=F.label)!=null?ee:u.bank_transfer.label)!=null?q:"Bank transfer",instructions:(Q=(W=F.instructions)!=null?W:u.bank_transfer.instructions)!=null?Q:"",account_name:(pe=(j=F.account_name)!=null?j:u.bank_transfer.account_name)!=null?pe:"",iban:(ue=(re=F.iban)!=null?re:u.bank_transfer.iban)!=null?ue:"",bic:(Te=(Ee=F.bic)!=null?Ee:u.bank_transfer.bic)!=null?Te:""})};He(()=>o.values,h=>{O(h!=null?h:{})},{immediate:!0}),He(()=>o.saving,(h,y)=>{var P;y&&!h&&!o.error&&O((P=o.values)!=null?P:{})}),He(()=>l.config,h=>{I(h!=null?h:{})},{immediate:!0}),He(()=>l.saving,(h,y)=>{var P;y&&!h&&!l.error&&I((P=l.config)!=null?P:{})});const Y=()=>i("refresh-settings"),U=()=>{const h=(_.baseCurrency||"").trim().toUpperCase(),y=(_.displayLocale||"").trim();i("save-settings",{store:{name:_.storeName,email:_.storeEmail,phone:_.storePhone,base_currency:h},payments:{configured:_.paymentsConfigured},base_currency:h,display_locale:y,checkout_phone_required:_.checkoutPhoneRequired,auto_send_order_emails:_.autoSendOrderEmails,category_page_size:Number.isFinite(Number(_.categoryPageSize))?Number(_.categoryPageSize):12,category_pagination_mode:_.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!_.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(_.staleOrderHours))?Math.max(1,Math.min(720,Number(_.staleOrderHours))):48,show_advanced_mode:!!_.showAdvancedMode})},T=()=>{var h;O((h=o.values)!=null?h:{})},v=()=>{const h=Number.isFinite(Number(_.digitalMaxDownloads))?Math.max(0,Number(_.digitalMaxDownloads)):0,y=Number.isFinite(Number(_.digitalExpiryDays))?Math.max(0,Number(_.digitalExpiryDays)):0,P=(_.digitalStoragePath||"").trim(),L=Number.isFinite(Number(_.digitalMaxFileSize))?Math.max(1,Math.min(2048,Number(_.digitalMaxFileSize))):200,F=E(),B=_.digitalAllowedExtensions||[],ie=F.length===B.length&&F.every(he=>B.includes(he))?null:[...B],de=(_.digitalCustomExtensions||"").trim();i("save-settings",{digital:{max_downloads:h,expiry_days:y,storage_path:P,auto_fulfill:!!_.digitalAutoFulfill,max_file_size:L,allowed_extensions:ie,custom_extensions:de}})},G=()=>{var h;O((h=o.values)!=null?h:{})},S=()=>{const h=(y,P=0)=>{const L=Number(y);return Number.isFinite(L)&&L>=0?L:P};i("save-settings",{security:{rate_limits:{checkout_window_minutes:h(m.checkoutWindowMinutes,15),checkout_ip_limit:h(m.checkoutIpLimit,10),checkout_email_limit:h(m.checkoutEmailLimit,5),checkout_session_limit:h(m.checkoutSessionLimit,15),offline_window_minutes:h(m.offlineWindowMinutes,240),offline_ip_limit:h(m.offlineIpLimit,10),offline_email_limit:h(m.offlineEmailLimit,5)}}})},J=()=>{var h;O((h=o.values)!=null?h:{})},H=()=>i("refresh-payments"),ne=()=>{const h=JSON.parse(JSON.stringify(u));i("save-payments",h),i("save-settings",{payments:{configured:_.paymentsConfigured}})},Z=()=>{var h;I((h=l.config)!=null?h:{})},Ce=()=>i("refresh-settings"),$=()=>{i("save-settings",{visual:{primary_color:R.primaryColor,text_color:R.textColor,surface_color:R.surfaceColor,border_color:R.borderColor,muted_color:R.mutedColor}})},x=()=>{var y,P,L,F,B,X,ie;const h=(P=(y=o.values)==null?void 0:y.visual)!=null?P:{};Object.assign(R,{primaryColor:(L=h.primary_color)!=null?L:"",textColor:(F=h.text_color)!=null?F:"",surfaceColor:(B=h.surface_color)!=null?B:"",borderColor:(X=h.border_color)!=null?X:"",mutedColor:(ie=h.muted_color)!=null?ie:""})};return(h,y)=>(A(),b("section",JP,[a("header",WP,[a("div",null,[a("h2",qP,c(r(s)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),a("p",zP,c(r(s)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),a("nav",QP,[a("button",{type:"button",class:ve(["nxp-ec-settings-tab",{"is-active":p.value==="general"}]),onClick:y[0]||(y[0]=P=>p.value="general")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),a("button",{type:"button",class:ve(["nxp-ec-settings-tab",{"is-active":p.value==="digital"}]),onClick:y[1]||(y[1]=P=>p.value="digital")},c(r(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital")),3),_.showAdvancedMode?(A(),b("button",{key:0,type:"button",class:ve(["nxp-ec-settings-tab",{"is-active":p.value==="security"}]),onClick:y[2]||(y[2]=P=>p.value="security")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):se("",!0),a("button",{type:"button",class:ve(["nxp-ec-settings-tab",{"is-active":p.value==="payments"}]),onClick:y[3]||(y[3]=P=>p.value="payments")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),a("button",{type:"button",class:ve(["nxp-ec-settings-tab",{"is-active":p.value==="visual"}]),onClick:y[4]||(y[4]=P=>p.value="visual")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),p.value==="general"?(A(),We(xx,{key:0,draft:_,currencies:M.value,translate:r(s),loading:r(o).loading,saving:r(o).saving,error:r(o).error,message:r(o).message,onRefresh:Y,onSave:U,onReset:T},null,8,["draft","currencies","translate","loading","saving","error","message"])):p.value==="digital"?(A(),We(cv,{key:1,draft:_,"file-type-categories":g.value,translate:r(s),loading:r(o).loading,saving:r(o).saving,error:r(o).error,onRefresh:Y,onSave:v,onReset:G},null,8,["draft","file-type-categories","translate","loading","saving","error"])):p.value==="security"&&_.showAdvancedMode?(A(),We(Yv,{key:2,draft:m,translate:r(s),loading:r(o).loading,saving:r(o).saving,error:r(o).error,message:r(o).message,onRefresh:Y,onSave:S,onReset:J},null,8,["draft","translate","loading","saving","error","message"])):p.value==="payments"?(A(),We(oP,{key:3,draft:u,"settings-draft":_,"site-url":C.value,translate:r(s),loading:r(l).loading,saving:r(l).saving,error:r(l).error,message:r(l).message,onRefresh:H,onSave:ne,onReset:Z},null,8,["draft","settings-draft","site-url","translate","loading","saving","error","message"])):p.value==="visual"?(A(),We(jP,{key:4,draft:R,"template-defaults":w.value,translate:r(s),loading:r(o).loading,saving:r(o).saving,error:r(o).error,message:r(o).message,onRefresh:Ce,onSave:$,onReset:x},null,8,["draft","template-defaults","translate","loading","saving","error","message"])):se("",!0)]))}},[["__scopeId","data-v-825007eb"]]),e1={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},t1={class:"nxp-ec-admin-panel__header"},n1={class:"nxp-ec-admin-panel__title"},s1={class:"nxp-ec-admin-panel__lead"},a1={class:"nxp-ec-admin-panel__actions"},o1=["disabled","title","aria-label"],i1={class:"nxp-ec-sr-only"},r1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},l1={key:1,class:"nxp-ec-admin-panel__loading"},c1={key:2,class:"nxp-ec-admin-panel__body"},d1={class:"nxp-ec-admin-panel__table"},u1={class:"nxp-ec-admin-table"},p1={scope:"col"},_1={scope:"col"},f1={scope:"col"},m1={scope:"col"},h1={scope:"col"},g1={scope:"col"},E1={key:0},C1={colspan:"7"},A1={scope:"row",class:"nxp-ec-admin-table__primary"},S1=["data-label"],b1=["data-label"],y1=["data-label"],T1=["data-label"],R1=["data-label"],O1={class:"nxp-ec-admin-table__actions"},x1=["onClick","title","aria-label"],v1={class:"nxp-ec-sr-only"},N1=["onClick","title","aria-label"],P1={class:"nxp-ec-sr-only"},M1={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},I1={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},k1={class:"nxp-ec-admin-panel__sidebar-header"},$1={id:"tax-modal-title"},w1=["title","aria-label"],D1={class:"nxp-ec-sr-only"},L1={class:"nxp-ec-form-field"},Y1={class:"nxp-ec-form-label",for:"tax-name"},U1=["placeholder"],X1={class:"nxp-ec-form-help"},F1={class:"nxp-ec-form-field"},G1={class:"nxp-ec-form-label",for:"tax-country"},V1=["placeholder"],H1={class:"nxp-ec-form-help"},B1={class:"nxp-ec-form-field"},K1={class:"nxp-ec-form-label",for:"tax-region"},j1=["placeholder"],J1={class:"nxp-ec-form-help"},W1={class:"nxp-ec-form-field"},q1={class:"nxp-ec-form-label",for:"tax-rate"},z1={class:"nxp-ec-input-group"},Q1={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Z1={class:"nxp-ec-form-label",for:"tax-inclusive"},eM={class:"nxp-ec-form-help"},tM={class:"nxp-ec-form-field"},nM={class:"nxp-ec-form-label",for:"tax-priority"},sM={class:"nxp-ec-form-help"},aM={class:"nxp-ec-modal__actions"},oM=["disabled"],iM=["disabled"],rM=["disabled"],lM=at({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=ke(!1),l=Ue({id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0}),d=()=>i("refresh"),p=()=>{u(),o.value=!0},_=w=>{Object.assign(l,{id:w.id,name:w.name||"",country:w.country,region:w.region,rate:w.rate,inclusive:w.inclusive,priority:w.priority}),o.value=!0},m=()=>{o.value=!1,u()},u=()=>{Object.assign(l,{id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0})},R=()=>{i("save",{id:l.id||void 0,name:l.name||null,country:l.country,region:l.region,rate:l.rate,inclusive:l.inclusive,priority:l.priority})},g=w=>{const M=s("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(M)&&(i("delete",[w.id]),l.id===w.id&&m())};return He(()=>n.state.saving,(w,M)=>{M&&!w&&!n.state.error&&m()}),(w,M)=>(A(),b("section",e1,[a("header",t1,[a("div",null,[a("h2",n1,c(r(s)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),a("p",s1,c(r(s)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),a("div",a1,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":r(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[M[7]||(M[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",i1,c(r(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,o1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[M[8]||(M[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(A(),b("div",r1,c(e.state.error),1)):se("",!0),e.state.loading?(A(),b("div",l1,c(r(s)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):se("",!0),e.state.loading?se("",!0):(A(),b("div",c1,[a("div",d1,[a("table",u1,[a("thead",null,[a("tr",null,[a("th",p1,c(r(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),a("th",_1,c(r(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),a("th",f1,c(r(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),a("th",m1,c(r(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),a("th",h1,c(r(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),a("th",g1,c(r(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),M[9]||(M[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?se("",!0):(A(),b("tr",E1,[a("td",C1,c(r(s)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(A(!0),b(be,null,xe(e.state.items,C=>{var E;return A(),b("tr",{key:C.id,class:ve({"is-active":l.id===C.id})},[a("th",A1,c(C.name||r(s)("COM_NXPEASYCART_TAX_DEFAULT_NAME","Tax",[],"taxDefaultName")),1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_COUNTRY","Country")},c(C.country),9,S1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_REGION","Region")},c(C.region||""),9,b1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_RATE","Rate")},c(((E=C.rate)!=null?E:0).toFixed(2))+"%",9,y1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[a("span",{class:ve(["nxp-ec-badge",{"is-active":C.inclusive}])},[a("i",{class:ve(C.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ge(" "+c(C.inclusive?r(s)("JYES","Yes"):r(s)("JNO","No")),1)],2)],8,T1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},c(C.priority),9,R1),a("td",O1,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:f=>_(C),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[M[10]||(M[10]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",v1,c(r(s)("JEDIT","Edit")),1)],8,x1),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:f=>g(C),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[M[11]||(M[11]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",P1,c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,N1)])],2)}),128))])])]),o.value?(A(),b("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"tax-modal-title",onKeydown:mt(m,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:m}),a("div",M1,[a("aside",I1,[a("header",k1,[a("h3",$1,c(l.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:m,title:r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[M[12]||(M[12]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",D1,c(r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,w1)]),a("form",{class:"nxp-ec-form",onSubmit:ft(R,["prevent"]),autocomplete:"off"},[a("div",L1,[a("label",Y1,c(r(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),te(a("input",{id:"tax-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M[0]||(M[0]=C=>l.name=C),maxlength:"100",placeholder:r(s)("COM_NXPEASYCART_TAX_NAME_PLACEHOLDER","e.g. VAT, GST, Sales Tax",[],"taxNamePlaceholder")},null,8,U1),[[fe,l.name,void 0,{trim:!0}]]),a("p",X1,c(r(s)("COM_NXPEASYCART_TAX_NAME_HELP",'Optional display name shown to customers. Falls back to "Tax" if empty.',[],"taxNameHelp")),1)]),a("div",F1,[a("label",G1,c(r(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),te(a("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M[1]||(M[1]=C=>l.country=C),maxlength:"2",required:"",placeholder:r(s)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,V1),[[fe,l.country,void 0,{trim:!0}]]),a("p",H1,c(r(s)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),a("div",B1,[a("label",K1,c(r(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),te(a("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M[2]||(M[2]=C=>l.region=C),placeholder:r(s)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,j1),[[fe,l.region,void 0,{trim:!0}]]),a("p",J1,c(r(s)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),a("div",W1,[a("label",q1,c(r(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),a("div",z1,[te(a("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":M[3]||(M[3]=C=>l.rate=C),required:""},null,512),[[fe,l.rate,void 0,{number:!0}]]),M[13]||(M[13]=a("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),a("div",Q1,[a("label",Z1,c(r(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),te(a("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":M[4]||(M[4]=C=>l.inclusive=C)},null,512),[[st,l.inclusive]]),a("p",eM,c(r(s)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),a("div",tM,[a("label",nM,c(r(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),te(a("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":M[5]||(M[5]=C=>l.priority=C)},null,512),[[fe,l.priority,void 0,{number:!0}]]),a("p",sM,c(r(s)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),a("footer",aM,[a("button",{class:"nxp-ec-btn",type:"button",onClick:m,disabled:e.state.saving},c(r(s)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,oM),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,iM)]),l.id?(A(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:M[6]||(M[6]=C=>g(l)),disabled:e.state.saving},[M[14]||(M[14]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,rM)):se("",!0)],32)])])],32)):se("",!0)]))]))}},[["__scopeId","data-v-2ed24c88"]]),cM={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},dM={class:"nxp-ec-admin-panel__header"},uM={class:"nxp-ec-admin-panel__title"},pM={class:"nxp-ec-admin-panel__lead"},_M={class:"nxp-ec-admin-panel__actions"},fM=["disabled","title","aria-label"],mM={class:"nxp-ec-sr-only"},hM={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},gM={key:1,class:"nxp-ec-admin-panel__loading"},EM={key:2,class:"nxp-ec-admin-panel__body"},CM={class:"nxp-ec-admin-panel__table"},AM={class:"nxp-ec-admin-table"},SM={scope:"col"},bM={scope:"col"},yM={scope:"col"},TM={scope:"col"},RM={scope:"col"},OM={scope:"col"},xM={key:0},vM={colspan:"7"},NM={scope:"row",class:"nxp-ec-admin-table__primary"},PM=["data-label"],MM=["data-label"],IM=["data-label"],kM=["data-label"],$M=["data-label"],wM={class:"nxp-ec-admin-table__actions"},DM=["onClick","title","aria-label"],LM={class:"nxp-ec-sr-only"},YM=["onClick","title","aria-label"],UM={class:"nxp-ec-sr-only"},XM={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},FM={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},GM={class:"nxp-ec-admin-panel__sidebar-header"},VM={id:"shipping-modal-title"},HM=["title","aria-label"],BM={class:"nxp-ec-sr-only"},KM={class:"nxp-ec-form-field"},jM={class:"nxp-ec-form-label",for:"shipping-name"},JM=["placeholder"],WM={class:"nxp-ec-form-field"},qM={class:"nxp-ec-form-label",for:"shipping-type"},zM={value:"flat"},QM={value:"free_over"},ZM={class:"nxp-ec-form-help"},eI={class:"nxp-ec-form-field"},tI={class:"nxp-ec-form-label",for:"shipping-price"},nI={class:"nxp-ec-input-group"},sI={class:"nxp-ec-input-group__prefix"},aI={key:0,class:"nxp-ec-form-field"},oI={class:"nxp-ec-form-label",for:"shipping-threshold"},iI={class:"nxp-ec-input-group"},rI={class:"nxp-ec-input-group__prefix"},lI={class:"nxp-ec-form-help"},cI={class:"nxp-ec-form-field"},dI={class:"nxp-ec-form-label",for:"shipping-regions"},uI=["placeholder"],pI={class:"nxp-ec-form-help"},_I={class:"nxp-ec-form-field nxp-ec-form-field--inline"},fI={class:"nxp-ec-form-label",for:"shipping-active"},mI={class:"nxp-ec-form-help"},hI={class:"nxp-ec-modal__actions"},gI=["disabled"],EI=["disabled"],CI=["disabled"],AI=at({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=_e(()=>{const E=n.baseCurrency;return typeof E=="string"&&E.trim()!==""?E.trim().toUpperCase():"USD"}),l=ke(!1),d=Ue({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),p=()=>i("refresh"),_=()=>{R(),l.value=!0},m=E=>{var f,O,I;Object.assign(d,{id:E.id,name:E.name,type:E.type,price:(O=E.price)!=null?O:((f=E.price_cents)!=null?f:0)/100,threshold:E.threshold!==null&&E.threshold!==void 0?E.threshold:((I=E.threshold_cents)!=null?I:0)/100,regions:E.regions&&E.regions.length?E.regions.join(", "):"",active:E.active}),l.value=!0},u=()=>{l.value=!1,R()},R=()=>{Object.assign(d,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},g=()=>{const E={id:d.id||void 0,name:d.name,type:d.type,price:d.price,threshold:d.type==="free_over"?d.threshold:0,regions:d.regions,active:d.active};i("save",E)},w=E=>{const f=s("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(f)&&(i("delete",[E.id]),d.id===E.id&&u())};He(()=>n.state.saving,(E,f)=>{f&&!E&&!n.state.error&&u()});const M=(E,f)=>{const O=(Number(E)||0)/100,I=(f||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:I}).format(O)}catch(Y){return`${I} ${O.toFixed(2)}`}},C=E=>E==="free_over"?s("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):s("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(E,f)=>(A(),b("section",cM,[a("header",dM,[a("div",null,[a("h2",uM,c(r(s)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),a("p",pM,c(r(s)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),a("div",_M,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":r(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[f[7]||(f[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",mM,c(r(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,fM),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_},[f[8]||(f[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(A(),b("div",hM,c(e.state.error),1)):se("",!0),e.state.loading?(A(),b("div",gM,c(r(s)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):se("",!0),e.state.loading?se("",!0):(A(),b("div",EM,[a("div",CM,[a("table",AM,[a("thead",null,[a("tr",null,[a("th",SM,c(r(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),a("th",bM,c(r(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),a("th",yM,c(r(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),a("th",TM,c(r(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),a("th",RM,c(r(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),a("th",OM,c(r(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),f[9]||(f[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?se("",!0):(A(),b("tr",xM,[a("td",vM,c(r(s)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(A(!0),b(be,null,xe(e.state.items,O=>(A(),b("tr",{key:O.id,class:ve({"is-active":d.id===O.id})},[a("th",NM,c(O.name),1),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},c(C(O.type)),9,PM),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},c(M(O.price_cents,o.value)),9,MM),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},c(O.type==="free_over"?M(O.threshold_cents,o.value):""),9,IM),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},c(O.regions&&O.regions.length?O.regions.join(", "):r(s)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,kM),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[a("span",{class:ve(["nxp-ec-badge",{"is-active":O.active}])},[a("i",{class:ve(O.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ge(" "+c(O.active?r(s)("JYES","Yes"):r(s)("JNO","No")),1)],2)],8,$M),a("td",wM,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:I=>m(O),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[f[10]||(f[10]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",LM,c(r(s)("JEDIT","Edit")),1)],8,DM),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:I=>w(O),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[f[11]||(f[11]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",UM,c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,YM)])],2))),128))])])]),l.value?(A(),b("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"shipping-modal-title",onKeydown:mt(u,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:u}),a("div",XM,[a("aside",FM,[a("header",GM,[a("h3",VM,c(d.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:u,title:r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[f[12]||(f[12]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",BM,c(r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,HM)]),a("form",{class:"nxp-ec-form",onSubmit:ft(g,["prevent"]),autocomplete:"off"},[a("div",KM,[a("label",jM,c(r(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),te(a("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[0]||(f[0]=O=>d.name=O),required:"",placeholder:r(s)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,JM),[[fe,d.name,void 0,{trim:!0}]])]),a("div",WM,[a("label",qM,c(r(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),te(a("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":f[1]||(f[1]=O=>d.type=O)},[a("option",zM,c(r(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),a("option",QM,c(r(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[_t,d.type]]),a("p",ZM,c(d.type==="free_over"?r(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):r(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),a("div",eI,[a("label",tI,c(r(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),a("div",nI,[a("span",sI,c(o.value),1),te(a("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":f[2]||(f[2]=O=>d.price=O),required:""},null,512),[[fe,d.price,void 0,{number:!0}]])])]),d.type==="free_over"?(A(),b("div",aI,[a("label",oI,c(r(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),a("div",iI,[a("span",rI,c(o.value),1),te(a("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":f[3]||(f[3]=O=>d.threshold=O),required:""},null,512),[[fe,d.threshold,void 0,{number:!0}]])]),a("p",lI,c(r(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):se("",!0),a("div",cI,[a("label",dI,c(r(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),te(a("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[4]||(f[4]=O=>d.regions=O),placeholder:r(s)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,uI),[[fe,d.regions,void 0,{trim:!0}]]),a("p",pI,c(r(s)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),a("div",_I,[a("label",fI,c(r(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),te(a("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":f[5]||(f[5]=O=>d.active=O)},null,512),[[st,d.active]]),a("p",mI,c(r(s)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),a("footer",hI,[a("button",{class:"nxp-ec-btn",type:"button",onClick:u,disabled:e.state.saving},c(r(s)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,gI),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,EI)]),d.id?(A(),b("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:f[6]||(f[6]=O=>w(d)),disabled:e.state.saving},[f[13]||(f[13]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,CI)):se("",!0)],32)])])],32)):se("",!0)]))]))}},[["__scopeId","data-v-e9835937"]]),SI={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},bI={class:"nxp-ec-admin-panel__header"},yI={class:"nxp-ec-admin-panel__title"},TI={class:"nxp-ec-admin-panel__lead"},RI={class:"nxp-ec-admin-panel__actions"},OI=["placeholder","aria-label"],xI=["value"],vI={value:""},NI=["value"],PI=["disabled","title","aria-label"],MI={class:"nxp-ec-sr-only"},II={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kI={key:1,class:"nxp-ec-admin-panel__body"},$I={key:2,class:"nxp-ec-admin-panel__body"},wI={class:"nxp-ec-admin-panel__table"},DI={class:"nxp-ec-admin-table"},LI={scope:"col"},YI={scope:"col"},UI={scope:"col"},XI={scope:"col"},FI={scope:"col"},GI={key:0},VI={colspan:"5"},HI=["data-label"],BI=["data-label"],KI={class:"nxp-ec-log-entity"},jI={class:"nxp-ec-log-entity-id"},JI=["data-label"],WI=["data-label"],qI=["data-label"],zI={class:"nxp-ec-log-context"},QI={key:0,class:"nxp-ec-admin-pagination"},ZI=["disabled"],ek={class:"nxp-ec-admin-pagination__status"},tk=["disabled"],nk=["title"],sk=at({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=n.state,l=_e(()=>{const C=new Set;return Array.isArray(o.items)&&o.items.forEach(E=>{E!=null&&E.entity_type&&C.add(E.entity_type)}),o.entity&&C.add(o.entity),Array.from(C).sort()}),d=()=>i("refresh"),p=()=>i("search"),_=C=>i("filter",C),m=C=>i("page",C),u=C=>{if(!C)return"";try{const E=new Date(C.replace(" ","T"));if(!Number.isNaN(E.getTime()))return E.toLocaleString()}catch(E){}return C},R=C=>{if(!C)return s("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(C){case"order":return s("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return s("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return s("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return s("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return C.charAt(0).toUpperCase()+C.slice(1)}},g=C=>{if(!(C!=null&&C.user))return s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const E=C.user.name||"",f=C.user.username||"";return E&&f?`${E} (${f})`:E||f||s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},w=C=>{if(!C||Array.isArray(C)&&!C.length||typeof C=="object"&&!Object.keys(C).length)return"";try{return JSON.stringify(C,null,2)}catch(E){return String(C)}},M=C=>{if(!C)return"";try{const E=new Date(C),O=new Date-E,I=Math.floor(O/1e3),Y=Math.floor(I/60),U=Math.floor(Y/60);return I<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Y<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Y]):U<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[U]):E.toLocaleString()}catch(E){return C}};return(C,E)=>(A(),b("section",SI,[a("header",bI,[a("div",null,[a("h2",yI,c(r(s)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),a("p",TI,c(r(s)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),a("div",RI,[te(a("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":E[0]||(E[0]=f=>r(o).search=f),placeholder:r(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:mt(p,["enter"])},null,40,OI),[[fe,r(o).search]]),a("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(o).entity,onChange:E[1]||(E[1]=f=>_(f.target.value)),"aria-label":"Entity filter"},[a("option",vI,c(r(s)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(A(!0),b(be,null,xe(l.value,f=>(A(),b("option",{key:f,value:f},c(R(f)),9,NI))),128))],40,xI),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:r(o).loading,title:r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[E[4]||(E[4]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",MI,c(r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,PI)])]),r(o).error?(A(),b("div",II,c(r(o).error),1)):se("",!0),r(o).loading?(A(),b("div",kI,[je(Kn,{type:"table",rows:5,columns:5})])):se("",!0),r(o).loading?se("",!0):(A(),b("div",$I,[a("div",wI,[a("table",DI,[a("thead",null,[a("tr",null,[a("th",LI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),a("th",YI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),a("th",UI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),a("th",XI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),a("th",FI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),a("tbody",null,[r(o).items.length?se("",!0):(A(),b("tr",GI,[a("td",VI,c(r(s)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(A(!0),b(be,null,xe(r(o).items,f=>(A(),b("tr",{key:f.id},[a("td",{class:"nxp-ec-admin-table__primary","data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},c(u(f.created)),9,HI),a("td",{"data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[a("span",KI,c(R(f.entity_type)),1),a("span",jI,"#"+c(f.entity_id),1)],8,BI),a("td",{"data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},c(f.action),9,JI),a("td",{"data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},c(g(f)),9,WI),a("td",{"data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[a("pre",zI,c(w(f.context)),1)],8,qI)]))),128))])]),r(o).pagination.pages>1?(A(),b("div",QI,[a("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current<=1,onClick:E[2]||(E[2]=f=>m(r(o).pagination.current-1))},"  ",8,ZI),a("span",ek,c(r(o).pagination.current)+" / "+c(r(o).pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current>=r(o).pagination.pages,onClick:E[3]||(E[3]=f=>m(r(o).pagination.current+1))},"  ",8,tk)])):se("",!0)]),r(o).lastUpdated?(A(),b("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(o).lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(M(r(o).lastUpdated)),9,nk)):se("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),ak={class:"nxp-ec-admin-panel nxp-ec-admin-panel--import-export"},ok={class:"nxp-ec-admin-panel__header"},ik={class:"nxp-ec-admin-panel__title"},rk={class:"nxp-ec-admin-panel__lead"},lk={class:"nxp-ec-admin-panel__actions"},ck=["disabled","title","aria-label"],dk={class:"nxp-ec-sr-only"},uk={class:"nxp-ec-tabs",role:"tablist"},pk=["aria-selected"],_k=["aria-selected"],fk={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mk={key:1,class:"nxp-ec-admin-panel__loading"},hk={key:2,class:"nxp-ec-admin-panel__body",role:"tabpanel"},gk={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--info nxp-ec-import-backup-notice"},Ek={key:1,class:"nxp-ec-import-upload"},Ck={class:"nxp-ec-import-upload__title"},Ak={class:"nxp-ec-import-upload__subtitle"},Sk={class:"nxp-ec-btn nxp-ec-btn--primary"},bk=["disabled"],yk={class:"nxp-ec-import-upload__help"},Tk={key:2,class:"nxp-ec-import-configure"},Rk={class:"nxp-ec-import-file-info"},Ok={class:"nxp-ec-import-file-info__details"},xk=["title"],vk={class:"nxp-ec-form-field"},Nk={class:"nxp-ec-form-label",for:"import-platform"},Pk={value:""},Mk=["value"],Ik={key:0,class:"nxp-ec-form-help"},kk={key:0,class:"nxp-ec-import-preview"},$k={class:"nxp-ec-import-preview__table-wrapper"},wk={class:"nxp-ec-admin-table nxp-ec-admin-table--sm"},Dk={class:"nxp-ec-import-actions"},Lk=["disabled"],Yk={key:3,class:"nxp-ec-import-progress"},Uk={class:"nxp-ec-progress-card"},Xk={class:"nxp-ec-progress-card__header"},Fk={class:"nxp-ec-progress-bar"},Gk={class:"nxp-ec-progress-card__stats"},Vk={class:"nxp-ec-progress-stat"},Hk={class:"nxp-ec-progress-stat__value"},Bk={class:"nxp-ec-progress-stat__label"},Kk={class:"nxp-ec-progress-stat nxp-ec-progress-stat--success"},jk={class:"nxp-ec-progress-stat__value"},Jk={class:"nxp-ec-progress-stat__label"},Wk={key:0,class:"nxp-ec-progress-stat nxp-ec-progress-stat--info"},qk={class:"nxp-ec-progress-stat__value"},zk={class:"nxp-ec-progress-stat__label"},Qk={key:1,class:"nxp-ec-progress-stat nxp-ec-progress-stat--warning"},Zk={class:"nxp-ec-progress-stat__value"},e$={class:"nxp-ec-progress-stat__label"},t$={key:2,class:"nxp-ec-progress-stat nxp-ec-progress-stat--error"},n$={class:"nxp-ec-progress-stat__value"},s$={class:"nxp-ec-progress-stat__label"},a$={key:0,class:"nxp-ec-progress-errors"},o$={class:"nxp-ec-progress-card__actions"},i$={key:3,class:"nxp-ec-admin-panel__body",role:"tabpanel"},r$={key:0,class:"nxp-ec-export-configure"},l$={class:"nxp-ec-form-field"},c$={class:"nxp-ec-form-label",for:"export-platform"},d$=["value"],u$={class:"nxp-ec-form-help"},p$={class:"nxp-ec-export-actions"},_$=["disabled"],f$={key:1,class:"nxp-ec-export-progress"},m$={class:"nxp-ec-progress-card"},h$={class:"nxp-ec-progress-card__header"},g$={class:"nxp-ec-progress-bar"},E$={class:"nxp-ec-progress-card__stats"},C$={class:"nxp-ec-progress-stat"},A$={class:"nxp-ec-progress-stat__value"},S$={class:"nxp-ec-progress-stat__label"},b$={class:"nxp-ec-progress-card__actions"},y$=at({__name:"ImportExportPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","upload-file","start-import","cancel-import","reset-import","start-export","cancel-export","download-export","reset-export"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=ke("import"),l=()=>i("refresh"),d=U=>{var v;const T=(v=U.target.files)==null?void 0:v[0];T&&i("upload-file",T)},p=U=>{var v,G;const T=(G=(v=U.dataTransfer)==null?void 0:v.files)==null?void 0:G[0];T&&i("upload-file",T)},_=()=>i("start-import"),m=()=>i("cancel-import"),u=()=>i("reset-import"),R=()=>i("start-export"),g=()=>i("cancel-export"),w=()=>i("download-export"),M=()=>i("reset-export"),C=U=>{if(!U)return"0 B";const T=["B","KB","MB","GB"];let v=0;for(;U>=1024&&v<T.length-1;)U/=1024,v++;return`${U.toFixed(v>0?1:0)} ${T[v]}`},E=(U,T)=>U?U.length<=T?U:U.substring(0,T)+"...":"",f=U=>["pending","processing","running"].includes(U),O=U=>{switch(U){case"completed":return"fa-solid fa-check-circle nxp-ec-text-success";case"failed":return"fa-solid fa-times-circle nxp-ec-text-danger";case"cancelled":return"fa-solid fa-ban nxp-ec-text-warning";default:return"fa-solid fa-spinner fa-spin"}},I=U=>{switch(U){case"completed":return s("COM_NXPEASYCART_STATUS_COMPLETED","Completed",[],"statusCompleted");case"failed":return s("COM_NXPEASYCART_STATUS_FAILED","Failed",[],"statusFailed");case"cancelled":return s("COM_NXPEASYCART_STATUS_CANCELLED","Cancelled",[],"statusCancelled");case"processing":case"running":return s("COM_NXPEASYCART_STATUS_PROCESSING","Processing...",[],"statusProcessing");default:return s("COM_NXPEASYCART_STATUS_PENDING","Pending...",[],"statusPending")}},Y=U=>{switch(U){case"completed":return"nxp-ec-progress-bar__fill--success";case"failed":return"nxp-ec-progress-bar__fill--danger";case"cancelled":return"nxp-ec-progress-bar__fill--warning";default:return""}};return(U,T)=>{var v,G;return A(),b("section",ak,[a("header",ok,[a("div",null,[a("h2",ik,c(r(s)("COM_NXPEASYCART_IMPORT_EXPORT_TITLE","Import / Export",[],"importExportTitle")),1),a("p",rk,c(r(s)("COM_NXPEASYCART_IMPORT_EXPORT_LEAD","Migrate products from other platforms or backup your catalogue.",[],"importExportLead")),1)]),a("div",lk,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:l,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh"),"aria-label":r(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")},[T[6]||(T[6]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",dk,c(r(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")),1)],8,ck)])]),a("nav",uk,[a("button",{role:"tab","aria-selected":o.value==="import",class:ve(["nxp-ec-tabs__tab",{"is-active":o.value==="import"}]),onClick:T[0]||(T[0]=S=>o.value="import")},[T[7]||(T[7]=a("i",{class:"fa-solid fa-file-import","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_IMPORT","Import",[],"import")),1)],10,pk),a("button",{role:"tab","aria-selected":o.value==="export",class:ve(["nxp-ec-tabs__tab",{"is-active":o.value==="export"}]),onClick:T[1]||(T[1]=S=>o.value="export")},[T[8]||(T[8]=a("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_EXPORT","Export",[],"export")),1)],10,_k)]),e.state.error?(A(),b("div",fk,c(e.state.error),1)):se("",!0),e.state.loading?(A(),b("div",mk,c(r(s)("COM_NXPEASYCART_LOADING","Loading...",[],"loading")),1)):se("",!0),!e.state.loading&&o.value==="import"?(A(),b("div",hk,[!e.state.importFileId&&!e.state.importJobId?(A(),b("div",gk,[T[10]||(T[10]=a("i",{class:"fa-solid fa-circle-info","aria-hidden":"true"},null,-1)),a("div",null,[a("strong",null,c(r(s)("COM_NXPEASYCART_IMPORT_BACKUP_TITLE","Backup recommended",[],"importBackupTitle")),1),a("p",null,c(r(s)("COM_NXPEASYCART_IMPORT_BACKUP_TEXT","Before importing, we recommend exporting your current catalogue as a backup. Switch to the Export tab to create a backup first.",[],"importBackupText")),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--sm",type:"button",onClick:T[2]||(T[2]=S=>o.value="export")},[T[9]||(T[9]=a("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_IMPORT_GO_TO_EXPORT","Go to Export",[],"importGoToExport")),1)])])])):se("",!0),e.state.importFileId?e.state.importFileId&&!e.state.importJobId?(A(),b("div",Tk,[a("div",Rk,[T[14]||(T[14]=a("div",{class:"nxp-ec-import-file-info__icon"},[a("i",{class:"fa-solid fa-file-csv","aria-hidden":"true"})],-1)),a("div",Ok,[a("strong",null,c(e.state.importFilename),1),a("span",null,c(C(e.state.importFileSize)),1),a("span",null,c(e.state.importRowCount)+" "+c(r(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:u,title:r(s)("COM_NXPEASYCART_IMPORT_CHANGE_FILE","Change file",[],"importChangeFile")},[...T[13]||(T[13]=[a("i",{class:"fa-solid fa-xmark","aria-hidden":"true"},null,-1)])],8,xk)]),a("div",vk,[a("label",Nk,c(r(s)("COM_NXPEASYCART_IMPORT_PLATFORM","Source platform",[],"importPlatform")),1),te(a("select",{id:"import-platform",class:"nxp-ec-form-select","onUpdate:modelValue":T[4]||(T[4]=S=>e.state.importSelectedPlatform=S)},[a("option",Pk,c(r(s)("COM_NXPEASYCART_IMPORT_SELECT_PLATFORM","Select platform...",[],"importSelectPlatform")),1),(A(!0),b(be,null,xe(e.state.platforms,S=>(A(),b("option",{key:S.id,value:S.id},c(S.name)+" "+c(S.id===e.state.importDetectedPlatform?"(detected)":""),9,Mk))),128))],512),[[_t,e.state.importSelectedPlatform]]),e.state.importDetectedPlatform?(A(),b("p",Ik,[T[15]||(T[15]=a("i",{class:"fa-solid fa-check-circle","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_IMPORT_DETECTED","Auto-detected from CSV headers",[],"importDetected")),1)])):se("",!0)]),e.state.importPreview.length?(A(),b("div",kk,[a("h4",null,c(r(s)("COM_NXPEASYCART_IMPORT_PREVIEW","Preview",[],"importPreview")),1),a("div",$k,[a("table",wk,[a("thead",null,[a("tr",null,[(A(!0),b(be,null,xe(e.state.importHeaders,S=>(A(),b("th",{key:S,scope:"col"},c(S),1))),128))])]),a("tbody",null,[(A(!0),b(be,null,xe(e.state.importPreview.slice(0,3),(S,J)=>(A(),b("tr",{key:J},[(A(!0),b(be,null,xe(e.state.importHeaders,H=>(A(),b("td",{key:H},c(E(S[H],30)),1))),128))]))),128))])])])])):se("",!0),a("div",Dk,[a("button",{class:"nxp-ec-btn",type:"button",onClick:u},c(r(s)("COM_NXPEASYCART_CANCEL","Cancel",[],"cancel")),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_,disabled:!e.state.importSelectedPlatform||e.state.importStarting},[T[16]||(T[16]=a("i",{class:"fa-solid fa-play","aria-hidden":"true"},null,-1)),ge(" "+c(e.state.importStarting?r(s)("COM_NXPEASYCART_IMPORT_STARTING","Starting...",[],"importStarting"):r(s)("COM_NXPEASYCART_IMPORT_START","Start import",[],"importStart")),1)],8,Lk)])])):e.state.importJobId&&e.state.importProgress?(A(),b("div",Yk,[a("div",Uk,[a("div",Xk,[a("h4",null,[a("i",{class:ve(O(e.state.importProgress.status)),"aria-hidden":"true"},null,2),ge(" "+c(I(e.state.importProgress.status)),1)])]),a("div",Fk,[a("div",{class:ve(["nxp-ec-progress-bar__fill",Y(e.state.importProgress.status)]),style:Rt({width:e.state.importProgress.percent+"%"})},null,6)]),a("div",Gk,[a("div",Vk,[a("span",Hk,c(e.state.importProgress.processed_rows),1),a("span",Bk," / "+c(e.state.importProgress.total_rows)+" "+c(r(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),a("div",Kk,[a("span",jk,c(e.state.importProgress.imported_products),1),a("span",Jk,c(r(s)("COM_NXPEASYCART_IMPORT_PRODUCTS","products",[],"importProducts")),1)]),e.state.importProgress.imported_variants?(A(),b("div",Wk,[a("span",qk,c(e.state.importProgress.imported_variants),1),a("span",zk,c(r(s)("COM_NXPEASYCART_IMPORT_VARIANTS","variants",[],"importVariants")),1)])):se("",!0),e.state.importProgress.skipped_rows?(A(),b("div",Qk,[a("span",Zk,c(e.state.importProgress.skipped_rows),1),a("span",e$,c(r(s)("COM_NXPEASYCART_IMPORT_SKIPPED","skipped",[],"importSkipped")),1)])):se("",!0),(v=e.state.importProgress.errors)!=null&&v.length?(A(),b("div",t$,[a("span",n$,c(e.state.importProgress.errors.length),1),a("span",s$,c(r(s)("COM_NXPEASYCART_IMPORT_ERRORS","errors",[],"importErrors")),1)])):se("",!0)]),(G=e.state.importProgress.errors)!=null&&G.length?(A(),b("div",a$,[a("details",null,[a("summary",null,c(r(s)("COM_NXPEASYCART_IMPORT_VIEW_ERRORS","View errors",[],"importViewErrors")),1),a("ul",null,[(A(!0),b(be,null,xe(e.state.importProgress.errors.slice(0,10),(S,J)=>(A(),b("li",{key:J},c(S),1))),128))])])])):se("",!0),a("div",o$,[f(e.state.importProgress.status)?(A(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:m},[T[17]||(T[17]=a("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_IMPORT_CANCEL","Cancel import",[],"importCancel")),1)])):(A(),b("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:u},[T[18]||(T[18]=a("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_IMPORT_NEW","New import",[],"importNew")),1)]))])])])):se("",!0):(A(),b("div",Ek,[a("div",{class:"nxp-ec-import-upload__dropzone",onDragover:T[3]||(T[3]=ft(()=>{},["prevent"])),onDrop:ft(p,["prevent"])},[T[12]||(T[12]=a("i",{class:"fa-solid fa-cloud-arrow-up nxp-ec-import-upload__icon","aria-hidden":"true"},null,-1)),a("p",Ck,c(r(s)("COM_NXPEASYCART_IMPORT_DROP_FILE","Drop CSV file here",[],"importDropFile")),1),a("p",Ak,c(r(s)("COM_NXPEASYCART_IMPORT_OR","or",[],"importOr")),1),a("label",Sk,[T[11]||(T[11]=a("i",{class:"fa-solid fa-folder-open","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_IMPORT_BROWSE","Browse files",[],"importBrowse"))+" ",1),a("input",{type:"file",accept:".csv,text/csv,application/csv",class:"nxp-ec-sr-only",onChange:d,disabled:e.state.importUploading},null,40,bk)]),a("p",yk,c(r(s)("COM_NXPEASYCART_IMPORT_FILE_HELP","Supported: CSV files up to 10MB",[],"importFileHelp")),1)],32)]))])):se("",!0),!e.state.loading&&o.value==="export"?(A(),b("div",i$,[e.state.exportJobId?e.state.exportProgress?(A(),b("div",f$,[a("div",m$,[a("div",h$,[a("h4",null,[a("i",{class:ve(O(e.state.exportProgress.status)),"aria-hidden":"true"},null,2),ge(" "+c(I(e.state.exportProgress.status)),1)])]),a("div",g$,[a("div",{class:ve(["nxp-ec-progress-bar__fill",Y(e.state.exportProgress.status)]),style:Rt({width:e.state.exportProgress.percent+"%"})},null,6)]),a("div",E$,[a("div",C$,[a("span",A$,c(e.state.exportProgress.processed_rows),1),a("span",S$," / "+c(e.state.exportProgress.total_rows)+" "+c(r(s)("COM_NXPEASYCART_EXPORT_PRODUCTS","products",[],"exportProducts")),1)])]),a("div",b$,[f(e.state.exportProgress.status)?(A(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:g},[T[20]||(T[20]=a("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_EXPORT_CANCEL","Cancel export",[],"exportCancel")),1)])):(A(),b(be,{key:1},[e.state.exportProgress.status==="completed"?(A(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:w},[T[21]||(T[21]=a("i",{class:"fa-solid fa-download","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_EXPORT_DOWNLOAD","Download CSV",[],"exportDownload")),1)])):se("",!0),a("button",{class:"nxp-ec-btn",type:"button",onClick:M},[T[22]||(T[22]=a("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),ge(" "+c(r(s)("COM_NXPEASYCART_EXPORT_NEW","New export",[],"exportNew")),1)])],64))])])])):se("",!0):(A(),b("div",r$,[a("div",l$,[a("label",c$,c(r(s)("COM_NXPEASYCART_EXPORT_FORMAT","Export format",[],"exportFormat")),1),te(a("select",{id:"export-platform",class:"nxp-ec-form-select","onUpdate:modelValue":T[5]||(T[5]=S=>e.state.exportPlatform=S)},[(A(!0),b(be,null,xe(e.state.platforms,S=>(A(),b("option",{key:S.id,value:S.id},c(S.name),9,d$))),128))],512),[[_t,e.state.exportPlatform]]),a("p",u$,c(r(s)("COM_NXPEASYCART_EXPORT_FORMAT_HELP","Choose Native format for backups or another platform format for migration.",[],"exportFormatHelp")),1)]),a("div",p$,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:R,disabled:e.state.exportStarting},[T[19]||(T[19]=a("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),ge(" "+c(e.state.exportStarting?r(s)("COM_NXPEASYCART_EXPORT_STARTING","Starting...",[],"exportStarting"):r(s)("COM_NXPEASYCART_EXPORT_START","Start export",[],"exportStart")),1)],8,_$)])]))])):se("",!0)])}}},[["__scopeId","data-v-5d4a94de"]]),T$={key:0,class:"nxp-ec-onboarding"},R$={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},O$={class:"nxp-ec-onboarding__header"},x$={class:"nxp-ec-onboarding__title"},v$={class:"nxp-ec-onboarding__lead"},N$={class:"nxp-ec-onboarding__progress"},P$={class:"nxp-ec-onboarding__progress-bar"},M$={class:"nxp-ec-onboarding__progress-label"},I$={class:"nxp-ec-onboarding__steps"},k$={class:"nxp-ec-onboarding__step-main"},$$={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},w$={key:0,class:"fa-solid fa-circle-check"},D$={key:1,class:"fa-regular fa-circle"},L$={class:"nxp-ec-onboarding__step-actions"},Y$=["onClick"],U$=at({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,n=t.translate,i=_e(()=>t.steps.length?t.steps.filter(d=>d.completed).length/t.steps.length*100:0),s=_e(()=>`${i.value}%`),o=_e(()=>{const l=t.steps.filter(d=>d.completed).length;return n("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,d)=>e.visible?(A(),b("div",T$,[a("div",{class:"nxp-ec-onboarding__backdrop",onClick:d[0]||(d[0]=p=>l.$emit("close"))}),a("section",R$,[a("header",O$,[a("div",null,[a("h2",x$,c(r(n)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),a("p",v$,c(r(n)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),a("button",{type:"button",class:"nxp-ec-link-button",onClick:d[1]||(d[1]=p=>l.$emit("close"))},c(r(n)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),a("div",N$,[a("div",P$,[a("span",{style:Rt({width:s.value})},null,4)]),a("span",M$,c(o.value),1)]),a("ol",I$,[(A(!0),b(be,null,xe(e.steps,p=>(A(),b("li",{key:p.id,class:ve({"is-complete":p.completed})},[a("div",k$,[a("span",$$,[p.completed?(A(),b("span",w$)):(A(),b("span",D$))]),a("div",null,[a("h3",null,c(r(n)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),a("p",null,c(r(n)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),a("div",L$,[p.link?(A(),b("button",{key:0,type:"button",class:ve(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:_=>l.$emit("navigate",p)},c(p.completed?r(n)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(n)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,Y$)):se("",!0)])],2))),128))])])])):se("",!0)}},[["__scopeId","data-v-c2a94811"]]),X$=(e,t=[])=>{var s;if(!t.length)return e;const n=(s=window==null?void 0:window.Joomla)==null?void 0:s.sprintf;if(typeof n=="function")try{return n.call(window.Joomla,e,...t)}catch(o){}let i=String(e);return t.forEach(o=>{const l=o!=null?o:"";i=i.replace(/%[sd]/,String(l))}),i},F$=(e,t="",n=[])=>{var o;const i=(o=window==null?void 0:window.Joomla)==null?void 0:o.Text;let s=t||e;if(i&&typeof i._=="function"){const l=i._(e);l&&l!==e&&(s=l)}return X$(s,n)};function G$(e={}){const t=e||{},n=(s,o)=>{if(!s)return o;const l=t[s];return l!=null&&l!==""?l:o};return{__:(s,o="",l=[],d="")=>{const p=n(d,o);return F$(s,p,l)}}}const _i=typeof window!="undefined"&&window.performance;function fi(e){if(_i)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function V$(e,t,n){if(!_i)return null;try{performance.measure(e,t,n);const i=performance.getEntriesByName(e,"measure")[0];if(i)return i.duration}catch(i){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,i)}return null}const bn=Ue({}),mi=3e5;function hi(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function wt(e,t=mi){const n=bn[e];return n?hi(n,t)?n.data:(delete bn[e],null):null}function xt(e,t){bn[e]={data:t,timestamp:Date.now()}}function we(e){delete bn[e]}function gi(){const e={};return Object.keys(bn).forEach(t=>{const n=bn[t];n&&(e[t]={age:Date.now()-n.timestamp,timestamp:n.timestamp,valid:hi(n,mi)})}),e}function Dt(e){const t=ke({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return fi(l),l},endFetch:l=>{const d=`${e}-fetch-end`;fi(d);const p=V$(`${e}-fetch`,l,d);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const Jn=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,n);return i.searchParams.set("task",`api.products.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function H$({endpoints:e,token:t,autoload:n=!0,cacheTTL:i=3e5}){var Z,Ce,$,x,h,y;const s=At({token:t}),o=Dt("products"),l=(Z=e==null?void 0:e.list)!=null?Z:"",d=(Ce=e==null?void 0:e.create)!=null?Ce:Jn(l,"store"),p=($=e==null?void 0:e.update)!=null?$:Jn(l,"update"),_=(x=e==null?void 0:e.delete)!=null?x:Jn(l,"delete"),m=(h=e==null?void 0:e.checkout)!=null?h:Jn(l,"checkout"),u=(y=e==null?void 0:e.checkin)!=null?y:Jn(l,"checkin"),R=typeof AbortController!="undefined",g=Ue({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",categoryId:null,sort:"",sortDir:"DESC",lastUpdated:null}),w=ke(null),M=()=>{const P=g.pagination.current||1,L=g.pagination.limit||20,F=g.search.trim(),B=g.categoryId||"",X=g.sort||"",ie=g.sortDir||"DESC";return`products:page=${P}:limit=${L}:search=${F}:cat=${B}:sort=${X}:dir=${ie}`},C=async(P=!1)=>{var ie;if(!l){g.error="Products endpoint unavailable.",g.items=[];return}const L=M(),F=P?null:wt(L,i);if(F){o.recordCacheHit(),g.items=F.items,F.pagination&&(g.pagination.total=Number(F.pagination.total)||0,g.pagination.limit=Number(F.pagination.limit)||20,g.pagination.pages=Number(F.pagination.pages)||0,g.pagination.current=Number(F.pagination.current)||1,g.pagination.start=Number(F.pagination.start)||0),g.lastUpdated=F.lastUpdated;return}o.recordCacheMiss(),g.loading=!0,g.error="",g.validationErrors=[],w.value&&R&&w.value.abort();const B=R?new AbortController:null;w.value=B;const X=o.startFetch();try{const de=Number(g.pagination.current)||1,he=Number(g.pagination.limit)||20,K={endpoint:l,signal:B?B.signal:void 0,limit:he,start:Math.max(0,(de-1)*he),search:g.search.trim(),categoryId:g.categoryId||null,sort:g.sort||"",sortDir:g.sortDir||"DESC"},{items:le,pagination:Ae}=await s.fetchProducts(K);g.items=le;const Ne=Number(Ae.total)||0,N=Number(Ae.limit)||he,k=Number(Ae.pages)||0,V=Number(Ae.current)||1,ae=Number(Ae.start)||0;g.pagination.total=Ne,g.pagination.limit=N,g.pagination.pages=k,g.pagination.current=V>0?V:1,g.pagination.start=ae,g.lastUpdated=new Date().toISOString(),xt(L,{items:le,pagination:g.pagination,lastUpdated:g.lastUpdated})}catch(de){if((de==null?void 0:de.name)==="AbortError")return;g.error=(ie=de==null?void 0:de.message)!=null?ie:"Unknown error"}finally{o.endFetch(X),R&&w.value===B&&(w.value=null),g.loading=!1}},E=()=>{g.pagination.current=1,we(M()),C(!0)},f=()=>{g.pagination.current=1,C()},O=P=>{g.categoryId=P||null,g.pagination.current=1,C()},I=(P,L=null)=>{g.sort===P&&L===null?g.sortDir=g.sortDir==="ASC"?"DESC":"ASC":(g.sort=P,g.sortDir=L||"DESC"),g.pagination.current=1,C()},Y=P=>{const L=Number(P),F=Number(g.pagination.pages)||0;Number.isNaN(L)||L<1||F>0&&L>F||(g.pagination.current=L,C())},U=P=>P?typeof P=="string"?P:typeof P=="object"&&P.message?String(P.message):String(P):"",T=(P,{setValidation:L=!1}={})=>{var F;if((P==null?void 0:P.code)===422&&L){const B=Array.isArray(P.details)?P.details:[P.details].filter(Boolean);g.validationErrors=B.map(U).filter(X=>X!=="");return}g.error=(F=P==null?void 0:P.message)!=null?F:"Unknown error"},v=async P=>{var L;if(!m||!P)return null;g.locking=!0,g.error="";try{const F=await s.checkoutProduct({endpoint:m,id:P});if(F){const B=g.items.findIndex(X=>X.id===F.id);B!==-1&&g.items.splice(B,1,F)}return F}catch(F){throw g.error=(L=F==null?void 0:F.message)!=null?L:"Unknown error",F}finally{g.locking=!1}},G=async(P,{force:L=!1}={})=>{var F;if(!u||!P)return null;try{const B=await s.checkinProduct({endpoint:u,id:P,force:L});if(B){const X=g.items.findIndex(ie=>ie.id===B.id);X!==-1&&g.items.splice(X,1,B)}return B}catch(B){return g.error=(F=B==null?void 0:B.message)!=null?F:"Unknown error",null}},S=async P=>G(P,{force:!0}),J=async P=>{if(!d)throw new Error("Create endpoint unavailable.");g.saving=!0,g.validationErrors=[];try{const L=await s.createProduct({endpoint:d,data:P});return L&&(g.items=[L,...g.items],g.pagination.total+=1,we(M())),L}catch(L){throw T(L,{setValidation:!0}),L}finally{g.saving=!1}},H=async(P,L)=>{if(!p)throw new Error("Update endpoint unavailable.");g.saving=!0,g.validationErrors=[];try{const F=await s.updateProduct({endpoint:p,id:P,data:L});if(F){const B=g.items.findIndex(X=>X.id===F.id);B!==-1&&g.items.splice(B,1,F),we(M())}return F}catch(F){throw T(F,{setValidation:!0}),F}finally{g.saving=!1}},ne=async P=>{if(!_)throw new Error("Delete endpoint unavailable.");g.deleting=!0,g.validationErrors=[];try{const L=await s.deleteProducts({endpoint:_,ids:P});return L.length&&(g.items=g.items.filter(F=>!L.includes(F.id)),g.pagination.total=Math.max(0,g.pagination.total-L.length),we(M())),L}catch(L){throw T(L),L}finally{g.deleting=!1}};return pt(()=>{n&&C()}),{state:g,loadProducts:C,refresh:E,search:f,filterByCategory:O,setSort:I,goToPage:Y,createProduct:J,updateProduct:H,deleteProducts:ne,checkoutProduct:v,checkinProduct:G,forceCheckinProduct:S,metrics:o.metrics}}const Ei=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,n);return i.searchParams.set("task",`api.categories.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function B$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var H,ne,Z,Ce,$,x,h,y,P,L,F,B,X,ie,de,he;const o=At({token:t}),l=Dt("categories"),d=(H=e==null?void 0:e.list)!=null?H:"",p=(ne=e==null?void 0:e.create)!=null?ne:d,_=(Z=e==null?void 0:e.update)!=null?Z:d,m=(Ce=e==null?void 0:e.delete)!=null?Ce:d,u=($=e==null?void 0:e.checkout)!=null?$:Ei(d,"checkout"),R=(x=e==null?void 0:e.checkin)!=null?x:Ei(d,"checkin"),g=Ue({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:Array.isArray(n.items)?n.items:[],pagination:{total:(L=(P=(h=n.pagination)==null?void 0:h.total)!=null?P:(y=n.items)==null?void 0:y.length)!=null?L:0,limit:(B=(F=n.pagination)==null?void 0:F.limit)!=null?B:20,pages:(ie=(X=n.pagination)==null?void 0:X.pages)!=null?ie:0,current:(he=(de=n.pagination)==null?void 0:de.current)!=null?he:1},search:"",lastUpdated:null}),w=typeof AbortController!="undefined",M=ke(null),C=()=>{const K=g.pagination.current||1,le=g.pagination.limit||20,Ae=g.search.trim();return`categories:page=${K}:limit=${le}:search=${Ae}`},E=async(K=!1)=>{var k;if(!d){g.error="Categories endpoint unavailable.",g.items=[];return}const le=C(),Ae=K?null:wt(le,s);if(Ae){l.recordCacheHit(),g.items=Ae.items,g.pagination={...g.pagination,...Ae.pagination},g.lastUpdated=Ae.lastUpdated;return}l.recordCacheMiss(),g.loading=!0,g.error="",g.validationErrors=[],M.value&&w&&M.value.abort();const Ne=w?new AbortController:null;M.value=Ne;const N=l.startFetch();try{const V=Math.max(0,(g.pagination.current-1)*g.pagination.limit),{items:ae,pagination:z}=await o.fetchCategories({endpoint:d,limit:g.pagination.limit,start:V,search:g.search.trim(),signal:Ne?Ne.signal:void 0});g.items=ae,g.pagination={...g.pagination,...z,current:z.current&&z.current>0?z.current:1},g.lastUpdated=new Date().toISOString(),xt(le,{items:ae,pagination:g.pagination,lastUpdated:g.lastUpdated})}catch(V){if((V==null?void 0:V.name)==="AbortError")return;g.error=(k=V==null?void 0:V.message)!=null?k:"Unknown error"}finally{l.endFetch(N),w&&M.value===Ne&&(M.value=null),g.loading=!1}},f=()=>{g.pagination.current=1,we(C()),E(!0)},O=()=>{g.pagination.current=1,E()},I=K=>{const le=Number(K);Number.isNaN(le)||le<1||le===g.pagination.current||(g.pagination.current=le,E(!0))},Y=(K,{validation:le=!1}={})=>{var Ae;if(le&&(K==null?void 0:K.code)===422){const Ne=K.details,N=Array.isArray(Ne)?Ne:[Ne].filter(Boolean);g.validationErrors=N.map(k=>k?typeof k=="string"?k:typeof k=="object"&&k.message?String(k.message):String(k):"").filter(Boolean);return}g.error=(Ae=K==null?void 0:K.message)!=null?Ae:"Unknown error"},U=async K=>{if(!u||!K)return null;g.locking=!0,g.error="";try{const le=await o.checkoutCategory({endpoint:u,id:K});return le&&(we(C()),await E(!0)),le}catch(le){throw Y(le),le}finally{g.locking=!1}},T=async(K,{force:le=!1}={})=>{if(!R||!K)return null;try{const Ae=await o.checkinCategory({endpoint:R,id:K,force:le});return Ae&&(we(C()),await E(!0)),Ae}catch(Ae){return Y(Ae),null}},v=async K=>T(K,{force:!0}),G=async K=>{if(!p||!_)throw new Error("Category endpoints unavailable.");g.saving=!0,g.error="",g.validationErrors=[];try{let le=null;return K.id?le=await o.updateCategory({endpoint:_,id:K.id,data:K}):le=await o.createCategory({endpoint:p,data:K}),le&&(we(C()),await E()),le}catch(le){throw Y(le,{validation:!0}),le}finally{g.saving=!1}},S=async K=>{if(!Array.isArray(K)||!K.length||!m)return 0;g.deleting=!0,g.error="";try{const le=await o.deleteCategories({endpoint:m,ids:K});return le&&(we(C()),await E()),le}catch(le){throw Y(le),le}finally{g.deleting=!1}},J=async()=>{if(!d)return[];try{const{items:K}=await o.fetchCategories({endpoint:d,limit:200,start:0,search:""});return K}catch(K){return[]}};return pt(()=>{i&&(!Array.isArray(g.items)||!g.items.length)&&E()}),{state:g,loadCategories:E,refresh:f,search:O,goToPage:I,saveCategory:G,deleteCategories:S,loadOptions:J,checkoutCategory:U,checkinCategory:T,forceCheckinCategory:v,metrics:l.metrics}}const St=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,n);return i.searchParams.set("task",`api.orders.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function K$({endpoints:e,token:t,states:n=[],preload:i={},autoload:s=!0,cacheTTL:o=3e5}){var W,Q,j,pe,re,ue,Ee,Te,Me,Ie,De,Be,Ke,Le,Lt,an,Ze,ot;const l=At({token:t}),d=Dt("orders"),p=(W=e==null?void 0:e.list)!=null?W:"",_=(Q=e==null?void 0:e.show)!=null?Q:St(p,"show"),m=(j=e==null?void 0:e.transition)!=null?j:St(p,"transition"),u=(pe=e==null?void 0:e.bulkTransition)!=null?pe:St(p,"bulkTransition"),R=(re=e==null?void 0:e.note)!=null?re:St(p,"note"),g=(ue=e==null?void 0:e.tracking)!=null?ue:St(p,"tracking"),w=(Ee=e==null?void 0:e.invoice)!=null?Ee:St(p,"invoice"),M=(Te=e==null?void 0:e.export)!=null?Te:St(p,"export"),C=(Me=e==null?void 0:e.sendEmail)!=null?Me:St(p,"sendEmail"),E=(Ie=e==null?void 0:e.recordTransaction)!=null?Ie:St(p,"recordTransaction"),f=(De=e==null?void 0:e.resendDownloads)!=null?De:St(p,"resendDownloads"),O=(Be=e==null?void 0:e.resetDownload)!=null?Be:St(p,"resetDownload"),I=(Ke=e==null?void 0:e.checkout)!=null?Ke:St(p,"checkout"),Y=(Le=e==null?void 0:e.checkin)!=null?Le:St(p,"checkin"),U=typeof AbortController!="undefined",T=ke(null),v=Array.isArray(i==null?void 0:i.items)?i.items:[],G=i!=null&&i.pagination&&typeof i.pagination=="object"?i.pagination:{},S=Ue({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...v],pagination:{total:(Lt=G.total)!=null?Lt:v.length,limit:(an=G.limit)!=null?an:20,pages:(Ze=G.pages)!=null?Ze:0,current:(ot=G.current)!=null?ot:1},search:"",filterState:"",orderStates:Array.isArray(n)&&n.length?n:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1,locking:!1}),J=ke(null),H=()=>{const me=S.pagination.current||1,ye=S.pagination.limit||20,Se=S.search.trim(),ce=S.filterState||"";return`orders:page=${me}:limit=${ye}:search=${Se}:state=${ce}`},ne=async(me=!1)=>{var qe;if(!p){S.error="Orders endpoint unavailable.",S.items=[];return}const ye=H(),Se=me?null:wt(ye,o);if(Se){d.recordCacheHit(),S.items=Se.items,S.pagination={...S.pagination,...Se.pagination},S.lastUpdated=Se.lastUpdated;return}d.recordCacheMiss(),S.loading=!0,S.error="",T.value&&U&&T.value.abort();const ce=U?new AbortController:null;T.value=ce;const it=d.startFetch();try{const Yt=Math.max(0,(S.pagination.current-1)*S.pagination.limit),{items:Ms,pagination:yn}=await l.fetchOrders({endpoint:p,limit:S.pagination.limit,start:Yt,search:S.search.trim(),state:S.filterState,signal:ce?ce.signal:void 0});S.items=Ms,S.pagination={...S.pagination,...yn,current:yn.current&&yn.current>0?yn.current:1},S.selection.clear(),S.lastUpdated=new Date().toISOString(),xt(ye,{items:Ms,pagination:S.pagination,lastUpdated:S.lastUpdated})}catch(Yt){if((Yt==null?void 0:Yt.name)==="AbortError")return;S.error=(qe=Yt==null?void 0:Yt.message)!=null?qe:"Unknown error"}finally{d.endFetch(it),U&&T.value===ce&&(T.value=null),S.loading=!1}},Z=()=>{S.pagination.current=1,we(H()),ne(!0)},Ce=()=>{S.pagination.current=1,ne()},$=me=>{S.filterState=me||"",S.pagination.current=1,ne()},x=me=>{const ye=Number(me);Number.isNaN(ye)||ye<1||ye===S.pagination.current||(S.pagination.current=ye,ne(!0))},h=()=>{S.selection.clear()},y=me=>{me&&(S.selection.has(me)?S.selection.delete(me):S.selection.add(me))},P=()=>{S.pagination.current>=S.pagination.pages||(S.pagination.current+=1,ne(!0))},L=()=>{S.pagination.current<=1||(S.pagination.current-=1,ne(!0))},F=async(me,ye="")=>{var Se;if(!_)return null;try{return await l.fetchOrder({endpoint:_,id:me,orderNumber:ye})}catch(ce){return S.transitionError=(Se=ce==null?void 0:ce.message)!=null?Se:"Unknown error",null}},B=me=>{if(!(me!=null&&me.id))return;const ye=S.items.findIndex(Se=>Se.id===me.id);ye!==-1&&S.items.splice(ye,1,me)},X=async me=>{var ye;if(!I||!me)return null;S.locking=!0,S.transitionError="";try{const Se=await l.checkoutOrder({endpoint:I,id:me});return Se&&(B(Se),J.value=Se.id),Se}catch(Se){throw S.transitionError=(ye=Se==null?void 0:Se.message)!=null?ye:"Unknown error",Se}finally{S.locking=!1}},ie=async(me,{force:ye=!1}={})=>{if(!Y||!me)return null;try{const Se=await l.checkinOrder({endpoint:Y,id:me,force:ye});return Se&&(B(Se),S.activeOrder&&S.activeOrder.id===Se.id&&(S.activeOrder=Se),J.value===Se.id&&(J.value=null)),Se}catch(Se){return null}},de=async me=>ie(me,{force:!0}),he=async()=>{if(!J.value)return;const me=J.value;J.value=null,await ie(me)},K=async me=>{var ye,Se,ce;if(!me){S.transitionError="",S.activeOrder=null,await he();return}S.transitionError="";try{J.value&&J.value!==me.id&&await he();const it=await X(me.id);if(it){S.activeOrder=it;return}const qe=await F(me.id,me.order_no);S.activeOrder=qe||{...me,items:Array.isArray(me.items)?me.items:[],transactions:Array.isArray(me.transactions)?me.transactions:[],timeline:Array.isArray(me.timeline)?me.timeline:[],billing:(ye=me.billing)!=null?ye:{}}}catch(it){S.transitionError=(Se=it==null?void 0:it.message)!=null?Se:"Unknown error",S.activeOrder={...me,items:Array.isArray(me.items)?me.items:[],transactions:Array.isArray(me.transactions)?me.transactions:[],timeline:Array.isArray(me.timeline)?me.timeline:[],billing:(ce=me.billing)!=null?ce:{}}}},le=async()=>{S.transitionError="",S.activeOrder=null,await he()},Ae=async(me,ye)=>{var Se;if(!m)throw new Error("Transition endpoint unavailable.");S.saving=!0,S.transitionError="";try{const ce=await l.transitionOrder({endpoint:m,id:me,state:ye});return ce&&(B(ce),S.activeOrder&&S.activeOrder.id===ce.id&&(S.activeOrder=ce),we(H())),ce}catch(ce){throw S.transitionError=(Se=ce==null?void 0:ce.message)!=null?Se:"Unknown error",ce}finally{S.saving=!1}},Ne=async(me,ye)=>{var Se;if(!g)throw new Error("Tracking endpoint unavailable.");S.saving=!0,S.transitionError="";try{const ce=await l.updateOrderTracking({endpoint:g,id:me,tracking:ye});return ce&&(B(ce),S.activeOrder&&S.activeOrder.id===ce.id&&(S.activeOrder=ce),we(H())),ce}catch(ce){throw S.transitionError=(Se=ce==null?void 0:ce.message)!=null?Se:"Unknown error",ce}finally{S.saving=!1}},N=async(me,ye="")=>{var Se;if(!w)throw new Error("Invoice endpoint unavailable.");S.invoiceLoading=!0,S.transitionError="";try{const ce=await l.fetchOrderInvoice({endpoint:w,id:me,orderNumber:ye});if(!ce)throw new Error("Invoice not available.");return ce}catch(ce){throw S.transitionError=(Se=ce==null?void 0:ce.message)!=null?Se:"Unknown error",ce}finally{S.invoiceLoading=!1}},k=async()=>{var me;if(!M)throw new Error("Export endpoint unavailable.");S.exporting=!0,S.error="";try{const ye=await l.exportOrders({endpoint:M,search:S.search.trim(),state:S.filterState});if(!ye)throw new Error("Export not available.");return ye}catch(ye){throw S.error=(me=ye==null?void 0:ye.message)!=null?me:"Export failed",ye}finally{S.exporting=!1}},V=async(me,ye)=>{var Se;if(!C)throw new Error("Send email endpoint unavailable.");S.saving=!0,S.transitionError="";try{const ce=await l.sendOrderEmail({endpoint:C,id:me,type:ye});return ce&&(B(ce),S.activeOrder&&S.activeOrder.id===ce.id&&(S.activeOrder=ce),we(H())),ce}catch(ce){throw S.transitionError=(Se=ce==null?void 0:ce.message)!=null?Se:"Failed to send email",ce}finally{S.saving=!1}},ae=async(me,{amountCents:ye,reference:Se,note:ce})=>{var it;if(!E)throw new Error("Record transaction endpoint unavailable.");S.saving=!0,S.transitionError="";try{const qe=await l.recordTransaction({endpoint:E,id:me,amountCents:ye,reference:Se,note:ce});return qe&&(B(qe),S.activeOrder&&S.activeOrder.id===qe.id&&(S.activeOrder=qe),we(H())),qe}catch(qe){throw S.transitionError=(it=qe==null?void 0:qe.message)!=null?it:"Failed to record payment",qe}finally{S.saving=!1}},z=async me=>{var ye;if(!f)throw new Error("Resend downloads endpoint unavailable.");S.saving=!0,S.transitionError="";try{const Se=await l.resendDownloads({endpoint:f,id:me});return Se&&(B(Se),S.activeOrder&&S.activeOrder.id===Se.id&&(S.activeOrder=Se),we(H())),Se}catch(Se){throw S.transitionError=(ye=Se==null?void 0:Se.message)!=null?ye:"Failed to resend downloads email",Se}finally{S.saving=!1}},ee=async(me,ye)=>{var Se;if(!O)throw new Error("Reset download endpoint unavailable.");S.saving=!0,S.transitionError="";try{const ce=await l.resetDownload({endpoint:O,downloadId:me,orderId:ye});return ce!=null&&ce.order&&(B(ce.order),S.activeOrder&&S.activeOrder.id===ce.order.id&&(S.activeOrder=ce.order),we(H())),ce}catch(ce){throw S.transitionError=(Se=ce==null?void 0:ce.message)!=null?Se:"Failed to reset download count",ce}finally{S.saving=!1}},q=async(me,ye)=>{var Se;if(!u)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(me)||!me.length)return{updated:[]};S.saving=!0;try{const ce=await l.bulkTransitionOrders({endpoint:u,ids:me,state:ye}),it=Array.isArray(ce.updated)?ce.updated:[];return it.forEach(qe=>{B(qe),S.activeOrder&&S.activeOrder.id===qe.id&&(S.activeOrder=qe)}),h(),{updated:it}}catch(ce){throw S.transitionError=(Se=ce==null?void 0:ce.message)!=null?Se:"Unknown error",ce}finally{S.saving=!1}};return pt(()=>{s&&ne()}),{state:S,loadOrders:ne,refresh:Z,search:Ce,setFilterState:$,goToPage:x,nextPage:P,previousPage:L,checkoutOrder:X,checkinOrder:ie,forceCheckinOrder:de,releaseLock:he,viewOrder:K,closeOrder:le,transitionOrder:Ae,bulkTransition:q,updateTracking:Ne,downloadInvoice:N,exportOrders:k,sendEmail:V,recordTransaction:ae,resendDownloads:z,resetDownload:ee,toggleSelection:y,clearSelection:h,metrics:d.metrics,addNote:async(me,ye)=>{var Se;if(!R)throw new Error("Note endpoint unavailable.");if(!me||!ye||!ye.trim())return null;S.transitionError="",S.saving=!0;try{const ce=await l.addOrderNote({endpoint:R,id:me,message:ye});return ce&&(B(ce),S.activeOrder&&S.activeOrder.id===ce.id&&(S.activeOrder=ce)),ce}catch(ce){throw S.transitionError=(Se=ce==null?void 0:ce.message)!=null?Se:"Unknown error",ce}finally{S.saving=!1}}}}function j$({endpoint:e="",token:t="",preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var m,u,R;const o=At({token:t}),l=Dt("dashboard"),d=Ue({loading:!1,error:"",summary:(R=n.summary)!=null?R:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(u=(m=n.summary)==null?void 0:m.currency)!=null?u:"USD"},checklist:Array.isArray(n.checklist)?n.checklist:[],lastUpdated:null}),p=()=>"dashboard",_=async(g=!1)=>{var E,f;if(!e)return;const w=p(),M=g?null:wt(w,s);if(M){l.recordCacheHit(),d.summary=M.summary,d.checklist=M.checklist,d.lastUpdated=M.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="";const C=l.startFetch();try{const O=await o.fetchDashboard({endpoint:e});d.summary=(E=O.summary)!=null?E:d.summary,d.checklist=Array.isArray(O.checklist)?O.checklist:d.checklist,d.lastUpdated=new Date().toISOString(),xt(w,{summary:d.summary,checklist:d.checklist,lastUpdated:d.lastUpdated})}catch(O){d.error=(f=O==null?void 0:O.message)!=null?f:"Unknown error"}finally{l.endFetch(C),d.loading=!1}};return pt(()=>{i&&(!Array.isArray(d.checklist)||!d.checklist.length)&&_()}),{state:d,refresh:_,metrics:l.metrics}}function J$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var T,v,G,S,J,H,ne,Z,Ce,$,x,h,y,P,L,F,B;const o=At({token:t}),l=Dt("customers"),d=(T=e==null?void 0:e.list)!=null?T:"",p=(v=e==null?void 0:e.show)!=null?v:"",_=(S=(G=e==null?void 0:e.gdpr)==null?void 0:G.export)!=null?S:"",m=(H=(J=e==null?void 0:e.gdpr)==null?void 0:J.anonymise)!=null?H:"",u=Ue({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:($=(Ce=(ne=n.pagination)==null?void 0:ne.total)!=null?Ce:(Z=n.items)==null?void 0:Z.length)!=null?$:0,limit:(h=(x=n.pagination)==null?void 0:x.limit)!=null?h:20,pages:(P=(y=n.pagination)==null?void 0:y.pages)!=null?P:0,current:(F=(L=n.pagination)==null?void 0:L.current)!=null?F:1},search:"",activeCustomer:(B=n.active)!=null?B:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),R=typeof AbortController!="undefined",g=ke(null),w=()=>{const X=u.pagination.current||1,ie=u.pagination.limit||20,de=u.search.trim();return`customers:page=${X}:limit=${ie}:search=${de}`},M=async(X=!1)=>{var le;if(!d){u.error="Customers endpoint unavailable.",u.items=[];return}const ie=w(),de=X?null:wt(ie,s);if(de){l.recordCacheHit(),u.items=de.items,u.pagination={...u.pagination,...de.pagination},u.lastUpdated=de.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",g.value&&R&&g.value.abort();const he=R?new AbortController:null;g.value=he;const K=l.startFetch();try{const Ae=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:Ne,pagination:N}=await o.fetchCustomers({endpoint:d,limit:u.pagination.limit,start:Ae,search:u.search.trim(),signal:he?he.signal:void 0});u.items=Ne,u.pagination={...u.pagination,...N,current:N.current&&N.current>0?N.current:1},u.lastUpdated=new Date().toISOString(),xt(ie,{items:Ne,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(Ae){if((Ae==null?void 0:Ae.name)==="AbortError")return;u.error=(le=Ae==null?void 0:Ae.message)!=null?le:"Unknown error"}finally{l.endFetch(K),R&&g.value===he&&(g.value=null),u.loading=!1}},C=()=>{u.pagination.current=1,we(w()),M(!0)},E=()=>{u.pagination.current=1,M()},f=X=>{const ie=Number(X);Number.isNaN(ie)||ie<1||ie===u.pagination.current||(u.pagination.current=ie,M(!0))},O=async X=>{var ie;if(!p||!(X!=null&&X.email)){u.activeCustomer=X||null;return}try{const de=await o.fetchCustomer({endpoint:p,email:X.email});u.activeCustomer=de||X}catch(de){u.error=(ie=de==null?void 0:de.message)!=null?ie:"Unknown error"}},I=()=>{u.activeCustomer=null,u.gdprMessage="",u.gdprSuccess=!1},Y=async X=>{var ie;if(!_||!X){u.gdprMessage="GDPR export endpoint unavailable.",u.gdprSuccess=!1;return}u.gdprLoading=!0,u.gdprMessage="";try{const de=await o.gdprExport({endpoint:_,email:X});if(!de)throw new Error("No data returned");const he=new Blob([JSON.stringify(de,null,2)],{type:"application/json"}),K=URL.createObjectURL(he),le=document.createElement("a");le.href=K,le.download=`gdpr-export-${X.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(K),u.gdprMessage="Data exported successfully.",u.gdprSuccess=!0}catch(de){u.gdprMessage=(ie=de==null?void 0:de.message)!=null?ie:"Export failed",u.gdprSuccess=!1}finally{u.gdprLoading=!1}},U=async X=>{var de;if(!m||!X){u.gdprMessage="GDPR anonymise endpoint unavailable.",u.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${X}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){u.gdprLoading=!0,u.gdprMessage="";try{const he=await o.gdprAnonymise({endpoint:m,email:X});u.gdprMessage=he.message||`Anonymised ${he.affected} order(s).`,u.gdprSuccess=!0,we(w()),M(!0),setTimeout(()=>{u.activeCustomer=null,u.gdprMessage=""},2e3)}catch(he){u.gdprMessage=(de=he==null?void 0:he.message)!=null?de:"Anonymisation failed",u.gdprSuccess=!1}finally{u.gdprLoading=!1}}};return pt(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&M()}),{state:u,loadCustomers:M,refresh:C,search:E,goToPage:f,viewCustomer:O,closeCustomer:I,gdprExport:Y,gdprAnonymise:U,metrics:l.metrics}}function W$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var T,v,G,S,J,H,ne,Z,Ce,$,x,h,y,P;const o=At({token:t}),l=Dt("coupons"),d=(T=e==null?void 0:e.list)!=null?T:"",p=(v=e==null?void 0:e.create)!=null?v:d,_=(G=e==null?void 0:e.update)!=null?G:d,m=(S=e==null?void 0:e.delete)!=null?S:d,u=Ue({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(Z=(ne=(J=n.pagination)==null?void 0:J.total)!=null?ne:(H=n.items)==null?void 0:H.length)!=null?Z:0,limit:($=(Ce=n.pagination)==null?void 0:Ce.limit)!=null?$:20,pages:(h=(x=n.pagination)==null?void 0:x.pages)!=null?h:0,current:(P=(y=n.pagination)==null?void 0:y.current)!=null?P:1},search:"",activeCoupon:null,lastUpdated:null}),R=typeof AbortController!="undefined",g=ke(null),w=()=>{const L=u.pagination.current||1,F=u.pagination.limit||20,B=u.search.trim();return`coupons:page=${L}:limit=${F}:search=${B}`},M=async(L=!1)=>{var de;if(!d){u.error="Coupons endpoint unavailable.",u.items=[];return}const F=w(),B=L?null:wt(F,s);if(B){l.recordCacheHit(),u.items=B.items,u.pagination={...u.pagination,...B.pagination},u.lastUpdated=B.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",g.value&&R&&g.value.abort();const X=R?new AbortController:null;g.value=X;const ie=l.startFetch();try{const he=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:K,pagination:le}=await o.fetchCoupons({endpoint:d,limit:u.pagination.limit,start:he,search:u.search.trim(),signal:X?X.signal:void 0});u.items=K,u.pagination={...u.pagination,...le,current:le.current&&le.current>0?le.current:1},u.lastUpdated=new Date().toISOString(),xt(F,{items:K,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(he){if((he==null?void 0:he.name)==="AbortError")return;u.error=(de=he==null?void 0:he.message)!=null?de:"Unknown error"}finally{l.endFetch(ie),R&&g.value===X&&(g.value=null),u.loading=!1}},C=()=>{u.pagination.current=1,we(w()),M(!0)},E=()=>{u.pagination.current=1,M()},f=L=>{const F=Number(L);Number.isNaN(F)||F<1||F===u.pagination.current||(u.pagination.current=F,M(!0))},O=L=>{u.activeCoupon=L},I=L=>{const F=u.items.findIndex(B=>B.id===L.id);F===-1?u.items.unshift(L):u.items.splice(F,1,L)},Y=async L=>{var F;u.saving=!0,u.error="";try{let B=null;return L.id?B=await o.updateCoupon({endpoint:_,id:L.id,data:L}):B=await o.createCoupon({endpoint:p,data:L}),B&&(I(B),u.activeCoupon&&u.activeCoupon.id===B.id&&(u.activeCoupon=B),we(w())),B}catch(B){throw u.error=(F=B==null?void 0:B.message)!=null?F:"Unknown error",B}finally{u.saving=!1}},U=async L=>{var F;if(!Array.isArray(L)||!L.length)return 0;u.saving=!0,u.error="";try{const B=await o.deleteCoupons({endpoint:m,ids:L});return B&&(u.items=u.items.filter(X=>!L.includes(X.id)),u.activeCoupon&&L.includes(u.activeCoupon.id)&&(u.activeCoupon=null),we(w())),B}catch(B){throw u.error=(F=B==null?void 0:B.message)!=null?F:"Unknown error",B}finally{u.saving=!1}};return pt(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&M()}),{state:u,loadCoupons:M,refresh:C,search:E,goToPage:f,setActive:O,saveCoupon:Y,deleteCoupons:U,metrics:l.metrics}}const Ca=(e={})=>{var _,m,u,R,g,w,M,C,E,f,O,I,Y,U,T,v,G,S,J;const t=(_=e.store)!=null?_:{},n=(m=e.payments)!=null?m:{},i=(u=e.visual)!=null?u:{},s=(R=e.visual_defaults)!=null?R:{},o=(w=(g=e.security)==null?void 0:g.rate_limits)!=null?w:{},l=Array.isArray(e.currencies)?e.currencies:[],d=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",p=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(M=t.name)!=null?M:"",email:(C=t.email)!=null?C:"",phone:(E=t.phone)!=null?E:""},payments:{configured:!!n.configured},base_currency:d,display_locale:p,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(f=i.primary_color)!=null?f:"",text_color:(O=i.text_color)!=null?O:"",surface_color:(I=i.surface_color)!=null?I:"",border_color:(Y=i.border_color)!=null?Y:"",muted_color:(U=i.muted_color)!=null?U:""},visual_defaults:{primary_color:(T=s.primary_color)!=null?T:"#4f6d7a",text_color:(v=s.text_color)!=null?v:"#1f2933",surface_color:(G=s.surface_color)!=null?G:"#ffffff",border_color:(S=s.border_color)!=null?S:"#e4e7ec",muted_color:(J=s.muted_color)!=null?J:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(o.checkout_ip_limit))?Number(o.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(o.checkout_email_limit))?Number(o.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(o.checkout_session_limit))?Number(o.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(o.checkout_window_minutes))?Number(o.checkout_window_minutes):Number.isFinite(Number(o.checkout_window))?Math.max(0,Math.ceil(Number(o.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(o.offline_ip_limit))?Number(o.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(o.offline_email_limit))?Number(o.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(o.offline_window_minutes))?Number(o.offline_window_minutes):Number.isFinite(Number(o.offline_window))?Math.max(0,Math.ceil(Number(o.offline_window)/60)):30}},currencies:l}};function q$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var M,C;const o=At({token:t}),l=Dt("settings"),d=(M=e==null?void 0:e.show)!=null?M:"",p=(C=e==null?void 0:e.update)!=null?C:d,_=Ue({loading:!1,saving:!1,error:"",message:"",values:Ca(n),lastUpdated:null}),m=ke(null),u=_e(()=>m.value?JSON.stringify(_.values)!==JSON.stringify(m.value):!1),R=()=>{m.value&&(_.values=JSON.parse(JSON.stringify(m.value)))},g=async(E=!1)=>{var Y;if(!d){_.error="Settings endpoint unavailable.";return}const f="settings:data",O=E?null:wt(f,s);if(O){l.recordCacheHit(),_.values=O.values,_.lastUpdated=O.lastUpdated,m.value=JSON.parse(JSON.stringify(_.values));return}l.recordCacheMiss(),_.loading=!0,_.error="";const I=l.startFetch();try{const U=await o.fetchSettings({endpoint:d});_.values=Ca(U),_.lastUpdated=new Date().toISOString(),m.value=JSON.parse(JSON.stringify(_.values)),xt(f,{values:_.values,lastUpdated:_.lastUpdated})}catch(U){throw _.error=(Y=U==null?void 0:U.message)!=null?Y:"Unknown error",U}finally{l.endFetch(I),_.loading=!1}},w=async E=>{var f;if(!p)return _.error="Settings endpoint unavailable.",null;_.saving=!0,_.error="",_.message="";try{const O=await o.updateSettings({endpoint:p,data:E});return _.values=Ca(O),_.lastUpdated=new Date().toISOString(),_.message="Settings saved.",m.value=JSON.parse(JSON.stringify(_.values)),we("settings:data"),xt("settings:data",{values:_.values,lastUpdated:_.lastUpdated}),_.values}catch(O){throw _.error=(f=O==null?void 0:O.message)!=null?f:"Unknown error",O}finally{_.saving=!1}};return pt(()=>{i&&g()}),{state:_,refresh:g,save:w,isDirty:u,resetDraft:R,metrics:l.metrics}}function z$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var O,I,Y,U,T,v,G,S,J,H,ne,Z,Ce,$;const o=At({token:t}),l=Dt("taxRates"),d=(O=e==null?void 0:e.list)!=null?O:"",p=(I=e==null?void 0:e.create)!=null?I:d,_=(Y=e==null?void 0:e.update)!=null?Y:d,m=(U=e==null?void 0:e.delete)!=null?U:d,u=Ue({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(S=(G=(T=n.pagination)==null?void 0:T.total)!=null?G:(v=n.items)==null?void 0:v.length)!=null?S:0,limit:(H=(J=n.pagination)==null?void 0:J.limit)!=null?H:20,pages:(Z=(ne=n.pagination)==null?void 0:ne.pages)!=null?Z:0,current:($=(Ce=n.pagination)==null?void 0:Ce.current)!=null?$:1},search:"",lastUpdated:null}),R=typeof AbortController!="undefined",g=ke(null),w=()=>{const x=u.pagination.current||1,h=u.pagination.limit||20,y=u.search.trim();return`taxRates:page=${x}:limit=${h}:search=${y}`},M=async(x=!1)=>{var F;if(!d){u.error="Tax endpoint unavailable.",u.items=[];return}const h=w(),y=x?null:wt(h,s);if(y){l.recordCacheHit(),u.items=y.items,u.pagination={...u.pagination,...y.pagination},u.lastUpdated=y.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",g.value&&R&&g.value.abort();const P=R?new AbortController:null;g.value=P;const L=l.startFetch();try{const B=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:X,pagination:ie}=await o.fetchTaxRates({endpoint:d,limit:u.pagination.limit,start:B,search:u.search.trim(),signal:P?P.signal:void 0});u.items=X,u.pagination={...u.pagination,...ie,current:ie.current&&ie.current>0?ie.current:1},u.lastUpdated=new Date().toISOString(),xt(h,{items:X,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(B){if((B==null?void 0:B.name)==="AbortError")return;u.error=(F=B==null?void 0:B.message)!=null?F:"Unknown error"}finally{l.endFetch(L),R&&g.value===P&&(g.value=null),u.loading=!1}},C=()=>{u.pagination.current=1,we(w()),M(!0)},E=async x=>{var h;u.saving=!0,u.error="";try{const y=x.id?await o.updateTaxRate({endpoint:_,id:x.id,data:x}):await o.createTaxRate({endpoint:p,data:x});if(y){const P=u.items.findIndex(L=>L.id===y.id);P===-1?u.items.unshift(y):u.items.splice(P,1,y),we(w())}return y}catch(y){throw u.error=(h=y==null?void 0:y.message)!=null?h:"Unknown error",y}finally{u.saving=!1}},f=async x=>{var h;if(!Array.isArray(x)||!x.length)return 0;u.saving=!0,u.error="";try{const y=await o.deleteTaxRates({endpoint:m,ids:x});return y&&(u.items=u.items.filter(P=>!x.includes(P.id)),we(w())),y}catch(y){throw u.error=(h=y==null?void 0:y.message)!=null?h:"Unknown error",y}finally{u.saving=!1}};return pt(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&M()}),{state:u,loadRates:M,refresh:C,saveRate:E,deleteRates:f,metrics:l.metrics}}function Q$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var O,I,Y,U,T,v,G,S,J,H,ne,Z,Ce,$;const o=At({token:t}),l=Dt("shippingRules"),d=(O=e==null?void 0:e.list)!=null?O:"",p=(I=e==null?void 0:e.create)!=null?I:d,_=(Y=e==null?void 0:e.update)!=null?Y:d,m=(U=e==null?void 0:e.delete)!=null?U:d,u=Ue({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(S=(G=(T=n.pagination)==null?void 0:T.total)!=null?G:(v=n.items)==null?void 0:v.length)!=null?S:0,limit:(H=(J=n.pagination)==null?void 0:J.limit)!=null?H:20,pages:(Z=(ne=n.pagination)==null?void 0:ne.pages)!=null?Z:0,current:($=(Ce=n.pagination)==null?void 0:Ce.current)!=null?$:1},search:"",lastUpdated:null}),R=typeof AbortController!="undefined",g=ke(null),w=()=>{const x=u.pagination.current||1,h=u.pagination.limit||20,y=u.search.trim();return`shippingRules:page=${x}:limit=${h}:search=${y}`},M=async(x=!1)=>{var F;if(!d){u.error="Shipping endpoint unavailable.",u.items=[];return}const h=w(),y=x?null:wt(h,s);if(y){l.recordCacheHit(),u.items=y.items,u.pagination={...u.pagination,...y.pagination},u.lastUpdated=y.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",g.value&&R&&g.value.abort();const P=R?new AbortController:null;g.value=P;const L=l.startFetch();try{const B=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:X,pagination:ie}=await o.fetchShippingRules({endpoint:d,limit:u.pagination.limit,start:B,search:u.search.trim(),signal:P?P.signal:void 0});u.items=X,u.pagination={...u.pagination,...ie,current:ie.current&&ie.current>0?ie.current:1},u.lastUpdated=new Date().toISOString(),xt(h,{items:X,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(B){if((B==null?void 0:B.name)==="AbortError")return;u.error=(F=B==null?void 0:B.message)!=null?F:"Unknown error"}finally{l.endFetch(L),R&&g.value===P&&(g.value=null),u.loading=!1}},C=()=>{u.pagination.current=1,we(w()),M(!0)},E=async x=>{var h;u.saving=!0,u.error="";try{const y=x.id?await o.updateShippingRule({endpoint:_,id:x.id,data:x}):await o.createShippingRule({endpoint:p,data:x});if(y){const P=u.items.findIndex(L=>L.id===y.id);P===-1?u.items.unshift(y):u.items.splice(P,1,y),we(w())}return y}catch(y){throw u.error=(h=y==null?void 0:y.message)!=null?h:"Unknown error",y}finally{u.saving=!1}},f=async x=>{var h;if(!Array.isArray(x)||!x.length)return 0;u.saving=!0,u.error="";try{const y=await o.deleteShippingRules({endpoint:m,ids:x});return y&&(u.items=u.items.filter(P=>!x.includes(P.id)),we(w())),y}catch(y){throw u.error=(h=y==null?void 0:y.message)!=null?h:"Unknown error",y}finally{u.saving=!1}};return pt(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&M()}),{state:u,loadRules:M,refresh:C,saveRule:E,deleteRules:f,metrics:l.metrics}}function Z$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var E,f,O,I,Y,U,T,v,G,S,J;const o=At({token:t}),l=Dt("logs"),d=(E=e==null?void 0:e.list)!=null?E:"",p=Ue({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(Y=(I=(f=n.pagination)==null?void 0:f.total)!=null?I:(O=n.items)==null?void 0:O.length)!=null?Y:0,limit:(T=(U=n.pagination)==null?void 0:U.limit)!=null?T:20,pages:(G=(v=n.pagination)==null?void 0:v.pages)!=null?G:0,current:(J=(S=n.pagination)==null?void 0:S.current)!=null?J:1},search:"",entity:"",lastUpdated:null}),_=typeof AbortController!="undefined",m=ke(null),u=()=>{const H=p.pagination.current||1,ne=p.pagination.limit||20,Z=p.search.trim(),Ce=p.entity.trim();return`logs:page=${H}:limit=${ne}:search=${Z}:entity=${Ce}`},R=async(H=!1)=>{var x;if(!d){p.error="Logs endpoint unavailable.",p.items=[];return}const ne=u(),Z=H?null:wt(ne,s);if(Z){l.recordCacheHit(),p.items=Z.items,p.pagination={...p.pagination,...Z.pagination},p.lastUpdated=Z.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",_&&m.value&&m.value.abort();const Ce=_?new AbortController:null;m.value=Ce;const $=l.startFetch();try{const h=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:y,pagination:P}=await o.fetchLogs({endpoint:d,limit:p.pagination.limit,start:h,search:p.search.trim(),entity:p.entity,signal:Ce?Ce.signal:void 0});p.items=y,p.pagination={...p.pagination,...P,current:P.current&&P.current>0?P.current:1},p.lastUpdated=new Date().toISOString(),xt(ne,{items:y,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(h){if((h==null?void 0:h.name)==="AbortError")return;p.error=(x=h==null?void 0:h.message)!=null?x:"Unknown error"}finally{l.endFetch($),_&&m.value===Ce&&(m.value=null),p.loading=!1}},g=()=>{p.pagination.current=1,we(u()),R(!0)},w=()=>{p.pagination.current=1,R()},M=H=>{const ne=typeof H=="string"?H.trim():"";p.entity!==ne&&(p.entity=ne,p.pagination.current=1,R())},C=H=>{const ne=Number(H);Number.isNaN(ne)||ne<1||ne===p.pagination.current||(p.pagination.current=ne,R(!0))};return pt(()=>{i&&(!Array.isArray(p.items)||!p.items.length)&&R()}),{state:p,loadLogs:R,refresh:g,search:w,setEntity:M,goToPage:C,metrics:l.metrics}}const Ci=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function e0({endpoints:e={},token:t=""}){const n=At({token:t}),i=Ue({loading:!1,saving:!1,error:"",config:Ci(),message:""}),s=ke(null),o=_e(()=>s.value?JSON.stringify(i.config)!==JSON.stringify(s.value):!1),l=()=>{s.value&&(i.config=JSON.parse(JSON.stringify(s.value)))},d=async()=>{var m,u,R,g;if(e.show){i.loading=!0,i.error="";try{const w=await n.get(e.show);i.config=_((R=(u=(m=w==null?void 0:w.data)==null?void 0:m.config)!=null?u:w==null?void 0:w.config)!=null?R:{}),s.value=JSON.parse(JSON.stringify(i.config))}catch(w){i.error=(g=w.message)!=null?g:"Unable to load payment configuration."}finally{i.loading=!1}}},p=async m=>{var u,R,g,w,M,C,E;if(e.update){i.saving=!0,i.error="",i.message="";try{const f=await n.post(e.update,{config:m});i.config=_((g=(R=(u=f==null?void 0:f.data)==null?void 0:u.config)!=null?R:f==null?void 0:f.config)!=null?g:{}),i.message=(C=(M=(w=f==null?void 0:f.data)==null?void 0:w.message)!=null?M:f==null?void 0:f.message)!=null?C:"",s.value=JSON.parse(JSON.stringify(i.config))}catch(f){i.error=(E=f.message)!=null?E:"Unable to save payment configuration."}finally{i.saving=!1}}},_=m=>{var R,g,w,M;const u=Ci();return{stripe:{...u.stripe,...(R=m.stripe)!=null?R:{}},paypal:{...u.paypal,...(g=m.paypal)!=null?g:{}},cod:{...u.cod,...(w=m.cod)!=null?w:{}},bank_transfer:{...u.bank_transfer,...(M=m.bank_transfer)!=null?M:{}}}};return{state:i,refresh:d,save:p,isDirty:o,resetDraft:l}}const ht=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,n);return i.searchParams.set("task",t),`${i.pathname}?${i.searchParams.toString()}`};function t0({endpoints:e={},token:t="",autoload:n=!0}){var B,X,ie,de,he,K,le,Ae,Ne,N,k,V,ae,z,ee;const i=At({token:t}),s=(B=e==null?void 0:e.base)!=null?B:"",o=(X=e==null?void 0:e.importPlatforms)!=null?X:ht(s,"api.import.platforms"),l=(ie=e==null?void 0:e.importUpload)!=null?ie:ht(s,"api.import.upload"),d=(de=e==null?void 0:e.importDetect)!=null?de:ht(s,"api.import.detect"),p=(he=e==null?void 0:e.importStart)!=null?he:ht(s,"api.import.start"),_=(K=e==null?void 0:e.importProgress)!=null?K:ht(s,"api.import.progress"),m=(le=e==null?void 0:e.importCancel)!=null?le:ht(s,"api.import.cancel"),u=(Ae=e==null?void 0:e.importJobs)!=null?Ae:ht(s,"api.import.jobs"),R=(Ne=e==null?void 0:e.importSamples)!=null?Ne:ht(s,"api.import.samples");(N=e==null?void 0:e.exportPlatforms)!=null||ht(s,"api.export.platforms");const g=(k=e==null?void 0:e.exportStart)!=null?k:ht(s,"api.export.start"),w=(V=e==null?void 0:e.exportProgress)!=null?V:ht(s,"api.export.progress"),M=(ae=e==null?void 0:e.exportDownload)!=null?ae:ht(s,"api.export.download"),C=(z=e==null?void 0:e.exportCancel)!=null?z:ht(s,"api.export.cancel"),E=(ee=e==null?void 0:e.exportJobs)!=null?ee:ht(s,"api.export.jobs"),f=Ue({loading:!1,error:"",platforms:[],importFile:null,importFileId:"",importFilename:"",importFileSize:0,importRowCount:0,importHeaders:[],importPreview:[],importDetectedPlatform:null,importSelectedPlatform:"",importMapping:{},importUploading:!1,importStarting:!1,importJobId:null,importProgress:null,importPolling:!1,exportPlatform:"native",exportStarting:!1,exportJobId:null,exportProgress:null,exportPolling:!1,importJobs:[],exportJobs:[],jobsPagination:{total:0,limit:10,pages:0,current:1},samples:[]}),O=ke(null),I=()=>{O.value&&(clearInterval(O.value),O.value=null),f.importPolling=!1,f.exportPolling=!1},Y=async()=>{var q,W,Q;if(o){f.loading=!0,f.error="";try{const j=await i.get(o);f.platforms=(W=(q=j.data)==null?void 0:q.platforms)!=null?W:[]}catch(j){f.error=(Q=j==null?void 0:j.message)!=null?Q:"Failed to load platforms"}finally{f.loading=!1}}},U=async()=>{var q,W;if(R)try{const Q=await i.get(R);f.samples=(W=(q=Q.data)==null?void 0:q.samples)!=null?W:[]}catch(Q){f.samples=[]}},T=async q=>{var W,Q,j,pe,re,ue,Ee,Te,Me,Ie;if(!l||!q)return null;f.importUploading=!0,f.error="",f.importFile=q;try{const De=new FormData;De.append("file",q);const Ke=(W=(await i.request(l,{method:"POST",body:De})).data)!=null?W:{};return f.importFileId=(Q=Ke.file_id)!=null?Q:"",f.importFilename=(j=Ke.filename)!=null?j:q.name,f.importFileSize=(pe=Ke.size)!=null?pe:q.size,f.importRowCount=(re=Ke.row_count)!=null?re:0,f.importHeaders=(ue=Ke.headers)!=null?ue:[],f.importPreview=(Ee=Ke.preview)!=null?Ee:[],f.importDetectedPlatform=(Te=Ke.detected_platform)!=null?Te:null,f.importSelectedPlatform=(Me=Ke.detected_platform)!=null?Me:"",Ke}catch(De){return f.error=(Ie=De==null?void 0:De.message)!=null?Ie:"Failed to upload file",null}finally{f.importUploading=!1}},v=async q=>{var W,Q,j,pe;if(!d||!(q!=null&&q.length))return null;try{const ue=(W=(await i.post(d,{headers:q})).data)!=null?W:{};return f.importDetectedPlatform=(Q=ue.platform)!=null?Q:null,f.importMapping=(j=ue.mapping)!=null?j:{},ue}catch(re){return f.error=(pe=re==null?void 0:re.message)!=null?pe:"Failed to detect platform",null}},G=async(q={})=>{var W,Q,j,pe,re;if(!p||!f.importFileId)return f.error="No file uploaded",null;if(!f.importSelectedPlatform)return f.error="Please select a platform",null;f.importStarting=!0,f.error="";try{const Ee=(W=(await i.post(p,{file_id:f.importFileId,platform:f.importSelectedPlatform,options:{...q,mapping:f.importMapping}})).data)!=null?W:{};return f.importJobId=(Q=Ee.job_id)!=null?Q:null,f.importProgress={status:(j=Ee.status)!=null?j:"pending",total_rows:(pe=Ee.total_rows)!=null?pe:0,processed_rows:0,imported_products:0,imported_variants:0,imported_categories:0,skipped_rows:0,errors:[],warnings:[],percent:0},J(),Ee}catch(ue){return f.error=(re=ue==null?void 0:ue.message)!=null?re:"Failed to start import",null}finally{f.importStarting=!1}},S=async()=>{var q,W,Q,j,pe,re,ue,Ee,Te,Me,Ie,De;if(!(!_||!f.importJobId))try{const Be=`${_}&job_id=${f.importJobId}`,Le=(q=(await i.get(Be)).data)!=null?q:{};f.importProgress={status:(W=Le.status)!=null?W:"unknown",total_rows:(Q=Le.total_rows)!=null?Q:0,processed_rows:(j=Le.processed_rows)!=null?j:0,imported_products:(pe=Le.imported_products)!=null?pe:0,imported_variants:(re=Le.imported_variants)!=null?re:0,imported_categories:(ue=Le.imported_categories)!=null?ue:0,skipped_rows:(Ee=Le.skipped_rows)!=null?Ee:0,errors:(Te=Le.errors)!=null?Te:[],warnings:(Me=Le.warnings)!=null?Me:[],percent:(Ie=Le.progress_percent)!=null?Ie:Le.total_rows>0?Math.round(Le.processed_rows/Le.total_rows*100):0},["completed","failed","cancelled"].includes(Le.status)&&I()}catch(Be){f.error=(De=Be==null?void 0:Be.message)!=null?De:"Failed to get progress",I()}},J=()=>{I(),f.importPolling=!0,S(),O.value=setInterval(S,2e3)},H=async()=>{var q;if(!(!m||!f.importJobId))try{await i.post(m,{job_id:f.importJobId}),I(),f.importProgress={...f.importProgress,status:"cancelled"}}catch(W){f.error=(q=W==null?void 0:W.message)!=null?q:"Failed to cancel import"}},ne=()=>{I(),f.importFile=null,f.importFileId="",f.importFilename="",f.importFileSize=0,f.importRowCount=0,f.importHeaders=[],f.importPreview=[],f.importDetectedPlatform=null,f.importSelectedPlatform="",f.importMapping={},f.importJobId=null,f.importProgress=null,f.error=""},Z=async(q={})=>{var W,Q,j,pe,re;if(!g)return null;f.exportStarting=!0,f.error="";try{const Ee=(W=(await i.post(g,{platform:f.exportPlatform,options:q})).data)!=null?W:{};return f.exportJobId=(Q=Ee.job_id)!=null?Q:null,f.exportProgress={status:(j=Ee.status)!=null?j:"pending",total_rows:(pe=Ee.total_rows)!=null?pe:0,processed_rows:0,percent:0},$(),Ee}catch(ue){return f.error=(re=ue==null?void 0:ue.message)!=null?re:"Failed to start export",null}finally{f.exportStarting=!1}},Ce=async()=>{var q,W,Q,j,pe,re;if(!(!w||!f.exportJobId))try{const ue=`${w}&job_id=${f.exportJobId}`,Te=(q=(await i.get(ue)).data)!=null?q:{};f.exportProgress={status:(W=Te.status)!=null?W:"unknown",total_rows:(Q=Te.total_rows)!=null?Q:0,processed_rows:(j=Te.processed_rows)!=null?j:0,percent:Te.total_rows>0?Math.round(Te.processed_rows/Te.total_rows*100):0,file_path:(pe=Te.file_path)!=null?pe:""},["completed","failed","cancelled"].includes(Te.status)&&I()}catch(ue){f.error=(re=ue==null?void 0:ue.message)!=null?re:"Failed to get progress",I()}},$=()=>{I(),f.exportPolling=!0,Ce(),O.value=setInterval(Ce,2e3)},x=async()=>{var q;if(!(!C||!f.exportJobId))try{await i.post(C,{job_id:f.exportJobId}),I(),f.exportProgress={...f.exportProgress,status:"cancelled"}}catch(W){f.error=(q=W==null?void 0:W.message)!=null?q:"Failed to cancel export"}},h=()=>{if(!M||!f.exportJobId)return;const q=`${M}&job_id=${f.exportJobId}`;typeof window!="undefined"&&(window.location.href=q)},y=()=>{I(),f.exportPlatform="native",f.exportJobId=null,f.exportProgress=null,f.error=""},P=async()=>{var q,W;if(u)try{const Q=`${u}&type=import&limit=${f.jobsPagination.limit}`,pe=(q=(await i.get(Q)).data)!=null?q:{};f.importJobs=(W=pe.items)!=null?W:[]}catch(Q){f.importJobs=[]}},L=async()=>{var q,W;if(E)try{const Q=`${E}&type=export&limit=${f.jobsPagination.limit}`,pe=(q=(await i.get(Q)).data)!=null?q:{};f.exportJobs=(W=pe.items)!=null?W:[]}catch(Q){f.exportJobs=[]}},F=async()=>{await Promise.all([Y(),U(),P(),L()])};return pt(()=>{n&&F()}),ta(()=>{I()}),{state:f,loadPlatforms:Y,loadSamples:U,uploadFile:T,detectPlatform:v,startImport:G,cancelImport:H,resetImport:ne,startExport:Z,cancelExport:x,downloadExport:h,resetExport:y,loadImportJobs:P,loadExportJobs:L,refresh:F,stopPolling:I}}const n0={class:"nxp-ec-admin-app__shell"},s0={class:"nxp-ec-admin-app__header"},a0={class:"nxp-ec-admin-app__title"},o0={class:"nxp-ec-admin-app__lead"},i0={class:"nxp-ec-btn__progress-label"},r0={key:0,class:"nxp-ec-admin-nav"},l0=["href"],c0={key:12,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},d0={class:"nxp-ec-admin-panel__body"},u0={class:"nxp-ec-admin-panel__lead"},Wn="nxp:admin:onboarding:dismissed",p0={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var ec,tc,nc,sc,ac,oc,ic,rc,lc,cc,dc,uc,pc,_c,fc,mc,hc,gc,Ec,Cc,Ac,Sc,bc,yc,Tc,Rc,Oc,xc,vc,Nc,Pc,Mc,Ic,kc,$c,wc,Dc,Lc,Yc,Uc,Xc,Fc,Gc,Vc,Hc,Bc,Kc,jc,Jc,Wc,qc,zc,Qc,Zc,ed,td,nd,sd,ad,od,id,rd,ld,cd,dd,ud,pd,_d,fd,md,hd,gd,Ed,Cd,Ad,Sd,bd,yd,Td,Rd,Od,xd,vd,Nd,Pd,Md,Id,kd,$d,wd,Dd,Ld,Yd,Ud,Xd,Fd,Gd,Vd,Hd,Bd,Kd,jd,Jd,Wd,qd,zd,Qd,Zd,eu,tu,nu,su,au,ou,iu,ru,lu,cu,du,uu,pu,_u,fu,mu,hu,gu,Eu,Cu,Au,Su,bu,yu,Tu,Ru,Ou,xu,vu,Nu,Pu,Mu,Iu,ku,$u,wu,Du,Lu,Yu,Uu,Xu,Fu,Gu,Vu,Hu,Bu,Ku,ju,Ju,Wu,qu,zu,Qu,Zu,ep,tp,np,sp,ap,op,ip,rp,lp,cp,dp,up,pp,_p,fp,mp,hp,gp,Ep,Cp,Ap,Sp,bp,yp,Tp,Rp,Op,xp,vp,Np,Pp,Mp,Ip,kp,$p,wp,Dp,Lp,Yp,Up,Xp,Fp,Gp,Vp,Hp,Bp,Kp,jp,Jp,Wp,qp,zp,Qp,Zp,e_,t_,n_,s_,a_,o_,i_,r_,l_,c_,d_,u_,p_,__;const t=e,{__:n}=G$(t.dataset),i=_e(()=>{var D;return((D=t.dataset)==null?void 0:D.appTitleKey)||"COM_NXPEASYCART"}),s=_e(()=>{var D;return((D=t.dataset)==null?void 0:D.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),o=(D,oe)=>{if(!D||typeof D!="string")return oe;try{return JSON.parse(D)}catch(Re){return oe}},l=_e(()=>{var D,oe;return!!((oe=(D=on==null?void 0:on.values)==null?void 0:D.show_advanced_mode)!=null&&oe)}),d=_e(()=>{var oe,Re;let D=[];if(Array.isArray((oe=t.config)==null?void 0:oe.navItems))D=t.config.navItems.map(Xe=>({id:Xe.id,title:Xe.title,link:Xe.link}));else{const Xe=o((Re=t.dataset)==null?void 0:Re.navItems,[]);D=Array.isArray(Xe)?Xe.map(ze=>({id:ze.id,title:ze.title,link:ze.link})):[]}return l.value||(D=D.filter(Xe=>Xe.id!=="logs")),D}),p=D=>{const oe=d.value;if(!Array.isArray(oe))return"";const Re=oe.find(Xe=>Xe.id===D);return Re?Re.link:""},_=_e(()=>{var D,oe;return((D=t.config)==null?void 0:D.activeSection)||((oe=t.dataset)==null?void 0:oe.activeSection)||"dashboard"}),m=_e(()=>{var D,oe;return((D=t.config)==null?void 0:D.settingsTab)||((oe=t.dataset)==null?void 0:oe.settingsTab)||"general"}),u=D=>_.value===D,R=_e(()=>{var D,oe,Re,Xe,ze;return Number.parseInt((ze=(Xe=(oe=(D=t.config)==null?void 0:D.user)==null?void 0:oe.id)!=null?Xe:(Re=t.dataset)==null?void 0:Re.userId)!=null?ze:0,10)||0}),g=_e(()=>u("dashboard")),w=_e(()=>u("products")),M=_e(()=>u("categories")||u("products")),C=_e(()=>u("orders")),E=_e(()=>u("customers")),f=_e(()=>u("coupons")),O=_e(()=>u("settings")),I=_e(()=>u("tax")),Y=_e(()=>u("shipping")),U=_e(()=>u("logs")),T=_e(()=>u("importexport")),v={...(tc=(ec=t.endpoints)==null?void 0:ec.products)!=null?tc:{},list:(ic=(oc=(sc=(nc=t.endpoints)==null?void 0:nc.products)==null?void 0:sc.list)!=null?oc:(ac=t.dataset)==null?void 0:ac.productsEndpoint)!=null?ic:"",create:(uc=(dc=(lc=(rc=t.endpoints)==null?void 0:rc.products)==null?void 0:lc.create)!=null?dc:(cc=t.dataset)==null?void 0:cc.productsEndpointCreate)!=null?uc:"",update:(hc=(mc=(_c=(pc=t.endpoints)==null?void 0:pc.products)==null?void 0:_c.update)!=null?mc:(fc=t.dataset)==null?void 0:fc.productsEndpointUpdate)!=null?hc:"",delete:(Sc=(Ac=(Ec=(gc=t.endpoints)==null?void 0:gc.products)==null?void 0:Ec.delete)!=null?Ac:(Cc=t.dataset)==null?void 0:Cc.productsEndpointDelete)!=null?Sc:"",checkout:(Oc=(Rc=(yc=(bc=t.endpoints)==null?void 0:bc.products)==null?void 0:yc.checkout)!=null?Rc:(Tc=t.dataset)==null?void 0:Tc.productsEndpointCheckout)!=null?Oc:"",checkin:(Mc=(Pc=(vc=(xc=t.endpoints)==null?void 0:xc.products)==null?void 0:vc.checkin)!=null?Pc:(Nc=t.dataset)==null?void 0:Nc.productsEndpointCheckin)!=null?Mc:""},G={...(kc=(Ic=t.endpoints)==null?void 0:Ic.categories)!=null?kc:{},list:(Yc=(Lc=(wc=($c=t.endpoints)==null?void 0:$c.categories)==null?void 0:wc.list)!=null?Lc:(Dc=t.dataset)==null?void 0:Dc.categoriesEndpoint)!=null?Yc:"",create:(Vc=(Gc=(Xc=(Uc=t.endpoints)==null?void 0:Uc.categories)==null?void 0:Xc.create)!=null?Gc:(Fc=t.dataset)==null?void 0:Fc.categoriesEndpointCreate)!=null?Vc:"",update:(Jc=(jc=(Bc=(Hc=t.endpoints)==null?void 0:Hc.categories)==null?void 0:Bc.update)!=null?jc:(Kc=t.dataset)==null?void 0:Kc.categoriesEndpointUpdate)!=null?Jc:"",delete:(Zc=(Qc=(qc=(Wc=t.endpoints)==null?void 0:Wc.categories)==null?void 0:qc.delete)!=null?Qc:(zc=t.dataset)==null?void 0:zc.categoriesEndpointDelete)!=null?Zc:"",checkout:(ad=(sd=(td=(ed=t.endpoints)==null?void 0:ed.categories)==null?void 0:td.checkout)!=null?sd:(nd=t.dataset)==null?void 0:nd.categoriesEndpointCheckout)!=null?ad:"",checkin:(cd=(ld=(id=(od=t.endpoints)==null?void 0:od.categories)==null?void 0:id.checkin)!=null?ld:(rd=t.dataset)==null?void 0:rd.categoriesEndpointCheckin)!=null?cd:""},S={...(ud=(dd=t.endpoints)==null?void 0:dd.orders)!=null?ud:{},list:(hd=(md=(_d=(pd=t.endpoints)==null?void 0:pd.orders)==null?void 0:_d.list)!=null?md:(fd=t.dataset)==null?void 0:fd.ordersEndpoint)!=null?hd:"",show:(Sd=(Ad=(Ed=(gd=t.endpoints)==null?void 0:gd.orders)==null?void 0:Ed.show)!=null?Ad:(Cd=t.dataset)==null?void 0:Cd.ordersEndpointShow)!=null?Sd:"",transition:(Od=(Rd=(yd=(bd=t.endpoints)==null?void 0:bd.orders)==null?void 0:yd.transition)!=null?Rd:(Td=t.dataset)==null?void 0:Td.ordersEndpointTransition)!=null?Od:"",bulkTransition:(Md=(Pd=(vd=(xd=t.endpoints)==null?void 0:xd.orders)==null?void 0:vd.bulkTransition)!=null?Pd:(Nd=t.dataset)==null?void 0:Nd.ordersEndpointBulk)!=null?Md:"",note:(Dd=(wd=(kd=(Id=t.endpoints)==null?void 0:Id.orders)==null?void 0:kd.note)!=null?wd:($d=t.dataset)==null?void 0:$d.ordersEndpointNote)!=null?Dd:"",tracking:(Fd=(Xd=(Yd=(Ld=t.endpoints)==null?void 0:Ld.orders)==null?void 0:Yd.tracking)!=null?Xd:(Ud=t.dataset)==null?void 0:Ud.ordersEndpointTracking)!=null?Fd:"",invoice:(Kd=(Bd=(Vd=(Gd=t.endpoints)==null?void 0:Gd.orders)==null?void 0:Vd.invoice)!=null?Bd:(Hd=t.dataset)==null?void 0:Hd.ordersEndpointInvoice)!=null?Kd:"",checkout:(zd=(qd=(Jd=(jd=t.endpoints)==null?void 0:jd.orders)==null?void 0:Jd.checkout)!=null?qd:(Wd=t.dataset)==null?void 0:Wd.ordersEndpointCheckout)!=null?zd:"",checkin:(nu=(tu=(Zd=(Qd=t.endpoints)==null?void 0:Qd.orders)==null?void 0:Zd.checkin)!=null?tu:(eu=t.dataset)==null?void 0:eu.ordersEndpointCheckin)!=null?nu:""},J=(lu=(su=t.endpoints)==null?void 0:su.customers)!=null?lu:{list:(ou=(au=t.dataset)==null?void 0:au.customersEndpoint)!=null?ou:"",show:(ru=(iu=t.dataset)==null?void 0:iu.customersEndpointShow)!=null?ru:""},H=(Eu=(cu=t.endpoints)==null?void 0:cu.coupons)!=null?Eu:{list:(uu=(du=t.dataset)==null?void 0:du.couponsEndpoint)!=null?uu:"",create:(_u=(pu=t.dataset)==null?void 0:pu.couponsEndpointCreate)!=null?_u:"",update:(mu=(fu=t.dataset)==null?void 0:fu.couponsEndpointUpdate)!=null?mu:"",delete:(gu=(hu=t.dataset)==null?void 0:hu.couponsEndpointDelete)!=null?gu:""},ne=(vu=(Cu=t.endpoints)==null?void 0:Cu.tax)!=null?vu:{list:(Su=(Au=t.dataset)==null?void 0:Au.taxEndpoint)!=null?Su:"",create:(yu=(bu=t.dataset)==null?void 0:bu.taxEndpointCreate)!=null?yu:"",update:(Ru=(Tu=t.dataset)==null?void 0:Tu.taxEndpointUpdate)!=null?Ru:"",delete:(xu=(Ou=t.dataset)==null?void 0:Ou.taxEndpointDelete)!=null?xu:""},Z=(Yu=(Nu=t.endpoints)==null?void 0:Nu.shipping)!=null?Yu:{list:(Mu=(Pu=t.dataset)==null?void 0:Pu.shippingEndpoint)!=null?Mu:"",create:(ku=(Iu=t.dataset)==null?void 0:Iu.shippingEndpointCreate)!=null?ku:"",update:(wu=($u=t.dataset)==null?void 0:$u.shippingEndpointUpdate)!=null?wu:"",delete:(Lu=(Du=t.dataset)==null?void 0:Du.shippingEndpointDelete)!=null?Lu:""},Ce=(Ku=(Uu=t.endpoints)==null?void 0:Uu.digitalfiles)!=null?Ku:{list:(Fu=(Xu=t.dataset)==null?void 0:Xu.digitalfilesEndpointList)!=null?Fu:"",upload:(Vu=(Gu=t.dataset)==null?void 0:Gu.digitalfilesEndpointUpload)!=null?Vu:"",delete:(Bu=(Hu=t.dataset)==null?void 0:Hu.digitalfilesEndpointDelete)!=null?Bu:""},$=(Qu=(ju=t.endpoints)==null?void 0:ju.settings)!=null?Qu:{show:(Wu=(Ju=t.dataset)==null?void 0:Ju.settingsEndpointShow)!=null?Wu:"",update:(zu=(qu=t.dataset)==null?void 0:qu.settingsEndpointUpdate)!=null?zu:""},x=(np=(Zu=t.endpoints)==null?void 0:Zu.logs)!=null?np:{list:(tp=(ep=t.dataset)==null?void 0:ep.logsEndpoint)!=null?tp:""},h=(lp=(sp=t.endpoints)==null?void 0:sp.payments)!=null?lp:{show:(op=(ap=t.dataset)==null?void 0:ap.paymentsEndpointShow)!=null?op:"",update:(rp=(ip=t.dataset)==null?void 0:ip.paymentsEndpointUpdate)!=null?rp:""},y=(pp=(cp=t.endpoints)==null?void 0:cp.importExport)!=null?pp:{base:(up=(dp=t.dataset)==null?void 0:dp.importExportEndpoint)!=null?up:""},P=_e(()=>{var D;return o((D=t.dataset)==null?void 0:D.orderStates,[])}),{state:L,refresh:F}=j$({endpoint:(Cp=(Ep=(hp=(_p=t.endpoints)==null?void 0:_p.dashboard)!=null?hp:(mp=(fp=t.config)==null?void 0:fp.endpoints)==null?void 0:mp.dashboard)!=null?Ep:(gp=t.dataset)==null?void 0:gp.dashboardEndpoint)!=null?Cp:"",token:t.csrfToken,preload:(Tp=(Sp=(Ap=t.config)==null?void 0:Ap.preload)==null?void 0:Sp.dashboard)!=null?Tp:{summary:o((bp=t.dataset)==null?void 0:bp.dashboardSummary,{}),checklist:o((yp=t.dataset)==null?void 0:yp.dashboardChecklist,[])},autoload:g.value}),{state:B,refresh:X,search:ie,filterByCategory:de,setSort:he,goToPage:K,createProduct:le,updateProduct:Ae,deleteProducts:Ne,checkoutProduct:N,checkinProduct:k,forceCheckinProduct:V,metrics:ae}=H$({endpoints:v,token:t.csrfToken,autoload:w.value}),{state:z,refresh:ee,search:q,goToPage:W,saveCategory:Q,deleteCategories:j,loadOptions:pe,checkoutCategory:re,checkinCategory:ue,forceCheckinCategory:Ee,metrics:Te}=B$({endpoints:G,token:t.csrfToken,preload:(Np=(Op=(Rp=t.config)==null?void 0:Rp.preload)==null?void 0:Op.categories)!=null?Np:{items:o((xp=t.dataset)==null?void 0:xp.categoriesPreload,[]),pagination:o((vp=t.dataset)==null?void 0:vp.categoriesPreloadPagination,{})},autoload:M.value}),Me=ke([]),Ie=ke(!1),De=async()=>{if(!Ie.value){Ie.value=!0;try{const D=await pe();Me.value=D}catch(D){console.warn("[App] Failed to load all category options:",D)}finally{Ie.value=!1}}},Be=_e(()=>(Me.value.length>0?Me.value:Array.isArray(z.items)?z.items:[]).map(oe=>{var Re,Xe,ze;return{id:Number.parseInt((Re=oe==null?void 0:oe.id)!=null?Re:0,10)||0,title:String((Xe=oe==null?void 0:oe.title)!=null?Xe:"").trim(),slug:String((ze=oe==null?void 0:oe.slug)!=null?ze:"").trim(),parent_id:(oe==null?void 0:oe.parent_id)!==null&&(oe==null?void 0:oe.parent_id)!==void 0&&Number.parseInt(oe.parent_id,10)||null}}).filter(oe=>oe.title!==""));He(w,D=>{D&&Me.value.length===0&&De()},{immediate:!0});const{state:Ke,refresh:Le,search:Lt,setFilterState:an,viewOrder:Ze,closeOrder:ot,forceCheckinOrder:me,releaseLock:ye,transitionOrder:Se,goToPage:ce,bulkTransition:it,toggleSelection:qe,clearSelection:Yt,addNote:Ms,updateTracking:yn,downloadInvoice:_0,exportOrders:f0,sendEmail:m0,recordTransaction:h0,resendDownloads:g0,resetDownload:E0,metrics:C0}=K$({endpoints:S,token:t.csrfToken,states:P.value,preload:($p=(Mp=(Pp=t.config)==null?void 0:Pp.preload)==null?void 0:Mp.orders)!=null?$p:{items:o((Ip=t.dataset)==null?void 0:Ip.ordersPreload,[]),pagination:o((kp=t.dataset)==null?void 0:kp.ordersPreloadPagination,{})},autoload:C.value}),{state:A0,refresh:jl,search:S0,goToPage:b0,viewCustomer:y0,closeCustomer:T0,gdprExport:R0,gdprAnonymise:O0}=J$({endpoints:{...J,gdpr:(Dp=(wp=t.endpoints)==null?void 0:wp.gdpr)!=null?Dp:{}},token:t.csrfToken,preload:(Fp=(Yp=(Lp=t.config)==null?void 0:Lp.preload)==null?void 0:Yp.customers)!=null?Fp:{items:o((Up=t.dataset)==null?void 0:Up.customersPreload,[]),pagination:o((Xp=t.dataset)==null?void 0:Xp.customersPreloadPagination,{})},autoload:E.value}),{state:x0,refresh:Jl,search:v0,goToPage:N0,saveCoupon:P0,deleteCoupons:M0}=W$({endpoints:(Vp=(Gp=t.endpoints)==null?void 0:Gp.coupons)!=null?Vp:H,token:t.csrfToken,preload:(Jp=(Bp=(Hp=t.config)==null?void 0:Hp.preload)==null?void 0:Bp.coupons)!=null?Jp:{items:o((Kp=t.dataset)==null?void 0:Kp.couponsPreload,[]),pagination:o((jp=t.dataset)==null?void 0:jp.couponsPreloadPagination,{})},autoload:f.value}),I0=(Qp=(qp=(Wp=t.config)==null?void 0:Wp.preload)==null?void 0:qp.settings)!=null?Qp:o((zp=t.dataset)==null?void 0:zp.settingsPreload,{}),{state:on,refresh:Wl,save:k0}=q$({endpoints:$,token:t.csrfToken,preload:I0,autoload:O.value}),$0=_e(()=>{var oe,Re;const D=(Re=(oe=t.dataset)==null?void 0:oe.baseCurrency)!=null?Re:"";return typeof D=="string"?D.trim().toUpperCase():""}),w0=_e(()=>{var oe,Re;const D=(Re=(oe=on==null?void 0:on.values)==null?void 0:oe.base_currency)!=null?Re:"";return typeof D=="string"?D.trim().toUpperCase():""}),qn=_e(()=>{const D=w0.value||$0.value;return D!==""?D:"USD"}),D0=_e(()=>{var oe,Re;const D=(Re=(oe=t.dataset)==null?void 0:oe.mediaModalUrl)!=null?Re:"";return typeof D=="string"?D.trim():""}),L0=_e(()=>{var oe,Re,Xe,ze,gt;const D=(ze=(Xe=(oe=t.config)==null?void 0:oe.siteRoot)!=null?Xe:(Re=t.dataset)==null?void 0:Re.siteRoot)!=null?ze:"";return typeof D=="string"&&D.trim()!==""?D.trim():typeof window!="undefined"&&((gt=window.location)!=null&&gt.origin)?window.location.origin:""}),Y0=D=>{switch(D){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_PUBLISH_CART_MODULE":return{id:"publish-cart-module",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_DESC",titleFallback:"Publish the cart module",descriptionFallback:"Add the cart module to a template position so customers can see their shopping cart.",link:"index.php?option=com_modules&filter[module]=mod_nxpeasycart_cart"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:p("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:p("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:p("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:D||"step",titleKey:D||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:D||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:p("dashboard")||""}}},Aa=_e(()=>(Array.isArray(L.checklist)?L.checklist:[]).map(oe=>{const Re=Y0(oe.label);return{id:Re.id,completed:!!oe.completed,link:oe.link||Re.link||"",label:oe.label,titleKey:Re.titleKey,descriptionKey:Re.descriptionKey,titleFallback:Re.titleFallback,descriptionFallback:Re.descriptionFallback}})),Sa=_e(()=>Aa.value.some(D=>!D.completed)),ql=_e(()=>{const D=Aa.value;if(!D.length)return{completed:0,total:0,percent:0};const oe=D.filter(Re=>Re.completed).length;return{completed:oe,total:D.length,percent:Math.round(oe/D.length*100)}}),U0=_e(()=>{const{completed:D,total:oe}=ql.value;return`${D}/${oe}`}),X0=_e(()=>{const{percent:D}=ql.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${D}%, #e9ecef ${D}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:D>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),zn=ke(!1),F0=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Wn,"0")}catch(D){}zn.value=!0},zl=()=>{if(zn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Wn,"1")}catch(D){}},G0=D=>{D&&typeof D.link=="string"&&D.link!==""&&(zl(),typeof window!="undefined"&&(window.location.href=D.link))};He(Sa,D=>{if(!D&&(zn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Wn,"1")}catch(oe){}});const V0=(s_=(e_=(Zp=t.config)==null?void 0:Zp.preload)==null?void 0:e_.tax)!=null?s_:{items:o((t_=t.dataset)==null?void 0:t_.taxPreload,[]),pagination:o((n_=t.dataset)==null?void 0:n_.taxPreloadPagination,{})},{state:H0,refresh:Qn,saveRate:B0,deleteRates:K0}=z$({endpoints:ne,token:t.csrfToken,preload:V0,autoload:I.value||O.value}),j0=(l_=(o_=(a_=t.config)==null?void 0:a_.preload)==null?void 0:o_.shipping)!=null?l_:{items:o((i_=t.dataset)==null?void 0:i_.shippingPreload,[]),pagination:o((r_=t.dataset)==null?void 0:r_.shippingPreloadPagination,{})},{state:J0,refresh:Zn,saveRule:W0,deleteRules:q0}=Q$({endpoints:Z,token:t.csrfToken,preload:j0,autoload:Y.value||O.value}),z0=(__=(d_=(c_=t.config)==null?void 0:c_.preload)==null?void 0:d_.logs)!=null?__:{items:o((u_=t.dataset)==null?void 0:u_.logsPreload,[]),pagination:o((p_=t.dataset)==null?void 0:p_.logsPreloadPagination,{})},{state:Q0,refresh:Ql,search:Z0,setEntity:ew,goToPage:tw}=Z$({endpoints:x,token:t.csrfToken,preload:z0,autoload:U.value}),{state:nw,refresh:ba,save:sw}=e0({endpoints:h,token:t.csrfToken}),{state:aw,uploadFile:ow,startImport:iw,cancelImport:rw,resetImport:lw,startExport:cw,cancelExport:dw,downloadExport:uw,resetExport:pw,refresh:Zl}=t0({endpoints:y,token:t.csrfToken,autoload:T.value});He(_,(D,oe)=>{switch(oe==="orders"&&D!=="orders"&&(ot(),ye==null||ye()),D){case"dashboard":F();break;case"products":X(),ee();break;case"categories":ee();break;case"orders":Le();break;case"customers":jl();break;case"coupons":Jl();break;case"tax":Qn();break;case"shipping":Zn();break;case"settings":Wl(),Qn(),Zn(),ba();break;case"logs":Ql();break;case"importexport":Zl();break}}),pt(()=>{if(typeof window!="undefined"){const D=()=>({products:ae.value,categories:Te.value,orders:C0.value,cache:gi()}),oe=()=>{const Re=D();return console.group("[NXP Easy Cart] Performance Metrics"),console.table({Products:Re.products,Categories:Re.categories,Orders:Re.orders}),console.log("Cache Status:",Re.cache),console.groupEnd(),Re};window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset,getMetrics:D,logMetrics:oe,clearCache:we,getCacheStatus:gi};try{const Re=window.localStorage.getItem(Wn);Sa.value?Re!=="1"&&(zn.value=!0):window.localStorage.setItem(Wn,"1")}catch(Re){}}O.value&&ba()});const _w=()=>{X()},fw=()=>{ie()},mw=D=>{K(D)},hw=D=>{de(D)},gw=D=>{he(D)},Ew=async D=>{try{await le(D),X(),ee(),we("dashboard"),F(!0)}catch(oe){}},Cw=async({id:D,data:oe})=>{try{await Ae(D,oe),X(),ee()}catch(Re){}},Aw=async D=>{try{await Ne(D),X(),ee()}catch(oe){}},Sw=()=>{ee()},bw=()=>{q()},yw=D=>{W(D)},Tw=async D=>{try{await Q(D),ee(),Me.value=[],De()}catch(oe){}},Rw=async D=>{try{await j(D),ee(),Me.value=[],De()}catch(oe){}},Ow=()=>{F()},xw=()=>{Le()},vw=()=>{Lt()},Nw=D=>{an(D)},Pw=D=>{Ze(D)},Mw=()=>{ot()},Iw=async({id:D,state:oe})=>{try{await Se(D,oe)}catch(Re){}},kw=D=>{ce(D)},$w=async({ids:D,state:oe})=>{try{await it(D,oe)}catch(Re){}},ww=D=>{qe(D)},Dw=()=>{Yt()},Lw=async({id:D,message:oe})=>{await Ms(D,oe)},Yw=async D=>{if(!(D!=null&&D.id))return;const{id:oe,...Re}=D;try{await yn(oe,Re)}catch(Xe){}},Uw=async D=>{!(D!=null&&D.id)||!(D!=null&&D.type)||await m0(D.id,D.type)},Xw=async D=>{if(D!=null&&D.id)try{await h0(D.id,{amountCents:D.amountCents,reference:D.reference,note:D.note})}catch(oe){}},Fw=async D=>{if(D!=null&&D.id)try{await g0(D.id)}catch(oe){}},Gw=async D=>{if(D!=null&&D.download_id)try{await E0(D.download_id,D.order_id)}catch(oe){}},Vw=async D=>{if(!D)return;const oe=await _0(D);if(!(oe!=null&&oe.content))return;const Re=atob(oe.content),Xe=new Uint8Array(Re.length);for(let rn=0;rn<Re.length;rn+=1)Xe[rn]=Re.charCodeAt(rn);const ze=new Blob([Xe],{type:"application/pdf"}),gt=window.URL.createObjectURL(ze),bt=document.createElement("a");bt.href=gt,bt.download=oe.filename||"invoice.pdf",document.body.appendChild(bt),bt.click(),document.body.removeChild(bt),setTimeout(()=>window.URL.revokeObjectURL(gt),1e3)},Hw=async()=>{const D=await f0();if(!(D!=null&&D.content))return;const oe=atob(D.content),Re=new Uint8Array(oe.length);for(let bt=0;bt<oe.length;bt+=1)Re[bt]=oe.charCodeAt(bt);const Xe=new Blob([Re],{type:"text/csv;charset=utf-8"}),ze=window.URL.createObjectURL(Xe),gt=document.createElement("a");gt.href=ze,gt.download=D.filename||"orders-export.csv",document.body.appendChild(gt),gt.click(),document.body.removeChild(gt),setTimeout(()=>window.URL.revokeObjectURL(ze),1e3)},Bw=()=>{jl()},Kw=()=>{S0()},jw=D=>{b0(D)},Jw=D=>{y0(D)},Ww=()=>{T0()},qw=D=>{R0(D)},zw=D=>{O0(D)},Qw=()=>{Jl()},Zw=()=>{v0()},eD=D=>{N0(D)},tD=async D=>{try{await P0(D)}catch(oe){}},nD=async D=>{try{await M0(D)}catch(oe){}},sD=()=>{Wl(!0)},aD=async D=>{try{await k0(D),we("dashboard"),F(!0)}catch(oe){}},oD=()=>{Qn()},iD=async D=>{try{await B0(D),Qn()}catch(oe){}},rD=async D=>{try{await K0(D),Qn()}catch(oe){}},lD=()=>{Zn()},cD=async D=>{try{await W0(D),Zn()}catch(oe){}},dD=async D=>{try{await q0(D),Zn()}catch(oe){}},uD=()=>{Ql()},pD=()=>{Z0()},_D=D=>{ew(D)},fD=D=>{tw(D)},mD=()=>{ba()},hD=async D=>{await sw(D),we("dashboard"),F(!0)},gD=()=>{Zl()},ED=async D=>{await ow(D)},CD=async()=>{await iw()},AD=async()=>{await rw()},SD=()=>{lw()},bD=async()=>{await cw()},yD=async()=>{await dw()},TD=()=>{uw()},RD=()=>{pw()};return(D,oe)=>(A(),We(Qm,null,{default:ro(()=>{var Re,Xe,ze,gt,bt,rn;return[a("section",n0,[a("header",s0,[a("div",null,[a("h1",a0,c(r(n)(i.value,(Xe=(Re=t.dataset)==null?void 0:Re.appTitle)!=null?Xe:"NXP Easy Cart",[],"appTitle")),1),a("p",o0,c(r(n)(s.value,(gt=(ze=t.dataset)==null?void 0:ze.appLead)!=null?gt:"Manage your storefront from one place.",[],"appLead")),1)]),te(a("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:Rt(X0.value),onClick:F0},[ge(c(r(n)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),a("span",i0,c(U0.value),1)],4),[[Cn,Sa.value]])]),d.value.length?(A(),b("nav",r0,[(A(!0),b(be,null,xe(d.value,Is=>(A(),b("a",{key:Is.id,href:Is.link,class:ve({"is-active":Is.id===_.value})},c(Is.title),11,l0))),128))])):se("",!0),_.value==="dashboard"?(A(),We(Mh,{key:1,state:r(L),translate:r(n),onRefresh:Ow},null,8,["state","translate"])):_.value==="products"?(A(),We(wA,{key:2,state:r(B),translate:r(n),"base-currency":qn.value,"category-options":Be.value,"media-modal-url":D0.value,"digital-endpoints":r(Ce),"csrf-token":t.csrfToken,"checkout-product":r(N),"checkin-product":r(k),"force-checkin-product":r(V),"current-user-id":R.value,onCreate:Ew,onUpdate:Cw,onDelete:Aw,onRefresh:_w,onSearch:fw,onPage:mw,onFilterCategory:hw,onSort:gw},null,8,["state","translate","base-currency","category-options","media-modal-url","digital-endpoints","csrf-token","checkout-product","checkin-product","force-checkin-product","current-user-id"])):_.value==="categories"?(A(),We(LS,{key:3,state:r(z),translate:r(n),"load-options":r(pe),"checkout-category":r(re),"checkin-category":r(ue),"force-checkin-category":r(Ee),"current-user-id":R.value,onRefresh:Sw,onSearch:bw,onPage:yw,onSave:Tw,onDelete:Rw},null,8,["state","translate","load-options","checkout-category","checkin-category","force-checkin-category","current-user-id"])):_.value==="orders"?(A(),We(hT,{key:4,state:r(Ke),translate:r(n),"site-root":L0.value,"current-user-id":R.value,"force-checkin-order":r(me),onRefresh:xw,onSearch:vw,onFilter:Nw,onView:Pw,onClose:Mw,onTransition:Iw,onPage:kw,onBulkTransition:$w,onToggleSelection:ww,onClearSelection:Dw,onAddNote:Lw,onSaveTracking:Yw,onSendEmail:Uw,onRecordPayment:Xw,onResendDownloads:Fw,onResetDownload:Gw,onInvoice:Vw,onExport:Hw},null,8,["state","translate","site-root","current-user-id","force-checkin-order"])):_.value==="customers"?(A(),We(ER,{key:5,state:r(A0),translate:r(n),"base-currency":qn.value,onRefresh:Bw,onSearch:Kw,onPage:jw,onView:Jw,onClose:Ww,onGdprExport:qw,onGdprAnonymise:zw},null,8,["state","translate","base-currency"])):_.value==="coupons"?(A(),We(wO,{key:6,state:r(x0),translate:r(n),"base-currency":qn.value,onRefresh:Qw,onSearch:Zw,onPage:eD,onSave:tD,onDelete:nD},null,8,["state","translate","base-currency"])):_.value==="tax"?(A(),We(lM,{key:7,state:r(H0),translate:r(n),onRefresh:oD,onSave:iD,onDelete:rD},null,8,["state","translate"])):_.value==="shipping"?(A(),We(AI,{key:8,state:r(J0),translate:r(n),"base-currency":qn.value,onRefresh:lD,onSave:cD,onDelete:dD},null,8,["state","translate","base-currency"])):_.value==="settings"?(A(),We(ZP,{key:9,"settings-state":r(on),"payments-state":r(nw),translate:r(n),"base-currency":qn.value,"initial-tab":m.value,onRefreshSettings:sD,onSaveSettings:aD,onRefreshPayments:mD,onSavePayments:hD},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):_.value==="logs"&&l.value?(A(),We(sk,{key:10,state:r(Q0),translate:r(n),onRefresh:uD,onSearch:pD,onFilter:_D,onPage:fD},null,8,["state","translate"])):_.value==="importexport"?(A(),We(y$,{key:11,state:r(aw),translate:r(n),onRefresh:gD,onUploadFile:ED,onStartImport:CD,onCancelImport:AD,onResetImport:SD,onStartExport:bD,onCancelExport:yD,onDownloadExport:TD,onResetExport:RD},null,8,["state","translate"])):(A(),b("div",c0,[a("div",d0,[a("p",u0,c(r(n)(s.value,(rn=(bt=t.dataset)==null?void 0:bt.appLead)!=null?rn:"This section will be available soon.",[],"appLead")),1)])]))]),je(U$,{visible:zn.value,steps:Aa.value,translate:r(n),onClose:zl,onNavigate:G0},null,8,["visible","steps","translate"])]}),_:1}))}},Ps=document.getElementById("nxp-ec-admin-app");if(!Ps)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(Ai=Ps.getAttribute("data-csrf-token"))!=null?Ai:"",t=Object.assign({},Ps.dataset);let n={};if(t.config)try{n=JSON.parse(t.config)}catch(M){console.warn("[NXP Easy Cart] Failed to parse admin config payload",M)}const i={...(bi=(Si=n==null?void 0:n.endpoints)==null?void 0:Si.products)!=null?bi:{},list:(Oi=(Ri=(Ti=(yi=n==null?void 0:n.endpoints)==null?void 0:yi.products)==null?void 0:Ti.list)!=null?Ri:t.productsEndpoint)!=null?Oi:"",create:(Pi=(Ni=(vi=(xi=n==null?void 0:n.endpoints)==null?void 0:xi.products)==null?void 0:vi.create)!=null?Ni:t.productsEndpointCreate)!=null?Pi:"",update:($i=(ki=(Ii=(Mi=n==null?void 0:n.endpoints)==null?void 0:Mi.products)==null?void 0:Ii.update)!=null?ki:t.productsEndpointUpdate)!=null?$i:"",delete:(Yi=(Li=(Di=(wi=n==null?void 0:n.endpoints)==null?void 0:wi.products)==null?void 0:Di.delete)!=null?Li:t.productsEndpointDelete)!=null?Yi:"",checkout:(Gi=(Fi=(Xi=(Ui=n==null?void 0:n.endpoints)==null?void 0:Ui.products)==null?void 0:Xi.checkout)!=null?Fi:t.productsEndpointCheckout)!=null?Gi:"",checkin:(Ki=(Bi=(Hi=(Vi=n==null?void 0:n.endpoints)==null?void 0:Vi.products)==null?void 0:Hi.checkin)!=null?Bi:t.productsEndpointCheckin)!=null?Ki:""},s={...(Ji=(ji=n==null?void 0:n.endpoints)==null?void 0:ji.categories)!=null?Ji:{},list:(Qi=(zi=(qi=(Wi=n==null?void 0:n.endpoints)==null?void 0:Wi.categories)==null?void 0:qi.list)!=null?zi:t.categoriesEndpoint)!=null?Qi:"",create:(nr=(tr=(er=(Zi=n==null?void 0:n.endpoints)==null?void 0:Zi.categories)==null?void 0:er.create)!=null?tr:t.categoriesEndpointCreate)!=null?nr:"",update:(ir=(or=(ar=(sr=n==null?void 0:n.endpoints)==null?void 0:sr.categories)==null?void 0:ar.update)!=null?or:t.categoriesEndpointUpdate)!=null?ir:"",delete:(dr=(cr=(lr=(rr=n==null?void 0:n.endpoints)==null?void 0:rr.categories)==null?void 0:lr.delete)!=null?cr:t.categoriesEndpointDelete)!=null?dr:"",checkout:(fr=(_r=(pr=(ur=n==null?void 0:n.endpoints)==null?void 0:ur.categories)==null?void 0:pr.checkout)!=null?_r:t.categoriesEndpointCheckout)!=null?fr:"",checkin:(Er=(gr=(hr=(mr=n==null?void 0:n.endpoints)==null?void 0:mr.categories)==null?void 0:hr.checkin)!=null?gr:t.categoriesEndpointCheckin)!=null?Er:""},o={...(Ar=(Cr=n==null?void 0:n.endpoints)==null?void 0:Cr.orders)!=null?Ar:{},list:(Tr=(yr=(br=(Sr=n==null?void 0:n.endpoints)==null?void 0:Sr.orders)==null?void 0:br.list)!=null?yr:t.ordersEndpoint)!=null?Tr:"",show:(vr=(xr=(Or=(Rr=n==null?void 0:n.endpoints)==null?void 0:Rr.orders)==null?void 0:Or.show)!=null?xr:t.ordersEndpointShow)!=null?vr:"",transition:(Ir=(Mr=(Pr=(Nr=n==null?void 0:n.endpoints)==null?void 0:Nr.orders)==null?void 0:Pr.transition)!=null?Mr:t.ordersEndpointTransition)!=null?Ir:"",bulkTransition:(Dr=(wr=($r=(kr=n==null?void 0:n.endpoints)==null?void 0:kr.orders)==null?void 0:$r.bulkTransition)!=null?wr:t.ordersEndpointBulk)!=null?Dr:"",note:(Xr=(Ur=(Yr=(Lr=n==null?void 0:n.endpoints)==null?void 0:Lr.orders)==null?void 0:Yr.note)!=null?Ur:t.ordersEndpointNote)!=null?Xr:"",tracking:(Hr=(Vr=(Gr=(Fr=n==null?void 0:n.endpoints)==null?void 0:Fr.orders)==null?void 0:Gr.tracking)!=null?Vr:t.ordersEndpointTracking)!=null?Hr:"",invoice:(Jr=(jr=(Kr=(Br=n==null?void 0:n.endpoints)==null?void 0:Br.orders)==null?void 0:Kr.invoice)!=null?jr:t.ordersEndpointInvoice)!=null?Jr:"",checkout:(Qr=(zr=(qr=(Wr=n==null?void 0:n.endpoints)==null?void 0:Wr.orders)==null?void 0:qr.checkout)!=null?zr:t.ordersEndpointCheckout)!=null?Qr:"",checkin:(nl=(tl=(el=(Zr=n==null?void 0:n.endpoints)==null?void 0:Zr.orders)==null?void 0:el.checkin)!=null?tl:t.ordersEndpointCheckin)!=null?nl:""},l=(il=(sl=n==null?void 0:n.endpoints)==null?void 0:sl.customers)!=null?il:{list:(al=t.customersEndpoint)!=null?al:"",show:(ol=t.customersEndpointShow)!=null?ol:""},d=(dl=(rl=n==null?void 0:n.endpoints)==null?void 0:rl.gdpr)!=null?dl:{export:(ll=t.gdprEndpointExport)!=null?ll:"",anonymise:(cl=t.gdprEndpointAnonymise)!=null?cl:""},p=(hl=(ul=n==null?void 0:n.endpoints)==null?void 0:ul.coupons)!=null?hl:{list:(pl=t.couponsEndpoint)!=null?pl:"",create:(_l=t.couponsEndpointCreate)!=null?_l:"",update:(fl=t.couponsEndpointUpdate)!=null?fl:"",delete:(ml=t.couponsEndpointDelete)!=null?ml:""},_=(bl=(gl=n==null?void 0:n.endpoints)==null?void 0:gl.tax)!=null?bl:{list:(El=t.taxEndpoint)!=null?El:"",create:(Cl=t.taxEndpointCreate)!=null?Cl:"",update:(Al=t.taxEndpointUpdate)!=null?Al:"",delete:(Sl=t.taxEndpointDelete)!=null?Sl:""},m=(vl=(yl=n==null?void 0:n.endpoints)==null?void 0:yl.shipping)!=null?vl:{list:(Tl=t.shippingEndpoint)!=null?Tl:"",create:(Rl=t.shippingEndpointCreate)!=null?Rl:"",update:(Ol=t.shippingEndpointUpdate)!=null?Ol:"",delete:(xl=t.shippingEndpointDelete)!=null?xl:""},u=(kl=(Nl=n==null?void 0:n.endpoints)==null?void 0:Nl.digitalfiles)!=null?kl:{list:(Pl=t.digitalfilesEndpointList)!=null?Pl:"",upload:(Ml=t.digitalfilesEndpointUpload)!=null?Ml:"",delete:(Il=t.digitalfilesEndpointDelete)!=null?Il:""},R=(Ll=($l=n==null?void 0:n.endpoints)==null?void 0:$l.settings)!=null?Ll:{show:(wl=t.settingsEndpointShow)!=null?wl:"",update:(Dl=t.settingsEndpointUpdate)!=null?Dl:""},g=(Xl=(Yl=n==null?void 0:n.endpoints)==null?void 0:Yl.logs)!=null?Xl:{list:(Ul=t.logsEndpoint)!=null?Ul:""},w=(Vl=(Fl=n==null?void 0:n.endpoints)==null?void 0:Fl.importExport)!=null?Vl:{base:(Gl=t.importExportEndpoint)!=null?Gl:""};Hm(p0,{csrfToken:e,dataset:t,config:n,endpoints:{products:i,categories:s,orders:o,customers:l,gdpr:d,coupons:p,tax:_,shipping:m,digitalfiles:u,settings:R,logs:g,importExport:w,dashboard:(Kl=(Bl=(Hl=n==null?void 0:n.endpoints)==null?void 0:Hl.dashboard)!=null?Bl:t.dashboardEndpoint)!=null?Kl:""}}).mount(Ps)}})();
