(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var aa,ra,la,ca,da,ua,pa,_a,fa,ha,ma,ga,Ca,Sa,Ea,ba,Aa,Ta,ya,Oa,Ra,va,xa,Na,Pa,Ma,ka,Ia,wa,$a,Ua,Da,La,Ya,Xa,Fa,Ga,Va,Ha,Ba,Ka,ja,Ja,Wa,qa,za,Qa,Za,er,tr,nr,sr,ir,or;function As(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ie={},en=[],St=()=>{},_i=()=>!1,Fn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ts=e=>e.startsWith("onUpdate:"),Qe=Object.assign,ys=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Lc=Object.prototype.hasOwnProperty,Pe=(e,t)=>Lc.call(e,t),Ce=Array.isArray,tn=e=>mn(e)==="[object Map]",nn=e=>mn(e)==="[object Set]",fi=e=>mn(e)==="[object Date]",be=e=>typeof e=="function",Ve=e=>typeof e=="string",_t=e=>typeof e=="symbol",$e=e=>e!==null&&typeof e=="object",hi=e=>($e(e)||be(e))&&be(e.then)&&be(e.catch),mi=Object.prototype.toString,mn=e=>mi.call(e),Yc=e=>mn(e).slice(8,-1),gi=e=>mn(e)==="[object Object]",Os=e=>Ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=As(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Xc=/-\w/g,Lt=Gn(e=>e.replace(Xc,t=>t.slice(1).toUpperCase())),Fc=/\B([A-Z])/g,Yt=Gn(e=>e.replace(Fc,"-$1").toLowerCase()),Ci=Gn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rs=Gn(e=>e?`on${Ci(e)}`:""),Xt=(e,t)=>!Object.is(e,t),Vn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Si=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},Hn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ei;const Bn=()=>Ei||(Ei=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Ft(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=Ve(o)?Bc(o):Ft(o);if(n)for(const a in n)t[a]=n[a]}return t}else if(Ve(e)||$e(e))return e}const Gc=/;(?![^(]*\))/g,Vc=/:([^]+)/,Hc=/\/\*[^]*?\*\//g;function Bc(e){const t={};return e.replace(Hc,"").split(Gc).forEach(s=>{if(s){const o=s.split(Vc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function ke(e){let t="";if(Ve(e))t=e;else if(Ce(e))for(let s=0;s<e.length;s++){const o=ke(e[s]);o&&(t+=o+" ")}else if($e(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Kc=As("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function bi(e){return!!e||e===""}function jc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=Cn(e[o],t[o]);return s}function Cn(e,t){if(e===t)return!0;let s=fi(e),o=fi(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=_t(e),o=_t(t),s||o)return e===t;if(s=Ce(e),o=Ce(t),s||o)return s&&o?jc(e,t):!1;if(s=$e(e),o=$e(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const l in e){const u=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(u&&!p||!u&&p||!Cn(e[l],t[l]))return!1}}return String(e)===String(t)}function vs(e,t){return e.findIndex(s=>Cn(s,t))}const Ai=e=>!!(e&&e.__v_isRef===!0),d=e=>Ve(e)?e:e==null?"":Ce(e)||$e(e)&&(e.toString===mi||!be(e.toString))?Ai(e)?d(e.value):JSON.stringify(e,Ti,2):String(e),Ti=(e,t)=>Ai(t)?Ti(e,t.value):tn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],a)=>(s[xs(o,a)+" =>"]=n,s),{})}:nn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>xs(s))}:_t(t)?xs(t):$e(t)&&!Ce(t)&&!gi(t)?String(t):t,xs=(e,t="")=>{var s;return _t(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class Jc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Wc(){return nt}let Ue;const Ns=new WeakSet;class yi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ns.has(this)&&(Ns.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ri(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Mi(this),vi(this);const t=Ue,s=ft;Ue=this,ft=!0;try{return this.fn()}finally{xi(this),Ue=t,ft=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Is(t);this.deps=this.depsTail=void 0,Mi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ns.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ks(this)&&this.run()}get dirty(){return ks(this)}}let Oi=0,Sn,En;function Ri(e,t=!1){if(e.flags|=8,t){e.next=En,En=e;return}e.next=Sn,Sn=e}function Ps(){Oi++}function Ms(){if(--Oi>0)return;if(En){let t=En;for(En=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Sn;){let t=Sn;for(Sn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function vi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function xi(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),Is(o),qc(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function ks(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ni(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ni(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bn)||(e.globalVersion=bn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ks(e))))return;e.flags|=2;const t=e.dep,s=Ue,o=ft;Ue=e,ft=!0;try{vi(e);const n=e.fn(e._value);(t.version===0||Xt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Ue=s,ft=o,xi(e),e.flags&=-3}}function Is(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)Is(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function qc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ft=!0;const Pi=[];function Et(){Pi.push(ft),ft=!1}function bt(){const e=Pi.pop();ft=e===void 0?!0:e}function Mi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ue;Ue=void 0;try{t()}finally{Ue=s}}}let bn=0;class zc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ws{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ue||!ft||Ue===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ue)s=this.activeLink=new zc(Ue,this),Ue.deps?(s.prevDep=Ue.depsTail,Ue.depsTail.nextDep=s,Ue.depsTail=s):Ue.deps=Ue.depsTail=s,ki(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Ue.depsTail,s.nextDep=void 0,Ue.depsTail.nextDep=s,Ue.depsTail=s,Ue.deps===s&&(Ue.deps=o)}return s}trigger(t){this.version++,bn++,this.notify(t)}notify(t){Ps();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ms()}}}function ki(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)ki(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const $s=new WeakMap,Kt=Symbol(""),Us=Symbol(""),An=Symbol("");function qe(e,t,s){if(ft&&Ue){let o=$s.get(e);o||$s.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new ws),n.map=o,n.key=s),n.track()}}function Mt(e,t,s,o,n,a){const l=$s.get(e);if(!l){bn++;return}const u=p=>{p&&p.trigger()};if(Ps(),t==="clear")l.forEach(u);else{const p=Ce(e),h=p&&Os(s);if(p&&s==="length"){const f=Number(o);l.forEach((c,A)=>{(A==="length"||A===An||!_t(A)&&A>=f)&&u(c)})}else switch((s!==void 0||l.has(void 0))&&u(l.get(s)),h&&u(l.get(An)),t){case"add":p?h&&u(l.get("length")):(u(l.get(Kt)),tn(e)&&u(l.get(Us)));break;case"delete":p||(u(l.get(Kt)),tn(e)&&u(l.get(Us)));break;case"set":tn(e)&&u(l.get(Kt));break}}Ms()}function sn(e){const t=xe(e);return t===e?t:(qe(t,"iterate",An),ut(e)?t:t.map(je))}function Kn(e){return qe(e=xe(e),"iterate",An),e}const Qc={__proto__:null,[Symbol.iterator](){return Ds(this,Symbol.iterator,je)},concat(...e){return sn(this).concat(...e.map(t=>Ce(t)?sn(t):t))},entries(){return Ds(this,"entries",e=>(e[1]=je(e[1]),e))},every(e,t){return kt(this,"every",e,t,void 0,arguments)},filter(e,t){return kt(this,"filter",e,t,s=>s.map(je),arguments)},find(e,t){return kt(this,"find",e,t,je,arguments)},findIndex(e,t){return kt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return kt(this,"findLast",e,t,je,arguments)},findLastIndex(e,t){return kt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return kt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ls(this,"includes",e)},indexOf(...e){return Ls(this,"indexOf",e)},join(e){return sn(this).join(e)},lastIndexOf(...e){return Ls(this,"lastIndexOf",e)},map(e,t){return kt(this,"map",e,t,void 0,arguments)},pop(){return Tn(this,"pop")},push(...e){return Tn(this,"push",e)},reduce(e,...t){return Ii(this,"reduce",e,t)},reduceRight(e,...t){return Ii(this,"reduceRight",e,t)},shift(){return Tn(this,"shift")},some(e,t){return kt(this,"some",e,t,void 0,arguments)},splice(...e){return Tn(this,"splice",e)},toReversed(){return sn(this).toReversed()},toSorted(e){return sn(this).toSorted(e)},toSpliced(...e){return sn(this).toSpliced(...e)},unshift(...e){return Tn(this,"unshift",e)},values(){return Ds(this,"values",je)}};function Ds(e,t,s){const o=Kn(e),n=o[t]();return o!==e&&!ut(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const Zc=Array.prototype;function kt(e,t,s,o,n,a){const l=Kn(e),u=l!==e&&!ut(e),p=l[t];if(p!==Zc[t]){const c=p.apply(e,a);return u?je(c):c}let h=s;l!==e&&(u?h=function(c,A){return s.call(this,je(c),A,e)}:s.length>2&&(h=function(c,A){return s.call(this,c,A,e)}));const f=p.call(l,h,o);return u&&n?n(f):f}function Ii(e,t,s,o){const n=Kn(e);let a=s;return n!==e&&(ut(e)?s.length>3&&(a=function(l,u,p){return s.call(this,l,u,p,e)}):a=function(l,u,p){return s.call(this,l,je(u),p,e)}),n[t](a,...o)}function Ls(e,t,s){const o=xe(e);qe(o,"iterate",An);const n=o[t](...s);return(n===-1||n===!1)&&Fs(s[0])?(s[0]=xe(s[0]),o[t](...s)):n}function Tn(e,t,s=[]){Et(),Ps();const o=xe(e)[t].apply(e,s);return Ms(),bt(),o}const ed=As("__proto__,__v_isRef,__isVue"),wi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_t));function td(e){_t(e)||(e=String(e));const t=xe(this);return qe(t,"has",e),t.hasOwnProperty(e)}class $i{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return o===(n?a?Fi:Xi:a?Yi:Li).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=Ce(t);if(!n){let p;if(l&&(p=Qc[s]))return p;if(s==="hasOwnProperty")return td}const u=Reflect.get(t,s,Je(t)?t:o);if((_t(s)?wi.has(s):ed(s))||(n||qe(t,"get",s),a))return u;if(Je(u)){const p=l&&Os(s)?u:u.value;return n&&$e(p)?Xs(p):p}return $e(u)?n?Xs(u):we(u):u}}class Ui extends $i{constructor(t=!1){super(!1,t)}set(t,s,o,n){let a=t[s];if(!this._isShallow){const p=Gt(a);if(!ut(o)&&!Gt(o)&&(a=xe(a),o=xe(o)),!Ce(t)&&Je(a)&&!Je(o))return p||(a.value=o),!0}const l=Ce(t)&&Os(s)?Number(s)<t.length:Pe(t,s),u=Reflect.set(t,s,o,Je(t)?t:n);return t===xe(n)&&(l?Xt(o,a)&&Mt(t,"set",s,o):Mt(t,"add",s,o)),u}deleteProperty(t,s){const o=Pe(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&Mt(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!_t(s)||!wi.has(s))&&qe(t,"has",s),o}ownKeys(t){return qe(t,"iterate",Ce(t)?"length":Kt),Reflect.ownKeys(t)}}class Di extends $i{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const nd=new Ui,sd=new Di,id=new Ui(!0),od=new Di(!0),Ys=e=>e,jn=e=>Reflect.getPrototypeOf(e);function ad(e,t,s){return function(...o){const n=this.__v_raw,a=xe(n),l=tn(a),u=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,h=n[e](...o),f=s?Ys:t?zn:je;return!t&&qe(a,"iterate",p?Us:Kt),{next(){const{value:c,done:A}=h.next();return A?{value:c,done:A}:{value:u?[f(c[0]),f(c[1])]:f(c),done:A}},[Symbol.iterator](){return this}}}}function Jn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function rd(e,t){const s={get(n){const a=this.__v_raw,l=xe(a),u=xe(n);e||(Xt(n,u)&&qe(l,"get",n),qe(l,"get",u));const{has:p}=jn(l),h=t?Ys:e?zn:je;if(p.call(l,n))return h(a.get(n));if(p.call(l,u))return h(a.get(u));a!==l&&a.get(n)},get size(){const n=this.__v_raw;return!e&&qe(xe(n),"iterate",Kt),n.size},has(n){const a=this.__v_raw,l=xe(a),u=xe(n);return e||(Xt(n,u)&&qe(l,"has",n),qe(l,"has",u)),n===u?a.has(n):a.has(n)||a.has(u)},forEach(n,a){const l=this,u=l.__v_raw,p=xe(u),h=t?Ys:e?zn:je;return!e&&qe(p,"iterate",Kt),u.forEach((f,c)=>n.call(a,h(f),h(c),l))}};return Qe(s,e?{add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear")}:{add(n){!t&&!ut(n)&&!Gt(n)&&(n=xe(n));const a=xe(this);return jn(a).has.call(a,n)||(a.add(n),Mt(a,"add",n,n)),this},set(n,a){!t&&!ut(a)&&!Gt(a)&&(a=xe(a));const l=xe(this),{has:u,get:p}=jn(l);let h=u.call(l,n);h||(n=xe(n),h=u.call(l,n));const f=p.call(l,n);return l.set(n,a),h?Xt(a,f)&&Mt(l,"set",n,a):Mt(l,"add",n,a),this},delete(n){const a=xe(this),{has:l,get:u}=jn(a);let p=l.call(a,n);p||(n=xe(n),p=l.call(a,n)),u&&u.call(a,n);const h=a.delete(n);return p&&Mt(a,"delete",n,void 0),h},clear(){const n=xe(this),a=n.size!==0,l=n.clear();return a&&Mt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=ad(n,e,t)}),s}function Wn(e,t){const s=rd(e,t);return(o,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(Pe(s,n)&&n in o?s:o,n,a)}const ld={get:Wn(!1,!1)},cd={get:Wn(!1,!0)},dd={get:Wn(!0,!1)},ud={get:Wn(!0,!0)},Li=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,Fi=new WeakMap;function pd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _d(e){return e.__v_skip||!Object.isExtensible(e)?0:pd(Yc(e))}function we(e){return Gt(e)?e:qn(e,!1,nd,ld,Li)}function fd(e){return qn(e,!1,id,cd,Yi)}function Xs(e){return qn(e,!0,sd,dd,Xi)}function zR(e){return qn(e,!0,od,ud,Fi)}function qn(e,t,s,o,n){if(!$e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=_d(e);if(a===0)return e;const l=n.get(e);if(l)return l;const u=new Proxy(e,a===2?o:s);return n.set(e,u),u}function on(e){return Gt(e)?on(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function Fs(e){return e?!!e.__v_raw:!1}function xe(e){const t=e&&e.__v_raw;return t?xe(t):e}function hd(e){return!Pe(e,"__v_skip")&&Object.isExtensible(e)&&Si(e,"__v_skip",!0),e}const je=e=>$e(e)?we(e):e,zn=e=>$e(e)?Xs(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function He(e){return md(e,!1)}function md(e,t){return Je(e)?e:new gd(e,t)}class gd{constructor(t,s){this.dep=new ws,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:xe(t),this._value=s?t:je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||ut(t)||Gt(t);t=o?t:xe(t),Xt(t,s)&&(this._rawValue=t,this._value=o?t:je(t),this.dep.trigger())}}function r(e){return Je(e)?e.value:e}const Cd={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return Je(n)&&!Je(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function Gi(e){return on(e)?e:new Proxy(e,Cd)}class Sd{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new ws(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ue!==this)return Ri(this,!0),!0}get value(){const t=this.dep.track();return Ni(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ed(e,t,s=!1){let o,n;return be(e)?o=e:(o=e.get,n=e.set),new Sd(o,n,s)}const Qn={},Zn=new WeakMap;let jt;function bd(e,t=!1,s=jt){if(s){let o=Zn.get(s);o||Zn.set(s,o=[]),o.push(e)}}function Ad(e,t,s=Ie){const{immediate:o,deep:n,once:a,scheduler:l,augmentJob:u,call:p}=s,h=S=>n?S:ut(S)||n===!1||n===0?It(S,1):It(S);let f,c,A,v,$=!1,x=!1;if(Je(e)?(c=()=>e.value,$=ut(e)):on(e)?(c=()=>h(e),$=!0):Ce(e)?(x=!0,$=e.some(S=>on(S)||ut(S)),c=()=>e.map(S=>{if(Je(S))return S.value;if(on(S))return h(S);if(be(S))return p?p(S,2):S()})):be(e)?t?c=p?()=>p(e,2):e:c=()=>{if(A){Et();try{A()}finally{bt()}}const S=jt;jt=f;try{return p?p(e,3,[v]):e(v)}finally{jt=S}}:c=St,t&&n){const S=c,w=n===!0?1/0:n;c=()=>It(S(),w)}const P=Wc(),X=()=>{f.stop(),P&&P.active&&ys(P.effects,f)};if(a&&t){const S=t;t=(...w)=>{S(...w),X()}}let z=x?new Array(e.length).fill(Qn):Qn;const H=S=>{if(!(!(f.flags&1)||!f.dirty&&!S))if(t){const w=f.run();if(n||$||(x?w.some((se,re)=>Xt(se,z[re])):Xt(w,z))){A&&A();const se=jt;jt=f;try{const re=[w,z===Qn?void 0:x&&z[0]===Qn?[]:z,v];z=w,p?p(t,3,re):t(...re)}finally{jt=se}}}else f.run()};return u&&u(H),f=new yi(c),f.scheduler=l?()=>l(H,!1):H,v=S=>bd(S,!1,f),A=f.onStop=()=>{const S=Zn.get(f);if(S){if(p)p(S,4);else for(const w of S)w();Zn.delete(f)}},t?o?H(!0):z=f.run():l?l(H.bind(null,!0),!0):f.run(),X.pause=f.pause.bind(f),X.resume=f.resume.bind(f),X.stop=X,X}function It(e,t=1/0,s){if(t<=0||!$e(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Je(e))It(e.value,t,s);else if(Ce(e))for(let o=0;o<e.length;o++)It(e[o],t,s);else if(nn(e)||tn(e))e.forEach(o=>{It(o,t,s)});else if(gi(e)){for(const o in e)It(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&It(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yn=[];let Gs=!1;function QR(e,...t){if(Gs)return;Gs=!0,Et();const s=yn.length?yn[yn.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=Td();if(o)an(o,s,11,[e+t.map(a=>{var l,u;return(u=(l=a.toString)==null?void 0:l.call(a))!=null?u:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${Lo(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,...yd(n)),console.warn(...a)}bt(),Gs=!1}function Td(){let e=yn[yn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function yd(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...Od(s))}),t}function Od({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${Lo(e.component,e.type,o)}`,a=">"+s;return e.props?[n,...Rd(e.props),a]:[n+a]}function Rd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...Vi(o,e[o]))}),s.length>3&&t.push(" ..."),t}function Vi(e,t,s){return Ve(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Je(t)?(t=Vi(e,xe(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):be(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=xe(t),s?t:[`${e}=`,t])}function an(e,t,s,o){try{return o?e(...o):e()}catch(n){es(n,t,s)}}function At(e,t,s,o){if(be(e)){const n=an(e,t,s,o);return n&&hi(n)&&n.catch(a=>{es(a,t,s)}),n}if(Ce(e)){const n=[];for(let a=0;a<e.length;a++)n.push(At(e[a],t,s,o));return n}}function es(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Ie;if(t){let u=t.parent;const p=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const f=u.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](e,p,h)===!1)return}u=u.parent}if(a){Et(),an(a,null,10,[e,p,h]),bt();return}}vd(e,s,n,o,l)}function vd(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Ze=[];let Tt=-1;const rn=[];let Vt=null,ln=0;const Hi=Promise.resolve();let ts=null;function Bi(e){const t=ts||Hi;return e?t.then(this?e.bind(this):e):t}function xd(e){let t=Tt+1,s=Ze.length;for(;t<s;){const o=t+s>>>1,n=Ze[o],a=On(n);a<e||a===e&&n.flags&2?t=o+1:s=o}return t}function Vs(e){if(!(e.flags&1)){const t=On(e),s=Ze[Ze.length-1];!s||!(e.flags&2)&&t>=On(s)?Ze.push(e):Ze.splice(xd(t),0,e),e.flags|=1,Ki()}}function Ki(){ts||(ts=Hi.then(Wi))}function Nd(e){Ce(e)?rn.push(...e):Vt&&e.id===-1?Vt.splice(ln+1,0,e):e.flags&1||(rn.push(e),e.flags|=1),Ki()}function ji(e,t,s=Tt+1){for(;s<Ze.length;s++){const o=Ze[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ze.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Ji(e){if(rn.length){const t=[...new Set(rn)].sort((s,o)=>On(s)-On(o));if(rn.length=0,Vt){Vt.push(...t);return}for(Vt=t,ln=0;ln<Vt.length;ln++){const s=Vt[ln];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Vt=null,ln=0}}const On=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Wi(e){try{for(Tt=0;Tt<Ze.length;Tt++){const t=Ze[Tt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),an(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Tt<Ze.length;Tt++){const t=Ze[Tt];t&&(t.flags&=-2)}Tt=-1,Ze.length=0,Ji(),ts=null,(Ze.length||rn.length)&&Wi()}}let ze=null,qi=null;function ns(e){const t=ze;return ze=e,qi=e&&e.type.__scopeId||null,t}function zi(e,t=ze,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&Mo(-1);const a=ns(t);let l;try{l=e(...n)}finally{ns(a),o._d&&Mo(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function ne(e,t){if(ze===null)return e;const s=ps(ze),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,l,u,p=Ie]=t[n];a&&(be(a)&&(a={mounted:a,updated:a}),a.deep&&It(l),o.push({dir:a,instance:s,value:l,oldValue:void 0,arg:u,modifiers:p}))}return e}function Jt(e,t,s,o){const n=e.dirs,a=t&&t.dirs;for(let l=0;l<n.length;l++){const u=n[l];a&&(u.oldValue=a[l].value);let p=u.dir[o];p&&(Et(),At(p,s,8,[e.el,u,e,t]),bt())}}const Pd=Symbol("_vte"),Md=e=>e.__isTeleport,kd=Symbol("_leaveCb");function Hs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Hs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Qi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ss=new WeakMap;function Rn(e,t,s,o,n=!1){if(Ce(e)){e.forEach(($,x)=>Rn($,t&&(Ce(t)?t[x]:t),s,o,n));return}if(cn(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Rn(e,t,s,o.component.subTree);return}const a=o.shapeFlag&4?ps(o.component):o.el,l=n?null:a,{i:u,r:p}=e,h=t&&t.r,f=u.refs===Ie?u.refs={}:u.refs,c=u.setupState,A=xe(c),v=c===Ie?_i:$=>Pe(A,$);if(h!=null&&h!==p){if(Zi(t),Ve(h))f[h]=null,v(h)&&(c[h]=null);else if(Je(h)){h.value=null;const $=t;$.k&&(f[$.k]=null)}}if(be(p))an(p,u,12,[l,f]);else{const $=Ve(p),x=Je(p);if($||x){const P=()=>{if(e.f){const X=$?v(p)?c[p]:f[p]:p.value;if(n)Ce(X)&&ys(X,a);else if(Ce(X))X.includes(a)||X.push(a);else if($)f[p]=[a],v(p)&&(c[p]=f[p]);else{const z=[a];p.value=z,e.k&&(f[e.k]=z)}}else $?(f[p]=l,v(p)&&(c[p]=l)):x&&(p.value=l,e.k&&(f[e.k]=l))};if(l){const X=()=>{P(),ss.delete(e)};X.id=-1,ss.set(e,X),ot(X,s)}else Zi(e),P()}}}function Zi(e){const t=ss.get(e);t&&(t.flags|=8,ss.delete(e))}Bn().requestIdleCallback,Bn().cancelIdleCallback;const cn=e=>!!e.type.__asyncLoader,eo=e=>e.type.__isKeepAlive;function Id(e,t){to(e,"a",t)}function wd(e,t){to(e,"da",t)}function to(e,t,s=tt){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(is(t,o,s),s){let n=s.parent;for(;n&&n.parent;)eo(n.parent.vnode)&&$d(o,t,s,n),n=n.parent}}function $d(e,t,s,o){const n=is(t,e,o,!0);so(()=>{ys(o[t],n)},s)}function is(e,t,s=tt,o=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...l)=>{Et();const u=kn(s),p=At(t,s,e,l);return u(),bt(),p});return o?n.unshift(a):n.push(a),a}}const wt=e=>(t,s=tt)=>{(!In||e==="sp")&&is(e,(...o)=>t(...o),s)},Ud=wt("bm"),it=wt("m"),Dd=wt("bu"),Ld=wt("u"),no=wt("bum"),so=wt("um"),Yd=wt("sp"),Xd=wt("rtg"),Fd=wt("rtc");function Gd(e,t=tt){is("ec",e,t)}const Vd=Symbol.for("v-ndc");function ve(e,t,s,o){let n;const a=s,l=Ce(e);if(l||Ve(e)){const u=l&&on(e);let p=!1,h=!1;u&&(p=!ut(e),h=Gt(e),e=Kn(e)),n=new Array(e.length);for(let f=0,c=e.length;f<c;f++)n[f]=t(p?h?zn(je(e[f])):je(e[f]):e[f],f,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,a)}else if($e(e))if(e[Symbol.iterator])n=Array.from(e,(u,p)=>t(u,p,void 0,a));else{const u=Object.keys(e);n=new Array(u.length);for(let p=0,h=u.length;p<h;p++){const f=u[p];n[p]=t(e[f],f,p,a)}}else n=[];return n}function Hd(e,t,s={},o,n){if(ze.ce||ze.parent&&cn(ze.parent)&&ze.parent.ce){const h=Object.keys(s).length>0;return R(),pt(Se,null,[Be("slot",s,o)],h?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),R();const l=a&&io(a(s)),u=s.key||l&&l.key,p=pt(Se,{key:(u&&!_t(u)?u:`_${t}`)+(!l&&o?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function io(e){return e.some(t=>Zs(t)?!(t.type===$t||t.type===Se&&!io(t.children)):!0)?e:null}const Bs=e=>e?$o(e)?ps(e):Bs(e.parent):null,vn=Qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Bs(e.parent),$root:e=>Bs(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>lo(e),$forceUpdate:e=>e.f||(e.f=()=>{Vs(e.update)}),$nextTick:e=>e.n||(e.n=Bi.bind(e.proxy)),$watch:e=>pu.bind(e)}),Ks=(e,t)=>e!==Ie&&!e.__isScriptSetup&&Pe(e,t),Bd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:a,accessCache:l,type:u,appContext:p}=e;let h;if(t[0]!=="$"){const v=l[t];if(v!==void 0)switch(v){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(Ks(o,t))return l[t]=1,o[t];if(n!==Ie&&Pe(n,t))return l[t]=2,n[t];if((h=e.propsOptions[0])&&Pe(h,t))return l[t]=3,a[t];if(s!==Ie&&Pe(s,t))return l[t]=4,s[t];js&&(l[t]=0)}}const f=vn[t];let c,A;if(f)return t==="$attrs"&&qe(e.attrs,"get",""),f(e);if((c=u.__cssModules)&&(c=c[t]))return c;if(s!==Ie&&Pe(s,t))return l[t]=4,s[t];if(A=p.config.globalProperties,Pe(A,t))return A[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:a}=e;return Ks(n,t)?(n[t]=s,!0):o!==Ie&&Pe(o,t)?(o[t]=s,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:a,type:l}},u){let p,h;return!!(s[u]||e!==Ie&&u[0]!=="$"&&Pe(e,u)||Ks(t,u)||(p=a[0])&&Pe(p,u)||Pe(o,u)||Pe(vn,u)||Pe(n.config.globalProperties,u)||(h=l.__cssModules)&&h[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Pe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function oo(e){return Ce(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let js=!0;function Kd(e){const t=lo(e),s=e.proxy,o=e.ctx;js=!1,t.beforeCreate&&ao(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:l,watch:u,provide:p,inject:h,created:f,beforeMount:c,mounted:A,beforeUpdate:v,updated:$,activated:x,deactivated:P,beforeDestroy:X,beforeUnmount:z,destroyed:H,unmounted:S,render:w,renderTracked:se,renderTriggered:re,errorCaptured:de,serverPrefetch:me,expose:J,inheritAttrs:B,components:q,directives:F,filters:ie}=t;if(h&&jd(h,o,null),l)for(const Q in l){const Z=l[Q];be(Z)&&(o[Q]=Z.bind(s))}if(n){const Q=n.call(s,s);$e(Q)&&(e.data=we(Q))}if(js=!0,a)for(const Q in a){const Z=a[Q],ee=be(Z)?Z.bind(s,s):be(Z.get)?Z.get.bind(s,s):St,ue=!be(Z)&&be(Z.set)?Z.set.bind(s):St,U=he({get:ee,set:ue});Object.defineProperty(o,Q,{enumerable:!0,configurable:!0,get:()=>U.value,set:j=>U.value=j})}if(u)for(const Q in u)ro(u[Q],o,s,Q);if(p){const Q=be(p)?p.call(s):p;Reflect.ownKeys(Q).forEach(Z=>{Zd(Z,Q[Z])})}f&&ao(f,e,"c");function oe(Q,Z){Ce(Z)?Z.forEach(ee=>Q(ee.bind(s))):Z&&Q(Z.bind(s))}if(oe(Ud,c),oe(it,A),oe(Dd,v),oe(Ld,$),oe(Id,x),oe(wd,P),oe(Gd,de),oe(Fd,se),oe(Xd,re),oe(no,z),oe(so,S),oe(Yd,me),Ce(J))if(J.length){const Q=e.exposed||(e.exposed={});J.forEach(Z=>{Object.defineProperty(Q,Z,{get:()=>s[Z],set:ee=>s[Z]=ee,enumerable:!0})})}else e.exposed||(e.exposed={});w&&e.render===St&&(e.render=w),B!=null&&(e.inheritAttrs=B),q&&(e.components=q),F&&(e.directives=F),me&&Qi(e)}function jd(e,t,s=St){Ce(e)&&(e=Js(e));for(const o in e){const n=e[o];let a;$e(n)?"default"in n?a=as(n.from||o,n.default,!0):a=as(n.from||o):a=as(n),Je(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function ao(e,t,s){At(Ce(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function ro(e,t,s,o){let n=o.includes(".")?Ro(s,o):()=>s[o];if(Ve(e)){const a=t[e];be(a)&&Le(n,a)}else if(be(e))Le(n,e.bind(s));else if($e(e))if(Ce(e))e.forEach(a=>ro(a,t,s,o));else{const a=be(e.handler)?e.handler.bind(s):t[e.handler];be(a)&&Le(n,a,e)}}function lo(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let p;return u?p=u:!n.length&&!s&&!o?p=t:(p={},n.length&&n.forEach(h=>os(p,h,l,!0)),os(p,t,l)),$e(t)&&a.set(t,p),p}function os(e,t,s,o=!1){const{mixins:n,extends:a}=t;a&&os(e,a,s,!0),n&&n.forEach(l=>os(e,l,s,!0));for(const l in t)if(!(o&&l==="expose")){const u=Jd[l]||s&&s[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const Jd={data:co,props:uo,emits:uo,methods:xn,computed:xn,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:xn,directives:xn,watch:qd,provide:co,inject:Wd};function co(e,t){return t?e?function(){return Qe(be(e)?e.call(this,this):e,be(t)?t.call(this,this):t)}:t:e}function Wd(e,t){return xn(Js(e),Js(t))}function Js(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function xn(e,t){return e?Qe(Object.create(null),e,t):t}function uo(e,t){return e?Ce(e)&&Ce(t)?[...new Set([...e,...t])]:Qe(Object.create(null),oo(e),oo(t!=null?t:{})):t}function qd(e,t){if(!e)return t;if(!t)return e;const s=Qe(Object.create(null),e);for(const o in t)s[o]=et(e[o],t[o]);return s}function po(){return{app:null,config:{isNativeTag:_i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zd=0;function Qd(e,t){return function(o,n=null){be(o)||(o=Qe({},o)),n!=null&&!$e(n)&&(n=null);const a=po(),l=new WeakSet,u=[];let p=!1;const h=a.app={_uid:zd++,_component:o,_props:n,_container:null,_context:a,_instance:null,version:Lu,get config(){return a.config},set config(f){},use(f,...c){return l.has(f)||(f&&be(f.install)?(l.add(f),f.install(h,...c)):be(f)&&(l.add(f),f(h,...c))),h},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),h},component(f,c){return c?(a.components[f]=c,h):a.components[f]},directive(f,c){return c?(a.directives[f]=c,h):a.directives[f]},mount(f,c,A){if(!p){const v=h._ceVNode||Be(o,n);return v.appContext=a,A===!0?A="svg":A===!1&&(A=void 0),e(v,f,A),p=!0,h._container=f,f.__vue_app__=h,ps(v.component)}},onUnmount(f){u.push(f)},unmount(){p&&(At(u,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(f,c){return a.provides[f]=c,h},runWithContext(f){const c=dn;dn=h;try{return f()}finally{dn=c}}};return h}}let dn=null;function Zd(e,t){if(tt){let s=tt.provides;const o=tt.parent&&tt.parent.provides;o===s&&(s=tt.provides=Object.create(o)),s[e]=t}}function as(e,t,s=!1){const o=Nu();if(o||dn){let n=dn?dn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&be(t)?t.call(o&&o.proxy):t}}const _o={},fo=()=>Object.create(_o),ho=e=>Object.getPrototypeOf(e)===_o;function eu(e,t,s,o=!1){const n={},a=fo();e.propsDefaults=Object.create(null),mo(e,t,n,a);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=o?n:fd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function tu(e,t,s,o){const{props:n,attrs:a,vnode:{patchFlag:l}}=e,u=xe(n),[p]=e.propsOptions;let h=!1;if((o||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let c=0;c<f.length;c++){let A=f[c];if(rs(e.emitsOptions,A))continue;const v=t[A];if(p)if(Pe(a,A))v!==a[A]&&(a[A]=v,h=!0);else{const $=Lt(A);n[$]=Ws(p,u,$,v,e,!1)}else v!==a[A]&&(a[A]=v,h=!0)}}}else{mo(e,t,n,a)&&(h=!0);let f;for(const c in u)(!t||!Pe(t,c)&&((f=Yt(c))===c||!Pe(t,f)))&&(p?s&&(s[c]!==void 0||s[f]!==void 0)&&(n[c]=Ws(p,u,c,void 0,e,!0)):delete n[c]);if(a!==u)for(const c in a)(!t||!Pe(t,c))&&(delete a[c],h=!0)}h&&Mt(e.attrs,"set","")}function mo(e,t,s,o){const[n,a]=e.propsOptions;let l=!1,u;if(t)for(let p in t){if(gn(p))continue;const h=t[p];let f;n&&Pe(n,f=Lt(p))?!a||!a.includes(f)?s[f]=h:(u||(u={}))[f]=h:rs(e.emitsOptions,p)||(!(p in o)||h!==o[p])&&(o[p]=h,l=!0)}if(a){const p=xe(s),h=u||Ie;for(let f=0;f<a.length;f++){const c=a[f];s[c]=Ws(n,p,c,h[c],e,!Pe(h,c))}}return l}function Ws(e,t,s,o,n,a){const l=e[s];if(l!=null){const u=Pe(l,"default");if(u&&o===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&be(p)){const{propsDefaults:h}=n;if(s in h)o=h[s];else{const f=kn(n);o=h[s]=p.call(null,t),f()}}else o=p;n.ce&&n.ce._setProp(s,o)}l[0]&&(a&&!u?o=!1:l[1]&&(o===""||o===Yt(s))&&(o=!0))}return o}const nu=new WeakMap;function go(e,t,s=!1){const o=s?nu:t.propsCache,n=o.get(e);if(n)return n;const a=e.props,l={},u=[];let p=!1;if(!be(e)){const f=c=>{p=!0;const[A,v]=go(c,t,!0);Qe(l,A),v&&u.push(...v)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!p)return $e(e)&&o.set(e,en),en;if(Ce(a))for(let f=0;f<a.length;f++){const c=Lt(a[f]);Co(c)&&(l[c]=Ie)}else if(a)for(const f in a){const c=Lt(f);if(Co(c)){const A=a[f],v=l[c]=Ce(A)||be(A)?{type:A}:Qe({},A),$=v.type;let x=!1,P=!0;if(Ce($))for(let X=0;X<$.length;++X){const z=$[X],H=be(z)&&z.name;if(H==="Boolean"){x=!0;break}else H==="String"&&(P=!1)}else x=be($)&&$.name==="Boolean";v[0]=x,v[1]=P,(x||Pe(v,"default"))&&u.push(c)}}const h=[l,u];return $e(e)&&o.set(e,h),h}function Co(e){return e[0]!=="$"&&!gn(e)}const qs=e=>e==="_"||e==="_ctx"||e==="$stable",zs=e=>Ce(e)?e.map(yt):[yt(e)],su=(e,t,s)=>{if(t._n)return t;const o=zi((...n)=>zs(t(...n)),s);return o._c=!1,o},So=(e,t,s)=>{const o=e._ctx;for(const n in e){if(qs(n))continue;const a=e[n];if(be(a))t[n]=su(n,a,o);else if(a!=null){const l=zs(a);t[n]=()=>l}}},Eo=(e,t)=>{const s=zs(t);e.slots.default=()=>s},bo=(e,t,s)=>{for(const o in t)(s||!qs(o))&&(e[o]=t[o])},iu=(e,t,s)=>{const o=e.slots=fo();if(e.vnode.shapeFlag&32){const n=t._;n?(bo(o,t,s),s&&Si(o,"_",n,!0)):So(t,o)}else t&&Eo(e,t)},ou=(e,t,s)=>{const{vnode:o,slots:n}=e;let a=!0,l=Ie;if(o.shapeFlag&32){const u=t._;u?s&&u===1?a=!1:bo(n,t,s):(a=!t.$stable,So(t,n)),l=t}else t&&(Eo(e,t),l={default:1});if(a)for(const u in n)!qs(u)&&l[u]==null&&delete n[u]},ot=Eu;function au(e){return ru(e)}function ru(e,t){const s=Bn();s.__VUE__=!0;const{insert:o,remove:n,patchProp:a,createElement:l,createText:u,createComment:p,setText:h,setElementText:f,parentNode:c,nextSibling:A,setScopeId:v=St,insertStaticContent:$}=e,x=(g,T,k,G=null,O=null,I=null,E=void 0,_=null,b=!!T.dynamicChildren)=>{if(g===T)return;g&&!Mn(g,T)&&(G=Re(g),j(g,O,I,!0),g=null),T.patchFlag===-2&&(b=!1,T.dynamicChildren=null);const{type:y,ref:D,shapeFlag:M}=T;switch(y){case ls:P(g,T,k,G);break;case $t:X(g,T,k,G);break;case cs:g==null&&z(T,k,G,E);break;case Se:q(g,T,k,G,O,I,E,_,b);break;default:M&1?w(g,T,k,G,O,I,E,_,b):M&6?F(g,T,k,G,O,I,E,_,b):(M&64||M&128)&&y.process(g,T,k,G,O,I,E,_,b,C)}D!=null&&O?Rn(D,g&&g.ref,I,T||g,!T):D==null&&g&&g.ref!=null&&Rn(g.ref,null,I,g,!0)},P=(g,T,k,G)=>{if(g==null)o(T.el=u(T.children),k,G);else{const O=T.el=g.el;T.children!==g.children&&h(O,T.children)}},X=(g,T,k,G)=>{g==null?o(T.el=p(T.children||""),k,G):T.el=g.el},z=(g,T,k,G)=>{[g.el,g.anchor]=$(g.children,T,k,G,g.el,g.anchor)},H=({el:g,anchor:T},k,G)=>{let O;for(;g&&g!==T;)O=A(g),o(g,k,G),g=O;o(T,k,G)},S=({el:g,anchor:T})=>{let k;for(;g&&g!==T;)k=A(g),n(g),g=k;n(T)},w=(g,T,k,G,O,I,E,_,b)=>{T.type==="svg"?E="svg":T.type==="math"&&(E="mathml"),g==null?se(T,k,G,O,I,E,_,b):me(g,T,O,I,E,_,b)},se=(g,T,k,G,O,I,E,_)=>{let b,y;const{props:D,shapeFlag:M,transition:W,dirs:K}=g;if(b=g.el=l(g.type,I,D&&D.is,D),M&8?f(b,g.children):M&16&&de(g.children,b,null,G,O,Qs(g,I),E,_),K&&Jt(g,null,G,"created"),re(b,g,g.scopeId,E,G),D){for(const fe in D)fe!=="value"&&!gn(fe)&&a(b,fe,null,D[fe],I,G);"value"in D&&a(b,"value",null,D.value,I),(y=D.onVnodeBeforeMount)&&Ot(y,G,g)}K&&Jt(g,null,G,"beforeMount");const le=lu(O,W);le&&W.beforeEnter(b),o(b,T,k),((y=D&&D.onVnodeMounted)||le||K)&&ot(()=>{y&&Ot(y,G,g),le&&W.enter(b),K&&Jt(g,null,G,"mounted")},O)},re=(g,T,k,G,O)=>{if(k&&v(g,k),G)for(let I=0;I<G.length;I++)v(g,G[I]);if(O){let I=O.subTree;if(T===I||Po(I.type)&&(I.ssContent===T||I.ssFallback===T)){const E=O.vnode;re(g,E,E.scopeId,E.slotScopeIds,O.parent)}}},de=(g,T,k,G,O,I,E,_,b=0)=>{for(let y=b;y<g.length;y++){const D=g[y]=_?Ht(g[y]):yt(g[y]);x(null,D,T,k,G,O,I,E,_)}},me=(g,T,k,G,O,I,E)=>{const _=T.el=g.el;let{patchFlag:b,dynamicChildren:y,dirs:D}=T;b|=g.patchFlag&16;const M=g.props||Ie,W=T.props||Ie;let K;if(k&&Wt(k,!1),(K=W.onVnodeBeforeUpdate)&&Ot(K,k,T,g),D&&Jt(T,g,k,"beforeUpdate"),k&&Wt(k,!0),(M.innerHTML&&W.innerHTML==null||M.textContent&&W.textContent==null)&&f(_,""),y?J(g.dynamicChildren,y,_,k,G,Qs(T,O),I):E||Z(g,T,_,null,k,G,Qs(T,O),I,!1),b>0){if(b&16)B(_,M,W,k,O);else if(b&2&&M.class!==W.class&&a(_,"class",null,W.class,O),b&4&&a(_,"style",M.style,W.style,O),b&8){const le=T.dynamicProps;for(let fe=0;fe<le.length;fe++){const ge=le[fe],Oe=M[ge],Ne=W[ge];(Ne!==Oe||ge==="value")&&a(_,ge,Oe,Ne,O,k)}}b&1&&g.children!==T.children&&f(_,T.children)}else!E&&y==null&&B(_,M,W,k,O);((K=W.onVnodeUpdated)||D)&&ot(()=>{K&&Ot(K,k,T,g),D&&Jt(T,g,k,"updated")},G)},J=(g,T,k,G,O,I,E)=>{for(let _=0;_<T.length;_++){const b=g[_],y=T[_],D=b.el&&(b.type===Se||!Mn(b,y)||b.shapeFlag&198)?c(b.el):k;x(b,y,D,null,G,O,I,E,!0)}},B=(g,T,k,G,O)=>{if(T!==k){if(T!==Ie)for(const I in T)!gn(I)&&!(I in k)&&a(g,I,T[I],null,O,G);for(const I in k){if(gn(I))continue;const E=k[I],_=T[I];E!==_&&I!=="value"&&a(g,I,_,E,O,G)}"value"in k&&a(g,"value",T.value,k.value,O)}},q=(g,T,k,G,O,I,E,_,b)=>{const y=T.el=g?g.el:u(""),D=T.anchor=g?g.anchor:u("");let{patchFlag:M,dynamicChildren:W,slotScopeIds:K}=T;K&&(_=_?_.concat(K):K),g==null?(o(y,k,G),o(D,k,G),de(T.children||[],k,D,O,I,E,_,b)):M>0&&M&64&&W&&g.dynamicChildren?(J(g.dynamicChildren,W,k,O,I,E,_),(T.key!=null||O&&T===O.subTree)&&Ao(g,T,!0)):Z(g,T,k,D,O,I,E,_,b)},F=(g,T,k,G,O,I,E,_,b)=>{T.slotScopeIds=_,g==null?T.shapeFlag&512?O.ctx.activate(T,k,G,E,b):ie(T,k,G,O,I,E,b):pe(g,T,b)},ie=(g,T,k,G,O,I,E)=>{const _=g.component=xu(g,G,O);if(eo(g)&&(_.ctx.renderer=C),Pu(_,!1,E),_.asyncDep){if(O&&O.registerDep(_,oe,E),!g.el){const b=_.subTree=Be($t);X(null,b,T,k),g.placeholder=b.el}}else oe(_,g,T,k,O,I,E)},pe=(g,T,k)=>{const G=T.component=g.component;if(Cu(g,T,k))if(G.asyncDep&&!G.asyncResolved){Q(G,T,k);return}else G.next=T,G.update();else T.el=g.el,G.vnode=T},oe=(g,T,k,G,O,I,E)=>{const _=()=>{if(g.isMounted){let{next:M,bu:W,u:K,parent:le,vnode:fe}=g;{const Ke=To(g);if(Ke){M&&(M.el=fe.el,Q(g,M,E)),Ke.asyncDep.then(()=>{g.isUnmounted||_()});return}}let ge=M,Oe;Wt(g,!1),M?(M.el=fe.el,Q(g,M,E)):M=fe,W&&Vn(W),(Oe=M.props&&M.props.onVnodeBeforeUpdate)&&Ot(Oe,le,M,fe),Wt(g,!0);const Ne=xo(g),Me=g.subTree;g.subTree=Ne,x(Me,Ne,c(Me.el),Re(Me),g,O,I),M.el=Ne.el,ge===null&&Su(g,Ne.el),K&&ot(K,O),(Oe=M.props&&M.props.onVnodeUpdated)&&ot(()=>Ot(Oe,le,M,fe),O)}else{let M;const{el:W,props:K}=T,{bm:le,m:fe,parent:ge,root:Oe,type:Ne}=g,Me=cn(T);Wt(g,!1),le&&Vn(le),!Me&&(M=K&&K.onVnodeBeforeMount)&&Ot(M,ge,T),Wt(g,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(Ne);const Ke=g.subTree=xo(g);x(null,Ke,k,G,g,O,I),T.el=Ke.el}if(fe&&ot(fe,O),!Me&&(M=K&&K.onVnodeMounted)){const Ke=T;ot(()=>Ot(M,ge,Ke),O)}(T.shapeFlag&256||ge&&cn(ge.vnode)&&ge.vnode.shapeFlag&256)&&g.a&&ot(g.a,O),g.isMounted=!0,T=k=G=null}};g.scope.on();const b=g.effect=new yi(_);g.scope.off();const y=g.update=b.run.bind(b),D=g.job=b.runIfDirty.bind(b);D.i=g,D.id=g.uid,b.scheduler=()=>Vs(D),Wt(g,!0),y()},Q=(g,T,k)=>{T.component=g;const G=g.vnode.props;g.vnode=T,g.next=null,tu(g,T.props,G,k),ou(g,T.children,k),Et(),ji(g),bt()},Z=(g,T,k,G,O,I,E,_,b=!1)=>{const y=g&&g.children,D=g?g.shapeFlag:0,M=T.children,{patchFlag:W,shapeFlag:K}=T;if(W>0){if(W&128){ue(y,M,k,G,O,I,E,_,b);return}else if(W&256){ee(y,M,k,G,O,I,E,_,b);return}}K&8?(D&16&&Ee(y,O,I),M!==y&&f(k,M)):D&16?K&16?ue(y,M,k,G,O,I,E,_,b):Ee(y,O,I,!0):(D&8&&f(k,""),K&16&&de(M,k,G,O,I,E,_,b))},ee=(g,T,k,G,O,I,E,_,b)=>{g=g||en,T=T||en;const y=g.length,D=T.length,M=Math.min(y,D);let W;for(W=0;W<M;W++){const K=T[W]=b?Ht(T[W]):yt(T[W]);x(g[W],K,k,null,O,I,E,_,b)}y>D?Ee(g,O,I,!0,!1,M):de(T,k,G,O,I,E,_,b,M)},ue=(g,T,k,G,O,I,E,_,b)=>{let y=0;const D=T.length;let M=g.length-1,W=D-1;for(;y<=M&&y<=W;){const K=g[y],le=T[y]=b?Ht(T[y]):yt(T[y]);if(Mn(K,le))x(K,le,k,null,O,I,E,_,b);else break;y++}for(;y<=M&&y<=W;){const K=g[M],le=T[W]=b?Ht(T[W]):yt(T[W]);if(Mn(K,le))x(K,le,k,null,O,I,E,_,b);else break;M--,W--}if(y>M){if(y<=W){const K=W+1,le=K<D?T[K].el:G;for(;y<=W;)x(null,T[y]=b?Ht(T[y]):yt(T[y]),k,le,O,I,E,_,b),y++}}else if(y>W)for(;y<=M;)j(g[y],O,I,!0),y++;else{const K=y,le=y,fe=new Map;for(y=le;y<=W;y++){const Ye=T[y]=b?Ht(T[y]):yt(T[y]);Ye.key!=null&&fe.set(Ye.key,y)}let ge,Oe=0;const Ne=W-le+1;let Me=!1,Ke=0;const rt=new Array(Ne);for(y=0;y<Ne;y++)rt[y]=0;for(y=K;y<=M;y++){const Ye=g[y];if(Oe>=Ne){j(Ye,O,I,!0);continue}let De;if(Ye.key!=null)De=fe.get(Ye.key);else for(ge=le;ge<=W;ge++)if(rt[ge-le]===0&&Mn(Ye,T[ge])){De=ge;break}De===void 0?j(Ye,O,I,!0):(rt[De-le]=y+1,De>=Ke?Ke=De:Me=!0,x(Ye,T[De],k,null,O,I,E,_,b),Oe++)}const We=Me?cu(rt):en;for(ge=We.length-1,y=Ne-1;y>=0;y--){const Ye=le+y,De=T[Ye],lt=T[Ye+1],Ct=Ye+1<D?lt.el||lt.placeholder:G;rt[y]===0?x(null,De,k,Ct,O,I,E,_,b):Me&&(ge<0||y!==We[ge]?U(De,k,Ct,2):ge--)}}},U=(g,T,k,G,O=null)=>{const{el:I,type:E,transition:_,children:b,shapeFlag:y}=g;if(y&6){U(g.component.subTree,T,k,G);return}if(y&128){g.suspense.move(T,k,G);return}if(y&64){E.move(g,T,k,C);return}if(E===Se){o(I,T,k);for(let M=0;M<b.length;M++)U(b[M],T,k,G);o(g.anchor,T,k);return}if(E===cs){H(g,T,k);return}if(G!==2&&y&1&&_)if(G===0)_.beforeEnter(I),o(I,T,k),ot(()=>_.enter(I),O);else{const{leave:M,delayLeave:W,afterLeave:K}=_,le=()=>{g.ctx.isUnmounted?n(I):o(I,T,k)},fe=()=>{I._isLeaving&&I[kd](!0),M(I,()=>{le(),K&&K()})};W?W(I,le,fe):fe()}else o(I,T,k)},j=(g,T,k,G=!1,O=!1)=>{const{type:I,props:E,ref:_,children:b,dynamicChildren:y,shapeFlag:D,patchFlag:M,dirs:W,cacheIndex:K}=g;if(M===-2&&(O=!1),_!=null&&(Et(),Rn(_,null,k,g,!0),bt()),K!=null&&(T.renderCache[K]=void 0),D&256){T.ctx.deactivate(g);return}const le=D&1&&W,fe=!cn(g);let ge;if(fe&&(ge=E&&E.onVnodeBeforeUnmount)&&Ot(ge,T,g),D&6)Ae(g.component,k,G);else{if(D&128){g.suspense.unmount(k,G);return}le&&Jt(g,null,T,"beforeUnmount"),D&64?g.type.remove(g,T,k,C,G):y&&!y.hasOnce&&(I!==Se||M>0&&M&64)?Ee(y,T,k,!1,!0):(I===Se&&M&384||!O&&D&16)&&Ee(b,T,k),G&&te(g)}(fe&&(ge=E&&E.onVnodeUnmounted)||le)&&ot(()=>{ge&&Ot(ge,T,g),le&&Jt(g,null,T,"unmounted")},k)},te=g=>{const{type:T,el:k,anchor:G,transition:O}=g;if(T===Se){_e(k,G);return}if(T===cs){S(g);return}const I=()=>{n(k),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(g.shapeFlag&1&&O&&!O.persisted){const{leave:E,delayLeave:_}=O,b=()=>E(k,I);_?_(g.el,I,b):b()}else I()},_e=(g,T)=>{let k;for(;g!==T;)k=A(g),n(g),g=k;n(T)},Ae=(g,T,k)=>{const{bum:G,scope:O,job:I,subTree:E,um:_,m:b,a:y}=g;yo(b),yo(y),G&&Vn(G),O.stop(),I&&(I.flags|=8,j(E,g,T,k)),_&&ot(_,T),ot(()=>{g.isUnmounted=!0},T)},Ee=(g,T,k,G=!1,O=!1,I=0)=>{for(let E=I;E<g.length;E++)j(g[E],T,k,G,O)},Re=g=>{if(g.shapeFlag&6)return Re(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const T=A(g.anchor||g.el),k=T&&T[Pd];return k?A(k):T};let Y=!1;const m=(g,T,k)=>{g==null?T._vnode&&j(T._vnode,null,null,!0):x(T._vnode||null,g,T,null,null,null,k),T._vnode=g,Y||(Y=!0,ji(),Ji(),Y=!1)},C={p:x,um:j,m:U,r:te,mt:ie,mc:de,pc:Z,pbc:J,n:Re,o:e};return{render:m,hydrate:void 0,createApp:Qd(m)}}function Qs({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Wt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function lu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ao(e,t,s=!1){const o=e.children,n=t.children;if(Ce(o)&&Ce(n))for(let a=0;a<o.length;a++){const l=o[a];let u=n[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[a]=Ht(n[a]),u.el=l.el),!s&&u.patchFlag!==-2&&Ao(l,u)),u.type===ls&&u.patchFlag!==-1&&(u.el=l.el),u.type===$t&&!u.el&&(u.el=l.el)}}function cu(e){const t=e.slice(),s=[0];let o,n,a,l,u;const p=e.length;for(o=0;o<p;o++){const h=e[o];if(h!==0){if(n=s[s.length-1],e[n]<h){t[o]=n,s.push(o);continue}for(a=0,l=s.length-1;a<l;)u=a+l>>1,e[s[u]]<h?a=u+1:l=u;h<e[s[a]]&&(a>0&&(t[o]=s[a-1]),s[a]=o)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=t[l];return s}function To(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:To(t)}function yo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const du=Symbol.for("v-scx"),uu=()=>as(du);function Le(e,t,s){return Oo(e,t,s)}function Oo(e,t,s=Ie){const{immediate:o,deep:n,flush:a,once:l}=s,u=Qe({},s),p=t&&o||!t&&a!=="post";let h;if(In){if(a==="sync"){const v=uu();h=v.__watcherHandles||(v.__watcherHandles=[])}else if(!p){const v=()=>{};return v.stop=St,v.resume=St,v.pause=St,v}}const f=tt;u.call=(v,$,x)=>At(v,f,$,x);let c=!1;a==="post"?u.scheduler=v=>{ot(v,f&&f.suspense)}:a!=="sync"&&(c=!0,u.scheduler=(v,$)=>{$?v():Vs(v)}),u.augmentJob=v=>{t&&(v.flags|=4),c&&(v.flags|=2,f&&(v.id=f.uid,v.i=f))};const A=Ad(e,t,u);return In&&(h?h.push(A):p&&A()),A}function pu(e,t,s){const o=this.proxy,n=Ve(e)?e.includes(".")?Ro(o,e):()=>o[e]:e.bind(o,o);let a;be(t)?a=t:(a=t.handler,s=t);const l=kn(this),u=Oo(n,a.bind(o),s);return l(),u}function Ro(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const _u=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Lt(t)}Modifiers`]||e[`${Yt(t)}Modifiers`];function fu(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||Ie;let n=s;const a=t.startsWith("update:"),l=a&&_u(o,t.slice(7));l&&(l.trim&&(n=s.map(f=>Ve(f)?f.trim():f)),l.number&&(n=s.map(Hn)));let u,p=o[u=Rs(t)]||o[u=Rs(Lt(t))];!p&&a&&(p=o[u=Rs(Yt(t))]),p&&At(p,e,6,n);const h=o[u+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,At(h,e,6,n)}}const hu=new WeakMap;function vo(e,t,s=!1){const o=s?hu:t.emitsCache,n=o.get(e);if(n!==void 0)return n;const a=e.emits;let l={},u=!1;if(!be(e)){const p=h=>{const f=vo(h,t,!0);f&&(u=!0,Qe(l,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!u?($e(e)&&o.set(e,null),null):(Ce(a)?a.forEach(p=>l[p]=null):Qe(l,a),$e(e)&&o.set(e,l),l)}function rs(e,t){return!e||!Fn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,Yt(t))||Pe(e,t))}function ZR(){}function xo(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[a],slots:l,attrs:u,emit:p,render:h,renderCache:f,props:c,data:A,setupState:v,ctx:$,inheritAttrs:x}=e,P=ns(e);let X,z;try{if(s.shapeFlag&4){const S=n||o,w=S;X=yt(h.call(w,S,f,c,v,A,$)),z=u}else{const S=t;X=yt(S.length>1?S(c,{attrs:u,slots:l,emit:p}):S(c,null)),z=t.props?u:mu(u)}}catch(S){Nn.length=0,es(S,e,1),X=Be($t)}let H=X;if(z&&x!==!1){const S=Object.keys(z),{shapeFlag:w}=H;S.length&&w&7&&(a&&S.some(Ts)&&(z=gu(z,a)),H=un(H,z,!1,!0))}return s.dirs&&(H=un(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(s.dirs):s.dirs),s.transition&&Hs(H,s.transition),X=H,ns(P),X}const mu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Fn(s))&&((t||(t={}))[s]=e[s]);return t},gu=(e,t)=>{const s={};for(const o in e)(!Ts(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Cu(e,t,s){const{props:o,children:n,component:a}=e,{props:l,children:u,patchFlag:p}=t,h=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return o?No(o,l,h):!!l;if(p&8){const f=t.dynamicProps;for(let c=0;c<f.length;c++){const A=f[c];if(l[A]!==o[A]&&!rs(h,A))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:o===l?!1:o?l?No(o,l,h):!0:!!l;return!1}function No(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const a=o[n];if(t[a]!==e[a]&&!rs(s,a))return!0}return!1}function Su({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Po=e=>e.__isSuspense;function Eu(e,t){t&&t.pendingBranch?Ce(e)?t.effects.push(...e):t.effects.push(e):Nd(e)}const Se=Symbol.for("v-fgt"),ls=Symbol.for("v-txt"),$t=Symbol.for("v-cmt"),cs=Symbol.for("v-stc"),Nn=[];let at=null;function R(e=!1){Nn.push(at=e?null:[])}function bu(){Nn.pop(),at=Nn[Nn.length-1]||null}let Pn=1;function Mo(e,t=!1){Pn+=e,e<0&&at&&t&&(at.hasOnce=!0)}function ko(e){return e.dynamicChildren=Pn>0?at||en:null,bu(),Pn>0&&at&&at.push(e),e}function N(e,t,s,o,n,a){return ko(i(e,t,s,o,n,a,!0))}function pt(e,t,s,o,n){return ko(Be(e,t,s,o,n,!0))}function Zs(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const Io=({key:e})=>e!=null?e:null,ds=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ve(e)||Je(e)||be(e)?{i:ze,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,n=null,a=e===Se?0:1,l=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Io(t),ref:t&&ds(t),scopeId:qi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ze};return u?(ei(p,s),a&128&&e.normalize(p)):s&&(p.shapeFlag|=Ve(s)?8:16),Pn>0&&!l&&at&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&at.push(p),p}const Be=Au;function Au(e,t=null,s=null,o=0,n=null,a=!1){if((!e||e===Vd)&&(e=$t),Zs(e)){const u=un(e,t,!0);return s&&ei(u,s),Pn>0&&!a&&at&&(u.shapeFlag&6?at[at.indexOf(e)]=u:at.push(u)),u.patchFlag=-2,u}if(Du(e)&&(e=e.__vccOpts),t){t=Tu(t);let{class:u,style:p}=t;u&&!Ve(u)&&(t.class=ke(u)),$e(p)&&(Fs(p)&&!Ce(p)&&(p=Qe({},p)),t.style=Ft(p))}const l=Ve(e)?1:Po(e)?128:Md(e)?64:$e(e)?4:be(e)?2:0;return i(e,t,s,o,n,l,a,!0)}function Tu(e){return e?Fs(e)||ho(e)?Qe({},e):e:null}function un(e,t,s=!1,o=!1){const{props:n,ref:a,patchFlag:l,children:u,transition:p}=e,h=t?Ou(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&Io(h),ref:t&&t.ref?s&&a?Ce(a)?a.concat(ds(t)):[a,ds(t)]:ds(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&un(e.ssContent),ssFallback:e.ssFallback&&un(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&o&&Hs(f,p.clone(f)),f}function Fe(e=" ",t=0){return Be(ls,null,e,t)}function yu(e,t){const s=Be(cs,null,e);return s.staticCount=t,s}function ye(e="",t=!1){return t?(R(),pt($t,null,e)):Be($t,null,e)}function yt(e){return e==null||typeof e=="boolean"?Be($t):Ce(e)?Be(Se,null,e.slice()):Zs(e)?Ht(e):Be(ls,null,String(e))}function Ht(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:un(e)}function ei(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Ce(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),ei(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ho(t)?t._ctx=ze:n===3&&ze&&(ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:ze},s=32):(t=String(t),o&64?(s=16,t=[Fe(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ou(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=ke([t.class,o.class]));else if(n==="style")t.style=Ft([t.style,o.style]);else if(Fn(n)){const a=t[n],l=o[n];l&&a!==l&&!(Ce(a)&&a.includes(l))&&(t[n]=a?[].concat(a,l):l)}else n!==""&&(t[n]=o[n])}return t}function Ot(e,t,s,o=null){At(e,t,7,[s,o])}const Ru=po();let vu=0;function xu(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||Ru,a={uid:vu++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Jc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:go(o,n),emitsOptions:vo(o,n),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:o.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=fu.bind(null,a),e.ce&&e.ce(a),a}let tt=null;const Nu=()=>tt||ze;let us,ti;{const e=Bn(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),a=>{n.length>1?n.forEach(l=>l(a)):n[0](a)}};us=t("__VUE_INSTANCE_SETTERS__",s=>tt=s),ti=t("__VUE_SSR_SETTERS__",s=>In=s)}const kn=e=>{const t=tt;return us(e),e.scope.on(),()=>{e.scope.off(),us(t)}},wo=()=>{tt&&tt.scope.off(),us(null)};function $o(e){return e.vnode.shapeFlag&4}let In=!1;function Pu(e,t=!1,s=!1){t&&ti(t);const{props:o,children:n}=e.vnode,a=$o(e);eu(e,o,a,t),iu(e,n,s||t);const l=a?Mu(e,t):void 0;return t&&ti(!1),l}function Mu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Bd);const{setup:o}=s;if(o){Et();const n=e.setupContext=o.length>1?Iu(e):null,a=kn(e),l=an(o,e,0,[e.props,n]),u=hi(l);if(bt(),a(),(u||e.sp)&&!cn(e)&&Qi(e),u){if(l.then(wo,wo),t)return l.then(p=>{Uo(e,p)}).catch(p=>{es(p,e,0)});e.asyncDep=l}else Uo(e,l)}else Do(e)}function Uo(e,t,s){be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$e(t)&&(e.setupState=Gi(t)),Do(e)}function Do(e,t,s){const o=e.type;e.render||(e.render=o.render||St);{const n=kn(e);Et();try{Kd(e)}finally{bt(),n()}}}const ku={get(e,t){return qe(e,"get",""),e[t]}};function Iu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,ku),slots:e.slots,emit:e.emit,expose:t}}function ps(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Gi(hd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in vn)return vn[s](e)},has(t,s){return s in t||s in vn}})):e.proxy}const wu=/(?:^|[-_])\w/g,$u=e=>e.replace(wu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Uu(e,t=!0){return be(e)?e.displayName||e.name:e.name||t&&e.__name}function Lo(e,t,s=!1){let o=Uu(t);if(!o&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){const n=a=>{for(const l in a)if(a[l]===t)return l};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?$u(o):s?"App":"Anonymous"}function Du(e){return be(e)&&"__vccOpts"in e}const he=(e,t)=>Ed(e,t,In),Lu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ni;const Yo=typeof window!="undefined"&&window.trustedTypes;if(Yo)try{ni=Yo.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Xo=ni?e=>ni.createHTML(e):e=>e,Yu="http://www.w3.org/2000/svg",Xu="http://www.w3.org/1998/Math/MathML",Ut=typeof document!="undefined"?document:null,Fo=Ut&&Ut.createElement("template"),Fu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?Ut.createElementNS(Yu,e):t==="mathml"?Ut.createElementNS(Xu,e):s?Ut.createElement(e,{is:s}):Ut.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>Ut.createTextNode(e),createComment:e=>Ut.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ut.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,a){const l=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Fo.innerHTML=Xo(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const u=Fo.content;if(o==="svg"||o==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Gu=Symbol("_vtc");function Vu(e,t,s){const o=e[Gu];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const _s=Symbol("_vod"),Go=Symbol("_vsh"),Hu={name:"show",beforeMount(e,{value:t},{transition:s}){e[_s]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):wn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),wn(e,!0),o.enter(e)):o.leave(e,()=>{wn(e,!1)}):wn(e,t))},beforeUnmount(e,{value:t}){wn(e,t)}};function wn(e,t){e.style.display=t?e[_s]:"none",e[Go]=!t}const Bu=Symbol(""),Ku=/(?:^|;)\s*display\s*:/;function ju(e,t,s){const o=e.style,n=Ve(s);let a=!1;if(s&&!n){if(t)if(Ve(t))for(const l of t.split(";")){const u=l.slice(0,l.indexOf(":")).trim();s[u]==null&&fs(o,u,"")}else for(const l in t)s[l]==null&&fs(o,l,"");for(const l in s)l==="display"&&(a=!0),fs(o,l,s[l])}else if(n){if(t!==s){const l=o[Bu];l&&(s+=";"+l),o.cssText=s,a=Ku.test(s)}}else t&&e.removeAttribute("style");_s in e&&(e[_s]=a?o.display:"",e[Go]&&(o.display="none"))}const Vo=/\s*!important$/;function fs(e,t,s){if(Ce(s))s.forEach(o=>fs(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=Ju(e,t);Vo.test(s)?e.setProperty(Yt(o),s.replace(Vo,""),"important"):e[o]=s}}const Ho=["Webkit","Moz","ms"],si={};function Ju(e,t){const s=si[t];if(s)return s;let o=Lt(t);if(o!=="filter"&&o in e)return si[t]=o;o=Ci(o);for(let n=0;n<Ho.length;n++){const a=Ho[n]+o;if(a in e)return si[t]=a}return t}const Bo="http://www.w3.org/1999/xlink";function Ko(e,t,s,o,n,a=Kc(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Bo,t.slice(6,t.length)):e.setAttributeNS(Bo,t,s):s==null||a&&!bi(s)?e.removeAttribute(t):e.setAttribute(t,a?"":_t(s)?String(s):s)}function jo(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Xo(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=bi(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{e[t]=s}catch(u){}l&&e.removeAttribute(n||t)}function Bt(e,t,s,o){e.addEventListener(t,s,o)}function Wu(e,t,s,o){e.removeEventListener(t,s,o)}const Jo=Symbol("_vei");function qu(e,t,s,o,n=null){const a=e[Jo]||(e[Jo]={}),l=a[t];if(o&&l)l.value=o;else{const[u,p]=zu(t);if(o){const h=a[t]=ep(o,n);Bt(e,u,h,p)}else l&&(Wu(e,u,l,p),a[t]=void 0)}}const Wo=/(?:Once|Passive|Capture)$/;function zu(e){let t;if(Wo.test(e)){t={};let o;for(;o=e.match(Wo);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yt(e.slice(2)),t]}let ii=0;const Qu=Promise.resolve(),Zu=()=>ii||(Qu.then(()=>ii=0),ii=Date.now());function ep(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;At(tp(o,s.value),t,5,[o])};return s.value=e,s.attached=Zu(),s}function tp(e,t){if(Ce(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const qo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,np=(e,t,s,o,n,a)=>{const l=n==="svg";t==="class"?Vu(e,o,l):t==="style"?ju(e,s,o):Fn(t)?Ts(t)||qu(e,t,s,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):sp(e,t,o,l))?(jo(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ko(e,t,o,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ve(o))?jo(e,Lt(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Ko(e,t,o,l))};function sp(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&qo(t)&&be(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return qo(t)&&Ve(s)?!1:t in e}const pn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ce(t)?s=>Vn(t,s):t};function ip(e){e.target.composing=!0}function zo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dt=Symbol("_assign"),ce={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[Dt]=pn(n);const a=o||n.props&&n.props.type==="number";Bt(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;s&&(u=u.trim()),a&&(u=Hn(u)),e[Dt](u)}),s&&Bt(e,"change",()=>{e.value=e.value.trim()}),t||(Bt(e,"compositionstart",ip),Bt(e,"compositionend",zo),Bt(e,"change",zo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:a}},l){if(e[Dt]=pn(l),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?Hn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===p)||(e.value=p))}},Rt={deep:!0,created(e,t,s){e[Dt]=pn(s),Bt(e,"change",()=>{const o=e._modelValue,n=$n(e),a=e.checked,l=e[Dt];if(Ce(o)){const u=vs(o,n),p=u!==-1;if(a&&!p)l(o.concat(n));else if(!a&&p){const h=[...o];h.splice(u,1),l(h)}}else if(nn(o)){const u=new Set(o);a?u.add(n):u.delete(n),l(u)}else l(ea(e,a))})},mounted:Qo,beforeUpdate(e,t,s){e[Dt]=pn(s),Qo(e,t,s)}};function Qo(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(Ce(t))n=vs(t,o.props.value)>-1;else if(nn(t))n=t.has(o.props.value);else{if(t===s)return;n=Cn(t,ea(e,!0))}e.checked!==n&&(e.checked=n)}const vt={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=nn(t);Bt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?Hn($n(l)):$n(l));e[Dt](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,Bi(()=>{e._assigning=!1})}),e[Dt]=pn(o)},mounted(e,{value:t}){Zo(e,t)},beforeUpdate(e,t,s){e[Dt]=pn(s)},updated(e,{value:t}){e._assigning||Zo(e,t)}};function Zo(e,t){const s=e.multiple,o=Ce(t);if(!(s&&!o&&!nn(t))){for(let n=0,a=e.options.length;n<a;n++){const l=e.options[n],u=$n(l);if(s)if(o){const p=typeof u;p==="string"||p==="number"?l.selected=t.some(h=>String(h)===String(u)):l.selected=vs(t,u)>-1}else l.selected=t.has(u);else if(Cn($n(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $n(e){return"_value"in e?e._value:e.value}function ea(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const op=["ctrl","shift","alt","meta"],ap={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>op.some(s=>e[`${s}Key`]&&!t.includes(s))},ht=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...a)=>{for(let l=0;l<t.length;l++){const u=ap[t[l]];if(u&&u(n,t))return}return e(n,...a)})},rp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const a=Yt(n.key);if(t.some(l=>l===a||rp[l]===a))return e(n)})},lp=Qe({patchProp:np},Fu);let ta;function cp(){return ta||(ta=au(lp))}const dp=(...e)=>{const t=cp().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=pp(o);if(!n)return;const a=t._component;!be(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,up(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function up(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pp(e){return Ve(e)?document.querySelector(e):e}const xt=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},_p={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},fp={key:0,class:"nxp-ec-admin-error"},hp={class:"nxp-ec-admin-error__title"},mp={class:"nxp-ec-admin-error__body"};function gp(e,t,s,o,n,a){return R(),N("div",null,[n.error?(R(),N("div",fp,[i("h2",hp,d(a.fallbackTitle),1),i("p",mp,d(a.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>a.reload&&a.reload(...l))},d(a.reloadLabel),1)])):Hd(e.$slots,"default",{key:1})])}const Cp=xt(_p,[["render",gp]]),Sp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},Ep={class:"nxp-ec-admin-panel__header"},bp={class:"nxp-ec-admin-panel__title"},Ap={class:"nxp-ec-admin-panel__lead"},Tp={class:"nxp-ec-admin-panel__actions"},yp=["disabled"],Op={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Rp={key:1,class:"nxp-ec-dashboard"},vp={class:"nxp-ec-dashboard__metrics"},xp={class:"nxp-ec-dashboard__card"},Np={class:"nxp-ec-dashboard__value"},Pp={class:"nxp-ec-dashboard__hint"},Mp={class:"nxp-ec-dashboard__card"},kp={class:"nxp-ec-dashboard__value"},Ip={class:"nxp-ec-dashboard__hint"},wp={class:"nxp-ec-dashboard__card"},$p={class:"nxp-ec-dashboard__value"},Up={class:"nxp-ec-dashboard__hint"},Dp={class:"nxp-ec-dashboard__card"},Lp={class:"nxp-ec-dashboard__value"},Yp={class:"nxp-ec-dashboard__hint"},Xp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Fp={class:"nxp-ec-dashboard__checklist-header"},Gp={id:"dashboard-checklist-heading"},Vp={class:"nxp-ec-dashboard__checklist-progress"},Hp={class:"nxp-ec-dashboard__checklist-list"},Bp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Kp={key:0,class:"fa-solid fa-circle-check"},jp={key:1,class:"fa-regular fa-circle"},Jp={class:"nxp-ec-dashboard__checklist-label"},Wp=["href","title"],qp={class:"nxp-ec-sr-only"},zp=xt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,o=s.translate,n=s.state,a=he(()=>{var c;const f=(c=n.summary)==null?void 0:c.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),l=(f=0)=>{const c=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(c)}catch(A){return`${a.value} ${c.toFixed(2)}`}},u=he(()=>Array.isArray(n.checklist)?n.checklist:[]),p=he(()=>u.value.filter(f=>f.completed).length),h=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,c)=>(R(),N("section",Sp,[i("header",Ep,[i("div",null,[i("h2",bp,d(r(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",Ap,d(r(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Tp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:c[0]||(c[0]=A=>f.$emit("refresh")),disabled:r(n).loading},d(r(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,yp)])]),r(n).error?(R(),N("div",Op,d(r(n).error),1)):(R(),N("div",Rp,[i("div",vp,[i("article",xp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Np,d(r(n).summary.products.active),1),i("p",Pp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Mp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",kp,d(l(r(n).summary.orders.revenue_today)),1),i("p",Ip,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",wp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",$p,d(r(n).summary.customers.total),1),i("p",Up,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Dp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Lp,d(l(r(n).summary.orders.revenue_month)),1),i("p",Yp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),i("section",Xp,[i("header",Fp,[i("h3",Gp,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Vp,d(p.value)+" / "+d(u.value.length),1)]),i("ul",Hp,[(R(!0),N(Se,null,ve(u.value,A=>(R(),N("li",{key:A.id,class:ke({"is-complete":A.completed})},[i("span",Bp,[A.completed?(R(),N("span",Kp)):(R(),N("span",jp))]),i("span",Jp,d(r(o)(A.label,h(A.label))),1),A.link?(R(),N("a",{key:0,href:A.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",qp,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Wp)):ye("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-59cce8c1"]]),Qp={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Zp={id:"nxp-ec-products-caption",class:"visually-hidden"},e_={scope:"col"},t_={scope:"col"},n_={scope:"col"},s_={scope:"col"},i_={scope:"col"},o_={scope:"col"},a_={scope:"col"},r_={scope:"col"},l_={scope:"col",class:"nxp-ec-admin-table__actions"},c_={key:0},d_={colspan:"8",class:"nxp-ec-admin-table__empty"},u_={class:"nxp-ec-products-table__title"},p_={class:"nxp-ec-products-table__slug"},__={key:0,class:"nxp-ec-products-table__badge"},f_={class:"nxp-ec-status nxp-ec-status--featured"},h_={key:0},m_={key:1},g_={key:0},C_={key:1},S_=["disabled","aria-pressed","title","aria-label","onClick"],E_={class:"nxp-ec-sr-only"},b_={class:"nxp-ec-admin-table__actions"},A_=["onClick","title","aria-label"],T_={class:"nxp-ec-sr-only"},y_=["onClick","title","aria-label"],O_={class:"nxp-ec-sr-only"},oi=1,Un=-1,ai=0,R_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,o=he(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,c=!1)=>{const A=Number(f);if(Number.isFinite(A))return A===Un?Un:A===ai?ai:oi;if(c)return Un;if(typeof f=="string"){const v=f.trim().toLowerCase();if(v==="out_of_stock"||v==="out-of-stock"||v==="-1")return Un;if(v==="inactive"||v==="0")return ai}return oi},a=f=>{var $;const c=n(($=f==null?void 0:f.status)!=null?$:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),A=c===oi,v=c===Un;return{status:c,isActive:A,isOutOfStock:v,label:A?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):v?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:A?"nxp-ec-status--active":v?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:A?"fa-solid fa-circle-check":v?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},l=f=>{var x,P,X,z;const c=(P=(x=f==null?void 0:f.summary)==null?void 0:x.variants)!=null?P:{};if(c.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const A=Number.isFinite(c.price_min_cents)?c.price_min_cents:null,v=Number.isFinite(c.price_max_cents)?c.price_max_cents:null;if(A===null)return"";const $=c.currency||((z=(X=f==null?void 0:f.variants)==null?void 0:X[0])==null?void 0:z.currency)||o.value;return v===null||v===A?h(A,$):`${h(A,$)}  ${h(v,$)}`},u=f=>{var v,$;const c=($=(v=f==null?void 0:f.summary)==null?void 0:v.variants)!=null?$:{},A=Number.isFinite(c.count)?c.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return A===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(A)])},p=f=>{if(!Array.isArray(f)||!f.length)return"";const c=f.map($=>($==null?void 0:$.title)||($==null?void 0:$.slug)).filter($=>!!$);if(!c.length)return"";if(c.length<=3)return c.join(", ");const A=c.slice(0,3).join(", "),v=c.length-3;return`${A} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(v)])}`},h=(f,c)=>`${(f/100).toFixed(2)} ${c}`;return(f,c)=>(R(),N("table",Qp,[i("caption",Zp,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",e_,d(r(s)("JGRID_HEADING_ID","ID")),1),i("th",t_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",n_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",s_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",i_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",o_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",a_,d(r(s)("JSTATUS","Status")),1),i("th",r_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",l_,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?ye("",!0):(R(),N("tr",c_,[i("td",d_,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(R(!0),N(Se,null,ve(e.items,A=>{var v,$,x,P,X,z,H,S,w,se,re,de;return R(),N("tr",{key:A.id},[i("td",null,d(A.id),1),i("td",null,[i("div",u_,d(A.title),1),i("div",p_,d(A.slug),1),A.featured?(R(),N("div",__,[i("span",f_,[c[0]||(c[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Fe(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ye("",!0)]),i("td",null,[l(A)?(R(),N("span",h_,d(l(A)),1)):(R(),N("span",m_,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))]),i("td",null,d(u(A)),1),i("td",null,[i("span",{class:ke(["nxp-ec-status",($=(v=A.summary)==null?void 0:v.variants)!=null&&$.stock_zero?"nxp-ec-status--danger":(P=(x=A.summary)==null?void 0:x.variants)!=null&&P.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(z=(X=A.summary)==null?void 0:X.variants)!=null&&z.stock_zero||((S=(H=A.summary)==null?void 0:H.variants)==null?void 0:S.stock_total)===0?(R(),N(Se,{key:0},[Fe(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(R(),N(Se,{key:1},[Fe(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((re=(se=(w=A.summary)==null?void 0:w.variants)==null?void 0:se.stock_total)!=null?re:0)])),1)],64))],2)]),i("td",null,[(de=A.categories)!=null&&de.length?(R(),N("span",g_,d(p(A.categories)),1)):(R(),N("span",C_,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))]),i("td",null,[i("button",{type:"button",class:ke(["nxp-ec-status","nxp-ec-status-button",a(A).className]),disabled:e.saving,"aria-pressed":a(A).isActive?"true":"false",title:a(A).title,"aria-label":a(A).title,onClick:me=>f.$emit("toggle-active",A)},[i("i",{class:ke(a(A).icon),"aria-hidden":"true"},null,2),Fe(" "+d(a(A).label)+" ",1),i("span",E_,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,S_)]),i("td",null,d(A.modified||A.created),1),i("td",b_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:me=>f.$emit("edit",A),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",T_,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,A_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:me=>f.$emit("delete",A),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[c[2]||(c[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",O_,d(r(s)("JTRASH","Delete")),1)],8,y_)])])}),128))])]))}},v_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},x_={class:"nxp-ec-modal__dialog"},N_={class:"nxp-ec-modal__header"},P_={class:"nxp-ec-modal__title"},M_={class:"nxp-ec-modal__header-actions"},k_=["disabled","title","aria-label"],I_={class:"nxp-ec-sr-only"},w_=["disabled","title","aria-label"],$_={class:"nxp-ec-sr-only"},U_=["aria-label"],D_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},L_={class:"nxp-ec-form-field"},Y_={class:"nxp-ec-form-label",for:"product-title"},X_={class:"nxp-ec-form-field"},F_={class:"nxp-ec-form-label",for:"product-slug"},G_=["placeholder"],V_={class:"nxp-ec-form-field"},H_={class:"nxp-ec-form-label",for:"product-short-desc"},B_={class:"nxp-ec-form-field"},K_={class:"nxp-ec-form-label",for:"product-long-desc"},j_={class:"nxp-ec-form-field"},J_={class:"nxp-ec-form-label",for:"product-status"},W_={value:1},q_={value:-1},z_={value:0},Q_={class:"nxp-ec-form-help"},Z_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ef={class:"nxp-ec-form-label",for:"product-featured"},tf={class:"nxp-ec-form-help"},nf={class:"nxp-ec-form-field"},sf={class:"nxp-ec-form-label",for:"product-images"},of={id:"product-images",class:"nxp-ec-image-list"},af=["id","onUpdate:modelValue","placeholder"],rf={class:"nxp-ec-image-row__actions"},lf=["onClick"],cf=["onClick","disabled"],df=["onClick","disabled"],uf=["onClick","aria-label"],pf={class:"nxp-ec-form-help"},_f={class:"nxp-ec-form-field"},ff={class:"nxp-ec-form-label",for:"product-category-select"},hf=["value"],mf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},gf=["onClick","aria-label"],Cf={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},Sf=["onKeydown","placeholder"],Ef={class:"nxp-ec-form-help"},bf={class:"nxp-ec-variant-section"},Af={class:"nxp-ec-variant-section__header"},Tf={class:"nxp-ec-variant-section__title"},yf={class:"nxp-ec-form-help"},Of={class:"nxp-ec-variant-card__header"},Rf={class:"nxp-ec-variant-card__title"},vf=["onClick"],xf=["onClick","disabled"],Nf={class:"nxp-ec-variant-card__grid"},Pf={class:"nxp-ec-form-field"},Mf=["for"],kf=["id","onUpdate:modelValue"],If={class:"nxp-ec-form-field"},wf=["for"],$f=["id","onUpdate:modelValue","onBlur"],Uf={class:"nxp-ec-form-field"},Df=["for"],Lf=["id","onUpdate:modelValue"],Yf={class:"nxp-ec-form-help"},Xf={class:"nxp-ec-form-field"},Ff=["for"],Gf=["id","onUpdate:modelValue"],Vf={class:"nxp-ec-form-field"},Hf=["for"],Bf=["id","onUpdate:modelValue"],Kf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},jf=["for"],Jf=["id","onUpdate:modelValue"],Wf={class:"nxp-ec-variant-options"},qf={class:"nxp-ec-variant-options__header"},zf={class:"nxp-ec-variant-options__title"},Qf=["onClick"],Zf={class:"nxp-ec-form-help"},eh=["id","onUpdate:modelValue","placeholder"],th=["id","onUpdate:modelValue","placeholder"],nh=["onClick","aria-label"],sh={class:"nxp-ec-modal__actions"},ih=["disabled"],oh=["disabled"],na="product-editor-form",ah=xt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=he(()=>(s.baseCurrency||"USD").toUpperCase()),l=E=>{var _,b,y,D,M,W,K,le;if(E==null)return null;if(typeof E=="string"){const fe=E.trim();return fe===""?null:{id:0,title:fe,slug:""}}if(typeof E=="object"){const fe=Number.parseInt((b=(_=E.id)!=null?_:E.value)!=null?b:0,10)||0,ge=(K=(W=(M=(D=(y=E.title)!=null?y:E.name)!=null?D:E.text)!=null?M:E.label)!=null?W:E.slug)!=null?K:"",Oe=String(ge!=null?ge:"").trim(),Ne=String((le=E.slug)!=null?le:"").trim(),Me=E.parent_id!==null&&E.parent_id!==void 0&&Number.parseInt(E.parent_id,10)||null;return fe<=0&&Oe===""?null:{id:fe>0?fe:0,title:Oe!==""?Oe:Ne,slug:Ne,parent_id:Me}}return null},u=E=>{const _=Number(E);if(Number.isFinite(_))return _===-1?-1:_===0?0:1;if(typeof E=="string"){const b=E.trim().toLowerCase();if(b==="out_of_stock"||b==="out-of-stock"||b==="-1")return-1;if(b==="inactive"||b==="0")return 0}return 1},p=we({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),h=He(""),f=He(!1),c=(E,_,b=new Set)=>{if(!E||b.has(E))return 0;b.add(E);const y=_.find(D=>D.id===E);return!y||!y.parent_id?0:1+c(y.parent_id,_,b)},A=E=>{if(!E)return"";const _=Array.isArray(s.categoryOptions)?s.categoryOptions:[],b=c(E.id,_);return b===0?E.title:"".repeat(b)+" "+E.title},v=he(()=>{const _=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(l).filter(M=>M&&M.id>0&&M.title!==""),b=new Map;_.forEach(M=>{b.set(M.id,M)}),p.categories.forEach(M=>{var W;M.id>0&&M.title&&!b.has(M.id)&&b.set(M.id,{id:M.id,title:M.title,slug:(W=M.slug)!=null?W:"",parent_id:M.parent_id!==null&&M.parent_id!==void 0?M.parent_id:null})});const y=Array.from(b.values()),D=(M=null,W=0)=>y.filter(K=>K.parent_id===M).sort((K,le)=>K.title.localeCompare(le.title)).flatMap(K=>[K,...D(K.id,W+1)]);return D()}),$=he(()=>{const E=new Map;return v.value.forEach(_=>{var b;E.set(_.id,{title:_.title,slug:(b=_.slug)!=null?b:""})}),E}),x=he({get:()=>p.categories.filter(_=>_&&_.id>0).map(_=>_.id),set:E=>{const _=Array.isArray(E)?E:[],b=Array.from(new Set(_.map(M=>Number.parseInt(M!=null?M:0,10)||0).filter(M=>M>0))),y=p.categories.filter(M=>!(M.id>0)),D=b.map(M=>{const W=$.value.get(M),K=p.categories.find(ge=>ge.id===M),le=(W==null?void 0:W.title)||(K==null?void 0:K.title)||"",fe=(W==null?void 0:W.slug)||(K==null?void 0:K.slug)||"";return le===""?null:{id:M,title:le,slug:fe}}).filter(M=>M!==null);p.categories.splice(0,p.categories.length,...D,...y)}}),P=he(()=>s.product&&s.product.id?"edit":"create"),X=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),z=()=>({name:"",value:""}),H=E=>E?E.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",S=()=>{f.value=!0,p.slug=H(p.slug)},w=E=>{const b=(Array.isArray(E)?E:[]).map(l).filter(M=>M&&(M.id>0||M.title!=="")),y=new Set,D=[];b.forEach(M=>{const W=M.id>0?`id:${M.id}`:`title:${M.title.toLowerCase()}`;y.has(W)||(y.add(W),D.push(M))}),p.categories.splice(0,p.categories.length,...D)},se=E=>{p.variants.splice(0,p.variants.length,...E)},re=E=>{p.images.splice(0,p.images.length,...E)},de=E=>Array.isArray(E)?E.map(_=>{var b,y,D;return{name:String((y=(b=_==null?void 0:_.name)!=null?b:_==null?void 0:_.key)!=null?y:"").trim(),value:String((D=_==null?void 0:_.value)!=null?D:"").trim()}}):E&&typeof E=="object"?Object.entries(E).map(([_,b])=>({name:String(_!=null?_:"").trim(),value:String(b!=null?b:"").trim()})):[],me=E=>!Array.isArray(E)||E.length===0?[X()]:E.map(_=>{var b,y,D,M;return{id:Number.parseInt((b=_==null?void 0:_.id)!=null?b:0,10)||0,sku:String((y=_==null?void 0:_.sku)!=null?y:"").trim(),price:(_==null?void 0:_.price)!=null?String(_.price):Number.isFinite(_==null?void 0:_.price_cents)?(_.price_cents/100).toFixed(2):"",currency:String((D=_==null?void 0:_.currency)!=null?D:a.value).toUpperCase(),stock:Number.parseInt((M=_==null?void 0:_.stock)!=null?M:0,10)||0,weight:(_==null?void 0:_.weight)!=null?String(_.weight):"",active:(_==null?void 0:_.active)!==void 0?!!_.active:!0,options:de(_==null?void 0:_.options)}}),J=E=>{var D,M,W,K;const _=E?JSON.parse(JSON.stringify(E)):{};p.title=(D=_.title)!=null?D:"",p.slug=(M=_.slug)!=null?M:"",p.short_desc=(W=_.short_desc)!=null?W:"",p.long_desc=(K=_.long_desc)!=null?K:"",p.status=u(_.status!==void 0?_.status:_.active),p.featured=_.featured!==void 0?!!_.featured:!1;const b=Array.isArray(_.images)?_.images.map(le=>String(le!=null?le:"").trim()).filter(Boolean):[];re(b);const y=Array.isArray(_.categories)?_.categories:[];w(y),h.value="",se(me(_.variants)),f.value=!!p.slug};Le(()=>s.product,E=>{J(E)},{immediate:!0}),Le(()=>p.title,E=>{f.value||(p.slug=H(E))}),Le(a,E=>{p.variants.forEach(_=>{_.currency=E})});const B=()=>{const E=h.value.trim();if(!E)return;const _=E.toLowerCase(),b=p.categories.slice();b.some(D=>D.title.toLowerCase()===_)||(b.push({id:0,title:E,slug:""}),p.categories.splice(0,p.categories.length,...b)),h.value=""},q=E=>{if(E<0||E>=p.categories.length)return;const _=p.categories.slice();_.splice(E,1),p.categories.splice(0,p.categories.length,..._)},F=()=>{p.variants.push(X())},ie=E=>{p.variants.length<=1||p.variants.splice(E,1)},pe=E=>{const _=p.variants[E];_&&(Array.isArray(_.options)||(_.options=[]),_.options.push(z()))},oe=(E,_)=>{const b=p.variants[E];!b||!Array.isArray(b.options)||b.options.splice(_,1)},Q=(E,_)=>`${E.id||"new"}-${_}`,Z=E=>{const _=p.variants[E];if(!_)return;const b=JSON.parse(JSON.stringify(_));b.id=0,b.sku=[b.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),b.active=!0,p.variants.splice(E+1,0,b)},ee=E=>{const _=p.variants[E];if(!_)return;const b=Number.parseFloat(_.price);Number.isNaN(b)||(_.price=b.toFixed(2))};let ue=null,U=null,j=null,te=null,_e="";const Ae=()=>{Array.isArray(p.images)||(p.images=[])},Ee=E=>{var D,M,W;if(!E)return"";let _=String(E).trim();if(_==="")return"";try{const K=(W=(M=(D=window.Joomla)==null?void 0:D.getOptions)==null?void 0:M.call(D,"system.paths",{}))!=null?W:{},le=K.rootFull||window.location.origin,fe=K.root||"/";_.startsWith(le)&&(_=_.substring(le.length)),_.startsWith(fe)&&(_=_.substring(fe.length))}catch(K){}const b=_.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);b&&b[1]&&(_=b[1]);const y=_.indexOf("#joomlaImage://");return y!==-1&&(_=_.substring(0,y)),_.trim()},Re=(E,{keepIndex:_=!1,appendWhenNoIndex:b=!1,targetIndex:y=null}={})=>{const D=Ee(E);if(D==="")return!1;Ae();const M=y!==null&&y>=0?y:te;return M==null||Number.isNaN(M)?b?(p.images.push(D),_||(te=null,_e=""),!0):!1:(M>=p.images.length?p.images.push(D):p.images[M]=D,_e=_?D:"",_||(te=null,_e=""),!0)},Y=()=>{Ae(),p.images.push("")},m=E=>{Ae(),p.images.splice(E,1)},C=(E,_)=>{Ae();const b=p.images[E];if(b===void 0)return;const y=E+_;y<0||y>=p.images.length||(p.images.splice(E,1),p.images.splice(y,0,b))},L=E=>{var y;Ae();const _=(y=p.images[E])!=null?y:"";if(typeof window=="undefined")return;const b=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),_);Re(b!=null?b:"",{targetIndex:E})},g=()=>{var M,W,K,le,fe,ge;const E=(s.mediaModalUrl||"").trim();if(E!=="")return E;const _=(K=(W=(M=window.Joomla)==null?void 0:M.getOptions)==null?void 0:W.call(M,"media-picker",{}))!=null?K:{};if(_.modalUrl)return _.modalUrl;const b=(ge=(fe=(le=window.Joomla)==null?void 0:le.getOptions)==null?void 0:fe.call(le,"system.paths",{}))!=null?ge:{},y=b.rootFull||b.root||"";return(y?y.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},T=async()=>{var K,le,fe,ge,Oe,Ne,Me,Ke,rt;if(ue)return ue;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(We){return null}const E=(fe=(le=(K=window.Joomla)==null?void 0:K.getOptions)==null?void 0:le.call(K,"system.paths",{}))!=null?fe:{},_=E.rootFull||E.root||"",b=(Ne=(Oe=(ge=window.Joomla)==null?void 0:ge.getOptions)==null?void 0:Oe.call(ge,"com_media",{}))!=null?Ne:{},y=(b==null?void 0:b.file_path)||"images",D=(rt=(Ke=(Me=window.Joomla)==null?void 0:Me.getOptions)==null?void 0:Ke.call(Me,"media-picker",{}))!=null?rt:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},W=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return U=document.createElement("div"),U.className="nxp-ec-media-picker-host",U.style.display="none",U.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${_.replace(/"/g,"&quot;")}"
            root-folder="${y.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${W}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(D).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(U),ue=U.querySelector("joomla-field-media"),j=U.querySelector(".nxp-ec-media-field__input"),ue.addEventListener("change",We=>{var lt,Ct,fn,hn,Cs,Qt;const Ye=(fn=(Ct=(lt=We.detail)==null?void 0:lt.value)!=null?Ct:j==null?void 0:j.value)!=null?fn:"";let De=Ee(Ye);if(De===""&&_e!==""&&(De=_e),De===""&&((hn=window.Joomla)!=null&&hn.selectedMediaFile)){const ci=Ee((Cs=window.Joomla.selectedMediaFile.url)!=null?Cs:""),di=Ee((Qt=window.Joomla.selectedMediaFile.path)!=null?Qt:"");De=ci||di}Re(De)}),ue.addEventListener("joomla-dialog:close",()=>{te=null,_e=""}),j&&j.addEventListener("change",()=>{var Ye,De,lt,Ct;if(te===null)return;let We=Ee((Ye=j.value)!=null?Ye:"");if(We===""&&_e!==""&&(We=_e),We===""&&((De=window.Joomla)!=null&&De.selectedMediaFile)){const fn=Ee((lt=window.Joomla.selectedMediaFile.url)!=null?lt:""),hn=Ee((Ct=window.Joomla.selectedMediaFile.path)!=null?Ct:"");We=fn||hn}We!==""&&Re(We)}),ue},k=E=>{var M,W;const _=E==null?void 0:E.detail;if(!_||typeof _!="object")return;const b=Ee((M=_.path)!=null?M:""),D=Ee((W=_.url)!=null?W:"")||b;D===""||te===null||(_e=D,Re(D,{keepIndex:!0}))};it(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",k)});const G=async E=>{var y;Ae();const _=await T();if(!_||typeof _.show!="function"){L(E);return}te=E,_.setAttribute("url",g());const b=(y=p.images[E])!=null?y:"";typeof _.setValue=="function"?_.setValue(b):j&&(j.value=b);try{_.show()}catch(D){te=null,_e="",L(E)}};no(()=>{U&&U.parentNode&&U.parentNode.removeChild(U),ue=null,U=null,j=null,te=null,_e="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",k)});const O=()=>{var M,W;Ae();const E=Array.from(new Set(p.images.map(K=>String(K!=null?K:"").trim()).filter(K=>K!==""))),_=p.categories.map(K=>{var Oe,Ne,Me;const le=Number.parseInt((Oe=K==null?void 0:K.id)!=null?Oe:0,10)||0,fe=String((Ne=K==null?void 0:K.title)!=null?Ne:"").trim(),ge=String((Me=K==null?void 0:K.slug)!=null?Me:"").trim();return le>0?{id:le,title:fe,slug:ge}:fe===""?null:{id:0,title:fe,slug:""}}).filter(K=>K!==null),b=p.variants.map(K=>{const le=Array.isArray(K.options)?K.options.map(Oe=>{var Ne,Me;return{name:String((Ne=Oe==null?void 0:Oe.name)!=null?Ne:"").trim(),value:String((Me=Oe==null?void 0:Oe.value)!=null?Me:"").trim()}}).filter(Oe=>Oe.name!==""&&Oe.value!==""):[],fe=Number.isFinite(Number(K.stock))?Math.max(0,parseInt(K.stock,10)):0,ge=K.weight!==null&&K.weight!==""?String(K.weight).trim():null;return{id:K.id||0,sku:K.sku.trim(),price:K.price!==null&&K.price!==void 0?String(K.price).trim():"",currency:K.currency?String(K.currency).trim().toUpperCase():a.value,stock:fe,weight:ge,active:!!K.active,options:le}}),y=u(p.status),D={title:p.title.trim(),slug:p.slug.trim(),short_desc:(M=p.short_desc)!=null?M:"",long_desc:(W=p.long_desc)!=null?W:"",status:y,active:y,featured:!!p.featured,images:E,categories:_,variants:b};o("submit",D)},I=()=>{o("cancel")};return Le(()=>s.saving,(E,_)=>{_&&!E&&s.errors.length===0&&P.value==="create"&&(J(null),h.value="",f.value=!1)}),(E,_)=>e.open?(R(),N("div",v_,[_[10]||(_[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",x_,[i("header",N_,[i("h2",P_,d(P.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",M_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:I,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[_[8]||(_[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",I_,d(r(n)("JCANCEL","Cancel")),1)],8,k_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:na,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[i("i",{class:ke(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",$_,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,w_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:I,"aria-label":r(n)("JCLOSE","Close")},"  ",8,U_)])]),i("form",{id:na,class:"nxp-ec-form",onSubmit:ht(O,["prevent"])},[e.errors.length?(R(),N("div",D_,[(R(!0),N(Se,null,ve(e.errors,(b,y)=>(R(),N("p",{key:y},d(b),1))),128))])):ye("",!0),i("div",L_,[i("label",Y_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),ne(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[0]||(_[0]=b=>p.title=b),required:""},null,512),[[ce,p.title,void 0,{trim:!0}]])]),i("div",X_,[i("label",F_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),ne(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[1]||(_[1]=b=>p.slug=b),onInput:S,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,G_),[[ce,p.slug,void 0,{trim:!0}]])]),i("div",V_,[i("label",H_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),ne(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":_[2]||(_[2]=b=>p.short_desc=b)},null,512),[[ce,p.short_desc]])]),i("div",B_,[i("label",K_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),ne(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":_[3]||(_[3]=b=>p.long_desc=b)},null,512),[[ce,p.long_desc]])]),i("div",j_,[i("label",J_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),ne(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":_[4]||(_[4]=b=>p.status=b)},[i("option",W_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",q_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",z_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[vt,p.status,void 0,{number:!0}]]),i("p",Q_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",Z_,[i("label",ef,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),ne(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":_[5]||(_[5]=b=>p.featured=b)},null,512),[[Rt,p.featured]]),i("p",tf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",nf,[i("label",sf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",of,[(R(!0),N(Se,null,ve(p.images,(b,y)=>(R(),N("div",{key:`product-image-${y}`,class:"nxp-ec-image-row"},[ne(i("input",{id:`product-image-${y}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":D=>p.images[y]=D,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,af),[[ce,p.images[y],void 0,{trim:!0}]]),i("div",rf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:D=>G(y)},[_[9]||(_[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,lf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:D=>C(y,-1),disabled:y===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,cf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:D=>C(y,1),disabled:y===p.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,df),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:D=>m(y),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,uf)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:Y},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",pf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",_f,[i("label",ff,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),ne(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":_[6]||(_[6]=b=>x.value=b)},[(R(!0),N(Se,null,ve(v.value,b=>(R(),N("option",{key:b.id,value:b.id},d(A(b)),9,hf))),128))],512),[[vt,x.value]]),i("div",mf,[(R(!0),N(Se,null,ve(p.categories,(b,y)=>(R(),N("span",{key:`selected-category-${y}`,class:"nxp-ec-chip"},[Fe(d(b.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:D=>q(y),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,gf)]))),128))]),i("div",Cf,[ne(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":_[7]||(_[7]=b=>h.value=b),onKeydown:qt(ht(B,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,Sf),[[ce,h.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:B},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",Ef,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",bf,[i("header",Af,[i("h3",Tf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:F},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",yf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price and currency.")),1),(R(!0),N(Se,null,ve(p.variants,(b,y)=>(R(),N("article",{key:Q(b,y),class:"nxp-ec-variant-card"},[i("header",Of,[i("h4",Rf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(y+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:D=>Z(y)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,vf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:D=>ie(y),disabled:p.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,xf)]),i("div",Nf,[i("div",Pf,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${y}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Mf),ne(i("input",{id:`variant-sku-${y}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":D=>b.sku=D,required:""},null,8,kf),[[ce,b.sku,void 0,{trim:!0}]])]),i("div",If,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${y}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,wf),ne(i("input",{id:`variant-price-${y}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":D=>b.price=D,onBlur:D=>ee(y),required:""},null,40,$f),[[ce,b.price,void 0,{trim:!0}]])]),i("div",Uf,[i("label",{class:"nxp-ec-form-label",for:`variant-currency-${y}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY","Currency")),9,Df),ne(i("input",{id:`variant-currency-${y}`,class:"nxp-ec-form-input",type:"text",maxlength:"3","onUpdate:modelValue":D=>b.currency=D,readonly:"","aria-readonly":"true"},null,8,Lf),[[ce,b.currency,void 0,{trim:!0}]]),i("p",Yf,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_HELP","Variants inherit the store base currency (%s).",[a.value])),1)]),i("div",Xf,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${y}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Ff),ne(i("input",{id:`variant-stock-${y}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":D=>b.stock=D},null,8,Gf),[[ce,b.stock,void 0,{number:!0}]])]),i("div",Vf,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${y}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,Hf),ne(i("input",{id:`variant-weight-${y}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":D=>b.weight=D},null,8,Bf),[[ce,b.weight,void 0,{trim:!0}]])]),i("div",Kf,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${y}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,jf),ne(i("input",{id:`variant-active-${y}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":D=>b.active=D},null,8,Jf),[[Rt,b.active]])])]),i("section",Wf,[i("header",qf,[i("h5",zf,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:D=>pe(y)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,Qf)]),i("p",Zf,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(R(!0),N(Se,null,ve(b.options,(D,M)=>(R(),N("div",{key:`variant-${y}-option-${M}`,class:"nxp-ec-variant-option-row"},[ne(i("input",{id:`variant-${y}-option-name-${M}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":W=>D.name=W,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,eh),[[ce,D.name,void 0,{trim:!0}]]),ne(i("input",{id:`variant-${y}-option-value-${M}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":W=>D.value=W,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,th),[[ce,D.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:W=>oe(y,M),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,nh)]))),128))])]))),128))]),i("footer",sh,[i("button",{type:"button",class:"nxp-ec-btn",onClick:I,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,ih),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,oh)])],32)])])):ye("",!0)}},[["__scopeId","data-v-0195413d"]]),rh={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},lh={key:1,class:"nxp-ec-skeleton__table"},ch={key:2,class:"nxp-ec-skeleton__card"},dh={key:3,class:"nxp-ec-skeleton__circle"};function uh(e,t,s,o,n,a){return R(),N("div",{class:ke(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(R(),N("div",{key:0,class:"nxp-ec-skeleton__line",style:Ft({width:s.width})},null,4)):s.type==="table"?(R(),N("div",lh,[(R(!0),N(Se,null,ve(s.rows,l=>(R(),N("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(R(!0),N(Se,null,ve(s.columns,u=>(R(),N("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(R(),N("div",ch,[...t[0]||(t[0]=[yu('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(R(),N("div",dh)):(R(),N("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Ft({width:s.width,height:s.height})},null,4))],2)}const Dn=xt(rh,[["render",uh],["__scopeId","data-v-c8b9a887"]]),ph={class:"nxp-ec-admin-panel"},_h={class:"nxp-ec-admin-panel__header"},fh={class:"nxp-ec-admin-panel__title"},hh={class:"nxp-ec-admin-panel__lead"},mh={class:"nxp-ec-admin-panel__actions"},gh=["placeholder","aria-label"],Ch=["disabled","title","aria-label"],Sh={class:"nxp-ec-sr-only"},Eh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bh={key:1,class:"nxp-ec-admin-panel__body"},Ah={key:2,class:"nxp-ec-admin-panel__body"},Th=["title"],Ln=1,_n=-1,hs=0,yh={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=we({mode:"create",product:null}),l=He(!1),u=he(()=>(s.baseCurrency||"USD").toUpperCase()),p=he(()=>a.product),h=he(()=>(s.mediaModalUrl||"").trim()),f=(w,se=!1)=>{const re=Number(w);if(Number.isFinite(re))return re===_n?_n:re===hs?hs:Ln;if(se)return _n;if(typeof w=="string"){const de=w.trim().toLowerCase();if(de==="out_of_stock"||de==="out-of-stock"||de==="-1")return _n;if(de==="inactive"||de==="0")return hs}return Ln},c=(w,se=!1)=>{const re=f(w,se);return re===Ln?_n:re===_n?hs:Ln},A=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",status:Ln,active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},v=w=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(w)),l.value=!0},$=()=>{l.value=!1,s.state.validationErrors=[]},x=async w=>{var de,me;const se=f((de=w.status)!=null?de:w.active,w.out_of_stock),re={...w,status:se,active:se,featured:w.featured?1:0};a.mode==="edit"&&((me=a.product)!=null&&me.id)?o("update",{id:a.product.id,data:re}):o("create",re)},P=async w=>{var de;const se=(de=w==null?void 0:w.title)!=null?de:"",re=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[se||"#"]);window.confirm(re)&&o("delete",[w.id])},X=w=>{var q;if(!(w!=null&&w.id)||s.state.saving)return;const se=c((q=w.status)!=null?q:w.active,w.out_of_stock),re=F=>F==null?"":String(F),de=(F,ie=0)=>{const pe=Number(F);return Number.isFinite(pe)?pe:ie},me=Array.isArray(w.variants)?w.variants.map(F=>{var ee,ue;if(!F)return null;const ie=re(F.sku).trim();if(!ie)return null;let pe=de(F.price_cents,Number.NaN);if(!Number.isFinite(pe)){const U=re(F.price),j=U?Number.parseFloat(U):NaN;pe=Number.isFinite(j)?Math.round(j*100):NaN}if(!Number.isFinite(pe))return null;const oe=re((ee=F.currency)!=null?ee:u.value).trim().toUpperCase();if(!oe)return null;const Q=(ue=F.options)!=null?ue:null,Z=Math.max(0,Math.round(de(F.stock,0)));return{id:de(F.id,0),sku:ie,price_cents:Math.round(pe),currency:oe,stock:Z,options:Q!=null?Q:null,weight:F.weight!==null&&F.weight!==void 0&&F.weight!==""?String(F.weight):null,active:F.active===void 0?!0:!!F.active}}).filter(Boolean):[];if(!me.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const J=Array.isArray(w.categories)?w.categories.map(F=>{if(F==null)return null;if(typeof F=="number")return F>0?{id:F,title:"",slug:""}:null;if(typeof F=="string"&&F.trim()!==""&&Number.isFinite(Number(F))){const pe=Number(F);return pe>0?{id:pe,title:"",slug:""}:null}if(typeof F=="object"){if(F.id){const oe=de(F.id,0);return oe>0?{id:oe,title:"",slug:""}:null}return de(F.id,0)<=0&&!F.title?null:{id:0,title:re(F.title),slug:re(F.slug)}}const ie=re(F).trim();return ie?{id:0,title:ie,slug:""}:null}).filter(Boolean):[],B=Array.isArray(w.images)?w.images.map(F=>re(F).trim()).map(F=>{var Q,Z,ee;let ie=F;if(!ie)return"";const pe=ie.indexOf("#joomlaImage://");pe!==-1&&(ie=ie.substring(0,pe));const oe=ie.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(oe&&oe[1]&&(ie=oe[1]),typeof window!="undefined")try{const ue=(ee=(Z=(Q=window.Joomla)==null?void 0:Q.getOptions)==null?void 0:Z.call(Q,"system.paths",{}))!=null?ee:{},U=ue.rootFull||window.location.origin,j=ue.root||"/";ie.startsWith(U)&&(ie=ie.substring(U.length)),ie.startsWith(j)&&(ie=ie.substring(j.length))}catch(ue){}return ie.trim()}).filter(F=>F!==""):[];s.state.error="",o("update",{id:w.id,data:{title:re(w.title),slug:re(w.slug),short_desc:re(w.short_desc),long_desc:re(w.long_desc),status:se,active:se,featured:w.featured?1:0,images:B,variants:me,categories:J}})},z=()=>{o("refresh")},H=()=>{o("search")},S=w=>{if(!w)return"";try{const se=new Date(w),de=new Date-se,me=Math.floor(de/1e3),J=Math.floor(me/60),B=Math.floor(J/60);return me<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):J<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[J]):B<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[B]):se.toLocaleString()}catch(se){return w}};return Le(()=>s.state.saving,(w,se)=>{se&&!w&&l.value&&!s.state.validationErrors.length&&!s.state.error&&$()}),(w,se)=>(R(),N("section",ph,[i("header",_h,[i("div",null,[i("h2",fh,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",hh,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",mh,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":se[0]||(se[0]=re=>e.state.search=re),onKeyup:qt(H,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,gh),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:z,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[se[1]||(se[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Sh,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,Ch),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:A},[se[2]||(se[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(R(),N("div",Eh,d(e.state.error),1)):e.state.loading?(R(),N("div",bh,[Be(Dn,{type:"table",rows:5,columns:5})])):(R(),N("div",Ah,[Be(R_,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:v,onDelete:P,onToggleActive:X},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(R(),N("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(S(e.state.lastUpdated)),9,Th)):ye("",!0)])),Be(ah,{open:l.value,product:p.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":h.value,onSubmit:x,onCancel:$},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Oh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Rh={class:"nxp-ec-admin-panel__header"},vh={class:"nxp-ec-admin-panel__title"},xh={class:"nxp-ec-admin-panel__lead"},Nh={class:"nxp-ec-admin-panel__actions"},Ph=["placeholder","aria-label"],Mh=["disabled","title","aria-label"],kh={class:"nxp-ec-sr-only"},Ih={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},wh={key:1,class:"nxp-ec-admin-panel__body"},$h={key:2,class:"nxp-ec-admin-panel__body"},Uh={class:"nxp-ec-admin-panel__table"},Dh={class:"nxp-ec-admin-table"},Lh={scope:"col"},Yh={scope:"col"},Xh={scope:"col"},Fh={scope:"col"},Gh={scope:"col"},Vh={key:0},Hh={colspan:"6"},Bh={scope:"row"},Kh={class:"nxp-ec-admin-table__actions"},jh=["onClick","title","aria-label"],Jh={class:"nxp-ec-sr-only"},Wh=["disabled","onClick","title","aria-label"],qh={class:"nxp-ec-sr-only"},zh={key:0,class:"nxp-ec-admin-pagination"},Qh=["disabled"],Zh={class:"nxp-ec-admin-pagination__status"},em=["disabled"],tm=["title"],nm={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},sm={class:"nxp-ec-modal__dialog"},im={class:"nxp-ec-modal__header"},om={class:"nxp-ec-modal__title"},am=["title","aria-label"],rm={class:"nxp-ec-sr-only"},lm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},cm={class:"nxp-ec-form-field"},dm={class:"nxp-ec-form-label",for:"category-title"},um={class:"nxp-ec-form-field"},pm={class:"nxp-ec-form-label",for:"category-slug"},_m={class:"nxp-ec-form-field"},fm={class:"nxp-ec-form-label",for:"category-parent"},hm={value:""},mm=["value"],gm={class:"nxp-ec-form-field"},Cm={class:"nxp-ec-form-label",for:"category-sort"},Sm={class:"nxp-ec-modal__actions"},Em=["disabled"],bm={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=He(!1),l=He(!1),u=He([]),p=J=>{const q=(Array.isArray(J)?J:[]).map(U=>{var j,te,_e,Ae,Ee;return{...U,id:Number.parseInt((j=U==null?void 0:U.id)!=null?j:0,10)||0,parent_id:(U==null?void 0:U.parent_id)!=null&&Number.parseInt(U.parent_id,10)||0,sort:Number.parseInt((te=U==null?void 0:U.sort)!=null?te:0,10)||0,title:String((_e=U==null?void 0:U.title)!=null?_e:"").trim(),slug:String((Ae=U==null?void 0:U.slug)!=null?Ae:"").trim(),usage:(Ee=U==null?void 0:U.usage)!=null?Ee:0}}).filter(U=>U.id>0||U.title!==""),F=new Set(q.map(U=>U.id));q.forEach(U=>{F.has(U.parent_id)||(U.parent_id=0)});const ie=new Map,pe=new Map;q.forEach(U=>{pe.set(U.id,U);const j=U.parent_id||0;ie.has(j)||ie.set(j,[]),ie.get(j).push(U)});const oe=U=>U.sort((j,te)=>{var _e,Ae;return((_e=j.sort)!=null?_e:0)-((Ae=te.sort)!=null?Ae:0)||j.title.localeCompare(te.title,void 0,{sensitivity:"base"})});ie.forEach(oe);const Q=new Set,Z=[],ee=(U,j,te)=>{if(!U||Q.has(U.id)||te.includes(U.id))return;const _e=[...te],Ae=_e.map(Y=>{var m;return(m=pe.get(Y))==null?void 0:m.title}).filter(Boolean),Ee={...U,depth:j,path:Ae.join(" / "),ancestors:_e,indentedTitle:j>0?`${" ".repeat(j)}${U.title}`:U.title};Z.push(Ee),Q.add(U.id),(ie.get(U.id)||[]).forEach(Y=>ee(Y,j+1,[...te,U.id]))},ue=q.filter(U=>U.parent_id===0||!F.has(U.parent_id));return oe(ue),ue.forEach(U=>ee(U,0,[])),q.forEach(U=>{Q.has(U.id)||ee(U,0,[])}),Z},h=he(()=>{var J,B;return p((B=(J=s.state)==null?void 0:J.items)!=null?B:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),c=we(f()),A=he(()=>{var B,q;const J=(q=Array.isArray(u.value)&&u.value.length?u.value:(B=s.state)==null?void 0:B.items)!=null?q:[];return p(J).filter(F=>F.id>0&&F.id!==c.id&&!(Array.isArray(F.ancestors)&&F.ancestors.includes(c.id))).map(F=>({id:F.id,title:F.title,label:F.depth>0?`${" ".repeat(F.depth)}${F.title}`:F.title}))}),v=()=>{Object.assign(c,f()),l.value=!1},$=J=>J?J.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",x=()=>{l.value=!0,c.slug=$(c.slug)};Le(()=>c.title,J=>{l.value||(c.slug=$(J))});const P=async(J=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const B=await s.loadOptions();u.value=Array.isArray(B)?[...B]:[]}catch(B){u.value=[]}u.value=u.value.filter(B=>{var F,ie;return(Number.parseInt((ie=(F=B==null?void 0:B.id)!=null?F:B==null?void 0:B.value)!=null?ie:0,10)||0)!==J})},X=async()=>{v(),await P(),a.value=!0},z=async J=>{var B,q,F,ie;J&&(c.id=Number.parseInt((B=J.id)!=null?B:0,10)||0,c.title=String((q=J.title)!=null?q:"").trim(),c.slug=String((F=J.slug)!=null?F:"").trim(),c.parent_id=J.parent_id!=null&&Number.parseInt(J.parent_id,10)||null,c.sort=Number.parseInt((ie=J.sort)!=null?ie:0,10)||0,l.value=!!c.slug,await P(c.id),a.value=!0)},H=()=>{a.value=!1,v()},S=()=>{o("refresh")},w=()=>{o("search")},se=J=>{o("page",J)},re=()=>{const J={id:c.id||void 0,title:c.title.trim(),slug:c.slug.trim(),parent_id:c.parent_id||null,sort:Number.isFinite(c.sort)?c.sort:0};o("save",J)},de=J=>{if(!J||!J.id)return;const B=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(B)||o("delete",[J.id])},me=J=>{if(!J)return"";try{const B=new Date(J),F=new Date-B,ie=Math.floor(F/1e3),pe=Math.floor(ie/60),oe=Math.floor(pe/60);return ie<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):pe<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[pe]):oe<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[oe]):B.toLocaleString()}catch(B){return J}};return Le(()=>{var J;return(J=s.state)==null?void 0:J.saving},(J,B)=>{var q,F,ie;B&&!J&&(((F=(q=s.state)==null?void 0:q.validationErrors)!=null?F:[]).length>0||(ie=s.state)!=null&&ie.error||(a.value=!1,v()))}),(J,B)=>(R(),N("section",Oh,[i("header",Rh,[i("div",null,[i("h2",vh,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",xh,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",Nh,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":B[0]||(B[0]=q=>e.state.search=q),onKeyup:qt(w,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Ph),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:S,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[B[7]||(B[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",kh,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Mh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:X},[B[8]||(B[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(R(),N("div",Ih,d(e.state.error),1)):e.state.loading?(R(),N("div",wh,[Be(Dn,{type:"table",rows:5,columns:5})])):(R(),N("div",$h,[i("div",Uh,[i("table",Dh,[i("thead",null,[i("tr",null,[i("th",Lh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",Yh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",Xh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Fh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Gh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),B[9]||(B[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ye("",!0):(R(),N("tr",Vh,[i("td",Hh,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(R(!0),N(Se,null,ve(h.value,q=>{var F;return R(),N("tr",{key:q.id,class:ke({"is-active":c.id===q.id})},[i("th",Bh,[i("span",{style:Ft({paddingLeft:`${q.depth*1.5}rem`})},d(q.indentedTitle),5)]),i("td",null,d(q.slug||""),1),i("td",null,d(q.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),i("td",null,d(q.sort),1),i("td",null,d((F=q.usage)!=null?F:0),1),i("td",Kh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ie=>z(q),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[B[10]||(B[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",Jh,d(r(n)("JEDIT","Edit")),1)],8,jh),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:ie=>de(q),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[B[11]||(B[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",qh,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Wh)])],2)}),128))])]),e.state.pagination.pages>1?(R(),N("div",zh,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:B[1]||(B[1]=q=>se(e.state.pagination.current-1))},"  ",8,Qh),i("span",Zh,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:B[2]||(B[2]=q=>se(e.state.pagination.current+1))},"  ",8,em)])):ye("",!0)]),e.state.lastUpdated?(R(),N("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(me(e.state.lastUpdated)),9,tm)):ye("",!0),a.value?(R(),N("div",nm,[i("div",{class:"nxp-ec-modal__backdrop",onClick:H}),i("div",sm,[i("header",im,[i("h3",om,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:H,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[B[12]||(B[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",rm,d(r(n)("JCLOSE","Close")),1)],8,am)]),i("form",{class:"nxp-ec-form",onSubmit:ht(re,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(R(),N("div",lm,[i("ul",null,[(R(!0),N(Se,null,ve(e.state.validationErrors,(q,F)=>(R(),N("li",{key:F},d(q),1))),128))])])):ye("",!0),i("div",cm,[i("label",dm,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),ne(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[3]||(B[3]=q=>c.title=q),required:"",maxlength:"255"},null,512),[[ce,c.title,void 0,{trim:!0}]])]),i("div",um,[i("label",pm,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),ne(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[4]||(B[4]=q=>c.slug=q),maxlength:"190",onInput:x},null,544),[[ce,c.slug,void 0,{trim:!0}]])]),i("div",_m,[i("label",fm,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),ne(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":B[5]||(B[5]=q=>c.parent_id=q)},[i("option",hm,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(R(!0),N(Se,null,ve(A.value,q=>(R(),N("option",{key:q.id,value:q.id},d(q.label),9,mm))),128))],512),[[vt,c.parent_id,void 0,{number:!0}]])]),i("div",gm,[i("label",Cm,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),ne(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":B[6]||(B[6]=q=>c.sort=q),min:"0",step:"1"},null,512),[[ce,c.sort,void 0,{number:!0}]])]),i("footer",Sm,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[B[13]||(B[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,Em),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:H},[B[14]||(B[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):ye("",!0)]))]))}},Am={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Tm={class:"nxp-ec-admin-panel__header"},ym={class:"nxp-ec-admin-panel__title"},Om={class:"nxp-ec-admin-panel__lead"},Rm={class:"nxp-ec-admin-panel__actions"},vm=["placeholder","aria-label"],xm=["aria-label"],Nm={value:""},Pm=["value"],Mm=["disabled","title","aria-label"],km={class:"nxp-ec-sr-only"},Im=["disabled","title","aria-label"],wm={class:"nxp-ec-sr-only"},$m={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Um={key:1,class:"nxp-ec-admin-panel__body"},Dm={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},Lm={class:"nxp-ec-admin-panel__table"},Ym={key:0,class:"nxp-ec-admin-panel__selection"},Xm=["aria-label"],Fm={value:""},Gm=["value"],Vm=["disabled"],Hm=["title","aria-label"],Bm={class:"nxp-ec-sr-only"},Km={class:"nxp-ec-admin-table"},jm={scope:"col",class:"nxp-ec-admin-table__select"},Jm={scope:"col"},Wm={scope:"col"},qm={scope:"col"},zm={scope:"col"},Qm={scope:"col"},Zm={scope:"col",class:"nxp-ec-admin-table__actions"},eg={key:0},tg={colspan:"7"},ng={class:"nxp-ec-admin-table__select"},sg=["checked","onChange","aria-label"],ig={scope:"row"},og=["onClick"],ag={class:"nxp-ec-admin-table__meta"},rg={class:"nxp-ec-badge"},lg={class:"nxp-ec-admin-table__actions"},cg=["onUpdate:modelValue","aria-label"],dg=["value"],ug=["value"],pg=["disabled","onClick"],_g={key:1,class:"nxp-ec-admin-pagination"},fg=["disabled"],hg={class:"nxp-ec-admin-pagination__status"},mg=["disabled"],gg=["title"],Cg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Sg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Eg={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},bg={class:"nxp-ec-admin-panel__sidebar-header"},Ag=["title","aria-label"],Tg={class:"nxp-ec-sr-only"},yg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Og={key:1,class:"nxp-ec-admin-panel__section"},Rg={class:"nxp-ec-admin-copy"},vg=["value"],xg=["disabled"],Ng={key:0,class:"nxp-ec-admin-panel__muted"},Pg={class:"nxp-ec-admin-copy"},Mg=["disabled"],kg={key:0,class:"nxp-ec-admin-panel__muted"},Ig={class:"nxp-ec-admin-panel__section"},wg={class:"nxp-ec-admin-list"},$g={class:"nxp-ec-admin-list__title"},Ug={class:"nxp-ec-admin-list__meta"},Dg={class:"nxp-ec-admin-panel__section"},Lg={class:"nxp-ec-admin-panel__total"},Yg={class:"nxp-ec-admin-panel__section"},Xg={class:"nxp-ec-admin-address"},Fg={class:"nxp-ec-admin-panel__section"},Gg={key:0,class:"nxp-ec-admin-address"},Vg={key:1,class:"nxp-ec-admin-panel__muted"},Hg={class:"nxp-ec-admin-panel__section"},Bg={class:"nxp-ec-form-field"},Kg={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},jg={class:"nxp-ec-form-field"},Jg={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},Wg={class:"nxp-ec-form-field"},qg={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},zg={class:"nxp-ec-form-checkbox"},Qg={class:"nxp-ec-admin-form__actions"},Zg=["disabled"],eC={key:2,class:"nxp-ec-admin-panel__section"},tC={class:"nxp-ec-admin-list"},nC={class:"nxp-ec-admin-list__title"},sC={class:"nxp-ec-admin-list__meta"},iC={class:"nxp-ec-admin-panel__section"},oC=["placeholder"],aC={class:"nxp-ec-admin-form__actions"},rC=["disabled"],lC={class:"nxp-ec-admin-panel__section"},cC={key:0,class:"nxp-ec-admin-list"},dC={class:"nxp-ec-admin-list__title"},uC={class:"nxp-ec-admin-list__meta"},pC={key:1,class:"nxp-ec-admin-panel__muted"},_C=xt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=we({}),l=He(""),u=He(""),p=he(()=>u.value.trim().length>0),h=He(""),f=we({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),c=he(()=>{var C;const m=(C=s.state)==null?void 0:C.selection;return!m||typeof m.values!="function"?[]:Array.from(m.values())}),A=he(()=>c.value.length>0);Le(c,m=>{m.length||(l.value="")}),Le(()=>s.state.activeOrder,m=>{var C,L,g;u.value="",h.value="",f.carrier=(C=m==null?void 0:m.carrier)!=null?C:"",f.tracking_number=(L=m==null?void 0:m.tracking_number)!=null?L:"",f.tracking_url=(g=m==null?void 0:m.tracking_url)!=null?g:"",f.markFulfilled=!1},{immediate:!0}),Le(()=>s.state.items,m=>{Array.isArray(m)&&m.forEach(C=>{!C||typeof C.id=="undefined"||a[C.id]||(a[C.id]=C.state)})},{immediate:!0});const v=(m,C)=>{const L=(Number(m)||0)/100,g=(C||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:g}).format(L)}catch(T){return`${g} ${L.toFixed(2)}`}},$=m=>{if(!m)return"";const C=new Date(m);return Number.isNaN(C.getTime())?m:C.toLocaleString()},x=m=>m===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(m)]),P=m=>{if(!m)return"";const C=`COM_NXPEASYCART_ORDERS_STATE_${String(m).toUpperCase()}`;return n(C,m)},X=m=>s.state.orderStates.filter(C=>C!==m.state),z=m=>(a[m.id]||m.state)!==m.state,H=()=>{var m;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((m=window.location)!=null&&m.origin)?window.location.origin:""},S=he(()=>{var G,O;const m=(O=(G=s.state)==null?void 0:G.activeOrder)!=null?O:{},C=String(m.public_token||"").trim(),L=String(m.order_no||"").trim();if(!C)return"";const g=H();if(!g)return"";const T=g.endsWith("/")?"":"/",k=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:C});return L&&k.set("no",L),`${g}${T}index.php?${k.toString()}`}),w=async()=>{var m;if(S.value){try{if(!((m=navigator==null?void 0:navigator.clipboard)!=null&&m.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(S.value),h.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(C){try{const L=document.createElement("textarea");L.value=S.value,L.setAttribute("readonly",""),L.style.position="absolute",L.style.left="-9999px",document.body.appendChild(L),L.select(),document.execCommand("copy"),document.body.removeChild(L),h.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(L){h.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}h.value&&setTimeout(()=>{h.value=""},2e3)}},se=he(()=>{var C,L,g,T,k;const m=(L=(C=s.state)==null?void 0:C.activeOrder)!=null?L:{};return f.carrier!==((g=m.carrier)!=null?g:"")||f.tracking_number!==((T=m.tracking_number)!=null?T:"")||f.tracking_url!==((k=m.tracking_url)!=null?k:"")||f.markFulfilled}),re=m=>!m||typeof m!="object"?[]:Object.entries(m).filter(([,C])=>C!=null&&`${C}`.trim()!=="").map(([C,L])=>({key:C,value:`${L}`.trim()})),de=()=>{o("refresh")},me=()=>{o("export")},J=()=>{o("search")},B=()=>{o("filter",s.state.filterState)},q=m=>{o("view",m)},F=()=>{o("close")},ie=m=>{const C=a[m.id]||m.state;C!==m.state&&o("transition",{id:m.id,state:C})},pe=m=>{o("page",m)},oe=m=>{var C,L,g,T;return(T=(g=(L=(C=s.state)==null?void 0:C.selection)==null?void 0:L.has)==null?void 0:g.call(L,m))!=null?T:!1},Q=m=>{o("toggle-selection",m)},Z=()=>{l.value="",o("clear-selection")},ee=()=>{!A.value||!l.value||o("bulk-transition",{ids:[...c.value],state:l.value})},ue=()=>{if(!s.state.activeOrder)return;const m=u.value.trim();m&&(o("add-note",{id:s.state.activeOrder.id,message:m}),u.value="")},U=()=>{s.state.activeOrder&&o("invoice",s.state.activeOrder.id)},j=()=>{!s.state.activeOrder||!se.value||(o("save-tracking",{id:s.state.activeOrder.id,carrier:f.carrier,tracking_number:f.tracking_number,tracking_url:f.tracking_url,mark_fulfilled:f.markFulfilled}),f.markFulfilled=!1)},te=he(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(c.value.length)],"ordersSelectedCount")),_e=m=>{var C,L,g,T,k,G,O,I,E,_,b,y;if(!m||!m.action)return"";switch(m.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const D=P((L=(C=m.context)==null?void 0:C.from)!=null?L:""),M=P((T=(g=m.context)==null?void 0:g.to)!=null?T:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[D||((k=m.context)==null?void 0:k.from)||"",M||((G=m.context)==null?void 0:G.to)||""],"ordersTimelineState")}case"order.note":return((O=m.context)==null?void 0:O.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const D=((I=m.context)==null?void 0:I.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),M=v((_=(E=m.context)==null?void 0:E.amount_cents)!=null?_:0,(y=(b=s.state)==null?void 0:b.activeOrder)==null?void 0:y.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[D,M],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return m.action}},Ae=m=>{if(!m)return"";const C=String(m.type||"").toLowerCase(),L=String(m.message||"").trim(),g=String(m.state||"").toLowerCase();return C==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):g?P(g):L||C||""},Ee=he(()=>{var g,T,k,G;const m=[];return(Array.isArray((T=(g=s.state)==null?void 0:g.activeOrder)==null?void 0:T.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((O,I)=>{var E,_;m.push({label:Ae(O),created:(E=O==null?void 0:O.at)!=null?E:"",key:`f-${I}-${(_=O==null?void 0:O.at)!=null?_:""}`})}),(Array.isArray((G=(k=s.state)==null?void 0:k.activeOrder)==null?void 0:G.timeline)?s.state.activeOrder.timeline:[]).forEach((O,I)=>{var E,_,b;m.push({label:_e(O),created:(E=O==null?void 0:O.created)!=null?E:"",key:`a-${(_=O==null?void 0:O.id)!=null?_:I}-${(b=O==null?void 0:O.created)!=null?b:""}`})}),m.filter(O=>O.label).sort((O,I)=>{const E=new Date(O.created||0).getTime();return new Date(I.created||0).getTime()-E})}),Re=m=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(m.status||"").toUpperCase()}`,m.status||""),Y=m=>{if(!m)return"";try{const C=new Date(m),g=new Date-C,T=Math.floor(g/1e3),k=Math.floor(T/60),G=Math.floor(k/60);return T<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):k<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[k]):G<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[G]):C.toLocaleString()}catch(C){return m}};return(m,C)=>(R(),N("section",Am,[i("header",Tm,[i("div",null,[i("h2",ym,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",Om,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",Rm,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":C[0]||(C[0]=L=>e.state.search=L),onKeyup:qt(J,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,vm),[[ce,e.state.search]]),ne(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":C[1]||(C[1]=L=>e.state.filterState=L),onChange:B,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",Nm,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(R(!0),N(Se,null,ve(e.state.orderStates,L=>(R(),N("option",{key:L,value:L},d(P(L)),9,Pm))),128))],40,xm),[[vt,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:me,disabled:e.state.loading||e.state.exporting,title:r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[C[10]||(C[10]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",km,d(r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,Mm),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:de,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[C[11]||(C[11]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",wm,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Im)])]),e.state.error?(R(),N("div",$m,d(e.state.error),1)):e.state.loading?(R(),N("div",Um,[Be(Dn,{type:"table",rows:5,columns:7})])):(R(),N("div",Dm,[i("div",Lm,[A.value?(R(),N("div",Ym,[i("span",null,d(te.value),1),ne(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":C[2]||(C[2]=L=>l.value=L),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",Fm,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(R(!0),N(Se,null,ve(e.state.orderStates,L=>(R(),N("option",{key:`bulk-${L}`,value:L},d(P(L)),9,Gm))),128))],8,Xm),[[vt,l.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!l.value||e.state.saving,onClick:ee},[C[12]||(C[12]=i("i",{class:"fa-solid fa-check"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,Vm),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Z,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[C[13]||(C[13]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",Bm,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,Hm)])):ye("",!0),i("table",Km,[i("thead",null,[i("tr",null,[i("th",jm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",Jm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",Wm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",qm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",zm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",Qm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",Zm,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?ye("",!0):(R(),N("tr",eg,[i("td",tg,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(R(!0),N(Se,null,ve(e.state.items,L=>{var g,T,k;return R(),N("tr",{key:L.id,class:ke({"is-active":e.state.activeOrder&&e.state.activeOrder.id===L.id})},[i("td",ng,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:oe(L.id),onChange:G=>Q(L.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,sg)]),i("th",ig,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:G=>q(L)},d(L.order_no),9,og)]),i("td",null,[i("div",null,d(L.email),1),i("div",ag,d(x((k=L.items_count)!=null?k:(T=(g=L.items)==null?void 0:g.length)!=null?T:0)),1)]),i("td",null,d(v(L.total_cents,L.currency)),1),i("td",null,[i("span",rg,d(P(L.state)),1)]),i("td",null,d($(L.modified||L.created)),1),i("td",lg,[ne(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":G=>a[L.id]=G,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:L.state},d(P(L.state)),9,dg),(R(!0),N(Se,null,ve(X(L),G=>(R(),N("option",{key:G,value:G},d(P(G)),9,ug))),128))],8,cg),[[vt,a[L.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!z(L),onClick:G=>ie(L)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,pg)])],2)}),128))])]),e.state.pagination.pages>1?(R(),N("div",_g,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:C[3]||(C[3]=L=>pe(e.state.pagination.current-1))},"  ",8,fg),i("span",hg,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:C[4]||(C[4]=L=>pe(e.state.pagination.current+1))},"  ",8,mg)])):ye("",!0)]),e.state.lastUpdated?(R(),N("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(Y(e.state.lastUpdated)),9,gg)):ye("",!0),e.state.activeOrder?(R(),N("div",Cg,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:F}),i("div",Sg,[i("aside",Eg,[i("header",bg,[i("h3",null,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:F,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[C[14]||(C[14]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Tg,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,Ag)]),e.state.transitionError?(R(),N("div",yg,d(e.state.transitionError),1)):ye("",!0),S.value?(R(),N("section",Og,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",Rg,[i("input",{type:"text",class:"nxp-ec-form-input",value:S.value,readonly:""},null,8,vg),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!S.value,onClick:w},[C[15]||(C[15]=i("i",{class:"fa-solid fa-link"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,xg)]),h.value?(R(),N("p",Ng,d(h.value),1)):ye("",!0),i("div",Pg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:U},[C[16]||(C[16]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,Mg),s.state.invoiceLoading?(R(),N("span",kg,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ye("",!0)])])):ye("",!0),i("section",Ig,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",wg,[(R(!0),N(Se,null,ve(e.state.activeOrder.items,L=>(R(),N("li",{key:L.id},[i("div",$g,[Fe(d(L.title)+" ",1),i("small",null,"("+d(L.sku)+")",1)]),i("div",Ug,"  "+d(L.qty)+"  "+d(v(L.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",Dg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",Lg,d(v(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",Yg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",Xg,[(R(!0),N(Se,null,ve(re(e.state.activeOrder.billing),L=>(R(),N("span",{key:L.key},d(L.value),1))),128))])]),i("section",Fg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(R(),N("address",Gg,[(R(!0),N(Se,null,ve(re(e.state.activeOrder.shipping),L=>(R(),N("span",{key:L.key},d(L.value),1))),128))])):(R(),N("p",Vg,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),i("section",Hg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",Bg,[i("label",Kg,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),ne(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[5]||(C[5]=L=>f.carrier=L)},null,512),[[ce,f.carrier]])]),i("div",jg,[i("label",Jg,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),ne(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[6]||(C[6]=L=>f.tracking_number=L)},null,512),[[ce,f.tracking_number]])]),i("div",Wg,[i("label",qg,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),ne(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":C[7]||(C[7]=L=>f.tracking_url=L)},null,512),[[ce,f.tracking_url]])]),i("label",zg,[ne(i("input",{type:"checkbox","onUpdate:modelValue":C[8]||(C[8]=L=>f.markFulfilled=L)},null,512),[[Rt,f.markFulfilled]]),Fe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)]),i("div",Qg,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!se.value||e.state.saving,onClick:j},[C[17]||(C[17]=i("i",{class:"fa-solid fa-truck"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,Zg)])]),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(R(),N("section",eC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",tC,[(R(!0),N(Se,null,ve(e.state.activeOrder.transactions,L=>(R(),N("li",{key:L.id},[i("div",nC,d(L.gateway)+"  "+d(v(L.amount_cents,e.state.activeOrder.currency)),1),i("div",sC,d(Re(L))+"  "+d($(L.created)),1)]))),128))])])):ye("",!0),i("section",iC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:ht(ue,["prevent"])},[ne(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":C[9]||(C[9]=L=>u.value=L),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,oC),[[ce,u.value]]),i("div",aC,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[C[18]||(C[18]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,rC)])],32)]),i("section",lC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),Ee.value.length?(R(),N("ul",cC,[(R(!0),N(Se,null,ve(Ee.value,L=>(R(),N("li",{key:L.key},[i("div",dC,d(L.label),1),i("div",uC,d($(L.created)),1)]))),128))])):(R(),N("p",pC,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):ye("",!0)]))]))}},[["__scopeId","data-v-72439590"]]),fC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},hC={class:"nxp-ec-admin-panel__header"},mC={class:"nxp-ec-admin-panel__title"},gC={class:"nxp-ec-admin-panel__lead"},CC={class:"nxp-ec-admin-panel__actions"},SC=["placeholder","aria-label"],EC=["disabled","title","aria-label"],bC={class:"nxp-ec-sr-only"},AC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},TC={key:1,class:"nxp-ec-admin-panel__body"},yC={key:2,class:"nxp-ec-admin-panel__body"},OC={class:"nxp-ec-admin-panel__table"},RC={class:"nxp-ec-admin-table"},vC={scope:"col"},xC={scope:"col"},NC={scope:"col"},PC={scope:"col"},MC={scope:"col"},kC={key:0},IC={colspan:"5"},wC={scope:"row"},$C=["onClick"],UC={key:0,class:"nxp-ec-admin-pagination"},DC=["disabled"],LC={class:"nxp-ec-admin-pagination__status"},YC=["disabled"],XC=["title"],FC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},GC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},VC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},HC={class:"nxp-ec-admin-panel__sidebar-header"},BC=["title","aria-label"],KC={class:"nxp-ec-sr-only"},jC={class:"nxp-ec-admin-panel__section"},JC={class:"nxp-ec-admin-summary"},WC={class:"nxp-ec-admin-panel__section"},qC={class:"nxp-ec-admin-address"},zC={class:"nxp-ec-admin-panel__section"},QC={key:0,class:"nxp-ec-admin-address"},ZC={key:1,class:"nxp-ec-admin-panel__muted"},eS={class:"nxp-ec-admin-panel__section"},tS={key:0,class:"nxp-ec-admin-list"},nS={class:"nxp-ec-admin-list__title"},sS={class:"nxp-ec-admin-list__meta"},iS={key:1,class:"nxp-ec-admin-panel__muted"},oS=xt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=(x,P)=>{const X=(Number(x)||0)/100,z=(P||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:z}).format(X)}catch(H){return`${z} ${X.toFixed(2)}`}},l=x=>{if(!x)return"";const P=new Date(x);return Number.isNaN(P.getTime())?x:P.toLocaleString()},u=x=>!x||typeof x!="object"?[]:Object.entries(x).filter(([,P])=>P!=null&&`${P}`.trim()!=="").map(([P,X])=>({key:P,value:`${X}`.trim()})),p=x=>{if(!x)return"";const P=`COM_NXPEASYCART_ORDERS_STATE_${String(x).toUpperCase()}`;return n(P,x)},h=()=>o("refresh"),f=()=>o("search"),c=x=>o("page",x),A=x=>o("view",x),v=()=>o("close"),$=x=>{if(!x)return"";try{const P=new Date(x),z=new Date-P,H=Math.floor(z/1e3),S=Math.floor(H/60),w=Math.floor(S/60);return H<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):S<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[S]):w<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[w]):P.toLocaleString()}catch(P){return x}};return(x,P)=>{var X,z,H;return R(),N("section",fC,[i("header",hC,[i("div",null,[i("h2",mC,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",gC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",CC,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":P[0]||(P[0]=S=>e.state.search=S),onKeyup:qt(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,SC),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:h,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[P[3]||(P[3]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",bC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,EC)])]),e.state.error?(R(),N("div",AC,d(e.state.error),1)):e.state.loading?(R(),N("div",TC,[Be(Dn,{type:"table",rows:5,columns:5})])):(R(),N("div",yC,[i("div",OC,[i("table",RC,[i("thead",null,[i("tr",null,[i("th",vC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",xC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",NC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",PC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",MC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?ye("",!0):(R(),N("tr",kC,[i("td",IC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(R(!0),N(Se,null,ve(e.state.items,S=>{var w;return R(),N("tr",{key:S.email,class:ke({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===S.email})},[i("th",wC,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:se=>A(S)},d(S.email),9,$C)]),i("td",null,d(((w=S.meta)==null?void 0:w.name)||""),1),i("td",null,d(S.orders_count),1),i("td",null,d(a(S.total_spent_cents,S.currency||e.baseCurrency)),1),i("td",null,d(l(S.last_order)),1)],2)}),128))])]),e.state.pagination.pages>1?(R(),N("div",UC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:P[1]||(P[1]=S=>c(e.state.pagination.current-1))},"  ",8,DC),i("span",LC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:P[2]||(P[2]=S=>c(e.state.pagination.current+1))},"  ",8,YC)])):ye("",!0)]),e.state.lastUpdated?(R(),N("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d($(e.state.lastUpdated)),9,XC)):ye("",!0),e.state.activeCustomer?(R(),N("div",FC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:v}),i("div",GC,[i("aside",VC,[i("header",HC,[i("h3",null,d(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:v,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[P[4]||(P[4]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",KC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,BC)]),i("section",jC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",JC,[i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,d(((X=e.state.activeCustomer.meta)==null?void 0:X.name)||""),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,d(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,d(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,d(l(e.state.activeCustomer.last_order)),1)])])]),i("section",WC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",qC,[(R(!0),N(Se,null,ve(u((z=e.state.activeCustomer.meta)==null?void 0:z.billing),S=>(R(),N("span",{key:S.key},d(S.value),1))),128))])]),i("section",zC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(H=e.state.activeCustomer.meta)!=null&&H.shipping?(R(),N("address",QC,[(R(!0),N(Se,null,ve(u(e.state.activeCustomer.meta.shipping),S=>(R(),N("span",{key:S.key},d(S.value),1))),128))])):(R(),N("p",ZC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",eS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(R(),N("ul",tS,[(R(!0),N(Se,null,ve(e.state.activeCustomer.orders,S=>(R(),N("li",{key:S.id},[i("div",nS,d(S.order_no)+"  "+d(a(S.total_cents,S.currency||e.baseCurrency)),1),i("div",sS,d(p(S.state))+"  "+d(l(S.created)),1)]))),128))])):(R(),N("p",iS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))])])])])):ye("",!0)]))])}}},[["__scopeId","data-v-f2676e0d"]]),aS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},rS={class:"nxp-ec-admin-panel__header"},lS={class:"nxp-ec-admin-panel__title"},cS={class:"nxp-ec-admin-panel__lead"},dS={class:"nxp-ec-admin-panel__actions"},uS=["placeholder","aria-label"],pS=["disabled","title","aria-label"],_S={class:"nxp-ec-sr-only"},fS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hS={key:1,class:"nxp-ec-admin-panel__loading"},mS={key:2,class:"nxp-ec-admin-panel__body"},gS={class:"nxp-ec-admin-panel__table"},CS={class:"nxp-ec-admin-table"},SS={scope:"col"},ES={scope:"col"},bS={scope:"col"},AS={scope:"col"},TS={scope:"col"},yS={scope:"col"},OS={key:0},RS={colspan:"7"},vS={scope:"row"},xS={class:"nxp-ec-admin-table__actions"},NS=["onClick","title","aria-label"],PS={class:"nxp-ec-sr-only"},MS=["onClick","title","aria-label"],kS={class:"nxp-ec-sr-only"},IS={key:0,class:"nxp-ec-admin-pagination"},wS=["disabled"],$S={class:"nxp-ec-admin-pagination__status"},US=["disabled"],DS={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},LS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},YS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},XS={class:"nxp-ec-admin-panel__sidebar-header"},FS=["title","aria-label"],GS={class:"nxp-ec-sr-only"},VS={class:"nxp-ec-form-field"},HS={class:"nxp-ec-form-label",for:"coupon-code"},BS={class:"nxp-ec-form-field"},KS={class:"nxp-ec-form-label",for:"coupon-type"},jS={value:"percent"},JS={value:"fixed"},WS={class:"nxp-ec-form-field"},qS={class:"nxp-ec-form-label",for:"coupon-value"},zS={class:"nxp-ec-form-field"},QS={class:"nxp-ec-form-label",for:"coupon-min-total"},ZS={class:"nxp-ec-form-field"},eE={class:"nxp-ec-form-label",for:"coupon-start"},tE={class:"nxp-ec-form-field"},nE={class:"nxp-ec-form-label",for:"coupon-end"},sE={class:"nxp-ec-form-field"},iE={class:"nxp-ec-form-label",for:"coupon-max-uses"},oE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},aE={class:"nxp-ec-form-label",for:"coupon-active"},rE={class:"nxp-ec-modal__actions"},lE=["disabled"],cE=["disabled"],dE=["disabled"],uE=xt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=he(()=>(s.baseCurrency||"USD").toUpperCase()),l=we({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=he(()=>l.open),p=()=>o("refresh"),h=()=>o("search"),f=H=>o("page",H),c=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},A=H=>{var S,w;Object.assign(l,{open:!0,id:H.id,code:H.code,type:H.type,value:H.value,min_total:(w=H.min_total)!=null?w:((S=H.min_total_cents)!=null?S:0)/100,start:H.start?H.start.substring(0,10):"",end:H.end?H.end.substring(0,10):"",max_uses:H.max_uses,active:H.active})},v=()=>{l.open=!1},$=()=>{const H={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",H)},x=H=>{const S=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(S)&&(o("delete",[H.id]),l.id===H.id&&v())},P=(H,S)=>{const w=(Number(H)||0)/100,se=(S||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:se}).format(w)}catch(re){return`${se} ${w.toFixed(2)}`}},X=H=>H.type==="percent"?`${H.value}%`:P(H.value*100,a.value),z=H=>H==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Le(()=>s.state.saving,(H,S)=>{S&&!H&&!s.state.error&&l.open&&v()}),(H,S)=>(R(),N("section",aS,[i("header",rS,[i("div",null,[i("h2",lS,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",cS,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",dS,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":S[0]||(S[0]=w=>e.state.search=w),onKeyup:qt(h,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,uS),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[S[12]||(S[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",_S,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,pS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:c},[S[13]||(S[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(R(),N("div",fS,d(e.state.error),1)):e.state.loading?(R(),N("div",hS,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(R(),N("div",mS,[i("div",gS,[i("table",CS,[i("thead",null,[i("tr",null,[i("th",SS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",ES,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",bS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",AS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",TS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",yS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),S[14]||(S[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ye("",!0):(R(),N("tr",OS,[i("td",RS,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(R(!0),N(Se,null,ve(e.state.items,w=>(R(),N("tr",{key:w.id,class:ke({"is-active":l.id===w.id})},[i("th",vS,d(w.code),1),i("td",null,d(z(w.type)),1),i("td",null,d(X(w)),1),i("td",null,d(P(w.min_total_cents,a.value)),1),i("td",null,[i("span",{class:ke(["nxp-ec-badge",{"is-active":w.active}])},[i("i",{class:ke(w.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Fe(" "+d(w.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)]),i("td",null,d(w.times_used)+d(w.max_uses?` / ${w.max_uses}`:""),1),i("td",xS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:se=>A(w),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[S[15]||(S[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",PS,d(r(n)("JEDIT","Edit")),1)],8,NS),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:se=>x(w),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[S[16]||(S[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",kS,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,MS)])],2))),128))])]),e.state.pagination.pages>1?(R(),N("div",IS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:S[1]||(S[1]=w=>f(e.state.pagination.current-1))},"  ",8,wS),i("span",$S,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:S[2]||(S[2]=w=>f(e.state.pagination.current+1))},"  ",8,US)])):ye("",!0)]),u.value?(R(),N("div",DS,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:v}),i("div",LS,[i("aside",YS,[i("header",XS,[i("h3",null,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:v,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[S[17]||(S[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",GS,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,FS)]),i("form",{class:"nxp-ec-form",onSubmit:ht($,["prevent"]),autocomplete:"off"},[i("div",VS,[i("label",HS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),ne(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":S[3]||(S[3]=w=>l.code=w),required:"",maxlength:"64"},null,512),[[ce,l.code,void 0,{trim:!0}]])]),i("div",BS,[i("label",KS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),ne(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":S[4]||(S[4]=w=>l.type=w)},[i("option",jS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",JS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[vt,l.type]])]),i("div",WS,[i("label",qS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),ne(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":S[5]||(S[5]=w=>l.value=w),required:""},null,512),[[ce,l.value,void 0,{number:!0}]])]),i("div",zS,[i("label",QS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),ne(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":S[6]||(S[6]=w=>l.min_total=w)},null,512),[[ce,l.min_total,void 0,{number:!0}]])]),i("div",ZS,[i("label",eE,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),ne(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":S[7]||(S[7]=w=>l.start=w)},null,512),[[ce,l.start]])]),i("div",tE,[i("label",nE,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),ne(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":S[8]||(S[8]=w=>l.end=w)},null,512),[[ce,l.end]])]),i("div",sE,[i("label",iE,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),ne(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":S[9]||(S[9]=w=>l.max_uses=w)},null,512),[[ce,l.max_uses,void 0,{number:!0}]])]),i("div",oE,[i("label",aE,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),ne(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":S[10]||(S[10]=w=>l.active=w)},null,512),[[Rt,l.active]])]),i("footer",rE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:v,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,lE),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,cE)]),l.id?(R(),N("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:S[11]||(S[11]=w=>x(l)),disabled:e.state.saving},[S[18]||(S[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Fe(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,dE)):ye("",!0)],32)])])])):ye("",!0)]))]))}},[["__scopeId","data-v-f3fb8685"]]),pE={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},_E={class:"nxp-ec-admin-panel__header"},fE={class:"nxp-ec-admin-panel__title"},hE={class:"nxp-ec-admin-panel__lead"},mE={class:"nxp-ec-settings-tabs"},gE={key:0,class:"nxp-ec-settings-panel"},CE={class:"nxp-ec-settings-panel__header"},SE=["disabled"],EE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bE={key:1,class:"nxp-ec-admin-panel__loading"},AE={class:"nxp-ec-form-field"},TE={class:"nxp-ec-form-label",for:"settings-store-name"},yE={class:"nxp-ec-form-field"},OE={class:"nxp-ec-form-label",for:"settings-store-email"},RE={class:"nxp-ec-form-field"},vE={class:"nxp-ec-form-label",for:"settings-store-phone"},xE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},NE={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},PE={class:"nxp-ec-form-help"},ME={class:"nxp-ec-form-field"},kE={class:"nxp-ec-form-label",for:"settings-base-currency"},IE={class:"nxp-ec-form-help"},wE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$E={class:"nxp-ec-form-label",for:"settings-payments-configured"},UE={class:"nxp-ec-form-help"},DE={class:"nxp-ec-settings-actions"},LE=["disabled"],YE=["disabled"],XE={key:1,class:"nxp-ec-settings-panel"},FE={class:"nxp-ec-settings-panel__header"},GE=["disabled"],VE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},HE={class:"nxp-ec-form-help"},BE={class:"nxp-ec-form-grid"},KE={class:"nxp-ec-form-field"},jE={class:"nxp-ec-form-label",for:"settings-checkout-window"},JE={class:"nxp-ec-form-help"},WE={class:"nxp-ec-form-field"},qE={class:"nxp-ec-form-label",for:"settings-offline-window"},zE={class:"nxp-ec-form-help"},QE={class:"nxp-ec-form-grid"},ZE={class:"nxp-ec-form-field"},eb={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},tb={class:"nxp-ec-form-field"},nb={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},sb={class:"nxp-ec-form-field"},ib={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},ob={class:"nxp-ec-form-grid"},ab={class:"nxp-ec-form-field"},rb={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},lb={class:"nxp-ec-form-field"},cb={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},db={class:"nxp-ec-settings-actions"},ub=["disabled"],pb=["disabled"],_b={key:2,class:"nxp-ec-settings-panel"},fb={class:"nxp-ec-settings-panel__header"},hb=["disabled"],mb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},gb={key:1,class:"nxp-ec-settings-grid"},Cb={class:"nxp-ec-settings-table"},Sb={class:"nxp-ec-admin-table"},Eb={scope:"col"},bb={scope:"col"},Ab={scope:"col"},Tb={scope:"col"},yb={scope:"col"},Ob={key:0},Rb={colspan:"6"},vb={scope:"row"},xb={class:"nxp-ec-admin-table__actions"},Nb=["onClick","title","aria-label"],Pb={class:"nxp-ec-sr-only"},Mb=["onClick","title","aria-label"],kb={class:"nxp-ec-sr-only"},Ib={class:"nxp-ec-form-field"},wb={class:"nxp-ec-form-label",for:"tax-country"},$b={class:"nxp-ec-form-field"},Ub={class:"nxp-ec-form-label",for:"tax-region"},Db={class:"nxp-ec-form-field"},Lb={class:"nxp-ec-form-label",for:"tax-rate"},Yb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Xb={class:"nxp-ec-form-label",for:"tax-inclusive"},Fb={class:"nxp-ec-form-field"},Gb={class:"nxp-ec-form-label",for:"tax-priority"},Vb={class:"nxp-ec-settings-actions"},Hb=["disabled"],Bb=["disabled"],Kb={key:3,class:"nxp-ec-settings-panel"},jb={class:"nxp-ec-settings-panel__header"},Jb=["disabled"],Wb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qb={key:1,class:"nxp-ec-settings-grid"},zb={class:"nxp-ec-settings-table"},Qb={class:"nxp-ec-admin-table"},Zb={scope:"col"},eA={scope:"col"},tA={scope:"col"},nA={scope:"col"},sA={scope:"col"},iA={scope:"col"},oA={key:0},aA={colspan:"7"},rA={scope:"row"},lA={class:"nxp-ec-admin-table__actions"},cA=["onClick","title","aria-label"],dA={class:"nxp-ec-sr-only"},uA=["onClick","title","aria-label"],pA={class:"nxp-ec-sr-only"},_A={class:"nxp-ec-form-field"},fA={class:"nxp-ec-form-label",for:"shipping-name"},hA={class:"nxp-ec-form-field"},mA={class:"nxp-ec-form-label",for:"shipping-type"},gA={value:"flat"},CA={value:"free_over"},SA={class:"nxp-ec-form-field"},EA={class:"nxp-ec-form-label",for:"shipping-price"},bA={key:0,class:"nxp-ec-form-field"},AA={class:"nxp-ec-form-label",for:"shipping-threshold"},TA={class:"nxp-ec-form-field"},yA={class:"nxp-ec-form-label",for:"shipping-regions"},OA=["placeholder"],RA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vA={class:"nxp-ec-form-label",for:"shipping-active"},xA={class:"nxp-ec-settings-actions"},NA=["disabled"],PA=["disabled"],MA={key:4,class:"nxp-ec-settings-panel"},kA={class:"nxp-ec-settings-panel__header"},IA={class:"nxp-ec-settings-actions"},wA=["disabled"],$A={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},UA={key:1,class:"nxp-ec-admin-panel__loading"},DA={class:"nxp-ec-form-field"},LA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},YA={class:"nxp-ec-form-field"},XA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},FA={class:"nxp-ec-form-field"},GA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},VA={class:"nxp-ec-form-help"},HA={class:"nxp-ec-form-field"},BA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},KA={value:"test"},jA={value:"live"},JA={class:"nxp-ec-form-field"},WA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},qA={class:"nxp-ec-form-field"},zA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},QA={class:"nxp-ec-form-field"},ZA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},eT={class:"nxp-ec-form-help"},tT={class:"nxp-ec-form-field"},nT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},sT={value:"sandbox"},iT={value:"live"},oT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},aT={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},rT={class:"nxp-ec-form-field"},lT={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},cT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},dT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},uT={class:"nxp-ec-form-field"},pT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},_T={class:"nxp-ec-form-field"},fT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},hT=["placeholder"],mT={class:"nxp-ec-form-help"},gT={class:"nxp-ec-form-grid"},CT={class:"nxp-ec-form-field"},ST={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},ET={class:"nxp-ec-form-field"},bT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},AT={class:"nxp-ec-form-field"},TT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},yT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},OT={class:"nxp-ec-settings-actions"},RT=["disabled"],vT=["disabled"],xT={key:5,class:"nxp-ec-settings-panel"},NT={class:"nxp-ec-settings-panel__header"},PT=["disabled"],MT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kT={key:1,class:"nxp-ec-admin-panel__loading"},IT={class:"nxp-ec-form-help"},wT={class:"nxp-ec-form-help nxp-ec-form-help--muted"},$T={class:"nxp-ec-visual-grid"},UT={class:"nxp-ec-visual-field"},DT={class:"nxp-ec-form-label",for:"visual-primary-color"},LT={class:"nxp-ec-color-input-group"},YT=["value"],XT=["placeholder"],FT={class:"nxp-ec-visual-field"},GT={class:"nxp-ec-form-label",for:"visual-text-color"},VT={class:"nxp-ec-color-input-group"},HT=["value"],BT=["placeholder"],KT={class:"nxp-ec-visual-field"},jT={class:"nxp-ec-form-label",for:"visual-surface-color"},JT={class:"nxp-ec-color-input-group"},WT=["value"],qT=["placeholder"],zT={class:"nxp-ec-visual-field"},QT={class:"nxp-ec-form-label",for:"visual-border-color"},ZT={class:"nxp-ec-color-input-group"},ey=["value"],ty=["placeholder"],ny={class:"nxp-ec-visual-field"},sy={class:"nxp-ec-form-label",for:"visual-muted-color"},iy={class:"nxp-ec-color-input-group"},oy=["value"],ay=["placeholder"],ry={class:"nxp-ec-visual-preview"},ly={type:"button",class:"nxp-ec-preview-btn"},cy={class:"nxp-ec-preview-text"},dy={class:"nxp-ec-preview-muted"},uy={class:"nxp-ec-settings-actions"},py=["disabled"],_y=["disabled"],fy=xt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.settingsState,l=s.taxState,u=s.shippingState,p=s.paymentsState,h=He("general"),f=he(()=>{var g;const Y=s.baseCurrency||"USD",m=typeof c.baseCurrency=="string"?c.baseCurrency.trim():"",C=typeof((g=a==null?void 0:a.values)==null?void 0:g.base_currency)=="string"?a.values.base_currency.trim():"";return(m!==""?m:C!==""?C:Y).toUpperCase()}),c=we({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,baseCurrency:""}),A=we({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),v=we({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),$=we({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),x=we({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),P=we({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),X=he(()=>{var m,C;const Y=(C=(m=a.values)==null?void 0:m.visual_defaults)!=null?C:{};return{primary:Y.primary_color||"#4f6d7a",text:Y.text_color||"#1f2933",surface:Y.surface_color||"#ffffff",border:Y.border_color||"#e4e7ec",muted:Y.muted_color||"#6b7280"}}),z=he(()=>({"--nxp-ec-color-primary":P.primaryColor||X.value.primary,"--nxp-ec-color-text":P.textColor||X.value.text,"--nxp-ec-color-surface":P.surfaceColor||X.value.surface,"--nxp-ec-color-border":P.borderColor||X.value.border,"--nxp-ec-color-muted":P.mutedColor||X.value.muted})),H=(Y={})=>{var T,k,G,O,I,E,_,b,y,D,M,W,K,le;const m=(T=Y==null?void 0:Y.store)!=null?T:{},C=(k=Y==null?void 0:Y.payments)!=null?k:{},L=(G=Y==null?void 0:Y.visual)!=null?G:{},g=(I=(O=Y==null?void 0:Y.security)==null?void 0:O.rate_limits)!=null?I:{};Object.assign(c,{storeName:(E=m.name)!=null?E:"",storeEmail:(_=m.email)!=null?_:"",storePhone:(b=m.phone)!=null?b:"",checkoutPhoneRequired:!!((y=Y==null?void 0:Y.checkout_phone_required)!=null&&y),paymentsConfigured:!!C.configured,baseCurrency:typeof(Y==null?void 0:Y.base_currency)=="string"?Y.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase()}),Object.assign(P,{primaryColor:(D=L.primary_color)!=null?D:"",textColor:(M=L.text_color)!=null?M:"",surfaceColor:(W=L.surface_color)!=null?W:"",borderColor:(K=L.border_color)!=null?K:"",mutedColor:(le=L.muted_color)!=null?le:""}),Object.assign(A,{checkoutWindowMinutes:Number.isFinite(Number(g.checkout_window_minutes))?Number(g.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(g.checkout_ip_limit))?Number(g.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(g.checkout_email_limit))?Number(g.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(g.checkout_session_limit))?Number(g.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(g.offline_window_minutes))?Number(g.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(g.offline_ip_limit))?Number(g.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(g.offline_email_limit))?Number(g.offline_email_limit):5})},S=(Y={})=>{var T,k,G,O,I,E,_,b,y,D,M,W,K,le,fe,ge,Oe,Ne,Me,Ke,rt,We,Ye,De;const m=(T=Y.stripe)!=null?T:{},C=(k=Y.paypal)!=null?k:{},L=(G=Y.cod)!=null?G:{},g=(O=Y.bank_transfer)!=null?O:{};Object.assign(x.stripe,{publishable_key:(I=m.publishable_key)!=null?I:"",secret_key:(E=m.secret_key)!=null?E:"",webhook_secret:(_=m.webhook_secret)!=null?_:"",mode:(b=m.mode)!=null?b:"test"}),Object.assign(x.paypal,{client_id:(y=C.client_id)!=null?y:"",client_secret:(D=C.client_secret)!=null?D:"",webhook_id:(M=C.webhook_id)!=null?M:"",mode:(W=C.mode)!=null?W:"sandbox"}),Object.assign(x.cod,{enabled:L.enabled!==void 0?!!L.enabled:x.cod.enabled,label:(le=(K=L.label)!=null?K:x.cod.label)!=null?le:"Cash on delivery"}),Object.assign(x.bank_transfer,{enabled:g.enabled!==void 0?!!g.enabled:x.bank_transfer.enabled,label:(ge=(fe=g.label)!=null?fe:x.bank_transfer.label)!=null?ge:"Bank transfer",instructions:(Ne=(Oe=g.instructions)!=null?Oe:x.bank_transfer.instructions)!=null?Ne:"",account_name:(Ke=(Me=g.account_name)!=null?Me:x.bank_transfer.account_name)!=null?Ke:"",iban:(We=(rt=g.iban)!=null?rt:x.bank_transfer.iban)!=null?We:"",bic:(De=(Ye=g.bic)!=null?Ye:x.bank_transfer.bic)!=null?De:""})};Le(()=>a.values,Y=>{H(Y!=null?Y:{})},{immediate:!0});const w=()=>o("refresh-settings"),se=()=>{const Y=(c.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:c.storeName,email:c.storeEmail,phone:c.storePhone,base_currency:Y},payments:{configured:c.paymentsConfigured},base_currency:Y,checkout_phone_required:c.checkoutPhoneRequired})},re=()=>{var Y;H((Y=a.values)!=null?Y:{})},de=()=>{const Y=(m,C=0)=>{const L=Number(m);return Number.isFinite(L)&&L>=0?L:C};o("save-settings",{security:{rate_limits:{checkout_window_minutes:Y(A.checkoutWindowMinutes,15),checkout_ip_limit:Y(A.checkoutIpLimit,10),checkout_email_limit:Y(A.checkoutEmailLimit,5),checkout_session_limit:Y(A.checkoutSessionLimit,15),offline_window_minutes:Y(A.offlineWindowMinutes,240),offline_ip_limit:Y(A.offlineIpLimit,10),offline_email_limit:Y(A.offlineEmailLimit,5)}}})},me=()=>{var Y;H((Y=a.values)!=null?Y:{})};Le(()=>a.saving,(Y,m)=>{var C;m&&!Y&&!a.error&&H((C=a.values)!=null?C:{})}),Le(()=>c.baseCurrency,Y=>{if(typeof Y=="string"){const m=Y.replace(/[^A-Za-z]/g,"").toUpperCase();m!==Y&&(c.baseCurrency=m)}}),Le(()=>p.config,Y=>{S(Y!=null?Y:{})},{immediate:!0}),Le(()=>p.saving,(Y,m)=>{var C;m&&!Y&&!p.error&&S((C=p.config)!=null?C:{})});const J=()=>o("refresh-payments"),B=()=>{const Y=JSON.parse(JSON.stringify(x));o("save-payments",Y)},q=()=>{var Y;S((Y=p.config)!=null?Y:{})},F=()=>o("refresh-settings"),ie=()=>{o("save-settings",{visual:{primary_color:P.primaryColor,text_color:P.textColor,surface_color:P.surfaceColor,border_color:P.borderColor,muted_color:P.mutedColor}})},pe=()=>{var m,C,L,g,T,k,G;const Y=(C=(m=a.values)==null?void 0:m.visual)!=null?C:{};Object.assign(P,{primaryColor:(L=Y.primary_color)!=null?L:"",textColor:(g=Y.text_color)!=null?g:"",surfaceColor:(T=Y.surface_color)!=null?T:"",borderColor:(k=Y.border_color)!=null?k:"",mutedColor:(G=Y.muted_color)!=null?G:""})},oe=()=>o("refresh-tax"),Q=()=>o("refresh-shipping"),Z=Y=>{Object.assign(v,{id:Y.id,country:Y.country,region:Y.region,rate:Y.rate,inclusive:Y.inclusive,priority:Y.priority})},ee=()=>{Object.assign(v,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},ue=()=>{o("save-tax",{id:v.id||void 0,country:v.country,region:v.region,rate:v.rate,inclusive:v.inclusive,priority:v.priority})},U=Y=>{const m=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(m)&&(o("delete-tax",[Y.id]),v.id===Y.id&&ee())};Le(()=>l.saving,(Y,m)=>{m&&!Y&&!l.error&&ee()});const j=Y=>{var m,C,L;Object.assign($,{id:Y.id,name:Y.name,type:Y.type,price:(C=Y.price)!=null?C:((m=Y.price_cents)!=null?m:0)/100,threshold:Y.threshold!==null&&Y.threshold!==void 0?Y.threshold:((L=Y.threshold_cents)!=null?L:0)/100,regions:Y.regions&&Y.regions.length?Y.regions.join(", "):"",active:Y.active})},te=()=>{Object.assign($,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},_e=()=>{const Y={id:$.id||void 0,name:$.name,type:$.type,price:$.price,threshold:$.type==="free_over"?$.threshold:0,regions:$.regions,active:$.active};o("save-shipping",Y)},Ae=Y=>{const m=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(m)&&(o("delete-shipping",[Y.id]),$.id===Y.id&&te())};Le(()=>u.saving,(Y,m)=>{m&&!Y&&!u.error&&te()});const Ee=(Y,m)=>{const C=(Number(Y)||0)/100,L=(m||"").toUpperCase()||f.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:L}).format(C)}catch(g){return`${L} ${C.toFixed(2)}`}},Re=Y=>Y==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(Y,m)=>(R(),N("section",pE,[i("header",_E,[i("div",null,[i("h2",fE,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",hE,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",mE,[i("button",{type:"button",class:ke(["nxp-ec-settings-tab",{"is-active":h.value==="general"}]),onClick:m[0]||(m[0]=C=>h.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:ke(["nxp-ec-settings-tab",{"is-active":h.value==="security"}]),onClick:m[1]||(m[1]=C=>h.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3),i("button",{type:"button",class:ke(["nxp-ec-settings-tab",{"is-active":h.value==="tax"}]),onClick:m[2]||(m[2]=C=>h.value="tax")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:ke(["nxp-ec-settings-tab",{"is-active":h.value==="shipping"}]),onClick:m[3]||(m[3]=C=>h.value="shipping")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:ke(["nxp-ec-settings-tab",{"is-active":h.value==="payments"}]),onClick:m[4]||(m[4]=C=>h.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:ke(["nxp-ec-settings-tab",{"is-active":h.value==="visual"}]),onClick:m[5]||(m[5]=C=>h.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),h.value==="general"?(R(),N("div",gE,[i("header",CE,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:w,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,SE)]),r(a).error?(R(),N("div",EE,d(r(a).error),1)):r(a).loading?(R(),N("div",bE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(R(),N("form",{key:2,class:"nxp-ec-settings-form",onSubmit:ht(se,["prevent"])},[i("div",AE,[i("label",TE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),ne(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[6]||(m[6]=C=>c.storeName=C),maxlength:"190"},null,512),[[ce,c.storeName,void 0,{trim:!0}]])]),i("div",yE,[i("label",OE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),ne(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":m[7]||(m[7]=C=>c.storeEmail=C)},null,512),[[ce,c.storeEmail,void 0,{trim:!0}]])]),i("div",RE,[i("label",vE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),ne(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[8]||(m[8]=C=>c.storePhone=C),maxlength:"64"},null,512),[[ce,c.storePhone,void 0,{trim:!0}]])]),i("div",xE,[i("label",NE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),ne(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[9]||(m[9]=C=>c.checkoutPhoneRequired=C)},null,512),[[Rt,c.checkoutPhoneRequired]]),i("p",PE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",ME,[i("label",kE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),ne(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":m[10]||(m[10]=C=>c.baseCurrency=C),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[ce,c.baseCurrency,void 0,{trim:!0}]]),i("p",IE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",wE,[i("label",$E,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),ne(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[11]||(m[11]=C=>c.paymentsConfigured=C)},null,512),[[Rt,c.paymentsConfigured]]),i("p",UE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",DE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:re,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,LE),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,YE)])],32))])):h.value==="security"?(R(),N("div",XE,[i("header",FE,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:w,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,GE)]),r(a).error?(R(),N("div",VE,d(r(a).error),1)):(R(),N("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:ht(de,["prevent"])},[i("p",HE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",BE,[i("div",KE,[i("label",jE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),ne(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[12]||(m[12]=C=>A.checkoutWindowMinutes=C)},null,512),[[ce,A.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",JE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",WE,[i("label",qE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),ne(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[13]||(m[13]=C=>A.offlineWindowMinutes=C)},null,512),[[ce,A.offlineWindowMinutes,void 0,{number:!0}]]),i("p",zE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",QE,[i("div",ZE,[i("label",eb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),ne(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[14]||(m[14]=C=>A.checkoutIpLimit=C)},null,512),[[ce,A.checkoutIpLimit,void 0,{number:!0}]])]),i("div",tb,[i("label",nb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),ne(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[15]||(m[15]=C=>A.checkoutEmailLimit=C)},null,512),[[ce,A.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",sb,[i("label",ib,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),ne(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[16]||(m[16]=C=>A.checkoutSessionLimit=C)},null,512),[[ce,A.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",ob,[i("div",ab,[i("label",rb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),ne(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[17]||(m[17]=C=>A.offlineIpLimit=C)},null,512),[[ce,A.offlineIpLimit,void 0,{number:!0}]])]),i("div",lb,[i("label",cb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),ne(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[18]||(m[18]=C=>A.offlineEmailLimit=C)},null,512),[[ce,A.offlineEmailLimit,void 0,{number:!0}]])])]),i("div",db,[i("button",{class:"nxp-ec-btn",type:"button",onClick:me,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,ub),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,pb)])],32))])):h.value==="tax"?(R(),N("div",_b,[i("header",fb,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:oe,disabled:r(l).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,hb)]),r(l).error?(R(),N("div",mb,d(r(l).error),1)):(R(),N("div",gb,[i("div",Cb,[i("table",Sb,[i("thead",null,[i("tr",null,[i("th",Eb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",bb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",Ab,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",Tb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",yb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),m[61]||(m[61]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(l).items.length?ye("",!0):(R(),N("tr",Ob,[i("td",Rb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(R(!0),N(Se,null,ve(r(l).items,C=>{var L;return R(),N("tr",{key:C.id,class:ke({"is-active":v.id===C.id})},[i("th",vb,d(C.country),1),i("td",null,d(C.region||""),1),i("td",null,d(((L=C.rate)!=null?L:0).toFixed(2))+"%",1),i("td",null,d(C.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1),i("td",null,d(C.priority),1),i("td",xb,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:g=>Z(C),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[m[62]||(m[62]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",Pb,d(r(n)("JEDIT","Edit")),1)],8,Nb),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:g=>U(C),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[m[63]||(m[63]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",kb,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Mb)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ht(ue,["prevent"])},[i("h4",null,d(v.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",Ib,[i("label",wb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),ne(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[19]||(m[19]=C=>v.country=C),maxlength:"2",required:""},null,512),[[ce,v.country,void 0,{trim:!0}]])]),i("div",$b,[i("label",Ub,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),ne(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[20]||(m[20]=C=>v.region=C)},null,512),[[ce,v.region,void 0,{trim:!0}]])]),i("div",Db,[i("label",Lb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),ne(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[21]||(m[21]=C=>v.rate=C),required:""},null,512),[[ce,v.rate,void 0,{number:!0}]])]),i("div",Yb,[i("label",Xb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),ne(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[22]||(m[22]=C=>v.inclusive=C)},null,512),[[Rt,v.inclusive]])]),i("div",Fb,[i("label",Gb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),ne(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":m[23]||(m[23]=C=>v.priority=C)},null,512),[[ce,v.priority,void 0,{number:!0}]])]),i("div",Vb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ee,disabled:r(l).saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,Hb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(l).saving},d(r(l).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,Bb)])],32)]))])):h.value==="shipping"?(R(),N("div",Kb,[i("header",jb,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Q,disabled:r(u).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,Jb)]),r(u).error?(R(),N("div",Wb,d(r(u).error),1)):(R(),N("div",qb,[i("div",zb,[i("table",Qb,[i("thead",null,[i("tr",null,[i("th",Zb,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",eA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",tA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",nA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",sA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",iA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),m[64]||(m[64]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(u).items.length?ye("",!0):(R(),N("tr",oA,[i("td",aA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(R(!0),N(Se,null,ve(r(u).items,C=>(R(),N("tr",{key:C.id,class:ke({"is-active":$.id===C.id})},[i("th",rA,d(C.name),1),i("td",null,d(Re(C.type)),1),i("td",null,d(Ee(C.price_cents,f.value)),1),i("td",null,d(C.type==="free_over"?Ee(C.threshold_cents,f.value):""),1),i("td",null,d(C.regions&&C.regions.length?C.regions.join(", "):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,[i("span",{class:ke(["nxp-ec-badge",{"is-active":C.active}])},[i("i",{class:ke(C.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Fe(" "+d(C.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)]),i("td",lA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:L=>j(C),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[m[65]||(m[65]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",dA,d(r(n)("JEDIT","Edit")),1)],8,cA),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:L=>Ae(C),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[m[66]||(m[66]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",pA,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,uA)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ht(_e,["prevent"])},[i("h4",null,d($.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",_A,[i("label",fA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),ne(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[24]||(m[24]=C=>$.name=C),required:""},null,512),[[ce,$.name,void 0,{trim:!0}]])]),i("div",hA,[i("label",mA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),ne(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":m[25]||(m[25]=C=>$.type=C)},[i("option",gA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",CA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[vt,$.type]])]),i("div",SA,[i("label",EA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),ne(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[26]||(m[26]=C=>$.price=C),required:""},null,512),[[ce,$.price,void 0,{number:!0}]])]),$.type==="free_over"?(R(),N("div",bA,[i("label",AA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),ne(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[27]||(m[27]=C=>$.threshold=C),required:""},null,512),[[ce,$.threshold,void 0,{number:!0}]])])):ye("",!0),i("div",TA,[i("label",yA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),ne(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[28]||(m[28]=C=>$.regions=C),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,OA),[[ce,$.regions,void 0,{trim:!0}]])]),i("div",RA,[i("label",vA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),ne(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[29]||(m[29]=C=>$.active=C)},null,512),[[Rt,$.active]])]),i("div",xA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:te,disabled:r(u).saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,NA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(u).saving},d(r(u).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,PA)])],32)]))])):h.value==="payments"?(R(),N("div",MA,[i("header",kA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",IA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:J,disabled:r(p).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,wA)])]),r(p).error?(R(),N("div",$A,d(r(p).error),1)):r(p).loading?(R(),N("div",UA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(R(),N("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:ht(B,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",DA,[i("label",LA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),ne(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[30]||(m[30]=C=>x.stripe.publishable_key=C)},null,512),[[ce,x.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",YA,[i("label",XA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),ne(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":m[31]||(m[31]=C=>x.stripe.secret_key=C),autocomplete:"off"},null,512),[[ce,x.stripe.secret_key,void 0,{trim:!0}]])]),i("div",FA,[i("label",GA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),ne(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":m[32]||(m[32]=C=>x.stripe.webhook_secret=C),autocomplete:"off"},null,512),[[ce,x.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",VA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",HA,[i("label",BA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ne(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":m[33]||(m[33]=C=>x.stripe.mode=C)},[i("option",KA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",jA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[vt,x.stripe.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",JA,[i("label",WA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),ne(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[34]||(m[34]=C=>x.paypal.client_id=C)},null,512),[[ce,x.paypal.client_id,void 0,{trim:!0}]])]),i("div",qA,[i("label",zA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),ne(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":m[35]||(m[35]=C=>x.paypal.client_secret=C),autocomplete:"off"},null,512),[[ce,x.paypal.client_secret,void 0,{trim:!0}]])]),i("div",QA,[i("label",ZA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),ne(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[36]||(m[36]=C=>x.paypal.webhook_id=C)},null,512),[[ce,x.paypal.webhook_id,void 0,{trim:!0}]]),i("p",eT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",tT,[i("label",nT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ne(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":m[37]||(m[37]=C=>x.paypal.mode=C)},[i("option",sT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",iT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[vt,x.paypal.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",oT,[i("label",aT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),ne(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":m[38]||(m[38]=C=>x.cod.enabled=C)},null,512),[[Rt,x.cod.enabled]])]),i("div",rT,[i("label",lT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),ne(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[39]||(m[39]=C=>x.cod.label=C),placeholder:"Cash on delivery"},null,512),[[ce,x.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",cT,[i("label",dT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),ne(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":m[40]||(m[40]=C=>x.bank_transfer.enabled=C)},null,512),[[Rt,x.bank_transfer.enabled]])]),i("div",uT,[i("label",pT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),ne(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[41]||(m[41]=C=>x.bank_transfer.label=C),placeholder:"Bank transfer"},null,512),[[ce,x.bank_transfer.label,void 0,{trim:!0}]])]),i("div",_T,[i("label",fT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),ne(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":m[42]||(m[42]=C=>x.bank_transfer.instructions=C),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,hT),[[ce,x.bank_transfer.instructions]]),i("p",mT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",gT,[i("div",CT,[i("label",ST,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),ne(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[43]||(m[43]=C=>x.bank_transfer.account_name=C)},null,512),[[ce,x.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",ET,[i("label",bT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),ne(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[44]||(m[44]=C=>x.bank_transfer.iban=C),maxlength:"34"},null,512),[[ce,x.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",AT,[i("label",TT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),ne(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[45]||(m[45]=C=>x.bank_transfer.bic=C),maxlength:"11"},null,512),[[ce,x.bank_transfer.bic,void 0,{trim:!0}]])])])]),r(p).message?(R(),N("div",yT,d(r(p).message),1)):ye("",!0),i("div",OT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:q,disabled:r(p).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,RT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(p).saving},d(r(p).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,vT)])],32))])):h.value==="visual"?(R(),N("div",xT,[i("header",NT,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:F,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,PT)]),r(a).error?(R(),N("div",MT,d(r(a).error),1)):r(a).loading?(R(),N("div",kT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(R(),N("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:ht(ie,["prevent"])},[i("p",IT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",wT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",$T,[i("div",UT,[i("label",DT,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",LT,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:P.primaryColor||X.value.primary,onInput:m[46]||(m[46]=C=>P.primaryColor=C.target.value)},null,40,YT),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[47]||(m[47]=C=>P.primaryColor=C),placeholder:X.value.primary,maxlength:"7"},null,8,XT),[[ce,P.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[48]||(m[48]=C=>P.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",FT,[i("label",GT,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",VT,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:P.textColor||X.value.text,onInput:m[49]||(m[49]=C=>P.textColor=C.target.value)},null,40,HT),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[50]||(m[50]=C=>P.textColor=C),placeholder:X.value.text,maxlength:"7"},null,8,BT),[[ce,P.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[51]||(m[51]=C=>P.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",KT,[i("label",jT,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",JT,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:P.surfaceColor||X.value.surface,onInput:m[52]||(m[52]=C=>P.surfaceColor=C.target.value)},null,40,WT),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[53]||(m[53]=C=>P.surfaceColor=C),placeholder:X.value.surface,maxlength:"7"},null,8,qT),[[ce,P.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[54]||(m[54]=C=>P.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",zT,[i("label",QT,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",ZT,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:P.borderColor||X.value.border,onInput:m[55]||(m[55]=C=>P.borderColor=C.target.value)},null,40,ey),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[56]||(m[56]=C=>P.borderColor=C),placeholder:X.value.border,maxlength:"7"},null,8,ty),[[ce,P.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[57]||(m[57]=C=>P.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",ny,[i("label",sy,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",iy,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:P.mutedColor||X.value.muted,onInput:m[58]||(m[58]=C=>P.mutedColor=C.target.value)},null,40,oy),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[59]||(m[59]=C=>P.mutedColor=C),placeholder:X.value.muted,maxlength:"7"},null,8,ay),[[ce,P.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[60]||(m[60]=C=>P.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",ry,[i("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Ft(z.value)},[i("button",ly,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",cy,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",dy,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",uy,[i("button",{class:"nxp-ec-btn",type:"button",onClick:pe,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,py),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,_y)])],32))])):ye("",!0)]))}},[["__scopeId","data-v-82cb1677"]]),hy={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},my={class:"nxp-ec-admin-panel__header"},gy={class:"nxp-ec-admin-panel__title"},Cy={class:"nxp-ec-admin-panel__lead"},Sy={class:"nxp-ec-admin-panel__actions"},Ey=["placeholder","aria-label"],by=["value"],Ay={value:""},Ty=["value"],yy=["disabled","title","aria-label"],Oy={class:"nxp-ec-sr-only"},Ry={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vy={key:1,class:"nxp-ec-admin-panel__body"},xy={key:2,class:"nxp-ec-admin-panel__body"},Ny={class:"nxp-ec-admin-panel__table"},Py={class:"nxp-ec-admin-table"},My={scope:"col"},ky={scope:"col"},Iy={scope:"col"},wy={scope:"col"},$y={scope:"col"},Uy={key:0},Dy={colspan:"5"},Ly={class:"nxp-ec-log-entity"},Yy={class:"nxp-ec-log-entity-id"},Xy={class:"nxp-ec-log-context"},Fy={key:0,class:"nxp-ec-admin-pagination"},Gy=["disabled"],Vy={class:"nxp-ec-admin-pagination__status"},Hy=["disabled"],By=["title"],Ky=xt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.state,l=he(()=>{const P=new Set;return Array.isArray(a.items)&&a.items.forEach(X=>{X!=null&&X.entity_type&&P.add(X.entity_type)}),a.entity&&P.add(a.entity),Array.from(P).sort()}),u=()=>o("refresh"),p=()=>o("search"),h=P=>o("filter",P),f=P=>o("page",P),c=P=>{if(!P)return"";try{const X=new Date(P.replace(" ","T"));if(!Number.isNaN(X.getTime()))return X.toLocaleString()}catch(X){}return P},A=P=>{if(!P)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(P){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return P.charAt(0).toUpperCase()+P.slice(1)}},v=P=>{if(!(P!=null&&P.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const X=P.user.name||"",z=P.user.username||"";return X&&z?`${X} (${z})`:X||z||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},$=P=>{if(!P||Array.isArray(P)&&!P.length||typeof P=="object"&&!Object.keys(P).length)return"";try{return JSON.stringify(P,null,2)}catch(X){return String(P)}},x=P=>{if(!P)return"";try{const X=new Date(P),H=new Date-X,S=Math.floor(H/1e3),w=Math.floor(S/60),se=Math.floor(w/60);return S<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):w<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[w]):se<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[se]):X.toLocaleString()}catch(X){return P}};return(P,X)=>(R(),N("section",hy,[i("header",my,[i("div",null,[i("h2",gy,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",Cy,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",Sy,[ne(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":X[0]||(X[0]=z=>r(a).search=z),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:qt(p,["enter"])},null,40,Ey),[[ce,r(a).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(a).entity,onChange:X[1]||(X[1]=z=>h(z.target.value)),"aria-label":"Entity filter"},[i("option",Ay,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(R(!0),N(Se,null,ve(l.value,z=>(R(),N("option",{key:z,value:z},d(A(z)),9,Ty))),128))],40,by),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(a).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[X[4]||(X[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Oy,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,yy)])]),r(a).error?(R(),N("div",Ry,d(r(a).error),1)):r(a).loading?(R(),N("div",vy,[Be(Dn,{type:"table",rows:5,columns:5})])):(R(),N("div",xy,[i("div",Ny,[i("table",Py,[i("thead",null,[i("tr",null,[i("th",My,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",ky,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",Iy,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",wy,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",$y,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(a).items.length?ye("",!0):(R(),N("tr",Uy,[i("td",Dy,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(R(!0),N(Se,null,ve(r(a).items,z=>(R(),N("tr",{key:z.id},[i("td",null,d(c(z.created)),1),i("td",null,[i("span",Ly,d(A(z.entity_type)),1),i("span",Yy,"#"+d(z.entity_id),1)]),i("td",null,d(z.action),1),i("td",null,d(v(z)),1),i("td",null,[i("pre",Xy,d($(z.context)),1)])]))),128))])]),r(a).pagination.pages>1?(R(),N("div",Fy,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current<=1,onClick:X[2]||(X[2]=z=>f(r(a).pagination.current-1))},"  ",8,Gy),i("span",Vy,d(r(a).pagination.current)+" / "+d(r(a).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current>=r(a).pagination.pages,onClick:X[3]||(X[3]=z=>f(r(a).pagination.current+1))},"  ",8,Hy)])):ye("",!0)]),r(a).lastUpdated?(R(),N("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(a).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(x(r(a).lastUpdated)),9,By)):ye("",!0)]))]))}},[["__scopeId","data-v-3275d875"]]),jy={key:0,class:"nxp-ec-onboarding"},Jy={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},Wy={class:"nxp-ec-onboarding__header"},qy={class:"nxp-ec-onboarding__title"},zy={class:"nxp-ec-onboarding__lead"},Qy={class:"nxp-ec-onboarding__progress"},Zy={class:"nxp-ec-onboarding__progress-bar"},eO={class:"nxp-ec-onboarding__progress-label"},tO={class:"nxp-ec-onboarding__steps"},nO={class:"nxp-ec-onboarding__step-main"},sO={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},iO={key:0,class:"fa-solid fa-circle-check"},oO={key:1,class:"fa-regular fa-circle"},aO={class:"nxp-ec-onboarding__step-actions"},rO=["onClick"],lO=xt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,o=he(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=he(()=>`${o.value}%`),a=he(()=>{const l=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,u)=>e.visible?(R(),N("div",jy,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>l.$emit("close"))}),i("section",Jy,[i("header",Wy,[i("div",null,[i("h2",qy,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",zy,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>l.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",Qy,[i("div",Zy,[i("span",{style:Ft({width:n.value})},null,4)]),i("span",eO,d(a.value),1)]),i("ol",tO,[(R(!0),N(Se,null,ve(e.steps,p=>(R(),N("li",{key:p.id,class:ke({"is-complete":p.completed})},[i("div",nO,[i("span",sO,[p.completed?(R(),N("span",iO)):(R(),N("span",oO))]),i("div",null,[i("h3",null,d(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,d(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",aO,[p.link?(R(),N("button",{key:0,type:"button",class:ke(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:h=>l.$emit("navigate",p)},d(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,rO)):ye("",!0)])],2))),128))])])])):ye("",!0)}},[["__scopeId","data-v-97d3dc8b"]]),cO=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let o=String(e);return t.forEach(a=>{const l=a!=null?a:"";o=o.replace("%s",String(l))}),o},dO=(e,t="",s=[])=>{var a;const o=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(n=l)}return cO(n,s)};function uO(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const l=t[n];return l!=null&&l!==""?l:a};return{__:(n,a="",l=[],u="")=>{const p=s(u,a);return dO(n,p,l)}}}class pO{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};o.headers={...o.headers,...s.headers||{}};const n=String(o.method||"GET").toUpperCase();let a=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const l=await fetch(a,o);let u=null;const p=await l.text();if(p)try{u=JSON.parse(p)}catch(h){}if(!l.ok){const h=new Error((u==null?void 0:u.message)||`Request failed with status ${l.status}`);throw h.code=l.status,h.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,h}if((u==null?void 0:u.success)===!1){const h=new Error(u.message||"Unknown API error");throw h.details=u.data||u.errors||null,h}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,o);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(o){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var A,v,$,x;const l=new URLSearchParams({limit:String(s),start:String(o)});n&&l.set("search",n);const u=`${t}&${l.toString()}`,h=(A=(await this.get(u,{signal:a})).data)!=null?A:{},f=($=(v=h.items)!=null?v:h.data)!=null?$:[],c=(x=h.pagination)!=null?x:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCategories({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var h,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(h=(await this.get(l,{signal:a})).data)!=null?h:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:o=0,search:n="",state:a="",signal:l}){var A,v,$,x;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,state:a||void 0}),h=(A=(await this.get(u,{signal:l})).data)!=null?A:{},f=($=(v=h.items)!=null?v:h.data)!=null?$:[],c=(x=h.pagination)!=null?x:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCustomers({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var c,A,v;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(c=(await this.get(l,{signal:a})).data)!=null?c:{},h=(A=p.items)!=null?A:[],f=(v=p.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:h,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var h,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(h=(await this.get(l,{signal:a})).data)!=null?h:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var h,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(h=(await this.get(l,{signal:a})).data)!=null?h:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var h,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(h=(await this.get(l,{signal:a})).data)!=null?h:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:o=0,search:n="",entity:a="",signal:l}){var f,c,A;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,entity:a||void 0}),h=(f=(await this.get(u,{signal:l})).data)!=null?f:{};return{items:(c=h.items)!=null?c:[],pagination:(A=h.pagination)!=null?A:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,n;return t?(n=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:o=""}){var l,u;const n=this.mergeParams(t,{id:s||void 0,order_no:o||void 0});return(u=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.post(n,{state:o})).data)==null?void 0:l.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:o}){var l;const n={ids:s,state:o};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:o}){var a,l;return(l=(a=(await this.post(t,{id:s,message:o})).data)==null?void 0:a.order)!=null?l:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:o}){var l,u;const n={id:s||void 0,order_no:o||void 0};return(u=(l=(await this.post(t,n)).data)==null?void 0:l.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:o=""}){var l,u;const n=this.mergeParams(t,{search:s||void 0,state:o||void 0});return(u=(l=(await this.get(n)).data)==null?void 0:l.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:o}){var a,l;return(l=(a=(await this.post(t,{id:s,...o})).data)==null?void 0:a.order)!=null?l:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}mergeParams(t,s={}){const o=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||o.set(n,String(a))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const mt=e=>new pO(e),sa=typeof window!="undefined"&&window.performance;function ia(e){if(sa)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function _O(e,t,s){if(!sa)return null;try{performance.measure(e,t,s);const o=performance.getEntriesByName(e,"measure")[0];if(o)return console.log(`[NXP EC Performance] ${e}: ${o.duration.toFixed(2)}ms`),o.duration}catch(o){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,o)}return null}const ms=we({}),fO=3e5;function hO(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Nt(e,t=fO){const s=ms[e];return s?hO(s,t)?s.data:(delete ms[e],null):null}function gt(e,t){ms[e]={data:t,timestamp:Date.now()}}function Ge(e){delete ms[e]}function Pt(e){const t=He({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return ia(l),l},endFetch:l=>{const u=`${e}-fetch-end`;ia(u);const p=_O(`${e}-fetch`,l,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const ri=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function mO({endpoints:e,token:t,autoload:s=!0,cacheTTL:o=3e5}){var se,re,de,me;const n=mt({token:t}),a=Pt("products"),l=(se=e==null?void 0:e.list)!=null?se:"",u=(re=e==null?void 0:e.create)!=null?re:ri(l,"store"),p=(de=e==null?void 0:e.update)!=null?de:ri(l,"update"),h=(me=e==null?void 0:e.delete)!=null?me:ri(l,"delete"),f=typeof AbortController!="undefined",c=we({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),A=He(null),v=()=>{const J=c.pagination.current||1,B=c.pagination.limit||20,q=c.search.trim();return`products:page=${J}:limit=${B}:search=${q}`},$=async(J=!1)=>{var pe;if(!l){c.error="Products endpoint unavailable.",c.items=[];return}const B=v(),q=J?null:Nt(B,o);if(q){a.recordCacheHit(),c.items=q.items,c.pagination={...c.pagination,...q.pagination},c.lastUpdated=q.lastUpdated;return}a.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],A.value&&f&&A.value.abort();const F=f?new AbortController:null;A.value=F;const ie=a.startFetch();try{const{items:oe,pagination:Q}=await n.fetchProducts({endpoint:l,signal:F?F.signal:void 0,limit:c.pagination.limit,start:Math.max(0,(c.pagination.current-1)*c.pagination.limit),search:c.search.trim()});c.items=oe,c.pagination={...c.pagination,...Q,current:Q.current&&Q.current>0?Q.current:1},c.lastUpdated=new Date().toISOString(),gt(B,{items:oe,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(oe){if((oe==null?void 0:oe.name)==="AbortError")return;c.error=(pe=oe==null?void 0:oe.message)!=null?pe:"Unknown error"}finally{a.endFetch(ie),f&&A.value===F&&(A.value=null),c.loading=!1}},x=()=>{c.pagination.current=1,Ge(v()),$(!0)},P=()=>{c.pagination.current=1,$()},X=J=>J?typeof J=="string"?J:typeof J=="object"&&J.message?String(J.message):String(J):"",z=(J,{setValidation:B=!1}={})=>{var q;if((J==null?void 0:J.code)===422&&B){const F=Array.isArray(J.details)?J.details:[J.details].filter(Boolean);c.validationErrors=F.map(X).filter(ie=>ie!=="");return}c.error=(q=J==null?void 0:J.message)!=null?q:"Unknown error"},H=async J=>{if(!u)throw new Error("Create endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const B=await n.createProduct({endpoint:u,data:J});return B&&(c.items=[B,...c.items],c.pagination.total+=1,Ge(v())),B}catch(B){throw z(B,{setValidation:!0}),B}finally{c.saving=!1}},S=async(J,B)=>{if(!p)throw new Error("Update endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const q=await n.updateProduct({endpoint:p,id:J,data:B});if(q){const F=c.items.findIndex(ie=>ie.id===q.id);F!==-1&&c.items.splice(F,1,q),Ge(v())}return q}catch(q){throw z(q,{setValidation:!0}),q}finally{c.saving=!1}},w=async J=>{if(!h)throw new Error("Delete endpoint unavailable.");c.deleting=!0,c.validationErrors=[];try{const B=await n.deleteProducts({endpoint:h,ids:J});return B.length&&(c.items=c.items.filter(q=>!B.includes(q.id)),c.pagination.total=Math.max(0,c.pagination.total-B.length),Ge(v())),B}catch(B){throw z(B),B}finally{c.deleting=!1}};return it(()=>{s&&$()}),{state:c,loadProducts:$,refresh:x,search:P,createProduct:H,updateProduct:S,deleteProducts:w,metrics:a.metrics}}function gO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var re,de,me,J,B,q,F,ie,pe,oe,Q,Z,ee,ue;const a=mt({token:t}),l=Pt("categories"),u=(re=e==null?void 0:e.list)!=null?re:"",p=(de=e==null?void 0:e.create)!=null?de:u,h=(me=e==null?void 0:e.update)!=null?me:u,f=(J=e==null?void 0:e.delete)!=null?J:u,c=we({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(ie=(F=(B=s.pagination)==null?void 0:B.total)!=null?F:(q=s.items)==null?void 0:q.length)!=null?ie:0,limit:(oe=(pe=s.pagination)==null?void 0:pe.limit)!=null?oe:20,pages:(Z=(Q=s.pagination)==null?void 0:Q.pages)!=null?Z:0,current:(ue=(ee=s.pagination)==null?void 0:ee.current)!=null?ue:1},search:"",lastUpdated:null}),A=typeof AbortController!="undefined",v=He(null),$=()=>{const U=c.pagination.current||1,j=c.pagination.limit||20,te=c.search.trim();return`categories:page=${U}:limit=${j}:search=${te}`},x=async(U=!1)=>{var Ee;if(!u){c.error="Categories endpoint unavailable.",c.items=[];return}const j=$(),te=U?null:Nt(j,n);if(te){l.recordCacheHit(),c.items=te.items,c.pagination={...c.pagination,...te.pagination},c.lastUpdated=te.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],v.value&&A&&v.value.abort();const _e=A?new AbortController:null;v.value=_e;const Ae=l.startFetch();try{const Re=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:Y,pagination:m}=await a.fetchCategories({endpoint:u,limit:c.pagination.limit,start:Re,search:c.search.trim(),signal:_e?_e.signal:void 0});c.items=Y,c.pagination={...c.pagination,...m,current:m.current&&m.current>0?m.current:1},c.lastUpdated=new Date().toISOString(),gt(j,{items:Y,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Re){if((Re==null?void 0:Re.name)==="AbortError")return;c.error=(Ee=Re==null?void 0:Re.message)!=null?Ee:"Unknown error"}finally{l.endFetch(Ae),A&&v.value===_e&&(v.value=null),c.loading=!1}},P=()=>{c.pagination.current=1,Ge($()),x(!0)},X=()=>{c.pagination.current=1,x()},z=U=>{const j=Number(U);Number.isNaN(j)||j<1||j===c.pagination.current||(c.pagination.current=j,x(!0))},H=(U,{validation:j=!1}={})=>{var te;if(j&&(U==null?void 0:U.code)===422){const _e=U.details,Ae=Array.isArray(_e)?_e:[_e].filter(Boolean);c.validationErrors=Ae.map(Ee=>Ee?typeof Ee=="string"?Ee:typeof Ee=="object"&&Ee.message?String(Ee.message):String(Ee):"").filter(Boolean);return}c.error=(te=U==null?void 0:U.message)!=null?te:"Unknown error"},S=async U=>{if(!p||!h)throw new Error("Category endpoints unavailable.");c.saving=!0,c.error="",c.validationErrors=[];try{let j=null;return U.id?j=await a.updateCategory({endpoint:h,id:U.id,data:U}):j=await a.createCategory({endpoint:p,data:U}),j&&(Ge($()),await x()),j}catch(j){throw H(j,{validation:!0}),j}finally{c.saving=!1}},w=async U=>{if(!Array.isArray(U)||!U.length||!f)return 0;c.deleting=!0,c.error="";try{const j=await a.deleteCategories({endpoint:f,ids:U});return j&&(Ge($()),await x()),j}catch(j){throw H(j),j}finally{c.deleting=!1}},se=async()=>{if(!u)return[];try{const{items:U}=await a.fetchCategories({endpoint:u,limit:200,start:0,search:""});return U}catch(U){return[]}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadCategories:x,refresh:P,search:X,goToPage:z,saveCategory:S,deleteCategories:w,loadOptions:se,metrics:l.metrics}}const zt=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function CO({endpoints:e,token:t,states:s=[],preload:o={},autoload:n=!0,cacheTTL:a=3e5}){var _e,Ae,Ee,Re,Y,m,C,L,g,T,k,G;const l=mt({token:t}),u=Pt("orders"),p=(_e=e==null?void 0:e.list)!=null?_e:"",h=(Ae=e==null?void 0:e.show)!=null?Ae:zt(p,"show"),f=(Ee=e==null?void 0:e.transition)!=null?Ee:zt(p,"transition"),c=(Re=e==null?void 0:e.bulkTransition)!=null?Re:zt(p,"bulkTransition"),A=(Y=e==null?void 0:e.note)!=null?Y:zt(p,"note"),v=(m=e==null?void 0:e.tracking)!=null?m:zt(p,"tracking"),$=(C=e==null?void 0:e.invoice)!=null?C:zt(p,"invoice"),x=(L=e==null?void 0:e.export)!=null?L:zt(p,"export"),P=typeof AbortController!="undefined",X=He(null),z=Array.isArray(o==null?void 0:o.items)?o.items:[],H=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},S=we({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...z],pagination:{total:(g=H.total)!=null?g:z.length,limit:(T=H.limit)!=null?T:20,pages:(k=H.pages)!=null?k:0,current:(G=H.current)!=null?G:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),w=()=>{const O=S.pagination.current||1,I=S.pagination.limit||20,E=S.search.trim(),_=S.filterState||"";return`orders:page=${O}:limit=${I}:search=${E}:state=${_}`},se=async(O=!1)=>{var y;if(!p){S.error="Orders endpoint unavailable.",S.items=[];return}const I=w(),E=O?null:Nt(I,a);if(E){u.recordCacheHit(),S.items=E.items,S.pagination={...S.pagination,...E.pagination},S.lastUpdated=E.lastUpdated;return}u.recordCacheMiss(),S.loading=!0,S.error="",X.value&&P&&X.value.abort();const _=P?new AbortController:null;X.value=_;const b=u.startFetch();try{const D=Math.max(0,(S.pagination.current-1)*S.pagination.limit),{items:M,pagination:W}=await l.fetchOrders({endpoint:p,limit:S.pagination.limit,start:D,search:S.search.trim(),state:S.filterState,signal:_?_.signal:void 0});S.items=M,S.pagination={...S.pagination,...W,current:W.current&&W.current>0?W.current:1},S.selection.clear(),S.lastUpdated=new Date().toISOString(),gt(I,{items:M,pagination:S.pagination,lastUpdated:S.lastUpdated})}catch(D){if((D==null?void 0:D.name)==="AbortError")return;S.error=(y=D==null?void 0:D.message)!=null?y:"Unknown error"}finally{u.endFetch(b),P&&X.value===_&&(X.value=null),S.loading=!1}},re=()=>{S.pagination.current=1,Ge(w()),se(!0)},de=()=>{S.pagination.current=1,se()},me=O=>{S.filterState=O||"",S.pagination.current=1,se()},J=O=>{const I=Number(O);Number.isNaN(I)||I<1||I===S.pagination.current||(S.pagination.current=I,se(!0))},B=()=>{S.selection.clear()},q=O=>{O&&(S.selection.has(O)?S.selection.delete(O):S.selection.add(O))},F=()=>{S.pagination.current>=S.pagination.pages||(S.pagination.current+=1,se(!0))},ie=()=>{S.pagination.current<=1||(S.pagination.current-=1,se(!0))},pe=async(O,I="")=>{var E;if(!h)return null;try{return await l.fetchOrder({endpoint:h,id:O,orderNumber:I})}catch(_){return S.transitionError=(E=_==null?void 0:_.message)!=null?E:"Unknown error",null}},oe=async O=>{var I,E,_,b,y,D,M;if(!O){S.activeOrder=null;return}if(S.transitionError="",O.items&&O.items.length&&O.billing){S.activeOrder=O;return}try{const W=await pe(O.id,O.order_no);S.activeOrder=W||{...O,items:Array.isArray(O.items)?O.items:[],transactions:(I=O.transactions)!=null?I:[],timeline:(E=O.timeline)!=null?E:[],billing:(_=O.billing)!=null?_:{}}}catch(W){S.transitionError=(b=W==null?void 0:W.message)!=null?b:"Unknown error",S.activeOrder={...O,items:Array.isArray(O.items)?O.items:[],transactions:(y=O.transactions)!=null?y:[],timeline:(D=O.timeline)!=null?D:[],billing:(M=O.billing)!=null?M:{}}}},Q=()=>{S.transitionError="",S.activeOrder=null},Z=O=>{if(!(O!=null&&O.id))return;const I=S.items.findIndex(E=>E.id===O.id);I!==-1&&S.items.splice(I,1,O)},ee=async(O,I)=>{var E;if(!f)throw new Error("Transition endpoint unavailable.");S.saving=!0,S.transitionError="";try{const _=await l.transitionOrder({endpoint:f,id:O,state:I});return _&&(Z(_),S.activeOrder&&S.activeOrder.id===_.id&&(S.activeOrder=_),Ge(w())),_}catch(_){throw S.transitionError=(E=_==null?void 0:_.message)!=null?E:"Unknown error",_}finally{S.saving=!1}},ue=async(O,I)=>{var E;if(!v)throw new Error("Tracking endpoint unavailable.");S.saving=!0,S.transitionError="";try{const _=await l.updateOrderTracking({endpoint:v,id:O,tracking:I});return _&&(Z(_),S.activeOrder&&S.activeOrder.id===_.id&&(S.activeOrder=_),Ge(w())),_}catch(_){throw S.transitionError=(E=_==null?void 0:_.message)!=null?E:"Unknown error",_}finally{S.saving=!1}},U=async(O,I="")=>{var E;if(!$)throw new Error("Invoice endpoint unavailable.");S.invoiceLoading=!0,S.transitionError="";try{const _=await l.fetchOrderInvoice({endpoint:$,id:O,orderNumber:I});if(!_)throw new Error("Invoice not available.");return _}catch(_){throw S.transitionError=(E=_==null?void 0:_.message)!=null?E:"Unknown error",_}finally{S.invoiceLoading=!1}},j=async()=>{var O;if(!x)throw new Error("Export endpoint unavailable.");S.exporting=!0,S.error="";try{const I=await l.exportOrders({endpoint:x,search:S.search.trim(),state:S.filterState});if(!I)throw new Error("Export not available.");return I}catch(I){throw S.error=(O=I==null?void 0:I.message)!=null?O:"Export failed",I}finally{S.exporting=!1}},te=async(O,I)=>{var E;if(!c)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(O)||!O.length)return{updated:[]};S.saving=!0;try{const _=await l.bulkTransitionOrders({endpoint:c,ids:O,state:I}),b=Array.isArray(_.updated)?_.updated:[];return b.forEach(y=>{Z(y),S.activeOrder&&S.activeOrder.id===y.id&&(S.activeOrder=y)}),B(),{updated:b}}catch(_){throw S.transitionError=(E=_==null?void 0:_.message)!=null?E:"Unknown error",_}finally{S.saving=!1}};return it(()=>{n&&se()}),{state:S,loadOrders:se,refresh:re,search:de,setFilterState:me,goToPage:J,nextPage:F,previousPage:ie,viewOrder:oe,closeOrder:Q,transitionOrder:ee,bulkTransition:te,updateTracking:ue,downloadInvoice:U,exportOrders:j,toggleSelection:q,clearSelection:B,metrics:u.metrics,addNote:async(O,I)=>{var E;if(!A)throw new Error("Note endpoint unavailable.");if(!O||!I||!I.trim())return null;S.transitionError="",S.saving=!0;try{const _=await l.addOrderNote({endpoint:A,id:O,message:I});return _&&(Z(_),S.activeOrder&&S.activeOrder.id===_.id&&(S.activeOrder=_)),_}catch(_){throw S.transitionError=(E=_==null?void 0:_.message)!=null?E:"Unknown error",_}finally{S.saving=!1}}}}function SO({endpoint:e="",token:t="",preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var f,c,A;const a=mt({token:t}),l=Pt("dashboard"),u=we({loading:!1,error:"",summary:(A=s.summary)!=null?A:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(c=(f=s.summary)==null?void 0:f.currency)!=null?c:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",h=async(v=!1)=>{var X,z;if(!e)return;const $=p(),x=v?null:Nt($,n);if(x){l.recordCacheHit(),u.summary=x.summary,u.checklist=x.checklist,u.lastUpdated=x.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="";const P=l.startFetch();try{const H=await a.fetchDashboard({endpoint:e});u.summary=(X=H.summary)!=null?X:u.summary,u.checklist=Array.isArray(H.checklist)?H.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),gt($,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(H){u.error=(z=H==null?void 0:H.message)!=null?z:"Unknown error"}finally{l.endFetch(P),u.loading=!1}};return it(()=>{o&&(!Array.isArray(u.checklist)||!u.checklist.length)&&h()}),{state:u,refresh:h,metrics:l.metrics}}function EO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var H,S,w,se,re,de,me,J,B,q,F,ie,pe;const a=mt({token:t}),l=Pt("customers"),u=(H=e==null?void 0:e.list)!=null?H:"",p=(S=e==null?void 0:e.show)!=null?S:"",h=we({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(de=(re=(w=s.pagination)==null?void 0:w.total)!=null?re:(se=s.items)==null?void 0:se.length)!=null?de:0,limit:(J=(me=s.pagination)==null?void 0:me.limit)!=null?J:20,pages:(q=(B=s.pagination)==null?void 0:B.pages)!=null?q:0,current:(ie=(F=s.pagination)==null?void 0:F.current)!=null?ie:1},search:"",activeCustomer:(pe=s.active)!=null?pe:null,lastUpdated:null}),f=typeof AbortController!="undefined",c=He(null),A=()=>{const oe=h.pagination.current||1,Q=h.pagination.limit||20,Z=h.search.trim();return`customers:page=${oe}:limit=${Q}:search=${Z}`},v=async(oe=!1)=>{var U;if(!u){h.error="Customers endpoint unavailable.",h.items=[];return}const Q=A(),Z=oe?null:Nt(Q,n);if(Z){l.recordCacheHit(),h.items=Z.items,h.pagination={...h.pagination,...Z.pagination},h.lastUpdated=Z.lastUpdated;return}l.recordCacheMiss(),h.loading=!0,h.error="",c.value&&f&&c.value.abort();const ee=f?new AbortController:null;c.value=ee;const ue=l.startFetch();try{const j=Math.max(0,(h.pagination.current-1)*h.pagination.limit),{items:te,pagination:_e}=await a.fetchCustomers({endpoint:u,limit:h.pagination.limit,start:j,search:h.search.trim(),signal:ee?ee.signal:void 0});h.items=te,h.pagination={...h.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},h.lastUpdated=new Date().toISOString(),gt(Q,{items:te,pagination:h.pagination,lastUpdated:h.lastUpdated})}catch(j){if((j==null?void 0:j.name)==="AbortError")return;h.error=(U=j==null?void 0:j.message)!=null?U:"Unknown error"}finally{l.endFetch(ue),f&&c.value===ee&&(c.value=null),h.loading=!1}},$=()=>{h.pagination.current=1,Ge(A()),v(!0)},x=()=>{h.pagination.current=1,v()},P=oe=>{const Q=Number(oe);Number.isNaN(Q)||Q<1||Q===h.pagination.current||(h.pagination.current=Q,v(!0))},X=async oe=>{var Q;if(!p||!(oe!=null&&oe.email)){h.activeCustomer=oe||null;return}try{const Z=await a.fetchCustomer({endpoint:p,email:oe.email});h.activeCustomer=Z||oe}catch(Z){h.error=(Q=Z==null?void 0:Z.message)!=null?Q:"Unknown error"}},z=()=>{h.activeCustomer=null};return it(()=>{o&&(!Array.isArray(h.items)||!h.items.length)&&v()}),{state:h,loadCustomers:v,refresh:$,search:x,goToPage:P,viewCustomer:X,closeCustomer:z,metrics:l.metrics}}function bO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var re,de,me,J,B,q,F,ie,pe,oe,Q,Z,ee,ue;const a=mt({token:t}),l=Pt("coupons"),u=(re=e==null?void 0:e.list)!=null?re:"",p=(de=e==null?void 0:e.create)!=null?de:u,h=(me=e==null?void 0:e.update)!=null?me:u,f=(J=e==null?void 0:e.delete)!=null?J:u,c=we({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ie=(F=(B=s.pagination)==null?void 0:B.total)!=null?F:(q=s.items)==null?void 0:q.length)!=null?ie:0,limit:(oe=(pe=s.pagination)==null?void 0:pe.limit)!=null?oe:20,pages:(Z=(Q=s.pagination)==null?void 0:Q.pages)!=null?Z:0,current:(ue=(ee=s.pagination)==null?void 0:ee.current)!=null?ue:1},search:"",activeCoupon:null,lastUpdated:null}),A=typeof AbortController!="undefined",v=He(null),$=()=>{const U=c.pagination.current||1,j=c.pagination.limit||20,te=c.search.trim();return`coupons:page=${U}:limit=${j}:search=${te}`},x=async(U=!1)=>{var Ee;if(!u){c.error="Coupons endpoint unavailable.",c.items=[];return}const j=$(),te=U?null:Nt(j,n);if(te){l.recordCacheHit(),c.items=te.items,c.pagination={...c.pagination,...te.pagination},c.lastUpdated=te.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",v.value&&A&&v.value.abort();const _e=A?new AbortController:null;v.value=_e;const Ae=l.startFetch();try{const Re=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:Y,pagination:m}=await a.fetchCoupons({endpoint:u,limit:c.pagination.limit,start:Re,search:c.search.trim(),signal:_e?_e.signal:void 0});c.items=Y,c.pagination={...c.pagination,...m,current:m.current&&m.current>0?m.current:1},c.lastUpdated=new Date().toISOString(),gt(j,{items:Y,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Re){if((Re==null?void 0:Re.name)==="AbortError")return;c.error=(Ee=Re==null?void 0:Re.message)!=null?Ee:"Unknown error"}finally{l.endFetch(Ae),A&&v.value===_e&&(v.value=null),c.loading=!1}},P=()=>{c.pagination.current=1,Ge($()),x(!0)},X=()=>{c.pagination.current=1,x()},z=U=>{const j=Number(U);Number.isNaN(j)||j<1||j===c.pagination.current||(c.pagination.current=j,x(!0))},H=U=>{c.activeCoupon=U},S=U=>{const j=c.items.findIndex(te=>te.id===U.id);j===-1?c.items.unshift(U):c.items.splice(j,1,U)},w=async U=>{var j;c.saving=!0,c.error="";try{let te=null;return U.id?te=await a.updateCoupon({endpoint:h,id:U.id,data:U}):te=await a.createCoupon({endpoint:p,data:U}),te&&(S(te),c.activeCoupon&&c.activeCoupon.id===te.id&&(c.activeCoupon=te),Ge($())),te}catch(te){throw c.error=(j=te==null?void 0:te.message)!=null?j:"Unknown error",te}finally{c.saving=!1}},se=async U=>{var j;if(!Array.isArray(U)||!U.length)return 0;c.saving=!0,c.error="";try{const te=await a.deleteCoupons({endpoint:f,ids:U});return te&&(c.items=c.items.filter(_e=>!U.includes(_e.id)),c.activeCoupon&&U.includes(c.activeCoupon.id)&&(c.activeCoupon=null),Ge($())),te}catch(te){throw c.error=(j=te==null?void 0:te.message)!=null?j:"Unknown error",te}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadCoupons:x,refresh:P,search:X,goToPage:z,setActive:H,saveCoupon:w,deleteCoupons:se,metrics:l.metrics}}const li=(e={})=>{var u,p,h,f,c,A,v,$,x,P,X,z,H,S,w,se,re,de,me;const t=(u=e.store)!=null?u:{},s=(p=e.payments)!=null?p:{},o=(h=e.visual)!=null?h:{},n=(f=e.visual_defaults)!=null?f:{},a=(A=(c=e.security)==null?void 0:c.rate_limits)!=null?A:{},l=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"USD";return{store:{name:(v=t.name)!=null?v:"",email:($=t.email)!=null?$:"",phone:(x=t.phone)!=null?x:""},payments:{configured:!!s.configured},base_currency:l,checkout_phone_required:!!e.checkout_phone_required,visual:{primary_color:(P=o.primary_color)!=null?P:"",text_color:(X=o.text_color)!=null?X:"",surface_color:(z=o.surface_color)!=null?z:"",border_color:(H=o.border_color)!=null?H:"",muted_color:(S=o.muted_color)!=null?S:""},visual_defaults:{primary_color:(w=n.primary_color)!=null?w:"#4f6d7a",text_color:(se=n.text_color)!=null?se:"#1f2933",surface_color:(re=n.surface_color)!=null?re:"#ffffff",border_color:(de=n.border_color)!=null?de:"#e4e7ec",muted_color:(me=n.muted_color)!=null?me:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(a.checkout_ip_limit))?Number(a.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(a.checkout_email_limit))?Number(a.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(a.checkout_session_limit))?Number(a.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(a.checkout_window_minutes))?Number(a.checkout_window_minutes):Number.isFinite(Number(a.checkout_window))?Math.max(0,Math.ceil(Number(a.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(a.offline_ip_limit))?Number(a.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(a.offline_email_limit))?Number(a.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(a.offline_window_minutes))?Number(a.offline_window_minutes):Number.isFinite(Number(a.offline_window))?Math.max(0,Math.ceil(Number(a.offline_window)/60)):30}}}};function AO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var A,v;const a=mt({token:t}),l=Pt("settings"),u=(A=e==null?void 0:e.show)!=null?A:"",p=(v=e==null?void 0:e.update)!=null?v:u,h=we({loading:!1,saving:!1,error:"",values:li(s),lastUpdated:null}),f=async($=!1)=>{var z;if(!u){h.error="Settings endpoint unavailable.";return}const x="settings:data",P=$?null:Nt(x,n);if(P){l.recordCacheHit(),h.values=P.values,h.lastUpdated=P.lastUpdated;return}l.recordCacheMiss(),h.loading=!0,h.error="";const X=l.startFetch();try{const H=await a.fetchSettings({endpoint:u});h.values=li(H),h.lastUpdated=new Date().toISOString(),gt(x,{values:h.values,lastUpdated:h.lastUpdated})}catch(H){throw h.error=(z=H==null?void 0:H.message)!=null?z:"Unknown error",H}finally{l.endFetch(X),h.loading=!1}},c=async $=>{var x;if(!p)return h.error="Settings endpoint unavailable.",null;h.saving=!0,h.error="";try{const P=await a.updateSettings({endpoint:p,data:$});return h.values=li(P),h.lastUpdated=new Date().toISOString(),Ge("settings:data"),gt("settings:data",{values:h.values,lastUpdated:h.lastUpdated}),h.values}catch(P){throw h.error=(x=P==null?void 0:P.message)!=null?x:"Unknown error",P}finally{h.saving=!1}};return it(()=>{o&&(!s||!s.store)&&f()}),{state:h,refresh:f,save:c,metrics:l.metrics}}function TO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var H,S,w,se,re,de,me,J,B,q,F,ie,pe,oe;const a=mt({token:t}),l=Pt("taxRates"),u=(H=e==null?void 0:e.list)!=null?H:"",p=(S=e==null?void 0:e.create)!=null?S:u,h=(w=e==null?void 0:e.update)!=null?w:u,f=(se=e==null?void 0:e.delete)!=null?se:u,c=we({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(J=(me=(re=s.pagination)==null?void 0:re.total)!=null?me:(de=s.items)==null?void 0:de.length)!=null?J:0,limit:(q=(B=s.pagination)==null?void 0:B.limit)!=null?q:20,pages:(ie=(F=s.pagination)==null?void 0:F.pages)!=null?ie:0,current:(oe=(pe=s.pagination)==null?void 0:pe.current)!=null?oe:1},search:"",lastUpdated:null}),A=typeof AbortController!="undefined",v=He(null),$=()=>{const Q=c.pagination.current||1,Z=c.pagination.limit||20,ee=c.search.trim();return`taxRates:page=${Q}:limit=${Z}:search=${ee}`},x=async(Q=!1)=>{var j;if(!u){c.error="Tax endpoint unavailable.",c.items=[];return}const Z=$(),ee=Q?null:Nt(Z,n);if(ee){l.recordCacheHit(),c.items=ee.items,c.pagination={...c.pagination,...ee.pagination},c.lastUpdated=ee.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",v.value&&A&&v.value.abort();const ue=A?new AbortController:null;v.value=ue;const U=l.startFetch();try{const te=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:_e,pagination:Ae}=await a.fetchTaxRates({endpoint:u,limit:c.pagination.limit,start:te,search:c.search.trim(),signal:ue?ue.signal:void 0});c.items=_e,c.pagination={...c.pagination,...Ae,current:Ae.current&&Ae.current>0?Ae.current:1},c.lastUpdated=new Date().toISOString(),gt(Z,{items:_e,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;c.error=(j=te==null?void 0:te.message)!=null?j:"Unknown error"}finally{l.endFetch(U),A&&v.value===ue&&(v.value=null),c.loading=!1}},P=()=>{c.pagination.current=1,Ge($()),x(!0)},X=async Q=>{var Z;c.saving=!0,c.error="";try{const ee=Q.id?await a.updateTaxRate({endpoint:h,id:Q.id,data:Q}):await a.createTaxRate({endpoint:p,data:Q});if(ee){const ue=c.items.findIndex(U=>U.id===ee.id);ue===-1?c.items.unshift(ee):c.items.splice(ue,1,ee),Ge($())}return ee}catch(ee){throw c.error=(Z=ee==null?void 0:ee.message)!=null?Z:"Unknown error",ee}finally{c.saving=!1}},z=async Q=>{var Z;if(!Array.isArray(Q)||!Q.length)return 0;c.saving=!0,c.error="";try{const ee=await a.deleteTaxRates({endpoint:f,ids:Q});return ee&&(c.items=c.items.filter(ue=>!Q.includes(ue.id)),Ge($())),ee}catch(ee){throw c.error=(Z=ee==null?void 0:ee.message)!=null?Z:"Unknown error",ee}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadRates:x,refresh:P,saveRate:X,deleteRates:z,metrics:l.metrics}}function yO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var H,S,w,se,re,de,me,J,B,q,F,ie,pe,oe;const a=mt({token:t}),l=Pt("shippingRules"),u=(H=e==null?void 0:e.list)!=null?H:"",p=(S=e==null?void 0:e.create)!=null?S:u,h=(w=e==null?void 0:e.update)!=null?w:u,f=(se=e==null?void 0:e.delete)!=null?se:u,c=we({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(J=(me=(re=s.pagination)==null?void 0:re.total)!=null?me:(de=s.items)==null?void 0:de.length)!=null?J:0,limit:(q=(B=s.pagination)==null?void 0:B.limit)!=null?q:20,pages:(ie=(F=s.pagination)==null?void 0:F.pages)!=null?ie:0,current:(oe=(pe=s.pagination)==null?void 0:pe.current)!=null?oe:1},search:"",lastUpdated:null}),A=typeof AbortController!="undefined",v=He(null),$=()=>{const Q=c.pagination.current||1,Z=c.pagination.limit||20,ee=c.search.trim();return`shippingRules:page=${Q}:limit=${Z}:search=${ee}`},x=async(Q=!1)=>{var j;if(!u){c.error="Shipping endpoint unavailable.",c.items=[];return}const Z=$(),ee=Q?null:Nt(Z,n);if(ee){l.recordCacheHit(),c.items=ee.items,c.pagination={...c.pagination,...ee.pagination},c.lastUpdated=ee.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",v.value&&A&&v.value.abort();const ue=A?new AbortController:null;v.value=ue;const U=l.startFetch();try{const te=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:_e,pagination:Ae}=await a.fetchShippingRules({endpoint:u,limit:c.pagination.limit,start:te,search:c.search.trim(),signal:ue?ue.signal:void 0});c.items=_e,c.pagination={...c.pagination,...Ae,current:Ae.current&&Ae.current>0?Ae.current:1},c.lastUpdated=new Date().toISOString(),gt(Z,{items:_e,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;c.error=(j=te==null?void 0:te.message)!=null?j:"Unknown error"}finally{l.endFetch(U),A&&v.value===ue&&(v.value=null),c.loading=!1}},P=()=>{c.pagination.current=1,Ge($()),x(!0)},X=async Q=>{var Z;c.saving=!0,c.error="";try{const ee=Q.id?await a.updateShippingRule({endpoint:h,id:Q.id,data:Q}):await a.createShippingRule({endpoint:p,data:Q});if(ee){const ue=c.items.findIndex(U=>U.id===ee.id);ue===-1?c.items.unshift(ee):c.items.splice(ue,1,ee),Ge($())}return ee}catch(ee){throw c.error=(Z=ee==null?void 0:ee.message)!=null?Z:"Unknown error",ee}finally{c.saving=!1}},z=async Q=>{var Z;if(!Array.isArray(Q)||!Q.length)return 0;c.saving=!0,c.error="";try{const ee=await a.deleteShippingRules({endpoint:f,ids:Q});return ee&&(c.items=c.items.filter(ue=>!Q.includes(ue.id)),Ge($())),ee}catch(ee){throw c.error=(Z=ee==null?void 0:ee.message)!=null?Z:"Unknown error",ee}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadRules:x,refresh:P,saveRule:X,deleteRules:z,metrics:l.metrics}}function OO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var X,z,H,S,w,se,re,de,me,J,B;const a=mt({token:t}),l=Pt("logs"),u=(X=e==null?void 0:e.list)!=null?X:"",p=we({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(w=(S=(z=s.pagination)==null?void 0:z.total)!=null?S:(H=s.items)==null?void 0:H.length)!=null?w:0,limit:(re=(se=s.pagination)==null?void 0:se.limit)!=null?re:20,pages:(me=(de=s.pagination)==null?void 0:de.pages)!=null?me:0,current:(B=(J=s.pagination)==null?void 0:J.current)!=null?B:1},search:"",entity:"",lastUpdated:null}),h=typeof AbortController!="undefined",f=He(null),c=()=>{const q=p.pagination.current||1,F=p.pagination.limit||20,ie=p.search.trim(),pe=p.entity.trim();return`logs:page=${q}:limit=${F}:search=${ie}:entity=${pe}`},A=async(q=!1)=>{var Q;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const F=c(),ie=q?null:Nt(F,n);if(ie){l.recordCacheHit(),p.items=ie.items,p.pagination={...p.pagination,...ie.pagination},p.lastUpdated=ie.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",h&&f.value&&f.value.abort();const pe=h?new AbortController:null;f.value=pe;const oe=l.startFetch();try{const Z=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:ee,pagination:ue}=await a.fetchLogs({endpoint:u,limit:p.pagination.limit,start:Z,search:p.search.trim(),entity:p.entity,signal:pe?pe.signal:void 0});p.items=ee,p.pagination={...p.pagination,...ue,current:ue.current&&ue.current>0?ue.current:1},p.lastUpdated=new Date().toISOString(),gt(F,{items:ee,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(Z){if((Z==null?void 0:Z.name)==="AbortError")return;p.error=(Q=Z==null?void 0:Z.message)!=null?Q:"Unknown error"}finally{l.endFetch(oe),h&&f.value===pe&&(f.value=null),p.loading=!1}},v=()=>{p.pagination.current=1,Ge(c()),A(!0)},$=()=>{p.pagination.current=1,A()},x=q=>{const F=typeof q=="string"?q.trim():"";p.entity!==F&&(p.entity=F,p.pagination.current=1,A())},P=q=>{const F=Number(q);Number.isNaN(F)||F<1||F===p.pagination.current||(p.pagination.current=F,A(!0))};return it(()=>{o&&(!Array.isArray(p.items)||!p.items.length)&&A()}),{state:p,loadLogs:A,refresh:v,search:$,setEntity:x,goToPage:P,metrics:l.metrics}}const oa=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function RO({endpoints:e={},token:t=""}){const s=mt({token:t}),o=we({loading:!1,saving:!1,error:"",config:oa(),message:""}),n=async()=>{var u,p,h,f;if(e.show){o.loading=!0,o.error="";try{const c=await s.get(e.show);o.config=l((h=(p=(u=c==null?void 0:c.data)==null?void 0:u.config)!=null?p:c==null?void 0:c.config)!=null?h:{})}catch(c){o.error=(f=c.message)!=null?f:"Unable to load payment configuration."}finally{o.loading=!1}}},a=async u=>{var p,h,f,c,A,v,$;if(e.update){o.saving=!0,o.error="",o.message="";try{const x=await s.post(e.update,{config:u});o.config=l((f=(h=(p=x==null?void 0:x.data)==null?void 0:p.config)!=null?h:x==null?void 0:x.config)!=null?f:{}),o.message=(v=(A=(c=x==null?void 0:x.data)==null?void 0:c.message)!=null?A:x==null?void 0:x.message)!=null?v:""}catch(x){o.error=($=x.message)!=null?$:"Unable to save payment configuration."}finally{o.saving=!1}}},l=u=>{var h,f,c,A;const p=oa();return{stripe:{...p.stripe,...(h=u.stripe)!=null?h:{}},paypal:{...p.paypal,...(f=u.paypal)!=null?f:{}},cod:{...p.cod,...(c=u.cod)!=null?c:{}},bank_transfer:{...p.bank_transfer,...(A=u.bank_transfer)!=null?A:{}}}};return{state:o,refresh:n,save:a}}const vO={class:"nxp-ec-admin-app__shell"},xO={class:"nxp-ec-admin-app__header"},NO={class:"nxp-ec-admin-app__title"},PO={class:"nxp-ec-admin-app__lead"},MO={key:0,class:"nxp-ec-admin-nav"},kO=["href"],IO={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},wO={class:"nxp-ec-admin-panel__body"},$O={class:"nxp-ec-admin-panel__lead"},Yn="nxp:admin:onboarding:dismissed",UO={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var cr,dr,ur,pr,_r,fr,hr,mr,gr,Cr,Sr,Er,br,Ar,Tr,yr,Or,Rr,vr,xr,Nr,Pr,Mr,kr,Ir,wr,$r,Ur,Dr,Lr,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,ol,al,rl,ll,cl,dl,ul,pl,_l,fl,hl,ml,gl,Cl,Sl,El,bl,Al,Tl,yl,Ol,Rl,vl,xl,Nl,Pl,Ml,kl,Il,wl,$l,Ul,Dl,Ll,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,oc,ac,rc,lc,cc,dc,uc,pc,_c,fc,hc,mc,gc,Cc,Sc,Ec,bc,Ac,Tc,yc,Oc,Rc,vc,xc,Nc,Pc,Mc,kc,Ic,wc,$c,Uc,Dc;const t=e,{__:s}=uO(t.dataset),o=he(()=>{var V;return((V=t.dataset)==null?void 0:V.appTitleKey)||"COM_NXPEASYCART"}),n=he(()=>{var V;return((V=t.dataset)==null?void 0:V.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(V,ae)=>{if(!V||typeof V!="string")return ae;try{return JSON.parse(V)}catch(Te){return ae}},l=he(()=>{var ae,Te;if(Array.isArray((ae=t.config)==null?void 0:ae.navItems))return t.config.navItems.map(Xe=>({id:Xe.id,title:Xe.title,link:Xe.link}));const V=a((Te=t.dataset)==null?void 0:Te.navItems,[]);return Array.isArray(V)?V.map(Xe=>({id:Xe.id,title:Xe.title,link:Xe.link})):[]}),u=V=>{const ae=l.value;if(!Array.isArray(ae))return"";const Te=ae.find(Xe=>Xe.id===V);return Te?Te.link:""},p=he(()=>{var V,ae;return((V=t.config)==null?void 0:V.activeSection)||((ae=t.dataset)==null?void 0:ae.activeSection)||"dashboard"}),h=V=>p.value===V,f=he(()=>h("dashboard")),c=he(()=>h("products")),A=he(()=>h("categories")||h("products")),v=he(()=>h("orders")),$=he(()=>h("customers")),x=he(()=>h("coupons")),P=he(()=>h("settings")),X=he(()=>h("logs")),z=(Cr=(cr=t.endpoints)==null?void 0:cr.products)!=null?Cr:{list:(ur=(dr=t.dataset)==null?void 0:dr.productsEndpoint)!=null?ur:"",create:(_r=(pr=t.dataset)==null?void 0:pr.productsEndpointCreate)!=null?_r:"",update:(hr=(fr=t.dataset)==null?void 0:fr.productsEndpointUpdate)!=null?hr:"",delete:(gr=(mr=t.dataset)==null?void 0:mr.productsEndpointDelete)!=null?gr:""},H=(xr=(Sr=t.endpoints)==null?void 0:Sr.categories)!=null?xr:{list:(br=(Er=t.dataset)==null?void 0:Er.categoriesEndpoint)!=null?br:"",create:(Tr=(Ar=t.dataset)==null?void 0:Ar.categoriesEndpointCreate)!=null?Tr:"",update:(Or=(yr=t.dataset)==null?void 0:yr.categoriesEndpointUpdate)!=null?Or:"",delete:(vr=(Rr=t.dataset)==null?void 0:Rr.categoriesEndpointDelete)!=null?vr:""},S=(Xr=(Nr=t.endpoints)==null?void 0:Nr.orders)!=null?Xr:{list:(Mr=(Pr=t.dataset)==null?void 0:Pr.ordersEndpoint)!=null?Mr:"",show:(Ir=(kr=t.dataset)==null?void 0:kr.ordersEndpointShow)!=null?Ir:"",transition:($r=(wr=t.dataset)==null?void 0:wr.ordersEndpointTransition)!=null?$r:"",bulkTransition:(Dr=(Ur=t.dataset)==null?void 0:Ur.ordersEndpointBulk)!=null?Dr:"",note:(Yr=(Lr=t.dataset)==null?void 0:Lr.ordersEndpointNote)!=null?Yr:""},w=(Kr=(Fr=t.endpoints)==null?void 0:Fr.customers)!=null?Kr:{list:(Vr=(Gr=t.dataset)==null?void 0:Gr.customersEndpoint)!=null?Vr:"",show:(Br=(Hr=t.dataset)==null?void 0:Hr.customersEndpointShow)!=null?Br:""},se=(nl=(jr=t.endpoints)==null?void 0:jr.coupons)!=null?nl:{list:(Wr=(Jr=t.dataset)==null?void 0:Jr.couponsEndpoint)!=null?Wr:"",create:(zr=(qr=t.dataset)==null?void 0:qr.couponsEndpointCreate)!=null?zr:"",update:(Zr=(Qr=t.dataset)==null?void 0:Qr.couponsEndpointUpdate)!=null?Zr:"",delete:(tl=(el=t.dataset)==null?void 0:el.couponsEndpointDelete)!=null?tl:""},re=(pl=(sl=t.endpoints)==null?void 0:sl.tax)!=null?pl:{list:(ol=(il=t.dataset)==null?void 0:il.taxEndpoint)!=null?ol:"",create:(rl=(al=t.dataset)==null?void 0:al.taxEndpointCreate)!=null?rl:"",update:(cl=(ll=t.dataset)==null?void 0:ll.taxEndpointUpdate)!=null?cl:"",delete:(ul=(dl=t.dataset)==null?void 0:dl.taxEndpointDelete)!=null?ul:""},de=(Al=(_l=t.endpoints)==null?void 0:_l.shipping)!=null?Al:{list:(hl=(fl=t.dataset)==null?void 0:fl.shippingEndpoint)!=null?hl:"",create:(gl=(ml=t.dataset)==null?void 0:ml.shippingEndpointCreate)!=null?gl:"",update:(Sl=(Cl=t.dataset)==null?void 0:Cl.shippingEndpointUpdate)!=null?Sl:"",delete:(bl=(El=t.dataset)==null?void 0:El.shippingEndpointDelete)!=null?bl:""},me=(xl=(Tl=t.endpoints)==null?void 0:Tl.settings)!=null?xl:{show:(Ol=(yl=t.dataset)==null?void 0:yl.settingsEndpointShow)!=null?Ol:"",update:(vl=(Rl=t.dataset)==null?void 0:Rl.settingsEndpointUpdate)!=null?vl:""},J=(kl=(Nl=t.endpoints)==null?void 0:Nl.logs)!=null?kl:{list:(Ml=(Pl=t.dataset)==null?void 0:Pl.logsEndpoint)!=null?Ml:""},B=(Ll=(Il=t.endpoints)==null?void 0:Il.payments)!=null?Ll:{show:($l=(wl=t.dataset)==null?void 0:wl.paymentsEndpointShow)!=null?$l:"",update:(Dl=(Ul=t.dataset)==null?void 0:Ul.paymentsEndpointUpdate)!=null?Dl:""},q=he(()=>{var V;return a((V=t.dataset)==null?void 0:V.orderStates,[])}),{state:F,refresh:ie}=SO({endpoint:(Bl=(Hl=(Gl=(Yl=t.endpoints)==null?void 0:Yl.dashboard)!=null?Gl:(Fl=(Xl=t.config)==null?void 0:Xl.endpoints)==null?void 0:Fl.dashboard)!=null?Hl:(Vl=t.dataset)==null?void 0:Vl.dashboardEndpoint)!=null?Bl:"",token:t.csrfToken,preload:(ql=(jl=(Kl=t.config)==null?void 0:Kl.preload)==null?void 0:jl.dashboard)!=null?ql:{summary:a((Jl=t.dataset)==null?void 0:Jl.dashboardSummary,{}),checklist:a((Wl=t.dataset)==null?void 0:Wl.dashboardChecklist,[])},autoload:f.value}),{state:pe,refresh:oe,search:Q,createProduct:Z,updateProduct:ee,deleteProducts:ue}=mO({endpoints:z,token:t.csrfToken,autoload:c.value}),{state:U,refresh:j,search:te,goToPage:_e,saveCategory:Ae,deleteCategories:Ee,loadOptions:Re}=gO({endpoints:H,token:t.csrfToken,preload:(tc=(Ql=(zl=t.config)==null?void 0:zl.preload)==null?void 0:Ql.categories)!=null?tc:{items:a((Zl=t.dataset)==null?void 0:Zl.categoriesPreload,[]),pagination:a((ec=t.dataset)==null?void 0:ec.categoriesPreloadPagination,{})},autoload:A.value}),Y=he(()=>(Array.isArray(U.items)?U.items:[]).map(ae=>{var Te,Xe,ct;return{id:Number.parseInt((Te=ae==null?void 0:ae.id)!=null?Te:0,10)||0,title:String((Xe=ae==null?void 0:ae.title)!=null?Xe:"").trim(),slug:String((ct=ae==null?void 0:ae.slug)!=null?ct:"").trim(),parent_id:(ae==null?void 0:ae.parent_id)!==null&&(ae==null?void 0:ae.parent_id)!==void 0&&Number.parseInt(ae.parent_id,10)||null}}).filter(ae=>ae.title!=="")),{state:m,refresh:C,search:L,setFilterState:g,viewOrder:T,closeOrder:k,transitionOrder:G,goToPage:O,bulkTransition:I,toggleSelection:E,clearSelection:_,addNote:b,updateTracking:y,downloadInvoice:D,exportOrders:M}=CO({endpoints:S,token:t.csrfToken,states:q.value,preload:(ac=(sc=(nc=t.config)==null?void 0:nc.preload)==null?void 0:sc.orders)!=null?ac:{items:a((ic=t.dataset)==null?void 0:ic.ordersPreload,[]),pagination:a((oc=t.dataset)==null?void 0:oc.ordersPreloadPagination,{})},autoload:v.value}),{state:W,refresh:K,search:le,goToPage:fe,viewCustomer:ge,closeCustomer:Oe}=EO({endpoints:w,token:t.csrfToken,preload:(uc=(lc=(rc=t.config)==null?void 0:rc.preload)==null?void 0:lc.customers)!=null?uc:{items:a((cc=t.dataset)==null?void 0:cc.customersPreload,[]),pagination:a((dc=t.dataset)==null?void 0:dc.customersPreloadPagination,{})},autoload:$.value}),{state:Ne,refresh:Me,search:Ke,goToPage:rt,saveCoupon:We,deleteCoupons:Ye}=bO({endpoints:(_c=(pc=t.endpoints)==null?void 0:pc.coupons)!=null?_c:se,token:t.csrfToken,preload:(Cc=(hc=(fc=t.config)==null?void 0:fc.preload)==null?void 0:hc.coupons)!=null?Cc:{items:a((mc=t.dataset)==null?void 0:mc.couponsPreload,[]),pagination:a((gc=t.dataset)==null?void 0:gc.couponsPreloadPagination,{})},autoload:x.value}),De=(Ac=(Ec=(Sc=t.config)==null?void 0:Sc.preload)==null?void 0:Ec.settings)!=null?Ac:a((bc=t.dataset)==null?void 0:bc.settingsPreload,{}),{state:lt,refresh:Ct,save:fn}=AO({endpoints:me,token:t.csrfToken,preload:De,autoload:P.value}),hn=he(()=>{var ae,Te;const V=(Te=(ae=t.dataset)==null?void 0:ae.baseCurrency)!=null?Te:"";return typeof V=="string"?V.trim().toUpperCase():""}),Cs=he(()=>{var ae,Te;const V=(Te=(ae=lt==null?void 0:lt.values)==null?void 0:ae.base_currency)!=null?Te:"";return typeof V=="string"?V.trim().toUpperCase():""}),Qt=he(()=>{const V=Cs.value||hn.value;return V!==""?V:"USD"}),ci=he(()=>{var ae,Te;const V=(Te=(ae=t.dataset)==null?void 0:ae.mediaModalUrl)!=null?Te:"";return typeof V=="string"?V.trim():""}),di=he(()=>{var ae,Te,Xe,ct,st;const V=(ct=(Xe=(ae=t.config)==null?void 0:ae.siteRoot)!=null?Xe:(Te=t.dataset)==null?void 0:Te.siteRoot)!=null?ct:"";return typeof V=="string"&&V.trim()!==""?V.trim():typeof window!="undefined"&&((st=window.location)!=null&&st.origin)?window.location.origin:""}),DO=V=>{switch(V){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:u("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:u("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:u("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:V||"step",titleKey:V||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:V||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:u("dashboard")||""}}},ar=he(()=>(Array.isArray(F.checklist)?F.checklist:[]).map(ae=>{const Te=DO(ae.label);return{id:Te.id,completed:!!ae.completed,link:ae.link||Te.link||"",label:ae.label,titleKey:Te.titleKey,descriptionKey:Te.descriptionKey,titleFallback:Te.titleFallback,descriptionFallback:Te.descriptionFallback}})),ui=he(()=>ar.value.some(V=>!V.completed)),Xn=He(!1),LO=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Yn,"0")}catch(V){}Xn.value=!0},rr=()=>{if(Xn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Yn,"1")}catch(V){}},YO=V=>{V&&typeof V.link=="string"&&V.link!==""&&(rr(),typeof window!="undefined"&&(window.location.href=V.link))};Le(ui,V=>{if(!V&&(Xn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Yn,"1")}catch(ae){}});const XO=(vc=(yc=(Tc=t.config)==null?void 0:Tc.preload)==null?void 0:yc.tax)!=null?vc:{items:a((Oc=t.dataset)==null?void 0:Oc.taxPreload,[]),pagination:a((Rc=t.dataset)==null?void 0:Rc.taxPreloadPagination,{})},{state:FO,refresh:Ss,saveRate:GO,deleteRates:VO}=TO({endpoints:re,token:t.csrfToken,preload:XO,autoload:P.value}),HO=(kc=(Nc=(xc=t.config)==null?void 0:xc.preload)==null?void 0:Nc.shipping)!=null?kc:{items:a((Pc=t.dataset)==null?void 0:Pc.shippingPreload,[]),pagination:a((Mc=t.dataset)==null?void 0:Mc.shippingPreloadPagination,{})},{state:BO,refresh:Es,saveRule:KO,deleteRules:jO}=yO({endpoints:de,token:t.csrfToken,preload:HO,autoload:P.value}),JO=(Dc=(wc=(Ic=t.config)==null?void 0:Ic.preload)==null?void 0:wc.logs)!=null?Dc:{items:a(($c=t.dataset)==null?void 0:$c.logsPreload,[]),pagination:a((Uc=t.dataset)==null?void 0:Uc.logsPreloadPagination,{})},{state:WO,refresh:lr,search:qO,setEntity:zO,goToPage:QO}=OO({endpoints:J,token:t.csrfToken,preload:JO,autoload:X.value}),{state:ZO,refresh:pi,save:eR}=RO({endpoints:B,token:t.csrfToken});Le(p,V=>{switch(V){case"dashboard":ie();break;case"products":oe(),j();break;case"categories":j();break;case"orders":C();break;case"customers":K();break;case"coupons":Me();break;case"settings":Ct(),Ss(),Es(),pi();break;case"logs":lr();break}}),it(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const V=window.localStorage.getItem(Yn);ui.value?V!=="1"&&(Xn.value=!0):window.localStorage.setItem(Yn,"1")}catch(V){}}P.value&&pi()});const tR=()=>{oe()},nR=()=>{Q()},sR=async V=>{try{await Z(V),oe(),j()}catch(ae){}},iR=async({id:V,data:ae})=>{try{await ee(V,ae),oe(),j()}catch(Te){}},oR=async V=>{try{await ue(V),oe(),j()}catch(ae){}},aR=()=>{j()},rR=()=>{te()},lR=V=>{_e(V)},cR=async V=>{try{await Ae(V),j()}catch(ae){}},dR=async V=>{try{await Ee(V),j()}catch(ae){}},uR=()=>{ie()},pR=()=>{C()},_R=()=>{L()},fR=V=>{g(V)},hR=V=>{T(V)},mR=()=>{k()},gR=async({id:V,state:ae})=>{await G(V,ae)},CR=V=>{O(V)},SR=async({ids:V,state:ae})=>{await I(V,ae)},ER=V=>{E(V)},bR=()=>{_()},AR=async({id:V,message:ae})=>{await b(V,ae)},TR=async V=>{if(!(V!=null&&V.id))return;const{id:ae,...Te}=V;await y(ae,Te)},yR=async V=>{if(!V)return;const ae=await D(V);if(!(ae!=null&&ae.content))return;const Te=atob(ae.content),Xe=new Uint8Array(Te.length);for(let Zt=0;Zt<Te.length;Zt+=1)Xe[Zt]=Te.charCodeAt(Zt);const ct=new Blob([Xe],{type:"application/pdf"}),st=window.URL.createObjectURL(ct),dt=document.createElement("a");dt.href=st,dt.download=ae.filename||"invoice.pdf",document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),setTimeout(()=>window.URL.revokeObjectURL(st),1e3)},OR=async()=>{const V=await M();if(!(V!=null&&V.content))return;const ae=atob(V.content),Te=new Uint8Array(ae.length);for(let dt=0;dt<ae.length;dt+=1)Te[dt]=ae.charCodeAt(dt);const Xe=new Blob([Te],{type:"text/csv;charset=utf-8"}),ct=window.URL.createObjectURL(Xe),st=document.createElement("a");st.href=ct,st.download=V.filename||"orders-export.csv",document.body.appendChild(st),st.click(),document.body.removeChild(st),setTimeout(()=>window.URL.revokeObjectURL(ct),1e3)},RR=()=>{K()},vR=()=>{le()},xR=V=>{fe(V)},NR=V=>{ge(V)},PR=()=>{Oe()},MR=()=>{Me()},kR=()=>{Ke()},IR=V=>{rt(V)},wR=async V=>{try{await We(V)}catch(ae){}},$R=async V=>{try{await Ye(V)}catch(ae){}},UR=()=>{Ct()},DR=async V=>{try{await fn(V)}catch(ae){}},LR=()=>{Ss()},YR=async V=>{try{await GO(V),Ss()}catch(ae){}},XR=async V=>{try{await VO(V),Ss()}catch(ae){}},FR=()=>{Es()},GR=async V=>{try{await KO(V),Es()}catch(ae){}},VR=async V=>{try{await jO(V),Es()}catch(ae){}},HR=()=>{lr()},BR=()=>{qO()},KR=V=>{zO(V)},jR=V=>{QO(V)},JR=()=>{pi()},WR=async V=>{await eR(V)};return(V,ae)=>(R(),pt(Cp,null,{default:zi(()=>{var Te,Xe,ct,st,dt,Zt;return[i("section",vO,[i("header",xO,[i("div",null,[i("h1",NO,d(r(s)(o.value,(Xe=(Te=t.dataset)==null?void 0:Te.appTitle)!=null?Xe:"NXP Easy Cart",[],"appTitle")),1),i("p",PO,d(r(s)(n.value,(st=(ct=t.dataset)==null?void 0:ct.appLead)!=null?st:"Manage your storefront from one place.",[],"appLead")),1)]),ne(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:LO},d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[Hu,ui.value]])]),l.value.length?(R(),N("nav",MO,[(R(!0),N(Se,null,ve(l.value,bs=>(R(),N("a",{key:bs.id,href:bs.link,class:ke({"is-active":bs.id===p.value})},d(bs.title),11,kO))),128))])):ye("",!0),p.value==="dashboard"?(R(),pt(zp,{key:1,state:r(F),translate:r(s),onRefresh:uR},null,8,["state","translate"])):p.value==="products"?(R(),pt(yh,{key:2,state:r(pe),translate:r(s),"base-currency":Qt.value,"category-options":Y.value,"media-modal-url":ci.value,onCreate:sR,onUpdate:iR,onDelete:oR,onRefresh:tR,onSearch:nR},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(R(),pt(bm,{key:3,state:r(U),translate:r(s),"load-options":r(Re),onRefresh:aR,onSearch:rR,onPage:lR,onSave:cR,onDelete:dR},null,8,["state","translate","load-options"])):p.value==="orders"?(R(),pt(_C,{key:4,state:r(m),translate:r(s),"site-root":di.value,onRefresh:pR,onSearch:_R,onFilter:fR,onView:hR,onClose:mR,onTransition:gR,onPage:CR,onBulkTransition:SR,onToggleSelection:ER,onClearSelection:bR,onAddNote:AR,onSaveTracking:TR,onInvoice:yR,onExport:OR},null,8,["state","translate","site-root"])):p.value==="customers"?(R(),pt(oS,{key:5,state:r(W),translate:r(s),"base-currency":Qt.value,onRefresh:RR,onSearch:vR,onPage:xR,onView:NR,onClose:PR},null,8,["state","translate","base-currency"])):p.value==="coupons"?(R(),pt(uE,{key:6,state:r(Ne),translate:r(s),"base-currency":Qt.value,onRefresh:MR,onSearch:kR,onPage:IR,onSave:wR,onDelete:$R},null,8,["state","translate","base-currency"])):p.value==="settings"?(R(),pt(fy,{key:7,"settings-state":r(lt),"tax-state":r(FO),"shipping-state":r(BO),"payments-state":r(ZO),translate:r(s),"base-currency":Qt.value,onRefreshSettings:UR,onSaveSettings:DR,onRefreshTax:LR,onSaveTax:YR,onDeleteTax:XR,onRefreshShipping:FR,onSaveShipping:GR,onDeleteShipping:VR,onRefreshPayments:JR,onSavePayments:WR},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency"])):p.value==="logs"?(R(),pt(Ky,{key:8,state:r(WO),translate:r(s),onRefresh:HR,onSearch:BR,onFilter:KR,onPage:jR},null,8,["state","translate"])):(R(),N("div",IO,[i("div",wO,[i("p",$O,d(r(s)(n.value,(Zt=(dt=t.dataset)==null?void 0:dt.appLead)!=null?Zt:"This section will be available soon.",[],"appLead")),1)])]))]),Be(lO,{visible:Xn.value,steps:ar.value,translate:r(s),onClose:rr,onNavigate:YO},null,8,["visible","steps","translate"])]}),_:1}))}},gs=document.getElementById("nxp-ec-admin-app");if(!gs)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(aa=gs.getAttribute("data-csrf-token"))!=null?aa:"",t=Object.assign({},gs.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(A){console.warn("[NXP Easy Cart] Failed to parse admin config payload",A)}const o=(pa=(ra=s==null?void 0:s.endpoints)==null?void 0:ra.products)!=null?pa:{list:(la=t.productsEndpoint)!=null?la:"",create:(ca=t.productsEndpointCreate)!=null?ca:"",update:(da=t.productsEndpointUpdate)!=null?da:"",delete:(ua=t.productsEndpointDelete)!=null?ua:""},n=(Ca=(_a=s==null?void 0:s.endpoints)==null?void 0:_a.categories)!=null?Ca:{list:(fa=t.categoriesEndpoint)!=null?fa:"",create:(ha=t.categoriesEndpointCreate)!=null?ha:"",update:(ma=t.categoriesEndpointUpdate)!=null?ma:"",delete:(ga=t.categoriesEndpointDelete)!=null?ga:""},a=(va=(Sa=s==null?void 0:s.endpoints)==null?void 0:Sa.orders)!=null?va:{list:(Ea=t.ordersEndpoint)!=null?Ea:"",show:(ba=t.ordersEndpointShow)!=null?ba:"",transition:(Aa=t.ordersEndpointTransition)!=null?Aa:"",bulkTransition:(Ta=t.ordersEndpointBulk)!=null?Ta:"",note:(ya=t.ordersEndpointNote)!=null?ya:"",tracking:(Oa=t.ordersEndpointTracking)!=null?Oa:"",invoice:(Ra=t.ordersEndpointInvoice)!=null?Ra:""},l=(Ma=(xa=s==null?void 0:s.endpoints)==null?void 0:xa.customers)!=null?Ma:{list:(Na=t.customersEndpoint)!=null?Na:"",show:(Pa=t.customersEndpointShow)!=null?Pa:""},u=(Da=(ka=s==null?void 0:s.endpoints)==null?void 0:ka.coupons)!=null?Da:{list:(Ia=t.couponsEndpoint)!=null?Ia:"",create:(wa=t.couponsEndpointCreate)!=null?wa:"",update:($a=t.couponsEndpointUpdate)!=null?$a:"",delete:(Ua=t.couponsEndpointDelete)!=null?Ua:""},p=(Va=(La=s==null?void 0:s.endpoints)==null?void 0:La.tax)!=null?Va:{list:(Ya=t.taxEndpoint)!=null?Ya:"",create:(Xa=t.taxEndpointCreate)!=null?Xa:"",update:(Fa=t.taxEndpointUpdate)!=null?Fa:"",delete:(Ga=t.taxEndpointDelete)!=null?Ga:""},h=(Wa=(Ha=s==null?void 0:s.endpoints)==null?void 0:Ha.shipping)!=null?Wa:{list:(Ba=t.shippingEndpoint)!=null?Ba:"",create:(Ka=t.shippingEndpointCreate)!=null?Ka:"",update:(ja=t.shippingEndpointUpdate)!=null?ja:"",delete:(Ja=t.shippingEndpointDelete)!=null?Ja:""},f=(Za=(qa=s==null?void 0:s.endpoints)==null?void 0:qa.settings)!=null?Za:{show:(za=t.settingsEndpointShow)!=null?za:"",update:(Qa=t.settingsEndpointUpdate)!=null?Qa:""},c=(nr=(er=s==null?void 0:s.endpoints)==null?void 0:er.logs)!=null?nr:{list:(tr=t.logsEndpoint)!=null?tr:""};dp(UO,{csrfToken:e,dataset:t,config:s,endpoints:{products:o,categories:n,orders:a,customers:l,coupons:u,tax:p,shipping:h,settings:f,logs:c,dashboard:(or=(ir=(sr=s==null?void 0:s.endpoints)==null?void 0:sr.dashboard)!=null?ir:t.dashboardEndpoint)!=null?or:""}}).mount(gs)}})();
