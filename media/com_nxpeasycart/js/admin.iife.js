(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var ra,la,ca,da,ua,pa,_a,fa,ma,ha,ga,Ea,Sa,Ca,ba,Aa,Ta,ya,Ra,Oa,xa,va,Na,Pa,Ma,Ia,ka,wa,$a,Da,La,Ua,Ya,Xa,Fa,Ga,Va,Ha,Ba,Ka,ja,Ja,Wa,qa,za,Qa,Za,er,tr,nr,sr,ir,or,ar,rr,lr,cr,dr;function ys(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const $e={},en=[],Ct=()=>{},fi=()=>!1,Fn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rs=e=>e.startsWith("onUpdate:"),Qe=Object.assign,Os=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Bc=Object.prototype.hasOwnProperty,Ne=(e,t)=>Bc.call(e,t),Ae=Array.isArray,tn=e=>hn(e)==="[object Map]",nn=e=>hn(e)==="[object Set]",mi=e=>hn(e)==="[object Date]",ye=e=>typeof e=="function",Ve=e=>typeof e=="string",ft=e=>typeof e=="symbol",De=e=>e!==null&&typeof e=="object",hi=e=>(De(e)||ye(e))&&ye(e.then)&&ye(e.catch),gi=Object.prototype.toString,hn=e=>gi.call(e),Kc=e=>hn(e).slice(8,-1),Ei=e=>hn(e)==="[object Object]",xs=e=>Ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=ys(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},jc=/-\w/g,Yt=Gn(e=>e.replace(jc,t=>t.slice(1).toUpperCase())),Jc=/\B([A-Z])/g,Xt=Gn(e=>e.replace(Jc,"-$1").toLowerCase()),Si=Gn(e=>e.charAt(0).toUpperCase()+e.slice(1)),vs=Gn(e=>e?`on${Si(e)}`:""),Ft=(e,t)=>!Object.is(e,t),Vn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ci=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},Hn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bi;const Bn=()=>bi||(bi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Gt(e){if(Ae(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=Ve(o)?Qc(o):Gt(o);if(n)for(const a in n)t[a]=n[a]}return t}else if(Ve(e)||De(e))return e}const Wc=/;(?![^(]*\))/g,qc=/:([^]+)/,zc=/\/\*[^]*?\*\//g;function Qc(e){const t={};return e.replace(zc,"").split(Wc).forEach(s=>{if(s){const o=s.split(qc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Ie(e){let t="";if(Ve(e))t=e;else if(Ae(e))for(let s=0;s<e.length;s++){const o=Ie(e[s]);o&&(t+=o+" ")}else if(De(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Zc=ys("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ai(e){return!!e||e===""}function ed(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=En(e[o],t[o]);return s}function En(e,t){if(e===t)return!0;let s=mi(e),o=mi(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=ft(e),o=ft(t),s||o)return e===t;if(s=Ae(e),o=Ae(t),s||o)return s&&o?ed(e,t):!1;if(s=De(e),o=De(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const l in e){const u=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(u&&!p||!u&&p||!En(e[l],t[l]))return!1}}return String(e)===String(t)}function Ns(e,t){return e.findIndex(s=>En(s,t))}const Ti=e=>!!(e&&e.__v_isRef===!0),d=e=>Ve(e)?e:e==null?"":Ae(e)||De(e)&&(e.toString===gi||!ye(e.toString))?Ti(e)?d(e.value):JSON.stringify(e,yi,2):String(e),yi=(e,t)=>Ti(t)?yi(e,t.value):tn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],a)=>(s[Ps(o,a)+" =>"]=n,s),{})}:nn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ps(s))}:ft(t)?Ps(t):De(t)&&!Ae(t)&&!Ei(t)?String(t):t,Ps=(e,t="")=>{var s;return ft(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class td{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function nd(){return nt}let Le;const Ms=new WeakSet;class Ri{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ms.has(this)&&(Ms.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ii(this),vi(this);const t=Le,s=mt;Le=this,mt=!0;try{return this.fn()}finally{Ni(this),Le=t,mt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)$s(t);this.deps=this.depsTail=void 0,Ii(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ms.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ws(this)&&this.run()}get dirty(){return ws(this)}}let Oi=0,Sn,Cn;function xi(e,t=!1){if(e.flags|=8,t){e.next=Cn,Cn=e;return}e.next=Sn,Sn=e}function Is(){Oi++}function ks(){if(--Oi>0)return;if(Cn){let t=Cn;for(Cn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Sn;){let t=Sn;for(Sn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function vi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ni(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),$s(o),sd(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function ws(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Pi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Pi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bn)||(e.globalVersion=bn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ws(e))))return;e.flags|=2;const t=e.dep,s=Le,o=mt;Le=e,mt=!0;try{vi(e);const n=e.fn(e._value);(t.version===0||Ft(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Le=s,mt=o,Ni(e),e.flags&=-3}}function $s(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)$s(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function sd(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let mt=!0;const Mi=[];function bt(){Mi.push(mt),mt=!1}function At(){const e=Mi.pop();mt=e===void 0?!0:e}function Ii(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Le;Le=void 0;try{t()}finally{Le=s}}}let bn=0;class id{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ds{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Le||!mt||Le===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Le)s=this.activeLink=new id(Le,this),Le.deps?(s.prevDep=Le.depsTail,Le.depsTail.nextDep=s,Le.depsTail=s):Le.deps=Le.depsTail=s,ki(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Le.depsTail,s.nextDep=void 0,Le.depsTail.nextDep=s,Le.depsTail=s,Le.deps===s&&(Le.deps=o)}return s}trigger(t){this.version++,bn++,this.notify(t)}notify(t){Is();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ks()}}}function ki(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)ki(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ls=new WeakMap,jt=Symbol(""),Us=Symbol(""),An=Symbol("");function qe(e,t,s){if(mt&&Le){let o=Ls.get(e);o||Ls.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new Ds),n.map=o,n.key=s),n.track()}}function Mt(e,t,s,o,n,a){const l=Ls.get(e);if(!l){bn++;return}const u=p=>{p&&p.trigger()};if(Is(),t==="clear")l.forEach(u);else{const p=Ae(e),h=p&&xs(s);if(p&&s==="length"){const f=Number(o);l.forEach((c,E)=>{(E==="length"||E===An||!ft(E)&&E>=f)&&u(c)})}else switch((s!==void 0||l.has(void 0))&&u(l.get(s)),h&&u(l.get(An)),t){case"add":p?h&&u(l.get("length")):(u(l.get(jt)),tn(e)&&u(l.get(Us)));break;case"delete":p||(u(l.get(jt)),tn(e)&&u(l.get(Us)));break;case"set":tn(e)&&u(l.get(jt));break}}ks()}function sn(e){const t=ve(e);return t===e?t:(qe(t,"iterate",An),ut(e)?t:t.map(je))}function Kn(e){return qe(e=ve(e),"iterate",An),e}const od={__proto__:null,[Symbol.iterator](){return Ys(this,Symbol.iterator,je)},concat(...e){return sn(this).concat(...e.map(t=>Ae(t)?sn(t):t))},entries(){return Ys(this,"entries",e=>(e[1]=je(e[1]),e))},every(e,t){return It(this,"every",e,t,void 0,arguments)},filter(e,t){return It(this,"filter",e,t,s=>s.map(je),arguments)},find(e,t){return It(this,"find",e,t,je,arguments)},findIndex(e,t){return It(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return It(this,"findLast",e,t,je,arguments)},findLastIndex(e,t){return It(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return It(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xs(this,"includes",e)},indexOf(...e){return Xs(this,"indexOf",e)},join(e){return sn(this).join(e)},lastIndexOf(...e){return Xs(this,"lastIndexOf",e)},map(e,t){return It(this,"map",e,t,void 0,arguments)},pop(){return Tn(this,"pop")},push(...e){return Tn(this,"push",e)},reduce(e,...t){return wi(this,"reduce",e,t)},reduceRight(e,...t){return wi(this,"reduceRight",e,t)},shift(){return Tn(this,"shift")},some(e,t){return It(this,"some",e,t,void 0,arguments)},splice(...e){return Tn(this,"splice",e)},toReversed(){return sn(this).toReversed()},toSorted(e){return sn(this).toSorted(e)},toSpliced(...e){return sn(this).toSpliced(...e)},unshift(...e){return Tn(this,"unshift",e)},values(){return Ys(this,"values",je)}};function Ys(e,t,s){const o=Kn(e),n=o[t]();return o!==e&&!ut(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const ad=Array.prototype;function It(e,t,s,o,n,a){const l=Kn(e),u=l!==e&&!ut(e),p=l[t];if(p!==ad[t]){const c=p.apply(e,a);return u?je(c):c}let h=s;l!==e&&(u?h=function(c,E){return s.call(this,je(c),E,e)}:s.length>2&&(h=function(c,E){return s.call(this,c,E,e)}));const f=p.call(l,h,o);return u&&n?n(f):f}function wi(e,t,s,o){const n=Kn(e);let a=s;return n!==e&&(ut(e)?s.length>3&&(a=function(l,u,p){return s.call(this,l,u,p,e)}):a=function(l,u,p){return s.call(this,l,je(u),p,e)}),n[t](a,...o)}function Xs(e,t,s){const o=ve(e);qe(o,"iterate",An);const n=o[t](...s);return(n===-1||n===!1)&&Vs(s[0])?(s[0]=ve(s[0]),o[t](...s)):n}function Tn(e,t,s=[]){bt(),Is();const o=ve(e)[t].apply(e,s);return ks(),At(),o}const rd=ys("__proto__,__v_isRef,__isVue"),$i=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ft));function ld(e){ft(e)||(e=String(e));const t=ve(this);return qe(t,"has",e),t.hasOwnProperty(e)}class Di{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return o===(n?a?Gi:Fi:a?Xi:Yi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=Ae(t);if(!n){let p;if(l&&(p=od[s]))return p;if(s==="hasOwnProperty")return ld}const u=Reflect.get(t,s,Je(t)?t:o);if((ft(s)?$i.has(s):rd(s))||(n||qe(t,"get",s),a))return u;if(Je(u)){const p=l&&xs(s)?u:u.value;return n&&De(p)?Gs(p):p}return De(u)?n?Gs(u):ke(u):u}}class Li extends Di{constructor(t=!1){super(!1,t)}set(t,s,o,n){let a=t[s];if(!this._isShallow){const p=Vt(a);if(!ut(o)&&!Vt(o)&&(a=ve(a),o=ve(o)),!Ae(t)&&Je(a)&&!Je(o))return p||(a.value=o),!0}const l=Ae(t)&&xs(s)?Number(s)<t.length:Ne(t,s),u=Reflect.set(t,s,o,Je(t)?t:n);return t===ve(n)&&(l?Ft(o,a)&&Mt(t,"set",s,o):Mt(t,"add",s,o)),u}deleteProperty(t,s){const o=Ne(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&Mt(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!ft(s)||!$i.has(s))&&qe(t,"has",s),o}ownKeys(t){return qe(t,"iterate",Ae(t)?"length":jt),Reflect.ownKeys(t)}}class Ui extends Di{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const cd=new Li,dd=new Ui,ud=new Li(!0),pd=new Ui(!0),Fs=e=>e,jn=e=>Reflect.getPrototypeOf(e);function _d(e,t,s){return function(...o){const n=this.__v_raw,a=ve(n),l=tn(a),u=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,h=n[e](...o),f=s?Fs:t?zn:je;return!t&&qe(a,"iterate",p?Us:jt),{next(){const{value:c,done:E}=h.next();return E?{value:c,done:E}:{value:u?[f(c[0]),f(c[1])]:f(c),done:E}},[Symbol.iterator](){return this}}}}function Jn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function fd(e,t){const s={get(n){const a=this.__v_raw,l=ve(a),u=ve(n);e||(Ft(n,u)&&qe(l,"get",n),qe(l,"get",u));const{has:p}=jn(l),h=t?Fs:e?zn:je;if(p.call(l,n))return h(a.get(n));if(p.call(l,u))return h(a.get(u));a!==l&&a.get(n)},get size(){const n=this.__v_raw;return!e&&qe(ve(n),"iterate",jt),n.size},has(n){const a=this.__v_raw,l=ve(a),u=ve(n);return e||(Ft(n,u)&&qe(l,"has",n),qe(l,"has",u)),n===u?a.has(n):a.has(n)||a.has(u)},forEach(n,a){const l=this,u=l.__v_raw,p=ve(u),h=t?Fs:e?zn:je;return!e&&qe(p,"iterate",jt),u.forEach((f,c)=>n.call(a,h(f),h(c),l))}};return Qe(s,e?{add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear")}:{add(n){!t&&!ut(n)&&!Vt(n)&&(n=ve(n));const a=ve(this);return jn(a).has.call(a,n)||(a.add(n),Mt(a,"add",n,n)),this},set(n,a){!t&&!ut(a)&&!Vt(a)&&(a=ve(a));const l=ve(this),{has:u,get:p}=jn(l);let h=u.call(l,n);h||(n=ve(n),h=u.call(l,n));const f=p.call(l,n);return l.set(n,a),h?Ft(a,f)&&Mt(l,"set",n,a):Mt(l,"add",n,a),this},delete(n){const a=ve(this),{has:l,get:u}=jn(a);let p=l.call(a,n);p||(n=ve(n),p=l.call(a,n)),u&&u.call(a,n);const h=a.delete(n);return p&&Mt(a,"delete",n,void 0),h},clear(){const n=ve(this),a=n.size!==0,l=n.clear();return a&&Mt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=_d(n,e,t)}),s}function Wn(e,t){const s=fd(e,t);return(o,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(Ne(s,n)&&n in o?s:o,n,a)}const md={get:Wn(!1,!1)},hd={get:Wn(!1,!0)},gd={get:Wn(!0,!1)},Ed={get:Wn(!0,!0)},Yi=new WeakMap,Xi=new WeakMap,Fi=new WeakMap,Gi=new WeakMap;function Sd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cd(e){return e.__v_skip||!Object.isExtensible(e)?0:Sd(Kc(e))}function ke(e){return Vt(e)?e:qn(e,!1,cd,md,Yi)}function bd(e){return qn(e,!1,ud,hd,Xi)}function Gs(e){return qn(e,!0,dd,gd,Fi)}function v1(e){return qn(e,!0,pd,Ed,Gi)}function qn(e,t,s,o,n){if(!De(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=Cd(e);if(a===0)return e;const l=n.get(e);if(l)return l;const u=new Proxy(e,a===2?o:s);return n.set(e,u),u}function on(e){return Vt(e)?on(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function Vs(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function Ad(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&Ci(e,"__v_skip",!0),e}const je=e=>De(e)?ke(e):e,zn=e=>De(e)?Gs(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function He(e){return Td(e,!1)}function Td(e,t){return Je(e)?e:new yd(e,t)}class yd{constructor(t,s){this.dep=new Ds,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ve(t),this._value=s?t:je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||ut(t)||Vt(t);t=o?t:ve(t),Ft(t,s)&&(this._rawValue=t,this._value=o?t:je(t),this.dep.trigger())}}function r(e){return Je(e)?e.value:e}const Rd={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return Je(n)&&!Je(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function Vi(e){return on(e)?e:new Proxy(e,Rd)}class Od{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ds(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Le!==this)return xi(this,!0),!0}get value(){const t=this.dep.track();return Pi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function xd(e,t,s=!1){let o,n;return ye(e)?o=e:(o=e.get,n=e.set),new Od(o,n,s)}const Qn={},Zn=new WeakMap;let Jt;function vd(e,t=!1,s=Jt){if(s){let o=Zn.get(s);o||Zn.set(s,o=[]),o.push(e)}}function Nd(e,t,s=$e){const{immediate:o,deep:n,once:a,scheduler:l,augmentJob:u,call:p}=s,h=H=>n?H:ut(H)||n===!1||n===0?kt(H,1):kt(H);let f,c,E,M,Y=!1,$=!1;if(Je(e)?(c=()=>e.value,Y=ut(e)):on(e)?(c=()=>h(e),Y=!0):Ae(e)?($=!0,Y=e.some(H=>on(H)||ut(H)),c=()=>e.map(H=>{if(Je(H))return H.value;if(on(H))return h(H);if(ye(H))return p?p(H,2):H()})):ye(e)?t?c=p?()=>p(e,2):e:c=()=>{if(E){bt();try{E()}finally{At()}}const H=Jt;Jt=f;try{return p?p(e,3,[M]):e(M)}finally{Jt=H}}:c=Ct,t&&n){const H=c,L=n===!0?1/0:n;c=()=>kt(H(),L)}const U=nd(),k=()=>{f.stop(),U&&U.active&&Os(U.effects,f)};if(a&&t){const H=t;t=(...L)=>{H(...L),k()}}let F=$?new Array(e.length).fill(Qn):Qn;const K=H=>{if(!(!(f.flags&1)||!f.dirty&&!H))if(t){const L=f.run();if(n||Y||($?L.some((y,te)=>Ft(y,F[te])):Ft(L,F))){E&&E();const y=Jt;Jt=f;try{const te=[L,F===Qn?void 0:$&&F[0]===Qn?[]:F,M];F=L,p?p(t,3,te):t(...te)}finally{Jt=y}}}else f.run()};return u&&u(K),f=new Ri(c),f.scheduler=l?()=>l(K,!1):K,M=H=>vd(H,!1,f),E=f.onStop=()=>{const H=Zn.get(f);if(H){if(p)p(H,4);else for(const L of H)L();Zn.delete(f)}},t?o?K(!0):F=f.run():l?l(K.bind(null,!0),!0):f.run(),k.pause=f.pause.bind(f),k.resume=f.resume.bind(f),k.stop=k,k}function kt(e,t=1/0,s){if(t<=0||!De(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Je(e))kt(e.value,t,s);else if(Ae(e))for(let o=0;o<e.length;o++)kt(e[o],t,s);else if(nn(e)||tn(e))e.forEach(o=>{kt(o,t,s)});else if(Ei(e)){for(const o in e)kt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&kt(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yn=[];let Hs=!1;function N1(e,...t){if(Hs)return;Hs=!0,bt();const s=yn.length?yn[yn.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=Pd();if(o)an(o,s,11,[e+t.map(a=>{var l,u;return(u=(l=a.toString)==null?void 0:l.call(a))!=null?u:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${Yo(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,...Md(n)),console.warn(...a)}At(),Hs=!1}function Pd(){let e=yn[yn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function Md(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...Id(s))}),t}function Id({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${Yo(e.component,e.type,o)}`,a=">"+s;return e.props?[n,...kd(e.props),a]:[n+a]}function kd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...Hi(o,e[o]))}),s.length>3&&t.push(" ..."),t}function Hi(e,t,s){return Ve(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Je(t)?(t=Hi(e,ve(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):ye(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ve(t),s?t:[`${e}=`,t])}function an(e,t,s,o){try{return o?e(...o):e()}catch(n){es(n,t,s)}}function Tt(e,t,s,o){if(ye(e)){const n=an(e,t,s,o);return n&&hi(n)&&n.catch(a=>{es(a,t,s)}),n}if(Ae(e)){const n=[];for(let a=0;a<e.length;a++)n.push(Tt(e[a],t,s,o));return n}}function es(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||$e;if(t){let u=t.parent;const p=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const f=u.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](e,p,h)===!1)return}u=u.parent}if(a){bt(),an(a,null,10,[e,p,h]),At();return}}wd(e,s,n,o,l)}function wd(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Ze=[];let yt=-1;const rn=[];let Ht=null,ln=0;const Bi=Promise.resolve();let ts=null;function Ki(e){const t=ts||Bi;return e?t.then(this?e.bind(this):e):t}function $d(e){let t=yt+1,s=Ze.length;for(;t<s;){const o=t+s>>>1,n=Ze[o],a=Rn(n);a<e||a===e&&n.flags&2?t=o+1:s=o}return t}function Bs(e){if(!(e.flags&1)){const t=Rn(e),s=Ze[Ze.length-1];!s||!(e.flags&2)&&t>=Rn(s)?Ze.push(e):Ze.splice($d(t),0,e),e.flags|=1,ji()}}function ji(){ts||(ts=Bi.then(qi))}function Dd(e){Ae(e)?rn.push(...e):Ht&&e.id===-1?Ht.splice(ln+1,0,e):e.flags&1||(rn.push(e),e.flags|=1),ji()}function Ji(e,t,s=yt+1){for(;s<Ze.length;s++){const o=Ze[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ze.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Wi(e){if(rn.length){const t=[...new Set(rn)].sort((s,o)=>Rn(s)-Rn(o));if(rn.length=0,Ht){Ht.push(...t);return}for(Ht=t,ln=0;ln<Ht.length;ln++){const s=Ht[ln];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ht=null,ln=0}}const Rn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function qi(e){try{for(yt=0;yt<Ze.length;yt++){const t=Ze[yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),an(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yt<Ze.length;yt++){const t=Ze[yt];t&&(t.flags&=-2)}yt=-1,Ze.length=0,Wi(),ts=null,(Ze.length||rn.length)&&qi()}}let ze=null,zi=null;function ns(e){const t=ze;return ze=e,zi=e&&e.type.__scopeId||null,t}function Qi(e,t=ze,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&Io(-1);const a=ns(t);let l;try{l=e(...n)}finally{ns(a),o._d&&Io(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function Z(e,t){if(ze===null)return e;const s=ps(ze),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,l,u,p=$e]=t[n];a&&(ye(a)&&(a={mounted:a,updated:a}),a.deep&&kt(l),o.push({dir:a,instance:s,value:l,oldValue:void 0,arg:u,modifiers:p}))}return e}function Wt(e,t,s,o){const n=e.dirs,a=t&&t.dirs;for(let l=0;l<n.length;l++){const u=n[l];a&&(u.oldValue=a[l].value);let p=u.dir[o];p&&(bt(),Tt(p,s,8,[e.el,u,e,t]),At())}}const Ld=Symbol("_vte"),Ud=e=>e.__isTeleport,Yd=Symbol("_leaveCb");function Ks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ss=new WeakMap;function On(e,t,s,o,n=!1){if(Ae(e)){e.forEach((Y,$)=>On(Y,t&&(Ae(t)?t[$]:t),s,o,n));return}if(cn(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&On(e,t,s,o.component.subTree);return}const a=o.shapeFlag&4?ps(o.component):o.el,l=n?null:a,{i:u,r:p}=e,h=t&&t.r,f=u.refs===$e?u.refs={}:u.refs,c=u.setupState,E=ve(c),M=c===$e?fi:Y=>Ne(E,Y);if(h!=null&&h!==p){if(eo(t),Ve(h))f[h]=null,M(h)&&(c[h]=null);else if(Je(h)){h.value=null;const Y=t;Y.k&&(f[Y.k]=null)}}if(ye(p))an(p,u,12,[l,f]);else{const Y=Ve(p),$=Je(p);if(Y||$){const U=()=>{if(e.f){const k=Y?M(p)?c[p]:f[p]:p.value;if(n)Ae(k)&&Os(k,a);else if(Ae(k))k.includes(a)||k.push(a);else if(Y)f[p]=[a],M(p)&&(c[p]=f[p]);else{const F=[a];p.value=F,e.k&&(f[e.k]=F)}}else Y?(f[p]=l,M(p)&&(c[p]=l)):$&&(p.value=l,e.k&&(f[e.k]=l))};if(l){const k=()=>{U(),ss.delete(e)};k.id=-1,ss.set(e,k),ot(k,s)}else eo(e),U()}}}function eo(e){const t=ss.get(e);t&&(t.flags|=8,ss.delete(e))}Bn().requestIdleCallback,Bn().cancelIdleCallback;const cn=e=>!!e.type.__asyncLoader,to=e=>e.type.__isKeepAlive;function Xd(e,t){no(e,"a",t)}function Fd(e,t){no(e,"da",t)}function no(e,t,s=tt){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(is(t,o,s),s){let n=s.parent;for(;n&&n.parent;)to(n.parent.vnode)&&Gd(o,t,s,n),n=n.parent}}function Gd(e,t,s,o){const n=is(t,e,o,!0);io(()=>{Os(o[t],n)},s)}function is(e,t,s=tt,o=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...l)=>{bt();const u=In(s),p=Tt(t,s,e,l);return u(),At(),p});return o?n.unshift(a):n.push(a),a}}const wt=e=>(t,s=tt)=>{(!kn||e==="sp")&&is(e,(...o)=>t(...o),s)},Vd=wt("bm"),it=wt("m"),Hd=wt("bu"),Bd=wt("u"),so=wt("bum"),io=wt("um"),Kd=wt("sp"),jd=wt("rtg"),Jd=wt("rtc");function Wd(e,t=tt){is("ec",e,t)}const qd=Symbol.for("v-ndc");function xe(e,t,s,o){let n;const a=s,l=Ae(e);if(l||Ve(e)){const u=l&&on(e);let p=!1,h=!1;u&&(p=!ut(e),h=Vt(e),e=Kn(e)),n=new Array(e.length);for(let f=0,c=e.length;f<c;f++)n[f]=t(p?h?zn(je(e[f])):je(e[f]):e[f],f,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,a)}else if(De(e))if(e[Symbol.iterator])n=Array.from(e,(u,p)=>t(u,p,void 0,a));else{const u=Object.keys(e);n=new Array(u.length);for(let p=0,h=u.length;p<h;p++){const f=u[p];n[p]=t(e[f],f,p,a)}}else n=[];return n}function zd(e,t,s={},o,n){if(ze.ce||ze.parent&&cn(ze.parent)&&ze.parent.ce){const h=Object.keys(s).length>0;return x(),pt(Te,null,[Be("slot",s,o)],h?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),x();const l=a&&oo(a(s)),u=s.key||l&&l.key,p=pt(Te,{key:(u&&!ft(u)?u:`_${t}`)+(!l&&o?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function oo(e){return e.some(t=>ti(t)?!(t.type===$t||t.type===Te&&!oo(t.children)):!0)?e:null}const js=e=>e?Do(e)?ps(e):js(e.parent):null,xn=Qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>js(e.parent),$root:e=>js(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>co(e),$forceUpdate:e=>e.f||(e.f=()=>{Bs(e.update)}),$nextTick:e=>e.n||(e.n=Ki.bind(e.proxy)),$watch:e=>Su.bind(e)}),Js=(e,t)=>e!==$e&&!e.__isScriptSetup&&Ne(e,t),Qd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:a,accessCache:l,type:u,appContext:p}=e;let h;if(t[0]!=="$"){const M=l[t];if(M!==void 0)switch(M){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(Js(o,t))return l[t]=1,o[t];if(n!==$e&&Ne(n,t))return l[t]=2,n[t];if((h=e.propsOptions[0])&&Ne(h,t))return l[t]=3,a[t];if(s!==$e&&Ne(s,t))return l[t]=4,s[t];Ws&&(l[t]=0)}}const f=xn[t];let c,E;if(f)return t==="$attrs"&&qe(e.attrs,"get",""),f(e);if((c=u.__cssModules)&&(c=c[t]))return c;if(s!==$e&&Ne(s,t))return l[t]=4,s[t];if(E=p.config.globalProperties,Ne(E,t))return E[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:a}=e;return Js(n,t)?(n[t]=s,!0):o!==$e&&Ne(o,t)?(o[t]=s,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:a,type:l}},u){let p,h;return!!(s[u]||e!==$e&&u[0]!=="$"&&Ne(e,u)||Js(t,u)||(p=a[0])&&Ne(p,u)||Ne(o,u)||Ne(xn,u)||Ne(n.config.globalProperties,u)||(h=l.__cssModules)&&h[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ne(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ao(e){return Ae(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ws=!0;function Zd(e){const t=co(e),s=e.proxy,o=e.ctx;Ws=!1,t.beforeCreate&&ro(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:l,watch:u,provide:p,inject:h,created:f,beforeMount:c,mounted:E,beforeUpdate:M,updated:Y,activated:$,deactivated:U,beforeDestroy:k,beforeUnmount:F,destroyed:K,unmounted:H,render:L,renderTracked:y,renderTriggered:te,errorCaptured:le,serverPrefetch:Se,expose:W,inheritAttrs:J,components:q,directives:j,filters:ie}=t;if(h&&eu(h,o,null),l)for(const ee in l){const oe=l[ee];ye(oe)&&(o[ee]=oe.bind(s))}if(n){const ee=n.call(s,s);De(ee)&&(e.data=ke(ee))}if(Ws=!0,a)for(const ee in a){const oe=a[ee],ne=ye(oe)?oe.bind(s,s):ye(oe.get)?oe.get.bind(s,s):Ct,pe=!ye(oe)&&ye(oe.set)?oe.set.bind(s):Ct,G=Ee({get:ne,set:pe});Object.defineProperty(o,ee,{enumerable:!0,configurable:!0,get:()=>G.value,set:z=>G.value=z})}if(u)for(const ee in u)lo(u[ee],o,s,ee);if(p){const ee=ye(p)?p.call(s):p;Reflect.ownKeys(ee).forEach(oe=>{au(oe,ee[oe])})}f&&ro(f,e,"c");function fe(ee,oe){Ae(oe)?oe.forEach(ne=>ee(ne.bind(s))):oe&&ee(oe.bind(s))}if(fe(Vd,c),fe(it,E),fe(Hd,M),fe(Bd,Y),fe(Xd,$),fe(Fd,U),fe(Wd,le),fe(Jd,y),fe(jd,te),fe(so,F),fe(io,H),fe(Kd,Se),Ae(W))if(W.length){const ee=e.exposed||(e.exposed={});W.forEach(oe=>{Object.defineProperty(ee,oe,{get:()=>s[oe],set:ne=>s[oe]=ne,enumerable:!0})})}else e.exposed||(e.exposed={});L&&e.render===Ct&&(e.render=L),J!=null&&(e.inheritAttrs=J),q&&(e.components=q),j&&(e.directives=j),Se&&Zi(e)}function eu(e,t,s=Ct){Ae(e)&&(e=qs(e));for(const o in e){const n=e[o];let a;De(n)?"default"in n?a=as(n.from||o,n.default,!0):a=as(n.from||o):a=as(n),Je(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function ro(e,t,s){Tt(Ae(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function lo(e,t,s,o){let n=o.includes(".")?xo(s,o):()=>s[o];if(Ve(e)){const a=t[e];ye(a)&&Xe(n,a)}else if(ye(e))Xe(n,e.bind(s));else if(De(e))if(Ae(e))e.forEach(a=>lo(a,t,s,o));else{const a=ye(e.handler)?e.handler.bind(s):t[e.handler];ye(a)&&Xe(n,a,e)}}function co(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let p;return u?p=u:!n.length&&!s&&!o?p=t:(p={},n.length&&n.forEach(h=>os(p,h,l,!0)),os(p,t,l)),De(t)&&a.set(t,p),p}function os(e,t,s,o=!1){const{mixins:n,extends:a}=t;a&&os(e,a,s,!0),n&&n.forEach(l=>os(e,l,s,!0));for(const l in t)if(!(o&&l==="expose")){const u=tu[l]||s&&s[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const tu={data:uo,props:po,emits:po,methods:vn,computed:vn,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:vn,directives:vn,watch:su,provide:uo,inject:nu};function uo(e,t){return t?e?function(){return Qe(ye(e)?e.call(this,this):e,ye(t)?t.call(this,this):t)}:t:e}function nu(e,t){return vn(qs(e),qs(t))}function qs(e){if(Ae(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function vn(e,t){return e?Qe(Object.create(null),e,t):t}function po(e,t){return e?Ae(e)&&Ae(t)?[...new Set([...e,...t])]:Qe(Object.create(null),ao(e),ao(t!=null?t:{})):t}function su(e,t){if(!e)return t;if(!t)return e;const s=Qe(Object.create(null),e);for(const o in t)s[o]=et(e[o],t[o]);return s}function _o(){return{app:null,config:{isNativeTag:fi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iu=0;function ou(e,t){return function(o,n=null){ye(o)||(o=Qe({},o)),n!=null&&!De(n)&&(n=null);const a=_o(),l=new WeakSet,u=[];let p=!1;const h=a.app={_uid:iu++,_component:o,_props:n,_container:null,_context:a,_instance:null,version:Bu,get config(){return a.config},set config(f){},use(f,...c){return l.has(f)||(f&&ye(f.install)?(l.add(f),f.install(h,...c)):ye(f)&&(l.add(f),f(h,...c))),h},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),h},component(f,c){return c?(a.components[f]=c,h):a.components[f]},directive(f,c){return c?(a.directives[f]=c,h):a.directives[f]},mount(f,c,E){if(!p){const M=h._ceVNode||Be(o,n);return M.appContext=a,E===!0?E="svg":E===!1&&(E=void 0),e(M,f,E),p=!0,h._container=f,f.__vue_app__=h,ps(M.component)}},onUnmount(f){u.push(f)},unmount(){p&&(Tt(u,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(f,c){return a.provides[f]=c,h},runWithContext(f){const c=dn;dn=h;try{return f()}finally{dn=c}}};return h}}let dn=null;function au(e,t){if(tt){let s=tt.provides;const o=tt.parent&&tt.parent.provides;o===s&&(s=tt.provides=Object.create(o)),s[e]=t}}function as(e,t,s=!1){const o=Du();if(o||dn){let n=dn?dn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&ye(t)?t.call(o&&o.proxy):t}}const fo={},mo=()=>Object.create(fo),ho=e=>Object.getPrototypeOf(e)===fo;function ru(e,t,s,o=!1){const n={},a=mo();e.propsDefaults=Object.create(null),go(e,t,n,a);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=o?n:bd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function lu(e,t,s,o){const{props:n,attrs:a,vnode:{patchFlag:l}}=e,u=ve(n),[p]=e.propsOptions;let h=!1;if((o||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let c=0;c<f.length;c++){let E=f[c];if(rs(e.emitsOptions,E))continue;const M=t[E];if(p)if(Ne(a,E))M!==a[E]&&(a[E]=M,h=!0);else{const Y=Yt(E);n[Y]=zs(p,u,Y,M,e,!1)}else M!==a[E]&&(a[E]=M,h=!0)}}}else{go(e,t,n,a)&&(h=!0);let f;for(const c in u)(!t||!Ne(t,c)&&((f=Xt(c))===c||!Ne(t,f)))&&(p?s&&(s[c]!==void 0||s[f]!==void 0)&&(n[c]=zs(p,u,c,void 0,e,!0)):delete n[c]);if(a!==u)for(const c in a)(!t||!Ne(t,c))&&(delete a[c],h=!0)}h&&Mt(e.attrs,"set","")}function go(e,t,s,o){const[n,a]=e.propsOptions;let l=!1,u;if(t)for(let p in t){if(gn(p))continue;const h=t[p];let f;n&&Ne(n,f=Yt(p))?!a||!a.includes(f)?s[f]=h:(u||(u={}))[f]=h:rs(e.emitsOptions,p)||(!(p in o)||h!==o[p])&&(o[p]=h,l=!0)}if(a){const p=ve(s),h=u||$e;for(let f=0;f<a.length;f++){const c=a[f];s[c]=zs(n,p,c,h[c],e,!Ne(h,c))}}return l}function zs(e,t,s,o,n,a){const l=e[s];if(l!=null){const u=Ne(l,"default");if(u&&o===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&ye(p)){const{propsDefaults:h}=n;if(s in h)o=h[s];else{const f=In(n);o=h[s]=p.call(null,t),f()}}else o=p;n.ce&&n.ce._setProp(s,o)}l[0]&&(a&&!u?o=!1:l[1]&&(o===""||o===Xt(s))&&(o=!0))}return o}const cu=new WeakMap;function Eo(e,t,s=!1){const o=s?cu:t.propsCache,n=o.get(e);if(n)return n;const a=e.props,l={},u=[];let p=!1;if(!ye(e)){const f=c=>{p=!0;const[E,M]=Eo(c,t,!0);Qe(l,E),M&&u.push(...M)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!p)return De(e)&&o.set(e,en),en;if(Ae(a))for(let f=0;f<a.length;f++){const c=Yt(a[f]);So(c)&&(l[c]=$e)}else if(a)for(const f in a){const c=Yt(f);if(So(c)){const E=a[f],M=l[c]=Ae(E)||ye(E)?{type:E}:Qe({},E),Y=M.type;let $=!1,U=!0;if(Ae(Y))for(let k=0;k<Y.length;++k){const F=Y[k],K=ye(F)&&F.name;if(K==="Boolean"){$=!0;break}else K==="String"&&(U=!1)}else $=ye(Y)&&Y.name==="Boolean";M[0]=$,M[1]=U,($||Ne(M,"default"))&&u.push(c)}}const h=[l,u];return De(e)&&o.set(e,h),h}function So(e){return e[0]!=="$"&&!gn(e)}const Qs=e=>e==="_"||e==="_ctx"||e==="$stable",Zs=e=>Ae(e)?e.map(Rt):[Rt(e)],du=(e,t,s)=>{if(t._n)return t;const o=Qi((...n)=>Zs(t(...n)),s);return o._c=!1,o},Co=(e,t,s)=>{const o=e._ctx;for(const n in e){if(Qs(n))continue;const a=e[n];if(ye(a))t[n]=du(n,a,o);else if(a!=null){const l=Zs(a);t[n]=()=>l}}},bo=(e,t)=>{const s=Zs(t);e.slots.default=()=>s},Ao=(e,t,s)=>{for(const o in t)(s||!Qs(o))&&(e[o]=t[o])},uu=(e,t,s)=>{const o=e.slots=mo();if(e.vnode.shapeFlag&32){const n=t._;n?(Ao(o,t,s),s&&Ci(o,"_",n,!0)):Co(t,o)}else t&&bo(e,t)},pu=(e,t,s)=>{const{vnode:o,slots:n}=e;let a=!0,l=$e;if(o.shapeFlag&32){const u=t._;u?s&&u===1?a=!1:Ao(n,t,s):(a=!t.$stable,Co(t,n)),l=t}else t&&(bo(e,t),l={default:1});if(a)for(const u in n)!Qs(u)&&l[u]==null&&delete n[u]},ot=xu;function _u(e){return fu(e)}function fu(e,t){const s=Bn();s.__VUE__=!0;const{insert:o,remove:n,patchProp:a,createElement:l,createText:u,createComment:p,setText:h,setElementText:f,parentNode:c,nextSibling:E,setScopeId:M=Ct,insertStaticContent:Y}=e,$=(m,A,B,b=null,C=null,D=null,g=void 0,_=null,S=!!A.dynamicChildren)=>{if(m===A)return;m&&!Mn(m,A)&&(b=be(m),z(m,C,D,!0),m=null),A.patchFlag===-2&&(S=!1,A.dynamicChildren=null);const{type:v,ref:T,shapeFlag:R}=A;switch(v){case ls:U(m,A,B,b);break;case $t:k(m,A,B,b);break;case cs:m==null&&F(A,B,b,g);break;case Te:q(m,A,B,b,C,D,g,_,S);break;default:R&1?L(m,A,B,b,C,D,g,_,S):R&6?j(m,A,B,b,C,D,g,_,S):(R&64||R&128)&&v.process(m,A,B,b,C,D,g,_,S,O)}T!=null&&C?On(T,m&&m.ref,D,A||m,!A):T==null&&m&&m.ref!=null&&On(m.ref,null,D,m,!0)},U=(m,A,B,b)=>{if(m==null)o(A.el=u(A.children),B,b);else{const C=A.el=m.el;A.children!==m.children&&h(C,A.children)}},k=(m,A,B,b)=>{m==null?o(A.el=p(A.children||""),B,b):A.el=m.el},F=(m,A,B,b)=>{[m.el,m.anchor]=Y(m.children,A,B,b,m.el,m.anchor)},K=({el:m,anchor:A},B,b)=>{let C;for(;m&&m!==A;)C=E(m),o(m,B,b),m=C;o(A,B,b)},H=({el:m,anchor:A})=>{let B;for(;m&&m!==A;)B=E(m),n(m),m=B;n(A)},L=(m,A,B,b,C,D,g,_,S)=>{A.type==="svg"?g="svg":A.type==="math"&&(g="mathml"),m==null?y(A,B,b,C,D,g,_,S):Se(m,A,C,D,g,_,S)},y=(m,A,B,b,C,D,g,_)=>{let S,v;const{props:T,shapeFlag:R,transition:V,dirs:N}=m;if(S=m.el=l(m.type,D,T&&T.is,T),R&8?f(S,m.children):R&16&&le(m.children,S,null,b,C,ei(m,D),g,_),N&&Wt(m,null,b,"created"),te(S,m,m.scopeId,g,b),T){for(const re in T)re!=="value"&&!gn(re)&&a(S,re,null,T[re],D,b);"value"in T&&a(S,"value",null,T.value,D),(v=T.onVnodeBeforeMount)&&Ot(v,b,m)}N&&Wt(m,null,b,"beforeMount");const se=mu(C,V);se&&V.beforeEnter(S),o(S,A,B),((v=T&&T.onVnodeMounted)||se||N)&&ot(()=>{v&&Ot(v,b,m),se&&V.enter(S),N&&Wt(m,null,b,"mounted")},C)},te=(m,A,B,b,C)=>{if(B&&M(m,B),b)for(let D=0;D<b.length;D++)M(m,b[D]);if(C){let D=C.subTree;if(A===D||Mo(D.type)&&(D.ssContent===A||D.ssFallback===A)){const g=C.vnode;te(m,g,g.scopeId,g.slotScopeIds,C.parent)}}},le=(m,A,B,b,C,D,g,_,S=0)=>{for(let v=S;v<m.length;v++){const T=m[v]=_?Bt(m[v]):Rt(m[v]);$(null,T,A,B,b,C,D,g,_)}},Se=(m,A,B,b,C,D,g)=>{const _=A.el=m.el;let{patchFlag:S,dynamicChildren:v,dirs:T}=A;S|=m.patchFlag&16;const R=m.props||$e,V=A.props||$e;let N;if(B&&qt(B,!1),(N=V.onVnodeBeforeUpdate)&&Ot(N,B,A,m),T&&Wt(A,m,B,"beforeUpdate"),B&&qt(B,!0),(R.innerHTML&&V.innerHTML==null||R.textContent&&V.textContent==null)&&f(_,""),v?W(m.dynamicChildren,v,_,B,b,ei(A,C),D):g||oe(m,A,_,null,B,b,ei(A,C),D,!1),S>0){if(S&16)J(_,R,V,B,C);else if(S&2&&R.class!==V.class&&a(_,"class",null,V.class,C),S&4&&a(_,"style",R.style,V.style,C),S&8){const se=A.dynamicProps;for(let re=0;re<se.length;re++){const ue=se[re],Ce=R[ue],Oe=V[ue];(Oe!==Ce||ue==="value")&&a(_,ue,Ce,Oe,C,B)}}S&1&&m.children!==A.children&&f(_,A.children)}else!g&&v==null&&J(_,R,V,B,C);((N=V.onVnodeUpdated)||T)&&ot(()=>{N&&Ot(N,B,A,m),T&&Wt(A,m,B,"updated")},b)},W=(m,A,B,b,C,D,g)=>{for(let _=0;_<A.length;_++){const S=m[_],v=A[_],T=S.el&&(S.type===Te||!Mn(S,v)||S.shapeFlag&198)?c(S.el):B;$(S,v,T,null,b,C,D,g,!0)}},J=(m,A,B,b,C)=>{if(A!==B){if(A!==$e)for(const D in A)!gn(D)&&!(D in B)&&a(m,D,A[D],null,C,b);for(const D in B){if(gn(D))continue;const g=B[D],_=A[D];g!==_&&D!=="value"&&a(m,D,_,g,C,b)}"value"in B&&a(m,"value",A.value,B.value,C)}},q=(m,A,B,b,C,D,g,_,S)=>{const v=A.el=m?m.el:u(""),T=A.anchor=m?m.anchor:u("");let{patchFlag:R,dynamicChildren:V,slotScopeIds:N}=A;N&&(_=_?_.concat(N):N),m==null?(o(v,B,b),o(T,B,b),le(A.children||[],B,T,C,D,g,_,S)):R>0&&R&64&&V&&m.dynamicChildren?(W(m.dynamicChildren,V,B,C,D,g,_),(A.key!=null||C&&A===C.subTree)&&To(m,A,!0)):oe(m,A,B,T,C,D,g,_,S)},j=(m,A,B,b,C,D,g,_,S)=>{A.slotScopeIds=_,m==null?A.shapeFlag&512?C.ctx.activate(A,B,b,g,S):ie(A,B,b,C,D,g,S):he(m,A,S)},ie=(m,A,B,b,C,D,g)=>{const _=m.component=$u(m,b,C);if(to(m)&&(_.ctx.renderer=O),Lu(_,!1,g),_.asyncDep){if(C&&C.registerDep(_,fe,g),!m.el){const S=_.subTree=Be($t);k(null,S,A,B),m.placeholder=S.el}}else fe(_,m,A,B,C,D,g)},he=(m,A,B)=>{const b=A.component=m.component;if(Ru(m,A,B))if(b.asyncDep&&!b.asyncResolved){ee(b,A,B);return}else b.next=A,b.update();else A.el=m.el,b.vnode=A},fe=(m,A,B,b,C,D,g)=>{const _=()=>{if(m.isMounted){let{next:R,bu:V,u:N,parent:se,vnode:re}=m;{const Ke=yo(m);if(Ke){R&&(R.el=re.el,ee(m,R,g)),Ke.asyncDep.then(()=>{m.isUnmounted||_()});return}}let ue=R,Ce;qt(m,!1),R?(R.el=re.el,ee(m,R,g)):R=re,V&&Vn(V),(Ce=R.props&&R.props.onVnodeBeforeUpdate)&&Ot(Ce,se,R,re),qt(m,!0);const Oe=No(m),we=m.subTree;m.subTree=Oe,$(we,Oe,c(we.el),be(we),m,C,D),R.el=Oe.el,ue===null&&Ou(m,Oe.el),N&&ot(N,C),(Ce=R.props&&R.props.onVnodeUpdated)&&ot(()=>Ot(Ce,se,R,re),C)}else{let R;const{el:V,props:N}=A,{bm:se,m:re,parent:ue,root:Ce,type:Oe}=m,we=cn(A);qt(m,!1),se&&Vn(se),!we&&(R=N&&N.onVnodeBeforeMount)&&Ot(R,ue,A),qt(m,!0);{Ce.ce&&Ce.ce._def.shadowRoot!==!1&&Ce.ce._injectChildStyle(Oe);const Ke=m.subTree=No(m);$(null,Ke,B,b,m,C,D),A.el=Ke.el}if(re&&ot(re,C),!we&&(R=N&&N.onVnodeMounted)){const Ke=A;ot(()=>Ot(R,ue,Ke),C)}(A.shapeFlag&256||ue&&cn(ue.vnode)&&ue.vnode.shapeFlag&256)&&m.a&&ot(m.a,C),m.isMounted=!0,A=B=b=null}};m.scope.on();const S=m.effect=new Ri(_);m.scope.off();const v=m.update=S.run.bind(S),T=m.job=S.runIfDirty.bind(S);T.i=m,T.id=m.uid,S.scheduler=()=>Bs(T),qt(m,!0),v()},ee=(m,A,B)=>{A.component=m;const b=m.vnode.props;m.vnode=A,m.next=null,lu(m,A.props,b,B),pu(m,A.children,B),bt(),Ji(m),At()},oe=(m,A,B,b,C,D,g,_,S=!1)=>{const v=m&&m.children,T=m?m.shapeFlag:0,R=A.children,{patchFlag:V,shapeFlag:N}=A;if(V>0){if(V&128){pe(v,R,B,b,C,D,g,_,S);return}else if(V&256){ne(v,R,B,b,C,D,g,_,S);return}}N&8?(T&16&&me(v,C,D),R!==v&&f(B,R)):T&16?N&16?pe(v,R,B,b,C,D,g,_,S):me(v,C,D,!0):(T&8&&f(B,""),N&16&&le(R,B,b,C,D,g,_,S))},ne=(m,A,B,b,C,D,g,_,S)=>{m=m||en,A=A||en;const v=m.length,T=A.length,R=Math.min(v,T);let V;for(V=0;V<R;V++){const N=A[V]=S?Bt(A[V]):Rt(A[V]);$(m[V],N,B,null,C,D,g,_,S)}v>T?me(m,C,D,!0,!1,R):le(A,B,b,C,D,g,_,S,R)},pe=(m,A,B,b,C,D,g,_,S)=>{let v=0;const T=A.length;let R=m.length-1,V=T-1;for(;v<=R&&v<=V;){const N=m[v],se=A[v]=S?Bt(A[v]):Rt(A[v]);if(Mn(N,se))$(N,se,B,null,C,D,g,_,S);else break;v++}for(;v<=R&&v<=V;){const N=m[R],se=A[V]=S?Bt(A[V]):Rt(A[V]);if(Mn(N,se))$(N,se,B,null,C,D,g,_,S);else break;R--,V--}if(v>R){if(v<=V){const N=V+1,se=N<T?A[N].el:b;for(;v<=V;)$(null,A[v]=S?Bt(A[v]):Rt(A[v]),B,se,C,D,g,_,S),v++}}else if(v>V)for(;v<=R;)z(m[v],C,D,!0),v++;else{const N=v,se=v,re=new Map;for(v=se;v<=V;v++){const Fe=A[v]=S?Bt(A[v]):Rt(A[v]);Fe.key!=null&&re.set(Fe.key,v)}let ue,Ce=0;const Oe=V-se+1;let we=!1,Ke=0;const rt=new Array(Oe);for(v=0;v<Oe;v++)rt[v]=0;for(v=N;v<=R;v++){const Fe=m[v];if(Ce>=Oe){z(Fe,C,D,!0);continue}let Ye;if(Fe.key!=null)Ye=re.get(Fe.key);else for(ue=se;ue<=V;ue++)if(rt[ue-se]===0&&Mn(Fe,A[ue])){Ye=ue;break}Ye===void 0?z(Fe,C,D,!0):(rt[Ye-se]=v+1,Ye>=Ke?Ke=Ye:we=!0,$(Fe,A[Ye],B,null,C,D,g,_,S),Ce++)}const We=we?hu(rt):en;for(ue=We.length-1,v=Oe-1;v>=0;v--){const Fe=se+v,Ye=A[Fe],lt=A[Fe+1],Pt=Fe+1<T?lt.el||lt.placeholder:b;rt[v]===0?$(null,Ye,B,Pt,C,D,g,_,S):we&&(ue<0||v!==We[ue]?G(Ye,B,Pt,2):ue--)}}},G=(m,A,B,b,C=null)=>{const{el:D,type:g,transition:_,children:S,shapeFlag:v}=m;if(v&6){G(m.component.subTree,A,B,b);return}if(v&128){m.suspense.move(A,B,b);return}if(v&64){g.move(m,A,B,O);return}if(g===Te){o(D,A,B);for(let R=0;R<S.length;R++)G(S[R],A,B,b);o(m.anchor,A,B);return}if(g===cs){K(m,A,B);return}if(b!==2&&v&1&&_)if(b===0)_.beforeEnter(D),o(D,A,B),ot(()=>_.enter(D),C);else{const{leave:R,delayLeave:V,afterLeave:N}=_,se=()=>{m.ctx.isUnmounted?n(D):o(D,A,B)},re=()=>{D._isLeaving&&D[Yd](!0),R(D,()=>{se(),N&&N()})};V?V(D,se,re):re()}else o(D,A,B)},z=(m,A,B,b=!1,C=!1)=>{const{type:D,props:g,ref:_,children:S,dynamicChildren:v,shapeFlag:T,patchFlag:R,dirs:V,cacheIndex:N}=m;if(R===-2&&(C=!1),_!=null&&(bt(),On(_,null,B,m,!0),At()),N!=null&&(A.renderCache[N]=void 0),T&256){A.ctx.deactivate(m);return}const se=T&1&&V,re=!cn(m);let ue;if(re&&(ue=g&&g.onVnodeBeforeUnmount)&&Ot(ue,A,m),T&6)ge(m.component,B,b);else{if(T&128){m.suspense.unmount(B,b);return}se&&Wt(m,null,A,"beforeUnmount"),T&64?m.type.remove(m,A,B,O,b):v&&!v.hasOnce&&(D!==Te||R>0&&R&64)?me(v,A,B,!1,!0):(D===Te&&R&384||!C&&T&16)&&me(S,A,B),b&&Q(m)}(re&&(ue=g&&g.onVnodeUnmounted)||se)&&ot(()=>{ue&&Ot(ue,A,m),se&&Wt(m,null,A,"unmounted")},B)},Q=m=>{const{type:A,el:B,anchor:b,transition:C}=m;if(A===Te){ce(B,b);return}if(A===cs){H(m);return}const D=()=>{n(B),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(m.shapeFlag&1&&C&&!C.persisted){const{leave:g,delayLeave:_}=C,S=()=>g(B,D);_?_(m.el,D,S):S()}else D()},ce=(m,A)=>{let B;for(;m!==A;)B=E(m),n(m),m=B;n(A)},ge=(m,A,B)=>{const{bum:b,scope:C,job:D,subTree:g,um:_,m:S,a:v}=m;Ro(S),Ro(v),b&&Vn(b),C.stop(),D&&(D.flags|=8,z(g,m,A,B)),_&&ot(_,A),ot(()=>{m.isUnmounted=!0},A)},me=(m,A,B,b=!1,C=!1,D=0)=>{for(let g=D;g<m.length;g++)z(m[g],A,B,b,C)},be=m=>{if(m.shapeFlag&6)return be(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const A=E(m.anchor||m.el),B=A&&A[Ld];return B?E(B):A};let Me=!1;const w=(m,A,B)=>{m==null?A._vnode&&z(A._vnode,null,null,!0):$(A._vnode||null,m,A,null,null,null,B),A._vnode=m,Me||(Me=!0,Ji(),Wi(),Me=!1)},O={p:$,um:z,m:G,r:Q,mt:ie,mc:le,pc:oe,pbc:W,n:be,o:e};return{render:w,hydrate:void 0,createApp:ou(w)}}function ei({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function mu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function To(e,t,s=!1){const o=e.children,n=t.children;if(Ae(o)&&Ae(n))for(let a=0;a<o.length;a++){const l=o[a];let u=n[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[a]=Bt(n[a]),u.el=l.el),!s&&u.patchFlag!==-2&&To(l,u)),u.type===ls&&u.patchFlag!==-1&&(u.el=l.el),u.type===$t&&!u.el&&(u.el=l.el)}}function hu(e){const t=e.slice(),s=[0];let o,n,a,l,u;const p=e.length;for(o=0;o<p;o++){const h=e[o];if(h!==0){if(n=s[s.length-1],e[n]<h){t[o]=n,s.push(o);continue}for(a=0,l=s.length-1;a<l;)u=a+l>>1,e[s[u]]<h?a=u+1:l=u;h<e[s[a]]&&(a>0&&(t[o]=s[a-1]),s[a]=o)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=t[l];return s}function yo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yo(t)}function Ro(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const gu=Symbol.for("v-scx"),Eu=()=>as(gu);function Xe(e,t,s){return Oo(e,t,s)}function Oo(e,t,s=$e){const{immediate:o,deep:n,flush:a,once:l}=s,u=Qe({},s),p=t&&o||!t&&a!=="post";let h;if(kn){if(a==="sync"){const M=Eu();h=M.__watcherHandles||(M.__watcherHandles=[])}else if(!p){const M=()=>{};return M.stop=Ct,M.resume=Ct,M.pause=Ct,M}}const f=tt;u.call=(M,Y,$)=>Tt(M,f,Y,$);let c=!1;a==="post"?u.scheduler=M=>{ot(M,f&&f.suspense)}:a!=="sync"&&(c=!0,u.scheduler=(M,Y)=>{Y?M():Bs(M)}),u.augmentJob=M=>{t&&(M.flags|=4),c&&(M.flags|=2,f&&(M.id=f.uid,M.i=f))};const E=Nd(e,t,u);return kn&&(h?h.push(E):p&&E()),E}function Su(e,t,s){const o=this.proxy,n=Ve(e)?e.includes(".")?xo(o,e):()=>o[e]:e.bind(o,o);let a;ye(t)?a=t:(a=t.handler,s=t);const l=In(this),u=Oo(n,a.bind(o),s);return l(),u}function xo(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const Cu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Yt(t)}Modifiers`]||e[`${Xt(t)}Modifiers`];function bu(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||$e;let n=s;const a=t.startsWith("update:"),l=a&&Cu(o,t.slice(7));l&&(l.trim&&(n=s.map(f=>Ve(f)?f.trim():f)),l.number&&(n=s.map(Hn)));let u,p=o[u=vs(t)]||o[u=vs(Yt(t))];!p&&a&&(p=o[u=vs(Xt(t))]),p&&Tt(p,e,6,n);const h=o[u+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Tt(h,e,6,n)}}const Au=new WeakMap;function vo(e,t,s=!1){const o=s?Au:t.emitsCache,n=o.get(e);if(n!==void 0)return n;const a=e.emits;let l={},u=!1;if(!ye(e)){const p=h=>{const f=vo(h,t,!0);f&&(u=!0,Qe(l,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!u?(De(e)&&o.set(e,null),null):(Ae(a)?a.forEach(p=>l[p]=null):Qe(l,a),De(e)&&o.set(e,l),l)}function rs(e,t){return!e||!Fn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,Xt(t))||Ne(e,t))}function P1(){}function No(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[a],slots:l,attrs:u,emit:p,render:h,renderCache:f,props:c,data:E,setupState:M,ctx:Y,inheritAttrs:$}=e,U=ns(e);let k,F;try{if(s.shapeFlag&4){const H=n||o,L=H;k=Rt(h.call(L,H,f,c,M,E,Y)),F=u}else{const H=t;k=Rt(H.length>1?H(c,{attrs:u,slots:l,emit:p}):H(c,null)),F=t.props?u:Tu(u)}}catch(H){Nn.length=0,es(H,e,1),k=Be($t)}let K=k;if(F&&$!==!1){const H=Object.keys(F),{shapeFlag:L}=K;H.length&&L&7&&(a&&H.some(Rs)&&(F=yu(F,a)),K=un(K,F,!1,!0))}return s.dirs&&(K=un(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(s.dirs):s.dirs),s.transition&&Ks(K,s.transition),k=K,ns(U),k}const Tu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Fn(s))&&((t||(t={}))[s]=e[s]);return t},yu=(e,t)=>{const s={};for(const o in e)(!Rs(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Ru(e,t,s){const{props:o,children:n,component:a}=e,{props:l,children:u,patchFlag:p}=t,h=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return o?Po(o,l,h):!!l;if(p&8){const f=t.dynamicProps;for(let c=0;c<f.length;c++){const E=f[c];if(l[E]!==o[E]&&!rs(h,E))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:o===l?!1:o?l?Po(o,l,h):!0:!!l;return!1}function Po(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const a=o[n];if(t[a]!==e[a]&&!rs(s,a))return!0}return!1}function Ou({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Mo=e=>e.__isSuspense;function xu(e,t){t&&t.pendingBranch?Ae(e)?t.effects.push(...e):t.effects.push(e):Dd(e)}const Te=Symbol.for("v-fgt"),ls=Symbol.for("v-txt"),$t=Symbol.for("v-cmt"),cs=Symbol.for("v-stc"),Nn=[];let at=null;function x(e=!1){Nn.push(at=e?null:[])}function vu(){Nn.pop(),at=Nn[Nn.length-1]||null}let Pn=1;function Io(e,t=!1){Pn+=e,e<0&&at&&t&&(at.hasOnce=!0)}function ko(e){return e.dynamicChildren=Pn>0?at||en:null,vu(),Pn>0&&at&&at.push(e),e}function P(e,t,s,o,n,a){return ko(i(e,t,s,o,n,a,!0))}function pt(e,t,s,o,n){return ko(Be(e,t,s,o,n,!0))}function ti(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const wo=({key:e})=>e!=null?e:null,ds=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ve(e)||Je(e)||ye(e)?{i:ze,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,n=null,a=e===Te?0:1,l=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wo(t),ref:t&&ds(t),scopeId:zi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ze};return u?(ni(p,s),a&128&&e.normalize(p)):s&&(p.shapeFlag|=Ve(s)?8:16),Pn>0&&!l&&at&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&at.push(p),p}const Be=Nu;function Nu(e,t=null,s=null,o=0,n=null,a=!1){if((!e||e===qd)&&(e=$t),ti(e)){const u=un(e,t,!0);return s&&ni(u,s),Pn>0&&!a&&at&&(u.shapeFlag&6?at[at.indexOf(e)]=u:at.push(u)),u.patchFlag=-2,u}if(Hu(e)&&(e=e.__vccOpts),t){t=Pu(t);let{class:u,style:p}=t;u&&!Ve(u)&&(t.class=Ie(u)),De(p)&&(Vs(p)&&!Ae(p)&&(p=Qe({},p)),t.style=Gt(p))}const l=Ve(e)?1:Mo(e)?128:Ud(e)?64:De(e)?4:ye(e)?2:0;return i(e,t,s,o,n,l,a,!0)}function Pu(e){return e?Vs(e)||ho(e)?Qe({},e):e:null}function un(e,t,s=!1,o=!1){const{props:n,ref:a,patchFlag:l,children:u,transition:p}=e,h=t?Iu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&wo(h),ref:t&&t.ref?s&&a?Ae(a)?a.concat(ds(t)):[a,ds(t)]:ds(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Te?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&un(e.ssContent),ssFallback:e.ssFallback&&un(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&o&&Ks(f,p.clone(f)),f}function Pe(e=" ",t=0){return Be(ls,null,e,t)}function Mu(e,t){const s=Be(cs,null,e);return s.staticCount=t,s}function _e(e="",t=!1){return t?(x(),pt($t,null,e)):Be($t,null,e)}function Rt(e){return e==null||typeof e=="boolean"?Be($t):Ae(e)?Be(Te,null,e.slice()):ti(e)?Bt(e):Be(ls,null,String(e))}function Bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:un(e)}function ni(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Ae(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),ni(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ho(t)?t._ctx=ze:n===3&&ze&&(ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ye(t)?(t={default:t,_ctx:ze},s=32):(t=String(t),o&64?(s=16,t=[Pe(t)]):s=8);e.children=t,e.shapeFlag|=s}function Iu(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=Ie([t.class,o.class]));else if(n==="style")t.style=Gt([t.style,o.style]);else if(Fn(n)){const a=t[n],l=o[n];l&&a!==l&&!(Ae(a)&&a.includes(l))&&(t[n]=a?[].concat(a,l):l)}else n!==""&&(t[n]=o[n])}return t}function Ot(e,t,s,o=null){Tt(e,t,7,[s,o])}const ku=_o();let wu=0;function $u(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||ku,a={uid:wu++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new td(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Eo(o,n),emitsOptions:vo(o,n),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:o.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=bu.bind(null,a),e.ce&&e.ce(a),a}let tt=null;const Du=()=>tt||ze;let us,si;{const e=Bn(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),a=>{n.length>1?n.forEach(l=>l(a)):n[0](a)}};us=t("__VUE_INSTANCE_SETTERS__",s=>tt=s),si=t("__VUE_SSR_SETTERS__",s=>kn=s)}const In=e=>{const t=tt;return us(e),e.scope.on(),()=>{e.scope.off(),us(t)}},$o=()=>{tt&&tt.scope.off(),us(null)};function Do(e){return e.vnode.shapeFlag&4}let kn=!1;function Lu(e,t=!1,s=!1){t&&si(t);const{props:o,children:n}=e.vnode,a=Do(e);ru(e,o,a,t),uu(e,n,s||t);const l=a?Uu(e,t):void 0;return t&&si(!1),l}function Uu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Qd);const{setup:o}=s;if(o){bt();const n=e.setupContext=o.length>1?Xu(e):null,a=In(e),l=an(o,e,0,[e.props,n]),u=hi(l);if(At(),a(),(u||e.sp)&&!cn(e)&&Zi(e),u){if(l.then($o,$o),t)return l.then(p=>{Lo(e,p)}).catch(p=>{es(p,e,0)});e.asyncDep=l}else Lo(e,l)}else Uo(e)}function Lo(e,t,s){ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:De(t)&&(e.setupState=Vi(t)),Uo(e)}function Uo(e,t,s){const o=e.type;e.render||(e.render=o.render||Ct);{const n=In(e);bt();try{Zd(e)}finally{At(),n()}}}const Yu={get(e,t){return qe(e,"get",""),e[t]}};function Xu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Yu),slots:e.slots,emit:e.emit,expose:t}}function ps(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Vi(Ad(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in xn)return xn[s](e)},has(t,s){return s in t||s in xn}})):e.proxy}const Fu=/(?:^|[-_])\w/g,Gu=e=>e.replace(Fu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Vu(e,t=!0){return ye(e)?e.displayName||e.name:e.name||t&&e.__name}function Yo(e,t,s=!1){let o=Vu(t);if(!o&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){const n=a=>{for(const l in a)if(a[l]===t)return l};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?Gu(o):s?"App":"Anonymous"}function Hu(e){return ye(e)&&"__vccOpts"in e}const Ee=(e,t)=>xd(e,t,kn),Bu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ii;const Xo=typeof window!="undefined"&&window.trustedTypes;if(Xo)try{ii=Xo.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Fo=ii?e=>ii.createHTML(e):e=>e,Ku="http://www.w3.org/2000/svg",ju="http://www.w3.org/1998/Math/MathML",Dt=typeof document!="undefined"?document:null,Go=Dt&&Dt.createElement("template"),Ju={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?Dt.createElementNS(Ku,e):t==="mathml"?Dt.createElementNS(ju,e):s?Dt.createElement(e,{is:s}):Dt.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>Dt.createTextNode(e),createComment:e=>Dt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Dt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,a){const l=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Go.innerHTML=Fo(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const u=Go.content;if(o==="svg"||o==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Wu=Symbol("_vtc");function qu(e,t,s){const o=e[Wu];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const _s=Symbol("_vod"),Vo=Symbol("_vsh"),zu={name:"show",beforeMount(e,{value:t},{transition:s}){e[_s]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):wn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),wn(e,!0),o.enter(e)):o.leave(e,()=>{wn(e,!1)}):wn(e,t))},beforeUnmount(e,{value:t}){wn(e,t)}};function wn(e,t){e.style.display=t?e[_s]:"none",e[Vo]=!t}const Qu=Symbol(""),Zu=/(?:^|;)\s*display\s*:/;function ep(e,t,s){const o=e.style,n=Ve(s);let a=!1;if(s&&!n){if(t)if(Ve(t))for(const l of t.split(";")){const u=l.slice(0,l.indexOf(":")).trim();s[u]==null&&fs(o,u,"")}else for(const l in t)s[l]==null&&fs(o,l,"");for(const l in s)l==="display"&&(a=!0),fs(o,l,s[l])}else if(n){if(t!==s){const l=o[Qu];l&&(s+=";"+l),o.cssText=s,a=Zu.test(s)}}else t&&e.removeAttribute("style");_s in e&&(e[_s]=a?o.display:"",e[Vo]&&(o.display="none"))}const Ho=/\s*!important$/;function fs(e,t,s){if(Ae(s))s.forEach(o=>fs(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=tp(e,t);Ho.test(s)?e.setProperty(Xt(o),s.replace(Ho,""),"important"):e[o]=s}}const Bo=["Webkit","Moz","ms"],oi={};function tp(e,t){const s=oi[t];if(s)return s;let o=Yt(t);if(o!=="filter"&&o in e)return oi[t]=o;o=Si(o);for(let n=0;n<Bo.length;n++){const a=Bo[n]+o;if(a in e)return oi[t]=a}return t}const Ko="http://www.w3.org/1999/xlink";function jo(e,t,s,o,n,a=Zc(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ko,t.slice(6,t.length)):e.setAttributeNS(Ko,t,s):s==null||a&&!Ai(s)?e.removeAttribute(t):e.setAttribute(t,a?"":ft(s)?String(s):s)}function Jo(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Fo(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Ai(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{e[t]=s}catch(u){}l&&e.removeAttribute(n||t)}function Kt(e,t,s,o){e.addEventListener(t,s,o)}function np(e,t,s,o){e.removeEventListener(t,s,o)}const Wo=Symbol("_vei");function sp(e,t,s,o,n=null){const a=e[Wo]||(e[Wo]={}),l=a[t];if(o&&l)l.value=o;else{const[u,p]=ip(t);if(o){const h=a[t]=rp(o,n);Kt(e,u,h,p)}else l&&(np(e,u,l,p),a[t]=void 0)}}const qo=/(?:Once|Passive|Capture)$/;function ip(e){let t;if(qo.test(e)){t={};let o;for(;o=e.match(qo);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xt(e.slice(2)),t]}let ai=0;const op=Promise.resolve(),ap=()=>ai||(op.then(()=>ai=0),ai=Date.now());function rp(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;Tt(lp(o,s.value),t,5,[o])};return s.value=e,s.attached=ap(),s}function lp(e,t){if(Ae(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const zo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cp=(e,t,s,o,n,a)=>{const l=n==="svg";t==="class"?qu(e,o,l):t==="style"?ep(e,s,o):Fn(t)?Rs(t)||sp(e,t,s,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dp(e,t,o,l))?(Jo(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jo(e,t,o,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ve(o))?Jo(e,Yt(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),jo(e,t,o,l))};function dp(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&zo(t)&&ye(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return zo(t)&&Ve(s)?!1:t in e}const pn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ae(t)?s=>Vn(t,s):t};function up(e){e.target.composing=!0}function Qo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Lt=Symbol("_assign"),de={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[Lt]=pn(n);const a=o||n.props&&n.props.type==="number";Kt(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;s&&(u=u.trim()),a&&(u=Hn(u)),e[Lt](u)}),s&&Kt(e,"change",()=>{e.value=e.value.trim()}),t||(Kt(e,"compositionstart",up),Kt(e,"compositionend",Qo),Kt(e,"change",Qo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:a}},l){if(e[Lt]=pn(l),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?Hn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===p)||(e.value=p))}},_t={deep:!0,created(e,t,s){e[Lt]=pn(s),Kt(e,"change",()=>{const o=e._modelValue,n=$n(e),a=e.checked,l=e[Lt];if(Ae(o)){const u=Ns(o,n),p=u!==-1;if(a&&!p)l(o.concat(n));else if(!a&&p){const h=[...o];h.splice(u,1),l(h)}}else if(nn(o)){const u=new Set(o);a?u.add(n):u.delete(n),l(u)}else l(ta(e,a))})},mounted:Zo,beforeUpdate(e,t,s){e[Lt]=pn(s),Zo(e,t,s)}};function Zo(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(Ae(t))n=Ns(t,o.props.value)>-1;else if(nn(t))n=t.has(o.props.value);else{if(t===s)return;n=En(t,ta(e,!0))}e.checked!==n&&(e.checked=n)}const ht={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=nn(t);Kt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?Hn($n(l)):$n(l));e[Lt](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,Ki(()=>{e._assigning=!1})}),e[Lt]=pn(o)},mounted(e,{value:t}){ea(e,t)},beforeUpdate(e,t,s){e[Lt]=pn(s)},updated(e,{value:t}){e._assigning||ea(e,t)}};function ea(e,t){const s=e.multiple,o=Ae(t);if(!(s&&!o&&!nn(t))){for(let n=0,a=e.options.length;n<a;n++){const l=e.options[n],u=$n(l);if(s)if(o){const p=typeof u;p==="string"||p==="number"?l.selected=t.some(h=>String(h)===String(u)):l.selected=Ns(t,u)>-1}else l.selected=t.has(u);else if(En($n(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $n(e){return"_value"in e?e._value:e.value}function ta(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const pp=["ctrl","shift","alt","meta"],_p={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>pp.some(s=>e[`${s}Key`]&&!t.includes(s))},gt=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...a)=>{for(let l=0;l<t.length;l++){const u=_p[t[l]];if(u&&u(n,t))return}return e(n,...a)})},fp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const a=Xt(n.key);if(t.some(l=>l===a||fp[l]===a))return e(n)})},mp=Qe({patchProp:cp},Ju);let na;function hp(){return na||(na=_u(mp))}const gp=(...e)=>{const t=hp().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=Sp(o);if(!n)return;const a=t._component;!ye(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,Ep(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function Ep(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Sp(e){return Ve(e)?document.querySelector(e):e}const xt=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},Cp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},bp={key:0,class:"nxp-ec-admin-error"},Ap={class:"nxp-ec-admin-error__title"},Tp={class:"nxp-ec-admin-error__body"};function yp(e,t,s,o,n,a){return x(),P("div",null,[n.error?(x(),P("div",bp,[i("h2",Ap,d(a.fallbackTitle),1),i("p",Tp,d(a.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>a.reload&&a.reload(...l))},d(a.reloadLabel),1)])):zd(e.$slots,"default",{key:1})])}const Rp=xt(Cp,[["render",yp]]),Op={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},xp={class:"nxp-ec-admin-panel__header"},vp={class:"nxp-ec-admin-panel__title"},Np={class:"nxp-ec-admin-panel__lead"},Pp={class:"nxp-ec-admin-panel__actions"},Mp=["disabled"],Ip={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kp={key:1,class:"nxp-ec-dashboard"},wp={class:"nxp-ec-dashboard__metrics"},$p={class:"nxp-ec-dashboard__card"},Dp={class:"nxp-ec-dashboard__value"},Lp={class:"nxp-ec-dashboard__hint"},Up={class:"nxp-ec-dashboard__card"},Yp={class:"nxp-ec-dashboard__value"},Xp={class:"nxp-ec-dashboard__hint"},Fp={class:"nxp-ec-dashboard__card"},Gp={class:"nxp-ec-dashboard__value"},Vp={class:"nxp-ec-dashboard__hint"},Hp={class:"nxp-ec-dashboard__card"},Bp={class:"nxp-ec-dashboard__value"},Kp={class:"nxp-ec-dashboard__hint"},jp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Jp={class:"nxp-ec-dashboard__checklist-header"},Wp={id:"dashboard-checklist-heading"},qp={class:"nxp-ec-dashboard__checklist-progress"},zp={class:"nxp-ec-dashboard__checklist-list"},Qp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Zp={key:0,class:"fa-solid fa-circle-check"},e_={key:1,class:"fa-regular fa-circle"},t_={class:"nxp-ec-dashboard__checklist-label"},n_=["href","title"],s_={class:"nxp-ec-sr-only"},i_=xt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,o=s.translate,n=s.state,a=Ee(()=>{var c;const f=(c=n.summary)==null?void 0:c.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),l=(f=0)=>{const c=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(c)}catch(E){return`${a.value} ${c.toFixed(2)}`}},u=Ee(()=>Array.isArray(n.checklist)?n.checklist:[]),p=Ee(()=>u.value.filter(f=>f.completed).length),h=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,c)=>(x(),P("section",Op,[i("header",xp,[i("div",null,[i("h2",vp,d(r(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",Np,d(r(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Pp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:c[0]||(c[0]=E=>f.$emit("refresh")),disabled:r(n).loading},d(r(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,Mp)])]),r(n).error?(x(),P("div",Ip,d(r(n).error),1)):(x(),P("div",kp,[i("div",wp,[i("article",$p,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Dp,d(r(n).summary.products.active),1),i("p",Lp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Up,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",Yp,d(l(r(n).summary.orders.revenue_today)),1),i("p",Xp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",Fp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",Gp,d(r(n).summary.customers.total),1),i("p",Vp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Hp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Bp,d(l(r(n).summary.orders.revenue_month)),1),i("p",Kp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),i("section",jp,[i("header",Jp,[i("h3",Wp,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",qp,d(p.value)+" / "+d(u.value.length),1)]),i("ul",zp,[(x(!0),P(Te,null,xe(u.value,E=>(x(),P("li",{key:E.id,class:Ie({"is-complete":E.completed})},[i("span",Qp,[E.completed?(x(),P("span",Zp)):(x(),P("span",e_))]),i("span",t_,d(r(o)(E.label,h(E.label))),1),E.link?(x(),P("a",{key:0,href:E.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",s_,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,n_)):_e("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),o_={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},a_={id:"nxp-ec-products-caption",class:"visually-hidden"},r_={scope:"col"},l_={scope:"col"},c_={scope:"col"},d_={scope:"col"},u_={scope:"col"},p_={scope:"col"},__={scope:"col"},f_={scope:"col"},m_={scope:"col",class:"nxp-ec-admin-table__actions"},h_={key:0},g_={colspan:"8",class:"nxp-ec-admin-table__empty"},E_=["data-label"],S_={class:"nxp-ec-admin-table__primary"},C_={class:"nxp-ec-products-table__title"},b_={class:"nxp-ec-products-table__slug"},A_={key:0,class:"nxp-ec-products-table__badge"},T_={class:"nxp-ec-status nxp-ec-status--featured"},y_=["data-label"],R_={key:0},O_={key:1},x_=["data-label"],v_=["data-label"],N_=["data-label"],P_={key:0},M_={key:1},I_=["data-label"],k_=["disabled","aria-pressed","title","aria-label","onClick"],w_={class:"nxp-ec-sr-only"},$_=["data-label"],D_={class:"nxp-ec-admin-table__actions"},L_=["onClick","title","aria-label"],U_={class:"nxp-ec-sr-only"},Y_=["onClick","title","aria-label"],X_={class:"nxp-ec-sr-only"},ri=1,Dn=-1,li=0,F_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,o=Ee(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,c=!1)=>{const E=Number(f);if(Number.isFinite(E))return E===Dn?Dn:E===li?li:ri;if(c)return Dn;if(typeof f=="string"){const M=f.trim().toLowerCase();if(M==="out_of_stock"||M==="out-of-stock"||M==="-1")return Dn;if(M==="inactive"||M==="0")return li}return ri},a=f=>{var Y;const c=n((Y=f==null?void 0:f.status)!=null?Y:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),E=c===ri,M=c===Dn;return{status:c,isActive:E,isOutOfStock:M,label:E?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):M?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:E?"nxp-ec-status--active":M?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:E?"fa-solid fa-circle-check":M?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},l=f=>{var $,U,k,F;const c=(U=($=f==null?void 0:f.summary)==null?void 0:$.variants)!=null?U:{};if(c.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const E=Number.isFinite(c.price_min_cents)?c.price_min_cents:null,M=Number.isFinite(c.price_max_cents)?c.price_max_cents:null;if(E===null)return"";const Y=c.currency||((F=(k=f==null?void 0:f.variants)==null?void 0:k[0])==null?void 0:F.currency)||o.value;return M===null||M===E?h(E,Y):`${h(E,Y)}  ${h(M,Y)}`},u=f=>{var M,Y;const c=(Y=(M=f==null?void 0:f.summary)==null?void 0:M.variants)!=null?Y:{},E=Number.isFinite(c.count)?c.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return E===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(E)])},p=f=>{if(!Array.isArray(f)||!f.length)return"";const c=f.map(Y=>(Y==null?void 0:Y.title)||(Y==null?void 0:Y.slug)).filter(Y=>!!Y);if(!c.length)return"";if(c.length<=3)return c.join(", ");const E=c.slice(0,3).join(", "),M=c.length-3;return`${E} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(M)])}`},h=(f,c)=>`${(f/100).toFixed(2)} ${c}`;return(f,c)=>(x(),P("table",o_,[i("caption",a_,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",r_,d(r(s)("JGRID_HEADING_ID","ID")),1),i("th",l_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",c_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",d_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",u_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",p_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",__,d(r(s)("JSTATUS","Status")),1),i("th",f_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",m_,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?_e("",!0):(x(),P("tr",h_,[i("td",g_,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(x(!0),P(Te,null,xe(e.items,E=>{var M,Y,$,U,k,F,K,H,L,y,te,le;return x(),P("tr",{key:E.id},[i("td",{"data-label":r(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},d(E.id),9,E_),i("td",S_,[i("div",C_,d(E.title),1),i("div",b_,d(E.slug),1),E.featured?(x(),P("div",A_,[i("span",T_,[c[0]||(c[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Pe(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):_e("",!0)]),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[l(E)?(x(),P("span",R_,d(l(E)),1)):(x(),P("span",O_,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,y_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},d(u(E)),9,x_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[i("span",{class:Ie(["nxp-ec-status",(Y=(M=E.summary)==null?void 0:M.variants)!=null&&Y.stock_zero?"nxp-ec-status--danger":(U=($=E.summary)==null?void 0:$.variants)!=null&&U.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(F=(k=E.summary)==null?void 0:k.variants)!=null&&F.stock_zero||((H=(K=E.summary)==null?void 0:K.variants)==null?void 0:H.stock_total)===0?(x(),P(Te,{key:0},[Pe(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(x(),P(Te,{key:1},[Pe(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((te=(y=(L=E.summary)==null?void 0:L.variants)==null?void 0:y.stock_total)!=null?te:0)])),1)],64))],2)],8,v_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(le=E.categories)!=null&&le.length?(x(),P("span",P_,d(p(E.categories)),1)):(x(),P("span",M_,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,N_),i("td",{"data-label":r(s)("JSTATUS","Status")},[i("button",{type:"button",class:Ie(["nxp-ec-status","nxp-ec-status-button",a(E).className]),disabled:e.saving,"aria-pressed":a(E).isActive?"true":"false",title:a(E).title,"aria-label":a(E).title,onClick:Se=>f.$emit("toggle-active",E)},[i("i",{class:Ie(a(E).icon),"aria-hidden":"true"},null,2),Pe(" "+d(a(E).label)+" ",1),i("span",w_,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,k_)],8,I_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},d(E.modified||E.created),9,$_),i("td",D_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Se=>f.$emit("edit",E),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",U_,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,L_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Se=>f.$emit("delete",E),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[c[2]||(c[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",X_,d(r(s)("JTRASH","Delete")),1)],8,Y_)])])}),128))])]))}},G_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},V_={class:"nxp-ec-modal__dialog"},H_={class:"nxp-ec-modal__header"},B_={class:"nxp-ec-modal__title"},K_={class:"nxp-ec-modal__header-actions"},j_=["disabled","title","aria-label"],J_={class:"nxp-ec-sr-only"},W_=["disabled","title","aria-label"],q_={class:"nxp-ec-sr-only"},z_=["aria-label"],Q_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Z_={class:"nxp-ec-form-field"},ef={class:"nxp-ec-form-label",for:"product-title"},tf={class:"nxp-ec-form-field"},nf={class:"nxp-ec-form-label",for:"product-slug"},sf=["placeholder"],of={class:"nxp-ec-form-field"},af={class:"nxp-ec-form-label",for:"product-short-desc"},rf={class:"nxp-ec-form-field"},lf={class:"nxp-ec-form-label",for:"product-long-desc"},cf={class:"nxp-ec-form-field"},df={class:"nxp-ec-form-label",for:"product-status"},uf={value:1},pf={value:-1},_f={value:0},ff={class:"nxp-ec-form-help"},mf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},hf={class:"nxp-ec-form-label",for:"product-featured"},gf={class:"nxp-ec-form-help"},Ef={class:"nxp-ec-form-field"},Sf={class:"nxp-ec-form-label",for:"product-images"},Cf={id:"product-images",class:"nxp-ec-image-list"},bf=["id","onUpdate:modelValue","placeholder"],Af={class:"nxp-ec-image-row__actions"},Tf=["onClick"],yf=["onClick","disabled"],Rf=["onClick","disabled"],Of=["onClick","aria-label"],xf={class:"nxp-ec-form-help"},vf={class:"nxp-ec-form-field"},Nf={class:"nxp-ec-form-label",for:"product-category-select"},Pf=["value"],Mf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},If=["onClick","aria-label"],kf={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},wf=["onKeydown","placeholder"],$f={class:"nxp-ec-form-help"},Df={class:"nxp-ec-variant-section"},Lf={class:"nxp-ec-variant-section__header"},Uf={class:"nxp-ec-variant-section__title"},Yf={class:"nxp-ec-form-help"},Xf={class:"nxp-ec-variant-card__header"},Ff={class:"nxp-ec-variant-card__title"},Gf=["onClick"],Vf=["onClick","disabled"],Hf={class:"nxp-ec-variant-card__grid"},Bf={class:"nxp-ec-form-field"},Kf=["for"],jf=["id","onUpdate:modelValue"],Jf={class:"nxp-ec-form-field"},Wf=["for"],qf=["id","onUpdate:modelValue","onBlur"],zf={class:"nxp-ec-form-field"},Qf=["for"],Zf=["id","onUpdate:modelValue"],em={class:"nxp-ec-form-field"},tm=["for"],nm=["id","onUpdate:modelValue"],sm={class:"nxp-ec-form-field nxp-ec-form-field--inline"},im=["for"],om=["id","onUpdate:modelValue"],am={class:"nxp-ec-variant-options"},rm={class:"nxp-ec-variant-options__header"},lm={class:"nxp-ec-variant-options__title"},cm=["onClick"],dm={class:"nxp-ec-form-help"},um=["id","onUpdate:modelValue","placeholder"],pm=["id","onUpdate:modelValue","placeholder"],_m=["onClick","aria-label"],fm={class:"nxp-ec-modal__actions"},mm=["disabled"],hm=["disabled"],sa="product-editor-form",gm=xt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ee(()=>(s.baseCurrency||"USD").toUpperCase()),l=g=>{var _,S,v,T,R,V,N,se;if(g==null)return null;if(typeof g=="string"){const re=g.trim();return re===""?null:{id:0,title:re,slug:""}}if(typeof g=="object"){const re=Number.parseInt((S=(_=g.id)!=null?_:g.value)!=null?S:0,10)||0,ue=(N=(V=(R=(T=(v=g.title)!=null?v:g.name)!=null?T:g.text)!=null?R:g.label)!=null?V:g.slug)!=null?N:"",Ce=String(ue!=null?ue:"").trim(),Oe=String((se=g.slug)!=null?se:"").trim(),we=g.parent_id!==null&&g.parent_id!==void 0&&Number.parseInt(g.parent_id,10)||null;return re<=0&&Ce===""?null:{id:re>0?re:0,title:Ce!==""?Ce:Oe,slug:Oe,parent_id:we}}return null},u=g=>{const _=Number(g);if(Number.isFinite(_))return _===-1?-1:_===0?0:1;if(typeof g=="string"){const S=g.trim().toLowerCase();if(S==="out_of_stock"||S==="out-of-stock"||S==="-1")return-1;if(S==="inactive"||S==="0")return 0}return 1},p=ke({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),h=He(""),f=He(!1),c=(g,_,S=new Set)=>{if(!g||S.has(g))return 0;S.add(g);const v=_.find(T=>T.id===g);return!v||!v.parent_id?0:1+c(v.parent_id,_,S)},E=g=>{if(!g)return"";const _=Array.isArray(s.categoryOptions)?s.categoryOptions:[],S=c(g.id,_);return S===0?g.title:"".repeat(S)+" "+g.title},M=Ee(()=>{const _=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(l).filter(R=>R&&R.id>0&&R.title!==""),S=new Map;_.forEach(R=>{S.set(R.id,R)}),p.categories.forEach(R=>{var V;R.id>0&&R.title&&!S.has(R.id)&&S.set(R.id,{id:R.id,title:R.title,slug:(V=R.slug)!=null?V:"",parent_id:R.parent_id!==null&&R.parent_id!==void 0?R.parent_id:null})});const v=Array.from(S.values()),T=(R=null,V=0)=>v.filter(N=>N.parent_id===R).sort((N,se)=>N.title.localeCompare(se.title)).flatMap(N=>[N,...T(N.id,V+1)]);return T()}),Y=Ee(()=>{const g=new Map;return M.value.forEach(_=>{var S;g.set(_.id,{title:_.title,slug:(S=_.slug)!=null?S:""})}),g}),$=Ee({get:()=>p.categories.filter(_=>_&&_.id>0).map(_=>_.id),set:g=>{const _=Array.isArray(g)?g:[],S=Array.from(new Set(_.map(R=>Number.parseInt(R!=null?R:0,10)||0).filter(R=>R>0))),v=p.categories.filter(R=>!(R.id>0)),T=S.map(R=>{const V=Y.value.get(R),N=p.categories.find(ue=>ue.id===R),se=(V==null?void 0:V.title)||(N==null?void 0:N.title)||"",re=(V==null?void 0:V.slug)||(N==null?void 0:N.slug)||"";return se===""?null:{id:R,title:se,slug:re}}).filter(R=>R!==null);p.categories.splice(0,p.categories.length,...T,...v)}}),U=Ee(()=>s.product&&s.product.id?"edit":"create"),k=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),F=()=>({name:"",value:""}),K=g=>g?g.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",H=()=>{f.value=!0,p.slug=K(p.slug)},L=g=>{const S=(Array.isArray(g)?g:[]).map(l).filter(R=>R&&(R.id>0||R.title!=="")),v=new Set,T=[];S.forEach(R=>{const V=R.id>0?`id:${R.id}`:`title:${R.title.toLowerCase()}`;v.has(V)||(v.add(V),T.push(R))}),p.categories.splice(0,p.categories.length,...T)},y=g=>{p.variants.splice(0,p.variants.length,...g)},te=g=>{p.images.splice(0,p.images.length,...g)},le=g=>Array.isArray(g)?g.map(_=>{var S,v,T;return{name:String((v=(S=_==null?void 0:_.name)!=null?S:_==null?void 0:_.key)!=null?v:"").trim(),value:String((T=_==null?void 0:_.value)!=null?T:"").trim()}}):g&&typeof g=="object"?Object.entries(g).map(([_,S])=>({name:String(_!=null?_:"").trim(),value:String(S!=null?S:"").trim()})):[],Se=g=>!Array.isArray(g)||g.length===0?[k()]:g.map(_=>{var S,v,T,R;return{id:Number.parseInt((S=_==null?void 0:_.id)!=null?S:0,10)||0,sku:String((v=_==null?void 0:_.sku)!=null?v:"").trim(),price:(_==null?void 0:_.price)!=null?String(_.price):Number.isFinite(_==null?void 0:_.price_cents)?(_.price_cents/100).toFixed(2):"",currency:String((T=_==null?void 0:_.currency)!=null?T:a.value).toUpperCase(),stock:Number.parseInt((R=_==null?void 0:_.stock)!=null?R:0,10)||0,weight:(_==null?void 0:_.weight)!=null?String(_.weight):"",active:(_==null?void 0:_.active)!==void 0?!!_.active:!0,options:le(_==null?void 0:_.options)}}),W=g=>{var T,R,V,N;const _=g?JSON.parse(JSON.stringify(g)):{};p.title=(T=_.title)!=null?T:"",p.slug=(R=_.slug)!=null?R:"",p.short_desc=(V=_.short_desc)!=null?V:"",p.long_desc=(N=_.long_desc)!=null?N:"",p.status=u(_.status!==void 0?_.status:_.active),p.featured=_.featured!==void 0?!!_.featured:!1;const S=Array.isArray(_.images)?_.images.map(se=>String(se!=null?se:"").trim()).filter(Boolean):[];te(S);const v=Array.isArray(_.categories)?_.categories:[];L(v),h.value="",y(Se(_.variants)),f.value=!!p.slug};Xe(()=>s.product,g=>{W(g)},{immediate:!0}),Xe(()=>p.title,g=>{f.value||(p.slug=K(g))}),Xe(a,g=>{p.variants.forEach(_=>{_.currency=g})});const J=()=>{const g=h.value.trim();if(!g)return;const _=g.toLowerCase(),S=p.categories.slice();S.some(T=>T.title.toLowerCase()===_)||(S.push({id:0,title:g,slug:""}),p.categories.splice(0,p.categories.length,...S)),h.value=""},q=g=>{if(g<0||g>=p.categories.length)return;const _=p.categories.slice();_.splice(g,1),p.categories.splice(0,p.categories.length,..._)},j=()=>{p.variants.push(k())},ie=g=>{p.variants.length<=1||p.variants.splice(g,1)},he=g=>{const _=p.variants[g];_&&(Array.isArray(_.options)||(_.options=[]),_.options.push(F()))},fe=(g,_)=>{const S=p.variants[g];!S||!Array.isArray(S.options)||S.options.splice(_,1)},ee=(g,_)=>`${g.id||"new"}-${_}`,oe=g=>{const _=p.variants[g];if(!_)return;const S=JSON.parse(JSON.stringify(_));S.id=0,S.sku=[S.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),S.active=!0,p.variants.splice(g+1,0,S)},ne=g=>{const _=p.variants[g];if(!_)return;const S=Number.parseFloat(_.price);Number.isNaN(S)||(_.price=S.toFixed(2))};let pe=null,G=null,z=null,Q=null,ce="";const ge=()=>{Array.isArray(p.images)||(p.images=[])},me=g=>{var T,R,V;if(!g)return"";let _=String(g).trim();if(_==="")return"";try{const N=(V=(R=(T=window.Joomla)==null?void 0:T.getOptions)==null?void 0:R.call(T,"system.paths",{}))!=null?V:{},se=N.rootFull||window.location.origin,re=N.root||"/";_.startsWith(se)&&(_=_.substring(se.length)),_.startsWith(re)&&(_=_.substring(re.length))}catch(N){}const S=_.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);S&&S[1]&&(_=S[1]);const v=_.indexOf("#joomlaImage://");return v!==-1&&(_=_.substring(0,v)),_.trim()},be=(g,{keepIndex:_=!1,appendWhenNoIndex:S=!1,targetIndex:v=null}={})=>{const T=me(g);if(T==="")return!1;ge();const R=v!==null&&v>=0?v:Q;return R==null||Number.isNaN(R)?S?(p.images.push(T),_||(Q=null,ce=""),!0):!1:(R>=p.images.length?p.images.push(T):p.images[R]=T,ce=_?T:"",_||(Q=null,ce=""),!0)},Me=()=>{ge(),p.images.push("")},w=g=>{ge(),p.images.splice(g,1)},O=(g,_)=>{ge();const S=p.images[g];if(S===void 0)return;const v=g+_;v<0||v>=p.images.length||(p.images.splice(g,1),p.images.splice(v,0,S))},I=g=>{var v;ge();const _=(v=p.images[g])!=null?v:"";if(typeof window=="undefined")return;const S=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),_);be(S!=null?S:"",{targetIndex:g})},m=()=>{var R,V,N,se,re,ue;const g=(s.mediaModalUrl||"").trim();if(g!=="")return g;const _=(N=(V=(R=window.Joomla)==null?void 0:R.getOptions)==null?void 0:V.call(R,"media-picker",{}))!=null?N:{};if(_.modalUrl)return _.modalUrl;const S=(ue=(re=(se=window.Joomla)==null?void 0:se.getOptions)==null?void 0:re.call(se,"system.paths",{}))!=null?ue:{},v=S.rootFull||S.root||"";return(v?v.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},A=async()=>{var N,se,re,ue,Ce,Oe,we,Ke,rt;if(pe)return pe;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(We){return null}const g=(re=(se=(N=window.Joomla)==null?void 0:N.getOptions)==null?void 0:se.call(N,"system.paths",{}))!=null?re:{},_=g.rootFull||g.root||"",S=(Oe=(Ce=(ue=window.Joomla)==null?void 0:ue.getOptions)==null?void 0:Ce.call(ue,"com_media",{}))!=null?Oe:{},v=(S==null?void 0:S.file_path)||"images",T=(rt=(Ke=(we=window.Joomla)==null?void 0:we.getOptions)==null?void 0:Ke.call(we,"media-picker",{}))!=null?rt:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},V=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return G=document.createElement("div"),G.className="nxp-ec-media-picker-host",G.style.display="none",G.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${_.replace(/"/g,"&quot;")}"
            root-folder="${v.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${V}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(T).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(G),pe=G.querySelector("joomla-field-media"),z=G.querySelector(".nxp-ec-media-field__input"),pe.addEventListener("change",We=>{var lt,Pt,fn,mn,Es,Qt;const Fe=(fn=(Pt=(lt=We.detail)==null?void 0:lt.value)!=null?Pt:z==null?void 0:z.value)!=null?fn:"";let Ye=me(Fe);if(Ye===""&&ce!==""&&(Ye=ce),Ye===""&&((mn=window.Joomla)!=null&&mn.selectedMediaFile)){const Ss=me((Es=window.Joomla.selectedMediaFile.url)!=null?Es:""),ui=me((Qt=window.Joomla.selectedMediaFile.path)!=null?Qt:"");Ye=Ss||ui}be(Ye)}),pe.addEventListener("joomla-dialog:close",()=>{Q=null,ce=""}),z&&z.addEventListener("change",()=>{var Fe,Ye,lt,Pt;if(Q===null)return;let We=me((Fe=z.value)!=null?Fe:"");if(We===""&&ce!==""&&(We=ce),We===""&&((Ye=window.Joomla)!=null&&Ye.selectedMediaFile)){const fn=me((lt=window.Joomla.selectedMediaFile.url)!=null?lt:""),mn=me((Pt=window.Joomla.selectedMediaFile.path)!=null?Pt:"");We=fn||mn}We!==""&&be(We)}),pe},B=g=>{var R,V;const _=g==null?void 0:g.detail;if(!_||typeof _!="object")return;const S=me((R=_.path)!=null?R:""),T=me((V=_.url)!=null?V:"")||S;T===""||Q===null||(ce=T,be(T,{keepIndex:!0}))};it(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",B)});const b=async g=>{var v;ge();const _=await A();if(!_||typeof _.show!="function"){I(g);return}Q=g,_.setAttribute("url",m());const S=(v=p.images[g])!=null?v:"";typeof _.setValue=="function"?_.setValue(S):z&&(z.value=S);try{_.show()}catch(T){Q=null,ce="",I(g)}};so(()=>{G&&G.parentNode&&G.parentNode.removeChild(G),pe=null,G=null,z=null,Q=null,ce="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",B)});const C=()=>{var R,V;ge();const g=Array.from(new Set(p.images.map(N=>String(N!=null?N:"").trim()).filter(N=>N!==""))),_=p.categories.map(N=>{var Ce,Oe,we;const se=Number.parseInt((Ce=N==null?void 0:N.id)!=null?Ce:0,10)||0,re=String((Oe=N==null?void 0:N.title)!=null?Oe:"").trim(),ue=String((we=N==null?void 0:N.slug)!=null?we:"").trim();return se>0?{id:se,title:re,slug:ue}:re===""?null:{id:0,title:re,slug:""}}).filter(N=>N!==null),S=p.variants.map(N=>{const se=Array.isArray(N.options)?N.options.map(Ce=>{var Oe,we;return{name:String((Oe=Ce==null?void 0:Ce.name)!=null?Oe:"").trim(),value:String((we=Ce==null?void 0:Ce.value)!=null?we:"").trim()}}).filter(Ce=>Ce.name!==""&&Ce.value!==""):[],re=Number.isFinite(Number(N.stock))?Math.max(0,parseInt(N.stock,10)):0,ue=N.weight!==null&&N.weight!==""?String(N.weight).trim():null;return{id:N.id||0,sku:N.sku.trim(),price:N.price!==null&&N.price!==void 0?String(N.price).trim():"",currency:N.currency?String(N.currency).trim().toUpperCase():a.value,stock:re,weight:ue,active:!!N.active,options:se}}),v=u(p.status),T={title:p.title.trim(),slug:p.slug.trim(),short_desc:(R=p.short_desc)!=null?R:"",long_desc:(V=p.long_desc)!=null?V:"",status:v,active:v,featured:!!p.featured,images:g,categories:_,variants:S};o("submit",T)},D=()=>{o("cancel")};return Xe(()=>s.saving,(g,_)=>{_&&!g&&s.errors.length===0&&U.value==="create"&&(W(null),h.value="",f.value=!1)}),(g,_)=>e.open?(x(),P("div",G_,[_[10]||(_[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",V_,[i("header",H_,[i("h2",B_,d(U.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",K_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:D,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[_[8]||(_[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",J_,d(r(n)("JCANCEL","Cancel")),1)],8,j_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:sa,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[i("i",{class:Ie(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",q_,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,W_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:D,"aria-label":r(n)("JCLOSE","Close")},"  ",8,z_)])]),i("form",{id:sa,class:"nxp-ec-form",onSubmit:gt(C,["prevent"])},[e.errors.length?(x(),P("div",Q_,[(x(!0),P(Te,null,xe(e.errors,(S,v)=>(x(),P("p",{key:v},d(S),1))),128))])):_e("",!0),i("div",Z_,[i("label",ef,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),Z(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[0]||(_[0]=S=>p.title=S),required:""},null,512),[[de,p.title,void 0,{trim:!0}]])]),i("div",tf,[i("label",nf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),Z(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[1]||(_[1]=S=>p.slug=S),onInput:H,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,sf),[[de,p.slug,void 0,{trim:!0}]])]),i("div",of,[i("label",af,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),Z(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":_[2]||(_[2]=S=>p.short_desc=S)},null,512),[[de,p.short_desc]])]),i("div",rf,[i("label",lf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),Z(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":_[3]||(_[3]=S=>p.long_desc=S)},null,512),[[de,p.long_desc]])]),i("div",cf,[i("label",df,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),Z(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":_[4]||(_[4]=S=>p.status=S)},[i("option",uf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",pf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",_f,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[ht,p.status,void 0,{number:!0}]]),i("p",ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",mf,[i("label",hf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),Z(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":_[5]||(_[5]=S=>p.featured=S)},null,512),[[_t,p.featured]]),i("p",gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",Ef,[i("label",Sf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",Cf,[(x(!0),P(Te,null,xe(p.images,(S,v)=>(x(),P("div",{key:`product-image-${v}`,class:"nxp-ec-image-row"},[Z(i("input",{id:`product-image-${v}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":T=>p.images[v]=T,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,bf),[[de,p.images[v],void 0,{trim:!0}]]),i("div",Af,[i("button",{type:"button",class:"nxp-ec-btn",onClick:T=>b(v)},[_[9]||(_[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,Tf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>O(v,-1),disabled:v===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,yf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>O(v,1),disabled:v===p.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,Rf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:T=>w(v),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Of)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:Me},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",xf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",vf,[i("label",Nf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),Z(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":_[6]||(_[6]=S=>$.value=S)},[(x(!0),P(Te,null,xe(M.value,S=>(x(),P("option",{key:S.id,value:S.id},d(E(S)),9,Pf))),128))],512),[[ht,$.value]]),i("div",Mf,[(x(!0),P(Te,null,xe(p.categories,(S,v)=>(x(),P("span",{key:`selected-category-${v}`,class:"nxp-ec-chip"},[Pe(d(S.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:T=>q(v),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,If)]))),128))]),i("div",kf,[Z(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":_[7]||(_[7]=S=>h.value=S),onKeydown:zt(gt(J,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,wf),[[de,h.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:J},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",$f,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",Df,[i("header",Lf,[i("h3",Uf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:j},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",Yf,[Pe(d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),a.value?(x(),P(Te,{key:0},[Pe(" ("+d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[a.value]))+") ",1)],64)):_e("",!0)]),(x(!0),P(Te,null,xe(p.variants,(S,v)=>(x(),P("article",{key:ee(S,v),class:"nxp-ec-variant-card"},[i("header",Xf,[i("h4",Ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(v+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>oe(v)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Gf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:T=>ie(v),disabled:p.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,Vf)]),i("div",Hf,[i("div",Bf,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${v}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Kf),Z(i("input",{id:`variant-sku-${v}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":T=>S.sku=T,required:""},null,8,jf),[[de,S.sku,void 0,{trim:!0}]])]),i("div",Jf,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${v}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Wf),Z(i("input",{id:`variant-price-${v}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":T=>S.price=T,onBlur:T=>ne(v),required:""},null,40,qf),[[de,S.price,void 0,{trim:!0}]])]),i("div",zf,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${v}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Qf),Z(i("input",{id:`variant-stock-${v}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":T=>S.stock=T},null,8,Zf),[[de,S.stock,void 0,{number:!0}]])]),i("div",em,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${v}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,tm),Z(i("input",{id:`variant-weight-${v}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":T=>S.weight=T},null,8,nm),[[de,S.weight,void 0,{trim:!0}]])]),i("div",sm,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${v}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,im),Z(i("input",{id:`variant-active-${v}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":T=>S.active=T},null,8,om),[[_t,S.active]])])]),i("section",am,[i("header",rm,[i("h5",lm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>he(v)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,cm)]),i("p",dm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(x(!0),P(Te,null,xe(S.options,(T,R)=>(x(),P("div",{key:`variant-${v}-option-${R}`,class:"nxp-ec-variant-option-row"},[Z(i("input",{id:`variant-${v}-option-name-${R}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":V=>T.name=V,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,um),[[de,T.name,void 0,{trim:!0}]]),Z(i("input",{id:`variant-${v}-option-value-${R}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":V=>T.value=V,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,pm),[[de,T.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:V=>fe(v,R),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,_m)]))),128))])]))),128))]),i("footer",fm,[i("button",{type:"button",class:"nxp-ec-btn",onClick:D,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,mm),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,hm)])],32)])])):_e("",!0)}},[["__scopeId","data-v-ecc75f68"]]),Em={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Sm={key:1,class:"nxp-ec-skeleton__table"},Cm={key:2,class:"nxp-ec-skeleton__card"},bm={key:3,class:"nxp-ec-skeleton__circle"};function Am(e,t,s,o,n,a){return x(),P("div",{class:Ie(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(x(),P("div",{key:0,class:"nxp-ec-skeleton__line",style:Gt({width:s.width})},null,4)):s.type==="table"?(x(),P("div",Sm,[(x(!0),P(Te,null,xe(s.rows,l=>(x(),P("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(x(!0),P(Te,null,xe(s.columns,u=>(x(),P("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(x(),P("div",Cm,[...t[0]||(t[0]=[Mu('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(x(),P("div",bm)):(x(),P("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Gt({width:s.width,height:s.height})},null,4))],2)}const Ln=xt(Em,[["render",Am],["__scopeId","data-v-c8b9a887"]]),Tm={class:"nxp-ec-admin-panel"},ym={class:"nxp-ec-admin-panel__header"},Rm={class:"nxp-ec-admin-panel__title"},Om={class:"nxp-ec-admin-panel__lead"},xm={class:"nxp-ec-admin-panel__actions"},vm=["placeholder","aria-label"],Nm=["disabled","title","aria-label"],Pm={class:"nxp-ec-sr-only"},Mm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Im={key:1,class:"nxp-ec-admin-panel__body"},km={key:2,class:"nxp-ec-admin-panel__body"},wm=["title"],Un=1,_n=-1,ms=0,$m={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=ke({mode:"create",product:null}),l=He(!1),u=Ee(()=>(s.baseCurrency||"USD").toUpperCase()),p=Ee(()=>a.product),h=Ee(()=>(s.mediaModalUrl||"").trim()),f=(L,y=!1)=>{const te=Number(L);if(Number.isFinite(te))return te===_n?_n:te===ms?ms:Un;if(y)return _n;if(typeof L=="string"){const le=L.trim().toLowerCase();if(le==="out_of_stock"||le==="out-of-stock"||le==="-1")return _n;if(le==="inactive"||le==="0")return ms}return Un},c=(L,y=!1)=>{const te=f(L,y);return te===Un?_n:te===_n?ms:Un},E=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",status:Un,active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},M=L=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(L)),l.value=!0},Y=()=>{l.value=!1,s.state.validationErrors=[]},$=async L=>{var le,Se;const y=f((le=L.status)!=null?le:L.active,L.out_of_stock),te={...L,status:y,active:y,featured:L.featured?1:0};a.mode==="edit"&&((Se=a.product)!=null&&Se.id)?o("update",{id:a.product.id,data:te}):o("create",te)},U=async L=>{var le;const y=(le=L==null?void 0:L.title)!=null?le:"",te=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[y||"#"]);window.confirm(te)&&o("delete",[L.id])},k=L=>{var q;if(!(L!=null&&L.id)||s.state.saving)return;const y=c((q=L.status)!=null?q:L.active,L.out_of_stock),te=j=>j==null?"":String(j),le=(j,ie=0)=>{const he=Number(j);return Number.isFinite(he)?he:ie},Se=Array.isArray(L.variants)?L.variants.map(j=>{var ne,pe;if(!j)return null;const ie=te(j.sku).trim();if(!ie)return null;let he=le(j.price_cents,Number.NaN);if(!Number.isFinite(he)){const G=te(j.price),z=G?Number.parseFloat(G):NaN;he=Number.isFinite(z)?Math.round(z*100):NaN}if(!Number.isFinite(he))return null;const fe=te((ne=j.currency)!=null?ne:u.value).trim().toUpperCase();if(!fe)return null;const ee=(pe=j.options)!=null?pe:null,oe=Math.max(0,Math.round(le(j.stock,0)));return{id:le(j.id,0),sku:ie,price_cents:Math.round(he),currency:fe,stock:oe,options:ee!=null?ee:null,weight:j.weight!==null&&j.weight!==void 0&&j.weight!==""?String(j.weight):null,active:j.active===void 0?!0:!!j.active}}).filter(Boolean):[];if(!Se.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const W=Array.isArray(L.categories)?L.categories.map(j=>{if(j==null)return null;if(typeof j=="number")return j>0?{id:j,title:"",slug:""}:null;if(typeof j=="string"&&j.trim()!==""&&Number.isFinite(Number(j))){const he=Number(j);return he>0?{id:he,title:"",slug:""}:null}if(typeof j=="object"){if(j.id){const fe=le(j.id,0);return fe>0?{id:fe,title:"",slug:""}:null}return le(j.id,0)<=0&&!j.title?null:{id:0,title:te(j.title),slug:te(j.slug)}}const ie=te(j).trim();return ie?{id:0,title:ie,slug:""}:null}).filter(Boolean):[],J=Array.isArray(L.images)?L.images.map(j=>te(j).trim()).map(j=>{var ee,oe,ne;let ie=j;if(!ie)return"";const he=ie.indexOf("#joomlaImage://");he!==-1&&(ie=ie.substring(0,he));const fe=ie.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(fe&&fe[1]&&(ie=fe[1]),typeof window!="undefined")try{const pe=(ne=(oe=(ee=window.Joomla)==null?void 0:ee.getOptions)==null?void 0:oe.call(ee,"system.paths",{}))!=null?ne:{},G=pe.rootFull||window.location.origin,z=pe.root||"/";ie.startsWith(G)&&(ie=ie.substring(G.length)),ie.startsWith(z)&&(ie=ie.substring(z.length))}catch(pe){}return ie.trim()}).filter(j=>j!==""):[];s.state.error="",o("update",{id:L.id,data:{title:te(L.title),slug:te(L.slug),short_desc:te(L.short_desc),long_desc:te(L.long_desc),status:y,active:y,featured:L.featured?1:0,images:J,variants:Se,categories:W}})},F=()=>{o("refresh")},K=()=>{o("search")},H=L=>{if(!L)return"";try{const y=new Date(L),le=new Date-y,Se=Math.floor(le/1e3),W=Math.floor(Se/60),J=Math.floor(W/60);return Se<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):W<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[W]):J<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[J]):y.toLocaleString()}catch(y){return L}};return Xe(()=>s.state.saving,(L,y)=>{y&&!L&&l.value&&!s.state.validationErrors.length&&!s.state.error&&Y()}),(L,y)=>(x(),P("section",Tm,[i("header",ym,[i("div",null,[i("h2",Rm,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",Om,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",xm,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":y[0]||(y[0]=te=>e.state.search=te),onKeyup:zt(K,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,vm),[[de,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:F,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[y[1]||(y[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Pm,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,Nm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:E},[y[2]||(y[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(x(),P("div",Mm,d(e.state.error),1)):_e("",!0),e.state.loading?(x(),P("div",Im,[Be(Ln,{type:"table",rows:5,columns:5})])):_e("",!0),e.state.loading?_e("",!0):(x(),P("div",km,[Be(F_,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:M,onDelete:U,onToggleActive:k},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(x(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(H(e.state.lastUpdated)),9,wm)):_e("",!0)])),Be(gm,{open:l.value,product:p.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":h.value,onSubmit:$,onCancel:Y},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Dm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Lm={class:"nxp-ec-admin-panel__header"},Um={class:"nxp-ec-admin-panel__title"},Ym={class:"nxp-ec-admin-panel__lead"},Xm={class:"nxp-ec-admin-panel__actions"},Fm=["placeholder","aria-label"],Gm=["disabled","title","aria-label"],Vm={class:"nxp-ec-sr-only"},Hm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Bm={key:1,class:"nxp-ec-admin-panel__body"},Km={key:2,class:"nxp-ec-admin-panel__body"},jm={class:"nxp-ec-admin-panel__table"},Jm={class:"nxp-ec-admin-table"},Wm={scope:"col"},qm={scope:"col"},zm={scope:"col"},Qm={scope:"col"},Zm={scope:"col"},eh={key:0},th={colspan:"6"},nh={scope:"row",class:"nxp-ec-admin-table__primary"},sh=["data-label"],ih=["data-label"],oh=["data-label"],ah=["data-label"],rh={class:"nxp-ec-admin-table__actions"},lh=["onClick","title","aria-label"],ch={class:"nxp-ec-sr-only"},dh=["disabled","onClick","title","aria-label"],uh={class:"nxp-ec-sr-only"},ph={key:0,class:"nxp-ec-admin-pagination"},_h=["disabled"],fh={class:"nxp-ec-admin-pagination__status"},mh=["disabled"],hh=["title"],gh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Eh={class:"nxp-ec-modal__dialog"},Sh={class:"nxp-ec-modal__header"},Ch={class:"nxp-ec-modal__title"},bh=["title","aria-label"],Ah={class:"nxp-ec-sr-only"},Th={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},yh={class:"nxp-ec-form-field"},Rh={class:"nxp-ec-form-label",for:"category-title"},Oh={class:"nxp-ec-form-field"},xh={class:"nxp-ec-form-label",for:"category-slug"},vh={class:"nxp-ec-form-field"},Nh={class:"nxp-ec-form-label",for:"category-parent"},Ph={value:""},Mh=["value"],Ih={class:"nxp-ec-form-field"},kh={class:"nxp-ec-form-label",for:"category-sort"},wh={class:"nxp-ec-modal__actions"},$h=["disabled"],Dh={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=He(!1),l=He(!1),u=He([]),p=W=>{const q=(Array.isArray(W)?W:[]).map(G=>{var z,Q,ce,ge,me;return{...G,id:Number.parseInt((z=G==null?void 0:G.id)!=null?z:0,10)||0,parent_id:(G==null?void 0:G.parent_id)!=null&&Number.parseInt(G.parent_id,10)||0,sort:Number.parseInt((Q=G==null?void 0:G.sort)!=null?Q:0,10)||0,title:String((ce=G==null?void 0:G.title)!=null?ce:"").trim(),slug:String((ge=G==null?void 0:G.slug)!=null?ge:"").trim(),usage:(me=G==null?void 0:G.usage)!=null?me:0}}).filter(G=>G.id>0||G.title!==""),j=new Set(q.map(G=>G.id));q.forEach(G=>{j.has(G.parent_id)||(G.parent_id=0)});const ie=new Map,he=new Map;q.forEach(G=>{he.set(G.id,G);const z=G.parent_id||0;ie.has(z)||ie.set(z,[]),ie.get(z).push(G)});const fe=G=>G.sort((z,Q)=>{var ce,ge;return((ce=z.sort)!=null?ce:0)-((ge=Q.sort)!=null?ge:0)||z.title.localeCompare(Q.title,void 0,{sensitivity:"base"})});ie.forEach(fe);const ee=new Set,oe=[],ne=(G,z,Q)=>{if(!G||ee.has(G.id)||Q.includes(G.id))return;const ce=[...Q],ge=ce.map(Me=>{var w;return(w=he.get(Me))==null?void 0:w.title}).filter(Boolean),me={...G,depth:z,path:ge.join(" / "),ancestors:ce,indentedTitle:z>0?`${" ".repeat(z)}${G.title}`:G.title};oe.push(me),ee.add(G.id),(ie.get(G.id)||[]).forEach(Me=>ne(Me,z+1,[...Q,G.id]))},pe=q.filter(G=>G.parent_id===0||!j.has(G.parent_id));return fe(pe),pe.forEach(G=>ne(G,0,[])),q.forEach(G=>{ee.has(G.id)||ne(G,0,[])}),oe},h=Ee(()=>{var W,J;return p((J=(W=s.state)==null?void 0:W.items)!=null?J:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),c=ke(f()),E=Ee(()=>{var J,q;const W=(q=Array.isArray(u.value)&&u.value.length?u.value:(J=s.state)==null?void 0:J.items)!=null?q:[];return p(W).filter(j=>j.id>0&&j.id!==c.id&&!(Array.isArray(j.ancestors)&&j.ancestors.includes(c.id))).map(j=>({id:j.id,title:j.title,label:j.depth>0?`${" ".repeat(j.depth)}${j.title}`:j.title}))}),M=()=>{Object.assign(c,f()),l.value=!1},Y=W=>W?W.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",$=()=>{l.value=!0,c.slug=Y(c.slug)};Xe(()=>c.title,W=>{l.value||(c.slug=Y(W))});const U=async(W=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const J=await s.loadOptions();u.value=Array.isArray(J)?[...J]:[]}catch(J){u.value=[]}u.value=u.value.filter(J=>{var j,ie;return(Number.parseInt((ie=(j=J==null?void 0:J.id)!=null?j:J==null?void 0:J.value)!=null?ie:0,10)||0)!==W})},k=async()=>{M(),await U(),a.value=!0},F=async W=>{var J,q,j,ie;W&&(c.id=Number.parseInt((J=W.id)!=null?J:0,10)||0,c.title=String((q=W.title)!=null?q:"").trim(),c.slug=String((j=W.slug)!=null?j:"").trim(),c.parent_id=W.parent_id!=null&&Number.parseInt(W.parent_id,10)||null,c.sort=Number.parseInt((ie=W.sort)!=null?ie:0,10)||0,l.value=!!c.slug,await U(c.id),a.value=!0)},K=()=>{a.value=!1,M()},H=()=>{o("refresh")},L=()=>{o("search")},y=W=>{o("page",W)},te=()=>{const W={id:c.id||void 0,title:c.title.trim(),slug:c.slug.trim(),parent_id:c.parent_id||null,sort:Number.isFinite(c.sort)?c.sort:0};o("save",W)},le=W=>{if(!W||!W.id)return;const J=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(J)||o("delete",[W.id])},Se=W=>{if(!W)return"";try{const J=new Date(W),j=new Date-J,ie=Math.floor(j/1e3),he=Math.floor(ie/60),fe=Math.floor(he/60);return ie<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):he<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[he]):fe<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[fe]):J.toLocaleString()}catch(J){return W}};return Xe(()=>{var W;return(W=s.state)==null?void 0:W.saving},(W,J)=>{var q,j,ie;J&&!W&&(((j=(q=s.state)==null?void 0:q.validationErrors)!=null?j:[]).length>0||(ie=s.state)!=null&&ie.error||(a.value=!1,M()))}),(W,J)=>(x(),P("section",Dm,[i("header",Lm,[i("div",null,[i("h2",Um,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",Ym,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",Xm,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":J[0]||(J[0]=q=>e.state.search=q),onKeyup:zt(L,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Fm),[[de,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:H,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[J[7]||(J[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Vm,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Gm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:k},[J[8]||(J[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(x(),P("div",Hm,d(e.state.error),1)):_e("",!0),e.state.loading?(x(),P("div",Bm,[Be(Ln,{type:"table",rows:5,columns:5})])):_e("",!0),e.state.loading?_e("",!0):(x(),P("div",Km,[i("div",jm,[i("table",Jm,[i("thead",null,[i("tr",null,[i("th",Wm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",qm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Qm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),J[9]||(J[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?_e("",!0):(x(),P("tr",eh,[i("td",th,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(x(!0),P(Te,null,xe(h.value,q=>{var j;return x(),P("tr",{key:q.id,class:Ie({"is-active":c.id===q.id})},[i("th",nh,[i("span",{style:Gt({paddingLeft:`${q.depth*1.5}rem`})},d(q.indentedTitle),5)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},d(q.slug||""),9,sh),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},d(q.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,ih),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},d(q.sort),9,oh),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},d((j=q.usage)!=null?j:0),9,ah),i("td",rh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ie=>F(q),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[J[10]||(J[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",ch,d(r(n)("JEDIT","Edit")),1)],8,lh),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:ie=>le(q),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[J[11]||(J[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",uh,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,dh)])],2)}),128))])]),e.state.pagination.pages>1?(x(),P("div",ph,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:J[1]||(J[1]=q=>y(e.state.pagination.current-1))},"  ",8,_h),i("span",fh,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:J[2]||(J[2]=q=>y(e.state.pagination.current+1))},"  ",8,mh)])):_e("",!0)]),e.state.lastUpdated?(x(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(Se(e.state.lastUpdated)),9,hh)):_e("",!0),a.value?(x(),P("div",gh,[i("div",{class:"nxp-ec-modal__backdrop",onClick:K}),i("div",Eh,[i("header",Sh,[i("h3",Ch,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:K,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[J[12]||(J[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Ah,d(r(n)("JCLOSE","Close")),1)],8,bh)]),i("form",{class:"nxp-ec-form",onSubmit:gt(te,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(x(),P("div",Th,[i("ul",null,[(x(!0),P(Te,null,xe(e.state.validationErrors,(q,j)=>(x(),P("li",{key:j},d(q),1))),128))])])):_e("",!0),i("div",yh,[i("label",Rh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),Z(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":J[3]||(J[3]=q=>c.title=q),required:"",maxlength:"255"},null,512),[[de,c.title,void 0,{trim:!0}]])]),i("div",Oh,[i("label",xh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),Z(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":J[4]||(J[4]=q=>c.slug=q),maxlength:"190",onInput:$},null,544),[[de,c.slug,void 0,{trim:!0}]])]),i("div",vh,[i("label",Nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),Z(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":J[5]||(J[5]=q=>c.parent_id=q)},[i("option",Ph,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(x(!0),P(Te,null,xe(E.value,q=>(x(),P("option",{key:q.id,value:q.id},d(q.label),9,Mh))),128))],512),[[ht,c.parent_id,void 0,{number:!0}]])]),i("div",Ih,[i("label",kh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),Z(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":J[6]||(J[6]=q=>c.sort=q),min:"0",step:"1"},null,512),[[de,c.sort,void 0,{number:!0}]])]),i("footer",wh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[J[13]||(J[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,$h),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:K},[J[14]||(J[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):_e("",!0)]))]))}},Lh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Uh={class:"nxp-ec-admin-panel__header"},Yh={class:"nxp-ec-admin-panel__title"},Xh={class:"nxp-ec-admin-panel__lead"},Fh={class:"nxp-ec-admin-panel__actions"},Gh=["placeholder","aria-label"],Vh=["aria-label"],Hh={value:""},Bh=["value"],Kh=["disabled","title","aria-label"],jh={class:"nxp-ec-sr-only"},Jh=["disabled","title","aria-label"],Wh={class:"nxp-ec-sr-only"},qh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},zh={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Qh={key:2,class:"nxp-ec-admin-panel__body"},Zh={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},eg={class:"nxp-ec-admin-panel__table"},tg={key:0,class:"nxp-ec-admin-panel__selection"},ng=["aria-label"],sg={value:""},ig=["value"],og=["disabled"],ag=["title","aria-label"],rg={class:"nxp-ec-sr-only"},lg={class:"nxp-ec-admin-table"},cg={scope:"col",class:"nxp-ec-admin-table__select"},dg={scope:"col"},ug={scope:"col"},pg={scope:"col"},_g={scope:"col"},fg={scope:"col"},mg={scope:"col",class:"nxp-ec-admin-table__actions"},hg={key:0},gg={colspan:"7"},Eg={class:"nxp-ec-admin-table__select"},Sg=["checked","onChange","aria-label"],Cg={scope:"row",class:"nxp-ec-admin-table__primary"},bg=["onClick"],Ag=["data-label"],Tg={class:"nxp-ec-admin-table__meta"},yg=["data-label"],Rg=["data-label"],Og={class:"nxp-ec-badge"},xg=["title"],vg=["data-label"],Ng={class:"nxp-ec-admin-table__actions"},Pg=["onUpdate:modelValue","aria-label"],Mg=["value"],Ig=["value"],kg=["disabled","onClick"],wg={key:1,class:"nxp-ec-admin-pagination"},$g=["disabled"],Dg={class:"nxp-ec-admin-pagination__status"},Lg=["disabled"],Ug=["title"],Yg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Xg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Fg={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Gg={class:"nxp-ec-admin-panel__sidebar-header"},Vg=["title","aria-label"],Hg={class:"nxp-ec-sr-only"},Bg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Kg={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},jg={key:2,class:"nxp-ec-admin-panel__section"},Jg={class:"nxp-ec-admin-copy"},Wg=["value"],qg=["disabled"],zg={key:0,class:"nxp-ec-admin-panel__muted"},Qg={class:"nxp-ec-admin-copy"},Zg=["disabled"],eE={key:0,class:"nxp-ec-admin-panel__muted"},tE={class:"nxp-ec-admin-panel__section"},nE={class:"nxp-ec-admin-list"},sE={class:"nxp-ec-admin-list__title"},iE={class:"nxp-ec-admin-list__meta"},oE={class:"nxp-ec-admin-panel__section"},aE={class:"nxp-ec-admin-panel__total"},rE={class:"nxp-ec-admin-panel__section"},lE={class:"nxp-ec-admin-address"},cE={class:"nxp-ec-admin-panel__section"},dE={key:0,class:"nxp-ec-admin-address"},uE={key:1,class:"nxp-ec-admin-panel__muted"},pE={class:"nxp-ec-admin-panel__section"},_E={class:"nxp-ec-form-field"},fE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},mE={class:"nxp-ec-form-field"},hE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},gE={class:"nxp-ec-form-field"},EE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},SE={key:0,class:"nxp-ec-form-checkbox"},CE={class:"nxp-ec-admin-form__actions"},bE=["disabled"],AE={key:3,class:"nxp-ec-admin-panel__section"},TE={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},yE=["disabled"],RE=["disabled"],OE={key:4,class:"nxp-ec-admin-panel__section"},xE={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},vE={class:"nxp-ec-form-field"},NE={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},PE=["placeholder"],ME={class:"nxp-ec-form-help"},IE={class:"nxp-ec-form-field"},kE={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},wE=["placeholder"],$E={class:"nxp-ec-form-field"},DE={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},LE={class:"nxp-ec-admin-form__actions"},UE=["disabled"],YE={key:5,class:"nxp-ec-admin-panel__section"},XE={class:"nxp-ec-admin-list"},FE={class:"nxp-ec-admin-list__title"},GE={class:"nxp-ec-admin-list__meta"},VE={class:"nxp-ec-admin-panel__section"},HE=["placeholder"],BE={class:"nxp-ec-admin-form__actions"},KE=["disabled"],jE={class:"nxp-ec-admin-panel__section"},JE={key:0,class:"nxp-ec-admin-list"},WE={class:"nxp-ec-admin-list__title"},qE={class:"nxp-ec-admin-list__meta"},zE={key:1,class:"nxp-ec-admin-panel__muted"},QE=xt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=ke({}),l=He(""),u=He(""),p=Ee(()=>u.value.trim().length>0),h=He(""),f=ke({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),c=ke({amount:null,reference:"",note:""}),E=Ee(()=>{var C;const b=(C=s.state)==null?void 0:C.selection;return!b||typeof b.values!="function"?[]:Array.from(b.values())}),M=Ee(()=>E.value.length>0),Y=Ee(()=>{var g;const b=(g=s.state)==null?void 0:g.activeOrder;if(!b)return!1;const C=["cod","bank_transfer"],D=String(b.payment_method||"").toLowerCase();return b.state==="pending"&&C.includes(D)});Ee(()=>Y.value),Xe(E,b=>{b.length||(l.value="")}),Xe(()=>s.state.activeOrder,b=>{var C,D,g;u.value="",h.value="",f.carrier=(C=b==null?void 0:b.carrier)!=null?C:"",f.tracking_number=(D=b==null?void 0:b.tracking_number)!=null?D:"",f.tracking_url=(g=b==null?void 0:b.tracking_url)!=null?g:"",f.markFulfilled=!1,c.amount=null,c.reference="",c.note=""},{immediate:!0}),Xe(()=>s.state.items,b=>{Array.isArray(b)&&b.forEach(C=>{!C||typeof C.id=="undefined"||a[C.id]||(a[C.id]=C.state)})},{immediate:!0}),Xe(()=>s.state.transitionError,b=>{var D;if(!b)return;const C=(D=s.state)==null?void 0:D.items;Array.isArray(C)&&C.forEach(g=>{g!=null&&g.id&&g.state&&(a[g.id]=g.state)})});const $=(b,C)=>{const D=(Number(b)||0)/100,g=(C||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:g}).format(D)}catch(_){return`${g} ${D.toFixed(2)}`}},U=b=>{if(!b)return"";const C=new Date(b);return Number.isNaN(C.getTime())?b:C.toLocaleString()},k=b=>b?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[b]||b:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),F=b=>b===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(b)]),K=b=>{if(!b)return"";const C=`COM_NXPEASYCART_ORDERS_STATE_${String(b).toUpperCase()}`;return n(C,b)},H=b=>s.state.orderStates.filter(C=>C!==b.state),L=b=>(a[b.id]||b.state)!==b.state,y=()=>{var b;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((b=window.location)!=null&&b.origin)?window.location.origin:""},te=Ee(()=>{var v,T;const b=(T=(v=s.state)==null?void 0:v.activeOrder)!=null?T:{},C=String(b.public_token||"").trim(),D=String(b.order_no||"").trim();if(!C)return"";const g=y();if(!g)return"";const _=g.endsWith("/")?"":"/",S=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:C});return D&&S.set("no",D),`${g}${_}index.php?${S.toString()}`}),le=async()=>{var b;if(te.value){try{if(!((b=navigator==null?void 0:navigator.clipboard)!=null&&b.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(te.value),h.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(C){try{const D=document.createElement("textarea");D.value=te.value,D.setAttribute("readonly",""),D.style.position="absolute",D.style.left="-9999px",document.body.appendChild(D),D.select(),document.execCommand("copy"),document.body.removeChild(D),h.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(D){h.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}h.value&&setTimeout(()=>{h.value=""},2e3)}},Se=Ee(()=>{var C,D,g,_,S;const b=(D=(C=s.state)==null?void 0:C.activeOrder)!=null?D:{};return f.carrier!==((g=b.carrier)!=null?g:"")||f.tracking_number!==((_=b.tracking_number)!=null?_:"")||f.tracking_url!==((S=b.tracking_url)!=null?S:"")||f.markFulfilled}),W=b=>!b||typeof b!="object"?[]:Object.entries(b).filter(([,C])=>C!=null&&`${C}`.trim()!=="").map(([C,D])=>({key:C,value:`${D}`.trim()})),J=()=>{o("refresh")},q=()=>{o("export")},j=()=>{o("search")},ie=()=>{o("filter",s.state.filterState)},he=b=>{o("view",b)},fe=()=>{o("close")},ee=b=>{const C=a[b.id]||b.state;C!==b.state&&o("transition",{id:b.id,state:C})},oe=b=>{o("page",b)},ne=b=>{var C,D,g,_;return(_=(g=(D=(C=s.state)==null?void 0:C.selection)==null?void 0:D.has)==null?void 0:g.call(D,b))!=null?_:!1},pe=b=>{o("toggle-selection",b)},G=()=>{l.value="",o("clear-selection")},z=()=>{!M.value||!l.value||o("bulk-transition",{ids:[...E.value],state:l.value})},Q=()=>{if(!s.state.activeOrder)return;const b=u.value.trim();b&&(o("add-note",{id:s.state.activeOrder.id,message:b}),u.value="")},ce=()=>{s.state.activeOrder&&o("invoice",s.state.activeOrder.id)},ge=()=>{!s.state.activeOrder||!Se.value||(o("save-tracking",{id:s.state.activeOrder.id,carrier:f.carrier,tracking_number:f.tracking_number,tracking_url:f.tracking_url,mark_fulfilled:f.markFulfilled}),f.markFulfilled=!1)},me=b=>{s.state.activeOrder&&o("send-email",{id:s.state.activeOrder.id,type:b})},be=()=>{if(!s.state.activeOrder||!Y.value)return;const b=s.state.activeOrder,C=c.amount!==null&&c.amount!==""?Math.round(Number(c.amount)*100):b.total_cents;o("record-payment",{id:b.id,amountCents:C,reference:c.reference,note:c.note}),c.amount=null,c.reference="",c.note=""},Me=b=>{var g;const C=(g=s.state)==null?void 0:g.activeOrder;return C?(C.timeline||C.audit||[]).some(_=>{var S;return _.action==="order.email.sent"?((S=_.context)==null?void 0:S.type)===b:!1}):!1},w=Ee(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(E.value.length)],"ordersSelectedCount")),O=b=>{var C,D,g,_,S,v,T,R,V,N,se,re;if(!b||!b.action)return"";switch(b.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const ue=K((D=(C=b.context)==null?void 0:C.from)!=null?D:""),Ce=K((_=(g=b.context)==null?void 0:g.to)!=null?_:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[ue||((S=b.context)==null?void 0:S.from)||"",Ce||((v=b.context)==null?void 0:v.to)||""],"ordersTimelineState")}case"order.note":return((T=b.context)==null?void 0:T.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const ue=((R=b.context)==null?void 0:R.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),Ce=$((N=(V=b.context)==null?void 0:V.amount_cents)!=null?N:0,(re=(se=s.state)==null?void 0:se.activeOrder)==null?void 0:re.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[ue,Ce],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return b.action}},I=b=>{if(!b)return"";const C=String(b.type||"").toLowerCase(),D=String(b.message||"").trim(),g=String(b.state||"").toLowerCase();return C==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):g?K(g):D||C||""},m=Ee(()=>{var g,_,S,v;const b=[];return(Array.isArray((_=(g=s.state)==null?void 0:g.activeOrder)==null?void 0:_.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((T,R)=>{var V,N;b.push({label:I(T),created:(V=T==null?void 0:T.at)!=null?V:"",key:`f-${R}-${(N=T==null?void 0:T.at)!=null?N:""}`})}),(Array.isArray((v=(S=s.state)==null?void 0:S.activeOrder)==null?void 0:v.timeline)?s.state.activeOrder.timeline:[]).forEach((T,R)=>{var V,N,se;b.push({label:O(T),created:(V=T==null?void 0:T.created)!=null?V:"",key:`a-${(N=T==null?void 0:T.id)!=null?N:R}-${(se=T==null?void 0:T.created)!=null?se:""}`})}),b.filter(T=>T.label).sort((T,R)=>{const V=new Date(T.created||0).getTime();return new Date(R.created||0).getTime()-V})}),A=b=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(b.status||"").toUpperCase()}`,b.status||""),B=b=>{if(!b)return"";try{const C=new Date(b),g=new Date-C,_=Math.floor(g/1e3),S=Math.floor(_/60),v=Math.floor(S/60);return _<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):S<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[S]):v<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[v]):C.toLocaleString()}catch(C){return b}};return(b,C)=>{var D,g;return x(),P("section",Lh,[i("header",Uh,[i("div",null,[i("h2",Yh,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",Xh,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",Fh,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":C[0]||(C[0]=_=>e.state.search=_),onKeyup:zt(j,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Gh),[[de,e.state.search]]),Z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":C[1]||(C[1]=_=>e.state.filterState=_),onChange:ie,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",Hh,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(x(!0),P(Te,null,xe(e.state.orderStates,_=>(x(),P("option",{key:_,value:_},d(K(_)),9,Bh))),128))],40,Vh),[[ht,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:q,disabled:e.state.loading||e.state.exporting,title:r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[C[15]||(C[15]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",jh,d(r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,Kh),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:J,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[C[16]||(C[16]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Wh,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Jh)])]),e.state.error?(x(),P("div",qh,d(e.state.error),1)):_e("",!0),e.state.transitionError&&!e.state.error?(x(),P("div",zh,d(e.state.transitionError),1)):_e("",!0),e.state.loading&&!e.state.error?(x(),P("div",Qh,[Be(Ln,{type:"table",rows:5,columns:7})])):_e("",!0),!e.state.loading&&!e.state.error?(x(),P("div",Zh,[i("div",eg,[M.value?(x(),P("div",tg,[i("span",null,d(w.value),1),Z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":C[2]||(C[2]=_=>l.value=_),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",sg,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(x(!0),P(Te,null,xe(e.state.orderStates,_=>(x(),P("option",{key:`bulk-${_}`,value:_},d(K(_)),9,ig))),128))],8,ng),[[ht,l.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!l.value||e.state.saving,onClick:z},[C[17]||(C[17]=i("i",{class:"fa-solid fa-check"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,og),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:G,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[C[18]||(C[18]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",rg,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,ag)])):_e("",!0),i("table",lg,[i("thead",null,[i("tr",null,[i("th",cg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",dg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",ug,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",pg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",_g,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",fg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",mg,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?_e("",!0):(x(),P("tr",hg,[i("td",gg,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(x(!0),P(Te,null,xe(e.state.items,_=>{var S,v,T;return x(),P("tr",{key:_.id,class:Ie({"is-active":e.state.activeOrder&&e.state.activeOrder.id===_.id})},[i("td",Eg,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:ne(_.id),onChange:R=>pe(_.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Sg)]),i("th",Cg,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:R=>he(_)},d(_.order_no),9,bg)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[i("div",null,d(_.email),1),i("div",Tg,d(F((T=_.items_count)!=null?T:(v=(S=_.items)==null?void 0:S.length)!=null?v:0)),1)],8,Ag),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},d($(_.total_cents,_.currency)),9,yg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[i("span",Og,d(K(_.state)),1),_.needs_review?(x(),P("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:_.review_reason||r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,xg)):_e("",!0)],8,Rg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},d(U(_.modified||_.created)),9,vg),i("td",Ng,[Z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":R=>a[_.id]=R,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:_.state},d(K(_.state)),9,Mg),(x(!0),P(Te,null,xe(H(_),R=>(x(),P("option",{key:R,value:R},d(K(R)),9,Ig))),128))],8,Pg),[[ht,a[_.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!L(_),onClick:R=>ee(_)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,kg)])],2)}),128))])]),e.state.pagination.pages>1?(x(),P("div",wg,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:C[3]||(C[3]=_=>oe(e.state.pagination.current-1))},"  ",8,$g),i("span",Dg,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:C[4]||(C[4]=_=>oe(e.state.pagination.current+1))},"  ",8,Lg)])):_e("",!0)]),e.state.lastUpdated?(x(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(B(e.state.lastUpdated)),9,Ug)):_e("",!0),e.state.activeOrder?(x(),P("div",Yg,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:fe}),i("div",Xg,[i("aside",Fg,[i("header",Gg,[i("h3",null,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:fe,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[C[19]||(C[19]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Hg,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,Vg)]),e.state.transitionError?(x(),P("div",Bg,d(e.state.transitionError),1)):_e("",!0),(D=e.state.activeOrder)!=null&&D.needs_review?(x(),P("div",Kg,[i("strong",null,d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),Pe(" "+d(k((g=e.state.activeOrder)==null?void 0:g.review_reason)),1)])):_e("",!0),te.value?(x(),P("section",jg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",Jg,[i("input",{type:"text",class:"nxp-ec-form-input",value:te.value,readonly:""},null,8,Wg),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!te.value,onClick:le},[C[20]||(C[20]=i("i",{class:"fa-solid fa-link"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,qg)]),h.value?(x(),P("p",zg,d(h.value),1)):_e("",!0),i("div",Qg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:ce},[C[21]||(C[21]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,Zg),s.state.invoiceLoading?(x(),P("span",eE,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):_e("",!0)])])):_e("",!0),i("section",tE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",nE,[(x(!0),P(Te,null,xe(e.state.activeOrder.items,_=>(x(),P("li",{key:_.id},[i("div",sE,[Pe(d(_.title)+" ",1),i("small",null,"("+d(_.sku)+")",1)]),i("div",iE,"  "+d(_.qty)+"  "+d($(_.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",oE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",aE,d($(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",rE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",lE,[(x(!0),P(Te,null,xe(W(e.state.activeOrder.billing),_=>(x(),P("span",{key:_.key},d(_.value),1))),128))])]),i("section",cE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(x(),P("address",dE,[(x(!0),P(Te,null,xe(W(e.state.activeOrder.shipping),_=>(x(),P("span",{key:_.key},d(_.value),1))),128))])):(x(),P("p",uE,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),i("section",pE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",_E,[i("label",fE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),Z(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[5]||(C[5]=_=>f.carrier=_)},null,512),[[de,f.carrier]])]),i("div",mE,[i("label",hE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),Z(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[6]||(C[6]=_=>f.tracking_number=_)},null,512),[[de,f.tracking_number]])]),i("div",gE,[i("label",EE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),Z(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":C[7]||(C[7]=_=>f.tracking_url=_)},null,512),[[de,f.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(x(),P("label",SE,[Z(i("input",{type:"checkbox","onUpdate:modelValue":C[8]||(C[8]=_=>f.markFulfilled=_)},null,512),[[_t,f.markFulfilled]]),Pe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):_e("",!0),i("div",CE,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!Se.value||e.state.saving,onClick:ge},[C[22]||(C[22]=i("i",{class:"fa-solid fa-truck"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,bE)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(x(),P("section",AE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),i("div",TE,[e.state.activeOrder.state==="fulfilled"?(x(),P("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:C[9]||(C[9]=_=>me("shipped"))},[C[23]||(C[23]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Pe(" "+d(Me("shipped")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,yE)):_e("",!0),e.state.activeOrder.state==="refunded"?(x(),P("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:C[10]||(C[10]=_=>me("refunded"))},[C[24]||(C[24]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Pe(" "+d(Me("refunded")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,RE)):_e("",!0)])])):_e("",!0),Y.value?(x(),P("section",OE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),i("p",xE,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),i("div",vE,[i("label",NE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),Z(i("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":C[11]||(C[11]=_=>c.amount=_),placeholder:$(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,PE),[[de,c.amount]]),i("small",ME,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),i("div",IE,[i("label",kE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),Z(i("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[12]||(C[12]=_=>c.reference=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,wE),[[de,c.reference]])]),i("div",$E,[i("label",DE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),Z(i("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":C[13]||(C[13]=_=>c.note=_)},null,512),[[de,c.note]])]),i("div",LE,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving,onClick:be},[C[25]||(C[25]=i("i",{class:"icon-credit"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,UE)])])):_e("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(x(),P("section",YE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",XE,[(x(!0),P(Te,null,xe(e.state.activeOrder.transactions,_=>(x(),P("li",{key:_.id},[i("div",FE,d(_.gateway)+"  "+d($(_.amount_cents,e.state.activeOrder.currency)),1),i("div",GE,d(A(_))+"  "+d(U(_.created)),1)]))),128))])])):_e("",!0),i("section",VE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:gt(Q,["prevent"])},[Z(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":C[14]||(C[14]=_=>u.value=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,HE),[[de,u.value]]),i("div",BE,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[C[26]||(C[26]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,KE)])],32)]),i("section",jE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),m.value.length?(x(),P("ul",JE,[(x(!0),P(Te,null,xe(m.value,_=>(x(),P("li",{key:_.key},[i("div",WE,d(_.label),1),i("div",qE,d(U(_.created)),1)]))),128))])):(x(),P("p",zE,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):_e("",!0)])):_e("",!0)])}}},[["__scopeId","data-v-71dc11f1"]]),ZE={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},eS={class:"nxp-ec-admin-panel__header"},tS={class:"nxp-ec-admin-panel__title"},nS={class:"nxp-ec-admin-panel__lead"},sS={class:"nxp-ec-admin-panel__actions"},iS=["placeholder","aria-label"],oS=["disabled","title","aria-label"],aS={class:"nxp-ec-sr-only"},rS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},lS={key:1,class:"nxp-ec-admin-panel__body"},cS={key:2,class:"nxp-ec-admin-panel__body"},dS={class:"nxp-ec-admin-panel__table"},uS={class:"nxp-ec-admin-table"},pS={scope:"col"},_S={scope:"col"},fS={scope:"col"},mS={scope:"col"},hS={scope:"col"},gS={key:0},ES={colspan:"5"},SS={scope:"row",class:"nxp-ec-admin-table__primary"},CS=["onClick"],bS=["data-label"],AS=["data-label"],TS=["data-label"],yS=["data-label"],RS={key:0,class:"nxp-ec-admin-pagination"},OS=["disabled"],xS={class:"nxp-ec-admin-pagination__status"},vS=["disabled"],NS=["title"],PS={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},MS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},IS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},kS={class:"nxp-ec-admin-panel__sidebar-header"},wS=["title","aria-label"],$S={class:"nxp-ec-sr-only"},DS={class:"nxp-ec-admin-panel__section"},LS={class:"nxp-ec-admin-summary"},US={class:"nxp-ec-admin-panel__section"},YS={class:"nxp-ec-admin-address"},XS={class:"nxp-ec-admin-panel__section"},FS={key:0,class:"nxp-ec-admin-address"},GS={key:1,class:"nxp-ec-admin-panel__muted"},VS={class:"nxp-ec-admin-panel__section"},HS={key:0,class:"nxp-ec-admin-list"},BS={class:"nxp-ec-admin-list__title"},KS={class:"nxp-ec-admin-list__meta"},jS={key:1,class:"nxp-ec-admin-panel__muted"},JS={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},WS={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},qS={class:"nxp-ec-gdpr-actions"},zS=["disabled","title"],QS=["disabled","title"],ZS=xt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=(k,F)=>{const K=(Number(k)||0)/100,H=(F||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:H}).format(K)}catch(L){return`${H} ${K.toFixed(2)}`}},l=k=>{if(!k)return"";const F=new Date(k);return Number.isNaN(F.getTime())?k:F.toLocaleString()},u=k=>!k||typeof k!="object"?[]:Object.entries(k).filter(([,F])=>F!=null&&`${F}`.trim()!=="").map(([F,K])=>({key:F,value:`${K}`.trim()})),p=k=>{if(!k)return"";const F=`COM_NXPEASYCART_ORDERS_STATE_${String(k).toUpperCase()}`;return n(F,k)},h=()=>o("refresh"),f=()=>o("search"),c=k=>o("page",k),E=k=>o("view",k),M=()=>o("close"),Y=k=>o("gdprExport",k),$=k=>o("gdprAnonymise",k),U=k=>{if(!k)return"";try{const F=new Date(k),H=new Date-F,L=Math.floor(H/1e3),y=Math.floor(L/60),te=Math.floor(y/60);return L<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):y<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[y]):te<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[te]):F.toLocaleString()}catch(F){return k}};return(k,F)=>{var K,H,L;return x(),P("section",ZE,[i("header",eS,[i("div",null,[i("h2",tS,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",nS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",sS,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":F[0]||(F[0]=y=>e.state.search=y),onKeyup:zt(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,iS),[[de,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:h,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[F[5]||(F[5]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",aS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,oS)])]),e.state.error?(x(),P("div",rS,d(e.state.error),1)):_e("",!0),e.state.loading?(x(),P("div",lS,[Be(Ln,{type:"table",rows:5,columns:5})])):_e("",!0),e.state.loading?_e("",!0):(x(),P("div",cS,[i("div",dS,[i("table",uS,[i("thead",null,[i("tr",null,[i("th",pS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",_S,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",fS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",mS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",hS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?_e("",!0):(x(),P("tr",gS,[i("td",ES,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(x(!0),P(Te,null,xe(e.state.items,y=>{var te;return x(),P("tr",{key:y.email,class:Ie({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===y.email})},[i("th",SS,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:le=>E(y)},d(y.email),9,CS)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},d(((te=y.meta)==null?void 0:te.name)||""),9,bS),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},d(y.orders_count),9,AS),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},d(a(y.total_spent_cents,y.currency||e.baseCurrency)),9,TS),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},d(l(y.last_order)),9,yS)],2)}),128))])]),e.state.pagination.pages>1?(x(),P("div",RS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:F[1]||(F[1]=y=>c(e.state.pagination.current-1))},"  ",8,OS),i("span",xS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:F[2]||(F[2]=y=>c(e.state.pagination.current+1))},"  ",8,vS)])):_e("",!0)]),e.state.lastUpdated?(x(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(U(e.state.lastUpdated)),9,NS)):_e("",!0),e.state.activeCustomer?(x(),P("div",PS,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:M}),i("div",MS,[i("aside",IS,[i("header",kS,[i("h3",null,d(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:M,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[F[6]||(F[6]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",$S,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,wS)]),i("section",DS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",LS,[i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,d(((K=e.state.activeCustomer.meta)==null?void 0:K.name)||""),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,d(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,d(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,d(l(e.state.activeCustomer.last_order)),1)])])]),i("section",US,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",YS,[(x(!0),P(Te,null,xe(u((H=e.state.activeCustomer.meta)==null?void 0:H.billing),y=>(x(),P("span",{key:y.key},d(y.value),1))),128))])]),i("section",XS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(L=e.state.activeCustomer.meta)!=null&&L.shipping?(x(),P("address",FS,[(x(!0),P(Te,null,xe(u(e.state.activeCustomer.meta.shipping),y=>(x(),P("span",{key:y.key},d(y.value),1))),128))])):(x(),P("p",GS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",VS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(x(),P("ul",HS,[(x(!0),P(Te,null,xe(e.state.activeCustomer.orders,y=>(x(),P("li",{key:y.id},[i("div",BS,d(y.order_no)+"  "+d(a(y.total_cents,y.currency||e.baseCurrency)),1),i("div",KS,d(p(y.state))+"  "+d(l(y.created)),1)]))),128))])):(x(),P("p",jS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),i("section",JS,[i("h4",null,d(r(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),i("p",WS,d(r(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),i("div",qS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:F[3]||(F[3]=y=>Y(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[F[7]||(F[7]=i("i",{class:"fa-solid fa-download"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,zS),i("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:F[4]||(F[4]=y=>$(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[F[8]||(F[8]=i("i",{class:"fa-solid fa-user-slash"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,QS)]),e.state.gdprMessage?(x(),P("p",{key:0,class:Ie(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},d(e.state.gdprMessage),3)):_e("",!0)])])])])):_e("",!0)]))])}}},[["__scopeId","data-v-fb6159d8"]]),eC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},tC={class:"nxp-ec-admin-panel__header"},nC={class:"nxp-ec-admin-panel__title"},sC={class:"nxp-ec-admin-panel__lead"},iC={class:"nxp-ec-admin-panel__actions"},oC=["placeholder","aria-label"],aC=["disabled","title","aria-label"],rC={class:"nxp-ec-sr-only"},lC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},cC={key:1,class:"nxp-ec-admin-panel__loading"},dC={key:2,class:"nxp-ec-admin-panel__body"},uC={class:"nxp-ec-admin-panel__table"},pC={class:"nxp-ec-admin-table"},_C={scope:"col"},fC={scope:"col"},mC={scope:"col"},hC={scope:"col"},gC={scope:"col"},EC={scope:"col"},SC={key:0},CC={colspan:"7"},bC={scope:"row",class:"nxp-ec-admin-table__primary"},AC=["data-label"],TC=["data-label"],yC=["data-label"],RC=["data-label"],OC=["data-label"],xC={class:"nxp-ec-admin-table__actions"},vC=["onClick","title","aria-label"],NC={class:"nxp-ec-sr-only"},PC=["onClick","title","aria-label"],MC={class:"nxp-ec-sr-only"},IC={key:0,class:"nxp-ec-admin-pagination"},kC=["disabled"],wC={class:"nxp-ec-admin-pagination__status"},$C=["disabled"],DC={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},LC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},UC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},YC={class:"nxp-ec-admin-panel__sidebar-header"},XC=["title","aria-label"],FC={class:"nxp-ec-sr-only"},GC={class:"nxp-ec-form-field"},VC={class:"nxp-ec-form-label",for:"coupon-code"},HC={class:"nxp-ec-form-field"},BC={class:"nxp-ec-form-label",for:"coupon-type"},KC={value:"percent"},jC={value:"fixed"},JC={class:"nxp-ec-form-field"},WC={class:"nxp-ec-form-label",for:"coupon-value"},qC={class:"nxp-ec-form-field"},zC={class:"nxp-ec-form-label",for:"coupon-min-total"},QC={class:"nxp-ec-form-field"},ZC={class:"nxp-ec-form-label",for:"coupon-start"},eb={class:"nxp-ec-form-field"},tb={class:"nxp-ec-form-label",for:"coupon-end"},nb={class:"nxp-ec-form-field"},sb={class:"nxp-ec-form-label",for:"coupon-max-uses"},ib={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ob={class:"nxp-ec-form-label",for:"coupon-active"},ab={class:"nxp-ec-modal__actions"},rb=["disabled"],lb=["disabled"],cb=["disabled"],db=xt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ee(()=>(s.baseCurrency||"USD").toUpperCase()),l=ke({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=Ee(()=>l.open),p=()=>o("refresh"),h=()=>o("search"),f=K=>o("page",K),c=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},E=K=>{var H,L;Object.assign(l,{open:!0,id:K.id,code:K.code,type:K.type,value:K.value,min_total:(L=K.min_total)!=null?L:((H=K.min_total_cents)!=null?H:0)/100,start:K.start?K.start.substring(0,10):"",end:K.end?K.end.substring(0,10):"",max_uses:K.max_uses,active:K.active})},M=()=>{l.open=!1},Y=()=>{const K={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",K)},$=K=>{const H=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(H)&&(o("delete",[K.id]),l.id===K.id&&M())},U=(K,H)=>{const L=(Number(K)||0)/100,y=(H||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:y}).format(L)}catch(te){return`${y} ${L.toFixed(2)}`}},k=K=>K.type==="percent"?`${K.value}%`:U(K.value*100,a.value),F=K=>K==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Xe(()=>s.state.saving,(K,H)=>{H&&!K&&!s.state.error&&l.open&&M()}),(K,H)=>(x(),P("section",eC,[i("header",tC,[i("div",null,[i("h2",nC,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",sC,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",iC,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":H[0]||(H[0]=L=>e.state.search=L),onKeyup:zt(h,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,oC),[[de,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[H[12]||(H[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",rC,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,aC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:c},[H[13]||(H[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(x(),P("div",lC,d(e.state.error),1)):_e("",!0),e.state.loading?(x(),P("div",cC,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):_e("",!0),e.state.loading?_e("",!0):(x(),P("div",dC,[i("div",uC,[i("table",pC,[i("thead",null,[i("tr",null,[i("th",_C,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",fC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",mC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",hC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",gC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",EC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),H[14]||(H[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?_e("",!0):(x(),P("tr",SC,[i("td",CC,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(x(!0),P(Te,null,xe(e.state.items,L=>(x(),P("tr",{key:L.id,class:Ie({"is-active":l.id===L.id})},[i("th",bC,d(L.code),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},d(F(L.type)),9,AC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},d(k(L)),9,TC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},d(U(L.min_total_cents,a.value)),9,yC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[i("span",{class:Ie(["nxp-ec-badge",{"is-active":L.active}])},[i("i",{class:Ie(L.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Pe(" "+d(L.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,RC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},d(L.times_used)+d(L.max_uses?` / ${L.max_uses}`:""),9,OC),i("td",xC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:y=>E(L),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[H[15]||(H[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",NC,d(r(n)("JEDIT","Edit")),1)],8,vC),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:y=>$(L),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[H[16]||(H[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",MC,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,PC)])],2))),128))])]),e.state.pagination.pages>1?(x(),P("div",IC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:H[1]||(H[1]=L=>f(e.state.pagination.current-1))},"  ",8,kC),i("span",wC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:H[2]||(H[2]=L=>f(e.state.pagination.current+1))},"  ",8,$C)])):_e("",!0)]),u.value?(x(),P("div",DC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:M}),i("div",LC,[i("aside",UC,[i("header",YC,[i("h3",null,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:M,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[H[17]||(H[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",FC,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,XC)]),i("form",{class:"nxp-ec-form",onSubmit:gt(Y,["prevent"]),autocomplete:"off"},[i("div",GC,[i("label",VC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),Z(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H[3]||(H[3]=L=>l.code=L),required:"",maxlength:"64"},null,512),[[de,l.code,void 0,{trim:!0}]])]),i("div",HC,[i("label",BC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),Z(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":H[4]||(H[4]=L=>l.type=L)},[i("option",KC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",jC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[ht,l.type]])]),i("div",JC,[i("label",WC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),Z(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":H[5]||(H[5]=L=>l.value=L),required:""},null,512),[[de,l.value,void 0,{number:!0}]])]),i("div",qC,[i("label",zC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),Z(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":H[6]||(H[6]=L=>l.min_total=L)},null,512),[[de,l.min_total,void 0,{number:!0}]])]),i("div",QC,[i("label",ZC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),Z(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":H[7]||(H[7]=L=>l.start=L)},null,512),[[de,l.start]])]),i("div",eb,[i("label",tb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),Z(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":H[8]||(H[8]=L=>l.end=L)},null,512),[[de,l.end]])]),i("div",nb,[i("label",sb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),Z(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":H[9]||(H[9]=L=>l.max_uses=L)},null,512),[[de,l.max_uses,void 0,{number:!0}]])]),i("div",ib,[i("label",ob,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),Z(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":H[10]||(H[10]=L=>l.active=L)},null,512),[[_t,l.active]])]),i("footer",ab,[i("button",{class:"nxp-ec-btn",type:"button",onClick:M,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,rb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,lb)]),l.id?(x(),P("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:H[11]||(H[11]=L=>$(l)),disabled:e.state.saving},[H[18]||(H[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Pe(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,cb)):_e("",!0)],32)])])])):_e("",!0)]))]))}},[["__scopeId","data-v-7a1d4dad"]]),ub={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},pb={class:"nxp-ec-admin-panel__header"},_b={class:"nxp-ec-admin-panel__title"},fb={class:"nxp-ec-admin-panel__lead"},mb={class:"nxp-ec-settings-tabs"},hb={key:0,class:"nxp-ec-settings-panel"},gb={class:"nxp-ec-settings-panel__header"},Eb=["disabled"],Sb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Cb={key:1,class:"nxp-ec-admin-panel__loading"},bb={class:"nxp-ec-form-field"},Ab={class:"nxp-ec-form-label",for:"settings-store-name"},Tb={class:"nxp-ec-form-field"},yb={class:"nxp-ec-form-label",for:"settings-store-email"},Rb={class:"nxp-ec-form-field"},Ob={class:"nxp-ec-form-label",for:"settings-store-phone"},xb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vb={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},Nb={class:"nxp-ec-form-help"},Pb={class:"nxp-ec-form-field"},Mb={class:"nxp-ec-form-label",for:"settings-base-currency"},Ib={class:"nxp-ec-form-help"},kb={class:"nxp-ec-form-field"},wb={class:"nxp-ec-form-label",for:"settings-category-page-size"},$b={class:"nxp-ec-form-help"},Db={class:"nxp-ec-form-field"},Lb={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},Ub={value:"paged"},Yb={value:"infinite"},Xb={class:"nxp-ec-form-help"},Fb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Gb={class:"nxp-ec-form-label",for:"settings-payments-configured"},Vb={class:"nxp-ec-form-help"},Hb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Bb={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},Kb={class:"nxp-ec-form-help"},jb={class:"nxp-ec-form-fieldset"},Jb={class:"nxp-ec-form-legend"},Wb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},qb={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},zb={class:"nxp-ec-form-help"},Qb={key:0,class:"nxp-ec-form-field"},Zb={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},eA={class:"nxp-ec-form-help"},tA={class:"nxp-ec-settings-actions"},nA=["disabled"],sA=["disabled"],iA={key:1,class:"nxp-ec-settings-panel"},oA={class:"nxp-ec-settings-panel__header"},aA=["disabled"],rA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},lA={class:"nxp-ec-form-help"},cA={class:"nxp-ec-form-grid"},dA={class:"nxp-ec-form-field"},uA={class:"nxp-ec-form-label",for:"settings-checkout-window"},pA={class:"nxp-ec-form-help"},_A={class:"nxp-ec-form-field"},fA={class:"nxp-ec-form-label",for:"settings-offline-window"},mA={class:"nxp-ec-form-help"},hA={class:"nxp-ec-form-grid"},gA={class:"nxp-ec-form-field"},EA={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},SA={class:"nxp-ec-form-field"},CA={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},bA={class:"nxp-ec-form-field"},AA={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},TA={class:"nxp-ec-form-grid"},yA={class:"nxp-ec-form-field"},RA={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},OA={class:"nxp-ec-form-field"},xA={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},vA={class:"nxp-ec-settings-actions"},NA=["disabled"],PA=["disabled"],MA={key:2,class:"nxp-ec-settings-panel"},IA={class:"nxp-ec-settings-panel__header"},kA=["disabled"],wA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},$A={key:1,class:"nxp-ec-settings-grid"},DA={class:"nxp-ec-settings-table"},LA={class:"nxp-ec-admin-table"},UA={scope:"col"},YA={scope:"col"},XA={scope:"col"},FA={scope:"col"},GA={scope:"col"},VA={key:0},HA={colspan:"6"},BA={scope:"row"},KA={class:"nxp-ec-admin-table__actions"},jA=["onClick","title","aria-label"],JA={class:"nxp-ec-sr-only"},WA=["onClick","title","aria-label"],qA={class:"nxp-ec-sr-only"},zA={class:"nxp-ec-form-field"},QA={class:"nxp-ec-form-label",for:"tax-country"},ZA={class:"nxp-ec-form-field"},eT={class:"nxp-ec-form-label",for:"tax-region"},tT={class:"nxp-ec-form-field"},nT={class:"nxp-ec-form-label",for:"tax-rate"},sT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iT={class:"nxp-ec-form-label",for:"tax-inclusive"},oT={class:"nxp-ec-form-field"},aT={class:"nxp-ec-form-label",for:"tax-priority"},rT={class:"nxp-ec-settings-actions"},lT=["disabled"],cT=["disabled"],dT={key:3,class:"nxp-ec-settings-panel"},uT={class:"nxp-ec-settings-panel__header"},pT=["disabled"],_T={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fT={key:1,class:"nxp-ec-settings-grid"},mT={class:"nxp-ec-settings-table"},hT={class:"nxp-ec-admin-table"},gT={scope:"col"},ET={scope:"col"},ST={scope:"col"},CT={scope:"col"},bT={scope:"col"},AT={scope:"col"},TT={key:0},yT={colspan:"7"},RT={scope:"row"},OT={class:"nxp-ec-admin-table__actions"},xT=["onClick","title","aria-label"],vT={class:"nxp-ec-sr-only"},NT=["onClick","title","aria-label"],PT={class:"nxp-ec-sr-only"},MT={class:"nxp-ec-form-field"},IT={class:"nxp-ec-form-label",for:"shipping-name"},kT={class:"nxp-ec-form-field"},wT={class:"nxp-ec-form-label",for:"shipping-type"},$T={value:"flat"},DT={value:"free_over"},LT={class:"nxp-ec-form-field"},UT={class:"nxp-ec-form-label",for:"shipping-price"},YT={key:0,class:"nxp-ec-form-field"},XT={class:"nxp-ec-form-label",for:"shipping-threshold"},FT={class:"nxp-ec-form-field"},GT={class:"nxp-ec-form-label",for:"shipping-regions"},VT=["placeholder"],HT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},BT={class:"nxp-ec-form-label",for:"shipping-active"},KT={class:"nxp-ec-settings-actions"},jT=["disabled"],JT=["disabled"],WT={key:4,class:"nxp-ec-settings-panel"},qT={class:"nxp-ec-settings-panel__header"},zT={class:"nxp-ec-settings-actions"},QT=["disabled"],ZT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ey={key:1,class:"nxp-ec-admin-panel__loading"},ty={class:"nxp-ec-form-field"},ny={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},sy={class:"nxp-ec-form-field"},iy={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},oy={class:"nxp-ec-form-field"},ay={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},ry={class:"nxp-ec-form-help"},ly={class:"nxp-ec-form-field"},cy={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},dy={value:"test"},uy={value:"live"},py={class:"nxp-ec-form-field"},_y={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},fy={class:"nxp-ec-form-field"},my={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},hy={class:"nxp-ec-form-field"},gy={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},Ey={class:"nxp-ec-form-help"},Sy={class:"nxp-ec-form-field"},Cy={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},by={value:"sandbox"},Ay={value:"live"},Ty={class:"nxp-ec-form-field nxp-ec-form-field--inline"},yy={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},Ry={class:"nxp-ec-form-field"},Oy={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},xy={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},Ny={class:"nxp-ec-form-field"},Py={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},My={class:"nxp-ec-form-field"},Iy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},ky=["placeholder"],wy={class:"nxp-ec-form-help"},$y={class:"nxp-ec-form-grid"},Dy={class:"nxp-ec-form-field"},Ly={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},Uy={class:"nxp-ec-form-field"},Yy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},Xy={class:"nxp-ec-form-field"},Fy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},Gy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Vy={class:"nxp-ec-settings-actions"},Hy=["disabled"],By=["disabled"],Ky={key:5,class:"nxp-ec-settings-panel"},jy={class:"nxp-ec-settings-panel__header"},Jy=["disabled"],Wy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qy={key:1,class:"nxp-ec-admin-panel__loading"},zy={class:"nxp-ec-form-help"},Qy={class:"nxp-ec-form-help nxp-ec-form-help--muted"},Zy={class:"nxp-ec-visual-grid"},eR={class:"nxp-ec-visual-field"},tR={class:"nxp-ec-form-label",for:"visual-primary-color"},nR={class:"nxp-ec-color-input-group"},sR=["value"],iR=["placeholder"],oR={class:"nxp-ec-visual-field"},aR={class:"nxp-ec-form-label",for:"visual-text-color"},rR={class:"nxp-ec-color-input-group"},lR=["value"],cR=["placeholder"],dR={class:"nxp-ec-visual-field"},uR={class:"nxp-ec-form-label",for:"visual-surface-color"},pR={class:"nxp-ec-color-input-group"},_R=["value"],fR=["placeholder"],mR={class:"nxp-ec-visual-field"},hR={class:"nxp-ec-form-label",for:"visual-border-color"},gR={class:"nxp-ec-color-input-group"},ER=["value"],SR=["placeholder"],CR={class:"nxp-ec-visual-field"},bR={class:"nxp-ec-form-label",for:"visual-muted-color"},AR={class:"nxp-ec-color-input-group"},TR=["value"],yR=["placeholder"],RR={class:"nxp-ec-visual-preview"},OR={type:"button",class:"nxp-ec-preview-btn"},xR={class:"nxp-ec-preview-text"},vR={class:"nxp-ec-preview-muted"},NR={class:"nxp-ec-settings-actions"},PR=["disabled"],MR=["disabled"],IR=xt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.settingsState,l=s.taxState,u=s.shippingState,p=s.paymentsState,f=He(["general","security","tax","shipping","payments","visual"].includes(s.initialTab)?s.initialTab:"general"),c=Ee(()=>{var A;const w=s.baseCurrency||"USD",O=typeof E.baseCurrency=="string"?E.baseCurrency.trim():"",I=typeof((A=a==null?void 0:a.values)==null?void 0:A.base_currency)=="string"?a.values.base_currency.trim():"";return(O!==""?O:I!==""?I:w).toUpperCase()}),E=ke({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48}),M=ke({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),Y=ke({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),$=ke({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),U=ke({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),k=ke({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),F=Ee(()=>{var O,I;const w=(I=(O=a.values)==null?void 0:O.visual_defaults)!=null?I:{};return{primary:w.primary_color||"#4f6d7a",text:w.text_color||"#1f2933",surface:w.surface_color||"#ffffff",border:w.border_color||"#e4e7ec",muted:w.muted_color||"#6b7280"}}),K=Ee(()=>({"--nxp-ec-color-primary":k.primaryColor||F.value.primary,"--nxp-ec-color-text":k.textColor||F.value.text,"--nxp-ec-color-surface":k.surfaceColor||F.value.surface,"--nxp-ec-color-border":k.borderColor||F.value.border,"--nxp-ec-color-muted":k.mutedColor||F.value.muted})),H=(w={})=>{var B,b,C,D,g,_,S,v,T,R,V,N,se,re,ue,Ce;const O=(B=w==null?void 0:w.store)!=null?B:{},I=(b=w==null?void 0:w.payments)!=null?b:{},m=(C=w==null?void 0:w.visual)!=null?C:{},A=(g=(D=w==null?void 0:w.security)==null?void 0:D.rate_limits)!=null?g:{};Object.assign(E,{storeName:(_=O.name)!=null?_:"",storeEmail:(S=O.email)!=null?S:"",storePhone:(v=O.phone)!=null?v:"",checkoutPhoneRequired:!!((T=w==null?void 0:w.checkout_phone_required)!=null&&T),paymentsConfigured:!!I.configured,autoSendOrderEmails:!!((R=w==null?void 0:w.auto_send_order_emails)!=null&&R),baseCurrency:typeof(w==null?void 0:w.base_currency)=="string"?w.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),categoryPageSize:Number.isFinite(Number(w==null?void 0:w.category_page_size))?Number(w.category_page_size):12,categoryPaginationMode:(w==null?void 0:w.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((V=w==null?void 0:w.stale_order_cleanup_enabled)!=null&&V),staleOrderHours:Number.isFinite(Number(w==null?void 0:w.stale_order_hours))?Math.max(1,Math.min(720,Number(w.stale_order_hours))):48}),Object.assign(k,{primaryColor:(N=m.primary_color)!=null?N:"",textColor:(se=m.text_color)!=null?se:"",surfaceColor:(re=m.surface_color)!=null?re:"",borderColor:(ue=m.border_color)!=null?ue:"",mutedColor:(Ce=m.muted_color)!=null?Ce:""}),Object.assign(M,{checkoutWindowMinutes:Number.isFinite(Number(A.checkout_window_minutes))?Number(A.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(A.checkout_ip_limit))?Number(A.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(A.checkout_email_limit))?Number(A.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(A.checkout_session_limit))?Number(A.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(A.offline_window_minutes))?Number(A.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(A.offline_ip_limit))?Number(A.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(A.offline_email_limit))?Number(A.offline_email_limit):5})},L=(w={})=>{var B,b,C,D,g,_,S,v,T,R,V,N,se,re,ue,Ce,Oe,we,Ke,rt,We,Fe,Ye,lt;const O=(B=w.stripe)!=null?B:{},I=(b=w.paypal)!=null?b:{},m=(C=w.cod)!=null?C:{},A=(D=w.bank_transfer)!=null?D:{};Object.assign(U.stripe,{publishable_key:(g=O.publishable_key)!=null?g:"",secret_key:(_=O.secret_key)!=null?_:"",webhook_secret:(S=O.webhook_secret)!=null?S:"",mode:(v=O.mode)!=null?v:"test"}),Object.assign(U.paypal,{client_id:(T=I.client_id)!=null?T:"",client_secret:(R=I.client_secret)!=null?R:"",webhook_id:(V=I.webhook_id)!=null?V:"",mode:(N=I.mode)!=null?N:"sandbox"}),Object.assign(U.cod,{enabled:m.enabled!==void 0?!!m.enabled:U.cod.enabled,label:(re=(se=m.label)!=null?se:U.cod.label)!=null?re:"Cash on delivery"}),Object.assign(U.bank_transfer,{enabled:A.enabled!==void 0?!!A.enabled:U.bank_transfer.enabled,label:(Ce=(ue=A.label)!=null?ue:U.bank_transfer.label)!=null?Ce:"Bank transfer",instructions:(we=(Oe=A.instructions)!=null?Oe:U.bank_transfer.instructions)!=null?we:"",account_name:(rt=(Ke=A.account_name)!=null?Ke:U.bank_transfer.account_name)!=null?rt:"",iban:(Fe=(We=A.iban)!=null?We:U.bank_transfer.iban)!=null?Fe:"",bic:(lt=(Ye=A.bic)!=null?Ye:U.bank_transfer.bic)!=null?lt:""})};Xe(()=>a.values,w=>{H(w!=null?w:{})},{immediate:!0});const y=()=>o("refresh-settings"),te=()=>{const w=(E.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:E.storeName,email:E.storeEmail,phone:E.storePhone,base_currency:w},payments:{configured:E.paymentsConfigured},base_currency:w,checkout_phone_required:E.checkoutPhoneRequired,auto_send_order_emails:E.autoSendOrderEmails,category_page_size:Number.isFinite(Number(E.categoryPageSize))?Number(E.categoryPageSize):12,category_pagination_mode:E.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!E.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(E.staleOrderHours))?Math.max(1,Math.min(720,Number(E.staleOrderHours))):48})},le=()=>{var w;H((w=a.values)!=null?w:{})},Se=()=>{const w=(O,I=0)=>{const m=Number(O);return Number.isFinite(m)&&m>=0?m:I};o("save-settings",{security:{rate_limits:{checkout_window_minutes:w(M.checkoutWindowMinutes,15),checkout_ip_limit:w(M.checkoutIpLimit,10),checkout_email_limit:w(M.checkoutEmailLimit,5),checkout_session_limit:w(M.checkoutSessionLimit,15),offline_window_minutes:w(M.offlineWindowMinutes,240),offline_ip_limit:w(M.offlineIpLimit,10),offline_email_limit:w(M.offlineEmailLimit,5)}}})},W=()=>{var w;H((w=a.values)!=null?w:{})};Xe(()=>a.saving,(w,O)=>{var I;O&&!w&&!a.error&&H((I=a.values)!=null?I:{})}),Xe(()=>E.baseCurrency,w=>{if(typeof w=="string"){const O=w.replace(/[^A-Za-z]/g,"").toUpperCase();O!==w&&(E.baseCurrency=O)}}),Xe(()=>p.config,w=>{L(w!=null?w:{})},{immediate:!0}),Xe(()=>p.saving,(w,O)=>{var I;O&&!w&&!p.error&&L((I=p.config)!=null?I:{})});const J=()=>o("refresh-payments"),q=()=>{const w=JSON.parse(JSON.stringify(U));o("save-payments",w)},j=()=>{var w;L((w=p.config)!=null?w:{})},ie=()=>o("refresh-settings"),he=()=>{o("save-settings",{visual:{primary_color:k.primaryColor,text_color:k.textColor,surface_color:k.surfaceColor,border_color:k.borderColor,muted_color:k.mutedColor}})},fe=()=>{var O,I,m,A,B,b,C;const w=(I=(O=a.values)==null?void 0:O.visual)!=null?I:{};Object.assign(k,{primaryColor:(m=w.primary_color)!=null?m:"",textColor:(A=w.text_color)!=null?A:"",surfaceColor:(B=w.surface_color)!=null?B:"",borderColor:(b=w.border_color)!=null?b:"",mutedColor:(C=w.muted_color)!=null?C:""})},ee=()=>o("refresh-tax"),oe=()=>o("refresh-shipping"),ne=w=>{Object.assign(Y,{id:w.id,country:w.country,region:w.region,rate:w.rate,inclusive:w.inclusive,priority:w.priority})},pe=()=>{Object.assign(Y,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},G=()=>{o("save-tax",{id:Y.id||void 0,country:Y.country,region:Y.region,rate:Y.rate,inclusive:Y.inclusive,priority:Y.priority})},z=w=>{const O=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(O)&&(o("delete-tax",[w.id]),Y.id===w.id&&pe())};Xe(()=>l.saving,(w,O)=>{O&&!w&&!l.error&&pe()});const Q=w=>{var O,I,m;Object.assign($,{id:w.id,name:w.name,type:w.type,price:(I=w.price)!=null?I:((O=w.price_cents)!=null?O:0)/100,threshold:w.threshold!==null&&w.threshold!==void 0?w.threshold:((m=w.threshold_cents)!=null?m:0)/100,regions:w.regions&&w.regions.length?w.regions.join(", "):"",active:w.active})},ce=()=>{Object.assign($,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},ge=()=>{const w={id:$.id||void 0,name:$.name,type:$.type,price:$.price,threshold:$.type==="free_over"?$.threshold:0,regions:$.regions,active:$.active};o("save-shipping",w)},me=w=>{const O=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(O)&&(o("delete-shipping",[w.id]),$.id===w.id&&ce())};Xe(()=>u.saving,(w,O)=>{O&&!w&&!u.error&&ce()});const be=(w,O)=>{const I=(Number(w)||0)/100,m=(O||"").toUpperCase()||c.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:m}).format(I)}catch(A){return`${m} ${I.toFixed(2)}`}},Me=w=>w==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(w,O)=>(x(),P("section",ub,[i("header",pb,[i("div",null,[i("h2",_b,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",fb,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",mb,[i("button",{type:"button",class:Ie(["nxp-ec-settings-tab",{"is-active":f.value==="general"}]),onClick:O[0]||(O[0]=I=>f.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Ie(["nxp-ec-settings-tab",{"is-active":f.value==="security"}]),onClick:O[1]||(O[1]=I=>f.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3),i("button",{type:"button",class:Ie(["nxp-ec-settings-tab",{"is-active":f.value==="tax"}]),onClick:O[2]||(O[2]=I=>f.value="tax")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:Ie(["nxp-ec-settings-tab",{"is-active":f.value==="shipping"}]),onClick:O[3]||(O[3]=I=>f.value="shipping")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:Ie(["nxp-ec-settings-tab",{"is-active":f.value==="payments"}]),onClick:O[4]||(O[4]=I=>f.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Ie(["nxp-ec-settings-tab",{"is-active":f.value==="visual"}]),onClick:O[5]||(O[5]=I=>f.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),f.value==="general"?(x(),P("div",hb,[i("header",gb,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:y,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,Eb)]),r(a).error?(x(),P("div",Sb,d(r(a).error),1)):r(a).loading?(x(),P("div",Cb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(x(),P("form",{key:2,class:"nxp-ec-settings-form",onSubmit:gt(te,["prevent"])},[i("div",bb,[i("label",Ab,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),Z(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[6]||(O[6]=I=>E.storeName=I),maxlength:"190"},null,512),[[de,E.storeName,void 0,{trim:!0}]])]),i("div",Tb,[i("label",yb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),Z(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":O[7]||(O[7]=I=>E.storeEmail=I)},null,512),[[de,E.storeEmail,void 0,{trim:!0}]])]),i("div",Rb,[i("label",Ob,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),Z(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[8]||(O[8]=I=>E.storePhone=I),maxlength:"64"},null,512),[[de,E.storePhone,void 0,{trim:!0}]])]),i("div",xb,[i("label",vb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),Z(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[9]||(O[9]=I=>E.checkoutPhoneRequired=I)},null,512),[[_t,E.checkoutPhoneRequired]]),i("p",Nb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",Pb,[i("label",Mb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),Z(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":O[10]||(O[10]=I=>E.baseCurrency=I),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[de,E.baseCurrency,void 0,{trim:!0}]]),i("p",Ib,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",kb,[i("label",wb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),Z(i("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":O[11]||(O[11]=I=>E.categoryPageSize=I)},null,512),[[de,E.categoryPageSize,void 0,{number:!0}]]),i("p",$b,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),i("div",Db,[i("label",Lb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),Z(i("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":O[12]||(O[12]=I=>E.categoryPaginationMode=I)},[i("option",Ub,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),i("option",Yb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[ht,E.categoryPaginationMode]]),i("p",Xb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)]),i("div",Fb,[i("label",Gb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),Z(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[13]||(O[13]=I=>E.paymentsConfigured=I)},null,512),[[_t,E.paymentsConfigured]]),i("p",Vb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",Hb,[i("label",Bb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),Z(i("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[14]||(O[14]=I=>E.autoSendOrderEmails=I)},null,512),[[_t,E.autoSendOrderEmails]]),i("p",Kb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)]),i("fieldset",jb,[i("legend",Jb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),i("div",Wb,[i("label",qb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),Z(i("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[15]||(O[15]=I=>E.staleOrderCleanupEnabled=I)},null,512),[[_t,E.staleOrderCleanupEnabled]]),i("p",zb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),E.staleOrderCleanupEnabled?(x(),P("div",Qb,[i("label",Zb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),Z(i("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":O[16]||(O[16]=I=>E.staleOrderHours=I)},null,512),[[de,E.staleOrderHours,void 0,{number:!0}]]),i("p",eA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):_e("",!0)]),i("div",tA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:le,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,nA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,sA)])],32))])):f.value==="security"?(x(),P("div",iA,[i("header",oA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:y,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,aA)]),r(a).error?(x(),P("div",rA,d(r(a).error),1)):(x(),P("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:gt(Se,["prevent"])},[i("p",lA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",cA,[i("div",dA,[i("label",uA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),Z(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[17]||(O[17]=I=>M.checkoutWindowMinutes=I)},null,512),[[de,M.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",pA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",_A,[i("label",fA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),Z(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[18]||(O[18]=I=>M.offlineWindowMinutes=I)},null,512),[[de,M.offlineWindowMinutes,void 0,{number:!0}]]),i("p",mA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",hA,[i("div",gA,[i("label",EA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),Z(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[19]||(O[19]=I=>M.checkoutIpLimit=I)},null,512),[[de,M.checkoutIpLimit,void 0,{number:!0}]])]),i("div",SA,[i("label",CA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),Z(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[20]||(O[20]=I=>M.checkoutEmailLimit=I)},null,512),[[de,M.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",bA,[i("label",AA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),Z(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[21]||(O[21]=I=>M.checkoutSessionLimit=I)},null,512),[[de,M.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",TA,[i("div",yA,[i("label",RA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),Z(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[22]||(O[22]=I=>M.offlineIpLimit=I)},null,512),[[de,M.offlineIpLimit,void 0,{number:!0}]])]),i("div",OA,[i("label",xA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),Z(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[23]||(O[23]=I=>M.offlineEmailLimit=I)},null,512),[[de,M.offlineEmailLimit,void 0,{number:!0}]])])]),i("div",vA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:W,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,NA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,PA)])],32))])):f.value==="tax"?(x(),P("div",MA,[i("header",IA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ee,disabled:r(l).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,kA)]),r(l).error?(x(),P("div",wA,d(r(l).error),1)):(x(),P("div",$A,[i("div",DA,[i("table",LA,[i("thead",null,[i("tr",null,[i("th",UA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",YA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",XA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",FA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",GA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),O[66]||(O[66]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(l).items.length?_e("",!0):(x(),P("tr",VA,[i("td",HA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(x(!0),P(Te,null,xe(r(l).items,I=>{var m;return x(),P("tr",{key:I.id,class:Ie({"is-active":Y.id===I.id})},[i("th",BA,d(I.country),1),i("td",null,d(I.region||""),1),i("td",null,d(((m=I.rate)!=null?m:0).toFixed(2))+"%",1),i("td",null,d(I.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1),i("td",null,d(I.priority),1),i("td",KA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:A=>ne(I),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[O[67]||(O[67]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",JA,d(r(n)("JEDIT","Edit")),1)],8,jA),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:A=>z(I),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[O[68]||(O[68]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",qA,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,WA)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:gt(G,["prevent"])},[i("h4",null,d(Y.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",zA,[i("label",QA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),Z(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[24]||(O[24]=I=>Y.country=I),maxlength:"2",required:""},null,512),[[de,Y.country,void 0,{trim:!0}]])]),i("div",ZA,[i("label",eT,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),Z(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[25]||(O[25]=I=>Y.region=I)},null,512),[[de,Y.region,void 0,{trim:!0}]])]),i("div",tT,[i("label",nT,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),Z(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[26]||(O[26]=I=>Y.rate=I),required:""},null,512),[[de,Y.rate,void 0,{number:!0}]])]),i("div",sT,[i("label",iT,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),Z(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[27]||(O[27]=I=>Y.inclusive=I)},null,512),[[_t,Y.inclusive]])]),i("div",oT,[i("label",aT,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),Z(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":O[28]||(O[28]=I=>Y.priority=I)},null,512),[[de,Y.priority,void 0,{number:!0}]])]),i("div",rT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:pe,disabled:r(l).saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,lT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(l).saving},d(r(l).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,cT)])],32)]))])):f.value==="shipping"?(x(),P("div",dT,[i("header",uT,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:oe,disabled:r(u).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,pT)]),r(u).error?(x(),P("div",_T,d(r(u).error),1)):(x(),P("div",fT,[i("div",mT,[i("table",hT,[i("thead",null,[i("tr",null,[i("th",gT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",ET,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",ST,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",CT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",bT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",AT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),O[69]||(O[69]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(u).items.length?_e("",!0):(x(),P("tr",TT,[i("td",yT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(x(!0),P(Te,null,xe(r(u).items,I=>(x(),P("tr",{key:I.id,class:Ie({"is-active":$.id===I.id})},[i("th",RT,d(I.name),1),i("td",null,d(Me(I.type)),1),i("td",null,d(be(I.price_cents,c.value)),1),i("td",null,d(I.type==="free_over"?be(I.threshold_cents,c.value):""),1),i("td",null,d(I.regions&&I.regions.length?I.regions.join(", "):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,[i("span",{class:Ie(["nxp-ec-badge",{"is-active":I.active}])},[i("i",{class:Ie(I.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Pe(" "+d(I.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)]),i("td",OT,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:m=>Q(I),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[O[70]||(O[70]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",vT,d(r(n)("JEDIT","Edit")),1)],8,xT),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:m=>me(I),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[O[71]||(O[71]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",PT,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,NT)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:gt(ge,["prevent"])},[i("h4",null,d($.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",MT,[i("label",IT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),Z(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[29]||(O[29]=I=>$.name=I),required:""},null,512),[[de,$.name,void 0,{trim:!0}]])]),i("div",kT,[i("label",wT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),Z(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":O[30]||(O[30]=I=>$.type=I)},[i("option",$T,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",DT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[ht,$.type]])]),i("div",LT,[i("label",UT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),Z(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[31]||(O[31]=I=>$.price=I),required:""},null,512),[[de,$.price,void 0,{number:!0}]])]),$.type==="free_over"?(x(),P("div",YT,[i("label",XT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),Z(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[32]||(O[32]=I=>$.threshold=I),required:""},null,512),[[de,$.threshold,void 0,{number:!0}]])])):_e("",!0),i("div",FT,[i("label",GT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),Z(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[33]||(O[33]=I=>$.regions=I),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,VT),[[de,$.regions,void 0,{trim:!0}]])]),i("div",HT,[i("label",BT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),Z(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[34]||(O[34]=I=>$.active=I)},null,512),[[_t,$.active]])]),i("div",KT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ce,disabled:r(u).saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,jT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(u).saving},d(r(u).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,JT)])],32)]))])):f.value==="payments"?(x(),P("div",WT,[i("header",qT,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",zT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:J,disabled:r(p).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,QT)])]),r(p).error?(x(),P("div",ZT,d(r(p).error),1)):r(p).loading?(x(),P("div",ey,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(x(),P("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:gt(q,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",ty,[i("label",ny,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),Z(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[35]||(O[35]=I=>U.stripe.publishable_key=I)},null,512),[[de,U.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",sy,[i("label",iy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),Z(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":O[36]||(O[36]=I=>U.stripe.secret_key=I),autocomplete:"off"},null,512),[[de,U.stripe.secret_key,void 0,{trim:!0}]])]),i("div",oy,[i("label",ay,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),Z(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":O[37]||(O[37]=I=>U.stripe.webhook_secret=I),autocomplete:"off"},null,512),[[de,U.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",ry,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",ly,[i("label",cy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Z(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":O[38]||(O[38]=I=>U.stripe.mode=I)},[i("option",dy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",uy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ht,U.stripe.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",py,[i("label",_y,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),Z(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[39]||(O[39]=I=>U.paypal.client_id=I)},null,512),[[de,U.paypal.client_id,void 0,{trim:!0}]])]),i("div",fy,[i("label",my,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),Z(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":O[40]||(O[40]=I=>U.paypal.client_secret=I),autocomplete:"off"},null,512),[[de,U.paypal.client_secret,void 0,{trim:!0}]])]),i("div",hy,[i("label",gy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),Z(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[41]||(O[41]=I=>U.paypal.webhook_id=I)},null,512),[[de,U.paypal.webhook_id,void 0,{trim:!0}]]),i("p",Ey,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",Sy,[i("label",Cy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Z(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":O[42]||(O[42]=I=>U.paypal.mode=I)},[i("option",by,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",Ay,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ht,U.paypal.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",Ty,[i("label",yy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),Z(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":O[43]||(O[43]=I=>U.cod.enabled=I)},null,512),[[_t,U.cod.enabled]])]),i("div",Ry,[i("label",Oy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),Z(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[44]||(O[44]=I=>U.cod.label=I),placeholder:"Cash on delivery"},null,512),[[de,U.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",xy,[i("label",vy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),Z(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":O[45]||(O[45]=I=>U.bank_transfer.enabled=I)},null,512),[[_t,U.bank_transfer.enabled]])]),i("div",Ny,[i("label",Py,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),Z(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[46]||(O[46]=I=>U.bank_transfer.label=I),placeholder:"Bank transfer"},null,512),[[de,U.bank_transfer.label,void 0,{trim:!0}]])]),i("div",My,[i("label",Iy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),Z(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":O[47]||(O[47]=I=>U.bank_transfer.instructions=I),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,ky),[[de,U.bank_transfer.instructions]]),i("p",wy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",$y,[i("div",Dy,[i("label",Ly,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),Z(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[48]||(O[48]=I=>U.bank_transfer.account_name=I)},null,512),[[de,U.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",Uy,[i("label",Yy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),Z(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[49]||(O[49]=I=>U.bank_transfer.iban=I),maxlength:"34"},null,512),[[de,U.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",Xy,[i("label",Fy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),Z(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[50]||(O[50]=I=>U.bank_transfer.bic=I),maxlength:"11"},null,512),[[de,U.bank_transfer.bic,void 0,{trim:!0}]])])])]),r(p).message?(x(),P("div",Gy,d(r(p).message),1)):_e("",!0),i("div",Vy,[i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(p).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,Hy),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(p).saving},d(r(p).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,By)])],32))])):f.value==="visual"?(x(),P("div",Ky,[i("header",jy,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ie,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,Jy)]),r(a).error?(x(),P("div",Wy,d(r(a).error),1)):r(a).loading?(x(),P("div",qy,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(x(),P("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:gt(he,["prevent"])},[i("p",zy,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",Qy,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",Zy,[i("div",eR,[i("label",tR,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",nR,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:k.primaryColor||F.value.primary,onInput:O[51]||(O[51]=I=>k.primaryColor=I.target.value)},null,40,sR),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[52]||(O[52]=I=>k.primaryColor=I),placeholder:F.value.primary,maxlength:"7"},null,8,iR),[[de,k.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[53]||(O[53]=I=>k.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",oR,[i("label",aR,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",rR,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:k.textColor||F.value.text,onInput:O[54]||(O[54]=I=>k.textColor=I.target.value)},null,40,lR),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[55]||(O[55]=I=>k.textColor=I),placeholder:F.value.text,maxlength:"7"},null,8,cR),[[de,k.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[56]||(O[56]=I=>k.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",dR,[i("label",uR,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",pR,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:k.surfaceColor||F.value.surface,onInput:O[57]||(O[57]=I=>k.surfaceColor=I.target.value)},null,40,_R),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[58]||(O[58]=I=>k.surfaceColor=I),placeholder:F.value.surface,maxlength:"7"},null,8,fR),[[de,k.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[59]||(O[59]=I=>k.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",mR,[i("label",hR,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",gR,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:k.borderColor||F.value.border,onInput:O[60]||(O[60]=I=>k.borderColor=I.target.value)},null,40,ER),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[61]||(O[61]=I=>k.borderColor=I),placeholder:F.value.border,maxlength:"7"},null,8,SR),[[de,k.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[62]||(O[62]=I=>k.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",CR,[i("label",bR,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",AR,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:k.mutedColor||F.value.muted,onInput:O[63]||(O[63]=I=>k.mutedColor=I.target.value)},null,40,TR),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[64]||(O[64]=I=>k.mutedColor=I),placeholder:F.value.muted,maxlength:"7"},null,8,yR),[[de,k.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[65]||(O[65]=I=>k.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",RR,[i("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Gt(K.value)},[i("button",OR,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",xR,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",vR,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",NR,[i("button",{class:"nxp-ec-btn",type:"button",onClick:fe,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,PR),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,MR)])],32))])):_e("",!0)]))}},[["__scopeId","data-v-cdf2cf72"]]),kR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},wR={class:"nxp-ec-admin-panel__header"},$R={class:"nxp-ec-admin-panel__title"},DR={class:"nxp-ec-admin-panel__lead"},LR={class:"nxp-ec-admin-panel__actions"},UR=["placeholder","aria-label"],YR=["value"],XR={value:""},FR=["value"],GR=["disabled","title","aria-label"],VR={class:"nxp-ec-sr-only"},HR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},BR={key:1,class:"nxp-ec-admin-panel__body"},KR={key:2,class:"nxp-ec-admin-panel__body"},jR={class:"nxp-ec-admin-panel__table"},JR={class:"nxp-ec-admin-table"},WR={scope:"col"},qR={scope:"col"},zR={scope:"col"},QR={scope:"col"},ZR={scope:"col"},eO={key:0},tO={colspan:"5"},nO=["data-label"],sO=["data-label"],iO={class:"nxp-ec-log-entity"},oO={class:"nxp-ec-log-entity-id"},aO=["data-label"],rO=["data-label"],lO=["data-label"],cO={class:"nxp-ec-log-context"},dO={key:0,class:"nxp-ec-admin-pagination"},uO=["disabled"],pO={class:"nxp-ec-admin-pagination__status"},_O=["disabled"],fO=["title"],mO=xt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.state,l=Ee(()=>{const U=new Set;return Array.isArray(a.items)&&a.items.forEach(k=>{k!=null&&k.entity_type&&U.add(k.entity_type)}),a.entity&&U.add(a.entity),Array.from(U).sort()}),u=()=>o("refresh"),p=()=>o("search"),h=U=>o("filter",U),f=U=>o("page",U),c=U=>{if(!U)return"";try{const k=new Date(U.replace(" ","T"));if(!Number.isNaN(k.getTime()))return k.toLocaleString()}catch(k){}return U},E=U=>{if(!U)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(U){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return U.charAt(0).toUpperCase()+U.slice(1)}},M=U=>{if(!(U!=null&&U.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const k=U.user.name||"",F=U.user.username||"";return k&&F?`${k} (${F})`:k||F||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},Y=U=>{if(!U||Array.isArray(U)&&!U.length||typeof U=="object"&&!Object.keys(U).length)return"";try{return JSON.stringify(U,null,2)}catch(k){return String(U)}},$=U=>{if(!U)return"";try{const k=new Date(U),K=new Date-k,H=Math.floor(K/1e3),L=Math.floor(H/60),y=Math.floor(L/60);return H<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):L<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[L]):y<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[y]):k.toLocaleString()}catch(k){return U}};return(U,k)=>(x(),P("section",kR,[i("header",wR,[i("div",null,[i("h2",$R,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",DR,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",LR,[Z(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":k[0]||(k[0]=F=>r(a).search=F),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:zt(p,["enter"])},null,40,UR),[[de,r(a).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(a).entity,onChange:k[1]||(k[1]=F=>h(F.target.value)),"aria-label":"Entity filter"},[i("option",XR,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(x(!0),P(Te,null,xe(l.value,F=>(x(),P("option",{key:F,value:F},d(E(F)),9,FR))),128))],40,YR),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(a).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[k[4]||(k[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",VR,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,GR)])]),r(a).error?(x(),P("div",HR,d(r(a).error),1)):_e("",!0),r(a).loading?(x(),P("div",BR,[Be(Ln,{type:"table",rows:5,columns:5})])):_e("",!0),r(a).loading?_e("",!0):(x(),P("div",KR,[i("div",jR,[i("table",JR,[i("thead",null,[i("tr",null,[i("th",WR,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",qR,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",zR,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",QR,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",ZR,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(a).items.length?_e("",!0):(x(),P("tr",eO,[i("td",tO,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(x(!0),P(Te,null,xe(r(a).items,F=>(x(),P("tr",{key:F.id},[i("td",{class:"nxp-ec-admin-table__primary","data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},d(c(F.created)),9,nO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[i("span",iO,d(E(F.entity_type)),1),i("span",oO,"#"+d(F.entity_id),1)],8,sO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},d(F.action),9,aO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},d(M(F)),9,rO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[i("pre",cO,d(Y(F.context)),1)],8,lO)]))),128))])]),r(a).pagination.pages>1?(x(),P("div",dO,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current<=1,onClick:k[2]||(k[2]=F=>f(r(a).pagination.current-1))},"  ",8,uO),i("span",pO,d(r(a).pagination.current)+" / "+d(r(a).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current>=r(a).pagination.pages,onClick:k[3]||(k[3]=F=>f(r(a).pagination.current+1))},"  ",8,_O)])):_e("",!0)]),r(a).lastUpdated?(x(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(a).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d($(r(a).lastUpdated)),9,fO)):_e("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),hO={key:0,class:"nxp-ec-onboarding"},gO={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},EO={class:"nxp-ec-onboarding__header"},SO={class:"nxp-ec-onboarding__title"},CO={class:"nxp-ec-onboarding__lead"},bO={class:"nxp-ec-onboarding__progress"},AO={class:"nxp-ec-onboarding__progress-bar"},TO={class:"nxp-ec-onboarding__progress-label"},yO={class:"nxp-ec-onboarding__steps"},RO={class:"nxp-ec-onboarding__step-main"},OO={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},xO={key:0,class:"fa-solid fa-circle-check"},vO={key:1,class:"fa-regular fa-circle"},NO={class:"nxp-ec-onboarding__step-actions"},PO=["onClick"],MO=xt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,o=Ee(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=Ee(()=>`${o.value}%`),a=Ee(()=>{const l=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,u)=>e.visible?(x(),P("div",hO,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>l.$emit("close"))}),i("section",gO,[i("header",EO,[i("div",null,[i("h2",SO,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",CO,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>l.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",bO,[i("div",AO,[i("span",{style:Gt({width:n.value})},null,4)]),i("span",TO,d(a.value),1)]),i("ol",yO,[(x(!0),P(Te,null,xe(e.steps,p=>(x(),P("li",{key:p.id,class:Ie({"is-complete":p.completed})},[i("div",RO,[i("span",OO,[p.completed?(x(),P("span",xO)):(x(),P("span",vO))]),i("div",null,[i("h3",null,d(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,d(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",NO,[p.link?(x(),P("button",{key:0,type:"button",class:Ie(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:h=>l.$emit("navigate",p)},d(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,PO)):_e("",!0)])],2))),128))])])])):_e("",!0)}},[["__scopeId","data-v-c2a94811"]]),IO=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let o=String(e);return t.forEach(a=>{const l=a!=null?a:"";o=o.replace("%s",String(l))}),o},kO=(e,t="",s=[])=>{var a;const o=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(n=l)}return IO(n,s)};function wO(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const l=t[n];return l!=null&&l!==""?l:a};return{__:(n,a="",l=[],u="")=>{const p=s(u,a);return kO(n,p,l)}}}class $O{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};o.headers={...o.headers,...s.headers||{}};const n=String(o.method||"GET").toUpperCase();let a=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const l=await fetch(a,o);let u=null;const p=await l.text();if(p)try{u=JSON.parse(p)}catch(h){}if(!l.ok){const h=new Error((u==null?void 0:u.message)||`Request failed with status ${l.status}`);throw h.code=l.status,h.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,h}if((u==null?void 0:u.success)===!1){const h=new Error(u.message||"Unknown API error");throw h.details=u.data||u.errors||null,h}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,o);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(o){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var E,M,Y,$;const l=new URLSearchParams({limit:String(s),start:String(o)});n&&l.set("search",n);const u=`${t}&${l.toString()}`,h=(E=(await this.get(u,{signal:a})).data)!=null?E:{},f=(Y=(M=h.items)!=null?M:h.data)!=null?Y:[],c=($=h.pagination)!=null?$:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCategories({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var h,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(h=(await this.get(l,{signal:a})).data)!=null?h:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:o=0,search:n="",state:a="",signal:l}){var E,M,Y,$;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,state:a||void 0}),h=(E=(await this.get(u,{signal:l})).data)!=null?E:{},f=(Y=(M=h.items)!=null?M:h.data)!=null?Y:[],c=($=h.pagination)!=null?$:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCustomers({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var c,E,M;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(c=(await this.get(l,{signal:a})).data)!=null?c:{},h=(E=p.items)!=null?E:[],f=(M=p.pagination)!=null?M:{total:0,limit:s,pages:0,current:0};return{items:h,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var h,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(h=(await this.get(l,{signal:a})).data)!=null?h:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var h,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(h=(await this.get(l,{signal:a})).data)!=null?h:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var h,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(h=(await this.get(l,{signal:a})).data)!=null?h:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:o=0,search:n="",entity:a="",signal:l}){var f,c,E;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,entity:a||void 0}),h=(f=(await this.get(u,{signal:l})).data)!=null?f:{};return{items:(c=h.items)!=null?c:[],pagination:(E=h.pagination)!=null?E:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,n;return t?(n=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:o=""}){var l,u;const n=this.mergeParams(t,{id:s||void 0,order_no:o||void 0});return(u=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.post(n,{state:o})).data)==null?void 0:l.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:o}){var l;const n={ids:s,state:o};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:o}){var a,l;return(l=(a=(await this.post(t,{id:s,message:o})).data)==null?void 0:a.order)!=null?l:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:o}){var l,u;const n={id:s||void 0,order_no:o||void 0};return(u=(l=(await this.post(t,n)).data)==null?void 0:l.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:o=""}){var l,u;const n=this.mergeParams(t,{search:s||void 0,state:o||void 0});return(u=(l=(await this.get(n)).data)==null?void 0:l.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:o}){var a,l;return(l=(a=(await this.post(t,{id:s,...o})).data)==null?void 0:a.order)!=null?l:null}async sendOrderEmail({endpoint:t,id:s,type:o}){var a,l;return(l=(a=(await this.post(t,{id:s,type:o})).data)==null?void 0:a.order)!=null?l:null}async recordTransaction({endpoint:t,id:s,amountCents:o,reference:n,note:a}){var u,p;return(p=(u=(await this.post(t,{id:s,amount_cents:o,reference:n||void 0,note:a||void 0})).data)==null?void 0:u.order)!=null?p:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async gdprExport({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.export)!=null?l:null}async gdprAnonymise({endpoint:t,email:s}){var n,a,l,u;const o=await this.post(t,{email:s});return{affected:(a=(n=o.data)==null?void 0:n.affected)!=null?a:0,message:(u=(l=o.data)==null?void 0:l.message)!=null?u:""}}mergeParams(t,s={}){const o=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||o.set(n,String(a))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const Et=e=>new $O(e),ia=typeof window!="undefined"&&window.performance;function oa(e){if(ia)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function DO(e,t,s){if(!ia)return null;try{performance.measure(e,t,s);const o=performance.getEntriesByName(e,"measure")[0];if(o)return console.log(`[NXP EC Performance] ${e}: ${o.duration.toFixed(2)}ms`),o.duration}catch(o){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,o)}return null}const hs=ke({}),LO=3e5;function UO(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function vt(e,t=LO){const s=hs[e];return s?UO(s,t)?s.data:(delete hs[e],null):null}function St(e,t){hs[e]={data:t,timestamp:Date.now()}}function Ue(e){delete hs[e]}function Nt(e){const t=He({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return oa(l),l},endFetch:l=>{const u=`${e}-fetch-end`;oa(u);const p=DO(`${e}-fetch`,l,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const ci=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function YO({endpoints:e,token:t,autoload:s=!0,cacheTTL:o=3e5}){var y,te,le,Se;const n=Et({token:t}),a=Nt("products"),l=(y=e==null?void 0:e.list)!=null?y:"",u=(te=e==null?void 0:e.create)!=null?te:ci(l,"store"),p=(le=e==null?void 0:e.update)!=null?le:ci(l,"update"),h=(Se=e==null?void 0:e.delete)!=null?Se:ci(l,"delete"),f=typeof AbortController!="undefined",c=ke({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),E=He(null),M=()=>{const W=c.pagination.current||1,J=c.pagination.limit||20,q=c.search.trim();return`products:page=${W}:limit=${J}:search=${q}`},Y=async(W=!1)=>{var he;if(!l){c.error="Products endpoint unavailable.",c.items=[];return}const J=M(),q=W?null:vt(J,o);if(q){a.recordCacheHit(),c.items=q.items,c.pagination={...c.pagination,...q.pagination},c.lastUpdated=q.lastUpdated;return}a.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],E.value&&f&&E.value.abort();const j=f?new AbortController:null;E.value=j;const ie=a.startFetch();try{const{items:fe,pagination:ee}=await n.fetchProducts({endpoint:l,signal:j?j.signal:void 0,limit:c.pagination.limit,start:Math.max(0,(c.pagination.current-1)*c.pagination.limit),search:c.search.trim()});c.items=fe,c.pagination={...c.pagination,...ee,current:ee.current&&ee.current>0?ee.current:1},c.lastUpdated=new Date().toISOString(),St(J,{items:fe,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(fe){if((fe==null?void 0:fe.name)==="AbortError")return;c.error=(he=fe==null?void 0:fe.message)!=null?he:"Unknown error"}finally{a.endFetch(ie),f&&E.value===j&&(E.value=null),c.loading=!1}},$=()=>{c.pagination.current=1,Ue(M()),Y(!0)},U=()=>{c.pagination.current=1,Y()},k=W=>W?typeof W=="string"?W:typeof W=="object"&&W.message?String(W.message):String(W):"",F=(W,{setValidation:J=!1}={})=>{var q;if((W==null?void 0:W.code)===422&&J){const j=Array.isArray(W.details)?W.details:[W.details].filter(Boolean);c.validationErrors=j.map(k).filter(ie=>ie!=="");return}c.error=(q=W==null?void 0:W.message)!=null?q:"Unknown error"},K=async W=>{if(!u)throw new Error("Create endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const J=await n.createProduct({endpoint:u,data:W});return J&&(c.items=[J,...c.items],c.pagination.total+=1,Ue(M())),J}catch(J){throw F(J,{setValidation:!0}),J}finally{c.saving=!1}},H=async(W,J)=>{if(!p)throw new Error("Update endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const q=await n.updateProduct({endpoint:p,id:W,data:J});if(q){const j=c.items.findIndex(ie=>ie.id===q.id);j!==-1&&c.items.splice(j,1,q),Ue(M())}return q}catch(q){throw F(q,{setValidation:!0}),q}finally{c.saving=!1}},L=async W=>{if(!h)throw new Error("Delete endpoint unavailable.");c.deleting=!0,c.validationErrors=[];try{const J=await n.deleteProducts({endpoint:h,ids:W});return J.length&&(c.items=c.items.filter(q=>!J.includes(q.id)),c.pagination.total=Math.max(0,c.pagination.total-J.length),Ue(M())),J}catch(J){throw F(J),J}finally{c.deleting=!1}};return it(()=>{s&&Y()}),{state:c,loadProducts:Y,refresh:$,search:U,createProduct:K,updateProduct:H,deleteProducts:L,metrics:a.metrics}}function XO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var te,le,Se,W,J,q,j,ie,he,fe,ee,oe,ne,pe;const a=Et({token:t}),l=Nt("categories"),u=(te=e==null?void 0:e.list)!=null?te:"",p=(le=e==null?void 0:e.create)!=null?le:u,h=(Se=e==null?void 0:e.update)!=null?Se:u,f=(W=e==null?void 0:e.delete)!=null?W:u,c=ke({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(ie=(j=(J=s.pagination)==null?void 0:J.total)!=null?j:(q=s.items)==null?void 0:q.length)!=null?ie:0,limit:(fe=(he=s.pagination)==null?void 0:he.limit)!=null?fe:20,pages:(oe=(ee=s.pagination)==null?void 0:ee.pages)!=null?oe:0,current:(pe=(ne=s.pagination)==null?void 0:ne.current)!=null?pe:1},search:"",lastUpdated:null}),E=typeof AbortController!="undefined",M=He(null),Y=()=>{const G=c.pagination.current||1,z=c.pagination.limit||20,Q=c.search.trim();return`categories:page=${G}:limit=${z}:search=${Q}`},$=async(G=!1)=>{var me;if(!u){c.error="Categories endpoint unavailable.",c.items=[];return}const z=Y(),Q=G?null:vt(z,n);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],M.value&&E&&M.value.abort();const ce=E?new AbortController:null;M.value=ce;const ge=l.startFetch();try{const be=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:Me,pagination:w}=await a.fetchCategories({endpoint:u,limit:c.pagination.limit,start:be,search:c.search.trim(),signal:ce?ce.signal:void 0});c.items=Me,c.pagination={...c.pagination,...w,current:w.current&&w.current>0?w.current:1},c.lastUpdated=new Date().toISOString(),St(z,{items:Me,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(be){if((be==null?void 0:be.name)==="AbortError")return;c.error=(me=be==null?void 0:be.message)!=null?me:"Unknown error"}finally{l.endFetch(ge),E&&M.value===ce&&(M.value=null),c.loading=!1}},U=()=>{c.pagination.current=1,Ue(Y()),$(!0)},k=()=>{c.pagination.current=1,$()},F=G=>{const z=Number(G);Number.isNaN(z)||z<1||z===c.pagination.current||(c.pagination.current=z,$(!0))},K=(G,{validation:z=!1}={})=>{var Q;if(z&&(G==null?void 0:G.code)===422){const ce=G.details,ge=Array.isArray(ce)?ce:[ce].filter(Boolean);c.validationErrors=ge.map(me=>me?typeof me=="string"?me:typeof me=="object"&&me.message?String(me.message):String(me):"").filter(Boolean);return}c.error=(Q=G==null?void 0:G.message)!=null?Q:"Unknown error"},H=async G=>{if(!p||!h)throw new Error("Category endpoints unavailable.");c.saving=!0,c.error="",c.validationErrors=[];try{let z=null;return G.id?z=await a.updateCategory({endpoint:h,id:G.id,data:G}):z=await a.createCategory({endpoint:p,data:G}),z&&(Ue(Y()),await $()),z}catch(z){throw K(z,{validation:!0}),z}finally{c.saving=!1}},L=async G=>{if(!Array.isArray(G)||!G.length||!f)return 0;c.deleting=!0,c.error="";try{const z=await a.deleteCategories({endpoint:f,ids:G});return z&&(Ue(Y()),await $()),z}catch(z){throw K(z),z}finally{c.deleting=!1}},y=async()=>{if(!u)return[];try{const{items:G}=await a.fetchCategories({endpoint:u,limit:200,start:0,search:""});return G}catch(G){return[]}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&$()}),{state:c,loadCategories:$,refresh:U,search:k,goToPage:F,saveCategory:H,deleteCategories:L,loadOptions:y,metrics:l.metrics}}const Ut=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function FO({endpoints:e,token:t,states:s=[],preload:o={},autoload:n=!0,cacheTTL:a=3e5}){var Me,w,O,I,m,A,B,b,C,D,g,_,S,v;const l=Et({token:t}),u=Nt("orders"),p=(Me=e==null?void 0:e.list)!=null?Me:"",h=(w=e==null?void 0:e.show)!=null?w:Ut(p,"show"),f=(O=e==null?void 0:e.transition)!=null?O:Ut(p,"transition"),c=(I=e==null?void 0:e.bulkTransition)!=null?I:Ut(p,"bulkTransition"),E=(m=e==null?void 0:e.note)!=null?m:Ut(p,"note"),M=(A=e==null?void 0:e.tracking)!=null?A:Ut(p,"tracking"),Y=(B=e==null?void 0:e.invoice)!=null?B:Ut(p,"invoice"),$=(b=e==null?void 0:e.export)!=null?b:Ut(p,"export"),U=(C=e==null?void 0:e.sendEmail)!=null?C:Ut(p,"sendEmail"),k=(D=e==null?void 0:e.recordTransaction)!=null?D:Ut(p,"recordTransaction"),F=typeof AbortController!="undefined",K=He(null),H=Array.isArray(o==null?void 0:o.items)?o.items:[],L=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},y=ke({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...H],pagination:{total:(g=L.total)!=null?g:H.length,limit:(_=L.limit)!=null?_:20,pages:(S=L.pages)!=null?S:0,current:(v=L.current)!=null?v:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),te=()=>{const T=y.pagination.current||1,R=y.pagination.limit||20,V=y.search.trim(),N=y.filterState||"";return`orders:page=${T}:limit=${R}:search=${V}:state=${N}`},le=async(T=!1)=>{var re;if(!p){y.error="Orders endpoint unavailable.",y.items=[];return}const R=te(),V=T?null:vt(R,a);if(V){u.recordCacheHit(),y.items=V.items,y.pagination={...y.pagination,...V.pagination},y.lastUpdated=V.lastUpdated;return}u.recordCacheMiss(),y.loading=!0,y.error="",K.value&&F&&K.value.abort();const N=F?new AbortController:null;K.value=N;const se=u.startFetch();try{const ue=Math.max(0,(y.pagination.current-1)*y.pagination.limit),{items:Ce,pagination:Oe}=await l.fetchOrders({endpoint:p,limit:y.pagination.limit,start:ue,search:y.search.trim(),state:y.filterState,signal:N?N.signal:void 0});y.items=Ce,y.pagination={...y.pagination,...Oe,current:Oe.current&&Oe.current>0?Oe.current:1},y.selection.clear(),y.lastUpdated=new Date().toISOString(),St(R,{items:Ce,pagination:y.pagination,lastUpdated:y.lastUpdated})}catch(ue){if((ue==null?void 0:ue.name)==="AbortError")return;y.error=(re=ue==null?void 0:ue.message)!=null?re:"Unknown error"}finally{u.endFetch(se),F&&K.value===N&&(K.value=null),y.loading=!1}},Se=()=>{y.pagination.current=1,Ue(te()),le(!0)},W=()=>{y.pagination.current=1,le()},J=T=>{y.filterState=T||"",y.pagination.current=1,le()},q=T=>{const R=Number(T);Number.isNaN(R)||R<1||R===y.pagination.current||(y.pagination.current=R,le(!0))},j=()=>{y.selection.clear()},ie=T=>{T&&(y.selection.has(T)?y.selection.delete(T):y.selection.add(T))},he=()=>{y.pagination.current>=y.pagination.pages||(y.pagination.current+=1,le(!0))},fe=()=>{y.pagination.current<=1||(y.pagination.current-=1,le(!0))},ee=async(T,R="")=>{var V;if(!h)return null;try{return await l.fetchOrder({endpoint:h,id:T,orderNumber:R})}catch(N){return y.transitionError=(V=N==null?void 0:N.message)!=null?V:"Unknown error",null}},oe=async T=>{var R,V,N,se,re,ue,Ce;if(!T){y.activeOrder=null;return}if(y.transitionError="",T.items&&T.items.length&&T.billing){y.activeOrder=T;return}try{const Oe=await ee(T.id,T.order_no);y.activeOrder=Oe||{...T,items:Array.isArray(T.items)?T.items:[],transactions:(R=T.transactions)!=null?R:[],timeline:(V=T.timeline)!=null?V:[],billing:(N=T.billing)!=null?N:{}}}catch(Oe){y.transitionError=(se=Oe==null?void 0:Oe.message)!=null?se:"Unknown error",y.activeOrder={...T,items:Array.isArray(T.items)?T.items:[],transactions:(re=T.transactions)!=null?re:[],timeline:(ue=T.timeline)!=null?ue:[],billing:(Ce=T.billing)!=null?Ce:{}}}},ne=()=>{y.transitionError="",y.activeOrder=null},pe=T=>{if(!(T!=null&&T.id))return;const R=y.items.findIndex(V=>V.id===T.id);R!==-1&&y.items.splice(R,1,T)},G=async(T,R)=>{var V;if(!f)throw new Error("Transition endpoint unavailable.");y.saving=!0,y.transitionError="";try{const N=await l.transitionOrder({endpoint:f,id:T,state:R});return N&&(pe(N),y.activeOrder&&y.activeOrder.id===N.id&&(y.activeOrder=N),Ue(te())),N}catch(N){throw y.transitionError=(V=N==null?void 0:N.message)!=null?V:"Unknown error",N}finally{y.saving=!1}},z=async(T,R)=>{var V;if(!M)throw new Error("Tracking endpoint unavailable.");y.saving=!0,y.transitionError="";try{const N=await l.updateOrderTracking({endpoint:M,id:T,tracking:R});return N&&(pe(N),y.activeOrder&&y.activeOrder.id===N.id&&(y.activeOrder=N),Ue(te())),N}catch(N){throw y.transitionError=(V=N==null?void 0:N.message)!=null?V:"Unknown error",N}finally{y.saving=!1}},Q=async(T,R="")=>{var V;if(!Y)throw new Error("Invoice endpoint unavailable.");y.invoiceLoading=!0,y.transitionError="";try{const N=await l.fetchOrderInvoice({endpoint:Y,id:T,orderNumber:R});if(!N)throw new Error("Invoice not available.");return N}catch(N){throw y.transitionError=(V=N==null?void 0:N.message)!=null?V:"Unknown error",N}finally{y.invoiceLoading=!1}},ce=async()=>{var T;if(!$)throw new Error("Export endpoint unavailable.");y.exporting=!0,y.error="";try{const R=await l.exportOrders({endpoint:$,search:y.search.trim(),state:y.filterState});if(!R)throw new Error("Export not available.");return R}catch(R){throw y.error=(T=R==null?void 0:R.message)!=null?T:"Export failed",R}finally{y.exporting=!1}},ge=async(T,R)=>{var V;if(!U)throw new Error("Send email endpoint unavailable.");y.saving=!0,y.transitionError="";try{const N=await l.sendOrderEmail({endpoint:U,id:T,type:R});return N&&(pe(N),y.activeOrder&&y.activeOrder.id===N.id&&(y.activeOrder=N),Ue(te())),N}catch(N){throw y.transitionError=(V=N==null?void 0:N.message)!=null?V:"Failed to send email",N}finally{y.saving=!1}},me=async(T,{amountCents:R,reference:V,note:N})=>{var se;if(!k)throw new Error("Record transaction endpoint unavailable.");y.saving=!0,y.transitionError="";try{const re=await l.recordTransaction({endpoint:k,id:T,amountCents:R,reference:V,note:N});return re&&(pe(re),y.activeOrder&&y.activeOrder.id===re.id&&(y.activeOrder=re),Ue(te())),re}catch(re){throw y.transitionError=(se=re==null?void 0:re.message)!=null?se:"Failed to record payment",re}finally{y.saving=!1}},be=async(T,R)=>{var V;if(!c)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(T)||!T.length)return{updated:[]};y.saving=!0;try{const N=await l.bulkTransitionOrders({endpoint:c,ids:T,state:R}),se=Array.isArray(N.updated)?N.updated:[];return se.forEach(re=>{pe(re),y.activeOrder&&y.activeOrder.id===re.id&&(y.activeOrder=re)}),j(),{updated:se}}catch(N){throw y.transitionError=(V=N==null?void 0:N.message)!=null?V:"Unknown error",N}finally{y.saving=!1}};return it(()=>{n&&le()}),{state:y,loadOrders:le,refresh:Se,search:W,setFilterState:J,goToPage:q,nextPage:he,previousPage:fe,viewOrder:oe,closeOrder:ne,transitionOrder:G,bulkTransition:be,updateTracking:z,downloadInvoice:Q,exportOrders:ce,sendEmail:ge,recordTransaction:me,toggleSelection:ie,clearSelection:j,metrics:u.metrics,addNote:async(T,R)=>{var V;if(!E)throw new Error("Note endpoint unavailable.");if(!T||!R||!R.trim())return null;y.transitionError="",y.saving=!0;try{const N=await l.addOrderNote({endpoint:E,id:T,message:R});return N&&(pe(N),y.activeOrder&&y.activeOrder.id===N.id&&(y.activeOrder=N)),N}catch(N){throw y.transitionError=(V=N==null?void 0:N.message)!=null?V:"Unknown error",N}finally{y.saving=!1}}}}function GO({endpoint:e="",token:t="",preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var f,c,E;const a=Et({token:t}),l=Nt("dashboard"),u=ke({loading:!1,error:"",summary:(E=s.summary)!=null?E:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(c=(f=s.summary)==null?void 0:f.currency)!=null?c:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",h=async(M=!1)=>{var k,F;if(!e)return;const Y=p(),$=M?null:vt(Y,n);if($){l.recordCacheHit(),u.summary=$.summary,u.checklist=$.checklist,u.lastUpdated=$.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="";const U=l.startFetch();try{const K=await a.fetchDashboard({endpoint:e});u.summary=(k=K.summary)!=null?k:u.summary,u.checklist=Array.isArray(K.checklist)?K.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),St(Y,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(K){u.error=(F=K==null?void 0:K.message)!=null?F:"Unknown error"}finally{l.endFetch(U),u.loading=!1}};return it(()=>{o&&(!Array.isArray(u.checklist)||!u.checklist.length)&&h()}),{state:u,refresh:h,metrics:l.metrics}}function VO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var te,le,Se,W,J,q,j,ie,he,fe,ee,oe,ne,pe,G,z,Q;const a=Et({token:t}),l=Nt("customers"),u=(te=e==null?void 0:e.list)!=null?te:"",p=(le=e==null?void 0:e.show)!=null?le:"",h=(W=(Se=e==null?void 0:e.gdpr)==null?void 0:Se.export)!=null?W:"",f=(q=(J=e==null?void 0:e.gdpr)==null?void 0:J.anonymise)!=null?q:"",c=ke({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(fe=(he=(j=s.pagination)==null?void 0:j.total)!=null?he:(ie=s.items)==null?void 0:ie.length)!=null?fe:0,limit:(oe=(ee=s.pagination)==null?void 0:ee.limit)!=null?oe:20,pages:(pe=(ne=s.pagination)==null?void 0:ne.pages)!=null?pe:0,current:(z=(G=s.pagination)==null?void 0:G.current)!=null?z:1},search:"",activeCustomer:(Q=s.active)!=null?Q:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),E=typeof AbortController!="undefined",M=He(null),Y=()=>{const ce=c.pagination.current||1,ge=c.pagination.limit||20,me=c.search.trim();return`customers:page=${ce}:limit=${ge}:search=${me}`},$=async(ce=!1)=>{var w;if(!u){c.error="Customers endpoint unavailable.",c.items=[];return}const ge=Y(),me=ce?null:vt(ge,n);if(me){l.recordCacheHit(),c.items=me.items,c.pagination={...c.pagination,...me.pagination},c.lastUpdated=me.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",M.value&&E&&M.value.abort();const be=E?new AbortController:null;M.value=be;const Me=l.startFetch();try{const O=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:I,pagination:m}=await a.fetchCustomers({endpoint:u,limit:c.pagination.limit,start:O,search:c.search.trim(),signal:be?be.signal:void 0});c.items=I,c.pagination={...c.pagination,...m,current:m.current&&m.current>0?m.current:1},c.lastUpdated=new Date().toISOString(),St(ge,{items:I,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(O){if((O==null?void 0:O.name)==="AbortError")return;c.error=(w=O==null?void 0:O.message)!=null?w:"Unknown error"}finally{l.endFetch(Me),E&&M.value===be&&(M.value=null),c.loading=!1}},U=()=>{c.pagination.current=1,Ue(Y()),$(!0)},k=()=>{c.pagination.current=1,$()},F=ce=>{const ge=Number(ce);Number.isNaN(ge)||ge<1||ge===c.pagination.current||(c.pagination.current=ge,$(!0))},K=async ce=>{var ge;if(!p||!(ce!=null&&ce.email)){c.activeCustomer=ce||null;return}try{const me=await a.fetchCustomer({endpoint:p,email:ce.email});c.activeCustomer=me||ce}catch(me){c.error=(ge=me==null?void 0:me.message)!=null?ge:"Unknown error"}},H=()=>{c.activeCustomer=null,c.gdprMessage="",c.gdprSuccess=!1},L=async ce=>{var ge;if(!h||!ce){c.gdprMessage="GDPR export endpoint unavailable.",c.gdprSuccess=!1;return}c.gdprLoading=!0,c.gdprMessage="";try{const me=await a.gdprExport({endpoint:h,email:ce});if(!me)throw new Error("No data returned");const be=new Blob([JSON.stringify(me,null,2)],{type:"application/json"}),Me=URL.createObjectURL(be),w=document.createElement("a");w.href=Me,w.download=`gdpr-export-${ce.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(Me),c.gdprMessage="Data exported successfully.",c.gdprSuccess=!0}catch(me){c.gdprMessage=(ge=me==null?void 0:me.message)!=null?ge:"Export failed",c.gdprSuccess=!1}finally{c.gdprLoading=!1}},y=async ce=>{var me;if(!f||!ce){c.gdprMessage="GDPR anonymise endpoint unavailable.",c.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${ce}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){c.gdprLoading=!0,c.gdprMessage="";try{const be=await a.gdprAnonymise({endpoint:f,email:ce});c.gdprMessage=be.message||`Anonymised ${be.affected} order(s).`,c.gdprSuccess=!0,Ue(Y()),$(!0),setTimeout(()=>{c.activeCustomer=null,c.gdprMessage=""},2e3)}catch(be){c.gdprMessage=(me=be==null?void 0:be.message)!=null?me:"Anonymisation failed",c.gdprSuccess=!1}finally{c.gdprLoading=!1}}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&$()}),{state:c,loadCustomers:$,refresh:U,search:k,goToPage:F,viewCustomer:K,closeCustomer:H,gdprExport:L,gdprAnonymise:y,metrics:l.metrics}}function HO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var te,le,Se,W,J,q,j,ie,he,fe,ee,oe,ne,pe;const a=Et({token:t}),l=Nt("coupons"),u=(te=e==null?void 0:e.list)!=null?te:"",p=(le=e==null?void 0:e.create)!=null?le:u,h=(Se=e==null?void 0:e.update)!=null?Se:u,f=(W=e==null?void 0:e.delete)!=null?W:u,c=ke({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ie=(j=(J=s.pagination)==null?void 0:J.total)!=null?j:(q=s.items)==null?void 0:q.length)!=null?ie:0,limit:(fe=(he=s.pagination)==null?void 0:he.limit)!=null?fe:20,pages:(oe=(ee=s.pagination)==null?void 0:ee.pages)!=null?oe:0,current:(pe=(ne=s.pagination)==null?void 0:ne.current)!=null?pe:1},search:"",activeCoupon:null,lastUpdated:null}),E=typeof AbortController!="undefined",M=He(null),Y=()=>{const G=c.pagination.current||1,z=c.pagination.limit||20,Q=c.search.trim();return`coupons:page=${G}:limit=${z}:search=${Q}`},$=async(G=!1)=>{var me;if(!u){c.error="Coupons endpoint unavailable.",c.items=[];return}const z=Y(),Q=G?null:vt(z,n);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",M.value&&E&&M.value.abort();const ce=E?new AbortController:null;M.value=ce;const ge=l.startFetch();try{const be=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:Me,pagination:w}=await a.fetchCoupons({endpoint:u,limit:c.pagination.limit,start:be,search:c.search.trim(),signal:ce?ce.signal:void 0});c.items=Me,c.pagination={...c.pagination,...w,current:w.current&&w.current>0?w.current:1},c.lastUpdated=new Date().toISOString(),St(z,{items:Me,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(be){if((be==null?void 0:be.name)==="AbortError")return;c.error=(me=be==null?void 0:be.message)!=null?me:"Unknown error"}finally{l.endFetch(ge),E&&M.value===ce&&(M.value=null),c.loading=!1}},U=()=>{c.pagination.current=1,Ue(Y()),$(!0)},k=()=>{c.pagination.current=1,$()},F=G=>{const z=Number(G);Number.isNaN(z)||z<1||z===c.pagination.current||(c.pagination.current=z,$(!0))},K=G=>{c.activeCoupon=G},H=G=>{const z=c.items.findIndex(Q=>Q.id===G.id);z===-1?c.items.unshift(G):c.items.splice(z,1,G)},L=async G=>{var z;c.saving=!0,c.error="";try{let Q=null;return G.id?Q=await a.updateCoupon({endpoint:h,id:G.id,data:G}):Q=await a.createCoupon({endpoint:p,data:G}),Q&&(H(Q),c.activeCoupon&&c.activeCoupon.id===Q.id&&(c.activeCoupon=Q),Ue(Y())),Q}catch(Q){throw c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error",Q}finally{c.saving=!1}},y=async G=>{var z;if(!Array.isArray(G)||!G.length)return 0;c.saving=!0,c.error="";try{const Q=await a.deleteCoupons({endpoint:f,ids:G});return Q&&(c.items=c.items.filter(ce=>!G.includes(ce.id)),c.activeCoupon&&G.includes(c.activeCoupon.id)&&(c.activeCoupon=null),Ue(Y())),Q}catch(Q){throw c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error",Q}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&$()}),{state:c,loadCoupons:$,refresh:U,search:k,goToPage:F,setActive:K,saveCoupon:L,deleteCoupons:y,metrics:l.metrics}}const di=(e={})=>{var u,p,h,f,c,E,M,Y,$,U,k,F,K,H,L,y,te,le,Se;const t=(u=e.store)!=null?u:{},s=(p=e.payments)!=null?p:{},o=(h=e.visual)!=null?h:{},n=(f=e.visual_defaults)!=null?f:{},a=(E=(c=e.security)==null?void 0:c.rate_limits)!=null?E:{},l=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"";return{store:{name:(M=t.name)!=null?M:"",email:(Y=t.email)!=null?Y:"",phone:($=t.phone)!=null?$:""},payments:{configured:!!s.configured},base_currency:l,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,visual:{primary_color:(U=o.primary_color)!=null?U:"",text_color:(k=o.text_color)!=null?k:"",surface_color:(F=o.surface_color)!=null?F:"",border_color:(K=o.border_color)!=null?K:"",muted_color:(H=o.muted_color)!=null?H:""},visual_defaults:{primary_color:(L=n.primary_color)!=null?L:"#4f6d7a",text_color:(y=n.text_color)!=null?y:"#1f2933",surface_color:(te=n.surface_color)!=null?te:"#ffffff",border_color:(le=n.border_color)!=null?le:"#e4e7ec",muted_color:(Se=n.muted_color)!=null?Se:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(a.checkout_ip_limit))?Number(a.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(a.checkout_email_limit))?Number(a.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(a.checkout_session_limit))?Number(a.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(a.checkout_window_minutes))?Number(a.checkout_window_minutes):Number.isFinite(Number(a.checkout_window))?Math.max(0,Math.ceil(Number(a.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(a.offline_ip_limit))?Number(a.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(a.offline_email_limit))?Number(a.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(a.offline_window_minutes))?Number(a.offline_window_minutes):Number.isFinite(Number(a.offline_window))?Math.max(0,Math.ceil(Number(a.offline_window)/60)):30}}}};function BO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var E,M;const a=Et({token:t}),l=Nt("settings"),u=(E=e==null?void 0:e.show)!=null?E:"",p=(M=e==null?void 0:e.update)!=null?M:u,h=ke({loading:!1,saving:!1,error:"",values:di(s),lastUpdated:null}),f=async(Y=!1)=>{var F;if(!u){h.error="Settings endpoint unavailable.";return}const $="settings:data",U=Y?null:vt($,n);if(U){l.recordCacheHit(),h.values=U.values,h.lastUpdated=U.lastUpdated;return}l.recordCacheMiss(),h.loading=!0,h.error="";const k=l.startFetch();try{const K=await a.fetchSettings({endpoint:u});h.values=di(K),h.lastUpdated=new Date().toISOString(),St($,{values:h.values,lastUpdated:h.lastUpdated})}catch(K){throw h.error=(F=K==null?void 0:K.message)!=null?F:"Unknown error",K}finally{l.endFetch(k),h.loading=!1}},c=async Y=>{var $;if(!p)return h.error="Settings endpoint unavailable.",null;h.saving=!0,h.error="";try{const U=await a.updateSettings({endpoint:p,data:Y});return h.values=di(U),h.lastUpdated=new Date().toISOString(),Ue("settings:data"),St("settings:data",{values:h.values,lastUpdated:h.lastUpdated}),h.values}catch(U){throw h.error=($=U==null?void 0:U.message)!=null?$:"Unknown error",U}finally{h.saving=!1}};return it(()=>{o&&(!s||!s.store)&&f()}),{state:h,refresh:f,save:c,metrics:l.metrics}}function KO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var K,H,L,y,te,le,Se,W,J,q,j,ie,he,fe;const a=Et({token:t}),l=Nt("taxRates"),u=(K=e==null?void 0:e.list)!=null?K:"",p=(H=e==null?void 0:e.create)!=null?H:u,h=(L=e==null?void 0:e.update)!=null?L:u,f=(y=e==null?void 0:e.delete)!=null?y:u,c=ke({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(W=(Se=(te=s.pagination)==null?void 0:te.total)!=null?Se:(le=s.items)==null?void 0:le.length)!=null?W:0,limit:(q=(J=s.pagination)==null?void 0:J.limit)!=null?q:20,pages:(ie=(j=s.pagination)==null?void 0:j.pages)!=null?ie:0,current:(fe=(he=s.pagination)==null?void 0:he.current)!=null?fe:1},search:"",lastUpdated:null}),E=typeof AbortController!="undefined",M=He(null),Y=()=>{const ee=c.pagination.current||1,oe=c.pagination.limit||20,ne=c.search.trim();return`taxRates:page=${ee}:limit=${oe}:search=${ne}`},$=async(ee=!1)=>{var z;if(!u){c.error="Tax endpoint unavailable.",c.items=[];return}const oe=Y(),ne=ee?null:vt(oe,n);if(ne){l.recordCacheHit(),c.items=ne.items,c.pagination={...c.pagination,...ne.pagination},c.lastUpdated=ne.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",M.value&&E&&M.value.abort();const pe=E?new AbortController:null;M.value=pe;const G=l.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:ce,pagination:ge}=await a.fetchTaxRates({endpoint:u,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:pe?pe.signal:void 0});c.items=ce,c.pagination={...c.pagination,...ge,current:ge.current&&ge.current>0?ge.current:1},c.lastUpdated=new Date().toISOString(),St(oe,{items:ce,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error"}finally{l.endFetch(G),E&&M.value===pe&&(M.value=null),c.loading=!1}},U=()=>{c.pagination.current=1,Ue(Y()),$(!0)},k=async ee=>{var oe;c.saving=!0,c.error="";try{const ne=ee.id?await a.updateTaxRate({endpoint:h,id:ee.id,data:ee}):await a.createTaxRate({endpoint:p,data:ee});if(ne){const pe=c.items.findIndex(G=>G.id===ne.id);pe===-1?c.items.unshift(ne):c.items.splice(pe,1,ne),Ue(Y())}return ne}catch(ne){throw c.error=(oe=ne==null?void 0:ne.message)!=null?oe:"Unknown error",ne}finally{c.saving=!1}},F=async ee=>{var oe;if(!Array.isArray(ee)||!ee.length)return 0;c.saving=!0,c.error="";try{const ne=await a.deleteTaxRates({endpoint:f,ids:ee});return ne&&(c.items=c.items.filter(pe=>!ee.includes(pe.id)),Ue(Y())),ne}catch(ne){throw c.error=(oe=ne==null?void 0:ne.message)!=null?oe:"Unknown error",ne}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&$()}),{state:c,loadRates:$,refresh:U,saveRate:k,deleteRates:F,metrics:l.metrics}}function jO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var K,H,L,y,te,le,Se,W,J,q,j,ie,he,fe;const a=Et({token:t}),l=Nt("shippingRules"),u=(K=e==null?void 0:e.list)!=null?K:"",p=(H=e==null?void 0:e.create)!=null?H:u,h=(L=e==null?void 0:e.update)!=null?L:u,f=(y=e==null?void 0:e.delete)!=null?y:u,c=ke({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(W=(Se=(te=s.pagination)==null?void 0:te.total)!=null?Se:(le=s.items)==null?void 0:le.length)!=null?W:0,limit:(q=(J=s.pagination)==null?void 0:J.limit)!=null?q:20,pages:(ie=(j=s.pagination)==null?void 0:j.pages)!=null?ie:0,current:(fe=(he=s.pagination)==null?void 0:he.current)!=null?fe:1},search:"",lastUpdated:null}),E=typeof AbortController!="undefined",M=He(null),Y=()=>{const ee=c.pagination.current||1,oe=c.pagination.limit||20,ne=c.search.trim();return`shippingRules:page=${ee}:limit=${oe}:search=${ne}`},$=async(ee=!1)=>{var z;if(!u){c.error="Shipping endpoint unavailable.",c.items=[];return}const oe=Y(),ne=ee?null:vt(oe,n);if(ne){l.recordCacheHit(),c.items=ne.items,c.pagination={...c.pagination,...ne.pagination},c.lastUpdated=ne.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",M.value&&E&&M.value.abort();const pe=E?new AbortController:null;M.value=pe;const G=l.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:ce,pagination:ge}=await a.fetchShippingRules({endpoint:u,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:pe?pe.signal:void 0});c.items=ce,c.pagination={...c.pagination,...ge,current:ge.current&&ge.current>0?ge.current:1},c.lastUpdated=new Date().toISOString(),St(oe,{items:ce,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error"}finally{l.endFetch(G),E&&M.value===pe&&(M.value=null),c.loading=!1}},U=()=>{c.pagination.current=1,Ue(Y()),$(!0)},k=async ee=>{var oe;c.saving=!0,c.error="";try{const ne=ee.id?await a.updateShippingRule({endpoint:h,id:ee.id,data:ee}):await a.createShippingRule({endpoint:p,data:ee});if(ne){const pe=c.items.findIndex(G=>G.id===ne.id);pe===-1?c.items.unshift(ne):c.items.splice(pe,1,ne),Ue(Y())}return ne}catch(ne){throw c.error=(oe=ne==null?void 0:ne.message)!=null?oe:"Unknown error",ne}finally{c.saving=!1}},F=async ee=>{var oe;if(!Array.isArray(ee)||!ee.length)return 0;c.saving=!0,c.error="";try{const ne=await a.deleteShippingRules({endpoint:f,ids:ee});return ne&&(c.items=c.items.filter(pe=>!ee.includes(pe.id)),Ue(Y())),ne}catch(ne){throw c.error=(oe=ne==null?void 0:ne.message)!=null?oe:"Unknown error",ne}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&$()}),{state:c,loadRules:$,refresh:U,saveRule:k,deleteRules:F,metrics:l.metrics}}function JO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var k,F,K,H,L,y,te,le,Se,W,J;const a=Et({token:t}),l=Nt("logs"),u=(k=e==null?void 0:e.list)!=null?k:"",p=ke({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(L=(H=(F=s.pagination)==null?void 0:F.total)!=null?H:(K=s.items)==null?void 0:K.length)!=null?L:0,limit:(te=(y=s.pagination)==null?void 0:y.limit)!=null?te:20,pages:(Se=(le=s.pagination)==null?void 0:le.pages)!=null?Se:0,current:(J=(W=s.pagination)==null?void 0:W.current)!=null?J:1},search:"",entity:"",lastUpdated:null}),h=typeof AbortController!="undefined",f=He(null),c=()=>{const q=p.pagination.current||1,j=p.pagination.limit||20,ie=p.search.trim(),he=p.entity.trim();return`logs:page=${q}:limit=${j}:search=${ie}:entity=${he}`},E=async(q=!1)=>{var ee;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const j=c(),ie=q?null:vt(j,n);if(ie){l.recordCacheHit(),p.items=ie.items,p.pagination={...p.pagination,...ie.pagination},p.lastUpdated=ie.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",h&&f.value&&f.value.abort();const he=h?new AbortController:null;f.value=he;const fe=l.startFetch();try{const oe=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:ne,pagination:pe}=await a.fetchLogs({endpoint:u,limit:p.pagination.limit,start:oe,search:p.search.trim(),entity:p.entity,signal:he?he.signal:void 0});p.items=ne,p.pagination={...p.pagination,...pe,current:pe.current&&pe.current>0?pe.current:1},p.lastUpdated=new Date().toISOString(),St(j,{items:ne,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(oe){if((oe==null?void 0:oe.name)==="AbortError")return;p.error=(ee=oe==null?void 0:oe.message)!=null?ee:"Unknown error"}finally{l.endFetch(fe),h&&f.value===he&&(f.value=null),p.loading=!1}},M=()=>{p.pagination.current=1,Ue(c()),E(!0)},Y=()=>{p.pagination.current=1,E()},$=q=>{const j=typeof q=="string"?q.trim():"";p.entity!==j&&(p.entity=j,p.pagination.current=1,E())},U=q=>{const j=Number(q);Number.isNaN(j)||j<1||j===p.pagination.current||(p.pagination.current=j,E(!0))};return it(()=>{o&&(!Array.isArray(p.items)||!p.items.length)&&E()}),{state:p,loadLogs:E,refresh:M,search:Y,setEntity:$,goToPage:U,metrics:l.metrics}}const aa=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function WO({endpoints:e={},token:t=""}){const s=Et({token:t}),o=ke({loading:!1,saving:!1,error:"",config:aa(),message:""}),n=async()=>{var u,p,h,f;if(e.show){o.loading=!0,o.error="";try{const c=await s.get(e.show);o.config=l((h=(p=(u=c==null?void 0:c.data)==null?void 0:u.config)!=null?p:c==null?void 0:c.config)!=null?h:{})}catch(c){o.error=(f=c.message)!=null?f:"Unable to load payment configuration."}finally{o.loading=!1}}},a=async u=>{var p,h,f,c,E,M,Y;if(e.update){o.saving=!0,o.error="",o.message="";try{const $=await s.post(e.update,{config:u});o.config=l((f=(h=(p=$==null?void 0:$.data)==null?void 0:p.config)!=null?h:$==null?void 0:$.config)!=null?f:{}),o.message=(M=(E=(c=$==null?void 0:$.data)==null?void 0:c.message)!=null?E:$==null?void 0:$.message)!=null?M:""}catch($){o.error=(Y=$.message)!=null?Y:"Unable to save payment configuration."}finally{o.saving=!1}}},l=u=>{var h,f,c,E;const p=aa();return{stripe:{...p.stripe,...(h=u.stripe)!=null?h:{}},paypal:{...p.paypal,...(f=u.paypal)!=null?f:{}},cod:{...p.cod,...(c=u.cod)!=null?c:{}},bank_transfer:{...p.bank_transfer,...(E=u.bank_transfer)!=null?E:{}}}};return{state:o,refresh:n,save:a}}const qO={class:"nxp-ec-admin-app__shell"},zO={class:"nxp-ec-admin-app__header"},QO={class:"nxp-ec-admin-app__title"},ZO={class:"nxp-ec-admin-app__lead"},ex={key:0,class:"nxp-ec-admin-nav"},tx=["href"],nx={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},sx={class:"nxp-ec-admin-panel__body"},ix={class:"nxp-ec-admin-panel__lead"},Yn="nxp:admin:onboarding:dismissed",ox={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var fr,mr,hr,gr,Er,Sr,Cr,br,Ar,Tr,yr,Rr,Or,xr,vr,Nr,Pr,Mr,Ir,kr,wr,$r,Dr,Lr,Ur,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,ol,al,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Sl,Cl,bl,Al,Tl,yl,Rl,Ol,xl,vl,Nl,Pl,Ml,Il,kl,wl,$l,Dl,Ll,Ul,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,oc,ac,rc,lc,cc,dc,uc,pc,_c,fc,mc,hc,gc,Ec,Sc,Cc,bc,Ac,Tc,yc,Rc,Oc,xc,vc,Nc,Pc,Mc,Ic,kc,wc,$c,Dc,Lc,Uc,Yc,Xc,Fc,Gc,Vc,Hc;const t=e,{__:s}=wO(t.dataset),o=Ee(()=>{var X;return((X=t.dataset)==null?void 0:X.appTitleKey)||"COM_NXPEASYCART"}),n=Ee(()=>{var X;return((X=t.dataset)==null?void 0:X.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(X,ae)=>{if(!X||typeof X!="string")return ae;try{return JSON.parse(X)}catch(Re){return ae}},l=Ee(()=>{var ae,Re;if(Array.isArray((ae=t.config)==null?void 0:ae.navItems))return t.config.navItems.map(Ge=>({id:Ge.id,title:Ge.title,link:Ge.link}));const X=a((Re=t.dataset)==null?void 0:Re.navItems,[]);return Array.isArray(X)?X.map(Ge=>({id:Ge.id,title:Ge.title,link:Ge.link})):[]}),u=X=>{const ae=l.value;if(!Array.isArray(ae))return"";const Re=ae.find(Ge=>Ge.id===X);return Re?Re.link:""},p=Ee(()=>{var X,ae;return((X=t.config)==null?void 0:X.activeSection)||((ae=t.dataset)==null?void 0:ae.activeSection)||"dashboard"}),h=Ee(()=>{var X,ae;return((X=t.config)==null?void 0:X.settingsTab)||((ae=t.dataset)==null?void 0:ae.settingsTab)||"general"}),f=X=>p.value===X,c=Ee(()=>f("dashboard")),E=Ee(()=>f("products")),M=Ee(()=>f("categories")||f("products")),Y=Ee(()=>f("orders")),$=Ee(()=>f("customers")),U=Ee(()=>f("coupons")),k=Ee(()=>f("settings")),F=Ee(()=>f("logs")),K=(Tr=(fr=t.endpoints)==null?void 0:fr.products)!=null?Tr:{list:(hr=(mr=t.dataset)==null?void 0:mr.productsEndpoint)!=null?hr:"",create:(Er=(gr=t.dataset)==null?void 0:gr.productsEndpointCreate)!=null?Er:"",update:(Cr=(Sr=t.dataset)==null?void 0:Sr.productsEndpointUpdate)!=null?Cr:"",delete:(Ar=(br=t.dataset)==null?void 0:br.productsEndpointDelete)!=null?Ar:""},H=(kr=(yr=t.endpoints)==null?void 0:yr.categories)!=null?kr:{list:(Or=(Rr=t.dataset)==null?void 0:Rr.categoriesEndpoint)!=null?Or:"",create:(vr=(xr=t.dataset)==null?void 0:xr.categoriesEndpointCreate)!=null?vr:"",update:(Pr=(Nr=t.dataset)==null?void 0:Nr.categoriesEndpointUpdate)!=null?Pr:"",delete:(Ir=(Mr=t.dataset)==null?void 0:Mr.categoriesEndpointDelete)!=null?Ir:""},L=(Br=(wr=t.endpoints)==null?void 0:wr.orders)!=null?Br:{list:(Dr=($r=t.dataset)==null?void 0:$r.ordersEndpoint)!=null?Dr:"",show:(Ur=(Lr=t.dataset)==null?void 0:Lr.ordersEndpointShow)!=null?Ur:"",transition:(Xr=(Yr=t.dataset)==null?void 0:Yr.ordersEndpointTransition)!=null?Xr:"",bulkTransition:(Gr=(Fr=t.dataset)==null?void 0:Fr.ordersEndpointBulk)!=null?Gr:"",note:(Hr=(Vr=t.dataset)==null?void 0:Vr.ordersEndpointNote)!=null?Hr:""},y=(zr=(Kr=t.endpoints)==null?void 0:Kr.customers)!=null?zr:{list:(Jr=(jr=t.dataset)==null?void 0:jr.customersEndpoint)!=null?Jr:"",show:(qr=(Wr=t.dataset)==null?void 0:Wr.customersEndpointShow)!=null?qr:""},te=(rl=(Qr=t.endpoints)==null?void 0:Qr.coupons)!=null?rl:{list:(el=(Zr=t.dataset)==null?void 0:Zr.couponsEndpoint)!=null?el:"",create:(nl=(tl=t.dataset)==null?void 0:tl.couponsEndpointCreate)!=null?nl:"",update:(il=(sl=t.dataset)==null?void 0:sl.couponsEndpointUpdate)!=null?il:"",delete:(al=(ol=t.dataset)==null?void 0:ol.couponsEndpointDelete)!=null?al:""},le=(gl=(ll=t.endpoints)==null?void 0:ll.tax)!=null?gl:{list:(dl=(cl=t.dataset)==null?void 0:cl.taxEndpoint)!=null?dl:"",create:(pl=(ul=t.dataset)==null?void 0:ul.taxEndpointCreate)!=null?pl:"",update:(fl=(_l=t.dataset)==null?void 0:_l.taxEndpointUpdate)!=null?fl:"",delete:(hl=(ml=t.dataset)==null?void 0:ml.taxEndpointDelete)!=null?hl:""},Se=(xl=(El=t.endpoints)==null?void 0:El.shipping)!=null?xl:{list:(Cl=(Sl=t.dataset)==null?void 0:Sl.shippingEndpoint)!=null?Cl:"",create:(Al=(bl=t.dataset)==null?void 0:bl.shippingEndpointCreate)!=null?Al:"",update:(yl=(Tl=t.dataset)==null?void 0:Tl.shippingEndpointUpdate)!=null?yl:"",delete:(Ol=(Rl=t.dataset)==null?void 0:Rl.shippingEndpointDelete)!=null?Ol:""},W=(kl=(vl=t.endpoints)==null?void 0:vl.settings)!=null?kl:{show:(Pl=(Nl=t.dataset)==null?void 0:Nl.settingsEndpointShow)!=null?Pl:"",update:(Il=(Ml=t.dataset)==null?void 0:Ml.settingsEndpointUpdate)!=null?Il:""},J=(Ll=(wl=t.endpoints)==null?void 0:wl.logs)!=null?Ll:{list:(Dl=($l=t.dataset)==null?void 0:$l.logsEndpoint)!=null?Dl:""},q=(Vl=(Ul=t.endpoints)==null?void 0:Ul.payments)!=null?Vl:{show:(Xl=(Yl=t.dataset)==null?void 0:Yl.paymentsEndpointShow)!=null?Xl:"",update:(Gl=(Fl=t.dataset)==null?void 0:Fl.paymentsEndpointUpdate)!=null?Gl:""},j=Ee(()=>{var X;return a((X=t.dataset)==null?void 0:X.orderStates,[])}),{state:ie,refresh:he}=GO({endpoint:(ql=(Wl=(jl=(Hl=t.endpoints)==null?void 0:Hl.dashboard)!=null?jl:(Kl=(Bl=t.config)==null?void 0:Bl.endpoints)==null?void 0:Kl.dashboard)!=null?Wl:(Jl=t.dataset)==null?void 0:Jl.dashboardEndpoint)!=null?ql:"",token:t.csrfToken,preload:(tc=(Ql=(zl=t.config)==null?void 0:zl.preload)==null?void 0:Ql.dashboard)!=null?tc:{summary:a((Zl=t.dataset)==null?void 0:Zl.dashboardSummary,{}),checklist:a((ec=t.dataset)==null?void 0:ec.dashboardChecklist,[])},autoload:c.value}),{state:fe,refresh:ee,search:oe,createProduct:ne,updateProduct:pe,deleteProducts:G}=YO({endpoints:K,token:t.csrfToken,autoload:E.value}),{state:z,refresh:Q,search:ce,goToPage:ge,saveCategory:me,deleteCategories:be,loadOptions:Me}=XO({endpoints:H,token:t.csrfToken,preload:(ac=(sc=(nc=t.config)==null?void 0:nc.preload)==null?void 0:sc.categories)!=null?ac:{items:a((ic=t.dataset)==null?void 0:ic.categoriesPreload,[]),pagination:a((oc=t.dataset)==null?void 0:oc.categoriesPreloadPagination,{})},autoload:M.value}),w=Ee(()=>(Array.isArray(z.items)?z.items:[]).map(ae=>{var Re,Ge,ct;return{id:Number.parseInt((Re=ae==null?void 0:ae.id)!=null?Re:0,10)||0,title:String((Ge=ae==null?void 0:ae.title)!=null?Ge:"").trim(),slug:String((ct=ae==null?void 0:ae.slug)!=null?ct:"").trim(),parent_id:(ae==null?void 0:ae.parent_id)!==null&&(ae==null?void 0:ae.parent_id)!==void 0&&Number.parseInt(ae.parent_id,10)||null}}).filter(ae=>ae.title!=="")),{state:O,refresh:I,search:m,setFilterState:A,viewOrder:B,closeOrder:b,transitionOrder:C,goToPage:D,bulkTransition:g,toggleSelection:_,clearSelection:S,addNote:v,updateTracking:T,downloadInvoice:R,exportOrders:V,sendEmail:N,recordTransaction:se}=FO({endpoints:L,token:t.csrfToken,states:j.value,preload:(uc=(lc=(rc=t.config)==null?void 0:rc.preload)==null?void 0:lc.orders)!=null?uc:{items:a((cc=t.dataset)==null?void 0:cc.ordersPreload,[]),pagination:a((dc=t.dataset)==null?void 0:dc.ordersPreloadPagination,{})},autoload:Y.value}),{state:re,refresh:ue,search:Ce,goToPage:Oe,viewCustomer:we,closeCustomer:Ke,gdprExport:rt,gdprAnonymise:We}=VO({endpoints:{...y,gdpr:(_c=(pc=t.endpoints)==null?void 0:pc.gdpr)!=null?_c:{}},token:t.csrfToken,preload:(Ec=(mc=(fc=t.config)==null?void 0:fc.preload)==null?void 0:mc.customers)!=null?Ec:{items:a((hc=t.dataset)==null?void 0:hc.customersPreload,[]),pagination:a((gc=t.dataset)==null?void 0:gc.customersPreloadPagination,{})},autoload:$.value}),{state:Fe,refresh:Ye,search:lt,goToPage:Pt,saveCoupon:fn,deleteCoupons:mn}=HO({endpoints:(Cc=(Sc=t.endpoints)==null?void 0:Sc.coupons)!=null?Cc:te,token:t.csrfToken,preload:(Rc=(Ac=(bc=t.config)==null?void 0:bc.preload)==null?void 0:Ac.coupons)!=null?Rc:{items:a((Tc=t.dataset)==null?void 0:Tc.couponsPreload,[]),pagination:a((yc=t.dataset)==null?void 0:yc.couponsPreloadPagination,{})},autoload:U.value}),Es=(Nc=(xc=(Oc=t.config)==null?void 0:Oc.preload)==null?void 0:xc.settings)!=null?Nc:a((vc=t.dataset)==null?void 0:vc.settingsPreload,{}),{state:Qt,refresh:Ss,save:ui}=BO({endpoints:W,token:t.csrfToken,preload:Es,autoload:k.value}),ax=Ee(()=>{var ae,Re;const X=(Re=(ae=t.dataset)==null?void 0:ae.baseCurrency)!=null?Re:"";return typeof X=="string"?X.trim().toUpperCase():""}),rx=Ee(()=>{var ae,Re;const X=(Re=(ae=Qt==null?void 0:Qt.values)==null?void 0:ae.base_currency)!=null?Re:"";return typeof X=="string"?X.trim().toUpperCase():""}),Cs=Ee(()=>{const X=rx.value||ax.value;return X!==""?X:"USD"}),lx=Ee(()=>{var ae,Re;const X=(Re=(ae=t.dataset)==null?void 0:ae.mediaModalUrl)!=null?Re:"";return typeof X=="string"?X.trim():""}),cx=Ee(()=>{var ae,Re,Ge,ct,st;const X=(ct=(Ge=(ae=t.config)==null?void 0:ae.siteRoot)!=null?Ge:(Re=t.dataset)==null?void 0:Re.siteRoot)!=null?ct:"";return typeof X=="string"&&X.trim()!==""?X.trim():typeof window!="undefined"&&((st=window.location)!=null&&st.origin)?window.location.origin:""}),dx=X=>{switch(X){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:u("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:u("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:u("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:X||"step",titleKey:X||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:X||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:u("dashboard")||""}}},ur=Ee(()=>(Array.isArray(ie.checklist)?ie.checklist:[]).map(ae=>{const Re=dx(ae.label);return{id:Re.id,completed:!!ae.completed,link:ae.link||Re.link||"",label:ae.label,titleKey:Re.titleKey,descriptionKey:Re.descriptionKey,titleFallback:Re.titleFallback,descriptionFallback:Re.descriptionFallback}})),pi=Ee(()=>ur.value.some(X=>!X.completed)),Xn=He(!1),ux=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Yn,"0")}catch(X){}Xn.value=!0},pr=()=>{if(Xn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Yn,"1")}catch(X){}},px=X=>{X&&typeof X.link=="string"&&X.link!==""&&(pr(),typeof window!="undefined"&&(window.location.href=X.link))};Xe(pi,X=>{if(!X&&(Xn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Yn,"1")}catch(ae){}});const _x=(wc=(Mc=(Pc=t.config)==null?void 0:Pc.preload)==null?void 0:Mc.tax)!=null?wc:{items:a((Ic=t.dataset)==null?void 0:Ic.taxPreload,[]),pagination:a((kc=t.dataset)==null?void 0:kc.taxPreloadPagination,{})},{state:fx,refresh:bs,saveRate:mx,deleteRates:hx}=KO({endpoints:le,token:t.csrfToken,preload:_x,autoload:k.value}),gx=(Yc=(Dc=($c=t.config)==null?void 0:$c.preload)==null?void 0:Dc.shipping)!=null?Yc:{items:a((Lc=t.dataset)==null?void 0:Lc.shippingPreload,[]),pagination:a((Uc=t.dataset)==null?void 0:Uc.shippingPreloadPagination,{})},{state:Ex,refresh:As,saveRule:Sx,deleteRules:Cx}=jO({endpoints:Se,token:t.csrfToken,preload:gx,autoload:k.value}),bx=(Hc=(Fc=(Xc=t.config)==null?void 0:Xc.preload)==null?void 0:Fc.logs)!=null?Hc:{items:a((Gc=t.dataset)==null?void 0:Gc.logsPreload,[]),pagination:a((Vc=t.dataset)==null?void 0:Vc.logsPreloadPagination,{})},{state:Ax,refresh:_r,search:Tx,setEntity:yx,goToPage:Rx}=JO({endpoints:J,token:t.csrfToken,preload:bx,autoload:F.value}),{state:Ox,refresh:_i,save:xx}=WO({endpoints:q,token:t.csrfToken});Xe(p,X=>{switch(X){case"dashboard":he();break;case"products":ee(),Q();break;case"categories":Q();break;case"orders":I();break;case"customers":ue();break;case"coupons":Ye();break;case"settings":Ss(),bs(),As(),_i();break;case"logs":_r();break}}),it(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const X=window.localStorage.getItem(Yn);pi.value?X!=="1"&&(Xn.value=!0):window.localStorage.setItem(Yn,"1")}catch(X){}}k.value&&_i()});const vx=()=>{ee()},Nx=()=>{oe()},Px=async X=>{try{await ne(X),ee(),Q()}catch(ae){}},Mx=async({id:X,data:ae})=>{try{await pe(X,ae),ee(),Q()}catch(Re){}},Ix=async X=>{try{await G(X),ee(),Q()}catch(ae){}},kx=()=>{Q()},wx=()=>{ce()},$x=X=>{ge(X)},Dx=async X=>{try{await me(X),Q()}catch(ae){}},Lx=async X=>{try{await be(X),Q()}catch(ae){}},Ux=()=>{he()},Yx=()=>{I()},Xx=()=>{m()},Fx=X=>{A(X)},Gx=X=>{B(X)},Vx=()=>{b()},Hx=async({id:X,state:ae})=>{try{await C(X,ae)}catch(Re){}},Bx=X=>{D(X)},Kx=async({ids:X,state:ae})=>{try{await g(X,ae)}catch(Re){}},jx=X=>{_(X)},Jx=()=>{S()},Wx=async({id:X,message:ae})=>{await v(X,ae)},qx=async X=>{if(!(X!=null&&X.id))return;const{id:ae,...Re}=X;await T(ae,Re)},zx=async X=>{!(X!=null&&X.id)||!(X!=null&&X.type)||await N(X.id,X.type)},Qx=async X=>{if(X!=null&&X.id)try{await se(X.id,{amountCents:X.amountCents,reference:X.reference,note:X.note})}catch(ae){}},Zx=async X=>{if(!X)return;const ae=await R(X);if(!(ae!=null&&ae.content))return;const Re=atob(ae.content),Ge=new Uint8Array(Re.length);for(let Zt=0;Zt<Re.length;Zt+=1)Ge[Zt]=Re.charCodeAt(Zt);const ct=new Blob([Ge],{type:"application/pdf"}),st=window.URL.createObjectURL(ct),dt=document.createElement("a");dt.href=st,dt.download=ae.filename||"invoice.pdf",document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),setTimeout(()=>window.URL.revokeObjectURL(st),1e3)},e1=async()=>{const X=await V();if(!(X!=null&&X.content))return;const ae=atob(X.content),Re=new Uint8Array(ae.length);for(let dt=0;dt<ae.length;dt+=1)Re[dt]=ae.charCodeAt(dt);const Ge=new Blob([Re],{type:"text/csv;charset=utf-8"}),ct=window.URL.createObjectURL(Ge),st=document.createElement("a");st.href=ct,st.download=X.filename||"orders-export.csv",document.body.appendChild(st),st.click(),document.body.removeChild(st),setTimeout(()=>window.URL.revokeObjectURL(ct),1e3)},t1=()=>{ue()},n1=()=>{Ce()},s1=X=>{Oe(X)},i1=X=>{we(X)},o1=()=>{Ke()},a1=X=>{rt(X)},r1=X=>{We(X)},l1=()=>{Ye()},c1=()=>{lt()},d1=X=>{Pt(X)},u1=async X=>{try{await fn(X)}catch(ae){}},p1=async X=>{try{await mn(X)}catch(ae){}},_1=()=>{Ss()},f1=async X=>{try{await ui(X)}catch(ae){}},m1=()=>{bs()},h1=async X=>{try{await mx(X),bs()}catch(ae){}},g1=async X=>{try{await hx(X),bs()}catch(ae){}},E1=()=>{As()},S1=async X=>{try{await Sx(X),As()}catch(ae){}},C1=async X=>{try{await Cx(X),As()}catch(ae){}},b1=()=>{_r()},A1=()=>{Tx()},T1=X=>{yx(X)},y1=X=>{Rx(X)},R1=()=>{_i()},O1=async X=>{await xx(X)};return(X,ae)=>(x(),pt(Rp,null,{default:Qi(()=>{var Re,Ge,ct,st,dt,Zt;return[i("section",qO,[i("header",zO,[i("div",null,[i("h1",QO,d(r(s)(o.value,(Ge=(Re=t.dataset)==null?void 0:Re.appTitle)!=null?Ge:"NXP Easy Cart",[],"appTitle")),1),i("p",ZO,d(r(s)(n.value,(st=(ct=t.dataset)==null?void 0:ct.appLead)!=null?st:"Manage your storefront from one place.",[],"appLead")),1)]),Z(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:ux},d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[zu,pi.value]])]),l.value.length?(x(),P("nav",ex,[(x(!0),P(Te,null,xe(l.value,Ts=>(x(),P("a",{key:Ts.id,href:Ts.link,class:Ie({"is-active":Ts.id===p.value})},d(Ts.title),11,tx))),128))])):_e("",!0),p.value==="dashboard"?(x(),pt(i_,{key:1,state:r(ie),translate:r(s),onRefresh:Ux},null,8,["state","translate"])):p.value==="products"?(x(),pt($m,{key:2,state:r(fe),translate:r(s),"base-currency":Cs.value,"category-options":w.value,"media-modal-url":lx.value,onCreate:Px,onUpdate:Mx,onDelete:Ix,onRefresh:vx,onSearch:Nx},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(x(),pt(Dh,{key:3,state:r(z),translate:r(s),"load-options":r(Me),onRefresh:kx,onSearch:wx,onPage:$x,onSave:Dx,onDelete:Lx},null,8,["state","translate","load-options"])):p.value==="orders"?(x(),pt(QE,{key:4,state:r(O),translate:r(s),"site-root":cx.value,onRefresh:Yx,onSearch:Xx,onFilter:Fx,onView:Gx,onClose:Vx,onTransition:Hx,onPage:Bx,onBulkTransition:Kx,onToggleSelection:jx,onClearSelection:Jx,onAddNote:Wx,onSaveTracking:qx,onSendEmail:zx,onRecordPayment:Qx,onInvoice:Zx,onExport:e1},null,8,["state","translate","site-root"])):p.value==="customers"?(x(),pt(ZS,{key:5,state:r(re),translate:r(s),"base-currency":Cs.value,onRefresh:t1,onSearch:n1,onPage:s1,onView:i1,onClose:o1,onGdprExport:a1,onGdprAnonymise:r1},null,8,["state","translate","base-currency"])):p.value==="coupons"?(x(),pt(db,{key:6,state:r(Fe),translate:r(s),"base-currency":Cs.value,onRefresh:l1,onSearch:c1,onPage:d1,onSave:u1,onDelete:p1},null,8,["state","translate","base-currency"])):p.value==="settings"?(x(),pt(IR,{key:7,"settings-state":r(Qt),"tax-state":r(fx),"shipping-state":r(Ex),"payments-state":r(Ox),translate:r(s),"base-currency":Cs.value,"initial-tab":h.value,onRefreshSettings:_1,onSaveSettings:f1,onRefreshTax:m1,onSaveTax:h1,onDeleteTax:g1,onRefreshShipping:E1,onSaveShipping:S1,onDeleteShipping:C1,onRefreshPayments:R1,onSavePayments:O1},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency","initial-tab"])):p.value==="logs"?(x(),pt(mO,{key:8,state:r(Ax),translate:r(s),onRefresh:b1,onSearch:A1,onFilter:T1,onPage:y1},null,8,["state","translate"])):(x(),P("div",nx,[i("div",sx,[i("p",ix,d(r(s)(n.value,(Zt=(dt=t.dataset)==null?void 0:dt.appLead)!=null?Zt:"This section will be available soon.",[],"appLead")),1)])]))]),Be(MO,{visible:Xn.value,steps:ur.value,translate:r(s),onClose:pr,onNavigate:px},null,8,["visible","steps","translate"])]}),_:1}))}},gs=document.getElementById("nxp-ec-admin-app");if(!gs)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(ra=gs.getAttribute("data-csrf-token"))!=null?ra:"",t=Object.assign({},gs.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(M){console.warn("[NXP Easy Cart] Failed to parse admin config payload",M)}const o=(_a=(la=s==null?void 0:s.endpoints)==null?void 0:la.products)!=null?_a:{list:(ca=t.productsEndpoint)!=null?ca:"",create:(da=t.productsEndpointCreate)!=null?da:"",update:(ua=t.productsEndpointUpdate)!=null?ua:"",delete:(pa=t.productsEndpointDelete)!=null?pa:""},n=(Sa=(fa=s==null?void 0:s.endpoints)==null?void 0:fa.categories)!=null?Sa:{list:(ma=t.categoriesEndpoint)!=null?ma:"",create:(ha=t.categoriesEndpointCreate)!=null?ha:"",update:(ga=t.categoriesEndpointUpdate)!=null?ga:"",delete:(Ea=t.categoriesEndpointDelete)!=null?Ea:""},a=(va=(Ca=s==null?void 0:s.endpoints)==null?void 0:Ca.orders)!=null?va:{list:(ba=t.ordersEndpoint)!=null?ba:"",show:(Aa=t.ordersEndpointShow)!=null?Aa:"",transition:(Ta=t.ordersEndpointTransition)!=null?Ta:"",bulkTransition:(ya=t.ordersEndpointBulk)!=null?ya:"",note:(Ra=t.ordersEndpointNote)!=null?Ra:"",tracking:(Oa=t.ordersEndpointTracking)!=null?Oa:"",invoice:(xa=t.ordersEndpointInvoice)!=null?xa:""},l=(Ia=(Na=s==null?void 0:s.endpoints)==null?void 0:Na.customers)!=null?Ia:{list:(Pa=t.customersEndpoint)!=null?Pa:"",show:(Ma=t.customersEndpointShow)!=null?Ma:""},u=(Da=(ka=s==null?void 0:s.endpoints)==null?void 0:ka.gdpr)!=null?Da:{export:(wa=t.gdprEndpointExport)!=null?wa:"",anonymise:($a=t.gdprEndpointAnonymise)!=null?$a:""},p=(Ga=(La=s==null?void 0:s.endpoints)==null?void 0:La.coupons)!=null?Ga:{list:(Ua=t.couponsEndpoint)!=null?Ua:"",create:(Ya=t.couponsEndpointCreate)!=null?Ya:"",update:(Xa=t.couponsEndpointUpdate)!=null?Xa:"",delete:(Fa=t.couponsEndpointDelete)!=null?Fa:""},h=(Ja=(Va=s==null?void 0:s.endpoints)==null?void 0:Va.tax)!=null?Ja:{list:(Ha=t.taxEndpoint)!=null?Ha:"",create:(Ba=t.taxEndpointCreate)!=null?Ba:"",update:(Ka=t.taxEndpointUpdate)!=null?Ka:"",delete:(ja=t.taxEndpointDelete)!=null?ja:""},f=(er=(Wa=s==null?void 0:s.endpoints)==null?void 0:Wa.shipping)!=null?er:{list:(qa=t.shippingEndpoint)!=null?qa:"",create:(za=t.shippingEndpointCreate)!=null?za:"",update:(Qa=t.shippingEndpointUpdate)!=null?Qa:"",delete:(Za=t.shippingEndpointDelete)!=null?Za:""},c=(ir=(tr=s==null?void 0:s.endpoints)==null?void 0:tr.settings)!=null?ir:{show:(nr=t.settingsEndpointShow)!=null?nr:"",update:(sr=t.settingsEndpointUpdate)!=null?sr:""},E=(rr=(or=s==null?void 0:s.endpoints)==null?void 0:or.logs)!=null?rr:{list:(ar=t.logsEndpoint)!=null?ar:""};gp(ox,{csrfToken:e,dataset:t,config:s,endpoints:{products:o,categories:n,orders:a,customers:l,gdpr:u,coupons:p,tax:h,shipping:f,settings:c,logs:E,dashboard:(dr=(cr=(lr=s==null?void 0:s.endpoints)==null?void 0:lr.dashboard)!=null?cr:t.dashboardEndpoint)!=null?dr:""}}).mount(gs)}})();
