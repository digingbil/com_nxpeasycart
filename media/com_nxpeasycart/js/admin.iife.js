(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Yi,Ui,Xi,Fi,Gi,Vi,Hi,Bi,Ki,ji,Ji,Wi,qi,zi,Qi,Zi,er,tr,sr,nr,or,ar,ir,rr,lr,cr,dr,ur,pr,_r,fr,mr,hr,gr,Er,Cr,Ar,Sr,br,Tr,yr,Rr,Or,xr,Pr,Nr,vr,Mr,Ir,kr,wr,$r,Lr,Dr,Yr,Ur,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,sl,nl,ol,al,il,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Cl,Al,Sl,bl,Tl,yl,Rl,Ol,xl,Pl,Nl,vl,Ml,Il,kl,wl,$l,Ll,Dl,Yl,Ul,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,sc,nc,oc,ac,ic,rc,lc,cc,dc;function Qn(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ot={},xs=[],jt=()=>{},Ho=()=>!1,Cn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Zn=e=>e.startsWith("onUpdate:"),At=Object.assign,eo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},N_=Object.prototype.hasOwnProperty,Ze=(e,t)=>N_.call(e,t),Ge=Array.isArray,Ps=e=>Vs(e)==="[object Map]",Ns=e=>Vs(e)==="[object Set]",Bo=e=>Vs(e)==="[object Date]",He=e=>typeof e=="function",ut=e=>typeof e=="string",Vt=e=>typeof e=="symbol",at=e=>e!==null&&typeof e=="object",Ko=e=>(at(e)||He(e))&&He(e.then)&&He(e.catch),jo=Object.prototype.toString,Vs=e=>jo.call(e),v_=e=>Vs(e).slice(8,-1),Jo=e=>Vs(e)==="[object Object]",to=e=>ut(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Hs=Qn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),An=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},M_=/-\w/g,ds=An(e=>e.replace(M_,t=>t.slice(1).toUpperCase())),I_=/\B([A-Z])/g,us=An(e=>e.replace(I_,"-$1").toLowerCase()),Wo=An(e=>e.charAt(0).toUpperCase()+e.slice(1)),so=An(e=>e?`on${Wo(e)}`:""),ps=(e,t)=>!Object.is(e,t),Sn=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},qo=(e,t,n,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:n})},bn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let zo;const Tn=()=>zo||(zo=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Ht(e){if(Ge(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],s=ut(a)?L_(a):Ht(a);if(s)for(const r in s)t[r]=s[r]}return t}else if(ut(e)||at(e))return e}const k_=/;(?![^(]*\))/g,w_=/:([^]+)/,$_=/\/\*[^]*?\*\//g;function L_(e){const t={};return e.replace($_,"").split(k_).forEach(n=>{if(n){const a=n.split(w_);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Ke(e){let t="";if(ut(e))t=e;else if(Ge(e))for(let n=0;n<e.length;n++){const a=Ke(e[n]);a&&(t+=a+" ")}else if(at(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const D_=Qn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Qo(e){return!!e||e===""}function Y_(e,t){if(e.length!==t.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=Bs(e[a],t[a]);return n}function Bs(e,t){if(e===t)return!0;let n=Bo(e),a=Bo(t);if(n||a)return n&&a?e.getTime()===t.getTime():!1;if(n=Vt(e),a=Vt(t),n||a)return e===t;if(n=Ge(e),a=Ge(t),n||a)return n&&a?Y_(e,t):!1;if(n=at(e),a=at(t),n||a){if(!n||!a)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const c in e){const u=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(u&&!p||!u&&p||!Bs(e[c],t[c]))return!1}}return String(e)===String(t)}function no(e,t){return e.findIndex(n=>Bs(n,t))}const Zo=e=>!!(e&&e.__v_isRef===!0),l=e=>ut(e)?e:e==null?"":Ge(e)||at(e)&&(e.toString===jo||!He(e.toString))?Zo(e)?l(e.value):JSON.stringify(e,ea,2):String(e),ea=(e,t)=>Zo(t)?ea(e,t.value):Ps(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,s],r)=>(n[oo(a,r)+" =>"]=s,n),{})}:Ns(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>oo(n))}:Vt(t)?oo(t):at(t)&&!Ge(t)&&!Jo(t)?String(t):t,oo=(e,t="")=>{var n;return Vt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rt;class U_{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rt,!t&&Rt&&(this.index=(Rt.scopes||(Rt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Rt;try{return Rt=this,t()}finally{Rt=n}}}on(){++this._on===1&&(this.prevScope=Rt,Rt=this)}off(){this._on>0&&--this._on===0&&(Rt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(this.effects.length=0,n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function X_(){return Rt}let it;const ao=new WeakSet;class ta{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rt&&Rt.active&&Rt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ao.has(this)&&(ao.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||na(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,la(this),oa(this);const t=it,n=Bt;it=this,Bt=!0;try{return this.fn()}finally{aa(this),it=t,Bt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)co(t);this.deps=this.depsTail=void 0,la(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ao.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lo(this)&&this.run()}get dirty(){return lo(this)}}let sa=0,Ks,js;function na(e,t=!1){if(e.flags|=8,t){e.next=js,js=e;return}e.next=Ks,Ks=e}function io(){sa++}function ro(){if(--sa>0)return;if(js){let t=js;for(js=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Ks;){let t=Ks;for(Ks=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=n}}if(e)throw e}function oa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function aa(e){let t,n=e.depsTail,a=n;for(;a;){const s=a.prevDep;a.version===-1?(a===n&&(n=s),co(a),F_(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=s}e.deps=t,e.depsTail=n}function lo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ia(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ia(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Js)||(e.globalVersion=Js,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!lo(e))))return;e.flags|=2;const t=e.dep,n=it,a=Bt;it=e,Bt=!0;try{oa(e);const s=e.fn(e._value);(t.version===0||ps(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{it=n,Bt=a,aa(e),e.flags&=-3}}function co(e,t=!1){const{dep:n,prevSub:a,nextSub:s}=e;if(a&&(a.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=a,e.nextSub=void 0),n.subs===e&&(n.subs=a,!a&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)co(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function F_(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Bt=!0;const ra=[];function Jt(){ra.push(Bt),Bt=!1}function Wt(){const e=ra.pop();Bt=e===void 0?!0:e}function la(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=it;it=void 0;try{t()}finally{it=n}}}let Js=0;class G_{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!it||!Bt||it===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==it)n=this.activeLink=new G_(it,this),it.deps?(n.prevDep=it.depsTail,it.depsTail.nextDep=n,it.depsTail=n):it.deps=it.depsTail=n,ca(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const a=n.nextDep;a.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=a),n.prevDep=it.depsTail,n.nextDep=void 0,it.depsTail.nextDep=n,it.depsTail=n,it.deps===n&&(it.deps=a)}return n}trigger(t){this.version++,Js++,this.notify(t)}notify(t){io();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ro()}}}function ca(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)ca(a)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const po=new WeakMap,gs=Symbol(""),_o=Symbol(""),Ws=Symbol("");function gt(e,t,n){if(Bt&&it){let a=po.get(e);a||po.set(e,a=new Map);let s=a.get(n);s||(a.set(n,s=new uo),s.map=a,s.key=n),s.track()}}function ss(e,t,n,a,s,r){const c=po.get(e);if(!c){Js++;return}const u=p=>{p&&p.trigger()};if(io(),t==="clear")c.forEach(u);else{const p=Ge(e),_=p&&to(n);if(p&&n==="length"){const A=Number(a);c.forEach((d,R)=>{(R==="length"||R===Ws||!Vt(R)&&R>=A)&&u(d)})}else switch((n!==void 0||c.has(void 0))&&u(c.get(n)),_&&u(c.get(Ws)),t){case"add":p?_&&u(c.get("length")):(u(c.get(gs)),Ps(e)&&u(c.get(_o)));break;case"delete":p||(u(c.get(gs)),Ps(e)&&u(c.get(_o)));break;case"set":Ps(e)&&u(c.get(gs));break}}ro()}function vs(e){const t=ze(e);return t===e?t:(gt(t,"iterate",Ws),Ft(e)?t:t.map(ft))}function yn(e){return gt(e=ze(e),"iterate",Ws),e}const V_={__proto__:null,[Symbol.iterator](){return fo(this,Symbol.iterator,ft)},concat(...e){return vs(this).concat(...e.map(t=>Ge(t)?vs(t):t))},entries(){return fo(this,"entries",e=>(e[1]=ft(e[1]),e))},every(e,t){return ns(this,"every",e,t,void 0,arguments)},filter(e,t){return ns(this,"filter",e,t,n=>n.map(ft),arguments)},find(e,t){return ns(this,"find",e,t,ft,arguments)},findIndex(e,t){return ns(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ns(this,"findLast",e,t,ft,arguments)},findLastIndex(e,t){return ns(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ns(this,"forEach",e,t,void 0,arguments)},includes(...e){return mo(this,"includes",e)},indexOf(...e){return mo(this,"indexOf",e)},join(e){return vs(this).join(e)},lastIndexOf(...e){return mo(this,"lastIndexOf",e)},map(e,t){return ns(this,"map",e,t,void 0,arguments)},pop(){return qs(this,"pop")},push(...e){return qs(this,"push",e)},reduce(e,...t){return da(this,"reduce",e,t)},reduceRight(e,...t){return da(this,"reduceRight",e,t)},shift(){return qs(this,"shift")},some(e,t){return ns(this,"some",e,t,void 0,arguments)},splice(...e){return qs(this,"splice",e)},toReversed(){return vs(this).toReversed()},toSorted(e){return vs(this).toSorted(e)},toSpliced(...e){return vs(this).toSpliced(...e)},unshift(...e){return qs(this,"unshift",e)},values(){return fo(this,"values",ft)}};function fo(e,t,n){const a=yn(e),s=a[t]();return a!==e&&!Ft(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=n(r.value)),r}),s}const H_=Array.prototype;function ns(e,t,n,a,s,r){const c=yn(e),u=c!==e&&!Ft(e),p=c[t];if(p!==H_[t]){const d=p.apply(e,r);return u?ft(d):d}let _=n;c!==e&&(u?_=function(d,R){return n.call(this,ft(d),R,e)}:n.length>2&&(_=function(d,R){return n.call(this,d,R,e)}));const A=p.call(c,_,a);return u&&s?s(A):A}function da(e,t,n,a){const s=yn(e);let r=n;return s!==e&&(Ft(e)?n.length>3&&(r=function(c,u,p){return n.call(this,c,u,p,e)}):r=function(c,u,p){return n.call(this,c,ft(u),p,e)}),s[t](r,...a)}function mo(e,t,n){const a=ze(e);gt(a,"iterate",Ws);const s=a[t](...n);return(s===-1||s===!1)&&Eo(n[0])?(n[0]=ze(n[0]),a[t](...n)):s}function qs(e,t,n=[]){Jt(),io();const a=ze(e)[t].apply(e,n);return ro(),Wt(),a}const B_=Qn("__proto__,__v_isRef,__isVue"),ua=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vt));function K_(e){Vt(e)||(e=String(e));const t=ze(this);return gt(t,"has",e),t.hasOwnProperty(e)}class pa{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,a){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return a===(s?r?Ea:ga:r?ha:ma).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const c=Ge(t);if(!s){let p;if(c&&(p=V_[n]))return p;if(n==="hasOwnProperty")return K_}const u=Reflect.get(t,n,mt(t)?t:a);if((Vt(n)?ua.has(n):B_(n))||(s||gt(t,"get",n),r))return u;if(mt(u)){const p=c&&to(n)?u:u.value;return s&&at(p)?go(p):p}return at(u)?s?go(u):et(u):u}}class _a extends pa{constructor(t=!1){super(!1,t)}set(t,n,a,s){let r=t[n];if(!this._isShallow){const p=_s(r);if(!Ft(a)&&!_s(a)&&(r=ze(r),a=ze(a)),!Ge(t)&&mt(r)&&!mt(a))return p||(r.value=a),!0}const c=Ge(t)&&to(n)?Number(n)<t.length:Ze(t,n),u=Reflect.set(t,n,a,mt(t)?t:s);return t===ze(s)&&(c?ps(a,r)&&ss(t,"set",n,a):ss(t,"add",n,a)),u}deleteProperty(t,n){const a=Ze(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&a&&ss(t,"delete",n,void 0),s}has(t,n){const a=Reflect.has(t,n);return(!Vt(n)||!ua.has(n))&&gt(t,"has",n),a}ownKeys(t){return gt(t,"iterate",Ge(t)?"length":gs),Reflect.ownKeys(t)}}class fa extends pa{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const j_=new _a,J_=new fa,W_=new _a(!0),q_=new fa(!0),ho=e=>e,Rn=e=>Reflect.getPrototypeOf(e);function z_(e,t,n){return function(...a){const s=this.__v_raw,r=ze(s),c=Ps(r),u=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,_=s[e](...a),A=n?ho:t?Nn:ft;return!t&&gt(r,"iterate",p?_o:gs),{next(){const{value:d,done:R}=_.next();return R?{value:d,done:R}:{value:u?[A(d[0]),A(d[1])]:A(d),done:R}},[Symbol.iterator](){return this}}}}function On(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Q_(e,t){const n={get(s){const r=this.__v_raw,c=ze(r),u=ze(s);e||(ps(s,u)&&gt(c,"get",s),gt(c,"get",u));const{has:p}=Rn(c),_=t?ho:e?Nn:ft;if(p.call(c,s))return _(r.get(s));if(p.call(c,u))return _(r.get(u));r!==c&&r.get(s)},get size(){const s=this.__v_raw;return!e&&gt(ze(s),"iterate",gs),s.size},has(s){const r=this.__v_raw,c=ze(r),u=ze(s);return e||(ps(s,u)&&gt(c,"has",s),gt(c,"has",u)),s===u?r.has(s):r.has(s)||r.has(u)},forEach(s,r){const c=this,u=c.__v_raw,p=ze(u),_=t?ho:e?Nn:ft;return!e&&gt(p,"iterate",gs),u.forEach((A,d)=>s.call(r,_(A),_(d),c))}};return At(n,e?{add:On("add"),set:On("set"),delete:On("delete"),clear:On("clear")}:{add(s){!t&&!Ft(s)&&!_s(s)&&(s=ze(s));const r=ze(this);return Rn(r).has.call(r,s)||(r.add(s),ss(r,"add",s,s)),this},set(s,r){!t&&!Ft(r)&&!_s(r)&&(r=ze(r));const c=ze(this),{has:u,get:p}=Rn(c);let _=u.call(c,s);_||(s=ze(s),_=u.call(c,s));const A=p.call(c,s);return c.set(s,r),_?ps(r,A)&&ss(c,"set",s,r):ss(c,"add",s,r),this},delete(s){const r=ze(this),{has:c,get:u}=Rn(r);let p=c.call(r,s);p||(s=ze(s),p=c.call(r,s)),u&&u.call(r,s);const _=r.delete(s);return p&&ss(r,"delete",s,void 0),_},clear(){const s=ze(this),r=s.size!==0,c=s.clear();return r&&ss(s,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=z_(s,e,t)}),n}function xn(e,t){const n=Q_(e,t);return(a,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?a:Reflect.get(Ze(n,s)&&s in a?n:a,s,r)}const Z_={get:xn(!1,!1)},ef={get:xn(!1,!0)},tf={get:xn(!0,!1)},sf={get:xn(!0,!0)},ma=new WeakMap,ha=new WeakMap,ga=new WeakMap,Ea=new WeakMap;function nf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function of(e){return e.__v_skip||!Object.isExtensible(e)?0:nf(v_(e))}function et(e){return _s(e)?e:Pn(e,!1,j_,Z_,ma)}function af(e){return Pn(e,!1,W_,ef,ha)}function go(e){return Pn(e,!0,J_,tf,ga)}function eL(e){return Pn(e,!0,q_,sf,Ea)}function Pn(e,t,n,a,s){if(!at(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=of(e);if(r===0)return e;const c=s.get(e);if(c)return c;const u=new Proxy(e,r===2?a:n);return s.set(e,u),u}function Ms(e){return _s(e)?Ms(e.__v_raw):!!(e&&e.__v_isReactive)}function _s(e){return!!(e&&e.__v_isReadonly)}function Ft(e){return!!(e&&e.__v_isShallow)}function Eo(e){return e?!!e.__v_raw:!1}function ze(e){const t=e&&e.__v_raw;return t?ze(t):e}function rf(e){return!Ze(e,"__v_skip")&&Object.isExtensible(e)&&qo(e,"__v_skip",!0),e}const ft=e=>at(e)?et(e):e,Nn=e=>at(e)?go(e):e;function mt(e){return e?e.__v_isRef===!0:!1}function Qe(e){return lf(e,!1)}function lf(e,t){return mt(e)?e:new cf(e,t)}class cf{constructor(t,n){this.dep=new uo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ze(t),this._value=n?t:ft(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,a=this.__v_isShallow||Ft(t)||_s(t);t=a?t:ze(t),ps(t,n)&&(this._rawValue=t,this._value=a?t:ft(t),this.dep.trigger())}}function i(e){return mt(e)?e.value:e}const df={get:(e,t,n)=>t==="__v_raw"?e:i(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const s=e[t];return mt(s)&&!mt(n)?(s.value=n,!0):Reflect.set(e,t,n,a)}};function Ca(e){return Ms(e)?e:new Proxy(e,df)}class uf{constructor(t,n,a){this.fn=t,this.setter=n,this._value=void 0,this.dep=new uo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&it!==this)return na(this,!0),!0}get value(){const t=this.dep.track();return ia(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function pf(e,t,n=!1){let a,s;return He(e)?a=e:(a=e.get,s=e.set),new uf(a,s,n)}const vn={},Mn=new WeakMap;let Es;function _f(e,t=!1,n=Es){if(n){let a=Mn.get(n);a||Mn.set(n,a=[]),a.push(e)}}function ff(e,t,n=ot){const{immediate:a,deep:s,once:r,scheduler:c,augmentJob:u,call:p}=n,_=L=>s?L:Ft(L)||s===!1||s===0?os(L,1):os(L);let A,d,R,h,I=!1,N=!1;if(mt(e)?(d=()=>e.value,I=Ft(e)):Ms(e)?(d=()=>_(e),I=!0):Ge(e)?(N=!0,I=e.some(L=>Ms(L)||Ft(L)),d=()=>e.map(L=>{if(mt(L))return L.value;if(Ms(L))return _(L);if(He(L))return p?p(L,2):L()})):He(e)?t?d=p?()=>p(e,2):e:d=()=>{if(R){Jt();try{R()}finally{Wt()}}const L=Es;Es=A;try{return p?p(e,3,[h]):e(h)}finally{Es=L}}:d=jt,t&&s){const L=d,K=s===!0?1/0:s;d=()=>os(L(),K)}const O=X_(),b=()=>{A.stop(),O&&O.active&&eo(O.effects,A)};if(r&&t){const L=t;t=(...K)=>{L(...K),b()}}let m=N?new Array(e.length).fill(vn):vn;const Y=L=>{if(!(!(A.flags&1)||!A.dirty&&!L))if(t){const K=A.run();if(s||I||(N?K.some((te,q)=>ps(te,m[q])):ps(K,m))){R&&R();const te=Es;Es=A;try{const q=[K,m===vn?void 0:N&&m[0]===vn?[]:m,h];m=K,p?p(t,3,q):t(...q)}finally{Es=te}}}else A.run()};return u&&u(Y),A=new ta(d),A.scheduler=c?()=>c(Y,!1):Y,h=L=>_f(L,!1,A),R=A.onStop=()=>{const L=Mn.get(A);if(L){if(p)p(L,4);else for(const K of L)K();Mn.delete(A)}},t?a?Y(!0):m=A.run():c?c(Y.bind(null,!0),!0):A.run(),b.pause=A.pause.bind(A),b.resume=A.resume.bind(A),b.stop=b,b}function os(e,t=1/0,n){if(t<=0||!at(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,mt(e))os(e.value,t,n);else if(Ge(e))for(let a=0;a<e.length;a++)os(e[a],t,n);else if(Ns(e)||Ps(e))e.forEach(a=>{os(a,t,n)});else if(Jo(e)){for(const a in e)os(e[a],t,n);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&os(e[a],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const zs=[];let Co=!1;function tL(e,...t){if(Co)return;Co=!0,Jt();const n=zs.length?zs[zs.length-1].component:null,a=n&&n.appContext.config.warnHandler,s=mf();if(a)Is(a,n,11,[e+t.map(r=>{var c,u;return(u=(c=r.toString)==null?void 0:c.call(r))!=null?u:JSON.stringify(r)}).join(""),n&&n.proxy,s.map(({vnode:r})=>`at <${pi(n,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${e}`,...t];s.length&&r.push(`
`,...hf(s)),console.warn(...r)}Wt(),Co=!1}function mf(){let e=zs[zs.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function hf(e){const t=[];return e.forEach((n,a)=>{t.push(...a===0?[]:[`
`],...gf(n))}),t}function gf({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,s=` at <${pi(e.component,e.type,a)}`,r=">"+n;return e.props?[s,...Ef(e.props),r]:[s+r]}function Ef(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(a=>{t.push(...Aa(a,e[a]))}),n.length>3&&t.push(" ..."),t}function Aa(e,t,n){return ut(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:mt(t)?(t=Aa(e,ze(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):He(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ze(t),n?t:[`${e}=`,t])}function Is(e,t,n,a){try{return a?e(...a):e()}catch(s){In(s,t,n)}}function qt(e,t,n,a){if(He(e)){const s=Is(e,t,n,a);return s&&Ko(s)&&s.catch(r=>{In(r,t,n)}),s}if(Ge(e)){const s=[];for(let r=0;r<e.length;r++)s.push(qt(e[r],t,n,a));return s}}function In(e,t,n,a=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||ot;if(t){let u=t.parent;const p=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const A=u.ec;if(A){for(let d=0;d<A.length;d++)if(A[d](e,p,_)===!1)return}u=u.parent}if(r){Jt(),Is(r,null,10,[e,p,_]),Wt();return}}Cf(e,n,s,a,c)}function Cf(e,t,n,a=!0,s=!1){if(s)throw e;console.error(e)}const St=[];let zt=-1;const ks=[];let fs=null,ws=0;const Sa=Promise.resolve();let kn=null;function ba(e){const t=kn||Sa;return e?t.then(this?e.bind(this):e):t}function Af(e){let t=zt+1,n=St.length;for(;t<n;){const a=t+n>>>1,s=St[a],r=Qs(s);r<e||r===e&&s.flags&2?t=a+1:n=a}return t}function Ao(e){if(!(e.flags&1)){const t=Qs(e),n=St[St.length-1];!n||!(e.flags&2)&&t>=Qs(n)?St.push(e):St.splice(Af(t),0,e),e.flags|=1,Ta()}}function Ta(){kn||(kn=Sa.then(Oa))}function Sf(e){Ge(e)?ks.push(...e):fs&&e.id===-1?fs.splice(ws+1,0,e):e.flags&1||(ks.push(e),e.flags|=1),Ta()}function ya(e,t,n=zt+1){for(;n<St.length;n++){const a=St[n];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;St.splice(n,1),n--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function Ra(e){if(ks.length){const t=[...new Set(ks)].sort((n,a)=>Qs(n)-Qs(a));if(ks.length=0,fs){fs.push(...t);return}for(fs=t,ws=0;ws<fs.length;ws++){const n=fs[ws];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}fs=null,ws=0}}const Qs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Oa(e){try{for(zt=0;zt<St.length;zt++){const t=St[zt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Is(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;zt<St.length;zt++){const t=St[zt];t&&(t.flags&=-2)}zt=-1,St.length=0,Ra(),kn=null,(St.length||ks.length)&&Oa()}}let Et=null,xa=null;function wn(e){const t=Et;return Et=e,xa=e&&e.type.__scopeId||null,t}function Pa(e,t=Et,n){if(!t||e._n)return e;const a=(...s)=>{a._d&&ai(-1);const r=wn(t);let c;try{c=e(...s)}finally{wn(r),a._d&&ai(1)}return c};return a._n=!0,a._c=!0,a._d=!0,a}function ee(e,t){if(Et===null)return e;const n=Hn(Et),a=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,c,u,p=ot]=t[s];r&&(He(r)&&(r={mounted:r,updated:r}),r.deep&&os(c),a.push({dir:r,instance:n,value:c,oldValue:void 0,arg:u,modifiers:p}))}return e}function Cs(e,t,n,a){const s=e.dirs,r=t&&t.dirs;for(let c=0;c<s.length;c++){const u=s[c];r&&(u.oldValue=r[c].value);let p=u.dir[a];p&&(Jt(),qt(p,n,8,[e.el,u,e,t]),Wt())}}const bf=Symbol("_vte"),Tf=e=>e.__isTeleport,yf=Symbol("_leaveCb");function So(e,t){e.shapeFlag&6&&e.component?(e.transition=t,So(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Na(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const $n=new WeakMap;function Zs(e,t,n,a,s=!1){if(Ge(e)){e.forEach((I,N)=>Zs(I,t&&(Ge(t)?t[N]:t),n,a,s));return}if($s(a)&&!s){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Zs(e,t,n,a.component.subTree);return}const r=a.shapeFlag&4?Hn(a.component):a.el,c=s?null:r,{i:u,r:p}=e,_=t&&t.r,A=u.refs===ot?u.refs={}:u.refs,d=u.setupState,R=ze(d),h=d===ot?Ho:I=>Ze(R,I);if(_!=null&&_!==p){if(va(t),ut(_))A[_]=null,h(_)&&(d[_]=null);else if(mt(_)){_.value=null;const I=t;I.k&&(A[I.k]=null)}}if(He(p))Is(p,u,12,[c,A]);else{const I=ut(p),N=mt(p);if(I||N){const O=()=>{if(e.f){const b=I?h(p)?d[p]:A[p]:p.value;if(s)Ge(b)&&eo(b,r);else if(Ge(b))b.includes(r)||b.push(r);else if(I)A[p]=[r],h(p)&&(d[p]=A[p]);else{const m=[r];p.value=m,e.k&&(A[e.k]=m)}}else I?(A[p]=c,h(p)&&(d[p]=c)):N&&(p.value=c,e.k&&(A[e.k]=c))};if(c){const b=()=>{O(),$n.delete(e)};b.id=-1,$n.set(e,b),It(b,n)}else va(e),O()}}}function va(e){const t=$n.get(e);t&&(t.flags|=8,$n.delete(e))}Tn().requestIdleCallback,Tn().cancelIdleCallback;const $s=e=>!!e.type.__asyncLoader,Ma=e=>e.type.__isKeepAlive;function Rf(e,t){Ia(e,"a",t)}function Of(e,t){Ia(e,"da",t)}function Ia(e,t,n=yt){const a=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ln(t,a,n),n){let s=n.parent;for(;s&&s.parent;)Ma(s.parent.vnode)&&xf(a,t,n,s),s=s.parent}}function xf(e,t,n,a){const s=Ln(t,e,a,!0);bo(()=>{eo(a[t],s)},n)}function Ln(e,t,n=yt,a=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...c)=>{Jt();const u=rn(n),p=qt(t,n,e,c);return u(),Wt(),p});return a?s.unshift(r):s.push(r),r}}const as=e=>(t,n=yt)=>{(!ln||e==="sp")&&Ln(e,(...a)=>t(...a),n)},Pf=as("bm"),Ot=as("m"),Nf=as("bu"),vf=as("u"),en=as("bum"),bo=as("um"),Mf=as("sp"),If=as("rtg"),kf=as("rtc");function wf(e,t=yt){Ln("ec",e,t)}const $f=Symbol.for("v-ndc");function Ve(e,t,n,a){let s;const r=n,c=Ge(e);if(c||ut(e)){const u=c&&Ms(e);let p=!1,_=!1;u&&(p=!Ft(e),_=_s(e),e=yn(e)),s=new Array(e.length);for(let A=0,d=e.length;A<d;A++)s[A]=t(p?_?Nn(ft(e[A])):ft(e[A]):e[A],A,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let u=0;u<e;u++)s[u]=t(u+1,u,void 0,r)}else if(at(e))if(e[Symbol.iterator])s=Array.from(e,(u,p)=>t(u,p,void 0,r));else{const u=Object.keys(e);s=new Array(u.length);for(let p=0,_=u.length;p<_;p++){const A=u[p];s[p]=t(e[A],A,p,r)}}else s=[];return s}function Lf(e,t,n={},a,s){if(Et.ce||Et.parent&&$s(Et.parent)&&Et.parent.ce){const _=Object.keys(n).length>0;return g(),Tt(Le,null,[_t("slot",n,a)],_?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),g();const c=r&&ka(r(n)),u=n.key||c&&c.key,p=Tt(Le,{key:(u&&!Vt(u)?u:`_${t}`)+(!c&&a?"_fb":"")},c||[],c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),r&&r._c&&(r._d=!0),p}function ka(e){return e.some(t=>Mo(t)?!(t.type===is||t.type===Le&&!ka(t.children)):!0)?e:null}const To=e=>e?ci(e)?Hn(e):To(e.parent):null,tn=At(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>To(e.parent),$root:e=>To(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Da(e),$forceUpdate:e=>e.f||(e.f=()=>{Ao(e.update)}),$nextTick:e=>e.n||(e.n=ba.bind(e.proxy)),$watch:e=>om.bind(e)}),yo=(e,t)=>e!==ot&&!e.__isScriptSetup&&Ze(e,t),Df={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:a,data:s,props:r,accessCache:c,type:u,appContext:p}=e;let _;if(t[0]!=="$"){const h=c[t];if(h!==void 0)switch(h){case 1:return a[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(yo(a,t))return c[t]=1,a[t];if(s!==ot&&Ze(s,t))return c[t]=2,s[t];if((_=e.propsOptions[0])&&Ze(_,t))return c[t]=3,r[t];if(n!==ot&&Ze(n,t))return c[t]=4,n[t];Ro&&(c[t]=0)}}const A=tn[t];let d,R;if(A)return t==="$attrs"&&gt(e.attrs,"get",""),A(e);if((d=u.__cssModules)&&(d=d[t]))return d;if(n!==ot&&Ze(n,t))return c[t]=4,n[t];if(R=p.config.globalProperties,Ze(R,t))return R[t]},set({_:e},t,n){const{data:a,setupState:s,ctx:r}=e;return yo(s,t)?(s[t]=n,!0):a!==ot&&Ze(a,t)?(a[t]=n,!0):Ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:s,propsOptions:r,type:c}},u){let p,_;return!!(n[u]||e!==ot&&u[0]!=="$"&&Ze(e,u)||yo(t,u)||(p=r[0])&&Ze(p,u)||Ze(a,u)||Ze(tn,u)||Ze(s.config.globalProperties,u)||(_=c.__cssModules)&&_[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function wa(e){return Ge(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Ro=!0;function Yf(e){const t=Da(e),n=e.proxy,a=e.ctx;Ro=!1,t.beforeCreate&&$a(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:c,watch:u,provide:p,inject:_,created:A,beforeMount:d,mounted:R,beforeUpdate:h,updated:I,activated:N,deactivated:O,beforeDestroy:b,beforeUnmount:m,destroyed:Y,unmounted:L,render:K,renderTracked:te,renderTriggered:q,errorCaptured:Ne,serverPrefetch:ke,expose:v,inheritAttrs:Ye,components:De,directives:we,filters:oe}=t;if(_&&Uf(_,a,null),c)for(const D in c){const M=c[D];He(M)&&(a[D]=M.bind(n))}if(s){const D=s.call(n,n);at(D)&&(e.data=et(D))}if(Ro=!0,r)for(const D in r){const M=r[D],U=He(M)?M.bind(n,n):He(M.get)?M.get.bind(n,n):jt,z=!He(M)&&He(M.set)?M.set.bind(n):jt,ie=ye({get:U,set:z});Object.defineProperty(a,D,{enumerable:!0,configurable:!0,get:()=>ie.value,set:C=>ie.value=C})}if(u)for(const D in u)La(u[D],a,n,D);if(p){const D=He(p)?p.call(n):p;Reflect.ownKeys(D).forEach(M=>{Bf(M,D[M])})}A&&$a(A,e,"c");function Ee(D,M){Ge(M)?M.forEach(U=>D(U.bind(n))):M&&D(M.bind(n))}if(Ee(Pf,d),Ee(Ot,R),Ee(Nf,h),Ee(vf,I),Ee(Rf,N),Ee(Of,O),Ee(wf,Ne),Ee(kf,te),Ee(If,q),Ee(en,m),Ee(bo,L),Ee(Mf,ke),Ge(v))if(v.length){const D=e.exposed||(e.exposed={});v.forEach(M=>{Object.defineProperty(D,M,{get:()=>n[M],set:U=>n[M]=U,enumerable:!0})})}else e.exposed||(e.exposed={});K&&e.render===jt&&(e.render=K),Ye!=null&&(e.inheritAttrs=Ye),De&&(e.components=De),we&&(e.directives=we),ke&&Na(e)}function Uf(e,t,n=jt){Ge(e)&&(e=Oo(e));for(const a in e){const s=e[a];let r;at(s)?"default"in s?r=Yn(s.from||a,s.default,!0):r=Yn(s.from||a):r=Yn(s),mt(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:c=>r.value=c}):t[a]=r}}function $a(e,t,n){qt(Ge(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function La(e,t,n,a){let s=a.includes(".")?ei(n,a):()=>n[a];if(ut(e)){const r=t[e];He(r)&&ct(s,r)}else if(He(e))ct(s,e.bind(n));else if(at(e))if(Ge(e))e.forEach(r=>La(r,t,n,a));else{const r=He(e.handler)?e.handler.bind(n):t[e.handler];He(r)&&ct(s,r,e)}}function Da(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:c}}=e.appContext,u=r.get(t);let p;return u?p=u:!s.length&&!n&&!a?p=t:(p={},s.length&&s.forEach(_=>Dn(p,_,c,!0)),Dn(p,t,c)),at(t)&&r.set(t,p),p}function Dn(e,t,n,a=!1){const{mixins:s,extends:r}=t;r&&Dn(e,r,n,!0),s&&s.forEach(c=>Dn(e,c,n,!0));for(const c in t)if(!(a&&c==="expose")){const u=Xf[c]||n&&n[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const Xf={data:Ya,props:Ua,emits:Ua,methods:sn,computed:sn,beforeCreate:bt,created:bt,beforeMount:bt,mounted:bt,beforeUpdate:bt,updated:bt,beforeDestroy:bt,beforeUnmount:bt,destroyed:bt,unmounted:bt,activated:bt,deactivated:bt,errorCaptured:bt,serverPrefetch:bt,components:sn,directives:sn,watch:Gf,provide:Ya,inject:Ff};function Ya(e,t){return t?e?function(){return At(He(e)?e.call(this,this):e,He(t)?t.call(this,this):t)}:t:e}function Ff(e,t){return sn(Oo(e),Oo(t))}function Oo(e){if(Ge(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function bt(e,t){return e?[...new Set([].concat(e,t))]:t}function sn(e,t){return e?At(Object.create(null),e,t):t}function Ua(e,t){return e?Ge(e)&&Ge(t)?[...new Set([...e,...t])]:At(Object.create(null),wa(e),wa(t!=null?t:{})):t}function Gf(e,t){if(!e)return t;if(!t)return e;const n=At(Object.create(null),e);for(const a in t)n[a]=bt(e[a],t[a]);return n}function Xa(){return{app:null,config:{isNativeTag:Ho,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Vf=0;function Hf(e,t){return function(a,s=null){He(a)||(a=At({},a)),s!=null&&!at(s)&&(s=null);const r=Xa(),c=new WeakSet,u=[];let p=!1;const _=r.app={_uid:Vf++,_component:a,_props:s,_container:null,_context:r,_instance:null,version:vm,get config(){return r.config},set config(A){},use(A,...d){return c.has(A)||(A&&He(A.install)?(c.add(A),A.install(_,...d)):He(A)&&(c.add(A),A(_,...d))),_},mixin(A){return r.mixins.includes(A)||r.mixins.push(A),_},component(A,d){return d?(r.components[A]=d,_):r.components[A]},directive(A,d){return d?(r.directives[A]=d,_):r.directives[A]},mount(A,d,R){if(!p){const h=_._ceVNode||_t(a,s);return h.appContext=r,R===!0?R="svg":R===!1&&(R=void 0),e(h,A,R),p=!0,_._container=A,A.__vue_app__=_,Hn(h.component)}},onUnmount(A){u.push(A)},unmount(){p&&(qt(u,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(A,d){return r.provides[A]=d,_},runWithContext(A){const d=Ls;Ls=_;try{return A()}finally{Ls=d}}};return _}}let Ls=null;function Bf(e,t){if(yt){let n=yt.provides;const a=yt.parent&&yt.parent.provides;a===n&&(n=yt.provides=Object.create(a)),n[e]=t}}function Yn(e,t,n=!1){const a=Sm();if(a||Ls){let s=Ls?Ls._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&He(t)?t.call(a&&a.proxy):t}}const Fa={},Ga=()=>Object.create(Fa),Va=e=>Object.getPrototypeOf(e)===Fa;function Kf(e,t,n,a=!1){const s={},r=Ga();e.propsDefaults=Object.create(null),Ha(e,t,s,r);for(const c in e.propsOptions[0])c in s||(s[c]=void 0);n?e.props=a?s:af(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function jf(e,t,n,a){const{props:s,attrs:r,vnode:{patchFlag:c}}=e,u=ze(s),[p]=e.propsOptions;let _=!1;if((a||c>0)&&!(c&16)){if(c&8){const A=e.vnode.dynamicProps;for(let d=0;d<A.length;d++){let R=A[d];if(Un(e.emitsOptions,R))continue;const h=t[R];if(p)if(Ze(r,R))h!==r[R]&&(r[R]=h,_=!0);else{const I=ds(R);s[I]=xo(p,u,I,h,e,!1)}else h!==r[R]&&(r[R]=h,_=!0)}}}else{Ha(e,t,s,r)&&(_=!0);let A;for(const d in u)(!t||!Ze(t,d)&&((A=us(d))===d||!Ze(t,A)))&&(p?n&&(n[d]!==void 0||n[A]!==void 0)&&(s[d]=xo(p,u,d,void 0,e,!0)):delete s[d]);if(r!==u)for(const d in r)(!t||!Ze(t,d))&&(delete r[d],_=!0)}_&&ss(e.attrs,"set","")}function Ha(e,t,n,a){const[s,r]=e.propsOptions;let c=!1,u;if(t)for(let p in t){if(Hs(p))continue;const _=t[p];let A;s&&Ze(s,A=ds(p))?!r||!r.includes(A)?n[A]=_:(u||(u={}))[A]=_:Un(e.emitsOptions,p)||(!(p in a)||_!==a[p])&&(a[p]=_,c=!0)}if(r){const p=ze(n),_=u||ot;for(let A=0;A<r.length;A++){const d=r[A];n[d]=xo(s,p,d,_[d],e,!Ze(_,d))}}return c}function xo(e,t,n,a,s,r){const c=e[n];if(c!=null){const u=Ze(c,"default");if(u&&a===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&He(p)){const{propsDefaults:_}=s;if(n in _)a=_[n];else{const A=rn(s);a=_[n]=p.call(null,t),A()}}else a=p;s.ce&&s.ce._setProp(n,a)}c[0]&&(r&&!u?a=!1:c[1]&&(a===""||a===us(n))&&(a=!0))}return a}const Jf=new WeakMap;function Ba(e,t,n=!1){const a=n?Jf:t.propsCache,s=a.get(e);if(s)return s;const r=e.props,c={},u=[];let p=!1;if(!He(e)){const A=d=>{p=!0;const[R,h]=Ba(d,t,!0);At(c,R),h&&u.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(A),e.extends&&A(e.extends),e.mixins&&e.mixins.forEach(A)}if(!r&&!p)return at(e)&&a.set(e,xs),xs;if(Ge(r))for(let A=0;A<r.length;A++){const d=ds(r[A]);Ka(d)&&(c[d]=ot)}else if(r)for(const A in r){const d=ds(A);if(Ka(d)){const R=r[A],h=c[d]=Ge(R)||He(R)?{type:R}:At({},R),I=h.type;let N=!1,O=!0;if(Ge(I))for(let b=0;b<I.length;++b){const m=I[b],Y=He(m)&&m.name;if(Y==="Boolean"){N=!0;break}else Y==="String"&&(O=!1)}else N=He(I)&&I.name==="Boolean";h[0]=N,h[1]=O,(N||Ze(h,"default"))&&u.push(d)}}const _=[c,u];return at(e)&&a.set(e,_),_}function Ka(e){return e[0]!=="$"&&!Hs(e)}const Po=e=>e==="_"||e==="_ctx"||e==="$stable",No=e=>Ge(e)?e.map(Qt):[Qt(e)],Wf=(e,t,n)=>{if(t._n)return t;const a=Pa((...s)=>No(t(...s)),n);return a._c=!1,a},ja=(e,t,n)=>{const a=e._ctx;for(const s in e){if(Po(s))continue;const r=e[s];if(He(r))t[s]=Wf(s,r,a);else if(r!=null){const c=No(r);t[s]=()=>c}}},Ja=(e,t)=>{const n=No(t);e.slots.default=()=>n},Wa=(e,t,n)=>{for(const a in t)(n||!Po(a))&&(e[a]=t[a])},qf=(e,t,n)=>{const a=e.slots=Ga();if(e.vnode.shapeFlag&32){const s=t._;s?(Wa(a,t,n),n&&qo(a,"_",s,!0)):ja(t,a)}else t&&Ja(e,t)},zf=(e,t,n)=>{const{vnode:a,slots:s}=e;let r=!0,c=ot;if(a.shapeFlag&32){const u=t._;u?n&&u===1?r=!1:Wa(s,t,n):(r=!t.$stable,ja(t,s)),c=t}else t&&(Ja(e,t),c={default:1});if(r)for(const u in s)!Po(u)&&c[u]==null&&delete s[u]},It=pm;function Qf(e){return Zf(e)}function Zf(e,t){const n=Tn();n.__VUE__=!0;const{insert:a,remove:s,patchProp:r,createElement:c,createText:u,createComment:p,setText:_,setElementText:A,parentNode:d,nextSibling:R,setScopeId:h=jt,insertStaticContent:I}=e,N=(y,P,G,se=null,Z=null,ne=null,W=void 0,J=null,Q=!!P.dynamicChildren)=>{if(y===P)return;y&&!an(y,P)&&(se=Pe(y),C(y,Z,ne,!0),y=null),P.patchFlag===-2&&(Q=!1,P.dynamicChildren=null);const{type:B,ref:Ce,shapeFlag:le}=P;switch(B){case Xn:O(y,P,G,se);break;case is:b(y,P,G,se);break;case Fn:y==null&&m(P,G,se,W);break;case Le:De(y,P,G,se,Z,ne,W,J,Q);break;default:le&1?K(y,P,G,se,Z,ne,W,J,Q):le&6?we(y,P,G,se,Z,ne,W,J,Q):(le&64||le&128)&&B.process(y,P,G,se,Z,ne,W,J,Q,$e)}Ce!=null&&Z?Zs(Ce,y&&y.ref,ne,P||y,!P):Ce==null&&y&&y.ref!=null&&Zs(y.ref,null,ne,y,!0)},O=(y,P,G,se)=>{if(y==null)a(P.el=u(P.children),G,se);else{const Z=P.el=y.el;P.children!==y.children&&_(Z,P.children)}},b=(y,P,G,se)=>{y==null?a(P.el=p(P.children||""),G,se):P.el=y.el},m=(y,P,G,se)=>{[y.el,y.anchor]=I(y.children,P,G,se,y.el,y.anchor)},Y=({el:y,anchor:P},G,se)=>{let Z;for(;y&&y!==P;)Z=R(y),a(y,G,se),y=Z;a(P,G,se)},L=({el:y,anchor:P})=>{let G;for(;y&&y!==P;)G=R(y),s(y),y=G;s(P)},K=(y,P,G,se,Z,ne,W,J,Q)=>{P.type==="svg"?W="svg":P.type==="math"&&(W="mathml"),y==null?te(P,G,se,Z,ne,W,J,Q):ke(y,P,Z,ne,W,J,Q)},te=(y,P,G,se,Z,ne,W,J)=>{let Q,B;const{props:Ce,shapeFlag:le,transition:me,dirs:Se}=y;if(Q=y.el=c(y.type,ne,Ce&&Ce.is,Ce),le&8?A(Q,y.children):le&16&&Ne(y.children,Q,null,se,Z,vo(y,ne),W,J),Se&&Cs(y,null,se,"created"),q(Q,y,y.scopeId,W,se),Ce){for(const x in Ce)x!=="value"&&!Hs(x)&&r(Q,x,null,Ce[x],ne,se);"value"in Ce&&r(Q,"value",null,Ce.value,ne),(B=Ce.onVnodeBeforeMount)&&Zt(B,se,y)}Se&&Cs(y,null,se,"beforeMount");const Oe=em(Z,me);Oe&&me.beforeEnter(Q),a(Q,P,G),((B=Ce&&Ce.onVnodeMounted)||Oe||Se)&&It(()=>{B&&Zt(B,se,y),Oe&&me.enter(Q),Se&&Cs(y,null,se,"mounted")},Z)},q=(y,P,G,se,Z)=>{if(G&&h(y,G),se)for(let ne=0;ne<se.length;ne++)h(y,se[ne]);if(Z){let ne=Z.subTree;if(P===ne||oi(ne.type)&&(ne.ssContent===P||ne.ssFallback===P)){const W=Z.vnode;q(y,W,W.scopeId,W.slotScopeIds,Z.parent)}}},Ne=(y,P,G,se,Z,ne,W,J,Q=0)=>{for(let B=Q;B<y.length;B++){const Ce=y[B]=J?ms(y[B]):Qt(y[B]);N(null,Ce,P,G,se,Z,ne,W,J)}},ke=(y,P,G,se,Z,ne,W)=>{const J=P.el=y.el;let{patchFlag:Q,dynamicChildren:B,dirs:Ce}=P;Q|=y.patchFlag&16;const le=y.props||ot,me=P.props||ot;let Se;if(G&&As(G,!1),(Se=me.onVnodeBeforeUpdate)&&Zt(Se,G,P,y),Ce&&Cs(P,y,G,"beforeUpdate"),G&&As(G,!0),(le.innerHTML&&me.innerHTML==null||le.textContent&&me.textContent==null)&&A(J,""),B?v(y.dynamicChildren,B,J,G,se,vo(P,Z),ne):W||M(y,P,J,null,G,se,vo(P,Z),ne,!1),Q>0){if(Q&16)Ye(J,le,me,G,Z);else if(Q&2&&le.class!==me.class&&r(J,"class",null,me.class,Z),Q&4&&r(J,"style",le.style,me.style,Z),Q&8){const Oe=P.dynamicProps;for(let x=0;x<Oe.length;x++){const k=Oe[x],re=le[k],ce=me[k];(ce!==re||k==="value")&&r(J,k,re,ce,Z,G)}}Q&1&&y.children!==P.children&&A(J,P.children)}else!W&&B==null&&Ye(J,le,me,G,Z);((Se=me.onVnodeUpdated)||Ce)&&It(()=>{Se&&Zt(Se,G,P,y),Ce&&Cs(P,y,G,"updated")},se)},v=(y,P,G,se,Z,ne,W)=>{for(let J=0;J<P.length;J++){const Q=y[J],B=P[J],Ce=Q.el&&(Q.type===Le||!an(Q,B)||Q.shapeFlag&198)?d(Q.el):G;N(Q,B,Ce,null,se,Z,ne,W,!0)}},Ye=(y,P,G,se,Z)=>{if(P!==G){if(P!==ot)for(const ne in P)!Hs(ne)&&!(ne in G)&&r(y,ne,P[ne],null,Z,se);for(const ne in G){if(Hs(ne))continue;const W=G[ne],J=P[ne];W!==J&&ne!=="value"&&r(y,ne,J,W,Z,se)}"value"in G&&r(y,"value",P.value,G.value,Z)}},De=(y,P,G,se,Z,ne,W,J,Q)=>{const B=P.el=y?y.el:u(""),Ce=P.anchor=y?y.anchor:u("");let{patchFlag:le,dynamicChildren:me,slotScopeIds:Se}=P;Se&&(J=J?J.concat(Se):Se),y==null?(a(B,G,se),a(Ce,G,se),Ne(P.children||[],G,Ce,Z,ne,W,J,Q)):le>0&&le&64&&me&&y.dynamicChildren?(v(y.dynamicChildren,me,G,Z,ne,W,J),(P.key!=null||Z&&P===Z.subTree)&&qa(y,P,!0)):M(y,P,G,Ce,Z,ne,W,J,Q)},we=(y,P,G,se,Z,ne,W,J,Q)=>{P.slotScopeIds=J,y==null?P.shapeFlag&512?Z.ctx.activate(P,G,se,W,Q):oe(P,G,se,Z,ne,W,Q):Te(y,P,Q)},oe=(y,P,G,se,Z,ne,W)=>{const J=y.component=Am(y,se,Z);if(Ma(y)&&(J.ctx.renderer=$e),bm(J,!1,W),J.asyncDep){if(Z&&Z.registerDep(J,Ee,W),!y.el){const Q=J.subTree=_t(is);b(null,Q,P,G),y.placeholder=Q.el}}else Ee(J,y,P,G,Z,ne,W)},Te=(y,P,G)=>{const se=P.component=y.component;if(dm(y,P,G))if(se.asyncDep&&!se.asyncResolved){D(se,P,G);return}else se.next=P,se.update();else P.el=y.el,se.vnode=P},Ee=(y,P,G,se,Z,ne,W)=>{const J=()=>{if(y.isMounted){let{next:le,bu:me,u:Se,parent:Oe,vnode:x}=y;{const Me=za(y);if(Me){le&&(le.el=x.el,D(y,le,W)),Me.asyncDep.then(()=>{y.isUnmounted||J()});return}}let k=le,re;As(y,!1),le?(le.el=x.el,D(y,le,W)):le=x,me&&Sn(me),(re=le.props&&le.props.onVnodeBeforeUpdate)&&Zt(re,Oe,le,x),As(y,!0);const ce=si(y),X=y.subTree;y.subTree=ce,N(X,ce,d(X.el),Pe(X),y,Z,ne),le.el=ce.el,k===null&&um(y,ce.el),Se&&It(Se,Z),(re=le.props&&le.props.onVnodeUpdated)&&It(()=>Zt(re,Oe,le,x),Z)}else{let le;const{el:me,props:Se}=P,{bm:Oe,m:x,parent:k,root:re,type:ce}=y,X=$s(P);As(y,!1),Oe&&Sn(Oe),!X&&(le=Se&&Se.onVnodeBeforeMount)&&Zt(le,k,P),As(y,!0);{re.ce&&re.ce._def.shadowRoot!==!1&&re.ce._injectChildStyle(ce);const Me=y.subTree=si(y);N(null,Me,G,se,y,Z,ne),P.el=Me.el}if(x&&It(x,Z),!X&&(le=Se&&Se.onVnodeMounted)){const Me=P;It(()=>Zt(le,k,Me),Z)}(P.shapeFlag&256||k&&$s(k.vnode)&&k.vnode.shapeFlag&256)&&y.a&&It(y.a,Z),y.isMounted=!0,P=G=se=null}};y.scope.on();const Q=y.effect=new ta(J);y.scope.off();const B=y.update=Q.run.bind(Q),Ce=y.job=Q.runIfDirty.bind(Q);Ce.i=y,Ce.id=y.uid,Q.scheduler=()=>Ao(Ce),As(y,!0),B()},D=(y,P,G)=>{P.component=y;const se=y.vnode.props;y.vnode=P,y.next=null,jf(y,P.props,se,G),zf(y,P.children,G),Jt(),ya(y),Wt()},M=(y,P,G,se,Z,ne,W,J,Q=!1)=>{const B=y&&y.children,Ce=y?y.shapeFlag:0,le=P.children,{patchFlag:me,shapeFlag:Se}=P;if(me>0){if(me&128){z(B,le,G,se,Z,ne,W,J,Q);return}else if(me&256){U(B,le,G,se,Z,ne,W,J,Q);return}}Se&8?(Ce&16&&pe(B,Z,ne),le!==B&&A(G,le)):Ce&16?Se&16?z(B,le,G,se,Z,ne,W,J,Q):pe(B,Z,ne,!0):(Ce&8&&A(G,""),Se&16&&Ne(le,G,se,Z,ne,W,J,Q))},U=(y,P,G,se,Z,ne,W,J,Q)=>{y=y||xs,P=P||xs;const B=y.length,Ce=P.length,le=Math.min(B,Ce);let me;for(me=0;me<le;me++){const Se=P[me]=Q?ms(P[me]):Qt(P[me]);N(y[me],Se,G,null,Z,ne,W,J,Q)}B>Ce?pe(y,Z,ne,!0,!1,le):Ne(P,G,se,Z,ne,W,J,Q,le)},z=(y,P,G,se,Z,ne,W,J,Q)=>{let B=0;const Ce=P.length;let le=y.length-1,me=Ce-1;for(;B<=le&&B<=me;){const Se=y[B],Oe=P[B]=Q?ms(P[B]):Qt(P[B]);if(an(Se,Oe))N(Se,Oe,G,null,Z,ne,W,J,Q);else break;B++}for(;B<=le&&B<=me;){const Se=y[le],Oe=P[me]=Q?ms(P[me]):Qt(P[me]);if(an(Se,Oe))N(Se,Oe,G,null,Z,ne,W,J,Q);else break;le--,me--}if(B>le){if(B<=me){const Se=me+1,Oe=Se<Ce?P[Se].el:se;for(;B<=me;)N(null,P[B]=Q?ms(P[B]):Qt(P[B]),G,Oe,Z,ne,W,J,Q),B++}}else if(B>me)for(;B<=le;)C(y[B],Z,ne,!0),B++;else{const Se=B,Oe=B,x=new Map;for(B=Oe;B<=me;B++){const Je=P[B]=Q?ms(P[B]):Qt(P[B]);Je.key!=null&&x.set(Je.key,B)}let k,re=0;const ce=me-Oe+1;let X=!1,Me=0;const We=new Array(ce);for(B=0;B<ce;B++)We[B]=0;for(B=Se;B<=le;B++){const Je=y[B];if(re>=ce){C(Je,Z,ne,!0);continue}let tt;if(Je.key!=null)tt=x.get(Je.key);else for(k=Oe;k<=me;k++)if(We[k-Oe]===0&&an(Je,P[k])){tt=k;break}tt===void 0?C(Je,Z,ne,!0):(We[tt-Oe]=B+1,tt>=Me?Me=tt:X=!0,N(Je,P[tt],G,null,Z,ne,W,J,Q),re++)}const Be=X?tm(We):xs;for(k=Be.length-1,B=ce-1;B>=0;B--){const Je=Oe+B,tt=P[Je],he=P[Je+1],Ie=Je+1<Ce?he.el||he.placeholder:se;We[B]===0?N(null,tt,G,Ie,Z,ne,W,J,Q):X&&(k<0||B!==Be[k]?ie(tt,G,Ie,2):k--)}}},ie=(y,P,G,se,Z=null)=>{const{el:ne,type:W,transition:J,children:Q,shapeFlag:B}=y;if(B&6){ie(y.component.subTree,P,G,se);return}if(B&128){y.suspense.move(P,G,se);return}if(B&64){W.move(y,P,G,$e);return}if(W===Le){a(ne,P,G);for(let le=0;le<Q.length;le++)ie(Q[le],P,G,se);a(y.anchor,P,G);return}if(W===Fn){Y(y,P,G);return}if(se!==2&&B&1&&J)if(se===0)J.beforeEnter(ne),a(ne,P,G),It(()=>J.enter(ne),Z);else{const{leave:le,delayLeave:me,afterLeave:Se}=J,Oe=()=>{y.ctx.isUnmounted?s(ne):a(ne,P,G)},x=()=>{ne._isLeaving&&ne[yf](!0),le(ne,()=>{Oe(),Se&&Se()})};me?me(ne,Oe,x):x()}else a(ne,P,G)},C=(y,P,G,se=!1,Z=!1)=>{const{type:ne,props:W,ref:J,children:Q,dynamicChildren:B,shapeFlag:Ce,patchFlag:le,dirs:me,cacheIndex:Se}=y;if(le===-2&&(Z=!1),J!=null&&(Jt(),Zs(J,null,G,y,!0),Wt()),Se!=null&&(P.renderCache[Se]=void 0),Ce&256){P.ctx.deactivate(y);return}const Oe=Ce&1&&me,x=!$s(y);let k;if(x&&(k=W&&W.onVnodeBeforeUnmount)&&Zt(k,P,y),Ce&6)ge(y.component,G,se);else{if(Ce&128){y.suspense.unmount(G,se);return}Oe&&Cs(y,null,P,"beforeUnmount"),Ce&64?y.type.remove(y,P,G,$e,se):B&&!B.hasOnce&&(ne!==Le||le>0&&le&64)?pe(B,P,G,!1,!0):(ne===Le&&le&384||!Z&&Ce&16)&&pe(Q,P,G),se&&E(y)}(x&&(k=W&&W.onVnodeUnmounted)||Oe)&&It(()=>{k&&Zt(k,P,y),Oe&&Cs(y,null,P,"unmounted")},G)},E=y=>{const{type:P,el:G,anchor:se,transition:Z}=y;if(P===Le){T(G,se);return}if(P===Fn){L(y);return}const ne=()=>{s(G),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(y.shapeFlag&1&&Z&&!Z.persisted){const{leave:W,delayLeave:J}=Z,Q=()=>W(G,ne);J?J(y.el,ne,Q):Q()}else ne()},T=(y,P)=>{let G;for(;y!==P;)G=R(y),s(y),y=G;s(P)},ge=(y,P,G)=>{const{bum:se,scope:Z,job:ne,subTree:W,um:J,m:Q,a:B}=y;Qa(Q),Qa(B),se&&Sn(se),Z.stop(),ne&&(ne.flags|=8,C(W,y,P,G)),J&&It(J,P),It(()=>{y.isUnmounted=!0},P)},pe=(y,P,G,se=!1,Z=!1,ne=0)=>{for(let W=ne;W<y.length;W++)C(y[W],P,G,se,Z)},Pe=y=>{if(y.shapeFlag&6)return Pe(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const P=R(y.anchor||y.el),G=P&&P[bf];return G?R(G):P};let j=!1;const _e=(y,P,G)=>{y==null?P._vnode&&C(P._vnode,null,null,!0):N(P._vnode||null,y,P,null,null,null,G),P._vnode=y,j||(j=!0,ya(),Ra(),j=!1)},$e={p:N,um:C,m:ie,r:E,mt:oe,mc:Ne,pc:M,pbc:v,n:Pe,o:e};return{render:_e,hydrate:void 0,createApp:Hf(_e)}}function vo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function As({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function em(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qa(e,t,n=!1){const a=e.children,s=t.children;if(Ge(a)&&Ge(s))for(let r=0;r<a.length;r++){const c=a[r];let u=s[r];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[r]=ms(s[r]),u.el=c.el),!n&&u.patchFlag!==-2&&qa(c,u)),u.type===Xn&&u.patchFlag!==-1&&(u.el=c.el),u.type===is&&!u.el&&(u.el=c.el)}}function tm(e){const t=e.slice(),n=[0];let a,s,r,c,u;const p=e.length;for(a=0;a<p;a++){const _=e[a];if(_!==0){if(s=n[n.length-1],e[s]<_){t[a]=s,n.push(a);continue}for(r=0,c=n.length-1;r<c;)u=r+c>>1,e[n[u]]<_?r=u+1:c=u;_<e[n[r]]&&(r>0&&(t[a]=n[r-1]),n[r]=a)}}for(r=n.length,c=n[r-1];r-- >0;)n[r]=c,c=t[c];return n}function za(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:za(t)}function Qa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const sm=Symbol.for("v-scx"),nm=()=>Yn(sm);function ct(e,t,n){return Za(e,t,n)}function Za(e,t,n=ot){const{immediate:a,deep:s,flush:r,once:c}=n,u=At({},n),p=t&&a||!t&&r!=="post";let _;if(ln){if(r==="sync"){const h=nm();_=h.__watcherHandles||(h.__watcherHandles=[])}else if(!p){const h=()=>{};return h.stop=jt,h.resume=jt,h.pause=jt,h}}const A=yt;u.call=(h,I,N)=>qt(h,A,I,N);let d=!1;r==="post"?u.scheduler=h=>{It(h,A&&A.suspense)}:r!=="sync"&&(d=!0,u.scheduler=(h,I)=>{I?h():Ao(h)}),u.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,A&&(h.id=A.uid,h.i=A))};const R=ff(e,t,u);return ln&&(_?_.push(R):p&&R()),R}function om(e,t,n){const a=this.proxy,s=ut(e)?e.includes(".")?ei(a,e):()=>a[e]:e.bind(a,a);let r;He(t)?r=t:(r=t.handler,n=t);const c=rn(this),u=Za(s,r.bind(a),n);return c(),u}function ei(e,t){const n=t.split(".");return()=>{let a=e;for(let s=0;s<n.length&&a;s++)a=a[n[s]];return a}}const am=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ds(t)}Modifiers`]||e[`${us(t)}Modifiers`];function im(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||ot;let s=n;const r=t.startsWith("update:"),c=r&&am(a,t.slice(7));c&&(c.trim&&(s=n.map(A=>ut(A)?A.trim():A)),c.number&&(s=n.map(bn)));let u,p=a[u=so(t)]||a[u=so(ds(t))];!p&&r&&(p=a[u=so(us(t))]),p&&qt(p,e,6,s);const _=a[u+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,qt(_,e,6,s)}}const rm=new WeakMap;function ti(e,t,n=!1){const a=n?rm:t.emitsCache,s=a.get(e);if(s!==void 0)return s;const r=e.emits;let c={},u=!1;if(!He(e)){const p=_=>{const A=ti(_,t,!0);A&&(u=!0,At(c,A))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!r&&!u?(at(e)&&a.set(e,null),null):(Ge(r)?r.forEach(p=>c[p]=null):At(c,r),at(e)&&a.set(e,c),c)}function Un(e,t){return!e||!Cn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ze(e,t[0].toLowerCase()+t.slice(1))||Ze(e,us(t))||Ze(e,t))}function sL(){}function si(e){const{type:t,vnode:n,proxy:a,withProxy:s,propsOptions:[r],slots:c,attrs:u,emit:p,render:_,renderCache:A,props:d,data:R,setupState:h,ctx:I,inheritAttrs:N}=e,O=wn(e);let b,m;try{if(n.shapeFlag&4){const L=s||a,K=L;b=Qt(_.call(K,L,A,d,h,R,I)),m=u}else{const L=t;b=Qt(L.length>1?L(d,{attrs:u,slots:c,emit:p}):L(d,null)),m=t.props?u:lm(u)}}catch(L){nn.length=0,In(L,e,1),b=_t(is)}let Y=b;if(m&&N!==!1){const L=Object.keys(m),{shapeFlag:K}=Y;L.length&&K&7&&(r&&L.some(Zn)&&(m=cm(m,r)),Y=Ds(Y,m,!1,!0))}return n.dirs&&(Y=Ds(Y,null,!1,!0),Y.dirs=Y.dirs?Y.dirs.concat(n.dirs):n.dirs),n.transition&&So(Y,n.transition),b=Y,wn(O),b}const lm=e=>{let t;for(const n in e)(n==="class"||n==="style"||Cn(n))&&((t||(t={}))[n]=e[n]);return t},cm=(e,t)=>{const n={};for(const a in e)(!Zn(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n};function dm(e,t,n){const{props:a,children:s,component:r}=e,{props:c,children:u,patchFlag:p}=t,_=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return a?ni(a,c,_):!!c;if(p&8){const A=t.dynamicProps;for(let d=0;d<A.length;d++){const R=A[d];if(c[R]!==a[R]&&!Un(_,R))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:a===c?!1:a?c?ni(a,c,_):!0:!!c;return!1}function ni(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let s=0;s<a.length;s++){const r=a[s];if(t[r]!==e[r]&&!Un(n,r))return!0}return!1}function um({vnode:e,parent:t},n){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=n,t=t.parent;else break}}const oi=e=>e.__isSuspense;function pm(e,t){t&&t.pendingBranch?Ge(e)?t.effects.push(...e):t.effects.push(e):Sf(e)}const Le=Symbol.for("v-fgt"),Xn=Symbol.for("v-txt"),is=Symbol.for("v-cmt"),Fn=Symbol.for("v-stc"),nn=[];let kt=null;function g(e=!1){nn.push(kt=e?null:[])}function _m(){nn.pop(),kt=nn[nn.length-1]||null}let on=1;function ai(e,t=!1){on+=e,e<0&&kt&&t&&(kt.hasOnce=!0)}function ii(e){return e.dynamicChildren=on>0?kt||xs:null,_m(),on>0&&kt&&kt.push(e),e}function S(e,t,n,a,s,r){return ii(o(e,t,n,a,s,r,!0))}function Tt(e,t,n,a,s){return ii(_t(e,t,n,a,s,!0))}function Mo(e){return e?e.__v_isVNode===!0:!1}function an(e,t){return e.type===t.type&&e.key===t.key}const ri=({key:e})=>e!=null?e:null,Gn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ut(e)||mt(e)||He(e)?{i:Et,r:e,k:t,f:!!n}:e:null);function o(e,t=null,n=null,a=0,s=null,r=e===Le?0:1,c=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ri(t),ref:t&&Gn(t),scopeId:xa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Et};return u?(Io(p,n),r&128&&e.normalize(p)):n&&(p.shapeFlag|=ut(n)?8:16),on>0&&!c&&kt&&(p.patchFlag>0||r&6)&&p.patchFlag!==32&&kt.push(p),p}const _t=fm;function fm(e,t=null,n=null,a=0,s=null,r=!1){if((!e||e===$f)&&(e=is),Mo(e)){const u=Ds(e,t,!0);return n&&Io(u,n),on>0&&!r&&kt&&(u.shapeFlag&6?kt[kt.indexOf(e)]=u:kt.push(u)),u.patchFlag=-2,u}if(Nm(e)&&(e=e.__vccOpts),t){t=mm(t);let{class:u,style:p}=t;u&&!ut(u)&&(t.class=Ke(u)),at(p)&&(Eo(p)&&!Ge(p)&&(p=At({},p)),t.style=Ht(p))}const c=ut(e)?1:oi(e)?128:Tf(e)?64:at(e)?4:He(e)?2:0;return o(e,t,n,a,s,c,r,!0)}function mm(e){return e?Eo(e)||Va(e)?At({},e):e:null}function Ds(e,t,n=!1,a=!1){const{props:s,ref:r,patchFlag:c,children:u,transition:p}=e,_=t?gm(s||{},t):s,A={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&ri(_),ref:t&&t.ref?n&&r?Ge(r)?r.concat(Gn(t)):[r,Gn(t)]:Gn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Le?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ds(e.ssContent),ssFallback:e.ssFallback&&Ds(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&a&&So(A,p.clone(A)),A}function ve(e=" ",t=0){return _t(Xn,null,e,t)}function hm(e,t){const n=_t(Fn,null,e);return n.staticCount=t,n}function ae(e="",t=!1){return t?(g(),Tt(is,null,e)):_t(is,null,e)}function Qt(e){return e==null||typeof e=="boolean"?_t(is):Ge(e)?_t(Le,null,e.slice()):Mo(e)?ms(e):_t(Xn,null,String(e))}function ms(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ds(e)}function Io(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Ge(t))n=16;else if(typeof t=="object")if(a&65){const s=t.default;s&&(s._c&&(s._d=!1),Io(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Va(t)?t._ctx=Et:s===3&&Et&&(Et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else He(t)?(t={default:t,_ctx:Et},n=32):(t=String(t),a&64?(n=16,t=[ve(t)]):n=8);e.children=t,e.shapeFlag|=n}function gm(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const s in a)if(s==="class")t.class!==a.class&&(t.class=Ke([t.class,a.class]));else if(s==="style")t.style=Ht([t.style,a.style]);else if(Cn(s)){const r=t[s],c=a[s];c&&r!==c&&!(Ge(r)&&r.includes(c))&&(t[s]=r?[].concat(r,c):c)}else s!==""&&(t[s]=a[s])}return t}function Zt(e,t,n,a=null){qt(e,t,7,[n,a])}const Em=Xa();let Cm=0;function Am(e,t,n){const a=e.type,s=(t?t.appContext:e.appContext)||Em,r={uid:Cm++,vnode:e,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new U_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ba(a,s),emitsOptions:ti(a,s),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:a.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=im.bind(null,r),e.ce&&e.ce(r),r}let yt=null;const Sm=()=>yt||Et;let Vn,ko;{const e=Tn(),t=(n,a)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(a),r=>{s.length>1?s.forEach(c=>c(r)):s[0](r)}};Vn=t("__VUE_INSTANCE_SETTERS__",n=>yt=n),ko=t("__VUE_SSR_SETTERS__",n=>ln=n)}const rn=e=>{const t=yt;return Vn(e),e.scope.on(),()=>{e.scope.off(),Vn(t)}},li=()=>{yt&&yt.scope.off(),Vn(null)};function ci(e){return e.vnode.shapeFlag&4}let ln=!1;function bm(e,t=!1,n=!1){t&&ko(t);const{props:a,children:s}=e.vnode,r=ci(e);Kf(e,a,r,t),qf(e,s,n||t);const c=r?Tm(e,t):void 0;return t&&ko(!1),c}function Tm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Df);const{setup:a}=n;if(a){Jt();const s=e.setupContext=a.length>1?Rm(e):null,r=rn(e),c=Is(a,e,0,[e.props,s]),u=Ko(c);if(Wt(),r(),(u||e.sp)&&!$s(e)&&Na(e),u){if(c.then(li,li),t)return c.then(p=>{di(e,p)}).catch(p=>{In(p,e,0)});e.asyncDep=c}else di(e,c)}else ui(e)}function di(e,t,n){He(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:at(t)&&(e.setupState=Ca(t)),ui(e)}function ui(e,t,n){const a=e.type;e.render||(e.render=a.render||jt);{const s=rn(e);Jt();try{Yf(e)}finally{Wt(),s()}}}const ym={get(e,t){return gt(e,"get",""),e[t]}};function Rm(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,ym),slots:e.slots,emit:e.emit,expose:t}}function Hn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ca(rf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in tn)return tn[n](e)},has(t,n){return n in t||n in tn}})):e.proxy}const Om=/(?:^|[-_])\w/g,xm=e=>e.replace(Om,t=>t.toUpperCase()).replace(/[-_]/g,"");function Pm(e,t=!0){return He(e)?e.displayName||e.name:e.name||t&&e.__name}function pi(e,t,n=!1){let a=Pm(t);if(!a&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(a=s[1])}if(!a&&e&&e.parent){const s=r=>{for(const c in r)if(r[c]===t)return c};a=s(e.components||e.parent.type.components)||s(e.appContext.components)}return a?xm(a):n?"App":"Anonymous"}function Nm(e){return He(e)&&"__vccOpts"in e}const ye=(e,t)=>pf(e,t,ln),vm="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wo;const _i=typeof window!="undefined"&&window.trustedTypes;if(_i)try{wo=_i.createPolicy("vue",{createHTML:e=>e})}catch(e){}const fi=wo?e=>wo.createHTML(e):e=>e,Mm="http://www.w3.org/2000/svg",Im="http://www.w3.org/1998/Math/MathML",rs=typeof document!="undefined"?document:null,mi=rs&&rs.createElement("template"),km={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const s=t==="svg"?rs.createElementNS(Mm,e):t==="mathml"?rs.createElementNS(Im,e):n?rs.createElement(e,{is:n}):rs.createElement(e);return e==="select"&&a&&a.multiple!=null&&s.setAttribute("multiple",a.multiple),s},createText:e=>rs.createTextNode(e),createComment:e=>rs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,s,r){const c=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{mi.innerHTML=fi(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const u=mi.content;if(a==="svg"||a==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},wm=Symbol("_vtc");function $m(e,t,n){const a=e[wm];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Bn=Symbol("_vod"),hi=Symbol("_vsh"),Ys={name:"show",beforeMount(e,{value:t},{transition:n}){e[Bn]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):cn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),cn(e,!0),a.enter(e)):a.leave(e,()=>{cn(e,!1)}):cn(e,t))},beforeUnmount(e,{value:t}){cn(e,t)}};function cn(e,t){e.style.display=t?e[Bn]:"none",e[hi]=!t}const Lm=Symbol(""),Dm=/(?:^|;)\s*display\s*:/;function Ym(e,t,n){const a=e.style,s=ut(n);let r=!1;if(n&&!s){if(t)if(ut(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();n[u]==null&&Kn(a,u,"")}else for(const c in t)n[c]==null&&Kn(a,c,"");for(const c in n)c==="display"&&(r=!0),Kn(a,c,n[c])}else if(s){if(t!==n){const c=a[Lm];c&&(n+=";"+c),a.cssText=n,r=Dm.test(n)}}else t&&e.removeAttribute("style");Bn in e&&(e[Bn]=r?a.display:"",e[hi]&&(a.display="none"))}const gi=/\s*!important$/;function Kn(e,t,n){if(Ge(n))n.forEach(a=>Kn(e,t,a));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=Um(e,t);gi.test(n)?e.setProperty(us(a),n.replace(gi,""),"important"):e[a]=n}}const Ei=["Webkit","Moz","ms"],$o={};function Um(e,t){const n=$o[t];if(n)return n;let a=ds(t);if(a!=="filter"&&a in e)return $o[t]=a;a=Wo(a);for(let s=0;s<Ei.length;s++){const r=Ei[s]+a;if(r in e)return $o[t]=r}return t}const Ci="http://www.w3.org/1999/xlink";function Ai(e,t,n,a,s,r=D_(t)){a&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Ci,t.slice(6,t.length)):e.setAttributeNS(Ci,t,n):n==null||r&&!Qo(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Vt(n)?String(n):n)}function Si(e,t,n,a,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?fi(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const u=r==="OPTION"?e.getAttribute("value")||"":e.value,p=n==null?e.type==="checkbox"?"on":"":String(n);(u!==p||!("_value"in e))&&(e.value=p),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Qo(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{e[t]=n}catch(u){}c&&e.removeAttribute(s||t)}function hs(e,t,n,a){e.addEventListener(t,n,a)}function Xm(e,t,n,a){e.removeEventListener(t,n,a)}const bi=Symbol("_vei");function Fm(e,t,n,a,s=null){const r=e[bi]||(e[bi]={}),c=r[t];if(a&&c)c.value=a;else{const[u,p]=Gm(t);if(a){const _=r[t]=Bm(a,s);hs(e,u,_,p)}else c&&(Xm(e,u,c,p),r[t]=void 0)}}const Ti=/(?:Once|Passive|Capture)$/;function Gm(e){let t;if(Ti.test(e)){t={};let a;for(;a=e.match(Ti);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):us(e.slice(2)),t]}let Lo=0;const Vm=Promise.resolve(),Hm=()=>Lo||(Vm.then(()=>Lo=0),Lo=Date.now());function Bm(e,t){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;qt(Km(a,n.value),t,5,[a])};return n.value=e,n.attached=Hm(),n}function Km(e,t){if(Ge(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>s=>!s._stopped&&a&&a(s))}else return t}const yi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,jm=(e,t,n,a,s,r)=>{const c=s==="svg";t==="class"?$m(e,a,c):t==="style"?Ym(e,n,a):Cn(t)?Zn(t)||Fm(e,t,n,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Jm(e,t,a,c))?(Si(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ai(e,t,a,c,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ut(a))?Si(e,ds(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Ai(e,t,a,c))};function Jm(e,t,n,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&yi(t)&&He(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return yi(t)&&ut(n)?!1:t in e}const Us=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ge(t)?n=>Sn(t,n):t};function Wm(e){e.target.composing=!0}function Ri(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ls=Symbol("_assign"),Ae={created(e,{modifiers:{lazy:t,trim:n,number:a}},s){e[ls]=Us(s);const r=a||s.props&&s.props.type==="number";hs(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;n&&(u=u.trim()),r&&(u=bn(u)),e[ls](u)}),n&&hs(e,"change",()=>{e.value=e.value.trim()}),t||(hs(e,"compositionstart",Wm),hs(e,"compositionend",Ri),hs(e,"change",Ri))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:a,trim:s,number:r}},c){if(e[ls]=Us(c),e.composing)return;const u=(r||e.type==="number")&&!/^0\d/.test(e.value)?bn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(a&&t===n||s&&e.value.trim()===p)||(e.value=p))}},ht={deep:!0,created(e,t,n){e[ls]=Us(n),hs(e,"change",()=>{const a=e._modelValue,s=dn(e),r=e.checked,c=e[ls];if(Ge(a)){const u=no(a,s),p=u!==-1;if(r&&!p)c(a.concat(s));else if(!r&&p){const _=[...a];_.splice(u,1),c(_)}}else if(Ns(a)){const u=new Set(a);r?u.add(s):u.delete(s),c(u)}else c(Pi(e,r))})},mounted:Oi,beforeUpdate(e,t,n){e[ls]=Us(n),Oi(e,t,n)}};function Oi(e,{value:t,oldValue:n},a){e._modelValue=t;let s;if(Ge(t))s=no(t,a.props.value)>-1;else if(Ns(t))s=t.has(a.props.value);else{if(t===n)return;s=Bs(t,Pi(e,!0))}e.checked!==s&&(e.checked=s)}const Ct={deep:!0,created(e,{value:t,modifiers:{number:n}},a){const s=Ns(t);hs(e,"change",()=>{const r=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>n?bn(dn(c)):dn(c));e[ls](e.multiple?s?new Set(r):r:r[0]),e._assigning=!0,ba(()=>{e._assigning=!1})}),e[ls]=Us(a)},mounted(e,{value:t}){xi(e,t)},beforeUpdate(e,t,n){e[ls]=Us(n)},updated(e,{value:t}){e._assigning||xi(e,t)}};function xi(e,t){const n=e.multiple,a=Ge(t);if(!(n&&!a&&!Ns(t))){for(let s=0,r=e.options.length;s<r;s++){const c=e.options[s],u=dn(c);if(n)if(a){const p=typeof u;p==="string"||p==="number"?c.selected=t.some(_=>String(_)===String(u)):c.selected=no(t,u)>-1}else c.selected=t.has(u);else if(Bs(dn(c),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function dn(e){return"_value"in e?e._value:e.value}function Pi(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const qm=["ctrl","shift","alt","meta"],zm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>qm.some(n=>e[`${n}Key`]&&!t.includes(n))},xt=(e,t)=>{const n=e._withMods||(e._withMods={}),a=t.join(".");return n[a]||(n[a]=(s,...r)=>{for(let c=0;c<t.length;c++){const u=zm[t[c]];if(u&&u(s,t))return}return e(s,...r)})},Qm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pt=(e,t)=>{const n=e._withKeys||(e._withKeys={}),a=t.join(".");return n[a]||(n[a]=s=>{if(!("key"in s))return;const r=us(s.key);if(t.some(c=>c===r||Qm[c]===r))return e(s)})},Zm=At({patchProp:jm},km);let Ni;function eh(){return Ni||(Ni=Qf(Zm))}const th=(...e)=>{const t=eh().createApp(...e),{mount:n}=t;return t.mount=a=>{const s=nh(a);if(!s)return;const r=t._component;!He(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const c=n(s,!1,sh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},t};function sh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function nh(e){return ut(e)?document.querySelector(e):e}const Nt=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n},oh={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},ah={key:0,class:"nxp-ec-admin-error"},ih={class:"nxp-ec-admin-error__title"},rh={class:"nxp-ec-admin-error__body"};function lh(e,t,n,a,s,r){return g(),S("div",null,[s.error?(g(),S("div",ah,[o("h2",ih,l(r.fallbackTitle),1),o("p",rh,l(r.fallbackMessage),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...c)=>r.reload&&r.reload(...c))},l(r.reloadLabel),1)])):Lf(e.$slots,"default",{key:1})])}const ch=Nt(oh,[["render",lh]]),dh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},uh={class:"nxp-ec-admin-panel__header"},ph={class:"nxp-ec-admin-panel__title"},_h={class:"nxp-ec-admin-panel__lead"},fh={class:"nxp-ec-admin-panel__actions"},mh=["disabled"],hh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},gh={key:1,class:"nxp-ec-dashboard"},Eh={class:"nxp-ec-dashboard__metrics"},Ch={class:"nxp-ec-dashboard__card"},Ah={class:"nxp-ec-dashboard__value"},Sh={class:"nxp-ec-dashboard__hint"},bh={class:"nxp-ec-dashboard__card"},Th={class:"nxp-ec-dashboard__value"},yh={class:"nxp-ec-dashboard__hint"},Rh={class:"nxp-ec-dashboard__card"},Oh={class:"nxp-ec-dashboard__value"},xh={class:"nxp-ec-dashboard__hint"},Ph={class:"nxp-ec-dashboard__card"},Nh={class:"nxp-ec-dashboard__value"},vh={class:"nxp-ec-dashboard__hint"},Mh={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Ih={class:"nxp-ec-dashboard__checklist-header"},kh={id:"dashboard-checklist-heading"},wh={class:"nxp-ec-dashboard__checklist-progress"},$h={class:"nxp-ec-dashboard__checklist-list"},Lh={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Dh={key:0,class:"fa-solid fa-circle-check"},Yh={key:1,class:"fa-regular fa-circle"},Uh={class:"nxp-ec-dashboard__checklist-label"},Xh=["href","title"],Fh={class:"nxp-ec-sr-only"},Gh=Nt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const n=e,a=n.translate,s=n.state,r=ye(()=>{var d;const A=(d=s.summary)==null?void 0:d.currency;return typeof A=="string"&&A.trim()!==""?A.trim():"USD"}),c=(A=0)=>{const d=(Number(A)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:r.value}).format(d)}catch(R){return`${r.value} ${d.toFixed(2)}`}},u=ye(()=>Array.isArray(s.checklist)?s.checklist:[]),p=ye(()=>u.value.filter(A=>A.completed).length),_=A=>{switch(A){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return A}};return(A,d)=>(g(),S("section",dh,[o("header",uh,[o("div",null,[o("h2",ph,l(i(a)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),o("p",_h,l(i(a)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),o("div",fh,[o("button",{class:"nxp-ec-btn",type:"button",onClick:d[0]||(d[0]=R=>A.$emit("refresh")),disabled:i(s).loading},l(i(a)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,mh)])]),i(s).error?(g(),S("div",hh,l(i(s).error),1)):(g(),S("div",gh,[o("div",Eh,[o("article",Ch,[o("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),o("p",Ah,l(i(s).summary.products.active),1),o("p",Sh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(i(s).summary.products.total)],"dashboardMetricProductsTotal")),1)]),o("article",bh,[o("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),o("p",Th,l(c(i(s).summary.orders.revenue_today)),1),o("p",yh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(i(s).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),o("article",Rh,[o("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),o("p",Oh,l(i(s).summary.customers.total),1),o("p",xh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),o("article",Ph,[o("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),o("p",Nh,l(c(i(s).summary.orders.revenue_month)),1),o("p",vh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[r.value.value],"dashboardMetricCurrency")),1)])]),o("section",Mh,[o("header",Ih,[o("h3",kh,l(i(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),o("span",wh,l(p.value)+" / "+l(u.value.length),1)]),o("ul",$h,[(g(!0),S(Le,null,Ve(u.value,R=>(g(),S("li",{key:R.id,class:Ke({"is-complete":R.completed})},[o("span",Lh,[R.completed?(g(),S("span",Dh)):(g(),S("span",Yh))]),o("span",Uh,l(i(a)(R.label,_(R.label))),1),R.link?(g(),S("a",{key:0,href:R.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:i(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[d[1]||(d[1]=o("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),o("span",Fh,l(i(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Xh)):ae("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),Vh={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Hh={id:"nxp-ec-products-caption",class:"visually-hidden"},Bh={scope:"col"},Kh={scope:"col"},jh={scope:"col"},Jh={scope:"col"},Wh={scope:"col"},qh={scope:"col"},zh={scope:"col"},Qh={scope:"col"},Zh={scope:"col",class:"nxp-ec-admin-table__actions"},eg={key:0},tg={colspan:"8",class:"nxp-ec-admin-table__empty"},sg=["data-label"],ng={class:"nxp-ec-admin-table__primary"},og={class:"nxp-ec-products-table__title"},ag={class:"nxp-ec-products-table__slug"},ig={key:0,class:"nxp-ec-products-table__badge"},rg={class:"nxp-ec-status nxp-ec-status--muted"},lg={key:1,class:"nxp-ec-products-table__badge"},cg={class:"nxp-ec-status nxp-ec-status--featured"},dg=["data-label"],ug={key:0},pg={key:1},_g=["data-label"],fg=["data-label"],mg=["data-label"],hg={key:0},gg={key:1},Eg=["data-label"],Cg=["disabled","aria-pressed","title","aria-label","onClick"],Ag={class:"nxp-ec-sr-only"},Sg=["data-label"],bg={class:"nxp-ec-admin-table__actions"},Tg=["onClick","title","disabled","aria-label"],yg={class:"nxp-ec-sr-only"},Rg=["onClick","title","disabled","aria-label"],Og={class:"nxp-ec-sr-only"},Do=1,un=-1,Yo=0,xg={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1},currentUserId:{type:Number,default:0}},emits:["edit","delete","toggle-active"],setup(e){const t=e,n=t.translate,a=ye(()=>(t.baseCurrency||"USD").toUpperCase()),s=(R,h=!1)=>{const I=Number(R);if(Number.isFinite(I))return I===un?un:I===Yo?Yo:Do;if(h)return un;if(typeof R=="string"){const N=R.trim().toLowerCase();if(N==="out_of_stock"||N==="out-of-stock"||N==="-1")return un;if(N==="inactive"||N==="0")return Yo}return Do},r=R=>{var O;const h=s((O=R==null?void 0:R.status)!=null?O:R==null?void 0:R.active,R==null?void 0:R.out_of_stock),I=h===Do,N=h===un;return{status:h,isActive:I,isOutOfStock:N,label:I?n("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):N?n("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):n("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:I?"nxp-ec-status--active":N?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:I?"fa-solid fa-circle-check":N?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:n("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},c=R=>(R==null?void 0:R.checked_out)&&Number(R.checked_out)!==0&&Number(R.checked_out)!==Number(t.currentUserId||0),u=R=>{var N,O;const h=(O=(N=R==null?void 0:R.checked_out_user)==null?void 0:N.name)!=null?O:"",I=(R==null?void 0:R.checked_out)===Number(t.currentUserId||0)?n("JGLOBAL_YOU","You"):h||n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Another user");return n("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[I],"productLockedBy")},p=R=>{var b,m,Y,L;const h=(m=(b=R==null?void 0:R.summary)==null?void 0:b.variants)!=null?m:{};if(h.multiple_currencies)return n("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const I=Number.isFinite(h.price_min_cents)?h.price_min_cents:null,N=Number.isFinite(h.price_max_cents)?h.price_max_cents:null;if(I===null)return"";const O=h.currency||((L=(Y=R==null?void 0:R.variants)==null?void 0:Y[0])==null?void 0:L.currency)||a.value;return N===null||N===I?d(I,O):`${d(I,O)}  ${d(N,O)}`},_=R=>{var N,O;const h=(O=(N=R==null?void 0:R.summary)==null?void 0:N.variants)!=null?O:{},I=Number.isFinite(h.count)?h.count:Array.isArray(R==null?void 0:R.variants)?R.variants.length:0;return I===1?n("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):n("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(I)])},A=R=>{if(!Array.isArray(R)||!R.length)return"";const h=R.map(O=>(O==null?void 0:O.title)||(O==null?void 0:O.slug)).filter(O=>!!O);if(!h.length)return"";if(h.length<=3)return h.join(", ");const I=h.slice(0,3).join(", "),N=h.length-3;return`${I} ${n("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(N)])}`},d=(R,h)=>`${(R/100).toFixed(2)} ${h}`;return(R,h)=>(g(),S("table",Vh,[o("caption",Hh,l(i(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),o("thead",null,[o("tr",null,[o("th",Bh,l(i(n)("JGRID_HEADING_ID","ID")),1),o("th",Kh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),o("th",jh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),o("th",Jh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),o("th",Wh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),o("th",qh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),o("th",zh,l(i(n)("JSTATUS","Status")),1),o("th",Qh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),o("th",Zh,l(i(n)("JGLOBAL_ACTIONS","Actions")),1)])]),o("tbody",null,[e.items.length?ae("",!0):(g(),S("tr",eg,[o("td",tg,l(i(n)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(g(!0),S(Le,null,Ve(e.items,I=>{var N,O,b,m,Y,L,K,te,q,Ne,ke,v;return g(),S("tr",{key:I.id},[o("td",{"data-label":i(n)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},l(I.id),9,sg),o("td",ng,[o("div",og,l(I.title),1),o("div",ag,l(I.slug),1),I.checked_out?(g(),S("div",ig,[o("span",rg,[h[0]||(h[0]=o("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),ve(" "+l(u(I)),1)])])):ae("",!0),I.featured?(g(),S("div",lg,[o("span",cg,[h[1]||(h[1]=o("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),ve(" "+l(i(n)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ae("",!0)]),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[p(I)?(g(),S("span",ug,l(p(I)),1)):(g(),S("span",pg,l(i(n)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,dg),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},l(_(I)),9,_g),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[o("span",{class:Ke(["nxp-ec-status",(O=(N=I.summary)==null?void 0:N.variants)!=null&&O.stock_zero?"nxp-ec-status--danger":(m=(b=I.summary)==null?void 0:b.variants)!=null&&m.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(L=(Y=I.summary)==null?void 0:Y.variants)!=null&&L.stock_zero||((te=(K=I.summary)==null?void 0:K.variants)==null?void 0:te.stock_total)===0?(g(),S(Le,{key:0},[ve(l(i(n)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(g(),S(Le,{key:1},[ve(l(i(n)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ke=(Ne=(q=I.summary)==null?void 0:q.variants)==null?void 0:Ne.stock_total)!=null?ke:0)])),1)],64))],2)],8,fg),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(v=I.categories)!=null&&v.length?(g(),S("span",hg,l(A(I.categories)),1)):(g(),S("span",gg,l(i(n)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,mg),o("td",{"data-label":i(n)("JSTATUS","Status")},[o("button",{type:"button",class:Ke(["nxp-ec-status","nxp-ec-status-button",r(I).className]),disabled:e.saving||c(I),"aria-pressed":r(I).isActive?"true":"false",title:r(I).title,"aria-label":r(I).title,onClick:Ye=>R.$emit("toggle-active",I)},[o("i",{class:Ke(r(I).icon),"aria-hidden":"true"},null,2),ve(" "+l(r(I).label)+" ",1),o("span",Ag,l(i(n)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,Cg)],8,Eg),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},l(I.modified||I.created),9,Sg),o("td",bg,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Ye=>R.$emit("edit",I),title:i(n)("JGLOBAL_EDIT","Edit"),disabled:e.saving,"aria-label":i(n)("JGLOBAL_EDIT","Edit")},[h[2]||(h[2]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",yg,l(i(n)("JGLOBAL_EDIT","Edit")),1)],8,Tg),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Ye=>R.$emit("delete",I),title:i(n)("JTRASH","Delete"),disabled:e.saving||c(I),"aria-label":i(n)("JTRASH","Delete")},[h[3]||(h[3]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",Og,l(i(n)("JTRASH","Delete")),1)],8,Rg)])])}),128))])]))}};class Pg{constructor({token:t=""}={}){this.token=t}async request(t,n={}){const a={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...n};a.headers={...a.headers,...n.headers||{}};const s=String(a.method||"GET").toUpperCase();let r=t;this.token&&(a.headers["X-CSRF-Token"]=this.token,s!=="GET"&&(r=this.ensureTokenOnUrl(r)));const c=await fetch(r,a);let u=null;const p=await c.text();if(p)try{u=JSON.parse(p)}catch(_){}if(!c.ok){const _=new Error((u==null?void 0:u.message)||`Request failed with status ${c.status}`);throw _.code=c.status,_.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,_}if((u==null?void 0:u.success)===!1){const _=new Error(u.message||"Unknown API error");throw _.details=u.data||u.errors||null,_}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const n=encodeURIComponent(this.token);try{const a=typeof window!="undefined"&&window.location?window.location.origin:void 0,s=new URL(t,a);return s.searchParams.has(this.token)||s.searchParams.set(this.token,"1"),s.toString()}catch(a){if(t.includes(`${n}=`))return t;const s=t.includes("?")?"&":"?";return`${t}${s}${n}=1`}}get(t,n={}){return this.request(t,{...n,method:"GET"})}post(t,n,a={}){const s={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"POST",headers:s,body:JSON.stringify(n)})}put(t,n,a={}){const s={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"PUT",headers:s,body:JSON.stringify(n)})}delete(t,n={}){return this.request(t,{...n,method:"DELETE"})}async fetchProducts({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var R,h,I,N;const c=new URLSearchParams({limit:String(n),start:String(a)});s&&c.set("search",s);const u=`${t}&${c.toString()}`,_=(R=(await this.get(u,{signal:r})).data)!=null?R:{},A=(I=(h=_.items)!=null?h:_.data)!=null?I:[],d=(N=_.pagination)!=null?N:{total:0,limit:n,pages:0,current:0};return{items:A,pagination:d}}async fetchCategories({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var _,A,d;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(_=(await this.get(c,{signal:r})).data)!=null?_:{};return{items:(A=p.items)!=null?A:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:n,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:n=20,start:a=0,search:s="",state:r="",signal:c}){var R,h,I,N;const u=this.mergeParams(t,{limit:n,start:a,search:s||void 0,state:r||void 0}),_=(R=(await this.get(u,{signal:c})).data)!=null?R:{},A=(I=(h=_.items)!=null?h:_.data)!=null?I:[],d=(N=_.pagination)!=null?N:{total:0,limit:n,pages:0,current:0};return{items:A,pagination:d}}async fetchCustomers({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var d,R,h;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(d=(await this.get(c,{signal:r})).data)!=null?d:{},_=(R=p.items)!=null?R:[],A=(h=p.pagination)!=null?h:{total:0,limit:n,pages:0,current:0};return{items:_,pagination:A}}async fetchCustomer({endpoint:t,email:n}){var r,c;const a=this.mergeParams(t,{email:n});return(c=(r=(await this.get(a)).data)==null?void 0:r.customer)!=null?c:null}async fetchCoupons({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var _,A,d;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(_=(await this.get(c,{signal:r})).data)!=null?_:{};return{items:(A=p.items)!=null?A:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:n,pages:0,current:0}}}async createCoupon({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.coupon)!=null?r:null}async updateCoupon({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async fetchTaxRates({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var _,A,d;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(_=(await this.get(c,{signal:r})).data)!=null?_:{};return{items:(A=p.items)!=null?A:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:n,pages:0,current:0}}}async createTaxRate({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.rate)!=null?r:null}async updateTaxRate({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async fetchShippingRules({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var _,A,d;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(_=(await this.get(c,{signal:r})).data)!=null?_:{};return{items:(A=p.items)!=null?A:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:n,pages:0,current:0}}}async createShippingRule({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.rule)!=null?r:null}async updateShippingRule({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async fetchLogs({endpoint:t,limit:n=20,start:a=0,search:s="",entity:r="",signal:c}){var A,d,R;const u=this.mergeParams(t,{limit:n,start:a,search:s||void 0,entity:r||void 0}),_=(A=(await this.get(u,{signal:c})).data)!=null?A:{};return{items:(d=_.items)!=null?d:[],pagination:(R=_.pagination)!=null?R:{total:0,limit:n,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var a;return t?(a=(await this.get(t)).data)!=null?a:{}:{}}async fetchSettings({endpoint:t}){var a,s;return t?(s=(a=(await this.get(t)).data)==null?void 0:a.settings)!=null?s:{}:{}}async updateSettings({endpoint:t,data:n}){var s,r;return(r=(s=(await this.put(t,n)).data)==null?void 0:s.settings)!=null?r:{}}async fetchOrder({endpoint:t,id:n=null,orderNumber:a=""}){var c,u;const s=this.mergeParams(t,{id:n||void 0,order_no:a||void 0});return(u=(c=(await this.get(s)).data)==null?void 0:c.order)!=null?u:null}async transitionOrder({endpoint:t,id:n,state:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.post(s,{state:a})).data)==null?void 0:c.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:n,state:a}){var c;const s={ids:n,state:a};return(c=(await this.post(t,s)).data)!=null?c:{}}async addOrderNote({endpoint:t,id:n,message:a}){var r,c;return(c=(r=(await this.post(t,{id:n,message:a})).data)==null?void 0:r.order)!=null?c:null}async fetchOrderInvoice({endpoint:t,id:n,orderNumber:a}){var c,u;const s={id:n||void 0,order_no:a||void 0};return(u=(c=(await this.post(t,s)).data)==null?void 0:c.invoice)!=null?u:null}async exportOrders({endpoint:t,search:n="",state:a=""}){var c,u;const s=this.mergeParams(t,{search:n||void 0,state:a||void 0});return(u=(c=(await this.get(s)).data)==null?void 0:c.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:n,tracking:a}){var r,c;return(c=(r=(await this.post(t,{id:n,...a})).data)==null?void 0:r.order)!=null?c:null}async sendOrderEmail({endpoint:t,id:n,type:a}){var r,c;return(c=(r=(await this.post(t,{id:n,type:a})).data)==null?void 0:r.order)!=null?c:null}async recordTransaction({endpoint:t,id:n,amountCents:a,reference:s,note:r}){var u,p;return(p=(u=(await this.post(t,{id:n,amount_cents:a,reference:s||void 0,note:r||void 0})).data)==null?void 0:u.order)!=null?p:null}async resendDownloads({endpoint:t,id:n}){var s,r;return(r=(s=(await this.post(t,{id:n})).data)==null?void 0:s.order)!=null?r:null}async resetDownload({endpoint:t,downloadId:n,orderId:a}){var r;return(r=(await this.post(t,{download_id:n,order_id:a||void 0})).data)!=null?r:null}async checkoutOrder({endpoint:t,id:n}){var r,c;const a=this.mergeParams(t,{id:n});return(c=(r=(await this.post(a,{id:n})).data)==null?void 0:r.order)!=null?c:null}async checkinOrder({endpoint:t,id:n,force:a=!1}){var c,u;const s=this.mergeParams(t,{id:n,force:a?1:void 0});return(u=(c=(await this.post(s,{id:n})).data)==null?void 0:c.order)!=null?u:null}async createProduct({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?r:null}async updateProduct({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.item)!=null?u:null}async deleteProducts({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.post(t,{ids:n},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:[]}async checkoutProduct({endpoint:t,id:n}){var r,c;const a=this.mergeParams(t,{id:n});return(c=(r=(await this.post(a,{id:n})).data)==null?void 0:r.item)!=null?c:null}async checkinProduct({endpoint:t,id:n,force:a=!1}){var c,u;const s=this.mergeParams(t,{id:n,force:a?1:void 0});return(u=(c=(await this.post(s,{id:n})).data)==null?void 0:c.item)!=null?u:null}async fetchDigitalFiles({endpoint:t,productId:n,variantId:a=null,signal:s}){var u,p;const r=this.mergeParams(t,{product_id:n,variant_id:a||void 0});return(p=(u=(await this.get(r,{signal:s})).data)==null?void 0:u.files)!=null?p:[]}async uploadDigitalFile({endpoint:t,productId:n,file:a,variantId:s=null,version:r="1.0"}){var p,_;const c=new FormData;return c.append("product_id",n),s&&c.append("variant_id",s),r&&c.append("version",r),c.append("file",a),(_=(p=(await this.request(t,{method:"POST",body:c})).data)==null?void 0:p.file)!=null?_:null}async deleteDigitalFile({endpoint:t,fileId:n}){var s,r;return(r=(s=(await this.post(t,{id:n})).data)==null?void 0:s.deleted)!=null?r:null}async createCategory({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?r:null}async updateCategory({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.item)!=null?u:null}async deleteCategories({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async checkoutCategory({endpoint:t,id:n}){var r,c;const a=this.mergeParams(t,{id:n});return(c=(r=(await this.post(a,{id:n})).data)==null?void 0:r.item)!=null?c:null}async checkinCategory({endpoint:t,id:n,force:a=!1}){var c,u;const s=this.mergeParams(t,{id:n,force:a?1:void 0});return(u=(c=(await this.post(s,{id:n})).data)==null?void 0:c.item)!=null?u:null}async gdprExport({endpoint:t,email:n}){var r,c;const a=this.mergeParams(t,{email:n});return(c=(r=(await this.get(a)).data)==null?void 0:r.export)!=null?c:null}async gdprAnonymise({endpoint:t,email:n}){var s,r,c,u;const a=await this.post(t,{email:n});return{affected:(r=(s=a.data)==null?void 0:s.affected)!=null?r:0,message:(u=(c=a.data)==null?void 0:c.message)!=null?u:""}}mergeParams(t,n={}){const a=new URLSearchParams;return Object.entries(n).forEach(([s,r])=>{r==null||r===""||a.set(s,String(r))}),a.toString()?`${t}${t.includes("?")?"&":"?"}${a.toString()}`:t}}const wt=e=>new Pg(e),Ng={class:"nxp-ec-modal__dialog"},vg={class:"nxp-ec-modal__header"},Mg={id:"product-modal-title",class:"nxp-ec-modal__title"},Ig={class:"nxp-ec-modal__header-actions"},kg=["disabled","title","aria-label"],wg={class:"nxp-ec-sr-only"},$g=["disabled","title","aria-label"],Lg={class:"nxp-ec-sr-only"},Dg=["title","aria-label"],Yg={class:"nxp-ec-sr-only"},Ug={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Xg={class:"nxp-ec-editor-tabs",role:"tablist"},Fg={class:"nxp-ec-editor-panel"},Gg={class:"nxp-ec-form-field"},Vg={class:"nxp-ec-form-label",for:"product-title"},Hg={class:"nxp-ec-form-field"},Bg={class:"nxp-ec-form-label",for:"product-slug"},Kg=["placeholder"],jg={class:"nxp-ec-form-field"},Jg={class:"nxp-ec-form-label",for:"product-short-desc"},Wg={class:"nxp-ec-form-field"},qg={class:"nxp-ec-form-label",for:"product-long-desc"},zg={class:"nxp-ec-form-field"},Qg={class:"nxp-ec-form-label",for:"product-status"},Zg={value:1},eE={value:-1},tE={value:0},sE={class:"nxp-ec-form-help"},nE={class:"nxp-ec-form-field"},oE={class:"nxp-ec-form-label",for:"product-type"},aE={value:"physical"},iE={value:"digital"},rE={class:"nxp-ec-form-help"},lE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},cE={class:"nxp-ec-form-label",for:"product-featured"},dE={class:"nxp-ec-form-help"},uE={class:"nxp-ec-editor-panel"},pE={class:"nxp-ec-form-field"},_E={class:"nxp-ec-form-label",for:"product-images"},fE={id:"product-images",class:"nxp-ec-image-list"},mE=["id","onUpdate:modelValue","placeholder"],hE={class:"nxp-ec-image-row__actions"},gE=["onClick"],EE=["onClick","disabled"],CE=["onClick","disabled"],AE=["onClick","aria-label"],SE={class:"nxp-ec-form-help"},bE={class:"nxp-ec-editor-panel"},TE={class:"nxp-ec-form-field"},yE={class:"nxp-ec-form-label",for:"product-category-select"},RE=["value"],OE={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},xE=["onClick","aria-label"],PE={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},NE=["onKeydown","placeholder"],vE={class:"nxp-ec-form-help"},ME={class:"nxp-ec-variant-section"},IE={class:"nxp-ec-variant-section__header"},kE={class:"nxp-ec-variant-section__title"},wE={class:"nxp-ec-form-help"},$E={class:"nxp-ec-variant-card__header"},LE={class:"nxp-ec-variant-card__title"},DE=["onClick"],YE=["onClick","disabled"],UE={class:"nxp-ec-variant-card__grid"},XE={class:"nxp-ec-form-field"},FE=["for"],GE=["id","onUpdate:modelValue"],VE={class:"nxp-ec-form-field"},HE=["for"],BE=["id","onUpdate:modelValue","placeholder"],KE={class:"nxp-ec-form-field"},jE=["for"],JE=["id","onUpdate:modelValue","onBlur"],WE={class:"nxp-ec-form-field"},qE=["for"],zE=["id","onUpdate:modelValue","onBlur","placeholder"],QE={class:"nxp-ec-form-field"},ZE=["for"],eC=["id","onUpdate:modelValue","disabled"],tC={class:"nxp-ec-form-help"},sC={class:"nxp-ec-form-field"},nC=["for"],oC=["id","onUpdate:modelValue","disabled"],aC={class:"nxp-ec-form-help"},iC={class:"nxp-ec-form-field"},rC=["for"],lC=["id","onUpdate:modelValue"],cC={class:"nxp-ec-form-field"},dC=["for"],uC=["id","onUpdate:modelValue"],pC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},_C=["for"],fC=["id","onUpdate:modelValue"],mC={class:"nxp-ec-form-help"},hC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},gC=["for"],EC=["id","onUpdate:modelValue"],CC={class:"nxp-ec-variant-options"},AC={class:"nxp-ec-variant-options__header"},SC={class:"nxp-ec-variant-options__title"},bC=["onClick"],TC={class:"nxp-ec-form-help"},yC=["id","onUpdate:modelValue","placeholder"],RC=["id","onUpdate:modelValue","placeholder"],OC=["onClick","aria-label"],xC={class:"nxp-ec-variant-images"},PC={class:"nxp-ec-variant-images__header"},NC={class:"nxp-ec-variant-images__title"},vC=["onClick"],MC={class:"nxp-ec-form-help"},IC={key:0,class:"nxp-ec-variant-images__list"},kC=["src","alt"],wC=["onClick","aria-label"],$C={key:1,class:"nxp-ec-variant-images__empty"},LC={key:1,class:"nxp-ec-editor-panel nxp-ec-editor-panel--digital"},DC={class:"nxp-ec-admin-alert nxp-ec-admin-alert--info"},YC={style:{"margin-bottom":"0"}},UC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},XC={key:1,class:"nxp-ec-admin-callout nxp-ec-admin-callout--info"},FC={class:"nxp-ec-admin-callout__content"},GC={class:"nxp-ec-admin-callout__title"},VC={class:"nxp-ec-digital-grid"},HC={class:"nxp-ec-digital-card"},BC={class:"nxp-ec-form-field"},KC={class:"nxp-ec-form-label",for:"digital-file-input"},jC=["disabled"],JC={class:"nxp-ec-form-field"},WC={class:"nxp-ec-form-label",for:"digital-version"},qC=["disabled"],zC={class:"nxp-ec-form-field"},QC={class:"nxp-ec-form-label",for:"digital-variant"},ZC=["disabled"],eA={value:""},tA=["value"],sA={class:"nxp-ec-form-help"},nA={class:"nxp-ec-admin-form__actions"},oA=["disabled"],aA={class:"nxp-ec-digital-card"},iA={class:"nxp-ec-digital-card__header"},rA={key:0},lA={key:0,class:"nxp-ec-form-help"},cA={key:1,class:"nxp-ec-digital-table"},dA={class:"nxp-ec-digital-meta"},uA={class:"nxp-ec-admin-panel__muted"},pA={key:0,class:"nxp-ec-admin-panel__muted"},_A={class:"nxp-ec-digital-actions"},fA=["disabled","onClick"],mA={class:"nxp-ec-modal__actions"},hA=["disabled"],gA=["disabled"],vi="product-editor-form",EA=Nt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=ye(()=>(n.baseCurrency||"USD").toUpperCase()),c=Qe("general"),u=wt({token:n.csrfToken||""}),p=ye(()=>n.digitalEndpoints||{});ye(()=>n.csrfToken||"");const _=w=>{var f,H,be,Re,F,de,V,Xe;if(w==null)return null;if(typeof w=="string"){const je=w.trim();return je===""?null:{id:0,title:je,slug:""}}if(typeof w=="object"){const je=Number.parseInt((H=(f=w.id)!=null?f:w.value)!=null?H:0,10)||0,st=(V=(de=(F=(Re=(be=w.title)!=null?be:w.name)!=null?Re:w.text)!=null?F:w.label)!=null?de:w.slug)!=null?V:"",Lt=String(st!=null?st:"").trim(),Gt=String((Xe=w.slug)!=null?Xe:"").trim(),Dt=w.parent_id!==null&&w.parent_id!==void 0&&Number.parseInt(w.parent_id,10)||null;return je<=0&&Lt===""?null:{id:je>0?je:0,title:Lt!==""?Lt:Gt,slug:Gt,parent_id:Dt}}return null},A=w=>{const f=Number(w);if(Number.isFinite(f))return f===-1?-1:f===0?0:1;if(typeof w=="string"){const H=w.trim().toLowerCase();if(H==="out_of_stock"||H==="out-of-stock"||H==="-1")return-1;if(H==="inactive"||H==="0")return 0}return 1},d=et({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[],product_type:"physical",digital_files:[]}),R=Qe(""),h=Qe(!1),I=ye(()=>(d.product_type||"physical").toString().toLowerCase()),N=ye(()=>I.value==="digital"),O=et({files:[],loading:!1,uploading:!1,deletingId:0,error:"",version:"1.0",variantId:""}),b=Qe(null),m=Qe(null),Y=()=>{b.value=null,m.value&&(m.value.value="")},L=(w,f,H=new Set)=>{if(!w||H.has(w))return 0;H.add(w);const be=f.find(Re=>Re.id===w);return!be||!be.parent_id?0:1+L(be.parent_id,f,H)},K=w=>{if(!w)return"";const f=Array.isArray(n.categoryOptions)?n.categoryOptions:[],H=L(w.id,f);return H===0?w.title:"".repeat(H)+" "+w.title},te=ye(()=>{const f=(Array.isArray(n.categoryOptions)?n.categoryOptions:[]).map(_).filter(F=>F&&F.id>0&&F.title!==""),H=new Map;f.forEach(F=>{H.set(F.id,F)}),d.categories.forEach(F=>{var de;F.id>0&&F.title&&!H.has(F.id)&&H.set(F.id,{id:F.id,title:F.title,slug:(de=F.slug)!=null?de:"",parent_id:F.parent_id!==null&&F.parent_id!==void 0?F.parent_id:null})});const be=Array.from(H.values()),Re=(F=null,de=0)=>be.filter(V=>V.parent_id===F).sort((V,Xe)=>V.title.localeCompare(Xe.title)).flatMap(V=>[V,...Re(V.id,de+1)]);return Re()}),q=ye(()=>{const w=new Map;return te.value.forEach(f=>{var H;w.set(f.id,{title:f.title,slug:(H=f.slug)!=null?H:""})}),w}),Ne=ye({get:()=>d.categories.filter(f=>f&&f.id>0).map(f=>f.id),set:w=>{const f=Array.isArray(w)?w:[],H=Array.from(new Set(f.map(F=>Number.parseInt(F!=null?F:0,10)||0).filter(F=>F>0))),be=d.categories.filter(F=>!(F.id>0)),Re=H.map(F=>{const de=q.value.get(F),V=d.categories.find(st=>st.id===F),Xe=(de==null?void 0:de.title)||(V==null?void 0:V.title)||"",je=(de==null?void 0:de.slug)||(V==null?void 0:V.slug)||"";return Xe===""?null:{id:F,title:Xe,slug:je}}).filter(F=>F!==null);d.categories.splice(0,d.categories.length,...Re,...be)}}),ke=ye(()=>n.product&&n.product.id?"edit":"create"),v=()=>({id:0,sku:"",ean:"",price:"",sale_price:"",sale_start:null,sale_end:null,sale_start_local:"",sale_end_local:"",currency:r.value,stock:0,weight:"",active:!0,options:[],images:[],is_digital:N.value}),Ye=()=>({name:"",value:""}),De=w=>w?w.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",we=()=>{h.value=!0,d.slug=De(d.slug)},oe=w=>{const H=(Array.isArray(w)?w:[]).map(_).filter(F=>F&&(F.id>0||F.title!=="")),be=new Set,Re=[];H.forEach(F=>{const de=F.id>0?`id:${F.id}`:`title:${F.title.toLowerCase()}`;be.has(de)||(be.add(de),Re.push(F))}),d.categories.splice(0,d.categories.length,...Re)},Te=w=>{d.variants.splice(0,d.variants.length,...w),C()},Ee=w=>{d.images.splice(0,d.images.length,...w)},D=w=>Array.isArray(w)?w.map(f=>{var H,be,Re;return{name:String((be=(H=f==null?void 0:f.name)!=null?H:f==null?void 0:f.key)!=null?be:"").trim(),value:String((Re=f==null?void 0:f.value)!=null?Re:"").trim()}}):w&&typeof w=="object"?Object.entries(w).map(([f,H])=>({name:String(f!=null?f:"").trim(),value:String(H!=null?H:"").trim()})):[],M=w=>Array.isArray(w)?w.map(f=>{var H,be,Re,F,de,V,Xe;return{id:Number.parseInt((H=f==null?void 0:f.id)!=null?H:0,10)||0,product_id:Number.parseInt((be=f==null?void 0:f.product_id)!=null?be:0,10)||0,variant_id:(f==null?void 0:f.variant_id)!==null&&(f==null?void 0:f.variant_id)!==void 0?Number.parseInt(f.variant_id,10)||0:null,filename:String((Re=f==null?void 0:f.filename)!=null?Re:"").trim(),storage_path:String((F=f==null?void 0:f.storage_path)!=null?F:"").trim(),file_size:Number.parseInt((de=f==null?void 0:f.file_size)!=null?de:0,10)||0,mime_type:(f==null?void 0:f.mime_type)!==null&&(f==null?void 0:f.mime_type)!==void 0?String(f.mime_type).trim():"",version:String((V=f==null?void 0:f.version)!=null?V:"1.0").trim()||"1.0",created:String((Xe=f==null?void 0:f.created)!=null?Xe:"").trim()}}).filter(f=>f.id>0&&f.filename!==""):[],U=w=>{if(!w||w==="")return"";try{const f=new Date(w.replace(" ","T")+"Z");if(isNaN(f.getTime()))return"";const H=f.getFullYear(),be=String(f.getMonth()+1).padStart(2,"0"),Re=String(f.getDate()).padStart(2,"0"),F=String(f.getHours()).padStart(2,"0"),de=String(f.getMinutes()).padStart(2,"0");return`${H}-${be}-${Re}T${F}:${de}`}catch(f){return""}},z=w=>{if(!w||w==="")return null;try{const f=new Date(w);return isNaN(f.getTime())?null:f.toISOString().slice(0,19).replace("T"," ")}catch(f){return null}},ie=w=>!Array.isArray(w)||w.length===0?[v()]:w.map(f=>{var Re,F,de,V,Xe,je;const H=(f==null?void 0:f.sale_price)!=null?String(f.sale_price):Number.isFinite(f==null?void 0:f.sale_price_cents)?(f.sale_price_cents/100).toFixed(2):"";let be=[];return Array.isArray(f==null?void 0:f.images)&&(be=f.images.filter(st=>typeof st=="string"&&st.trim()!=="").map(st=>st.trim())),{id:Number.parseInt((Re=f==null?void 0:f.id)!=null?Re:0,10)||0,sku:String((F=f==null?void 0:f.sku)!=null?F:"").trim(),ean:(f==null?void 0:f.ean)!=null?String(f.ean).trim():"",price:(f==null?void 0:f.price)!=null?String(f.price):Number.isFinite(f==null?void 0:f.price_cents)?(f.price_cents/100).toFixed(2):"",sale_price:H,sale_start:(de=f==null?void 0:f.sale_start)!=null?de:null,sale_end:(V=f==null?void 0:f.sale_end)!=null?V:null,sale_start_local:U(f==null?void 0:f.sale_start),sale_end_local:U(f==null?void 0:f.sale_end),currency:String((Xe=f==null?void 0:f.currency)!=null?Xe:r.value).toUpperCase(),stock:Number.parseInt((je=f==null?void 0:f.stock)!=null?je:0,10)||0,weight:(f==null?void 0:f.weight)!=null?String(f.weight):"",active:(f==null?void 0:f.active)!==void 0?!!f.active:!0,options:D(f==null?void 0:f.options),images:be,is_digital:(f==null?void 0:f.is_digital)!==void 0?!!f.is_digital:N.value}}),C=()=>{d.variants.forEach(w=>{(w.is_digital===void 0||w.is_digital===null)&&(w.is_digital=N.value),N.value&&(w.weight="")})},E=w=>{var F,de,V,Xe,je;const f=w?JSON.parse(JSON.stringify(w)):{};d.title=(F=f.title)!=null?F:"",d.slug=(de=f.slug)!=null?de:"",d.short_desc=(V=f.short_desc)!=null?V:"",d.long_desc=(Xe=f.long_desc)!=null?Xe:"",d.status=A(f.status!==void 0?f.status:f.active),d.featured=f.featured!==void 0?!!f.featured:!1,d.product_type=typeof f.product_type=="string"&&f.product_type!==""?f.product_type.toLowerCase():"physical";const H=Array.isArray(f.images)?f.images.map(st=>String(st!=null?st:"").trim()).filter(Boolean):[];Ee(H);const be=Array.isArray(f.categories)?f.categories:[];oe(be);const Re=M((je=f.digital_files)!=null?je:[]);d.digital_files.splice(0,d.digital_files.length,...Re),O.files=Re.slice(),O.error="",O.variantId="",O.version="1.0",O.deletingId=0,Y(),R.value="",Te(ie(f.variants)),h.value=!!d.slug},T=ye(()=>d.variants.map((w,f)=>{var F,de;const H=String((F=w==null?void 0:w.sku)!=null?F:"").trim(),be=Array.isArray(w==null?void 0:w.options)?w.options.filter(V=>(V==null?void 0:V.name)&&(V==null?void 0:V.value)).map(V=>`${String(V.name).trim()}: ${String(V.value).trim()}`).join(", "):"",Re=s("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(f+1)]);return{id:Number.parseInt((de=w==null?void 0:w.id)!=null?de:0,10)||0,label:H||be||Re}})),ge=w=>{if(!w)return s("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants");const f=T.value.find(H=>H.id===w);return(f==null?void 0:f.label)||s("COM_NXPEASYCART_DIGITAL_VARIANT_SPECIFIC","Variant")},pe=w=>{const f=Number(w)||0;if(f<=0)return s("COM_NXPEASYCART_DIGITAL_FILE_SIZE_UNKNOWN","Unknown size");const H=["B","KB","MB","GB"];let be=0,Re=f;for(;Re>=1024&&be<H.length-1;)Re/=1024,be+=1;return`${Re.toFixed(Re>=10?0:1)} ${H[be]}`},Pe=async()=>{var w,f;if(!((w=n.product)!=null&&w.id)){O.files=M(d.digital_files);return}if(!((f=p.value)!=null&&f.list)){O.files=M(d.digital_files);return}O.loading=!0,O.error="";try{const H=await u.fetchDigitalFiles({endpoint:p.value.list,productId:n.product.id}),be=M(H);O.files=be,d.digital_files.splice(0,d.digital_files.length,...be)}catch(H){O.error=(H==null?void 0:H.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to load digital files.")}finally{O.loading=!1}},j=w=>{var H;const f=(H=w==null?void 0:w.target)==null?void 0:H.files;b.value=f&&f.length?f[0]:null},_e=async()=>{var w,f;if(!((w=n.product)!=null&&w.id)){O.error=s("COM_NXPEASYCART_ERROR_PRODUCT_ID_REQUIRED","Save the product before uploading files.");return}if(!((f=p.value)!=null&&f.upload)){O.error=s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Digital upload endpoint unavailable.");return}if(!b.value){O.error=s("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Select a file to upload.");return}O.uploading=!0,O.error="";try{const H=await u.uploadDigitalFile({endpoint:p.value.upload,productId:n.product.id,variantId:O.variantId&&Number.parseInt(O.variantId,10)||null,version:O.version||"1.0",file:b.value}),be=H?M([H]):[];be.length&&(O.files.unshift(be[0]),d.digital_files.unshift(be[0]))}catch(H){O.error=(H==null?void 0:H.message)||s("COM_NXPEASYCART_ERROR_UPLOAD_FAILED","Upload failed.")}finally{O.uploading=!1,Y()}},$e=async w=>{var H,be;const f=Number.parseInt((H=w==null?void 0:w.id)!=null?H:0,10)||0;if(!(!f||!((be=p.value)!=null&&be.delete))){O.deletingId=f,O.error="";try{await u.deleteDigitalFile({endpoint:p.value.delete,fileId:f});const Re=O.files.filter(F=>F.id!==f);O.files=Re,d.digital_files.splice(0,d.digital_files.length,...Re)}catch(Re){O.error=(Re==null?void 0:Re.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to delete file.")}finally{O.deletingId=0}}};ct(()=>n.product,w=>{E(w),c.value="general",c.value==="digital"&&Pe()},{immediate:!0}),ct(()=>d.title,w=>{h.value||(d.slug=De(w))}),ct(r,w=>{d.variants.forEach(f=>{f.currency=w})}),ct(I,w=>{C(),w!=="digital"&&c.value==="digital"&&(c.value="general")}),ct(c,w=>{w==="digital"&&Pe()});const Fe=()=>{const w=R.value.trim();if(!w)return;const f=w.toLowerCase(),H=d.categories.slice();H.some(Re=>Re.title.toLowerCase()===f)||(H.push({id:0,title:w,slug:""}),d.categories.splice(0,d.categories.length,...H)),R.value=""},y=w=>{if(w<0||w>=d.categories.length)return;const f=d.categories.slice();f.splice(w,1),d.categories.splice(0,d.categories.length,...f)},P=()=>{d.variants.push(v())},G=w=>{d.variants.length<=1||d.variants.splice(w,1)},se=w=>{const f=d.variants[w];f&&(Array.isArray(f.options)||(f.options=[]),f.options.push(Ye()))},Z=(w,f)=>{const H=d.variants[w];!H||!Array.isArray(H.options)||H.options.splice(f,1)};let ne=null;const W=w=>{var H,be,Re;if(!w||typeof w!="string")return"";const f=w.trim();if(f==="")return"";if(f.startsWith("http://")||f.startsWith("https://")||f.startsWith("//"))return f;if(typeof window!="undefined")try{const de=((Re=(be=(H=window.Joomla)==null?void 0:H.getOptions)==null?void 0:be.call(H,"system.paths",{}))!=null?Re:{}).root||"",V=f.startsWith("/")?f:`/${f}`;return de+V}catch(F){}return f.startsWith("/")?f:`/${f}`},J=async w=>{const f=d.variants[w];if(!f)return;Array.isArray(f.images)||(f.images=[]);const H=await Ie();if(!H||typeof H.show!="function"){const be=window.prompt(s("COM_NXPEASYCART_FIELD_IMAGE_URL_PROMPT","Enter image URL:"),"");be&&be.trim()!==""&&f.images.push(be.trim());return}ne=w,k=null,H.setAttribute("url",he()),typeof H.setValue=="function"?H.setValue(""):x&&(x.value="");try{H.show()}catch(be){ne=null;const Re=window.prompt(s("COM_NXPEASYCART_FIELD_IMAGE_URL_PROMPT","Enter image URL:"),"");Re&&Re.trim()!==""&&f.images.push(Re.trim())}},Q=(w,f)=>{const H=d.variants[w];!H||!Array.isArray(H.images)||H.images.splice(f,1)},B=(w,f)=>`${w.id||"new"}-${f}`,Ce=w=>{const f=d.variants[w];if(!f)return;const H=JSON.parse(JSON.stringify(f));H.id=0,H.sku=[H.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),H.active=!0,d.variants.splice(w+1,0,H)},le=w=>{const f=d.variants[w];if(!f)return;const H=Number.parseFloat(f.price);Number.isNaN(H)||(f.price=H.toFixed(2))},me=w=>{const f=d.variants[w];if(!f)return;if(f.sale_price===""||f.sale_price===null||f.sale_price===void 0){f.sale_price="";return}const H=Number.parseFloat(f.sale_price);if(Number.isNaN(H)){f.sale_price="";return}f.sale_price=H.toFixed(2)};let Se=null,Oe=null,x=null,k=null,re="";const ce=()=>{Array.isArray(d.images)||(d.images=[])},X=w=>{var Re,F,de;if(!w)return"";let f=String(w).trim();if(f==="")return"";try{const V=(de=(F=(Re=window.Joomla)==null?void 0:Re.getOptions)==null?void 0:F.call(Re,"system.paths",{}))!=null?de:{},Xe=V.rootFull||window.location.origin,je=V.root||"/";f.startsWith(Xe)&&(f=f.substring(Xe.length)),f.startsWith(je)&&(f=f.substring(je.length))}catch(V){}const H=f.match(/^(local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(H&&H[2]){const V=H[1].toLowerCase();let Xe=H[2];if(V==="local-images"||V==="images")!Xe.startsWith("images/")&&!Xe.startsWith("/images/")&&(Xe="images/"+Xe);else if(V.startsWith("local-")){const je=V.replace("local-","");!Xe.startsWith(je+"/")&&!Xe.startsWith("/"+je+"/")&&(Xe=je+"/"+Xe)}f=Xe}const be=f.indexOf("#joomlaImage://");return be!==-1&&(f=f.substring(0,be)),f.trim()},Me=(w,{keepIndex:f=!1,appendWhenNoIndex:H=!1,targetIndex:be=null}={})=>{const Re=X(w);if(Re==="")return!1;ce();const F=be!==null&&be>=0?be:k;return F==null||Number.isNaN(F)?H?(d.images.push(Re),f||(k=null,re=""),!0):!1:(F>=d.images.length?d.images.push(Re):d.images[F]=Re,re=f?Re:"",f||(k=null,re=""),!0)},We=()=>{ce(),d.images.push("")},Be=w=>{ce(),d.images.splice(w,1)},Je=(w,f)=>{ce();const H=d.images[w];if(H===void 0)return;const be=w+f;be<0||be>=d.images.length||(d.images.splice(w,1),d.images.splice(be,0,H))},tt=w=>{var be;ce();const f=(be=d.images[w])!=null?be:"";if(typeof window=="undefined")return;const H=window.prompt(s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),f);Me(H!=null?H:"",{targetIndex:w})},he=()=>{var F,de,V,Xe,je,st;const w=(n.mediaModalUrl||"").trim();if(w!=="")return w;const f=(V=(de=(F=window.Joomla)==null?void 0:F.getOptions)==null?void 0:de.call(F,"media-picker",{}))!=null?V:{};if(f.modalUrl)return f.modalUrl;const H=(st=(je=(Xe=window.Joomla)==null?void 0:Xe.getOptions)==null?void 0:je.call(Xe,"system.paths",{}))!=null?st:{},be=H.rootFull||H.root||"";return(be?be.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},Ie=async()=>{var V,Xe,je,st,Lt,Gt,Dt,Ss,bs;if(Se)return Se;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(lt){return null}const w=(je=(Xe=(V=window.Joomla)==null?void 0:V.getOptions)==null?void 0:Xe.call(V,"system.paths",{}))!=null?je:{},f=w.rootFull||w.root||"",H=(Gt=(Lt=(st=window.Joomla)==null?void 0:st.getOptions)==null?void 0:Lt.call(st,"com_media",{}))!=null?Gt:{},be=(H==null?void 0:H.file_path)||"images",Re=(bs=(Ss=(Dt=window.Joomla)==null?void 0:Dt.getOptions)==null?void 0:Ss.call(Dt,"media-picker",{}))!=null?bs:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},de=s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return Oe=document.createElement("div"),Oe.className="nxp-ec-media-picker-host",Oe.style.display="none",Oe.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${f.replace(/"/g,"&quot;")}"
            root-folder="${be.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${de}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(Re).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(Oe),Se=Oe.querySelector("joomla-field-media"),x=Oe.querySelector(".nxp-ec-media-field__input"),Se.addEventListener("change",lt=>{var Ts,Ut,ys,Gs,Wn,qn;const cs=(ys=(Ut=(Ts=lt.detail)==null?void 0:Ts.value)!=null?Ut:x==null?void 0:x.value)!=null?ys:"";let Yt=X(cs);if(Yt===""&&re!==""&&(Yt=re),Yt===""&&((Gs=window.Joomla)!=null&&Gs.selectedMediaFile)){const Rs=X((Wn=window.Joomla.selectedMediaFile.url)!=null?Wn:""),Xo=X((qn=window.Joomla.selectedMediaFile.path)!=null?qn:"");Yt=Rs||Xo}Me(Yt)}),Se.addEventListener("joomla-dialog:close",()=>{k=null,re=""}),x&&x.addEventListener("change",()=>{var cs,Yt,Ts,Ut;if(k===null)return;let lt=X((cs=x.value)!=null?cs:"");if(lt===""&&re!==""&&(lt=re),lt===""&&((Yt=window.Joomla)!=null&&Yt.selectedMediaFile)){const ys=X((Ts=window.Joomla.selectedMediaFile.url)!=null?Ts:""),Gs=X((Ut=window.Joomla.selectedMediaFile.path)!=null?Ut:"");lt=ys||Gs}lt!==""&&Me(lt)}),Se},xe=w=>{var F,de;const f=w==null?void 0:w.detail;if(!f||typeof f!="object")return;const H=X((F=f.path)!=null?F:""),Re=X((de=f.url)!=null?de:"")||H;if(Re!==""){if(ne!==null){const V=d.variants[ne];V&&(Array.isArray(V.images)||(V.images=[]),V.images.push(Re)),ne=null;return}k!==null&&(re=Re,Me(Re,{keepIndex:!0}))}};Ot(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",xe)});const fe=async w=>{var be;ce();const f=await Ie();if(!f||typeof f.show!="function"){tt(w);return}k=w,f.setAttribute("url",he());const H=(be=d.images[w])!=null?be:"";typeof f.setValue=="function"?f.setValue(H):x&&(x.value=H);try{f.show()}catch(Re){k=null,re="",tt(w)}};en(()=>{Oe&&Oe.parentNode&&Oe.parentNode.removeChild(Oe),Se=null,Oe=null,x=null,k=null,ne=null,re="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",xe)});const dt=()=>{var F,de;ce();const w=Array.from(new Set(d.images.map(V=>String(V!=null?V:"").trim()).filter(V=>V!==""))),f=d.categories.map(V=>{var Lt,Gt,Dt;const Xe=Number.parseInt((Lt=V==null?void 0:V.id)!=null?Lt:0,10)||0,je=String((Gt=V==null?void 0:V.title)!=null?Gt:"").trim(),st=String((Dt=V==null?void 0:V.slug)!=null?Dt:"").trim();return Xe>0?{id:Xe,title:je,slug:st}:je===""?null:{id:0,title:je,slug:""}}).filter(V=>V!==null),H=d.variants.map(V=>{const Xe=Array.isArray(V.options)?V.options.map(lt=>{var cs,Yt;return{name:String((cs=lt==null?void 0:lt.name)!=null?cs:"").trim(),value:String((Yt=lt==null?void 0:lt.value)!=null?Yt:"").trim()}}).filter(lt=>lt.name!==""&&lt.value!==""):[],je=Number.isFinite(Number(V.stock))?Math.max(0,parseInt(V.stock,10)):0,st=V.weight!==null&&V.weight!==""?String(V.weight).trim():null,Lt=V.ean&&String(V.ean).trim()!==""?String(V.ean).trim():null,Gt=V.sale_price!==null&&V.sale_price!==void 0&&V.sale_price!==""?String(V.sale_price).trim():null,Dt=z(V.sale_start_local),Ss=z(V.sale_end_local),bs=Array.isArray(V.images)?V.images.map(lt=>typeof lt=="string"?lt.trim():"").filter(lt=>lt!==""):[];return{id:V.id||0,sku:V.sku.trim(),ean:Lt,price:V.price!==null&&V.price!==void 0?String(V.price).trim():"",sale_price:Gt,sale_start:Dt,sale_end:Ss,currency:V.currency?String(V.currency).trim().toUpperCase():r.value,stock:je,weight:st,active:!!V.active,is_digital:!!V.is_digital,options:Xe,images:bs.length>0?bs:null}}),be=A(d.status),Re={title:d.title.trim(),slug:d.slug.trim(),short_desc:(F=d.short_desc)!=null?F:"",long_desc:(de=d.long_desc)!=null?de:"",status:be,active:be,featured:!!d.featured,images:w,categories:f,variants:H,product_type:I.value==="digital"?"digital":"physical"};a("submit",Re)},rt=()=>{a("cancel")};return ct(()=>n.saving,(w,f)=>{f&&!w&&n.errors.length===0&&ke.value==="create"&&(E(null),R.value="",h.value=!1)}),(w,f)=>{var H,be,Re;return e.open?(g(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",onKeydown:Pt(rt,["esc"])},[f[21]||(f[21]=o("div",{class:"nxp-ec-modal__backdrop"},null,-1)),o("div",Ng,[o("header",vg,[o("h2",Mg,l(ke.value==="edit"?i(s)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):i(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),o("div",Ig,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:rt,disabled:e.saving,title:i(s)("JCANCEL","Cancel"),"aria-label":i(s)("JCANCEL","Cancel")},[f[16]||(f[16]=o("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),o("span",wg,l(i(s)("JCANCEL","Cancel")),1)],8,kg),o("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:vi,title:e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save"),"aria-label":e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")},[o("i",{class:Ke(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),o("span",Lg,l(e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")),1)],8,$g),o("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:rt,title:i(s)("JCLOSE","Close"),"aria-label":i(s)("JCLOSE","Close")},[f[17]||(f[17]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",Yg,l(i(s)("JCLOSE","Close")),1)],8,Dg)])]),o("form",{id:vi,class:"nxp-ec-form",onSubmit:xt(dt,["prevent"])},[e.errors.length?(g(),S("div",Ug,[(g(!0),S(Le,null,Ve(e.errors,(F,de)=>(g(),S("p",{key:de},l(F),1))),128))])):ae("",!0),o("nav",Xg,[o("button",{type:"button",class:Ke(["nxp-ec-editor-tab",{"is-active":c.value==="general"}]),onClick:f[0]||(f[0]=F=>c.value="general")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General")),3),o("button",{type:"button",class:Ke(["nxp-ec-editor-tab",{"is-active":c.value==="variants"}]),onClick:f[1]||(f[1]=F=>c.value="variants")},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),3),o("button",{type:"button",class:Ke(["nxp-ec-editor-tab",{"is-active":c.value==="images"}]),onClick:f[2]||(f[2]=F=>c.value="images")},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),3),o("button",{type:"button",class:Ke(["nxp-ec-editor-tab",{"is-active":c.value==="categories"}]),onClick:f[3]||(f[3]=F=>c.value="categories")},l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),3),N.value?(g(),S("button",{key:0,type:"button",class:Ke(["nxp-ec-editor-tab",{"is-active":c.value==="digital"}]),onClick:f[4]||(f[4]=F=>c.value="digital")},l(i(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital")),3)):ae("",!0)]),ee(o("section",Fg,[o("div",Gg,[o("label",Vg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),ee(o("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[5]||(f[5]=F=>d.title=F),required:""},null,512),[[Ae,d.title,void 0,{trim:!0}]])]),o("div",Hg,[o("label",Bg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),ee(o("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[6]||(f[6]=F=>d.slug=F),onInput:we,placeholder:i(s)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,Kg),[[Ae,d.slug,void 0,{trim:!0}]])]),o("div",jg,[o("label",Jg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),ee(o("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":f[7]||(f[7]=F=>d.short_desc=F)},null,512),[[Ae,d.short_desc]])]),o("div",Wg,[o("label",qg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),ee(o("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":f[8]||(f[8]=F=>d.long_desc=F)},null,512),[[Ae,d.long_desc]])]),o("div",zg,[o("label",Qg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),ee(o("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":f[9]||(f[9]=F=>d.status=F)},[o("option",Zg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),o("option",eE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),o("option",tE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[Ct,d.status,void 0,{number:!0}]]),o("p",sE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),o("div",nE,[o("label",oE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE","Product type")),1),ee(o("select",{id:"product-type",class:"nxp-ec-form-select","onUpdate:modelValue":f[10]||(f[10]=F=>d.product_type=F)},[o("option",aE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_PHYSICAL","Physical product")),1),o("option",iE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_DIGITAL","Digital product")),1)],512),[[Ct,d.product_type]]),o("p",rE,l(i(s)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),o("div",lE,[o("label",cE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),ee(o("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":f[11]||(f[11]=F=>d.featured=F)},null,512),[[ht,d.featured]]),o("p",dE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)])],512),[[Ys,c.value==="general"]]),ee(o("section",uE,[o("div",pE,[o("label",_E,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),o("div",fE,[(g(!0),S(Le,null,Ve(d.images,(F,de)=>(g(),S("div",{key:`product-image-${de}`,class:"nxp-ec-image-row"},[ee(o("input",{id:`product-image-${de}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":V=>d.images[de]=V,placeholder:i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,mE),[[Ae,d.images[de],void 0,{trim:!0}]]),o("div",hE,[o("button",{type:"button",class:"nxp-ec-btn",onClick:V=>fe(de)},[f[18]||(f[18]=o("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,gE),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:V=>Je(de,-1),disabled:de===0},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,EE),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:V=>Je(de,1),disabled:de===d.images.length-1},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,CE),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:V=>Be(de),"aria-label":i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),9,AE)])]))),128))]),o("button",{type:"button",class:"nxp-ec-btn",onClick:We},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),o("p",SE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)])],512),[[Ys,c.value==="images"]]),ee(o("section",bE,[o("div",TE,[o("label",yE,l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),ee(o("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":f[12]||(f[12]=F=>Ne.value=F)},[(g(!0),S(Le,null,Ve(te.value,F=>(g(),S("option",{key:F.id,value:F.id},l(K(F)),9,RE))),128))],512),[[Ct,Ne.value]]),o("div",OE,[(g(!0),S(Le,null,Ve(d.categories,(F,de)=>(g(),S("span",{key:`selected-category-${de}`,class:"nxp-ec-chip"},[ve(l(F.title)+" ",1),o("button",{type:"button",class:"nxp-ec-chip__remove",onClick:V=>y(de),"aria-label":i(s)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,xE)]))),128))]),o("div",PE,[ee(o("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":f[13]||(f[13]=F=>R.value=F),onKeydown:Pt(xt(Fe,["prevent"]),["enter"]),placeholder:i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,NE),[[Ae,R.value]]),o("button",{type:"button",class:"nxp-ec-btn",onClick:Fe},l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),o("p",vE,l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select a category or create a new one",[],"productCategoriesHelp")),1)])],512),[[Ys,c.value==="categories"]]),ee(o("section",ME,[o("header",IE,[o("h3",kE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),o("button",{type:"button",class:"nxp-ec-btn",onClick:P},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),o("p",wE,[ve(l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),r.value?(g(),S(Le,{key:0},[ve(" ("+l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[r.value]))+") ",1)],64)):ae("",!0)]),(g(!0),S(Le,null,Ve(d.variants,(F,de)=>(g(),S("article",{key:B(F,de),class:"nxp-ec-variant-card"},[o("header",$E,[o("h4",LE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(de+1)])),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:V=>Ce(de)},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,DE),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:V=>G(de),disabled:d.variants.length<=1},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,YE)]),o("div",UE,[o("div",XE,[o("label",{class:"nxp-ec-form-label",for:`variant-sku-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,FE),ee(o("input",{id:`variant-sku-${de}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":V=>F.sku=V,required:""},null,8,GE),[[Ae,F.sku,void 0,{trim:!0}]])]),o("div",VE,[o("label",{class:"nxp-ec-form-label",for:`variant-ean-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_EAN","EAN")),9,HE),ee(o("input",{id:`variant-ean-${de}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":V=>F.ean=V,placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_EAN_PLACEHOLDER","8 or 13 digits"),maxlength:"13",pattern:"\\d{8}|\\d{13}"},null,8,BE),[[Ae,F.ean,void 0,{trim:!0}]])]),o("div",KE,[o("label",{class:"nxp-ec-form-label",for:`variant-price-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,jE),ee(o("input",{id:`variant-price-${de}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":V=>F.price=V,onBlur:V=>le(de),required:""},null,40,JE),[[Ae,F.price,void 0,{trim:!0}]])]),o("div",WE,[o("label",{class:"nxp-ec-form-label",for:`variant-sale-price-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE","Sale Price")),9,qE),ee(o("input",{id:`variant-sale-price-${de}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":V=>F.sale_price=V,onBlur:V=>me(de),placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE_PLACEHOLDER","Leave empty if not on sale")},null,40,zE),[[Ae,F.sale_price,void 0,{trim:!0}]])]),o("div",QE,[o("label",{class:"nxp-ec-form-label",for:`variant-sale-start-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START","Sale Start")),9,ZE),ee(o("input",{id:`variant-sale-start-${de}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":V=>F.sale_start_local=V,disabled:!F.sale_price||F.sale_price===""},null,8,eC),[[Ae,F.sale_start_local]]),o("p",tC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START_HELP","Leave empty to start immediately")),1)]),o("div",sC,[o("label",{class:"nxp-ec-form-label",for:`variant-sale-end-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END","Sale End")),9,nC),ee(o("input",{id:`variant-sale-end-${de}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":V=>F.sale_end_local=V,disabled:!F.sale_price||F.sale_price===""},null,8,oC),[[Ae,F.sale_end_local]]),o("p",aC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END_HELP","Leave empty for no expiration")),1)]),o("div",iC,[o("label",{class:"nxp-ec-form-label",for:`variant-stock-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,rC),ee(o("input",{id:`variant-stock-${de}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":V=>F.stock=V},null,8,lC),[[Ae,F.stock,void 0,{number:!0}]])]),o("div",cC,[o("label",{class:"nxp-ec-form-label",for:`variant-weight-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,dC),ee(o("input",{id:`variant-weight-${de}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":V=>F.weight=V},null,8,uC),[[Ae,F.weight,void 0,{trim:!0}]])]),o("div",pC,[o("label",{class:"nxp-ec-form-label",for:`variant-digital-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL","Digital item")),9,_C),ee(o("input",{id:`variant-digital-${de}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":V=>F.is_digital=V},null,8,fC),[[ht,F.is_digital]]),o("p",mC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL_HELP","Digital variants skip shipping.")),1)]),o("div",hC,[o("label",{class:"nxp-ec-form-label",for:`variant-active-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,gC),ee(o("input",{id:`variant-active-${de}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":V=>F.active=V},null,8,EC),[[ht,F.active]])])]),o("section",CC,[o("header",AC,[o("h5",SC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:V=>se(de)},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,bC)]),o("p",TC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(g(!0),S(Le,null,Ve(F.options,(V,Xe)=>(g(),S("div",{key:`variant-${de}-option-${Xe}`,class:"nxp-ec-variant-option-row"},[ee(o("input",{id:`variant-${de}-option-name-${Xe}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":je=>V.name=je,placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,yC),[[Ae,V.name,void 0,{trim:!0}]]),ee(o("input",{id:`variant-${de}-option-value-${Xe}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":je=>V.value=je,placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,RC),[[Ae,V.value,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:je=>Z(de,Xe),"aria-label":i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),9,OC)]))),128))]),o("section",xC,[o("header",PC,[o("h5",NC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES","Variant Images")),1),e.mediaModalUrl?(g(),S("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:V=>J(de)},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_IMAGE_ADD","Add image")),9,vC)):ae("",!0)]),o("p",MC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES_HELP","Add variant-specific images (e.g., different colours). Leave empty to use product images.")),1),F.images&&F.images.length>0?(g(),S("div",IC,[(g(!0),S(Le,null,Ve(F.images,(V,Xe)=>(g(),S("div",{key:`variant-${de}-img-${Xe}`,class:"nxp-ec-variant-image"},[o("img",{src:W(V),alt:i(s)("COM_NXPEASYCART_VARIANT_IMAGE","Variant image")+" "+(Xe+1),class:"nxp-ec-variant-image__thumb"},null,8,kC),o("button",{type:"button",class:"nxp-ec-variant-image__remove",onClick:je=>Q(de,Xe),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[...f[19]||(f[19]=[o("i",{class:"fa-solid fa-times"},null,-1)])],8,wC)]))),128))])):(g(),S("p",$C,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES_EMPTY","No variant images (using product images)")),1))])]))),128))],512),[[Ys,c.value==="variants"]]),N.value?ee((g(),S("section",LC,[o("div",DC,[o("p",YC,l(i(s)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),O.error?(g(),S("div",UC,l(O.error),1)):ae("",!0),(H=e.product)!=null&&H.id?ae("",!0):(g(),S("div",XC,[f[20]||(f[20]=o("span",{class:"nxp-ec-admin-callout__icon"},[o("i",{class:"fa-solid fa-circle-info"})],-1)),o("div",FC,[o("div",GC,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST_TITLE","Save Required")),1),ve(" "+l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST","Digital files are linked to the product record. Save this product first, then reopen the editor to upload your files.")),1)])])),o("div",VC,[o("div",HC,[o("h4",null,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1),o("div",BC,[o("label",KC,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_SELECT","Choose file")),1),o("input",{id:"digital-file-input",ref_key:"fileInputRef",ref:m,type:"file",class:"nxp-ec-form-input",onChange:j,disabled:O.uploading||!((be=e.product)!=null&&be.id)},null,40,jC)]),o("div",JC,[o("label",WC,l(i(s)("COM_NXPEASYCART_DIGITAL_VERSION","Version")),1),ee(o("input",{id:"digital-version",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[14]||(f[14]=F=>O.version=F),disabled:O.uploading},null,8,qC),[[Ae,O.version,void 0,{trim:!0}]])]),o("div",zC,[o("label",QC,l(i(s)("COM_NXPEASYCART_DIGITAL_VARIANT_SCOPE","Applies to")),1),ee(o("select",{id:"digital-variant",class:"nxp-ec-form-select","onUpdate:modelValue":f[15]||(f[15]=F=>O.variantId=F),disabled:O.uploading},[o("option",eA,l(i(s)("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants")),1),(g(!0),S(Le,null,Ve(T.value,F=>(g(),S("option",{key:F.id,value:F.id},l(F.label),9,tA))),128))],8,ZC),[[Ct,O.variantId]]),o("p",sA,l(i(s)("COM_NXPEASYCART_DIGITAL_VARIANT_HELP","Scope downloads to a specific variant when needed.")),1)]),o("div",nA,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--primary",onClick:_e,disabled:O.uploading||!((Re=e.product)!=null&&Re.id)},[o("i",{class:Ke(["fa-solid fa-cloud-arrow-up",{"fa-spin":O.uploading}]),"aria-hidden":"true"},null,2),ve(" "+l(O.uploading?i(s)("JPROCESSING_REQUEST","Uploading"):i(s)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1)],8,oA)])]),o("div",aA,[o("div",iA,[o("h4",null,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital files")),1),O.loading?(g(),S("span",rA,l(i(s)("JGLOBAL_LOADING","Loading")),1)):ae("",!0)]),O.files.length===0?(g(),S("div",lA,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_EMPTY","No files attached to this product.")),1)):(g(),S("div",cA,[(g(!0),S(Le,null,Ve(O.files,F=>(g(),S("div",{key:F.id,class:"nxp-ec-digital-row"},[o("div",dA,[o("strong",null,l(F.filename),1),o("div",uA,[ve(l(ge(F.variant_id))+"  "+l(pe(F.file_size))+" ",1),F.version?(g(),S(Le,{key:0},[ve("  v"+l(F.version),1)],64)):ae("",!0)]),F.created?(g(),S("div",pA,l(F.created),1)):ae("",!0)]),o("div",_A,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",disabled:O.deletingId===F.id,onClick:de=>$e(F)},l(O.deletingId===F.id?i(s)("JPROCESSING_REQUEST","Removing"):i(s)("COM_NXPEASYCART_REMOVE","Remove")),9,fA)])]))),128))]))])])],512)),[[Ys,c.value==="digital"]]):ae("",!0),o("footer",mA,[o("button",{type:"button",class:"nxp-ec-btn",onClick:rt,disabled:e.saving},l(i(s)("JCANCEL","Cancel")),9,hA),o("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},l(e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")),9,gA)])],32)])],32)):ae("",!0)}}},[["__scopeId","data-v-bbe99456"]]),CA={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},AA={key:1,class:"nxp-ec-skeleton__table"},SA={key:2,class:"nxp-ec-skeleton__card"},bA={key:3,class:"nxp-ec-skeleton__circle"};function TA(e,t,n,a,s,r){return g(),S("div",{class:Ke(["nxp-ec-skeleton",r.skeletonClasses])},[n.type==="text"?(g(),S("div",{key:0,class:"nxp-ec-skeleton__line",style:Ht({width:n.width})},null,4)):n.type==="table"?(g(),S("div",AA,[(g(!0),S(Le,null,Ve(n.rows,c=>(g(),S("div",{key:c,class:"nxp-ec-skeleton__table-row"},[(g(!0),S(Le,null,Ve(n.columns,u=>(g(),S("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):n.type==="card"?(g(),S("div",SA,[...t[0]||(t[0]=[hm('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):n.type==="circle"?(g(),S("div",bA)):(g(),S("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Ht({width:n.width,height:n.height})},null,4))],2)}const pn=Nt(CA,[["render",TA],["__scopeId","data-v-c8b9a887"]]),yA={class:"nxp-ec-admin-panel"},RA={class:"nxp-ec-admin-panel__header"},OA={class:"nxp-ec-admin-panel__title"},xA={class:"nxp-ec-admin-panel__lead"},PA={class:"nxp-ec-admin-panel__actions"},NA=["placeholder","aria-label"],vA=["disabled","title","aria-label"],MA={class:"nxp-ec-sr-only"},IA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kA={key:1,class:"nxp-ec-admin-panel__body"},wA={key:2,class:"nxp-ec-admin-panel__body"},$A={key:0,class:"nxp-ec-admin-pagination"},LA=["disabled"],DA={class:"nxp-ec-admin-pagination__status"},YA=["disabled"],UA=["title"],_n=1,Xs=-1,jn=0,XA={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""},checkoutProduct:{type:Function,default:null},checkinProduct:{type:Function,default:null},forceCheckinProduct:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["create","update","delete","refresh","search","page"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=et({mode:"create",product:null}),c=Qe(!1),u=Qe(null),p=ye(()=>(n.baseCurrency||"USD").toUpperCase()),_=ye(()=>r.product),A=ye(()=>(n.mediaModalUrl||"").trim()),d=ye(()=>n.digitalEndpoints||{}),R=ye(()=>n.csrfToken||""),h=ye(()=>Number(n.currentUserId||0)),I=(oe,Te=!1)=>{const Ee=Number(oe);if(Number.isFinite(Ee))return Ee===Xs?Xs:Ee===jn?jn:_n;if(Te)return Xs;if(typeof oe=="string"){const D=oe.trim().toLowerCase();if(D==="out_of_stock"||D==="out-of-stock"||D==="-1")return Xs;if(D==="inactive"||D==="0")return jn}return _n},N=(oe,Te=!1)=>{const Ee=I(oe,Te);return Ee===_n?Xs:Ee===Xs?jn:_n},O=oe=>(oe==null?void 0:oe.checked_out)&&Number(oe.checked_out)!==0&&Number(oe.checked_out)!==h.value,b=oe=>{var Ee,D;if(!oe)return"";const Te=(D=(Ee=oe.checked_out_user)==null?void 0:Ee.name)!=null?D:"";return Te||(oe.checked_out===h.value?s("JGLOBAL_YOU","You"):"")},m=async()=>{if(!u.value||!n.checkinProduct){u.value=null;return}try{await n.checkinProduct(u.value)}catch(oe){}finally{u.value=null}},Y=async()=>{await m(),n.state.validationErrors=[],n.state.error="",r.mode="create",r.product={title:"",slug:"",short_desc:"",long_desc:"",status:_n,active:!0,featured:!1,images:[],categories:[],variants:[],product_type:"physical"},c.value=!0},L=async oe=>{await m(),n.state.validationErrors=[],n.state.error="",r.mode="edit";const Te=JSON.parse(JSON.stringify(oe));Te.product_type||(Te.product_type="physical");const Ee=b(oe);if(O(oe)){if(!await K(oe,Ee)){n.state.error=Ee!==""?s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT","This product is currently checked out by %s.",[Ee]):s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","This product is currently checked out by another user.");return}return}if(oe!=null&&oe.id&&n.checkoutProduct)try{const D=await n.checkoutProduct(oe.id);if(D){u.value=D.id,r.product=JSON.parse(JSON.stringify(D)),c.value=!0;return}}catch(D){n.state.error=(D==null?void 0:D.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to edit this product right now.");return}r.product=Te,c.value=!0},K=async(oe,Te="")=>{if(!(oe!=null&&oe.id)||typeof n.forceCheckinProduct!="function")return null;const Ee=s("COM_NXPEASYCART_FORCE_CHECKIN_PRODUCT","This product is checked out by %s. Force check-in?",[Te||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(Ee))return null;try{const D=await n.forceCheckinProduct(oe.id);if(D)return u.value=D.id,r.product=JSON.parse(JSON.stringify(D)),c.value=!0,D}catch(D){n.state.error=(D==null?void 0:D.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to check in this product.")}return null},te=async()=>{await m(),c.value=!1,n.state.validationErrors=[]},q=async oe=>{var D,M;const Te=I((D=oe.status)!=null?D:oe.active,oe.out_of_stock),Ee={...oe,status:Te,active:Te,featured:oe.featured?1:0,product_type:typeof oe.product_type=="string"&&oe.product_type.trim()||"physical"};r.mode==="edit"&&((M=r.product)!=null&&M.id)?a("update",{id:r.product.id,data:Ee}):a("create",Ee)},Ne=async oe=>{var D;const Te=(D=oe==null?void 0:oe.title)!=null?D:"",Ee=s("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[Te||"#"]);window.confirm(Ee)&&a("delete",[oe.id])},ke=oe=>{var ie;if(!(oe!=null&&oe.id)||n.state.saving)return;const Te=N((ie=oe.status)!=null?ie:oe.active,oe.out_of_stock),Ee=C=>C==null?"":String(C),D=(C,E=0)=>{const T=Number(C);return Number.isFinite(T)?T:E},M=Array.isArray(oe.variants)?oe.variants.map(C=>{var _e,$e;if(!C)return null;const E=Ee(C.sku).trim();if(!E)return null;let T=D(C.price_cents,Number.NaN);if(!Number.isFinite(T)){const Fe=Ee(C.price),y=Fe?Number.parseFloat(Fe):NaN;T=Number.isFinite(y)?Math.round(y*100):NaN}if(!Number.isFinite(T))return null;const ge=Ee((_e=C.currency)!=null?_e:p.value).trim().toUpperCase();if(!ge)return null;const pe=($e=C.options)!=null?$e:null,Pe=Math.max(0,Math.round(D(C.stock,0)));let j=null;return Array.isArray(C.images)&&C.images.length>0&&(j=C.images.map(Fe=>Ee(Fe).trim()).filter(Fe=>Fe!==""),j.length===0&&(j=null)),{id:D(C.id,0),sku:E,price_cents:Math.round(T),currency:ge,stock:Pe,options:pe!=null?pe:null,weight:C.weight!==null&&C.weight!==void 0&&C.weight!==""?String(C.weight):null,active:C.active===void 0?!0:!!C.active,is_digital:C.is_digital===void 0?!1:!!C.is_digital,images:j}}).filter(Boolean):[];if(!M.length){n.state.error=s("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const U=Array.isArray(oe.categories)?oe.categories.map(C=>{if(C==null)return null;if(typeof C=="number")return C>0?{id:C,title:"",slug:""}:null;if(typeof C=="string"&&C.trim()!==""&&Number.isFinite(Number(C))){const T=Number(C);return T>0?{id:T,title:"",slug:""}:null}if(typeof C=="object"){if(C.id){const ge=D(C.id,0);return ge>0?{id:ge,title:"",slug:""}:null}return D(C.id,0)<=0&&!C.title?null:{id:0,title:Ee(C.title),slug:Ee(C.slug)}}const E=Ee(C).trim();return E?{id:0,title:E,slug:""}:null}).filter(Boolean):[],z=Array.isArray(oe.images)?oe.images.map(C=>Ee(C).trim()).map(C=>{var pe,Pe,j;let E=C;if(!E)return"";const T=E.indexOf("#joomlaImage://");T!==-1&&(E=E.substring(0,T));const ge=E.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(ge&&ge[1]&&(E=ge[1]),typeof window!="undefined")try{const _e=(j=(Pe=(pe=window.Joomla)==null?void 0:pe.getOptions)==null?void 0:Pe.call(pe,"system.paths",{}))!=null?j:{},$e=_e.rootFull||window.location.origin,Fe=_e.root||"/";E.startsWith($e)&&(E=E.substring($e.length)),E.startsWith(Fe)&&(E=E.substring(Fe.length))}catch(_e){}return E.trim()}).filter(C=>C!==""):[];n.state.error="",a("update",{id:oe.id,data:{title:Ee(oe.title),slug:Ee(oe.slug),short_desc:Ee(oe.short_desc),long_desc:Ee(oe.long_desc),status:Te,active:Te,featured:oe.featured?1:0,images:z,variants:M,categories:U,product_type:typeof oe.product_type=="string"&&oe.product_type.trim()||"physical"}})},v=()=>{a("refresh")},Ye=()=>{a("search")},De=oe=>{a("page",oe)},we=oe=>{if(!oe)return"";try{const Te=new Date(oe),D=new Date-Te,M=Math.floor(D/1e3),U=Math.floor(M/60),z=Math.floor(U/60);return M<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):U<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[U]):z<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[z]):Te.toLocaleString()}catch(Te){return oe}};return en(()=>{m()}),ct(()=>n.state.saving,(oe,Te)=>{Te&&!oe&&c.value&&!n.state.validationErrors.length&&!n.state.error&&te()}),(oe,Te)=>{var Ee;return g(),S("section",yA,[o("header",RA,[o("div",null,[o("h2",OA,l(i(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),o("p",xA,l(i(s)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),o("div",PA,[ee(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":Te[0]||(Te[0]=D=>e.state.search=D),onKeyup:Pt(Ye,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,NA),[[Ae,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:v,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":i(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[Te[3]||(Te[3]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",MA,l(i(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,vA),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:Y},[Te[4]||(Te[4]=o("i",{class:"fa-solid fa-plus"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(g(),S("div",IA,l(e.state.error),1)):ae("",!0),e.state.loading?(g(),S("div",kA,[_t(pn,{type:"table",rows:5,columns:5})])):ae("",!0),e.state.loading?ae("",!0):(g(),S("div",wA,[_t(xg,{items:e.state.items,translate:i(s),"base-currency":p.value,saving:e.state.saving,"current-user-id":h.value,onEdit:L,onDelete:Ne,onToggleActive:ke},null,8,["items","translate","base-currency","saving","current-user-id"]),((Ee=e.state.pagination)==null?void 0:Ee.pages)>1?(g(),S("div",$A,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:Te[1]||(Te[1]=D=>De(e.state.pagination.current-1))},"  ",8,LA),o("span",DA,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:Te[2]||(Te[2]=D=>De(e.state.pagination.current+1))},"  ",8,YA)])):ae("",!0),e.state.lastUpdated?(g(),S("div",{key:1,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(we(e.state.lastUpdated)),9,UA)):ae("",!0)])),_t(EA,{open:c.value,product:_.value,saving:e.state.saving,"base-currency":p.value,translate:i(s),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":A.value,"digital-endpoints":d.value,"csrf-token":R.value,onSubmit:q,onCancel:te},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url","digital-endpoints","csrf-token"])])}}},FA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},GA={class:"nxp-ec-admin-panel__header"},VA={class:"nxp-ec-admin-panel__title"},HA={class:"nxp-ec-admin-panel__lead"},BA={class:"nxp-ec-admin-panel__actions"},KA=["placeholder","aria-label"],jA=["disabled","title","aria-label"],JA={class:"nxp-ec-sr-only"},WA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qA={key:1,class:"nxp-ec-admin-panel__body"},zA={key:2,class:"nxp-ec-admin-panel__body"},QA={class:"nxp-ec-admin-panel__table"},ZA={class:"nxp-ec-admin-table"},eS={scope:"col"},tS={scope:"col"},sS={scope:"col"},nS={scope:"col"},oS={scope:"col"},aS={key:0},iS={colspan:"6"},rS={scope:"row",class:"nxp-ec-admin-table__primary"},lS={key:0,class:"nxp-ec-admin-table__meta"},cS={class:"nxp-ec-status nxp-ec-status--muted"},dS=["data-label"],uS=["data-label"],pS=["data-label"],_S=["data-label"],fS={class:"nxp-ec-admin-table__actions"},mS=["onClick","title","disabled","aria-label"],hS={class:"nxp-ec-sr-only"},gS=["disabled","onClick","title","aria-label"],ES={class:"nxp-ec-sr-only"},CS={key:0,class:"nxp-ec-admin-pagination"},AS=["disabled"],SS={class:"nxp-ec-admin-pagination__status"},bS=["disabled"],TS=["title"],yS={class:"nxp-ec-modal__dialog"},RS={class:"nxp-ec-modal__header"},OS={id:"category-modal-title",class:"nxp-ec-modal__title"},xS=["title","aria-label"],PS={class:"nxp-ec-sr-only"},NS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vS={class:"nxp-ec-form-field"},MS={class:"nxp-ec-form-label",for:"category-title"},IS={class:"nxp-ec-form-field"},kS={class:"nxp-ec-form-label",for:"category-slug"},wS={class:"nxp-ec-form-field"},$S={class:"nxp-ec-form-label",for:"category-parent"},LS={value:""},DS=["value"],YS={class:"nxp-ec-form-field"},US={class:"nxp-ec-form-label",for:"category-sort"},XS={class:"nxp-ec-modal__actions"},FS=["disabled"],GS=Nt({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null},checkoutCategory:{type:Function,default:null},checkinCategory:{type:Function,default:null},forceCheckinCategory:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=Qe(!1),c=Qe(!1),u=Qe([]),p=Qe(null),_=ye(()=>Number(n.currentUserId||0)),A=D=>{const U=(Array.isArray(D)?D:[]).map(j=>{var _e,$e,Fe,y,P;return{...j,id:Number.parseInt((_e=j==null?void 0:j.id)!=null?_e:0,10)||0,parent_id:(j==null?void 0:j.parent_id)!=null&&Number.parseInt(j.parent_id,10)||0,sort:Number.parseInt(($e=j==null?void 0:j.sort)!=null?$e:0,10)||0,title:String((Fe=j==null?void 0:j.title)!=null?Fe:"").trim(),slug:String((y=j==null?void 0:j.slug)!=null?y:"").trim(),usage:(P=j==null?void 0:j.usage)!=null?P:0}}).filter(j=>j.id>0||j.title!==""),z=new Set(U.map(j=>j.id));U.forEach(j=>{z.has(j.parent_id)||(j.parent_id=0)});const ie=new Map,C=new Map;U.forEach(j=>{C.set(j.id,j);const _e=j.parent_id||0;ie.has(_e)||ie.set(_e,[]),ie.get(_e).push(j)});const E=j=>j.sort((_e,$e)=>{var Fe,y;return((Fe=_e.sort)!=null?Fe:0)-((y=$e.sort)!=null?y:0)||_e.title.localeCompare($e.title,void 0,{sensitivity:"base"})});ie.forEach(E);const T=new Set,ge=[],pe=(j,_e,$e)=>{if(!j||T.has(j.id)||$e.includes(j.id))return;const Fe=[...$e],y=Fe.map(se=>{var Z;return(Z=C.get(se))==null?void 0:Z.title}).filter(Boolean),P={...j,depth:_e,path:y.join(" / "),ancestors:Fe,indentedTitle:_e>0?`${" ".repeat(_e)}${j.title}`:j.title};ge.push(P),T.add(j.id),(ie.get(j.id)||[]).forEach(se=>pe(se,_e+1,[...$e,j.id]))},Pe=U.filter(j=>j.parent_id===0||!z.has(j.parent_id));return E(Pe),Pe.forEach(j=>pe(j,0,[])),U.forEach(j=>{T.has(j.id)||pe(j,0,[])}),ge},d=D=>(D==null?void 0:D.checked_out)&&Number(D.checked_out)!==0&&Number(D.checked_out)!==_.value,R=D=>{var C,E;if(!D)return"";const M=Number(D.checked_out)||0,U=D.checked_out_user&&D.checked_out_user.id?Number(D.checked_out_user.id):0,z=M||U;if(z!==0&&z===_.value)return s("JGLOBAL_YOU","You");const ie=(E=(C=D.checked_out_user)==null?void 0:C.name)!=null?E:"";return ie||""},h=D=>s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[R(D)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]),I=async()=>{if(!p.value||!n.checkinCategory){p.value=null;return}try{await n.checkinCategory(p.value)}catch(D){}finally{p.value=null}},N=ye(()=>{var D,M;return A((M=(D=n.state)==null?void 0:D.items)!=null?M:[])}),O=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),b=et(O()),m=ye(()=>{var M,U;const D=(U=Array.isArray(u.value)&&u.value.length?u.value:(M=n.state)==null?void 0:M.items)!=null?U:[];return A(D).filter(z=>z.id>0&&z.id!==b.id&&!(Array.isArray(z.ancestors)&&z.ancestors.includes(b.id))).map(z=>({id:z.id,title:z.title,label:z.depth>0?`${" ".repeat(z.depth)}${z.title}`:z.title}))}),Y=()=>{Object.assign(b,O()),c.value=!1},L=D=>D?D.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",K=()=>{c.value=!0,b.slug=L(b.slug)};ct(()=>b.title,D=>{c.value||(b.slug=L(D))});const te=async(D=0)=>{if(typeof n.loadOptions!="function"){u.value=Array.isArray(n.state.items)?[...n.state.items]:[];return}try{const M=await n.loadOptions();u.value=Array.isArray(M)?[...M]:[]}catch(M){u.value=[]}u.value=u.value.filter(M=>{var z,ie;return(Number.parseInt((ie=(z=M==null?void 0:M.id)!=null?z:M==null?void 0:M.value)!=null?ie:0,10)||0)!==D})},q=async()=>{await I(),n.state.error="",n.state.validationErrors=[],Y(),await te(),r.value=!0},Ne=async D=>{var z,ie,C,E;if(!D)return;n.state.error="",n.state.validationErrors=[];const M=R(D);if(d(D)){if(!await ke(D,M)){n.state.error=M!==""?s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT","This category is currently checked out by %s.",[M]):s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","This category is currently checked out by another user.");return}return}await I();let U=D;if(D!=null&&D.id&&n.checkoutCategory)try{const T=await n.checkoutCategory(D.id);T&&(p.value=T.id,U=T)}catch(T){n.state.error=(T==null?void 0:T.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to edit this category right now.");return}b.id=Number.parseInt((z=U.id)!=null?z:0,10)||0,b.title=String((ie=U.title)!=null?ie:"").trim(),b.slug=String((C=U.slug)!=null?C:"").trim(),b.parent_id=U.parent_id!=null&&Number.parseInt(U.parent_id,10)||null,b.sort=Number.parseInt((E=U.sort)!=null?E:0,10)||0,c.value=!!b.slug,await te(b.id),r.value=!0},ke=async(D,M="")=>{var z,ie,C,E;if(!(D!=null&&D.id)||typeof n.forceCheckinCategory!="function")return null;const U=s("COM_NXPEASYCART_FORCE_CHECKIN_CATEGORY","This category is checked out by %s. Force check-in?",[M||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(U))return null;try{const T=await n.forceCheckinCategory(D.id);if(T)return p.value=T.id,b.id=Number.parseInt((z=T.id)!=null?z:0,10)||0,b.title=String((ie=T.title)!=null?ie:"").trim(),b.slug=String((C=T.slug)!=null?C:"").trim(),b.parent_id=T.parent_id!=null&&Number.parseInt(T.parent_id,10)||null,b.sort=Number.parseInt((E=T.sort)!=null?E:0,10)||0,c.value=!!b.slug,await te(b.id),r.value=!0,T}catch(T){n.state.error=(T==null?void 0:T.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to check in this category.")}return null},v=async()=>{r.value=!1,await I(),Y()},Ye=()=>{a("refresh")},De=()=>{a("search")},we=D=>{a("page",D)},oe=()=>{const D={id:b.id||void 0,title:b.title.trim(),slug:b.slug.trim(),parent_id:b.parent_id||null,sort:Number.isFinite(b.sort)?b.sort:0};a("save",D)},Te=D=>{if(!D||!D.id)return;const M=s("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(M)||a("delete",[D.id])},Ee=D=>{if(!D)return"";try{const M=new Date(D),z=new Date-M,ie=Math.floor(z/1e3),C=Math.floor(ie/60),E=Math.floor(C/60);return ie<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):C<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[C]):E<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[E]):M.toLocaleString()}catch(M){return D}};return en(()=>{I()}),ct(()=>{var D;return(D=n.state)==null?void 0:D.saving},async(D,M)=>{var U,z,ie;M&&!D&&(((z=(U=n.state)==null?void 0:U.validationErrors)!=null?z:[]).length>0||(ie=n.state)!=null&&ie.error||(await I(),r.value=!1,Y()))}),(D,M)=>(g(),S("section",FA,[o("header",GA,[o("div",null,[o("h2",VA,l(i(s)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),o("p",HA,l(i(s)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),o("div",BA,[ee(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":M[0]||(M[0]=U=>e.state.search=U),onKeyup:Pt(De,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,KA),[[Ae,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:Ye,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":i(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[M[7]||(M[7]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",JA,l(i(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,jA),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:q},[M[8]||(M[8]=o("i",{class:"fa-solid fa-plus"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(g(),S("div",WA,l(e.state.error),1)):ae("",!0),e.state.loading?(g(),S("div",qA,[_t(pn,{type:"table",rows:5,columns:5})])):ae("",!0),e.state.loading?ae("",!0):(g(),S("div",zA,[o("div",QA,[o("table",ZA,[o("thead",null,[o("tr",null,[o("th",eS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),o("th",tS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),o("th",sS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),o("th",nS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),o("th",oS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),M[9]||(M[9]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?ae("",!0):(g(),S("tr",aS,[o("td",iS,l(i(s)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(g(!0),S(Le,null,Ve(N.value,U=>{var z;return g(),S("tr",{key:U.id,class:Ke({"is-active":b.id===U.id})},[o("th",rS,[o("span",{style:Ht({paddingLeft:`${U.depth*1.5}rem`})},l(U.indentedTitle),5),U.checked_out?(g(),S("div",lS,[o("span",cS,[M[10]||(M[10]=o("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),ve(" "+l(h(U)),1)])])):ae("",!0)]),o("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},l(U.slug||""),9,dS),o("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},l(U.path||i(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,uS),o("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},l(U.sort),9,pS),o("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},l((z=U.usage)!=null?z:0),9,_S),o("td",fS,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ie=>Ne(U),title:i(s)("JEDIT","Edit"),disabled:e.state.saving,"aria-label":i(s)("JEDIT","Edit")},[M[11]||(M[11]=o("i",{class:"fa-solid fa-pen-to-square"},null,-1)),o("span",hS,l(i(s)("JEDIT","Edit")),1)],8,mS),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting||d(U),onClick:ie=>Te(U),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[M[12]||(M[12]=o("i",{class:"fa-solid fa-trash"},null,-1)),o("span",ES,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,gS)])],2)}),128))])]),e.state.pagination.pages>1?(g(),S("div",CS,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:M[1]||(M[1]=U=>we(e.state.pagination.current-1))},"  ",8,AS),o("span",SS,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:M[2]||(M[2]=U=>we(e.state.pagination.current+1))},"  ",8,bS)])):ae("",!0)]),e.state.lastUpdated?(g(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(Ee(e.state.lastUpdated)),9,TS)):ae("",!0),r.value?(g(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"category-modal-title",onKeydown:Pt(v,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop",onClick:v}),o("div",yS,[o("header",RS,[o("h3",OS,l(b.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:v,title:i(s)("JCLOSE","Close"),"aria-label":i(s)("JCLOSE","Close")},[M[13]||(M[13]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",PS,l(i(s)("JCLOSE","Close")),1)],8,xS)]),o("form",{class:"nxp-ec-form",onSubmit:xt(oe,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(g(),S("div",NS,[o("ul",null,[(g(!0),S(Le,null,Ve(e.state.validationErrors,(U,z)=>(g(),S("li",{key:z},l(U),1))),128))])])):ae("",!0),o("div",vS,[o("label",MS,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),ee(o("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M[3]||(M[3]=U=>b.title=U),required:"",maxlength:"255"},null,512),[[Ae,b.title,void 0,{trim:!0}]])]),o("div",IS,[o("label",kS,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),ee(o("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M[4]||(M[4]=U=>b.slug=U),maxlength:"190",onInput:K},null,544),[[Ae,b.slug,void 0,{trim:!0}]])]),o("div",wS,[o("label",$S,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),ee(o("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":M[5]||(M[5]=U=>b.parent_id=U)},[o("option",LS,l(i(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(g(!0),S(Le,null,Ve(m.value,U=>(g(),S("option",{key:U.id,value:U.id},l(U.label),9,DS))),128))],512),[[Ct,b.parent_id,void 0,{number:!0}]])]),o("div",YS,[o("label",US,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),ee(o("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":M[6]||(M[6]=U=>b.sort=U),min:"0",step:"1"},null,512),[[Ae,b.sort,void 0,{number:!0}]])]),o("footer",XS,[o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[M[14]||(M[14]=o("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,FS),o("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:v},[M[15]||(M[15]=o("i",{class:"fa-solid fa-ban"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])],32)):ae("",!0)]))]))}},[["__scopeId","data-v-0bba5030"]]),VS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},HS={class:"nxp-ec-admin-panel__header"},BS={class:"nxp-ec-admin-panel__title"},KS={class:"nxp-ec-admin-panel__lead"},jS={class:"nxp-ec-admin-panel__actions"},JS=["placeholder","aria-label"],WS=["aria-label"],qS={value:""},zS=["value"],QS=["disabled","title","aria-label"],ZS={class:"nxp-ec-sr-only"},eb=["disabled","title","aria-label"],tb={class:"nxp-ec-sr-only"},sb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},nb={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ob={key:2,class:"nxp-ec-admin-panel__body"},ab={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},ib={class:"nxp-ec-admin-panel__table"},rb={key:0,class:"nxp-ec-admin-panel__selection"},lb=["aria-label"],cb={value:""},db=["value"],ub=["disabled"],pb=["title","aria-label"],_b={class:"nxp-ec-sr-only"},fb={class:"nxp-ec-admin-table"},mb={scope:"col",class:"nxp-ec-admin-table__select"},hb={scope:"col"},gb={scope:"col"},Eb={scope:"col"},Cb={scope:"col"},Ab={scope:"col"},Sb={scope:"col",class:"nxp-ec-admin-table__actions"},bb={key:0},Tb={colspan:"7"},yb={class:"nxp-ec-admin-table__select"},Rb=["checked","onChange","disabled","aria-label"],Ob={scope:"row",class:"nxp-ec-admin-table__primary"},xb=["onClick","disabled"],Pb={key:0,class:"nxp-ec-admin-table__meta"},Nb={class:"nxp-ec-status nxp-ec-status--muted"},vb=["data-label"],Mb={class:"nxp-ec-admin-table__meta"},Ib=["data-label"],kb=["data-label"],wb={class:"nxp-ec-badge"},$b=["title"],Lb=["data-label"],Db={class:"nxp-ec-admin-table__actions"},Yb=["onUpdate:modelValue","disabled","aria-label"],Ub=["value"],Xb=["value"],Fb=["disabled","onClick"],Gb=["aria-label"],Vb=["disabled","aria-label"],Hb={class:"nxp-ec-admin-pagination__status","aria-current":"page"},Bb=["disabled","aria-label"],Kb=["title"],jb={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Jb={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},Wb={class:"nxp-ec-admin-panel__sidebar-header"},qb={id:"order-modal-title"},zb=["title","aria-label"],Qb={class:"nxp-ec-sr-only"},Zb={class:"nxp-ec-admin-panel__sidebar-content"},eT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},tT={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},sT={key:2,class:"nxp-ec-admin-panel__section"},nT={class:"nxp-ec-admin-copy"},oT=["value"],aT=["disabled"],iT={key:0,class:"nxp-ec-admin-panel__muted"},rT={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},lT=["disabled"],cT={key:0,class:"nxp-ec-admin-panel__muted"},dT={class:"nxp-ec-admin-panel__section"},uT={class:"nxp-ec-admin-list"},pT={class:"nxp-ec-admin-list__title"},_T={class:"nxp-ec-admin-list__meta"},fT={key:3,class:"nxp-ec-admin-panel__section"},mT={class:"nxp-ec-admin-panel__section-header"},hT=["disabled"],gT={key:0,class:"nxp-ec-admin-panel__muted"},ET={class:"nxp-ec-download-list"},CT={class:"nxp-ec-download-card__meta"},AT={class:"nxp-ec-admin-list__title"},ST={class:"nxp-ec-admin-panel__muted"},bT={class:"nxp-ec-download-card__actions"},TT=["disabled","onClick","title"],yT=["onClick"],RT=["href"],OT={class:"nxp-ec-admin-panel__section"},xT={class:"nxp-ec-admin-panel__total"},PT={class:"nxp-ec-admin-panel__addresses"},NT={class:"nxp-ec-admin-panel__section"},vT={class:"nxp-ec-admin-address"},MT={class:"nxp-ec-admin-panel__section"},IT={key:0,class:"nxp-ec-admin-address"},kT={key:1,class:"nxp-ec-admin-panel__muted"},wT={class:"nxp-ec-admin-panel__section"},$T={class:"nxp-ec-form-field"},LT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},DT={class:"nxp-ec-form-field"},YT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},UT={class:"nxp-ec-form-field"},XT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},FT={key:0,class:"nxp-ec-form-checkbox"},GT={class:"nxp-ec-admin-form__actions"},VT=["disabled"],HT={key:4,class:"nxp-ec-admin-panel__section"},BT={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},KT=["disabled"],jT=["disabled"],JT={key:5,class:"nxp-ec-admin-panel__section"},WT={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},qT={class:"nxp-ec-form-field"},zT={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},QT=["placeholder"],ZT={class:"nxp-ec-form-help"},ey={class:"nxp-ec-form-field"},ty={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},sy=["placeholder"],ny={class:"nxp-ec-form-field"},oy={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},ay={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},iy=["disabled"],ry={key:6,class:"nxp-ec-admin-panel__section"},ly={class:"nxp-ec-admin-list"},cy={class:"nxp-ec-admin-list__title"},dy={class:"nxp-ec-admin-list__meta"},uy={class:"nxp-ec-admin-panel__section"},py=["placeholder"],_y={class:"nxp-ec-admin-form__actions"},fy=["disabled"],my={class:"nxp-ec-admin-panel__section"},hy={key:0,class:"nxp-ec-admin-list"},gy={class:"nxp-ec-admin-list__title"},Ey={class:"nxp-ec-admin-list__meta"},Cy={key:1,class:"nxp-ec-admin-panel__muted"},Ay=Nt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""},currentUserId:{type:Number,default:0},forceCheckinOrder:{type:Function,default:null}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=ye(()=>Number(n.currentUserId||0)),c=et({}),u=Qe(""),p=Qe(""),_=ye(()=>p.value.trim().length>0),A=Qe(""),d=Qe(""),R=et({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),h=et({amount:null,reference:"",note:""}),I=ye(()=>{var k;const x=(k=n.state)==null?void 0:k.selection;return!x||typeof x.values!="function"?[]:Array.from(x.values())}),N=ye(()=>I.value.length>0),O=ye(()=>{var ce;const x=(ce=n.state)==null?void 0:ce.activeOrder;if(!x)return!1;const k=["cod","bank_transfer"],re=String(x.payment_method||"").toLowerCase();return x.state==="pending"&&k.includes(re)}),b=ye(()=>{var re,ce;const x=(re=n.state)==null?void 0:re.activeOrder;return x?["paid","fulfilled"].includes(x.state)&&((ce=x.downloads)==null?void 0:ce.length)>0:!1});ye(()=>O.value);const m=x=>(x==null?void 0:x.checked_out)&&Number(x.checked_out)!==0&&Number(x.checked_out)!==r.value,Y=x=>{var ce,X;const k=(X=(ce=x==null?void 0:x.checked_out_user)==null?void 0:ce.name)!=null?X:"",re=(x==null?void 0:x.checked_out)===r.value?s("JGLOBAL_YOU","You"):k||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user");return s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[re])},L=ye(()=>{var x;return m((x=n.state)==null?void 0:x.activeOrder)});ct(I,x=>{x.length||(u.value="")}),en(()=>{ge()}),ct(()=>n.state.activeOrder,x=>{var k,re,ce;p.value="",A.value="",R.carrier=(k=x==null?void 0:x.carrier)!=null?k:"",R.tracking_number=(re=x==null?void 0:x.tracking_number)!=null?re:"",R.tracking_url=(ce=x==null?void 0:x.tracking_url)!=null?ce:"",R.markFulfilled=!1,h.amount=null,h.reference="",h.note="",d.value=""},{immediate:!0}),ct(()=>n.state.items,x=>{Array.isArray(x)&&x.forEach(k=>{!k||typeof k.id=="undefined"||c[k.id]||(c[k.id]=k.state)})},{immediate:!0}),ct(()=>n.state.transitionError,x=>{var re;if(!x)return;const k=(re=n.state)==null?void 0:re.items;Array.isArray(k)&&k.forEach(ce=>{ce!=null&&ce.id&&ce.state&&(c[ce.id]=ce.state)})});const K=(x,k)=>{const re=(Number(x)||0)/100,ce=(k||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ce}).format(re)}catch(X){return`${ce} ${re.toFixed(2)}`}},te=x=>{if(!x)return"";const k=new Date(x);return Number.isNaN(k.getTime())?x:k.toLocaleString()},q=x=>x?{payment_amount_mismatch:s("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[x]||x:s("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),Ne=x=>x===1?s("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):s("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(x)]),ke=x=>{if(!x)return"";const k=`COM_NXPEASYCART_ORDERS_STATE_${String(x).toUpperCase()}`;return s(k,x)},v=x=>n.state.orderStates.filter(k=>k!==x.state),Ye=x=>(c[x.id]||x.state)!==x.state,De=()=>{var x;return n.siteRoot&&n.siteRoot.trim()!==""?n.siteRoot.trim():typeof window!="undefined"&&((x=window.location)!=null&&x.origin)?window.location.origin:""},we=ye(()=>{var We,Be;const x=(Be=(We=n.state)==null?void 0:We.activeOrder)!=null?Be:{},k=String(x.public_token||"").trim(),re=String(x.order_no||"").trim();if(!k)return"";const ce=De();if(!ce)return"";const X=ce.endsWith("/")?"":"/",Me=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:k});return re&&Me.set("no",re),`${ce}${X}index.php?${Me.toString()}`}),oe=async()=>{var x;if(we.value){try{if(!((x=navigator==null?void 0:navigator.clipboard)!=null&&x.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(we.value),A.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(k){try{const re=document.createElement("textarea");re.value=we.value,re.setAttribute("readonly",""),re.style.position="absolute",re.style.left="-9999px",document.body.appendChild(re),re.select(),document.execCommand("copy"),document.body.removeChild(re),A.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(re){A.value=s("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}A.value&&setTimeout(()=>{A.value=""},2e3)}},Te=x=>{var ce,X;const k=Number((ce=x==null?void 0:x.download_count)!=null?ce:0),re=Number((X=x==null?void 0:x.max_downloads)!=null?X:0);if(re>0){const Me=Math.max(0,re-k);return s("COM_NXPEASYCART_ORDER_DOWNLOADS_REMAINING","%d downloads remaining",[Me])}return s("COM_NXPEASYCART_ORDER_DOWNLOADS_UNLIMITED","Unlimited downloads")},Ee=x=>x!=null&&x.expires_at?s("COM_NXPEASYCART_ORDER_DOWNLOADS_EXPIRES","Expires %s",[x.expires_at]):s("JNONE","No expiry"),D=async x=>{var re;const k=x==null?void 0:x.url;if(k){try{if(!((re=navigator==null?void 0:navigator.clipboard)!=null&&re.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(k),d.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(ce){try{const X=document.createElement("textarea");X.value=k,X.setAttribute("readonly",""),X.style.position="absolute",X.style.left="-9999px",document.body.appendChild(X),X.select(),document.execCommand("copy"),document.body.removeChild(X),d.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(X){d.value=s("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.")}}d.value&&setTimeout(()=>{d.value=""},2e3)}},M=ye(()=>{var k,re,ce,X,Me;const x=(re=(k=n.state)==null?void 0:k.activeOrder)!=null?re:{};return R.carrier!==((ce=x.carrier)!=null?ce:"")||R.tracking_number!==((X=x.tracking_number)!=null?X:"")||R.tracking_url!==((Me=x.tracking_url)!=null?Me:"")||R.markFulfilled}),U=x=>!x||typeof x!="object"?[]:Object.entries(x).filter(([,k])=>k!=null&&`${k}`.trim()!=="").map(([k,re])=>({key:k,value:`${re}`.trim()})),z=()=>{a("refresh")},ie=()=>{a("export")},C=()=>{a("search")},E=()=>{a("filter",n.state.filterState)},T=async x=>{x&&(m(x)&&!await pe(x)||a("view",x))},ge=()=>{a("close")},pe=async x=>{var re;if(!(x!=null&&x.id)||typeof n.forceCheckinOrder!="function")return null;const k=s("COM_NXPEASYCART_FORCE_CHECKIN_ORDER","This order is checked out by %s. Force check-in?",[((re=x.checked_out_user)==null?void 0:re.name)||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(k))return null;try{return await n.forceCheckinOrder(x.id)}catch(ce){return state.transitionError=(ce==null?void 0:ce.message)||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","Unable to check in this order."),null}},Pe=x=>{if(!x||m(x))return;const k=c[x.id]||x.state;k!==x.state&&a("transition",{id:x.id,state:k})},j=x=>{a("page",x)},_e=x=>{var k,re,ce,X;return(X=(ce=(re=(k=n.state)==null?void 0:k.selection)==null?void 0:re.has)==null?void 0:ce.call(re,x))!=null?X:!1},$e=x=>{var re,ce,X,Me;const k=(Me=(X=(ce=(re=n.state)==null?void 0:re.items)==null?void 0:ce.find)==null?void 0:X.call(ce,We=>We.id===x))!=null?Me:null;m(k)||a("toggle-selection",x)},Fe=()=>{u.value="",a("clear-selection")},y=()=>{if(!N.value||!u.value)return;const x=[...I.value].filter(k=>{var ce,X,Me,We;const re=(We=(Me=(X=(ce=n.state)==null?void 0:ce.items)==null?void 0:X.find)==null?void 0:Me.call(X,Be=>Be.id===k))!=null?We:null;return!m(re)});x.length&&a("bulk-transition",{ids:x,state:u.value})},P=()=>{if(!n.state.activeOrder||L.value)return;const x=p.value.trim();x&&(a("add-note",{id:n.state.activeOrder.id,message:x}),p.value="")},G=()=>{n.state.activeOrder&&a("invoice",n.state.activeOrder.id)},se=()=>{!n.state.activeOrder||!M.value||L.value||(a("save-tracking",{id:n.state.activeOrder.id,carrier:R.carrier,tracking_number:R.tracking_number,tracking_url:R.tracking_url,mark_fulfilled:R.markFulfilled}),R.markFulfilled=!1)},Z=x=>{!n.state.activeOrder||L.value||a("send-email",{id:n.state.activeOrder.id,type:x})},ne=()=>{if(!n.state.activeOrder||!O.value||L.value)return;const x=n.state.activeOrder,k=h.amount!==null&&h.amount!==""?Math.round(Number(h.amount)*100):x.total_cents;a("record-payment",{id:x.id,amountCents:k,reference:h.reference,note:h.note}),h.amount=null,h.reference="",h.note=""},W=()=>{!n.state.activeOrder||!b.value||L.value||a("resend-downloads",{id:n.state.activeOrder.id})},J=x=>{!n.state.activeOrder||!(x!=null&&x.id)||L.value||a("reset-download",{download_id:x.id,order_id:n.state.activeOrder.id})},Q=x=>{var ce;const k=(ce=n.state)==null?void 0:ce.activeOrder;return k?(k.timeline||k.audit||[]).some(X=>{var Me;return X.action==="order.email.sent"?((Me=X.context)==null?void 0:Me.type)===x:!1}):!1},B=ye(()=>s("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(I.value.length)],"ordersSelectedCount")),Ce=x=>{var k,re,ce,X,Me,We,Be,Je,tt,he,Ie,xe;if(!x||!x.action)return"";switch(x.action){case"order.created":return s("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const fe=ke((re=(k=x.context)==null?void 0:k.from)!=null?re:""),dt=ke((X=(ce=x.context)==null?void 0:ce.to)!=null?X:"");return s("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[fe||((Me=x.context)==null?void 0:Me.from)||"",dt||((We=x.context)==null?void 0:We.to)||""],"ordersTimelineState")}case"order.note":return((Be=x.context)==null?void 0:Be.message)||s("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const fe=((Je=x.context)==null?void 0:Je.gateway)||s("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),dt=K((he=(tt=x.context)==null?void 0:tt.amount_cents)!=null?he:0,(xe=(Ie=n.state)==null?void 0:Ie.activeOrder)==null?void 0:xe.currency);return s("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[fe,dt],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return x.action}},le=x=>{if(!x)return"";const k=String(x.type||"").toLowerCase(),re=String(x.message||"").trim(),ce=String(x.state||"").toLowerCase();return k==="tracking"?s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):ce?ke(ce):re||k||""},me=ye(()=>{var ce,X,Me,We;const x=[];return(Array.isArray((X=(ce=n.state)==null?void 0:ce.activeOrder)==null?void 0:X.fulfillment_events)?n.state.activeOrder.fulfillment_events:[]).forEach((Be,Je)=>{var tt,he;x.push({label:le(Be),created:(tt=Be==null?void 0:Be.at)!=null?tt:"",key:`f-${Je}-${(he=Be==null?void 0:Be.at)!=null?he:""}`})}),(Array.isArray((We=(Me=n.state)==null?void 0:Me.activeOrder)==null?void 0:We.timeline)?n.state.activeOrder.timeline:[]).forEach((Be,Je)=>{var tt,he,Ie;x.push({label:Ce(Be),created:(tt=Be==null?void 0:Be.created)!=null?tt:"",key:`a-${(he=Be==null?void 0:Be.id)!=null?he:Je}-${(Ie=Be==null?void 0:Be.created)!=null?Ie:""}`})}),x.filter(Be=>Be.label).sort((Be,Je)=>{const tt=new Date(Be.created||0).getTime();return new Date(Je.created||0).getTime()-tt})}),Se=x=>s(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(x.status||"").toUpperCase()}`,x.status||""),Oe=x=>{if(!x)return"";try{const k=new Date(x),ce=new Date-k,X=Math.floor(ce/1e3),Me=Math.floor(X/60),We=Math.floor(Me/60);return X<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Me<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Me]):We<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[We]):k.toLocaleString()}catch(k){return x}};return(x,k)=>{var re,ce;return g(),S("section",VS,[o("header",HS,[o("div",null,[o("h2",BS,l(i(s)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),o("p",KS,l(i(s)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),o("div",jS,[ee(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":k[0]||(k[0]=X=>e.state.search=X),onKeyup:Pt(C,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,JS),[[Ae,e.state.search]]),ee(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":k[1]||(k[1]=X=>e.state.filterState=X),onChange:E,"aria-label":i(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[o("option",qS,"  "+l(i(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(g(!0),S(Le,null,Ve(e.state.orderStates,X=>(g(),S("option",{key:X,value:X},l(ke(X)),9,zS))),128))],40,WS),[[Ct,e.state.filterState]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:ie,disabled:e.state.loading||e.state.exporting,title:i(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[k[15]||(k[15]=o("i",{class:"fa-solid fa-file-csv"},null,-1)),o("span",ZS,l(i(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,QS),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:z,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[k[16]||(k[16]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",tb,l(i(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,eb)])]),e.state.error?(g(),S("div",sb,l(e.state.error),1)):ae("",!0),e.state.transitionError&&!e.state.error?(g(),S("div",nb,l(e.state.transitionError),1)):ae("",!0),e.state.loading&&!e.state.error?(g(),S("div",ob,[_t(pn,{type:"table",rows:5,columns:7})])):ae("",!0),!e.state.loading&&!e.state.error?(g(),S("div",ab,[o("div",ib,[N.value?(g(),S("div",rb,[o("span",null,l(B.value),1),ee(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":k[2]||(k[2]=X=>u.value=X),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[o("option",cb,l(i(s)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(g(!0),S(Le,null,Ve(e.state.orderStates,X=>(g(),S("option",{key:`bulk-${X}`,value:X},l(ke(X)),9,db))),128))],8,lb),[[Ct,u.value]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!u.value||e.state.saving,onClick:y},[k[17]||(k[17]=o("i",{class:"fa-solid fa-check"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,ub),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Fe,title:i(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[k[18]||(k[18]=o("i",{class:"fa-solid fa-xmark"},null,-1)),o("span",_b,l(i(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,pb)])):ae("",!0),o("table",fb,[o("thead",null,[o("tr",null,[o("th",mb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),o("th",hb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),o("th",gb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),o("th",Eb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),o("th",Cb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),o("th",Ab,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),o("th",Sb,l(i(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),o("tbody",null,[e.state.items.length?ae("",!0):(g(),S("tr",bb,[o("td",Tb,l(i(s)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(g(!0),S(Le,null,Ve(e.state.items,X=>{var Me,We,Be;return g(),S("tr",{key:X.id,class:Ke({"is-active":e.state.activeOrder&&e.state.activeOrder.id===X.id})},[o("td",yb,[o("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:_e(X.id),onChange:Je=>$e(X.id),disabled:m(X),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Rb)]),o("th",Ob,[o("button",{class:"nxp-ec-link-button",type:"button",onClick:Je=>T(X),disabled:e.state.saving},l(X.order_no),9,xb),X.checked_out?(g(),S("div",Pb,[o("span",Nb,[k[19]||(k[19]=o("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),ve(" "+l(Y(X)),1)])])):ae("",!0)]),o("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[o("div",null,l(X.email),1),o("div",Mb,l(Ne((Be=X.items_count)!=null?Be:(We=(Me=X.items)==null?void 0:Me.length)!=null?We:0)),1)],8,vb),o("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},l(K(X.total_cents,X.currency)),9,Ib),o("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[o("span",wb,l(ke(X.state)),1),X.needs_review?(g(),S("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:X.review_reason||i(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},l(i(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,$b)):ae("",!0)],8,kb),o("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},l(te(X.modified||X.created)),9,Lb),o("td",Db,[ee(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":Je=>c[X.id]=Je,disabled:m(X),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[o("option",{value:X.state},l(ke(X.state)),9,Ub),(g(!0),S(Le,null,Ve(v(X),Je=>(g(),S("option",{key:Je,value:Je},l(ke(Je)),9,Xb))),128))],8,Yb),[[Ct,c[X.id]]]),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!Ye(X)||m(X),onClick:Je=>Pe(X)},l(i(s)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,Fb)])],2)}),128))])]),e.state.pagination.pages>1?(g(),S("nav",{key:1,class:"nxp-ec-admin-pagination","aria-label":i(s)("COM_NXPEASYCART_PAGINATION","Pagination")},[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:k[3]||(k[3]=X=>j(e.state.pagination.current-1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,Vb),o("span",Hb,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:k[4]||(k[4]=X=>j(e.state.pagination.current+1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,Bb)],8,Gb)):ae("",!0)]),e.state.lastUpdated?(g(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(Oe(e.state.lastUpdated)),9,Kb)):ae("",!0),e.state.activeOrder?(g(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"order-modal-title",onKeydown:Pt(ge,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:ge}),o("div",jb,[o("aside",Jb,[o("header",Wb,[o("h3",qb,l(i(s)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+l(e.state.activeOrder.order_no),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:ge,title:i(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[k[20]||(k[20]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",Qb,l(i(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,zb)]),o("div",Zb,[e.state.transitionError?(g(),S("div",eT,l(e.state.transitionError),1)):ae("",!0),(re=e.state.activeOrder)!=null&&re.needs_review?(g(),S("div",tT,[o("strong",null,l(i(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),ve(" "+l(q((ce=e.state.activeOrder)==null?void 0:ce.review_reason)),1)])):ae("",!0),we.value?(g(),S("section",sT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),o("div",nT,[o("input",{type:"text",class:"nxp-ec-form-input",value:we.value,readonly:""},null,8,oT),o("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!we.value,onClick:oe},[k[21]||(k[21]=o("i",{class:"fa-solid fa-link"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,aT)]),A.value?(g(),S("p",iT,l(A.value),1)):ae("",!0),o("div",rT,[o("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!n.state.activeOrder||n.state.invoiceLoading,onClick:G},[k[22]||(k[22]=o("i",{class:"fa-solid fa-file-pdf"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,lT),n.state.invoiceLoading?(g(),S("span",cT,l(i(s)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ae("",!0)])])):ae("",!0),o("section",dT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),o("ul",uT,[(g(!0),S(Le,null,Ve(e.state.activeOrder.items,X=>(g(),S("li",{key:X.id},[o("div",pT,[ve(l(X.title)+" ",1),o("small",null,"("+l(X.sku)+")",1)]),o("div",_T,"  "+l(X.qty)+"  "+l(K(X.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),e.state.activeOrder.downloads&&e.state.activeOrder.downloads.length?(g(),S("section",fT,[o("div",mT,[o("h4",null,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital downloads")),1),b.value?(g(),S("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--small",disabled:e.state.saving||L.value,onClick:W},[k[23]||(k[23]=o("i",{class:"fa-solid fa-envelope"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_ORDERS_RESEND_DOWNLOADS","Resend email")),1)],8,hT)):ae("",!0)]),d.value?(g(),S("p",gT,l(d.value),1)):ae("",!0),o("div",ET,[(g(!0),S(Le,null,Ve(e.state.activeOrder.downloads,X=>(g(),S("article",{key:X.id,class:"nxp-ec-download-card"},[o("div",CT,[o("div",AT,l(X.filename),1),o("div",ST,l(Te(X))+"  "+l(Ee(X)),1)]),o("div",bT,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",disabled:e.state.saving||L.value,onClick:Me=>J(X),title:i(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD_TITLE","Reset download count to 0")},[k[24]||(k[24]=o("i",{class:"fa-solid fa-rotate-left"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD","Reset")),1)],8,TT),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",onClick:Me=>D(X)},l(i(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),9,yT),X.url?(g(),S("a",{key:0,class:"nxp-ec-btn nxp-ec-btn--small",href:X.url,target:"_blank",rel:"noopener"},l(i(s)("COM_NXPEASYCART_DOWNLOAD","Download")),9,RT)):ae("",!0)])]))),128))])])):ae("",!0),o("section",OT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),o("p",xT,l(K(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),o("div",PT,[o("section",NT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),o("address",vT,[(g(!0),S(Le,null,Ve(U(e.state.activeOrder.billing),X=>(g(),S("span",{key:X.key},l(X.value),1))),128))])]),o("section",MT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(g(),S("address",IT,[(g(!0),S(Le,null,Ve(U(e.state.activeOrder.shipping),X=>(g(),S("span",{key:X.key},l(X.value),1))),128))])):(g(),S("p",kT,l(i(s)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),o("section",wT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),o("div",$T,[o("label",LT,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),ee(o("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[5]||(k[5]=X=>R.carrier=X)},null,512),[[Ae,R.carrier]])]),o("div",DT,[o("label",YT,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),ee(o("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[6]||(k[6]=X=>R.tracking_number=X)},null,512),[[Ae,R.tracking_number]])]),o("div",UT,[o("label",XT,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),ee(o("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":k[7]||(k[7]=X=>R.tracking_url=X)},null,512),[[Ae,R.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(g(),S("label",FT,[ee(o("input",{type:"checkbox","onUpdate:modelValue":k[8]||(k[8]=X=>R.markFulfilled=X)},null,512),[[ht,R.markFulfilled]]),ve(" "+l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):ae("",!0),o("div",GT,[o("button",{class:"nxp-ec-btn",type:"button",disabled:!M.value||e.state.saving||L.value,onClick:se},[k[25]||(k[25]=o("i",{class:"fa-solid fa-truck"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,VT)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(g(),S("section",HT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),o("div",BT,[e.state.activeOrder.state==="fulfilled"?(g(),S("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||L.value,onClick:k[9]||(k[9]=X=>Z("shipped"))},[k[26]||(k[26]=o("i",{class:"fa-solid fa-envelope"},null,-1)),ve(" "+l(Q("shipped")?i(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):i(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,KT)):ae("",!0),e.state.activeOrder.state==="refunded"?(g(),S("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||L.value,onClick:k[10]||(k[10]=X=>Z("refunded"))},[k[27]||(k[27]=o("i",{class:"fa-solid fa-envelope"},null,-1)),ve(" "+l(Q("refunded")?i(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):i(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,jT)):ae("",!0)])])):ae("",!0),O.value?(g(),S("section",JT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),o("p",WT,l(i(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),o("div",qT,[o("label",zT,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),ee(o("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":k[11]||(k[11]=X=>h.amount=X),placeholder:K(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,QT),[[Ae,h.amount]]),o("small",ZT,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),o("div",ey,[o("label",ty,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),ee(o("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[12]||(k[12]=X=>h.reference=X),placeholder:i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,sy),[[Ae,h.reference]])]),o("div",ny,[o("label",oy,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),ee(o("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":k[13]||(k[13]=X=>h.note=X)},null,512),[[Ae,h.note]])]),o("div",ay,[o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving||L.value||!O.value,onClick:ne},[k[28]||(k[28]=o("i",{class:"icon-credit"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,iy)])])):ae("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(g(),S("section",ry,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),o("ul",ly,[(g(!0),S(Le,null,Ve(e.state.activeOrder.transactions,X=>(g(),S("li",{key:X.id},[o("div",cy,l(X.gateway)+"  "+l(K(X.amount_cents,e.state.activeOrder.currency)),1),o("div",dy,l(Se(X))+"  "+l(te(X.created)),1)]))),128))])])):ae("",!0),o("section",uy,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),o("form",{class:"nxp-ec-admin-form",onSubmit:xt(P,["prevent"])},[ee(o("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":k[14]||(k[14]=X=>p.value=X),placeholder:i(s)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,py),[[Ae,p.value]]),o("div",_y,[o("button",{class:"nxp-ec-btn",type:"submit",disabled:!_.value||e.state.saving||L.value},[k[29]||(k[29]=o("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,fy)])],32)]),o("section",my,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),me.value.length?(g(),S("ul",hy,[(g(!0),S(Le,null,Ve(me.value,X=>(g(),S("li",{key:X.key},[o("div",gy,l(X.label),1),o("div",Ey,l(te(X.created)),1)]))),128))])):(g(),S("p",Cy,l(i(s)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])],32)):ae("",!0)])):ae("",!0)])}}},[["__scopeId","data-v-9ae09394"]]),Sy={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},by={class:"nxp-ec-admin-panel__header"},Ty={class:"nxp-ec-admin-panel__title"},yy={class:"nxp-ec-admin-panel__lead"},Ry={class:"nxp-ec-admin-panel__actions"},Oy=["placeholder","aria-label"],xy=["disabled","title","aria-label"],Py={class:"nxp-ec-sr-only"},Ny={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vy={key:1,class:"nxp-ec-admin-panel__body"},My={key:2,class:"nxp-ec-admin-panel__body"},Iy={class:"nxp-ec-admin-panel__table"},ky={class:"nxp-ec-admin-table"},wy={scope:"col"},$y={scope:"col"},Ly={scope:"col"},Dy={scope:"col"},Yy={scope:"col"},Uy={key:0},Xy={colspan:"5"},Fy={scope:"row",class:"nxp-ec-admin-table__primary"},Gy=["onClick"],Vy=["data-label"],Hy=["data-label"],By=["data-label"],Ky=["data-label"],jy={key:0,class:"nxp-ec-admin-pagination"},Jy=["disabled"],Wy={class:"nxp-ec-admin-pagination__status"},qy=["disabled"],zy=["title"],Qy={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Zy={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},eR={class:"nxp-ec-admin-panel__sidebar-header"},tR={id:"customer-modal-title"},sR=["title","aria-label"],nR={class:"nxp-ec-sr-only"},oR={class:"nxp-ec-admin-panel__section"},aR={class:"nxp-ec-admin-summary"},iR={class:"nxp-ec-admin-panel__addresses"},rR={class:"nxp-ec-admin-panel__section"},lR={class:"nxp-ec-admin-address"},cR={class:"nxp-ec-admin-panel__section"},dR={key:0,class:"nxp-ec-admin-address"},uR={key:1,class:"nxp-ec-admin-panel__muted"},pR={class:"nxp-ec-admin-panel__section"},_R={key:0,class:"nxp-ec-admin-list"},fR={class:"nxp-ec-admin-list__title"},mR={class:"nxp-ec-admin-list__meta"},hR={key:1,class:"nxp-ec-admin-panel__muted"},gR={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},ER={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},CR={class:"nxp-ec-gdpr-actions"},AR=["disabled","title"],SR=["disabled","title"],bR=Nt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=(b,m)=>{const Y=(Number(b)||0)/100,L=(m||"").toUpperCase()||n.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:L}).format(Y)}catch(K){return`${L} ${Y.toFixed(2)}`}},c=b=>{if(!b)return"";const m=new Date(b);return Number.isNaN(m.getTime())?b:m.toLocaleString()},u=b=>!b||typeof b!="object"?[]:Object.entries(b).filter(([,m])=>m!=null&&`${m}`.trim()!=="").map(([m,Y])=>({key:m,value:`${Y}`.trim()})),p=b=>{if(!b)return"";const m=`COM_NXPEASYCART_ORDERS_STATE_${String(b).toUpperCase()}`;return s(m,b)},_=()=>a("refresh"),A=()=>a("search"),d=b=>a("page",b),R=b=>a("view",b),h=()=>a("close"),I=b=>a("gdprExport",b),N=b=>a("gdprAnonymise",b),O=b=>{if(!b)return"";try{const m=new Date(b),L=new Date-m,K=Math.floor(L/1e3),te=Math.floor(K/60),q=Math.floor(te/60);return K<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):te<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[te]):q<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[q]):m.toLocaleString()}catch(m){return b}};return(b,m)=>{var Y,L,K;return g(),S("section",Sy,[o("header",by,[o("div",null,[o("h2",Ty,l(i(s)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),o("p",yy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),o("div",Ry,[ee(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":m[0]||(m[0]=te=>e.state.search=te),onKeyup:Pt(A,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,Oy),[[Ae,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":i(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[m[5]||(m[5]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",Py,l(i(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,xy)])]),e.state.error?(g(),S("div",Ny,l(e.state.error),1)):ae("",!0),e.state.loading?(g(),S("div",vy,[_t(pn,{type:"table",rows:5,columns:5})])):ae("",!0),e.state.loading?ae("",!0):(g(),S("div",My,[o("div",Iy,[o("table",ky,[o("thead",null,[o("tr",null,[o("th",wy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),o("th",$y,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),o("th",Ly,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),o("th",Dy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),o("th",Yy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),o("tbody",null,[e.state.items.length?ae("",!0):(g(),S("tr",Uy,[o("td",Xy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(g(!0),S(Le,null,Ve(e.state.items,te=>{var q;return g(),S("tr",{key:te.email,class:Ke({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===te.email})},[o("th",Fy,[o("button",{class:"nxp-ec-link-button",type:"button",onClick:Ne=>R(te)},l(te.email),9,Gy)]),o("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},l(((q=te.meta)==null?void 0:q.name)||""),9,Vy),o("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},l(te.orders_count),9,Hy),o("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},l(r(te.total_spent_cents,te.currency||e.baseCurrency)),9,By),o("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},l(c(te.last_order)),9,Ky)],2)}),128))])]),e.state.pagination.pages>1?(g(),S("div",jy,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:m[1]||(m[1]=te=>d(e.state.pagination.current-1))},"  ",8,Jy),o("span",Wy,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:m[2]||(m[2]=te=>d(e.state.pagination.current+1))},"  ",8,qy)])):ae("",!0)]),e.state.lastUpdated?(g(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(O(e.state.lastUpdated)),9,zy)):ae("",!0),e.state.activeCustomer?(g(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"customer-modal-title",onKeydown:Pt(h,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:h}),o("div",Qy,[o("aside",Zy,[o("header",eR,[o("h3",tR,l(e.state.activeCustomer.email),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:h,title:i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[m[6]||(m[6]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",nR,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,sR)]),o("section",oR,[o("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),o("dl",aR,[o("div",null,[o("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),o("dd",null,l(((Y=e.state.activeCustomer.meta)==null?void 0:Y.name)||""),1)]),o("div",null,[o("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),o("dd",null,l(r(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),o("div",null,[o("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),o("dd",null,l(e.state.activeCustomer.orders_count),1)]),o("div",null,[o("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),o("dd",null,l(c(e.state.activeCustomer.last_order)),1)])])]),o("div",iR,[o("section",rR,[o("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),o("address",lR,[(g(!0),S(Le,null,Ve(u((L=e.state.activeCustomer.meta)==null?void 0:L.billing),te=>(g(),S("span",{key:te.key},l(te.value),1))),128))])]),o("section",cR,[o("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(K=e.state.activeCustomer.meta)!=null&&K.shipping?(g(),S("address",dR,[(g(!0),S(Le,null,Ve(u(e.state.activeCustomer.meta.shipping),te=>(g(),S("span",{key:te.key},l(te.value),1))),128))])):(g(),S("p",uR,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),o("section",pR,[o("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(g(),S("ul",_R,[(g(!0),S(Le,null,Ve(e.state.activeCustomer.orders,te=>(g(),S("li",{key:te.id},[o("div",fR,l(te.order_no)+"  "+l(r(te.total_cents,te.currency||e.baseCurrency)),1),o("div",mR,l(p(te.state))+"  "+l(c(te.created)),1)]))),128))])):(g(),S("p",hR,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),o("section",gR,[o("h4",null,l(i(s)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),o("p",ER,l(i(s)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),o("div",CR,[o("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:m[3]||(m[3]=te=>I(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:i(s)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[m[7]||(m[7]=o("i",{class:"fa-solid fa-download"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,AR),o("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:m[4]||(m[4]=te=>N(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:i(s)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[m[8]||(m[8]=o("i",{class:"fa-solid fa-user-slash"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,SR)]),e.state.gdprMessage?(g(),S("p",{key:0,class:Ke(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},l(e.state.gdprMessage),3)):ae("",!0)])])])],32)):ae("",!0)]))])}}},[["__scopeId","data-v-2e6c67f3"]]),TR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},yR={class:"nxp-ec-admin-panel__header"},RR={class:"nxp-ec-admin-panel__title"},OR={class:"nxp-ec-admin-panel__lead"},xR={class:"nxp-ec-admin-panel__actions"},PR=["placeholder","aria-label"],NR=["disabled","title","aria-label"],vR={class:"nxp-ec-sr-only"},MR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},IR={key:1,class:"nxp-ec-admin-panel__loading"},kR={key:2,class:"nxp-ec-admin-panel__body"},wR={class:"nxp-ec-admin-panel__table"},$R={class:"nxp-ec-admin-table"},LR={scope:"col"},DR={scope:"col"},YR={scope:"col"},UR={scope:"col"},XR={scope:"col"},FR={scope:"col"},GR={key:0},VR={colspan:"7"},HR={scope:"row",class:"nxp-ec-admin-table__primary"},BR=["data-label"],KR=["data-label"],jR=["data-label"],JR=["data-label"],WR=["data-label"],qR={class:"nxp-ec-admin-table__actions"},zR=["onClick","title","aria-label"],QR={class:"nxp-ec-sr-only"},ZR=["onClick","title","aria-label"],eO={class:"nxp-ec-sr-only"},tO=["aria-label"],sO=["disabled","aria-label"],nO={class:"nxp-ec-admin-pagination__status","aria-current":"page"},oO=["disabled","aria-label"],aO={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},iO={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},rO={class:"nxp-ec-admin-panel__sidebar-header"},lO={id:"coupon-modal-title"},cO=["title","aria-label"],dO={class:"nxp-ec-sr-only"},uO={class:"nxp-ec-form-field"},pO={class:"nxp-ec-form-label",for:"coupon-code"},_O={class:"nxp-ec-form-field"},fO={class:"nxp-ec-form-label",for:"coupon-type"},mO={value:"percent"},hO={value:"fixed"},gO={class:"nxp-ec-form-field"},EO={class:"nxp-ec-form-label",for:"coupon-value"},CO={class:"nxp-ec-form-field"},AO={class:"nxp-ec-form-label",for:"coupon-min-total"},SO={class:"nxp-ec-form-field"},bO={class:"nxp-ec-form-label",for:"coupon-start"},TO={class:"nxp-ec-form-field"},yO={class:"nxp-ec-form-label",for:"coupon-end"},RO={class:"nxp-ec-form-field"},OO={class:"nxp-ec-form-label",for:"coupon-max-uses"},xO={class:"nxp-ec-form-field"},PO={class:"nxp-ec-form-label",for:"coupon-max-uses-per-user"},NO={class:"nxp-ec-form-hint"},vO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},MO={class:"nxp-ec-form-label",for:"coupon-allow-sale-items"},IO={class:"nxp-ec-form-hint"},kO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},wO={class:"nxp-ec-form-label",for:"coupon-active"},$O={class:"nxp-ec-modal__actions"},LO=["disabled"],DO=["disabled"],YO=["disabled"],UO=Nt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=ye(()=>(n.baseCurrency||"USD").toUpperCase()),c=et({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0}),u=ye(()=>c.open),p=()=>a("refresh"),_=()=>a("search"),A=Y=>a("page",Y),d=()=>{Object.assign(c,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0})},R=Y=>{var L,K,te;Object.assign(c,{open:!0,id:Y.id,code:Y.code,type:Y.type,value:Y.value,min_total:(K=Y.min_total)!=null?K:((L=Y.min_total_cents)!=null?L:0)/100,start:Y.start?Y.start.substring(0,10):"",end:Y.end?Y.end.substring(0,10):"",max_uses:Y.max_uses,max_uses_per_user:Y.max_uses_per_user,allow_sale_items:(te=Y.allow_sale_items)!=null?te:!0,active:Y.active})},h=()=>{c.open=!1},I=()=>{const Y={id:c.id||void 0,code:c.code,type:c.type,value:c.value,min_total:c.min_total||0,start:c.start||null,end:c.end||null,max_uses:c.max_uses!==null&&c.max_uses!==""?c.max_uses:null,max_uses_per_user:c.max_uses_per_user!==null&&c.max_uses_per_user!==""?c.max_uses_per_user:null,allow_sale_items:c.allow_sale_items,active:c.active};a("save",Y)},N=Y=>{const L=s("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(L)&&(a("delete",[Y.id]),c.id===Y.id&&h())},O=(Y,L)=>{const K=(Number(Y)||0)/100,te=(L||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:te}).format(K)}catch(q){return`${te} ${K.toFixed(2)}`}},b=Y=>Y.type==="percent"?`${Y.value}%`:O(Y.value*100,r.value),m=Y=>Y==="fixed"?s("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):s("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return ct(()=>n.state.saving,(Y,L)=>{L&&!Y&&!n.state.error&&c.open&&h()}),(Y,L)=>(g(),S("section",TR,[o("header",yR,[o("div",null,[o("h2",RR,l(i(s)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),o("p",OR,l(i(s)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),o("div",xR,[ee(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":L[0]||(L[0]=K=>e.state.search=K),onKeyup:Pt(_,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,PR),[[Ae,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[L[14]||(L[14]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",vR,l(i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,NR),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:d},[L[15]||(L[15]=o("i",{class:"fa-solid fa-plus"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(g(),S("div",MR,l(e.state.error),1)):ae("",!0),e.state.loading?(g(),S("div",IR,l(i(s)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):ae("",!0),e.state.loading?ae("",!0):(g(),S("div",kR,[o("div",wR,[o("table",$R,[o("thead",null,[o("tr",null,[o("th",LR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),o("th",DR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),o("th",YR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),o("th",UR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),o("th",XR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),o("th",FR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),L[16]||(L[16]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?ae("",!0):(g(),S("tr",GR,[o("td",VR,l(i(s)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(g(!0),S(Le,null,Ve(e.state.items,K=>(g(),S("tr",{key:K.id,class:Ke({"is-active":c.id===K.id})},[o("th",HR,l(K.code),1),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},l(m(K.type)),9,BR),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},l(b(K)),9,KR),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},l(O(K.min_total_cents,r.value)),9,jR),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[o("span",{class:Ke(["nxp-ec-badge",{"is-active":K.active}])},[o("i",{class:Ke(K.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ve(" "+l(K.active?i(s)("JYES","Yes"):i(s)("JNO","No")),1)],2)],8,JR),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},l(K.times_used)+l(K.max_uses?` / ${K.max_uses}`:""),9,WR),o("td",qR,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:te=>R(K),title:i(s)("JEDIT","Edit"),"aria-label":i(s)("JEDIT","Edit")},[L[17]||(L[17]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",QR,l(i(s)("JEDIT","Edit")),1)],8,zR),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:te=>N(K),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[L[18]||(L[18]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",eO,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,ZR)])],2))),128))])]),e.state.pagination.pages>1?(g(),S("nav",{key:0,class:"nxp-ec-admin-pagination","aria-label":i(s)("COM_NXPEASYCART_PAGINATION","Pagination")},[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:L[1]||(L[1]=K=>A(e.state.pagination.current-1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,sO),o("span",nO,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:L[2]||(L[2]=K=>A(e.state.pagination.current+1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,oO)],8,tO)):ae("",!0)]),u.value?(g(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"coupon-modal-title",onKeydown:Pt(h,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:h}),o("div",aO,[o("aside",iO,[o("header",rO,[o("h3",lO,l(c.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:h,title:i(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[L[19]||(L[19]=o("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),o("span",dO,l(i(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,cO)]),o("form",{class:"nxp-ec-form",onSubmit:xt(I,["prevent"]),autocomplete:"off"},[o("div",uO,[o("label",pO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),ee(o("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":L[3]||(L[3]=K=>c.code=K),required:"",maxlength:"64"},null,512),[[Ae,c.code,void 0,{trim:!0}]])]),o("div",_O,[o("label",fO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),ee(o("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":L[4]||(L[4]=K=>c.type=K)},[o("option",mO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),o("option",hO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[Ct,c.type]])]),o("div",gO,[o("label",EO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),ee(o("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":L[5]||(L[5]=K=>c.value=K),required:""},null,512),[[Ae,c.value,void 0,{number:!0}]])]),o("div",CO,[o("label",AO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),ee(o("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":L[6]||(L[6]=K=>c.min_total=K)},null,512),[[Ae,c.min_total,void 0,{number:!0}]])]),o("div",SO,[o("label",bO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),ee(o("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":L[7]||(L[7]=K=>c.start=K)},null,512),[[Ae,c.start]])]),o("div",TO,[o("label",yO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),ee(o("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":L[8]||(L[8]=K=>c.end=K)},null,512),[[Ae,c.end]])]),o("div",RO,[o("label",OO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),ee(o("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":L[9]||(L[9]=K=>c.max_uses=K)},null,512),[[Ae,c.max_uses,void 0,{number:!0}]])]),o("div",xO,[o("label",PO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER","Max uses per user",[],"couponsFormMaxUsesPerUser")),1),ee(o("input",{id:"coupon-max-uses-per-user",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":L[10]||(L[10]=K=>c.max_uses_per_user=K)},null,512),[[Ae,c.max_uses_per_user,void 0,{number:!0}]]),o("small",NO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER_HINT","Limit how many times a single user or email can use this coupon. Leave empty for unlimited.",[],"couponsFormMaxUsesPerUserHint")),1)]),o("div",vO,[o("label",MO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS","Allow on sale items",[],"couponsFormAllowSaleItems")),1),ee(o("input",{id:"coupon-allow-sale-items",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":L[11]||(L[11]=K=>c.allow_sale_items=K)},null,512),[[ht,c.allow_sale_items]]),o("small",IO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS_HINT","When disabled, this coupon cannot be applied if the cart contains items currently on sale.",[],"couponsFormAllowSaleItemsHint")),1)]),o("div",kO,[o("label",wO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),ee(o("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":L[12]||(L[12]=K=>c.active=K)},null,512),[[ht,c.active]])]),o("footer",$O,[o("button",{class:"nxp-ec-btn",type:"button",onClick:h,disabled:e.state.saving},l(i(s)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,LO),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},l(e.state.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,DO)]),c.id?(g(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:L[13]||(L[13]=K=>N(c)),disabled:e.state.saving},[L[20]||(L[20]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,YO)):ae("",!0)],32)])])],32)):ae("",!0)]))]))}},[["__scopeId","data-v-f9ade401"]]),XO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},FO={class:"nxp-ec-admin-panel__header"},GO={class:"nxp-ec-admin-panel__title"},VO={class:"nxp-ec-admin-panel__lead"},HO={class:"nxp-ec-settings-tabs"},BO={key:0,class:"nxp-ec-settings-panel"},KO={class:"nxp-ec-settings-panel__header"},jO=["disabled"],JO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},WO={key:1,class:"nxp-ec-admin-panel__loading"},qO={class:"nxp-ec-form-field"},zO={class:"nxp-ec-form-label",for:"settings-store-name"},QO={class:"nxp-ec-form-field"},ZO={class:"nxp-ec-form-label",for:"settings-store-email"},ex={class:"nxp-ec-form-field"},tx={class:"nxp-ec-form-label",for:"settings-store-phone"},sx={class:"nxp-ec-form-field"},nx={class:"nxp-ec-form-label",for:"settings-base-currency"},ox=["value"],ax={class:"nxp-ec-form-help"},ix={class:"nxp-ec-form-field nxp-ec-form-field--inline"},rx={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},lx={class:"nxp-ec-form-help"},cx={class:"nxp-ec-form-field"},dx={class:"nxp-ec-form-label",for:"settings-display-locale"},ux={class:"nxp-ec-form-help"},px={class:"nxp-ec-form-field"},_x={class:"nxp-ec-form-label",for:"settings-category-page-size"},fx={class:"nxp-ec-form-help"},mx={class:"nxp-ec-form-field"},hx={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},gx={value:"paged"},Ex={value:"infinite"},Cx={class:"nxp-ec-form-help"},Ax={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Sx={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},bx={class:"nxp-ec-form-help"},Tx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},yx={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},Rx={class:"nxp-ec-form-help"},Ox={key:0,class:"nxp-ec-form-field"},xx={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},Px={class:"nxp-ec-form-help"},Nx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vx={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},Mx={class:"nxp-ec-form-help"},Ix={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},kx={class:"nxp-ec-settings-actions"},wx=["disabled"],$x=["disabled"],Lx={key:1,class:"nxp-ec-settings-panel"},Dx={class:"nxp-ec-settings-panel__header"},Yx=["disabled"],Ux={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Xx={key:1,class:"nxp-ec-admin-panel__loading"},Fx={class:"nxp-ec-form-grid"},Gx={class:"nxp-ec-form-field"},Vx={class:"nxp-ec-form-label",for:"settings-digital-max"},Hx={class:"nxp-ec-form-help"},Bx={class:"nxp-ec-form-field"},Kx={class:"nxp-ec-form-label",for:"settings-digital-expiry"},jx={class:"nxp-ec-form-help"},Jx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Wx={class:"nxp-ec-form-label",for:"settings-digital-fulfill"},qx={class:"nxp-ec-form-help"},zx={class:"nxp-ec-form-field"},Qx={class:"nxp-ec-form-label",for:"settings-digital-max-size"},Zx={class:"nxp-ec-form-help"},eP={class:"nxp-ec-form-field"},tP={class:"nxp-ec-form-label",for:"settings-digital-storage"},sP={class:"nxp-ec-form-help"},nP={class:"nxp-ec-form-section"},oP={class:"nxp-ec-form-section__title"},aP={class:"nxp-ec-form-help",style:{"margin-bottom":"1rem"}},iP={class:"nxp-ec-filetypes-actions"},rP={class:"nxp-ec-filetypes-grid"},lP={class:"nxp-ec-filetypes-category__title"},cP={class:"nxp-ec-filetypes-category__list"},dP=["value"],uP={class:"nxp-ec-filetypes-item__label"},pP={class:"nxp-ec-form-field",style:{"margin-top":"1.5rem"}},_P={class:"nxp-ec-form-label",for:"settings-digital-custom-ext"},fP={class:"nxp-ec-form-help nxp-ec-form-help--warning"},mP={class:"nxp-ec-settings-actions"},hP=["disabled"],gP={key:2,class:"nxp-ec-settings-panel"},EP={class:"nxp-ec-settings-panel__header"},CP=["disabled"],AP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},SP={class:"nxp-ec-form-help"},bP={class:"nxp-ec-form-grid"},TP={class:"nxp-ec-form-field"},yP={class:"nxp-ec-form-label",for:"settings-checkout-window"},RP={class:"nxp-ec-form-help"},OP={class:"nxp-ec-form-field"},xP={class:"nxp-ec-form-label",for:"settings-offline-window"},PP={class:"nxp-ec-form-help"},NP={class:"nxp-ec-form-grid"},vP={class:"nxp-ec-form-field"},MP={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},IP={class:"nxp-ec-form-field"},kP={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},wP={class:"nxp-ec-form-field"},$P={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},LP={class:"nxp-ec-form-grid"},DP={class:"nxp-ec-form-field"},YP={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},UP={class:"nxp-ec-form-field"},XP={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},FP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},GP={class:"nxp-ec-settings-actions"},VP=["disabled"],HP=["disabled"],BP={key:3,class:"nxp-ec-settings-panel"},KP={class:"nxp-ec-settings-panel__header"},jP={class:"nxp-ec-settings-actions"},JP=["disabled"],WP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qP={key:1,class:"nxp-ec-admin-panel__loading"},zP={class:"nxp-ec-fieldset-legend-with-help"},QP=["title"],ZP={class:"nxp-ec-form-field"},e1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},t1=["title"],s1=["placeholder"],n1={class:"nxp-ec-form-help"},o1={class:"nxp-ec-form-field"},a1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},i1=["title"],r1=["placeholder"],l1={class:"nxp-ec-form-help"},c1={class:"nxp-ec-form-field"},d1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},u1=["title"],p1=["placeholder"],_1={class:"nxp-ec-form-help"},f1={style:{display:"block","margin-top":"0.25rem","word-break":"break-all"}},m1={class:"nxp-ec-form-field"},h1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},g1={value:"test"},E1={value:"live"},C1={class:"nxp-ec-fieldset-legend-with-help"},A1=["title"],S1={class:"nxp-ec-form-field"},b1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},T1=["title"],y1={class:"nxp-ec-form-help"},R1={class:"nxp-ec-form-field"},O1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},x1=["title"],P1={class:"nxp-ec-form-help"},N1={class:"nxp-ec-form-field"},v1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},M1=["title"],I1=["placeholder"],k1={class:"nxp-ec-form-help"},w1={style:{display:"block","margin-top":"0.25rem","word-break":"break-all"}},$1={class:"nxp-ec-form-field"},L1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},D1={value:"sandbox"},Y1={value:"live"},U1={class:"nxp-ec-form-field nxp-ec-form-field--inline"},X1={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},F1={class:"nxp-ec-form-field"},G1={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},V1={class:"nxp-ec-form-field nxp-ec-form-field--inline"},H1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},B1={class:"nxp-ec-form-field"},K1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},j1={class:"nxp-ec-form-field"},J1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},W1=["placeholder"],q1={class:"nxp-ec-form-help"},z1={class:"nxp-ec-form-grid"},Q1={class:"nxp-ec-form-field"},Z1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},eN={class:"nxp-ec-form-field"},tN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},sN={class:"nxp-ec-form-field"},nN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},oN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},aN={class:"nxp-ec-form-label",for:"settings-payments-configured"},iN={class:"nxp-ec-form-help"},rN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},lN={class:"nxp-ec-settings-actions"},cN=["disabled"],dN=["disabled"],uN={key:4,class:"nxp-ec-settings-panel"},pN={class:"nxp-ec-settings-panel__header"},_N=["disabled"],fN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mN={key:1,class:"nxp-ec-admin-panel__loading"},hN={class:"nxp-ec-form-help"},gN={class:"nxp-ec-form-help nxp-ec-form-help--muted"},EN={class:"nxp-ec-visual-grid"},CN={class:"nxp-ec-visual-field"},AN={class:"nxp-ec-form-label",for:"visual-primary-color"},SN={class:"nxp-ec-color-input-group"},bN=["value"],TN=["placeholder"],yN={class:"nxp-ec-visual-field"},RN={class:"nxp-ec-form-label",for:"visual-text-color"},ON={class:"nxp-ec-color-input-group"},xN=["value"],PN=["placeholder"],NN={class:"nxp-ec-visual-field"},vN={class:"nxp-ec-form-label",for:"visual-surface-color"},MN={class:"nxp-ec-color-input-group"},IN=["value"],kN=["placeholder"],wN={class:"nxp-ec-visual-field"},$N={class:"nxp-ec-form-label",for:"visual-border-color"},LN={class:"nxp-ec-color-input-group"},DN=["value"],YN=["placeholder"],UN={class:"nxp-ec-visual-field"},XN={class:"nxp-ec-form-label",for:"visual-muted-color"},FN={class:"nxp-ec-color-input-group"},GN=["value"],VN=["placeholder"],HN={class:"nxp-ec-visual-preview"},BN={type:"button",class:"nxp-ec-preview-btn"},KN={class:"nxp-ec-preview-text"},jN={class:"nxp-ec-preview-muted"},JN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},WN={class:"nxp-ec-settings-actions"},qN=["disabled"],zN=["disabled"],QN=Nt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=n.settingsState,c=n.paymentsState,p=Qe(["general","digital","security","payments","visual"].includes(n.initialTab)?n.initialTab:"general");ye(()=>{var pe;const C=n.baseCurrency||"USD",E=typeof _.baseCurrency=="string"?_.baseCurrency.trim():"",T=typeof((pe=r==null?void 0:r.values)==null?void 0:pe.base_currency)=="string"?r.values.base_currency.trim():"";return(E!==""?E:T!==""?T:C).toUpperCase()});const _=et({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1,digitalMaxDownloads:5,digitalExpiryDays:30,digitalStoragePath:"",digitalAutoFulfill:!0,digitalMaxFileSize:200,digitalAllowedExtensions:[],digitalCustomExtensions:""}),A=Qe({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]}),d=()=>Object.values(A.value).flat(),R=C=>{var pe,Pe;const E=(pe=C==null?void 0:C.digital)!=null?pe:{},T=(Pe=E.file_type_categories)!=null?Pe:A.value;if(Array.isArray(E.allowed_extensions))return[...E.allowed_extensions];const ge=[];for(const[j,_e]of Object.entries(T))j!=="installers"&&ge.push(..._e);return ge},h=C=>{var T;return(T={archives:"Archives",audio:"Audio",video:"Video",images:"Images",documents:"Documents",ebooks:"E-books",installers:"Installers"}[C])!=null?T:C.charAt(0).toUpperCase()+C.slice(1)},I=()=>{_.digitalAllowedExtensions=d()},N=()=>{_.digitalAllowedExtensions=[]},O=et({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),b=et({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),m=et({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),Y=ye(()=>{var E,T;const C=(T=(E=r.values)==null?void 0:E.visual_defaults)!=null?T:{};return{primary:C.primary_color||"#4f6d7a",text:C.text_color||"#1f2933",surface:C.surface_color||"#ffffff",border:C.border_color||"#e4e7ec",muted:C.muted_color||"#6b7280"}}),L=ye(()=>{var C,E;return(E=(C=r.values)==null?void 0:C.currencies)!=null?E:[]}),K=ye(()=>{var C,E,T;return((T=(E=(C=window.Joomla)==null?void 0:C.getOptions)==null?void 0:E.call(C,"system.paths"))==null?void 0:T.root)||window.location.origin}),te=ye(()=>({"--nxp-ec-color-primary":m.primaryColor||Y.value.primary,"--nxp-ec-color-text":m.textColor||Y.value.text,"--nxp-ec-color-surface":m.surfaceColor||Y.value.surface,"--nxp-ec-color-border":m.borderColor||Y.value.border,"--nxp-ec-color-muted":m.mutedColor||Y.value.muted})),q=(C={})=>{var Pe,j,_e,$e,Fe,y,P,G,se,Z,ne,W,J,Q,B,Ce,le,me,Se,Oe;const E=(Pe=C==null?void 0:C.store)!=null?Pe:{},T=(j=C==null?void 0:C.payments)!=null?j:{},ge=(_e=C==null?void 0:C.visual)!=null?_e:{},pe=(Fe=($e=C==null?void 0:C.security)==null?void 0:$e.rate_limits)!=null?Fe:{};Object.assign(_,{storeName:(y=E.name)!=null?y:"",storeEmail:(P=E.email)!=null?P:"",storePhone:(G=E.phone)!=null?G:"",checkoutPhoneRequired:!!((se=C==null?void 0:C.checkout_phone_required)!=null&&se),paymentsConfigured:!!T.configured,autoSendOrderEmails:!!((Z=C==null?void 0:C.auto_send_order_emails)!=null&&Z),baseCurrency:typeof(C==null?void 0:C.base_currency)=="string"?C.base_currency.trim().toUpperCase():(n.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(C==null?void 0:C.display_locale)=="string"?C.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(C==null?void 0:C.category_page_size))?Number(C.category_page_size):12,categoryPaginationMode:(C==null?void 0:C.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((ne=C==null?void 0:C.stale_order_cleanup_enabled)!=null&&ne),staleOrderHours:Number.isFinite(Number(C==null?void 0:C.stale_order_hours))?Math.max(1,Math.min(720,Number(C.stale_order_hours))):48,showAdvancedMode:!!((W=C==null?void 0:C.show_advanced_mode)!=null&&W),digitalMaxDownloads:Number.isFinite(Number(C==null?void 0:C.digital_download_max))?Math.max(0,Number(C.digital_download_max)):5,digitalExpiryDays:Number.isFinite(Number(C==null?void 0:C.digital_download_expiry))?Math.max(0,Number(C.digital_download_expiry)):30,digitalStoragePath:typeof(C==null?void 0:C.digital_storage_path)=="string"?C.digital_storage_path:"",digitalAutoFulfill:!!((J=C==null?void 0:C.digital_auto_fulfill)==null||J),digitalMaxFileSize:Number.isFinite(Number(C==null?void 0:C.digital_max_file_size))?Math.max(1,Math.min(2048,Number(C.digital_max_file_size))):200,digitalAllowedExtensions:R(C),digitalCustomExtensions:typeof((Q=C==null?void 0:C.digital)==null?void 0:Q.custom_extensions)=="string"?C.digital.custom_extensions:""}),(B=C==null?void 0:C.digital)!=null&&B.file_type_categories&&(A.value=C.digital.file_type_categories),Object.assign(m,{primaryColor:(Ce=ge.primary_color)!=null?Ce:"",textColor:(le=ge.text_color)!=null?le:"",surfaceColor:(me=ge.surface_color)!=null?me:"",borderColor:(Se=ge.border_color)!=null?Se:"",mutedColor:(Oe=ge.muted_color)!=null?Oe:""}),Object.assign(O,{checkoutWindowMinutes:Number.isFinite(Number(pe.checkout_window_minutes))?Number(pe.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(pe.checkout_ip_limit))?Number(pe.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(pe.checkout_email_limit))?Number(pe.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(pe.checkout_session_limit))?Number(pe.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(pe.offline_window_minutes))?Number(pe.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(pe.offline_ip_limit))?Number(pe.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(pe.offline_email_limit))?Number(pe.offline_email_limit):5})},Ne=(C={})=>{var Pe,j,_e,$e,Fe,y,P,G,se,Z,ne,W,J,Q,B,Ce,le,me,Se,Oe,x,k,re,ce;const E=(Pe=C.stripe)!=null?Pe:{},T=(j=C.paypal)!=null?j:{},ge=(_e=C.cod)!=null?_e:{},pe=($e=C.bank_transfer)!=null?$e:{};Object.assign(b.stripe,{publishable_key:(Fe=E.publishable_key)!=null?Fe:"",secret_key:(y=E.secret_key)!=null?y:"",webhook_secret:(P=E.webhook_secret)!=null?P:"",mode:(G=E.mode)!=null?G:"test"}),Object.assign(b.paypal,{client_id:(se=T.client_id)!=null?se:"",client_secret:(Z=T.client_secret)!=null?Z:"",webhook_id:(ne=T.webhook_id)!=null?ne:"",mode:(W=T.mode)!=null?W:"sandbox"}),Object.assign(b.cod,{enabled:ge.enabled!==void 0?!!ge.enabled:b.cod.enabled,label:(Q=(J=ge.label)!=null?J:b.cod.label)!=null?Q:"Cash on delivery"}),Object.assign(b.bank_transfer,{enabled:pe.enabled!==void 0?!!pe.enabled:b.bank_transfer.enabled,label:(Ce=(B=pe.label)!=null?B:b.bank_transfer.label)!=null?Ce:"Bank transfer",instructions:(me=(le=pe.instructions)!=null?le:b.bank_transfer.instructions)!=null?me:"",account_name:(Oe=(Se=pe.account_name)!=null?Se:b.bank_transfer.account_name)!=null?Oe:"",iban:(k=(x=pe.iban)!=null?x:b.bank_transfer.iban)!=null?k:"",bic:(ce=(re=pe.bic)!=null?re:b.bank_transfer.bic)!=null?ce:""})};ct(()=>r.values,C=>{q(C!=null?C:{})},{immediate:!0});const ke=()=>a("refresh-settings"),v=()=>{const C=(_.baseCurrency||"").trim().toUpperCase(),E=(_.displayLocale||"").trim();a("save-settings",{store:{name:_.storeName,email:_.storeEmail,phone:_.storePhone,base_currency:C},payments:{configured:_.paymentsConfigured},base_currency:C,display_locale:E,checkout_phone_required:_.checkoutPhoneRequired,auto_send_order_emails:_.autoSendOrderEmails,category_page_size:Number.isFinite(Number(_.categoryPageSize))?Number(_.categoryPageSize):12,category_pagination_mode:_.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!_.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(_.staleOrderHours))?Math.max(1,Math.min(720,Number(_.staleOrderHours))):48,show_advanced_mode:!!_.showAdvancedMode})},Ye=()=>{var C;q((C=r.values)!=null?C:{})},De=()=>{const C=Number.isFinite(Number(_.digitalMaxDownloads))?Math.max(0,Number(_.digitalMaxDownloads)):0,E=Number.isFinite(Number(_.digitalExpiryDays))?Math.max(0,Number(_.digitalExpiryDays)):0,T=(_.digitalStoragePath||"").trim(),ge=Number.isFinite(Number(_.digitalMaxFileSize))?Math.max(1,Math.min(2048,Number(_.digitalMaxFileSize))):200,pe=d(),Pe=_.digitalAllowedExtensions||[],_e=pe.length===Pe.length&&pe.every(Fe=>Pe.includes(Fe))?null:[...Pe],$e=(_.digitalCustomExtensions||"").trim();a("save-settings",{digital:{max_downloads:C,expiry_days:E,storage_path:T,auto_fulfill:!!_.digitalAutoFulfill,max_file_size:ge,allowed_extensions:_e,custom_extensions:$e}})},we=()=>{var C;q((C=r.values)!=null?C:{})},oe=()=>{const C=(E,T=0)=>{const ge=Number(E);return Number.isFinite(ge)&&ge>=0?ge:T};a("save-settings",{security:{rate_limits:{checkout_window_minutes:C(O.checkoutWindowMinutes,15),checkout_ip_limit:C(O.checkoutIpLimit,10),checkout_email_limit:C(O.checkoutEmailLimit,5),checkout_session_limit:C(O.checkoutSessionLimit,15),offline_window_minutes:C(O.offlineWindowMinutes,240),offline_ip_limit:C(O.offlineIpLimit,10),offline_email_limit:C(O.offlineEmailLimit,5)}}})},Te=()=>{var C;q((C=r.values)!=null?C:{})};ct(()=>r.saving,(C,E)=>{var T;E&&!C&&!r.error&&q((T=r.values)!=null?T:{})}),ct(()=>c.config,C=>{Ne(C!=null?C:{})},{immediate:!0}),ct(()=>c.saving,(C,E)=>{var T;E&&!C&&!c.error&&Ne((T=c.config)!=null?T:{})});const Ee=()=>a("refresh-payments"),D=()=>{const C=JSON.parse(JSON.stringify(b));a("save-payments",C),a("save-settings",{payments:{configured:_.paymentsConfigured}})},M=()=>{var C;Ne((C=c.config)!=null?C:{})},U=()=>a("refresh-settings"),z=()=>{a("save-settings",{visual:{primary_color:m.primaryColor,text_color:m.textColor,surface_color:m.surfaceColor,border_color:m.borderColor,muted_color:m.mutedColor}})},ie=()=>{var E,T,ge,pe,Pe,j,_e;const C=(T=(E=r.values)==null?void 0:E.visual)!=null?T:{};Object.assign(m,{primaryColor:(ge=C.primary_color)!=null?ge:"",textColor:(pe=C.text_color)!=null?pe:"",surfaceColor:(Pe=C.surface_color)!=null?Pe:"",borderColor:(j=C.border_color)!=null?j:"",mutedColor:(_e=C.muted_color)!=null?_e:""})};return(C,E)=>(g(),S("section",XO,[o("header",FO,[o("div",null,[o("h2",GO,l(i(s)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),o("p",VO,l(i(s)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),o("nav",HO,[o("button",{type:"button",class:Ke(["nxp-ec-settings-tab",{"is-active":p.value==="general"}]),onClick:E[0]||(E[0]=T=>p.value="general")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),o("button",{type:"button",class:Ke(["nxp-ec-settings-tab",{"is-active":p.value==="digital"}]),onClick:E[1]||(E[1]=T=>p.value="digital")},l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital")),3),_.showAdvancedMode?(g(),S("button",{key:0,type:"button",class:Ke(["nxp-ec-settings-tab",{"is-active":p.value==="security"}]),onClick:E[2]||(E[2]=T=>p.value="security")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):ae("",!0),o("button",{type:"button",class:Ke(["nxp-ec-settings-tab",{"is-active":p.value==="payments"}]),onClick:E[3]||(E[3]=T=>p.value="payments")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),o("button",{type:"button",class:Ke(["nxp-ec-settings-tab",{"is-active":p.value==="visual"}]),onClick:E[4]||(E[4]=T=>p.value="visual")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),p.value==="general"?(g(),S("div",BO,[o("header",KO,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:ke,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,jO)]),i(r).error?(g(),S("div",JO,l(i(r).error),1)):i(r).loading?(g(),S("div",WO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(g(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:xt(v,["prevent"])},[o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),o("div",qO,[o("label",zO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),ee(o("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[5]||(E[5]=T=>_.storeName=T),maxlength:"190"},null,512),[[Ae,_.storeName,void 0,{trim:!0}]])]),o("div",QO,[o("label",ZO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),ee(o("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":E[6]||(E[6]=T=>_.storeEmail=T)},null,512),[[Ae,_.storeEmail,void 0,{trim:!0}]])]),o("div",ex,[o("label",tx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),ee(o("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[7]||(E[7]=T=>_.storePhone=T),maxlength:"64"},null,512),[[Ae,_.storePhone,void 0,{trim:!0}]])])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),o("div",sx,[o("label",nx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),ee(o("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":E[8]||(E[8]=T=>_.baseCurrency=T),required:""},[(g(!0),S(Le,null,Ve(L.value,T=>(g(),S("option",{key:T.code,value:T.code},l(T.label),9,ox))),128))],512),[[Ct,_.baseCurrency]]),o("p",ax,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),o("div",ix,[o("label",rx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),ee(o("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":E[9]||(E[9]=T=>_.checkoutPhoneRequired=T)},null,512),[[ht,_.checkoutPhoneRequired]]),o("p",lx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),o("div",cx,[o("label",dx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),ee(o("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[10]||(E[10]=T=>_.displayLocale=T),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[Ae,_.displayLocale,void 0,{trim:!0}]]),o("p",ux,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),o("div",px,[o("label",_x,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),ee(o("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":E[11]||(E[11]=T=>_.categoryPageSize=T)},null,512),[[Ae,_.categoryPageSize,void 0,{number:!0}]]),o("p",fx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),o("div",mx,[o("label",hx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),ee(o("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":E[12]||(E[12]=T=>_.categoryPaginationMode=T)},[o("option",gx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),o("option",Ex,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[Ct,_.categoryPaginationMode]]),o("p",Cx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),o("div",Ax,[o("label",Sx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),ee(o("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":E[13]||(E[13]=T=>_.autoSendOrderEmails=T)},null,512),[[ht,_.autoSendOrderEmails]]),o("p",bx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),o("div",Tx,[o("label",yx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),ee(o("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":E[14]||(E[14]=T=>_.staleOrderCleanupEnabled=T)},null,512),[[ht,_.staleOrderCleanupEnabled]]),o("p",Rx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),_.staleOrderCleanupEnabled?(g(),S("div",Ox,[o("label",xx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),ee(o("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":E[15]||(E[15]=T=>_.staleOrderHours=T)},null,512),[[Ae,_.staleOrderHours,void 0,{number:!0}]]),o("p",Px,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):ae("",!0)]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),o("div",Nx,[o("label",vx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),ee(o("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":E[16]||(E[16]=T=>_.showAdvancedMode=T)},null,512),[[ht,_.showAdvancedMode]]),o("p",Mx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),i(r).message?(g(),S("div",Ix,l(i(r).message),1)):ae("",!0),o("div",kx,[o("button",{class:"nxp-ec-btn",type:"button",onClick:Ye,disabled:i(r).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,wx),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,$x)])],32))])):p.value==="digital"?(g(),S("div",Lx,[o("header",Dx,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital products")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:ke,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh")),9,Yx)]),i(r).error?(g(),S("div",Ux,l(i(r).error),1)):i(r).loading?(g(),S("div",Xx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings")),1)):(g(),S("form",{key:2,class:"nxp-ec-settings-form",onSubmit:xt(De,["prevent"])},[o("div",Fx,[o("div",Gx,[o("label",Vx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS","Default max downloads")),1),ee(o("input",{id:"settings-digital-max",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":E[17]||(E[17]=T=>_.digitalMaxDownloads=T)},null,512),[[Ae,_.digitalMaxDownloads,void 0,{number:!0}]]),o("p",Hx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS_DESC","Maximum downloads allowed per purchase (0 for unlimited).")),1)]),o("div",Bx,[o("label",Kx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY","Download link expiry (days)")),1),ee(o("input",{id:"settings-digital-expiry",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":E[18]||(E[18]=T=>_.digitalExpiryDays=T)},null,512),[[Ae,_.digitalExpiryDays,void 0,{number:!0}]]),o("p",jx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY_DESC","Number of days before links expire (0 for no expiry).")),1)]),o("div",Jx,[o("label",Wx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL","Auto-fulfill digital orders")),1),ee(o("input",{id:"settings-digital-fulfill",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":E[19]||(E[19]=T=>_.digitalAutoFulfill=T)},null,512),[[ht,_.digitalAutoFulfill]]),o("p",qx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL_DESC","Mark digital-only orders fulfilled after payment.")),1)]),o("div",zx,[o("label",Qx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE","Max file size (MB)")),1),ee(o("input",{id:"settings-digital-max-size",class:"nxp-ec-form-input",type:"number",min:"1",max:"2048",step:"1","onUpdate:modelValue":E[20]||(E[20]=T=>_.digitalMaxFileSize=T)},null,512),[[Ae,_.digitalMaxFileSize,void 0,{number:!0}]]),o("p",Zx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE_DESC","Maximum upload size per file in megabytes (1-2048 MB).")),1)]),o("div",eP,[o("label",tP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH","Storage path")),1),ee(o("input",{id:"settings-digital-storage",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[21]||(E[21]=T=>_.digitalStoragePath=T),maxlength:"250"},null,512),[[Ae,_.digitalStoragePath,void 0,{trim:!0}]]),o("p",sP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH_DESC","Protected directory for digital files. Adjust only if you know the server path.")),1)])]),o("div",nP,[o("h4",oP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES","Allowed File Types")),1),o("p",aP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES_DESC","Select which file types can be uploaded as digital products.")),1),o("div",iP,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm",onClick:I},l(i(s)("COM_NXPEASYCART_SELECT_ALL","Select All")),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-btn--link",onClick:N},l(i(s)("COM_NXPEASYCART_SELECT_NONE","Select None")),1)]),o("div",rP,[(g(!0),S(Le,null,Ve(A.value,(T,ge)=>(g(),S("div",{key:ge,class:"nxp-ec-filetypes-category"},[o("h5",lP,l(h(ge)),1),o("div",cP,[(g(!0),S(Le,null,Ve(T,pe=>(g(),S("label",{key:pe,class:"nxp-ec-filetypes-item"},[ee(o("input",{type:"checkbox",value:pe,"onUpdate:modelValue":E[22]||(E[22]=Pe=>_.digitalAllowedExtensions=Pe),class:"nxp-ec-filetypes-item__checkbox"},null,8,dP),[[ht,_.digitalAllowedExtensions]]),o("span",uP,"."+l(pe),1)]))),128))])]))),128))]),o("div",pP,[o("label",_P,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS","Custom Extensions")),1),ee(o("input",{id:"settings-digital-custom-ext",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[23]||(E[23]=T=>_.digitalCustomExtensions=T),placeholder:"blend, psd, ai, sketch"},null,512),[[Ae,_.digitalCustomExtensions,void 0,{trim:!0}]]),o("p",fP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS_DESC","Comma-separated list of additional extensions. These bypass MIME validation - use only for trusted uploads.")),1)])]),o("div",mP,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:we},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_RESET","Reset")),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")),9,hP)])],32))])):p.value==="security"&&_.showAdvancedMode?(g(),S("div",gP,[o("header",EP,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:ke,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,CP)]),i(r).error?(g(),S("div",AP,l(i(r).error),1)):(g(),S("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:xt(oe,["prevent"])},[o("p",SP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),o("div",bP,[o("div",TP,[o("label",yP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),ee(o("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":E[24]||(E[24]=T=>O.checkoutWindowMinutes=T)},null,512),[[Ae,O.checkoutWindowMinutes,void 0,{number:!0}]]),o("p",RP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),o("div",OP,[o("label",xP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),ee(o("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":E[25]||(E[25]=T=>O.offlineWindowMinutes=T)},null,512),[[Ae,O.offlineWindowMinutes,void 0,{number:!0}]]),o("p",PP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),o("div",NP,[o("div",vP,[o("label",MP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),ee(o("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":E[26]||(E[26]=T=>O.checkoutIpLimit=T)},null,512),[[Ae,O.checkoutIpLimit,void 0,{number:!0}]])]),o("div",IP,[o("label",kP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),ee(o("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":E[27]||(E[27]=T=>O.checkoutEmailLimit=T)},null,512),[[Ae,O.checkoutEmailLimit,void 0,{number:!0}]])]),o("div",wP,[o("label",$P,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),ee(o("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":E[28]||(E[28]=T=>O.checkoutSessionLimit=T)},null,512),[[Ae,O.checkoutSessionLimit,void 0,{number:!0}]])])]),o("div",LP,[o("div",DP,[o("label",YP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),ee(o("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":E[29]||(E[29]=T=>O.offlineIpLimit=T)},null,512),[[Ae,O.offlineIpLimit,void 0,{number:!0}]])]),o("div",UP,[o("label",XP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),ee(o("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":E[30]||(E[30]=T=>O.offlineEmailLimit=T)},null,512),[[Ae,O.offlineEmailLimit,void 0,{number:!0}]])])]),i(r).message?(g(),S("div",FP,l(i(r).message),1)):ae("",!0),o("div",GP,[o("button",{class:"nxp-ec-btn",type:"button",onClick:Te,disabled:i(r).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,VP),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,HP)])],32))])):p.value==="payments"?(g(),S("div",BP,[o("header",KP,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),o("div",jP,[o("button",{class:"nxp-ec-btn",type:"button",onClick:Ee,disabled:i(c).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,JP)])]),i(c).error?(g(),S("div",WP,l(i(c).error),1)):i(c).loading?(g(),S("div",qP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(g(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:xt(D,["prevent"])},[o("fieldset",null,[o("legend",zP,[o("span",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),o("a",{href:"https://docs.stripe.com/keys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SETUP_GUIDE","View Stripe setup documentation")},"  "+l(i(s)("COM_NXPEASYCART_SETTINGS_SETUP_GUIDE","Setup Guide")),9,QP)]),o("div",ZP,[o("label",e1,[ve(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable"))+" ",1),o("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_GET_STRIPE_KEYS","Get your API keys from Stripe Dashboard")},"  ",8,t1)]),ee(o("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[31]||(E[31]=T=>b.stripe.publishable_key=T),placeholder:i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_PK_PLACEHOLDER","pk_test_... or pk_live_...")},null,8,s1),[[Ae,b.stripe.publishable_key,void 0,{trim:!0}]]),o("p",n1,l(i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_PK_HELP","Find in Stripe Dashboard  Developers  API Keys. Starts with pk_test_ (test) or pk_live_ (live).")),1)]),o("div",o1,[o("label",a1,[ve(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret"))+" ",1),o("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_GET_STRIPE_KEYS","Get your API keys from Stripe Dashboard")},"  ",8,i1)]),ee(o("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":E[32]||(E[32]=T=>b.stripe.secret_key=T),autocomplete:"off",placeholder:i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_SK_PLACEHOLDER","sk_test_... or sk_live_...")},null,8,r1),[[Ae,b.stripe.secret_key,void 0,{trim:!0}]]),o("p",l1,l(i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_SK_HELP","Find in Stripe Dashboard  Developers  API Keys. Click 'Reveal' to view. Starts with sk_test_ (test) or sk_live_ (live).")),1)]),o("div",c1,[o("label",d1,[ve(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook"))+" ",1),o("a",{href:"https://dashboard.stripe.com/webhooks",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_CREATE_STRIPE_WEBHOOK","Create webhook in Stripe Dashboard")},"  ",8,u1)]),ee(o("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":E[33]||(E[33]=T=>b.stripe.webhook_secret=T),autocomplete:"off",placeholder:i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_WH_PLACEHOLDER","whsec_...")},null,8,p1),[[Ae,b.stripe.webhook_secret,void 0,{trim:!0}]]),o("p",_1,[ve(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Create webhook in Stripe Dashboard  Developers  Webhooks. Your webhook URL:",[],"settingsPaymentsStripeHelp"))+" ",1),o("code",f1,l(K.value)+"/index.php?option=com_nxpeasycart&task=webhook.stripe",1)])]),o("div",m1,[o("label",h1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ee(o("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":E[34]||(E[34]=T=>b.stripe.mode=T)},[o("option",g1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),o("option",E1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Ct,b.stripe.mode]])])]),o("fieldset",null,[o("legend",C1,[o("span",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),o("a",{href:"https://developer.paypal.com/api/rest/",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_SETUP_GUIDE","View PayPal setup documentation")},"  "+l(i(s)("COM_NXPEASYCART_SETTINGS_SETUP_GUIDE","Setup Guide")),9,A1)]),o("div",S1,[o("label",b1,[ve(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId"))+" ",1),o("a",{href:"https://developer.paypal.com/dashboard/applications/sandbox",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_GET_PAYPAL_CREDS","Get credentials from PayPal Developer Dashboard")},"  ",8,T1)]),ee(o("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[35]||(E[35]=T=>b.paypal.client_id=T)},null,512),[[Ae,b.paypal.client_id,void 0,{trim:!0}]]),o("p",y1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYPAL_CLIENT_ID_HELP","Find in PayPal Developer Dashboard  Apps & Credentials  Your App. Long alphanumeric string.")),1)]),o("div",R1,[o("label",O1,[ve(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret"))+" ",1),o("a",{href:"https://developer.paypal.com/dashboard/applications/sandbox",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_GET_PAYPAL_CREDS","Get credentials from PayPal Developer Dashboard")},"  ",8,x1)]),ee(o("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":E[36]||(E[36]=T=>b.paypal.client_secret=T),autocomplete:"off"},null,512),[[Ae,b.paypal.client_secret,void 0,{trim:!0}]]),o("p",P1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYPAL_CLIENT_SECRET_HELP","Find in PayPal Developer Dashboard  Apps & Credentials  Your App. Click 'Show' to reveal.")),1)]),o("div",N1,[o("label",v1,[ve(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook"))+" ",1),o("a",{href:"https://developer.paypal.com/api/rest/webhooks/",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_CREATE_PAYPAL_WEBHOOK","Learn about PayPal webhooks")},"  ",8,M1)]),ee(o("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[37]||(E[37]=T=>b.paypal.webhook_id=T),placeholder:i(s)("COM_NXPEASYCART_SETTINGS_PAYPAL_WH_PLACEHOLDER","WH-...")},null,8,I1),[[Ae,b.paypal.webhook_id,void 0,{trim:!0}]]),o("p",k1,[ve(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Create webhook in your PayPal app  Webhooks section. Required for signature verification. Your webhook URL:",[],"settingsPaymentsPayPalHelp"))+" ",1),o("code",w1,l(K.value)+"/index.php?option=com_nxpeasycart&task=webhook.paypal",1)])]),o("div",$1,[o("label",L1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ee(o("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":E[38]||(E[38]=T=>b.paypal.mode=T)},[o("option",D1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),o("option",Y1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Ct,b.paypal.mode]])])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),o("div",U1,[o("label",X1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),ee(o("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":E[39]||(E[39]=T=>b.cod.enabled=T)},null,512),[[ht,b.cod.enabled]])]),o("div",F1,[o("label",G1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),ee(o("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[40]||(E[40]=T=>b.cod.label=T),placeholder:"Cash on delivery"},null,512),[[Ae,b.cod.label,void 0,{trim:!0}]])])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),o("div",V1,[o("label",H1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),ee(o("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":E[41]||(E[41]=T=>b.bank_transfer.enabled=T)},null,512),[[ht,b.bank_transfer.enabled]])]),o("div",B1,[o("label",K1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),ee(o("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[42]||(E[42]=T=>b.bank_transfer.label=T),placeholder:"Bank transfer"},null,512),[[Ae,b.bank_transfer.label,void 0,{trim:!0}]])]),o("div",j1,[o("label",J1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),ee(o("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":E[43]||(E[43]=T=>b.bank_transfer.instructions=T),placeholder:i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,W1),[[Ae,b.bank_transfer.instructions]]),o("p",q1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),o("div",z1,[o("div",Q1,[o("label",Z1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),ee(o("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[44]||(E[44]=T=>b.bank_transfer.account_name=T)},null,512),[[Ae,b.bank_transfer.account_name,void 0,{trim:!0}]])]),o("div",eN,[o("label",tN,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),ee(o("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[45]||(E[45]=T=>b.bank_transfer.iban=T),maxlength:"34"},null,512),[[Ae,b.bank_transfer.iban,void 0,{trim:!0}]])]),o("div",sN,[o("label",nN,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),ee(o("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[46]||(E[46]=T=>b.bank_transfer.bic=T),maxlength:"11"},null,512),[[Ae,b.bank_transfer.bic,void 0,{trim:!0}]])])])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),o("div",oN,[o("label",aN,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),ee(o("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":E[47]||(E[47]=T=>_.paymentsConfigured=T)},null,512),[[ht,_.paymentsConfigured]]),o("p",iN,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),i(c).message?(g(),S("div",rN,l(i(c).message),1)):ae("",!0),o("div",lN,[o("button",{class:"nxp-ec-btn",type:"button",onClick:M,disabled:i(c).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,cN),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(c).saving},l(i(c).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,dN)])],32))])):p.value==="visual"?(g(),S("div",uN,[o("header",pN,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:U,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,_N)]),i(r).error?(g(),S("div",fN,l(i(r).error),1)):i(r).loading?(g(),S("div",mN,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(g(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:xt(z,["prevent"])},[o("p",hN,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),o("p",gN,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),o("div",EN,[o("div",CN,[o("label",AN,l(i(s)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),o("div",SN,[o("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:m.primaryColor||Y.value.primary,onInput:E[48]||(E[48]=T=>m.primaryColor=T.target.value)},null,40,bN),ee(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[49]||(E[49]=T=>m.primaryColor=T),placeholder:Y.value.primary,maxlength:"7"},null,8,TN),[[Ae,m.primaryColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:E[50]||(E[50]=T=>m.primaryColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",yN,[o("label",RN,l(i(s)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),o("div",ON,[o("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:m.textColor||Y.value.text,onInput:E[51]||(E[51]=T=>m.textColor=T.target.value)},null,40,xN),ee(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[52]||(E[52]=T=>m.textColor=T),placeholder:Y.value.text,maxlength:"7"},null,8,PN),[[Ae,m.textColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:E[53]||(E[53]=T=>m.textColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",NN,[o("label",vN,l(i(s)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),o("div",MN,[o("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:m.surfaceColor||Y.value.surface,onInput:E[54]||(E[54]=T=>m.surfaceColor=T.target.value)},null,40,IN),ee(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[55]||(E[55]=T=>m.surfaceColor=T),placeholder:Y.value.surface,maxlength:"7"},null,8,kN),[[Ae,m.surfaceColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:E[56]||(E[56]=T=>m.surfaceColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",wN,[o("label",$N,l(i(s)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),o("div",LN,[o("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:m.borderColor||Y.value.border,onInput:E[57]||(E[57]=T=>m.borderColor=T.target.value)},null,40,DN),ee(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[58]||(E[58]=T=>m.borderColor=T),placeholder:Y.value.border,maxlength:"7"},null,8,YN),[[Ae,m.borderColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:E[59]||(E[59]=T=>m.borderColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",UN,[o("label",XN,l(i(s)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),o("div",FN,[o("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:m.mutedColor||Y.value.muted,onInput:E[60]||(E[60]=T=>m.mutedColor=T.target.value)},null,40,GN),ee(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":E[61]||(E[61]=T=>m.mutedColor=T),placeholder:Y.value.muted,maxlength:"7"},null,8,VN),[[Ae,m.mutedColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:E[62]||(E[62]=T=>m.mutedColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),o("div",HN,[o("h4",null,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),o("div",{class:"nxp-ec-preview-box",style:Ht(te.value)},[o("button",BN,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),o("p",KN,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),o("p",jN,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i(r).message?(g(),S("div",JN,l(i(r).message),1)):ae("",!0),o("div",WN,[o("button",{class:"nxp-ec-btn",type:"button",onClick:ie,disabled:i(r).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,qN),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,zN)])],32))])):ae("",!0)]))}},[["__scopeId","data-v-2ef89dd2"]]),ZN={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},ev={class:"nxp-ec-admin-panel__header"},tv={class:"nxp-ec-admin-panel__title"},sv={class:"nxp-ec-admin-panel__lead"},nv={class:"nxp-ec-admin-panel__actions"},ov=["disabled","title","aria-label"],av={class:"nxp-ec-sr-only"},iv={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},rv={key:1,class:"nxp-ec-admin-panel__loading"},lv={key:2,class:"nxp-ec-admin-panel__body"},cv={class:"nxp-ec-admin-panel__table"},dv={class:"nxp-ec-admin-table"},uv={scope:"col"},pv={scope:"col"},_v={scope:"col"},fv={scope:"col"},mv={scope:"col"},hv={scope:"col"},gv={key:0},Ev={colspan:"7"},Cv={scope:"row",class:"nxp-ec-admin-table__primary"},Av=["data-label"],Sv=["data-label"],bv=["data-label"],Tv=["data-label"],yv=["data-label"],Rv={class:"nxp-ec-admin-table__actions"},Ov=["onClick","title","aria-label"],xv={class:"nxp-ec-sr-only"},Pv=["onClick","title","aria-label"],Nv={class:"nxp-ec-sr-only"},vv={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Mv={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Iv={class:"nxp-ec-admin-panel__sidebar-header"},kv={id:"tax-modal-title"},wv=["title","aria-label"],$v={class:"nxp-ec-sr-only"},Lv={class:"nxp-ec-form-field"},Dv={class:"nxp-ec-form-label",for:"tax-name"},Yv=["placeholder"],Uv={class:"nxp-ec-form-help"},Xv={class:"nxp-ec-form-field"},Fv={class:"nxp-ec-form-label",for:"tax-country"},Gv=["placeholder"],Vv={class:"nxp-ec-form-help"},Hv={class:"nxp-ec-form-field"},Bv={class:"nxp-ec-form-label",for:"tax-region"},Kv=["placeholder"],jv={class:"nxp-ec-form-help"},Jv={class:"nxp-ec-form-field"},Wv={class:"nxp-ec-form-label",for:"tax-rate"},qv={class:"nxp-ec-input-group"},zv={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Qv={class:"nxp-ec-form-label",for:"tax-inclusive"},Zv={class:"nxp-ec-form-help"},eM={class:"nxp-ec-form-field"},tM={class:"nxp-ec-form-label",for:"tax-priority"},sM={class:"nxp-ec-form-help"},nM={class:"nxp-ec-modal__actions"},oM=["disabled"],aM=["disabled"],iM=["disabled"],rM=Nt({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=Qe(!1),c=et({id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0}),u=()=>a("refresh"),p=()=>{d(),r.value=!0},_=I=>{Object.assign(c,{id:I.id,name:I.name||"",country:I.country,region:I.region,rate:I.rate,inclusive:I.inclusive,priority:I.priority}),r.value=!0},A=()=>{r.value=!1,d()},d=()=>{Object.assign(c,{id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0})},R=()=>{a("save",{id:c.id||void 0,name:c.name||null,country:c.country,region:c.region,rate:c.rate,inclusive:c.inclusive,priority:c.priority})},h=I=>{const N=s("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(N)&&(a("delete",[I.id]),c.id===I.id&&A())};return ct(()=>n.state.saving,(I,N)=>{N&&!I&&!n.state.error&&A()}),(I,N)=>(g(),S("section",ZN,[o("header",ev,[o("div",null,[o("h2",tv,l(i(s)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),o("p",sv,l(i(s)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),o("div",nv,[o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":i(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[N[7]||(N[7]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",av,l(i(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,ov),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[N[8]||(N[8]=o("i",{class:"fa-solid fa-plus"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(g(),S("div",iv,l(e.state.error),1)):ae("",!0),e.state.loading?(g(),S("div",rv,l(i(s)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):ae("",!0),e.state.loading?ae("",!0):(g(),S("div",lv,[o("div",cv,[o("table",dv,[o("thead",null,[o("tr",null,[o("th",uv,l(i(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),o("th",pv,l(i(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),o("th",_v,l(i(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),o("th",fv,l(i(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),o("th",mv,l(i(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),o("th",hv,l(i(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),N[9]||(N[9]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?ae("",!0):(g(),S("tr",gv,[o("td",Ev,l(i(s)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(g(!0),S(Le,null,Ve(e.state.items,O=>{var b;return g(),S("tr",{key:O.id,class:Ke({"is-active":c.id===O.id})},[o("th",Cv,l(O.name||i(s)("COM_NXPEASYCART_TAX_DEFAULT_NAME","Tax",[],"taxDefaultName")),1),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_COUNTRY","Country")},l(O.country),9,Av),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_REGION","Region")},l(O.region||""),9,Sv),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_RATE","Rate")},l(((b=O.rate)!=null?b:0).toFixed(2))+"%",9,bv),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[o("span",{class:Ke(["nxp-ec-badge",{"is-active":O.inclusive}])},[o("i",{class:Ke(O.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ve(" "+l(O.inclusive?i(s)("JYES","Yes"):i(s)("JNO","No")),1)],2)],8,Tv),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},l(O.priority),9,yv),o("td",Rv,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:m=>_(O),title:i(s)("JEDIT","Edit"),"aria-label":i(s)("JEDIT","Edit")},[N[10]||(N[10]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",xv,l(i(s)("JEDIT","Edit")),1)],8,Ov),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:m=>h(O),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[N[11]||(N[11]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",Nv,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Pv)])],2)}),128))])])]),r.value?(g(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"tax-modal-title",onKeydown:Pt(A,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:A}),o("div",vv,[o("aside",Mv,[o("header",Iv,[o("h3",kv,l(c.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:A,title:i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[N[12]||(N[12]=o("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),o("span",$v,l(i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,wv)]),o("form",{class:"nxp-ec-form",onSubmit:xt(R,["prevent"]),autocomplete:"off"},[o("div",Lv,[o("label",Dv,l(i(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),ee(o("input",{id:"tax-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[0]||(N[0]=O=>c.name=O),maxlength:"100",placeholder:i(s)("COM_NXPEASYCART_TAX_NAME_PLACEHOLDER","e.g. VAT, GST, Sales Tax",[],"taxNamePlaceholder")},null,8,Yv),[[Ae,c.name,void 0,{trim:!0}]]),o("p",Uv,l(i(s)("COM_NXPEASYCART_TAX_NAME_HELP",'Optional display name shown to customers. Falls back to "Tax" if empty.',[],"taxNameHelp")),1)]),o("div",Xv,[o("label",Fv,l(i(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),ee(o("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[1]||(N[1]=O=>c.country=O),maxlength:"2",required:"",placeholder:i(s)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,Gv),[[Ae,c.country,void 0,{trim:!0}]]),o("p",Vv,l(i(s)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),o("div",Hv,[o("label",Bv,l(i(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),ee(o("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[2]||(N[2]=O=>c.region=O),placeholder:i(s)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,Kv),[[Ae,c.region,void 0,{trim:!0}]]),o("p",jv,l(i(s)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),o("div",Jv,[o("label",Wv,l(i(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),o("div",qv,[ee(o("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":N[3]||(N[3]=O=>c.rate=O),required:""},null,512),[[Ae,c.rate,void 0,{number:!0}]]),N[13]||(N[13]=o("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),o("div",zv,[o("label",Qv,l(i(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),ee(o("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":N[4]||(N[4]=O=>c.inclusive=O)},null,512),[[ht,c.inclusive]]),o("p",Zv,l(i(s)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),o("div",eM,[o("label",tM,l(i(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),ee(o("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":N[5]||(N[5]=O=>c.priority=O)},null,512),[[Ae,c.priority,void 0,{number:!0}]]),o("p",sM,l(i(s)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),o("footer",nM,[o("button",{class:"nxp-ec-btn",type:"button",onClick:A,disabled:e.state.saving},l(i(s)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,oM),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},l(e.state.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,aM)]),c.id?(g(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:N[6]||(N[6]=O=>h(c)),disabled:e.state.saving},[N[14]||(N[14]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,iM)):ae("",!0)],32)])])],32)):ae("",!0)]))]))}},[["__scopeId","data-v-2ed24c88"]]),lM={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},cM={class:"nxp-ec-admin-panel__header"},dM={class:"nxp-ec-admin-panel__title"},uM={class:"nxp-ec-admin-panel__lead"},pM={class:"nxp-ec-admin-panel__actions"},_M=["disabled","title","aria-label"],fM={class:"nxp-ec-sr-only"},mM={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hM={key:1,class:"nxp-ec-admin-panel__loading"},gM={key:2,class:"nxp-ec-admin-panel__body"},EM={class:"nxp-ec-admin-panel__table"},CM={class:"nxp-ec-admin-table"},AM={scope:"col"},SM={scope:"col"},bM={scope:"col"},TM={scope:"col"},yM={scope:"col"},RM={scope:"col"},OM={key:0},xM={colspan:"7"},PM={scope:"row",class:"nxp-ec-admin-table__primary"},NM=["data-label"],vM=["data-label"],MM=["data-label"],IM=["data-label"],kM=["data-label"],wM={class:"nxp-ec-admin-table__actions"},$M=["onClick","title","aria-label"],LM={class:"nxp-ec-sr-only"},DM=["onClick","title","aria-label"],YM={class:"nxp-ec-sr-only"},UM={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},XM={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},FM={class:"nxp-ec-admin-panel__sidebar-header"},GM={id:"shipping-modal-title"},VM=["title","aria-label"],HM={class:"nxp-ec-sr-only"},BM={class:"nxp-ec-form-field"},KM={class:"nxp-ec-form-label",for:"shipping-name"},jM=["placeholder"],JM={class:"nxp-ec-form-field"},WM={class:"nxp-ec-form-label",for:"shipping-type"},qM={value:"flat"},zM={value:"free_over"},QM={class:"nxp-ec-form-help"},ZM={class:"nxp-ec-form-field"},eI={class:"nxp-ec-form-label",for:"shipping-price"},tI={class:"nxp-ec-input-group"},sI={class:"nxp-ec-input-group__prefix"},nI={key:0,class:"nxp-ec-form-field"},oI={class:"nxp-ec-form-label",for:"shipping-threshold"},aI={class:"nxp-ec-input-group"},iI={class:"nxp-ec-input-group__prefix"},rI={class:"nxp-ec-form-help"},lI={class:"nxp-ec-form-field"},cI={class:"nxp-ec-form-label",for:"shipping-regions"},dI=["placeholder"],uI={class:"nxp-ec-form-help"},pI={class:"nxp-ec-form-field nxp-ec-form-field--inline"},_I={class:"nxp-ec-form-label",for:"shipping-active"},fI={class:"nxp-ec-form-help"},mI={class:"nxp-ec-modal__actions"},hI=["disabled"],gI=["disabled"],EI=["disabled"],CI=Nt({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=ye(()=>{const b=n.baseCurrency;return typeof b=="string"&&b.trim()!==""?b.trim().toUpperCase():"USD"}),c=Qe(!1),u=et({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),p=()=>a("refresh"),_=()=>{R(),c.value=!0},A=b=>{var m,Y,L;Object.assign(u,{id:b.id,name:b.name,type:b.type,price:(Y=b.price)!=null?Y:((m=b.price_cents)!=null?m:0)/100,threshold:b.threshold!==null&&b.threshold!==void 0?b.threshold:((L=b.threshold_cents)!=null?L:0)/100,regions:b.regions&&b.regions.length?b.regions.join(", "):"",active:b.active}),c.value=!0},d=()=>{c.value=!1,R()},R=()=>{Object.assign(u,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},h=()=>{const b={id:u.id||void 0,name:u.name,type:u.type,price:u.price,threshold:u.type==="free_over"?u.threshold:0,regions:u.regions,active:u.active};a("save",b)},I=b=>{const m=s("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(m)&&(a("delete",[b.id]),u.id===b.id&&d())};ct(()=>n.state.saving,(b,m)=>{m&&!b&&!n.state.error&&d()});const N=(b,m)=>{const Y=(Number(b)||0)/100,L=(m||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:L}).format(Y)}catch(K){return`${L} ${Y.toFixed(2)}`}},O=b=>b==="free_over"?s("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):s("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(b,m)=>(g(),S("section",lM,[o("header",cM,[o("div",null,[o("h2",dM,l(i(s)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),o("p",uM,l(i(s)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),o("div",pM,[o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":i(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[m[7]||(m[7]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",fM,l(i(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,_M),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_},[m[8]||(m[8]=o("i",{class:"fa-solid fa-plus"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(g(),S("div",mM,l(e.state.error),1)):ae("",!0),e.state.loading?(g(),S("div",hM,l(i(s)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):ae("",!0),e.state.loading?ae("",!0):(g(),S("div",gM,[o("div",EM,[o("table",CM,[o("thead",null,[o("tr",null,[o("th",AM,l(i(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),o("th",SM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),o("th",bM,l(i(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),o("th",TM,l(i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),o("th",yM,l(i(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),o("th",RM,l(i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),m[9]||(m[9]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?ae("",!0):(g(),S("tr",OM,[o("td",xM,l(i(s)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(g(!0),S(Le,null,Ve(e.state.items,Y=>(g(),S("tr",{key:Y.id,class:Ke({"is-active":u.id===Y.id})},[o("th",PM,l(Y.name),1),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},l(O(Y.type)),9,NM),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},l(N(Y.price_cents,r.value)),9,vM),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},l(Y.type==="free_over"?N(Y.threshold_cents,r.value):""),9,MM),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},l(Y.regions&&Y.regions.length?Y.regions.join(", "):i(s)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,IM),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[o("span",{class:Ke(["nxp-ec-badge",{"is-active":Y.active}])},[o("i",{class:Ke(Y.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ve(" "+l(Y.active?i(s)("JYES","Yes"):i(s)("JNO","No")),1)],2)],8,kM),o("td",wM,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:L=>A(Y),title:i(s)("JEDIT","Edit"),"aria-label":i(s)("JEDIT","Edit")},[m[10]||(m[10]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",LM,l(i(s)("JEDIT","Edit")),1)],8,$M),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:L=>I(Y),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[m[11]||(m[11]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",YM,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,DM)])],2))),128))])])]),c.value?(g(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"shipping-modal-title",onKeydown:Pt(d,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:d}),o("div",UM,[o("aside",XM,[o("header",FM,[o("h3",GM,l(u.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:d,title:i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[m[12]||(m[12]=o("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),o("span",HM,l(i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,VM)]),o("form",{class:"nxp-ec-form",onSubmit:xt(h,["prevent"]),autocomplete:"off"},[o("div",BM,[o("label",KM,l(i(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),ee(o("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[0]||(m[0]=Y=>u.name=Y),required:"",placeholder:i(s)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,jM),[[Ae,u.name,void 0,{trim:!0}]])]),o("div",JM,[o("label",WM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),ee(o("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":m[1]||(m[1]=Y=>u.type=Y)},[o("option",qM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),o("option",zM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[Ct,u.type]]),o("p",QM,l(u.type==="free_over"?i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),o("div",ZM,[o("label",eI,l(i(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),o("div",tI,[o("span",sI,l(r.value),1),ee(o("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[2]||(m[2]=Y=>u.price=Y),required:""},null,512),[[Ae,u.price,void 0,{number:!0}]])])]),u.type==="free_over"?(g(),S("div",nI,[o("label",oI,l(i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),o("div",aI,[o("span",iI,l(r.value),1),ee(o("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[3]||(m[3]=Y=>u.threshold=Y),required:""},null,512),[[Ae,u.threshold,void 0,{number:!0}]])]),o("p",rI,l(i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):ae("",!0),o("div",lI,[o("label",cI,l(i(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),ee(o("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[4]||(m[4]=Y=>u.regions=Y),placeholder:i(s)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,dI),[[Ae,u.regions,void 0,{trim:!0}]]),o("p",uI,l(i(s)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),o("div",pI,[o("label",_I,l(i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),ee(o("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[5]||(m[5]=Y=>u.active=Y)},null,512),[[ht,u.active]]),o("p",fI,l(i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),o("footer",mI,[o("button",{class:"nxp-ec-btn",type:"button",onClick:d,disabled:e.state.saving},l(i(s)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,hI),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},l(e.state.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,gI)]),u.id?(g(),S("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:m[6]||(m[6]=Y=>I(u)),disabled:e.state.saving},[m[13]||(m[13]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,EI)):ae("",!0)],32)])])],32)):ae("",!0)]))]))}},[["__scopeId","data-v-e9835937"]]),AI={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},SI={class:"nxp-ec-admin-panel__header"},bI={class:"nxp-ec-admin-panel__title"},TI={class:"nxp-ec-admin-panel__lead"},yI={class:"nxp-ec-admin-panel__actions"},RI=["placeholder","aria-label"],OI=["value"],xI={value:""},PI=["value"],NI=["disabled","title","aria-label"],vI={class:"nxp-ec-sr-only"},MI={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},II={key:1,class:"nxp-ec-admin-panel__body"},kI={key:2,class:"nxp-ec-admin-panel__body"},wI={class:"nxp-ec-admin-panel__table"},$I={class:"nxp-ec-admin-table"},LI={scope:"col"},DI={scope:"col"},YI={scope:"col"},UI={scope:"col"},XI={scope:"col"},FI={key:0},GI={colspan:"5"},VI=["data-label"],HI=["data-label"],BI={class:"nxp-ec-log-entity"},KI={class:"nxp-ec-log-entity-id"},jI=["data-label"],JI=["data-label"],WI=["data-label"],qI={class:"nxp-ec-log-context"},zI={key:0,class:"nxp-ec-admin-pagination"},QI=["disabled"],ZI={class:"nxp-ec-admin-pagination__status"},ek=["disabled"],tk=["title"],sk=Nt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=n.state,c=ye(()=>{const O=new Set;return Array.isArray(r.items)&&r.items.forEach(b=>{b!=null&&b.entity_type&&O.add(b.entity_type)}),r.entity&&O.add(r.entity),Array.from(O).sort()}),u=()=>a("refresh"),p=()=>a("search"),_=O=>a("filter",O),A=O=>a("page",O),d=O=>{if(!O)return"";try{const b=new Date(O.replace(" ","T"));if(!Number.isNaN(b.getTime()))return b.toLocaleString()}catch(b){}return O},R=O=>{if(!O)return s("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(O){case"order":return s("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return s("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return s("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return s("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return O.charAt(0).toUpperCase()+O.slice(1)}},h=O=>{if(!(O!=null&&O.user))return s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const b=O.user.name||"",m=O.user.username||"";return b&&m?`${b} (${m})`:b||m||s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},I=O=>{if(!O||Array.isArray(O)&&!O.length||typeof O=="object"&&!Object.keys(O).length)return"";try{return JSON.stringify(O,null,2)}catch(b){return String(O)}},N=O=>{if(!O)return"";try{const b=new Date(O),Y=new Date-b,L=Math.floor(Y/1e3),K=Math.floor(L/60),te=Math.floor(K/60);return L<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):K<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[K]):te<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[te]):b.toLocaleString()}catch(b){return O}};return(O,b)=>(g(),S("section",AI,[o("header",SI,[o("div",null,[o("h2",bI,l(i(s)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),o("p",TI,l(i(s)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),o("div",yI,[ee(o("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":b[0]||(b[0]=m=>i(r).search=m),placeholder:i(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":i(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:Pt(p,["enter"])},null,40,RI),[[Ae,i(r).search]]),o("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:i(r).entity,onChange:b[1]||(b[1]=m=>_(m.target.value)),"aria-label":"Entity filter"},[o("option",xI,l(i(s)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(g(!0),S(Le,null,Ve(c.value,m=>(g(),S("option",{key:m,value:m},l(R(m)),9,PI))),128))],40,OI),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:i(r).loading,title:i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[b[4]||(b[4]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",vI,l(i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,NI)])]),i(r).error?(g(),S("div",MI,l(i(r).error),1)):ae("",!0),i(r).loading?(g(),S("div",II,[_t(pn,{type:"table",rows:5,columns:5})])):ae("",!0),i(r).loading?ae("",!0):(g(),S("div",kI,[o("div",wI,[o("table",$I,[o("thead",null,[o("tr",null,[o("th",LI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),o("th",DI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),o("th",YI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),o("th",UI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),o("th",XI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),o("tbody",null,[i(r).items.length?ae("",!0):(g(),S("tr",FI,[o("td",GI,l(i(s)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(g(!0),S(Le,null,Ve(i(r).items,m=>(g(),S("tr",{key:m.id},[o("td",{class:"nxp-ec-admin-table__primary","data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},l(d(m.created)),9,VI),o("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[o("span",BI,l(R(m.entity_type)),1),o("span",KI,"#"+l(m.entity_id),1)],8,HI),o("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},l(m.action),9,jI),o("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},l(h(m)),9,JI),o("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[o("pre",qI,l(I(m.context)),1)],8,WI)]))),128))])]),i(r).pagination.pages>1?(g(),S("div",zI,[o("button",{class:"nxp-ec-btn",type:"button",disabled:i(r).pagination.current<=1,onClick:b[2]||(b[2]=m=>A(i(r).pagination.current-1))},"  ",8,QI),o("span",ZI,l(i(r).pagination.current)+" / "+l(i(r).pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:i(r).pagination.current>=i(r).pagination.pages,onClick:b[3]||(b[3]=m=>A(i(r).pagination.current+1))},"  ",8,ek)])):ae("",!0)]),i(r).lastUpdated?(g(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:i(r).lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(N(i(r).lastUpdated)),9,tk)):ae("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),nk={class:"nxp-ec-admin-panel nxp-ec-admin-panel--import-export"},ok={class:"nxp-ec-admin-panel__header"},ak={class:"nxp-ec-admin-panel__title"},ik={class:"nxp-ec-admin-panel__lead"},rk={class:"nxp-ec-admin-panel__actions"},lk=["disabled","title","aria-label"],ck={class:"nxp-ec-sr-only"},dk={class:"nxp-ec-tabs",role:"tablist"},uk=["aria-selected"],pk=["aria-selected"],_k={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fk={key:1,class:"nxp-ec-admin-panel__loading"},mk={key:2,class:"nxp-ec-admin-panel__body",role:"tabpanel"},hk={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--info nxp-ec-import-backup-notice"},gk={key:1,class:"nxp-ec-import-upload"},Ek={class:"nxp-ec-import-upload__title"},Ck={class:"nxp-ec-import-upload__subtitle"},Ak={class:"nxp-ec-btn nxp-ec-btn--primary"},Sk=["disabled"],bk={class:"nxp-ec-import-upload__help"},Tk={key:2,class:"nxp-ec-import-configure"},yk={class:"nxp-ec-import-file-info"},Rk={class:"nxp-ec-import-file-info__details"},Ok=["title"],xk={class:"nxp-ec-form-field"},Pk={class:"nxp-ec-form-label",for:"import-platform"},Nk={value:""},vk=["value"],Mk={key:0,class:"nxp-ec-form-help"},Ik={key:0,class:"nxp-ec-import-preview"},kk={class:"nxp-ec-import-preview__table-wrapper"},wk={class:"nxp-ec-admin-table nxp-ec-admin-table--sm"},$k={class:"nxp-ec-import-actions"},Lk=["disabled"],Dk={key:3,class:"nxp-ec-import-progress"},Yk={class:"nxp-ec-progress-card"},Uk={class:"nxp-ec-progress-card__header"},Xk={class:"nxp-ec-progress-bar"},Fk={class:"nxp-ec-progress-card__stats"},Gk={class:"nxp-ec-progress-stat"},Vk={class:"nxp-ec-progress-stat__value"},Hk={class:"nxp-ec-progress-stat__label"},Bk={class:"nxp-ec-progress-stat nxp-ec-progress-stat--success"},Kk={class:"nxp-ec-progress-stat__value"},jk={class:"nxp-ec-progress-stat__label"},Jk={key:0,class:"nxp-ec-progress-stat nxp-ec-progress-stat--info"},Wk={class:"nxp-ec-progress-stat__value"},qk={class:"nxp-ec-progress-stat__label"},zk={key:1,class:"nxp-ec-progress-stat nxp-ec-progress-stat--warning"},Qk={class:"nxp-ec-progress-stat__value"},Zk={class:"nxp-ec-progress-stat__label"},e0={key:2,class:"nxp-ec-progress-stat nxp-ec-progress-stat--error"},t0={class:"nxp-ec-progress-stat__value"},s0={class:"nxp-ec-progress-stat__label"},n0={key:0,class:"nxp-ec-progress-errors"},o0={class:"nxp-ec-progress-card__actions"},a0={key:3,class:"nxp-ec-admin-panel__body",role:"tabpanel"},i0={key:0,class:"nxp-ec-export-configure"},r0={class:"nxp-ec-form-field"},l0={class:"nxp-ec-form-label",for:"export-platform"},c0=["value"],d0={class:"nxp-ec-form-help"},u0={class:"nxp-ec-export-actions"},p0=["disabled"],_0={key:1,class:"nxp-ec-export-progress"},f0={class:"nxp-ec-progress-card"},m0={class:"nxp-ec-progress-card__header"},h0={class:"nxp-ec-progress-bar"},g0={class:"nxp-ec-progress-card__stats"},E0={class:"nxp-ec-progress-stat"},C0={class:"nxp-ec-progress-stat__value"},A0={class:"nxp-ec-progress-stat__label"},S0={class:"nxp-ec-progress-card__actions"},b0=Nt({__name:"ImportExportPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","upload-file","start-import","cancel-import","reset-import","start-export","cancel-export","download-export","reset-export"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=Qe("import"),c=()=>a("refresh"),u=te=>{var Ne;const q=(Ne=te.target.files)==null?void 0:Ne[0];q&&a("upload-file",q)},p=te=>{var Ne,ke;const q=(ke=(Ne=te.dataTransfer)==null?void 0:Ne.files)==null?void 0:ke[0];q&&a("upload-file",q)},_=()=>a("start-import"),A=()=>a("cancel-import"),d=()=>a("reset-import"),R=()=>a("start-export"),h=()=>a("cancel-export"),I=()=>a("download-export"),N=()=>a("reset-export"),O=te=>{if(!te)return"0 B";const q=["B","KB","MB","GB"];let Ne=0;for(;te>=1024&&Ne<q.length-1;)te/=1024,Ne++;return`${te.toFixed(Ne>0?1:0)} ${q[Ne]}`},b=(te,q)=>te?te.length<=q?te:te.substring(0,q)+"...":"",m=te=>["pending","processing","running"].includes(te),Y=te=>{switch(te){case"completed":return"fa-solid fa-check-circle nxp-ec-text-success";case"failed":return"fa-solid fa-times-circle nxp-ec-text-danger";case"cancelled":return"fa-solid fa-ban nxp-ec-text-warning";default:return"fa-solid fa-spinner fa-spin"}},L=te=>{switch(te){case"completed":return s("COM_NXPEASYCART_STATUS_COMPLETED","Completed",[],"statusCompleted");case"failed":return s("COM_NXPEASYCART_STATUS_FAILED","Failed",[],"statusFailed");case"cancelled":return s("COM_NXPEASYCART_STATUS_CANCELLED","Cancelled",[],"statusCancelled");case"processing":case"running":return s("COM_NXPEASYCART_STATUS_PROCESSING","Processing...",[],"statusProcessing");default:return s("COM_NXPEASYCART_STATUS_PENDING","Pending...",[],"statusPending")}},K=te=>{switch(te){case"completed":return"nxp-ec-progress-bar__fill--success";case"failed":return"nxp-ec-progress-bar__fill--danger";case"cancelled":return"nxp-ec-progress-bar__fill--warning";default:return""}};return(te,q)=>{var Ne,ke;return g(),S("section",nk,[o("header",ok,[o("div",null,[o("h2",ak,l(i(s)("COM_NXPEASYCART_IMPORT_EXPORT_TITLE","Import / Export",[],"importExportTitle")),1),o("p",ik,l(i(s)("COM_NXPEASYCART_IMPORT_EXPORT_LEAD","Migrate products from other platforms or backup your catalogue.",[],"importExportLead")),1)]),o("div",rk,[o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:c,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh"),"aria-label":i(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")},[q[6]||(q[6]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",ck,l(i(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")),1)],8,lk)])]),o("nav",dk,[o("button",{role:"tab","aria-selected":r.value==="import",class:Ke(["nxp-ec-tabs__tab",{"is-active":r.value==="import"}]),onClick:q[0]||(q[0]=v=>r.value="import")},[q[7]||(q[7]=o("i",{class:"fa-solid fa-file-import","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_IMPORT","Import",[],"import")),1)],10,uk),o("button",{role:"tab","aria-selected":r.value==="export",class:Ke(["nxp-ec-tabs__tab",{"is-active":r.value==="export"}]),onClick:q[1]||(q[1]=v=>r.value="export")},[q[8]||(q[8]=o("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_EXPORT","Export",[],"export")),1)],10,pk)]),e.state.error?(g(),S("div",_k,l(e.state.error),1)):ae("",!0),e.state.loading?(g(),S("div",fk,l(i(s)("COM_NXPEASYCART_LOADING","Loading...",[],"loading")),1)):ae("",!0),!e.state.loading&&r.value==="import"?(g(),S("div",mk,[!e.state.importFileId&&!e.state.importJobId?(g(),S("div",hk,[q[10]||(q[10]=o("i",{class:"fa-solid fa-circle-info","aria-hidden":"true"},null,-1)),o("div",null,[o("strong",null,l(i(s)("COM_NXPEASYCART_IMPORT_BACKUP_TITLE","Backup recommended",[],"importBackupTitle")),1),o("p",null,l(i(s)("COM_NXPEASYCART_IMPORT_BACKUP_TEXT","Before importing, we recommend exporting your current catalogue as a backup. Switch to the Export tab to create a backup first.",[],"importBackupText")),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--sm",type:"button",onClick:q[2]||(q[2]=v=>r.value="export")},[q[9]||(q[9]=o("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_IMPORT_GO_TO_EXPORT","Go to Export",[],"importGoToExport")),1)])])])):ae("",!0),e.state.importFileId?e.state.importFileId&&!e.state.importJobId?(g(),S("div",Tk,[o("div",yk,[q[14]||(q[14]=o("div",{class:"nxp-ec-import-file-info__icon"},[o("i",{class:"fa-solid fa-file-csv","aria-hidden":"true"})],-1)),o("div",Rk,[o("strong",null,l(e.state.importFilename),1),o("span",null,l(O(e.state.importFileSize)),1),o("span",null,l(e.state.importRowCount)+" "+l(i(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:d,title:i(s)("COM_NXPEASYCART_IMPORT_CHANGE_FILE","Change file",[],"importChangeFile")},[...q[13]||(q[13]=[o("i",{class:"fa-solid fa-xmark","aria-hidden":"true"},null,-1)])],8,Ok)]),o("div",xk,[o("label",Pk,l(i(s)("COM_NXPEASYCART_IMPORT_PLATFORM","Source platform",[],"importPlatform")),1),ee(o("select",{id:"import-platform",class:"nxp-ec-form-select","onUpdate:modelValue":q[4]||(q[4]=v=>e.state.importSelectedPlatform=v)},[o("option",Nk,l(i(s)("COM_NXPEASYCART_IMPORT_SELECT_PLATFORM","Select platform...",[],"importSelectPlatform")),1),(g(!0),S(Le,null,Ve(e.state.platforms,v=>(g(),S("option",{key:v.id,value:v.id},l(v.name)+" "+l(v.id===e.state.importDetectedPlatform?"(detected)":""),9,vk))),128))],512),[[Ct,e.state.importSelectedPlatform]]),e.state.importDetectedPlatform?(g(),S("p",Mk,[q[15]||(q[15]=o("i",{class:"fa-solid fa-check-circle","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_IMPORT_DETECTED","Auto-detected from CSV headers",[],"importDetected")),1)])):ae("",!0)]),e.state.importPreview.length?(g(),S("div",Ik,[o("h4",null,l(i(s)("COM_NXPEASYCART_IMPORT_PREVIEW","Preview",[],"importPreview")),1),o("div",kk,[o("table",wk,[o("thead",null,[o("tr",null,[(g(!0),S(Le,null,Ve(e.state.importHeaders,v=>(g(),S("th",{key:v,scope:"col"},l(v),1))),128))])]),o("tbody",null,[(g(!0),S(Le,null,Ve(e.state.importPreview.slice(0,3),(v,Ye)=>(g(),S("tr",{key:Ye},[(g(!0),S(Le,null,Ve(e.state.importHeaders,De=>(g(),S("td",{key:De},l(b(v[De],30)),1))),128))]))),128))])])])])):ae("",!0),o("div",$k,[o("button",{class:"nxp-ec-btn",type:"button",onClick:d},l(i(s)("COM_NXPEASYCART_CANCEL","Cancel",[],"cancel")),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_,disabled:!e.state.importSelectedPlatform||e.state.importStarting},[q[16]||(q[16]=o("i",{class:"fa-solid fa-play","aria-hidden":"true"},null,-1)),ve(" "+l(e.state.importStarting?i(s)("COM_NXPEASYCART_IMPORT_STARTING","Starting...",[],"importStarting"):i(s)("COM_NXPEASYCART_IMPORT_START","Start import",[],"importStart")),1)],8,Lk)])])):e.state.importJobId&&e.state.importProgress?(g(),S("div",Dk,[o("div",Yk,[o("div",Uk,[o("h4",null,[o("i",{class:Ke(Y(e.state.importProgress.status)),"aria-hidden":"true"},null,2),ve(" "+l(L(e.state.importProgress.status)),1)])]),o("div",Xk,[o("div",{class:Ke(["nxp-ec-progress-bar__fill",K(e.state.importProgress.status)]),style:Ht({width:e.state.importProgress.percent+"%"})},null,6)]),o("div",Fk,[o("div",Gk,[o("span",Vk,l(e.state.importProgress.processed_rows),1),o("span",Hk," / "+l(e.state.importProgress.total_rows)+" "+l(i(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),o("div",Bk,[o("span",Kk,l(e.state.importProgress.imported_products),1),o("span",jk,l(i(s)("COM_NXPEASYCART_IMPORT_PRODUCTS","products",[],"importProducts")),1)]),e.state.importProgress.imported_variants?(g(),S("div",Jk,[o("span",Wk,l(e.state.importProgress.imported_variants),1),o("span",qk,l(i(s)("COM_NXPEASYCART_IMPORT_VARIANTS","variants",[],"importVariants")),1)])):ae("",!0),e.state.importProgress.skipped_rows?(g(),S("div",zk,[o("span",Qk,l(e.state.importProgress.skipped_rows),1),o("span",Zk,l(i(s)("COM_NXPEASYCART_IMPORT_SKIPPED","skipped",[],"importSkipped")),1)])):ae("",!0),(Ne=e.state.importProgress.errors)!=null&&Ne.length?(g(),S("div",e0,[o("span",t0,l(e.state.importProgress.errors.length),1),o("span",s0,l(i(s)("COM_NXPEASYCART_IMPORT_ERRORS","errors",[],"importErrors")),1)])):ae("",!0)]),(ke=e.state.importProgress.errors)!=null&&ke.length?(g(),S("div",n0,[o("details",null,[o("summary",null,l(i(s)("COM_NXPEASYCART_IMPORT_VIEW_ERRORS","View errors",[],"importViewErrors")),1),o("ul",null,[(g(!0),S(Le,null,Ve(e.state.importProgress.errors.slice(0,10),(v,Ye)=>(g(),S("li",{key:Ye},l(v),1))),128))])])])):ae("",!0),o("div",o0,[m(e.state.importProgress.status)?(g(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:A},[q[17]||(q[17]=o("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_IMPORT_CANCEL","Cancel import",[],"importCancel")),1)])):(g(),S("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:d},[q[18]||(q[18]=o("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_IMPORT_NEW","New import",[],"importNew")),1)]))])])])):ae("",!0):(g(),S("div",gk,[o("div",{class:"nxp-ec-import-upload__dropzone",onDragover:q[3]||(q[3]=xt(()=>{},["prevent"])),onDrop:xt(p,["prevent"])},[q[12]||(q[12]=o("i",{class:"fa-solid fa-cloud-arrow-up nxp-ec-import-upload__icon","aria-hidden":"true"},null,-1)),o("p",Ek,l(i(s)("COM_NXPEASYCART_IMPORT_DROP_FILE","Drop CSV file here",[],"importDropFile")),1),o("p",Ck,l(i(s)("COM_NXPEASYCART_IMPORT_OR","or",[],"importOr")),1),o("label",Ak,[q[11]||(q[11]=o("i",{class:"fa-solid fa-folder-open","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_IMPORT_BROWSE","Browse files",[],"importBrowse"))+" ",1),o("input",{type:"file",accept:".csv,text/csv,application/csv",class:"nxp-ec-sr-only",onChange:u,disabled:e.state.importUploading},null,40,Sk)]),o("p",bk,l(i(s)("COM_NXPEASYCART_IMPORT_FILE_HELP","Supported: CSV files up to 10MB",[],"importFileHelp")),1)],32)]))])):ae("",!0),!e.state.loading&&r.value==="export"?(g(),S("div",a0,[e.state.exportJobId?e.state.exportProgress?(g(),S("div",_0,[o("div",f0,[o("div",m0,[o("h4",null,[o("i",{class:Ke(Y(e.state.exportProgress.status)),"aria-hidden":"true"},null,2),ve(" "+l(L(e.state.exportProgress.status)),1)])]),o("div",h0,[o("div",{class:Ke(["nxp-ec-progress-bar__fill",K(e.state.exportProgress.status)]),style:Ht({width:e.state.exportProgress.percent+"%"})},null,6)]),o("div",g0,[o("div",E0,[o("span",C0,l(e.state.exportProgress.processed_rows),1),o("span",A0," / "+l(e.state.exportProgress.total_rows)+" "+l(i(s)("COM_NXPEASYCART_EXPORT_PRODUCTS","products",[],"exportProducts")),1)])]),o("div",S0,[m(e.state.exportProgress.status)?(g(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:h},[q[20]||(q[20]=o("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_EXPORT_CANCEL","Cancel export",[],"exportCancel")),1)])):(g(),S(Le,{key:1},[e.state.exportProgress.status==="completed"?(g(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:I},[q[21]||(q[21]=o("i",{class:"fa-solid fa-download","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_EXPORT_DOWNLOAD","Download CSV",[],"exportDownload")),1)])):ae("",!0),o("button",{class:"nxp-ec-btn",type:"button",onClick:N},[q[22]||(q[22]=o("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),ve(" "+l(i(s)("COM_NXPEASYCART_EXPORT_NEW","New export",[],"exportNew")),1)])],64))])])])):ae("",!0):(g(),S("div",i0,[o("div",r0,[o("label",l0,l(i(s)("COM_NXPEASYCART_EXPORT_FORMAT","Export format",[],"exportFormat")),1),ee(o("select",{id:"export-platform",class:"nxp-ec-form-select","onUpdate:modelValue":q[5]||(q[5]=v=>e.state.exportPlatform=v)},[(g(!0),S(Le,null,Ve(e.state.platforms,v=>(g(),S("option",{key:v.id,value:v.id},l(v.name),9,c0))),128))],512),[[Ct,e.state.exportPlatform]]),o("p",d0,l(i(s)("COM_NXPEASYCART_EXPORT_FORMAT_HELP","Choose Native format for backups or another platform format for migration.",[],"exportFormatHelp")),1)]),o("div",u0,[o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:R,disabled:e.state.exportStarting},[q[19]||(q[19]=o("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),ve(" "+l(e.state.exportStarting?i(s)("COM_NXPEASYCART_EXPORT_STARTING","Starting...",[],"exportStarting"):i(s)("COM_NXPEASYCART_EXPORT_START","Start export",[],"exportStart")),1)],8,p0)])]))])):ae("",!0)])}}},[["__scopeId","data-v-2e1e8381"]]),T0={key:0,class:"nxp-ec-onboarding"},y0={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},R0={class:"nxp-ec-onboarding__header"},O0={class:"nxp-ec-onboarding__title"},x0={class:"nxp-ec-onboarding__lead"},P0={class:"nxp-ec-onboarding__progress"},N0={class:"nxp-ec-onboarding__progress-bar"},v0={class:"nxp-ec-onboarding__progress-label"},M0={class:"nxp-ec-onboarding__steps"},I0={class:"nxp-ec-onboarding__step-main"},k0={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},w0={key:0,class:"fa-solid fa-circle-check"},$0={key:1,class:"fa-regular fa-circle"},L0={class:"nxp-ec-onboarding__step-actions"},D0=["onClick"],Y0=Nt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,n=t.translate,a=ye(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),s=ye(()=>`${a.value}%`),r=ye(()=>{const c=t.steps.filter(u=>u.completed).length;return n("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(c),String(t.steps.length)],"onboardingProgress")});return(c,u)=>e.visible?(g(),S("div",T0,[o("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>c.$emit("close"))}),o("section",y0,[o("header",R0,[o("div",null,[o("h2",O0,l(i(n)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),o("p",x0,l(i(n)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),o("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>c.$emit("close"))},l(i(n)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),o("div",P0,[o("div",N0,[o("span",{style:Ht({width:s.value})},null,4)]),o("span",v0,l(r.value),1)]),o("ol",M0,[(g(!0),S(Le,null,Ve(e.steps,p=>(g(),S("li",{key:p.id,class:Ke({"is-complete":p.completed})},[o("div",I0,[o("span",k0,[p.completed?(g(),S("span",w0)):(g(),S("span",$0))]),o("div",null,[o("h3",null,l(i(n)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),o("p",null,l(i(n)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),o("div",L0,[p.link?(g(),S("button",{key:0,type:"button",class:Ke(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:_=>c.$emit("navigate",p)},l(p.completed?i(n)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):i(n)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,D0)):ae("",!0)])],2))),128))])])])):ae("",!0)}},[["__scopeId","data-v-c2a94811"]]),U0=(e,t=[])=>{var s;if(!t.length)return e;const n=(s=window==null?void 0:window.Joomla)==null?void 0:s.sprintf;if(typeof n=="function")try{return n.call(window.Joomla,e,...t)}catch(r){}let a=String(e);return t.forEach(r=>{const c=r!=null?r:"";a=a.replace(/%[sd]/,String(c))}),a},X0=(e,t="",n=[])=>{var r;const a=(r=window==null?void 0:window.Joomla)==null?void 0:r.Text;let s=t||e;if(a&&typeof a._=="function"){const c=a._(e);c&&c!==e&&(s=c)}return U0(s,n)};function F0(e={}){const t=e||{},n=(s,r)=>{if(!s)return r;const c=t[s];return c!=null&&c!==""?c:r};return{__:(s,r="",c=[],u="")=>{const p=n(u,r);return X0(s,p,c)}}}const Mi=typeof window!="undefined"&&window.performance;function Ii(e){if(Mi)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function G0(e,t,n){if(!Mi)return null;try{performance.measure(e,t,n);const a=performance.getEntriesByName(e,"measure")[0];if(a)return a.duration}catch(a){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,a)}return null}const Fs=et({}),ki=3e5;function wi(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function es(e,t=ki){const n=Fs[e];return n?wi(n,t)?n.data:(delete Fs[e],null):null}function Kt(e,t){Fs[e]={data:t,timestamp:Date.now()}}function qe(e){delete Fs[e]}function $i(){const e={};return Object.keys(Fs).forEach(t=>{const n=Fs[t];n&&(e[t]={age:Date.now()-n.timestamp,timestamp:n.timestamp,valid:wi(n,ki)})}),e}function ts(e){const t=Qe({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const c=`${e}-fetch-start`;return Ii(c),c},endFetch:c=>{const u=`${e}-fetch-end`;Ii(u);const p=G0(`${e}-fetch`,c,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const fn=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,n);return a.searchParams.set("task",`api.products.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function V0({endpoints:e,token:t,autoload:n=!0,cacheTTL:a=3e5}){var De,we,oe,Te,Ee,D;const s=wt({token:t}),r=ts("products"),c=(De=e==null?void 0:e.list)!=null?De:"",u=(we=e==null?void 0:e.create)!=null?we:fn(c,"store"),p=(oe=e==null?void 0:e.update)!=null?oe:fn(c,"update"),_=(Te=e==null?void 0:e.delete)!=null?Te:fn(c,"delete"),A=(Ee=e==null?void 0:e.checkout)!=null?Ee:fn(c,"checkout"),d=(D=e==null?void 0:e.checkin)!=null?D:fn(c,"checkin"),R=typeof AbortController!="undefined",h=et({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),I=Qe(null),N=()=>{const M=h.pagination.current||1,U=h.pagination.limit||20,z=h.search.trim();return`products:page=${M}:limit=${U}:search=${z}`},O=async(M=!1)=>{var E;if(!c){h.error="Products endpoint unavailable.",h.items=[];return}const U=N(),z=M?null:es(U,a);if(z){r.recordCacheHit(),h.items=z.items,h.pagination={...h.pagination,...z.pagination},h.lastUpdated=z.lastUpdated;return}r.recordCacheMiss(),h.loading=!0,h.error="",h.validationErrors=[],I.value&&R&&I.value.abort();const ie=R?new AbortController:null;I.value=ie;const C=r.startFetch();try{const{items:T,pagination:ge}=await s.fetchProducts({endpoint:c,signal:ie?ie.signal:void 0,limit:h.pagination.limit,start:Math.max(0,(h.pagination.current-1)*h.pagination.limit),search:h.search.trim()});h.items=T,h.pagination={...h.pagination,...ge,current:ge.current&&ge.current>0?ge.current:1},h.lastUpdated=new Date().toISOString(),Kt(U,{items:T,pagination:h.pagination,lastUpdated:h.lastUpdated})}catch(T){if((T==null?void 0:T.name)==="AbortError")return;h.error=(E=T==null?void 0:T.message)!=null?E:"Unknown error"}finally{r.endFetch(C),R&&I.value===ie&&(I.value=null),h.loading=!1}},b=()=>{h.pagination.current=1,qe(N()),O(!0)},m=()=>{h.pagination.current=1,O()},Y=M=>{const U=Number(M);Number.isNaN(U)||U<1||U>h.pagination.pages||(h.pagination.current=U,O())},L=M=>M?typeof M=="string"?M:typeof M=="object"&&M.message?String(M.message):String(M):"",K=(M,{setValidation:U=!1}={})=>{var z;if((M==null?void 0:M.code)===422&&U){const ie=Array.isArray(M.details)?M.details:[M.details].filter(Boolean);h.validationErrors=ie.map(L).filter(C=>C!=="");return}h.error=(z=M==null?void 0:M.message)!=null?z:"Unknown error"},te=async M=>{var U;if(!A||!M)return null;h.locking=!0,h.error="";try{const z=await s.checkoutProduct({endpoint:A,id:M});if(z){const ie=h.items.findIndex(C=>C.id===z.id);ie!==-1&&h.items.splice(ie,1,z)}return z}catch(z){throw h.error=(U=z==null?void 0:z.message)!=null?U:"Unknown error",z}finally{h.locking=!1}},q=async(M,{force:U=!1}={})=>{var z;if(!d||!M)return null;try{const ie=await s.checkinProduct({endpoint:d,id:M,force:U});if(ie){const C=h.items.findIndex(E=>E.id===ie.id);C!==-1&&h.items.splice(C,1,ie)}return ie}catch(ie){return h.error=(z=ie==null?void 0:ie.message)!=null?z:"Unknown error",null}},Ne=async M=>q(M,{force:!0}),ke=async M=>{if(!u)throw new Error("Create endpoint unavailable.");h.saving=!0,h.validationErrors=[];try{const U=await s.createProduct({endpoint:u,data:M});return U&&(h.items=[U,...h.items],h.pagination.total+=1,qe(N())),U}catch(U){throw K(U,{setValidation:!0}),U}finally{h.saving=!1}},v=async(M,U)=>{if(!p)throw new Error("Update endpoint unavailable.");h.saving=!0,h.validationErrors=[];try{const z=await s.updateProduct({endpoint:p,id:M,data:U});if(z){const ie=h.items.findIndex(C=>C.id===z.id);ie!==-1&&h.items.splice(ie,1,z),qe(N())}return z}catch(z){throw K(z,{setValidation:!0}),z}finally{h.saving=!1}},Ye=async M=>{if(!_)throw new Error("Delete endpoint unavailable.");h.deleting=!0,h.validationErrors=[];try{const U=await s.deleteProducts({endpoint:_,ids:M});return U.length&&(h.items=h.items.filter(z=>!U.includes(z.id)),h.pagination.total=Math.max(0,h.pagination.total-U.length),qe(N())),U}catch(U){throw K(U),U}finally{h.deleting=!1}};return Ot(()=>{n&&O()}),{state:h,loadProducts:O,refresh:b,search:m,goToPage:Y,createProduct:ke,updateProduct:v,deleteProducts:Ye,checkoutProduct:te,checkinProduct:q,forceCheckinProduct:Ne,metrics:r.metrics}}const Li=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,n);return a.searchParams.set("task",`api.categories.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function H0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var De,we,oe,Te,Ee,D,M,U,z,ie,C,E,T,ge,pe,Pe;const r=wt({token:t}),c=ts("categories"),u=(De=e==null?void 0:e.list)!=null?De:"",p=(we=e==null?void 0:e.create)!=null?we:u,_=(oe=e==null?void 0:e.update)!=null?oe:u,A=(Te=e==null?void 0:e.delete)!=null?Te:u,d=(Ee=e==null?void 0:e.checkout)!=null?Ee:Li(u,"checkout"),R=(D=e==null?void 0:e.checkin)!=null?D:Li(u,"checkin"),h=et({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:Array.isArray(n.items)?n.items:[],pagination:{total:(ie=(z=(M=n.pagination)==null?void 0:M.total)!=null?z:(U=n.items)==null?void 0:U.length)!=null?ie:0,limit:(E=(C=n.pagination)==null?void 0:C.limit)!=null?E:20,pages:(ge=(T=n.pagination)==null?void 0:T.pages)!=null?ge:0,current:(Pe=(pe=n.pagination)==null?void 0:pe.current)!=null?Pe:1},search:"",lastUpdated:null}),I=typeof AbortController!="undefined",N=Qe(null),O=()=>{const j=h.pagination.current||1,_e=h.pagination.limit||20,$e=h.search.trim();return`categories:page=${j}:limit=${_e}:search=${$e}`},b=async(j=!1)=>{var P;if(!u){h.error="Categories endpoint unavailable.",h.items=[];return}const _e=O(),$e=j?null:es(_e,s);if($e){c.recordCacheHit(),h.items=$e.items,h.pagination={...h.pagination,...$e.pagination},h.lastUpdated=$e.lastUpdated;return}c.recordCacheMiss(),h.loading=!0,h.error="",h.validationErrors=[],N.value&&I&&N.value.abort();const Fe=I?new AbortController:null;N.value=Fe;const y=c.startFetch();try{const G=Math.max(0,(h.pagination.current-1)*h.pagination.limit),{items:se,pagination:Z}=await r.fetchCategories({endpoint:u,limit:h.pagination.limit,start:G,search:h.search.trim(),signal:Fe?Fe.signal:void 0});h.items=se,h.pagination={...h.pagination,...Z,current:Z.current&&Z.current>0?Z.current:1},h.lastUpdated=new Date().toISOString(),Kt(_e,{items:se,pagination:h.pagination,lastUpdated:h.lastUpdated})}catch(G){if((G==null?void 0:G.name)==="AbortError")return;h.error=(P=G==null?void 0:G.message)!=null?P:"Unknown error"}finally{c.endFetch(y),I&&N.value===Fe&&(N.value=null),h.loading=!1}},m=()=>{h.pagination.current=1,qe(O()),b(!0)},Y=()=>{h.pagination.current=1,b()},L=j=>{const _e=Number(j);Number.isNaN(_e)||_e<1||_e===h.pagination.current||(h.pagination.current=_e,b(!0))},K=(j,{validation:_e=!1}={})=>{var $e;if(_e&&(j==null?void 0:j.code)===422){const Fe=j.details,y=Array.isArray(Fe)?Fe:[Fe].filter(Boolean);h.validationErrors=y.map(P=>P?typeof P=="string"?P:typeof P=="object"&&P.message?String(P.message):String(P):"").filter(Boolean);return}h.error=($e=j==null?void 0:j.message)!=null?$e:"Unknown error"},te=async j=>{if(!d||!j)return null;h.locking=!0,h.error="";try{const _e=await r.checkoutCategory({endpoint:d,id:j});return _e&&(qe(O()),await b(!0)),_e}catch(_e){throw K(_e),_e}finally{h.locking=!1}},q=async(j,{force:_e=!1}={})=>{if(!R||!j)return null;try{const $e=await r.checkinCategory({endpoint:R,id:j,force:_e});return $e&&(qe(O()),await b(!0)),$e}catch($e){return K($e),null}},Ne=async j=>q(j,{force:!0}),ke=async j=>{if(!p||!_)throw new Error("Category endpoints unavailable.");h.saving=!0,h.error="",h.validationErrors=[];try{let _e=null;return j.id?_e=await r.updateCategory({endpoint:_,id:j.id,data:j}):_e=await r.createCategory({endpoint:p,data:j}),_e&&(qe(O()),await b()),_e}catch(_e){throw K(_e,{validation:!0}),_e}finally{h.saving=!1}},v=async j=>{if(!Array.isArray(j)||!j.length||!A)return 0;h.deleting=!0,h.error="";try{const _e=await r.deleteCategories({endpoint:A,ids:j});return _e&&(qe(O()),await b()),_e}catch(_e){throw K(_e),_e}finally{h.deleting=!1}},Ye=async()=>{if(!u)return[];try{const{items:j}=await r.fetchCategories({endpoint:u,limit:200,start:0,search:""});return j}catch(j){return[]}};return Ot(()=>{a&&(!Array.isArray(h.items)||!h.items.length)&&b()}),{state:h,loadCategories:b,refresh:m,search:Y,goToPage:L,saveCategory:ke,deleteCategories:v,loadOptions:Ye,checkoutCategory:te,checkinCategory:q,forceCheckinCategory:Ne,metrics:c.metrics}}const $t=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,n);return a.searchParams.set("task",`api.orders.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function B0({endpoints:e,token:t,states:n=[],preload:a={},autoload:s=!0,cacheTTL:r=3e5}){var J,Q,B,Ce,le,me,Se,Oe,x,k,re,ce,X,Me,We,Be,Je,tt;const c=wt({token:t}),u=ts("orders"),p=(J=e==null?void 0:e.list)!=null?J:"",_=(Q=e==null?void 0:e.show)!=null?Q:$t(p,"show"),A=(B=e==null?void 0:e.transition)!=null?B:$t(p,"transition"),d=(Ce=e==null?void 0:e.bulkTransition)!=null?Ce:$t(p,"bulkTransition"),R=(le=e==null?void 0:e.note)!=null?le:$t(p,"note"),h=(me=e==null?void 0:e.tracking)!=null?me:$t(p,"tracking"),I=(Se=e==null?void 0:e.invoice)!=null?Se:$t(p,"invoice"),N=(Oe=e==null?void 0:e.export)!=null?Oe:$t(p,"export"),O=(x=e==null?void 0:e.sendEmail)!=null?x:$t(p,"sendEmail"),b=(k=e==null?void 0:e.recordTransaction)!=null?k:$t(p,"recordTransaction"),m=(re=e==null?void 0:e.resendDownloads)!=null?re:$t(p,"resendDownloads"),Y=(ce=e==null?void 0:e.resetDownload)!=null?ce:$t(p,"resetDownload"),L=(X=e==null?void 0:e.checkout)!=null?X:$t(p,"checkout"),K=(Me=e==null?void 0:e.checkin)!=null?Me:$t(p,"checkin"),te=typeof AbortController!="undefined",q=Qe(null),Ne=Array.isArray(a==null?void 0:a.items)?a.items:[],ke=a!=null&&a.pagination&&typeof a.pagination=="object"?a.pagination:{},v=et({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...Ne],pagination:{total:(We=ke.total)!=null?We:Ne.length,limit:(Be=ke.limit)!=null?Be:20,pages:(Je=ke.pages)!=null?Je:0,current:(tt=ke.current)!=null?tt:1},search:"",filterState:"",orderStates:Array.isArray(n)&&n.length?n:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1,locking:!1}),Ye=Qe(null),De=()=>{const he=v.pagination.current||1,Ie=v.pagination.limit||20,xe=v.search.trim(),fe=v.filterState||"";return`orders:page=${he}:limit=${Ie}:search=${xe}:state=${fe}`},we=async(he=!1)=>{var rt;if(!p){v.error="Orders endpoint unavailable.",v.items=[];return}const Ie=De(),xe=he?null:es(Ie,r);if(xe){u.recordCacheHit(),v.items=xe.items,v.pagination={...v.pagination,...xe.pagination},v.lastUpdated=xe.lastUpdated;return}u.recordCacheMiss(),v.loading=!0,v.error="",q.value&&te&&q.value.abort();const fe=te?new AbortController:null;q.value=fe;const dt=u.startFetch();try{const w=Math.max(0,(v.pagination.current-1)*v.pagination.limit),{items:f,pagination:H}=await c.fetchOrders({endpoint:p,limit:v.pagination.limit,start:w,search:v.search.trim(),state:v.filterState,signal:fe?fe.signal:void 0});v.items=f,v.pagination={...v.pagination,...H,current:H.current&&H.current>0?H.current:1},v.selection.clear(),v.lastUpdated=new Date().toISOString(),Kt(Ie,{items:f,pagination:v.pagination,lastUpdated:v.lastUpdated})}catch(w){if((w==null?void 0:w.name)==="AbortError")return;v.error=(rt=w==null?void 0:w.message)!=null?rt:"Unknown error"}finally{u.endFetch(dt),te&&q.value===fe&&(q.value=null),v.loading=!1}},oe=()=>{v.pagination.current=1,qe(De()),we(!0)},Te=()=>{v.pagination.current=1,we()},Ee=he=>{v.filterState=he||"",v.pagination.current=1,we()},D=he=>{const Ie=Number(he);Number.isNaN(Ie)||Ie<1||Ie===v.pagination.current||(v.pagination.current=Ie,we(!0))},M=()=>{v.selection.clear()},U=he=>{he&&(v.selection.has(he)?v.selection.delete(he):v.selection.add(he))},z=()=>{v.pagination.current>=v.pagination.pages||(v.pagination.current+=1,we(!0))},ie=()=>{v.pagination.current<=1||(v.pagination.current-=1,we(!0))},C=async(he,Ie="")=>{var xe;if(!_)return null;try{return await c.fetchOrder({endpoint:_,id:he,orderNumber:Ie})}catch(fe){return v.transitionError=(xe=fe==null?void 0:fe.message)!=null?xe:"Unknown error",null}},E=he=>{if(!(he!=null&&he.id))return;const Ie=v.items.findIndex(xe=>xe.id===he.id);Ie!==-1&&v.items.splice(Ie,1,he)},T=async he=>{var Ie;if(!L||!he)return null;v.locking=!0,v.transitionError="";try{const xe=await c.checkoutOrder({endpoint:L,id:he});return xe&&(E(xe),Ye.value=xe.id),xe}catch(xe){throw v.transitionError=(Ie=xe==null?void 0:xe.message)!=null?Ie:"Unknown error",xe}finally{v.locking=!1}},ge=async(he,{force:Ie=!1}={})=>{if(!K||!he)return null;try{const xe=await c.checkinOrder({endpoint:K,id:he,force:Ie});return xe&&(E(xe),v.activeOrder&&v.activeOrder.id===xe.id&&(v.activeOrder=xe),Ye.value===xe.id&&(Ye.value=null)),xe}catch(xe){return null}},pe=async he=>ge(he,{force:!0}),Pe=async()=>{if(!Ye.value)return;const he=Ye.value;Ye.value=null,await ge(he)},j=async he=>{var Ie,xe,fe;if(!he){v.transitionError="",v.activeOrder=null,await Pe();return}v.transitionError="";try{Ye.value&&Ye.value!==he.id&&await Pe();const dt=await T(he.id);if(dt){v.activeOrder=dt;return}const rt=await C(he.id,he.order_no);v.activeOrder=rt||{...he,items:Array.isArray(he.items)?he.items:[],transactions:Array.isArray(he.transactions)?he.transactions:[],timeline:Array.isArray(he.timeline)?he.timeline:[],billing:(Ie=he.billing)!=null?Ie:{}}}catch(dt){v.transitionError=(xe=dt==null?void 0:dt.message)!=null?xe:"Unknown error",v.activeOrder={...he,items:Array.isArray(he.items)?he.items:[],transactions:Array.isArray(he.transactions)?he.transactions:[],timeline:Array.isArray(he.timeline)?he.timeline:[],billing:(fe=he.billing)!=null?fe:{}}}},_e=async()=>{v.transitionError="",v.activeOrder=null,await Pe()},$e=async(he,Ie)=>{var xe;if(!A)throw new Error("Transition endpoint unavailable.");v.saving=!0,v.transitionError="";try{const fe=await c.transitionOrder({endpoint:A,id:he,state:Ie});return fe&&(E(fe),v.activeOrder&&v.activeOrder.id===fe.id&&(v.activeOrder=fe),qe(De())),fe}catch(fe){throw v.transitionError=(xe=fe==null?void 0:fe.message)!=null?xe:"Unknown error",fe}finally{v.saving=!1}},Fe=async(he,Ie)=>{var xe;if(!h)throw new Error("Tracking endpoint unavailable.");v.saving=!0,v.transitionError="";try{const fe=await c.updateOrderTracking({endpoint:h,id:he,tracking:Ie});return fe&&(E(fe),v.activeOrder&&v.activeOrder.id===fe.id&&(v.activeOrder=fe),qe(De())),fe}catch(fe){throw v.transitionError=(xe=fe==null?void 0:fe.message)!=null?xe:"Unknown error",fe}finally{v.saving=!1}},y=async(he,Ie="")=>{var xe;if(!I)throw new Error("Invoice endpoint unavailable.");v.invoiceLoading=!0,v.transitionError="";try{const fe=await c.fetchOrderInvoice({endpoint:I,id:he,orderNumber:Ie});if(!fe)throw new Error("Invoice not available.");return fe}catch(fe){throw v.transitionError=(xe=fe==null?void 0:fe.message)!=null?xe:"Unknown error",fe}finally{v.invoiceLoading=!1}},P=async()=>{var he;if(!N)throw new Error("Export endpoint unavailable.");v.exporting=!0,v.error="";try{const Ie=await c.exportOrders({endpoint:N,search:v.search.trim(),state:v.filterState});if(!Ie)throw new Error("Export not available.");return Ie}catch(Ie){throw v.error=(he=Ie==null?void 0:Ie.message)!=null?he:"Export failed",Ie}finally{v.exporting=!1}},G=async(he,Ie)=>{var xe;if(!O)throw new Error("Send email endpoint unavailable.");v.saving=!0,v.transitionError="";try{const fe=await c.sendOrderEmail({endpoint:O,id:he,type:Ie});return fe&&(E(fe),v.activeOrder&&v.activeOrder.id===fe.id&&(v.activeOrder=fe),qe(De())),fe}catch(fe){throw v.transitionError=(xe=fe==null?void 0:fe.message)!=null?xe:"Failed to send email",fe}finally{v.saving=!1}},se=async(he,{amountCents:Ie,reference:xe,note:fe})=>{var dt;if(!b)throw new Error("Record transaction endpoint unavailable.");v.saving=!0,v.transitionError="";try{const rt=await c.recordTransaction({endpoint:b,id:he,amountCents:Ie,reference:xe,note:fe});return rt&&(E(rt),v.activeOrder&&v.activeOrder.id===rt.id&&(v.activeOrder=rt),qe(De())),rt}catch(rt){throw v.transitionError=(dt=rt==null?void 0:rt.message)!=null?dt:"Failed to record payment",rt}finally{v.saving=!1}},Z=async he=>{var Ie;if(!m)throw new Error("Resend downloads endpoint unavailable.");v.saving=!0,v.transitionError="";try{const xe=await c.resendDownloads({endpoint:m,id:he});return xe&&(E(xe),v.activeOrder&&v.activeOrder.id===xe.id&&(v.activeOrder=xe),qe(De())),xe}catch(xe){throw v.transitionError=(Ie=xe==null?void 0:xe.message)!=null?Ie:"Failed to resend downloads email",xe}finally{v.saving=!1}},ne=async(he,Ie)=>{var xe;if(!Y)throw new Error("Reset download endpoint unavailable.");v.saving=!0,v.transitionError="";try{const fe=await c.resetDownload({endpoint:Y,downloadId:he,orderId:Ie});return fe!=null&&fe.order&&(E(fe.order),v.activeOrder&&v.activeOrder.id===fe.order.id&&(v.activeOrder=fe.order),qe(De())),fe}catch(fe){throw v.transitionError=(xe=fe==null?void 0:fe.message)!=null?xe:"Failed to reset download count",fe}finally{v.saving=!1}},W=async(he,Ie)=>{var xe;if(!d)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(he)||!he.length)return{updated:[]};v.saving=!0;try{const fe=await c.bulkTransitionOrders({endpoint:d,ids:he,state:Ie}),dt=Array.isArray(fe.updated)?fe.updated:[];return dt.forEach(rt=>{E(rt),v.activeOrder&&v.activeOrder.id===rt.id&&(v.activeOrder=rt)}),M(),{updated:dt}}catch(fe){throw v.transitionError=(xe=fe==null?void 0:fe.message)!=null?xe:"Unknown error",fe}finally{v.saving=!1}};return Ot(()=>{s&&we()}),{state:v,loadOrders:we,refresh:oe,search:Te,setFilterState:Ee,goToPage:D,nextPage:z,previousPage:ie,checkoutOrder:T,checkinOrder:ge,forceCheckinOrder:pe,releaseLock:Pe,viewOrder:j,closeOrder:_e,transitionOrder:$e,bulkTransition:W,updateTracking:Fe,downloadInvoice:y,exportOrders:P,sendEmail:G,recordTransaction:se,resendDownloads:Z,resetDownload:ne,toggleSelection:U,clearSelection:M,metrics:u.metrics,addNote:async(he,Ie)=>{var xe;if(!R)throw new Error("Note endpoint unavailable.");if(!he||!Ie||!Ie.trim())return null;v.transitionError="",v.saving=!0;try{const fe=await c.addOrderNote({endpoint:R,id:he,message:Ie});return fe&&(E(fe),v.activeOrder&&v.activeOrder.id===fe.id&&(v.activeOrder=fe)),fe}catch(fe){throw v.transitionError=(xe=fe==null?void 0:fe.message)!=null?xe:"Unknown error",fe}finally{v.saving=!1}}}}function K0({endpoint:e="",token:t="",preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var A,d,R;const r=wt({token:t}),c=ts("dashboard"),u=et({loading:!1,error:"",summary:(R=n.summary)!=null?R:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(d=(A=n.summary)==null?void 0:A.currency)!=null?d:"USD"},checklist:Array.isArray(n.checklist)?n.checklist:[],lastUpdated:null}),p=()=>"dashboard",_=async(h=!1)=>{var b,m;if(!e)return;const I=p(),N=h?null:es(I,s);if(N){c.recordCacheHit(),u.summary=N.summary,u.checklist=N.checklist,u.lastUpdated=N.lastUpdated;return}c.recordCacheMiss(),u.loading=!0,u.error="";const O=c.startFetch();try{const Y=await r.fetchDashboard({endpoint:e});u.summary=(b=Y.summary)!=null?b:u.summary,u.checklist=Array.isArray(Y.checklist)?Y.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),Kt(I,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(Y){u.error=(m=Y==null?void 0:Y.message)!=null?m:"Unknown error"}finally{c.endFetch(O),u.loading=!1}};return Ot(()=>{a&&(!Array.isArray(u.checklist)||!u.checklist.length)&&_()}),{state:u,refresh:_,metrics:c.metrics}}function j0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var q,Ne,ke,v,Ye,De,we,oe,Te,Ee,D,M,U,z,ie,C,E;const r=wt({token:t}),c=ts("customers"),u=(q=e==null?void 0:e.list)!=null?q:"",p=(Ne=e==null?void 0:e.show)!=null?Ne:"",_=(v=(ke=e==null?void 0:e.gdpr)==null?void 0:ke.export)!=null?v:"",A=(De=(Ye=e==null?void 0:e.gdpr)==null?void 0:Ye.anonymise)!=null?De:"",d=et({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(Ee=(Te=(we=n.pagination)==null?void 0:we.total)!=null?Te:(oe=n.items)==null?void 0:oe.length)!=null?Ee:0,limit:(M=(D=n.pagination)==null?void 0:D.limit)!=null?M:20,pages:(z=(U=n.pagination)==null?void 0:U.pages)!=null?z:0,current:(C=(ie=n.pagination)==null?void 0:ie.current)!=null?C:1},search:"",activeCustomer:(E=n.active)!=null?E:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),R=typeof AbortController!="undefined",h=Qe(null),I=()=>{const T=d.pagination.current||1,ge=d.pagination.limit||20,pe=d.search.trim();return`customers:page=${T}:limit=${ge}:search=${pe}`},N=async(T=!1)=>{var _e;if(!u){d.error="Customers endpoint unavailable.",d.items=[];return}const ge=I(),pe=T?null:es(ge,s);if(pe){c.recordCacheHit(),d.items=pe.items,d.pagination={...d.pagination,...pe.pagination},d.lastUpdated=pe.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",h.value&&R&&h.value.abort();const Pe=R?new AbortController:null;h.value=Pe;const j=c.startFetch();try{const $e=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:Fe,pagination:y}=await r.fetchCustomers({endpoint:u,limit:d.pagination.limit,start:$e,search:d.search.trim(),signal:Pe?Pe.signal:void 0});d.items=Fe,d.pagination={...d.pagination,...y,current:y.current&&y.current>0?y.current:1},d.lastUpdated=new Date().toISOString(),Kt(ge,{items:Fe,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch($e){if(($e==null?void 0:$e.name)==="AbortError")return;d.error=(_e=$e==null?void 0:$e.message)!=null?_e:"Unknown error"}finally{c.endFetch(j),R&&h.value===Pe&&(h.value=null),d.loading=!1}},O=()=>{d.pagination.current=1,qe(I()),N(!0)},b=()=>{d.pagination.current=1,N()},m=T=>{const ge=Number(T);Number.isNaN(ge)||ge<1||ge===d.pagination.current||(d.pagination.current=ge,N(!0))},Y=async T=>{var ge;if(!p||!(T!=null&&T.email)){d.activeCustomer=T||null;return}try{const pe=await r.fetchCustomer({endpoint:p,email:T.email});d.activeCustomer=pe||T}catch(pe){d.error=(ge=pe==null?void 0:pe.message)!=null?ge:"Unknown error"}},L=()=>{d.activeCustomer=null,d.gdprMessage="",d.gdprSuccess=!1},K=async T=>{var ge;if(!_||!T){d.gdprMessage="GDPR export endpoint unavailable.",d.gdprSuccess=!1;return}d.gdprLoading=!0,d.gdprMessage="";try{const pe=await r.gdprExport({endpoint:_,email:T});if(!pe)throw new Error("No data returned");const Pe=new Blob([JSON.stringify(pe,null,2)],{type:"application/json"}),j=URL.createObjectURL(Pe),_e=document.createElement("a");_e.href=j,_e.download=`gdpr-export-${T.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(j),d.gdprMessage="Data exported successfully.",d.gdprSuccess=!0}catch(pe){d.gdprMessage=(ge=pe==null?void 0:pe.message)!=null?ge:"Export failed",d.gdprSuccess=!1}finally{d.gdprLoading=!1}},te=async T=>{var pe;if(!A||!T){d.gdprMessage="GDPR anonymise endpoint unavailable.",d.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${T}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){d.gdprLoading=!0,d.gdprMessage="";try{const Pe=await r.gdprAnonymise({endpoint:A,email:T});d.gdprMessage=Pe.message||`Anonymised ${Pe.affected} order(s).`,d.gdprSuccess=!0,qe(I()),N(!0),setTimeout(()=>{d.activeCustomer=null,d.gdprMessage=""},2e3)}catch(Pe){d.gdprMessage=(pe=Pe==null?void 0:Pe.message)!=null?pe:"Anonymisation failed",d.gdprSuccess=!1}finally{d.gdprLoading=!1}}};return Ot(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&N()}),{state:d,loadCustomers:N,refresh:O,search:b,goToPage:m,viewCustomer:Y,closeCustomer:L,gdprExport:K,gdprAnonymise:te,metrics:c.metrics}}function J0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var q,Ne,ke,v,Ye,De,we,oe,Te,Ee,D,M,U,z;const r=wt({token:t}),c=ts("coupons"),u=(q=e==null?void 0:e.list)!=null?q:"",p=(Ne=e==null?void 0:e.create)!=null?Ne:u,_=(ke=e==null?void 0:e.update)!=null?ke:u,A=(v=e==null?void 0:e.delete)!=null?v:u,d=et({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(oe=(we=(Ye=n.pagination)==null?void 0:Ye.total)!=null?we:(De=n.items)==null?void 0:De.length)!=null?oe:0,limit:(Ee=(Te=n.pagination)==null?void 0:Te.limit)!=null?Ee:20,pages:(M=(D=n.pagination)==null?void 0:D.pages)!=null?M:0,current:(z=(U=n.pagination)==null?void 0:U.current)!=null?z:1},search:"",activeCoupon:null,lastUpdated:null}),R=typeof AbortController!="undefined",h=Qe(null),I=()=>{const ie=d.pagination.current||1,C=d.pagination.limit||20,E=d.search.trim();return`coupons:page=${ie}:limit=${C}:search=${E}`},N=async(ie=!1)=>{var pe;if(!u){d.error="Coupons endpoint unavailable.",d.items=[];return}const C=I(),E=ie?null:es(C,s);if(E){c.recordCacheHit(),d.items=E.items,d.pagination={...d.pagination,...E.pagination},d.lastUpdated=E.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",h.value&&R&&h.value.abort();const T=R?new AbortController:null;h.value=T;const ge=c.startFetch();try{const Pe=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:j,pagination:_e}=await r.fetchCoupons({endpoint:u,limit:d.pagination.limit,start:Pe,search:d.search.trim(),signal:T?T.signal:void 0});d.items=j,d.pagination={...d.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},d.lastUpdated=new Date().toISOString(),Kt(C,{items:j,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(Pe){if((Pe==null?void 0:Pe.name)==="AbortError")return;d.error=(pe=Pe==null?void 0:Pe.message)!=null?pe:"Unknown error"}finally{c.endFetch(ge),R&&h.value===T&&(h.value=null),d.loading=!1}},O=()=>{d.pagination.current=1,qe(I()),N(!0)},b=()=>{d.pagination.current=1,N()},m=ie=>{const C=Number(ie);Number.isNaN(C)||C<1||C===d.pagination.current||(d.pagination.current=C,N(!0))},Y=ie=>{d.activeCoupon=ie},L=ie=>{const C=d.items.findIndex(E=>E.id===ie.id);C===-1?d.items.unshift(ie):d.items.splice(C,1,ie)},K=async ie=>{var C;d.saving=!0,d.error="";try{let E=null;return ie.id?E=await r.updateCoupon({endpoint:_,id:ie.id,data:ie}):E=await r.createCoupon({endpoint:p,data:ie}),E&&(L(E),d.activeCoupon&&d.activeCoupon.id===E.id&&(d.activeCoupon=E),qe(I())),E}catch(E){throw d.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error",E}finally{d.saving=!1}},te=async ie=>{var C;if(!Array.isArray(ie)||!ie.length)return 0;d.saving=!0,d.error="";try{const E=await r.deleteCoupons({endpoint:A,ids:ie});return E&&(d.items=d.items.filter(T=>!ie.includes(T.id)),d.activeCoupon&&ie.includes(d.activeCoupon.id)&&(d.activeCoupon=null),qe(I())),E}catch(E){throw d.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error",E}finally{d.saving=!1}};return Ot(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&N()}),{state:d,loadCoupons:N,refresh:O,search:b,goToPage:m,setActive:Y,saveCoupon:K,deleteCoupons:te,metrics:c.metrics}}const Uo=(e={})=>{var _,A,d,R,h,I,N,O,b,m,Y,L,K,te,q,Ne,ke,v,Ye;const t=(_=e.store)!=null?_:{},n=(A=e.payments)!=null?A:{},a=(d=e.visual)!=null?d:{},s=(R=e.visual_defaults)!=null?R:{},r=(I=(h=e.security)==null?void 0:h.rate_limits)!=null?I:{},c=Array.isArray(e.currencies)?e.currencies:[],u=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",p=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(N=t.name)!=null?N:"",email:(O=t.email)!=null?O:"",phone:(b=t.phone)!=null?b:""},payments:{configured:!!n.configured},base_currency:u,display_locale:p,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(m=a.primary_color)!=null?m:"",text_color:(Y=a.text_color)!=null?Y:"",surface_color:(L=a.surface_color)!=null?L:"",border_color:(K=a.border_color)!=null?K:"",muted_color:(te=a.muted_color)!=null?te:""},visual_defaults:{primary_color:(q=s.primary_color)!=null?q:"#4f6d7a",text_color:(Ne=s.text_color)!=null?Ne:"#1f2933",surface_color:(ke=s.surface_color)!=null?ke:"#ffffff",border_color:(v=s.border_color)!=null?v:"#e4e7ec",muted_color:(Ye=s.muted_color)!=null?Ye:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(r.checkout_ip_limit))?Number(r.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(r.checkout_email_limit))?Number(r.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(r.checkout_session_limit))?Number(r.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(r.checkout_window_minutes))?Number(r.checkout_window_minutes):Number.isFinite(Number(r.checkout_window))?Math.max(0,Math.ceil(Number(r.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(r.offline_ip_limit))?Number(r.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(r.offline_email_limit))?Number(r.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(r.offline_window_minutes))?Number(r.offline_window_minutes):Number.isFinite(Number(r.offline_window))?Math.max(0,Math.ceil(Number(r.offline_window)/60)):30}},currencies:c}};function W0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var R,h;const r=wt({token:t}),c=ts("settings"),u=(R=e==null?void 0:e.show)!=null?R:"",p=(h=e==null?void 0:e.update)!=null?h:u,_=et({loading:!1,saving:!1,error:"",message:"",values:Uo(n),lastUpdated:null}),A=async(I=!1)=>{var m;if(!u){_.error="Settings endpoint unavailable.";return}const N="settings:data",O=I?null:es(N,s);if(O){c.recordCacheHit(),_.values=O.values,_.lastUpdated=O.lastUpdated;return}c.recordCacheMiss(),_.loading=!0,_.error="";const b=c.startFetch();try{const Y=await r.fetchSettings({endpoint:u});_.values=Uo(Y),_.lastUpdated=new Date().toISOString(),Kt(N,{values:_.values,lastUpdated:_.lastUpdated})}catch(Y){throw _.error=(m=Y==null?void 0:Y.message)!=null?m:"Unknown error",Y}finally{c.endFetch(b),_.loading=!1}},d=async I=>{var N;if(!p)return _.error="Settings endpoint unavailable.",null;_.saving=!0,_.error="",_.message="";try{const O=await r.updateSettings({endpoint:p,data:I});return _.values=Uo(O),_.lastUpdated=new Date().toISOString(),_.message="Settings saved.",qe("settings:data"),Kt("settings:data",{values:_.values,lastUpdated:_.lastUpdated}),_.values}catch(O){throw _.error=(N=O==null?void 0:O.message)!=null?N:"Unknown error",O}finally{_.saving=!1}};return Ot(()=>{a&&A()}),{state:_,refresh:A,save:d,metrics:c.metrics}}function q0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var Y,L,K,te,q,Ne,ke,v,Ye,De,we,oe,Te,Ee;const r=wt({token:t}),c=ts("taxRates"),u=(Y=e==null?void 0:e.list)!=null?Y:"",p=(L=e==null?void 0:e.create)!=null?L:u,_=(K=e==null?void 0:e.update)!=null?K:u,A=(te=e==null?void 0:e.delete)!=null?te:u,d=et({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(v=(ke=(q=n.pagination)==null?void 0:q.total)!=null?ke:(Ne=n.items)==null?void 0:Ne.length)!=null?v:0,limit:(De=(Ye=n.pagination)==null?void 0:Ye.limit)!=null?De:20,pages:(oe=(we=n.pagination)==null?void 0:we.pages)!=null?oe:0,current:(Ee=(Te=n.pagination)==null?void 0:Te.current)!=null?Ee:1},search:"",lastUpdated:null}),R=typeof AbortController!="undefined",h=Qe(null),I=()=>{const D=d.pagination.current||1,M=d.pagination.limit||20,U=d.search.trim();return`taxRates:page=${D}:limit=${M}:search=${U}`},N=async(D=!1)=>{var C;if(!u){d.error="Tax endpoint unavailable.",d.items=[];return}const M=I(),U=D?null:es(M,s);if(U){c.recordCacheHit(),d.items=U.items,d.pagination={...d.pagination,...U.pagination},d.lastUpdated=U.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",h.value&&R&&h.value.abort();const z=R?new AbortController:null;h.value=z;const ie=c.startFetch();try{const E=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:T,pagination:ge}=await r.fetchTaxRates({endpoint:u,limit:d.pagination.limit,start:E,search:d.search.trim(),signal:z?z.signal:void 0});d.items=T,d.pagination={...d.pagination,...ge,current:ge.current&&ge.current>0?ge.current:1},d.lastUpdated=new Date().toISOString(),Kt(M,{items:T,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;d.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error"}finally{c.endFetch(ie),R&&h.value===z&&(h.value=null),d.loading=!1}},O=()=>{d.pagination.current=1,qe(I()),N(!0)},b=async D=>{var M;d.saving=!0,d.error="";try{const U=D.id?await r.updateTaxRate({endpoint:_,id:D.id,data:D}):await r.createTaxRate({endpoint:p,data:D});if(U){const z=d.items.findIndex(ie=>ie.id===U.id);z===-1?d.items.unshift(U):d.items.splice(z,1,U),qe(I())}return U}catch(U){throw d.error=(M=U==null?void 0:U.message)!=null?M:"Unknown error",U}finally{d.saving=!1}},m=async D=>{var M;if(!Array.isArray(D)||!D.length)return 0;d.saving=!0,d.error="";try{const U=await r.deleteTaxRates({endpoint:A,ids:D});return U&&(d.items=d.items.filter(z=>!D.includes(z.id)),qe(I())),U}catch(U){throw d.error=(M=U==null?void 0:U.message)!=null?M:"Unknown error",U}finally{d.saving=!1}};return Ot(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&N()}),{state:d,loadRates:N,refresh:O,saveRate:b,deleteRates:m,metrics:c.metrics}}function z0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var Y,L,K,te,q,Ne,ke,v,Ye,De,we,oe,Te,Ee;const r=wt({token:t}),c=ts("shippingRules"),u=(Y=e==null?void 0:e.list)!=null?Y:"",p=(L=e==null?void 0:e.create)!=null?L:u,_=(K=e==null?void 0:e.update)!=null?K:u,A=(te=e==null?void 0:e.delete)!=null?te:u,d=et({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(v=(ke=(q=n.pagination)==null?void 0:q.total)!=null?ke:(Ne=n.items)==null?void 0:Ne.length)!=null?v:0,limit:(De=(Ye=n.pagination)==null?void 0:Ye.limit)!=null?De:20,pages:(oe=(we=n.pagination)==null?void 0:we.pages)!=null?oe:0,current:(Ee=(Te=n.pagination)==null?void 0:Te.current)!=null?Ee:1},search:"",lastUpdated:null}),R=typeof AbortController!="undefined",h=Qe(null),I=()=>{const D=d.pagination.current||1,M=d.pagination.limit||20,U=d.search.trim();return`shippingRules:page=${D}:limit=${M}:search=${U}`},N=async(D=!1)=>{var C;if(!u){d.error="Shipping endpoint unavailable.",d.items=[];return}const M=I(),U=D?null:es(M,s);if(U){c.recordCacheHit(),d.items=U.items,d.pagination={...d.pagination,...U.pagination},d.lastUpdated=U.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",h.value&&R&&h.value.abort();const z=R?new AbortController:null;h.value=z;const ie=c.startFetch();try{const E=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:T,pagination:ge}=await r.fetchShippingRules({endpoint:u,limit:d.pagination.limit,start:E,search:d.search.trim(),signal:z?z.signal:void 0});d.items=T,d.pagination={...d.pagination,...ge,current:ge.current&&ge.current>0?ge.current:1},d.lastUpdated=new Date().toISOString(),Kt(M,{items:T,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;d.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error"}finally{c.endFetch(ie),R&&h.value===z&&(h.value=null),d.loading=!1}},O=()=>{d.pagination.current=1,qe(I()),N(!0)},b=async D=>{var M;d.saving=!0,d.error="";try{const U=D.id?await r.updateShippingRule({endpoint:_,id:D.id,data:D}):await r.createShippingRule({endpoint:p,data:D});if(U){const z=d.items.findIndex(ie=>ie.id===U.id);z===-1?d.items.unshift(U):d.items.splice(z,1,U),qe(I())}return U}catch(U){throw d.error=(M=U==null?void 0:U.message)!=null?M:"Unknown error",U}finally{d.saving=!1}},m=async D=>{var M;if(!Array.isArray(D)||!D.length)return 0;d.saving=!0,d.error="";try{const U=await r.deleteShippingRules({endpoint:A,ids:D});return U&&(d.items=d.items.filter(z=>!D.includes(z.id)),qe(I())),U}catch(U){throw d.error=(M=U==null?void 0:U.message)!=null?M:"Unknown error",U}finally{d.saving=!1}};return Ot(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&N()}),{state:d,loadRules:N,refresh:O,saveRule:b,deleteRules:m,metrics:c.metrics}}function Q0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var b,m,Y,L,K,te,q,Ne,ke,v,Ye;const r=wt({token:t}),c=ts("logs"),u=(b=e==null?void 0:e.list)!=null?b:"",p=et({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(K=(L=(m=n.pagination)==null?void 0:m.total)!=null?L:(Y=n.items)==null?void 0:Y.length)!=null?K:0,limit:(q=(te=n.pagination)==null?void 0:te.limit)!=null?q:20,pages:(ke=(Ne=n.pagination)==null?void 0:Ne.pages)!=null?ke:0,current:(Ye=(v=n.pagination)==null?void 0:v.current)!=null?Ye:1},search:"",entity:"",lastUpdated:null}),_=typeof AbortController!="undefined",A=Qe(null),d=()=>{const De=p.pagination.current||1,we=p.pagination.limit||20,oe=p.search.trim(),Te=p.entity.trim();return`logs:page=${De}:limit=${we}:search=${oe}:entity=${Te}`},R=async(De=!1)=>{var D;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const we=d(),oe=De?null:es(we,s);if(oe){c.recordCacheHit(),p.items=oe.items,p.pagination={...p.pagination,...oe.pagination},p.lastUpdated=oe.lastUpdated;return}c.recordCacheMiss(),p.loading=!0,p.error="",_&&A.value&&A.value.abort();const Te=_?new AbortController:null;A.value=Te;const Ee=c.startFetch();try{const M=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:U,pagination:z}=await r.fetchLogs({endpoint:u,limit:p.pagination.limit,start:M,search:p.search.trim(),entity:p.entity,signal:Te?Te.signal:void 0});p.items=U,p.pagination={...p.pagination,...z,current:z.current&&z.current>0?z.current:1},p.lastUpdated=new Date().toISOString(),Kt(we,{items:U,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(M){if((M==null?void 0:M.name)==="AbortError")return;p.error=(D=M==null?void 0:M.message)!=null?D:"Unknown error"}finally{c.endFetch(Ee),_&&A.value===Te&&(A.value=null),p.loading=!1}},h=()=>{p.pagination.current=1,qe(d()),R(!0)},I=()=>{p.pagination.current=1,R()},N=De=>{const we=typeof De=="string"?De.trim():"";p.entity!==we&&(p.entity=we,p.pagination.current=1,R())},O=De=>{const we=Number(De);Number.isNaN(we)||we<1||we===p.pagination.current||(p.pagination.current=we,R(!0))};return Ot(()=>{a&&(!Array.isArray(p.items)||!p.items.length)&&R()}),{state:p,loadLogs:R,refresh:h,search:I,setEntity:N,goToPage:O,metrics:c.metrics}}const Di=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function Z0({endpoints:e={},token:t=""}){const n=wt({token:t}),a=et({loading:!1,saving:!1,error:"",config:Di(),message:""}),s=async()=>{var u,p,_,A;if(e.show){a.loading=!0,a.error="";try{const d=await n.get(e.show);a.config=c((_=(p=(u=d==null?void 0:d.data)==null?void 0:u.config)!=null?p:d==null?void 0:d.config)!=null?_:{})}catch(d){a.error=(A=d.message)!=null?A:"Unable to load payment configuration."}finally{a.loading=!1}}},r=async u=>{var p,_,A,d,R,h,I;if(e.update){a.saving=!0,a.error="",a.message="";try{const N=await n.post(e.update,{config:u});a.config=c((A=(_=(p=N==null?void 0:N.data)==null?void 0:p.config)!=null?_:N==null?void 0:N.config)!=null?A:{}),a.message=(h=(R=(d=N==null?void 0:N.data)==null?void 0:d.message)!=null?R:N==null?void 0:N.message)!=null?h:""}catch(N){a.error=(I=N.message)!=null?I:"Unable to save payment configuration."}finally{a.saving=!1}}},c=u=>{var _,A,d,R;const p=Di();return{stripe:{...p.stripe,...(_=u.stripe)!=null?_:{}},paypal:{...p.paypal,...(A=u.paypal)!=null?A:{}},cod:{...p.cod,...(d=u.cod)!=null?d:{}},bank_transfer:{...p.bank_transfer,...(R=u.bank_transfer)!=null?R:{}}}};return{state:a,refresh:s,save:r}}const vt=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,n);return a.searchParams.set("task",t),`${a.pathname}?${a.searchParams.toString()}`};function ew({endpoints:e={},token:t="",autoload:n=!0}){var E,T,ge,pe,Pe,j,_e,$e,Fe,y,P,G,se,Z,ne;const a=wt({token:t}),s=(E=e==null?void 0:e.base)!=null?E:"",r=(T=e==null?void 0:e.importPlatforms)!=null?T:vt(s,"api.import.platforms"),c=(ge=e==null?void 0:e.importUpload)!=null?ge:vt(s,"api.import.upload"),u=(pe=e==null?void 0:e.importDetect)!=null?pe:vt(s,"api.import.detect"),p=(Pe=e==null?void 0:e.importStart)!=null?Pe:vt(s,"api.import.start"),_=(j=e==null?void 0:e.importProgress)!=null?j:vt(s,"api.import.progress"),A=(_e=e==null?void 0:e.importCancel)!=null?_e:vt(s,"api.import.cancel"),d=($e=e==null?void 0:e.importJobs)!=null?$e:vt(s,"api.import.jobs"),R=(Fe=e==null?void 0:e.importSamples)!=null?Fe:vt(s,"api.import.samples");(y=e==null?void 0:e.exportPlatforms)!=null||vt(s,"api.export.platforms");const h=(P=e==null?void 0:e.exportStart)!=null?P:vt(s,"api.export.start"),I=(G=e==null?void 0:e.exportProgress)!=null?G:vt(s,"api.export.progress"),N=(se=e==null?void 0:e.exportDownload)!=null?se:vt(s,"api.export.download"),O=(Z=e==null?void 0:e.exportCancel)!=null?Z:vt(s,"api.export.cancel"),b=(ne=e==null?void 0:e.exportJobs)!=null?ne:vt(s,"api.export.jobs"),m=et({loading:!1,error:"",platforms:[],importFile:null,importFileId:"",importFilename:"",importFileSize:0,importRowCount:0,importHeaders:[],importPreview:[],importDetectedPlatform:null,importSelectedPlatform:"",importMapping:{},importUploading:!1,importStarting:!1,importJobId:null,importProgress:null,importPolling:!1,exportPlatform:"native",exportStarting:!1,exportJobId:null,exportProgress:null,exportPolling:!1,importJobs:[],exportJobs:[],jobsPagination:{total:0,limit:10,pages:0,current:1},samples:[]}),Y=Qe(null),L=()=>{Y.value&&(clearInterval(Y.value),Y.value=null),m.importPolling=!1,m.exportPolling=!1},K=async()=>{var W,J,Q;if(r){m.loading=!0,m.error="";try{const B=await a.get(r);m.platforms=(J=(W=B.data)==null?void 0:W.platforms)!=null?J:[]}catch(B){m.error=(Q=B==null?void 0:B.message)!=null?Q:"Failed to load platforms"}finally{m.loading=!1}}},te=async()=>{var W,J;if(R)try{const Q=await a.get(R);m.samples=(J=(W=Q.data)==null?void 0:W.samples)!=null?J:[]}catch(Q){m.samples=[]}},q=async W=>{var J,Q,B,Ce,le,me,Se,Oe,x,k;if(!c||!W)return null;m.importUploading=!0,m.error="",m.importFile=W;try{const re=new FormData;re.append("file",W);const X=(J=(await a.request(c,{method:"POST",body:re})).data)!=null?J:{};return m.importFileId=(Q=X.file_id)!=null?Q:"",m.importFilename=(B=X.filename)!=null?B:W.name,m.importFileSize=(Ce=X.size)!=null?Ce:W.size,m.importRowCount=(le=X.row_count)!=null?le:0,m.importHeaders=(me=X.headers)!=null?me:[],m.importPreview=(Se=X.preview)!=null?Se:[],m.importDetectedPlatform=(Oe=X.detected_platform)!=null?Oe:null,m.importSelectedPlatform=(x=X.detected_platform)!=null?x:"",X}catch(re){return m.error=(k=re==null?void 0:re.message)!=null?k:"Failed to upload file",null}finally{m.importUploading=!1}},Ne=async W=>{var J,Q,B,Ce;if(!u||!(W!=null&&W.length))return null;try{const me=(J=(await a.post(u,{headers:W})).data)!=null?J:{};return m.importDetectedPlatform=(Q=me.platform)!=null?Q:null,m.importMapping=(B=me.mapping)!=null?B:{},me}catch(le){return m.error=(Ce=le==null?void 0:le.message)!=null?Ce:"Failed to detect platform",null}},ke=async(W={})=>{var J,Q,B,Ce,le;if(!p||!m.importFileId)return m.error="No file uploaded",null;if(!m.importSelectedPlatform)return m.error="Please select a platform",null;m.importStarting=!0,m.error="";try{const Se=(J=(await a.post(p,{file_id:m.importFileId,platform:m.importSelectedPlatform,options:{...W,mapping:m.importMapping}})).data)!=null?J:{};return m.importJobId=(Q=Se.job_id)!=null?Q:null,m.importProgress={status:(B=Se.status)!=null?B:"pending",total_rows:(Ce=Se.total_rows)!=null?Ce:0,processed_rows:0,imported_products:0,imported_variants:0,imported_categories:0,skipped_rows:0,errors:[],warnings:[],percent:0},Ye(),Se}catch(me){return m.error=(le=me==null?void 0:me.message)!=null?le:"Failed to start import",null}finally{m.importStarting=!1}},v=async()=>{var W,J,Q,B,Ce,le,me,Se,Oe,x,k,re;if(!(!_||!m.importJobId))try{const ce=`${_}&job_id=${m.importJobId}`,Me=(W=(await a.get(ce)).data)!=null?W:{};m.importProgress={status:(J=Me.status)!=null?J:"unknown",total_rows:(Q=Me.total_rows)!=null?Q:0,processed_rows:(B=Me.processed_rows)!=null?B:0,imported_products:(Ce=Me.imported_products)!=null?Ce:0,imported_variants:(le=Me.imported_variants)!=null?le:0,imported_categories:(me=Me.imported_categories)!=null?me:0,skipped_rows:(Se=Me.skipped_rows)!=null?Se:0,errors:(Oe=Me.errors)!=null?Oe:[],warnings:(x=Me.warnings)!=null?x:[],percent:(k=Me.progress_percent)!=null?k:Me.total_rows>0?Math.round(Me.processed_rows/Me.total_rows*100):0},["completed","failed","cancelled"].includes(Me.status)&&L()}catch(ce){m.error=(re=ce==null?void 0:ce.message)!=null?re:"Failed to get progress",L()}},Ye=()=>{L(),m.importPolling=!0,v(),Y.value=setInterval(v,2e3)},De=async()=>{var W;if(!(!A||!m.importJobId))try{await a.post(A,{job_id:m.importJobId}),L(),m.importProgress={...m.importProgress,status:"cancelled"}}catch(J){m.error=(W=J==null?void 0:J.message)!=null?W:"Failed to cancel import"}},we=()=>{L(),m.importFile=null,m.importFileId="",m.importFilename="",m.importFileSize=0,m.importRowCount=0,m.importHeaders=[],m.importPreview=[],m.importDetectedPlatform=null,m.importSelectedPlatform="",m.importMapping={},m.importJobId=null,m.importProgress=null,m.error=""},oe=async(W={})=>{var J,Q,B,Ce,le;if(!h)return null;m.exportStarting=!0,m.error="";try{const Se=(J=(await a.post(h,{platform:m.exportPlatform,options:W})).data)!=null?J:{};return m.exportJobId=(Q=Se.job_id)!=null?Q:null,m.exportProgress={status:(B=Se.status)!=null?B:"pending",total_rows:(Ce=Se.total_rows)!=null?Ce:0,processed_rows:0,percent:0},Ee(),Se}catch(me){return m.error=(le=me==null?void 0:me.message)!=null?le:"Failed to start export",null}finally{m.exportStarting=!1}},Te=async()=>{var W,J,Q,B,Ce,le;if(!(!I||!m.exportJobId))try{const me=`${I}&job_id=${m.exportJobId}`,Oe=(W=(await a.get(me)).data)!=null?W:{};m.exportProgress={status:(J=Oe.status)!=null?J:"unknown",total_rows:(Q=Oe.total_rows)!=null?Q:0,processed_rows:(B=Oe.processed_rows)!=null?B:0,percent:Oe.total_rows>0?Math.round(Oe.processed_rows/Oe.total_rows*100):0,file_path:(Ce=Oe.file_path)!=null?Ce:""},["completed","failed","cancelled"].includes(Oe.status)&&L()}catch(me){m.error=(le=me==null?void 0:me.message)!=null?le:"Failed to get progress",L()}},Ee=()=>{L(),m.exportPolling=!0,Te(),Y.value=setInterval(Te,2e3)},D=async()=>{var W;if(!(!O||!m.exportJobId))try{await a.post(O,{job_id:m.exportJobId}),L(),m.exportProgress={...m.exportProgress,status:"cancelled"}}catch(J){m.error=(W=J==null?void 0:J.message)!=null?W:"Failed to cancel export"}},M=()=>{if(!N||!m.exportJobId)return;const W=`${N}&job_id=${m.exportJobId}`;typeof window!="undefined"&&(window.location.href=W)},U=()=>{L(),m.exportPlatform="native",m.exportJobId=null,m.exportProgress=null,m.error=""},z=async()=>{var W,J;if(d)try{const Q=`${d}&type=import&limit=${m.jobsPagination.limit}`,Ce=(W=(await a.get(Q)).data)!=null?W:{};m.importJobs=(J=Ce.items)!=null?J:[]}catch(Q){m.importJobs=[]}},ie=async()=>{var W,J;if(b)try{const Q=`${b}&type=export&limit=${m.jobsPagination.limit}`,Ce=(W=(await a.get(Q)).data)!=null?W:{};m.exportJobs=(J=Ce.items)!=null?J:[]}catch(Q){m.exportJobs=[]}},C=async()=>{await Promise.all([K(),te(),z(),ie()])};return Ot(()=>{n&&C()}),bo(()=>{L()}),{state:m,loadPlatforms:K,loadSamples:te,uploadFile:q,detectPlatform:Ne,startImport:ke,cancelImport:De,resetImport:we,startExport:oe,cancelExport:D,downloadExport:M,resetExport:U,loadImportJobs:z,loadExportJobs:ie,refresh:C,stopPolling:L}}const tw={class:"nxp-ec-admin-app__shell"},sw={class:"nxp-ec-admin-app__header"},nw={class:"nxp-ec-admin-app__title"},ow={class:"nxp-ec-admin-app__lead"},aw={class:"nxp-ec-btn__progress-label"},iw={key:0,class:"nxp-ec-admin-nav"},rw=["href"],lw={key:12,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},cw={class:"nxp-ec-admin-panel__body"},dw={class:"nxp-ec-admin-panel__lead"},mn="nxp:admin:onboarding:dismissed",uw={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var mc,hc,gc,Ec,Cc,Ac,Sc,bc,Tc,yc,Rc,Oc,xc,Pc,Nc,vc,Mc,Ic,kc,wc,$c,Lc,Dc,Yc,Uc,Xc,Fc,Gc,Vc,Hc,Bc,Kc,jc,Jc,Wc,qc,zc,Qc,Zc,ed,td,sd,nd,od,ad,id,rd,ld,cd,dd,ud,pd,_d,fd,md,hd,gd,Ed,Cd,Ad,Sd,bd,Td,yd,Rd,Od,xd,Pd,Nd,vd,Md,Id,kd,wd,$d,Ld,Dd,Yd,Ud,Xd,Fd,Gd,Vd,Hd,Bd,Kd,jd,Jd,Wd,qd,zd,Qd,Zd,eu,tu,su,nu,ou,au,iu,ru,lu,cu,du,uu,pu,_u,fu,mu,hu,gu,Eu,Cu,Au,Su,bu,Tu,yu,Ru,Ou,xu,Pu,Nu,vu,Mu,Iu,ku,wu,$u,Lu,Du,Yu,Uu,Xu,Fu,Gu,Vu,Hu,Bu,Ku,ju,Ju,Wu,qu,zu,Qu,Zu,ep,tp,sp,np,op,ap,ip,rp,lp,cp,dp,up,pp,_p,fp,mp,hp,gp,Ep,Cp,Ap,Sp,bp,Tp,yp,Rp,Op,xp,Pp,Np,vp,Mp,Ip,kp,wp,$p,Lp,Dp,Yp,Up,Xp,Fp,Gp,Vp,Hp,Bp,Kp,jp,Jp,Wp,qp,zp,Qp,Zp,e_,t_,s_,n_,o_,a_,i_,r_,l_,c_,d_,u_,p_,__,f_,m_,h_,g_,E_,C_,A_,S_,b_,T_,y_,R_,O_,x_,P_;const t=e,{__:n}=F0(t.dataset),a=ye(()=>{var $;return(($=t.dataset)==null?void 0:$.appTitleKey)||"COM_NXPEASYCART"}),s=ye(()=>{var $;return(($=t.dataset)==null?void 0:$.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),r=($,ue)=>{if(!$||typeof $!="string")return ue;try{return JSON.parse($)}catch(Ue){return ue}},c=ye(()=>{var $,ue;return!!((ue=($=Ut==null?void 0:Ut.values)==null?void 0:$.show_advanced_mode)!=null&&ue)}),u=ye(()=>{var ue,Ue;let $=[];if(Array.isArray((ue=t.config)==null?void 0:ue.navItems))$=t.config.navItems.map(nt=>({id:nt.id,title:nt.title,link:nt.link}));else{const nt=r((Ue=t.dataset)==null?void 0:Ue.navItems,[]);$=Array.isArray(nt)?nt.map(pt=>({id:pt.id,title:pt.title,link:pt.link})):[]}return c.value||($=$.filter(nt=>nt.id!=="logs")),$}),p=$=>{const ue=u.value;if(!Array.isArray(ue))return"";const Ue=ue.find(nt=>nt.id===$);return Ue?Ue.link:""},_=ye(()=>{var $,ue;return(($=t.config)==null?void 0:$.activeSection)||((ue=t.dataset)==null?void 0:ue.activeSection)||"dashboard"}),A=ye(()=>{var $,ue;return(($=t.config)==null?void 0:$.settingsTab)||((ue=t.dataset)==null?void 0:ue.settingsTab)||"general"}),d=$=>_.value===$,R=ye(()=>{var $,ue,Ue,nt,pt;return Number.parseInt((pt=(nt=(ue=($=t.config)==null?void 0:$.user)==null?void 0:ue.id)!=null?nt:(Ue=t.dataset)==null?void 0:Ue.userId)!=null?pt:0,10)||0}),h=ye(()=>d("dashboard")),I=ye(()=>d("products")),N=ye(()=>d("categories")||d("products")),O=ye(()=>d("orders")),b=ye(()=>d("customers")),m=ye(()=>d("coupons")),Y=ye(()=>d("settings")),L=ye(()=>d("tax")),K=ye(()=>d("shipping")),te=ye(()=>d("logs")),q=ye(()=>d("importexport")),Ne={...(hc=(mc=t.endpoints)==null?void 0:mc.products)!=null?hc:{},list:(Sc=(Ac=(Ec=(gc=t.endpoints)==null?void 0:gc.products)==null?void 0:Ec.list)!=null?Ac:(Cc=t.dataset)==null?void 0:Cc.productsEndpoint)!=null?Sc:"",create:(Oc=(Rc=(Tc=(bc=t.endpoints)==null?void 0:bc.products)==null?void 0:Tc.create)!=null?Rc:(yc=t.dataset)==null?void 0:yc.productsEndpointCreate)!=null?Oc:"",update:(Mc=(vc=(Pc=(xc=t.endpoints)==null?void 0:xc.products)==null?void 0:Pc.update)!=null?vc:(Nc=t.dataset)==null?void 0:Nc.productsEndpointUpdate)!=null?Mc:"",delete:(Lc=($c=(kc=(Ic=t.endpoints)==null?void 0:Ic.products)==null?void 0:kc.delete)!=null?$c:(wc=t.dataset)==null?void 0:wc.productsEndpointDelete)!=null?Lc:"",checkout:(Fc=(Xc=(Yc=(Dc=t.endpoints)==null?void 0:Dc.products)==null?void 0:Yc.checkout)!=null?Xc:(Uc=t.dataset)==null?void 0:Uc.productsEndpointCheckout)!=null?Fc:"",checkin:(Kc=(Bc=(Vc=(Gc=t.endpoints)==null?void 0:Gc.products)==null?void 0:Vc.checkin)!=null?Bc:(Hc=t.dataset)==null?void 0:Hc.productsEndpointCheckin)!=null?Kc:""},ke={...(Jc=(jc=t.endpoints)==null?void 0:jc.categories)!=null?Jc:{},list:(Zc=(Qc=(qc=(Wc=t.endpoints)==null?void 0:Wc.categories)==null?void 0:qc.list)!=null?Qc:(zc=t.dataset)==null?void 0:zc.categoriesEndpoint)!=null?Zc:"",create:(od=(nd=(td=(ed=t.endpoints)==null?void 0:ed.categories)==null?void 0:td.create)!=null?nd:(sd=t.dataset)==null?void 0:sd.categoriesEndpointCreate)!=null?od:"",update:(cd=(ld=(id=(ad=t.endpoints)==null?void 0:ad.categories)==null?void 0:id.update)!=null?ld:(rd=t.dataset)==null?void 0:rd.categoriesEndpointUpdate)!=null?cd:"",delete:(fd=(_d=(ud=(dd=t.endpoints)==null?void 0:dd.categories)==null?void 0:ud.delete)!=null?_d:(pd=t.dataset)==null?void 0:pd.categoriesEndpointDelete)!=null?fd:"",checkout:(Cd=(Ed=(hd=(md=t.endpoints)==null?void 0:md.categories)==null?void 0:hd.checkout)!=null?Ed:(gd=t.dataset)==null?void 0:gd.categoriesEndpointCheckout)!=null?Cd:"",checkin:(yd=(Td=(Sd=(Ad=t.endpoints)==null?void 0:Ad.categories)==null?void 0:Sd.checkin)!=null?Td:(bd=t.dataset)==null?void 0:bd.categoriesEndpointCheckin)!=null?yd:""},v={...(Od=(Rd=t.endpoints)==null?void 0:Rd.orders)!=null?Od:{},list:(Md=(vd=(Pd=(xd=t.endpoints)==null?void 0:xd.orders)==null?void 0:Pd.list)!=null?vd:(Nd=t.dataset)==null?void 0:Nd.ordersEndpoint)!=null?Md:"",show:(Ld=($d=(kd=(Id=t.endpoints)==null?void 0:Id.orders)==null?void 0:kd.show)!=null?$d:(wd=t.dataset)==null?void 0:wd.ordersEndpointShow)!=null?Ld:"",transition:(Fd=(Xd=(Yd=(Dd=t.endpoints)==null?void 0:Dd.orders)==null?void 0:Yd.transition)!=null?Xd:(Ud=t.dataset)==null?void 0:Ud.ordersEndpointTransition)!=null?Fd:"",bulkTransition:(Kd=(Bd=(Vd=(Gd=t.endpoints)==null?void 0:Gd.orders)==null?void 0:Vd.bulkTransition)!=null?Bd:(Hd=t.dataset)==null?void 0:Hd.ordersEndpointBulk)!=null?Kd:"",note:(zd=(qd=(Jd=(jd=t.endpoints)==null?void 0:jd.orders)==null?void 0:Jd.note)!=null?qd:(Wd=t.dataset)==null?void 0:Wd.ordersEndpointNote)!=null?zd:"",tracking:(su=(tu=(Zd=(Qd=t.endpoints)==null?void 0:Qd.orders)==null?void 0:Zd.tracking)!=null?tu:(eu=t.dataset)==null?void 0:eu.ordersEndpointTracking)!=null?su:"",invoice:(ru=(iu=(ou=(nu=t.endpoints)==null?void 0:nu.orders)==null?void 0:ou.invoice)!=null?iu:(au=t.dataset)==null?void 0:au.ordersEndpointInvoice)!=null?ru:"",checkout:(pu=(uu=(cu=(lu=t.endpoints)==null?void 0:lu.orders)==null?void 0:cu.checkout)!=null?uu:(du=t.dataset)==null?void 0:du.ordersEndpointCheckout)!=null?pu:"",checkin:(gu=(hu=(fu=(_u=t.endpoints)==null?void 0:_u.orders)==null?void 0:fu.checkin)!=null?hu:(mu=t.dataset)==null?void 0:mu.ordersEndpointCheckin)!=null?gu:""},Ye=(Tu=(Eu=t.endpoints)==null?void 0:Eu.customers)!=null?Tu:{list:(Au=(Cu=t.dataset)==null?void 0:Cu.customersEndpoint)!=null?Au:"",show:(bu=(Su=t.dataset)==null?void 0:Su.customersEndpointShow)!=null?bu:""},De=(ku=(yu=t.endpoints)==null?void 0:yu.coupons)!=null?ku:{list:(Ou=(Ru=t.dataset)==null?void 0:Ru.couponsEndpoint)!=null?Ou:"",create:(Pu=(xu=t.dataset)==null?void 0:xu.couponsEndpointCreate)!=null?Pu:"",update:(vu=(Nu=t.dataset)==null?void 0:Nu.couponsEndpointUpdate)!=null?vu:"",delete:(Iu=(Mu=t.dataset)==null?void 0:Mu.couponsEndpointDelete)!=null?Iu:""},we=(Vu=(wu=t.endpoints)==null?void 0:wu.tax)!=null?Vu:{list:(Lu=($u=t.dataset)==null?void 0:$u.taxEndpoint)!=null?Lu:"",create:(Yu=(Du=t.dataset)==null?void 0:Du.taxEndpointCreate)!=null?Yu:"",update:(Xu=(Uu=t.dataset)==null?void 0:Uu.taxEndpointUpdate)!=null?Xu:"",delete:(Gu=(Fu=t.dataset)==null?void 0:Fu.taxEndpointDelete)!=null?Gu:""},oe=(Zu=(Hu=t.endpoints)==null?void 0:Hu.shipping)!=null?Zu:{list:(Ku=(Bu=t.dataset)==null?void 0:Bu.shippingEndpoint)!=null?Ku:"",create:(Ju=(ju=t.dataset)==null?void 0:ju.shippingEndpointCreate)!=null?Ju:"",update:(qu=(Wu=t.dataset)==null?void 0:Wu.shippingEndpointUpdate)!=null?qu:"",delete:(Qu=(zu=t.dataset)==null?void 0:zu.shippingEndpointDelete)!=null?Qu:""},Te=(rp=(ep=t.endpoints)==null?void 0:ep.digitalfiles)!=null?rp:{list:(sp=(tp=t.dataset)==null?void 0:tp.digitalfilesEndpointList)!=null?sp:"",upload:(op=(np=t.dataset)==null?void 0:np.digitalfilesEndpointUpload)!=null?op:"",delete:(ip=(ap=t.dataset)==null?void 0:ap.digitalfilesEndpointDelete)!=null?ip:""},Ee=(_p=(lp=t.endpoints)==null?void 0:lp.settings)!=null?_p:{show:(dp=(cp=t.dataset)==null?void 0:cp.settingsEndpointShow)!=null?dp:"",update:(pp=(up=t.dataset)==null?void 0:up.settingsEndpointUpdate)!=null?pp:""},D=(gp=(fp=t.endpoints)==null?void 0:fp.logs)!=null?gp:{list:(hp=(mp=t.dataset)==null?void 0:mp.logsEndpoint)!=null?hp:""},M=(Tp=(Ep=t.endpoints)==null?void 0:Ep.payments)!=null?Tp:{show:(Ap=(Cp=t.dataset)==null?void 0:Cp.paymentsEndpointShow)!=null?Ap:"",update:(bp=(Sp=t.dataset)==null?void 0:Sp.paymentsEndpointUpdate)!=null?bp:""},U=(xp=(yp=t.endpoints)==null?void 0:yp.importExport)!=null?xp:{base:(Op=(Rp=t.dataset)==null?void 0:Rp.importExportEndpoint)!=null?Op:""},z=ye(()=>{var $;return r(($=t.dataset)==null?void 0:$.orderStates,[])}),{state:ie,refresh:C}=K0({endpoint:(wp=(kp=(Mp=(Pp=t.endpoints)==null?void 0:Pp.dashboard)!=null?Mp:(vp=(Np=t.config)==null?void 0:Np.endpoints)==null?void 0:vp.dashboard)!=null?kp:(Ip=t.dataset)==null?void 0:Ip.dashboardEndpoint)!=null?wp:"",token:t.csrfToken,preload:(Up=(Lp=($p=t.config)==null?void 0:$p.preload)==null?void 0:Lp.dashboard)!=null?Up:{summary:r((Dp=t.dataset)==null?void 0:Dp.dashboardSummary,{}),checklist:r((Yp=t.dataset)==null?void 0:Yp.dashboardChecklist,[])},autoload:h.value}),{state:E,refresh:T,search:ge,goToPage:pe,createProduct:Pe,updateProduct:j,deleteProducts:_e,checkoutProduct:$e,checkinProduct:Fe,forceCheckinProduct:y,metrics:P}=V0({endpoints:Ne,token:t.csrfToken,autoload:I.value}),{state:G,refresh:se,search:Z,goToPage:ne,saveCategory:W,deleteCategories:J,loadOptions:Q,checkoutCategory:B,checkinCategory:Ce,forceCheckinCategory:le,metrics:me}=H0({endpoints:ke,token:t.csrfToken,preload:(Hp=(Fp=(Xp=t.config)==null?void 0:Xp.preload)==null?void 0:Fp.categories)!=null?Hp:{items:r((Gp=t.dataset)==null?void 0:Gp.categoriesPreload,[]),pagination:r((Vp=t.dataset)==null?void 0:Vp.categoriesPreloadPagination,{})},autoload:N.value}),Se=ye(()=>(Array.isArray(G.items)?G.items:[]).map(ue=>{var Ue,nt,pt;return{id:Number.parseInt((Ue=ue==null?void 0:ue.id)!=null?Ue:0,10)||0,title:String((nt=ue==null?void 0:ue.title)!=null?nt:"").trim(),slug:String((pt=ue==null?void 0:ue.slug)!=null?pt:"").trim(),parent_id:(ue==null?void 0:ue.parent_id)!==null&&(ue==null?void 0:ue.parent_id)!==void 0&&Number.parseInt(ue.parent_id,10)||null}}).filter(ue=>ue.title!=="")),{state:Oe,refresh:x,search:k,setFilterState:re,viewOrder:ce,closeOrder:X,forceCheckinOrder:Me,releaseLock:We,transitionOrder:Be,goToPage:Je,bulkTransition:tt,toggleSelection:he,clearSelection:Ie,addNote:xe,updateTracking:fe,downloadInvoice:dt,exportOrders:rt,sendEmail:w,recordTransaction:f,resendDownloads:H,resetDownload:be,metrics:Re}=B0({endpoints:v,token:t.csrfToken,states:z.value,preload:(Wp=(Kp=(Bp=t.config)==null?void 0:Bp.preload)==null?void 0:Kp.orders)!=null?Wp:{items:r((jp=t.dataset)==null?void 0:jp.ordersPreload,[]),pagination:r((Jp=t.dataset)==null?void 0:Jp.ordersPreloadPagination,{})},autoload:O.value}),{state:F,refresh:de,search:V,goToPage:Xe,viewCustomer:je,closeCustomer:st,gdprExport:Lt,gdprAnonymise:Gt}=j0({endpoints:{...Ye,gdpr:(zp=(qp=t.endpoints)==null?void 0:qp.gdpr)!=null?zp:{}},token:t.csrfToken,preload:(s_=(Zp=(Qp=t.config)==null?void 0:Qp.preload)==null?void 0:Zp.customers)!=null?s_:{items:r((e_=t.dataset)==null?void 0:e_.customersPreload,[]),pagination:r((t_=t.dataset)==null?void 0:t_.customersPreloadPagination,{})},autoload:b.value}),{state:Dt,refresh:Ss,search:bs,goToPage:lt,saveCoupon:cs,deleteCoupons:Yt}=J0({endpoints:(o_=(n_=t.endpoints)==null?void 0:n_.coupons)!=null?o_:De,token:t.csrfToken,preload:(c_=(i_=(a_=t.config)==null?void 0:a_.preload)==null?void 0:i_.coupons)!=null?c_:{items:r((r_=t.dataset)==null?void 0:r_.couponsPreload,[]),pagination:r((l_=t.dataset)==null?void 0:l_.couponsPreloadPagination,{})},autoload:m.value}),Ts=(__=(u_=(d_=t.config)==null?void 0:d_.preload)==null?void 0:u_.settings)!=null?__:r((p_=t.dataset)==null?void 0:p_.settingsPreload,{}),{state:Ut,refresh:ys,save:Gs}=W0({endpoints:Ee,token:t.csrfToken,preload:Ts,autoload:Y.value}),Wn=ye(()=>{var ue,Ue;const $=(Ue=(ue=t.dataset)==null?void 0:ue.baseCurrency)!=null?Ue:"";return typeof $=="string"?$.trim().toUpperCase():""}),qn=ye(()=>{var ue,Ue;const $=(Ue=(ue=Ut==null?void 0:Ut.values)==null?void 0:ue.base_currency)!=null?Ue:"";return typeof $=="string"?$.trim().toUpperCase():""}),Rs=ye(()=>{const $=qn.value||Wn.value;return $!==""?$:"USD"}),Xo=ye(()=>{var ue,Ue;const $=(Ue=(ue=t.dataset)==null?void 0:ue.mediaModalUrl)!=null?Ue:"";return typeof $=="string"?$.trim():""}),pw=ye(()=>{var ue,Ue,nt,pt,Mt;const $=(pt=(nt=(ue=t.config)==null?void 0:ue.siteRoot)!=null?nt:(Ue=t.dataset)==null?void 0:Ue.siteRoot)!=null?pt:"";return typeof $=="string"&&$.trim()!==""?$.trim():typeof window!="undefined"&&((Mt=window.location)!=null&&Mt.origin)?window.location.origin:""}),_w=$=>{switch($){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_PUBLISH_CART_MODULE":return{id:"publish-cart-module",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_DESC",titleFallback:"Publish the cart module",descriptionFallback:"Add the cart module to a template position so customers can see their shopping cart.",link:"index.php?option=com_modules&filter[module]=mod_nxpeasycart_cart"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:p("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:p("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:p("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:$||"step",titleKey:$||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:$||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:p("dashboard")||""}}},Fo=ye(()=>(Array.isArray(ie.checklist)?ie.checklist:[]).map(ue=>{const Ue=_w(ue.label);return{id:Ue.id,completed:!!ue.completed,link:ue.link||Ue.link||"",label:ue.label,titleKey:Ue.titleKey,descriptionKey:Ue.descriptionKey,titleFallback:Ue.titleFallback,descriptionFallback:Ue.descriptionFallback}})),Go=ye(()=>Fo.value.some($=>!$.completed)),uc=ye(()=>{const $=Fo.value;if(!$.length)return{completed:0,total:0,percent:0};const ue=$.filter(Ue=>Ue.completed).length;return{completed:ue,total:$.length,percent:Math.round(ue/$.length*100)}}),fw=ye(()=>{const{completed:$,total:ue}=uc.value;return`${$}/${ue}`}),mw=ye(()=>{const{percent:$}=uc.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${$}%, #e9ecef ${$}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:$>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),hn=Qe(!1),hw=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(mn,"0")}catch($){}hn.value=!0},pc=()=>{if(hn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(mn,"1")}catch($){}},gw=$=>{$&&typeof $.link=="string"&&$.link!==""&&(pc(),typeof window!="undefined"&&(window.location.href=$.link))};ct(Go,$=>{if(!$&&(hn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(mn,"1")}catch(ue){}});const Ew=(E_=(m_=(f_=t.config)==null?void 0:f_.preload)==null?void 0:m_.tax)!=null?E_:{items:r((h_=t.dataset)==null?void 0:h_.taxPreload,[]),pagination:r((g_=t.dataset)==null?void 0:g_.taxPreloadPagination,{})},{state:Cw,refresh:gn,saveRate:Aw,deleteRates:Sw}=q0({endpoints:we,token:t.csrfToken,preload:Ew,autoload:L.value||Y.value}),bw=(T_=(A_=(C_=t.config)==null?void 0:C_.preload)==null?void 0:A_.shipping)!=null?T_:{items:r((S_=t.dataset)==null?void 0:S_.shippingPreload,[]),pagination:r((b_=t.dataset)==null?void 0:b_.shippingPreloadPagination,{})},{state:Tw,refresh:En,saveRule:yw,deleteRules:Rw}=z0({endpoints:oe,token:t.csrfToken,preload:bw,autoload:K.value||Y.value}),Ow=(P_=(R_=(y_=t.config)==null?void 0:y_.preload)==null?void 0:R_.logs)!=null?P_:{items:r((O_=t.dataset)==null?void 0:O_.logsPreload,[]),pagination:r((x_=t.dataset)==null?void 0:x_.logsPreloadPagination,{})},{state:xw,refresh:_c,search:Pw,setEntity:Nw,goToPage:vw}=Q0({endpoints:D,token:t.csrfToken,preload:Ow,autoload:te.value}),{state:Mw,refresh:Vo,save:Iw}=Z0({endpoints:M,token:t.csrfToken}),{state:kw,uploadFile:ww,startImport:$w,cancelImport:Lw,resetImport:Dw,startExport:Yw,cancelExport:Uw,downloadExport:Xw,resetExport:Fw,refresh:fc}=ew({endpoints:U,token:t.csrfToken,autoload:q.value});ct(_,($,ue)=>{switch(ue==="orders"&&$!=="orders"&&(X(),We==null||We()),$){case"dashboard":C();break;case"products":T(),se();break;case"categories":se();break;case"orders":x();break;case"customers":de();break;case"coupons":Ss();break;case"tax":gn();break;case"shipping":En();break;case"settings":ys(),gn(),En(),Vo();break;case"logs":_c();break;case"importexport":fc();break}}),Ot(()=>{if(typeof window!="undefined"){const $=()=>({products:P.value,categories:me.value,orders:Re.value,cache:$i()}),ue=()=>{const Ue=$();return console.group("[NXP Easy Cart] Performance Metrics"),console.table({Products:Ue.products,Categories:Ue.categories,Orders:Ue.orders}),console.log("Cache Status:",Ue.cache),console.groupEnd(),Ue};window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset,getMetrics:$,logMetrics:ue,clearCache:qe,getCacheStatus:$i};try{const Ue=window.localStorage.getItem(mn);Go.value?Ue!=="1"&&(hn.value=!0):window.localStorage.setItem(mn,"1")}catch(Ue){}}Y.value&&Vo()});const Gw=()=>{T()},Vw=()=>{ge()},Hw=$=>{pe($)},Bw=async $=>{try{await Pe($),T(),se(),qe("dashboard"),C(!0)}catch(ue){}},Kw=async({id:$,data:ue})=>{try{await j($,ue),T(),se()}catch(Ue){}},jw=async $=>{try{await _e($),T(),se()}catch(ue){}},Jw=()=>{se()},Ww=()=>{Z()},qw=$=>{ne($)},zw=async $=>{try{await W($),se()}catch(ue){}},Qw=async $=>{try{await J($),se()}catch(ue){}},Zw=()=>{C()},e$=()=>{x()},t$=()=>{k()},s$=$=>{re($)},n$=$=>{ce($)},o$=()=>{X()},a$=async({id:$,state:ue})=>{try{await Be($,ue)}catch(Ue){}},i$=$=>{Je($)},r$=async({ids:$,state:ue})=>{try{await tt($,ue)}catch(Ue){}},l$=$=>{he($)},c$=()=>{Ie()},d$=async({id:$,message:ue})=>{await xe($,ue)},u$=async $=>{if(!($!=null&&$.id))return;const{id:ue,...Ue}=$;try{await fe(ue,Ue)}catch(nt){}},p$=async $=>{!($!=null&&$.id)||!($!=null&&$.type)||await w($.id,$.type)},_$=async $=>{if($!=null&&$.id)try{await f($.id,{amountCents:$.amountCents,reference:$.reference,note:$.note})}catch(ue){}},f$=async $=>{if($!=null&&$.id)try{await H($.id)}catch(ue){}},m$=async $=>{if($!=null&&$.download_id)try{await be($.download_id,$.order_id)}catch(ue){}},h$=async $=>{if(!$)return;const ue=await dt($);if(!(ue!=null&&ue.content))return;const Ue=atob(ue.content),nt=new Uint8Array(Ue.length);for(let Os=0;Os<Ue.length;Os+=1)nt[Os]=Ue.charCodeAt(Os);const pt=new Blob([nt],{type:"application/pdf"}),Mt=window.URL.createObjectURL(pt),Xt=document.createElement("a");Xt.href=Mt,Xt.download=ue.filename||"invoice.pdf",document.body.appendChild(Xt),Xt.click(),document.body.removeChild(Xt),setTimeout(()=>window.URL.revokeObjectURL(Mt),1e3)},g$=async()=>{const $=await rt();if(!($!=null&&$.content))return;const ue=atob($.content),Ue=new Uint8Array(ue.length);for(let Xt=0;Xt<ue.length;Xt+=1)Ue[Xt]=ue.charCodeAt(Xt);const nt=new Blob([Ue],{type:"text/csv;charset=utf-8"}),pt=window.URL.createObjectURL(nt),Mt=document.createElement("a");Mt.href=pt,Mt.download=$.filename||"orders-export.csv",document.body.appendChild(Mt),Mt.click(),document.body.removeChild(Mt),setTimeout(()=>window.URL.revokeObjectURL(pt),1e3)},E$=()=>{de()},C$=()=>{V()},A$=$=>{Xe($)},S$=$=>{je($)},b$=()=>{st()},T$=$=>{Lt($)},y$=$=>{Gt($)},R$=()=>{Ss()},O$=()=>{bs()},x$=$=>{lt($)},P$=async $=>{try{await cs($)}catch(ue){}},N$=async $=>{try{await Yt($)}catch(ue){}},v$=()=>{ys(!0)},M$=async $=>{try{await Gs($),qe("dashboard"),C(!0)}catch(ue){}},I$=()=>{gn()},k$=async $=>{try{await Aw($),gn()}catch(ue){}},w$=async $=>{try{await Sw($),gn()}catch(ue){}},$$=()=>{En()},L$=async $=>{try{await yw($),En()}catch(ue){}},D$=async $=>{try{await Rw($),En()}catch(ue){}},Y$=()=>{_c()},U$=()=>{Pw()},X$=$=>{Nw($)},F$=$=>{vw($)},G$=()=>{Vo()},V$=async $=>{await Iw($),qe("dashboard"),C(!0)},H$=()=>{fc()},B$=async $=>{await ww($)},K$=async()=>{await $w()},j$=async()=>{await Lw()},J$=()=>{Dw()},W$=async()=>{await Yw()},q$=async()=>{await Uw()},z$=()=>{Xw()},Q$=()=>{Fw()};return($,ue)=>(g(),Tt(ch,null,{default:Pa(()=>{var Ue,nt,pt,Mt,Xt,Os;return[o("section",tw,[o("header",sw,[o("div",null,[o("h1",nw,l(i(n)(a.value,(nt=(Ue=t.dataset)==null?void 0:Ue.appTitle)!=null?nt:"NXP Easy Cart",[],"appTitle")),1),o("p",ow,l(i(n)(s.value,(Mt=(pt=t.dataset)==null?void 0:pt.appLead)!=null?Mt:"Manage your storefront from one place.",[],"appLead")),1)]),ee(o("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:Ht(mw.value),onClick:hw},[ve(l(i(n)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),o("span",aw,l(fw.value),1)],4),[[Ys,Go.value]])]),u.value.length?(g(),S("nav",iw,[(g(!0),S(Le,null,Ve(u.value,zn=>(g(),S("a",{key:zn.id,href:zn.link,class:Ke({"is-active":zn.id===_.value})},l(zn.title),11,rw))),128))])):ae("",!0),_.value==="dashboard"?(g(),Tt(Gh,{key:1,state:i(ie),translate:i(n),onRefresh:Zw},null,8,["state","translate"])):_.value==="products"?(g(),Tt(XA,{key:2,state:i(E),translate:i(n),"base-currency":Rs.value,"category-options":Se.value,"media-modal-url":Xo.value,"digital-endpoints":i(Te),"csrf-token":t.csrfToken,"checkout-product":i($e),"checkin-product":i(Fe),"force-checkin-product":i(y),"current-user-id":R.value,onCreate:Bw,onUpdate:Kw,onDelete:jw,onRefresh:Gw,onSearch:Vw,onPage:Hw},null,8,["state","translate","base-currency","category-options","media-modal-url","digital-endpoints","csrf-token","checkout-product","checkin-product","force-checkin-product","current-user-id"])):_.value==="categories"?(g(),Tt(GS,{key:3,state:i(G),translate:i(n),"load-options":i(Q),"checkout-category":i(B),"checkin-category":i(Ce),"force-checkin-category":i(le),"current-user-id":R.value,onRefresh:Jw,onSearch:Ww,onPage:qw,onSave:zw,onDelete:Qw},null,8,["state","translate","load-options","checkout-category","checkin-category","force-checkin-category","current-user-id"])):_.value==="orders"?(g(),Tt(Ay,{key:4,state:i(Oe),translate:i(n),"site-root":pw.value,"current-user-id":R.value,"force-checkin-order":i(Me),onRefresh:e$,onSearch:t$,onFilter:s$,onView:n$,onClose:o$,onTransition:a$,onPage:i$,onBulkTransition:r$,onToggleSelection:l$,onClearSelection:c$,onAddNote:d$,onSaveTracking:u$,onSendEmail:p$,onRecordPayment:_$,onResendDownloads:f$,onResetDownload:m$,onInvoice:h$,onExport:g$},null,8,["state","translate","site-root","current-user-id","force-checkin-order"])):_.value==="customers"?(g(),Tt(bR,{key:5,state:i(F),translate:i(n),"base-currency":Rs.value,onRefresh:E$,onSearch:C$,onPage:A$,onView:S$,onClose:b$,onGdprExport:T$,onGdprAnonymise:y$},null,8,["state","translate","base-currency"])):_.value==="coupons"?(g(),Tt(UO,{key:6,state:i(Dt),translate:i(n),"base-currency":Rs.value,onRefresh:R$,onSearch:O$,onPage:x$,onSave:P$,onDelete:N$},null,8,["state","translate","base-currency"])):_.value==="tax"?(g(),Tt(rM,{key:7,state:i(Cw),translate:i(n),onRefresh:I$,onSave:k$,onDelete:w$},null,8,["state","translate"])):_.value==="shipping"?(g(),Tt(CI,{key:8,state:i(Tw),translate:i(n),"base-currency":Rs.value,onRefresh:$$,onSave:L$,onDelete:D$},null,8,["state","translate","base-currency"])):_.value==="settings"?(g(),Tt(QN,{key:9,"settings-state":i(Ut),"payments-state":i(Mw),translate:i(n),"base-currency":Rs.value,"initial-tab":A.value,onRefreshSettings:v$,onSaveSettings:M$,onRefreshPayments:G$,onSavePayments:V$},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):_.value==="logs"&&c.value?(g(),Tt(sk,{key:10,state:i(xw),translate:i(n),onRefresh:Y$,onSearch:U$,onFilter:X$,onPage:F$},null,8,["state","translate"])):_.value==="importexport"?(g(),Tt(b0,{key:11,state:i(kw),translate:i(n),onRefresh:H$,onUploadFile:B$,onStartImport:K$,onCancelImport:j$,onResetImport:J$,onStartExport:W$,onCancelExport:q$,onDownloadExport:z$,onResetExport:Q$},null,8,["state","translate"])):(g(),S("div",lw,[o("div",cw,[o("p",dw,l(i(n)(s.value,(Os=(Xt=t.dataset)==null?void 0:Xt.appLead)!=null?Os:"This section will be available soon.",[],"appLead")),1)])]))]),_t(Y0,{visible:hn.value,steps:Fo.value,translate:i(n),onClose:pc,onNavigate:gw},null,8,["visible","steps","translate"])]}),_:1}))}},Jn=document.getElementById("nxp-ec-admin-app");if(!Jn)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(Yi=Jn.getAttribute("data-csrf-token"))!=null?Yi:"",t=Object.assign({},Jn.dataset);let n={};if(t.config)try{n=JSON.parse(t.config)}catch(N){console.warn("[NXP Easy Cart] Failed to parse admin config payload",N)}const a={...(Xi=(Ui=n==null?void 0:n.endpoints)==null?void 0:Ui.products)!=null?Xi:{},list:(Hi=(Vi=(Gi=(Fi=n==null?void 0:n.endpoints)==null?void 0:Fi.products)==null?void 0:Gi.list)!=null?Vi:t.productsEndpoint)!=null?Hi:"",create:(Ji=(ji=(Ki=(Bi=n==null?void 0:n.endpoints)==null?void 0:Bi.products)==null?void 0:Ki.create)!=null?ji:t.productsEndpointCreate)!=null?Ji:"",update:(Qi=(zi=(qi=(Wi=n==null?void 0:n.endpoints)==null?void 0:Wi.products)==null?void 0:qi.update)!=null?zi:t.productsEndpointUpdate)!=null?Qi:"",delete:(sr=(tr=(er=(Zi=n==null?void 0:n.endpoints)==null?void 0:Zi.products)==null?void 0:er.delete)!=null?tr:t.productsEndpointDelete)!=null?sr:"",checkout:(ir=(ar=(or=(nr=n==null?void 0:n.endpoints)==null?void 0:nr.products)==null?void 0:or.checkout)!=null?ar:t.productsEndpointCheckout)!=null?ir:"",checkin:(dr=(cr=(lr=(rr=n==null?void 0:n.endpoints)==null?void 0:rr.products)==null?void 0:lr.checkin)!=null?cr:t.productsEndpointCheckin)!=null?dr:""},s={...(pr=(ur=n==null?void 0:n.endpoints)==null?void 0:ur.categories)!=null?pr:{},list:(hr=(mr=(fr=(_r=n==null?void 0:n.endpoints)==null?void 0:_r.categories)==null?void 0:fr.list)!=null?mr:t.categoriesEndpoint)!=null?hr:"",create:(Ar=(Cr=(Er=(gr=n==null?void 0:n.endpoints)==null?void 0:gr.categories)==null?void 0:Er.create)!=null?Cr:t.categoriesEndpointCreate)!=null?Ar:"",update:(yr=(Tr=(br=(Sr=n==null?void 0:n.endpoints)==null?void 0:Sr.categories)==null?void 0:br.update)!=null?Tr:t.categoriesEndpointUpdate)!=null?yr:"",delete:(Pr=(xr=(Or=(Rr=n==null?void 0:n.endpoints)==null?void 0:Rr.categories)==null?void 0:Or.delete)!=null?xr:t.categoriesEndpointDelete)!=null?Pr:"",checkout:(Ir=(Mr=(vr=(Nr=n==null?void 0:n.endpoints)==null?void 0:Nr.categories)==null?void 0:vr.checkout)!=null?Mr:t.categoriesEndpointCheckout)!=null?Ir:"",checkin:(Lr=($r=(wr=(kr=n==null?void 0:n.endpoints)==null?void 0:kr.categories)==null?void 0:wr.checkin)!=null?$r:t.categoriesEndpointCheckin)!=null?Lr:""},r={...(Yr=(Dr=n==null?void 0:n.endpoints)==null?void 0:Dr.orders)!=null?Yr:{},list:(Gr=(Fr=(Xr=(Ur=n==null?void 0:n.endpoints)==null?void 0:Ur.orders)==null?void 0:Xr.list)!=null?Fr:t.ordersEndpoint)!=null?Gr:"",show:(Kr=(Br=(Hr=(Vr=n==null?void 0:n.endpoints)==null?void 0:Vr.orders)==null?void 0:Hr.show)!=null?Br:t.ordersEndpointShow)!=null?Kr:"",transition:(qr=(Wr=(Jr=(jr=n==null?void 0:n.endpoints)==null?void 0:jr.orders)==null?void 0:Jr.transition)!=null?Wr:t.ordersEndpointTransition)!=null?qr:"",bulkTransition:(el=(Zr=(Qr=(zr=n==null?void 0:n.endpoints)==null?void 0:zr.orders)==null?void 0:Qr.bulkTransition)!=null?Zr:t.ordersEndpointBulk)!=null?el:"",note:(ol=(nl=(sl=(tl=n==null?void 0:n.endpoints)==null?void 0:tl.orders)==null?void 0:sl.note)!=null?nl:t.ordersEndpointNote)!=null?ol:"",tracking:(ll=(rl=(il=(al=n==null?void 0:n.endpoints)==null?void 0:al.orders)==null?void 0:il.tracking)!=null?rl:t.ordersEndpointTracking)!=null?ll:"",invoice:(pl=(ul=(dl=(cl=n==null?void 0:n.endpoints)==null?void 0:cl.orders)==null?void 0:dl.invoice)!=null?ul:t.ordersEndpointInvoice)!=null?pl:"",checkout:(hl=(ml=(fl=(_l=n==null?void 0:n.endpoints)==null?void 0:_l.orders)==null?void 0:fl.checkout)!=null?ml:t.ordersEndpointCheckout)!=null?hl:"",checkin:(Al=(Cl=(El=(gl=n==null?void 0:n.endpoints)==null?void 0:gl.orders)==null?void 0:El.checkin)!=null?Cl:t.ordersEndpointCheckin)!=null?Al:""},c=(yl=(Sl=n==null?void 0:n.endpoints)==null?void 0:Sl.customers)!=null?yl:{list:(bl=t.customersEndpoint)!=null?bl:"",show:(Tl=t.customersEndpointShow)!=null?Tl:""},u=(Pl=(Rl=n==null?void 0:n.endpoints)==null?void 0:Rl.gdpr)!=null?Pl:{export:(Ol=t.gdprEndpointExport)!=null?Ol:"",anonymise:(xl=t.gdprEndpointAnonymise)!=null?xl:""},p=(wl=(Nl=n==null?void 0:n.endpoints)==null?void 0:Nl.coupons)!=null?wl:{list:(vl=t.couponsEndpoint)!=null?vl:"",create:(Ml=t.couponsEndpointCreate)!=null?Ml:"",update:(Il=t.couponsEndpointUpdate)!=null?Il:"",delete:(kl=t.couponsEndpointDelete)!=null?kl:""},_=(Xl=($l=n==null?void 0:n.endpoints)==null?void 0:$l.tax)!=null?Xl:{list:(Ll=t.taxEndpoint)!=null?Ll:"",create:(Dl=t.taxEndpointCreate)!=null?Dl:"",update:(Yl=t.taxEndpointUpdate)!=null?Yl:"",delete:(Ul=t.taxEndpointDelete)!=null?Ul:""},A=(Kl=(Fl=n==null?void 0:n.endpoints)==null?void 0:Fl.shipping)!=null?Kl:{list:(Gl=t.shippingEndpoint)!=null?Gl:"",create:(Vl=t.shippingEndpointCreate)!=null?Vl:"",update:(Hl=t.shippingEndpointUpdate)!=null?Hl:"",delete:(Bl=t.shippingEndpointDelete)!=null?Bl:""},d=(zl=(jl=n==null?void 0:n.endpoints)==null?void 0:jl.digitalfiles)!=null?zl:{list:(Jl=t.digitalfilesEndpointList)!=null?Jl:"",upload:(Wl=t.digitalfilesEndpointUpload)!=null?Wl:"",delete:(ql=t.digitalfilesEndpointDelete)!=null?ql:""},R=(tc=(Ql=n==null?void 0:n.endpoints)==null?void 0:Ql.settings)!=null?tc:{show:(Zl=t.settingsEndpointShow)!=null?Zl:"",update:(ec=t.settingsEndpointUpdate)!=null?ec:""},h=(oc=(sc=n==null?void 0:n.endpoints)==null?void 0:sc.logs)!=null?oc:{list:(nc=t.logsEndpoint)!=null?nc:""},I=(rc=(ac=n==null?void 0:n.endpoints)==null?void 0:ac.importExport)!=null?rc:{base:(ic=t.importExportEndpoint)!=null?ic:""};th(uw,{csrfToken:e,dataset:t,config:n,endpoints:{products:a,categories:s,orders:r,customers:c,gdpr:u,coupons:p,tax:_,shipping:A,digitalfiles:d,settings:R,logs:h,importExport:I,dashboard:(dc=(cc=(lc=n==null?void 0:n.endpoints)==null?void 0:lc.dashboard)!=null?cc:t.dashboardEndpoint)!=null?dc:""}}).mount(Jn)}})();
