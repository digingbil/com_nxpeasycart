(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Ui,Xi,Fi,Gi,Vi,Hi,Bi,Ki,ji,Ji,Wi,qi,zi,Qi,Zi,er,tr,sr,nr,or,ar,ir,rr,lr,cr,dr,ur,pr,_r,fr,mr,hr,gr,Er,Cr,Ar,Sr,br,Tr,yr,Rr,Or,xr,Pr,Nr,vr,Mr,Ir,kr,wr,$r,Dr,Lr,Yr,Ur,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,sl,nl,ol,al,il,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Cl,Al,Sl,bl,Tl,yl,Rl,Ol,xl,Pl,Nl,vl,Ml,Il,kl,wl,$l,Dl,Ll,Yl,Ul,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,sc,nc,oc,ac,ic,rc,lc,cc,dc,uc;function Qn(e){const t=Object.create(null);for(const o of e.split(","))t[o]=1;return o=>o in t}const ot={},Rs=[],jt=()=>{},Bo=()=>!1,An=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Zn=e=>e.startsWith("onUpdate:"),At=Object.assign,eo=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},v_=Object.prototype.hasOwnProperty,Ze=(e,t)=>v_.call(e,t),Xe=Array.isArray,Os=e=>Gs(e)==="[object Map]",xs=e=>Gs(e)==="[object Set]",Ko=e=>Gs(e)==="[object Date]",Be=e=>typeof e=="function",ut=e=>typeof e=="string",Vt=e=>typeof e=="symbol",it=e=>e!==null&&typeof e=="object",jo=e=>(it(e)||Be(e))&&Be(e.then)&&Be(e.catch),Jo=Object.prototype.toString,Gs=e=>Jo.call(e),M_=e=>Gs(e).slice(8,-1),Wo=e=>Gs(e)==="[object Object]",to=e=>ut(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Vs=Qn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sn=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},I_=/-\w/g,ds=Sn(e=>e.replace(I_,t=>t.slice(1).toUpperCase())),k_=/\B([A-Z])/g,us=Sn(e=>e.replace(k_,"-$1").toLowerCase()),qo=Sn(e=>e.charAt(0).toUpperCase()+e.slice(1)),so=Sn(e=>e?`on${qo(e)}`:""),ps=(e,t)=>!Object.is(e,t),bn=(e,...t)=>{for(let o=0;o<e.length;o++)e[o](...t)},zo=(e,t,o,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:o})},Tn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Qo;const yn=()=>Qo||(Qo=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Ht(e){if(Xe(e)){const t={};for(let o=0;o<e.length;o++){const a=e[o],s=ut(a)?L_(a):Ht(a);if(s)for(const r in s)t[r]=s[r]}return t}else if(ut(e)||it(e))return e}const w_=/;(?![^(]*\))/g,$_=/:([^]+)/,D_=/\/\*[^]*?\*\//g;function L_(e){const t={};return e.replace(D_,"").split(w_).forEach(o=>{if(o){const a=o.split($_);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function He(e){let t="";if(ut(e))t=e;else if(Xe(e))for(let o=0;o<e.length;o++){const a=He(e[o]);a&&(t+=a+" ")}else if(it(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const Y_=Qn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Zo(e){return!!e||e===""}function U_(e,t){if(e.length!==t.length)return!1;let o=!0;for(let a=0;o&&a<e.length;a++)o=Hs(e[a],t[a]);return o}function Hs(e,t){if(e===t)return!0;let o=Ko(e),a=Ko(t);if(o||a)return o&&a?e.getTime()===t.getTime():!1;if(o=Vt(e),a=Vt(t),o||a)return e===t;if(o=Xe(e),a=Xe(t),o||a)return o&&a?U_(e,t):!1;if(o=it(e),a=it(t),o||a){if(!o||!a)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const c in e){const u=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(u&&!p||!u&&p||!Hs(e[c],t[c]))return!1}}return String(e)===String(t)}function no(e,t){return e.findIndex(o=>Hs(o,t))}const ea=e=>!!(e&&e.__v_isRef===!0),l=e=>ut(e)?e:e==null?"":Xe(e)||it(e)&&(e.toString===Jo||!Be(e.toString))?ea(e)?l(e.value):JSON.stringify(e,ta,2):String(e),ta=(e,t)=>ea(t)?ta(e,t.value):Os(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[a,s],r)=>(o[oo(a,r)+" =>"]=s,o),{})}:xs(t)?{[`Set(${t.size})`]:[...t.values()].map(o=>oo(o))}:Vt(t)?oo(t):it(t)&&!Xe(t)&&!Wo(t)?String(t):t,oo=(e,t="")=>{var o;return Vt(e)?`Symbol(${(o=e.description)!=null?o:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rt;class X_{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rt,!t&&Rt&&(this.index=(Rt.scopes||(Rt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].pause();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].resume();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].resume()}}run(t){if(this._active){const o=Rt;try{return Rt=this,t()}finally{Rt=o}}}on(){++this._on===1&&(this.prevScope=Rt,Rt=this)}off(){this._on>0&&--this._on===0&&(Rt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let o,a;for(o=0,a=this.effects.length;o<a;o++)this.effects[o].stop();for(this.effects.length=0,o=0,a=this.cleanups.length;o<a;o++)this.cleanups[o]();if(this.cleanups.length=0,this.scopes){for(o=0,a=this.scopes.length;o<a;o++)this.scopes[o].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function F_(){return Rt}let rt;const ao=new WeakSet;class sa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rt&&Rt.active&&Rt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ao.has(this)&&(ao.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||oa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ca(this),aa(this);const t=rt,o=Bt;rt=this,Bt=!0;try{return this.fn()}finally{ia(this),rt=t,Bt=o,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)co(t);this.deps=this.depsTail=void 0,ca(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ao.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lo(this)&&this.run()}get dirty(){return lo(this)}}let na=0,Bs,Ks;function oa(e,t=!1){if(e.flags|=8,t){e.next=Ks,Ks=e;return}e.next=Bs,Bs=e}function io(){na++}function ro(){if(--na>0)return;if(Ks){let t=Ks;for(Ks=void 0;t;){const o=t.next;t.next=void 0,t.flags&=-9,t=o}}let e;for(;Bs;){let t=Bs;for(Bs=void 0;t;){const o=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=o}}if(e)throw e}function aa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ia(e){let t,o=e.depsTail,a=o;for(;a;){const s=a.prevDep;a.version===-1?(a===o&&(o=s),co(a),G_(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=s}e.deps=t,e.depsTail=o}function lo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ra(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ra(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===js)||(e.globalVersion=js,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!lo(e))))return;e.flags|=2;const t=e.dep,o=rt,a=Bt;rt=e,Bt=!0;try{aa(e);const s=e.fn(e._value);(t.version===0||ps(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{rt=o,Bt=a,ia(e),e.flags&=-3}}function co(e,t=!1){const{dep:o,prevSub:a,nextSub:s}=e;if(a&&(a.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=a,e.nextSub=void 0),o.subs===e&&(o.subs=a,!a&&o.computed)){o.computed.flags&=-5;for(let r=o.computed.deps;r;r=r.nextDep)co(r,!0)}!t&&!--o.sc&&o.map&&o.map.delete(o.key)}function G_(e){const{prevDep:t,nextDep:o}=e;t&&(t.nextDep=o,e.prevDep=void 0),o&&(o.prevDep=t,e.nextDep=void 0)}let Bt=!0;const la=[];function Jt(){la.push(Bt),Bt=!1}function Wt(){const e=la.pop();Bt=e===void 0?!0:e}function ca(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const o=rt;rt=void 0;try{t()}finally{rt=o}}}let js=0;class V_{constructor(t,o){this.sub=t,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class uo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!rt||!Bt||rt===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==rt)o=this.activeLink=new V_(rt,this),rt.deps?(o.prevDep=rt.depsTail,rt.depsTail.nextDep=o,rt.depsTail=o):rt.deps=rt.depsTail=o,da(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){const a=o.nextDep;a.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=a),o.prevDep=rt.depsTail,o.nextDep=void 0,rt.depsTail.nextDep=o,rt.depsTail=o,rt.deps===o&&(rt.deps=a)}return o}trigger(t){this.version++,js++,this.notify(t)}notify(t){io();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{ro()}}}function da(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)da(a)}const o=e.dep.subs;o!==e&&(e.prevSub=o,o&&(o.nextSub=e)),e.dep.subs=e}}const po=new WeakMap,gs=Symbol(""),_o=Symbol(""),Js=Symbol("");function Et(e,t,o){if(Bt&&rt){let a=po.get(e);a||po.set(e,a=new Map);let s=a.get(o);s||(a.set(o,s=new uo),s.map=a,s.key=o),s.track()}}function ss(e,t,o,a,s,r){const c=po.get(e);if(!c){js++;return}const u=p=>{p&&p.trigger()};if(io(),t==="clear")c.forEach(u);else{const p=Xe(e),f=p&&to(o);if(p&&o==="length"){const S=Number(a);c.forEach((d,M)=>{(M==="length"||M===Js||!Vt(M)&&M>=S)&&u(d)})}else switch((o!==void 0||c.has(void 0))&&u(c.get(o)),f&&u(c.get(Js)),t){case"add":p?f&&u(c.get("length")):(u(c.get(gs)),Os(e)&&u(c.get(_o)));break;case"delete":p||(u(c.get(gs)),Os(e)&&u(c.get(_o)));break;case"set":Os(e)&&u(c.get(gs));break}}ro()}function Ps(e){const t=ze(e);return t===e?t:(Et(t,"iterate",Js),Xt(e)?t:t.map(ft))}function Rn(e){return Et(e=ze(e),"iterate",Js),e}const H_={__proto__:null,[Symbol.iterator](){return fo(this,Symbol.iterator,ft)},concat(...e){return Ps(this).concat(...e.map(t=>Xe(t)?Ps(t):t))},entries(){return fo(this,"entries",e=>(e[1]=ft(e[1]),e))},every(e,t){return ns(this,"every",e,t,void 0,arguments)},filter(e,t){return ns(this,"filter",e,t,o=>o.map(ft),arguments)},find(e,t){return ns(this,"find",e,t,ft,arguments)},findIndex(e,t){return ns(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ns(this,"findLast",e,t,ft,arguments)},findLastIndex(e,t){return ns(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ns(this,"forEach",e,t,void 0,arguments)},includes(...e){return mo(this,"includes",e)},indexOf(...e){return mo(this,"indexOf",e)},join(e){return Ps(this).join(e)},lastIndexOf(...e){return mo(this,"lastIndexOf",e)},map(e,t){return ns(this,"map",e,t,void 0,arguments)},pop(){return Ws(this,"pop")},push(...e){return Ws(this,"push",e)},reduce(e,...t){return ua(this,"reduce",e,t)},reduceRight(e,...t){return ua(this,"reduceRight",e,t)},shift(){return Ws(this,"shift")},some(e,t){return ns(this,"some",e,t,void 0,arguments)},splice(...e){return Ws(this,"splice",e)},toReversed(){return Ps(this).toReversed()},toSorted(e){return Ps(this).toSorted(e)},toSpliced(...e){return Ps(this).toSpliced(...e)},unshift(...e){return Ws(this,"unshift",e)},values(){return fo(this,"values",ft)}};function fo(e,t,o){const a=Rn(e),s=a[t]();return a!==e&&!Xt(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=o(r.value)),r}),s}const B_=Array.prototype;function ns(e,t,o,a,s,r){const c=Rn(e),u=c!==e&&!Xt(e),p=c[t];if(p!==B_[t]){const d=p.apply(e,r);return u?ft(d):d}let f=o;c!==e&&(u?f=function(d,M){return o.call(this,ft(d),M,e)}:o.length>2&&(f=function(d,M){return o.call(this,d,M,e)}));const S=p.call(c,f,a);return u&&s?s(S):S}function ua(e,t,o,a){const s=Rn(e);let r=o;return s!==e&&(Xt(e)?o.length>3&&(r=function(c,u,p){return o.call(this,c,u,p,e)}):r=function(c,u,p){return o.call(this,c,ft(u),p,e)}),s[t](r,...a)}function mo(e,t,o){const a=ze(e);Et(a,"iterate",Js);const s=a[t](...o);return(s===-1||s===!1)&&Eo(o[0])?(o[0]=ze(o[0]),a[t](...o)):s}function Ws(e,t,o=[]){Jt(),io();const a=ze(e)[t].apply(e,o);return ro(),Wt(),a}const K_=Qn("__proto__,__v_isRef,__isVue"),pa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vt));function j_(e){Vt(e)||(e=String(e));const t=ze(this);return Et(t,"has",e),t.hasOwnProperty(e)}class _a{constructor(t=!1,o=!1){this._isReadonly=t,this._isShallow=o}get(t,o,a){if(o==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(o==="__v_isReactive")return!s;if(o==="__v_isReadonly")return s;if(o==="__v_isShallow")return r;if(o==="__v_raw")return a===(s?r?Ca:Ea:r?ga:ha).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const c=Xe(t);if(!s){let p;if(c&&(p=H_[o]))return p;if(o==="hasOwnProperty")return j_}const u=Reflect.get(t,o,mt(t)?t:a);if((Vt(o)?pa.has(o):K_(o))||(s||Et(t,"get",o),r))return u;if(mt(u)){const p=c&&to(o)?u:u.value;return s&&it(p)?go(p):p}return it(u)?s?go(u):et(u):u}}class fa extends _a{constructor(t=!1){super(!1,t)}set(t,o,a,s){let r=t[o];if(!this._isShallow){const p=_s(r);if(!Xt(a)&&!_s(a)&&(r=ze(r),a=ze(a)),!Xe(t)&&mt(r)&&!mt(a))return p||(r.value=a),!0}const c=Xe(t)&&to(o)?Number(o)<t.length:Ze(t,o),u=Reflect.set(t,o,a,mt(t)?t:s);return t===ze(s)&&(c?ps(a,r)&&ss(t,"set",o,a):ss(t,"add",o,a)),u}deleteProperty(t,o){const a=Ze(t,o);t[o];const s=Reflect.deleteProperty(t,o);return s&&a&&ss(t,"delete",o,void 0),s}has(t,o){const a=Reflect.has(t,o);return(!Vt(o)||!pa.has(o))&&Et(t,"has",o),a}ownKeys(t){return Et(t,"iterate",Xe(t)?"length":gs),Reflect.ownKeys(t)}}class ma extends _a{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}const J_=new fa,W_=new ma,q_=new fa(!0),z_=new ma(!0),ho=e=>e,On=e=>Reflect.getPrototypeOf(e);function Q_(e,t,o){return function(...a){const s=this.__v_raw,r=ze(s),c=Os(r),u=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,f=s[e](...a),S=o?ho:t?vn:ft;return!t&&Et(r,"iterate",p?_o:gs),{next(){const{value:d,done:M}=f.next();return M?{value:d,done:M}:{value:u?[S(d[0]),S(d[1])]:S(d),done:M}},[Symbol.iterator](){return this}}}}function xn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Z_(e,t){const o={get(s){const r=this.__v_raw,c=ze(r),u=ze(s);e||(ps(s,u)&&Et(c,"get",s),Et(c,"get",u));const{has:p}=On(c),f=t?ho:e?vn:ft;if(p.call(c,s))return f(r.get(s));if(p.call(c,u))return f(r.get(u));r!==c&&r.get(s)},get size(){const s=this.__v_raw;return!e&&Et(ze(s),"iterate",gs),s.size},has(s){const r=this.__v_raw,c=ze(r),u=ze(s);return e||(ps(s,u)&&Et(c,"has",s),Et(c,"has",u)),s===u?r.has(s):r.has(s)||r.has(u)},forEach(s,r){const c=this,u=c.__v_raw,p=ze(u),f=t?ho:e?vn:ft;return!e&&Et(p,"iterate",gs),u.forEach((S,d)=>s.call(r,f(S),f(d),c))}};return At(o,e?{add:xn("add"),set:xn("set"),delete:xn("delete"),clear:xn("clear")}:{add(s){!t&&!Xt(s)&&!_s(s)&&(s=ze(s));const r=ze(this);return On(r).has.call(r,s)||(r.add(s),ss(r,"add",s,s)),this},set(s,r){!t&&!Xt(r)&&!_s(r)&&(r=ze(r));const c=ze(this),{has:u,get:p}=On(c);let f=u.call(c,s);f||(s=ze(s),f=u.call(c,s));const S=p.call(c,s);return c.set(s,r),f?ps(r,S)&&ss(c,"set",s,r):ss(c,"add",s,r),this},delete(s){const r=ze(this),{has:c,get:u}=On(r);let p=c.call(r,s);p||(s=ze(s),p=c.call(r,s)),u&&u.call(r,s);const f=r.delete(s);return p&&ss(r,"delete",s,void 0),f},clear(){const s=ze(this),r=s.size!==0,c=s.clear();return r&&ss(s,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(s=>{o[s]=Q_(s,e,t)}),o}function Pn(e,t){const o=Z_(e,t);return(a,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?a:Reflect.get(Ze(o,s)&&s in a?o:a,s,r)}const ef={get:Pn(!1,!1)},tf={get:Pn(!1,!0)},sf={get:Pn(!0,!1)},nf={get:Pn(!0,!0)},ha=new WeakMap,ga=new WeakMap,Ea=new WeakMap,Ca=new WeakMap;function of(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function af(e){return e.__v_skip||!Object.isExtensible(e)?0:of(M_(e))}function et(e){return _s(e)?e:Nn(e,!1,J_,ef,ha)}function rf(e){return Nn(e,!1,q_,tf,ga)}function go(e){return Nn(e,!0,W_,sf,Ea)}function nD(e){return Nn(e,!0,z_,nf,Ca)}function Nn(e,t,o,a,s){if(!it(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=af(e);if(r===0)return e;const c=s.get(e);if(c)return c;const u=new Proxy(e,r===2?a:o);return s.set(e,u),u}function Ns(e){return _s(e)?Ns(e.__v_raw):!!(e&&e.__v_isReactive)}function _s(e){return!!(e&&e.__v_isReadonly)}function Xt(e){return!!(e&&e.__v_isShallow)}function Eo(e){return e?!!e.__v_raw:!1}function ze(e){const t=e&&e.__v_raw;return t?ze(t):e}function lf(e){return!Ze(e,"__v_skip")&&Object.isExtensible(e)&&zo(e,"__v_skip",!0),e}const ft=e=>it(e)?et(e):e,vn=e=>it(e)?go(e):e;function mt(e){return e?e.__v_isRef===!0:!1}function Qe(e){return cf(e,!1)}function cf(e,t){return mt(e)?e:new df(e,t)}class df{constructor(t,o){this.dep=new uo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?t:ze(t),this._value=o?t:ft(t),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(t){const o=this._rawValue,a=this.__v_isShallow||Xt(t)||_s(t);t=a?t:ze(t),ps(t,o)&&(this._rawValue=t,this._value=a?t:ft(t),this.dep.trigger())}}function i(e){return mt(e)?e.value:e}const uf={get:(e,t,o)=>t==="__v_raw"?e:i(Reflect.get(e,t,o)),set:(e,t,o,a)=>{const s=e[t];return mt(s)&&!mt(o)?(s.value=o,!0):Reflect.set(e,t,o,a)}};function Aa(e){return Ns(e)?e:new Proxy(e,uf)}class pf{constructor(t,o,a){this.fn=t,this.setter=o,this._value=void 0,this.dep=new uo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&rt!==this)return oa(this,!0),!0}get value(){const t=this.dep.track();return ra(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function _f(e,t,o=!1){let a,s;return Be(e)?a=e:(a=e.get,s=e.set),new pf(a,s,o)}const Mn={},In=new WeakMap;let Es;function ff(e,t=!1,o=Es){if(o){let a=In.get(o);a||In.set(o,a=[]),a.push(e)}}function mf(e,t,o=ot){const{immediate:a,deep:s,once:r,scheduler:c,augmentJob:u,call:p}=o,f=N=>s?N:Xt(N)||s===!1||s===0?os(N,1):os(N);let S,d,M,C,H=!1,Y=!1;if(mt(e)?(d=()=>e.value,H=Xt(e)):Ns(e)?(d=()=>f(e),H=!0):Xe(e)?(Y=!0,H=e.some(N=>Ns(N)||Xt(N)),d=()=>e.map(N=>{if(mt(N))return N.value;if(Ns(N))return f(N);if(Be(N))return p?p(N,2):N()})):Be(e)?t?d=p?()=>p(e,2):e:d=()=>{if(M){Jt();try{M()}finally{Wt()}}const N=Es;Es=S;try{return p?p(e,3,[C]):e(C)}finally{Es=N}}:d=jt,t&&s){const N=d,j=s===!0?1/0:s;d=()=>os(N(),j)}const T=F_(),h=()=>{S.stop(),T&&T.active&&eo(T.effects,S)};if(r&&t){const N=t;t=(...j)=>{N(...j),h()}}let _=Y?new Array(e.length).fill(Mn):Mn;const P=N=>{if(!(!(S.flags&1)||!S.dirty&&!N))if(t){const j=S.run();if(s||H||(Y?j.some((se,W)=>ps(se,_[W])):ps(j,_))){M&&M();const se=Es;Es=S;try{const W=[j,_===Mn?void 0:Y&&_[0]===Mn?[]:_,C];_=j,p?p(t,3,W):t(...W)}finally{Es=se}}}else S.run()};return u&&u(P),S=new sa(d),S.scheduler=c?()=>c(P,!1):P,C=N=>ff(N,!1,S),M=S.onStop=()=>{const N=In.get(S);if(N){if(p)p(N,4);else for(const j of N)j();In.delete(S)}},t?a?P(!0):_=S.run():c?c(P.bind(null,!0),!0):S.run(),h.pause=S.pause.bind(S),h.resume=S.resume.bind(S),h.stop=h,h}function os(e,t=1/0,o){if(t<=0||!it(e)||e.__v_skip||(o=o||new Map,(o.get(e)||0)>=t))return e;if(o.set(e,t),t--,mt(e))os(e.value,t,o);else if(Xe(e))for(let a=0;a<e.length;a++)os(e[a],t,o);else if(xs(e)||Os(e))e.forEach(a=>{os(a,t,o)});else if(Wo(e)){for(const a in e)os(e[a],t,o);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&os(e[a],t,o)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const qs=[];let Co=!1;function oD(e,...t){if(Co)return;Co=!0,Jt();const o=qs.length?qs[qs.length-1].component:null,a=o&&o.appContext.config.warnHandler,s=hf();if(a)vs(a,o,11,[e+t.map(r=>{var c,u;return(u=(c=r.toString)==null?void 0:c.call(r))!=null?u:JSON.stringify(r)}).join(""),o&&o.proxy,s.map(({vnode:r})=>`at <${_i(o,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${e}`,...t];s.length&&r.push(`
`,...gf(s)),console.warn(...r)}Wt(),Co=!1}function hf(){let e=qs[qs.length-1];if(!e)return[];const t=[];for(;e;){const o=t[0];o&&o.vnode===e?o.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function gf(e){const t=[];return e.forEach((o,a)=>{t.push(...a===0?[]:[`
`],...Ef(o))}),t}function Ef({vnode:e,recurseCount:t}){const o=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,s=` at <${_i(e.component,e.type,a)}`,r=">"+o;return e.props?[s,...Cf(e.props),r]:[s+r]}function Cf(e){const t=[],o=Object.keys(e);return o.slice(0,3).forEach(a=>{t.push(...Sa(a,e[a]))}),o.length>3&&t.push(" ..."),t}function Sa(e,t,o){return ut(t)?(t=JSON.stringify(t),o?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?o?t:[`${e}=${t}`]:mt(t)?(t=Sa(e,ze(t.value),!0),o?t:[`${e}=Ref<`,t,">"]):Be(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ze(t),o?t:[`${e}=`,t])}function vs(e,t,o,a){try{return a?e(...a):e()}catch(s){kn(s,t,o)}}function qt(e,t,o,a){if(Be(e)){const s=vs(e,t,o,a);return s&&jo(s)&&s.catch(r=>{kn(r,t,o)}),s}if(Xe(e)){const s=[];for(let r=0;r<e.length;r++)s.push(qt(e[r],t,o,a));return s}}function kn(e,t,o,a=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||ot;if(t){let u=t.parent;const p=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${o}`;for(;u;){const S=u.ec;if(S){for(let d=0;d<S.length;d++)if(S[d](e,p,f)===!1)return}u=u.parent}if(r){Jt(),vs(r,null,10,[e,p,f]),Wt();return}}Af(e,o,s,a,c)}function Af(e,t,o,a=!0,s=!1){if(s)throw e;console.error(e)}const St=[];let zt=-1;const Ms=[];let fs=null,Is=0;const ba=Promise.resolve();let wn=null;function Ta(e){const t=wn||ba;return e?t.then(this?e.bind(this):e):t}function Sf(e){let t=zt+1,o=St.length;for(;t<o;){const a=t+o>>>1,s=St[a],r=zs(s);r<e||r===e&&s.flags&2?t=a+1:o=a}return t}function Ao(e){if(!(e.flags&1)){const t=zs(e),o=St[St.length-1];!o||!(e.flags&2)&&t>=zs(o)?St.push(e):St.splice(Sf(t),0,e),e.flags|=1,ya()}}function ya(){wn||(wn=ba.then(xa))}function bf(e){Xe(e)?Ms.push(...e):fs&&e.id===-1?fs.splice(Is+1,0,e):e.flags&1||(Ms.push(e),e.flags|=1),ya()}function Ra(e,t,o=zt+1){for(;o<St.length;o++){const a=St[o];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;St.splice(o,1),o--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function Oa(e){if(Ms.length){const t=[...new Set(Ms)].sort((o,a)=>zs(o)-zs(a));if(Ms.length=0,fs){fs.push(...t);return}for(fs=t,Is=0;Is<fs.length;Is++){const o=fs[Is];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}fs=null,Is=0}}const zs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function xa(e){try{for(zt=0;zt<St.length;zt++){const t=St[zt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),vs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;zt<St.length;zt++){const t=St[zt];t&&(t.flags&=-2)}zt=-1,St.length=0,Oa(),wn=null,(St.length||Ms.length)&&xa()}}let Ct=null,Pa=null;function $n(e){const t=Ct;return Ct=e,Pa=e&&e.type.__scopeId||null,t}function Na(e,t=Ct,o){if(!t||e._n)return e;const a=(...s)=>{a._d&&ii(-1);const r=$n(t);let c;try{c=e(...s)}finally{$n(r),a._d&&ii(1)}return c};return a._n=!0,a._c=!0,a._d=!0,a}function oe(e,t){if(Ct===null)return e;const o=Bn(Ct),a=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,c,u,p=ot]=t[s];r&&(Be(r)&&(r={mounted:r,updated:r}),r.deep&&os(c),a.push({dir:r,instance:o,value:c,oldValue:void 0,arg:u,modifiers:p}))}return e}function Cs(e,t,o,a){const s=e.dirs,r=t&&t.dirs;for(let c=0;c<s.length;c++){const u=s[c];r&&(u.oldValue=r[c].value);let p=u.dir[a];p&&(Jt(),qt(p,o,8,[e.el,u,e,t]),Wt())}}const Tf=Symbol("_vte"),yf=e=>e.__isTeleport,Rf=Symbol("_leaveCb");function So(e,t){e.shapeFlag&6&&e.component?(e.transition=t,So(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function va(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Dn=new WeakMap;function Qs(e,t,o,a,s=!1){if(Xe(e)){e.forEach((H,Y)=>Qs(H,t&&(Xe(t)?t[Y]:t),o,a,s));return}if(ks(a)&&!s){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Qs(e,t,o,a.component.subTree);return}const r=a.shapeFlag&4?Bn(a.component):a.el,c=s?null:r,{i:u,r:p}=e,f=t&&t.r,S=u.refs===ot?u.refs={}:u.refs,d=u.setupState,M=ze(d),C=d===ot?Bo:H=>Ze(M,H);if(f!=null&&f!==p){if(Ma(t),ut(f))S[f]=null,C(f)&&(d[f]=null);else if(mt(f)){f.value=null;const H=t;H.k&&(S[H.k]=null)}}if(Be(p))vs(p,u,12,[c,S]);else{const H=ut(p),Y=mt(p);if(H||Y){const T=()=>{if(e.f){const h=H?C(p)?d[p]:S[p]:p.value;if(s)Xe(h)&&eo(h,r);else if(Xe(h))h.includes(r)||h.push(r);else if(H)S[p]=[r],C(p)&&(d[p]=S[p]);else{const _=[r];p.value=_,e.k&&(S[e.k]=_)}}else H?(S[p]=c,C(p)&&(d[p]=c)):Y&&(p.value=c,e.k&&(S[e.k]=c))};if(c){const h=()=>{T(),Dn.delete(e)};h.id=-1,Dn.set(e,h),It(h,o)}else Ma(e),T()}}}function Ma(e){const t=Dn.get(e);t&&(t.flags|=8,Dn.delete(e))}yn().requestIdleCallback,yn().cancelIdleCallback;const ks=e=>!!e.type.__asyncLoader,Ia=e=>e.type.__isKeepAlive;function Of(e,t){ka(e,"a",t)}function xf(e,t){ka(e,"da",t)}function ka(e,t,o=yt){const a=e.__wdc||(e.__wdc=()=>{let s=o;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ln(t,a,o),o){let s=o.parent;for(;s&&s.parent;)Ia(s.parent.vnode)&&Pf(a,t,o,s),s=s.parent}}function Pf(e,t,o,a){const s=Ln(t,e,a,!0);bo(()=>{eo(a[t],s)},o)}function Ln(e,t,o=yt,a=!1){if(o){const s=o[e]||(o[e]=[]),r=t.__weh||(t.__weh=(...c)=>{Jt();const u=an(o),p=qt(t,o,e,c);return u(),Wt(),p});return a?s.unshift(r):s.push(r),r}}const as=e=>(t,o=yt)=>{(!rn||e==="sp")&&Ln(e,(...a)=>t(...a),o)},Nf=as("bm"),Ot=as("m"),vf=as("bu"),Mf=as("u"),Zs=as("bum"),bo=as("um"),If=as("sp"),kf=as("rtg"),wf=as("rtc");function $f(e,t=yt){Ln("ec",e,t)}const Df=Symbol.for("v-ndc");function Ge(e,t,o,a){let s;const r=o,c=Xe(e);if(c||ut(e)){const u=c&&Ns(e);let p=!1,f=!1;u&&(p=!Xt(e),f=_s(e),e=Rn(e)),s=new Array(e.length);for(let S=0,d=e.length;S<d;S++)s[S]=t(p?f?vn(ft(e[S])):ft(e[S]):e[S],S,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let u=0;u<e;u++)s[u]=t(u+1,u,void 0,r)}else if(it(e))if(e[Symbol.iterator])s=Array.from(e,(u,p)=>t(u,p,void 0,r));else{const u=Object.keys(e);s=new Array(u.length);for(let p=0,f=u.length;p<f;p++){const S=u[p];s[p]=t(e[S],S,p,r)}}else s=[];return s}function Lf(e,t,o={},a,s){if(Ct.ce||Ct.parent&&ks(Ct.parent)&&Ct.parent.ce){const f=Object.keys(o).length>0;return E(),Tt(we,null,[_t("slot",o,a)],f?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),E();const c=r&&wa(r(o)),u=o.key||c&&c.key,p=Tt(we,{key:(u&&!Vt(u)?u:`_${t}`)+(!c&&a?"_fb":"")},c||[],c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),r&&r._c&&(r._d=!0),p}function wa(e){return e.some(t=>Mo(t)?!(t.type===is||t.type===we&&!wa(t.children)):!0)?e:null}const To=e=>e?di(e)?Bn(e):To(e.parent):null,en=At(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>To(e.parent),$root:e=>To(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ya(e),$forceUpdate:e=>e.f||(e.f=()=>{Ao(e.update)}),$nextTick:e=>e.n||(e.n=Ta.bind(e.proxy)),$watch:e=>am.bind(e)}),yo=(e,t)=>e!==ot&&!e.__isScriptSetup&&Ze(e,t),Yf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:o,setupState:a,data:s,props:r,accessCache:c,type:u,appContext:p}=e;let f;if(t[0]!=="$"){const C=c[t];if(C!==void 0)switch(C){case 1:return a[t];case 2:return s[t];case 4:return o[t];case 3:return r[t]}else{if(yo(a,t))return c[t]=1,a[t];if(s!==ot&&Ze(s,t))return c[t]=2,s[t];if((f=e.propsOptions[0])&&Ze(f,t))return c[t]=3,r[t];if(o!==ot&&Ze(o,t))return c[t]=4,o[t];Ro&&(c[t]=0)}}const S=en[t];let d,M;if(S)return t==="$attrs"&&Et(e.attrs,"get",""),S(e);if((d=u.__cssModules)&&(d=d[t]))return d;if(o!==ot&&Ze(o,t))return c[t]=4,o[t];if(M=p.config.globalProperties,Ze(M,t))return M[t]},set({_:e},t,o){const{data:a,setupState:s,ctx:r}=e;return yo(s,t)?(s[t]=o,!0):a!==ot&&Ze(a,t)?(a[t]=o,!0):Ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:a,appContext:s,propsOptions:r,type:c}},u){let p,f;return!!(o[u]||e!==ot&&u[0]!=="$"&&Ze(e,u)||yo(t,u)||(p=r[0])&&Ze(p,u)||Ze(a,u)||Ze(en,u)||Ze(s.config.globalProperties,u)||(f=c.__cssModules)&&f[u])},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:Ze(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};function $a(e){return Xe(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}let Ro=!0;function Uf(e){const t=Ya(e),o=e.proxy,a=e.ctx;Ro=!1,t.beforeCreate&&Da(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:c,watch:u,provide:p,inject:f,created:S,beforeMount:d,mounted:M,beforeUpdate:C,updated:H,activated:Y,deactivated:T,beforeDestroy:h,beforeUnmount:_,destroyed:P,unmounted:N,render:j,renderTracked:se,renderTriggered:W,errorCaptured:Ne,serverPrefetch:Ie,expose:v,inheritAttrs:De,components:$e,directives:Me,filters:Fe}=t;if(f&&Xf(f,a,null),c)for(const L in c){const $=c[L];Be($)&&(a[L]=$.bind(o))}if(s){const L=s.call(o,o);it(L)&&(e.data=et(L))}if(Ro=!0,r)for(const L in r){const $=r[L],I=Be($)?$.bind(o,o):Be($.get)?$.get.bind(o,o):jt,B=!Be($)&&Be($.set)?$.set.bind(o):jt,z=Te({get:I,set:B});Object.defineProperty(a,L,{enumerable:!0,configurable:!0,get:()=>z.value,set:y=>z.value=y})}if(u)for(const L in u)La(u[L],a,o,L);if(p){const L=Be(p)?p.call(o):p;Reflect.ownKeys(L).forEach($=>{Kf($,L[$])})}S&&Da(S,e,"c");function ne(L,$){Xe($)?$.forEach(I=>L(I.bind(o))):$&&L($.bind(o))}if(ne(Nf,d),ne(Ot,M),ne(vf,C),ne(Mf,H),ne(Of,Y),ne(xf,T),ne($f,Ne),ne(wf,se),ne(kf,W),ne(Zs,_),ne(bo,N),ne(If,Ie),Xe(v))if(v.length){const L=e.exposed||(e.exposed={});v.forEach($=>{Object.defineProperty(L,$,{get:()=>o[$],set:I=>o[$]=I,enumerable:!0})})}else e.exposed||(e.exposed={});j&&e.render===jt&&(e.render=j),De!=null&&(e.inheritAttrs=De),$e&&(e.components=$e),Me&&(e.directives=Me),Ie&&va(e)}function Xf(e,t,o=jt){Xe(e)&&(e=Oo(e));for(const a in e){const s=e[a];let r;it(s)?"default"in s?r=Un(s.from||a,s.default,!0):r=Un(s.from||a):r=Un(s),mt(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:c=>r.value=c}):t[a]=r}}function Da(e,t,o){qt(Xe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,o)}function La(e,t,o,a){let s=a.includes(".")?ti(o,a):()=>o[a];if(ut(e)){const r=t[e];Be(r)&&ct(s,r)}else if(Be(e))ct(s,e.bind(o));else if(it(e))if(Xe(e))e.forEach(r=>La(r,t,o,a));else{const r=Be(e.handler)?e.handler.bind(o):t[e.handler];Be(r)&&ct(s,r,e)}}function Ya(e){const t=e.type,{mixins:o,extends:a}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:c}}=e.appContext,u=r.get(t);let p;return u?p=u:!s.length&&!o&&!a?p=t:(p={},s.length&&s.forEach(f=>Yn(p,f,c,!0)),Yn(p,t,c)),it(t)&&r.set(t,p),p}function Yn(e,t,o,a=!1){const{mixins:s,extends:r}=t;r&&Yn(e,r,o,!0),s&&s.forEach(c=>Yn(e,c,o,!0));for(const c in t)if(!(a&&c==="expose")){const u=Ff[c]||o&&o[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const Ff={data:Ua,props:Xa,emits:Xa,methods:tn,computed:tn,beforeCreate:bt,created:bt,beforeMount:bt,mounted:bt,beforeUpdate:bt,updated:bt,beforeDestroy:bt,beforeUnmount:bt,destroyed:bt,unmounted:bt,activated:bt,deactivated:bt,errorCaptured:bt,serverPrefetch:bt,components:tn,directives:tn,watch:Vf,provide:Ua,inject:Gf};function Ua(e,t){return t?e?function(){return At(Be(e)?e.call(this,this):e,Be(t)?t.call(this,this):t)}:t:e}function Gf(e,t){return tn(Oo(e),Oo(t))}function Oo(e){if(Xe(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function bt(e,t){return e?[...new Set([].concat(e,t))]:t}function tn(e,t){return e?At(Object.create(null),e,t):t}function Xa(e,t){return e?Xe(e)&&Xe(t)?[...new Set([...e,...t])]:At(Object.create(null),$a(e),$a(t!=null?t:{})):t}function Vf(e,t){if(!e)return t;if(!t)return e;const o=At(Object.create(null),e);for(const a in t)o[a]=bt(e[a],t[a]);return o}function Fa(){return{app:null,config:{isNativeTag:Bo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Hf=0;function Bf(e,t){return function(a,s=null){Be(a)||(a=At({},a)),s!=null&&!it(s)&&(s=null);const r=Fa(),c=new WeakSet,u=[];let p=!1;const f=r.app={_uid:Hf++,_component:a,_props:s,_container:null,_context:r,_instance:null,version:Mm,get config(){return r.config},set config(S){},use(S,...d){return c.has(S)||(S&&Be(S.install)?(c.add(S),S.install(f,...d)):Be(S)&&(c.add(S),S(f,...d))),f},mixin(S){return r.mixins.includes(S)||r.mixins.push(S),f},component(S,d){return d?(r.components[S]=d,f):r.components[S]},directive(S,d){return d?(r.directives[S]=d,f):r.directives[S]},mount(S,d,M){if(!p){const C=f._ceVNode||_t(a,s);return C.appContext=r,M===!0?M="svg":M===!1&&(M=void 0),e(C,S,M),p=!0,f._container=S,S.__vue_app__=f,Bn(C.component)}},onUnmount(S){u.push(S)},unmount(){p&&(qt(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(S,d){return r.provides[S]=d,f},runWithContext(S){const d=ws;ws=f;try{return S()}finally{ws=d}}};return f}}let ws=null;function Kf(e,t){if(yt){let o=yt.provides;const a=yt.parent&&yt.parent.provides;a===o&&(o=yt.provides=Object.create(a)),o[e]=t}}function Un(e,t,o=!1){const a=bm();if(a||ws){let s=ws?ws._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return o&&Be(t)?t.call(a&&a.proxy):t}}const Ga={},Va=()=>Object.create(Ga),Ha=e=>Object.getPrototypeOf(e)===Ga;function jf(e,t,o,a=!1){const s={},r=Va();e.propsDefaults=Object.create(null),Ba(e,t,s,r);for(const c in e.propsOptions[0])c in s||(s[c]=void 0);o?e.props=a?s:rf(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function Jf(e,t,o,a){const{props:s,attrs:r,vnode:{patchFlag:c}}=e,u=ze(s),[p]=e.propsOptions;let f=!1;if((a||c>0)&&!(c&16)){if(c&8){const S=e.vnode.dynamicProps;for(let d=0;d<S.length;d++){let M=S[d];if(Xn(e.emitsOptions,M))continue;const C=t[M];if(p)if(Ze(r,M))C!==r[M]&&(r[M]=C,f=!0);else{const H=ds(M);s[H]=xo(p,u,H,C,e,!1)}else C!==r[M]&&(r[M]=C,f=!0)}}}else{Ba(e,t,s,r)&&(f=!0);let S;for(const d in u)(!t||!Ze(t,d)&&((S=us(d))===d||!Ze(t,S)))&&(p?o&&(o[d]!==void 0||o[S]!==void 0)&&(s[d]=xo(p,u,d,void 0,e,!0)):delete s[d]);if(r!==u)for(const d in r)(!t||!Ze(t,d))&&(delete r[d],f=!0)}f&&ss(e.attrs,"set","")}function Ba(e,t,o,a){const[s,r]=e.propsOptions;let c=!1,u;if(t)for(let p in t){if(Vs(p))continue;const f=t[p];let S;s&&Ze(s,S=ds(p))?!r||!r.includes(S)?o[S]=f:(u||(u={}))[S]=f:Xn(e.emitsOptions,p)||(!(p in a)||f!==a[p])&&(a[p]=f,c=!0)}if(r){const p=ze(o),f=u||ot;for(let S=0;S<r.length;S++){const d=r[S];o[d]=xo(s,p,d,f[d],e,!Ze(f,d))}}return c}function xo(e,t,o,a,s,r){const c=e[o];if(c!=null){const u=Ze(c,"default");if(u&&a===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&Be(p)){const{propsDefaults:f}=s;if(o in f)a=f[o];else{const S=an(s);a=f[o]=p.call(null,t),S()}}else a=p;s.ce&&s.ce._setProp(o,a)}c[0]&&(r&&!u?a=!1:c[1]&&(a===""||a===us(o))&&(a=!0))}return a}const Wf=new WeakMap;function Ka(e,t,o=!1){const a=o?Wf:t.propsCache,s=a.get(e);if(s)return s;const r=e.props,c={},u=[];let p=!1;if(!Be(e)){const S=d=>{p=!0;const[M,C]=Ka(d,t,!0);At(c,M),C&&u.push(...C)};!o&&t.mixins.length&&t.mixins.forEach(S),e.extends&&S(e.extends),e.mixins&&e.mixins.forEach(S)}if(!r&&!p)return it(e)&&a.set(e,Rs),Rs;if(Xe(r))for(let S=0;S<r.length;S++){const d=ds(r[S]);ja(d)&&(c[d]=ot)}else if(r)for(const S in r){const d=ds(S);if(ja(d)){const M=r[S],C=c[d]=Xe(M)||Be(M)?{type:M}:At({},M),H=C.type;let Y=!1,T=!0;if(Xe(H))for(let h=0;h<H.length;++h){const _=H[h],P=Be(_)&&_.name;if(P==="Boolean"){Y=!0;break}else P==="String"&&(T=!1)}else Y=Be(H)&&H.name==="Boolean";C[0]=Y,C[1]=T,(Y||Ze(C,"default"))&&u.push(d)}}const f=[c,u];return it(e)&&a.set(e,f),f}function ja(e){return e[0]!=="$"&&!Vs(e)}const Po=e=>e==="_"||e==="_ctx"||e==="$stable",No=e=>Xe(e)?e.map(Qt):[Qt(e)],qf=(e,t,o)=>{if(t._n)return t;const a=Na((...s)=>No(t(...s)),o);return a._c=!1,a},Ja=(e,t,o)=>{const a=e._ctx;for(const s in e){if(Po(s))continue;const r=e[s];if(Be(r))t[s]=qf(s,r,a);else if(r!=null){const c=No(r);t[s]=()=>c}}},Wa=(e,t)=>{const o=No(t);e.slots.default=()=>o},qa=(e,t,o)=>{for(const a in t)(o||!Po(a))&&(e[a]=t[a])},zf=(e,t,o)=>{const a=e.slots=Va();if(e.vnode.shapeFlag&32){const s=t._;s?(qa(a,t,o),o&&zo(a,"_",s,!0)):Ja(t,a)}else t&&Wa(e,t)},Qf=(e,t,o)=>{const{vnode:a,slots:s}=e;let r=!0,c=ot;if(a.shapeFlag&32){const u=t._;u?o&&u===1?r=!1:qa(s,t,o):(r=!t.$stable,Ja(t,s)),c=t}else t&&(Wa(e,t),c={default:1});if(r)for(const u in s)!Po(u)&&c[u]==null&&delete s[u]},It=_m;function Zf(e){return em(e)}function em(e,t){const o=yn();o.__VUE__=!0;const{insert:a,remove:s,patchProp:r,createElement:c,createText:u,createComment:p,setText:f,setElementText:S,parentNode:d,nextSibling:M,setScopeId:C=jt,insertStaticContent:H}=e,Y=(R,O,F,ae=null,Z=null,ee=null,Q=void 0,q=null,te=!!O.dynamicChildren)=>{if(R===O)return;R&&!on(R,O)&&(ae=be(R),y(R,Z,ee,!0),R=null),O.patchFlag===-2&&(te=!1,O.dynamicChildren=null);const{type:J,ref:Ee,shapeFlag:de}=O;switch(J){case Fn:T(R,O,F,ae);break;case is:h(R,O,F,ae);break;case Gn:R==null&&_(O,F,ae,Q);break;case we:$e(R,O,F,ae,Z,ee,Q,q,te);break;default:de&1?j(R,O,F,ae,Z,ee,Q,q,te):de&6?Me(R,O,F,ae,Z,ee,Q,q,te):(de&64||de&128)&&J.process(R,O,F,ae,Z,ee,Q,q,te,xe)}Ee!=null&&Z?Qs(Ee,R&&R.ref,ee,O||R,!O):Ee==null&&R&&R.ref!=null&&Qs(R.ref,null,ee,R,!0)},T=(R,O,F,ae)=>{if(R==null)a(O.el=u(O.children),F,ae);else{const Z=O.el=R.el;O.children!==R.children&&f(Z,O.children)}},h=(R,O,F,ae)=>{R==null?a(O.el=p(O.children||""),F,ae):O.el=R.el},_=(R,O,F,ae)=>{[R.el,R.anchor]=H(R.children,O,F,ae,R.el,R.anchor)},P=({el:R,anchor:O},F,ae)=>{let Z;for(;R&&R!==O;)Z=M(R),a(R,F,ae),R=Z;a(O,F,ae)},N=({el:R,anchor:O})=>{let F;for(;R&&R!==O;)F=M(R),s(R),R=F;s(O)},j=(R,O,F,ae,Z,ee,Q,q,te)=>{O.type==="svg"?Q="svg":O.type==="math"&&(Q="mathml"),R==null?se(O,F,ae,Z,ee,Q,q,te):Ie(R,O,Z,ee,Q,q,te)},se=(R,O,F,ae,Z,ee,Q,q)=>{let te,J;const{props:Ee,shapeFlag:de,transition:he,dirs:Ae}=R;if(te=R.el=c(R.type,ee,Ee&&Ee.is,Ee),de&8?S(te,R.children):de&16&&Ne(R.children,te,null,ae,Z,vo(R,ee),Q,q),Ae&&Cs(R,null,ae,"created"),W(te,R,R.scopeId,Q,ae),Ee){for(const x in Ee)x!=="value"&&!Vs(x)&&r(te,x,null,Ee[x],ee,ae);"value"in Ee&&r(te,"value",null,Ee.value,ee),(J=Ee.onVnodeBeforeMount)&&Zt(J,ae,R)}Ae&&Cs(R,null,ae,"beforeMount");const Re=tm(Z,he);Re&&he.beforeEnter(te),a(te,O,F),((J=Ee&&Ee.onVnodeMounted)||Re||Ae)&&It(()=>{J&&Zt(J,ae,R),Re&&he.enter(te),Ae&&Cs(R,null,ae,"mounted")},Z)},W=(R,O,F,ae,Z)=>{if(F&&C(R,F),ae)for(let ee=0;ee<ae.length;ee++)C(R,ae[ee]);if(Z){let ee=Z.subTree;if(O===ee||ai(ee.type)&&(ee.ssContent===O||ee.ssFallback===O)){const Q=Z.vnode;W(R,Q,Q.scopeId,Q.slotScopeIds,Z.parent)}}},Ne=(R,O,F,ae,Z,ee,Q,q,te=0)=>{for(let J=te;J<R.length;J++){const Ee=R[J]=q?ms(R[J]):Qt(R[J]);Y(null,Ee,O,F,ae,Z,ee,Q,q)}},Ie=(R,O,F,ae,Z,ee,Q)=>{const q=O.el=R.el;let{patchFlag:te,dynamicChildren:J,dirs:Ee}=O;te|=R.patchFlag&16;const de=R.props||ot,he=O.props||ot;let Ae;if(F&&As(F,!1),(Ae=he.onVnodeBeforeUpdate)&&Zt(Ae,F,O,R),Ee&&Cs(O,R,F,"beforeUpdate"),F&&As(F,!0),(de.innerHTML&&he.innerHTML==null||de.textContent&&he.textContent==null)&&S(q,""),J?v(R.dynamicChildren,J,q,F,ae,vo(O,Z),ee):Q||$(R,O,q,null,F,ae,vo(O,Z),ee,!1),te>0){if(te&16)De(q,de,he,F,Z);else if(te&2&&de.class!==he.class&&r(q,"class",null,he.class,Z),te&4&&r(q,"style",de.style,he.style,Z),te&8){const Re=O.dynamicProps;for(let x=0;x<Re.length;x++){const k=Re[x],le=de[k],ue=he[k];(ue!==le||k==="value")&&r(q,k,le,ue,Z,F)}}te&1&&R.children!==O.children&&S(q,O.children)}else!Q&&J==null&&De(q,de,he,F,Z);((Ae=he.onVnodeUpdated)||Ee)&&It(()=>{Ae&&Zt(Ae,F,O,R),Ee&&Cs(O,R,F,"updated")},ae)},v=(R,O,F,ae,Z,ee,Q)=>{for(let q=0;q<O.length;q++){const te=R[q],J=O[q],Ee=te.el&&(te.type===we||!on(te,J)||te.shapeFlag&198)?d(te.el):F;Y(te,J,Ee,null,ae,Z,ee,Q,!0)}},De=(R,O,F,ae,Z)=>{if(O!==F){if(O!==ot)for(const ee in O)!Vs(ee)&&!(ee in F)&&r(R,ee,O[ee],null,Z,ae);for(const ee in F){if(Vs(ee))continue;const Q=F[ee],q=O[ee];Q!==q&&ee!=="value"&&r(R,ee,q,Q,Z,ae)}"value"in F&&r(R,"value",O.value,F.value,Z)}},$e=(R,O,F,ae,Z,ee,Q,q,te)=>{const J=O.el=R?R.el:u(""),Ee=O.anchor=R?R.anchor:u("");let{patchFlag:de,dynamicChildren:he,slotScopeIds:Ae}=O;Ae&&(q=q?q.concat(Ae):Ae),R==null?(a(J,F,ae),a(Ee,F,ae),Ne(O.children||[],F,Ee,Z,ee,Q,q,te)):de>0&&de&64&&he&&R.dynamicChildren?(v(R.dynamicChildren,he,F,Z,ee,Q,q),(O.key!=null||Z&&O===Z.subTree)&&za(R,O,!0)):$(R,O,F,Ee,Z,ee,Q,q,te)},Me=(R,O,F,ae,Z,ee,Q,q,te)=>{O.slotScopeIds=q,R==null?O.shapeFlag&512?Z.ctx.activate(O,F,ae,Q,te):Fe(O,F,ae,Z,ee,Q,te):Ve(R,O,te)},Fe=(R,O,F,ae,Z,ee,Q)=>{const q=R.component=Sm(R,ae,Z);if(Ia(R)&&(q.ctx.renderer=xe),Tm(q,!1,Q),q.asyncDep){if(Z&&Z.registerDep(q,ne,Q),!R.el){const te=q.subTree=_t(is);h(null,te,O,F),R.placeholder=te.el}}else ne(q,R,O,F,Z,ee,Q)},Ve=(R,O,F)=>{const ae=O.component=R.component;if(um(R,O,F))if(ae.asyncDep&&!ae.asyncResolved){L(ae,O,F);return}else ae.next=O,ae.update();else O.el=R.el,ae.vnode=O},ne=(R,O,F,ae,Z,ee,Q)=>{const q=()=>{if(R.isMounted){let{next:de,bu:he,u:Ae,parent:Re,vnode:x}=R;{const ve=Qa(R);if(ve){de&&(de.el=x.el,L(R,de,Q)),ve.asyncDep.then(()=>{R.isUnmounted||q()});return}}let k=de,le;As(R,!1),de?(de.el=x.el,L(R,de,Q)):de=x,he&&bn(he),(le=de.props&&de.props.onVnodeBeforeUpdate)&&Zt(le,Re,de,x),As(R,!0);const ue=ni(R),U=R.subTree;R.subTree=ue,Y(U,ue,d(U.el),be(U),R,Z,ee),de.el=ue.el,k===null&&pm(R,ue.el),Ae&&It(Ae,Z),(le=de.props&&de.props.onVnodeUpdated)&&It(()=>Zt(le,Re,de,x),Z)}else{let de;const{el:he,props:Ae}=O,{bm:Re,m:x,parent:k,root:le,type:ue}=R,U=ks(O);As(R,!1),Re&&bn(Re),!U&&(de=Ae&&Ae.onVnodeBeforeMount)&&Zt(de,k,O),As(R,!0);{le.ce&&le.ce._def.shadowRoot!==!1&&le.ce._injectChildStyle(ue);const ve=R.subTree=ni(R);Y(null,ve,F,ae,R,Z,ee),O.el=ve.el}if(x&&It(x,Z),!U&&(de=Ae&&Ae.onVnodeMounted)){const ve=O;It(()=>Zt(de,k,ve),Z)}(O.shapeFlag&256||k&&ks(k.vnode)&&k.vnode.shapeFlag&256)&&R.a&&It(R.a,Z),R.isMounted=!0,O=F=ae=null}};R.scope.on();const te=R.effect=new sa(q);R.scope.off();const J=R.update=te.run.bind(te),Ee=R.job=te.runIfDirty.bind(te);Ee.i=R,Ee.id=R.uid,te.scheduler=()=>Ao(Ee),As(R,!0),J()},L=(R,O,F)=>{O.component=R;const ae=R.vnode.props;R.vnode=O,R.next=null,Jf(R,O.props,ae,F),Qf(R,O.children,F),Jt(),Ra(R),Wt()},$=(R,O,F,ae,Z,ee,Q,q,te=!1)=>{const J=R&&R.children,Ee=R?R.shapeFlag:0,de=O.children,{patchFlag:he,shapeFlag:Ae}=O;if(he>0){if(he&128){B(J,de,F,ae,Z,ee,Q,q,te);return}else if(he&256){I(J,de,F,ae,Z,ee,Q,q,te);return}}Ae&8?(Ee&16&&re(J,Z,ee),de!==J&&S(F,de)):Ee&16?Ae&16?B(J,de,F,ae,Z,ee,Q,q,te):re(J,Z,ee,!0):(Ee&8&&S(F,""),Ae&16&&Ne(de,F,ae,Z,ee,Q,q,te))},I=(R,O,F,ae,Z,ee,Q,q,te)=>{R=R||Rs,O=O||Rs;const J=R.length,Ee=O.length,de=Math.min(J,Ee);let he;for(he=0;he<de;he++){const Ae=O[he]=te?ms(O[he]):Qt(O[he]);Y(R[he],Ae,F,null,Z,ee,Q,q,te)}J>Ee?re(R,Z,ee,!0,!1,de):Ne(O,F,ae,Z,ee,Q,q,te,de)},B=(R,O,F,ae,Z,ee,Q,q,te)=>{let J=0;const Ee=O.length;let de=R.length-1,he=Ee-1;for(;J<=de&&J<=he;){const Ae=R[J],Re=O[J]=te?ms(O[J]):Qt(O[J]);if(on(Ae,Re))Y(Ae,Re,F,null,Z,ee,Q,q,te);else break;J++}for(;J<=de&&J<=he;){const Ae=R[de],Re=O[he]=te?ms(O[he]):Qt(O[he]);if(on(Ae,Re))Y(Ae,Re,F,null,Z,ee,Q,q,te);else break;de--,he--}if(J>de){if(J<=he){const Ae=he+1,Re=Ae<Ee?O[Ae].el:ae;for(;J<=he;)Y(null,O[J]=te?ms(O[J]):Qt(O[J]),F,Re,Z,ee,Q,q,te),J++}}else if(J>he)for(;J<=de;)y(R[J],Z,ee,!0),J++;else{const Ae=J,Re=J,x=new Map;for(J=Re;J<=he;J++){const je=O[J]=te?ms(O[J]):Qt(O[J]);je.key!=null&&x.set(je.key,J)}let k,le=0;const ue=he-Re+1;let U=!1,ve=0;const qe=new Array(ue);for(J=0;J<ue;J++)qe[J]=0;for(J=Ae;J<=de;J++){const je=R[J];if(le>=ue){y(je,Z,ee,!0);continue}let tt;if(je.key!=null)tt=x.get(je.key);else for(k=Re;k<=he;k++)if(qe[k-Re]===0&&on(je,O[k])){tt=k;break}tt===void 0?y(je,Z,ee,!0):(qe[tt-Re]=J+1,tt>=ve?ve=tt:U=!0,Y(je,O[tt],F,null,Z,ee,Q,q,te),le++)}const Ke=U?sm(qe):Rs;for(k=Ke.length-1,J=ue-1;J>=0;J--){const je=Re+J,tt=O[je],ge=O[je+1],ke=je+1<Ee?ge.el||ge.placeholder:ae;qe[J]===0?Y(null,tt,F,ke,Z,ee,Q,q,te):U&&(k<0||J!==Ke[k]?z(tt,F,ke,2):k--)}}},z=(R,O,F,ae,Z=null)=>{const{el:ee,type:Q,transition:q,children:te,shapeFlag:J}=R;if(J&6){z(R.component.subTree,O,F,ae);return}if(J&128){R.suspense.move(O,F,ae);return}if(J&64){Q.move(R,O,F,xe);return}if(Q===we){a(ee,O,F);for(let de=0;de<te.length;de++)z(te[de],O,F,ae);a(R.anchor,O,F);return}if(Q===Gn){P(R,O,F);return}if(ae!==2&&J&1&&q)if(ae===0)q.beforeEnter(ee),a(ee,O,F),It(()=>q.enter(ee),Z);else{const{leave:de,delayLeave:he,afterLeave:Ae}=q,Re=()=>{R.ctx.isUnmounted?s(ee):a(ee,O,F)},x=()=>{ee._isLeaving&&ee[Rf](!0),de(ee,()=>{Re(),Ae&&Ae()})};he?he(ee,Re,x):x()}else a(ee,O,F)},y=(R,O,F,ae=!1,Z=!1)=>{const{type:ee,props:Q,ref:q,children:te,dynamicChildren:J,shapeFlag:Ee,patchFlag:de,dirs:he,cacheIndex:Ae}=R;if(de===-2&&(Z=!1),q!=null&&(Jt(),Qs(q,null,F,R,!0),Wt()),Ae!=null&&(O.renderCache[Ae]=void 0),Ee&256){O.ctx.deactivate(R);return}const Re=Ee&1&&he,x=!ks(R);let k;if(x&&(k=Q&&Q.onVnodeBeforeUnmount)&&Zt(k,O,R),Ee&6)ce(R.component,F,ae);else{if(Ee&128){R.suspense.unmount(F,ae);return}Re&&Cs(R,null,O,"beforeUnmount"),Ee&64?R.type.remove(R,O,F,xe,ae):J&&!J.hasOnce&&(ee!==we||de>0&&de&64)?re(J,O,F,!1,!0):(ee===we&&de&384||!Z&&Ee&16)&&re(te,O,F),ae&&A(R)}(x&&(k=Q&&Q.onVnodeUnmounted)||Re)&&It(()=>{k&&Zt(k,O,R),Re&&Cs(R,null,O,"unmounted")},F)},A=R=>{const{type:O,el:F,anchor:ae,transition:Z}=R;if(O===we){g(F,ae);return}if(O===Gn){N(R);return}const ee=()=>{s(F),Z&&!Z.persisted&&Z.afterLeave&&Z.afterLeave()};if(R.shapeFlag&1&&Z&&!Z.persisted){const{leave:Q,delayLeave:q}=Z,te=()=>Q(F,ee);q?q(R.el,ee,te):te()}else ee()},g=(R,O)=>{let F;for(;R!==O;)F=M(R),s(R),R=F;s(O)},ce=(R,O,F)=>{const{bum:ae,scope:Z,job:ee,subTree:Q,um:q,m:te,a:J}=R;Za(te),Za(J),ae&&bn(ae),Z.stop(),ee&&(ee.flags|=8,y(Q,R,O,F)),q&&It(q,O),It(()=>{R.isUnmounted=!0},O)},re=(R,O,F,ae=!1,Z=!1,ee=0)=>{for(let Q=ee;Q<R.length;Q++)y(R[Q],O,F,ae,Z)},be=R=>{if(R.shapeFlag&6)return be(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const O=M(R.anchor||R.el),F=O&&O[Tf];return F?M(F):O};let K=!1;const fe=(R,O,F)=>{R==null?O._vnode&&y(O._vnode,null,null,!0):Y(O._vnode||null,R,O,null,null,null,F),O._vnode=R,K||(K=!0,Ra(),Oa(),K=!1)},xe={p:Y,um:y,m:z,r:A,mt:Fe,mc:Ne,pc:$,pbc:v,n:be,o:e};return{render:fe,hydrate:void 0,createApp:Bf(fe)}}function vo({type:e,props:t},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:o}function As({effect:e,job:t},o){o?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function tm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function za(e,t,o=!1){const a=e.children,s=t.children;if(Xe(a)&&Xe(s))for(let r=0;r<a.length;r++){const c=a[r];let u=s[r];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[r]=ms(s[r]),u.el=c.el),!o&&u.patchFlag!==-2&&za(c,u)),u.type===Fn&&u.patchFlag!==-1&&(u.el=c.el),u.type===is&&!u.el&&(u.el=c.el)}}function sm(e){const t=e.slice(),o=[0];let a,s,r,c,u;const p=e.length;for(a=0;a<p;a++){const f=e[a];if(f!==0){if(s=o[o.length-1],e[s]<f){t[a]=s,o.push(a);continue}for(r=0,c=o.length-1;r<c;)u=r+c>>1,e[o[u]]<f?r=u+1:c=u;f<e[o[r]]&&(r>0&&(t[a]=o[r-1]),o[r]=a)}}for(r=o.length,c=o[r-1];r-- >0;)o[r]=c,c=t[c];return o}function Qa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Qa(t)}function Za(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const nm=Symbol.for("v-scx"),om=()=>Un(nm);function ct(e,t,o){return ei(e,t,o)}function ei(e,t,o=ot){const{immediate:a,deep:s,flush:r,once:c}=o,u=At({},o),p=t&&a||!t&&r!=="post";let f;if(rn){if(r==="sync"){const C=om();f=C.__watcherHandles||(C.__watcherHandles=[])}else if(!p){const C=()=>{};return C.stop=jt,C.resume=jt,C.pause=jt,C}}const S=yt;u.call=(C,H,Y)=>qt(C,S,H,Y);let d=!1;r==="post"?u.scheduler=C=>{It(C,S&&S.suspense)}:r!=="sync"&&(d=!0,u.scheduler=(C,H)=>{H?C():Ao(C)}),u.augmentJob=C=>{t&&(C.flags|=4),d&&(C.flags|=2,S&&(C.id=S.uid,C.i=S))};const M=mf(e,t,u);return rn&&(f?f.push(M):p&&M()),M}function am(e,t,o){const a=this.proxy,s=ut(e)?e.includes(".")?ti(a,e):()=>a[e]:e.bind(a,a);let r;Be(t)?r=t:(r=t.handler,o=t);const c=an(this),u=ei(s,r.bind(a),o);return c(),u}function ti(e,t){const o=t.split(".");return()=>{let a=e;for(let s=0;s<o.length&&a;s++)a=a[o[s]];return a}}const im=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ds(t)}Modifiers`]||e[`${us(t)}Modifiers`];function rm(e,t,...o){if(e.isUnmounted)return;const a=e.vnode.props||ot;let s=o;const r=t.startsWith("update:"),c=r&&im(a,t.slice(7));c&&(c.trim&&(s=o.map(S=>ut(S)?S.trim():S)),c.number&&(s=o.map(Tn)));let u,p=a[u=so(t)]||a[u=so(ds(t))];!p&&r&&(p=a[u=so(us(t))]),p&&qt(p,e,6,s);const f=a[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,qt(f,e,6,s)}}const lm=new WeakMap;function si(e,t,o=!1){const a=o?lm:t.emitsCache,s=a.get(e);if(s!==void 0)return s;const r=e.emits;let c={},u=!1;if(!Be(e)){const p=f=>{const S=si(f,t,!0);S&&(u=!0,At(c,S))};!o&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!r&&!u?(it(e)&&a.set(e,null),null):(Xe(r)?r.forEach(p=>c[p]=null):At(c,r),it(e)&&a.set(e,c),c)}function Xn(e,t){return!e||!An(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ze(e,t[0].toLowerCase()+t.slice(1))||Ze(e,us(t))||Ze(e,t))}function aD(){}function ni(e){const{type:t,vnode:o,proxy:a,withProxy:s,propsOptions:[r],slots:c,attrs:u,emit:p,render:f,renderCache:S,props:d,data:M,setupState:C,ctx:H,inheritAttrs:Y}=e,T=$n(e);let h,_;try{if(o.shapeFlag&4){const N=s||a,j=N;h=Qt(f.call(j,N,S,d,C,M,H)),_=u}else{const N=t;h=Qt(N.length>1?N(d,{attrs:u,slots:c,emit:p}):N(d,null)),_=t.props?u:cm(u)}}catch(N){sn.length=0,kn(N,e,1),h=_t(is)}let P=h;if(_&&Y!==!1){const N=Object.keys(_),{shapeFlag:j}=P;N.length&&j&7&&(r&&N.some(Zn)&&(_=dm(_,r)),P=$s(P,_,!1,!0))}return o.dirs&&(P=$s(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(o.dirs):o.dirs),o.transition&&So(P,o.transition),h=P,$n(T),h}const cm=e=>{let t;for(const o in e)(o==="class"||o==="style"||An(o))&&((t||(t={}))[o]=e[o]);return t},dm=(e,t)=>{const o={};for(const a in e)(!Zn(a)||!(a.slice(9)in t))&&(o[a]=e[a]);return o};function um(e,t,o){const{props:a,children:s,component:r}=e,{props:c,children:u,patchFlag:p}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&p>=0){if(p&1024)return!0;if(p&16)return a?oi(a,c,f):!!c;if(p&8){const S=t.dynamicProps;for(let d=0;d<S.length;d++){const M=S[d];if(c[M]!==a[M]&&!Xn(f,M))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:a===c?!1:a?c?oi(a,c,f):!0:!!c;return!1}function oi(e,t,o){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let s=0;s<a.length;s++){const r=a[s];if(t[r]!==e[r]&&!Xn(o,r))return!0}return!1}function pm({vnode:e,parent:t},o){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=o,t=t.parent;else break}}const ai=e=>e.__isSuspense;function _m(e,t){t&&t.pendingBranch?Xe(e)?t.effects.push(...e):t.effects.push(e):bf(e)}const we=Symbol.for("v-fgt"),Fn=Symbol.for("v-txt"),is=Symbol.for("v-cmt"),Gn=Symbol.for("v-stc"),sn=[];let kt=null;function E(e=!1){sn.push(kt=e?null:[])}function fm(){sn.pop(),kt=sn[sn.length-1]||null}let nn=1;function ii(e,t=!1){nn+=e,e<0&&kt&&t&&(kt.hasOnce=!0)}function ri(e){return e.dynamicChildren=nn>0?kt||Rs:null,fm(),nn>0&&kt&&kt.push(e),e}function b(e,t,o,a,s,r){return ri(n(e,t,o,a,s,r,!0))}function Tt(e,t,o,a,s){return ri(_t(e,t,o,a,s,!0))}function Mo(e){return e?e.__v_isVNode===!0:!1}function on(e,t){return e.type===t.type&&e.key===t.key}const li=({key:e})=>e!=null?e:null,Vn=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?ut(e)||mt(e)||Be(e)?{i:Ct,r:e,k:t,f:!!o}:e:null);function n(e,t=null,o=null,a=0,s=null,r=e===we?0:1,c=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&li(t),ref:t&&Vn(t),scopeId:Pa,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ct};return u?(Io(p,o),r&128&&e.normalize(p)):o&&(p.shapeFlag|=ut(o)?8:16),nn>0&&!c&&kt&&(p.patchFlag>0||r&6)&&p.patchFlag!==32&&kt.push(p),p}const _t=mm;function mm(e,t=null,o=null,a=0,s=null,r=!1){if((!e||e===Df)&&(e=is),Mo(e)){const u=$s(e,t,!0);return o&&Io(u,o),nn>0&&!r&&kt&&(u.shapeFlag&6?kt[kt.indexOf(e)]=u:kt.push(u)),u.patchFlag=-2,u}if(vm(e)&&(e=e.__vccOpts),t){t=hm(t);let{class:u,style:p}=t;u&&!ut(u)&&(t.class=He(u)),it(p)&&(Eo(p)&&!Xe(p)&&(p=At({},p)),t.style=Ht(p))}const c=ut(e)?1:ai(e)?128:yf(e)?64:it(e)?4:Be(e)?2:0;return n(e,t,o,a,s,c,r,!0)}function hm(e){return e?Eo(e)||Ha(e)?At({},e):e:null}function $s(e,t,o=!1,a=!1){const{props:s,ref:r,patchFlag:c,children:u,transition:p}=e,f=t?Em(s||{},t):s,S={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&li(f),ref:t&&t.ref?o&&r?Xe(r)?r.concat(Vn(t)):[r,Vn(t)]:Vn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&$s(e.ssContent),ssFallback:e.ssFallback&&$s(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&a&&So(S,p.clone(S)),S}function Pe(e=" ",t=0){return _t(Fn,null,e,t)}function gm(e,t){const o=_t(Gn,null,e);return o.staticCount=t,o}function ie(e="",t=!1){return t?(E(),Tt(is,null,e)):_t(is,null,e)}function Qt(e){return e==null||typeof e=="boolean"?_t(is):Xe(e)?_t(we,null,e.slice()):Mo(e)?ms(e):_t(Fn,null,String(e))}function ms(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:$s(e)}function Io(e,t){let o=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Xe(t))o=16;else if(typeof t=="object")if(a&65){const s=t.default;s&&(s._c&&(s._d=!1),Io(e,s()),s._c&&(s._d=!0));return}else{o=32;const s=t._;!s&&!Ha(t)?t._ctx=Ct:s===3&&Ct&&(Ct.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Be(t)?(t={default:t,_ctx:Ct},o=32):(t=String(t),a&64?(o=16,t=[Pe(t)]):o=8);e.children=t,e.shapeFlag|=o}function Em(...e){const t={};for(let o=0;o<e.length;o++){const a=e[o];for(const s in a)if(s==="class")t.class!==a.class&&(t.class=He([t.class,a.class]));else if(s==="style")t.style=Ht([t.style,a.style]);else if(An(s)){const r=t[s],c=a[s];c&&r!==c&&!(Xe(r)&&r.includes(c))&&(t[s]=r?[].concat(r,c):c)}else s!==""&&(t[s]=a[s])}return t}function Zt(e,t,o,a=null){qt(e,t,7,[o,a])}const Cm=Fa();let Am=0;function Sm(e,t,o){const a=e.type,s=(t?t.appContext:e.appContext)||Cm,r={uid:Am++,vnode:e,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new X_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ka(a,s),emitsOptions:si(a,s),emit:null,emitted:null,propsDefaults:ot,inheritAttrs:a.inheritAttrs,ctx:ot,data:ot,props:ot,attrs:ot,slots:ot,refs:ot,setupState:ot,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=rm.bind(null,r),e.ce&&e.ce(r),r}let yt=null;const bm=()=>yt||Ct;let Hn,ko;{const e=yn(),t=(o,a)=>{let s;return(s=e[o])||(s=e[o]=[]),s.push(a),r=>{s.length>1?s.forEach(c=>c(r)):s[0](r)}};Hn=t("__VUE_INSTANCE_SETTERS__",o=>yt=o),ko=t("__VUE_SSR_SETTERS__",o=>rn=o)}const an=e=>{const t=yt;return Hn(e),e.scope.on(),()=>{e.scope.off(),Hn(t)}},ci=()=>{yt&&yt.scope.off(),Hn(null)};function di(e){return e.vnode.shapeFlag&4}let rn=!1;function Tm(e,t=!1,o=!1){t&&ko(t);const{props:a,children:s}=e.vnode,r=di(e);jf(e,a,r,t),zf(e,s,o||t);const c=r?ym(e,t):void 0;return t&&ko(!1),c}function ym(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Yf);const{setup:a}=o;if(a){Jt();const s=e.setupContext=a.length>1?Om(e):null,r=an(e),c=vs(a,e,0,[e.props,s]),u=jo(c);if(Wt(),r(),(u||e.sp)&&!ks(e)&&va(e),u){if(c.then(ci,ci),t)return c.then(p=>{ui(e,p)}).catch(p=>{kn(p,e,0)});e.asyncDep=c}else ui(e,c)}else pi(e)}function ui(e,t,o){Be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:it(t)&&(e.setupState=Aa(t)),pi(e)}function pi(e,t,o){const a=e.type;e.render||(e.render=a.render||jt);{const s=an(e);Jt();try{Uf(e)}finally{Wt(),s()}}}const Rm={get(e,t){return Et(e,"get",""),e[t]}};function Om(e){const t=o=>{e.exposed=o||{}};return{attrs:new Proxy(e.attrs,Rm),slots:e.slots,emit:e.emit,expose:t}}function Bn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Aa(lf(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in en)return en[o](e)},has(t,o){return o in t||o in en}})):e.proxy}const xm=/(?:^|[-_])\w/g,Pm=e=>e.replace(xm,t=>t.toUpperCase()).replace(/[-_]/g,"");function Nm(e,t=!0){return Be(e)?e.displayName||e.name:e.name||t&&e.__name}function _i(e,t,o=!1){let a=Nm(t);if(!a&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(a=s[1])}if(!a&&e&&e.parent){const s=r=>{for(const c in r)if(r[c]===t)return c};a=s(e.components||e.parent.type.components)||s(e.appContext.components)}return a?Pm(a):o?"App":"Anonymous"}function vm(e){return Be(e)&&"__vccOpts"in e}const Te=(e,t)=>_f(e,t,rn),Mm="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wo;const fi=typeof window!="undefined"&&window.trustedTypes;if(fi)try{wo=fi.createPolicy("vue",{createHTML:e=>e})}catch(e){}const mi=wo?e=>wo.createHTML(e):e=>e,Im="http://www.w3.org/2000/svg",km="http://www.w3.org/1998/Math/MathML",rs=typeof document!="undefined"?document:null,hi=rs&&rs.createElement("template"),wm={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,a)=>{const s=t==="svg"?rs.createElementNS(Im,e):t==="mathml"?rs.createElementNS(km,e):o?rs.createElement(e,{is:o}):rs.createElement(e);return e==="select"&&a&&a.multiple!=null&&s.setAttribute("multiple",a.multiple),s},createText:e=>rs.createTextNode(e),createComment:e=>rs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,a,s,r){const c=o?o.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),o),!(s===r||!(s=s.nextSibling)););else{hi.innerHTML=mi(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const u=hi.content;if(a==="svg"||a==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,o)}return[c?c.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},$m=Symbol("_vtc");function Dm(e,t,o){const a=e[$m];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}const Kn=Symbol("_vod"),gi=Symbol("_vsh"),Ds={name:"show",beforeMount(e,{value:t},{transition:o}){e[Kn]=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):ln(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:a}){!t!=!o&&(a?t?(a.beforeEnter(e),ln(e,!0),a.enter(e)):a.leave(e,()=>{ln(e,!1)}):ln(e,t))},beforeUnmount(e,{value:t}){ln(e,t)}};function ln(e,t){e.style.display=t?e[Kn]:"none",e[gi]=!t}const Lm=Symbol(""),Ym=/(?:^|;)\s*display\s*:/;function Um(e,t,o){const a=e.style,s=ut(o);let r=!1;if(o&&!s){if(t)if(ut(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();o[u]==null&&jn(a,u,"")}else for(const c in t)o[c]==null&&jn(a,c,"");for(const c in o)c==="display"&&(r=!0),jn(a,c,o[c])}else if(s){if(t!==o){const c=a[Lm];c&&(o+=";"+c),a.cssText=o,r=Ym.test(o)}}else t&&e.removeAttribute("style");Kn in e&&(e[Kn]=r?a.display:"",e[gi]&&(a.display="none"))}const Ei=/\s*!important$/;function jn(e,t,o){if(Xe(o))o.forEach(a=>jn(e,t,a));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const a=Xm(e,t);Ei.test(o)?e.setProperty(us(a),o.replace(Ei,""),"important"):e[a]=o}}const Ci=["Webkit","Moz","ms"],$o={};function Xm(e,t){const o=$o[t];if(o)return o;let a=ds(t);if(a!=="filter"&&a in e)return $o[t]=a;a=qo(a);for(let s=0;s<Ci.length;s++){const r=Ci[s]+a;if(r in e)return $o[t]=r}return t}const Ai="http://www.w3.org/1999/xlink";function Si(e,t,o,a,s,r=Y_(t)){a&&t.startsWith("xlink:")?o==null?e.removeAttributeNS(Ai,t.slice(6,t.length)):e.setAttributeNS(Ai,t,o):o==null||r&&!Zo(o)?e.removeAttribute(t):e.setAttribute(t,r?"":Vt(o)?String(o):o)}function bi(e,t,o,a,s){if(t==="innerHTML"||t==="textContent"){o!=null&&(e[t]=t==="innerHTML"?mi(o):o);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const u=r==="OPTION"?e.getAttribute("value")||"":e.value,p=o==null?e.type==="checkbox"?"on":"":String(o);(u!==p||!("_value"in e))&&(e.value=p),o==null&&e.removeAttribute(t),e._value=o;return}let c=!1;if(o===""||o==null){const u=typeof e[t];u==="boolean"?o=Zo(o):o==null&&u==="string"?(o="",c=!0):u==="number"&&(o=0,c=!0)}try{e[t]=o}catch(u){}c&&e.removeAttribute(s||t)}function hs(e,t,o,a){e.addEventListener(t,o,a)}function Fm(e,t,o,a){e.removeEventListener(t,o,a)}const Ti=Symbol("_vei");function Gm(e,t,o,a,s=null){const r=e[Ti]||(e[Ti]={}),c=r[t];if(a&&c)c.value=a;else{const[u,p]=Vm(t);if(a){const f=r[t]=Km(a,s);hs(e,u,f,p)}else c&&(Fm(e,u,c,p),r[t]=void 0)}}const yi=/(?:Once|Passive|Capture)$/;function Vm(e){let t;if(yi.test(e)){t={};let a;for(;a=e.match(yi);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):us(e.slice(2)),t]}let Do=0;const Hm=Promise.resolve(),Bm=()=>Do||(Hm.then(()=>Do=0),Do=Date.now());function Km(e,t){const o=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=o.attached)return;qt(jm(a,o.value),t,5,[a])};return o.value=e,o.attached=Bm(),o}function jm(e,t){if(Xe(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(a=>s=>!s._stopped&&a&&a(s))}else return t}const Ri=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Jm=(e,t,o,a,s,r)=>{const c=s==="svg";t==="class"?Dm(e,a,c):t==="style"?Um(e,o,a):An(t)?Zn(t)||Gm(e,t,o,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Wm(e,t,a,c))?(bi(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Si(e,t,a,c,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ut(a))?bi(e,ds(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Si(e,t,a,c))};function Wm(e,t,o,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ri(t)&&Be(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Ri(t)&&ut(o)?!1:t in e}const Ls=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Xe(t)?o=>bn(t,o):t};function qm(e){e.target.composing=!0}function Oi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ls=Symbol("_assign"),Ce={created(e,{modifiers:{lazy:t,trim:o,number:a}},s){e[ls]=Ls(s);const r=a||s.props&&s.props.type==="number";hs(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;o&&(u=u.trim()),r&&(u=Tn(u)),e[ls](u)}),o&&hs(e,"change",()=>{e.value=e.value.trim()}),t||(hs(e,"compositionstart",qm),hs(e,"compositionend",Oi),hs(e,"change",Oi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:o,modifiers:{lazy:a,trim:s,number:r}},c){if(e[ls]=Ls(c),e.composing)return;const u=(r||e.type==="number")&&!/^0\d/.test(e.value)?Tn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(a&&t===o||s&&e.value.trim()===p)||(e.value=p))}},ht={deep:!0,created(e,t,o){e[ls]=Ls(o),hs(e,"change",()=>{const a=e._modelValue,s=cn(e),r=e.checked,c=e[ls];if(Xe(a)){const u=no(a,s),p=u!==-1;if(r&&!p)c(a.concat(s));else if(!r&&p){const f=[...a];f.splice(u,1),c(f)}}else if(xs(a)){const u=new Set(a);r?u.add(s):u.delete(s),c(u)}else c(Ni(e,r))})},mounted:xi,beforeUpdate(e,t,o){e[ls]=Ls(o),xi(e,t,o)}};function xi(e,{value:t,oldValue:o},a){e._modelValue=t;let s;if(Xe(t))s=no(t,a.props.value)>-1;else if(xs(t))s=t.has(a.props.value);else{if(t===o)return;s=Hs(t,Ni(e,!0))}e.checked!==s&&(e.checked=s)}const gt={deep:!0,created(e,{value:t,modifiers:{number:o}},a){const s=xs(t);hs(e,"change",()=>{const r=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>o?Tn(cn(c)):cn(c));e[ls](e.multiple?s?new Set(r):r:r[0]),e._assigning=!0,Ta(()=>{e._assigning=!1})}),e[ls]=Ls(a)},mounted(e,{value:t}){Pi(e,t)},beforeUpdate(e,t,o){e[ls]=Ls(o)},updated(e,{value:t}){e._assigning||Pi(e,t)}};function Pi(e,t){const o=e.multiple,a=Xe(t);if(!(o&&!a&&!xs(t))){for(let s=0,r=e.options.length;s<r;s++){const c=e.options[s],u=cn(c);if(o)if(a){const p=typeof u;p==="string"||p==="number"?c.selected=t.some(f=>String(f)===String(u)):c.selected=no(t,u)>-1}else c.selected=t.has(u);else if(Hs(cn(c),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function cn(e){return"_value"in e?e._value:e.value}function Ni(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const zm=["ctrl","shift","alt","meta"],Qm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>zm.some(o=>e[`${o}Key`]&&!t.includes(o))},xt=(e,t)=>{const o=e._withMods||(e._withMods={}),a=t.join(".");return o[a]||(o[a]=(s,...r)=>{for(let c=0;c<t.length;c++){const u=Qm[t[c]];if(u&&u(s,t))return}return e(s,...r)})},Zm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pt=(e,t)=>{const o=e._withKeys||(e._withKeys={}),a=t.join(".");return o[a]||(o[a]=s=>{if(!("key"in s))return;const r=us(s.key);if(t.some(c=>c===r||Zm[c]===r))return e(s)})},eh=At({patchProp:Jm},wm);let vi;function th(){return vi||(vi=Zf(eh))}const sh=(...e)=>{const t=th().createApp(...e),{mount:o}=t;return t.mount=a=>{const s=oh(a);if(!s)return;const r=t._component;!Be(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const c=o(s,!1,nh(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},t};function nh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function oh(e){return ut(e)?document.querySelector(e):e}const Nt=(e,t)=>{const o=e.__vccOpts||e;for(const[a,s]of t)o[a]=s;return o},ah={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},ih={key:0,class:"nxp-ec-admin-error"},rh={class:"nxp-ec-admin-error__title"},lh={class:"nxp-ec-admin-error__body"};function ch(e,t,o,a,s,r){return E(),b("div",null,[s.error?(E(),b("div",ih,[n("h2",rh,l(r.fallbackTitle),1),n("p",lh,l(r.fallbackMessage),1),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...c)=>r.reload&&r.reload(...c))},l(r.reloadLabel),1)])):Lf(e.$slots,"default",{key:1})])}const dh=Nt(ah,[["render",ch]]),uh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},ph={class:"nxp-ec-admin-panel__header"},_h={class:"nxp-ec-admin-panel__title"},fh={class:"nxp-ec-admin-panel__lead"},mh={class:"nxp-ec-admin-panel__actions"},hh=["disabled"],gh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Eh={key:1,class:"nxp-ec-dashboard"},Ch={class:"nxp-ec-dashboard__metrics"},Ah={class:"nxp-ec-dashboard__card"},Sh={class:"nxp-ec-dashboard__value"},bh={class:"nxp-ec-dashboard__hint"},Th={class:"nxp-ec-dashboard__card"},yh={class:"nxp-ec-dashboard__value"},Rh={class:"nxp-ec-dashboard__hint"},Oh={class:"nxp-ec-dashboard__card"},xh={class:"nxp-ec-dashboard__value"},Ph={class:"nxp-ec-dashboard__hint"},Nh={class:"nxp-ec-dashboard__card"},vh={class:"nxp-ec-dashboard__value"},Mh={class:"nxp-ec-dashboard__hint"},Ih={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},kh={class:"nxp-ec-dashboard__checklist-header"},wh={id:"dashboard-checklist-heading"},$h={class:"nxp-ec-dashboard__checklist-progress"},Dh={class:"nxp-ec-dashboard__checklist-list"},Lh={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Yh={key:0,class:"fa-solid fa-circle-check"},Uh={key:1,class:"fa-regular fa-circle"},Xh={class:"nxp-ec-dashboard__checklist-label"},Fh=["href","title"],Gh={class:"nxp-ec-sr-only"},Vh=Nt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const o=e,a=o.translate,s=o.state,r=Te(()=>{var d;const S=(d=s.summary)==null?void 0:d.currency;return typeof S=="string"&&S.trim()!==""?S.trim():"USD"}),c=(S=0)=>{const d=(Number(S)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:r.value}).format(d)}catch(M){return`${r.value} ${d.toFixed(2)}`}},u=Te(()=>Array.isArray(s.checklist)?s.checklist:[]),p=Te(()=>u.value.filter(S=>S.completed).length),f=S=>{switch(S){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return S}};return(S,d)=>(E(),b("section",uh,[n("header",ph,[n("div",null,[n("h2",_h,l(i(a)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),n("p",fh,l(i(a)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),n("div",mh,[n("button",{class:"nxp-ec-btn",type:"button",onClick:d[0]||(d[0]=M=>S.$emit("refresh")),disabled:i(s).loading},l(i(a)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,hh)])]),i(s).error?(E(),b("div",gh,l(i(s).error),1)):(E(),b("div",Eh,[n("div",Ch,[n("article",Ah,[n("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),n("p",Sh,l(i(s).summary.products.active),1),n("p",bh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(i(s).summary.products.total)],"dashboardMetricProductsTotal")),1)]),n("article",Th,[n("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),n("p",yh,l(c(i(s).summary.orders.revenue_today)),1),n("p",Rh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(i(s).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),n("article",Oh,[n("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),n("p",xh,l(i(s).summary.customers.total),1),n("p",Ph,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),n("article",Nh,[n("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),n("p",vh,l(c(i(s).summary.orders.revenue_month)),1),n("p",Mh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[r.value.value],"dashboardMetricCurrency")),1)])]),n("section",Ih,[n("header",kh,[n("h3",wh,l(i(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),n("span",$h,l(p.value)+" / "+l(u.value.length),1)]),n("ul",Dh,[(E(!0),b(we,null,Ge(u.value,M=>(E(),b("li",{key:M.id,class:He({"is-complete":M.completed})},[n("span",Lh,[M.completed?(E(),b("span",Yh)):(E(),b("span",Uh))]),n("span",Xh,l(i(a)(M.label,f(M.label))),1),M.link?(E(),b("a",{key:0,href:M.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:i(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[d[1]||(d[1]=n("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),n("span",Gh,l(i(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Fh)):ie("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),Hh={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Bh={id:"nxp-ec-products-caption",class:"visually-hidden"},Kh={scope:"col"},jh={scope:"col"},Jh={scope:"col"},Wh={scope:"col"},qh={scope:"col",class:"nxp-ec-admin-table__actions"},zh={key:0},Qh={colspan:"8",class:"nxp-ec-admin-table__empty"},Zh=["data-label"],eg={class:"nxp-ec-admin-table__primary"},tg={class:"nxp-ec-products-table__title"},sg={class:"nxp-ec-products-table__slug"},ng={key:0,class:"nxp-ec-products-table__badge"},og={class:"nxp-ec-status nxp-ec-status--muted"},ag={key:1,class:"nxp-ec-products-table__badge"},ig={class:"nxp-ec-status nxp-ec-status--featured"},rg=["data-label"],lg={key:0},cg={key:1},dg=["data-label"],ug=["data-label"],pg=["data-label"],_g={key:0},fg={key:1},mg=["data-label"],hg=["disabled","aria-pressed","title","aria-label","onClick"],gg={class:"nxp-ec-sr-only"},Eg=["data-label"],Cg={class:"nxp-ec-admin-table__actions"},Ag=["onClick","title","disabled","aria-label"],Sg={class:"nxp-ec-sr-only"},bg=["onClick","title","disabled","aria-label"],Tg={class:"nxp-ec-sr-only"},Lo=1,dn=-1,Yo=0,yg={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1},currentUserId:{type:Number,default:0},sortColumn:{type:String,default:""},sortDirection:{type:String,default:"DESC"}},emits:["edit","delete","toggle-active","sort"],setup(e,{emit:t}){const o=e,a=t,s=T=>{a("sort",T)},r=T=>o.sortColumn!==T?"fa-solid fa-sort":o.sortDirection==="ASC"?"fa-solid fa-sort-up":"fa-solid fa-sort-down",c=o.translate,u=Te(()=>(o.baseCurrency||"USD").toUpperCase()),p=(T,h=!1)=>{const _=Number(T);if(Number.isFinite(_))return _===dn?dn:_===Yo?Yo:Lo;if(h)return dn;if(typeof T=="string"){const P=T.trim().toLowerCase();if(P==="out_of_stock"||P==="out-of-stock"||P==="-1")return dn;if(P==="inactive"||P==="0")return Yo}return Lo},f=T=>{var N;const h=p((N=T==null?void 0:T.status)!=null?N:T==null?void 0:T.active,T==null?void 0:T.out_of_stock),_=h===Lo,P=h===dn;return{status:h,isActive:_,isOutOfStock:P,label:_?c("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):P?c("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):c("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:_?"nxp-ec-status--active":P?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:_?"fa-solid fa-circle-check":P?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:c("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},S=T=>(T==null?void 0:T.checked_out)&&Number(T.checked_out)!==0&&Number(T.checked_out)!==Number(o.currentUserId||0),d=T=>{var P,N;const h=(N=(P=T==null?void 0:T.checked_out_user)==null?void 0:P.name)!=null?N:"",_=(T==null?void 0:T.checked_out)===Number(o.currentUserId||0)?c("JGLOBAL_YOU","You"):h||c("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Another user");return c("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[_],"productLockedBy")},M=T=>{var j,se,W,Ne;const h=(se=(j=T==null?void 0:T.summary)==null?void 0:j.variants)!=null?se:{};if(h.multiple_currencies)return c("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const _=Number.isFinite(h.price_min_cents)?h.price_min_cents:null,P=Number.isFinite(h.price_max_cents)?h.price_max_cents:null;if(_===null)return"";const N=h.currency||((Ne=(W=T==null?void 0:T.variants)==null?void 0:W[0])==null?void 0:Ne.currency)||u.value;return P===null||P===_?Y(_,N):`${Y(_,N)}  ${Y(P,N)}`},C=T=>{var P,N;const h=(N=(P=T==null?void 0:T.summary)==null?void 0:P.variants)!=null?N:{},_=Number.isFinite(h.count)?h.count:Array.isArray(T==null?void 0:T.variants)?T.variants.length:0;return _===1?c("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):c("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(_)])},H=T=>{if(!Array.isArray(T)||!T.length)return"";const h=T.map(N=>(N==null?void 0:N.title)||(N==null?void 0:N.slug)).filter(N=>!!N);if(!h.length)return"";if(h.length<=3)return h.join(", ");const _=h.slice(0,3).join(", "),P=h.length-3;return`${_} ${c("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(P)])}`},Y=(T,h)=>`${(T/100).toFixed(2)} ${h}`;return(T,h)=>(E(),b("table",Hh,[n("caption",Bh,l(i(c)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),n("thead",null,[n("tr",null,[n("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:h[0]||(h[0]=_=>s("id"))},[Pe(l(i(c)("JGRID_HEADING_ID","ID"))+" ",1),n("i",{class:He([r("id"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),n("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:h[1]||(h[1]=_=>s("title"))},[Pe(l(i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product"))+" ",1),n("i",{class:He([r("title"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),n("th",Kh,l(i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),n("th",jh,l(i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),n("th",Jh,l(i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),n("th",Wh,l(i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),n("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:h[2]||(h[2]=_=>s("status"))},[Pe(l(i(c)("JSTATUS","Status"))+" ",1),n("i",{class:He([r("status"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),n("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:h[3]||(h[3]=_=>s("modified"))},[Pe(l(i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated"))+" ",1),n("i",{class:He([r("modified"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),n("th",qh,l(i(c)("JGLOBAL_ACTIONS","Actions")),1)])]),n("tbody",null,[e.items.length?ie("",!0):(E(),b("tr",zh,[n("td",Qh,l(i(c)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(E(!0),b(we,null,Ge(e.items,_=>{var P,N,j,se,W,Ne,Ie,v,De,$e,Me,Fe;return E(),b("tr",{key:_.id},[n("td",{"data-label":i(c)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},l(_.id),9,Zh),n("td",eg,[n("div",tg,l(_.title),1),n("div",sg,l(_.slug),1),_.checked_out?(E(),b("div",ng,[n("span",og,[h[4]||(h[4]=n("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),Pe(" "+l(d(_)),1)])])):ie("",!0),_.featured?(E(),b("div",ag,[n("span",ig,[h[5]||(h[5]=n("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Pe(" "+l(i(c)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ie("",!0)]),n("td",{"data-label":i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[M(_)?(E(),b("span",lg,l(M(_)),1)):(E(),b("span",cg,l(i(c)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,rg),n("td",{"data-label":i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},l(C(_)),9,dg),n("td",{"data-label":i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[n("span",{class:He(["nxp-ec-status",(N=(P=_.summary)==null?void 0:P.variants)!=null&&N.stock_zero?"nxp-ec-status--danger":(se=(j=_.summary)==null?void 0:j.variants)!=null&&se.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(Ne=(W=_.summary)==null?void 0:W.variants)!=null&&Ne.stock_zero||((v=(Ie=_.summary)==null?void 0:Ie.variants)==null?void 0:v.stock_total)===0?(E(),b(we,{key:0},[Pe(l(i(c)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(E(),b(we,{key:1},[Pe(l(i(c)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((Me=($e=(De=_.summary)==null?void 0:De.variants)==null?void 0:$e.stock_total)!=null?Me:0)])),1)],64))],2)],8,ug),n("td",{"data-label":i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(Fe=_.categories)!=null&&Fe.length?(E(),b("span",_g,l(H(_.categories)),1)):(E(),b("span",fg,l(i(c)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,pg),n("td",{"data-label":i(c)("JSTATUS","Status")},[n("button",{type:"button",class:He(["nxp-ec-status","nxp-ec-status-button",f(_).className]),disabled:e.saving||S(_),"aria-pressed":f(_).isActive?"true":"false",title:f(_).title,"aria-label":f(_).title,onClick:Ve=>T.$emit("toggle-active",_)},[n("i",{class:He(f(_).icon),"aria-hidden":"true"},null,2),Pe(" "+l(f(_).label)+" ",1),n("span",gg,l(i(c)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,hg)],8,mg),n("td",{"data-label":i(c)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},l(_.modified||_.created),9,Eg),n("td",Cg,[n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Ve=>T.$emit("edit",_),title:i(c)("JGLOBAL_EDIT","Edit"),disabled:e.saving,"aria-label":i(c)("JGLOBAL_EDIT","Edit")},[h[6]||(h[6]=n("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),n("span",Sg,l(i(c)("JGLOBAL_EDIT","Edit")),1)],8,Ag),n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Ve=>T.$emit("delete",_),title:i(c)("JTRASH","Delete"),disabled:e.saving||S(_),"aria-label":i(c)("JTRASH","Delete")},[h[7]||(h[7]=n("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),n("span",Tg,l(i(c)("JTRASH","Delete")),1)],8,bg)])])}),128))])]))}};class Rg{constructor({token:t=""}={}){this.token=t}async request(t,o={}){const a={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...o};a.headers={...a.headers,...o.headers||{}};const s=String(a.method||"GET").toUpperCase();let r=t;this.token&&(a.headers["X-CSRF-Token"]=this.token,s!=="GET"&&(r=this.ensureTokenOnUrl(r)));const c=await fetch(r,a);let u=null;const p=await c.text();if(p)try{u=JSON.parse(p)}catch(f){}if(!c.ok){const f=new Error((u==null?void 0:u.message)||`Request failed with status ${c.status}`);throw f.code=c.status,f.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,f}if((u==null?void 0:u.success)===!1){const f=new Error(u.message||"Unknown API error");throw f.details=u.data||u.errors||null,f}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const o=encodeURIComponent(this.token);try{const a=typeof window!="undefined"&&window.location?window.location.origin:void 0,s=new URL(t,a);return s.searchParams.has(this.token)||s.searchParams.set(this.token,"1"),s.toString()}catch(a){if(t.includes(`${o}=`))return t;const s=t.includes("?")?"&":"?";return`${t}${s}${o}=1`}}get(t,o={}){return this.request(t,{...o,method:"GET"})}post(t,o,a={}){const s={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"POST",headers:s,body:JSON.stringify(o)})}put(t,o,a={}){const s={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"PUT",headers:s,body:JSON.stringify(o)})}delete(t,o={}){return this.request(t,{...o,method:"DELETE"})}async fetchProducts({endpoint:t,limit:o=20,start:a=0,search:s="",categoryId:r=null,sort:c="",sortDir:u="",signal:p}){var Y,T,h,_;const f=new URLSearchParams({limit:String(o),start:String(a)});s&&f.set("search",s),r&&f.set("category_id",String(r)),c&&f.set("sort",c),u&&f.set("sort_dir",u);const S=`${t}&${f.toString()}`,M=(Y=(await this.get(S,{signal:p})).data)!=null?Y:{},C=(h=(T=M.items)!=null?T:M.data)!=null?h:[],H=(_=M.pagination)!=null?_:{total:0,limit:o,pages:0,current:0};return{items:C,pagination:H}}async fetchCategories({endpoint:t,limit:o=20,start:a=0,search:s="",signal:r}){var f,S,d;const c=this.mergeParams(t,{limit:o,start:a,search:s||void 0}),p=(f=(await this.get(c,{signal:r})).data)!=null?f:{};return{items:(S=p.items)!=null?S:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:o,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:o=20,start:a=0,search:s="",state:r="",signal:c}){var M,C,H,Y;const u=this.mergeParams(t,{limit:o,start:a,search:s||void 0,state:r||void 0}),f=(M=(await this.get(u,{signal:c})).data)!=null?M:{},S=(H=(C=f.items)!=null?C:f.data)!=null?H:[],d=(Y=f.pagination)!=null?Y:{total:0,limit:o,pages:0,current:0};return{items:S,pagination:d}}async fetchCustomers({endpoint:t,limit:o=20,start:a=0,search:s="",signal:r}){var d,M,C;const c=this.mergeParams(t,{limit:o,start:a,search:s||void 0}),p=(d=(await this.get(c,{signal:r})).data)!=null?d:{},f=(M=p.items)!=null?M:[],S=(C=p.pagination)!=null?C:{total:0,limit:o,pages:0,current:0};return{items:f,pagination:S}}async fetchCustomer({endpoint:t,email:o}){var r,c;const a=this.mergeParams(t,{email:o});return(c=(r=(await this.get(a)).data)==null?void 0:r.customer)!=null?c:null}async fetchCoupons({endpoint:t,limit:o=20,start:a=0,search:s="",signal:r}){var f,S,d;const c=this.mergeParams(t,{limit:o,start:a,search:s||void 0}),p=(f=(await this.get(c,{signal:r})).data)!=null?f:{};return{items:(S=p.items)!=null?S:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:o,pages:0,current:0}}}async createCoupon({endpoint:t,data:o}){var s,r;return(r=(s=(await this.post(t,o)).data)==null?void 0:s.coupon)!=null?r:null}async updateCoupon({endpoint:t,id:o,data:a}){var c,u;const s=this.mergeParams(t,{id:o});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:o}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:o}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async fetchTaxRates({endpoint:t,limit:o=20,start:a=0,search:s="",signal:r}){var f,S,d;const c=this.mergeParams(t,{limit:o,start:a,search:s||void 0}),p=(f=(await this.get(c,{signal:r})).data)!=null?f:{};return{items:(S=p.items)!=null?S:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:o,pages:0,current:0}}}async createTaxRate({endpoint:t,data:o}){var s,r;return(r=(s=(await this.post(t,o)).data)==null?void 0:s.rate)!=null?r:null}async updateTaxRate({endpoint:t,id:o,data:a}){var c,u;const s=this.mergeParams(t,{id:o});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:o}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:o}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async fetchShippingRules({endpoint:t,limit:o=20,start:a=0,search:s="",signal:r}){var f,S,d;const c=this.mergeParams(t,{limit:o,start:a,search:s||void 0}),p=(f=(await this.get(c,{signal:r})).data)!=null?f:{};return{items:(S=p.items)!=null?S:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:o,pages:0,current:0}}}async createShippingRule({endpoint:t,data:o}){var s,r;return(r=(s=(await this.post(t,o)).data)==null?void 0:s.rule)!=null?r:null}async updateShippingRule({endpoint:t,id:o,data:a}){var c,u;const s=this.mergeParams(t,{id:o});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:o}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:o}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async fetchLogs({endpoint:t,limit:o=20,start:a=0,search:s="",entity:r="",signal:c}){var S,d,M;const u=this.mergeParams(t,{limit:o,start:a,search:s||void 0,entity:r||void 0}),f=(S=(await this.get(u,{signal:c})).data)!=null?S:{};return{items:(d=f.items)!=null?d:[],pagination:(M=f.pagination)!=null?M:{total:0,limit:o,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var a;return t?(a=(await this.get(t)).data)!=null?a:{}:{}}async fetchSettings({endpoint:t}){var a,s;return t?(s=(a=(await this.get(t)).data)==null?void 0:a.settings)!=null?s:{}:{}}async updateSettings({endpoint:t,data:o}){var s,r;return(r=(s=(await this.put(t,o)).data)==null?void 0:s.settings)!=null?r:{}}async fetchOrder({endpoint:t,id:o=null,orderNumber:a=""}){var c,u;const s=this.mergeParams(t,{id:o||void 0,order_no:a||void 0});return(u=(c=(await this.get(s)).data)==null?void 0:c.order)!=null?u:null}async transitionOrder({endpoint:t,id:o,state:a}){var c,u;const s=this.mergeParams(t,{id:o});return(u=(c=(await this.post(s,{state:a})).data)==null?void 0:c.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:o,state:a}){var c;const s={ids:o,state:a};return(c=(await this.post(t,s)).data)!=null?c:{}}async addOrderNote({endpoint:t,id:o,message:a}){var r,c;return(c=(r=(await this.post(t,{id:o,message:a})).data)==null?void 0:r.order)!=null?c:null}async fetchOrderInvoice({endpoint:t,id:o,orderNumber:a}){var c,u;const s={id:o||void 0,order_no:a||void 0};return(u=(c=(await this.post(t,s)).data)==null?void 0:c.invoice)!=null?u:null}async exportOrders({endpoint:t,search:o="",state:a=""}){var c,u;const s=this.mergeParams(t,{search:o||void 0,state:a||void 0});return(u=(c=(await this.get(s)).data)==null?void 0:c.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:o,tracking:a}){var r,c;return(c=(r=(await this.post(t,{id:o,...a})).data)==null?void 0:r.order)!=null?c:null}async sendOrderEmail({endpoint:t,id:o,type:a}){var r,c;return(c=(r=(await this.post(t,{id:o,type:a})).data)==null?void 0:r.order)!=null?c:null}async recordTransaction({endpoint:t,id:o,amountCents:a,reference:s,note:r}){var u,p;return(p=(u=(await this.post(t,{id:o,amount_cents:a,reference:s||void 0,note:r||void 0})).data)==null?void 0:u.order)!=null?p:null}async resendDownloads({endpoint:t,id:o}){var s,r;return(r=(s=(await this.post(t,{id:o})).data)==null?void 0:s.order)!=null?r:null}async resetDownload({endpoint:t,downloadId:o,orderId:a}){var r;return(r=(await this.post(t,{download_id:o,order_id:a||void 0})).data)!=null?r:null}async checkoutOrder({endpoint:t,id:o}){var r,c;const a=this.mergeParams(t,{id:o});return(c=(r=(await this.post(a,{id:o})).data)==null?void 0:r.order)!=null?c:null}async checkinOrder({endpoint:t,id:o,force:a=!1}){var c,u;const s=this.mergeParams(t,{id:o,force:a?1:void 0});return(u=(c=(await this.post(s,{id:o})).data)==null?void 0:c.order)!=null?u:null}async createProduct({endpoint:t,data:o}){var s,r;return(r=(s=(await this.post(t,o)).data)==null?void 0:s.item)!=null?r:null}async updateProduct({endpoint:t,id:o,data:a}){var c,u;const s=this.mergeParams(t,{id:o});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.item)!=null?u:null}async deleteProducts({endpoint:t,ids:o}){var s,r;return(r=(s=(await this.post(t,{ids:o},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:[]}async checkoutProduct({endpoint:t,id:o}){var r,c;const a=this.mergeParams(t,{id:o});return(c=(r=(await this.post(a,{id:o})).data)==null?void 0:r.item)!=null?c:null}async checkinProduct({endpoint:t,id:o,force:a=!1}){var c,u;const s=this.mergeParams(t,{id:o,force:a?1:void 0});return(u=(c=(await this.post(s,{id:o})).data)==null?void 0:c.item)!=null?u:null}async fetchDigitalFiles({endpoint:t,productId:o,variantId:a=null,signal:s}){var u,p;const r=this.mergeParams(t,{product_id:o,variant_id:a||void 0});return(p=(u=(await this.get(r,{signal:s})).data)==null?void 0:u.files)!=null?p:[]}async uploadDigitalFile({endpoint:t,productId:o,file:a,variantId:s=null,version:r="1.0"}){var p,f;const c=new FormData;return c.append("product_id",o),s&&c.append("variant_id",s),r&&c.append("version",r),c.append("file",a),(f=(p=(await this.request(t,{method:"POST",body:c})).data)==null?void 0:p.file)!=null?f:null}async deleteDigitalFile({endpoint:t,fileId:o}){var s,r;return(r=(s=(await this.post(t,{id:o})).data)==null?void 0:s.deleted)!=null?r:null}async createCategory({endpoint:t,data:o}){var s,r;return(r=(s=(await this.post(t,o)).data)==null?void 0:s.item)!=null?r:null}async updateCategory({endpoint:t,id:o,data:a}){var c,u;const s=this.mergeParams(t,{id:o});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.item)!=null?u:null}async deleteCategories({endpoint:t,ids:o}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:o}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async checkoutCategory({endpoint:t,id:o}){var r,c;const a=this.mergeParams(t,{id:o});return(c=(r=(await this.post(a,{id:o})).data)==null?void 0:r.item)!=null?c:null}async checkinCategory({endpoint:t,id:o,force:a=!1}){var c,u;const s=this.mergeParams(t,{id:o,force:a?1:void 0});return(u=(c=(await this.post(s,{id:o})).data)==null?void 0:c.item)!=null?u:null}async gdprExport({endpoint:t,email:o}){var r,c;const a=this.mergeParams(t,{email:o});return(c=(r=(await this.get(a)).data)==null?void 0:r.export)!=null?c:null}async gdprAnonymise({endpoint:t,email:o}){var s,r,c,u;const a=await this.post(t,{email:o});return{affected:(r=(s=a.data)==null?void 0:s.affected)!=null?r:0,message:(u=(c=a.data)==null?void 0:c.message)!=null?u:""}}mergeParams(t,o={}){const a=new URLSearchParams;return Object.entries(o).forEach(([s,r])=>{r==null||r===""||a.set(s,String(r))}),a.toString()?`${t}${t.includes("?")?"&":"?"}${a.toString()}`:t}}const wt=e=>new Rg(e),Og={class:"nxp-ec-modal__dialog"},xg={class:"nxp-ec-modal__header"},Pg={id:"product-modal-title",class:"nxp-ec-modal__title"},Ng={class:"nxp-ec-modal__header-actions"},vg=["disabled","title","aria-label"],Mg={class:"nxp-ec-sr-only"},Ig=["disabled","title","aria-label"],kg={class:"nxp-ec-sr-only"},wg=["title","aria-label"],$g={class:"nxp-ec-sr-only"},Dg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Lg={class:"nxp-ec-editor-tabs",role:"tablist"},Yg={class:"nxp-ec-editor-panel"},Ug={class:"nxp-ec-form-field"},Xg={class:"nxp-ec-form-label",for:"product-title"},Fg={class:"nxp-ec-form-field"},Gg={class:"nxp-ec-form-label",for:"product-slug"},Vg=["placeholder"],Hg={class:"nxp-ec-form-field"},Bg={class:"nxp-ec-form-label",for:"product-short-desc"},Kg={class:"nxp-ec-form-field"},jg={class:"nxp-ec-form-label",for:"product-long-desc"},Jg={class:"nxp-ec-form-field"},Wg={class:"nxp-ec-form-label",for:"product-status"},qg={value:1},zg={value:-1},Qg={value:0},Zg={class:"nxp-ec-form-help"},eE={class:"nxp-ec-form-field"},tE={class:"nxp-ec-form-label",for:"product-type"},sE={value:"physical"},nE={value:"digital"},oE={class:"nxp-ec-form-help"},aE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iE={class:"nxp-ec-form-label",for:"product-featured"},rE={class:"nxp-ec-form-help"},lE={class:"nxp-ec-editor-panel"},cE={class:"nxp-ec-form-field"},dE={class:"nxp-ec-form-label",for:"product-images"},uE={id:"product-images",class:"nxp-ec-image-list"},pE=["id","onUpdate:modelValue","placeholder"],_E={class:"nxp-ec-image-row__actions"},fE=["onClick"],mE=["onClick","disabled"],hE=["onClick","disabled"],gE=["onClick","aria-label"],EE={class:"nxp-ec-form-help"},CE={class:"nxp-ec-editor-panel"},AE={class:"nxp-ec-form-field"},SE={class:"nxp-ec-form-label",for:"product-category-select"},bE=["value"],TE={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},yE=["onClick","aria-label"],RE={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},OE=["onKeydown","placeholder"],xE={class:"nxp-ec-form-help"},PE={class:"nxp-ec-variant-section"},NE={class:"nxp-ec-variant-section__header"},vE={class:"nxp-ec-variant-section__title"},ME={class:"nxp-ec-form-help"},IE={class:"nxp-ec-variant-card__header"},kE={class:"nxp-ec-variant-card__title"},wE=["onClick"],$E=["onClick","disabled"],DE={class:"nxp-ec-variant-card__grid"},LE={class:"nxp-ec-form-field"},YE=["for"],UE=["id","onUpdate:modelValue"],XE={class:"nxp-ec-form-field"},FE=["for"],GE=["id","onUpdate:modelValue","placeholder"],VE={class:"nxp-ec-form-field"},HE=["for"],BE=["id","onUpdate:modelValue","onBlur"],KE={class:"nxp-ec-form-field"},jE=["for"],JE=["id","onUpdate:modelValue","onBlur","placeholder"],WE={class:"nxp-ec-form-field"},qE=["for"],zE=["id","onUpdate:modelValue","disabled"],QE={class:"nxp-ec-form-help"},ZE={class:"nxp-ec-form-field"},eC=["for"],tC=["id","onUpdate:modelValue","disabled"],sC={class:"nxp-ec-form-help"},nC={class:"nxp-ec-form-field"},oC=["for"],aC=["id","onUpdate:modelValue"],iC={class:"nxp-ec-form-field"},rC=["for"],lC=["id","onUpdate:modelValue"],cC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},dC=["for"],uC=["id","onUpdate:modelValue"],pC={class:"nxp-ec-form-help"},_C={class:"nxp-ec-form-field nxp-ec-form-field--inline"},fC=["for"],mC=["id","onUpdate:modelValue"],hC={class:"nxp-ec-variant-options"},gC={class:"nxp-ec-variant-options__header"},EC={class:"nxp-ec-variant-options__title"},CC=["onClick"],AC={class:"nxp-ec-form-help"},SC=["id","onUpdate:modelValue","placeholder"],bC=["id","onUpdate:modelValue","placeholder"],TC=["onClick","aria-label"],yC={class:"nxp-ec-variant-images"},RC={class:"nxp-ec-variant-images__header"},OC={class:"nxp-ec-variant-images__title"},xC=["onClick"],PC={class:"nxp-ec-form-help"},NC={key:0,class:"nxp-ec-variant-images__list"},vC=["src","alt"],MC=["onClick","aria-label"],IC={key:1,class:"nxp-ec-variant-images__empty"},kC={key:1,class:"nxp-ec-editor-panel nxp-ec-editor-panel--digital"},wC={class:"nxp-ec-admin-alert nxp-ec-admin-alert--info"},$C={style:{"margin-bottom":"0"}},DC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},LC={key:1,class:"nxp-ec-admin-callout nxp-ec-admin-callout--info"},YC={class:"nxp-ec-admin-callout__content"},UC={class:"nxp-ec-admin-callout__title"},XC={class:"nxp-ec-digital-grid"},FC={class:"nxp-ec-digital-card"},GC={class:"nxp-ec-form-field"},VC={class:"nxp-ec-form-label",for:"digital-file-input"},HC=["disabled"],BC={class:"nxp-ec-form-field"},KC={class:"nxp-ec-form-label",for:"digital-version"},jC=["disabled"],JC={class:"nxp-ec-form-field"},WC={class:"nxp-ec-form-label",for:"digital-variant"},qC=["disabled"],zC={value:""},QC=["value"],ZC={class:"nxp-ec-form-help"},eA={class:"nxp-ec-admin-form__actions"},tA=["disabled"],sA={class:"nxp-ec-digital-card"},nA={class:"nxp-ec-digital-card__header"},oA={key:0},aA={key:0,class:"nxp-ec-form-help"},iA={key:1,class:"nxp-ec-digital-table"},rA={class:"nxp-ec-digital-meta"},lA={class:"nxp-ec-admin-panel__muted"},cA={key:0,class:"nxp-ec-admin-panel__muted"},dA={class:"nxp-ec-digital-actions"},uA=["disabled","onClick"],pA={class:"nxp-ec-modal__actions"},_A=["disabled"],fA=["disabled"],Mi="product-editor-form",mA=Nt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=Te(()=>(o.baseCurrency||"USD").toUpperCase()),c=Qe("general"),u=wt({token:o.csrfToken||""}),p=Te(()=>o.digitalEndpoints||{});Te(()=>o.csrfToken||"");const f=w=>{var m,V,Se,ye,X,pe,G,Ye;if(w==null)return null;if(typeof w=="string"){const Je=w.trim();return Je===""?null:{id:0,title:Je,slug:""}}if(typeof w=="object"){const Je=Number.parseInt((V=(m=w.id)!=null?m:w.value)!=null?V:0,10)||0,st=(G=(pe=(X=(ye=(Se=w.title)!=null?Se:w.name)!=null?ye:w.text)!=null?X:w.label)!=null?pe:w.slug)!=null?G:"",Dt=String(st!=null?st:"").trim(),Ft=String((Ye=w.slug)!=null?Ye:"").trim(),Lt=w.parent_id!==null&&w.parent_id!==void 0&&Number.parseInt(w.parent_id,10)||null;return Je<=0&&Dt===""?null:{id:Je>0?Je:0,title:Dt!==""?Dt:Ft,slug:Ft,parent_id:Lt}}return null},S=w=>{const m=Number(w);if(Number.isFinite(m))return m===-1?-1:m===0?0:1;if(typeof w=="string"){const V=w.trim().toLowerCase();if(V==="out_of_stock"||V==="out-of-stock"||V==="-1")return-1;if(V==="inactive"||V==="0")return 0}return 1},d=et({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[],product_type:"physical",digital_files:[]}),M=Qe(""),C=Qe(!1),H=Te(()=>(d.product_type||"physical").toString().toLowerCase()),Y=Te(()=>H.value==="digital"),T=et({files:[],loading:!1,uploading:!1,deletingId:0,error:"",version:"1.0",variantId:""}),h=Qe(null),_=Qe(null),P=()=>{h.value=null,_.value&&(_.value.value="")},N=(w,m,V=new Set)=>{if(!w||V.has(w))return 0;V.add(w);const Se=m.find(ye=>ye.id===w);return!Se||!Se.parent_id?0:1+N(Se.parent_id,m,V)},j=w=>{if(!w)return"";const m=Array.isArray(o.categoryOptions)?o.categoryOptions:[],V=N(w.id,m);return V===0?w.title:"".repeat(V)+" "+w.title},se=Te(()=>{const m=(Array.isArray(o.categoryOptions)?o.categoryOptions:[]).map(f).filter(X=>X&&X.id>0&&X.title!==""),V=new Map;m.forEach(X=>{V.set(X.id,X)}),d.categories.forEach(X=>{var pe;X.id>0&&X.title&&!V.has(X.id)&&V.set(X.id,{id:X.id,title:X.title,slug:(pe=X.slug)!=null?pe:"",parent_id:X.parent_id!==null&&X.parent_id!==void 0?X.parent_id:null})});const Se=Array.from(V.values()),ye=(X=null,pe=0)=>Se.filter(G=>G.parent_id===X).sort((G,Ye)=>G.title.localeCompare(Ye.title)).flatMap(G=>[G,...ye(G.id,pe+1)]);return ye()}),W=Te(()=>{const w=new Map;return se.value.forEach(m=>{var V;w.set(m.id,{title:m.title,slug:(V=m.slug)!=null?V:""})}),w}),Ne=Te({get:()=>d.categories.filter(m=>m&&m.id>0).map(m=>m.id),set:w=>{const m=Array.isArray(w)?w:[],V=Array.from(new Set(m.map(X=>Number.parseInt(X!=null?X:0,10)||0).filter(X=>X>0))),Se=d.categories.filter(X=>!(X.id>0)),ye=V.map(X=>{const pe=W.value.get(X),G=d.categories.find(st=>st.id===X),Ye=(pe==null?void 0:pe.title)||(G==null?void 0:G.title)||"",Je=(pe==null?void 0:pe.slug)||(G==null?void 0:G.slug)||"";return Ye===""?null:{id:X,title:Ye,slug:Je}}).filter(X=>X!==null);d.categories.splice(0,d.categories.length,...ye,...Se)}}),Ie=Te(()=>o.product&&o.product.id?"edit":"create"),v=()=>({id:0,sku:"",ean:"",price:"",sale_price:"",sale_start:null,sale_end:null,sale_start_local:"",sale_end_local:"",currency:r.value,stock:0,weight:"",active:!0,options:[],images:[],is_digital:Y.value}),De=()=>({name:"",value:""}),$e=w=>w?w.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",Me=()=>{C.value=!0,d.slug=$e(d.slug)},Fe=w=>{const V=(Array.isArray(w)?w:[]).map(f).filter(X=>X&&(X.id>0||X.title!=="")),Se=new Set,ye=[];V.forEach(X=>{const pe=X.id>0?`id:${X.id}`:`title:${X.title.toLowerCase()}`;Se.has(pe)||(Se.add(pe),ye.push(X))}),d.categories.splice(0,d.categories.length,...ye)},Ve=w=>{d.variants.splice(0,d.variants.length,...w),y()},ne=w=>{d.images.splice(0,d.images.length,...w)},L=w=>Array.isArray(w)?w.map(m=>{var V,Se,ye;return{name:String((Se=(V=m==null?void 0:m.name)!=null?V:m==null?void 0:m.key)!=null?Se:"").trim(),value:String((ye=m==null?void 0:m.value)!=null?ye:"").trim()}}):w&&typeof w=="object"?Object.entries(w).map(([m,V])=>({name:String(m!=null?m:"").trim(),value:String(V!=null?V:"").trim()})):[],$=w=>Array.isArray(w)?w.map(m=>{var V,Se,ye,X,pe,G,Ye;return{id:Number.parseInt((V=m==null?void 0:m.id)!=null?V:0,10)||0,product_id:Number.parseInt((Se=m==null?void 0:m.product_id)!=null?Se:0,10)||0,variant_id:(m==null?void 0:m.variant_id)!==null&&(m==null?void 0:m.variant_id)!==void 0?Number.parseInt(m.variant_id,10)||0:null,filename:String((ye=m==null?void 0:m.filename)!=null?ye:"").trim(),storage_path:String((X=m==null?void 0:m.storage_path)!=null?X:"").trim(),file_size:Number.parseInt((pe=m==null?void 0:m.file_size)!=null?pe:0,10)||0,mime_type:(m==null?void 0:m.mime_type)!==null&&(m==null?void 0:m.mime_type)!==void 0?String(m.mime_type).trim():"",version:String((G=m==null?void 0:m.version)!=null?G:"1.0").trim()||"1.0",created:String((Ye=m==null?void 0:m.created)!=null?Ye:"").trim()}}).filter(m=>m.id>0&&m.filename!==""):[],I=w=>{if(!w||w==="")return"";try{const m=new Date(w.replace(" ","T")+"Z");if(isNaN(m.getTime()))return"";const V=m.getFullYear(),Se=String(m.getMonth()+1).padStart(2,"0"),ye=String(m.getDate()).padStart(2,"0"),X=String(m.getHours()).padStart(2,"0"),pe=String(m.getMinutes()).padStart(2,"0");return`${V}-${Se}-${ye}T${X}:${pe}`}catch(m){return""}},B=w=>{if(!w||w==="")return null;try{const m=new Date(w);return isNaN(m.getTime())?null:m.toISOString().slice(0,19).replace("T"," ")}catch(m){return null}},z=w=>!Array.isArray(w)||w.length===0?[v()]:w.map(m=>{var ye,X,pe,G,Ye,Je;const V=(m==null?void 0:m.sale_price)!=null?String(m.sale_price):Number.isFinite(m==null?void 0:m.sale_price_cents)?(m.sale_price_cents/100).toFixed(2):"";let Se=[];return Array.isArray(m==null?void 0:m.images)&&(Se=m.images.filter(st=>typeof st=="string"&&st.trim()!=="").map(st=>st.trim())),{id:Number.parseInt((ye=m==null?void 0:m.id)!=null?ye:0,10)||0,sku:String((X=m==null?void 0:m.sku)!=null?X:"").trim(),ean:(m==null?void 0:m.ean)!=null?String(m.ean).trim():"",price:(m==null?void 0:m.price)!=null?String(m.price):Number.isFinite(m==null?void 0:m.price_cents)?(m.price_cents/100).toFixed(2):"",sale_price:V,sale_start:(pe=m==null?void 0:m.sale_start)!=null?pe:null,sale_end:(G=m==null?void 0:m.sale_end)!=null?G:null,sale_start_local:I(m==null?void 0:m.sale_start),sale_end_local:I(m==null?void 0:m.sale_end),currency:String((Ye=m==null?void 0:m.currency)!=null?Ye:r.value).toUpperCase(),stock:Number.parseInt((Je=m==null?void 0:m.stock)!=null?Je:0,10)||0,weight:(m==null?void 0:m.weight)!=null?String(m.weight):"",active:(m==null?void 0:m.active)!==void 0?!!m.active:!0,options:L(m==null?void 0:m.options),images:Se,is_digital:(m==null?void 0:m.is_digital)!==void 0?!!m.is_digital:Y.value}}),y=()=>{d.variants.forEach(w=>{(w.is_digital===void 0||w.is_digital===null)&&(w.is_digital=Y.value),Y.value&&(w.weight="")})},A=w=>{var X,pe,G,Ye,Je;const m=w?JSON.parse(JSON.stringify(w)):{};d.title=(X=m.title)!=null?X:"",d.slug=(pe=m.slug)!=null?pe:"",d.short_desc=(G=m.short_desc)!=null?G:"",d.long_desc=(Ye=m.long_desc)!=null?Ye:"",d.status=S(m.status!==void 0?m.status:m.active),d.featured=m.featured!==void 0?!!m.featured:!1,d.product_type=typeof m.product_type=="string"&&m.product_type!==""?m.product_type.toLowerCase():"physical";const V=Array.isArray(m.images)?m.images.map(st=>String(st!=null?st:"").trim()).filter(Boolean):[];ne(V);const Se=Array.isArray(m.categories)?m.categories:[];Fe(Se);const ye=$((Je=m.digital_files)!=null?Je:[]);d.digital_files.splice(0,d.digital_files.length,...ye),T.files=ye.slice(),T.error="",T.variantId="",T.version="1.0",T.deletingId=0,P(),M.value="",Ve(z(m.variants)),C.value=!!d.slug},g=Te(()=>d.variants.map((w,m)=>{var X,pe;const V=String((X=w==null?void 0:w.sku)!=null?X:"").trim(),Se=Array.isArray(w==null?void 0:w.options)?w.options.filter(G=>(G==null?void 0:G.name)&&(G==null?void 0:G.value)).map(G=>`${String(G.name).trim()}: ${String(G.value).trim()}`).join(", "):"",ye=s("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(m+1)]);return{id:Number.parseInt((pe=w==null?void 0:w.id)!=null?pe:0,10)||0,label:V||Se||ye}})),ce=w=>{if(!w)return s("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants");const m=g.value.find(V=>V.id===w);return(m==null?void 0:m.label)||s("COM_NXPEASYCART_DIGITAL_VARIANT_SPECIFIC","Variant")},re=w=>{const m=Number(w)||0;if(m<=0)return s("COM_NXPEASYCART_DIGITAL_FILE_SIZE_UNKNOWN","Unknown size");const V=["B","KB","MB","GB"];let Se=0,ye=m;for(;ye>=1024&&Se<V.length-1;)ye/=1024,Se+=1;return`${ye.toFixed(ye>=10?0:1)} ${V[Se]}`},be=async()=>{var w,m;if(!((w=o.product)!=null&&w.id)){T.files=$(d.digital_files);return}if(!((m=p.value)!=null&&m.list)){T.files=$(d.digital_files);return}T.loading=!0,T.error="";try{const V=await u.fetchDigitalFiles({endpoint:p.value.list,productId:o.product.id}),Se=$(V);T.files=Se,d.digital_files.splice(0,d.digital_files.length,...Se)}catch(V){T.error=(V==null?void 0:V.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to load digital files.")}finally{T.loading=!1}},K=w=>{var V;const m=(V=w==null?void 0:w.target)==null?void 0:V.files;h.value=m&&m.length?m[0]:null},fe=async()=>{var w,m;if(!((w=o.product)!=null&&w.id)){T.error=s("COM_NXPEASYCART_ERROR_PRODUCT_ID_REQUIRED","Save the product before uploading files.");return}if(!((m=p.value)!=null&&m.upload)){T.error=s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Digital upload endpoint unavailable.");return}if(!h.value){T.error=s("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Select a file to upload.");return}T.uploading=!0,T.error="";try{const V=await u.uploadDigitalFile({endpoint:p.value.upload,productId:o.product.id,variantId:T.variantId&&Number.parseInt(T.variantId,10)||null,version:T.version||"1.0",file:h.value}),Se=V?$([V]):[];Se.length&&(T.files.unshift(Se[0]),d.digital_files.unshift(Se[0]))}catch(V){T.error=(V==null?void 0:V.message)||s("COM_NXPEASYCART_ERROR_UPLOAD_FAILED","Upload failed.")}finally{T.uploading=!1,P()}},xe=async w=>{var V,Se;const m=Number.parseInt((V=w==null?void 0:w.id)!=null?V:0,10)||0;if(!(!m||!((Se=p.value)!=null&&Se.delete))){T.deletingId=m,T.error="";try{await u.deleteDigitalFile({endpoint:p.value.delete,fileId:m});const ye=T.files.filter(X=>X.id!==m);T.files=ye,d.digital_files.splice(0,d.digital_files.length,...ye)}catch(ye){T.error=(ye==null?void 0:ye.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to delete file.")}finally{T.deletingId=0}}};ct(()=>o.product,w=>{A(w),c.value="general",c.value==="digital"&&be()},{immediate:!0}),ct(()=>d.title,w=>{C.value||(d.slug=$e(w))}),ct(r,w=>{d.variants.forEach(m=>{m.currency=w})}),ct(H,w=>{y(),w!=="digital"&&c.value==="digital"&&(c.value="general")}),ct(c,w=>{w==="digital"&&be()});const Ue=()=>{const w=M.value.trim();if(!w)return;const m=w.toLowerCase(),V=d.categories.slice();V.some(ye=>ye.title.toLowerCase()===m)||(V.push({id:0,title:w,slug:""}),d.categories.splice(0,d.categories.length,...V)),M.value=""},R=w=>{if(w<0||w>=d.categories.length)return;const m=d.categories.slice();m.splice(w,1),d.categories.splice(0,d.categories.length,...m)},O=()=>{d.variants.push(v())},F=w=>{d.variants.length<=1||d.variants.splice(w,1)},ae=w=>{const m=d.variants[w];m&&(Array.isArray(m.options)||(m.options=[]),m.options.push(De()))},Z=(w,m)=>{const V=d.variants[w];!V||!Array.isArray(V.options)||V.options.splice(m,1)};let ee=null;const Q=w=>{var V,Se,ye;if(!w||typeof w!="string")return"";const m=w.trim();if(m==="")return"";if(m.startsWith("http://")||m.startsWith("https://")||m.startsWith("//"))return m;if(typeof window!="undefined")try{const pe=((ye=(Se=(V=window.Joomla)==null?void 0:V.getOptions)==null?void 0:Se.call(V,"system.paths",{}))!=null?ye:{}).root||"",G=m.startsWith("/")?m:`/${m}`;return pe+G}catch(X){}return m.startsWith("/")?m:`/${m}`},q=async w=>{const m=d.variants[w];if(!m)return;Array.isArray(m.images)||(m.images=[]);const V=await ke();if(!V||typeof V.show!="function"){const Se=window.prompt(s("COM_NXPEASYCART_FIELD_IMAGE_URL_PROMPT","Enter image URL:"),"");Se&&Se.trim()!==""&&m.images.push(Se.trim());return}ee=w,k=null,V.setAttribute("url",ge()),typeof V.setValue=="function"?V.setValue(""):x&&(x.value="");try{V.show()}catch(Se){ee=null;const ye=window.prompt(s("COM_NXPEASYCART_FIELD_IMAGE_URL_PROMPT","Enter image URL:"),"");ye&&ye.trim()!==""&&m.images.push(ye.trim())}},te=(w,m)=>{const V=d.variants[w];!V||!Array.isArray(V.images)||V.images.splice(m,1)},J=(w,m)=>`${w.id||"new"}-${m}`,Ee=w=>{const m=d.variants[w];if(!m)return;const V=JSON.parse(JSON.stringify(m));V.id=0,V.sku=[V.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),V.active=!0,d.variants.splice(w+1,0,V)},de=w=>{const m=d.variants[w];if(!m)return;const V=Number.parseFloat(m.price);Number.isNaN(V)||(m.price=V.toFixed(2))},he=w=>{const m=d.variants[w];if(!m)return;if(m.sale_price===""||m.sale_price===null||m.sale_price===void 0){m.sale_price="";return}const V=Number.parseFloat(m.sale_price);if(Number.isNaN(V)){m.sale_price="";return}m.sale_price=V.toFixed(2)};let Ae=null,Re=null,x=null,k=null,le="";const ue=()=>{Array.isArray(d.images)||(d.images=[])},U=w=>{var ye,X,pe;if(!w)return"";let m=String(w).trim();if(m==="")return"";try{const G=(pe=(X=(ye=window.Joomla)==null?void 0:ye.getOptions)==null?void 0:X.call(ye,"system.paths",{}))!=null?pe:{},Ye=G.rootFull||window.location.origin,Je=G.root||"/";m.startsWith(Ye)&&(m=m.substring(Ye.length)),m.startsWith(Je)&&(m=m.substring(Je.length))}catch(G){}const V=m.match(/^(local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(V&&V[2]){const G=V[1].toLowerCase();let Ye=V[2];if(G==="local-images"||G==="images")!Ye.startsWith("images/")&&!Ye.startsWith("/images/")&&(Ye="images/"+Ye);else if(G.startsWith("local-")){const Je=G.replace("local-","");!Ye.startsWith(Je+"/")&&!Ye.startsWith("/"+Je+"/")&&(Ye=Je+"/"+Ye)}m=Ye}const Se=m.indexOf("#joomlaImage://");return Se!==-1&&(m=m.substring(0,Se)),m.trim()},ve=(w,{keepIndex:m=!1,appendWhenNoIndex:V=!1,targetIndex:Se=null}={})=>{const ye=U(w);if(ye==="")return!1;ue();const X=Se!==null&&Se>=0?Se:k;return X==null||Number.isNaN(X)?V?(d.images.push(ye),m||(k=null,le=""),!0):!1:(X>=d.images.length?d.images.push(ye):d.images[X]=ye,le=m?ye:"",m||(k=null,le=""),!0)},qe=()=>{ue(),d.images.push("")},Ke=w=>{ue(),d.images.splice(w,1)},je=(w,m)=>{ue();const V=d.images[w];if(V===void 0)return;const Se=w+m;Se<0||Se>=d.images.length||(d.images.splice(w,1),d.images.splice(Se,0,V))},tt=w=>{var Se;ue();const m=(Se=d.images[w])!=null?Se:"";if(typeof window=="undefined")return;const V=window.prompt(s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),m);ve(V!=null?V:"",{targetIndex:w})},ge=()=>{var X,pe,G,Ye,Je,st;const w=(o.mediaModalUrl||"").trim();if(w!=="")return w;const m=(G=(pe=(X=window.Joomla)==null?void 0:X.getOptions)==null?void 0:pe.call(X,"media-picker",{}))!=null?G:{};if(m.modalUrl)return m.modalUrl;const V=(st=(Je=(Ye=window.Joomla)==null?void 0:Ye.getOptions)==null?void 0:Je.call(Ye,"system.paths",{}))!=null?st:{},Se=V.rootFull||V.root||"";return(Se?Se.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},ke=async()=>{var G,Ye,Je,st,Dt,Ft,Lt,Xs,Ss;if(Ae)return Ae;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(at){return null}const w=(Je=(Ye=(G=window.Joomla)==null?void 0:G.getOptions)==null?void 0:Ye.call(G,"system.paths",{}))!=null?Je:{},m=w.rootFull||w.root||"",V=(Ft=(Dt=(st=window.Joomla)==null?void 0:st.getOptions)==null?void 0:Dt.call(st,"com_media",{}))!=null?Ft:{},Se=(V==null?void 0:V.file_path)||"images",ye=(Ss=(Xs=(Lt=window.Joomla)==null?void 0:Lt.getOptions)==null?void 0:Xs.call(Lt,"media-picker",{}))!=null?Ss:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},pe=s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return Re=document.createElement("div"),Re.className="nxp-ec-media-picker-host",Re.style.display="none",Re.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${m.replace(/"/g,"&quot;")}"
            root-folder="${Se.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${pe}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(ye).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(Re),Ae=Re.querySelector("joomla-field-media"),x=Re.querySelector(".nxp-ec-media-field__input"),Ae.addEventListener("change",at=>{var bs,Ts,Fs,Gt,mn,qn;const cs=(Fs=(Ts=(bs=at.detail)==null?void 0:bs.value)!=null?Ts:x==null?void 0:x.value)!=null?Fs:"";let Yt=U(cs);if(Yt===""&&le!==""&&(Yt=le),Yt===""&&((Gt=window.Joomla)!=null&&Gt.selectedMediaFile)){const Xo=U((mn=window.Joomla.selectedMediaFile.url)!=null?mn:""),Fo=U((qn=window.Joomla.selectedMediaFile.path)!=null?qn:"");Yt=Xo||Fo}ve(Yt)}),Ae.addEventListener("joomla-dialog:close",()=>{k=null,le=""}),x&&x.addEventListener("change",()=>{var cs,Yt,bs,Ts;if(k===null)return;let at=U((cs=x.value)!=null?cs:"");if(at===""&&le!==""&&(at=le),at===""&&((Yt=window.Joomla)!=null&&Yt.selectedMediaFile)){const Fs=U((bs=window.Joomla.selectedMediaFile.url)!=null?bs:""),Gt=U((Ts=window.Joomla.selectedMediaFile.path)!=null?Ts:"");at=Fs||Gt}at!==""&&ve(at)}),Ae},Oe=w=>{var X,pe;const m=w==null?void 0:w.detail;if(!m||typeof m!="object")return;const V=U((X=m.path)!=null?X:""),ye=U((pe=m.url)!=null?pe:"")||V;if(ye!==""){if(ee!==null){const G=d.variants[ee];G&&(Array.isArray(G.images)||(G.images=[]),G.images.push(ye)),ee=null;return}k!==null&&(le=ye,ve(ye,{keepIndex:!0}))}};Ot(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",Oe)});const me=async w=>{var Se;ue();const m=await ke();if(!m||typeof m.show!="function"){tt(w);return}k=w,m.setAttribute("url",ge());const V=(Se=d.images[w])!=null?Se:"";typeof m.setValue=="function"?m.setValue(V):x&&(x.value=V);try{m.show()}catch(ye){k=null,le="",tt(w)}};Zs(()=>{Re&&Re.parentNode&&Re.parentNode.removeChild(Re),Ae=null,Re=null,x=null,k=null,ee=null,le="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",Oe)});const dt=()=>{var X,pe;ue();const w=Array.from(new Set(d.images.map(G=>String(G!=null?G:"").trim()).filter(G=>G!==""))),m=d.categories.map(G=>{var Dt,Ft,Lt;const Ye=Number.parseInt((Dt=G==null?void 0:G.id)!=null?Dt:0,10)||0,Je=String((Ft=G==null?void 0:G.title)!=null?Ft:"").trim(),st=String((Lt=G==null?void 0:G.slug)!=null?Lt:"").trim();return Ye>0?{id:Ye,title:Je,slug:st}:Je===""?null:{id:0,title:Je,slug:""}}).filter(G=>G!==null),V=d.variants.map(G=>{const Ye=Array.isArray(G.options)?G.options.map(at=>{var cs,Yt;return{name:String((cs=at==null?void 0:at.name)!=null?cs:"").trim(),value:String((Yt=at==null?void 0:at.value)!=null?Yt:"").trim()}}).filter(at=>at.name!==""&&at.value!==""):[],Je=Number.isFinite(Number(G.stock))?Math.max(0,parseInt(G.stock,10)):0,st=G.weight!==null&&G.weight!==""?String(G.weight).trim():null,Dt=G.ean&&String(G.ean).trim()!==""?String(G.ean).trim():null,Ft=G.sale_price!==null&&G.sale_price!==void 0&&G.sale_price!==""?String(G.sale_price).trim():null,Lt=B(G.sale_start_local),Xs=B(G.sale_end_local),Ss=Array.isArray(G.images)?G.images.map(at=>typeof at=="string"?at.trim():"").filter(at=>at!==""):[];return{id:G.id||0,sku:G.sku.trim(),ean:Dt,price:G.price!==null&&G.price!==void 0?String(G.price).trim():"",sale_price:Ft,sale_start:Lt,sale_end:Xs,currency:G.currency?String(G.currency).trim().toUpperCase():r.value,stock:Je,weight:st,active:!!G.active,is_digital:!!G.is_digital,options:Ye,images:Ss.length>0?Ss:null}}),Se=S(d.status),ye={title:d.title.trim(),slug:d.slug.trim(),short_desc:(X=d.short_desc)!=null?X:"",long_desc:(pe=d.long_desc)!=null?pe:"",status:Se,active:Se,featured:!!d.featured,images:w,categories:m,variants:V,product_type:H.value==="digital"?"digital":"physical"};a("submit",ye)},lt=()=>{a("cancel")};return ct(()=>o.saving,(w,m)=>{m&&!w&&o.errors.length===0&&Ie.value==="create"&&(A(null),M.value="",C.value=!1)}),(w,m)=>{var V,Se,ye;return e.open?(E(),b("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",onKeydown:Pt(lt,["esc"])},[m[21]||(m[21]=n("div",{class:"nxp-ec-modal__backdrop"},null,-1)),n("div",Og,[n("header",xg,[n("h2",Pg,l(Ie.value==="edit"?i(s)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):i(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),n("div",Ng,[n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:lt,disabled:e.saving,title:i(s)("JCANCEL","Cancel"),"aria-label":i(s)("JCANCEL","Cancel")},[m[16]||(m[16]=n("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),n("span",Mg,l(i(s)("JCANCEL","Cancel")),1)],8,vg),n("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:Mi,title:e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save"),"aria-label":e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")},[n("i",{class:He(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),n("span",kg,l(e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")),1)],8,Ig),n("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:lt,title:i(s)("JCLOSE","Close"),"aria-label":i(s)("JCLOSE","Close")},[m[17]||(m[17]=n("i",{class:"fa-solid fa-circle-xmark"},null,-1)),n("span",$g,l(i(s)("JCLOSE","Close")),1)],8,wg)])]),n("form",{id:Mi,class:"nxp-ec-form",onSubmit:xt(dt,["prevent"])},[e.errors.length?(E(),b("div",Dg,[(E(!0),b(we,null,Ge(e.errors,(X,pe)=>(E(),b("p",{key:pe},l(X),1))),128))])):ie("",!0),n("nav",Lg,[n("button",{type:"button",class:He(["nxp-ec-editor-tab",{"is-active":c.value==="general"}]),onClick:m[0]||(m[0]=X=>c.value="general")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General")),3),n("button",{type:"button",class:He(["nxp-ec-editor-tab",{"is-active":c.value==="variants"}]),onClick:m[1]||(m[1]=X=>c.value="variants")},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),3),n("button",{type:"button",class:He(["nxp-ec-editor-tab",{"is-active":c.value==="images"}]),onClick:m[2]||(m[2]=X=>c.value="images")},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),3),n("button",{type:"button",class:He(["nxp-ec-editor-tab",{"is-active":c.value==="categories"}]),onClick:m[3]||(m[3]=X=>c.value="categories")},l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),3),Y.value?(E(),b("button",{key:0,type:"button",class:He(["nxp-ec-editor-tab",{"is-active":c.value==="digital"}]),onClick:m[4]||(m[4]=X=>c.value="digital")},l(i(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital")),3)):ie("",!0)]),oe(n("section",Yg,[n("div",Ug,[n("label",Xg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),oe(n("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[5]||(m[5]=X=>d.title=X),required:""},null,512),[[Ce,d.title,void 0,{trim:!0}]])]),n("div",Fg,[n("label",Gg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),oe(n("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[6]||(m[6]=X=>d.slug=X),onInput:Me,placeholder:i(s)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,Vg),[[Ce,d.slug,void 0,{trim:!0}]])]),n("div",Hg,[n("label",Bg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),oe(n("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":m[7]||(m[7]=X=>d.short_desc=X)},null,512),[[Ce,d.short_desc]])]),n("div",Kg,[n("label",jg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),oe(n("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":m[8]||(m[8]=X=>d.long_desc=X)},null,512),[[Ce,d.long_desc]])]),n("div",Jg,[n("label",Wg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),oe(n("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":m[9]||(m[9]=X=>d.status=X)},[n("option",qg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),n("option",zg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),n("option",Qg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[gt,d.status,void 0,{number:!0}]]),n("p",Zg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),n("div",eE,[n("label",tE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE","Product type")),1),oe(n("select",{id:"product-type",class:"nxp-ec-form-select","onUpdate:modelValue":m[10]||(m[10]=X=>d.product_type=X)},[n("option",sE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_PHYSICAL","Physical product")),1),n("option",nE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_DIGITAL","Digital product")),1)],512),[[gt,d.product_type]]),n("p",oE,l(i(s)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),n("div",aE,[n("label",iE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),oe(n("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":m[11]||(m[11]=X=>d.featured=X)},null,512),[[ht,d.featured]]),n("p",rE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)])],512),[[Ds,c.value==="general"]]),oe(n("section",lE,[n("div",cE,[n("label",dE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),n("div",uE,[(E(!0),b(we,null,Ge(d.images,(X,pe)=>(E(),b("div",{key:`product-image-${pe}`,class:"nxp-ec-image-row"},[oe(n("input",{id:`product-image-${pe}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":G=>d.images[pe]=G,placeholder:i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,pE),[[Ce,d.images[pe],void 0,{trim:!0}]]),n("div",_E,[n("button",{type:"button",class:"nxp-ec-btn",onClick:G=>me(pe)},[m[18]||(m[18]=n("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,fE),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:G=>je(pe,-1),disabled:pe===0},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,mE),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:G=>je(pe,1),disabled:pe===d.images.length-1},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,hE),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:G=>Ke(pe),"aria-label":i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),9,gE)])]))),128))]),n("button",{type:"button",class:"nxp-ec-btn",onClick:qe},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),n("p",EE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)])],512),[[Ds,c.value==="images"]]),oe(n("section",CE,[n("div",AE,[n("label",SE,l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),oe(n("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":m[12]||(m[12]=X=>Ne.value=X)},[(E(!0),b(we,null,Ge(se.value,X=>(E(),b("option",{key:X.id,value:X.id},l(j(X)),9,bE))),128))],512),[[gt,Ne.value]]),n("div",TE,[(E(!0),b(we,null,Ge(d.categories,(X,pe)=>(E(),b("span",{key:`selected-category-${pe}`,class:"nxp-ec-chip"},[Pe(l(X.title)+" ",1),n("button",{type:"button",class:"nxp-ec-chip__remove",onClick:G=>R(pe),"aria-label":i(s)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,yE)]))),128))]),n("div",RE,[oe(n("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":m[13]||(m[13]=X=>M.value=X),onKeydown:Pt(xt(Ue,["prevent"]),["enter"]),placeholder:i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,OE),[[Ce,M.value]]),n("button",{type:"button",class:"nxp-ec-btn",onClick:Ue},l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),n("p",xE,l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select a category or create a new one",[],"productCategoriesHelp")),1)])],512),[[Ds,c.value==="categories"]]),oe(n("section",PE,[n("header",NE,[n("h3",vE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),n("button",{type:"button",class:"nxp-ec-btn",onClick:O},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),n("p",ME,[Pe(l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),r.value?(E(),b(we,{key:0},[Pe(" ("+l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[r.value]))+") ",1)],64)):ie("",!0)]),(E(!0),b(we,null,Ge(d.variants,(X,pe)=>(E(),b("article",{key:J(X,pe),class:"nxp-ec-variant-card"},[n("header",IE,[n("h4",kE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(pe+1)])),1),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:G=>Ee(pe)},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,wE),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:G=>F(pe),disabled:d.variants.length<=1},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,$E)]),n("div",DE,[n("div",LE,[n("label",{class:"nxp-ec-form-label",for:`variant-sku-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,YE),oe(n("input",{id:`variant-sku-${pe}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":G=>X.sku=G,required:""},null,8,UE),[[Ce,X.sku,void 0,{trim:!0}]])]),n("div",XE,[n("label",{class:"nxp-ec-form-label",for:`variant-ean-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_EAN","EAN")),9,FE),oe(n("input",{id:`variant-ean-${pe}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":G=>X.ean=G,placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_EAN_PLACEHOLDER","8 or 13 digits"),maxlength:"13",pattern:"\\d{8}|\\d{13}"},null,8,GE),[[Ce,X.ean,void 0,{trim:!0}]])]),n("div",VE,[n("label",{class:"nxp-ec-form-label",for:`variant-price-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,HE),oe(n("input",{id:`variant-price-${pe}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G=>X.price=G,onBlur:G=>de(pe),required:""},null,40,BE),[[Ce,X.price,void 0,{trim:!0}]])]),n("div",KE,[n("label",{class:"nxp-ec-form-label",for:`variant-sale-price-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE","Sale Price")),9,jE),oe(n("input",{id:`variant-sale-price-${pe}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G=>X.sale_price=G,onBlur:G=>he(pe),placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE_PLACEHOLDER","Leave empty if not on sale")},null,40,JE),[[Ce,X.sale_price,void 0,{trim:!0}]])]),n("div",WE,[n("label",{class:"nxp-ec-form-label",for:`variant-sale-start-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START","Sale Start")),9,qE),oe(n("input",{id:`variant-sale-start-${pe}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":G=>X.sale_start_local=G,disabled:!X.sale_price||X.sale_price===""},null,8,zE),[[Ce,X.sale_start_local]]),n("p",QE,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START_HELP","Leave empty to start immediately")),1)]),n("div",ZE,[n("label",{class:"nxp-ec-form-label",for:`variant-sale-end-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END","Sale End")),9,eC),oe(n("input",{id:`variant-sale-end-${pe}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":G=>X.sale_end_local=G,disabled:!X.sale_price||X.sale_price===""},null,8,tC),[[Ce,X.sale_end_local]]),n("p",sC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END_HELP","Leave empty for no expiration")),1)]),n("div",nC,[n("label",{class:"nxp-ec-form-label",for:`variant-stock-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,oC),oe(n("input",{id:`variant-stock-${pe}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":G=>X.stock=G},null,8,aC),[[Ce,X.stock,void 0,{number:!0}]])]),n("div",iC,[n("label",{class:"nxp-ec-form-label",for:`variant-weight-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,rC),oe(n("input",{id:`variant-weight-${pe}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":G=>X.weight=G},null,8,lC),[[Ce,X.weight,void 0,{trim:!0}]])]),n("div",cC,[n("label",{class:"nxp-ec-form-label",for:`variant-digital-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL","Digital item")),9,dC),oe(n("input",{id:`variant-digital-${pe}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":G=>X.is_digital=G},null,8,uC),[[ht,X.is_digital]]),n("p",pC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL_HELP","Digital variants skip shipping.")),1)]),n("div",_C,[n("label",{class:"nxp-ec-form-label",for:`variant-active-${pe}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,fC),oe(n("input",{id:`variant-active-${pe}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":G=>X.active=G},null,8,mC),[[ht,X.active]])])]),n("section",hC,[n("header",gC,[n("h5",EC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:G=>ae(pe)},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,CC)]),n("p",AC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(E(!0),b(we,null,Ge(X.options,(G,Ye)=>(E(),b("div",{key:`variant-${pe}-option-${Ye}`,class:"nxp-ec-variant-option-row"},[oe(n("input",{id:`variant-${pe}-option-name-${Ye}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Je=>G.name=Je,placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,SC),[[Ce,G.name,void 0,{trim:!0}]]),oe(n("input",{id:`variant-${pe}-option-value-${Ye}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Je=>G.value=Je,placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,bC),[[Ce,G.value,void 0,{trim:!0}]]),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Je=>Z(pe,Ye),"aria-label":i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),9,TC)]))),128))]),n("section",yC,[n("header",RC,[n("h5",OC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES","Variant Images")),1),e.mediaModalUrl?(E(),b("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:G=>q(pe)},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_IMAGE_ADD","Add image")),9,xC)):ie("",!0)]),n("p",PC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES_HELP","Add variant-specific images (e.g., different colours). Leave empty to use product images.")),1),X.images&&X.images.length>0?(E(),b("div",NC,[(E(!0),b(we,null,Ge(X.images,(G,Ye)=>(E(),b("div",{key:`variant-${pe}-img-${Ye}`,class:"nxp-ec-variant-image"},[n("img",{src:Q(G),alt:i(s)("COM_NXPEASYCART_VARIANT_IMAGE","Variant image")+" "+(Ye+1),class:"nxp-ec-variant-image__thumb"},null,8,vC),n("button",{type:"button",class:"nxp-ec-variant-image__remove",onClick:Je=>te(pe,Ye),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[...m[19]||(m[19]=[n("i",{class:"fa-solid fa-times"},null,-1)])],8,MC)]))),128))])):(E(),b("p",IC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES_EMPTY","No variant images (using product images)")),1))])]))),128))],512),[[Ds,c.value==="variants"]]),Y.value?oe((E(),b("section",kC,[n("div",wC,[n("p",$C,l(i(s)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),T.error?(E(),b("div",DC,l(T.error),1)):ie("",!0),(V=e.product)!=null&&V.id?ie("",!0):(E(),b("div",LC,[m[20]||(m[20]=n("span",{class:"nxp-ec-admin-callout__icon"},[n("i",{class:"fa-solid fa-circle-info"})],-1)),n("div",YC,[n("div",UC,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST_TITLE","Save Required")),1),Pe(" "+l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST","Digital files are linked to the product record. Save this product first, then reopen the editor to upload your files.")),1)])])),n("div",XC,[n("div",FC,[n("h4",null,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1),n("div",GC,[n("label",VC,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_SELECT","Choose file")),1),n("input",{id:"digital-file-input",ref_key:"fileInputRef",ref:_,type:"file",class:"nxp-ec-form-input",onChange:K,disabled:T.uploading||!((Se=e.product)!=null&&Se.id)},null,40,HC)]),n("div",BC,[n("label",KC,l(i(s)("COM_NXPEASYCART_DIGITAL_VERSION","Version")),1),oe(n("input",{id:"digital-version",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[14]||(m[14]=X=>T.version=X),disabled:T.uploading},null,8,jC),[[Ce,T.version,void 0,{trim:!0}]])]),n("div",JC,[n("label",WC,l(i(s)("COM_NXPEASYCART_DIGITAL_VARIANT_SCOPE","Applies to")),1),oe(n("select",{id:"digital-variant",class:"nxp-ec-form-select","onUpdate:modelValue":m[15]||(m[15]=X=>T.variantId=X),disabled:T.uploading},[n("option",zC,l(i(s)("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants")),1),(E(!0),b(we,null,Ge(g.value,X=>(E(),b("option",{key:X.id,value:X.id},l(X.label),9,QC))),128))],8,qC),[[gt,T.variantId]]),n("p",ZC,l(i(s)("COM_NXPEASYCART_DIGITAL_VARIANT_HELP","Scope downloads to a specific variant when needed.")),1)]),n("div",eA,[n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--primary",onClick:fe,disabled:T.uploading||!((ye=e.product)!=null&&ye.id)},[n("i",{class:He(["fa-solid fa-cloud-arrow-up",{"fa-spin":T.uploading}]),"aria-hidden":"true"},null,2),Pe(" "+l(T.uploading?i(s)("JPROCESSING_REQUEST","Uploading"):i(s)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1)],8,tA)])]),n("div",sA,[n("div",nA,[n("h4",null,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital files")),1),T.loading?(E(),b("span",oA,l(i(s)("JGLOBAL_LOADING","Loading")),1)):ie("",!0)]),T.files.length===0?(E(),b("div",aA,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_EMPTY","No files attached to this product.")),1)):(E(),b("div",iA,[(E(!0),b(we,null,Ge(T.files,X=>(E(),b("div",{key:X.id,class:"nxp-ec-digital-row"},[n("div",rA,[n("strong",null,l(X.filename),1),n("div",lA,[Pe(l(ce(X.variant_id))+"  "+l(re(X.file_size))+" ",1),X.version?(E(),b(we,{key:0},[Pe("  v"+l(X.version),1)],64)):ie("",!0)]),X.created?(E(),b("div",cA,l(X.created),1)):ie("",!0)]),n("div",dA,[n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",disabled:T.deletingId===X.id,onClick:pe=>xe(X)},l(T.deletingId===X.id?i(s)("JPROCESSING_REQUEST","Removing"):i(s)("COM_NXPEASYCART_REMOVE","Remove")),9,uA)])]))),128))]))])])],512)),[[Ds,c.value==="digital"]]):ie("",!0),n("footer",pA,[n("button",{type:"button",class:"nxp-ec-btn",onClick:lt,disabled:e.saving},l(i(s)("JCANCEL","Cancel")),9,_A),n("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},l(e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")),9,fA)])],32)])],32)):ie("",!0)}}},[["__scopeId","data-v-bbe99456"]]),hA={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},gA={key:1,class:"nxp-ec-skeleton__table"},EA={key:2,class:"nxp-ec-skeleton__card"},CA={key:3,class:"nxp-ec-skeleton__circle"};function AA(e,t,o,a,s,r){return E(),b("div",{class:He(["nxp-ec-skeleton",r.skeletonClasses])},[o.type==="text"?(E(),b("div",{key:0,class:"nxp-ec-skeleton__line",style:Ht({width:o.width})},null,4)):o.type==="table"?(E(),b("div",gA,[(E(!0),b(we,null,Ge(o.rows,c=>(E(),b("div",{key:c,class:"nxp-ec-skeleton__table-row"},[(E(!0),b(we,null,Ge(o.columns,u=>(E(),b("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):o.type==="card"?(E(),b("div",EA,[...t[0]||(t[0]=[gm('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):o.type==="circle"?(E(),b("div",CA)):(E(),b("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Ht({width:o.width,height:o.height})},null,4))],2)}const un=Nt(hA,[["render",AA],["__scopeId","data-v-c8b9a887"]]),SA={class:"nxp-ec-admin-panel"},bA={class:"nxp-ec-admin-panel__header"},TA={class:"nxp-ec-admin-panel__title"},yA={class:"nxp-ec-admin-panel__lead"},RA={class:"nxp-ec-admin-panel__actions"},OA=["aria-label"],xA={value:null},PA=["value"],NA=["placeholder","aria-label"],vA=["disabled","title","aria-label"],MA={class:"nxp-ec-sr-only"},IA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kA={key:1,class:"nxp-ec-admin-panel__body"},wA={key:2,class:"nxp-ec-admin-panel__body"},$A={key:0,class:"nxp-ec-admin-pagination"},DA=["disabled"],LA={class:"nxp-ec-admin-pagination__status"},YA=["disabled"],UA=["title"],pn=1,Ys=-1,Jn=0,XA={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""},checkoutProduct:{type:Function,default:null},checkinProduct:{type:Function,default:null},forceCheckinProduct:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["create","update","delete","refresh","search","page","filter-category","sort"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=et({mode:"create",product:null}),c=Qe(!1),u=Qe(null),p=Te(()=>(o.baseCurrency||"USD").toUpperCase()),f=Te(()=>r.product),S=Te(()=>(o.mediaModalUrl||"").trim()),d=Te(()=>o.digitalEndpoints||{}),M=Te(()=>o.csrfToken||""),C=Te(()=>Number(o.currentUserId||0)),H=(ne,L=!1)=>{const $=Number(ne);if(Number.isFinite($))return $===Ys?Ys:$===Jn?Jn:pn;if(L)return Ys;if(typeof ne=="string"){const I=ne.trim().toLowerCase();if(I==="out_of_stock"||I==="out-of-stock"||I==="-1")return Ys;if(I==="inactive"||I==="0")return Jn}return pn},Y=(ne,L=!1)=>{const $=H(ne,L);return $===pn?Ys:$===Ys?Jn:pn},T=ne=>(ne==null?void 0:ne.checked_out)&&Number(ne.checked_out)!==0&&Number(ne.checked_out)!==C.value,h=ne=>{var $,I;if(!ne)return"";const L=(I=($=ne.checked_out_user)==null?void 0:$.name)!=null?I:"";return L||(ne.checked_out===C.value?s("JGLOBAL_YOU","You"):"")},_=async()=>{if(!u.value||!o.checkinProduct){u.value=null;return}try{await o.checkinProduct(u.value)}catch(ne){}finally{u.value=null}},P=async()=>{await _(),o.state.validationErrors=[],o.state.error="",r.mode="create",r.product={title:"",slug:"",short_desc:"",long_desc:"",status:pn,active:!0,featured:!1,images:[],categories:[],variants:[],product_type:"physical"},c.value=!0},N=async ne=>{await _(),o.state.validationErrors=[],o.state.error="",r.mode="edit";const L=JSON.parse(JSON.stringify(ne));L.product_type||(L.product_type="physical");const $=h(ne);if(T(ne)){if(!await j(ne,$)){o.state.error=$!==""?s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT","This product is currently checked out by %s.",[$]):s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","This product is currently checked out by another user.");return}return}if(ne!=null&&ne.id&&o.checkoutProduct)try{const I=await o.checkoutProduct(ne.id);if(I){u.value=I.id,r.product=JSON.parse(JSON.stringify(I)),c.value=!0;return}}catch(I){o.state.error=(I==null?void 0:I.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to edit this product right now.");return}r.product=L,c.value=!0},j=async(ne,L="")=>{if(!(ne!=null&&ne.id)||typeof o.forceCheckinProduct!="function")return null;const $=s("COM_NXPEASYCART_FORCE_CHECKIN_PRODUCT","This product is checked out by %s. Force check-in?",[L||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm($))return null;try{const I=await o.forceCheckinProduct(ne.id);if(I)return u.value=I.id,r.product=JSON.parse(JSON.stringify(I)),c.value=!0,I}catch(I){o.state.error=(I==null?void 0:I.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to check in this product.")}return null},se=async()=>{await _(),c.value=!1,o.state.validationErrors=[]},W=async ne=>{var I,B;const L=H((I=ne.status)!=null?I:ne.active,ne.out_of_stock),$={...ne,status:L,active:L,featured:ne.featured?1:0,product_type:typeof ne.product_type=="string"&&ne.product_type.trim()||"physical"};r.mode==="edit"&&((B=r.product)!=null&&B.id)?a("update",{id:r.product.id,data:$}):a("create",$)},Ne=async ne=>{var I;const L=(I=ne==null?void 0:ne.title)!=null?I:"",$=s("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[L||"#"]);window.confirm($)&&a("delete",[ne.id])},Ie=ne=>{var A;if(!(ne!=null&&ne.id)||o.state.saving)return;const L=Y((A=ne.status)!=null?A:ne.active,ne.out_of_stock),$=g=>g==null?"":String(g),I=(g,ce=0)=>{const re=Number(g);return Number.isFinite(re)?re:ce},B=Array.isArray(ne.variants)?ne.variants.map(g=>{var Ue,R;if(!g)return null;const ce=$(g.sku).trim();if(!ce)return null;let re=I(g.price_cents,Number.NaN);if(!Number.isFinite(re)){const O=$(g.price),F=O?Number.parseFloat(O):NaN;re=Number.isFinite(F)?Math.round(F*100):NaN}if(!Number.isFinite(re))return null;const be=$((Ue=g.currency)!=null?Ue:p.value).trim().toUpperCase();if(!be)return null;const K=(R=g.options)!=null?R:null,fe=Math.max(0,Math.round(I(g.stock,0)));let xe=null;return Array.isArray(g.images)&&g.images.length>0&&(xe=g.images.map(O=>$(O).trim()).filter(O=>O!==""),xe.length===0&&(xe=null)),{id:I(g.id,0),sku:ce,price_cents:Math.round(re),currency:be,stock:fe,options:K!=null?K:null,weight:g.weight!==null&&g.weight!==void 0&&g.weight!==""?String(g.weight):null,active:g.active===void 0?!0:!!g.active,is_digital:g.is_digital===void 0?!1:!!g.is_digital,images:xe}}).filter(Boolean):[];if(!B.length){o.state.error=s("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const z=Array.isArray(ne.categories)?ne.categories.map(g=>{if(g==null)return null;if(typeof g=="number")return g>0?{id:g,title:"",slug:""}:null;if(typeof g=="string"&&g.trim()!==""&&Number.isFinite(Number(g))){const re=Number(g);return re>0?{id:re,title:"",slug:""}:null}if(typeof g=="object"){if(g.id){const be=I(g.id,0);return be>0?{id:be,title:"",slug:""}:null}return I(g.id,0)<=0&&!g.title?null:{id:0,title:$(g.title),slug:$(g.slug)}}const ce=$(g).trim();return ce?{id:0,title:ce,slug:""}:null}).filter(Boolean):[],y=Array.isArray(ne.images)?ne.images.map(g=>$(g).trim()).map(g=>{var K,fe,xe;let ce=g;if(!ce)return"";const re=ce.indexOf("#joomlaImage://");re!==-1&&(ce=ce.substring(0,re));const be=ce.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(be&&be[1]&&(ce=be[1]),typeof window!="undefined")try{const Ue=(xe=(fe=(K=window.Joomla)==null?void 0:K.getOptions)==null?void 0:fe.call(K,"system.paths",{}))!=null?xe:{},R=Ue.rootFull||window.location.origin,O=Ue.root||"/";ce.startsWith(R)&&(ce=ce.substring(R.length)),ce.startsWith(O)&&(ce=ce.substring(O.length))}catch(Ue){}return ce.trim()}).filter(g=>g!==""):[];o.state.error="",a("update",{id:ne.id,data:{title:$(ne.title),slug:$(ne.slug),short_desc:$(ne.short_desc),long_desc:$(ne.long_desc),status:L,active:L,featured:ne.featured?1:0,images:y,variants:B,categories:z,product_type:typeof ne.product_type=="string"&&ne.product_type.trim()||"physical"}})},v=()=>{a("refresh")},De=()=>{a("search")},$e=()=>{a("filter-category",o.state.categoryId)},Me=ne=>{a("sort",ne)},Fe=ne=>{a("page",ne)},Ve=ne=>{if(!ne)return"";try{const L=new Date(ne),I=new Date-L,B=Math.floor(I/1e3),z=Math.floor(B/60),y=Math.floor(z/60);return B<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):z<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[z]):y<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[y]):L.toLocaleString()}catch(L){return ne}};return Zs(()=>{_()}),ct(()=>o.state.saving,(ne,L)=>{L&&!ne&&c.value&&!o.state.validationErrors.length&&!o.state.error&&se()}),(ne,L)=>{var $;return E(),b("section",SA,[n("header",bA,[n("div",null,[n("h2",TA,l(i(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),n("p",yA,l(i(s)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),n("div",RA,[oe(n("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":L[0]||(L[0]=I=>e.state.categoryId=I),onChange:$e,"aria-label":i(s)("COM_NXPEASYCART_PRODUCTS_FILTER_CATEGORY","Filter by category",[],"productsFilterCategory")},[n("option",xA,l(i(s)("COM_NXPEASYCART_PRODUCTS_ALL_CATEGORIES","All categories")),1),(E(!0),b(we,null,Ge(e.categoryOptions,I=>(E(),b("option",{key:I.id,value:I.id},l(I.title),9,PA))),128))],40,OA),[[gt,e.state.categoryId]]),oe(n("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":L[1]||(L[1]=I=>e.state.search=I),onKeyup:Pt(De,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,NA),[[Ce,e.state.search]]),n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:v,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":i(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[L[4]||(L[4]=n("i",{class:"fa-solid fa-rotate"},null,-1)),n("span",MA,l(i(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,vA),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:P},[L[5]||(L[5]=n("i",{class:"fa-solid fa-plus"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(E(),b("div",IA,l(e.state.error),1)):ie("",!0),e.state.loading?(E(),b("div",kA,[_t(un,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(E(),b("div",wA,[_t(yg,{items:e.state.items,translate:i(s),"base-currency":p.value,saving:e.state.saving,"current-user-id":C.value,"sort-column":e.state.sort,"sort-direction":e.state.sortDir,onEdit:N,onDelete:Ne,onToggleActive:Ie,onSort:Me},null,8,["items","translate","base-currency","saving","current-user-id","sort-column","sort-direction"]),(($=e.state.pagination)==null?void 0:$.pages)>1?(E(),b("div",$A,[n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:L[2]||(L[2]=I=>Fe(e.state.pagination.current-1))},"  ",8,DA),n("span",LA,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:L[3]||(L[3]=I=>Fe(e.state.pagination.current+1))},"  ",8,YA)])):ie("",!0),e.state.lastUpdated?(E(),b("div",{key:1,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(Ve(e.state.lastUpdated)),9,UA)):ie("",!0)])),_t(mA,{open:c.value,product:f.value,saving:e.state.saving,"base-currency":p.value,translate:i(s),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":S.value,"digital-endpoints":d.value,"csrf-token":M.value,onSubmit:W,onCancel:se},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url","digital-endpoints","csrf-token"])])}}},FA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},GA={class:"nxp-ec-admin-panel__header"},VA={class:"nxp-ec-admin-panel__title"},HA={class:"nxp-ec-admin-panel__lead"},BA={class:"nxp-ec-admin-panel__actions"},KA=["placeholder","aria-label"],jA=["disabled","title","aria-label"],JA={class:"nxp-ec-sr-only"},WA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qA={key:1,class:"nxp-ec-admin-panel__body"},zA={key:2,class:"nxp-ec-admin-panel__body"},QA={class:"nxp-ec-admin-panel__table"},ZA={class:"nxp-ec-admin-table"},eS={scope:"col"},tS={scope:"col"},sS={scope:"col"},nS={scope:"col"},oS={scope:"col"},aS={key:0},iS={colspan:"6"},rS={scope:"row",class:"nxp-ec-admin-table__primary"},lS={key:0,class:"nxp-ec-admin-table__meta"},cS={class:"nxp-ec-status nxp-ec-status--muted"},dS=["data-label"],uS=["data-label"],pS=["data-label"],_S=["data-label"],fS={class:"nxp-ec-admin-table__actions"},mS=["onClick","title","disabled","aria-label"],hS={class:"nxp-ec-sr-only"},gS=["disabled","onClick","title","aria-label"],ES={class:"nxp-ec-sr-only"},CS={key:0,class:"nxp-ec-admin-pagination"},AS=["disabled"],SS={class:"nxp-ec-admin-pagination__status"},bS=["disabled"],TS=["title"],yS={class:"nxp-ec-modal__dialog"},RS={class:"nxp-ec-modal__header"},OS={id:"category-modal-title",class:"nxp-ec-modal__title"},xS=["title","aria-label"],PS={class:"nxp-ec-sr-only"},NS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vS={class:"nxp-ec-form-field"},MS={class:"nxp-ec-form-label",for:"category-title"},IS={class:"nxp-ec-form-field"},kS={class:"nxp-ec-form-label",for:"category-slug"},wS={class:"nxp-ec-form-field"},$S={class:"nxp-ec-form-label",for:"category-parent"},DS={value:""},LS=["value"],YS={class:"nxp-ec-form-field"},US={class:"nxp-ec-form-label",for:"category-sort"},XS={class:"nxp-ec-modal__actions"},FS=["disabled"],GS=Nt({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null},checkoutCategory:{type:Function,default:null},checkinCategory:{type:Function,default:null},forceCheckinCategory:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=Qe(!1),c=Qe(!1),u=Qe([]),p=Qe(null),f=Te(()=>Number(o.currentUserId||0)),S=L=>{const I=(Array.isArray(L)?L:[]).map(K=>{var fe,xe,Ue,R,O;return{...K,id:Number.parseInt((fe=K==null?void 0:K.id)!=null?fe:0,10)||0,parent_id:(K==null?void 0:K.parent_id)!=null&&Number.parseInt(K.parent_id,10)||0,sort:Number.parseInt((xe=K==null?void 0:K.sort)!=null?xe:0,10)||0,title:String((Ue=K==null?void 0:K.title)!=null?Ue:"").trim(),slug:String((R=K==null?void 0:K.slug)!=null?R:"").trim(),usage:(O=K==null?void 0:K.usage)!=null?O:0}}).filter(K=>K.id>0||K.title!==""),B=new Set(I.map(K=>K.id));I.forEach(K=>{B.has(K.parent_id)||(K.parent_id=0)});const z=new Map,y=new Map;I.forEach(K=>{y.set(K.id,K);const fe=K.parent_id||0;z.has(fe)||z.set(fe,[]),z.get(fe).push(K)});const A=K=>K.sort((fe,xe)=>{var Ue,R;return((Ue=fe.sort)!=null?Ue:0)-((R=xe.sort)!=null?R:0)||fe.title.localeCompare(xe.title,void 0,{sensitivity:"base"})});z.forEach(A);const g=new Set,ce=[],re=(K,fe,xe)=>{if(!K||g.has(K.id)||xe.includes(K.id))return;const Ue=[...xe],R=Ue.map(ae=>{var Z;return(Z=y.get(ae))==null?void 0:Z.title}).filter(Boolean),O={...K,depth:fe,path:R.join(" / "),ancestors:Ue,indentedTitle:fe>0?`${" ".repeat(fe)}${K.title}`:K.title};ce.push(O),g.add(K.id),(z.get(K.id)||[]).forEach(ae=>re(ae,fe+1,[...xe,K.id]))},be=I.filter(K=>K.parent_id===0||!B.has(K.parent_id));return A(be),be.forEach(K=>re(K,0,[])),I.forEach(K=>{g.has(K.id)||re(K,0,[])}),ce},d=L=>(L==null?void 0:L.checked_out)&&Number(L.checked_out)!==0&&Number(L.checked_out)!==f.value,M=L=>{var y,A;if(!L)return"";const $=Number(L.checked_out)||0,I=L.checked_out_user&&L.checked_out_user.id?Number(L.checked_out_user.id):0,B=$||I;if(B!==0&&B===f.value)return s("JGLOBAL_YOU","You");const z=(A=(y=L.checked_out_user)==null?void 0:y.name)!=null?A:"";return z||""},C=L=>s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[M(L)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]),H=async()=>{if(!p.value||!o.checkinCategory){p.value=null;return}try{await o.checkinCategory(p.value)}catch(L){}finally{p.value=null}},Y=Te(()=>{var L,$;return S(($=(L=o.state)==null?void 0:L.items)!=null?$:[])}),T=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),h=et(T()),_=Te(()=>{var $,I;const L=(I=Array.isArray(u.value)&&u.value.length?u.value:($=o.state)==null?void 0:$.items)!=null?I:[];return S(L).filter(B=>B.id>0&&B.id!==h.id&&!(Array.isArray(B.ancestors)&&B.ancestors.includes(h.id))).map(B=>({id:B.id,title:B.title,label:B.depth>0?`${" ".repeat(B.depth)}${B.title}`:B.title}))}),P=()=>{Object.assign(h,T()),c.value=!1},N=L=>L?L.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",j=()=>{c.value=!0,h.slug=N(h.slug)};ct(()=>h.title,L=>{c.value||(h.slug=N(L))});const se=async(L=0)=>{if(typeof o.loadOptions!="function"){u.value=Array.isArray(o.state.items)?[...o.state.items]:[];return}try{const $=await o.loadOptions();u.value=Array.isArray($)?[...$]:[]}catch($){u.value=[]}u.value=u.value.filter($=>{var B,z;return(Number.parseInt((z=(B=$==null?void 0:$.id)!=null?B:$==null?void 0:$.value)!=null?z:0,10)||0)!==L})},W=async()=>{await H(),o.state.error="",o.state.validationErrors=[],P(),await se(),r.value=!0},Ne=async L=>{var B,z,y,A;if(!L)return;o.state.error="",o.state.validationErrors=[];const $=M(L);if(d(L)){if(!await Ie(L,$)){o.state.error=$!==""?s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT","This category is currently checked out by %s.",[$]):s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","This category is currently checked out by another user.");return}return}await H();let I=L;if(L!=null&&L.id&&o.checkoutCategory)try{const g=await o.checkoutCategory(L.id);g&&(p.value=g.id,I=g)}catch(g){o.state.error=(g==null?void 0:g.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to edit this category right now.");return}h.id=Number.parseInt((B=I.id)!=null?B:0,10)||0,h.title=String((z=I.title)!=null?z:"").trim(),h.slug=String((y=I.slug)!=null?y:"").trim(),h.parent_id=I.parent_id!=null&&Number.parseInt(I.parent_id,10)||null,h.sort=Number.parseInt((A=I.sort)!=null?A:0,10)||0,c.value=!!h.slug,await se(h.id),r.value=!0},Ie=async(L,$="")=>{var B,z,y,A;if(!(L!=null&&L.id)||typeof o.forceCheckinCategory!="function")return null;const I=s("COM_NXPEASYCART_FORCE_CHECKIN_CATEGORY","This category is checked out by %s. Force check-in?",[$||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(I))return null;try{const g=await o.forceCheckinCategory(L.id);if(g)return p.value=g.id,h.id=Number.parseInt((B=g.id)!=null?B:0,10)||0,h.title=String((z=g.title)!=null?z:"").trim(),h.slug=String((y=g.slug)!=null?y:"").trim(),h.parent_id=g.parent_id!=null&&Number.parseInt(g.parent_id,10)||null,h.sort=Number.parseInt((A=g.sort)!=null?A:0,10)||0,c.value=!!h.slug,await se(h.id),r.value=!0,g}catch(g){o.state.error=(g==null?void 0:g.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to check in this category.")}return null},v=async()=>{r.value=!1,await H(),P()},De=()=>{a("refresh")},$e=()=>{a("search")},Me=L=>{a("page",L)},Fe=()=>{const L={id:h.id||void 0,title:h.title.trim(),slug:h.slug.trim(),parent_id:h.parent_id||null,sort:Number.isFinite(h.sort)?h.sort:0};a("save",L)},Ve=L=>{if(!L||!L.id)return;const $=s("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm($)||a("delete",[L.id])},ne=L=>{if(!L)return"";try{const $=new Date(L),B=new Date-$,z=Math.floor(B/1e3),y=Math.floor(z/60),A=Math.floor(y/60);return z<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):y<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[y]):A<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[A]):$.toLocaleString()}catch($){return L}};return Zs(()=>{H()}),ct(()=>{var L;return(L=o.state)==null?void 0:L.saving},async(L,$)=>{var I,B,z;$&&!L&&(((B=(I=o.state)==null?void 0:I.validationErrors)!=null?B:[]).length>0||(z=o.state)!=null&&z.error||(await H(),r.value=!1,P()))}),(L,$)=>(E(),b("section",FA,[n("header",GA,[n("div",null,[n("h2",VA,l(i(s)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),n("p",HA,l(i(s)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),n("div",BA,[oe(n("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":$[0]||($[0]=I=>e.state.search=I),onKeyup:Pt($e,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,KA),[[Ce,e.state.search]]),n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:De,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":i(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[$[7]||($[7]=n("i",{class:"fa-solid fa-rotate"},null,-1)),n("span",JA,l(i(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,jA),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:W},[$[8]||($[8]=n("i",{class:"fa-solid fa-plus"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(E(),b("div",WA,l(e.state.error),1)):ie("",!0),e.state.loading?(E(),b("div",qA,[_t(un,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(E(),b("div",zA,[n("div",QA,[n("table",ZA,[n("thead",null,[n("tr",null,[n("th",eS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),n("th",tS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),n("th",sS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),n("th",nS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),n("th",oS,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),$[9]||($[9]=n("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),n("tbody",null,[e.state.items.length?ie("",!0):(E(),b("tr",aS,[n("td",iS,l(i(s)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(E(!0),b(we,null,Ge(Y.value,I=>{var B;return E(),b("tr",{key:I.id,class:He({"is-active":h.id===I.id})},[n("th",rS,[n("span",{style:Ht({paddingLeft:`${I.depth*1.5}rem`})},l(I.indentedTitle),5),I.checked_out?(E(),b("div",lS,[n("span",cS,[$[10]||($[10]=n("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),Pe(" "+l(C(I)),1)])])):ie("",!0)]),n("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},l(I.slug||""),9,dS),n("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},l(I.path||i(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,uS),n("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},l(I.sort),9,pS),n("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},l((B=I.usage)!=null?B:0),9,_S),n("td",fS,[n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:z=>Ne(I),title:i(s)("JEDIT","Edit"),disabled:e.state.saving,"aria-label":i(s)("JEDIT","Edit")},[$[11]||($[11]=n("i",{class:"fa-solid fa-pen-to-square"},null,-1)),n("span",hS,l(i(s)("JEDIT","Edit")),1)],8,mS),n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting||d(I),onClick:z=>Ve(I),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[$[12]||($[12]=n("i",{class:"fa-solid fa-trash"},null,-1)),n("span",ES,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,gS)])],2)}),128))])]),e.state.pagination.pages>1?(E(),b("div",CS,[n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:$[1]||($[1]=I=>Me(e.state.pagination.current-1))},"  ",8,AS),n("span",SS,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:$[2]||($[2]=I=>Me(e.state.pagination.current+1))},"  ",8,bS)])):ie("",!0)]),e.state.lastUpdated?(E(),b("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(ne(e.state.lastUpdated)),9,TS)):ie("",!0),r.value?(E(),b("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"category-modal-title",onKeydown:Pt(v,["esc"])},[n("div",{class:"nxp-ec-modal__backdrop",onClick:v}),n("div",yS,[n("header",RS,[n("h3",OS,l(h.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),n("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:v,title:i(s)("JCLOSE","Close"),"aria-label":i(s)("JCLOSE","Close")},[$[13]||($[13]=n("i",{class:"fa-solid fa-circle-xmark"},null,-1)),n("span",PS,l(i(s)("JCLOSE","Close")),1)],8,xS)]),n("form",{class:"nxp-ec-form",onSubmit:xt(Fe,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(E(),b("div",NS,[n("ul",null,[(E(!0),b(we,null,Ge(e.state.validationErrors,(I,B)=>(E(),b("li",{key:B},l(I),1))),128))])])):ie("",!0),n("div",vS,[n("label",MS,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),oe(n("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[3]||($[3]=I=>h.title=I),required:"",maxlength:"255"},null,512),[[Ce,h.title,void 0,{trim:!0}]])]),n("div",IS,[n("label",kS,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),oe(n("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[4]||($[4]=I=>h.slug=I),maxlength:"190",onInput:j},null,544),[[Ce,h.slug,void 0,{trim:!0}]])]),n("div",wS,[n("label",$S,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),oe(n("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":$[5]||($[5]=I=>h.parent_id=I)},[n("option",DS,l(i(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(E(!0),b(we,null,Ge(_.value,I=>(E(),b("option",{key:I.id,value:I.id},l(I.label),9,LS))),128))],512),[[gt,h.parent_id,void 0,{number:!0}]])]),n("div",YS,[n("label",US,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),oe(n("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":$[6]||($[6]=I=>h.sort=I),min:"0",step:"1"},null,512),[[Ce,h.sort,void 0,{number:!0}]])]),n("footer",XS,[n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[$[14]||($[14]=n("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,FS),n("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:v},[$[15]||($[15]=n("i",{class:"fa-solid fa-ban"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-0bba5030"]]),VS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},HS={class:"nxp-ec-admin-panel__header"},BS={class:"nxp-ec-admin-panel__title"},KS={class:"nxp-ec-admin-panel__lead"},jS={class:"nxp-ec-admin-panel__actions"},JS=["placeholder","aria-label"],WS=["aria-label"],qS={value:""},zS=["value"],QS=["disabled","title","aria-label"],ZS={class:"nxp-ec-sr-only"},eb=["disabled","title","aria-label"],tb={class:"nxp-ec-sr-only"},sb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},nb={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ob={key:2,class:"nxp-ec-admin-panel__body"},ab={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},ib={class:"nxp-ec-admin-panel__table"},rb={key:0,class:"nxp-ec-admin-panel__selection"},lb=["aria-label"],cb={value:""},db=["value"],ub=["disabled"],pb=["title","aria-label"],_b={class:"nxp-ec-sr-only"},fb={class:"nxp-ec-admin-table"},mb={scope:"col",class:"nxp-ec-admin-table__select"},hb={scope:"col"},gb={scope:"col"},Eb={scope:"col"},Cb={scope:"col"},Ab={scope:"col"},Sb={scope:"col",class:"nxp-ec-admin-table__actions"},bb={key:0},Tb={colspan:"7"},yb={class:"nxp-ec-admin-table__select"},Rb=["checked","onChange","disabled","aria-label"],Ob={scope:"row",class:"nxp-ec-admin-table__primary"},xb=["onClick","disabled"],Pb={key:0,class:"nxp-ec-admin-table__meta"},Nb={class:"nxp-ec-status nxp-ec-status--muted"},vb=["data-label"],Mb={class:"nxp-ec-admin-table__meta"},Ib=["data-label"],kb=["data-label"],wb={class:"nxp-ec-badge"},$b=["title"],Db=["data-label"],Lb={class:"nxp-ec-admin-table__actions"},Yb=["onUpdate:modelValue","disabled","aria-label"],Ub=["value"],Xb=["value"],Fb=["disabled","onClick"],Gb=["aria-label"],Vb=["disabled","aria-label"],Hb={class:"nxp-ec-admin-pagination__status","aria-current":"page"},Bb=["disabled","aria-label"],Kb=["title"],jb={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Jb={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},Wb={class:"nxp-ec-admin-panel__sidebar-header"},qb={id:"order-modal-title"},zb=["title","aria-label"],Qb={class:"nxp-ec-sr-only"},Zb={class:"nxp-ec-admin-panel__sidebar-content"},eT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},tT={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},sT={key:2,class:"nxp-ec-admin-panel__section"},nT={class:"nxp-ec-admin-copy"},oT=["value"],aT=["disabled"],iT={key:0,class:"nxp-ec-admin-panel__muted"},rT={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},lT=["disabled"],cT={key:0,class:"nxp-ec-admin-panel__muted"},dT={class:"nxp-ec-admin-panel__section"},uT={class:"nxp-ec-admin-list"},pT={class:"nxp-ec-admin-list__title"},_T={class:"nxp-ec-admin-list__meta"},fT={key:3,class:"nxp-ec-admin-panel__section"},mT={class:"nxp-ec-admin-panel__section-header"},hT=["disabled"],gT={key:0,class:"nxp-ec-admin-panel__muted"},ET={class:"nxp-ec-download-list"},CT={class:"nxp-ec-download-card__meta"},AT={class:"nxp-ec-admin-list__title"},ST={class:"nxp-ec-admin-panel__muted"},bT={class:"nxp-ec-download-card__actions"},TT=["disabled","onClick","title"],yT=["onClick"],RT=["href"],OT={class:"nxp-ec-admin-panel__section"},xT={class:"nxp-ec-admin-panel__total"},PT={class:"nxp-ec-admin-panel__addresses"},NT={class:"nxp-ec-admin-panel__section"},vT={class:"nxp-ec-admin-address"},MT={class:"nxp-ec-admin-panel__section"},IT={key:0,class:"nxp-ec-admin-address"},kT={key:1,class:"nxp-ec-admin-panel__muted"},wT={class:"nxp-ec-admin-panel__section"},$T={class:"nxp-ec-form-field"},DT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},LT={class:"nxp-ec-form-field"},YT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},UT={class:"nxp-ec-form-field"},XT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},FT={key:0,class:"nxp-ec-form-checkbox"},GT={class:"nxp-ec-admin-form__actions"},VT=["disabled"],HT={key:4,class:"nxp-ec-admin-panel__section"},BT={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},KT=["disabled"],jT=["disabled"],JT={key:5,class:"nxp-ec-admin-panel__section"},WT={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},qT={class:"nxp-ec-form-field"},zT={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},QT=["placeholder"],ZT={class:"nxp-ec-form-help"},ey={class:"nxp-ec-form-field"},ty={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},sy=["placeholder"],ny={class:"nxp-ec-form-field"},oy={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},ay={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},iy=["disabled"],ry={key:6,class:"nxp-ec-admin-panel__section"},ly={class:"nxp-ec-admin-list"},cy={class:"nxp-ec-admin-list__title"},dy={class:"nxp-ec-admin-list__meta"},uy={class:"nxp-ec-admin-panel__section"},py=["placeholder"],_y={class:"nxp-ec-admin-form__actions"},fy=["disabled"],my={class:"nxp-ec-admin-panel__section"},hy={key:0,class:"nxp-ec-admin-list"},gy={class:"nxp-ec-admin-list__title"},Ey={class:"nxp-ec-admin-list__meta"},Cy={key:1,class:"nxp-ec-admin-panel__muted"},Ay=Nt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""},currentUserId:{type:Number,default:0},forceCheckinOrder:{type:Function,default:null}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=Te(()=>Number(o.currentUserId||0)),c=et({}),u=Qe(""),p=Qe(""),f=Te(()=>p.value.trim().length>0),S=Qe(""),d=Qe(""),M=et({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),C=et({amount:null,reference:"",note:""}),H=Te(()=>{var k;const x=(k=o.state)==null?void 0:k.selection;return!x||typeof x.values!="function"?[]:Array.from(x.values())}),Y=Te(()=>H.value.length>0),T=Te(()=>{var ue;const x=(ue=o.state)==null?void 0:ue.activeOrder;if(!x)return!1;const k=["cod","bank_transfer"],le=String(x.payment_method||"").toLowerCase();return x.state==="pending"&&k.includes(le)}),h=Te(()=>{var le,ue;const x=(le=o.state)==null?void 0:le.activeOrder;return x?["paid","fulfilled"].includes(x.state)&&((ue=x.downloads)==null?void 0:ue.length)>0:!1});Te(()=>T.value);const _=x=>(x==null?void 0:x.checked_out)&&Number(x.checked_out)!==0&&Number(x.checked_out)!==r.value,P=x=>{var ue,U;const k=(U=(ue=x==null?void 0:x.checked_out_user)==null?void 0:ue.name)!=null?U:"",le=(x==null?void 0:x.checked_out)===r.value?s("JGLOBAL_YOU","You"):k||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user");return s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[le])},N=Te(()=>{var x;return _((x=o.state)==null?void 0:x.activeOrder)});ct(H,x=>{x.length||(u.value="")}),Zs(()=>{ce()}),ct(()=>o.state.activeOrder,x=>{var k,le,ue;p.value="",S.value="",M.carrier=(k=x==null?void 0:x.carrier)!=null?k:"",M.tracking_number=(le=x==null?void 0:x.tracking_number)!=null?le:"",M.tracking_url=(ue=x==null?void 0:x.tracking_url)!=null?ue:"",M.markFulfilled=!1,C.amount=null,C.reference="",C.note="",d.value=""},{immediate:!0}),ct(()=>o.state.items,x=>{Array.isArray(x)&&x.forEach(k=>{!k||typeof k.id=="undefined"||c[k.id]||(c[k.id]=k.state)})},{immediate:!0}),ct(()=>o.state.transitionError,x=>{var le;if(!x)return;const k=(le=o.state)==null?void 0:le.items;Array.isArray(k)&&k.forEach(ue=>{ue!=null&&ue.id&&ue.state&&(c[ue.id]=ue.state)})});const j=(x,k)=>{const le=(Number(x)||0)/100,ue=(k||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ue}).format(le)}catch(U){return`${ue} ${le.toFixed(2)}`}},se=x=>{if(!x)return"";const k=new Date(x);return Number.isNaN(k.getTime())?x:k.toLocaleString()},W=x=>x?{payment_amount_mismatch:s("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[x]||x:s("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),Ne=x=>x===1?s("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):s("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(x)]),Ie=x=>{if(!x)return"";const k=`COM_NXPEASYCART_ORDERS_STATE_${String(x).toUpperCase()}`;return s(k,x)},v=x=>o.state.orderStates.filter(k=>k!==x.state),De=x=>(c[x.id]||x.state)!==x.state,$e=()=>{var x;return o.siteRoot&&o.siteRoot.trim()!==""?o.siteRoot.trim():typeof window!="undefined"&&((x=window.location)!=null&&x.origin)?window.location.origin:""},Me=Te(()=>{var qe,Ke;const x=(Ke=(qe=o.state)==null?void 0:qe.activeOrder)!=null?Ke:{},k=String(x.public_token||"").trim(),le=String(x.order_no||"").trim();if(!k)return"";const ue=$e();if(!ue)return"";const U=ue.endsWith("/")?"":"/",ve=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:k});return le&&ve.set("no",le),`${ue}${U}index.php?${ve.toString()}`}),Fe=async()=>{var x;if(Me.value){try{if(!((x=navigator==null?void 0:navigator.clipboard)!=null&&x.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(Me.value),S.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(k){try{const le=document.createElement("textarea");le.value=Me.value,le.setAttribute("readonly",""),le.style.position="absolute",le.style.left="-9999px",document.body.appendChild(le),le.select(),document.execCommand("copy"),document.body.removeChild(le),S.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(le){S.value=s("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}S.value&&setTimeout(()=>{S.value=""},2e3)}},Ve=x=>{var ue,U;const k=Number((ue=x==null?void 0:x.download_count)!=null?ue:0),le=Number((U=x==null?void 0:x.max_downloads)!=null?U:0);if(le>0){const ve=Math.max(0,le-k);return s("COM_NXPEASYCART_ORDER_DOWNLOADS_REMAINING","%d downloads remaining",[ve])}return s("COM_NXPEASYCART_ORDER_DOWNLOADS_UNLIMITED","Unlimited downloads")},ne=x=>x!=null&&x.expires_at?s("COM_NXPEASYCART_ORDER_DOWNLOADS_EXPIRES","Expires %s",[x.expires_at]):s("JNONE","No expiry"),L=async x=>{var le;const k=x==null?void 0:x.url;if(k){try{if(!((le=navigator==null?void 0:navigator.clipboard)!=null&&le.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(k),d.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(ue){try{const U=document.createElement("textarea");U.value=k,U.setAttribute("readonly",""),U.style.position="absolute",U.style.left="-9999px",document.body.appendChild(U),U.select(),document.execCommand("copy"),document.body.removeChild(U),d.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(U){d.value=s("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.")}}d.value&&setTimeout(()=>{d.value=""},2e3)}},$=Te(()=>{var k,le,ue,U,ve;const x=(le=(k=o.state)==null?void 0:k.activeOrder)!=null?le:{};return M.carrier!==((ue=x.carrier)!=null?ue:"")||M.tracking_number!==((U=x.tracking_number)!=null?U:"")||M.tracking_url!==((ve=x.tracking_url)!=null?ve:"")||M.markFulfilled}),I=x=>!x||typeof x!="object"?[]:Object.entries(x).filter(([,k])=>k!=null&&`${k}`.trim()!=="").map(([k,le])=>({key:k,value:`${le}`.trim()})),B=()=>{a("refresh")},z=()=>{a("export")},y=()=>{a("search")},A=()=>{a("filter",o.state.filterState)},g=async x=>{x&&(_(x)&&!await re(x)||a("view",x))},ce=()=>{a("close")},re=async x=>{var le;if(!(x!=null&&x.id)||typeof o.forceCheckinOrder!="function")return null;const k=s("COM_NXPEASYCART_FORCE_CHECKIN_ORDER","This order is checked out by %s. Force check-in?",[((le=x.checked_out_user)==null?void 0:le.name)||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(k))return null;try{return await o.forceCheckinOrder(x.id)}catch(ue){return state.transitionError=(ue==null?void 0:ue.message)||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","Unable to check in this order."),null}},be=x=>{if(!x||_(x))return;const k=c[x.id]||x.state;k!==x.state&&a("transition",{id:x.id,state:k})},K=x=>{a("page",x)},fe=x=>{var k,le,ue,U;return(U=(ue=(le=(k=o.state)==null?void 0:k.selection)==null?void 0:le.has)==null?void 0:ue.call(le,x))!=null?U:!1},xe=x=>{var le,ue,U,ve;const k=(ve=(U=(ue=(le=o.state)==null?void 0:le.items)==null?void 0:ue.find)==null?void 0:U.call(ue,qe=>qe.id===x))!=null?ve:null;_(k)||a("toggle-selection",x)},Ue=()=>{u.value="",a("clear-selection")},R=()=>{if(!Y.value||!u.value)return;const x=[...H.value].filter(k=>{var ue,U,ve,qe;const le=(qe=(ve=(U=(ue=o.state)==null?void 0:ue.items)==null?void 0:U.find)==null?void 0:ve.call(U,Ke=>Ke.id===k))!=null?qe:null;return!_(le)});x.length&&a("bulk-transition",{ids:x,state:u.value})},O=()=>{if(!o.state.activeOrder||N.value)return;const x=p.value.trim();x&&(a("add-note",{id:o.state.activeOrder.id,message:x}),p.value="")},F=()=>{o.state.activeOrder&&a("invoice",o.state.activeOrder.id)},ae=()=>{!o.state.activeOrder||!$.value||N.value||(a("save-tracking",{id:o.state.activeOrder.id,carrier:M.carrier,tracking_number:M.tracking_number,tracking_url:M.tracking_url,mark_fulfilled:M.markFulfilled}),M.markFulfilled=!1)},Z=x=>{!o.state.activeOrder||N.value||a("send-email",{id:o.state.activeOrder.id,type:x})},ee=()=>{if(!o.state.activeOrder||!T.value||N.value)return;const x=o.state.activeOrder,k=C.amount!==null&&C.amount!==""?Math.round(Number(C.amount)*100):x.total_cents;a("record-payment",{id:x.id,amountCents:k,reference:C.reference,note:C.note}),C.amount=null,C.reference="",C.note=""},Q=()=>{!o.state.activeOrder||!h.value||N.value||a("resend-downloads",{id:o.state.activeOrder.id})},q=x=>{!o.state.activeOrder||!(x!=null&&x.id)||N.value||a("reset-download",{download_id:x.id,order_id:o.state.activeOrder.id})},te=x=>{var ue;const k=(ue=o.state)==null?void 0:ue.activeOrder;return k?(k.timeline||k.audit||[]).some(U=>{var ve;return U.action==="order.email.sent"?((ve=U.context)==null?void 0:ve.type)===x:!1}):!1},J=Te(()=>s("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(H.value.length)],"ordersSelectedCount")),Ee=x=>{var k,le,ue,U,ve,qe,Ke,je,tt,ge,ke,Oe;if(!x||!x.action)return"";switch(x.action){case"order.created":return s("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const me=Ie((le=(k=x.context)==null?void 0:k.from)!=null?le:""),dt=Ie((U=(ue=x.context)==null?void 0:ue.to)!=null?U:"");return s("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[me||((ve=x.context)==null?void 0:ve.from)||"",dt||((qe=x.context)==null?void 0:qe.to)||""],"ordersTimelineState")}case"order.note":return((Ke=x.context)==null?void 0:Ke.message)||s("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const me=((je=x.context)==null?void 0:je.gateway)||s("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),dt=j((ge=(tt=x.context)==null?void 0:tt.amount_cents)!=null?ge:0,(Oe=(ke=o.state)==null?void 0:ke.activeOrder)==null?void 0:Oe.currency);return s("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[me,dt],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return x.action}},de=x=>{if(!x)return"";const k=String(x.type||"").toLowerCase(),le=String(x.message||"").trim(),ue=String(x.state||"").toLowerCase();return k==="tracking"?s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):ue?Ie(ue):le||k||""},he=Te(()=>{var ue,U,ve,qe;const x=[];return(Array.isArray((U=(ue=o.state)==null?void 0:ue.activeOrder)==null?void 0:U.fulfillment_events)?o.state.activeOrder.fulfillment_events:[]).forEach((Ke,je)=>{var tt,ge;x.push({label:de(Ke),created:(tt=Ke==null?void 0:Ke.at)!=null?tt:"",key:`f-${je}-${(ge=Ke==null?void 0:Ke.at)!=null?ge:""}`})}),(Array.isArray((qe=(ve=o.state)==null?void 0:ve.activeOrder)==null?void 0:qe.timeline)?o.state.activeOrder.timeline:[]).forEach((Ke,je)=>{var tt,ge,ke;x.push({label:Ee(Ke),created:(tt=Ke==null?void 0:Ke.created)!=null?tt:"",key:`a-${(ge=Ke==null?void 0:Ke.id)!=null?ge:je}-${(ke=Ke==null?void 0:Ke.created)!=null?ke:""}`})}),x.filter(Ke=>Ke.label).sort((Ke,je)=>{const tt=new Date(Ke.created||0).getTime();return new Date(je.created||0).getTime()-tt})}),Ae=x=>s(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(x.status||"").toUpperCase()}`,x.status||""),Re=x=>{if(!x)return"";try{const k=new Date(x),ue=new Date-k,U=Math.floor(ue/1e3),ve=Math.floor(U/60),qe=Math.floor(ve/60);return U<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):ve<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[ve]):qe<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[qe]):k.toLocaleString()}catch(k){return x}};return(x,k)=>{var le,ue;return E(),b("section",VS,[n("header",HS,[n("div",null,[n("h2",BS,l(i(s)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),n("p",KS,l(i(s)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),n("div",jS,[oe(n("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":k[0]||(k[0]=U=>e.state.search=U),onKeyup:Pt(y,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,JS),[[Ce,e.state.search]]),oe(n("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":k[1]||(k[1]=U=>e.state.filterState=U),onChange:A,"aria-label":i(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[n("option",qS,"  "+l(i(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(E(!0),b(we,null,Ge(e.state.orderStates,U=>(E(),b("option",{key:U,value:U},l(Ie(U)),9,zS))),128))],40,WS),[[gt,e.state.filterState]]),n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:z,disabled:e.state.loading||e.state.exporting,title:i(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[k[15]||(k[15]=n("i",{class:"fa-solid fa-file-csv"},null,-1)),n("span",ZS,l(i(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,QS),n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:B,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[k[16]||(k[16]=n("i",{class:"fa-solid fa-rotate"},null,-1)),n("span",tb,l(i(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,eb)])]),e.state.error?(E(),b("div",sb,l(e.state.error),1)):ie("",!0),e.state.transitionError&&!e.state.error?(E(),b("div",nb,l(e.state.transitionError),1)):ie("",!0),e.state.loading&&!e.state.error?(E(),b("div",ob,[_t(un,{type:"table",rows:5,columns:7})])):ie("",!0),!e.state.loading&&!e.state.error?(E(),b("div",ab,[n("div",ib,[Y.value?(E(),b("div",rb,[n("span",null,l(J.value),1),oe(n("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":k[2]||(k[2]=U=>u.value=U),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[n("option",cb,l(i(s)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(E(!0),b(we,null,Ge(e.state.orderStates,U=>(E(),b("option",{key:`bulk-${U}`,value:U},l(Ie(U)),9,db))),128))],8,lb),[[gt,u.value]]),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!u.value||e.state.saving,onClick:R},[k[17]||(k[17]=n("i",{class:"fa-solid fa-check"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,ub),n("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Ue,title:i(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[k[18]||(k[18]=n("i",{class:"fa-solid fa-xmark"},null,-1)),n("span",_b,l(i(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,pb)])):ie("",!0),n("table",fb,[n("thead",null,[n("tr",null,[n("th",mb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),n("th",hb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),n("th",gb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),n("th",Eb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),n("th",Cb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),n("th",Ab,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),n("th",Sb,l(i(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),n("tbody",null,[e.state.items.length?ie("",!0):(E(),b("tr",bb,[n("td",Tb,l(i(s)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(E(!0),b(we,null,Ge(e.state.items,U=>{var ve,qe,Ke;return E(),b("tr",{key:U.id,class:He({"is-active":e.state.activeOrder&&e.state.activeOrder.id===U.id})},[n("td",yb,[n("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:fe(U.id),onChange:je=>xe(U.id),disabled:_(U),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Rb)]),n("th",Ob,[n("button",{class:"nxp-ec-link-button",type:"button",onClick:je=>g(U),disabled:e.state.saving},l(U.order_no),9,xb),U.checked_out?(E(),b("div",Pb,[n("span",Nb,[k[19]||(k[19]=n("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),Pe(" "+l(P(U)),1)])])):ie("",!0)]),n("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[n("div",null,l(U.email),1),n("div",Mb,l(Ne((Ke=U.items_count)!=null?Ke:(qe=(ve=U.items)==null?void 0:ve.length)!=null?qe:0)),1)],8,vb),n("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},l(j(U.total_cents,U.currency)),9,Ib),n("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[n("span",wb,l(Ie(U.state)),1),U.needs_review?(E(),b("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:U.review_reason||i(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},l(i(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,$b)):ie("",!0)],8,kb),n("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},l(se(U.modified||U.created)),9,Db),n("td",Lb,[oe(n("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":je=>c[U.id]=je,disabled:_(U),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[n("option",{value:U.state},l(Ie(U.state)),9,Ub),(E(!0),b(we,null,Ge(v(U),je=>(E(),b("option",{key:je,value:je},l(Ie(je)),9,Xb))),128))],8,Yb),[[gt,c[U.id]]]),n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!De(U)||_(U),onClick:je=>be(U)},l(i(s)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,Fb)])],2)}),128))])]),e.state.pagination.pages>1?(E(),b("nav",{key:1,class:"nxp-ec-admin-pagination","aria-label":i(s)("COM_NXPEASYCART_PAGINATION","Pagination")},[n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:k[3]||(k[3]=U=>K(e.state.pagination.current-1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,Vb),n("span",Hb,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:k[4]||(k[4]=U=>K(e.state.pagination.current+1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,Bb)],8,Gb)):ie("",!0)]),e.state.lastUpdated?(E(),b("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(Re(e.state.lastUpdated)),9,Kb)):ie("",!0),e.state.activeOrder?(E(),b("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"order-modal-title",onKeydown:Pt(ce,["esc"])},[n("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:ce}),n("div",jb,[n("aside",Jb,[n("header",Wb,[n("h3",qb,l(i(s)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+l(e.state.activeOrder.order_no),1),n("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:ce,title:i(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[k[20]||(k[20]=n("i",{class:"fa-solid fa-circle-xmark"},null,-1)),n("span",Qb,l(i(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,zb)]),n("div",Zb,[e.state.transitionError?(E(),b("div",eT,l(e.state.transitionError),1)):ie("",!0),(le=e.state.activeOrder)!=null&&le.needs_review?(E(),b("div",tT,[n("strong",null,l(i(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),Pe(" "+l(W((ue=e.state.activeOrder)==null?void 0:ue.review_reason)),1)])):ie("",!0),Me.value?(E(),b("section",sT,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),n("div",nT,[n("input",{type:"text",class:"nxp-ec-form-input",value:Me.value,readonly:""},null,8,oT),n("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!Me.value,onClick:Fe},[k[21]||(k[21]=n("i",{class:"fa-solid fa-link"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,aT)]),S.value?(E(),b("p",iT,l(S.value),1)):ie("",!0),n("div",rT,[n("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!o.state.activeOrder||o.state.invoiceLoading,onClick:F},[k[22]||(k[22]=n("i",{class:"fa-solid fa-file-pdf"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,lT),o.state.invoiceLoading?(E(),b("span",cT,l(i(s)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ie("",!0)])])):ie("",!0),n("section",dT,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),n("ul",uT,[(E(!0),b(we,null,Ge(e.state.activeOrder.items,U=>(E(),b("li",{key:U.id},[n("div",pT,[Pe(l(U.title)+" ",1),n("small",null,"("+l(U.sku)+")",1)]),n("div",_T,"  "+l(U.qty)+"  "+l(j(U.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),e.state.activeOrder.downloads&&e.state.activeOrder.downloads.length?(E(),b("section",fT,[n("div",mT,[n("h4",null,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital downloads")),1),h.value?(E(),b("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--small",disabled:e.state.saving||N.value,onClick:Q},[k[23]||(k[23]=n("i",{class:"fa-solid fa-envelope"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_ORDERS_RESEND_DOWNLOADS","Resend email")),1)],8,hT)):ie("",!0)]),d.value?(E(),b("p",gT,l(d.value),1)):ie("",!0),n("div",ET,[(E(!0),b(we,null,Ge(e.state.activeOrder.downloads,U=>(E(),b("article",{key:U.id,class:"nxp-ec-download-card"},[n("div",CT,[n("div",AT,l(U.filename),1),n("div",ST,l(Ve(U))+"  "+l(ne(U)),1)]),n("div",bT,[n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",disabled:e.state.saving||N.value,onClick:ve=>q(U),title:i(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD_TITLE","Reset download count to 0")},[k[24]||(k[24]=n("i",{class:"fa-solid fa-rotate-left"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD","Reset")),1)],8,TT),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",onClick:ve=>L(U)},l(i(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),9,yT),U.url?(E(),b("a",{key:0,class:"nxp-ec-btn nxp-ec-btn--small",href:U.url,target:"_blank",rel:"noopener"},l(i(s)("COM_NXPEASYCART_DOWNLOAD","Download")),9,RT)):ie("",!0)])]))),128))])])):ie("",!0),n("section",OT,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),n("p",xT,l(j(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),n("div",PT,[n("section",NT,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),n("address",vT,[(E(!0),b(we,null,Ge(I(e.state.activeOrder.billing),U=>(E(),b("span",{key:U.key},l(U.value),1))),128))])]),n("section",MT,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(E(),b("address",IT,[(E(!0),b(we,null,Ge(I(e.state.activeOrder.shipping),U=>(E(),b("span",{key:U.key},l(U.value),1))),128))])):(E(),b("p",kT,l(i(s)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),n("section",wT,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),n("div",$T,[n("label",DT,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),oe(n("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[5]||(k[5]=U=>M.carrier=U)},null,512),[[Ce,M.carrier]])]),n("div",LT,[n("label",YT,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),oe(n("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[6]||(k[6]=U=>M.tracking_number=U)},null,512),[[Ce,M.tracking_number]])]),n("div",UT,[n("label",XT,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),oe(n("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":k[7]||(k[7]=U=>M.tracking_url=U)},null,512),[[Ce,M.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(E(),b("label",FT,[oe(n("input",{type:"checkbox","onUpdate:modelValue":k[8]||(k[8]=U=>M.markFulfilled=U)},null,512),[[ht,M.markFulfilled]]),Pe(" "+l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):ie("",!0),n("div",GT,[n("button",{class:"nxp-ec-btn",type:"button",disabled:!$.value||e.state.saving||N.value,onClick:ae},[k[25]||(k[25]=n("i",{class:"fa-solid fa-truck"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,VT)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(E(),b("section",HT,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),n("div",BT,[e.state.activeOrder.state==="fulfilled"?(E(),b("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||N.value,onClick:k[9]||(k[9]=U=>Z("shipped"))},[k[26]||(k[26]=n("i",{class:"fa-solid fa-envelope"},null,-1)),Pe(" "+l(te("shipped")?i(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):i(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,KT)):ie("",!0),e.state.activeOrder.state==="refunded"?(E(),b("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||N.value,onClick:k[10]||(k[10]=U=>Z("refunded"))},[k[27]||(k[27]=n("i",{class:"fa-solid fa-envelope"},null,-1)),Pe(" "+l(te("refunded")?i(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):i(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,jT)):ie("",!0)])])):ie("",!0),T.value?(E(),b("section",JT,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),n("p",WT,l(i(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),n("div",qT,[n("label",zT,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),oe(n("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":k[11]||(k[11]=U=>C.amount=U),placeholder:j(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,QT),[[Ce,C.amount]]),n("small",ZT,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),n("div",ey,[n("label",ty,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),oe(n("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[12]||(k[12]=U=>C.reference=U),placeholder:i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,sy),[[Ce,C.reference]])]),n("div",ny,[n("label",oy,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),oe(n("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":k[13]||(k[13]=U=>C.note=U)},null,512),[[Ce,C.note]])]),n("div",ay,[n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving||N.value||!T.value,onClick:ee},[k[28]||(k[28]=n("i",{class:"icon-credit"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,iy)])])):ie("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(E(),b("section",ry,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),n("ul",ly,[(E(!0),b(we,null,Ge(e.state.activeOrder.transactions,U=>(E(),b("li",{key:U.id},[n("div",cy,l(U.gateway)+"  "+l(j(U.amount_cents,e.state.activeOrder.currency)),1),n("div",dy,l(Ae(U))+"  "+l(se(U.created)),1)]))),128))])])):ie("",!0),n("section",uy,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),n("form",{class:"nxp-ec-admin-form",onSubmit:xt(O,["prevent"])},[oe(n("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":k[14]||(k[14]=U=>p.value=U),placeholder:i(s)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,py),[[Ce,p.value]]),n("div",_y,[n("button",{class:"nxp-ec-btn",type:"submit",disabled:!f.value||e.state.saving||N.value},[k[29]||(k[29]=n("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,fy)])],32)]),n("section",my,[n("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),he.value.length?(E(),b("ul",hy,[(E(!0),b(we,null,Ge(he.value,U=>(E(),b("li",{key:U.key},[n("div",gy,l(U.label),1),n("div",Ey,l(se(U.created)),1)]))),128))])):(E(),b("p",Cy,l(i(s)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])],32)):ie("",!0)])):ie("",!0)])}}},[["__scopeId","data-v-9ae09394"]]),Sy={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},by={class:"nxp-ec-admin-panel__header"},Ty={class:"nxp-ec-admin-panel__title"},yy={class:"nxp-ec-admin-panel__lead"},Ry={class:"nxp-ec-admin-panel__actions"},Oy=["placeholder","aria-label"],xy=["disabled","title","aria-label"],Py={class:"nxp-ec-sr-only"},Ny={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vy={key:1,class:"nxp-ec-admin-panel__body"},My={key:2,class:"nxp-ec-admin-panel__body"},Iy={class:"nxp-ec-admin-panel__table"},ky={class:"nxp-ec-admin-table"},wy={scope:"col"},$y={scope:"col"},Dy={scope:"col"},Ly={scope:"col"},Yy={scope:"col"},Uy={key:0},Xy={colspan:"5"},Fy={scope:"row",class:"nxp-ec-admin-table__primary"},Gy=["onClick"],Vy=["data-label"],Hy=["data-label"],By=["data-label"],Ky=["data-label"],jy={key:0,class:"nxp-ec-admin-pagination"},Jy=["disabled"],Wy={class:"nxp-ec-admin-pagination__status"},qy=["disabled"],zy=["title"],Qy={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Zy={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},eR={class:"nxp-ec-admin-panel__sidebar-header"},tR={id:"customer-modal-title"},sR=["title","aria-label"],nR={class:"nxp-ec-sr-only"},oR={class:"nxp-ec-admin-panel__section"},aR={class:"nxp-ec-admin-summary"},iR={class:"nxp-ec-admin-panel__addresses"},rR={class:"nxp-ec-admin-panel__section"},lR={class:"nxp-ec-admin-address"},cR={class:"nxp-ec-admin-panel__section"},dR={key:0,class:"nxp-ec-admin-address"},uR={key:1,class:"nxp-ec-admin-panel__muted"},pR={class:"nxp-ec-admin-panel__section"},_R={key:0,class:"nxp-ec-admin-list"},fR={class:"nxp-ec-admin-list__title"},mR={class:"nxp-ec-admin-list__meta"},hR={key:1,class:"nxp-ec-admin-panel__muted"},gR={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},ER={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},CR={class:"nxp-ec-gdpr-actions"},AR=["disabled","title"],SR=["disabled","title"],bR=Nt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=(h,_)=>{const P=(Number(h)||0)/100,N=(_||"").toUpperCase()||o.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:N}).format(P)}catch(j){return`${N} ${P.toFixed(2)}`}},c=h=>{if(!h)return"";const _=new Date(h);return Number.isNaN(_.getTime())?h:_.toLocaleString()},u=h=>!h||typeof h!="object"?[]:Object.entries(h).filter(([,_])=>_!=null&&`${_}`.trim()!=="").map(([_,P])=>({key:_,value:`${P}`.trim()})),p=h=>{if(!h)return"";const _=`COM_NXPEASYCART_ORDERS_STATE_${String(h).toUpperCase()}`;return s(_,h)},f=()=>a("refresh"),S=()=>a("search"),d=h=>a("page",h),M=h=>a("view",h),C=()=>a("close"),H=h=>a("gdprExport",h),Y=h=>a("gdprAnonymise",h),T=h=>{if(!h)return"";try{const _=new Date(h),N=new Date-_,j=Math.floor(N/1e3),se=Math.floor(j/60),W=Math.floor(se/60);return j<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):se<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[se]):W<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[W]):_.toLocaleString()}catch(_){return h}};return(h,_)=>{var P,N,j;return E(),b("section",Sy,[n("header",by,[n("div",null,[n("h2",Ty,l(i(s)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),n("p",yy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),n("div",Ry,[oe(n("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":_[0]||(_[0]=se=>e.state.search=se),onKeyup:Pt(S,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,Oy),[[Ce,e.state.search]]),n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:f,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":i(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[_[5]||(_[5]=n("i",{class:"fa-solid fa-rotate"},null,-1)),n("span",Py,l(i(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,xy)])]),e.state.error?(E(),b("div",Ny,l(e.state.error),1)):ie("",!0),e.state.loading?(E(),b("div",vy,[_t(un,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(E(),b("div",My,[n("div",Iy,[n("table",ky,[n("thead",null,[n("tr",null,[n("th",wy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),n("th",$y,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),n("th",Dy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),n("th",Ly,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),n("th",Yy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),n("tbody",null,[e.state.items.length?ie("",!0):(E(),b("tr",Uy,[n("td",Xy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(E(!0),b(we,null,Ge(e.state.items,se=>{var W;return E(),b("tr",{key:se.email,class:He({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===se.email})},[n("th",Fy,[n("button",{class:"nxp-ec-link-button",type:"button",onClick:Ne=>M(se)},l(se.email),9,Gy)]),n("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},l(((W=se.meta)==null?void 0:W.name)||""),9,Vy),n("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},l(se.orders_count),9,Hy),n("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},l(r(se.total_spent_cents,se.currency||e.baseCurrency)),9,By),n("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},l(c(se.last_order)),9,Ky)],2)}),128))])]),e.state.pagination.pages>1?(E(),b("div",jy,[n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:_[1]||(_[1]=se=>d(e.state.pagination.current-1))},"  ",8,Jy),n("span",Wy,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:_[2]||(_[2]=se=>d(e.state.pagination.current+1))},"  ",8,qy)])):ie("",!0)]),e.state.lastUpdated?(E(),b("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(T(e.state.lastUpdated)),9,zy)):ie("",!0),e.state.activeCustomer?(E(),b("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"customer-modal-title",onKeydown:Pt(C,["esc"])},[n("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:C}),n("div",Qy,[n("aside",Zy,[n("header",eR,[n("h3",tR,l(e.state.activeCustomer.email),1),n("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:C,title:i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[_[6]||(_[6]=n("i",{class:"fa-solid fa-circle-xmark"},null,-1)),n("span",nR,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,sR)]),n("section",oR,[n("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),n("dl",aR,[n("div",null,[n("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),n("dd",null,l(((P=e.state.activeCustomer.meta)==null?void 0:P.name)||""),1)]),n("div",null,[n("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),n("dd",null,l(r(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),n("div",null,[n("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),n("dd",null,l(e.state.activeCustomer.orders_count),1)]),n("div",null,[n("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),n("dd",null,l(c(e.state.activeCustomer.last_order)),1)])])]),n("div",iR,[n("section",rR,[n("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),n("address",lR,[(E(!0),b(we,null,Ge(u((N=e.state.activeCustomer.meta)==null?void 0:N.billing),se=>(E(),b("span",{key:se.key},l(se.value),1))),128))])]),n("section",cR,[n("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(j=e.state.activeCustomer.meta)!=null&&j.shipping?(E(),b("address",dR,[(E(!0),b(we,null,Ge(u(e.state.activeCustomer.meta.shipping),se=>(E(),b("span",{key:se.key},l(se.value),1))),128))])):(E(),b("p",uR,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),n("section",pR,[n("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(E(),b("ul",_R,[(E(!0),b(we,null,Ge(e.state.activeCustomer.orders,se=>(E(),b("li",{key:se.id},[n("div",fR,l(se.order_no)+"  "+l(r(se.total_cents,se.currency||e.baseCurrency)),1),n("div",mR,l(p(se.state))+"  "+l(c(se.created)),1)]))),128))])):(E(),b("p",hR,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),n("section",gR,[n("h4",null,l(i(s)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),n("p",ER,l(i(s)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),n("div",CR,[n("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:_[3]||(_[3]=se=>H(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:i(s)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[_[7]||(_[7]=n("i",{class:"fa-solid fa-download"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,AR),n("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:_[4]||(_[4]=se=>Y(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:i(s)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[_[8]||(_[8]=n("i",{class:"fa-solid fa-user-slash"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,SR)]),e.state.gdprMessage?(E(),b("p",{key:0,class:He(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},l(e.state.gdprMessage),3)):ie("",!0)])])])],32)):ie("",!0)]))])}}},[["__scopeId","data-v-2e6c67f3"]]),TR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},yR={class:"nxp-ec-admin-panel__header"},RR={class:"nxp-ec-admin-panel__title"},OR={class:"nxp-ec-admin-panel__lead"},xR={class:"nxp-ec-admin-panel__actions"},PR=["placeholder","aria-label"],NR=["disabled","title","aria-label"],vR={class:"nxp-ec-sr-only"},MR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},IR={key:1,class:"nxp-ec-admin-panel__loading"},kR={key:2,class:"nxp-ec-admin-panel__body"},wR={class:"nxp-ec-admin-panel__table"},$R={class:"nxp-ec-admin-table"},DR={scope:"col"},LR={scope:"col"},YR={scope:"col"},UR={scope:"col"},XR={scope:"col"},FR={scope:"col"},GR={key:0},VR={colspan:"7"},HR={scope:"row",class:"nxp-ec-admin-table__primary"},BR=["data-label"],KR=["data-label"],jR=["data-label"],JR=["data-label"],WR=["data-label"],qR={class:"nxp-ec-admin-table__actions"},zR=["onClick","title","aria-label"],QR={class:"nxp-ec-sr-only"},ZR=["onClick","title","aria-label"],eO={class:"nxp-ec-sr-only"},tO=["aria-label"],sO=["disabled","aria-label"],nO={class:"nxp-ec-admin-pagination__status","aria-current":"page"},oO=["disabled","aria-label"],aO={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},iO={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},rO={class:"nxp-ec-admin-panel__sidebar-header"},lO={id:"coupon-modal-title"},cO=["title","aria-label"],dO={class:"nxp-ec-sr-only"},uO={class:"nxp-ec-form-field"},pO={class:"nxp-ec-form-label",for:"coupon-code"},_O={class:"nxp-ec-form-field"},fO={class:"nxp-ec-form-label",for:"coupon-type"},mO={value:"percent"},hO={value:"fixed"},gO={class:"nxp-ec-form-field"},EO={class:"nxp-ec-form-label",for:"coupon-value"},CO={class:"nxp-ec-form-field"},AO={class:"nxp-ec-form-label",for:"coupon-min-total"},SO={class:"nxp-ec-form-field"},bO={class:"nxp-ec-form-label",for:"coupon-start"},TO={class:"nxp-ec-form-field"},yO={class:"nxp-ec-form-label",for:"coupon-end"},RO={class:"nxp-ec-form-field"},OO={class:"nxp-ec-form-label",for:"coupon-max-uses"},xO={class:"nxp-ec-form-field"},PO={class:"nxp-ec-form-label",for:"coupon-max-uses-per-user"},NO={class:"nxp-ec-form-hint"},vO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},MO={class:"nxp-ec-form-label",for:"coupon-allow-sale-items"},IO={class:"nxp-ec-form-hint"},kO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},wO={class:"nxp-ec-form-label",for:"coupon-active"},$O={class:"nxp-ec-modal__actions"},DO=["disabled"],LO=["disabled"],YO=["disabled"],UO=Nt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=Te(()=>(o.baseCurrency||"USD").toUpperCase()),c=et({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0}),u=Te(()=>c.open),p=()=>a("refresh"),f=()=>a("search"),S=P=>a("page",P),d=()=>{Object.assign(c,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0})},M=P=>{var N,j,se;Object.assign(c,{open:!0,id:P.id,code:P.code,type:P.type,value:P.value,min_total:(j=P.min_total)!=null?j:((N=P.min_total_cents)!=null?N:0)/100,start:P.start?P.start.substring(0,10):"",end:P.end?P.end.substring(0,10):"",max_uses:P.max_uses,max_uses_per_user:P.max_uses_per_user,allow_sale_items:(se=P.allow_sale_items)!=null?se:!0,active:P.active})},C=()=>{c.open=!1},H=()=>{const P={id:c.id||void 0,code:c.code,type:c.type,value:c.value,min_total:c.min_total||0,start:c.start||null,end:c.end||null,max_uses:c.max_uses!==null&&c.max_uses!==""?c.max_uses:null,max_uses_per_user:c.max_uses_per_user!==null&&c.max_uses_per_user!==""?c.max_uses_per_user:null,allow_sale_items:c.allow_sale_items,active:c.active};a("save",P)},Y=P=>{const N=s("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(N)&&(a("delete",[P.id]),c.id===P.id&&C())},T=(P,N)=>{const j=(Number(P)||0)/100,se=(N||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:se}).format(j)}catch(W){return`${se} ${j.toFixed(2)}`}},h=P=>P.type==="percent"?`${P.value}%`:T(P.value*100,r.value),_=P=>P==="fixed"?s("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):s("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return ct(()=>o.state.saving,(P,N)=>{N&&!P&&!o.state.error&&c.open&&C()}),(P,N)=>(E(),b("section",TR,[n("header",yR,[n("div",null,[n("h2",RR,l(i(s)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),n("p",OR,l(i(s)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),n("div",xR,[oe(n("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":N[0]||(N[0]=j=>e.state.search=j),onKeyup:Pt(f,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,PR),[[Ce,e.state.search]]),n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[N[14]||(N[14]=n("i",{class:"fa-solid fa-rotate"},null,-1)),n("span",vR,l(i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,NR),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:d},[N[15]||(N[15]=n("i",{class:"fa-solid fa-plus"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(E(),b("div",MR,l(e.state.error),1)):ie("",!0),e.state.loading?(E(),b("div",IR,l(i(s)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(E(),b("div",kR,[n("div",wR,[n("table",$R,[n("thead",null,[n("tr",null,[n("th",DR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),n("th",LR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),n("th",YR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),n("th",UR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),n("th",XR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),n("th",FR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),N[16]||(N[16]=n("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),n("tbody",null,[e.state.items.length?ie("",!0):(E(),b("tr",GR,[n("td",VR,l(i(s)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(E(!0),b(we,null,Ge(e.state.items,j=>(E(),b("tr",{key:j.id,class:He({"is-active":c.id===j.id})},[n("th",HR,l(j.code),1),n("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},l(_(j.type)),9,BR),n("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},l(h(j)),9,KR),n("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},l(T(j.min_total_cents,r.value)),9,jR),n("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[n("span",{class:He(["nxp-ec-badge",{"is-active":j.active}])},[n("i",{class:He(j.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Pe(" "+l(j.active?i(s)("JYES","Yes"):i(s)("JNO","No")),1)],2)],8,JR),n("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},l(j.times_used)+l(j.max_uses?` / ${j.max_uses}`:""),9,WR),n("td",qR,[n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:se=>M(j),title:i(s)("JEDIT","Edit"),"aria-label":i(s)("JEDIT","Edit")},[N[17]||(N[17]=n("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),n("span",QR,l(i(s)("JEDIT","Edit")),1)],8,zR),n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:se=>Y(j),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[N[18]||(N[18]=n("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),n("span",eO,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,ZR)])],2))),128))])]),e.state.pagination.pages>1?(E(),b("nav",{key:0,class:"nxp-ec-admin-pagination","aria-label":i(s)("COM_NXPEASYCART_PAGINATION","Pagination")},[n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:N[1]||(N[1]=j=>S(e.state.pagination.current-1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,sO),n("span",nO,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),n("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:N[2]||(N[2]=j=>S(e.state.pagination.current+1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,oO)],8,tO)):ie("",!0)]),u.value?(E(),b("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"coupon-modal-title",onKeydown:Pt(C,["esc"])},[n("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:C}),n("div",aO,[n("aside",iO,[n("header",rO,[n("h3",lO,l(c.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),n("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:C,title:i(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[N[19]||(N[19]=n("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),n("span",dO,l(i(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,cO)]),n("form",{class:"nxp-ec-form",onSubmit:xt(H,["prevent"]),autocomplete:"off"},[n("div",uO,[n("label",pO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),oe(n("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[3]||(N[3]=j=>c.code=j),required:"",maxlength:"64"},null,512),[[Ce,c.code,void 0,{trim:!0}]])]),n("div",_O,[n("label",fO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),oe(n("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":N[4]||(N[4]=j=>c.type=j)},[n("option",mO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),n("option",hO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[gt,c.type]])]),n("div",gO,[n("label",EO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),oe(n("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":N[5]||(N[5]=j=>c.value=j),required:""},null,512),[[Ce,c.value,void 0,{number:!0}]])]),n("div",CO,[n("label",AO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),oe(n("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":N[6]||(N[6]=j=>c.min_total=j)},null,512),[[Ce,c.min_total,void 0,{number:!0}]])]),n("div",SO,[n("label",bO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),oe(n("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":N[7]||(N[7]=j=>c.start=j)},null,512),[[Ce,c.start]])]),n("div",TO,[n("label",yO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),oe(n("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":N[8]||(N[8]=j=>c.end=j)},null,512),[[Ce,c.end]])]),n("div",RO,[n("label",OO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),oe(n("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":N[9]||(N[9]=j=>c.max_uses=j)},null,512),[[Ce,c.max_uses,void 0,{number:!0}]])]),n("div",xO,[n("label",PO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER","Max uses per user",[],"couponsFormMaxUsesPerUser")),1),oe(n("input",{id:"coupon-max-uses-per-user",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":N[10]||(N[10]=j=>c.max_uses_per_user=j)},null,512),[[Ce,c.max_uses_per_user,void 0,{number:!0}]]),n("small",NO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER_HINT","Limit how many times a single user or email can use this coupon. Leave empty for unlimited.",[],"couponsFormMaxUsesPerUserHint")),1)]),n("div",vO,[n("label",MO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS","Allow on sale items",[],"couponsFormAllowSaleItems")),1),oe(n("input",{id:"coupon-allow-sale-items",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":N[11]||(N[11]=j=>c.allow_sale_items=j)},null,512),[[ht,c.allow_sale_items]]),n("small",IO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS_HINT","When disabled, this coupon cannot be applied if the cart contains items currently on sale.",[],"couponsFormAllowSaleItemsHint")),1)]),n("div",kO,[n("label",wO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),oe(n("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":N[12]||(N[12]=j=>c.active=j)},null,512),[[ht,c.active]])]),n("footer",$O,[n("button",{class:"nxp-ec-btn",type:"button",onClick:C,disabled:e.state.saving},l(i(s)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,DO),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},l(e.state.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,LO)]),c.id?(E(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:N[13]||(N[13]=j=>Y(c)),disabled:e.state.saving},[N[20]||(N[20]=n("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,YO)):ie("",!0)],32)])])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-f9ade401"]]),XO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},FO={class:"nxp-ec-admin-panel__header"},GO={class:"nxp-ec-admin-panel__title"},VO={class:"nxp-ec-admin-panel__lead"},HO={class:"nxp-ec-settings-tabs"},BO={key:0,class:"nxp-ec-settings-panel"},KO={class:"nxp-ec-settings-panel__header"},jO=["disabled"],JO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},WO={key:1,class:"nxp-ec-admin-panel__loading"},qO={class:"nxp-ec-form-field"},zO={class:"nxp-ec-form-label",for:"settings-store-name"},QO={class:"nxp-ec-form-field"},ZO={class:"nxp-ec-form-label",for:"settings-store-email"},ex={class:"nxp-ec-form-field"},tx={class:"nxp-ec-form-label",for:"settings-store-phone"},sx={class:"nxp-ec-form-field"},nx={class:"nxp-ec-form-label",for:"settings-base-currency"},ox=["value"],ax={class:"nxp-ec-form-help"},ix={class:"nxp-ec-form-field nxp-ec-form-field--inline"},rx={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},lx={class:"nxp-ec-form-help"},cx={class:"nxp-ec-form-field"},dx={class:"nxp-ec-form-label",for:"settings-display-locale"},ux={class:"nxp-ec-form-help"},px={class:"nxp-ec-form-field"},_x={class:"nxp-ec-form-label",for:"settings-category-page-size"},fx={class:"nxp-ec-form-help"},mx={class:"nxp-ec-form-field"},hx={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},gx={value:"paged"},Ex={value:"infinite"},Cx={class:"nxp-ec-form-help"},Ax={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Sx={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},bx={class:"nxp-ec-form-help"},Tx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},yx={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},Rx={class:"nxp-ec-form-help"},Ox={key:0,class:"nxp-ec-form-field"},xx={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},Px={class:"nxp-ec-form-help"},Nx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vx={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},Mx={class:"nxp-ec-form-help"},Ix={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},kx={class:"nxp-ec-settings-actions"},wx=["disabled"],$x=["disabled"],Dx={key:1,class:"nxp-ec-settings-panel"},Lx={class:"nxp-ec-settings-panel__header"},Yx=["disabled"],Ux={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Xx={key:1,class:"nxp-ec-admin-panel__loading"},Fx={class:"nxp-ec-form-grid"},Gx={class:"nxp-ec-form-field"},Vx={class:"nxp-ec-form-label",for:"settings-digital-max"},Hx={class:"nxp-ec-form-help"},Bx={class:"nxp-ec-form-field"},Kx={class:"nxp-ec-form-label",for:"settings-digital-expiry"},jx={class:"nxp-ec-form-help"},Jx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Wx={class:"nxp-ec-form-label",for:"settings-digital-fulfill"},qx={class:"nxp-ec-form-help"},zx={class:"nxp-ec-form-field"},Qx={class:"nxp-ec-form-label",for:"settings-digital-max-size"},Zx={class:"nxp-ec-form-help"},eP={class:"nxp-ec-form-field"},tP={class:"nxp-ec-form-label",for:"settings-digital-storage"},sP={class:"nxp-ec-form-help"},nP={class:"nxp-ec-form-section"},oP={class:"nxp-ec-form-section__title"},aP={class:"nxp-ec-form-help",style:{"margin-bottom":"1rem"}},iP={class:"nxp-ec-filetypes-actions"},rP={class:"nxp-ec-filetypes-grid"},lP={class:"nxp-ec-filetypes-category__title"},cP={class:"nxp-ec-filetypes-category__list"},dP=["value"],uP={class:"nxp-ec-filetypes-item__label"},pP={class:"nxp-ec-form-field",style:{"margin-top":"1.5rem"}},_P={class:"nxp-ec-form-label",for:"settings-digital-custom-ext"},fP={class:"nxp-ec-form-help nxp-ec-form-help--warning"},mP={class:"nxp-ec-settings-actions"},hP=["disabled"],gP={key:2,class:"nxp-ec-settings-panel"},EP={class:"nxp-ec-settings-panel__header"},CP=["disabled"],AP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},SP={class:"nxp-ec-form-help"},bP={class:"nxp-ec-form-grid"},TP={class:"nxp-ec-form-field"},yP={class:"nxp-ec-form-label",for:"settings-checkout-window"},RP={class:"nxp-ec-form-help"},OP={class:"nxp-ec-form-field"},xP={class:"nxp-ec-form-label",for:"settings-offline-window"},PP={class:"nxp-ec-form-help"},NP={class:"nxp-ec-form-grid"},vP={class:"nxp-ec-form-field"},MP={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},IP={class:"nxp-ec-form-field"},kP={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},wP={class:"nxp-ec-form-field"},$P={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},DP={class:"nxp-ec-form-grid"},LP={class:"nxp-ec-form-field"},YP={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},UP={class:"nxp-ec-form-field"},XP={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},FP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},GP={class:"nxp-ec-settings-actions"},VP=["disabled"],HP=["disabled"],BP={key:3,class:"nxp-ec-settings-panel"},KP={class:"nxp-ec-settings-panel__header"},jP={class:"nxp-ec-settings-actions"},JP=["disabled"],WP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qP={key:1,class:"nxp-ec-admin-panel__loading"},zP={class:"nxp-ec-fieldset-legend-with-help"},QP=["title"],ZP={class:"nxp-ec-form-field"},e1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},t1=["title"],s1=["placeholder"],n1={class:"nxp-ec-form-help"},o1={class:"nxp-ec-form-field"},a1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},i1=["title"],r1=["placeholder"],l1={class:"nxp-ec-form-help"},c1={class:"nxp-ec-form-field"},d1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},u1=["title"],p1=["placeholder"],_1={class:"nxp-ec-form-help"},f1={style:{display:"block","margin-top":"0.25rem","word-break":"break-all"}},m1={class:"nxp-ec-form-field"},h1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},g1={value:"test"},E1={value:"live"},C1={class:"nxp-ec-fieldset-legend-with-help"},A1=["title"],S1={class:"nxp-ec-form-field"},b1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},T1=["title"],y1={class:"nxp-ec-form-help"},R1={class:"nxp-ec-form-field"},O1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},x1=["title"],P1={class:"nxp-ec-form-help"},N1={class:"nxp-ec-form-field"},v1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},M1=["title"],I1=["placeholder"],k1={class:"nxp-ec-form-help"},w1={style:{display:"block","margin-top":"0.25rem","word-break":"break-all"}},$1={class:"nxp-ec-form-field"},D1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},L1={value:"sandbox"},Y1={value:"live"},U1={class:"nxp-ec-form-field nxp-ec-form-field--inline"},X1={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},F1={class:"nxp-ec-form-field"},G1={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},V1={class:"nxp-ec-form-field nxp-ec-form-field--inline"},H1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},B1={class:"nxp-ec-form-field"},K1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},j1={class:"nxp-ec-form-field"},J1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},W1=["placeholder"],q1={class:"nxp-ec-form-help"},z1={class:"nxp-ec-form-grid"},Q1={class:"nxp-ec-form-field"},Z1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},eN={class:"nxp-ec-form-field"},tN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},sN={class:"nxp-ec-form-field"},nN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},oN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},aN={class:"nxp-ec-form-label",for:"settings-payments-configured"},iN={class:"nxp-ec-form-help"},rN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},lN={class:"nxp-ec-settings-actions"},cN=["disabled"],dN=["disabled"],uN={key:4,class:"nxp-ec-settings-panel"},pN={class:"nxp-ec-settings-panel__header"},_N=["disabled"],fN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mN={key:1,class:"nxp-ec-admin-panel__loading"},hN={class:"nxp-ec-form-help"},gN={class:"nxp-ec-form-help nxp-ec-form-help--muted"},EN={class:"nxp-ec-visual-grid"},CN={class:"nxp-ec-visual-field"},AN={class:"nxp-ec-form-label",for:"visual-primary-color"},SN={class:"nxp-ec-color-input-group"},bN=["value"],TN=["placeholder"],yN={class:"nxp-ec-visual-field"},RN={class:"nxp-ec-form-label",for:"visual-text-color"},ON={class:"nxp-ec-color-input-group"},xN=["value"],PN=["placeholder"],NN={class:"nxp-ec-visual-field"},vN={class:"nxp-ec-form-label",for:"visual-surface-color"},MN={class:"nxp-ec-color-input-group"},IN=["value"],kN=["placeholder"],wN={class:"nxp-ec-visual-field"},$N={class:"nxp-ec-form-label",for:"visual-border-color"},DN={class:"nxp-ec-color-input-group"},LN=["value"],YN=["placeholder"],UN={class:"nxp-ec-visual-field"},XN={class:"nxp-ec-form-label",for:"visual-muted-color"},FN={class:"nxp-ec-color-input-group"},GN=["value"],VN=["placeholder"],HN={class:"nxp-ec-visual-preview"},BN={type:"button",class:"nxp-ec-preview-btn"},KN={class:"nxp-ec-preview-text"},jN={class:"nxp-ec-preview-muted"},JN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},WN={class:"nxp-ec-settings-actions"},qN=["disabled"],zN=["disabled"],QN=Nt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=o.settingsState,c=o.paymentsState,p=Qe(["general","digital","security","payments","visual"].includes(o.initialTab)?o.initialTab:"general");Te(()=>{var re;const y=o.baseCurrency||"USD",A=typeof f.baseCurrency=="string"?f.baseCurrency.trim():"",g=typeof((re=r==null?void 0:r.values)==null?void 0:re.base_currency)=="string"?r.values.base_currency.trim():"";return(A!==""?A:g!==""?g:y).toUpperCase()});const f=et({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1,digitalMaxDownloads:5,digitalExpiryDays:30,digitalStoragePath:"",digitalAutoFulfill:!0,digitalMaxFileSize:200,digitalAllowedExtensions:[],digitalCustomExtensions:""}),S=Qe({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]}),d=()=>Object.values(S.value).flat(),M=y=>{var re,be;const A=(re=y==null?void 0:y.digital)!=null?re:{},g=(be=A.file_type_categories)!=null?be:S.value;if(Array.isArray(A.allowed_extensions))return[...A.allowed_extensions];const ce=[];for(const[K,fe]of Object.entries(g))K!=="installers"&&ce.push(...fe);return ce},C=y=>{var g;return(g={archives:"Archives",audio:"Audio",video:"Video",images:"Images",documents:"Documents",ebooks:"E-books",installers:"Installers"}[y])!=null?g:y.charAt(0).toUpperCase()+y.slice(1)},H=()=>{f.digitalAllowedExtensions=d()},Y=()=>{f.digitalAllowedExtensions=[]},T=et({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),h=et({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),_=et({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),P=Te(()=>{var A,g;const y=(g=(A=r.values)==null?void 0:A.visual_defaults)!=null?g:{};return{primary:y.primary_color||"#4f6d7a",text:y.text_color||"#1f2933",surface:y.surface_color||"#ffffff",border:y.border_color||"#e4e7ec",muted:y.muted_color||"#6b7280"}}),N=Te(()=>{var y,A;return(A=(y=r.values)==null?void 0:y.currencies)!=null?A:[]}),j=Te(()=>{var y,A,g;return((g=(A=(y=window.Joomla)==null?void 0:y.getOptions)==null?void 0:A.call(y,"system.paths"))==null?void 0:g.root)||window.location.origin}),se=Te(()=>({"--nxp-ec-color-primary":_.primaryColor||P.value.primary,"--nxp-ec-color-text":_.textColor||P.value.text,"--nxp-ec-color-surface":_.surfaceColor||P.value.surface,"--nxp-ec-color-border":_.borderColor||P.value.border,"--nxp-ec-color-muted":_.mutedColor||P.value.muted})),W=(y={})=>{var be,K,fe,xe,Ue,R,O,F,ae,Z,ee,Q,q,te,J,Ee,de,he,Ae,Re;const A=(be=y==null?void 0:y.store)!=null?be:{},g=(K=y==null?void 0:y.payments)!=null?K:{},ce=(fe=y==null?void 0:y.visual)!=null?fe:{},re=(Ue=(xe=y==null?void 0:y.security)==null?void 0:xe.rate_limits)!=null?Ue:{};Object.assign(f,{storeName:(R=A.name)!=null?R:"",storeEmail:(O=A.email)!=null?O:"",storePhone:(F=A.phone)!=null?F:"",checkoutPhoneRequired:!!((ae=y==null?void 0:y.checkout_phone_required)!=null&&ae),paymentsConfigured:!!g.configured,autoSendOrderEmails:!!((Z=y==null?void 0:y.auto_send_order_emails)!=null&&Z),baseCurrency:typeof(y==null?void 0:y.base_currency)=="string"?y.base_currency.trim().toUpperCase():(o.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(y==null?void 0:y.display_locale)=="string"?y.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(y==null?void 0:y.category_page_size))?Number(y.category_page_size):12,categoryPaginationMode:(y==null?void 0:y.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((ee=y==null?void 0:y.stale_order_cleanup_enabled)!=null&&ee),staleOrderHours:Number.isFinite(Number(y==null?void 0:y.stale_order_hours))?Math.max(1,Math.min(720,Number(y.stale_order_hours))):48,showAdvancedMode:!!((Q=y==null?void 0:y.show_advanced_mode)!=null&&Q),digitalMaxDownloads:Number.isFinite(Number(y==null?void 0:y.digital_download_max))?Math.max(0,Number(y.digital_download_max)):5,digitalExpiryDays:Number.isFinite(Number(y==null?void 0:y.digital_download_expiry))?Math.max(0,Number(y.digital_download_expiry)):30,digitalStoragePath:typeof(y==null?void 0:y.digital_storage_path)=="string"?y.digital_storage_path:"",digitalAutoFulfill:!!((q=y==null?void 0:y.digital_auto_fulfill)==null||q),digitalMaxFileSize:Number.isFinite(Number(y==null?void 0:y.digital_max_file_size))?Math.max(1,Math.min(2048,Number(y.digital_max_file_size))):200,digitalAllowedExtensions:M(y),digitalCustomExtensions:typeof((te=y==null?void 0:y.digital)==null?void 0:te.custom_extensions)=="string"?y.digital.custom_extensions:""}),(J=y==null?void 0:y.digital)!=null&&J.file_type_categories&&(S.value=y.digital.file_type_categories),Object.assign(_,{primaryColor:(Ee=ce.primary_color)!=null?Ee:"",textColor:(de=ce.text_color)!=null?de:"",surfaceColor:(he=ce.surface_color)!=null?he:"",borderColor:(Ae=ce.border_color)!=null?Ae:"",mutedColor:(Re=ce.muted_color)!=null?Re:""}),Object.assign(T,{checkoutWindowMinutes:Number.isFinite(Number(re.checkout_window_minutes))?Number(re.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(re.checkout_ip_limit))?Number(re.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(re.checkout_email_limit))?Number(re.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(re.checkout_session_limit))?Number(re.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(re.offline_window_minutes))?Number(re.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(re.offline_ip_limit))?Number(re.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(re.offline_email_limit))?Number(re.offline_email_limit):5})},Ne=(y={})=>{var be,K,fe,xe,Ue,R,O,F,ae,Z,ee,Q,q,te,J,Ee,de,he,Ae,Re,x,k,le,ue;const A=(be=y.stripe)!=null?be:{},g=(K=y.paypal)!=null?K:{},ce=(fe=y.cod)!=null?fe:{},re=(xe=y.bank_transfer)!=null?xe:{};Object.assign(h.stripe,{publishable_key:(Ue=A.publishable_key)!=null?Ue:"",secret_key:(R=A.secret_key)!=null?R:"",webhook_secret:(O=A.webhook_secret)!=null?O:"",mode:(F=A.mode)!=null?F:"test"}),Object.assign(h.paypal,{client_id:(ae=g.client_id)!=null?ae:"",client_secret:(Z=g.client_secret)!=null?Z:"",webhook_id:(ee=g.webhook_id)!=null?ee:"",mode:(Q=g.mode)!=null?Q:"sandbox"}),Object.assign(h.cod,{enabled:ce.enabled!==void 0?!!ce.enabled:h.cod.enabled,label:(te=(q=ce.label)!=null?q:h.cod.label)!=null?te:"Cash on delivery"}),Object.assign(h.bank_transfer,{enabled:re.enabled!==void 0?!!re.enabled:h.bank_transfer.enabled,label:(Ee=(J=re.label)!=null?J:h.bank_transfer.label)!=null?Ee:"Bank transfer",instructions:(he=(de=re.instructions)!=null?de:h.bank_transfer.instructions)!=null?he:"",account_name:(Re=(Ae=re.account_name)!=null?Ae:h.bank_transfer.account_name)!=null?Re:"",iban:(k=(x=re.iban)!=null?x:h.bank_transfer.iban)!=null?k:"",bic:(ue=(le=re.bic)!=null?le:h.bank_transfer.bic)!=null?ue:""})};ct(()=>r.values,y=>{W(y!=null?y:{})},{immediate:!0});const Ie=()=>a("refresh-settings"),v=()=>{const y=(f.baseCurrency||"").trim().toUpperCase(),A=(f.displayLocale||"").trim();a("save-settings",{store:{name:f.storeName,email:f.storeEmail,phone:f.storePhone,base_currency:y},payments:{configured:f.paymentsConfigured},base_currency:y,display_locale:A,checkout_phone_required:f.checkoutPhoneRequired,auto_send_order_emails:f.autoSendOrderEmails,category_page_size:Number.isFinite(Number(f.categoryPageSize))?Number(f.categoryPageSize):12,category_pagination_mode:f.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!f.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(f.staleOrderHours))?Math.max(1,Math.min(720,Number(f.staleOrderHours))):48,show_advanced_mode:!!f.showAdvancedMode})},De=()=>{var y;W((y=r.values)!=null?y:{})},$e=()=>{const y=Number.isFinite(Number(f.digitalMaxDownloads))?Math.max(0,Number(f.digitalMaxDownloads)):0,A=Number.isFinite(Number(f.digitalExpiryDays))?Math.max(0,Number(f.digitalExpiryDays)):0,g=(f.digitalStoragePath||"").trim(),ce=Number.isFinite(Number(f.digitalMaxFileSize))?Math.max(1,Math.min(2048,Number(f.digitalMaxFileSize))):200,re=d(),be=f.digitalAllowedExtensions||[],fe=re.length===be.length&&re.every(Ue=>be.includes(Ue))?null:[...be],xe=(f.digitalCustomExtensions||"").trim();a("save-settings",{digital:{max_downloads:y,expiry_days:A,storage_path:g,auto_fulfill:!!f.digitalAutoFulfill,max_file_size:ce,allowed_extensions:fe,custom_extensions:xe}})},Me=()=>{var y;W((y=r.values)!=null?y:{})},Fe=()=>{const y=(A,g=0)=>{const ce=Number(A);return Number.isFinite(ce)&&ce>=0?ce:g};a("save-settings",{security:{rate_limits:{checkout_window_minutes:y(T.checkoutWindowMinutes,15),checkout_ip_limit:y(T.checkoutIpLimit,10),checkout_email_limit:y(T.checkoutEmailLimit,5),checkout_session_limit:y(T.checkoutSessionLimit,15),offline_window_minutes:y(T.offlineWindowMinutes,240),offline_ip_limit:y(T.offlineIpLimit,10),offline_email_limit:y(T.offlineEmailLimit,5)}}})},Ve=()=>{var y;W((y=r.values)!=null?y:{})};ct(()=>r.saving,(y,A)=>{var g;A&&!y&&!r.error&&W((g=r.values)!=null?g:{})}),ct(()=>c.config,y=>{Ne(y!=null?y:{})},{immediate:!0}),ct(()=>c.saving,(y,A)=>{var g;A&&!y&&!c.error&&Ne((g=c.config)!=null?g:{})});const ne=()=>a("refresh-payments"),L=()=>{const y=JSON.parse(JSON.stringify(h));a("save-payments",y),a("save-settings",{payments:{configured:f.paymentsConfigured}})},$=()=>{var y;Ne((y=c.config)!=null?y:{})},I=()=>a("refresh-settings"),B=()=>{a("save-settings",{visual:{primary_color:_.primaryColor,text_color:_.textColor,surface_color:_.surfaceColor,border_color:_.borderColor,muted_color:_.mutedColor}})},z=()=>{var A,g,ce,re,be,K,fe;const y=(g=(A=r.values)==null?void 0:A.visual)!=null?g:{};Object.assign(_,{primaryColor:(ce=y.primary_color)!=null?ce:"",textColor:(re=y.text_color)!=null?re:"",surfaceColor:(be=y.surface_color)!=null?be:"",borderColor:(K=y.border_color)!=null?K:"",mutedColor:(fe=y.muted_color)!=null?fe:""})};return(y,A)=>(E(),b("section",XO,[n("header",FO,[n("div",null,[n("h2",GO,l(i(s)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),n("p",VO,l(i(s)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),n("nav",HO,[n("button",{type:"button",class:He(["nxp-ec-settings-tab",{"is-active":p.value==="general"}]),onClick:A[0]||(A[0]=g=>p.value="general")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),n("button",{type:"button",class:He(["nxp-ec-settings-tab",{"is-active":p.value==="digital"}]),onClick:A[1]||(A[1]=g=>p.value="digital")},l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital")),3),f.showAdvancedMode?(E(),b("button",{key:0,type:"button",class:He(["nxp-ec-settings-tab",{"is-active":p.value==="security"}]),onClick:A[2]||(A[2]=g=>p.value="security")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):ie("",!0),n("button",{type:"button",class:He(["nxp-ec-settings-tab",{"is-active":p.value==="payments"}]),onClick:A[3]||(A[3]=g=>p.value="payments")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),n("button",{type:"button",class:He(["nxp-ec-settings-tab",{"is-active":p.value==="visual"}]),onClick:A[4]||(A[4]=g=>p.value="visual")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),p.value==="general"?(E(),b("div",BO,[n("header",KO,[n("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),n("button",{class:"nxp-ec-btn",type:"button",onClick:Ie,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,jO)]),i(r).error?(E(),b("div",JO,l(i(r).error),1)):i(r).loading?(E(),b("div",WO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(E(),b("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:xt(v,["prevent"])},[n("fieldset",null,[n("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),n("div",qO,[n("label",zO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),oe(n("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[5]||(A[5]=g=>f.storeName=g),maxlength:"190"},null,512),[[Ce,f.storeName,void 0,{trim:!0}]])]),n("div",QO,[n("label",ZO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),oe(n("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":A[6]||(A[6]=g=>f.storeEmail=g)},null,512),[[Ce,f.storeEmail,void 0,{trim:!0}]])]),n("div",ex,[n("label",tx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),oe(n("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[7]||(A[7]=g=>f.storePhone=g),maxlength:"64"},null,512),[[Ce,f.storePhone,void 0,{trim:!0}]])])]),n("fieldset",null,[n("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),n("div",sx,[n("label",nx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),oe(n("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":A[8]||(A[8]=g=>f.baseCurrency=g),required:""},[(E(!0),b(we,null,Ge(N.value,g=>(E(),b("option",{key:g.code,value:g.code},l(g.label),9,ox))),128))],512),[[gt,f.baseCurrency]]),n("p",ax,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),n("div",ix,[n("label",rx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),oe(n("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[9]||(A[9]=g=>f.checkoutPhoneRequired=g)},null,512),[[ht,f.checkoutPhoneRequired]]),n("p",lx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),n("div",cx,[n("label",dx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),oe(n("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[10]||(A[10]=g=>f.displayLocale=g),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[Ce,f.displayLocale,void 0,{trim:!0}]]),n("p",ux,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),n("fieldset",null,[n("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),n("div",px,[n("label",_x,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),oe(n("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":A[11]||(A[11]=g=>f.categoryPageSize=g)},null,512),[[Ce,f.categoryPageSize,void 0,{number:!0}]]),n("p",fx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),n("div",mx,[n("label",hx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),oe(n("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":A[12]||(A[12]=g=>f.categoryPaginationMode=g)},[n("option",gx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),n("option",Ex,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[gt,f.categoryPaginationMode]]),n("p",Cx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),n("fieldset",null,[n("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),n("div",Ax,[n("label",Sx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),oe(n("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[13]||(A[13]=g=>f.autoSendOrderEmails=g)},null,512),[[ht,f.autoSendOrderEmails]]),n("p",bx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),n("fieldset",null,[n("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),n("div",Tx,[n("label",yx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),oe(n("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[14]||(A[14]=g=>f.staleOrderCleanupEnabled=g)},null,512),[[ht,f.staleOrderCleanupEnabled]]),n("p",Rx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),f.staleOrderCleanupEnabled?(E(),b("div",Ox,[n("label",xx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),oe(n("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":A[15]||(A[15]=g=>f.staleOrderHours=g)},null,512),[[Ce,f.staleOrderHours,void 0,{number:!0}]]),n("p",Px,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):ie("",!0)]),n("fieldset",null,[n("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),n("div",Nx,[n("label",vx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),oe(n("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[16]||(A[16]=g=>f.showAdvancedMode=g)},null,512),[[ht,f.showAdvancedMode]]),n("p",Mx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),i(r).message?(E(),b("div",Ix,l(i(r).message),1)):ie("",!0),n("div",kx,[n("button",{class:"nxp-ec-btn",type:"button",onClick:De,disabled:i(r).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,wx),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,$x)])],32))])):p.value==="digital"?(E(),b("div",Dx,[n("header",Lx,[n("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital products")),1),n("button",{class:"nxp-ec-btn",type:"button",onClick:Ie,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh")),9,Yx)]),i(r).error?(E(),b("div",Ux,l(i(r).error),1)):i(r).loading?(E(),b("div",Xx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings")),1)):(E(),b("form",{key:2,class:"nxp-ec-settings-form",onSubmit:xt($e,["prevent"])},[n("div",Fx,[n("div",Gx,[n("label",Vx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS","Default max downloads")),1),oe(n("input",{id:"settings-digital-max",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[17]||(A[17]=g=>f.digitalMaxDownloads=g)},null,512),[[Ce,f.digitalMaxDownloads,void 0,{number:!0}]]),n("p",Hx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS_DESC","Maximum downloads allowed per purchase (0 for unlimited).")),1)]),n("div",Bx,[n("label",Kx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY","Download link expiry (days)")),1),oe(n("input",{id:"settings-digital-expiry",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[18]||(A[18]=g=>f.digitalExpiryDays=g)},null,512),[[Ce,f.digitalExpiryDays,void 0,{number:!0}]]),n("p",jx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY_DESC","Number of days before links expire (0 for no expiry).")),1)]),n("div",Jx,[n("label",Wx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL","Auto-fulfill digital orders")),1),oe(n("input",{id:"settings-digital-fulfill",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[19]||(A[19]=g=>f.digitalAutoFulfill=g)},null,512),[[ht,f.digitalAutoFulfill]]),n("p",qx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL_DESC","Mark digital-only orders fulfilled after payment.")),1)]),n("div",zx,[n("label",Qx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE","Max file size (MB)")),1),oe(n("input",{id:"settings-digital-max-size",class:"nxp-ec-form-input",type:"number",min:"1",max:"2048",step:"1","onUpdate:modelValue":A[20]||(A[20]=g=>f.digitalMaxFileSize=g)},null,512),[[Ce,f.digitalMaxFileSize,void 0,{number:!0}]]),n("p",Zx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE_DESC","Maximum upload size per file in megabytes (1-2048 MB).")),1)]),n("div",eP,[n("label",tP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH","Storage path")),1),oe(n("input",{id:"settings-digital-storage",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[21]||(A[21]=g=>f.digitalStoragePath=g),maxlength:"250"},null,512),[[Ce,f.digitalStoragePath,void 0,{trim:!0}]]),n("p",sP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH_DESC","Protected directory for digital files. Adjust only if you know the server path.")),1)])]),n("div",nP,[n("h4",oP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES","Allowed File Types")),1),n("p",aP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES_DESC","Select which file types can be uploaded as digital products.")),1),n("div",iP,[n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm",onClick:H},l(i(s)("COM_NXPEASYCART_SELECT_ALL","Select All")),1),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-btn--link",onClick:Y},l(i(s)("COM_NXPEASYCART_SELECT_NONE","Select None")),1)]),n("div",rP,[(E(!0),b(we,null,Ge(S.value,(g,ce)=>(E(),b("div",{key:ce,class:"nxp-ec-filetypes-category"},[n("h5",lP,l(C(ce)),1),n("div",cP,[(E(!0),b(we,null,Ge(g,re=>(E(),b("label",{key:re,class:"nxp-ec-filetypes-item"},[oe(n("input",{type:"checkbox",value:re,"onUpdate:modelValue":A[22]||(A[22]=be=>f.digitalAllowedExtensions=be),class:"nxp-ec-filetypes-item__checkbox"},null,8,dP),[[ht,f.digitalAllowedExtensions]]),n("span",uP,"."+l(re),1)]))),128))])]))),128))]),n("div",pP,[n("label",_P,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS","Custom Extensions")),1),oe(n("input",{id:"settings-digital-custom-ext",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[23]||(A[23]=g=>f.digitalCustomExtensions=g),placeholder:"blend, psd, ai, sketch"},null,512),[[Ce,f.digitalCustomExtensions,void 0,{trim:!0}]]),n("p",fP,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS_DESC","Comma-separated list of additional extensions. These bypass MIME validation - use only for trusted uploads.")),1)])]),n("div",mP,[n("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:Me},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_RESET","Reset")),1),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")),9,hP)])],32))])):p.value==="security"&&f.showAdvancedMode?(E(),b("div",gP,[n("header",EP,[n("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),n("button",{class:"nxp-ec-btn",type:"button",onClick:Ie,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,CP)]),i(r).error?(E(),b("div",AP,l(i(r).error),1)):(E(),b("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:xt(Fe,["prevent"])},[n("p",SP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),n("div",bP,[n("div",TP,[n("label",yP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),oe(n("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[24]||(A[24]=g=>T.checkoutWindowMinutes=g)},null,512),[[Ce,T.checkoutWindowMinutes,void 0,{number:!0}]]),n("p",RP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),n("div",OP,[n("label",xP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),oe(n("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[25]||(A[25]=g=>T.offlineWindowMinutes=g)},null,512),[[Ce,T.offlineWindowMinutes,void 0,{number:!0}]]),n("p",PP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),n("div",NP,[n("div",vP,[n("label",MP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),oe(n("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[26]||(A[26]=g=>T.checkoutIpLimit=g)},null,512),[[Ce,T.checkoutIpLimit,void 0,{number:!0}]])]),n("div",IP,[n("label",kP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),oe(n("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[27]||(A[27]=g=>T.checkoutEmailLimit=g)},null,512),[[Ce,T.checkoutEmailLimit,void 0,{number:!0}]])]),n("div",wP,[n("label",$P,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),oe(n("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[28]||(A[28]=g=>T.checkoutSessionLimit=g)},null,512),[[Ce,T.checkoutSessionLimit,void 0,{number:!0}]])])]),n("div",DP,[n("div",LP,[n("label",YP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),oe(n("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[29]||(A[29]=g=>T.offlineIpLimit=g)},null,512),[[Ce,T.offlineIpLimit,void 0,{number:!0}]])]),n("div",UP,[n("label",XP,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),oe(n("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":A[30]||(A[30]=g=>T.offlineEmailLimit=g)},null,512),[[Ce,T.offlineEmailLimit,void 0,{number:!0}]])])]),i(r).message?(E(),b("div",FP,l(i(r).message),1)):ie("",!0),n("div",GP,[n("button",{class:"nxp-ec-btn",type:"button",onClick:Ve,disabled:i(r).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,VP),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,HP)])],32))])):p.value==="payments"?(E(),b("div",BP,[n("header",KP,[n("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),n("div",jP,[n("button",{class:"nxp-ec-btn",type:"button",onClick:ne,disabled:i(c).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,JP)])]),i(c).error?(E(),b("div",WP,l(i(c).error),1)):i(c).loading?(E(),b("div",qP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(E(),b("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:xt(L,["prevent"])},[n("fieldset",null,[n("legend",zP,[n("span",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),n("a",{href:"https://docs.stripe.com/keys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SETUP_GUIDE","View Stripe setup documentation")},"  "+l(i(s)("COM_NXPEASYCART_SETTINGS_SETUP_GUIDE","Setup Guide")),9,QP)]),n("div",ZP,[n("label",e1,[Pe(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable"))+" ",1),n("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_GET_STRIPE_KEYS","Get your API keys from Stripe Dashboard")},"  ",8,t1)]),oe(n("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[31]||(A[31]=g=>h.stripe.publishable_key=g),placeholder:i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_PK_PLACEHOLDER","pk_test_... or pk_live_...")},null,8,s1),[[Ce,h.stripe.publishable_key,void 0,{trim:!0}]]),n("p",n1,l(i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_PK_HELP","Find in Stripe Dashboard  Developers  API Keys. Starts with pk_test_ (test) or pk_live_ (live).")),1)]),n("div",o1,[n("label",a1,[Pe(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret"))+" ",1),n("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_GET_STRIPE_KEYS","Get your API keys from Stripe Dashboard")},"  ",8,i1)]),oe(n("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":A[32]||(A[32]=g=>h.stripe.secret_key=g),autocomplete:"off",placeholder:i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_SK_PLACEHOLDER","sk_test_... or sk_live_...")},null,8,r1),[[Ce,h.stripe.secret_key,void 0,{trim:!0}]]),n("p",l1,l(i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_SK_HELP","Find in Stripe Dashboard  Developers  API Keys. Click 'Reveal' to view. Starts with sk_test_ (test) or sk_live_ (live).")),1)]),n("div",c1,[n("label",d1,[Pe(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook"))+" ",1),n("a",{href:"https://dashboard.stripe.com/webhooks",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_CREATE_STRIPE_WEBHOOK","Create webhook in Stripe Dashboard")},"  ",8,u1)]),oe(n("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":A[33]||(A[33]=g=>h.stripe.webhook_secret=g),autocomplete:"off",placeholder:i(s)("COM_NXPEASYCART_SETTINGS_STRIPE_WH_PLACEHOLDER","whsec_...")},null,8,p1),[[Ce,h.stripe.webhook_secret,void 0,{trim:!0}]]),n("p",_1,[Pe(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Create webhook in Stripe Dashboard  Developers  Webhooks. Your webhook URL:",[],"settingsPaymentsStripeHelp"))+" ",1),n("code",f1,l(j.value)+"/index.php?option=com_nxpeasycart&task=webhook.stripe",1)])]),n("div",m1,[n("label",h1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),oe(n("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":A[34]||(A[34]=g=>h.stripe.mode=g)},[n("option",g1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),n("option",E1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[gt,h.stripe.mode]])])]),n("fieldset",null,[n("legend",C1,[n("span",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),n("a",{href:"https://developer.paypal.com/api/rest/",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_SETUP_GUIDE","View PayPal setup documentation")},"  "+l(i(s)("COM_NXPEASYCART_SETTINGS_SETUP_GUIDE","Setup Guide")),9,A1)]),n("div",S1,[n("label",b1,[Pe(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId"))+" ",1),n("a",{href:"https://developer.paypal.com/dashboard/applications/sandbox",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_GET_PAYPAL_CREDS","Get credentials from PayPal Developer Dashboard")},"  ",8,T1)]),oe(n("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[35]||(A[35]=g=>h.paypal.client_id=g)},null,512),[[Ce,h.paypal.client_id,void 0,{trim:!0}]]),n("p",y1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYPAL_CLIENT_ID_HELP","Find in PayPal Developer Dashboard  Apps & Credentials  Your App. Long alphanumeric string.")),1)]),n("div",R1,[n("label",O1,[Pe(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret"))+" ",1),n("a",{href:"https://developer.paypal.com/dashboard/applications/sandbox",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_GET_PAYPAL_CREDS","Get credentials from PayPal Developer Dashboard")},"  ",8,x1)]),oe(n("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":A[36]||(A[36]=g=>h.paypal.client_secret=g),autocomplete:"off"},null,512),[[Ce,h.paypal.client_secret,void 0,{trim:!0}]]),n("p",P1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYPAL_CLIENT_SECRET_HELP","Find in PayPal Developer Dashboard  Apps & Credentials  Your App. Click 'Show' to reveal.")),1)]),n("div",N1,[n("label",v1,[Pe(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook"))+" ",1),n("a",{href:"https://developer.paypal.com/api/rest/webhooks/",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:i(s)("COM_NXPEASYCART_SETTINGS_CREATE_PAYPAL_WEBHOOK","Learn about PayPal webhooks")},"  ",8,M1)]),oe(n("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[37]||(A[37]=g=>h.paypal.webhook_id=g),placeholder:i(s)("COM_NXPEASYCART_SETTINGS_PAYPAL_WH_PLACEHOLDER","WH-...")},null,8,I1),[[Ce,h.paypal.webhook_id,void 0,{trim:!0}]]),n("p",k1,[Pe(l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Create webhook in your PayPal app  Webhooks section. Required for signature verification. Your webhook URL:",[],"settingsPaymentsPayPalHelp"))+" ",1),n("code",w1,l(j.value)+"/index.php?option=com_nxpeasycart&task=webhook.paypal",1)])]),n("div",$1,[n("label",D1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),oe(n("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":A[38]||(A[38]=g=>h.paypal.mode=g)},[n("option",L1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),n("option",Y1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[gt,h.paypal.mode]])])]),n("fieldset",null,[n("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),n("div",U1,[n("label",X1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),oe(n("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":A[39]||(A[39]=g=>h.cod.enabled=g)},null,512),[[ht,h.cod.enabled]])]),n("div",F1,[n("label",G1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),oe(n("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[40]||(A[40]=g=>h.cod.label=g),placeholder:"Cash on delivery"},null,512),[[Ce,h.cod.label,void 0,{trim:!0}]])])]),n("fieldset",null,[n("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),n("div",V1,[n("label",H1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),oe(n("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":A[41]||(A[41]=g=>h.bank_transfer.enabled=g)},null,512),[[ht,h.bank_transfer.enabled]])]),n("div",B1,[n("label",K1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),oe(n("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[42]||(A[42]=g=>h.bank_transfer.label=g),placeholder:"Bank transfer"},null,512),[[Ce,h.bank_transfer.label,void 0,{trim:!0}]])]),n("div",j1,[n("label",J1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),oe(n("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":A[43]||(A[43]=g=>h.bank_transfer.instructions=g),placeholder:i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,W1),[[Ce,h.bank_transfer.instructions]]),n("p",q1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),n("div",z1,[n("div",Q1,[n("label",Z1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),oe(n("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[44]||(A[44]=g=>h.bank_transfer.account_name=g)},null,512),[[Ce,h.bank_transfer.account_name,void 0,{trim:!0}]])]),n("div",eN,[n("label",tN,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),oe(n("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[45]||(A[45]=g=>h.bank_transfer.iban=g),maxlength:"34"},null,512),[[Ce,h.bank_transfer.iban,void 0,{trim:!0}]])]),n("div",sN,[n("label",nN,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),oe(n("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[46]||(A[46]=g=>h.bank_transfer.bic=g),maxlength:"11"},null,512),[[Ce,h.bank_transfer.bic,void 0,{trim:!0}]])])])]),n("fieldset",null,[n("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),n("div",oN,[n("label",aN,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),oe(n("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":A[47]||(A[47]=g=>f.paymentsConfigured=g)},null,512),[[ht,f.paymentsConfigured]]),n("p",iN,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),i(c).message?(E(),b("div",rN,l(i(c).message),1)):ie("",!0),n("div",lN,[n("button",{class:"nxp-ec-btn",type:"button",onClick:$,disabled:i(c).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,cN),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(c).saving},l(i(c).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,dN)])],32))])):p.value==="visual"?(E(),b("div",uN,[n("header",pN,[n("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),n("button",{class:"nxp-ec-btn",type:"button",onClick:I,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,_N)]),i(r).error?(E(),b("div",fN,l(i(r).error),1)):i(r).loading?(E(),b("div",mN,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(E(),b("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:xt(B,["prevent"])},[n("p",hN,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),n("p",gN,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),n("div",EN,[n("div",CN,[n("label",AN,l(i(s)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),n("div",SN,[n("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:_.primaryColor||P.value.primary,onInput:A[48]||(A[48]=g=>_.primaryColor=g.target.value)},null,40,bN),oe(n("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[49]||(A[49]=g=>_.primaryColor=g),placeholder:P.value.primary,maxlength:"7"},null,8,TN),[[Ce,_.primaryColor,void 0,{trim:!0}]]),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[50]||(A[50]=g=>_.primaryColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),n("div",yN,[n("label",RN,l(i(s)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),n("div",ON,[n("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:_.textColor||P.value.text,onInput:A[51]||(A[51]=g=>_.textColor=g.target.value)},null,40,xN),oe(n("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[52]||(A[52]=g=>_.textColor=g),placeholder:P.value.text,maxlength:"7"},null,8,PN),[[Ce,_.textColor,void 0,{trim:!0}]]),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[53]||(A[53]=g=>_.textColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),n("div",NN,[n("label",vN,l(i(s)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),n("div",MN,[n("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:_.surfaceColor||P.value.surface,onInput:A[54]||(A[54]=g=>_.surfaceColor=g.target.value)},null,40,IN),oe(n("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[55]||(A[55]=g=>_.surfaceColor=g),placeholder:P.value.surface,maxlength:"7"},null,8,kN),[[Ce,_.surfaceColor,void 0,{trim:!0}]]),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[56]||(A[56]=g=>_.surfaceColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),n("div",wN,[n("label",$N,l(i(s)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),n("div",DN,[n("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:_.borderColor||P.value.border,onInput:A[57]||(A[57]=g=>_.borderColor=g.target.value)},null,40,LN),oe(n("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[58]||(A[58]=g=>_.borderColor=g),placeholder:P.value.border,maxlength:"7"},null,8,YN),[[Ce,_.borderColor,void 0,{trim:!0}]]),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[59]||(A[59]=g=>_.borderColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),n("div",UN,[n("label",XN,l(i(s)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),n("div",FN,[n("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:_.mutedColor||P.value.muted,onInput:A[60]||(A[60]=g=>_.mutedColor=g.target.value)},null,40,GN),oe(n("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[61]||(A[61]=g=>_.mutedColor=g),placeholder:P.value.muted,maxlength:"7"},null,8,VN),[[Ce,_.mutedColor,void 0,{trim:!0}]]),n("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:A[62]||(A[62]=g=>_.mutedColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),n("div",HN,[n("h4",null,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),n("div",{class:"nxp-ec-preview-box",style:Ht(se.value)},[n("button",BN,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),n("p",KN,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),n("p",jN,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i(r).message?(E(),b("div",JN,l(i(r).message),1)):ie("",!0),n("div",WN,[n("button",{class:"nxp-ec-btn",type:"button",onClick:z,disabled:i(r).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,qN),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,zN)])],32))])):ie("",!0)]))}},[["__scopeId","data-v-2ef89dd2"]]),ZN={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},ev={class:"nxp-ec-admin-panel__header"},tv={class:"nxp-ec-admin-panel__title"},sv={class:"nxp-ec-admin-panel__lead"},nv={class:"nxp-ec-admin-panel__actions"},ov=["disabled","title","aria-label"],av={class:"nxp-ec-sr-only"},iv={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},rv={key:1,class:"nxp-ec-admin-panel__loading"},lv={key:2,class:"nxp-ec-admin-panel__body"},cv={class:"nxp-ec-admin-panel__table"},dv={class:"nxp-ec-admin-table"},uv={scope:"col"},pv={scope:"col"},_v={scope:"col"},fv={scope:"col"},mv={scope:"col"},hv={scope:"col"},gv={key:0},Ev={colspan:"7"},Cv={scope:"row",class:"nxp-ec-admin-table__primary"},Av=["data-label"],Sv=["data-label"],bv=["data-label"],Tv=["data-label"],yv=["data-label"],Rv={class:"nxp-ec-admin-table__actions"},Ov=["onClick","title","aria-label"],xv={class:"nxp-ec-sr-only"},Pv=["onClick","title","aria-label"],Nv={class:"nxp-ec-sr-only"},vv={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Mv={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Iv={class:"nxp-ec-admin-panel__sidebar-header"},kv={id:"tax-modal-title"},wv=["title","aria-label"],$v={class:"nxp-ec-sr-only"},Dv={class:"nxp-ec-form-field"},Lv={class:"nxp-ec-form-label",for:"tax-name"},Yv=["placeholder"],Uv={class:"nxp-ec-form-help"},Xv={class:"nxp-ec-form-field"},Fv={class:"nxp-ec-form-label",for:"tax-country"},Gv=["placeholder"],Vv={class:"nxp-ec-form-help"},Hv={class:"nxp-ec-form-field"},Bv={class:"nxp-ec-form-label",for:"tax-region"},Kv=["placeholder"],jv={class:"nxp-ec-form-help"},Jv={class:"nxp-ec-form-field"},Wv={class:"nxp-ec-form-label",for:"tax-rate"},qv={class:"nxp-ec-input-group"},zv={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Qv={class:"nxp-ec-form-label",for:"tax-inclusive"},Zv={class:"nxp-ec-form-help"},eM={class:"nxp-ec-form-field"},tM={class:"nxp-ec-form-label",for:"tax-priority"},sM={class:"nxp-ec-form-help"},nM={class:"nxp-ec-modal__actions"},oM=["disabled"],aM=["disabled"],iM=["disabled"],rM=Nt({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=Qe(!1),c=et({id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0}),u=()=>a("refresh"),p=()=>{d(),r.value=!0},f=H=>{Object.assign(c,{id:H.id,name:H.name||"",country:H.country,region:H.region,rate:H.rate,inclusive:H.inclusive,priority:H.priority}),r.value=!0},S=()=>{r.value=!1,d()},d=()=>{Object.assign(c,{id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0})},M=()=>{a("save",{id:c.id||void 0,name:c.name||null,country:c.country,region:c.region,rate:c.rate,inclusive:c.inclusive,priority:c.priority})},C=H=>{const Y=s("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(Y)&&(a("delete",[H.id]),c.id===H.id&&S())};return ct(()=>o.state.saving,(H,Y)=>{Y&&!H&&!o.state.error&&S()}),(H,Y)=>(E(),b("section",ZN,[n("header",ev,[n("div",null,[n("h2",tv,l(i(s)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),n("p",sv,l(i(s)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),n("div",nv,[n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":i(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[Y[7]||(Y[7]=n("i",{class:"fa-solid fa-rotate"},null,-1)),n("span",av,l(i(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,ov),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[Y[8]||(Y[8]=n("i",{class:"fa-solid fa-plus"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(E(),b("div",iv,l(e.state.error),1)):ie("",!0),e.state.loading?(E(),b("div",rv,l(i(s)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(E(),b("div",lv,[n("div",cv,[n("table",dv,[n("thead",null,[n("tr",null,[n("th",uv,l(i(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),n("th",pv,l(i(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),n("th",_v,l(i(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),n("th",fv,l(i(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),n("th",mv,l(i(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),n("th",hv,l(i(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),Y[9]||(Y[9]=n("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),n("tbody",null,[e.state.items.length?ie("",!0):(E(),b("tr",gv,[n("td",Ev,l(i(s)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(E(!0),b(we,null,Ge(e.state.items,T=>{var h;return E(),b("tr",{key:T.id,class:He({"is-active":c.id===T.id})},[n("th",Cv,l(T.name||i(s)("COM_NXPEASYCART_TAX_DEFAULT_NAME","Tax",[],"taxDefaultName")),1),n("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_COUNTRY","Country")},l(T.country),9,Av),n("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_REGION","Region")},l(T.region||""),9,Sv),n("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_RATE","Rate")},l(((h=T.rate)!=null?h:0).toFixed(2))+"%",9,bv),n("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[n("span",{class:He(["nxp-ec-badge",{"is-active":T.inclusive}])},[n("i",{class:He(T.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Pe(" "+l(T.inclusive?i(s)("JYES","Yes"):i(s)("JNO","No")),1)],2)],8,Tv),n("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},l(T.priority),9,yv),n("td",Rv,[n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:_=>f(T),title:i(s)("JEDIT","Edit"),"aria-label":i(s)("JEDIT","Edit")},[Y[10]||(Y[10]=n("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),n("span",xv,l(i(s)("JEDIT","Edit")),1)],8,Ov),n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:_=>C(T),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[Y[11]||(Y[11]=n("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),n("span",Nv,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Pv)])],2)}),128))])])]),r.value?(E(),b("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"tax-modal-title",onKeydown:Pt(S,["esc"])},[n("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:S}),n("div",vv,[n("aside",Mv,[n("header",Iv,[n("h3",kv,l(c.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),n("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:S,title:i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[Y[12]||(Y[12]=n("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),n("span",$v,l(i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,wv)]),n("form",{class:"nxp-ec-form",onSubmit:xt(M,["prevent"]),autocomplete:"off"},[n("div",Dv,[n("label",Lv,l(i(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),oe(n("input",{id:"tax-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Y[0]||(Y[0]=T=>c.name=T),maxlength:"100",placeholder:i(s)("COM_NXPEASYCART_TAX_NAME_PLACEHOLDER","e.g. VAT, GST, Sales Tax",[],"taxNamePlaceholder")},null,8,Yv),[[Ce,c.name,void 0,{trim:!0}]]),n("p",Uv,l(i(s)("COM_NXPEASYCART_TAX_NAME_HELP",'Optional display name shown to customers. Falls back to "Tax" if empty.',[],"taxNameHelp")),1)]),n("div",Xv,[n("label",Fv,l(i(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),oe(n("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Y[1]||(Y[1]=T=>c.country=T),maxlength:"2",required:"",placeholder:i(s)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,Gv),[[Ce,c.country,void 0,{trim:!0}]]),n("p",Vv,l(i(s)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),n("div",Hv,[n("label",Bv,l(i(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),oe(n("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Y[2]||(Y[2]=T=>c.region=T),placeholder:i(s)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,Kv),[[Ce,c.region,void 0,{trim:!0}]]),n("p",jv,l(i(s)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),n("div",Jv,[n("label",Wv,l(i(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),n("div",qv,[oe(n("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":Y[3]||(Y[3]=T=>c.rate=T),required:""},null,512),[[Ce,c.rate,void 0,{number:!0}]]),Y[13]||(Y[13]=n("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),n("div",zv,[n("label",Qv,l(i(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),oe(n("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":Y[4]||(Y[4]=T=>c.inclusive=T)},null,512),[[ht,c.inclusive]]),n("p",Zv,l(i(s)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),n("div",eM,[n("label",tM,l(i(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),oe(n("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":Y[5]||(Y[5]=T=>c.priority=T)},null,512),[[Ce,c.priority,void 0,{number:!0}]]),n("p",sM,l(i(s)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),n("footer",nM,[n("button",{class:"nxp-ec-btn",type:"button",onClick:S,disabled:e.state.saving},l(i(s)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,oM),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},l(e.state.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,aM)]),c.id?(E(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Y[6]||(Y[6]=T=>C(c)),disabled:e.state.saving},[Y[14]||(Y[14]=n("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,iM)):ie("",!0)],32)])])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-2ed24c88"]]),lM={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},cM={class:"nxp-ec-admin-panel__header"},dM={class:"nxp-ec-admin-panel__title"},uM={class:"nxp-ec-admin-panel__lead"},pM={class:"nxp-ec-admin-panel__actions"},_M=["disabled","title","aria-label"],fM={class:"nxp-ec-sr-only"},mM={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hM={key:1,class:"nxp-ec-admin-panel__loading"},gM={key:2,class:"nxp-ec-admin-panel__body"},EM={class:"nxp-ec-admin-panel__table"},CM={class:"nxp-ec-admin-table"},AM={scope:"col"},SM={scope:"col"},bM={scope:"col"},TM={scope:"col"},yM={scope:"col"},RM={scope:"col"},OM={key:0},xM={colspan:"7"},PM={scope:"row",class:"nxp-ec-admin-table__primary"},NM=["data-label"],vM=["data-label"],MM=["data-label"],IM=["data-label"],kM=["data-label"],wM={class:"nxp-ec-admin-table__actions"},$M=["onClick","title","aria-label"],DM={class:"nxp-ec-sr-only"},LM=["onClick","title","aria-label"],YM={class:"nxp-ec-sr-only"},UM={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},XM={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},FM={class:"nxp-ec-admin-panel__sidebar-header"},GM={id:"shipping-modal-title"},VM=["title","aria-label"],HM={class:"nxp-ec-sr-only"},BM={class:"nxp-ec-form-field"},KM={class:"nxp-ec-form-label",for:"shipping-name"},jM=["placeholder"],JM={class:"nxp-ec-form-field"},WM={class:"nxp-ec-form-label",for:"shipping-type"},qM={value:"flat"},zM={value:"free_over"},QM={class:"nxp-ec-form-help"},ZM={class:"nxp-ec-form-field"},eI={class:"nxp-ec-form-label",for:"shipping-price"},tI={class:"nxp-ec-input-group"},sI={class:"nxp-ec-input-group__prefix"},nI={key:0,class:"nxp-ec-form-field"},oI={class:"nxp-ec-form-label",for:"shipping-threshold"},aI={class:"nxp-ec-input-group"},iI={class:"nxp-ec-input-group__prefix"},rI={class:"nxp-ec-form-help"},lI={class:"nxp-ec-form-field"},cI={class:"nxp-ec-form-label",for:"shipping-regions"},dI=["placeholder"],uI={class:"nxp-ec-form-help"},pI={class:"nxp-ec-form-field nxp-ec-form-field--inline"},_I={class:"nxp-ec-form-label",for:"shipping-active"},fI={class:"nxp-ec-form-help"},mI={class:"nxp-ec-modal__actions"},hI=["disabled"],gI=["disabled"],EI=["disabled"],CI=Nt({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=Te(()=>{const h=o.baseCurrency;return typeof h=="string"&&h.trim()!==""?h.trim().toUpperCase():"USD"}),c=Qe(!1),u=et({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),p=()=>a("refresh"),f=()=>{M(),c.value=!0},S=h=>{var _,P,N;Object.assign(u,{id:h.id,name:h.name,type:h.type,price:(P=h.price)!=null?P:((_=h.price_cents)!=null?_:0)/100,threshold:h.threshold!==null&&h.threshold!==void 0?h.threshold:((N=h.threshold_cents)!=null?N:0)/100,regions:h.regions&&h.regions.length?h.regions.join(", "):"",active:h.active}),c.value=!0},d=()=>{c.value=!1,M()},M=()=>{Object.assign(u,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},C=()=>{const h={id:u.id||void 0,name:u.name,type:u.type,price:u.price,threshold:u.type==="free_over"?u.threshold:0,regions:u.regions,active:u.active};a("save",h)},H=h=>{const _=s("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(_)&&(a("delete",[h.id]),u.id===h.id&&d())};ct(()=>o.state.saving,(h,_)=>{_&&!h&&!o.state.error&&d()});const Y=(h,_)=>{const P=(Number(h)||0)/100,N=(_||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:N}).format(P)}catch(j){return`${N} ${P.toFixed(2)}`}},T=h=>h==="free_over"?s("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):s("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(h,_)=>(E(),b("section",lM,[n("header",cM,[n("div",null,[n("h2",dM,l(i(s)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),n("p",uM,l(i(s)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),n("div",pM,[n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":i(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[_[7]||(_[7]=n("i",{class:"fa-solid fa-rotate"},null,-1)),n("span",fM,l(i(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,_M),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:f},[_[8]||(_[8]=n("i",{class:"fa-solid fa-plus"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(E(),b("div",mM,l(e.state.error),1)):ie("",!0),e.state.loading?(E(),b("div",hM,l(i(s)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(E(),b("div",gM,[n("div",EM,[n("table",CM,[n("thead",null,[n("tr",null,[n("th",AM,l(i(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),n("th",SM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),n("th",bM,l(i(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),n("th",TM,l(i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),n("th",yM,l(i(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),n("th",RM,l(i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),_[9]||(_[9]=n("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),n("tbody",null,[e.state.items.length?ie("",!0):(E(),b("tr",OM,[n("td",xM,l(i(s)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(E(!0),b(we,null,Ge(e.state.items,P=>(E(),b("tr",{key:P.id,class:He({"is-active":u.id===P.id})},[n("th",PM,l(P.name),1),n("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},l(T(P.type)),9,NM),n("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},l(Y(P.price_cents,r.value)),9,vM),n("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},l(P.type==="free_over"?Y(P.threshold_cents,r.value):""),9,MM),n("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},l(P.regions&&P.regions.length?P.regions.join(", "):i(s)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,IM),n("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[n("span",{class:He(["nxp-ec-badge",{"is-active":P.active}])},[n("i",{class:He(P.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Pe(" "+l(P.active?i(s)("JYES","Yes"):i(s)("JNO","No")),1)],2)],8,kM),n("td",wM,[n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:N=>S(P),title:i(s)("JEDIT","Edit"),"aria-label":i(s)("JEDIT","Edit")},[_[10]||(_[10]=n("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),n("span",DM,l(i(s)("JEDIT","Edit")),1)],8,$M),n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:N=>H(P),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[_[11]||(_[11]=n("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),n("span",YM,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,LM)])],2))),128))])])]),c.value?(E(),b("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"shipping-modal-title",onKeydown:Pt(d,["esc"])},[n("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:d}),n("div",UM,[n("aside",XM,[n("header",FM,[n("h3",GM,l(u.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),n("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:d,title:i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[_[12]||(_[12]=n("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),n("span",HM,l(i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,VM)]),n("form",{class:"nxp-ec-form",onSubmit:xt(C,["prevent"]),autocomplete:"off"},[n("div",BM,[n("label",KM,l(i(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),oe(n("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[0]||(_[0]=P=>u.name=P),required:"",placeholder:i(s)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,jM),[[Ce,u.name,void 0,{trim:!0}]])]),n("div",JM,[n("label",WM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),oe(n("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":_[1]||(_[1]=P=>u.type=P)},[n("option",qM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),n("option",zM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[gt,u.type]]),n("p",QM,l(u.type==="free_over"?i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),n("div",ZM,[n("label",eI,l(i(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),n("div",tI,[n("span",sI,l(r.value),1),oe(n("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":_[2]||(_[2]=P=>u.price=P),required:""},null,512),[[Ce,u.price,void 0,{number:!0}]])])]),u.type==="free_over"?(E(),b("div",nI,[n("label",oI,l(i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),n("div",aI,[n("span",iI,l(r.value),1),oe(n("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":_[3]||(_[3]=P=>u.threshold=P),required:""},null,512),[[Ce,u.threshold,void 0,{number:!0}]])]),n("p",rI,l(i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):ie("",!0),n("div",lI,[n("label",cI,l(i(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),oe(n("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[4]||(_[4]=P=>u.regions=P),placeholder:i(s)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,dI),[[Ce,u.regions,void 0,{trim:!0}]]),n("p",uI,l(i(s)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),n("div",pI,[n("label",_I,l(i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),oe(n("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":_[5]||(_[5]=P=>u.active=P)},null,512),[[ht,u.active]]),n("p",fI,l(i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),n("footer",mI,[n("button",{class:"nxp-ec-btn",type:"button",onClick:d,disabled:e.state.saving},l(i(s)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,hI),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},l(e.state.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,gI)]),u.id?(E(),b("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:_[6]||(_[6]=P=>H(u)),disabled:e.state.saving},[_[13]||(_[13]=n("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,EI)):ie("",!0)],32)])])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-e9835937"]]),AI={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},SI={class:"nxp-ec-admin-panel__header"},bI={class:"nxp-ec-admin-panel__title"},TI={class:"nxp-ec-admin-panel__lead"},yI={class:"nxp-ec-admin-panel__actions"},RI=["placeholder","aria-label"],OI=["value"],xI={value:""},PI=["value"],NI=["disabled","title","aria-label"],vI={class:"nxp-ec-sr-only"},MI={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},II={key:1,class:"nxp-ec-admin-panel__body"},kI={key:2,class:"nxp-ec-admin-panel__body"},wI={class:"nxp-ec-admin-panel__table"},$I={class:"nxp-ec-admin-table"},DI={scope:"col"},LI={scope:"col"},YI={scope:"col"},UI={scope:"col"},XI={scope:"col"},FI={key:0},GI={colspan:"5"},VI=["data-label"],HI=["data-label"],BI={class:"nxp-ec-log-entity"},KI={class:"nxp-ec-log-entity-id"},jI=["data-label"],JI=["data-label"],WI=["data-label"],qI={class:"nxp-ec-log-context"},zI={key:0,class:"nxp-ec-admin-pagination"},QI=["disabled"],ZI={class:"nxp-ec-admin-pagination__status"},ek=["disabled"],tk=["title"],sk=Nt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=o.state,c=Te(()=>{const T=new Set;return Array.isArray(r.items)&&r.items.forEach(h=>{h!=null&&h.entity_type&&T.add(h.entity_type)}),r.entity&&T.add(r.entity),Array.from(T).sort()}),u=()=>a("refresh"),p=()=>a("search"),f=T=>a("filter",T),S=T=>a("page",T),d=T=>{if(!T)return"";try{const h=new Date(T.replace(" ","T"));if(!Number.isNaN(h.getTime()))return h.toLocaleString()}catch(h){}return T},M=T=>{if(!T)return s("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(T){case"order":return s("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return s("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return s("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return s("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return T.charAt(0).toUpperCase()+T.slice(1)}},C=T=>{if(!(T!=null&&T.user))return s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const h=T.user.name||"",_=T.user.username||"";return h&&_?`${h} (${_})`:h||_||s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},H=T=>{if(!T||Array.isArray(T)&&!T.length||typeof T=="object"&&!Object.keys(T).length)return"";try{return JSON.stringify(T,null,2)}catch(h){return String(T)}},Y=T=>{if(!T)return"";try{const h=new Date(T),P=new Date-h,N=Math.floor(P/1e3),j=Math.floor(N/60),se=Math.floor(j/60);return N<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):j<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[j]):se<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[se]):h.toLocaleString()}catch(h){return T}};return(T,h)=>(E(),b("section",AI,[n("header",SI,[n("div",null,[n("h2",bI,l(i(s)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),n("p",TI,l(i(s)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),n("div",yI,[oe(n("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":h[0]||(h[0]=_=>i(r).search=_),placeholder:i(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":i(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:Pt(p,["enter"])},null,40,RI),[[Ce,i(r).search]]),n("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:i(r).entity,onChange:h[1]||(h[1]=_=>f(_.target.value)),"aria-label":"Entity filter"},[n("option",xI,l(i(s)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(E(!0),b(we,null,Ge(c.value,_=>(E(),b("option",{key:_,value:_},l(M(_)),9,PI))),128))],40,OI),n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:i(r).loading,title:i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[h[4]||(h[4]=n("i",{class:"fa-solid fa-rotate"},null,-1)),n("span",vI,l(i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,NI)])]),i(r).error?(E(),b("div",MI,l(i(r).error),1)):ie("",!0),i(r).loading?(E(),b("div",II,[_t(un,{type:"table",rows:5,columns:5})])):ie("",!0),i(r).loading?ie("",!0):(E(),b("div",kI,[n("div",wI,[n("table",$I,[n("thead",null,[n("tr",null,[n("th",DI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),n("th",LI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),n("th",YI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),n("th",UI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),n("th",XI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),n("tbody",null,[i(r).items.length?ie("",!0):(E(),b("tr",FI,[n("td",GI,l(i(s)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(E(!0),b(we,null,Ge(i(r).items,_=>(E(),b("tr",{key:_.id},[n("td",{class:"nxp-ec-admin-table__primary","data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},l(d(_.created)),9,VI),n("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[n("span",BI,l(M(_.entity_type)),1),n("span",KI,"#"+l(_.entity_id),1)],8,HI),n("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},l(_.action),9,jI),n("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},l(C(_)),9,JI),n("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[n("pre",qI,l(H(_.context)),1)],8,WI)]))),128))])]),i(r).pagination.pages>1?(E(),b("div",zI,[n("button",{class:"nxp-ec-btn",type:"button",disabled:i(r).pagination.current<=1,onClick:h[2]||(h[2]=_=>S(i(r).pagination.current-1))},"  ",8,QI),n("span",ZI,l(i(r).pagination.current)+" / "+l(i(r).pagination.pages),1),n("button",{class:"nxp-ec-btn",type:"button",disabled:i(r).pagination.current>=i(r).pagination.pages,onClick:h[3]||(h[3]=_=>S(i(r).pagination.current+1))},"  ",8,ek)])):ie("",!0)]),i(r).lastUpdated?(E(),b("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:i(r).lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(Y(i(r).lastUpdated)),9,tk)):ie("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),nk={class:"nxp-ec-admin-panel nxp-ec-admin-panel--import-export"},ok={class:"nxp-ec-admin-panel__header"},ak={class:"nxp-ec-admin-panel__title"},ik={class:"nxp-ec-admin-panel__lead"},rk={class:"nxp-ec-admin-panel__actions"},lk=["disabled","title","aria-label"],ck={class:"nxp-ec-sr-only"},dk={class:"nxp-ec-tabs",role:"tablist"},uk=["aria-selected"],pk=["aria-selected"],_k={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fk={key:1,class:"nxp-ec-admin-panel__loading"},mk={key:2,class:"nxp-ec-admin-panel__body",role:"tabpanel"},hk={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--info nxp-ec-import-backup-notice"},gk={key:1,class:"nxp-ec-import-upload"},Ek={class:"nxp-ec-import-upload__title"},Ck={class:"nxp-ec-import-upload__subtitle"},Ak={class:"nxp-ec-btn nxp-ec-btn--primary"},Sk=["disabled"],bk={class:"nxp-ec-import-upload__help"},Tk={key:2,class:"nxp-ec-import-configure"},yk={class:"nxp-ec-import-file-info"},Rk={class:"nxp-ec-import-file-info__details"},Ok=["title"],xk={class:"nxp-ec-form-field"},Pk={class:"nxp-ec-form-label",for:"import-platform"},Nk={value:""},vk=["value"],Mk={key:0,class:"nxp-ec-form-help"},Ik={key:0,class:"nxp-ec-import-preview"},kk={class:"nxp-ec-import-preview__table-wrapper"},wk={class:"nxp-ec-admin-table nxp-ec-admin-table--sm"},$k={class:"nxp-ec-import-actions"},Dk=["disabled"],Lk={key:3,class:"nxp-ec-import-progress"},Yk={class:"nxp-ec-progress-card"},Uk={class:"nxp-ec-progress-card__header"},Xk={class:"nxp-ec-progress-bar"},Fk={class:"nxp-ec-progress-card__stats"},Gk={class:"nxp-ec-progress-stat"},Vk={class:"nxp-ec-progress-stat__value"},Hk={class:"nxp-ec-progress-stat__label"},Bk={class:"nxp-ec-progress-stat nxp-ec-progress-stat--success"},Kk={class:"nxp-ec-progress-stat__value"},jk={class:"nxp-ec-progress-stat__label"},Jk={key:0,class:"nxp-ec-progress-stat nxp-ec-progress-stat--info"},Wk={class:"nxp-ec-progress-stat__value"},qk={class:"nxp-ec-progress-stat__label"},zk={key:1,class:"nxp-ec-progress-stat nxp-ec-progress-stat--warning"},Qk={class:"nxp-ec-progress-stat__value"},Zk={class:"nxp-ec-progress-stat__label"},e0={key:2,class:"nxp-ec-progress-stat nxp-ec-progress-stat--error"},t0={class:"nxp-ec-progress-stat__value"},s0={class:"nxp-ec-progress-stat__label"},n0={key:0,class:"nxp-ec-progress-errors"},o0={class:"nxp-ec-progress-card__actions"},a0={key:3,class:"nxp-ec-admin-panel__body",role:"tabpanel"},i0={key:0,class:"nxp-ec-export-configure"},r0={class:"nxp-ec-form-field"},l0={class:"nxp-ec-form-label",for:"export-platform"},c0=["value"],d0={class:"nxp-ec-form-help"},u0={class:"nxp-ec-export-actions"},p0=["disabled"],_0={key:1,class:"nxp-ec-export-progress"},f0={class:"nxp-ec-progress-card"},m0={class:"nxp-ec-progress-card__header"},h0={class:"nxp-ec-progress-bar"},g0={class:"nxp-ec-progress-card__stats"},E0={class:"nxp-ec-progress-stat"},C0={class:"nxp-ec-progress-stat__value"},A0={class:"nxp-ec-progress-stat__label"},S0={class:"nxp-ec-progress-card__actions"},b0=Nt({__name:"ImportExportPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","upload-file","start-import","cancel-import","reset-import","start-export","cancel-export","download-export","reset-export"],setup(e,{emit:t}){const o=e,a=t,s=o.translate,r=Qe("import"),c=()=>a("refresh"),u=se=>{var Ne;const W=(Ne=se.target.files)==null?void 0:Ne[0];W&&a("upload-file",W)},p=se=>{var Ne,Ie;const W=(Ie=(Ne=se.dataTransfer)==null?void 0:Ne.files)==null?void 0:Ie[0];W&&a("upload-file",W)},f=()=>a("start-import"),S=()=>a("cancel-import"),d=()=>a("reset-import"),M=()=>a("start-export"),C=()=>a("cancel-export"),H=()=>a("download-export"),Y=()=>a("reset-export"),T=se=>{if(!se)return"0 B";const W=["B","KB","MB","GB"];let Ne=0;for(;se>=1024&&Ne<W.length-1;)se/=1024,Ne++;return`${se.toFixed(Ne>0?1:0)} ${W[Ne]}`},h=(se,W)=>se?se.length<=W?se:se.substring(0,W)+"...":"",_=se=>["pending","processing","running"].includes(se),P=se=>{switch(se){case"completed":return"fa-solid fa-check-circle nxp-ec-text-success";case"failed":return"fa-solid fa-times-circle nxp-ec-text-danger";case"cancelled":return"fa-solid fa-ban nxp-ec-text-warning";default:return"fa-solid fa-spinner fa-spin"}},N=se=>{switch(se){case"completed":return s("COM_NXPEASYCART_STATUS_COMPLETED","Completed",[],"statusCompleted");case"failed":return s("COM_NXPEASYCART_STATUS_FAILED","Failed",[],"statusFailed");case"cancelled":return s("COM_NXPEASYCART_STATUS_CANCELLED","Cancelled",[],"statusCancelled");case"processing":case"running":return s("COM_NXPEASYCART_STATUS_PROCESSING","Processing...",[],"statusProcessing");default:return s("COM_NXPEASYCART_STATUS_PENDING","Pending...",[],"statusPending")}},j=se=>{switch(se){case"completed":return"nxp-ec-progress-bar__fill--success";case"failed":return"nxp-ec-progress-bar__fill--danger";case"cancelled":return"nxp-ec-progress-bar__fill--warning";default:return""}};return(se,W)=>{var Ne,Ie;return E(),b("section",nk,[n("header",ok,[n("div",null,[n("h2",ak,l(i(s)("COM_NXPEASYCART_IMPORT_EXPORT_TITLE","Import / Export",[],"importExportTitle")),1),n("p",ik,l(i(s)("COM_NXPEASYCART_IMPORT_EXPORT_LEAD","Migrate products from other platforms or backup your catalogue.",[],"importExportLead")),1)]),n("div",rk,[n("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:c,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh"),"aria-label":i(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")},[W[6]||(W[6]=n("i",{class:"fa-solid fa-rotate"},null,-1)),n("span",ck,l(i(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")),1)],8,lk)])]),n("nav",dk,[n("button",{role:"tab","aria-selected":r.value==="import",class:He(["nxp-ec-tabs__tab",{"is-active":r.value==="import"}]),onClick:W[0]||(W[0]=v=>r.value="import")},[W[7]||(W[7]=n("i",{class:"fa-solid fa-file-import","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_IMPORT","Import",[],"import")),1)],10,uk),n("button",{role:"tab","aria-selected":r.value==="export",class:He(["nxp-ec-tabs__tab",{"is-active":r.value==="export"}]),onClick:W[1]||(W[1]=v=>r.value="export")},[W[8]||(W[8]=n("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_EXPORT","Export",[],"export")),1)],10,pk)]),e.state.error?(E(),b("div",_k,l(e.state.error),1)):ie("",!0),e.state.loading?(E(),b("div",fk,l(i(s)("COM_NXPEASYCART_LOADING","Loading...",[],"loading")),1)):ie("",!0),!e.state.loading&&r.value==="import"?(E(),b("div",mk,[!e.state.importFileId&&!e.state.importJobId?(E(),b("div",hk,[W[10]||(W[10]=n("i",{class:"fa-solid fa-circle-info","aria-hidden":"true"},null,-1)),n("div",null,[n("strong",null,l(i(s)("COM_NXPEASYCART_IMPORT_BACKUP_TITLE","Backup recommended",[],"importBackupTitle")),1),n("p",null,l(i(s)("COM_NXPEASYCART_IMPORT_BACKUP_TEXT","Before importing, we recommend exporting your current catalogue as a backup. Switch to the Export tab to create a backup first.",[],"importBackupText")),1),n("button",{class:"nxp-ec-btn nxp-ec-btn--sm",type:"button",onClick:W[2]||(W[2]=v=>r.value="export")},[W[9]||(W[9]=n("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_IMPORT_GO_TO_EXPORT","Go to Export",[],"importGoToExport")),1)])])])):ie("",!0),e.state.importFileId?e.state.importFileId&&!e.state.importJobId?(E(),b("div",Tk,[n("div",yk,[W[14]||(W[14]=n("div",{class:"nxp-ec-import-file-info__icon"},[n("i",{class:"fa-solid fa-file-csv","aria-hidden":"true"})],-1)),n("div",Rk,[n("strong",null,l(e.state.importFilename),1),n("span",null,l(T(e.state.importFileSize)),1),n("span",null,l(e.state.importRowCount)+" "+l(i(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),n("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:d,title:i(s)("COM_NXPEASYCART_IMPORT_CHANGE_FILE","Change file",[],"importChangeFile")},[...W[13]||(W[13]=[n("i",{class:"fa-solid fa-xmark","aria-hidden":"true"},null,-1)])],8,Ok)]),n("div",xk,[n("label",Pk,l(i(s)("COM_NXPEASYCART_IMPORT_PLATFORM","Source platform",[],"importPlatform")),1),oe(n("select",{id:"import-platform",class:"nxp-ec-form-select","onUpdate:modelValue":W[4]||(W[4]=v=>e.state.importSelectedPlatform=v)},[n("option",Nk,l(i(s)("COM_NXPEASYCART_IMPORT_SELECT_PLATFORM","Select platform...",[],"importSelectPlatform")),1),(E(!0),b(we,null,Ge(e.state.platforms,v=>(E(),b("option",{key:v.id,value:v.id},l(v.name)+" "+l(v.id===e.state.importDetectedPlatform?"(detected)":""),9,vk))),128))],512),[[gt,e.state.importSelectedPlatform]]),e.state.importDetectedPlatform?(E(),b("p",Mk,[W[15]||(W[15]=n("i",{class:"fa-solid fa-check-circle","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_IMPORT_DETECTED","Auto-detected from CSV headers",[],"importDetected")),1)])):ie("",!0)]),e.state.importPreview.length?(E(),b("div",Ik,[n("h4",null,l(i(s)("COM_NXPEASYCART_IMPORT_PREVIEW","Preview",[],"importPreview")),1),n("div",kk,[n("table",wk,[n("thead",null,[n("tr",null,[(E(!0),b(we,null,Ge(e.state.importHeaders,v=>(E(),b("th",{key:v,scope:"col"},l(v),1))),128))])]),n("tbody",null,[(E(!0),b(we,null,Ge(e.state.importPreview.slice(0,3),(v,De)=>(E(),b("tr",{key:De},[(E(!0),b(we,null,Ge(e.state.importHeaders,$e=>(E(),b("td",{key:$e},l(h(v[$e],30)),1))),128))]))),128))])])])])):ie("",!0),n("div",$k,[n("button",{class:"nxp-ec-btn",type:"button",onClick:d},l(i(s)("COM_NXPEASYCART_CANCEL","Cancel",[],"cancel")),1),n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:f,disabled:!e.state.importSelectedPlatform||e.state.importStarting},[W[16]||(W[16]=n("i",{class:"fa-solid fa-play","aria-hidden":"true"},null,-1)),Pe(" "+l(e.state.importStarting?i(s)("COM_NXPEASYCART_IMPORT_STARTING","Starting...",[],"importStarting"):i(s)("COM_NXPEASYCART_IMPORT_START","Start import",[],"importStart")),1)],8,Dk)])])):e.state.importJobId&&e.state.importProgress?(E(),b("div",Lk,[n("div",Yk,[n("div",Uk,[n("h4",null,[n("i",{class:He(P(e.state.importProgress.status)),"aria-hidden":"true"},null,2),Pe(" "+l(N(e.state.importProgress.status)),1)])]),n("div",Xk,[n("div",{class:He(["nxp-ec-progress-bar__fill",j(e.state.importProgress.status)]),style:Ht({width:e.state.importProgress.percent+"%"})},null,6)]),n("div",Fk,[n("div",Gk,[n("span",Vk,l(e.state.importProgress.processed_rows),1),n("span",Hk," / "+l(e.state.importProgress.total_rows)+" "+l(i(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),n("div",Bk,[n("span",Kk,l(e.state.importProgress.imported_products),1),n("span",jk,l(i(s)("COM_NXPEASYCART_IMPORT_PRODUCTS","products",[],"importProducts")),1)]),e.state.importProgress.imported_variants?(E(),b("div",Jk,[n("span",Wk,l(e.state.importProgress.imported_variants),1),n("span",qk,l(i(s)("COM_NXPEASYCART_IMPORT_VARIANTS","variants",[],"importVariants")),1)])):ie("",!0),e.state.importProgress.skipped_rows?(E(),b("div",zk,[n("span",Qk,l(e.state.importProgress.skipped_rows),1),n("span",Zk,l(i(s)("COM_NXPEASYCART_IMPORT_SKIPPED","skipped",[],"importSkipped")),1)])):ie("",!0),(Ne=e.state.importProgress.errors)!=null&&Ne.length?(E(),b("div",e0,[n("span",t0,l(e.state.importProgress.errors.length),1),n("span",s0,l(i(s)("COM_NXPEASYCART_IMPORT_ERRORS","errors",[],"importErrors")),1)])):ie("",!0)]),(Ie=e.state.importProgress.errors)!=null&&Ie.length?(E(),b("div",n0,[n("details",null,[n("summary",null,l(i(s)("COM_NXPEASYCART_IMPORT_VIEW_ERRORS","View errors",[],"importViewErrors")),1),n("ul",null,[(E(!0),b(we,null,Ge(e.state.importProgress.errors.slice(0,10),(v,De)=>(E(),b("li",{key:De},l(v),1))),128))])])])):ie("",!0),n("div",o0,[_(e.state.importProgress.status)?(E(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:S},[W[17]||(W[17]=n("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_IMPORT_CANCEL","Cancel import",[],"importCancel")),1)])):(E(),b("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:d},[W[18]||(W[18]=n("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_IMPORT_NEW","New import",[],"importNew")),1)]))])])])):ie("",!0):(E(),b("div",gk,[n("div",{class:"nxp-ec-import-upload__dropzone",onDragover:W[3]||(W[3]=xt(()=>{},["prevent"])),onDrop:xt(p,["prevent"])},[W[12]||(W[12]=n("i",{class:"fa-solid fa-cloud-arrow-up nxp-ec-import-upload__icon","aria-hidden":"true"},null,-1)),n("p",Ek,l(i(s)("COM_NXPEASYCART_IMPORT_DROP_FILE","Drop CSV file here",[],"importDropFile")),1),n("p",Ck,l(i(s)("COM_NXPEASYCART_IMPORT_OR","or",[],"importOr")),1),n("label",Ak,[W[11]||(W[11]=n("i",{class:"fa-solid fa-folder-open","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_IMPORT_BROWSE","Browse files",[],"importBrowse"))+" ",1),n("input",{type:"file",accept:".csv,text/csv,application/csv",class:"nxp-ec-sr-only",onChange:u,disabled:e.state.importUploading},null,40,Sk)]),n("p",bk,l(i(s)("COM_NXPEASYCART_IMPORT_FILE_HELP","Supported: CSV files up to 10MB",[],"importFileHelp")),1)],32)]))])):ie("",!0),!e.state.loading&&r.value==="export"?(E(),b("div",a0,[e.state.exportJobId?e.state.exportProgress?(E(),b("div",_0,[n("div",f0,[n("div",m0,[n("h4",null,[n("i",{class:He(P(e.state.exportProgress.status)),"aria-hidden":"true"},null,2),Pe(" "+l(N(e.state.exportProgress.status)),1)])]),n("div",h0,[n("div",{class:He(["nxp-ec-progress-bar__fill",j(e.state.exportProgress.status)]),style:Ht({width:e.state.exportProgress.percent+"%"})},null,6)]),n("div",g0,[n("div",E0,[n("span",C0,l(e.state.exportProgress.processed_rows),1),n("span",A0," / "+l(e.state.exportProgress.total_rows)+" "+l(i(s)("COM_NXPEASYCART_EXPORT_PRODUCTS","products",[],"exportProducts")),1)])]),n("div",S0,[_(e.state.exportProgress.status)?(E(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:C},[W[20]||(W[20]=n("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_EXPORT_CANCEL","Cancel export",[],"exportCancel")),1)])):(E(),b(we,{key:1},[e.state.exportProgress.status==="completed"?(E(),b("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:H},[W[21]||(W[21]=n("i",{class:"fa-solid fa-download","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_EXPORT_DOWNLOAD","Download CSV",[],"exportDownload")),1)])):ie("",!0),n("button",{class:"nxp-ec-btn",type:"button",onClick:Y},[W[22]||(W[22]=n("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),Pe(" "+l(i(s)("COM_NXPEASYCART_EXPORT_NEW","New export",[],"exportNew")),1)])],64))])])])):ie("",!0):(E(),b("div",i0,[n("div",r0,[n("label",l0,l(i(s)("COM_NXPEASYCART_EXPORT_FORMAT","Export format",[],"exportFormat")),1),oe(n("select",{id:"export-platform",class:"nxp-ec-form-select","onUpdate:modelValue":W[5]||(W[5]=v=>e.state.exportPlatform=v)},[(E(!0),b(we,null,Ge(e.state.platforms,v=>(E(),b("option",{key:v.id,value:v.id},l(v.name),9,c0))),128))],512),[[gt,e.state.exportPlatform]]),n("p",d0,l(i(s)("COM_NXPEASYCART_EXPORT_FORMAT_HELP","Choose Native format for backups or another platform format for migration.",[],"exportFormatHelp")),1)]),n("div",u0,[n("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:M,disabled:e.state.exportStarting},[W[19]||(W[19]=n("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),Pe(" "+l(e.state.exportStarting?i(s)("COM_NXPEASYCART_EXPORT_STARTING","Starting...",[],"exportStarting"):i(s)("COM_NXPEASYCART_EXPORT_START","Start export",[],"exportStart")),1)],8,p0)])]))])):ie("",!0)])}}},[["__scopeId","data-v-2e1e8381"]]),T0={key:0,class:"nxp-ec-onboarding"},y0={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},R0={class:"nxp-ec-onboarding__header"},O0={class:"nxp-ec-onboarding__title"},x0={class:"nxp-ec-onboarding__lead"},P0={class:"nxp-ec-onboarding__progress"},N0={class:"nxp-ec-onboarding__progress-bar"},v0={class:"nxp-ec-onboarding__progress-label"},M0={class:"nxp-ec-onboarding__steps"},I0={class:"nxp-ec-onboarding__step-main"},k0={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},w0={key:0,class:"fa-solid fa-circle-check"},$0={key:1,class:"fa-regular fa-circle"},D0={class:"nxp-ec-onboarding__step-actions"},L0=["onClick"],Y0=Nt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,o=t.translate,a=Te(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),s=Te(()=>`${a.value}%`),r=Te(()=>{const c=t.steps.filter(u=>u.completed).length;return o("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(c),String(t.steps.length)],"onboardingProgress")});return(c,u)=>e.visible?(E(),b("div",T0,[n("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>c.$emit("close"))}),n("section",y0,[n("header",R0,[n("div",null,[n("h2",O0,l(i(o)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),n("p",x0,l(i(o)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),n("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>c.$emit("close"))},l(i(o)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),n("div",P0,[n("div",N0,[n("span",{style:Ht({width:s.value})},null,4)]),n("span",v0,l(r.value),1)]),n("ol",M0,[(E(!0),b(we,null,Ge(e.steps,p=>(E(),b("li",{key:p.id,class:He({"is-complete":p.completed})},[n("div",I0,[n("span",k0,[p.completed?(E(),b("span",w0)):(E(),b("span",$0))]),n("div",null,[n("h3",null,l(i(o)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),n("p",null,l(i(o)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),n("div",D0,[p.link?(E(),b("button",{key:0,type:"button",class:He(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:f=>c.$emit("navigate",p)},l(p.completed?i(o)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):i(o)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,L0)):ie("",!0)])],2))),128))])])])):ie("",!0)}},[["__scopeId","data-v-c2a94811"]]),U0=(e,t=[])=>{var s;if(!t.length)return e;const o=(s=window==null?void 0:window.Joomla)==null?void 0:s.sprintf;if(typeof o=="function")try{return o.call(window.Joomla,e,...t)}catch(r){}let a=String(e);return t.forEach(r=>{const c=r!=null?r:"";a=a.replace(/%[sd]/,String(c))}),a},X0=(e,t="",o=[])=>{var r;const a=(r=window==null?void 0:window.Joomla)==null?void 0:r.Text;let s=t||e;if(a&&typeof a._=="function"){const c=a._(e);c&&c!==e&&(s=c)}return U0(s,o)};function F0(e={}){const t=e||{},o=(s,r)=>{if(!s)return r;const c=t[s];return c!=null&&c!==""?c:r};return{__:(s,r="",c=[],u="")=>{const p=o(u,r);return X0(s,p,c)}}}const Ii=typeof window!="undefined"&&window.performance;function ki(e){if(Ii)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function G0(e,t,o){if(!Ii)return null;try{performance.measure(e,t,o);const a=performance.getEntriesByName(e,"measure")[0];if(a)return a.duration}catch(a){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,a)}return null}const Us=et({}),wi=3e5;function $i(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function es(e,t=wi){const o=Us[e];return o?$i(o,t)?o.data:(delete Us[e],null):null}function Kt(e,t){Us[e]={data:t,timestamp:Date.now()}}function We(e){delete Us[e]}function Di(){const e={};return Object.keys(Us).forEach(t=>{const o=Us[t];o&&(e[t]={age:Date.now()-o.timestamp,timestamp:o.timestamp,valid:$i(o,wi)})}),e}function ts(e){const t=Qe({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const c=`${e}-fetch-start`;return ki(c),c},endFetch:c=>{const u=`${e}-fetch-end`;ki(u);const p=G0(`${e}-fetch`,c,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const _n=(e,t)=>{if(!e)return"";const o=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,o);return a.searchParams.set("task",`api.products.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function V0({endpoints:e,token:t,autoload:o=!0,cacheTTL:a=3e5}){var Fe,Ve,ne,L,$,I;const s=wt({token:t}),r=ts("products"),c=(Fe=e==null?void 0:e.list)!=null?Fe:"",u=(Ve=e==null?void 0:e.create)!=null?Ve:_n(c,"store"),p=(ne=e==null?void 0:e.update)!=null?ne:_n(c,"update"),f=(L=e==null?void 0:e.delete)!=null?L:_n(c,"delete"),S=($=e==null?void 0:e.checkout)!=null?$:_n(c,"checkout"),d=(I=e==null?void 0:e.checkin)!=null?I:_n(c,"checkin"),M=typeof AbortController!="undefined",C=et({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",categoryId:null,sort:"",sortDir:"DESC",lastUpdated:null}),H=Qe(null),Y=()=>{const B=C.pagination.current||1,z=C.pagination.limit||20,y=C.search.trim(),A=C.categoryId||"",g=C.sort||"",ce=C.sortDir||"DESC";return`products:page=${B}:limit=${z}:search=${y}:cat=${A}:sort=${g}:dir=${ce}`},T=async(B=!1)=>{var ce;if(!c){C.error="Products endpoint unavailable.",C.items=[];return}const z=Y(),y=B?null:es(z,a);if(y){r.recordCacheHit(),C.items=y.items,y.pagination&&(C.pagination.total=Number(y.pagination.total)||0,C.pagination.limit=Number(y.pagination.limit)||20,C.pagination.pages=Number(y.pagination.pages)||0,C.pagination.current=Number(y.pagination.current)||1,C.pagination.start=Number(y.pagination.start)||0),C.lastUpdated=y.lastUpdated;return}r.recordCacheMiss(),C.loading=!0,C.error="",C.validationErrors=[],H.value&&M&&H.value.abort();const A=M?new AbortController:null;H.value=A;const g=r.startFetch();try{const re=Number(C.pagination.current)||1,be=Number(C.pagination.limit)||20,K={endpoint:c,signal:A?A.signal:void 0,limit:be,start:Math.max(0,(re-1)*be),search:C.search.trim(),categoryId:C.categoryId||null,sort:C.sort||"",sortDir:C.sortDir||"DESC"},{items:fe,pagination:xe}=await s.fetchProducts(K);C.items=fe;const Ue=Number(xe.total)||0,R=Number(xe.limit)||be,O=Number(xe.pages)||0,F=Number(xe.current)||1,ae=Number(xe.start)||0;C.pagination.total=Ue,C.pagination.limit=R,C.pagination.pages=O,C.pagination.current=F>0?F:1,C.pagination.start=ae,C.lastUpdated=new Date().toISOString(),Kt(z,{items:fe,pagination:C.pagination,lastUpdated:C.lastUpdated})}catch(re){if((re==null?void 0:re.name)==="AbortError")return;C.error=(ce=re==null?void 0:re.message)!=null?ce:"Unknown error"}finally{r.endFetch(g),M&&H.value===A&&(H.value=null),C.loading=!1}},h=()=>{C.pagination.current=1,We(Y()),T(!0)},_=()=>{C.pagination.current=1,T()},P=B=>{C.categoryId=B||null,C.pagination.current=1,T()},N=(B,z=null)=>{C.sort===B&&z===null?C.sortDir=C.sortDir==="ASC"?"DESC":"ASC":(C.sort=B,C.sortDir=z||"DESC"),C.pagination.current=1,T()},j=B=>{const z=Number(B),y=Number(C.pagination.pages)||0;Number.isNaN(z)||z<1||y>0&&z>y||(C.pagination.current=z,T())},se=B=>B?typeof B=="string"?B:typeof B=="object"&&B.message?String(B.message):String(B):"",W=(B,{setValidation:z=!1}={})=>{var y;if((B==null?void 0:B.code)===422&&z){const A=Array.isArray(B.details)?B.details:[B.details].filter(Boolean);C.validationErrors=A.map(se).filter(g=>g!=="");return}C.error=(y=B==null?void 0:B.message)!=null?y:"Unknown error"},Ne=async B=>{var z;if(!S||!B)return null;C.locking=!0,C.error="";try{const y=await s.checkoutProduct({endpoint:S,id:B});if(y){const A=C.items.findIndex(g=>g.id===y.id);A!==-1&&C.items.splice(A,1,y)}return y}catch(y){throw C.error=(z=y==null?void 0:y.message)!=null?z:"Unknown error",y}finally{C.locking=!1}},Ie=async(B,{force:z=!1}={})=>{var y;if(!d||!B)return null;try{const A=await s.checkinProduct({endpoint:d,id:B,force:z});if(A){const g=C.items.findIndex(ce=>ce.id===A.id);g!==-1&&C.items.splice(g,1,A)}return A}catch(A){return C.error=(y=A==null?void 0:A.message)!=null?y:"Unknown error",null}},v=async B=>Ie(B,{force:!0}),De=async B=>{if(!u)throw new Error("Create endpoint unavailable.");C.saving=!0,C.validationErrors=[];try{const z=await s.createProduct({endpoint:u,data:B});return z&&(C.items=[z,...C.items],C.pagination.total+=1,We(Y())),z}catch(z){throw W(z,{setValidation:!0}),z}finally{C.saving=!1}},$e=async(B,z)=>{if(!p)throw new Error("Update endpoint unavailable.");C.saving=!0,C.validationErrors=[];try{const y=await s.updateProduct({endpoint:p,id:B,data:z});if(y){const A=C.items.findIndex(g=>g.id===y.id);A!==-1&&C.items.splice(A,1,y),We(Y())}return y}catch(y){throw W(y,{setValidation:!0}),y}finally{C.saving=!1}},Me=async B=>{if(!f)throw new Error("Delete endpoint unavailable.");C.deleting=!0,C.validationErrors=[];try{const z=await s.deleteProducts({endpoint:f,ids:B});return z.length&&(C.items=C.items.filter(y=>!z.includes(y.id)),C.pagination.total=Math.max(0,C.pagination.total-z.length),We(Y())),z}catch(z){throw W(z),z}finally{C.deleting=!1}};return Ot(()=>{o&&T()}),{state:C,loadProducts:T,refresh:h,search:_,filterByCategory:P,setSort:N,goToPage:j,createProduct:De,updateProduct:$e,deleteProducts:Me,checkoutProduct:Ne,checkinProduct:Ie,forceCheckinProduct:v,metrics:r.metrics}}const Li=(e,t)=>{if(!e)return"";const o=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,o);return a.searchParams.set("task",`api.categories.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function H0({endpoints:e,token:t,preload:o={},autoload:a=!0,cacheTTL:s=3e5}){var $e,Me,Fe,Ve,ne,L,$,I,B,z,y,A,g,ce,re,be;const r=wt({token:t}),c=ts("categories"),u=($e=e==null?void 0:e.list)!=null?$e:"",p=(Me=e==null?void 0:e.create)!=null?Me:u,f=(Fe=e==null?void 0:e.update)!=null?Fe:u,S=(Ve=e==null?void 0:e.delete)!=null?Ve:u,d=(ne=e==null?void 0:e.checkout)!=null?ne:Li(u,"checkout"),M=(L=e==null?void 0:e.checkin)!=null?L:Li(u,"checkin"),C=et({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:Array.isArray(o.items)?o.items:[],pagination:{total:(z=(B=($=o.pagination)==null?void 0:$.total)!=null?B:(I=o.items)==null?void 0:I.length)!=null?z:0,limit:(A=(y=o.pagination)==null?void 0:y.limit)!=null?A:20,pages:(ce=(g=o.pagination)==null?void 0:g.pages)!=null?ce:0,current:(be=(re=o.pagination)==null?void 0:re.current)!=null?be:1},search:"",lastUpdated:null}),H=typeof AbortController!="undefined",Y=Qe(null),T=()=>{const K=C.pagination.current||1,fe=C.pagination.limit||20,xe=C.search.trim();return`categories:page=${K}:limit=${fe}:search=${xe}`},h=async(K=!1)=>{var O;if(!u){C.error="Categories endpoint unavailable.",C.items=[];return}const fe=T(),xe=K?null:es(fe,s);if(xe){c.recordCacheHit(),C.items=xe.items,C.pagination={...C.pagination,...xe.pagination},C.lastUpdated=xe.lastUpdated;return}c.recordCacheMiss(),C.loading=!0,C.error="",C.validationErrors=[],Y.value&&H&&Y.value.abort();const Ue=H?new AbortController:null;Y.value=Ue;const R=c.startFetch();try{const F=Math.max(0,(C.pagination.current-1)*C.pagination.limit),{items:ae,pagination:Z}=await r.fetchCategories({endpoint:u,limit:C.pagination.limit,start:F,search:C.search.trim(),signal:Ue?Ue.signal:void 0});C.items=ae,C.pagination={...C.pagination,...Z,current:Z.current&&Z.current>0?Z.current:1},C.lastUpdated=new Date().toISOString(),Kt(fe,{items:ae,pagination:C.pagination,lastUpdated:C.lastUpdated})}catch(F){if((F==null?void 0:F.name)==="AbortError")return;C.error=(O=F==null?void 0:F.message)!=null?O:"Unknown error"}finally{c.endFetch(R),H&&Y.value===Ue&&(Y.value=null),C.loading=!1}},_=()=>{C.pagination.current=1,We(T()),h(!0)},P=()=>{C.pagination.current=1,h()},N=K=>{const fe=Number(K);Number.isNaN(fe)||fe<1||fe===C.pagination.current||(C.pagination.current=fe,h(!0))},j=(K,{validation:fe=!1}={})=>{var xe;if(fe&&(K==null?void 0:K.code)===422){const Ue=K.details,R=Array.isArray(Ue)?Ue:[Ue].filter(Boolean);C.validationErrors=R.map(O=>O?typeof O=="string"?O:typeof O=="object"&&O.message?String(O.message):String(O):"").filter(Boolean);return}C.error=(xe=K==null?void 0:K.message)!=null?xe:"Unknown error"},se=async K=>{if(!d||!K)return null;C.locking=!0,C.error="";try{const fe=await r.checkoutCategory({endpoint:d,id:K});return fe&&(We(T()),await h(!0)),fe}catch(fe){throw j(fe),fe}finally{C.locking=!1}},W=async(K,{force:fe=!1}={})=>{if(!M||!K)return null;try{const xe=await r.checkinCategory({endpoint:M,id:K,force:fe});return xe&&(We(T()),await h(!0)),xe}catch(xe){return j(xe),null}},Ne=async K=>W(K,{force:!0}),Ie=async K=>{if(!p||!f)throw new Error("Category endpoints unavailable.");C.saving=!0,C.error="",C.validationErrors=[];try{let fe=null;return K.id?fe=await r.updateCategory({endpoint:f,id:K.id,data:K}):fe=await r.createCategory({endpoint:p,data:K}),fe&&(We(T()),await h()),fe}catch(fe){throw j(fe,{validation:!0}),fe}finally{C.saving=!1}},v=async K=>{if(!Array.isArray(K)||!K.length||!S)return 0;C.deleting=!0,C.error="";try{const fe=await r.deleteCategories({endpoint:S,ids:K});return fe&&(We(T()),await h()),fe}catch(fe){throw j(fe),fe}finally{C.deleting=!1}},De=async()=>{if(!u)return[];try{const{items:K}=await r.fetchCategories({endpoint:u,limit:200,start:0,search:""});return K}catch(K){return[]}};return Ot(()=>{a&&(!Array.isArray(C.items)||!C.items.length)&&h()}),{state:C,loadCategories:h,refresh:_,search:P,goToPage:N,saveCategory:Ie,deleteCategories:v,loadOptions:De,checkoutCategory:se,checkinCategory:W,forceCheckinCategory:Ne,metrics:c.metrics}}const $t=(e,t)=>{if(!e)return"";const o=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,o);return a.searchParams.set("task",`api.orders.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function B0({endpoints:e,token:t,states:o=[],preload:a={},autoload:s=!0,cacheTTL:r=3e5}){var q,te,J,Ee,de,he,Ae,Re,x,k,le,ue,U,ve,qe,Ke,je,tt;const c=wt({token:t}),u=ts("orders"),p=(q=e==null?void 0:e.list)!=null?q:"",f=(te=e==null?void 0:e.show)!=null?te:$t(p,"show"),S=(J=e==null?void 0:e.transition)!=null?J:$t(p,"transition"),d=(Ee=e==null?void 0:e.bulkTransition)!=null?Ee:$t(p,"bulkTransition"),M=(de=e==null?void 0:e.note)!=null?de:$t(p,"note"),C=(he=e==null?void 0:e.tracking)!=null?he:$t(p,"tracking"),H=(Ae=e==null?void 0:e.invoice)!=null?Ae:$t(p,"invoice"),Y=(Re=e==null?void 0:e.export)!=null?Re:$t(p,"export"),T=(x=e==null?void 0:e.sendEmail)!=null?x:$t(p,"sendEmail"),h=(k=e==null?void 0:e.recordTransaction)!=null?k:$t(p,"recordTransaction"),_=(le=e==null?void 0:e.resendDownloads)!=null?le:$t(p,"resendDownloads"),P=(ue=e==null?void 0:e.resetDownload)!=null?ue:$t(p,"resetDownload"),N=(U=e==null?void 0:e.checkout)!=null?U:$t(p,"checkout"),j=(ve=e==null?void 0:e.checkin)!=null?ve:$t(p,"checkin"),se=typeof AbortController!="undefined",W=Qe(null),Ne=Array.isArray(a==null?void 0:a.items)?a.items:[],Ie=a!=null&&a.pagination&&typeof a.pagination=="object"?a.pagination:{},v=et({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...Ne],pagination:{total:(qe=Ie.total)!=null?qe:Ne.length,limit:(Ke=Ie.limit)!=null?Ke:20,pages:(je=Ie.pages)!=null?je:0,current:(tt=Ie.current)!=null?tt:1},search:"",filterState:"",orderStates:Array.isArray(o)&&o.length?o:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1,locking:!1}),De=Qe(null),$e=()=>{const ge=v.pagination.current||1,ke=v.pagination.limit||20,Oe=v.search.trim(),me=v.filterState||"";return`orders:page=${ge}:limit=${ke}:search=${Oe}:state=${me}`},Me=async(ge=!1)=>{var lt;if(!p){v.error="Orders endpoint unavailable.",v.items=[];return}const ke=$e(),Oe=ge?null:es(ke,r);if(Oe){u.recordCacheHit(),v.items=Oe.items,v.pagination={...v.pagination,...Oe.pagination},v.lastUpdated=Oe.lastUpdated;return}u.recordCacheMiss(),v.loading=!0,v.error="",W.value&&se&&W.value.abort();const me=se?new AbortController:null;W.value=me;const dt=u.startFetch();try{const w=Math.max(0,(v.pagination.current-1)*v.pagination.limit),{items:m,pagination:V}=await c.fetchOrders({endpoint:p,limit:v.pagination.limit,start:w,search:v.search.trim(),state:v.filterState,signal:me?me.signal:void 0});v.items=m,v.pagination={...v.pagination,...V,current:V.current&&V.current>0?V.current:1},v.selection.clear(),v.lastUpdated=new Date().toISOString(),Kt(ke,{items:m,pagination:v.pagination,lastUpdated:v.lastUpdated})}catch(w){if((w==null?void 0:w.name)==="AbortError")return;v.error=(lt=w==null?void 0:w.message)!=null?lt:"Unknown error"}finally{u.endFetch(dt),se&&W.value===me&&(W.value=null),v.loading=!1}},Fe=()=>{v.pagination.current=1,We($e()),Me(!0)},Ve=()=>{v.pagination.current=1,Me()},ne=ge=>{v.filterState=ge||"",v.pagination.current=1,Me()},L=ge=>{const ke=Number(ge);Number.isNaN(ke)||ke<1||ke===v.pagination.current||(v.pagination.current=ke,Me(!0))},$=()=>{v.selection.clear()},I=ge=>{ge&&(v.selection.has(ge)?v.selection.delete(ge):v.selection.add(ge))},B=()=>{v.pagination.current>=v.pagination.pages||(v.pagination.current+=1,Me(!0))},z=()=>{v.pagination.current<=1||(v.pagination.current-=1,Me(!0))},y=async(ge,ke="")=>{var Oe;if(!f)return null;try{return await c.fetchOrder({endpoint:f,id:ge,orderNumber:ke})}catch(me){return v.transitionError=(Oe=me==null?void 0:me.message)!=null?Oe:"Unknown error",null}},A=ge=>{if(!(ge!=null&&ge.id))return;const ke=v.items.findIndex(Oe=>Oe.id===ge.id);ke!==-1&&v.items.splice(ke,1,ge)},g=async ge=>{var ke;if(!N||!ge)return null;v.locking=!0,v.transitionError="";try{const Oe=await c.checkoutOrder({endpoint:N,id:ge});return Oe&&(A(Oe),De.value=Oe.id),Oe}catch(Oe){throw v.transitionError=(ke=Oe==null?void 0:Oe.message)!=null?ke:"Unknown error",Oe}finally{v.locking=!1}},ce=async(ge,{force:ke=!1}={})=>{if(!j||!ge)return null;try{const Oe=await c.checkinOrder({endpoint:j,id:ge,force:ke});return Oe&&(A(Oe),v.activeOrder&&v.activeOrder.id===Oe.id&&(v.activeOrder=Oe),De.value===Oe.id&&(De.value=null)),Oe}catch(Oe){return null}},re=async ge=>ce(ge,{force:!0}),be=async()=>{if(!De.value)return;const ge=De.value;De.value=null,await ce(ge)},K=async ge=>{var ke,Oe,me;if(!ge){v.transitionError="",v.activeOrder=null,await be();return}v.transitionError="";try{De.value&&De.value!==ge.id&&await be();const dt=await g(ge.id);if(dt){v.activeOrder=dt;return}const lt=await y(ge.id,ge.order_no);v.activeOrder=lt||{...ge,items:Array.isArray(ge.items)?ge.items:[],transactions:Array.isArray(ge.transactions)?ge.transactions:[],timeline:Array.isArray(ge.timeline)?ge.timeline:[],billing:(ke=ge.billing)!=null?ke:{}}}catch(dt){v.transitionError=(Oe=dt==null?void 0:dt.message)!=null?Oe:"Unknown error",v.activeOrder={...ge,items:Array.isArray(ge.items)?ge.items:[],transactions:Array.isArray(ge.transactions)?ge.transactions:[],timeline:Array.isArray(ge.timeline)?ge.timeline:[],billing:(me=ge.billing)!=null?me:{}}}},fe=async()=>{v.transitionError="",v.activeOrder=null,await be()},xe=async(ge,ke)=>{var Oe;if(!S)throw new Error("Transition endpoint unavailable.");v.saving=!0,v.transitionError="";try{const me=await c.transitionOrder({endpoint:S,id:ge,state:ke});return me&&(A(me),v.activeOrder&&v.activeOrder.id===me.id&&(v.activeOrder=me),We($e())),me}catch(me){throw v.transitionError=(Oe=me==null?void 0:me.message)!=null?Oe:"Unknown error",me}finally{v.saving=!1}},Ue=async(ge,ke)=>{var Oe;if(!C)throw new Error("Tracking endpoint unavailable.");v.saving=!0,v.transitionError="";try{const me=await c.updateOrderTracking({endpoint:C,id:ge,tracking:ke});return me&&(A(me),v.activeOrder&&v.activeOrder.id===me.id&&(v.activeOrder=me),We($e())),me}catch(me){throw v.transitionError=(Oe=me==null?void 0:me.message)!=null?Oe:"Unknown error",me}finally{v.saving=!1}},R=async(ge,ke="")=>{var Oe;if(!H)throw new Error("Invoice endpoint unavailable.");v.invoiceLoading=!0,v.transitionError="";try{const me=await c.fetchOrderInvoice({endpoint:H,id:ge,orderNumber:ke});if(!me)throw new Error("Invoice not available.");return me}catch(me){throw v.transitionError=(Oe=me==null?void 0:me.message)!=null?Oe:"Unknown error",me}finally{v.invoiceLoading=!1}},O=async()=>{var ge;if(!Y)throw new Error("Export endpoint unavailable.");v.exporting=!0,v.error="";try{const ke=await c.exportOrders({endpoint:Y,search:v.search.trim(),state:v.filterState});if(!ke)throw new Error("Export not available.");return ke}catch(ke){throw v.error=(ge=ke==null?void 0:ke.message)!=null?ge:"Export failed",ke}finally{v.exporting=!1}},F=async(ge,ke)=>{var Oe;if(!T)throw new Error("Send email endpoint unavailable.");v.saving=!0,v.transitionError="";try{const me=await c.sendOrderEmail({endpoint:T,id:ge,type:ke});return me&&(A(me),v.activeOrder&&v.activeOrder.id===me.id&&(v.activeOrder=me),We($e())),me}catch(me){throw v.transitionError=(Oe=me==null?void 0:me.message)!=null?Oe:"Failed to send email",me}finally{v.saving=!1}},ae=async(ge,{amountCents:ke,reference:Oe,note:me})=>{var dt;if(!h)throw new Error("Record transaction endpoint unavailable.");v.saving=!0,v.transitionError="";try{const lt=await c.recordTransaction({endpoint:h,id:ge,amountCents:ke,reference:Oe,note:me});return lt&&(A(lt),v.activeOrder&&v.activeOrder.id===lt.id&&(v.activeOrder=lt),We($e())),lt}catch(lt){throw v.transitionError=(dt=lt==null?void 0:lt.message)!=null?dt:"Failed to record payment",lt}finally{v.saving=!1}},Z=async ge=>{var ke;if(!_)throw new Error("Resend downloads endpoint unavailable.");v.saving=!0,v.transitionError="";try{const Oe=await c.resendDownloads({endpoint:_,id:ge});return Oe&&(A(Oe),v.activeOrder&&v.activeOrder.id===Oe.id&&(v.activeOrder=Oe),We($e())),Oe}catch(Oe){throw v.transitionError=(ke=Oe==null?void 0:Oe.message)!=null?ke:"Failed to resend downloads email",Oe}finally{v.saving=!1}},ee=async(ge,ke)=>{var Oe;if(!P)throw new Error("Reset download endpoint unavailable.");v.saving=!0,v.transitionError="";try{const me=await c.resetDownload({endpoint:P,downloadId:ge,orderId:ke});return me!=null&&me.order&&(A(me.order),v.activeOrder&&v.activeOrder.id===me.order.id&&(v.activeOrder=me.order),We($e())),me}catch(me){throw v.transitionError=(Oe=me==null?void 0:me.message)!=null?Oe:"Failed to reset download count",me}finally{v.saving=!1}},Q=async(ge,ke)=>{var Oe;if(!d)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(ge)||!ge.length)return{updated:[]};v.saving=!0;try{const me=await c.bulkTransitionOrders({endpoint:d,ids:ge,state:ke}),dt=Array.isArray(me.updated)?me.updated:[];return dt.forEach(lt=>{A(lt),v.activeOrder&&v.activeOrder.id===lt.id&&(v.activeOrder=lt)}),$(),{updated:dt}}catch(me){throw v.transitionError=(Oe=me==null?void 0:me.message)!=null?Oe:"Unknown error",me}finally{v.saving=!1}};return Ot(()=>{s&&Me()}),{state:v,loadOrders:Me,refresh:Fe,search:Ve,setFilterState:ne,goToPage:L,nextPage:B,previousPage:z,checkoutOrder:g,checkinOrder:ce,forceCheckinOrder:re,releaseLock:be,viewOrder:K,closeOrder:fe,transitionOrder:xe,bulkTransition:Q,updateTracking:Ue,downloadInvoice:R,exportOrders:O,sendEmail:F,recordTransaction:ae,resendDownloads:Z,resetDownload:ee,toggleSelection:I,clearSelection:$,metrics:u.metrics,addNote:async(ge,ke)=>{var Oe;if(!M)throw new Error("Note endpoint unavailable.");if(!ge||!ke||!ke.trim())return null;v.transitionError="",v.saving=!0;try{const me=await c.addOrderNote({endpoint:M,id:ge,message:ke});return me&&(A(me),v.activeOrder&&v.activeOrder.id===me.id&&(v.activeOrder=me)),me}catch(me){throw v.transitionError=(Oe=me==null?void 0:me.message)!=null?Oe:"Unknown error",me}finally{v.saving=!1}}}}function K0({endpoint:e="",token:t="",preload:o={},autoload:a=!0,cacheTTL:s=3e5}){var S,d,M;const r=wt({token:t}),c=ts("dashboard"),u=et({loading:!1,error:"",summary:(M=o.summary)!=null?M:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(d=(S=o.summary)==null?void 0:S.currency)!=null?d:"USD"},checklist:Array.isArray(o.checklist)?o.checklist:[],lastUpdated:null}),p=()=>"dashboard",f=async(C=!1)=>{var h,_;if(!e)return;const H=p(),Y=C?null:es(H,s);if(Y){c.recordCacheHit(),u.summary=Y.summary,u.checklist=Y.checklist,u.lastUpdated=Y.lastUpdated;return}c.recordCacheMiss(),u.loading=!0,u.error="";const T=c.startFetch();try{const P=await r.fetchDashboard({endpoint:e});u.summary=(h=P.summary)!=null?h:u.summary,u.checklist=Array.isArray(P.checklist)?P.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),Kt(H,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(P){u.error=(_=P==null?void 0:P.message)!=null?_:"Unknown error"}finally{c.endFetch(T),u.loading=!1}};return Ot(()=>{a&&(!Array.isArray(u.checklist)||!u.checklist.length)&&f()}),{state:u,refresh:f,metrics:c.metrics}}function j0({endpoints:e,token:t,preload:o={},autoload:a=!0,cacheTTL:s=3e5}){var W,Ne,Ie,v,De,$e,Me,Fe,Ve,ne,L,$,I,B,z,y,A;const r=wt({token:t}),c=ts("customers"),u=(W=e==null?void 0:e.list)!=null?W:"",p=(Ne=e==null?void 0:e.show)!=null?Ne:"",f=(v=(Ie=e==null?void 0:e.gdpr)==null?void 0:Ie.export)!=null?v:"",S=($e=(De=e==null?void 0:e.gdpr)==null?void 0:De.anonymise)!=null?$e:"",d=et({loading:!1,error:"",items:Array.isArray(o.items)?o.items:[],pagination:{total:(ne=(Ve=(Me=o.pagination)==null?void 0:Me.total)!=null?Ve:(Fe=o.items)==null?void 0:Fe.length)!=null?ne:0,limit:($=(L=o.pagination)==null?void 0:L.limit)!=null?$:20,pages:(B=(I=o.pagination)==null?void 0:I.pages)!=null?B:0,current:(y=(z=o.pagination)==null?void 0:z.current)!=null?y:1},search:"",activeCustomer:(A=o.active)!=null?A:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),M=typeof AbortController!="undefined",C=Qe(null),H=()=>{const g=d.pagination.current||1,ce=d.pagination.limit||20,re=d.search.trim();return`customers:page=${g}:limit=${ce}:search=${re}`},Y=async(g=!1)=>{var fe;if(!u){d.error="Customers endpoint unavailable.",d.items=[];return}const ce=H(),re=g?null:es(ce,s);if(re){c.recordCacheHit(),d.items=re.items,d.pagination={...d.pagination,...re.pagination},d.lastUpdated=re.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",C.value&&M&&C.value.abort();const be=M?new AbortController:null;C.value=be;const K=c.startFetch();try{const xe=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:Ue,pagination:R}=await r.fetchCustomers({endpoint:u,limit:d.pagination.limit,start:xe,search:d.search.trim(),signal:be?be.signal:void 0});d.items=Ue,d.pagination={...d.pagination,...R,current:R.current&&R.current>0?R.current:1},d.lastUpdated=new Date().toISOString(),Kt(ce,{items:Ue,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(xe){if((xe==null?void 0:xe.name)==="AbortError")return;d.error=(fe=xe==null?void 0:xe.message)!=null?fe:"Unknown error"}finally{c.endFetch(K),M&&C.value===be&&(C.value=null),d.loading=!1}},T=()=>{d.pagination.current=1,We(H()),Y(!0)},h=()=>{d.pagination.current=1,Y()},_=g=>{const ce=Number(g);Number.isNaN(ce)||ce<1||ce===d.pagination.current||(d.pagination.current=ce,Y(!0))},P=async g=>{var ce;if(!p||!(g!=null&&g.email)){d.activeCustomer=g||null;return}try{const re=await r.fetchCustomer({endpoint:p,email:g.email});d.activeCustomer=re||g}catch(re){d.error=(ce=re==null?void 0:re.message)!=null?ce:"Unknown error"}},N=()=>{d.activeCustomer=null,d.gdprMessage="",d.gdprSuccess=!1},j=async g=>{var ce;if(!f||!g){d.gdprMessage="GDPR export endpoint unavailable.",d.gdprSuccess=!1;return}d.gdprLoading=!0,d.gdprMessage="";try{const re=await r.gdprExport({endpoint:f,email:g});if(!re)throw new Error("No data returned");const be=new Blob([JSON.stringify(re,null,2)],{type:"application/json"}),K=URL.createObjectURL(be),fe=document.createElement("a");fe.href=K,fe.download=`gdpr-export-${g.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(K),d.gdprMessage="Data exported successfully.",d.gdprSuccess=!0}catch(re){d.gdprMessage=(ce=re==null?void 0:re.message)!=null?ce:"Export failed",d.gdprSuccess=!1}finally{d.gdprLoading=!1}},se=async g=>{var re;if(!S||!g){d.gdprMessage="GDPR anonymise endpoint unavailable.",d.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${g}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){d.gdprLoading=!0,d.gdprMessage="";try{const be=await r.gdprAnonymise({endpoint:S,email:g});d.gdprMessage=be.message||`Anonymised ${be.affected} order(s).`,d.gdprSuccess=!0,We(H()),Y(!0),setTimeout(()=>{d.activeCustomer=null,d.gdprMessage=""},2e3)}catch(be){d.gdprMessage=(re=be==null?void 0:be.message)!=null?re:"Anonymisation failed",d.gdprSuccess=!1}finally{d.gdprLoading=!1}}};return Ot(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&Y()}),{state:d,loadCustomers:Y,refresh:T,search:h,goToPage:_,viewCustomer:P,closeCustomer:N,gdprExport:j,gdprAnonymise:se,metrics:c.metrics}}function J0({endpoints:e,token:t,preload:o={},autoload:a=!0,cacheTTL:s=3e5}){var W,Ne,Ie,v,De,$e,Me,Fe,Ve,ne,L,$,I,B;const r=wt({token:t}),c=ts("coupons"),u=(W=e==null?void 0:e.list)!=null?W:"",p=(Ne=e==null?void 0:e.create)!=null?Ne:u,f=(Ie=e==null?void 0:e.update)!=null?Ie:u,S=(v=e==null?void 0:e.delete)!=null?v:u,d=et({loading:!1,saving:!1,error:"",items:Array.isArray(o.items)?o.items:[],pagination:{total:(Fe=(Me=(De=o.pagination)==null?void 0:De.total)!=null?Me:($e=o.items)==null?void 0:$e.length)!=null?Fe:0,limit:(ne=(Ve=o.pagination)==null?void 0:Ve.limit)!=null?ne:20,pages:($=(L=o.pagination)==null?void 0:L.pages)!=null?$:0,current:(B=(I=o.pagination)==null?void 0:I.current)!=null?B:1},search:"",activeCoupon:null,lastUpdated:null}),M=typeof AbortController!="undefined",C=Qe(null),H=()=>{const z=d.pagination.current||1,y=d.pagination.limit||20,A=d.search.trim();return`coupons:page=${z}:limit=${y}:search=${A}`},Y=async(z=!1)=>{var re;if(!u){d.error="Coupons endpoint unavailable.",d.items=[];return}const y=H(),A=z?null:es(y,s);if(A){c.recordCacheHit(),d.items=A.items,d.pagination={...d.pagination,...A.pagination},d.lastUpdated=A.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",C.value&&M&&C.value.abort();const g=M?new AbortController:null;C.value=g;const ce=c.startFetch();try{const be=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:K,pagination:fe}=await r.fetchCoupons({endpoint:u,limit:d.pagination.limit,start:be,search:d.search.trim(),signal:g?g.signal:void 0});d.items=K,d.pagination={...d.pagination,...fe,current:fe.current&&fe.current>0?fe.current:1},d.lastUpdated=new Date().toISOString(),Kt(y,{items:K,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(be){if((be==null?void 0:be.name)==="AbortError")return;d.error=(re=be==null?void 0:be.message)!=null?re:"Unknown error"}finally{c.endFetch(ce),M&&C.value===g&&(C.value=null),d.loading=!1}},T=()=>{d.pagination.current=1,We(H()),Y(!0)},h=()=>{d.pagination.current=1,Y()},_=z=>{const y=Number(z);Number.isNaN(y)||y<1||y===d.pagination.current||(d.pagination.current=y,Y(!0))},P=z=>{d.activeCoupon=z},N=z=>{const y=d.items.findIndex(A=>A.id===z.id);y===-1?d.items.unshift(z):d.items.splice(y,1,z)},j=async z=>{var y;d.saving=!0,d.error="";try{let A=null;return z.id?A=await r.updateCoupon({endpoint:f,id:z.id,data:z}):A=await r.createCoupon({endpoint:p,data:z}),A&&(N(A),d.activeCoupon&&d.activeCoupon.id===A.id&&(d.activeCoupon=A),We(H())),A}catch(A){throw d.error=(y=A==null?void 0:A.message)!=null?y:"Unknown error",A}finally{d.saving=!1}},se=async z=>{var y;if(!Array.isArray(z)||!z.length)return 0;d.saving=!0,d.error="";try{const A=await r.deleteCoupons({endpoint:S,ids:z});return A&&(d.items=d.items.filter(g=>!z.includes(g.id)),d.activeCoupon&&z.includes(d.activeCoupon.id)&&(d.activeCoupon=null),We(H())),A}catch(A){throw d.error=(y=A==null?void 0:A.message)!=null?y:"Unknown error",A}finally{d.saving=!1}};return Ot(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&Y()}),{state:d,loadCoupons:Y,refresh:T,search:h,goToPage:_,setActive:P,saveCoupon:j,deleteCoupons:se,metrics:c.metrics}}const Uo=(e={})=>{var f,S,d,M,C,H,Y,T,h,_,P,N,j,se,W,Ne,Ie,v,De;const t=(f=e.store)!=null?f:{},o=(S=e.payments)!=null?S:{},a=(d=e.visual)!=null?d:{},s=(M=e.visual_defaults)!=null?M:{},r=(H=(C=e.security)==null?void 0:C.rate_limits)!=null?H:{},c=Array.isArray(e.currencies)?e.currencies:[],u=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",p=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(Y=t.name)!=null?Y:"",email:(T=t.email)!=null?T:"",phone:(h=t.phone)!=null?h:""},payments:{configured:!!o.configured},base_currency:u,display_locale:p,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(_=a.primary_color)!=null?_:"",text_color:(P=a.text_color)!=null?P:"",surface_color:(N=a.surface_color)!=null?N:"",border_color:(j=a.border_color)!=null?j:"",muted_color:(se=a.muted_color)!=null?se:""},visual_defaults:{primary_color:(W=s.primary_color)!=null?W:"#4f6d7a",text_color:(Ne=s.text_color)!=null?Ne:"#1f2933",surface_color:(Ie=s.surface_color)!=null?Ie:"#ffffff",border_color:(v=s.border_color)!=null?v:"#e4e7ec",muted_color:(De=s.muted_color)!=null?De:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(r.checkout_ip_limit))?Number(r.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(r.checkout_email_limit))?Number(r.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(r.checkout_session_limit))?Number(r.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(r.checkout_window_minutes))?Number(r.checkout_window_minutes):Number.isFinite(Number(r.checkout_window))?Math.max(0,Math.ceil(Number(r.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(r.offline_ip_limit))?Number(r.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(r.offline_email_limit))?Number(r.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(r.offline_window_minutes))?Number(r.offline_window_minutes):Number.isFinite(Number(r.offline_window))?Math.max(0,Math.ceil(Number(r.offline_window)/60)):30}},currencies:c}};function W0({endpoints:e,token:t,preload:o={},autoload:a=!0,cacheTTL:s=3e5}){var M,C;const r=wt({token:t}),c=ts("settings"),u=(M=e==null?void 0:e.show)!=null?M:"",p=(C=e==null?void 0:e.update)!=null?C:u,f=et({loading:!1,saving:!1,error:"",message:"",values:Uo(o),lastUpdated:null}),S=async(H=!1)=>{var _;if(!u){f.error="Settings endpoint unavailable.";return}const Y="settings:data",T=H?null:es(Y,s);if(T){c.recordCacheHit(),f.values=T.values,f.lastUpdated=T.lastUpdated;return}c.recordCacheMiss(),f.loading=!0,f.error="";const h=c.startFetch();try{const P=await r.fetchSettings({endpoint:u});f.values=Uo(P),f.lastUpdated=new Date().toISOString(),Kt(Y,{values:f.values,lastUpdated:f.lastUpdated})}catch(P){throw f.error=(_=P==null?void 0:P.message)!=null?_:"Unknown error",P}finally{c.endFetch(h),f.loading=!1}},d=async H=>{var Y;if(!p)return f.error="Settings endpoint unavailable.",null;f.saving=!0,f.error="",f.message="";try{const T=await r.updateSettings({endpoint:p,data:H});return f.values=Uo(T),f.lastUpdated=new Date().toISOString(),f.message="Settings saved.",We("settings:data"),Kt("settings:data",{values:f.values,lastUpdated:f.lastUpdated}),f.values}catch(T){throw f.error=(Y=T==null?void 0:T.message)!=null?Y:"Unknown error",T}finally{f.saving=!1}};return Ot(()=>{a&&S()}),{state:f,refresh:S,save:d,metrics:c.metrics}}function q0({endpoints:e,token:t,preload:o={},autoload:a=!0,cacheTTL:s=3e5}){var P,N,j,se,W,Ne,Ie,v,De,$e,Me,Fe,Ve,ne;const r=wt({token:t}),c=ts("taxRates"),u=(P=e==null?void 0:e.list)!=null?P:"",p=(N=e==null?void 0:e.create)!=null?N:u,f=(j=e==null?void 0:e.update)!=null?j:u,S=(se=e==null?void 0:e.delete)!=null?se:u,d=et({loading:!1,saving:!1,error:"",items:Array.isArray(o.items)?o.items:[],pagination:{total:(v=(Ie=(W=o.pagination)==null?void 0:W.total)!=null?Ie:(Ne=o.items)==null?void 0:Ne.length)!=null?v:0,limit:($e=(De=o.pagination)==null?void 0:De.limit)!=null?$e:20,pages:(Fe=(Me=o.pagination)==null?void 0:Me.pages)!=null?Fe:0,current:(ne=(Ve=o.pagination)==null?void 0:Ve.current)!=null?ne:1},search:"",lastUpdated:null}),M=typeof AbortController!="undefined",C=Qe(null),H=()=>{const L=d.pagination.current||1,$=d.pagination.limit||20,I=d.search.trim();return`taxRates:page=${L}:limit=${$}:search=${I}`},Y=async(L=!1)=>{var y;if(!u){d.error="Tax endpoint unavailable.",d.items=[];return}const $=H(),I=L?null:es($,s);if(I){c.recordCacheHit(),d.items=I.items,d.pagination={...d.pagination,...I.pagination},d.lastUpdated=I.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",C.value&&M&&C.value.abort();const B=M?new AbortController:null;C.value=B;const z=c.startFetch();try{const A=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:g,pagination:ce}=await r.fetchTaxRates({endpoint:u,limit:d.pagination.limit,start:A,search:d.search.trim(),signal:B?B.signal:void 0});d.items=g,d.pagination={...d.pagination,...ce,current:ce.current&&ce.current>0?ce.current:1},d.lastUpdated=new Date().toISOString(),Kt($,{items:g,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(A){if((A==null?void 0:A.name)==="AbortError")return;d.error=(y=A==null?void 0:A.message)!=null?y:"Unknown error"}finally{c.endFetch(z),M&&C.value===B&&(C.value=null),d.loading=!1}},T=()=>{d.pagination.current=1,We(H()),Y(!0)},h=async L=>{var $;d.saving=!0,d.error="";try{const I=L.id?await r.updateTaxRate({endpoint:f,id:L.id,data:L}):await r.createTaxRate({endpoint:p,data:L});if(I){const B=d.items.findIndex(z=>z.id===I.id);B===-1?d.items.unshift(I):d.items.splice(B,1,I),We(H())}return I}catch(I){throw d.error=($=I==null?void 0:I.message)!=null?$:"Unknown error",I}finally{d.saving=!1}},_=async L=>{var $;if(!Array.isArray(L)||!L.length)return 0;d.saving=!0,d.error="";try{const I=await r.deleteTaxRates({endpoint:S,ids:L});return I&&(d.items=d.items.filter(B=>!L.includes(B.id)),We(H())),I}catch(I){throw d.error=($=I==null?void 0:I.message)!=null?$:"Unknown error",I}finally{d.saving=!1}};return Ot(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&Y()}),{state:d,loadRates:Y,refresh:T,saveRate:h,deleteRates:_,metrics:c.metrics}}function z0({endpoints:e,token:t,preload:o={},autoload:a=!0,cacheTTL:s=3e5}){var P,N,j,se,W,Ne,Ie,v,De,$e,Me,Fe,Ve,ne;const r=wt({token:t}),c=ts("shippingRules"),u=(P=e==null?void 0:e.list)!=null?P:"",p=(N=e==null?void 0:e.create)!=null?N:u,f=(j=e==null?void 0:e.update)!=null?j:u,S=(se=e==null?void 0:e.delete)!=null?se:u,d=et({loading:!1,saving:!1,error:"",items:Array.isArray(o.items)?o.items:[],pagination:{total:(v=(Ie=(W=o.pagination)==null?void 0:W.total)!=null?Ie:(Ne=o.items)==null?void 0:Ne.length)!=null?v:0,limit:($e=(De=o.pagination)==null?void 0:De.limit)!=null?$e:20,pages:(Fe=(Me=o.pagination)==null?void 0:Me.pages)!=null?Fe:0,current:(ne=(Ve=o.pagination)==null?void 0:Ve.current)!=null?ne:1},search:"",lastUpdated:null}),M=typeof AbortController!="undefined",C=Qe(null),H=()=>{const L=d.pagination.current||1,$=d.pagination.limit||20,I=d.search.trim();return`shippingRules:page=${L}:limit=${$}:search=${I}`},Y=async(L=!1)=>{var y;if(!u){d.error="Shipping endpoint unavailable.",d.items=[];return}const $=H(),I=L?null:es($,s);if(I){c.recordCacheHit(),d.items=I.items,d.pagination={...d.pagination,...I.pagination},d.lastUpdated=I.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",C.value&&M&&C.value.abort();const B=M?new AbortController:null;C.value=B;const z=c.startFetch();try{const A=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:g,pagination:ce}=await r.fetchShippingRules({endpoint:u,limit:d.pagination.limit,start:A,search:d.search.trim(),signal:B?B.signal:void 0});d.items=g,d.pagination={...d.pagination,...ce,current:ce.current&&ce.current>0?ce.current:1},d.lastUpdated=new Date().toISOString(),Kt($,{items:g,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(A){if((A==null?void 0:A.name)==="AbortError")return;d.error=(y=A==null?void 0:A.message)!=null?y:"Unknown error"}finally{c.endFetch(z),M&&C.value===B&&(C.value=null),d.loading=!1}},T=()=>{d.pagination.current=1,We(H()),Y(!0)},h=async L=>{var $;d.saving=!0,d.error="";try{const I=L.id?await r.updateShippingRule({endpoint:f,id:L.id,data:L}):await r.createShippingRule({endpoint:p,data:L});if(I){const B=d.items.findIndex(z=>z.id===I.id);B===-1?d.items.unshift(I):d.items.splice(B,1,I),We(H())}return I}catch(I){throw d.error=($=I==null?void 0:I.message)!=null?$:"Unknown error",I}finally{d.saving=!1}},_=async L=>{var $;if(!Array.isArray(L)||!L.length)return 0;d.saving=!0,d.error="";try{const I=await r.deleteShippingRules({endpoint:S,ids:L});return I&&(d.items=d.items.filter(B=>!L.includes(B.id)),We(H())),I}catch(I){throw d.error=($=I==null?void 0:I.message)!=null?$:"Unknown error",I}finally{d.saving=!1}};return Ot(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&Y()}),{state:d,loadRules:Y,refresh:T,saveRule:h,deleteRules:_,metrics:c.metrics}}function Q0({endpoints:e,token:t,preload:o={},autoload:a=!0,cacheTTL:s=3e5}){var h,_,P,N,j,se,W,Ne,Ie,v,De;const r=wt({token:t}),c=ts("logs"),u=(h=e==null?void 0:e.list)!=null?h:"",p=et({loading:!1,error:"",items:Array.isArray(o.items)?o.items:[],pagination:{total:(j=(N=(_=o.pagination)==null?void 0:_.total)!=null?N:(P=o.items)==null?void 0:P.length)!=null?j:0,limit:(W=(se=o.pagination)==null?void 0:se.limit)!=null?W:20,pages:(Ie=(Ne=o.pagination)==null?void 0:Ne.pages)!=null?Ie:0,current:(De=(v=o.pagination)==null?void 0:v.current)!=null?De:1},search:"",entity:"",lastUpdated:null}),f=typeof AbortController!="undefined",S=Qe(null),d=()=>{const $e=p.pagination.current||1,Me=p.pagination.limit||20,Fe=p.search.trim(),Ve=p.entity.trim();return`logs:page=${$e}:limit=${Me}:search=${Fe}:entity=${Ve}`},M=async($e=!1)=>{var L;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const Me=d(),Fe=$e?null:es(Me,s);if(Fe){c.recordCacheHit(),p.items=Fe.items,p.pagination={...p.pagination,...Fe.pagination},p.lastUpdated=Fe.lastUpdated;return}c.recordCacheMiss(),p.loading=!0,p.error="",f&&S.value&&S.value.abort();const Ve=f?new AbortController:null;S.value=Ve;const ne=c.startFetch();try{const $=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:I,pagination:B}=await r.fetchLogs({endpoint:u,limit:p.pagination.limit,start:$,search:p.search.trim(),entity:p.entity,signal:Ve?Ve.signal:void 0});p.items=I,p.pagination={...p.pagination,...B,current:B.current&&B.current>0?B.current:1},p.lastUpdated=new Date().toISOString(),Kt(Me,{items:I,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch($){if(($==null?void 0:$.name)==="AbortError")return;p.error=(L=$==null?void 0:$.message)!=null?L:"Unknown error"}finally{c.endFetch(ne),f&&S.value===Ve&&(S.value=null),p.loading=!1}},C=()=>{p.pagination.current=1,We(d()),M(!0)},H=()=>{p.pagination.current=1,M()},Y=$e=>{const Me=typeof $e=="string"?$e.trim():"";p.entity!==Me&&(p.entity=Me,p.pagination.current=1,M())},T=$e=>{const Me=Number($e);Number.isNaN(Me)||Me<1||Me===p.pagination.current||(p.pagination.current=Me,M(!0))};return Ot(()=>{a&&(!Array.isArray(p.items)||!p.items.length)&&M()}),{state:p,loadLogs:M,refresh:C,search:H,setEntity:Y,goToPage:T,metrics:c.metrics}}const Yi=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function Z0({endpoints:e={},token:t=""}){const o=wt({token:t}),a=et({loading:!1,saving:!1,error:"",config:Yi(),message:""}),s=async()=>{var u,p,f,S;if(e.show){a.loading=!0,a.error="";try{const d=await o.get(e.show);a.config=c((f=(p=(u=d==null?void 0:d.data)==null?void 0:u.config)!=null?p:d==null?void 0:d.config)!=null?f:{})}catch(d){a.error=(S=d.message)!=null?S:"Unable to load payment configuration."}finally{a.loading=!1}}},r=async u=>{var p,f,S,d,M,C,H;if(e.update){a.saving=!0,a.error="",a.message="";try{const Y=await o.post(e.update,{config:u});a.config=c((S=(f=(p=Y==null?void 0:Y.data)==null?void 0:p.config)!=null?f:Y==null?void 0:Y.config)!=null?S:{}),a.message=(C=(M=(d=Y==null?void 0:Y.data)==null?void 0:d.message)!=null?M:Y==null?void 0:Y.message)!=null?C:""}catch(Y){a.error=(H=Y.message)!=null?H:"Unable to save payment configuration."}finally{a.saving=!1}}},c=u=>{var f,S,d,M;const p=Yi();return{stripe:{...p.stripe,...(f=u.stripe)!=null?f:{}},paypal:{...p.paypal,...(S=u.paypal)!=null?S:{}},cod:{...p.cod,...(d=u.cod)!=null?d:{}},bank_transfer:{...p.bank_transfer,...(M=u.bank_transfer)!=null?M:{}}}};return{state:a,refresh:s,save:r}}const vt=(e,t)=>{if(!e)return"";const o=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,o);return a.searchParams.set("task",t),`${a.pathname}?${a.searchParams.toString()}`};function ew({endpoints:e={},token:t="",autoload:o=!0}){var A,g,ce,re,be,K,fe,xe,Ue,R,O,F,ae,Z,ee;const a=wt({token:t}),s=(A=e==null?void 0:e.base)!=null?A:"",r=(g=e==null?void 0:e.importPlatforms)!=null?g:vt(s,"api.import.platforms"),c=(ce=e==null?void 0:e.importUpload)!=null?ce:vt(s,"api.import.upload"),u=(re=e==null?void 0:e.importDetect)!=null?re:vt(s,"api.import.detect"),p=(be=e==null?void 0:e.importStart)!=null?be:vt(s,"api.import.start"),f=(K=e==null?void 0:e.importProgress)!=null?K:vt(s,"api.import.progress"),S=(fe=e==null?void 0:e.importCancel)!=null?fe:vt(s,"api.import.cancel"),d=(xe=e==null?void 0:e.importJobs)!=null?xe:vt(s,"api.import.jobs"),M=(Ue=e==null?void 0:e.importSamples)!=null?Ue:vt(s,"api.import.samples");(R=e==null?void 0:e.exportPlatforms)!=null||vt(s,"api.export.platforms");const C=(O=e==null?void 0:e.exportStart)!=null?O:vt(s,"api.export.start"),H=(F=e==null?void 0:e.exportProgress)!=null?F:vt(s,"api.export.progress"),Y=(ae=e==null?void 0:e.exportDownload)!=null?ae:vt(s,"api.export.download"),T=(Z=e==null?void 0:e.exportCancel)!=null?Z:vt(s,"api.export.cancel"),h=(ee=e==null?void 0:e.exportJobs)!=null?ee:vt(s,"api.export.jobs"),_=et({loading:!1,error:"",platforms:[],importFile:null,importFileId:"",importFilename:"",importFileSize:0,importRowCount:0,importHeaders:[],importPreview:[],importDetectedPlatform:null,importSelectedPlatform:"",importMapping:{},importUploading:!1,importStarting:!1,importJobId:null,importProgress:null,importPolling:!1,exportPlatform:"native",exportStarting:!1,exportJobId:null,exportProgress:null,exportPolling:!1,importJobs:[],exportJobs:[],jobsPagination:{total:0,limit:10,pages:0,current:1},samples:[]}),P=Qe(null),N=()=>{P.value&&(clearInterval(P.value),P.value=null),_.importPolling=!1,_.exportPolling=!1},j=async()=>{var Q,q,te;if(r){_.loading=!0,_.error="";try{const J=await a.get(r);_.platforms=(q=(Q=J.data)==null?void 0:Q.platforms)!=null?q:[]}catch(J){_.error=(te=J==null?void 0:J.message)!=null?te:"Failed to load platforms"}finally{_.loading=!1}}},se=async()=>{var Q,q;if(M)try{const te=await a.get(M);_.samples=(q=(Q=te.data)==null?void 0:Q.samples)!=null?q:[]}catch(te){_.samples=[]}},W=async Q=>{var q,te,J,Ee,de,he,Ae,Re,x,k;if(!c||!Q)return null;_.importUploading=!0,_.error="",_.importFile=Q;try{const le=new FormData;le.append("file",Q);const U=(q=(await a.request(c,{method:"POST",body:le})).data)!=null?q:{};return _.importFileId=(te=U.file_id)!=null?te:"",_.importFilename=(J=U.filename)!=null?J:Q.name,_.importFileSize=(Ee=U.size)!=null?Ee:Q.size,_.importRowCount=(de=U.row_count)!=null?de:0,_.importHeaders=(he=U.headers)!=null?he:[],_.importPreview=(Ae=U.preview)!=null?Ae:[],_.importDetectedPlatform=(Re=U.detected_platform)!=null?Re:null,_.importSelectedPlatform=(x=U.detected_platform)!=null?x:"",U}catch(le){return _.error=(k=le==null?void 0:le.message)!=null?k:"Failed to upload file",null}finally{_.importUploading=!1}},Ne=async Q=>{var q,te,J,Ee;if(!u||!(Q!=null&&Q.length))return null;try{const he=(q=(await a.post(u,{headers:Q})).data)!=null?q:{};return _.importDetectedPlatform=(te=he.platform)!=null?te:null,_.importMapping=(J=he.mapping)!=null?J:{},he}catch(de){return _.error=(Ee=de==null?void 0:de.message)!=null?Ee:"Failed to detect platform",null}},Ie=async(Q={})=>{var q,te,J,Ee,de;if(!p||!_.importFileId)return _.error="No file uploaded",null;if(!_.importSelectedPlatform)return _.error="Please select a platform",null;_.importStarting=!0,_.error="";try{const Ae=(q=(await a.post(p,{file_id:_.importFileId,platform:_.importSelectedPlatform,options:{...Q,mapping:_.importMapping}})).data)!=null?q:{};return _.importJobId=(te=Ae.job_id)!=null?te:null,_.importProgress={status:(J=Ae.status)!=null?J:"pending",total_rows:(Ee=Ae.total_rows)!=null?Ee:0,processed_rows:0,imported_products:0,imported_variants:0,imported_categories:0,skipped_rows:0,errors:[],warnings:[],percent:0},De(),Ae}catch(he){return _.error=(de=he==null?void 0:he.message)!=null?de:"Failed to start import",null}finally{_.importStarting=!1}},v=async()=>{var Q,q,te,J,Ee,de,he,Ae,Re,x,k,le;if(!(!f||!_.importJobId))try{const ue=`${f}&job_id=${_.importJobId}`,ve=(Q=(await a.get(ue)).data)!=null?Q:{};_.importProgress={status:(q=ve.status)!=null?q:"unknown",total_rows:(te=ve.total_rows)!=null?te:0,processed_rows:(J=ve.processed_rows)!=null?J:0,imported_products:(Ee=ve.imported_products)!=null?Ee:0,imported_variants:(de=ve.imported_variants)!=null?de:0,imported_categories:(he=ve.imported_categories)!=null?he:0,skipped_rows:(Ae=ve.skipped_rows)!=null?Ae:0,errors:(Re=ve.errors)!=null?Re:[],warnings:(x=ve.warnings)!=null?x:[],percent:(k=ve.progress_percent)!=null?k:ve.total_rows>0?Math.round(ve.processed_rows/ve.total_rows*100):0},["completed","failed","cancelled"].includes(ve.status)&&N()}catch(ue){_.error=(le=ue==null?void 0:ue.message)!=null?le:"Failed to get progress",N()}},De=()=>{N(),_.importPolling=!0,v(),P.value=setInterval(v,2e3)},$e=async()=>{var Q;if(!(!S||!_.importJobId))try{await a.post(S,{job_id:_.importJobId}),N(),_.importProgress={..._.importProgress,status:"cancelled"}}catch(q){_.error=(Q=q==null?void 0:q.message)!=null?Q:"Failed to cancel import"}},Me=()=>{N(),_.importFile=null,_.importFileId="",_.importFilename="",_.importFileSize=0,_.importRowCount=0,_.importHeaders=[],_.importPreview=[],_.importDetectedPlatform=null,_.importSelectedPlatform="",_.importMapping={},_.importJobId=null,_.importProgress=null,_.error=""},Fe=async(Q={})=>{var q,te,J,Ee,de;if(!C)return null;_.exportStarting=!0,_.error="";try{const Ae=(q=(await a.post(C,{platform:_.exportPlatform,options:Q})).data)!=null?q:{};return _.exportJobId=(te=Ae.job_id)!=null?te:null,_.exportProgress={status:(J=Ae.status)!=null?J:"pending",total_rows:(Ee=Ae.total_rows)!=null?Ee:0,processed_rows:0,percent:0},ne(),Ae}catch(he){return _.error=(de=he==null?void 0:he.message)!=null?de:"Failed to start export",null}finally{_.exportStarting=!1}},Ve=async()=>{var Q,q,te,J,Ee,de;if(!(!H||!_.exportJobId))try{const he=`${H}&job_id=${_.exportJobId}`,Re=(Q=(await a.get(he)).data)!=null?Q:{};_.exportProgress={status:(q=Re.status)!=null?q:"unknown",total_rows:(te=Re.total_rows)!=null?te:0,processed_rows:(J=Re.processed_rows)!=null?J:0,percent:Re.total_rows>0?Math.round(Re.processed_rows/Re.total_rows*100):0,file_path:(Ee=Re.file_path)!=null?Ee:""},["completed","failed","cancelled"].includes(Re.status)&&N()}catch(he){_.error=(de=he==null?void 0:he.message)!=null?de:"Failed to get progress",N()}},ne=()=>{N(),_.exportPolling=!0,Ve(),P.value=setInterval(Ve,2e3)},L=async()=>{var Q;if(!(!T||!_.exportJobId))try{await a.post(T,{job_id:_.exportJobId}),N(),_.exportProgress={..._.exportProgress,status:"cancelled"}}catch(q){_.error=(Q=q==null?void 0:q.message)!=null?Q:"Failed to cancel export"}},$=()=>{if(!Y||!_.exportJobId)return;const Q=`${Y}&job_id=${_.exportJobId}`;typeof window!="undefined"&&(window.location.href=Q)},I=()=>{N(),_.exportPlatform="native",_.exportJobId=null,_.exportProgress=null,_.error=""},B=async()=>{var Q,q;if(d)try{const te=`${d}&type=import&limit=${_.jobsPagination.limit}`,Ee=(Q=(await a.get(te)).data)!=null?Q:{};_.importJobs=(q=Ee.items)!=null?q:[]}catch(te){_.importJobs=[]}},z=async()=>{var Q,q;if(h)try{const te=`${h}&type=export&limit=${_.jobsPagination.limit}`,Ee=(Q=(await a.get(te)).data)!=null?Q:{};_.exportJobs=(q=Ee.items)!=null?q:[]}catch(te){_.exportJobs=[]}},y=async()=>{await Promise.all([j(),se(),B(),z()])};return Ot(()=>{o&&y()}),bo(()=>{N()}),{state:_,loadPlatforms:j,loadSamples:se,uploadFile:W,detectPlatform:Ne,startImport:Ie,cancelImport:$e,resetImport:Me,startExport:Fe,cancelExport:L,downloadExport:$,resetExport:I,loadImportJobs:B,loadExportJobs:z,refresh:y,stopPolling:N}}const tw={class:"nxp-ec-admin-app__shell"},sw={class:"nxp-ec-admin-app__header"},nw={class:"nxp-ec-admin-app__title"},ow={class:"nxp-ec-admin-app__lead"},aw={class:"nxp-ec-btn__progress-label"},iw={key:0,class:"nxp-ec-admin-nav"},rw=["href"],lw={key:12,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},cw={class:"nxp-ec-admin-panel__body"},dw={class:"nxp-ec-admin-panel__lead"},fn="nxp:admin:onboarding:dismissed",uw={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var hc,gc,Ec,Cc,Ac,Sc,bc,Tc,yc,Rc,Oc,xc,Pc,Nc,vc,Mc,Ic,kc,wc,$c,Dc,Lc,Yc,Uc,Xc,Fc,Gc,Vc,Hc,Bc,Kc,jc,Jc,Wc,qc,zc,Qc,Zc,ed,td,sd,nd,od,ad,id,rd,ld,cd,dd,ud,pd,_d,fd,md,hd,gd,Ed,Cd,Ad,Sd,bd,Td,yd,Rd,Od,xd,Pd,Nd,vd,Md,Id,kd,wd,$d,Dd,Ld,Yd,Ud,Xd,Fd,Gd,Vd,Hd,Bd,Kd,jd,Jd,Wd,qd,zd,Qd,Zd,eu,tu,su,nu,ou,au,iu,ru,lu,cu,du,uu,pu,_u,fu,mu,hu,gu,Eu,Cu,Au,Su,bu,Tu,yu,Ru,Ou,xu,Pu,Nu,vu,Mu,Iu,ku,wu,$u,Du,Lu,Yu,Uu,Xu,Fu,Gu,Vu,Hu,Bu,Ku,ju,Ju,Wu,qu,zu,Qu,Zu,ep,tp,sp,np,op,ap,ip,rp,lp,cp,dp,up,pp,_p,fp,mp,hp,gp,Ep,Cp,Ap,Sp,bp,Tp,yp,Rp,Op,xp,Pp,Np,vp,Mp,Ip,kp,wp,$p,Dp,Lp,Yp,Up,Xp,Fp,Gp,Vp,Hp,Bp,Kp,jp,Jp,Wp,qp,zp,Qp,Zp,e_,t_,s_,n_,o_,a_,i_,r_,l_,c_,d_,u_,p_,__,f_,m_,h_,g_,E_,C_,A_,S_,b_,T_,y_,R_,O_,x_,P_,N_;const t=e,{__:o}=F0(t.dataset),a=Te(()=>{var D;return((D=t.dataset)==null?void 0:D.appTitleKey)||"COM_NXPEASYCART"}),s=Te(()=>{var D;return((D=t.dataset)==null?void 0:D.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),r=(D,_e)=>{if(!D||typeof D!="string")return _e;try{return JSON.parse(D)}catch(Le){return _e}},c=Te(()=>{var D,_e;return!!((_e=(D=Gt==null?void 0:Gt.values)==null?void 0:D.show_advanced_mode)!=null&&_e)}),u=Te(()=>{var _e,Le;let D=[];if(Array.isArray((_e=t.config)==null?void 0:_e.navItems))D=t.config.navItems.map(nt=>({id:nt.id,title:nt.title,link:nt.link}));else{const nt=r((Le=t.dataset)==null?void 0:Le.navItems,[]);D=Array.isArray(nt)?nt.map(pt=>({id:pt.id,title:pt.title,link:pt.link})):[]}return c.value||(D=D.filter(nt=>nt.id!=="logs")),D}),p=D=>{const _e=u.value;if(!Array.isArray(_e))return"";const Le=_e.find(nt=>nt.id===D);return Le?Le.link:""},f=Te(()=>{var D,_e;return((D=t.config)==null?void 0:D.activeSection)||((_e=t.dataset)==null?void 0:_e.activeSection)||"dashboard"}),S=Te(()=>{var D,_e;return((D=t.config)==null?void 0:D.settingsTab)||((_e=t.dataset)==null?void 0:_e.settingsTab)||"general"}),d=D=>f.value===D,M=Te(()=>{var D,_e,Le,nt,pt;return Number.parseInt((pt=(nt=(_e=(D=t.config)==null?void 0:D.user)==null?void 0:_e.id)!=null?nt:(Le=t.dataset)==null?void 0:Le.userId)!=null?pt:0,10)||0}),C=Te(()=>d("dashboard")),H=Te(()=>d("products")),Y=Te(()=>d("categories")||d("products")),T=Te(()=>d("orders")),h=Te(()=>d("customers")),_=Te(()=>d("coupons")),P=Te(()=>d("settings")),N=Te(()=>d("tax")),j=Te(()=>d("shipping")),se=Te(()=>d("logs")),W=Te(()=>d("importexport")),Ne={...(gc=(hc=t.endpoints)==null?void 0:hc.products)!=null?gc:{},list:(bc=(Sc=(Cc=(Ec=t.endpoints)==null?void 0:Ec.products)==null?void 0:Cc.list)!=null?Sc:(Ac=t.dataset)==null?void 0:Ac.productsEndpoint)!=null?bc:"",create:(xc=(Oc=(yc=(Tc=t.endpoints)==null?void 0:Tc.products)==null?void 0:yc.create)!=null?Oc:(Rc=t.dataset)==null?void 0:Rc.productsEndpointCreate)!=null?xc:"",update:(Ic=(Mc=(Nc=(Pc=t.endpoints)==null?void 0:Pc.products)==null?void 0:Nc.update)!=null?Mc:(vc=t.dataset)==null?void 0:vc.productsEndpointUpdate)!=null?Ic:"",delete:(Lc=(Dc=(wc=(kc=t.endpoints)==null?void 0:kc.products)==null?void 0:wc.delete)!=null?Dc:($c=t.dataset)==null?void 0:$c.productsEndpointDelete)!=null?Lc:"",checkout:(Gc=(Fc=(Uc=(Yc=t.endpoints)==null?void 0:Yc.products)==null?void 0:Uc.checkout)!=null?Fc:(Xc=t.dataset)==null?void 0:Xc.productsEndpointCheckout)!=null?Gc:"",checkin:(jc=(Kc=(Hc=(Vc=t.endpoints)==null?void 0:Vc.products)==null?void 0:Hc.checkin)!=null?Kc:(Bc=t.dataset)==null?void 0:Bc.productsEndpointCheckin)!=null?jc:""},Ie={...(Wc=(Jc=t.endpoints)==null?void 0:Jc.categories)!=null?Wc:{},list:(ed=(Zc=(zc=(qc=t.endpoints)==null?void 0:qc.categories)==null?void 0:zc.list)!=null?Zc:(Qc=t.dataset)==null?void 0:Qc.categoriesEndpoint)!=null?ed:"",create:(ad=(od=(sd=(td=t.endpoints)==null?void 0:td.categories)==null?void 0:sd.create)!=null?od:(nd=t.dataset)==null?void 0:nd.categoriesEndpointCreate)!=null?ad:"",update:(dd=(cd=(rd=(id=t.endpoints)==null?void 0:id.categories)==null?void 0:rd.update)!=null?cd:(ld=t.dataset)==null?void 0:ld.categoriesEndpointUpdate)!=null?dd:"",delete:(md=(fd=(pd=(ud=t.endpoints)==null?void 0:ud.categories)==null?void 0:pd.delete)!=null?fd:(_d=t.dataset)==null?void 0:_d.categoriesEndpointDelete)!=null?md:"",checkout:(Ad=(Cd=(gd=(hd=t.endpoints)==null?void 0:hd.categories)==null?void 0:gd.checkout)!=null?Cd:(Ed=t.dataset)==null?void 0:Ed.categoriesEndpointCheckout)!=null?Ad:"",checkin:(Rd=(yd=(bd=(Sd=t.endpoints)==null?void 0:Sd.categories)==null?void 0:bd.checkin)!=null?yd:(Td=t.dataset)==null?void 0:Td.categoriesEndpointCheckin)!=null?Rd:""},v={...(xd=(Od=t.endpoints)==null?void 0:Od.orders)!=null?xd:{},list:(Id=(Md=(Nd=(Pd=t.endpoints)==null?void 0:Pd.orders)==null?void 0:Nd.list)!=null?Md:(vd=t.dataset)==null?void 0:vd.ordersEndpoint)!=null?Id:"",show:(Ld=(Dd=(wd=(kd=t.endpoints)==null?void 0:kd.orders)==null?void 0:wd.show)!=null?Dd:($d=t.dataset)==null?void 0:$d.ordersEndpointShow)!=null?Ld:"",transition:(Gd=(Fd=(Ud=(Yd=t.endpoints)==null?void 0:Yd.orders)==null?void 0:Ud.transition)!=null?Fd:(Xd=t.dataset)==null?void 0:Xd.ordersEndpointTransition)!=null?Gd:"",bulkTransition:(jd=(Kd=(Hd=(Vd=t.endpoints)==null?void 0:Vd.orders)==null?void 0:Hd.bulkTransition)!=null?Kd:(Bd=t.dataset)==null?void 0:Bd.ordersEndpointBulk)!=null?jd:"",note:(Qd=(zd=(Wd=(Jd=t.endpoints)==null?void 0:Jd.orders)==null?void 0:Wd.note)!=null?zd:(qd=t.dataset)==null?void 0:qd.ordersEndpointNote)!=null?Qd:"",tracking:(nu=(su=(eu=(Zd=t.endpoints)==null?void 0:Zd.orders)==null?void 0:eu.tracking)!=null?su:(tu=t.dataset)==null?void 0:tu.ordersEndpointTracking)!=null?nu:"",invoice:(lu=(ru=(au=(ou=t.endpoints)==null?void 0:ou.orders)==null?void 0:au.invoice)!=null?ru:(iu=t.dataset)==null?void 0:iu.ordersEndpointInvoice)!=null?lu:"",checkout:(_u=(pu=(du=(cu=t.endpoints)==null?void 0:cu.orders)==null?void 0:du.checkout)!=null?pu:(uu=t.dataset)==null?void 0:uu.ordersEndpointCheckout)!=null?_u:"",checkin:(Eu=(gu=(mu=(fu=t.endpoints)==null?void 0:fu.orders)==null?void 0:mu.checkin)!=null?gu:(hu=t.dataset)==null?void 0:hu.ordersEndpointCheckin)!=null?Eu:""},De=(yu=(Cu=t.endpoints)==null?void 0:Cu.customers)!=null?yu:{list:(Su=(Au=t.dataset)==null?void 0:Au.customersEndpoint)!=null?Su:"",show:(Tu=(bu=t.dataset)==null?void 0:bu.customersEndpointShow)!=null?Tu:""},$e=(wu=(Ru=t.endpoints)==null?void 0:Ru.coupons)!=null?wu:{list:(xu=(Ou=t.dataset)==null?void 0:Ou.couponsEndpoint)!=null?xu:"",create:(Nu=(Pu=t.dataset)==null?void 0:Pu.couponsEndpointCreate)!=null?Nu:"",update:(Mu=(vu=t.dataset)==null?void 0:vu.couponsEndpointUpdate)!=null?Mu:"",delete:(ku=(Iu=t.dataset)==null?void 0:Iu.couponsEndpointDelete)!=null?ku:""},Me=(Hu=($u=t.endpoints)==null?void 0:$u.tax)!=null?Hu:{list:(Lu=(Du=t.dataset)==null?void 0:Du.taxEndpoint)!=null?Lu:"",create:(Uu=(Yu=t.dataset)==null?void 0:Yu.taxEndpointCreate)!=null?Uu:"",update:(Fu=(Xu=t.dataset)==null?void 0:Xu.taxEndpointUpdate)!=null?Fu:"",delete:(Vu=(Gu=t.dataset)==null?void 0:Gu.taxEndpointDelete)!=null?Vu:""},Fe=(ep=(Bu=t.endpoints)==null?void 0:Bu.shipping)!=null?ep:{list:(ju=(Ku=t.dataset)==null?void 0:Ku.shippingEndpoint)!=null?ju:"",create:(Wu=(Ju=t.dataset)==null?void 0:Ju.shippingEndpointCreate)!=null?Wu:"",update:(zu=(qu=t.dataset)==null?void 0:qu.shippingEndpointUpdate)!=null?zu:"",delete:(Zu=(Qu=t.dataset)==null?void 0:Qu.shippingEndpointDelete)!=null?Zu:""},Ve=(lp=(tp=t.endpoints)==null?void 0:tp.digitalfiles)!=null?lp:{list:(np=(sp=t.dataset)==null?void 0:sp.digitalfilesEndpointList)!=null?np:"",upload:(ap=(op=t.dataset)==null?void 0:op.digitalfilesEndpointUpload)!=null?ap:"",delete:(rp=(ip=t.dataset)==null?void 0:ip.digitalfilesEndpointDelete)!=null?rp:""},ne=(fp=(cp=t.endpoints)==null?void 0:cp.settings)!=null?fp:{show:(up=(dp=t.dataset)==null?void 0:dp.settingsEndpointShow)!=null?up:"",update:(_p=(pp=t.dataset)==null?void 0:pp.settingsEndpointUpdate)!=null?_p:""},L=(Ep=(mp=t.endpoints)==null?void 0:mp.logs)!=null?Ep:{list:(gp=(hp=t.dataset)==null?void 0:hp.logsEndpoint)!=null?gp:""},$=(yp=(Cp=t.endpoints)==null?void 0:Cp.payments)!=null?yp:{show:(Sp=(Ap=t.dataset)==null?void 0:Ap.paymentsEndpointShow)!=null?Sp:"",update:(Tp=(bp=t.dataset)==null?void 0:bp.paymentsEndpointUpdate)!=null?Tp:""},I=(Pp=(Rp=t.endpoints)==null?void 0:Rp.importExport)!=null?Pp:{base:(xp=(Op=t.dataset)==null?void 0:Op.importExportEndpoint)!=null?xp:""},B=Te(()=>{var D;return r((D=t.dataset)==null?void 0:D.orderStates,[])}),{state:z,refresh:y}=K0({endpoint:($p=(wp=(Ip=(Np=t.endpoints)==null?void 0:Np.dashboard)!=null?Ip:(Mp=(vp=t.config)==null?void 0:vp.endpoints)==null?void 0:Mp.dashboard)!=null?wp:(kp=t.dataset)==null?void 0:kp.dashboardEndpoint)!=null?$p:"",token:t.csrfToken,preload:(Xp=(Lp=(Dp=t.config)==null?void 0:Dp.preload)==null?void 0:Lp.dashboard)!=null?Xp:{summary:r((Yp=t.dataset)==null?void 0:Yp.dashboardSummary,{}),checklist:r((Up=t.dataset)==null?void 0:Up.dashboardChecklist,[])},autoload:C.value}),{state:A,refresh:g,search:ce,filterByCategory:re,setSort:be,goToPage:K,createProduct:fe,updateProduct:xe,deleteProducts:Ue,checkoutProduct:R,checkinProduct:O,forceCheckinProduct:F,metrics:ae}=V0({endpoints:Ne,token:t.csrfToken,autoload:H.value}),{state:Z,refresh:ee,search:Q,goToPage:q,saveCategory:te,deleteCategories:J,loadOptions:Ee,checkoutCategory:de,checkinCategory:he,forceCheckinCategory:Ae,metrics:Re}=H0({endpoints:Ie,token:t.csrfToken,preload:(Bp=(Gp=(Fp=t.config)==null?void 0:Fp.preload)==null?void 0:Gp.categories)!=null?Bp:{items:r((Vp=t.dataset)==null?void 0:Vp.categoriesPreload,[]),pagination:r((Hp=t.dataset)==null?void 0:Hp.categoriesPreloadPagination,{})},autoload:Y.value}),x=Te(()=>(Array.isArray(Z.items)?Z.items:[]).map(_e=>{var Le,nt,pt;return{id:Number.parseInt((Le=_e==null?void 0:_e.id)!=null?Le:0,10)||0,title:String((nt=_e==null?void 0:_e.title)!=null?nt:"").trim(),slug:String((pt=_e==null?void 0:_e.slug)!=null?pt:"").trim(),parent_id:(_e==null?void 0:_e.parent_id)!==null&&(_e==null?void 0:_e.parent_id)!==void 0&&Number.parseInt(_e.parent_id,10)||null}}).filter(_e=>_e.title!=="")),{state:k,refresh:le,search:ue,setFilterState:U,viewOrder:ve,closeOrder:qe,forceCheckinOrder:Ke,releaseLock:je,transitionOrder:tt,goToPage:ge,bulkTransition:ke,toggleSelection:Oe,clearSelection:me,addNote:dt,updateTracking:lt,downloadInvoice:w,exportOrders:m,sendEmail:V,recordTransaction:Se,resendDownloads:ye,resetDownload:X,metrics:pe}=B0({endpoints:v,token:t.csrfToken,states:B.value,preload:(qp=(jp=(Kp=t.config)==null?void 0:Kp.preload)==null?void 0:jp.orders)!=null?qp:{items:r((Jp=t.dataset)==null?void 0:Jp.ordersPreload,[]),pagination:r((Wp=t.dataset)==null?void 0:Wp.ordersPreloadPagination,{})},autoload:T.value}),{state:G,refresh:Ye,search:Je,goToPage:st,viewCustomer:Dt,closeCustomer:Ft,gdprExport:Lt,gdprAnonymise:Xs}=j0({endpoints:{...De,gdpr:(Qp=(zp=t.endpoints)==null?void 0:zp.gdpr)!=null?Qp:{}},token:t.csrfToken,preload:(n_=(e_=(Zp=t.config)==null?void 0:Zp.preload)==null?void 0:e_.customers)!=null?n_:{items:r((t_=t.dataset)==null?void 0:t_.customersPreload,[]),pagination:r((s_=t.dataset)==null?void 0:s_.customersPreloadPagination,{})},autoload:h.value}),{state:Ss,refresh:at,search:cs,goToPage:Yt,saveCoupon:bs,deleteCoupons:Ts}=J0({endpoints:(a_=(o_=t.endpoints)==null?void 0:o_.coupons)!=null?a_:$e,token:t.csrfToken,preload:(d_=(r_=(i_=t.config)==null?void 0:i_.preload)==null?void 0:r_.coupons)!=null?d_:{items:r((l_=t.dataset)==null?void 0:l_.couponsPreload,[]),pagination:r((c_=t.dataset)==null?void 0:c_.couponsPreloadPagination,{})},autoload:_.value}),Fs=(f_=(p_=(u_=t.config)==null?void 0:u_.preload)==null?void 0:p_.settings)!=null?f_:r((__=t.dataset)==null?void 0:__.settingsPreload,{}),{state:Gt,refresh:mn,save:qn}=W0({endpoints:ne,token:t.csrfToken,preload:Fs,autoload:P.value}),Xo=Te(()=>{var _e,Le;const D=(Le=(_e=t.dataset)==null?void 0:_e.baseCurrency)!=null?Le:"";return typeof D=="string"?D.trim().toUpperCase():""}),Fo=Te(()=>{var _e,Le;const D=(Le=(_e=Gt==null?void 0:Gt.values)==null?void 0:_e.base_currency)!=null?Le:"";return typeof D=="string"?D.trim().toUpperCase():""}),hn=Te(()=>{const D=Fo.value||Xo.value;return D!==""?D:"USD"}),pw=Te(()=>{var _e,Le;const D=(Le=(_e=t.dataset)==null?void 0:_e.mediaModalUrl)!=null?Le:"";return typeof D=="string"?D.trim():""}),_w=Te(()=>{var _e,Le,nt,pt,Mt;const D=(pt=(nt=(_e=t.config)==null?void 0:_e.siteRoot)!=null?nt:(Le=t.dataset)==null?void 0:Le.siteRoot)!=null?pt:"";return typeof D=="string"&&D.trim()!==""?D.trim():typeof window!="undefined"&&((Mt=window.location)!=null&&Mt.origin)?window.location.origin:""}),fw=D=>{switch(D){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_PUBLISH_CART_MODULE":return{id:"publish-cart-module",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_DESC",titleFallback:"Publish the cart module",descriptionFallback:"Add the cart module to a template position so customers can see their shopping cart.",link:"index.php?option=com_modules&filter[module]=mod_nxpeasycart_cart"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:p("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:p("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:p("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:D||"step",titleKey:D||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:D||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:p("dashboard")||""}}},Go=Te(()=>(Array.isArray(z.checklist)?z.checklist:[]).map(_e=>{const Le=fw(_e.label);return{id:Le.id,completed:!!_e.completed,link:_e.link||Le.link||"",label:_e.label,titleKey:Le.titleKey,descriptionKey:Le.descriptionKey,titleFallback:Le.titleFallback,descriptionFallback:Le.descriptionFallback}})),Vo=Te(()=>Go.value.some(D=>!D.completed)),pc=Te(()=>{const D=Go.value;if(!D.length)return{completed:0,total:0,percent:0};const _e=D.filter(Le=>Le.completed).length;return{completed:_e,total:D.length,percent:Math.round(_e/D.length*100)}}),mw=Te(()=>{const{completed:D,total:_e}=pc.value;return`${D}/${_e}`}),hw=Te(()=>{const{percent:D}=pc.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${D}%, #e9ecef ${D}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:D>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),gn=Qe(!1),gw=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(fn,"0")}catch(D){}gn.value=!0},_c=()=>{if(gn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(fn,"1")}catch(D){}},Ew=D=>{D&&typeof D.link=="string"&&D.link!==""&&(_c(),typeof window!="undefined"&&(window.location.href=D.link))};ct(Vo,D=>{if(!D&&(gn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(fn,"1")}catch(_e){}});const Cw=(C_=(h_=(m_=t.config)==null?void 0:m_.preload)==null?void 0:h_.tax)!=null?C_:{items:r((g_=t.dataset)==null?void 0:g_.taxPreload,[]),pagination:r((E_=t.dataset)==null?void 0:E_.taxPreloadPagination,{})},{state:Aw,refresh:En,saveRate:Sw,deleteRates:bw}=q0({endpoints:Me,token:t.csrfToken,preload:Cw,autoload:N.value||P.value}),Tw=(y_=(S_=(A_=t.config)==null?void 0:A_.preload)==null?void 0:S_.shipping)!=null?y_:{items:r((b_=t.dataset)==null?void 0:b_.shippingPreload,[]),pagination:r((T_=t.dataset)==null?void 0:T_.shippingPreloadPagination,{})},{state:yw,refresh:Cn,saveRule:Rw,deleteRules:Ow}=z0({endpoints:Fe,token:t.csrfToken,preload:Tw,autoload:j.value||P.value}),xw=(N_=(O_=(R_=t.config)==null?void 0:R_.preload)==null?void 0:O_.logs)!=null?N_:{items:r((x_=t.dataset)==null?void 0:x_.logsPreload,[]),pagination:r((P_=t.dataset)==null?void 0:P_.logsPreloadPagination,{})},{state:Pw,refresh:fc,search:Nw,setEntity:vw,goToPage:Mw}=Q0({endpoints:L,token:t.csrfToken,preload:xw,autoload:se.value}),{state:Iw,refresh:Ho,save:kw}=Z0({endpoints:$,token:t.csrfToken}),{state:ww,uploadFile:$w,startImport:Dw,cancelImport:Lw,resetImport:Yw,startExport:Uw,cancelExport:Xw,downloadExport:Fw,resetExport:Gw,refresh:mc}=ew({endpoints:I,token:t.csrfToken,autoload:W.value});ct(f,(D,_e)=>{switch(_e==="orders"&&D!=="orders"&&(qe(),je==null||je()),D){case"dashboard":y();break;case"products":g(),ee();break;case"categories":ee();break;case"orders":le();break;case"customers":Ye();break;case"coupons":at();break;case"tax":En();break;case"shipping":Cn();break;case"settings":mn(),En(),Cn(),Ho();break;case"logs":fc();break;case"importexport":mc();break}}),Ot(()=>{if(typeof window!="undefined"){const D=()=>({products:ae.value,categories:Re.value,orders:pe.value,cache:Di()}),_e=()=>{const Le=D();return console.group("[NXP Easy Cart] Performance Metrics"),console.table({Products:Le.products,Categories:Le.categories,Orders:Le.orders}),console.log("Cache Status:",Le.cache),console.groupEnd(),Le};window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset,getMetrics:D,logMetrics:_e,clearCache:We,getCacheStatus:Di};try{const Le=window.localStorage.getItem(fn);Vo.value?Le!=="1"&&(gn.value=!0):window.localStorage.setItem(fn,"1")}catch(Le){}}P.value&&Ho()});const Vw=()=>{g()},Hw=()=>{ce()},Bw=D=>{K(D)},Kw=D=>{re(D)},jw=D=>{be(D)},Jw=async D=>{try{await fe(D),g(),ee(),We("dashboard"),y(!0)}catch(_e){}},Ww=async({id:D,data:_e})=>{try{await xe(D,_e),g(),ee()}catch(Le){}},qw=async D=>{try{await Ue(D),g(),ee()}catch(_e){}},zw=()=>{ee()},Qw=()=>{Q()},Zw=D=>{q(D)},e$=async D=>{try{await te(D),ee()}catch(_e){}},t$=async D=>{try{await J(D),ee()}catch(_e){}},s$=()=>{y()},n$=()=>{le()},o$=()=>{ue()},a$=D=>{U(D)},i$=D=>{ve(D)},r$=()=>{qe()},l$=async({id:D,state:_e})=>{try{await tt(D,_e)}catch(Le){}},c$=D=>{ge(D)},d$=async({ids:D,state:_e})=>{try{await ke(D,_e)}catch(Le){}},u$=D=>{Oe(D)},p$=()=>{me()},_$=async({id:D,message:_e})=>{await dt(D,_e)},f$=async D=>{if(!(D!=null&&D.id))return;const{id:_e,...Le}=D;try{await lt(_e,Le)}catch(nt){}},m$=async D=>{!(D!=null&&D.id)||!(D!=null&&D.type)||await V(D.id,D.type)},h$=async D=>{if(D!=null&&D.id)try{await Se(D.id,{amountCents:D.amountCents,reference:D.reference,note:D.note})}catch(_e){}},g$=async D=>{if(D!=null&&D.id)try{await ye(D.id)}catch(_e){}},E$=async D=>{if(D!=null&&D.download_id)try{await X(D.download_id,D.order_id)}catch(_e){}},C$=async D=>{if(!D)return;const _e=await w(D);if(!(_e!=null&&_e.content))return;const Le=atob(_e.content),nt=new Uint8Array(Le.length);for(let ys=0;ys<Le.length;ys+=1)nt[ys]=Le.charCodeAt(ys);const pt=new Blob([nt],{type:"application/pdf"}),Mt=window.URL.createObjectURL(pt),Ut=document.createElement("a");Ut.href=Mt,Ut.download=_e.filename||"invoice.pdf",document.body.appendChild(Ut),Ut.click(),document.body.removeChild(Ut),setTimeout(()=>window.URL.revokeObjectURL(Mt),1e3)},A$=async()=>{const D=await m();if(!(D!=null&&D.content))return;const _e=atob(D.content),Le=new Uint8Array(_e.length);for(let Ut=0;Ut<_e.length;Ut+=1)Le[Ut]=_e.charCodeAt(Ut);const nt=new Blob([Le],{type:"text/csv;charset=utf-8"}),pt=window.URL.createObjectURL(nt),Mt=document.createElement("a");Mt.href=pt,Mt.download=D.filename||"orders-export.csv",document.body.appendChild(Mt),Mt.click(),document.body.removeChild(Mt),setTimeout(()=>window.URL.revokeObjectURL(pt),1e3)},S$=()=>{Ye()},b$=()=>{Je()},T$=D=>{st(D)},y$=D=>{Dt(D)},R$=()=>{Ft()},O$=D=>{Lt(D)},x$=D=>{Xs(D)},P$=()=>{at()},N$=()=>{cs()},v$=D=>{Yt(D)},M$=async D=>{try{await bs(D)}catch(_e){}},I$=async D=>{try{await Ts(D)}catch(_e){}},k$=()=>{mn(!0)},w$=async D=>{try{await qn(D),We("dashboard"),y(!0)}catch(_e){}},$$=()=>{En()},D$=async D=>{try{await Sw(D),En()}catch(_e){}},L$=async D=>{try{await bw(D),En()}catch(_e){}},Y$=()=>{Cn()},U$=async D=>{try{await Rw(D),Cn()}catch(_e){}},X$=async D=>{try{await Ow(D),Cn()}catch(_e){}},F$=()=>{fc()},G$=()=>{Nw()},V$=D=>{vw(D)},H$=D=>{Mw(D)},B$=()=>{Ho()},K$=async D=>{await kw(D),We("dashboard"),y(!0)},j$=()=>{mc()},J$=async D=>{await $w(D)},W$=async()=>{await Dw()},q$=async()=>{await Lw()},z$=()=>{Yw()},Q$=async()=>{await Uw()},Z$=async()=>{await Xw()},eD=()=>{Fw()},tD=()=>{Gw()};return(D,_e)=>(E(),Tt(dh,null,{default:Na(()=>{var Le,nt,pt,Mt,Ut,ys;return[n("section",tw,[n("header",sw,[n("div",null,[n("h1",nw,l(i(o)(a.value,(nt=(Le=t.dataset)==null?void 0:Le.appTitle)!=null?nt:"NXP Easy Cart",[],"appTitle")),1),n("p",ow,l(i(o)(s.value,(Mt=(pt=t.dataset)==null?void 0:pt.appLead)!=null?Mt:"Manage your storefront from one place.",[],"appLead")),1)]),oe(n("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:Ht(hw.value),onClick:gw},[Pe(l(i(o)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),n("span",aw,l(mw.value),1)],4),[[Ds,Vo.value]])]),u.value.length?(E(),b("nav",iw,[(E(!0),b(we,null,Ge(u.value,zn=>(E(),b("a",{key:zn.id,href:zn.link,class:He({"is-active":zn.id===f.value})},l(zn.title),11,rw))),128))])):ie("",!0),f.value==="dashboard"?(E(),Tt(Vh,{key:1,state:i(z),translate:i(o),onRefresh:s$},null,8,["state","translate"])):f.value==="products"?(E(),Tt(XA,{key:2,state:i(A),translate:i(o),"base-currency":hn.value,"category-options":x.value,"media-modal-url":pw.value,"digital-endpoints":i(Ve),"csrf-token":t.csrfToken,"checkout-product":i(R),"checkin-product":i(O),"force-checkin-product":i(F),"current-user-id":M.value,onCreate:Jw,onUpdate:Ww,onDelete:qw,onRefresh:Vw,onSearch:Hw,onPage:Bw,onFilterCategory:Kw,onSort:jw},null,8,["state","translate","base-currency","category-options","media-modal-url","digital-endpoints","csrf-token","checkout-product","checkin-product","force-checkin-product","current-user-id"])):f.value==="categories"?(E(),Tt(GS,{key:3,state:i(Z),translate:i(o),"load-options":i(Ee),"checkout-category":i(de),"checkin-category":i(he),"force-checkin-category":i(Ae),"current-user-id":M.value,onRefresh:zw,onSearch:Qw,onPage:Zw,onSave:e$,onDelete:t$},null,8,["state","translate","load-options","checkout-category","checkin-category","force-checkin-category","current-user-id"])):f.value==="orders"?(E(),Tt(Ay,{key:4,state:i(k),translate:i(o),"site-root":_w.value,"current-user-id":M.value,"force-checkin-order":i(Ke),onRefresh:n$,onSearch:o$,onFilter:a$,onView:i$,onClose:r$,onTransition:l$,onPage:c$,onBulkTransition:d$,onToggleSelection:u$,onClearSelection:p$,onAddNote:_$,onSaveTracking:f$,onSendEmail:m$,onRecordPayment:h$,onResendDownloads:g$,onResetDownload:E$,onInvoice:C$,onExport:A$},null,8,["state","translate","site-root","current-user-id","force-checkin-order"])):f.value==="customers"?(E(),Tt(bR,{key:5,state:i(G),translate:i(o),"base-currency":hn.value,onRefresh:S$,onSearch:b$,onPage:T$,onView:y$,onClose:R$,onGdprExport:O$,onGdprAnonymise:x$},null,8,["state","translate","base-currency"])):f.value==="coupons"?(E(),Tt(UO,{key:6,state:i(Ss),translate:i(o),"base-currency":hn.value,onRefresh:P$,onSearch:N$,onPage:v$,onSave:M$,onDelete:I$},null,8,["state","translate","base-currency"])):f.value==="tax"?(E(),Tt(rM,{key:7,state:i(Aw),translate:i(o),onRefresh:$$,onSave:D$,onDelete:L$},null,8,["state","translate"])):f.value==="shipping"?(E(),Tt(CI,{key:8,state:i(yw),translate:i(o),"base-currency":hn.value,onRefresh:Y$,onSave:U$,onDelete:X$},null,8,["state","translate","base-currency"])):f.value==="settings"?(E(),Tt(QN,{key:9,"settings-state":i(Gt),"payments-state":i(Iw),translate:i(o),"base-currency":hn.value,"initial-tab":S.value,onRefreshSettings:k$,onSaveSettings:w$,onRefreshPayments:B$,onSavePayments:K$},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):f.value==="logs"&&c.value?(E(),Tt(sk,{key:10,state:i(Pw),translate:i(o),onRefresh:F$,onSearch:G$,onFilter:V$,onPage:H$},null,8,["state","translate"])):f.value==="importexport"?(E(),Tt(b0,{key:11,state:i(ww),translate:i(o),onRefresh:j$,onUploadFile:J$,onStartImport:W$,onCancelImport:q$,onResetImport:z$,onStartExport:Q$,onCancelExport:Z$,onDownloadExport:eD,onResetExport:tD},null,8,["state","translate"])):(E(),b("div",lw,[n("div",cw,[n("p",dw,l(i(o)(s.value,(ys=(Ut=t.dataset)==null?void 0:Ut.appLead)!=null?ys:"This section will be available soon.",[],"appLead")),1)])]))]),_t(Y0,{visible:gn.value,steps:Go.value,translate:i(o),onClose:_c,onNavigate:Ew},null,8,["visible","steps","translate"])]}),_:1}))}},Wn=document.getElementById("nxp-ec-admin-app");if(!Wn)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(Ui=Wn.getAttribute("data-csrf-token"))!=null?Ui:"",t=Object.assign({},Wn.dataset);let o={};if(t.config)try{o=JSON.parse(t.config)}catch(Y){console.warn("[NXP Easy Cart] Failed to parse admin config payload",Y)}const a={...(Fi=(Xi=o==null?void 0:o.endpoints)==null?void 0:Xi.products)!=null?Fi:{},list:(Bi=(Hi=(Vi=(Gi=o==null?void 0:o.endpoints)==null?void 0:Gi.products)==null?void 0:Vi.list)!=null?Hi:t.productsEndpoint)!=null?Bi:"",create:(Wi=(Ji=(ji=(Ki=o==null?void 0:o.endpoints)==null?void 0:Ki.products)==null?void 0:ji.create)!=null?Ji:t.productsEndpointCreate)!=null?Wi:"",update:(Zi=(Qi=(zi=(qi=o==null?void 0:o.endpoints)==null?void 0:qi.products)==null?void 0:zi.update)!=null?Qi:t.productsEndpointUpdate)!=null?Zi:"",delete:(nr=(sr=(tr=(er=o==null?void 0:o.endpoints)==null?void 0:er.products)==null?void 0:tr.delete)!=null?sr:t.productsEndpointDelete)!=null?nr:"",checkout:(rr=(ir=(ar=(or=o==null?void 0:o.endpoints)==null?void 0:or.products)==null?void 0:ar.checkout)!=null?ir:t.productsEndpointCheckout)!=null?rr:"",checkin:(ur=(dr=(cr=(lr=o==null?void 0:o.endpoints)==null?void 0:lr.products)==null?void 0:cr.checkin)!=null?dr:t.productsEndpointCheckin)!=null?ur:""},s={...(_r=(pr=o==null?void 0:o.endpoints)==null?void 0:pr.categories)!=null?_r:{},list:(gr=(hr=(mr=(fr=o==null?void 0:o.endpoints)==null?void 0:fr.categories)==null?void 0:mr.list)!=null?hr:t.categoriesEndpoint)!=null?gr:"",create:(Sr=(Ar=(Cr=(Er=o==null?void 0:o.endpoints)==null?void 0:Er.categories)==null?void 0:Cr.create)!=null?Ar:t.categoriesEndpointCreate)!=null?Sr:"",update:(Rr=(yr=(Tr=(br=o==null?void 0:o.endpoints)==null?void 0:br.categories)==null?void 0:Tr.update)!=null?yr:t.categoriesEndpointUpdate)!=null?Rr:"",delete:(Nr=(Pr=(xr=(Or=o==null?void 0:o.endpoints)==null?void 0:Or.categories)==null?void 0:xr.delete)!=null?Pr:t.categoriesEndpointDelete)!=null?Nr:"",checkout:(kr=(Ir=(Mr=(vr=o==null?void 0:o.endpoints)==null?void 0:vr.categories)==null?void 0:Mr.checkout)!=null?Ir:t.categoriesEndpointCheckout)!=null?kr:"",checkin:(Lr=(Dr=($r=(wr=o==null?void 0:o.endpoints)==null?void 0:wr.categories)==null?void 0:$r.checkin)!=null?Dr:t.categoriesEndpointCheckin)!=null?Lr:""},r={...(Ur=(Yr=o==null?void 0:o.endpoints)==null?void 0:Yr.orders)!=null?Ur:{},list:(Vr=(Gr=(Fr=(Xr=o==null?void 0:o.endpoints)==null?void 0:Xr.orders)==null?void 0:Fr.list)!=null?Gr:t.ordersEndpoint)!=null?Vr:"",show:(jr=(Kr=(Br=(Hr=o==null?void 0:o.endpoints)==null?void 0:Hr.orders)==null?void 0:Br.show)!=null?Kr:t.ordersEndpointShow)!=null?jr:"",transition:(zr=(qr=(Wr=(Jr=o==null?void 0:o.endpoints)==null?void 0:Jr.orders)==null?void 0:Wr.transition)!=null?qr:t.ordersEndpointTransition)!=null?zr:"",bulkTransition:(tl=(el=(Zr=(Qr=o==null?void 0:o.endpoints)==null?void 0:Qr.orders)==null?void 0:Zr.bulkTransition)!=null?el:t.ordersEndpointBulk)!=null?tl:"",note:(al=(ol=(nl=(sl=o==null?void 0:o.endpoints)==null?void 0:sl.orders)==null?void 0:nl.note)!=null?ol:t.ordersEndpointNote)!=null?al:"",tracking:(cl=(ll=(rl=(il=o==null?void 0:o.endpoints)==null?void 0:il.orders)==null?void 0:rl.tracking)!=null?ll:t.ordersEndpointTracking)!=null?cl:"",invoice:(_l=(pl=(ul=(dl=o==null?void 0:o.endpoints)==null?void 0:dl.orders)==null?void 0:ul.invoice)!=null?pl:t.ordersEndpointInvoice)!=null?_l:"",checkout:(gl=(hl=(ml=(fl=o==null?void 0:o.endpoints)==null?void 0:fl.orders)==null?void 0:ml.checkout)!=null?hl:t.ordersEndpointCheckout)!=null?gl:"",checkin:(Sl=(Al=(Cl=(El=o==null?void 0:o.endpoints)==null?void 0:El.orders)==null?void 0:Cl.checkin)!=null?Al:t.ordersEndpointCheckin)!=null?Sl:""},c=(Rl=(bl=o==null?void 0:o.endpoints)==null?void 0:bl.customers)!=null?Rl:{list:(Tl=t.customersEndpoint)!=null?Tl:"",show:(yl=t.customersEndpointShow)!=null?yl:""},u=(Nl=(Ol=o==null?void 0:o.endpoints)==null?void 0:Ol.gdpr)!=null?Nl:{export:(xl=t.gdprEndpointExport)!=null?xl:"",anonymise:(Pl=t.gdprEndpointAnonymise)!=null?Pl:""},p=($l=(vl=o==null?void 0:o.endpoints)==null?void 0:vl.coupons)!=null?$l:{list:(Ml=t.couponsEndpoint)!=null?Ml:"",create:(Il=t.couponsEndpointCreate)!=null?Il:"",update:(kl=t.couponsEndpointUpdate)!=null?kl:"",delete:(wl=t.couponsEndpointDelete)!=null?wl:""},f=(Fl=(Dl=o==null?void 0:o.endpoints)==null?void 0:Dl.tax)!=null?Fl:{list:(Ll=t.taxEndpoint)!=null?Ll:"",create:(Yl=t.taxEndpointCreate)!=null?Yl:"",update:(Ul=t.taxEndpointUpdate)!=null?Ul:"",delete:(Xl=t.taxEndpointDelete)!=null?Xl:""},S=(jl=(Gl=o==null?void 0:o.endpoints)==null?void 0:Gl.shipping)!=null?jl:{list:(Vl=t.shippingEndpoint)!=null?Vl:"",create:(Hl=t.shippingEndpointCreate)!=null?Hl:"",update:(Bl=t.shippingEndpointUpdate)!=null?Bl:"",delete:(Kl=t.shippingEndpointDelete)!=null?Kl:""},d=(Ql=(Jl=o==null?void 0:o.endpoints)==null?void 0:Jl.digitalfiles)!=null?Ql:{list:(Wl=t.digitalfilesEndpointList)!=null?Wl:"",upload:(ql=t.digitalfilesEndpointUpload)!=null?ql:"",delete:(zl=t.digitalfilesEndpointDelete)!=null?zl:""},M=(sc=(Zl=o==null?void 0:o.endpoints)==null?void 0:Zl.settings)!=null?sc:{show:(ec=t.settingsEndpointShow)!=null?ec:"",update:(tc=t.settingsEndpointUpdate)!=null?tc:""},C=(ac=(nc=o==null?void 0:o.endpoints)==null?void 0:nc.logs)!=null?ac:{list:(oc=t.logsEndpoint)!=null?oc:""},H=(lc=(ic=o==null?void 0:o.endpoints)==null?void 0:ic.importExport)!=null?lc:{base:(rc=t.importExportEndpoint)!=null?rc:""};sh(uw,{csrfToken:e,dataset:t,config:o,endpoints:{products:a,categories:s,orders:r,customers:c,gdpr:u,coupons:p,tax:f,shipping:S,digitalfiles:d,settings:M,logs:C,importExport:H,dashboard:(uc=(dc=(cc=o==null?void 0:o.endpoints)==null?void 0:cc.dashboard)!=null?dc:t.dashboardEndpoint)!=null?uc:""}}).mount(Wn)}})();
