(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var xi,Pi,Ni,Mi,Ii,$i,wi,Di,ki,Li,Ui,Yi,Xi,Fi,Gi,Vi,Hi,Bi,ji,Ki,Ji,Wi,qi,zi,Qi,Zi,er,tr,sr,nr,or,ir,rr,ar,lr,cr,dr,ur,pr,_r,fr,hr,mr,gr,Cr,Sr,Er,Ar,yr,br,Tr,vr;function zs(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const xe={},Xt=[],rt=()=>{},Xn=()=>!1,Es=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qs=e=>e.startsWith("onUpdate:"),Ge=Object.assign,Zs=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},ic=Object.prototype.hasOwnProperty,ve=(e,t)=>ic.call(e,t),he=Array.isArray,Ft=e=>Qt(e)==="[object Map]",Gt=e=>Qt(e)==="[object Set]",Fn=e=>Qt(e)==="[object Date]",ge=e=>typeof e=="function",we=e=>typeof e=="string",at=e=>typeof e=="symbol",Pe=e=>e!==null&&typeof e=="object",Gn=e=>(Pe(e)||ge(e))&&ge(e.then)&&ge(e.catch),Vn=Object.prototype.toString,Qt=e=>Vn.call(e),rc=e=>Qt(e).slice(8,-1),Hn=e=>Qt(e)==="[object Object]",en=e=>we(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Zt=zs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),As=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ac=/-\w/g,Tt=As(e=>e.replace(ac,t=>t.slice(1).toUpperCase())),lc=/\B([A-Z])/g,vt=As(e=>e.replace(lc,"-$1").toLowerCase()),Bn=As(e=>e.charAt(0).toUpperCase()+e.slice(1)),tn=As(e=>e?`on${Bn(e)}`:""),Ot=(e,t)=>!Object.is(e,t),ys=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},jn=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},bs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Kn;const Ts=()=>Kn||(Kn=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Vt(e){if(he(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=we(o)?pc(o):Vt(o);if(n)for(const r in n)t[r]=n[r]}return t}else if(we(e)||Pe(e))return e}const cc=/;(?![^(]*\))/g,dc=/:([^]+)/,uc=/\/\*[^]*?\*\//g;function pc(e){const t={};return e.replace(uc,"").split(cc).forEach(s=>{if(s){const o=s.split(dc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function De(e){let t="";if(we(e))t=e;else if(he(e))for(let s=0;s<e.length;s++){const o=De(e[s]);o&&(t+=o+" ")}else if(Pe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const _c=zs("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Jn(e){return!!e||e===""}function fc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=es(e[o],t[o]);return s}function es(e,t){if(e===t)return!0;let s=Fn(e),o=Fn(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=at(e),o=at(t),s||o)return e===t;if(s=he(e),o=he(t),s||o)return s&&o?fc(e,t):!1;if(s=Pe(e),o=Pe(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,r=Object.keys(t).length;if(n!==r)return!1;for(const l in e){const c=e.hasOwnProperty(l),a=t.hasOwnProperty(l);if(c&&!a||!c&&a||!es(e[l],t[l]))return!1}}return String(e)===String(t)}function sn(e,t){return e.findIndex(s=>es(s,t))}const Wn=e=>!!(e&&e.__v_isRef===!0),u=e=>we(e)?e:e==null?"":he(e)||Pe(e)&&(e.toString===Vn||!ge(e.toString))?Wn(e)?u(e.value):JSON.stringify(e,qn,2):String(e),qn=(e,t)=>Wn(t)?qn(e,t.value):Ft(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],r)=>(s[nn(o,r)+" =>"]=n,s),{})}:Gt(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>nn(s))}:at(t)?nn(t):Pe(t)&&!he(t)&&!Hn(t)?String(t):t,nn=(e,t="")=>{var s;return at(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Je;class hc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Je;try{return Je=this,t()}finally{Je=s}}}on(){++this._on===1&&(this.prevScope=Je,Je=this)}off(){this._on>0&&--this._on===0&&(Je=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function mc(){return Je}let Ne;const on=new WeakSet;class zn{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Je&&Je.active&&Je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,on.has(this)&&(on.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oo(this),eo(this);const t=Ne,s=ot;Ne=this,ot=!0;try{return this.fn()}finally{to(this),Ne=t,ot=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)cn(t);this.deps=this.depsTail=void 0,oo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?on.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ln(this)&&this.run()}get dirty(){return ln(this)}}let Qn=0,ts,ss;function Zn(e,t=!1){if(e.flags|=8,t){e.next=ss,ss=e;return}e.next=ts,ts=e}function rn(){Qn++}function an(){if(--Qn>0)return;if(ss){let t=ss;for(ss=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ts;){let t=ts;for(ts=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function eo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function to(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),cn(o),gc(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function ln(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(so(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function so(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ns)||(e.globalVersion=ns,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ln(e))))return;e.flags|=2;const t=e.dep,s=Ne,o=ot;Ne=e,ot=!0;try{eo(e);const n=e.fn(e._value);(t.version===0||Ot(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Ne=s,ot=o,to(e),e.flags&=-3}}function cn(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)cn(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function gc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ot=!0;const no=[];function lt(){no.push(ot),ot=!1}function ct(){const e=no.pop();ot=e===void 0?!0:e}function oo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ne;Ne=void 0;try{t()}finally{Ne=s}}}let ns=0;class Cc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class dn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ne||!ot||Ne===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ne)s=this.activeLink=new Cc(Ne,this),Ne.deps?(s.prevDep=Ne.depsTail,Ne.depsTail.nextDep=s,Ne.depsTail=s):Ne.deps=Ne.depsTail=s,io(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Ne.depsTail,s.nextDep=void 0,Ne.depsTail.nextDep=s,Ne.depsTail=s,Ne.deps===s&&(Ne.deps=o)}return s}trigger(t){this.version++,ns++,this.notify(t)}notify(t){rn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{an()}}}function io(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)io(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const un=new WeakMap,wt=Symbol(""),pn=Symbol(""),os=Symbol("");function Xe(e,t,s){if(ot&&Ne){let o=un.get(e);o||un.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new dn),n.map=o,n.key=s),n.track()}}function ht(e,t,s,o,n,r){const l=un.get(e);if(!l){ns++;return}const c=a=>{a&&a.trigger()};if(rn(),t==="clear")l.forEach(c);else{const a=he(e),h=a&&en(s);if(a&&s==="length"){const p=Number(o);l.forEach((_,A)=>{(A==="length"||A===os||!at(A)&&A>=p)&&c(_)})}else switch((s!==void 0||l.has(void 0))&&c(l.get(s)),h&&c(l.get(os)),t){case"add":a?h&&c(l.get("length")):(c(l.get(wt)),Ft(e)&&c(l.get(pn)));break;case"delete":a||(c(l.get(wt)),Ft(e)&&c(l.get(pn)));break;case"set":Ft(e)&&c(l.get(wt));break}}an()}function Ht(e){const t=ye(e);return t===e?t:(Xe(t,"iterate",os),Ze(e)?t:t.map(Ue))}function vs(e){return Xe(e=ye(e),"iterate",os),e}const Sc={__proto__:null,[Symbol.iterator](){return _n(this,Symbol.iterator,Ue)},concat(...e){return Ht(this).concat(...e.map(t=>he(t)?Ht(t):t))},entries(){return _n(this,"entries",e=>(e[1]=Ue(e[1]),e))},every(e,t){return mt(this,"every",e,t,void 0,arguments)},filter(e,t){return mt(this,"filter",e,t,s=>s.map(Ue),arguments)},find(e,t){return mt(this,"find",e,t,Ue,arguments)},findIndex(e,t){return mt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return mt(this,"findLast",e,t,Ue,arguments)},findLastIndex(e,t){return mt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return mt(this,"forEach",e,t,void 0,arguments)},includes(...e){return fn(this,"includes",e)},indexOf(...e){return fn(this,"indexOf",e)},join(e){return Ht(this).join(e)},lastIndexOf(...e){return fn(this,"lastIndexOf",e)},map(e,t){return mt(this,"map",e,t,void 0,arguments)},pop(){return is(this,"pop")},push(...e){return is(this,"push",e)},reduce(e,...t){return ro(this,"reduce",e,t)},reduceRight(e,...t){return ro(this,"reduceRight",e,t)},shift(){return is(this,"shift")},some(e,t){return mt(this,"some",e,t,void 0,arguments)},splice(...e){return is(this,"splice",e)},toReversed(){return Ht(this).toReversed()},toSorted(e){return Ht(this).toSorted(e)},toSpliced(...e){return Ht(this).toSpliced(...e)},unshift(...e){return is(this,"unshift",e)},values(){return _n(this,"values",Ue)}};function _n(e,t,s){const o=vs(e),n=o[t]();return o!==e&&!Ze(e)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.done||(r.value=s(r.value)),r}),n}const Ec=Array.prototype;function mt(e,t,s,o,n,r){const l=vs(e),c=l!==e&&!Ze(e),a=l[t];if(a!==Ec[t]){const _=a.apply(e,r);return c?Ue(_):_}let h=s;l!==e&&(c?h=function(_,A){return s.call(this,Ue(_),A,e)}:s.length>2&&(h=function(_,A){return s.call(this,_,A,e)}));const p=a.call(l,h,o);return c&&n?n(p):p}function ro(e,t,s,o){const n=vs(e);let r=s;return n!==e&&(Ze(e)?s.length>3&&(r=function(l,c,a){return s.call(this,l,c,a,e)}):r=function(l,c,a){return s.call(this,l,Ue(c),a,e)}),n[t](r,...o)}function fn(e,t,s){const o=ye(e);Xe(o,"iterate",os);const n=o[t](...s);return(n===-1||n===!1)&&gn(s[0])?(s[0]=ye(s[0]),o[t](...s)):n}function is(e,t,s=[]){lt(),rn();const o=ye(e)[t].apply(e,s);return an(),ct(),o}const Ac=zs("__proto__,__v_isRef,__isVue"),ao=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(at));function yc(e){at(e)||(e=String(e));const t=ye(this);return Xe(t,"has",e),t.hasOwnProperty(e)}class lo{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return o===(n?r?ho:fo:r?_o:po).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=he(t);if(!n){let a;if(l&&(a=Sc[s]))return a;if(s==="hasOwnProperty")return yc}const c=Reflect.get(t,s,Ye(t)?t:o);if((at(s)?ao.has(s):Ac(s))||(n||Xe(t,"get",s),r))return c;if(Ye(c)){const a=l&&en(s)?c:c.value;return n&&Pe(a)?mn(a):a}return Pe(c)?n?mn(c):Ie(c):c}}class co extends lo{constructor(t=!1){super(!1,t)}set(t,s,o,n){let r=t[s];if(!this._isShallow){const a=Rt(r);if(!Ze(o)&&!Rt(o)&&(r=ye(r),o=ye(o)),!he(t)&&Ye(r)&&!Ye(o))return a||(r.value=o),!0}const l=he(t)&&en(s)?Number(s)<t.length:ve(t,s),c=Reflect.set(t,s,o,Ye(t)?t:n);return t===ye(n)&&(l?Ot(o,r)&&ht(t,"set",s,o):ht(t,"add",s,o)),c}deleteProperty(t,s){const o=ve(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&ht(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!at(s)||!ao.has(s))&&Xe(t,"has",s),o}ownKeys(t){return Xe(t,"iterate",he(t)?"length":wt),Reflect.ownKeys(t)}}class uo extends lo{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const bc=new co,Tc=new uo,vc=new co(!0),Oc=new uo(!0),hn=e=>e,Os=e=>Reflect.getPrototypeOf(e);function Rc(e,t,s){return function(...o){const n=this.__v_raw,r=ye(n),l=Ft(r),c=e==="entries"||e===Symbol.iterator&&l,a=e==="keys"&&l,h=n[e](...o),p=s?hn:t?Ns:Ue;return!t&&Xe(r,"iterate",a?pn:wt),{next(){const{value:_,done:A}=h.next();return A?{value:_,done:A}:{value:c?[p(_[0]),p(_[1])]:p(_),done:A}},[Symbol.iterator](){return this}}}}function Rs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function xc(e,t){const s={get(n){const r=this.__v_raw,l=ye(r),c=ye(n);e||(Ot(n,c)&&Xe(l,"get",n),Xe(l,"get",c));const{has:a}=Os(l),h=t?hn:e?Ns:Ue;if(a.call(l,n))return h(r.get(n));if(a.call(l,c))return h(r.get(c));r!==l&&r.get(n)},get size(){const n=this.__v_raw;return!e&&Xe(ye(n),"iterate",wt),n.size},has(n){const r=this.__v_raw,l=ye(r),c=ye(n);return e||(Ot(n,c)&&Xe(l,"has",n),Xe(l,"has",c)),n===c?r.has(n):r.has(n)||r.has(c)},forEach(n,r){const l=this,c=l.__v_raw,a=ye(c),h=t?hn:e?Ns:Ue;return!e&&Xe(a,"iterate",wt),c.forEach((p,_)=>n.call(r,h(p),h(_),l))}};return Ge(s,e?{add:Rs("add"),set:Rs("set"),delete:Rs("delete"),clear:Rs("clear")}:{add(n){!t&&!Ze(n)&&!Rt(n)&&(n=ye(n));const r=ye(this);return Os(r).has.call(r,n)||(r.add(n),ht(r,"add",n,n)),this},set(n,r){!t&&!Ze(r)&&!Rt(r)&&(r=ye(r));const l=ye(this),{has:c,get:a}=Os(l);let h=c.call(l,n);h||(n=ye(n),h=c.call(l,n));const p=a.call(l,n);return l.set(n,r),h?Ot(r,p)&&ht(l,"set",n,r):ht(l,"add",n,r),this},delete(n){const r=ye(this),{has:l,get:c}=Os(r);let a=l.call(r,n);a||(n=ye(n),a=l.call(r,n)),c&&c.call(r,n);const h=r.delete(n);return a&&ht(r,"delete",n,void 0),h},clear(){const n=ye(this),r=n.size!==0,l=n.clear();return r&&ht(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Rc(n,e,t)}),s}function xs(e,t){const s=xc(e,t);return(o,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(ve(s,n)&&n in o?s:o,n,r)}const Pc={get:xs(!1,!1)},Nc={get:xs(!1,!0)},Mc={get:xs(!0,!1)},Ic={get:xs(!0,!0)},po=new WeakMap,_o=new WeakMap,fo=new WeakMap,ho=new WeakMap;function $c(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wc(e){return e.__v_skip||!Object.isExtensible(e)?0:$c(rc(e))}function Ie(e){return Rt(e)?e:Ps(e,!1,bc,Pc,po)}function Dc(e){return Ps(e,!1,vc,Nc,_o)}function mn(e){return Ps(e,!0,Tc,Mc,fo)}function Fb(e){return Ps(e,!0,Oc,Ic,ho)}function Ps(e,t,s,o,n){if(!Pe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=wc(e);if(r===0)return e;const l=n.get(e);if(l)return l;const c=new Proxy(e,r===2?o:s);return n.set(e,c),c}function Bt(e){return Rt(e)?Bt(e.__v_raw):!!(e&&e.__v_isReactive)}function Rt(e){return!!(e&&e.__v_isReadonly)}function Ze(e){return!!(e&&e.__v_isShallow)}function gn(e){return e?!!e.__v_raw:!1}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function kc(e){return!ve(e,"__v_skip")&&Object.isExtensible(e)&&jn(e,"__v_skip",!0),e}const Ue=e=>Pe(e)?Ie(e):e,Ns=e=>Pe(e)?mn(e):e;function Ye(e){return e?e.__v_isRef===!0:!1}function Le(e){return Lc(e,!1)}function Lc(e,t){return Ye(e)?e:new Uc(e,t)}class Uc{constructor(t,s){this.dep=new dn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ye(t),this._value=s?t:Ue(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||Ze(t)||Rt(t);t=o?t:ye(t),Ot(t,s)&&(this._rawValue=t,this._value=o?t:Ue(t),this.dep.trigger())}}function d(e){return Ye(e)?e.value:e}const Yc={get:(e,t,s)=>t==="__v_raw"?e:d(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return Ye(n)&&!Ye(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function mo(e){return Bt(e)?e:new Proxy(e,Yc)}class Xc{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new dn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ns-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Ne!==this)return Zn(this,!0),!0}get value(){const t=this.dep.track();return so(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Fc(e,t,s=!1){let o,n;return ge(e)?o=e:(o=e.get,n=e.set),new Xc(o,n,s)}const Ms={},Is=new WeakMap;let Dt;function Gc(e,t=!1,s=Dt){if(s){let o=Is.get(s);o||Is.set(s,o=[]),o.push(e)}}function Vc(e,t,s=xe){const{immediate:o,deep:n,once:r,scheduler:l,augmentJob:c,call:a}=s,h=M=>n?M:Ze(M)||n===!1||n===0?gt(M,1):gt(M);let p,_,A,O,y=!1,E=!1;if(Ye(e)?(_=()=>e.value,y=Ze(e)):Bt(e)?(_=()=>h(e),y=!0):he(e)?(E=!0,y=e.some(M=>Bt(M)||Ze(M)),_=()=>e.map(M=>{if(Ye(M))return M.value;if(Bt(M))return h(M);if(ge(M))return a?a(M,2):M()})):ge(e)?t?_=a?()=>a(e,2):e:_=()=>{if(A){lt();try{A()}finally{ct()}}const M=Dt;Dt=p;try{return a?a(e,3,[O]):e(O)}finally{Dt=M}}:_=rt,t&&n){const M=_,X=n===!0?1/0:n;_=()=>gt(M(),X)}const I=mc(),U=()=>{p.stop(),I&&I.active&&Zs(I.effects,p)};if(r&&t){const M=t;t=(...X)=>{M(...X),U()}}let Z=E?new Array(e.length).fill(Ms):Ms;const N=M=>{if(!(!(p.flags&1)||!p.dirty&&!M))if(t){const X=p.run();if(n||y||(E?X.some((z,ie)=>Ot(z,Z[ie])):Ot(X,Z))){A&&A();const z=Dt;Dt=p;try{const ie=[X,Z===Ms?void 0:E&&Z[0]===Ms?[]:Z,O];Z=X,a?a(t,3,ie):t(...ie)}finally{Dt=z}}}else p.run()};return c&&c(N),p=new zn(_),p.scheduler=l?()=>l(N,!1):N,O=M=>Gc(M,!1,p),A=p.onStop=()=>{const M=Is.get(p);if(M){if(a)a(M,4);else for(const X of M)X();Is.delete(p)}},t?o?N(!0):Z=p.run():l?l(N.bind(null,!0),!0):p.run(),U.pause=p.pause.bind(p),U.resume=p.resume.bind(p),U.stop=U,U}function gt(e,t=1/0,s){if(t<=0||!Pe(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Ye(e))gt(e.value,t,s);else if(he(e))for(let o=0;o<e.length;o++)gt(e[o],t,s);else if(Gt(e)||Ft(e))e.forEach(o=>{gt(o,t,s)});else if(Hn(e)){for(const o in e)gt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&gt(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const rs=[];let Cn=!1;function Gb(e,...t){if(Cn)return;Cn=!0,lt();const s=rs.length?rs[rs.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=Hc();if(o)jt(o,s,11,[e+t.map(r=>{var l,c;return(c=(l=r.toString)==null?void 0:l.call(r))!=null?c:JSON.stringify(r)}).join(""),s&&s.proxy,n.map(({vnode:r})=>`at <${ci(s,r.type)}>`).join(`
`),n]);else{const r=[`[Vue warn]: ${e}`,...t];n.length&&r.push(`
`,...Bc(n)),console.warn(...r)}ct(),Cn=!1}function Hc(){let e=rs[rs.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function Bc(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...jc(s))}),t}function jc({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${ci(e.component,e.type,o)}`,r=">"+s;return e.props?[n,...Kc(e.props),r]:[n+r]}function Kc(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...go(o,e[o]))}),s.length>3&&t.push(" ..."),t}function go(e,t,s){return we(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Ye(t)?(t=go(e,ye(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):ge(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ye(t),s?t:[`${e}=`,t])}function jt(e,t,s,o){try{return o?e(...o):e()}catch(n){$s(n,t,s)}}function dt(e,t,s,o){if(ge(e)){const n=jt(e,t,s,o);return n&&Gn(n)&&n.catch(r=>{$s(r,t,s)}),n}if(he(e)){const n=[];for(let r=0;r<e.length;r++)n.push(dt(e[r],t,s,o));return n}}function $s(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||xe;if(t){let c=t.parent;const a=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${s}`;for(;c;){const p=c.ec;if(p){for(let _=0;_<p.length;_++)if(p[_](e,a,h)===!1)return}c=c.parent}if(r){lt(),jt(r,null,10,[e,a,h]),ct();return}}Jc(e,s,n,o,l)}function Jc(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Ve=[];let ut=-1;const Kt=[];let xt=null,Jt=0;const Co=Promise.resolve();let ws=null;function So(e){const t=ws||Co;return e?t.then(this?e.bind(this):e):t}function Wc(e){let t=ut+1,s=Ve.length;for(;t<s;){const o=t+s>>>1,n=Ve[o],r=as(n);r<e||r===e&&n.flags&2?t=o+1:s=o}return t}function Sn(e){if(!(e.flags&1)){const t=as(e),s=Ve[Ve.length-1];!s||!(e.flags&2)&&t>=as(s)?Ve.push(e):Ve.splice(Wc(t),0,e),e.flags|=1,Eo()}}function Eo(){ws||(ws=Co.then(bo))}function qc(e){he(e)?Kt.push(...e):xt&&e.id===-1?xt.splice(Jt+1,0,e):e.flags&1||(Kt.push(e),e.flags|=1),Eo()}function Ao(e,t,s=ut+1){for(;s<Ve.length;s++){const o=Ve[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ve.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function yo(e){if(Kt.length){const t=[...new Set(Kt)].sort((s,o)=>as(s)-as(o));if(Kt.length=0,xt){xt.push(...t);return}for(xt=t,Jt=0;Jt<xt.length;Jt++){const s=xt[Jt];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}xt=null,Jt=0}}const as=e=>e.id==null?e.flags&2?-1:1/0:e.id;function bo(e){try{for(ut=0;ut<Ve.length;ut++){const t=Ve[ut];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),jt(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ut<Ve.length;ut++){const t=Ve[ut];t&&(t.flags&=-2)}ut=-1,Ve.length=0,yo(),ws=null,(Ve.length||Kt.length)&&bo()}}let et=null,To=null;function Ds(e){const t=et;return et=e,To=e&&e.type.__scopeId||null,t}function zc(e,t=et,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&ti(-1);const r=Ds(t);let l;try{l=e(...n)}finally{Ds(r),o._d&&ti(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function ne(e,t){if(et===null)return e;const s=Hs(et),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[r,l,c,a=xe]=t[n];r&&(ge(r)&&(r={mounted:r,updated:r}),r.deep&&gt(l),o.push({dir:r,instance:s,value:l,oldValue:void 0,arg:c,modifiers:a}))}return e}function kt(e,t,s,o){const n=e.dirs,r=t&&t.dirs;for(let l=0;l<n.length;l++){const c=n[l];r&&(c.oldValue=r[l].value);let a=c.dir[o];a&&(lt(),dt(a,s,8,[e.el,c,e,t]),ct())}}const Qc=Symbol("_vte"),Zc=e=>e.__isTeleport,ed=Symbol("_leaveCb");function En(e,t){e.shapeFlag&6&&e.component?(e.transition=t,En(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ks=new WeakMap;function ls(e,t,s,o,n=!1){if(he(e)){e.forEach((y,E)=>ls(y,t&&(he(t)?t[E]:t),s,o,n));return}if(cs(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&ls(e,t,s,o.component.subTree);return}const r=o.shapeFlag&4?Hs(o.component):o.el,l=n?null:r,{i:c,r:a}=e,h=t&&t.r,p=c.refs===xe?c.refs={}:c.refs,_=c.setupState,A=ye(_),O=_===xe?Xn:y=>ve(A,y);if(h!=null&&h!==a){if(Oo(t),we(h))p[h]=null,O(h)&&(_[h]=null);else if(Ye(h)){h.value=null;const y=t;y.k&&(p[y.k]=null)}}if(ge(a))jt(a,c,12,[l,p]);else{const y=we(a),E=Ye(a);if(y||E){const I=()=>{if(e.f){const U=y?O(a)?_[a]:p[a]:a.value;if(n)he(U)&&Zs(U,r);else if(he(U))U.includes(r)||U.push(r);else if(y)p[a]=[r],O(a)&&(_[a]=p[a]);else{const Z=[r];a.value=Z,e.k&&(p[e.k]=Z)}}else y?(p[a]=l,O(a)&&(_[a]=l)):E&&(a.value=l,e.k&&(p[e.k]=l))};if(l){const U=()=>{I(),ks.delete(e)};U.id=-1,ks.set(e,U),We(U,s)}else Oo(e),I()}}}function Oo(e){const t=ks.get(e);t&&(t.flags|=8,ks.delete(e))}Ts().requestIdleCallback,Ts().cancelIdleCallback;const cs=e=>!!e.type.__asyncLoader,Ro=e=>e.type.__isKeepAlive;function td(e,t){xo(e,"a",t)}function sd(e,t){xo(e,"da",t)}function xo(e,t,s=Be){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ls(t,o,s),s){let n=s.parent;for(;n&&n.parent;)Ro(n.parent.vnode)&&nd(o,t,s,n),n=n.parent}}function nd(e,t,s,o){const n=Ls(t,e,o,!0);Po(()=>{Zs(o[t],n)},s)}function Ls(e,t,s=Be,o=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...l)=>{lt();const c=hs(s),a=dt(t,s,e,l);return c(),ct(),a});return o?n.unshift(r):n.push(r),r}}const Ct=e=>(t,s=Be)=>{(!ms||e==="sp")&&Ls(e,(...o)=>t(...o),s)},od=Ct("bm"),tt=Ct("m"),id=Ct("bu"),rd=Ct("u"),ad=Ct("bum"),Po=Ct("um"),ld=Ct("sp"),cd=Ct("rtg"),dd=Ct("rtc");function ud(e,t=Be){Ls("ec",e,t)}const pd=Symbol.for("v-ndc");function be(e,t,s,o){let n;const r=s,l=he(e);if(l||we(e)){const c=l&&Bt(e);let a=!1,h=!1;c&&(a=!Ze(e),h=Rt(e),e=vs(e)),n=new Array(e.length);for(let p=0,_=e.length;p<_;p++)n[p]=t(a?h?Ns(Ue(e[p])):Ue(e[p]):e[p],p,void 0,r)}else if(typeof e=="number"){n=new Array(e);for(let c=0;c<e;c++)n[c]=t(c+1,c,void 0,r)}else if(Pe(e))if(e[Symbol.iterator])n=Array.from(e,(c,a)=>t(c,a,void 0,r));else{const c=Object.keys(e);n=new Array(c.length);for(let a=0,h=c.length;a<h;a++){const p=c[a];n[a]=t(e[p],p,a,r)}}else n=[];return n}const An=e=>e?ri(e)?Hs(e):An(e.parent):null,ds=Ge(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>An(e.parent),$root:e=>An(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>$o(e),$forceUpdate:e=>e.f||(e.f=()=>{Sn(e.update)}),$nextTick:e=>e.n||(e.n=So.bind(e.proxy)),$watch:e=>wd.bind(e)}),yn=(e,t)=>e!==xe&&!e.__isScriptSetup&&ve(e,t),_d={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:r,accessCache:l,type:c,appContext:a}=e;let h;if(t[0]!=="$"){const O=l[t];if(O!==void 0)switch(O){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(yn(o,t))return l[t]=1,o[t];if(n!==xe&&ve(n,t))return l[t]=2,n[t];if((h=e.propsOptions[0])&&ve(h,t))return l[t]=3,r[t];if(s!==xe&&ve(s,t))return l[t]=4,s[t];bn&&(l[t]=0)}}const p=ds[t];let _,A;if(p)return t==="$attrs"&&Xe(e.attrs,"get",""),p(e);if((_=c.__cssModules)&&(_=_[t]))return _;if(s!==xe&&ve(s,t))return l[t]=4,s[t];if(A=a.config.globalProperties,ve(A,t))return A[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:r}=e;return yn(n,t)?(n[t]=s,!0):o!==xe&&ve(o,t)?(o[t]=s,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:r,type:l}},c){let a,h;return!!(s[c]||e!==xe&&c[0]!=="$"&&ve(e,c)||yn(t,c)||(a=r[0])&&ve(a,c)||ve(o,c)||ve(ds,c)||ve(n.config.globalProperties,c)||(h=l.__cssModules)&&h[c])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ve(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function No(e){return he(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let bn=!0;function fd(e){const t=$o(e),s=e.proxy,o=e.ctx;bn=!1,t.beforeCreate&&Mo(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:l,watch:c,provide:a,inject:h,created:p,beforeMount:_,mounted:A,beforeUpdate:O,updated:y,activated:E,deactivated:I,beforeDestroy:U,beforeUnmount:Z,destroyed:N,unmounted:M,render:X,renderTracked:z,renderTriggered:ie,errorCaptured:oe,serverPrefetch:V,expose:H,inheritAttrs:W,components:Q,directives:B,filters:ae}=t;if(h&&hd(h,o,null),l)for(const k in l){const x=l[k];ge(x)&&(o[k]=x.bind(s))}if(n){const k=n.call(s,s);Pe(k)&&(e.data=Ie(k))}if(bn=!0,r)for(const k in r){const x=r[k],w=ge(x)?x.bind(s,s):ge(x.get)?x.get.bind(s,s):rt,v=!ge(x)&&ge(x.set)?x.set.bind(s):rt,ce=Se({get:w,set:v});Object.defineProperty(o,k,{enumerable:!0,configurable:!0,get:()=>ce.value,set:me=>ce.value=me})}if(c)for(const k in c)Io(c[k],o,s,k);if(a){const k=ge(a)?a.call(s):a;Reflect.ownKeys(k).forEach(x=>{Ad(x,k[x])})}p&&Mo(p,e,"c");function le(k,x){he(x)?x.forEach(w=>k(w.bind(s))):x&&k(x.bind(s))}if(le(od,_),le(tt,A),le(id,O),le(rd,y),le(td,E),le(sd,I),le(ud,oe),le(dd,z),le(cd,ie),le(ad,Z),le(Po,M),le(ld,V),he(H))if(H.length){const k=e.exposed||(e.exposed={});H.forEach(x=>{Object.defineProperty(k,x,{get:()=>s[x],set:w=>s[x]=w,enumerable:!0})})}else e.exposed||(e.exposed={});X&&e.render===rt&&(e.render=X),W!=null&&(e.inheritAttrs=W),Q&&(e.components=Q),B&&(e.directives=B),V&&vo(e)}function hd(e,t,s=rt){he(e)&&(e=Tn(e));for(const o in e){const n=e[o];let r;Pe(n)?"default"in n?r=Ys(n.from||o,n.default,!0):r=Ys(n.from||o):r=Ys(n),Ye(r)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>r.value,set:l=>r.value=l}):t[o]=r}}function Mo(e,t,s){dt(he(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function Io(e,t,s,o){let n=o.includes(".")?qo(s,o):()=>s[o];if(we(e)){const r=t[e];ge(r)&&$e(n,r)}else if(ge(e))$e(n,e.bind(s));else if(Pe(e))if(he(e))e.forEach(r=>Io(r,t,s,o));else{const r=ge(e.handler)?e.handler.bind(s):t[e.handler];ge(r)&&$e(n,r,e)}}function $o(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:l}}=e.appContext,c=r.get(t);let a;return c?a=c:!n.length&&!s&&!o?a=t:(a={},n.length&&n.forEach(h=>Us(a,h,l,!0)),Us(a,t,l)),Pe(t)&&r.set(t,a),a}function Us(e,t,s,o=!1){const{mixins:n,extends:r}=t;r&&Us(e,r,s,!0),n&&n.forEach(l=>Us(e,l,s,!0));for(const l in t)if(!(o&&l==="expose")){const c=md[l]||s&&s[l];e[l]=c?c(e[l],t[l]):t[l]}return e}const md={data:wo,props:Do,emits:Do,methods:us,computed:us,beforeCreate:He,created:He,beforeMount:He,mounted:He,beforeUpdate:He,updated:He,beforeDestroy:He,beforeUnmount:He,destroyed:He,unmounted:He,activated:He,deactivated:He,errorCaptured:He,serverPrefetch:He,components:us,directives:us,watch:Cd,provide:wo,inject:gd};function wo(e,t){return t?e?function(){return Ge(ge(e)?e.call(this,this):e,ge(t)?t.call(this,this):t)}:t:e}function gd(e,t){return us(Tn(e),Tn(t))}function Tn(e){if(he(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function He(e,t){return e?[...new Set([].concat(e,t))]:t}function us(e,t){return e?Ge(Object.create(null),e,t):t}function Do(e,t){return e?he(e)&&he(t)?[...new Set([...e,...t])]:Ge(Object.create(null),No(e),No(t!=null?t:{})):t}function Cd(e,t){if(!e)return t;if(!t)return e;const s=Ge(Object.create(null),e);for(const o in t)s[o]=He(e[o],t[o]);return s}function ko(){return{app:null,config:{isNativeTag:Xn,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Sd=0;function Ed(e,t){return function(o,n=null){ge(o)||(o=Ge({},o)),n!=null&&!Pe(n)&&(n=null);const r=ko(),l=new WeakSet,c=[];let a=!1;const h=r.app={_uid:Sd++,_component:o,_props:n,_container:null,_context:r,_instance:null,version:iu,get config(){return r.config},set config(p){},use(p,..._){return l.has(p)||(p&&ge(p.install)?(l.add(p),p.install(h,..._)):ge(p)&&(l.add(p),p(h,..._))),h},mixin(p){return r.mixins.includes(p)||r.mixins.push(p),h},component(p,_){return _?(r.components[p]=_,h):r.components[p]},directive(p,_){return _?(r.directives[p]=_,h):r.directives[p]},mount(p,_,A){if(!a){const O=h._ceVNode||st(o,n);return O.appContext=r,A===!0?A="svg":A===!1&&(A=void 0),e(O,p,A),a=!0,h._container=p,p.__vue_app__=h,Hs(O.component)}},onUnmount(p){c.push(p)},unmount(){a&&(dt(c,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(p,_){return r.provides[p]=_,h},runWithContext(p){const _=Wt;Wt=h;try{return p()}finally{Wt=_}}};return h}}let Wt=null;function Ad(e,t){if(Be){let s=Be.provides;const o=Be.parent&&Be.parent.provides;o===s&&(s=Be.provides=Object.create(o)),s[e]=t}}function Ys(e,t,s=!1){const o=qd();if(o||Wt){let n=Wt?Wt._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&ge(t)?t.call(o&&o.proxy):t}}const Lo={},Uo=()=>Object.create(Lo),Yo=e=>Object.getPrototypeOf(e)===Lo;function yd(e,t,s,o=!1){const n={},r=Uo();e.propsDefaults=Object.create(null),Xo(e,t,n,r);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=o?n:Dc(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function bd(e,t,s,o){const{props:n,attrs:r,vnode:{patchFlag:l}}=e,c=ye(n),[a]=e.propsOptions;let h=!1;if((o||l>0)&&!(l&16)){if(l&8){const p=e.vnode.dynamicProps;for(let _=0;_<p.length;_++){let A=p[_];if(Xs(e.emitsOptions,A))continue;const O=t[A];if(a)if(ve(r,A))O!==r[A]&&(r[A]=O,h=!0);else{const y=Tt(A);n[y]=vn(a,c,y,O,e,!1)}else O!==r[A]&&(r[A]=O,h=!0)}}}else{Xo(e,t,n,r)&&(h=!0);let p;for(const _ in c)(!t||!ve(t,_)&&((p=vt(_))===_||!ve(t,p)))&&(a?s&&(s[_]!==void 0||s[p]!==void 0)&&(n[_]=vn(a,c,_,void 0,e,!0)):delete n[_]);if(r!==c)for(const _ in r)(!t||!ve(t,_))&&(delete r[_],h=!0)}h&&ht(e.attrs,"set","")}function Xo(e,t,s,o){const[n,r]=e.propsOptions;let l=!1,c;if(t)for(let a in t){if(Zt(a))continue;const h=t[a];let p;n&&ve(n,p=Tt(a))?!r||!r.includes(p)?s[p]=h:(c||(c={}))[p]=h:Xs(e.emitsOptions,a)||(!(a in o)||h!==o[a])&&(o[a]=h,l=!0)}if(r){const a=ye(s),h=c||xe;for(let p=0;p<r.length;p++){const _=r[p];s[_]=vn(n,a,_,h[_],e,!ve(h,_))}}return l}function vn(e,t,s,o,n,r){const l=e[s];if(l!=null){const c=ve(l,"default");if(c&&o===void 0){const a=l.default;if(l.type!==Function&&!l.skipFactory&&ge(a)){const{propsDefaults:h}=n;if(s in h)o=h[s];else{const p=hs(n);o=h[s]=a.call(null,t),p()}}else o=a;n.ce&&n.ce._setProp(s,o)}l[0]&&(r&&!c?o=!1:l[1]&&(o===""||o===vt(s))&&(o=!0))}return o}const Td=new WeakMap;function Fo(e,t,s=!1){const o=s?Td:t.propsCache,n=o.get(e);if(n)return n;const r=e.props,l={},c=[];let a=!1;if(!ge(e)){const p=_=>{a=!0;const[A,O]=Fo(_,t,!0);Ge(l,A),O&&c.push(...O)};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!r&&!a)return Pe(e)&&o.set(e,Xt),Xt;if(he(r))for(let p=0;p<r.length;p++){const _=Tt(r[p]);Go(_)&&(l[_]=xe)}else if(r)for(const p in r){const _=Tt(p);if(Go(_)){const A=r[p],O=l[_]=he(A)||ge(A)?{type:A}:Ge({},A),y=O.type;let E=!1,I=!0;if(he(y))for(let U=0;U<y.length;++U){const Z=y[U],N=ge(Z)&&Z.name;if(N==="Boolean"){E=!0;break}else N==="String"&&(I=!1)}else E=ge(y)&&y.name==="Boolean";O[0]=E,O[1]=I,(E||ve(O,"default"))&&c.push(_)}}const h=[l,c];return Pe(e)&&o.set(e,h),h}function Go(e){return e[0]!=="$"&&!Zt(e)}const On=e=>e==="_"||e==="_ctx"||e==="$stable",Rn=e=>he(e)?e.map(pt):[pt(e)],vd=(e,t,s)=>{if(t._n)return t;const o=zc((...n)=>Rn(t(...n)),s);return o._c=!1,o},Vo=(e,t,s)=>{const o=e._ctx;for(const n in e){if(On(n))continue;const r=e[n];if(ge(r))t[n]=vd(n,r,o);else if(r!=null){const l=Rn(r);t[n]=()=>l}}},Ho=(e,t)=>{const s=Rn(t);e.slots.default=()=>s},Bo=(e,t,s)=>{for(const o in t)(s||!On(o))&&(e[o]=t[o])},Od=(e,t,s)=>{const o=e.slots=Uo();if(e.vnode.shapeFlag&32){const n=t._;n?(Bo(o,t,s),s&&jn(o,"_",n,!0)):Vo(t,o)}else t&&Ho(e,t)},Rd=(e,t,s)=>{const{vnode:o,slots:n}=e;let r=!0,l=xe;if(o.shapeFlag&32){const c=t._;c?s&&c===1?r=!1:Bo(n,t,s):(r=!t.$stable,Vo(t,n)),l=t}else t&&(Ho(e,t),l={default:1});if(r)for(const c in n)!On(c)&&l[c]==null&&delete n[c]},We=Gd;function xd(e){return Pd(e)}function Pd(e,t){const s=Ts();s.__VUE__=!0;const{insert:o,remove:n,patchProp:r,createElement:l,createText:c,createComment:a,setText:h,setElementText:p,parentNode:_,nextSibling:A,setScopeId:O=rt,insertStaticContent:y}=e,E=(g,S,R,D=null,$=null,L=null,q=void 0,j=null,K=!!S.dynamicChildren)=>{if(g===S)return;g&&!fs(g,S)&&(D=C(g),me(g,$,L,!0),g=null),S.patchFlag===-2&&(K=!1,S.dynamicChildren=null);const{type:G,ref:_e,shapeFlag:se}=S;switch(G){case Fs:I(g,S,R,D);break;case Pt:U(g,S,R,D);break;case Pn:g==null&&Z(S,R,D,q);break;case Ce:Q(g,S,R,D,$,L,q,j,K);break;default:se&1?X(g,S,R,D,$,L,q,j,K):se&6?B(g,S,R,D,$,L,q,j,K):(se&64||se&128)&&G.process(g,S,R,D,$,L,q,j,K,ee)}_e!=null&&$?ls(_e,g&&g.ref,L,S||g,!S):_e==null&&g&&g.ref!=null&&ls(g.ref,null,L,g,!0)},I=(g,S,R,D)=>{if(g==null)o(S.el=c(S.children),R,D);else{const $=S.el=g.el;S.children!==g.children&&h($,S.children)}},U=(g,S,R,D)=>{g==null?o(S.el=a(S.children||""),R,D):S.el=g.el},Z=(g,S,R,D)=>{[g.el,g.anchor]=y(g.children,S,R,D,g.el,g.anchor)},N=({el:g,anchor:S},R,D)=>{let $;for(;g&&g!==S;)$=A(g),o(g,R,D),g=$;o(S,R,D)},M=({el:g,anchor:S})=>{let R;for(;g&&g!==S;)R=A(g),n(g),g=R;n(S)},X=(g,S,R,D,$,L,q,j,K)=>{S.type==="svg"?q="svg":S.type==="math"&&(q="mathml"),g==null?z(S,R,D,$,L,q,j,K):V(g,S,$,L,q,j,K)},z=(g,S,R,D,$,L,q,j)=>{let K,G;const{props:_e,shapeFlag:se,transition:ue,dirs:fe}=g;if(K=g.el=l(g.type,L,_e&&_e.is,_e),se&8?p(K,g.children):se&16&&oe(g.children,K,null,D,$,xn(g,L),q,j),fe&&kt(g,null,D,"created"),ie(K,g,g.scopeId,q,D),_e){for(const Re in _e)Re!=="value"&&!Zt(Re)&&r(K,Re,null,_e[Re],L,D);"value"in _e&&r(K,"value",null,_e.value,L),(G=_e.onVnodeBeforeMount)&&_t(G,D,g)}fe&&kt(g,null,D,"beforeMount");const Ee=Nd($,ue);Ee&&ue.beforeEnter(K),o(K,S,R),((G=_e&&_e.onVnodeMounted)||Ee||fe)&&We(()=>{G&&_t(G,D,g),Ee&&ue.enter(K),fe&&kt(g,null,D,"mounted")},$)},ie=(g,S,R,D,$)=>{if(R&&O(g,R),D)for(let L=0;L<D.length;L++)O(g,D[L]);if($){let L=$.subTree;if(S===L||ei(L.type)&&(L.ssContent===S||L.ssFallback===S)){const q=$.vnode;ie(g,q,q.scopeId,q.slotScopeIds,$.parent)}}},oe=(g,S,R,D,$,L,q,j,K=0)=>{for(let G=K;G<g.length;G++){const _e=g[G]=j?Nt(g[G]):pt(g[G]);E(null,_e,S,R,D,$,L,q,j)}},V=(g,S,R,D,$,L,q)=>{const j=S.el=g.el;let{patchFlag:K,dynamicChildren:G,dirs:_e}=S;K|=g.patchFlag&16;const se=g.props||xe,ue=S.props||xe;let fe;if(R&&Lt(R,!1),(fe=ue.onVnodeBeforeUpdate)&&_t(fe,R,S,g),_e&&kt(S,g,R,"beforeUpdate"),R&&Lt(R,!0),(se.innerHTML&&ue.innerHTML==null||se.textContent&&ue.textContent==null)&&p(j,""),G?H(g.dynamicChildren,G,j,R,D,xn(S,$),L):q||x(g,S,j,null,R,D,xn(S,$),L,!1),K>0){if(K&16)W(j,se,ue,R,$);else if(K&2&&se.class!==ue.class&&r(j,"class",null,ue.class,$),K&4&&r(j,"style",se.style,ue.style,$),K&8){const Ee=S.dynamicProps;for(let Re=0;Re<Ee.length;Re++){const Te=Ee[Re],Fe=se[Te],ke=ue[Te];(ke!==Fe||Te==="value")&&r(j,Te,Fe,ke,$,R)}}K&1&&g.children!==S.children&&p(j,S.children)}else!q&&G==null&&W(j,se,ue,R,$);((fe=ue.onVnodeUpdated)||_e)&&We(()=>{fe&&_t(fe,R,S,g),_e&&kt(S,g,R,"updated")},D)},H=(g,S,R,D,$,L,q)=>{for(let j=0;j<S.length;j++){const K=g[j],G=S[j],_e=K.el&&(K.type===Ce||!fs(K,G)||K.shapeFlag&198)?_(K.el):R;E(K,G,_e,null,D,$,L,q,!0)}},W=(g,S,R,D,$)=>{if(S!==R){if(S!==xe)for(const L in S)!Zt(L)&&!(L in R)&&r(g,L,S[L],null,$,D);for(const L in R){if(Zt(L))continue;const q=R[L],j=S[L];q!==j&&L!=="value"&&r(g,L,j,q,$,D)}"value"in R&&r(g,"value",S.value,R.value,$)}},Q=(g,S,R,D,$,L,q,j,K)=>{const G=S.el=g?g.el:c(""),_e=S.anchor=g?g.anchor:c("");let{patchFlag:se,dynamicChildren:ue,slotScopeIds:fe}=S;fe&&(j=j?j.concat(fe):fe),g==null?(o(G,R,D),o(_e,R,D),oe(S.children||[],R,_e,$,L,q,j,K)):se>0&&se&64&&ue&&g.dynamicChildren?(H(g.dynamicChildren,ue,R,$,L,q,j),(S.key!=null||$&&S===$.subTree)&&jo(g,S,!0)):x(g,S,R,_e,$,L,q,j,K)},B=(g,S,R,D,$,L,q,j,K)=>{S.slotScopeIds=j,g==null?S.shapeFlag&512?$.ctx.activate(S,R,D,q,K):ae(S,R,D,$,L,q,K):J(g,S,K)},ae=(g,S,R,D,$,L,q)=>{const j=g.component=Wd(g,D,$);if(Ro(g)&&(j.ctx.renderer=ee),zd(j,!1,q),j.asyncDep){if($&&$.registerDep(j,le,q),!g.el){const K=j.subTree=st(Pt);U(null,K,S,R),g.placeholder=K.el}}else le(j,g,S,R,$,L,q)},J=(g,S,R)=>{const D=S.component=g.component;if(Xd(g,S,R))if(D.asyncDep&&!D.asyncResolved){k(D,S,R);return}else D.next=S,D.update();else S.el=g.el,D.vnode=S},le=(g,S,R,D,$,L,q)=>{const j=()=>{if(g.isMounted){let{next:se,bu:ue,u:fe,parent:Ee,vnode:Re}=g;{const ze=Ko(g);if(ze){se&&(se.el=Re.el,k(g,se,q)),ze.asyncDep.then(()=>{g.isUnmounted||j()});return}}let Te=se,Fe;Lt(g,!1),se?(se.el=Re.el,k(g,se,q)):se=Re,ue&&ys(ue),(Fe=se.props&&se.props.onVnodeBeforeUpdate)&&_t(Fe,Ee,se,Re),Lt(g,!0);const ke=Qo(g),nt=g.subTree;g.subTree=ke,E(nt,ke,_(nt.el),C(nt),g,$,L),se.el=ke.el,Te===null&&Fd(g,ke.el),fe&&We(fe,$),(Fe=se.props&&se.props.onVnodeUpdated)&&We(()=>_t(Fe,Ee,se,Re),$)}else{let se;const{el:ue,props:fe}=S,{bm:Ee,m:Re,parent:Te,root:Fe,type:ke}=g,nt=cs(S);Lt(g,!1),Ee&&ys(Ee),!nt&&(se=fe&&fe.onVnodeBeforeMount)&&_t(se,Te,S),Lt(g,!0);{Fe.ce&&Fe.ce._def.shadowRoot!==!1&&Fe.ce._injectChildStyle(ke);const ze=g.subTree=Qo(g);E(null,ze,R,D,g,$,L),S.el=ze.el}if(Re&&We(Re,$),!nt&&(se=fe&&fe.onVnodeMounted)){const ze=S;We(()=>_t(se,Te,ze),$)}(S.shapeFlag&256||Te&&cs(Te.vnode)&&Te.vnode.shapeFlag&256)&&g.a&&We(g.a,$),g.isMounted=!0,S=R=D=null}};g.scope.on();const K=g.effect=new zn(j);g.scope.off();const G=g.update=K.run.bind(K),_e=g.job=K.runIfDirty.bind(K);_e.i=g,_e.id=g.uid,K.scheduler=()=>Sn(_e),Lt(g,!0),G()},k=(g,S,R)=>{S.component=g;const D=g.vnode.props;g.vnode=S,g.next=null,bd(g,S.props,D,R),Rd(g,S.children,R),lt(),Ao(g),ct()},x=(g,S,R,D,$,L,q,j,K=!1)=>{const G=g&&g.children,_e=g?g.shapeFlag:0,se=S.children,{patchFlag:ue,shapeFlag:fe}=S;if(ue>0){if(ue&128){v(G,se,R,D,$,L,q,j,K);return}else if(ue&256){w(G,se,R,D,$,L,q,j,K);return}}fe&8?(_e&16&&f(G,$,L),se!==G&&p(R,se)):_e&16?fe&16?v(G,se,R,D,$,L,q,j,K):f(G,$,L,!0):(_e&8&&p(R,""),fe&16&&oe(se,R,D,$,L,q,j,K))},w=(g,S,R,D,$,L,q,j,K)=>{g=g||Xt,S=S||Xt;const G=g.length,_e=S.length,se=Math.min(G,_e);let ue;for(ue=0;ue<se;ue++){const fe=S[ue]=K?Nt(S[ue]):pt(S[ue]);E(g[ue],fe,R,null,$,L,q,j,K)}G>_e?f(g,$,L,!0,!1,se):oe(S,R,D,$,L,q,j,K,se)},v=(g,S,R,D,$,L,q,j,K)=>{let G=0;const _e=S.length;let se=g.length-1,ue=_e-1;for(;G<=se&&G<=ue;){const fe=g[G],Ee=S[G]=K?Nt(S[G]):pt(S[G]);if(fs(fe,Ee))E(fe,Ee,R,null,$,L,q,j,K);else break;G++}for(;G<=se&&G<=ue;){const fe=g[se],Ee=S[ue]=K?Nt(S[ue]):pt(S[ue]);if(fs(fe,Ee))E(fe,Ee,R,null,$,L,q,j,K);else break;se--,ue--}if(G>se){if(G<=ue){const fe=ue+1,Ee=fe<_e?S[fe].el:D;for(;G<=ue;)E(null,S[G]=K?Nt(S[G]):pt(S[G]),R,Ee,$,L,q,j,K),G++}}else if(G>ue)for(;G<=se;)me(g[G],$,L,!0),G++;else{const fe=G,Ee=G,Re=new Map;for(G=Ee;G<=ue;G++){const je=S[G]=K?Nt(S[G]):pt(S[G]);je.key!=null&&Re.set(je.key,G)}let Te,Fe=0;const ke=ue-Ee+1;let nt=!1,ze=0;const bt=new Array(ke);for(G=0;G<ke;G++)bt[G]=0;for(G=fe;G<=se;G++){const je=g[G];if(Fe>=ke){me(je,$,L,!0);continue}let Qe;if(je.key!=null)Qe=Re.get(je.key);else for(Te=Ee;Te<=ue;Te++)if(bt[Te-Ee]===0&&fs(je,S[Te])){Qe=Te;break}Qe===void 0?me(je,$,L,!0):(bt[Qe-Ee]=G+1,Qe>=ze?ze=Qe:nt=!0,E(je,S[Qe],R,null,$,L,q,j,K),Fe++)}const $t=nt?Md(bt):Xt;for(Te=$t.length-1,G=ke-1;G>=0;G--){const je=Ee+G,Qe=S[je],Js=S[je+1],Ws=je+1<_e?Js.el||Js.placeholder:D;bt[G]===0?E(null,Qe,R,Ws,$,L,q,j,K):nt&&(Te<0||G!==$t[Te]?ce(Qe,R,Ws,2):Te--)}}},ce=(g,S,R,D,$=null)=>{const{el:L,type:q,transition:j,children:K,shapeFlag:G}=g;if(G&6){ce(g.component.subTree,S,R,D);return}if(G&128){g.suspense.move(S,R,D);return}if(G&64){q.move(g,S,R,ee);return}if(q===Ce){o(L,S,R);for(let se=0;se<K.length;se++)ce(K[se],S,R,D);o(g.anchor,S,R);return}if(q===Pn){N(g,S,R);return}if(D!==2&&G&1&&j)if(D===0)j.beforeEnter(L),o(L,S,R),We(()=>j.enter(L),$);else{const{leave:se,delayLeave:ue,afterLeave:fe}=j,Ee=()=>{g.ctx.isUnmounted?n(L):o(L,S,R)},Re=()=>{L._isLeaving&&L[ed](!0),se(L,()=>{Ee(),fe&&fe()})};ue?ue(L,Ee,Re):Re()}else o(L,S,R)},me=(g,S,R,D=!1,$=!1)=>{const{type:L,props:q,ref:j,children:K,dynamicChildren:G,shapeFlag:_e,patchFlag:se,dirs:ue,cacheIndex:fe}=g;if(se===-2&&($=!1),j!=null&&(lt(),ls(j,null,R,g,!0),ct()),fe!=null&&(S.renderCache[fe]=void 0),_e&256){S.ctx.deactivate(g);return}const Ee=_e&1&&ue,Re=!cs(g);let Te;if(Re&&(Te=q&&q.onVnodeBeforeUnmount)&&_t(Te,S,g),_e&6)m(g.component,R,D);else{if(_e&128){g.suspense.unmount(R,D);return}Ee&&kt(g,null,S,"beforeUnmount"),_e&64?g.type.remove(g,S,R,ee,D):G&&!G.hasOnce&&(L!==Ce||se>0&&se&64)?f(G,S,R,!1,!0):(L===Ce&&se&384||!$&&_e&16)&&f(K,S,R),D&&te(g)}(Re&&(Te=q&&q.onVnodeUnmounted)||Ee)&&We(()=>{Te&&_t(Te,S,g),Ee&&kt(g,null,S,"unmounted")},R)},te=g=>{const{type:S,el:R,anchor:D,transition:$}=g;if(S===Ce){P(R,D);return}if(S===Pn){M(g);return}const L=()=>{n(R),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(g.shapeFlag&1&&$&&!$.persisted){const{leave:q,delayLeave:j}=$,K=()=>q(R,L);j?j(g.el,L,K):K()}else L()},P=(g,S)=>{let R;for(;g!==S;)R=A(g),n(g),g=R;n(S)},m=(g,S,R)=>{const{bum:D,scope:$,job:L,subTree:q,um:j,m:K,a:G}=g;Jo(K),Jo(G),D&&ys(D),$.stop(),L&&(L.flags|=8,me(q,g,S,R)),j&&We(j,S),We(()=>{g.isUnmounted=!0},S)},f=(g,S,R,D=!1,$=!1,L=0)=>{for(let q=L;q<g.length;q++)me(g[q],S,R,D,$)},C=g=>{if(g.shapeFlag&6)return C(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const S=A(g.anchor||g.el),R=S&&S[Qc];return R?A(R):S};let F=!1;const re=(g,S,R)=>{g==null?S._vnode&&me(S._vnode,null,null,!0):E(S._vnode||null,g,S,null,null,null,R),S._vnode=g,F||(F=!0,Ao(),yo(),F=!1)},ee={p:E,um:me,m:ce,r:te,mt:ae,mc:oe,pc:x,pbc:H,n:C,o:e};return{render:re,hydrate:void 0,createApp:Ed(re)}}function xn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Lt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Nd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function jo(e,t,s=!1){const o=e.children,n=t.children;if(he(o)&&he(n))for(let r=0;r<o.length;r++){const l=o[r];let c=n[r];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=n[r]=Nt(n[r]),c.el=l.el),!s&&c.patchFlag!==-2&&jo(l,c)),c.type===Fs&&c.patchFlag!==-1&&(c.el=l.el),c.type===Pt&&!c.el&&(c.el=l.el)}}function Md(e){const t=e.slice(),s=[0];let o,n,r,l,c;const a=e.length;for(o=0;o<a;o++){const h=e[o];if(h!==0){if(n=s[s.length-1],e[n]<h){t[o]=n,s.push(o);continue}for(r=0,l=s.length-1;r<l;)c=r+l>>1,e[s[c]]<h?r=c+1:l=c;h<e[s[r]]&&(r>0&&(t[o]=s[r-1]),s[r]=o)}}for(r=s.length,l=s[r-1];r-- >0;)s[r]=l,l=t[l];return s}function Ko(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ko(t)}function Jo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Id=Symbol.for("v-scx"),$d=()=>Ys(Id);function $e(e,t,s){return Wo(e,t,s)}function Wo(e,t,s=xe){const{immediate:o,deep:n,flush:r,once:l}=s,c=Ge({},s),a=t&&o||!t&&r!=="post";let h;if(ms){if(r==="sync"){const O=$d();h=O.__watcherHandles||(O.__watcherHandles=[])}else if(!a){const O=()=>{};return O.stop=rt,O.resume=rt,O.pause=rt,O}}const p=Be;c.call=(O,y,E)=>dt(O,p,y,E);let _=!1;r==="post"?c.scheduler=O=>{We(O,p&&p.suspense)}:r!=="sync"&&(_=!0,c.scheduler=(O,y)=>{y?O():Sn(O)}),c.augmentJob=O=>{t&&(O.flags|=4),_&&(O.flags|=2,p&&(O.id=p.uid,O.i=p))};const A=Vc(e,t,c);return ms&&(h?h.push(A):a&&A()),A}function wd(e,t,s){const o=this.proxy,n=we(e)?e.includes(".")?qo(o,e):()=>o[e]:e.bind(o,o);let r;ge(t)?r=t:(r=t.handler,s=t);const l=hs(this),c=Wo(n,r.bind(o),s);return l(),c}function qo(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const Dd=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Tt(t)}Modifiers`]||e[`${vt(t)}Modifiers`];function kd(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||xe;let n=s;const r=t.startsWith("update:"),l=r&&Dd(o,t.slice(7));l&&(l.trim&&(n=s.map(p=>we(p)?p.trim():p)),l.number&&(n=s.map(bs)));let c,a=o[c=tn(t)]||o[c=tn(Tt(t))];!a&&r&&(a=o[c=tn(vt(t))]),a&&dt(a,e,6,n);const h=o[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,dt(h,e,6,n)}}const Ld=new WeakMap;function zo(e,t,s=!1){const o=s?Ld:t.emitsCache,n=o.get(e);if(n!==void 0)return n;const r=e.emits;let l={},c=!1;if(!ge(e)){const a=h=>{const p=zo(h,t,!0);p&&(c=!0,Ge(l,p))};!s&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!r&&!c?(Pe(e)&&o.set(e,null),null):(he(r)?r.forEach(a=>l[a]=null):Ge(l,r),Pe(e)&&o.set(e,l),l)}function Xs(e,t){return!e||!Es(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,vt(t))||ve(e,t))}function Vb(){}function Qo(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[r],slots:l,attrs:c,emit:a,render:h,renderCache:p,props:_,data:A,setupState:O,ctx:y,inheritAttrs:E}=e,I=Ds(e);let U,Z;try{if(s.shapeFlag&4){const M=n||o,X=M;U=pt(h.call(X,M,p,_,O,A,y)),Z=c}else{const M=t;U=pt(M.length>1?M(_,{attrs:c,slots:l,emit:a}):M(_,null)),Z=t.props?c:Ud(c)}}catch(M){ps.length=0,$s(M,e,1),U=st(Pt)}let N=U;if(Z&&E!==!1){const M=Object.keys(Z),{shapeFlag:X}=N;M.length&&X&7&&(r&&M.some(Qs)&&(Z=Yd(Z,r)),N=qt(N,Z,!1,!0))}return s.dirs&&(N=qt(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(s.dirs):s.dirs),s.transition&&En(N,s.transition),U=N,Ds(I),U}const Ud=e=>{let t;for(const s in e)(s==="class"||s==="style"||Es(s))&&((t||(t={}))[s]=e[s]);return t},Yd=(e,t)=>{const s={};for(const o in e)(!Qs(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Xd(e,t,s){const{props:o,children:n,component:r}=e,{props:l,children:c,patchFlag:a}=t,h=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return o?Zo(o,l,h):!!l;if(a&8){const p=t.dynamicProps;for(let _=0;_<p.length;_++){const A=p[_];if(l[A]!==o[A]&&!Xs(h,A))return!0}}}else return(n||c)&&(!c||!c.$stable)?!0:o===l?!1:o?l?Zo(o,l,h):!0:!!l;return!1}function Zo(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const r=o[n];if(t[r]!==e[r]&&!Xs(s,r))return!0}return!1}function Fd({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const ei=e=>e.__isSuspense;function Gd(e,t){t&&t.pendingBranch?he(e)?t.effects.push(...e):t.effects.push(e):qc(e)}const Ce=Symbol.for("v-fgt"),Fs=Symbol.for("v-txt"),Pt=Symbol.for("v-cmt"),Pn=Symbol.for("v-stc"),ps=[];let qe=null;function b(e=!1){ps.push(qe=e?null:[])}function Vd(){ps.pop(),qe=ps[ps.length-1]||null}let _s=1;function ti(e,t=!1){_s+=e,e<0&&qe&&t&&(qe.hasOnce=!0)}function si(e){return e.dynamicChildren=_s>0?qe||Xt:null,Vd(),_s>0&&qe&&qe.push(e),e}function T(e,t,s,o,n,r){return si(i(e,t,s,o,n,r,!0))}function St(e,t,s,o,n){return si(st(e,t,s,o,n,!0))}function ni(e){return e?e.__v_isVNode===!0:!1}function fs(e,t){return e.type===t.type&&e.key===t.key}const oi=({key:e})=>e!=null?e:null,Gs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?we(e)||Ye(e)||ge(e)?{i:et,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,n=null,r=e===Ce?0:1,l=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&oi(t),ref:t&&Gs(t),scopeId:To,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:et};return c?(Mn(a,s),r&128&&e.normalize(a)):s&&(a.shapeFlag|=we(s)?8:16),_s>0&&!l&&qe&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&qe.push(a),a}const st=Hd;function Hd(e,t=null,s=null,o=0,n=null,r=!1){if((!e||e===pd)&&(e=Pt),ni(e)){const c=qt(e,t,!0);return s&&Mn(c,s),_s>0&&!r&&qe&&(c.shapeFlag&6?qe[qe.indexOf(e)]=c:qe.push(c)),c.patchFlag=-2,c}if(ou(e)&&(e=e.__vccOpts),t){t=Bd(t);let{class:c,style:a}=t;c&&!we(c)&&(t.class=De(c)),Pe(a)&&(gn(a)&&!he(a)&&(a=Ge({},a)),t.style=Vt(a))}const l=we(e)?1:ei(e)?128:Zc(e)?64:Pe(e)?4:ge(e)?2:0;return i(e,t,s,o,n,l,r,!0)}function Bd(e){return e?gn(e)||Yo(e)?Ge({},e):e:null}function qt(e,t,s=!1,o=!1){const{props:n,ref:r,patchFlag:l,children:c,transition:a}=e,h=t?jd(n||{},t):n,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&oi(h),ref:t&&t.ref?s&&r?he(r)?r.concat(Gs(t)):[r,Gs(t)]:Gs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qt(e.ssContent),ssFallback:e.ssFallback&&qt(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&o&&En(p,a.clone(p)),p}function Nn(e=" ",t=0){return st(Fs,null,e,t)}function Ae(e="",t=!1){return t?(b(),St(Pt,null,e)):st(Pt,null,e)}function pt(e){return e==null||typeof e=="boolean"?st(Pt):he(e)?st(Ce,null,e.slice()):ni(e)?Nt(e):st(Fs,null,String(e))}function Nt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qt(e)}function Mn(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(he(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),Mn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Yo(t)?t._ctx=et:n===3&&et&&(et.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ge(t)?(t={default:t,_ctx:et},s=32):(t=String(t),o&64?(s=16,t=[Nn(t)]):s=8);e.children=t,e.shapeFlag|=s}function jd(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=De([t.class,o.class]));else if(n==="style")t.style=Vt([t.style,o.style]);else if(Es(n)){const r=t[n],l=o[n];l&&r!==l&&!(he(r)&&r.includes(l))&&(t[n]=r?[].concat(r,l):l)}else n!==""&&(t[n]=o[n])}return t}function _t(e,t,s,o=null){dt(e,t,7,[s,o])}const Kd=ko();let Jd=0;function Wd(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||Kd,r={uid:Jd++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new hc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fo(o,n),emitsOptions:zo(o,n),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:o.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=kd.bind(null,r),e.ce&&e.ce(r),r}let Be=null;const qd=()=>Be||et;let Vs,In;{const e=Ts(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),r=>{n.length>1?n.forEach(l=>l(r)):n[0](r)}};Vs=t("__VUE_INSTANCE_SETTERS__",s=>Be=s),In=t("__VUE_SSR_SETTERS__",s=>ms=s)}const hs=e=>{const t=Be;return Vs(e),e.scope.on(),()=>{e.scope.off(),Vs(t)}},ii=()=>{Be&&Be.scope.off(),Vs(null)};function ri(e){return e.vnode.shapeFlag&4}let ms=!1;function zd(e,t=!1,s=!1){t&&In(t);const{props:o,children:n}=e.vnode,r=ri(e);yd(e,o,r,t),Od(e,n,s||t);const l=r?Qd(e,t):void 0;return t&&In(!1),l}function Qd(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,_d);const{setup:o}=s;if(o){lt();const n=e.setupContext=o.length>1?eu(e):null,r=hs(e),l=jt(o,e,0,[e.props,n]),c=Gn(l);if(ct(),r(),(c||e.sp)&&!cs(e)&&vo(e),c){if(l.then(ii,ii),t)return l.then(a=>{ai(e,a)}).catch(a=>{$s(a,e,0)});e.asyncDep=l}else ai(e,l)}else li(e)}function ai(e,t,s){ge(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pe(t)&&(e.setupState=mo(t)),li(e)}function li(e,t,s){const o=e.type;e.render||(e.render=o.render||rt);{const n=hs(e);lt();try{fd(e)}finally{ct(),n()}}}const Zd={get(e,t){return Xe(e,"get",""),e[t]}};function eu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Zd),slots:e.slots,emit:e.emit,expose:t}}function Hs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(mo(kc(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ds)return ds[s](e)},has(t,s){return s in t||s in ds}})):e.proxy}const tu=/(?:^|[-_])\w/g,su=e=>e.replace(tu,t=>t.toUpperCase()).replace(/[-_]/g,"");function nu(e,t=!0){return ge(e)?e.displayName||e.name:e.name||t&&e.__name}function ci(e,t,s=!1){let o=nu(t);if(!o&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){const n=r=>{for(const l in r)if(r[l]===t)return l};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?su(o):s?"App":"Anonymous"}function ou(e){return ge(e)&&"__vccOpts"in e}const Se=(e,t)=>Fc(e,t,ms),iu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $n;const di=typeof window!="undefined"&&window.trustedTypes;if(di)try{$n=di.createPolicy("vue",{createHTML:e=>e})}catch(e){}const ui=$n?e=>$n.createHTML(e):e=>e,ru="http://www.w3.org/2000/svg",au="http://www.w3.org/1998/Math/MathML",Et=typeof document!="undefined"?document:null,pi=Et&&Et.createElement("template"),lu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?Et.createElementNS(ru,e):t==="mathml"?Et.createElementNS(au,e):s?Et.createElement(e,{is:s}):Et.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>Et.createTextNode(e),createComment:e=>Et.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Et.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,r){const l=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{pi.innerHTML=ui(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const c=pi.content;if(o==="svg"||o==="mathml"){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}t.insertBefore(c,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},cu=Symbol("_vtc");function du(e,t,s){const o=e[cu];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const _i=Symbol("_vod"),uu=Symbol("_vsh"),pu=Symbol(""),_u=/(?:^|;)\s*display\s*:/;function fu(e,t,s){const o=e.style,n=we(s);let r=!1;if(s&&!n){if(t)if(we(t))for(const l of t.split(";")){const c=l.slice(0,l.indexOf(":")).trim();s[c]==null&&Bs(o,c,"")}else for(const l in t)s[l]==null&&Bs(o,l,"");for(const l in s)l==="display"&&(r=!0),Bs(o,l,s[l])}else if(n){if(t!==s){const l=o[pu];l&&(s+=";"+l),o.cssText=s,r=_u.test(s)}}else t&&e.removeAttribute("style");_i in e&&(e[_i]=r?o.display:"",e[uu]&&(o.display="none"))}const fi=/\s*!important$/;function Bs(e,t,s){if(he(s))s.forEach(o=>Bs(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=hu(e,t);fi.test(s)?e.setProperty(vt(o),s.replace(fi,""),"important"):e[o]=s}}const hi=["Webkit","Moz","ms"],wn={};function hu(e,t){const s=wn[t];if(s)return s;let o=Tt(t);if(o!=="filter"&&o in e)return wn[t]=o;o=Bn(o);for(let n=0;n<hi.length;n++){const r=hi[n]+o;if(r in e)return wn[t]=r}return t}const mi="http://www.w3.org/1999/xlink";function gi(e,t,s,o,n,r=_c(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(mi,t.slice(6,t.length)):e.setAttributeNS(mi,t,s):s==null||r&&!Jn(s)?e.removeAttribute(t):e.setAttribute(t,r?"":at(s)?String(s):s)}function Ci(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ui(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const c=r==="OPTION"?e.getAttribute("value")||"":e.value,a=s==null?e.type==="checkbox"?"on":"":String(s);(c!==a||!("_value"in e))&&(e.value=a),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const c=typeof e[t];c==="boolean"?s=Jn(s):s==null&&c==="string"?(s="",l=!0):c==="number"&&(s=0,l=!0)}try{e[t]=s}catch(c){}l&&e.removeAttribute(n||t)}function Mt(e,t,s,o){e.addEventListener(t,s,o)}function mu(e,t,s,o){e.removeEventListener(t,s,o)}const Si=Symbol("_vei");function gu(e,t,s,o,n=null){const r=e[Si]||(e[Si]={}),l=r[t];if(o&&l)l.value=o;else{const[c,a]=Cu(t);if(o){const h=r[t]=Au(o,n);Mt(e,c,h,a)}else l&&(mu(e,c,l,a),r[t]=void 0)}}const Ei=/(?:Once|Passive|Capture)$/;function Cu(e){let t;if(Ei.test(e)){t={};let o;for(;o=e.match(Ei);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vt(e.slice(2)),t]}let Dn=0;const Su=Promise.resolve(),Eu=()=>Dn||(Su.then(()=>Dn=0),Dn=Date.now());function Au(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;dt(yu(o,s.value),t,5,[o])};return s.value=e,s.attached=Eu(),s}function yu(e,t){if(he(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const Ai=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,bu=(e,t,s,o,n,r)=>{const l=n==="svg";t==="class"?du(e,o,l):t==="style"?fu(e,s,o):Es(t)?Qs(t)||gu(e,t,s,o,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tu(e,t,o,l))?(Ci(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&gi(e,t,o,l,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!we(o))?Ci(e,Tt(t),o,r,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),gi(e,t,o,l))};function Tu(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ai(t)&&ge(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ai(t)&&we(s)?!1:t in e}const zt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return he(t)?s=>ys(t,s):t};function vu(e){e.target.composing=!0}function yi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const At=Symbol("_assign"),pe={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[At]=zt(n);const r=o||n.props&&n.props.type==="number";Mt(e,t?"change":"input",l=>{if(l.target.composing)return;let c=e.value;s&&(c=c.trim()),r&&(c=bs(c)),e[At](c)}),s&&Mt(e,"change",()=>{e.value=e.value.trim()}),t||(Mt(e,"compositionstart",vu),Mt(e,"compositionend",yi),Mt(e,"change",yi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:r}},l){if(e[At]=zt(l),e.composing)return;const c=(r||e.type==="number")&&!/^0\d/.test(e.value)?bs(e.value):e.value,a=t==null?"":t;c!==a&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===a)||(e.value=a))}},Ut={deep:!0,created(e,t,s){e[At]=zt(s),Mt(e,"change",()=>{const o=e._modelValue,n=gs(e),r=e.checked,l=e[At];if(he(o)){const c=sn(o,n),a=c!==-1;if(r&&!a)l(o.concat(n));else if(!r&&a){const h=[...o];h.splice(c,1),l(h)}}else if(Gt(o)){const c=new Set(o);r?c.add(n):c.delete(n),l(c)}else l(vi(e,r))})},mounted:bi,beforeUpdate(e,t,s){e[At]=zt(s),bi(e,t,s)}};function bi(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(he(t))n=sn(t,o.props.value)>-1;else if(Gt(t))n=t.has(o.props.value);else{if(t===s)return;n=es(t,vi(e,!0))}e.checked!==n&&(e.checked=n)}const yt={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=Gt(t);Mt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?bs(gs(l)):gs(l));e[At](e.multiple?n?new Set(r):r:r[0]),e._assigning=!0,So(()=>{e._assigning=!1})}),e[At]=zt(o)},mounted(e,{value:t}){Ti(e,t)},beforeUpdate(e,t,s){e[At]=zt(s)},updated(e,{value:t}){e._assigning||Ti(e,t)}};function Ti(e,t){const s=e.multiple,o=he(t);if(!(s&&!o&&!Gt(t))){for(let n=0,r=e.options.length;n<r;n++){const l=e.options[n],c=gs(l);if(s)if(o){const a=typeof c;a==="string"||a==="number"?l.selected=t.some(h=>String(h)===String(c)):l.selected=sn(t,c)>-1}else l.selected=t.has(c);else if(es(gs(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function gs(e){return"_value"in e?e._value:e.value}function vi(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Ou=["ctrl","shift","alt","meta"],Ru={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ou.some(s=>e[`${s}Key`]&&!t.includes(s))},ft=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...r)=>{for(let l=0;l<t.length;l++){const c=Ru[t[l]];if(c&&c(n,t))return}return e(n,...r)})},xu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Yt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const r=vt(n.key);if(t.some(l=>l===r||xu[l]===r))return e(n)})},Pu=Ge({patchProp:bu},lu);let Oi;function Nu(){return Oi||(Oi=xd(Pu))}const Mu=(...e)=>{const t=Nu().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=$u(o);if(!n)return;const r=t._component;!ge(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,Iu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function Iu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function $u(e){return we(e)?document.querySelector(e):e}const It=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},wu={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},Du={class:"nxp-ec-admin-panel__header"},ku={class:"nxp-ec-admin-panel__title"},Lu={class:"nxp-ec-admin-panel__lead"},Uu={class:"nxp-ec-admin-panel__actions"},Yu=["disabled"],Xu={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Fu={key:1,class:"nxp-ec-dashboard"},Gu={class:"nxp-ec-dashboard__metrics"},Vu={class:"nxp-ec-dashboard__card"},Hu={class:"nxp-ec-dashboard__value"},Bu={class:"nxp-ec-dashboard__hint"},ju={class:"nxp-ec-dashboard__card"},Ku={class:"nxp-ec-dashboard__value"},Ju={class:"nxp-ec-dashboard__hint"},Wu={class:"nxp-ec-dashboard__card"},qu={class:"nxp-ec-dashboard__value"},zu={class:"nxp-ec-dashboard__hint"},Qu={class:"nxp-ec-dashboard__card"},Zu={class:"nxp-ec-dashboard__value"},ep={class:"nxp-ec-dashboard__hint"},tp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},sp={class:"nxp-ec-dashboard__checklist-header"},np={id:"dashboard-checklist-heading"},op={class:"nxp-ec-dashboard__checklist-progress"},ip={class:"nxp-ec-dashboard__checklist-list"},rp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},ap={key:0,class:"fa-solid fa-circle-check"},lp={key:1,class:"fa-regular fa-circle"},cp={class:"nxp-ec-dashboard__checklist-label"},dp=["href"],up=It({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,o=s.translate,n=s.state,r=Se(()=>{var _;const p=(_=n.summary)==null?void 0:_.currency;return typeof p=="string"&&p.trim()!==""?p.trim():"USD"}),l=(p=0)=>{const _=(Number(p)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:r.value}).format(_)}catch(A){return`${r.value} ${_.toFixed(2)}`}},c=Se(()=>Array.isArray(n.checklist)?n.checklist:[]),a=Se(()=>c.value.filter(p=>p.completed).length),h=p=>{switch(p){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return p}};return(p,_)=>(b(),T("section",wu,[i("header",Du,[i("div",null,[i("h2",ku,u(d(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",Lu,u(d(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Uu,[i("button",{class:"nxp-ec-btn",type:"button",onClick:_[0]||(_[0]=A=>p.$emit("refresh")),disabled:d(n).loading},u(d(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,Yu)])]),d(n).error?(b(),T("div",Xu,u(d(n).error),1)):(b(),T("div",Fu,[i("div",Gu,[i("article",Vu,[i("h3",null,u(d(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Hu,u(d(n).summary.products.active),1),i("p",Bu,u(d(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(d(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",ju,[i("h3",null,u(d(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",Ku,u(l(d(n).summary.orders.revenue_today)),1),i("p",Ju,u(d(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(d(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",Wu,[i("h3",null,u(d(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",qu,u(d(n).summary.customers.total),1),i("p",zu,u(d(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Qu,[i("h3",null,u(d(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Zu,u(l(d(n).summary.orders.revenue_month)),1),i("p",ep,u(d(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[r.value.value],"dashboardMetricCurrency")),1)])]),i("section",tp,[i("header",sp,[i("h3",np,u(d(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",op,u(a.value)+" / "+u(c.value.length),1)]),i("ul",ip,[(b(!0),T(Ce,null,be(c.value,A=>(b(),T("li",{key:A.id,class:De({"is-complete":A.completed})},[i("span",rp,[A.completed?(b(),T("span",ap)):(b(),T("span",lp))]),i("span",cp,u(d(o)(A.label,h(A.label))),1),A.link?(b(),T("a",{key:0,href:A.link,class:"nxp-ec-link-button"},u(d(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),9,dp)):Ae("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-e36d17e2"]]),pp={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},_p={id:"nxp-ec-products-caption",class:"visually-hidden"},fp={scope:"col"},hp={scope:"col"},mp={scope:"col"},gp={scope:"col"},Cp={scope:"col"},Sp={scope:"col"},Ep={scope:"col"},Ap={scope:"col",class:"nxp-ec-admin-table__actions"},yp={key:0},bp={colspan:"8",class:"nxp-ec-admin-table__empty"},Tp={class:"nxp-ec-products-table__title"},vp={class:"nxp-ec-products-table__slug"},Op={key:0,class:"nxp-ec-products-table__badge"},Rp={class:"nxp-ec-status nxp-ec-status--featured"},xp={key:0},Pp={key:1},Np={key:0},Mp={key:1},Ip={class:"nxp-ec-admin-table__actions"},$p=["onClick"],wp=["onClick"],Dp={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["edit","delete"],setup(e){const t=e,s=t.translate,o=Se(()=>(t.baseCurrency||"USD").toUpperCase()),n=a=>{var O,y,E,I;const h=(y=(O=a==null?void 0:a.summary)==null?void 0:O.variants)!=null?y:{};if(h.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const p=Number.isFinite(h.price_min_cents)?h.price_min_cents:null,_=Number.isFinite(h.price_max_cents)?h.price_max_cents:null;if(p===null)return"";const A=h.currency||((I=(E=a==null?void 0:a.variants)==null?void 0:E[0])==null?void 0:I.currency)||o.value;return _===null||_===p?c(p,A):`${c(p,A)}  ${c(_,A)}`},r=a=>{var _,A;const h=(A=(_=a==null?void 0:a.summary)==null?void 0:_.variants)!=null?A:{},p=Number.isFinite(h.count)?h.count:Array.isArray(a==null?void 0:a.variants)?a.variants.length:0;return p===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(p)])},l=a=>{if(!Array.isArray(a)||!a.length)return"";const h=a.map(A=>(A==null?void 0:A.title)||(A==null?void 0:A.slug)).filter(A=>!!A);if(!h.length)return"";if(h.length<=3)return h.join(", ");const p=h.slice(0,3).join(", "),_=h.length-3;return`${p} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(_)])}`},c=(a,h)=>`${(a/100).toFixed(2)} ${h}`;return(a,h)=>(b(),T("table",pp,[i("caption",_p,u(d(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",fp,u(d(s)("JGRID_HEADING_ID","ID")),1),i("th",hp,u(d(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",mp,u(d(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",gp,u(d(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",Cp,u(d(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",Sp,u(d(s)("JSTATUS","Status")),1),i("th",Ep,u(d(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",Ap,u(d(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?Ae("",!0):(b(),T("tr",yp,[i("td",bp,u(d(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(b(!0),T(Ce,null,be(e.items,p=>{var _;return b(),T("tr",{key:p.id},[i("td",null,u(p.id),1),i("td",null,[i("div",Tp,u(p.title),1),i("div",vp,u(p.slug),1),p.featured?(b(),T("div",Op,[i("span",Rp,u(d(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])):Ae("",!0)]),i("td",null,[n(p)?(b(),T("span",xp,u(n(p)),1)):(b(),T("span",Pp,u(d(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))]),i("td",null,u(r(p)),1),i("td",null,[(_=p.categories)!=null&&_.length?(b(),T("span",Np,u(l(p.categories)),1)):(b(),T("span",Mp,u(d(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))]),i("td",null,[i("span",{class:De(["nxp-ec-status",p.active?"nxp-ec-status--active":"nxp-ec-status--inactive"])},u(p.active?d(s)("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):d(s)("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive")),3)]),i("td",null,u(p.modified||p.created),1),i("td",Ip,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:A=>a.$emit("edit",p)},u(d(s)("JGLOBAL_EDIT","Edit")),9,$p),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",type:"button",onClick:A=>a.$emit("delete",p)},u(d(s)("JTRASH","Delete")),9,wp)])])}),128))])]))}},kp={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Lp={class:"nxp-ec-modal__dialog"},Up={class:"nxp-ec-modal__header"},Yp={class:"nxp-ec-modal__title"},Xp=["aria-label"],Fp={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Gp={class:"nxp-ec-form-field"},Vp={class:"nxp-ec-form-label",for:"product-title"},Hp={class:"nxp-ec-form-field"},Bp={class:"nxp-ec-form-label",for:"product-slug"},jp=["placeholder"],Kp={class:"nxp-ec-form-field"},Jp={class:"nxp-ec-form-label",for:"product-short-desc"},Wp={class:"nxp-ec-form-field"},qp={class:"nxp-ec-form-label",for:"product-long-desc"},zp={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Qp={class:"nxp-ec-form-label",for:"product-active"},Zp={class:"nxp-ec-form-field nxp-ec-form-field--inline"},e_={class:"nxp-ec-form-label",for:"product-featured"},t_={class:"nxp-ec-form-help"},s_={class:"nxp-ec-form-field"},n_={class:"nxp-ec-form-label",for:"product-images"},o_={id:"product-images",class:"nxp-ec-image-list"},i_=["id","onUpdate:modelValue","placeholder"],r_={class:"nxp-ec-image-row__actions"},a_=["onClick"],l_=["onClick","disabled"],c_=["onClick","disabled"],d_=["onClick","aria-label"],u_={class:"nxp-ec-form-help"},p_={class:"nxp-ec-form-field"},__={class:"nxp-ec-form-label",for:"product-category-select"},f_=["value"],h_={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},m_=["onClick","aria-label"],g_={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},C_=["onKeydown","placeholder"],S_={class:"nxp-ec-form-help"},E_={class:"nxp-ec-variant-section"},A_={class:"nxp-ec-variant-section__header"},y_={class:"nxp-ec-variant-section__title"},b_={class:"nxp-ec-form-help"},T_={class:"nxp-ec-variant-card__header"},v_={class:"nxp-ec-variant-card__title"},O_=["onClick"],R_=["onClick","disabled"],x_={class:"nxp-ec-variant-card__grid"},P_={class:"nxp-ec-form-field"},N_=["for"],M_=["id","onUpdate:modelValue"],I_={class:"nxp-ec-form-field"},$_=["for"],w_=["id","onUpdate:modelValue","onBlur"],D_={class:"nxp-ec-form-field"},k_=["for"],L_=["id","onUpdate:modelValue"],U_={class:"nxp-ec-form-help"},Y_={class:"nxp-ec-form-field"},X_=["for"],F_=["id","onUpdate:modelValue"],G_={class:"nxp-ec-form-field"},V_=["for"],H_=["id","onUpdate:modelValue"],B_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},j_=["for"],K_=["id","onUpdate:modelValue"],J_={class:"nxp-ec-variant-options"},W_={class:"nxp-ec-variant-options__header"},q_={class:"nxp-ec-variant-options__title"},z_=["onClick"],Q_={class:"nxp-ec-form-help"},Z_=["id","onUpdate:modelValue","placeholder"],ef=["id","onUpdate:modelValue","placeholder"],tf=["onClick","aria-label"],sf={class:"nxp-ec-modal__actions"},nf=["disabled"],of=["disabled"],rf=It({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,r=Se(()=>(s.baseCurrency||"USD").toUpperCase()),l=P=>{var m,f,C,F,re,ee,Oe,g;if(P==null)return null;if(typeof P=="string"){const S=P.trim();return S===""?null:{id:0,title:S,slug:""}}if(typeof P=="object"){const S=Number.parseInt((f=(m=P.id)!=null?m:P.value)!=null?f:0,10)||0,R=(Oe=(ee=(re=(F=(C=P.title)!=null?C:P.name)!=null?F:P.text)!=null?re:P.label)!=null?ee:P.slug)!=null?Oe:"",D=String(R!=null?R:"").trim(),$=String((g=P.slug)!=null?g:"").trim();return S<=0&&D===""?null:{id:S>0?S:0,title:D!==""?D:$,slug:$}}return null},c=Ie({title:"",slug:"",short_desc:"",long_desc:"",active:!0,featured:!1,images:[],categories:[],variants:[]}),a=Le(""),h=Le(!1),p=Se(()=>{const m=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(l).filter(C=>C&&C.id>0&&C.title!==""),f=new Map;return m.forEach(C=>{f.set(C.id,C)}),c.categories.forEach(C=>{var F;C.id>0&&C.title&&!f.has(C.id)&&f.set(C.id,{id:C.id,title:C.title,slug:(F=C.slug)!=null?F:""})}),Array.from(f.values()).sort((C,F)=>C.title.localeCompare(F.title))}),_=Se(()=>{const P=new Map;return p.value.forEach(m=>{var f;P.set(m.id,{title:m.title,slug:(f=m.slug)!=null?f:""})}),P}),A=Se({get:()=>c.categories.filter(P=>P.id>0).map(P=>P.id),set:P=>{const m=Array.isArray(P)?P:[],f=Array.from(new Set(m.map(re=>Number.parseInt(re!=null?re:0,10)||0).filter(re=>re>0))),C=c.categories.filter(re=>!(re.id>0)),F=f.map(re=>{const ee=_.value.get(re),Oe=c.categories.find(R=>R.id===re),g=(ee==null?void 0:ee.title)||(Oe==null?void 0:Oe.title)||"",S=(ee==null?void 0:ee.slug)||(Oe==null?void 0:Oe.slug)||"";return g===""?null:{id:re,title:g,slug:S}}).filter(re=>re!==null);c.categories.splice(0,c.categories.length,...F,...C)}}),O=Se(()=>s.product&&s.product.id?"edit":"create"),y=()=>({id:0,sku:"",price:"",currency:r.value,stock:0,weight:"",active:!0,options:[]}),E=()=>({name:"",value:""}),I=P=>P?P.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",U=()=>{h.value=!0,c.slug=I(c.slug)},Z=P=>{const f=(Array.isArray(P)?P:[]).map(l).filter(re=>re&&(re.id>0||re.title!=="")),C=new Set,F=[];f.forEach(re=>{const ee=re.id>0?`id:${re.id}`:`title:${re.title.toLowerCase()}`;C.has(ee)||(C.add(ee),F.push(re))}),c.categories.splice(0,c.categories.length,...F)},N=P=>{c.variants.splice(0,c.variants.length,...P)},M=P=>{c.images.splice(0,c.images.length,...P)},X=P=>Array.isArray(P)?P.map(m=>{var f,C,F;return{name:String((C=(f=m==null?void 0:m.name)!=null?f:m==null?void 0:m.key)!=null?C:"").trim(),value:String((F=m==null?void 0:m.value)!=null?F:"").trim()}}):P&&typeof P=="object"?Object.entries(P).map(([m,f])=>({name:String(m!=null?m:"").trim(),value:String(f!=null?f:"").trim()})):[],z=P=>!Array.isArray(P)||P.length===0?[y()]:P.map(m=>{var f,C,F,re;return{id:Number.parseInt((f=m==null?void 0:m.id)!=null?f:0,10)||0,sku:String((C=m==null?void 0:m.sku)!=null?C:"").trim(),price:(m==null?void 0:m.price)!=null?String(m.price):Number.isFinite(m==null?void 0:m.price_cents)?(m.price_cents/100).toFixed(2):"",currency:String((F=m==null?void 0:m.currency)!=null?F:r.value).toUpperCase(),stock:Number.parseInt((re=m==null?void 0:m.stock)!=null?re:0,10)||0,weight:(m==null?void 0:m.weight)!=null?String(m.weight):"",active:(m==null?void 0:m.active)!==void 0?!!m.active:!0,options:X(m==null?void 0:m.options)}}),ie=P=>{var F,re,ee,Oe;const m=P?JSON.parse(JSON.stringify(P)):{};c.title=(F=m.title)!=null?F:"",c.slug=(re=m.slug)!=null?re:"",c.short_desc=(ee=m.short_desc)!=null?ee:"",c.long_desc=(Oe=m.long_desc)!=null?Oe:"",c.active=m.active!==void 0?!!m.active:!0,c.featured=m.featured!==void 0?!!m.featured:!1;const f=Array.isArray(m.images)?m.images.map(g=>String(g!=null?g:"").trim()).filter(Boolean):[];M(f);const C=Array.isArray(m.categories)?m.categories:[];Z(C),a.value="",N(z(m.variants)),h.value=!!c.slug};$e(()=>s.product,P=>{ie(P)},{immediate:!0}),$e(()=>c.title,P=>{h.value||(c.slug=I(P))}),$e(r,P=>{c.variants.forEach(m=>{m.currency=P})});const oe=()=>{const P=a.value.trim();if(!P)return;const m=P.toLowerCase(),f=c.categories.slice();f.some(F=>F.title.toLowerCase()===m)||(f.push({id:0,title:P,slug:""}),c.categories.splice(0,c.categories.length,...f)),a.value=""},V=P=>{if(P<0||P>=c.categories.length)return;const m=c.categories.slice();m.splice(P,1),c.categories.splice(0,c.categories.length,...m)},H=()=>{c.variants.push(y())},W=P=>{c.variants.length<=1||c.variants.splice(P,1)},Q=P=>{const m=c.variants[P];m&&(Array.isArray(m.options)||(m.options=[]),m.options.push(E()))},B=(P,m)=>{const f=c.variants[P];!f||!Array.isArray(f.options)||f.options.splice(m,1)},ae=(P,m)=>`${P.id||"new"}-${m}`,J=P=>{const m=c.variants[P];if(!m)return;const f=JSON.parse(JSON.stringify(m));f.id=0,f.sku=[f.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),f.active=!0,c.variants.splice(P+1,0,f)},le=P=>{const m=c.variants[P];if(!m)return;const f=Number.parseFloat(m.price);Number.isNaN(f)||(m.price=f.toFixed(2))},k=()=>{Array.isArray(c.images)||(c.images=[])},x=()=>{k(),c.images.push("")},w=P=>{k(),c.images.splice(P,1)},v=(P,m)=>{k();const f=c.images[P];if(f===void 0)return;const C=P+m;C<0||C>=c.images.length||(c.images.splice(P,1),c.images.splice(C,0,f))},ce=P=>{var C;k();const m=(C=c.images[P])!=null?C:"";if(typeof window=="undefined")return;const f=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),m);f!==null&&f.trim()!==""&&(c.images[P]=f.trim())},me=()=>{var F,re;k();const P=Array.from(new Set(c.images.map(ee=>String(ee!=null?ee:"").trim()).filter(ee=>ee!==""))),m=c.categories.map(ee=>{var R,D,$;const Oe=Number.parseInt((R=ee==null?void 0:ee.id)!=null?R:0,10)||0,g=String((D=ee==null?void 0:ee.title)!=null?D:"").trim(),S=String(($=ee==null?void 0:ee.slug)!=null?$:"").trim();return Oe>0?{id:Oe,title:g,slug:S}:g===""?null:{id:0,title:g,slug:""}}).filter(ee=>ee!==null),f=c.variants.map(ee=>{const Oe=Array.isArray(ee.options)?ee.options.map(R=>{var D,$;return{name:String((D=R==null?void 0:R.name)!=null?D:"").trim(),value:String(($=R==null?void 0:R.value)!=null?$:"").trim()}}).filter(R=>R.name!==""&&R.value!==""):[],g=Number.isFinite(Number(ee.stock))?Math.max(0,parseInt(ee.stock,10)):0,S=ee.weight!==null&&ee.weight!==""?String(ee.weight).trim():null;return{id:ee.id||0,sku:ee.sku.trim(),price:ee.price!==null&&ee.price!==void 0?String(ee.price).trim():"",currency:ee.currency?String(ee.currency).trim().toUpperCase():r.value,stock:g,weight:S,active:!!ee.active,options:Oe}}),C={title:c.title.trim(),slug:c.slug.trim(),short_desc:(F=c.short_desc)!=null?F:"",long_desc:(re=c.long_desc)!=null?re:"",active:!!c.active,featured:!!c.featured,images:P,categories:m,variants:f};o("submit",C)},te=()=>{o("cancel")};return $e(()=>s.saving,(P,m)=>{m&&!P&&s.errors.length===0&&O.value==="create"&&(ie(null),a.value="",h.value=!1)}),(P,m)=>e.open?(b(),T("div",kp,[m[8]||(m[8]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",Lp,[i("header",Up,[i("h2",Yp,u(O.value==="edit"?d(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):d(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:te,"aria-label":d(n)("JCLOSE","Close")},"  ",8,Xp)]),i("form",{class:"nxp-ec-form",onSubmit:ft(me,["prevent"])},[e.errors.length?(b(),T("div",Fp,[(b(!0),T(Ce,null,be(e.errors,(f,C)=>(b(),T("p",{key:C},u(f),1))),128))])):Ae("",!0),i("div",Gp,[i("label",Vp,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),ne(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[0]||(m[0]=f=>c.title=f),required:""},null,512),[[pe,c.title,void 0,{trim:!0}]])]),i("div",Hp,[i("label",Bp,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),ne(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[1]||(m[1]=f=>c.slug=f),onInput:U,placeholder:d(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,jp),[[pe,c.slug,void 0,{trim:!0}]])]),i("div",Kp,[i("label",Jp,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),ne(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":m[2]||(m[2]=f=>c.short_desc=f)},null,512),[[pe,c.short_desc]])]),i("div",Wp,[i("label",qp,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),ne(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":m[3]||(m[3]=f=>c.long_desc=f)},null,512),[[pe,c.long_desc]])]),i("div",zp,[i("label",Qp,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_ACTIVE","Published")),1),ne(i("input",{id:"product-active",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":m[4]||(m[4]=f=>c.active=f)},null,512),[[Ut,c.active]])]),i("div",Zp,[i("label",e_,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),ne(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":m[5]||(m[5]=f=>c.featured=f)},null,512),[[Ut,c.featured]]),i("p",t_,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",s_,[i("label",n_,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",o_,[(b(!0),T(Ce,null,be(c.images,(f,C)=>(b(),T("div",{key:`product-image-${C}`,class:"nxp-ec-image-row"},[ne(i("input",{id:`product-image-${C}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F=>c.images[C]=F,placeholder:d(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,i_),[[pe,c.images[C],void 0,{trim:!0}]]),i("div",r_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:F=>ce(C)},u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select",[],"productImagesSelect")),9,a_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:F=>v(C,-1),disabled:C===0},u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,l_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:F=>v(C,1),disabled:C===c.images.length-1},u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,c_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:F=>w(C),"aria-label":d(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},u(d(n)("COM_NXPEASYCART_REMOVE","Remove")),9,d_)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:x},u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",u_,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",p_,[i("label",__,u(d(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),ne(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":m[6]||(m[6]=f=>A.value=f)},[(b(!0),T(Ce,null,be(p.value,f=>(b(),T("option",{key:f.id,value:f.id},u(f.title),9,f_))),128))],512),[[yt,A.value]]),i("div",h_,[(b(!0),T(Ce,null,be(c.categories,(f,C)=>(b(),T("span",{key:`selected-category-${C}`,class:"nxp-ec-chip"},[Nn(u(f.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:F=>V(C),"aria-label":d(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,m_)]))),128))]),i("div",g_,[ne(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":m[7]||(m[7]=f=>a.value=f),onKeydown:Yt(ft(oe,["prevent"]),["enter"]),placeholder:d(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,C_),[[pe,a.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:oe},u(d(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",S_,u(d(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",E_,[i("header",A_,[i("h3",y_,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:H},u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",b_,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price and currency.")),1),(b(!0),T(Ce,null,be(c.variants,(f,C)=>(b(),T("article",{key:ae(f,C),class:"nxp-ec-variant-card"},[i("header",T_,[i("h4",v_,u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(C+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:F=>J(C)},u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,O_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:F=>W(C),disabled:c.variants.length<=1},u(d(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,R_)]),i("div",x_,[i("div",P_,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${C}`},u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,N_),ne(i("input",{id:`variant-sku-${C}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F=>f.sku=F,required:""},null,8,M_),[[pe,f.sku,void 0,{trim:!0}]])]),i("div",I_,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${C}`},u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,$_),ne(i("input",{id:`variant-price-${C}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":F=>f.price=F,onBlur:F=>le(C),required:""},null,40,w_),[[pe,f.price,void 0,{trim:!0}]])]),i("div",D_,[i("label",{class:"nxp-ec-form-label",for:`variant-currency-${C}`},u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY","Currency")),9,k_),ne(i("input",{id:`variant-currency-${C}`,class:"nxp-ec-form-input",type:"text",maxlength:"3","onUpdate:modelValue":F=>f.currency=F,readonly:"","aria-readonly":"true"},null,8,L_),[[pe,f.currency,void 0,{trim:!0}]]),i("p",U_,u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_HELP","Variants inherit the store base currency (%s).",[r.value])),1)]),i("div",Y_,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${C}`},u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,X_),ne(i("input",{id:`variant-stock-${C}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":F=>f.stock=F},null,8,F_),[[pe,f.stock,void 0,{number:!0}]])]),i("div",G_,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${C}`},u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,V_),ne(i("input",{id:`variant-weight-${C}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":F=>f.weight=F},null,8,H_),[[pe,f.weight,void 0,{trim:!0}]])]),i("div",B_,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${C}`},u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,j_),ne(i("input",{id:`variant-active-${C}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":F=>f.active=F},null,8,K_),[[Ut,f.active]])])]),i("section",J_,[i("header",W_,[i("h5",q_,u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:F=>Q(C)},u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,z_)]),i("p",Q_,u(d(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(b(!0),T(Ce,null,be(f.options,(F,re)=>(b(),T("div",{key:`variant-${C}-option-${re}`,class:"nxp-ec-variant-option-row"},[ne(i("input",{id:`variant-${C}-option-name-${re}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":ee=>F.name=ee,placeholder:d(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,Z_),[[pe,F.name,void 0,{trim:!0}]]),ne(i("input",{id:`variant-${C}-option-value-${re}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":ee=>F.value=ee,placeholder:d(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,ef),[[pe,F.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:ee=>B(C,re),"aria-label":d(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},u(d(n)("COM_NXPEASYCART_REMOVE","Remove")),9,tf)]))),128))])]))),128))]),i("footer",sf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:te,disabled:e.saving},u(d(n)("JCANCEL","Cancel")),9,nf),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},u(e.saving?d(n)("JPROCESSING_REQUEST","Saving"):d(n)("JSAVE","Save")),9,of)])],32)])])):Ae("",!0)}},[["__scopeId","data-v-c17c2171"]]),af={class:"nxp-ec-admin-panel"},lf={class:"nxp-ec-admin-panel__header"},cf={class:"nxp-ec-admin-panel__title"},df={class:"nxp-ec-admin-panel__lead"},uf={class:"nxp-ec-admin-panel__actions"},pf=["placeholder","aria-label"],_f=["disabled"],ff={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hf={key:1,class:"nxp-ec-admin-panel__loading"},mf={key:2,class:"nxp-ec-admin-panel__body"},gf={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,r=Ie({mode:"create",product:null}),l=Le(!1),c=Se(()=>(s.baseCurrency||"USD").toUpperCase()),a=Se(()=>r.product),h=()=>{s.state.validationErrors=[],s.state.error="",r.mode="create",r.product={title:"",slug:"",short_desc:"",long_desc:"",active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},p=I=>{s.state.validationErrors=[],s.state.error="",r.mode="edit",r.product=JSON.parse(JSON.stringify(I)),l.value=!0},_=()=>{l.value=!1,s.state.validationErrors=[]},A=async I=>{var Z;const U={...I,active:I.active?1:0,featured:I.featured?1:0};r.mode==="edit"&&((Z=r.product)!=null&&Z.id)?o("update",{id:r.product.id,data:U}):o("create",U)},O=async I=>{var N;const U=(N=I==null?void 0:I.title)!=null?N:"",Z=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[U||"#"]);window.confirm(Z)&&o("delete",[I.id])},y=()=>{o("refresh")},E=()=>{o("search")};return $e(()=>s.state.saving,(I,U)=>{U&&!I&&l.value&&!s.state.validationErrors.length&&!s.state.error&&_()}),(I,U)=>(b(),T("section",af,[i("header",lf,[i("div",null,[i("h2",cf,u(d(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",df,u(d(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",uf,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:d(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":U[0]||(U[0]=Z=>e.state.search=Z),onKeyup:Yt(E,["enter"]),"aria-label":d(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,pf),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn",type:"button",onClick:y,disabled:e.state.loading},u(d(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),9,_f),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:h},u(d(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])]),e.state.error?(b(),T("div",ff,u(e.state.error),1)):e.state.loading?(b(),T("div",hf,u(d(n)("COM_NXPEASYCART_PRODUCTS_LOADING","Loading products",[],"productsLoading")),1)):(b(),T("div",mf,[st(Dp,{items:e.state.items,translate:d(n),"base-currency":c.value,onEdit:p,onDelete:O},null,8,["items","translate","base-currency"])])),st(rf,{open:l.value,product:a.value,saving:e.state.saving,"base-currency":c.value,translate:d(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,onSubmit:A,onCancel:_},null,8,["open","product","saving","base-currency","translate","errors","category-options"])]))}},Cf={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Sf={class:"nxp-ec-admin-panel__header"},Ef={class:"nxp-ec-admin-panel__title"},Af={class:"nxp-ec-admin-panel__lead"},yf={class:"nxp-ec-admin-panel__actions"},bf=["placeholder","aria-label"],Tf=["disabled"],vf={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Of={key:1,class:"nxp-ec-admin-panel__loading"},Rf={key:2,class:"nxp-ec-admin-panel__body"},xf={class:"nxp-ec-admin-panel__table"},Pf={class:"nxp-ec-admin-table"},Nf={scope:"col"},Mf={scope:"col"},If={scope:"col"},$f={scope:"col"},wf={scope:"col"},Df={key:0},kf={colspan:"6"},Lf={scope:"row"},Uf={class:"nxp-ec-admin-table__actions"},Yf=["onClick"],Xf=["disabled","onClick"],Ff={key:0,class:"nxp-ec-admin-pagination"},Gf=["disabled"],Vf={class:"nxp-ec-admin-pagination__status"},Hf=["disabled"],Bf={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},jf={class:"nxp-ec-modal__dialog"},Kf={class:"nxp-ec-modal__header"},Jf={class:"nxp-ec-modal__title"},Wf=["aria-label"],qf={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},zf={class:"nxp-ec-form-field"},Qf={class:"nxp-ec-form-label",for:"category-title"},Zf={class:"nxp-ec-form-field"},eh={class:"nxp-ec-form-label",for:"category-slug"},th={class:"nxp-ec-form-field"},sh={class:"nxp-ec-form-label",for:"category-parent"},nh={value:""},oh=["value"],ih={class:"nxp-ec-form-field"},rh={class:"nxp-ec-form-label",for:"category-sort"},ah={class:"nxp-ec-modal__actions"},lh=["disabled"],ch={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,r=Le(!1),l=Le(!1),c=Le([]),a=V=>{const W=(Array.isArray(V)?V:[]).map(v=>{var ce,me,te,P,m;return{...v,id:Number.parseInt((ce=v==null?void 0:v.id)!=null?ce:0,10)||0,parent_id:(v==null?void 0:v.parent_id)!=null&&Number.parseInt(v.parent_id,10)||0,sort:Number.parseInt((me=v==null?void 0:v.sort)!=null?me:0,10)||0,title:String((te=v==null?void 0:v.title)!=null?te:"").trim(),slug:String((P=v==null?void 0:v.slug)!=null?P:"").trim(),usage:(m=v==null?void 0:v.usage)!=null?m:0}}).filter(v=>v.id>0||v.title!==""),Q=new Set(W.map(v=>v.id));W.forEach(v=>{Q.has(v.parent_id)||(v.parent_id=0)});const B=new Map,ae=new Map;W.forEach(v=>{ae.set(v.id,v);const ce=v.parent_id||0;B.has(ce)||B.set(ce,[]),B.get(ce).push(v)});const J=v=>v.sort((ce,me)=>{var te,P;return((te=ce.sort)!=null?te:0)-((P=me.sort)!=null?P:0)||ce.title.localeCompare(me.title,void 0,{sensitivity:"base"})});B.forEach(J);const le=new Set,k=[],x=(v,ce,me)=>{if(!v||le.has(v.id)||me.includes(v.id))return;const te=[...me],P=te.map(C=>{var F;return(F=ae.get(C))==null?void 0:F.title}).filter(Boolean),m={...v,depth:ce,path:P.join(" / "),ancestors:te,indentedTitle:ce>0?`${" ".repeat(ce)}${v.title}`:v.title};k.push(m),le.add(v.id),(B.get(v.id)||[]).forEach(C=>x(C,ce+1,[...me,v.id]))},w=W.filter(v=>v.parent_id===0||!Q.has(v.parent_id));return J(w),w.forEach(v=>x(v,0,[])),W.forEach(v=>{le.has(v.id)||x(v,0,[])}),k},h=Se(()=>{var V,H;return a((H=(V=s.state)==null?void 0:V.items)!=null?H:[])}),p=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),_=Ie(p()),A=Se(()=>{var H,W;const V=(W=Array.isArray(c.value)&&c.value.length?c.value:(H=s.state)==null?void 0:H.items)!=null?W:[];return a(V).filter(Q=>Q.id>0&&Q.id!==_.id&&!(Array.isArray(Q.ancestors)&&Q.ancestors.includes(_.id))).map(Q=>({id:Q.id,title:Q.title,label:Q.depth>0?`${" ".repeat(Q.depth)}${Q.title}`:Q.title}))}),O=()=>{Object.assign(_,p()),l.value=!1},y=V=>V?V.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",E=()=>{l.value=!0,_.slug=y(_.slug)};$e(()=>_.title,V=>{l.value||(_.slug=y(V))});const I=async(V=0)=>{if(typeof s.loadOptions!="function"){c.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const H=await s.loadOptions();c.value=Array.isArray(H)?[...H]:[]}catch(H){c.value=[]}c.value=c.value.filter(H=>{var Q,B;return(Number.parseInt((B=(Q=H==null?void 0:H.id)!=null?Q:H==null?void 0:H.value)!=null?B:0,10)||0)!==V})},U=async()=>{O(),await I(),r.value=!0},Z=async V=>{var H,W,Q,B;V&&(_.id=Number.parseInt((H=V.id)!=null?H:0,10)||0,_.title=String((W=V.title)!=null?W:"").trim(),_.slug=String((Q=V.slug)!=null?Q:"").trim(),_.parent_id=V.parent_id!=null&&Number.parseInt(V.parent_id,10)||null,_.sort=Number.parseInt((B=V.sort)!=null?B:0,10)||0,l.value=!!_.slug,await I(_.id),r.value=!0)},N=()=>{r.value=!1,O()},M=()=>{o("refresh")},X=()=>{o("search")},z=V=>{o("page",V)},ie=()=>{const V={id:_.id||void 0,title:_.title.trim(),slug:_.slug.trim(),parent_id:_.parent_id||null,sort:Number.isFinite(_.sort)?_.sort:0};o("save",V)},oe=V=>{if(!V||!V.id)return;const H=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(H)||o("delete",[V.id])};return $e(()=>{var V;return(V=s.state)==null?void 0:V.saving},(V,H)=>{var W,Q,B;H&&!V&&(((Q=(W=s.state)==null?void 0:W.validationErrors)!=null?Q:[]).length>0||(B=s.state)!=null&&B.error||(r.value=!1,O()))}),(V,H)=>(b(),T("section",Cf,[i("header",Sf,[i("div",null,[i("h2",Ef,u(d(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",Af,u(d(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",yf,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:d(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":H[0]||(H[0]=W=>e.state.search=W),onKeyup:Yt(X,["enter"]),"aria-label":d(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,bf),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn",type:"button",onClick:M,disabled:e.state.loading},u(d(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),9,Tf),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:U},u(d(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])]),e.state.error?(b(),T("div",vf,u(e.state.error),1)):e.state.loading?(b(),T("div",Of,u(d(n)("COM_NXPEASYCART_CATEGORIES_LOADING","Loading categories...",[],"categoriesLoading")),1)):(b(),T("div",Rf,[i("div",xf,[i("table",Pf,[i("thead",null,[i("tr",null,[i("th",Nf,u(d(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",Mf,u(d(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",If,u(d(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",$f,u(d(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",wf,u(d(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),H[7]||(H[7]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Ae("",!0):(b(),T("tr",Df,[i("td",kf,u(d(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(b(!0),T(Ce,null,be(h.value,W=>{var Q;return b(),T("tr",{key:W.id,class:De({"is-active":_.id===W.id})},[i("th",Lf,[i("span",{style:Vt({paddingLeft:`${W.depth*1.5}rem`})},u(W.indentedTitle),5)]),i("td",null,u(W.slug||""),1),i("td",null,u(W.path||d(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),i("td",null,u(W.sort),1),i("td",null,u((Q=W.usage)!=null?Q:0),1),i("td",Uf,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:B=>Z(W)},u(d(n)("JEDIT","Edit")),9,Yf),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",type:"button",disabled:e.state.deleting,onClick:B=>oe(W)},u(d(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Xf)])],2)}),128))])]),e.state.pagination.pages>1?(b(),T("div",Ff,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:H[1]||(H[1]=W=>z(e.state.pagination.current-1))},"  ",8,Gf),i("span",Vf,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:H[2]||(H[2]=W=>z(e.state.pagination.current+1))},"  ",8,Hf)])):Ae("",!0)]),r.value?(b(),T("div",Bf,[i("div",{class:"nxp-ec-modal__backdrop",onClick:N}),i("div",jf,[i("header",Kf,[i("h3",Jf,u(_.id?d(n)("JEDIT","Edit"):d(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close",type:"button",onClick:N,"aria-label":d(n)("JCLOSE","Close")},"  ",8,Wf)]),i("form",{class:"nxp-ec-form",onSubmit:ft(ie,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(b(),T("div",qf,[i("ul",null,[(b(!0),T(Ce,null,be(e.state.validationErrors,(W,Q)=>(b(),T("li",{key:Q},u(W),1))),128))])])):Ae("",!0),i("div",zf,[i("label",Qf,u(d(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),ne(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H[3]||(H[3]=W=>_.title=W),required:"",maxlength:"255"},null,512),[[pe,_.title,void 0,{trim:!0}]])]),i("div",Zf,[i("label",eh,u(d(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),ne(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H[4]||(H[4]=W=>_.slug=W),maxlength:"190",onInput:E},null,544),[[pe,_.slug,void 0,{trim:!0}]])]),i("div",th,[i("label",sh,u(d(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),ne(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":H[5]||(H[5]=W=>_.parent_id=W)},[i("option",nh,u(d(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(b(!0),T(Ce,null,be(A.value,W=>(b(),T("option",{key:W.id,value:W.id},u(W.label),9,oh))),128))],512),[[yt,_.parent_id,void 0,{number:!0}]])]),i("div",ih,[i("label",rh,u(d(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),ne(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":H[6]||(H[6]=W=>_.sort=W),min:"0",step:"1"},null,512),[[pe,_.sort,void 0,{number:!0}]])]),i("footer",ah,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},u(d(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),9,lh),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:N},u(d(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])],32)])])):Ae("",!0)]))]))}},dh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},uh={class:"nxp-ec-admin-panel__header"},ph={class:"nxp-ec-admin-panel__title"},_h={class:"nxp-ec-admin-panel__lead"},fh={class:"nxp-ec-admin-panel__actions"},hh=["placeholder","aria-label"],mh=["aria-label"],gh={value:""},Ch=["value"],Sh=["disabled"],Eh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ah={key:1,class:"nxp-ec-admin-panel__loading"},yh={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},bh={class:"nxp-ec-admin-panel__table"},Th={key:0,class:"nxp-ec-admin-panel__selection"},vh=["aria-label"],Oh={value:""},Rh=["value"],xh=["disabled"],Ph={class:"nxp-ec-admin-table"},Nh={scope:"col",class:"nxp-ec-admin-table__select"},Mh={scope:"col"},Ih={scope:"col"},$h={scope:"col"},wh={scope:"col"},Dh={scope:"col"},kh={scope:"col",class:"nxp-ec-admin-table__actions"},Lh={key:0},Uh={colspan:"7"},Yh={class:"nxp-ec-admin-table__select"},Xh=["checked","onChange","aria-label"],Fh={scope:"row"},Gh=["onClick"],Vh={class:"nxp-ec-admin-table__meta"},Hh={class:"nxp-ec-badge"},Bh={class:"nxp-ec-admin-table__actions"},jh=["onUpdate:modelValue","aria-label"],Kh=["value"],Jh=["value"],Wh=["disabled","onClick"],qh={key:1,class:"nxp-ec-admin-pagination"},zh=["disabled"],Qh={class:"nxp-ec-admin-pagination__status"},Zh=["disabled"],em={key:0,class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},tm={class:"nxp-ec-admin-panel__sidebar-header"},sm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},nm={class:"nxp-ec-admin-panel__section"},om={class:"nxp-ec-admin-list"},im={class:"nxp-ec-admin-list__title"},rm={class:"nxp-ec-admin-list__meta"},am={class:"nxp-ec-admin-panel__section"},lm={class:"nxp-ec-admin-panel__total"},cm={class:"nxp-ec-admin-panel__section"},dm={class:"nxp-ec-admin-address"},um={class:"nxp-ec-admin-panel__section"},pm={key:0,class:"nxp-ec-admin-address"},_m={key:1,class:"nxp-ec-admin-panel__muted"},fm={key:1,class:"nxp-ec-admin-panel__section"},hm={class:"nxp-ec-admin-list"},mm={class:"nxp-ec-admin-list__title"},gm={class:"nxp-ec-admin-list__meta"},Cm={class:"nxp-ec-admin-panel__section"},Sm=["placeholder"],Em={class:"nxp-ec-admin-form__actions"},Am=["disabled"],ym={class:"nxp-ec-admin-panel__section"},bm={key:0,class:"nxp-ec-admin-list"},Tm={class:"nxp-ec-admin-list__title"},vm={class:"nxp-ec-admin-list__meta"},Om={key:1,class:"nxp-ec-admin-panel__muted"},Rm=It({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,r=(x,w=[])=>{var v;return w.length?typeof window!="undefined"&&((v=window==null?void 0:window.Joomla)!=null&&v.sprintf)?window.Joomla.sprintf(x,...w):w.reduce((ce,me)=>ce.replace("%s",me),x):x},l=Ie({}),c=Le(""),a=Le(""),h=Se(()=>a.value.trim().length>0),p=Se(()=>{var w;const x=(w=s.state)==null?void 0:w.selection;return!x||typeof x.values!="function"?[]:Array.from(x.values())}),_=Se(()=>p.value.length>0);$e(p,x=>{x.length||(c.value="")}),$e(()=>{var x;return(x=s.state.activeOrder)==null?void 0:x.id},()=>{a.value=""}),$e(()=>s.state.items,x=>{Array.isArray(x)&&x.forEach(w=>{!w||typeof w.id=="undefined"||l[w.id]||(l[w.id]=w.state)})},{immediate:!0});const A=(x,w)=>{const v=(Number(x)||0)/100,ce=(w||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ce}).format(v)}catch(me){return`${ce} ${v.toFixed(2)}`}},O=x=>{if(!x)return"";const w=new Date(x);return Number.isNaN(w.getTime())?x:w.toLocaleString()},y=x=>{if(x===1)return n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item");const w=n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items");return r(w,[String(x)])},E=x=>{if(!x)return"";const w=`COM_NXPEASYCART_ORDERS_STATE_${String(x).toUpperCase()}`;return n(w,x)},I=x=>s.state.orderStates.filter(w=>w!==x.state),U=x=>(l[x.id]||x.state)!==x.state,Z=x=>!x||typeof x!="object"?[]:Object.entries(x).filter(([,w])=>w!=null&&`${w}`.trim()!=="").map(([w,v])=>({key:w,value:`${v}`.trim()})),N=()=>{o("refresh")},M=()=>{o("search")},X=()=>{o("filter",s.state.filterState)},z=x=>{o("view",x)},ie=()=>{o("close")},oe=x=>{const w=l[x.id]||x.state;w!==x.state&&o("transition",{id:x.id,state:w})},V=x=>{o("page",x)},H=x=>{var w,v,ce,me;return(me=(ce=(v=(w=s.state)==null?void 0:w.selection)==null?void 0:v.has)==null?void 0:ce.call(v,x))!=null?me:!1},W=x=>{o("toggle-selection",x)},Q=()=>{c.value="",o("clear-selection")},B=()=>{!_.value||!c.value||o("bulk-transition",{ids:[...p.value],state:c.value})},ae=()=>{if(!s.state.activeOrder)return;const x=a.value.trim();x&&(o("add-note",{id:s.state.activeOrder.id,message:x}),a.value="")},J=Se(()=>r(n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[],"ordersSelectedCount"),[String(p.value.length)])),le=x=>{var w,v,ce,me,te,P,m,f,C,F;if(!x||!x.action)return"";switch(x.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const re=E((v=(w=x.context)==null?void 0:w.from)!=null?v:""),ee=E((me=(ce=x.context)==null?void 0:ce.to)!=null?me:"");return r(n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[],"ordersTimelineState"),[re||((te=x.context)==null?void 0:te.from)||"",ee||((P=x.context)==null?void 0:P.to)||""])}case"order.note":return((m=x.context)==null?void 0:m.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const re=((f=x.context)==null?void 0:f.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),ee=A((F=(C=x.context)==null?void 0:C.amount_cents)!=null?F:0,state.activeOrder.currency);return r(n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[],"ordersTimelinePaymentRecorded"),[re,ee])}default:return x.action}},k=x=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(x.status||"").toUpperCase()}`,x.status||"");return(x,w)=>(b(),T("section",dh,[i("header",uh,[i("div",null,[i("h2",ph,u(d(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",_h,u(d(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",fh,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:d(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":w[0]||(w[0]=v=>e.state.search=v),onKeyup:Yt(M,["enter"]),"aria-label":d(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,hh),[[pe,e.state.search]]),ne(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":w[1]||(w[1]=v=>e.state.filterState=v),onChange:X,"aria-label":d(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",gh,"  "+u(d(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(b(!0),T(Ce,null,be(e.state.orderStates,v=>(b(),T("option",{key:v,value:v},u(E(v)),9,Ch))),128))],40,mh),[[yt,e.state.filterState]]),i("button",{class:"nxp-ec-btn",type:"button",onClick:N,disabled:e.state.loading},u(d(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),9,Sh)])]),e.state.error?(b(),T("div",Eh,u(e.state.error),1)):e.state.loading?(b(),T("div",Ah,u(d(n)("COM_NXPEASYCART_ORDERS_LOADING","Loading orders",[],"ordersLoading")),1)):(b(),T("div",yh,[i("div",bh,[_.value?(b(),T("div",Th,[i("span",null,u(J.value),1),ne(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":w[2]||(w[2]=v=>c.value=v),"aria-label":d(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",Oh,u(d(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(b(!0),T(Ce,null,be(e.state.orderStates,v=>(b(),T("option",{key:`bulk-${v}`,value:v},u(E(v)),9,Rh))),128))],8,vh),[[yt,c.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!c.value||e.state.saving,onClick:B},u(d(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),9,xh),i("button",{class:"nxp-ec-link-button",type:"button",onClick:Q},u(d(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)])):Ae("",!0),i("table",Ph,[i("thead",null,[i("tr",null,[i("th",Nh,u(d(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",Mh,u(d(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",Ih,u(d(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",$h,u(d(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",wh,u(d(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",Dh,u(d(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",kh,u(d(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?Ae("",!0):(b(),T("tr",Lh,[i("td",Uh,u(d(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(b(!0),T(Ce,null,be(e.state.items,v=>{var ce,me;return b(),T("tr",{key:v.id,class:De({"is-active":e.state.activeOrder&&e.state.activeOrder.id===v.id})},[i("td",Yh,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:H(v.id),onChange:te=>W(v.id),"aria-label":d(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Xh)]),i("th",Fh,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:te=>z(v)},u(v.order_no),9,Gh)]),i("td",null,[i("div",null,u(v.email),1),i("div",Vh,u(y((me=(ce=v.items)==null?void 0:ce.length)!=null?me:0)),1)]),i("td",null,u(A(v.total_cents,v.currency)),1),i("td",null,[i("span",Hh,u(E(v.state)),1)]),i("td",null,u(O(v.modified||v.created)),1),i("td",Bh,[ne(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":te=>l[v.id]=te,"aria-label":d(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:v.state},u(E(v.state)),9,Kh),(b(!0),T(Ce,null,be(I(v),te=>(b(),T("option",{key:te,value:te},u(E(te)),9,Jh))),128))],8,jh),[[yt,l[v.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!U(v),onClick:te=>oe(v)},u(d(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,Wh)])],2)}),128))])]),e.state.pagination.pages>1?(b(),T("div",qh,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:w[3]||(w[3]=v=>V(e.state.pagination.current-1))},"  ",8,zh),i("span",Qh,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:w[4]||(w[4]=v=>V(e.state.pagination.current+1))},"  ",8,Zh)])):Ae("",!0)]),e.state.activeOrder?(b(),T("aside",em,[i("header",tm,[i("h3",null,u(d(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+u(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button",type:"button",onClick:ie},u(d(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)]),e.state.transitionError?(b(),T("div",sm,u(e.state.transitionError),1)):Ae("",!0),i("section",nm,[i("h4",null,u(d(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",om,[(b(!0),T(Ce,null,be(e.state.activeOrder.items,v=>(b(),T("li",{key:v.id},[i("div",im,[Nn(u(v.title)+" ",1),i("small",null,"("+u(v.sku)+")",1)]),i("div",rm,"  "+u(v.qty)+"  "+u(A(v.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",am,[i("h4",null,u(d(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",lm,u(A(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",cm,[i("h4",null,u(d(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",dm,[(b(!0),T(Ce,null,be(Z(e.state.activeOrder.billing),v=>(b(),T("span",{key:v.key},u(v.value),1))),128))])]),i("section",um,[i("h4",null,u(d(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(b(),T("address",pm,[(b(!0),T(Ce,null,be(Z(e.state.activeOrder.shipping),v=>(b(),T("span",{key:v.key},u(v.value),1))),128))])):(b(),T("p",_m,u(d(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(b(),T("section",fm,[i("h4",null,u(d(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",hm,[(b(!0),T(Ce,null,be(e.state.activeOrder.transactions,v=>(b(),T("li",{key:v.id},[i("div",mm,u(v.gateway)+"  "+u(A(v.amount_cents,e.state.activeOrder.currency)),1),i("div",gm,u(k(v))+"  "+u(O(v.created)),1)]))),128))])])):Ae("",!0),i("section",Cm,[i("h4",null,u(d(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:ft(ae,["prevent"])},[ne(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":w[5]||(w[5]=v=>a.value=v),placeholder:d(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,Sm),[[pe,a.value]]),i("div",Em,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!h.value||e.state.saving},u(d(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),9,Am)])],32)]),i("section",ym,[i("h4",null,u(d(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),e.state.activeOrder.timeline&&e.state.activeOrder.timeline.length?(b(),T("ul",bm,[(b(!0),T(Ce,null,be(e.state.activeOrder.timeline,v=>(b(),T("li",{key:v.id},[i("div",Tm,u(le(v)),1),i("div",vm,u(O(v.created)),1)]))),128))])):(b(),T("p",Om,u(d(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])):Ae("",!0)]))]))}},[["__scopeId","data-v-e31c5346"]]),xm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},Pm={class:"nxp-ec-admin-panel__header"},Nm={class:"nxp-ec-admin-panel__title"},Mm={class:"nxp-ec-admin-panel__lead"},Im={class:"nxp-ec-admin-panel__actions"},$m=["placeholder","aria-label"],wm=["disabled"],Dm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},km={key:1,class:"nxp-ec-admin-panel__loading"},Lm={key:2,class:"nxp-ec-admin-panel__body"},Um={class:"nxp-ec-admin-panel__table"},Ym={class:"nxp-ec-admin-table"},Xm={scope:"col"},Fm={scope:"col"},Gm={scope:"col"},Vm={scope:"col"},Hm={scope:"col"},Bm={key:0},jm={colspan:"5"},Km={scope:"row"},Jm=["onClick"],Wm={key:0,class:"nxp-ec-admin-pagination"},qm=["disabled"],zm={class:"nxp-ec-admin-pagination__status"},Qm=["disabled"],Zm={key:0,class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},eg={class:"nxp-ec-admin-panel__sidebar-header"},tg={class:"nxp-ec-admin-panel__section"},sg={class:"nxp-ec-admin-summary"},ng={class:"nxp-ec-admin-panel__section"},og={class:"nxp-ec-admin-address"},ig={class:"nxp-ec-admin-panel__section"},rg={key:0,class:"nxp-ec-admin-address"},ag={key:1,class:"nxp-ec-admin-panel__muted"},lg={class:"nxp-ec-admin-panel__section"},cg={key:0,class:"nxp-ec-admin-list"},dg={class:"nxp-ec-admin-list__title"},ug={class:"nxp-ec-admin-list__meta"},pg={key:1,class:"nxp-ec-admin-panel__muted"},_g=It({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,r=(y,E)=>{const I=(Number(y)||0)/100,U=(E||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:U}).format(I)}catch(Z){return`${U} ${I.toFixed(2)}`}},l=y=>{if(!y)return"";const E=new Date(y);return Number.isNaN(E.getTime())?y:E.toLocaleString()},c=y=>!y||typeof y!="object"?[]:Object.entries(y).filter(([,E])=>E!=null&&`${E}`.trim()!=="").map(([E,I])=>({key:E,value:`${I}`.trim()})),a=y=>{if(!y)return"";const E=`COM_NXPEASYCART_ORDERS_STATE_${String(y).toUpperCase()}`;return n(E,y)},h=()=>o("refresh"),p=()=>o("search"),_=y=>o("page",y),A=y=>o("view",y),O=()=>o("close");return(y,E)=>{var I,U,Z;return b(),T("section",xm,[i("header",Pm,[i("div",null,[i("h2",Nm,u(d(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",Mm,u(d(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",Im,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:d(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":E[0]||(E[0]=N=>e.state.search=N),onKeyup:Yt(p,["enter"]),"aria-label":d(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,$m),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn",type:"button",onClick:h,disabled:e.state.loading},u(d(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),9,wm)])]),e.state.error?(b(),T("div",Dm,u(e.state.error),1)):e.state.loading?(b(),T("div",km,u(d(n)("COM_NXPEASYCART_CUSTOMERS_LOADING","Loading customers",[],"customersLoading")),1)):(b(),T("div",Lm,[i("div",Um,[i("table",Ym,[i("thead",null,[i("tr",null,[i("th",Xm,u(d(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",Fm,u(d(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",Gm,u(d(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",Vm,u(d(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",Hm,u(d(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?Ae("",!0):(b(),T("tr",Bm,[i("td",jm,u(d(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(b(!0),T(Ce,null,be(e.state.items,N=>{var M;return b(),T("tr",{key:N.email,class:De({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===N.email})},[i("th",Km,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:X=>A(N)},u(N.email),9,Jm)]),i("td",null,u(((M=N.meta)==null?void 0:M.name)||""),1),i("td",null,u(N.orders_count),1),i("td",null,u(r(N.total_spent_cents,N.currency||e.baseCurrency)),1),i("td",null,u(l(N.last_order)),1)],2)}),128))])]),e.state.pagination.pages>1?(b(),T("div",Wm,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:E[1]||(E[1]=N=>_(e.state.pagination.current-1))},"  ",8,qm),i("span",zm,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:E[2]||(E[2]=N=>_(e.state.pagination.current+1))},"  ",8,Qm)])):Ae("",!0)]),e.state.activeCustomer?(b(),T("aside",Zm,[i("header",eg,[i("h3",null,u(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button",type:"button",onClick:O},u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)]),i("section",tg,[i("h4",null,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",sg,[i("div",null,[i("dt",null,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,u(((I=e.state.activeCustomer.meta)==null?void 0:I.name)||""),1)]),i("div",null,[i("dt",null,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,u(r(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,u(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,u(l(e.state.activeCustomer.last_order)),1)])])]),i("section",ng,[i("h4",null,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",og,[(b(!0),T(Ce,null,be(c((U=e.state.activeCustomer.meta)==null?void 0:U.billing),N=>(b(),T("span",{key:N.key},u(N.value),1))),128))])]),i("section",ig,[i("h4",null,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(Z=e.state.activeCustomer.meta)!=null&&Z.shipping?(b(),T("address",rg,[(b(!0),T(Ce,null,be(c(e.state.activeCustomer.meta.shipping),N=>(b(),T("span",{key:N.key},u(N.value),1))),128))])):(b(),T("p",ag,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",lg,[i("h4",null,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(b(),T("ul",cg,[(b(!0),T(Ce,null,be(e.state.activeCustomer.orders,N=>(b(),T("li",{key:N.id},[i("div",dg,u(N.order_no)+"  "+u(r(N.total_cents,N.currency||e.baseCurrency)),1),i("div",ug,u(a(N.state))+"  "+u(l(N.created)),1)]))),128))])):(b(),T("p",pg,u(d(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))])])):Ae("",!0)]))])}}},[["__scopeId","data-v-946c88dd"]]),fg={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},hg={class:"nxp-ec-admin-panel__header"},mg={class:"nxp-ec-admin-panel__title"},gg={class:"nxp-ec-admin-panel__lead"},Cg={class:"nxp-ec-admin-panel__actions"},Sg=["placeholder","aria-label"],Eg=["disabled"],Ag={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},yg={key:1,class:"nxp-ec-admin-panel__loading"},bg={key:2,class:"nxp-ec-admin-panel__body"},Tg={class:"nxp-ec-admin-panel__table"},vg={class:"nxp-ec-admin-table"},Og={scope:"col"},Rg={scope:"col"},xg={scope:"col"},Pg={scope:"col"},Ng={scope:"col"},Mg={scope:"col"},Ig={key:0},$g={colspan:"7"},wg={scope:"row"},Dg={class:"nxp-ec-admin-table__actions"},kg=["onClick"],Lg=["onClick"],Ug={key:0,class:"nxp-ec-admin-pagination"},Yg=["disabled"],Xg={class:"nxp-ec-admin-pagination__status"},Fg=["disabled"],Gg={key:0,class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Vg={class:"nxp-ec-admin-panel__sidebar-header"},Hg={class:"nxp-ec-form-field"},Bg={class:"nxp-ec-form-label",for:"coupon-code"},jg={class:"nxp-ec-form-field"},Kg={class:"nxp-ec-form-label",for:"coupon-type"},Jg={value:"percent"},Wg={value:"fixed"},qg={class:"nxp-ec-form-field"},zg={class:"nxp-ec-form-label",for:"coupon-value"},Qg={class:"nxp-ec-form-field"},Zg={class:"nxp-ec-form-label",for:"coupon-min-total"},eC={class:"nxp-ec-form-field"},tC={class:"nxp-ec-form-label",for:"coupon-start"},sC={class:"nxp-ec-form-field"},nC={class:"nxp-ec-form-label",for:"coupon-end"},oC={class:"nxp-ec-form-field"},iC={class:"nxp-ec-form-label",for:"coupon-max-uses"},rC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},aC={class:"nxp-ec-form-label",for:"coupon-active"},lC={class:"nxp-ec-modal__actions"},cC=["disabled"],dC=["disabled"],uC=["disabled"],pC=It({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,r=Se(()=>(s.baseCurrency||"USD").toUpperCase()),l=Ie({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),c=Se(()=>l.open),a=()=>o("refresh"),h=()=>o("search"),p=N=>o("page",N),_=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},A=N=>{var M,X;Object.assign(l,{open:!0,id:N.id,code:N.code,type:N.type,value:N.value,min_total:(X=N.min_total)!=null?X:((M=N.min_total_cents)!=null?M:0)/100,start:N.start?N.start.substring(0,10):"",end:N.end?N.end.substring(0,10):"",max_uses:N.max_uses,active:N.active})},O=()=>{l.open=!1},y=()=>{const N={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",N)},E=N=>{const M=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(M)&&(o("delete",[N.id]),l.id===N.id&&O())},I=(N,M)=>{const X=(Number(N)||0)/100,z=(M||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:z}).format(X)}catch(ie){return`${z} ${X.toFixed(2)}`}},U=N=>N.type==="percent"?`${N.value}%`:I(N.value*100,r.value),Z=N=>N==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return $e(()=>s.state.saving,(N,M)=>{M&&!N&&!s.state.error&&l.open&&O()}),(N,M)=>(b(),T("section",fg,[i("header",hg,[i("div",null,[i("h2",mg,u(d(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",gg,u(d(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",Cg,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:d(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":M[0]||(M[0]=X=>e.state.search=X),onKeyup:Yt(h,["enter"]),"aria-label":d(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,Sg),[[pe,e.state.search]]),i("button",{class:"nxp-ec-btn",type:"button",onClick:a,disabled:e.state.loading},u(d(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,Eg),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_},u(d(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])]),e.state.error?(b(),T("div",Ag,u(e.state.error),1)):e.state.loading?(b(),T("div",yg,u(d(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(b(),T("div",bg,[i("div",Tg,[i("table",vg,[i("thead",null,[i("tr",null,[i("th",Og,u(d(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",Rg,u(d(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",xg,u(d(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",Pg,u(d(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",Ng,u(d(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",Mg,u(d(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),M[12]||(M[12]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Ae("",!0):(b(),T("tr",Ig,[i("td",$g,u(d(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(b(!0),T(Ce,null,be(e.state.items,X=>(b(),T("tr",{key:X.id,class:De({"is-active":l.id===X.id})},[i("th",wg,u(X.code),1),i("td",null,u(Z(X.type)),1),i("td",null,u(U(X)),1),i("td",null,u(I(X.min_total_cents,r.value)),1),i("td",null,[i("span",{class:De(["nxp-ec-badge",{"is-active":X.active}])},u(X.active?d(n)("JYES","Yes"):d(n)("JNO","No")),3)]),i("td",null,u(X.times_used)+u(X.max_uses?` / ${X.max_uses}`:""),1),i("td",Dg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:z=>A(X)},u(d(n)("JEDIT","Edit")),9,kg),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",type:"button",onClick:z=>E(X)},u(d(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Lg)])],2))),128))])]),e.state.pagination.pages>1?(b(),T("div",Ug,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:M[1]||(M[1]=X=>p(e.state.pagination.current-1))},"  ",8,Yg),i("span",Xg,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:M[2]||(M[2]=X=>p(e.state.pagination.current+1))},"  ",8,Fg)])):Ae("",!0)]),c.value?(b(),T("aside",Gg,[i("header",Vg,[i("h3",null,u(l.id?d(n)("JEDIT","Edit"):d(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button",type:"button",onClick:O},u(d(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)]),i("form",{class:"nxp-ec-form",onSubmit:ft(y,["prevent"]),autocomplete:"off"},[i("div",Hg,[i("label",Bg,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),ne(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M[3]||(M[3]=X=>l.code=X),required:"",maxlength:"64"},null,512),[[pe,l.code,void 0,{trim:!0}]])]),i("div",jg,[i("label",Kg,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),ne(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":M[4]||(M[4]=X=>l.type=X)},[i("option",Jg,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",Wg,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[yt,l.type]])]),i("div",qg,[i("label",zg,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),ne(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":M[5]||(M[5]=X=>l.value=X),required:""},null,512),[[pe,l.value,void 0,{number:!0}]])]),i("div",Qg,[i("label",Zg,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),ne(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":M[6]||(M[6]=X=>l.min_total=X)},null,512),[[pe,l.min_total,void 0,{number:!0}]])]),i("div",eC,[i("label",tC,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),ne(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":M[7]||(M[7]=X=>l.start=X)},null,512),[[pe,l.start]])]),i("div",sC,[i("label",nC,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),ne(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":M[8]||(M[8]=X=>l.end=X)},null,512),[[pe,l.end]])]),i("div",oC,[i("label",iC,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),ne(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":M[9]||(M[9]=X=>l.max_uses=X)},null,512),[[pe,l.max_uses,void 0,{number:!0}]])]),i("div",rC,[i("label",aC,u(d(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),ne(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":M[10]||(M[10]=X=>l.active=X)},null,512),[[Ut,l.active]])]),i("footer",lC,[i("button",{class:"nxp-ec-btn",type:"button",onClick:O,disabled:e.state.saving},u(d(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,cC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},u(e.state.saving?d(n)("JPROCESSING_REQUEST","Saving"):d(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,dC)]),l.id?(b(),T("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",type:"button",onClick:M[11]||(M[11]=X=>E(l)),disabled:e.state.saving},u(d(n)("COM_NXPEASYCART_REMOVE","Remove")),9,uC)):Ae("",!0)],32)])):Ae("",!0)]))]))}},[["__scopeId","data-v-660231a5"]]),_C={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},fC={class:"nxp-ec-admin-panel__header"},hC={class:"nxp-ec-admin-panel__title"},mC={class:"nxp-ec-admin-panel__lead"},gC={class:"nxp-ec-settings-tabs"},CC={key:0,class:"nxp-ec-settings-panel"},SC={class:"nxp-ec-settings-panel__header"},EC=["disabled"],AC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},yC={key:1,class:"nxp-ec-admin-panel__loading"},bC={class:"nxp-ec-form-field"},TC={class:"nxp-ec-form-label",for:"settings-store-name"},vC={class:"nxp-ec-form-field"},OC={class:"nxp-ec-form-label",for:"settings-store-email"},RC={class:"nxp-ec-form-field"},xC={class:"nxp-ec-form-label",for:"settings-store-phone"},PC={class:"nxp-ec-form-field"},NC={class:"nxp-ec-form-label",for:"settings-base-currency"},MC={class:"nxp-ec-form-help"},IC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$C={class:"nxp-ec-form-label",for:"settings-payments-configured"},wC={class:"nxp-ec-form-help"},DC={class:"nxp-ec-settings-actions"},kC=["disabled"],LC=["disabled"],UC={key:1,class:"nxp-ec-settings-panel"},YC={class:"nxp-ec-settings-panel__header"},XC=["disabled"],FC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},GC={key:1,class:"nxp-ec-settings-grid"},VC={class:"nxp-ec-settings-table"},HC={class:"nxp-ec-admin-table"},BC={scope:"col"},jC={scope:"col"},KC={scope:"col"},JC={scope:"col"},WC={scope:"col"},qC={key:0},zC={colspan:"6"},QC={scope:"row"},ZC={class:"nxp-ec-admin-table__actions"},eS=["onClick"],tS=["onClick"],sS={class:"nxp-ec-form-field"},nS={class:"nxp-ec-form-label",for:"tax-country"},oS={class:"nxp-ec-form-field"},iS={class:"nxp-ec-form-label",for:"tax-region"},rS={class:"nxp-ec-form-field"},aS={class:"nxp-ec-form-label",for:"tax-rate"},lS={class:"nxp-ec-form-field nxp-ec-form-field--inline"},cS={class:"nxp-ec-form-label",for:"tax-inclusive"},dS={class:"nxp-ec-form-field"},uS={class:"nxp-ec-form-label",for:"tax-priority"},pS={class:"nxp-ec-settings-actions"},_S=["disabled"],fS=["disabled"],hS={key:2,class:"nxp-ec-settings-panel"},mS={class:"nxp-ec-settings-panel__header"},gS=["disabled"],CS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},SS={key:1,class:"nxp-ec-settings-grid"},ES={class:"nxp-ec-settings-table"},AS={class:"nxp-ec-admin-table"},yS={scope:"col"},bS={scope:"col"},TS={scope:"col"},vS={scope:"col"},OS={scope:"col"},RS={scope:"col"},xS={key:0},PS={colspan:"7"},NS={scope:"row"},MS={class:"nxp-ec-admin-table__actions"},IS=["onClick"],$S=["onClick"],wS={class:"nxp-ec-form-field"},DS={class:"nxp-ec-form-label",for:"shipping-name"},kS={class:"nxp-ec-form-field"},LS={class:"nxp-ec-form-label",for:"shipping-type"},US={value:"flat"},YS={value:"free_over"},XS={class:"nxp-ec-form-field"},FS={class:"nxp-ec-form-label",for:"shipping-price"},GS={key:0,class:"nxp-ec-form-field"},VS={class:"nxp-ec-form-label",for:"shipping-threshold"},HS={class:"nxp-ec-form-field"},BS={class:"nxp-ec-form-label",for:"shipping-regions"},jS=["placeholder"],KS={class:"nxp-ec-form-field nxp-ec-form-field--inline"},JS={class:"nxp-ec-form-label",for:"shipping-active"},WS={class:"nxp-ec-settings-actions"},qS=["disabled"],zS=["disabled"],QS={key:3,class:"nxp-ec-settings-panel"},ZS={class:"nxp-ec-settings-panel__header"},eE={class:"nxp-ec-settings-actions"},tE=["disabled"],sE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},nE={key:1,class:"nxp-ec-admin-panel__loading"},oE={class:"nxp-ec-form-field"},iE={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},rE={class:"nxp-ec-form-field"},aE={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},lE={class:"nxp-ec-form-field"},cE={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},dE={class:"nxp-ec-form-help"},uE={class:"nxp-ec-form-field"},pE={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},_E={value:"test"},fE={value:"live"},hE={class:"nxp-ec-form-field"},mE={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},gE={class:"nxp-ec-form-field"},CE={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},SE={class:"nxp-ec-form-field"},EE={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},AE={class:"nxp-ec-form-help"},yE={class:"nxp-ec-form-field"},bE={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},TE={value:"sandbox"},vE={value:"live"},OE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},RE={class:"nxp-ec-settings-actions"},xE=["disabled"],PE=["disabled"],NE={key:4,class:"nxp-ec-settings-panel"},ME={class:"nxp-ec-settings-panel__header"},IE=["disabled"],$E={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},wE={key:1,class:"nxp-ec-admin-panel__loading"},DE={class:"nxp-ec-form-help"},kE={class:"nxp-ec-visual-grid"},LE={class:"nxp-ec-visual-field"},UE={class:"nxp-ec-form-label",for:"visual-primary-color"},YE={class:"nxp-ec-color-input-group"},XE=["value"],FE=["placeholder"],GE={class:"nxp-ec-visual-field"},VE={class:"nxp-ec-form-label",for:"visual-text-color"},HE={class:"nxp-ec-color-input-group"},BE=["value"],jE=["placeholder"],KE={class:"nxp-ec-visual-field"},JE={class:"nxp-ec-form-label",for:"visual-surface-color"},WE={class:"nxp-ec-color-input-group"},qE=["value"],zE=["placeholder"],QE={class:"nxp-ec-visual-field"},ZE={class:"nxp-ec-form-label",for:"visual-border-color"},eA={class:"nxp-ec-color-input-group"},tA=["value"],sA=["placeholder"],nA={class:"nxp-ec-visual-field"},oA={class:"nxp-ec-form-label",for:"visual-muted-color"},iA={class:"nxp-ec-color-input-group"},rA=["value"],aA=["placeholder"],lA={class:"nxp-ec-visual-preview"},cA={type:"button",class:"nxp-ec-preview-btn"},dA={class:"nxp-ec-preview-text"},uA={class:"nxp-ec-preview-muted"},pA={class:"nxp-ec-settings-actions"},_A=["disabled"],fA=["disabled"],hA=It({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,r=s.settingsState,l=s.taxState,c=s.shippingState,a=s.paymentsState,h=Le("general"),p=Se(()=>{var re;const m=s.baseCurrency||"USD",f=typeof _.baseCurrency=="string"?_.baseCurrency.trim():"",C=typeof((re=r==null?void 0:r.values)==null?void 0:re.base_currency)=="string"?r.values.base_currency.trim():"";return(f!==""?f:C!==""?C:m).toUpperCase()}),_=Ie({storeName:"",storeEmail:"",storePhone:"",paymentsConfigured:!1,baseCurrency:""}),A=Ie({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),O=Ie({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),y=Ie({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"}}),E=Ie({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),I=Se(()=>{var f,C;const m=(C=(f=r.values)==null?void 0:f.visual_defaults)!=null?C:{};return{primary:m.primary_color||"#4f6d7a",text:m.text_color||"#1f2933",surface:m.surface_color||"#ffffff",border:m.border_color||"#e4e7ec",muted:m.muted_color||"#6b7280"}}),U=Se(()=>({"--nxp-ec-color-primary":E.primaryColor||I.value.primary,"--nxp-ec-color-text":E.textColor||I.value.text,"--nxp-ec-color-surface":E.surfaceColor||I.value.surface,"--nxp-ec-color-border":E.borderColor||I.value.border,"--nxp-ec-color-muted":E.mutedColor||I.value.muted})),Z=(m={})=>{var re,ee,Oe,g,S,R,D,$,L,q,j;const f=(re=m==null?void 0:m.store)!=null?re:{},C=(ee=m==null?void 0:m.payments)!=null?ee:{},F=(Oe=m==null?void 0:m.visual)!=null?Oe:{};Object.assign(_,{storeName:(g=f.name)!=null?g:"",storeEmail:(S=f.email)!=null?S:"",storePhone:(R=f.phone)!=null?R:"",paymentsConfigured:!!C.configured,baseCurrency:typeof(m==null?void 0:m.base_currency)=="string"?m.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase()}),Object.assign(E,{primaryColor:(D=F.primary_color)!=null?D:"",textColor:($=F.text_color)!=null?$:"",surfaceColor:(L=F.surface_color)!=null?L:"",borderColor:(q=F.border_color)!=null?q:"",mutedColor:(j=F.muted_color)!=null?j:""})},N=(m={})=>{var F,re,ee,Oe,g,S,R,D,$,L;const f=(F=m.stripe)!=null?F:{},C=(re=m.paypal)!=null?re:{};Object.assign(y.stripe,{publishable_key:(ee=f.publishable_key)!=null?ee:"",secret_key:(Oe=f.secret_key)!=null?Oe:"",webhook_secret:(g=f.webhook_secret)!=null?g:"",mode:(S=f.mode)!=null?S:"test"}),Object.assign(y.paypal,{client_id:(R=C.client_id)!=null?R:"",client_secret:(D=C.client_secret)!=null?D:"",webhook_id:($=C.webhook_id)!=null?$:"",mode:(L=C.mode)!=null?L:"sandbox"})};$e(()=>r.values,m=>{Z(m!=null?m:{})},{immediate:!0});const M=()=>o("refresh-settings"),X=()=>{const m=(_.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:_.storeName,email:_.storeEmail,phone:_.storePhone,base_currency:m},payments:{configured:_.paymentsConfigured},base_currency:m})},z=()=>{var m;Z((m=r.values)!=null?m:{})};$e(()=>r.saving,(m,f)=>{var C;f&&!m&&!r.error&&Z((C=r.values)!=null?C:{})}),$e(()=>_.baseCurrency,m=>{if(typeof m=="string"){const f=m.replace(/[^A-Za-z]/g,"").toUpperCase();f!==m&&(_.baseCurrency=f)}}),$e(()=>a.config,m=>{N(m!=null?m:{})},{immediate:!0}),$e(()=>a.saving,(m,f)=>{var C;f&&!m&&!a.error&&N((C=a.config)!=null?C:{})});const ie=()=>o("refresh-payments"),oe=()=>{const m=JSON.parse(JSON.stringify(y));o("save-payments",m)},V=()=>{var m;N((m=a.config)!=null?m:{})},H=()=>o("refresh-settings"),W=()=>{o("save-settings",{visual:{primary_color:E.primaryColor,text_color:E.textColor,surface_color:E.surfaceColor,border_color:E.borderColor,muted_color:E.mutedColor}})},Q=()=>{var f,C,F,re,ee,Oe,g;const m=(C=(f=r.values)==null?void 0:f.visual)!=null?C:{};Object.assign(E,{primaryColor:(F=m.primary_color)!=null?F:"",textColor:(re=m.text_color)!=null?re:"",surfaceColor:(ee=m.surface_color)!=null?ee:"",borderColor:(Oe=m.border_color)!=null?Oe:"",mutedColor:(g=m.muted_color)!=null?g:""})},B=()=>o("refresh-tax"),ae=()=>o("refresh-shipping"),J=m=>{Object.assign(A,{id:m.id,country:m.country,region:m.region,rate:m.rate,inclusive:m.inclusive,priority:m.priority})},le=()=>{Object.assign(A,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},k=()=>{o("save-tax",{id:A.id||void 0,country:A.country,region:A.region,rate:A.rate,inclusive:A.inclusive,priority:A.priority})},x=m=>{const f=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(f)&&(o("delete-tax",[m.id]),A.id===m.id&&le())};$e(()=>l.saving,(m,f)=>{f&&!m&&!l.error&&le()});const w=m=>{var f,C,F;Object.assign(O,{id:m.id,name:m.name,type:m.type,price:(C=m.price)!=null?C:((f=m.price_cents)!=null?f:0)/100,threshold:m.threshold!==null&&m.threshold!==void 0?m.threshold:((F=m.threshold_cents)!=null?F:0)/100,regions:m.regions&&m.regions.length?m.regions.join(", "):"",active:m.active})},v=()=>{Object.assign(O,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},ce=()=>{const m={id:O.id||void 0,name:O.name,type:O.type,price:O.price,threshold:O.type==="free_over"?O.threshold:0,regions:O.regions,active:O.active};o("save-shipping",m)},me=m=>{const f=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(f)&&(o("delete-shipping",[m.id]),O.id===m.id&&v())};$e(()=>c.saving,(m,f)=>{f&&!m&&!c.error&&v()});const te=(m,f)=>{const C=(Number(m)||0)/100,F=(f||"").toUpperCase()||p.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:F}).format(C)}catch(re){return`${F} ${C.toFixed(2)}`}},P=m=>m==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(m,f)=>(b(),T("section",_C,[i("header",fC,[i("div",null,[i("h2",hC,u(d(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",mC,u(d(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",gC,[i("button",{type:"button",class:De(["nxp-ec-settings-tab",{"is-active":h.value==="general"}]),onClick:f[0]||(f[0]=C=>h.value="general")},u(d(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:De(["nxp-ec-settings-tab",{"is-active":h.value==="tax"}]),onClick:f[1]||(f[1]=C=>h.value="tax")},u(d(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:De(["nxp-ec-settings-tab",{"is-active":h.value==="shipping"}]),onClick:f[2]||(f[2]=C=>h.value="shipping")},u(d(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:De(["nxp-ec-settings-tab",{"is-active":h.value==="payments"}]),onClick:f[3]||(f[3]=C=>h.value="payments")},u(d(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:De(["nxp-ec-settings-tab",{"is-active":h.value==="visual"}]),onClick:f[4]||(f[4]=C=>h.value="visual")},u(d(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),h.value==="general"?(b(),T("div",CC,[i("header",SC,[i("h3",null,u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:M,disabled:d(r).loading},u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,EC)]),d(r).error?(b(),T("div",AC,u(d(r).error),1)):d(r).loading?(b(),T("div",yC,u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(b(),T("form",{key:2,class:"nxp-ec-settings-form",onSubmit:ft(X,["prevent"])},[i("div",bC,[i("label",TC,u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),ne(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[5]||(f[5]=C=>_.storeName=C),maxlength:"190"},null,512),[[pe,_.storeName,void 0,{trim:!0}]])]),i("div",vC,[i("label",OC,u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),ne(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":f[6]||(f[6]=C=>_.storeEmail=C)},null,512),[[pe,_.storeEmail,void 0,{trim:!0}]])]),i("div",RC,[i("label",xC,u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),ne(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[7]||(f[7]=C=>_.storePhone=C),maxlength:"64"},null,512),[[pe,_.storePhone,void 0,{trim:!0}]])]),i("div",PC,[i("label",NC,u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),ne(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":f[8]||(f[8]=C=>_.baseCurrency=C),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[pe,_.baseCurrency,void 0,{trim:!0}]]),i("p",MC,u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",IC,[i("label",$C,u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),ne(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":f[9]||(f[9]=C=>_.paymentsConfigured=C)},null,512),[[Ut,_.paymentsConfigured]]),i("p",wC,u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",DC,[i("button",{class:"nxp-ec-btn",type:"button",onClick:z,disabled:d(r).saving},u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,kC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:d(r).saving},u(d(r).saving?d(n)("JPROCESSING_REQUEST","Saving"):d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,LC)])],32))])):h.value==="tax"?(b(),T("div",UC,[i("header",YC,[i("h3",null,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:B,disabled:d(l).loading},u(d(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,XC)]),d(l).error?(b(),T("div",FC,u(d(l).error),1)):(b(),T("div",GC,[i("div",VC,[i("table",HC,[i("thead",null,[i("tr",null,[i("th",BC,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",jC,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",KC,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",JC,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",WC,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),f[44]||(f[44]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[d(l).items.length?Ae("",!0):(b(),T("tr",qC,[i("td",zC,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(b(!0),T(Ce,null,be(d(l).items,C=>{var F;return b(),T("tr",{key:C.id,class:De({"is-active":A.id===C.id})},[i("th",QC,u(C.country),1),i("td",null,u(C.region||""),1),i("td",null,u(((F=C.rate)!=null?F:0).toFixed(2))+"%",1),i("td",null,u(C.inclusive?d(n)("JYES","Yes"):d(n)("JNO","No")),1),i("td",null,u(C.priority),1),i("td",ZC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:re=>J(C)},u(d(n)("JEDIT","Edit")),9,eS),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",type:"button",onClick:re=>x(C)},u(d(n)("COM_NXPEASYCART_REMOVE","Remove")),9,tS)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ft(k,["prevent"])},[i("h4",null,u(A.id?d(n)("JEDIT","Edit"):d(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",sS,[i("label",nS,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),ne(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[10]||(f[10]=C=>A.country=C),maxlength:"2",required:""},null,512),[[pe,A.country,void 0,{trim:!0}]])]),i("div",oS,[i("label",iS,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),ne(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[11]||(f[11]=C=>A.region=C)},null,512),[[pe,A.region,void 0,{trim:!0}]])]),i("div",rS,[i("label",aS,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),ne(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":f[12]||(f[12]=C=>A.rate=C),required:""},null,512),[[pe,A.rate,void 0,{number:!0}]])]),i("div",lS,[i("label",cS,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),ne(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":f[13]||(f[13]=C=>A.inclusive=C)},null,512),[[Ut,A.inclusive]])]),i("div",dS,[i("label",uS,u(d(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),ne(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":f[14]||(f[14]=C=>A.priority=C)},null,512),[[pe,A.priority,void 0,{number:!0}]])]),i("div",pS,[i("button",{class:"nxp-ec-btn",type:"button",onClick:le,disabled:d(l).saving},u(d(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,_S),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:d(l).saving},u(d(l).saving?d(n)("JPROCESSING_REQUEST","Saving"):d(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,fS)])],32)]))])):h.value==="shipping"?(b(),T("div",hS,[i("header",mS,[i("h3",null,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ae,disabled:d(c).loading},u(d(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,gS)]),d(c).error?(b(),T("div",CS,u(d(c).error),1)):(b(),T("div",SS,[i("div",ES,[i("table",AS,[i("thead",null,[i("tr",null,[i("th",yS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",bS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",TS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",vS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",OS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",RS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),f[45]||(f[45]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[d(c).items.length?Ae("",!0):(b(),T("tr",xS,[i("td",PS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(b(!0),T(Ce,null,be(d(c).items,C=>(b(),T("tr",{key:C.id,class:De({"is-active":O.id===C.id})},[i("th",NS,u(C.name),1),i("td",null,u(P(C.type)),1),i("td",null,u(te(C.price_cents,p.value)),1),i("td",null,u(C.type==="free_over"?te(C.threshold_cents,p.value):""),1),i("td",null,u(C.regions&&C.regions.length?C.regions.join(", "):d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,u(C.active?d(n)("JYES","Yes"):d(n)("JNO","No")),1),i("td",MS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:F=>w(C)},u(d(n)("JEDIT","Edit")),9,IS),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",type:"button",onClick:F=>me(C)},u(d(n)("COM_NXPEASYCART_REMOVE","Remove")),9,$S)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ft(ce,["prevent"])},[i("h4",null,u(O.id?d(n)("JEDIT","Edit"):d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",wS,[i("label",DS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),ne(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[15]||(f[15]=C=>O.name=C),required:""},null,512),[[pe,O.name,void 0,{trim:!0}]])]),i("div",kS,[i("label",LS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),ne(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":f[16]||(f[16]=C=>O.type=C)},[i("option",US,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",YS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[yt,O.type]])]),i("div",XS,[i("label",FS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),ne(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":f[17]||(f[17]=C=>O.price=C),required:""},null,512),[[pe,O.price,void 0,{number:!0}]])]),O.type==="free_over"?(b(),T("div",GS,[i("label",VS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),ne(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":f[18]||(f[18]=C=>O.threshold=C),required:""},null,512),[[pe,O.threshold,void 0,{number:!0}]])])):Ae("",!0),i("div",HS,[i("label",BS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),ne(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[19]||(f[19]=C=>O.regions=C),placeholder:d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,jS),[[pe,O.regions,void 0,{trim:!0}]])]),i("div",KS,[i("label",JS,u(d(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),ne(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":f[20]||(f[20]=C=>O.active=C)},null,512),[[Ut,O.active]])]),i("div",WS,[i("button",{class:"nxp-ec-btn",type:"button",onClick:v,disabled:d(c).saving},u(d(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,qS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:d(c).saving},u(d(c).saving?d(n)("JPROCESSING_REQUEST","Saving"):d(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,zS)])],32)]))])):h.value==="payments"?(b(),T("div",QS,[i("header",ZS,[i("h3",null,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",eE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ie,disabled:d(a).loading},u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,tE)])]),d(a).error?(b(),T("div",sE,u(d(a).error),1)):d(a).loading?(b(),T("div",nE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(b(),T("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:ft(oe,["prevent"])},[i("fieldset",null,[i("legend",null,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",oE,[i("label",iE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),ne(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[21]||(f[21]=C=>y.stripe.publishable_key=C)},null,512),[[pe,y.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",rE,[i("label",aE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),ne(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":f[22]||(f[22]=C=>y.stripe.secret_key=C),autocomplete:"off"},null,512),[[pe,y.stripe.secret_key,void 0,{trim:!0}]])]),i("div",lE,[i("label",cE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),ne(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":f[23]||(f[23]=C=>y.stripe.webhook_secret=C),autocomplete:"off"},null,512),[[pe,y.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",dE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",uE,[i("label",pE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ne(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":f[24]||(f[24]=C=>y.stripe.mode=C)},[i("option",_E,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",fE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[yt,y.stripe.mode]])])]),i("fieldset",null,[i("legend",null,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",hE,[i("label",mE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),ne(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[25]||(f[25]=C=>y.paypal.client_id=C)},null,512),[[pe,y.paypal.client_id,void 0,{trim:!0}]])]),i("div",gE,[i("label",CE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),ne(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":f[26]||(f[26]=C=>y.paypal.client_secret=C),autocomplete:"off"},null,512),[[pe,y.paypal.client_secret,void 0,{trim:!0}]])]),i("div",SE,[i("label",EE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),ne(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[27]||(f[27]=C=>y.paypal.webhook_id=C)},null,512),[[pe,y.paypal.webhook_id,void 0,{trim:!0}]]),i("p",AE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",yE,[i("label",bE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ne(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":f[28]||(f[28]=C=>y.paypal.mode=C)},[i("option",TE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",vE,u(d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[yt,y.paypal.mode]])])]),d(a).message?(b(),T("div",OE,u(d(a).message),1)):Ae("",!0),i("div",RE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:V,disabled:d(a).saving},u(d(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,xE),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:d(a).saving},u(d(a).saving?d(n)("JPROCESSING_REQUEST","Saving"):d(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,PE)])],32))])):h.value==="visual"?(b(),T("div",NE,[i("header",ME,[i("h3",null,u(d(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:H,disabled:d(r).loading},u(d(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,IE)]),d(r).error?(b(),T("div",$E,u(d(r).error),1)):d(r).loading?(b(),T("div",wE,u(d(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(b(),T("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:ft(W,["prevent"])},[i("p",DE,u(d(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("div",kE,[i("div",LE,[i("label",UE,u(d(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",YE,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:E.primaryColor||I.value.primary,onInput:f[29]||(f[29]=C=>E.primaryColor=C.target.value)},null,40,XE),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[30]||(f[30]=C=>E.primaryColor=C),placeholder:I.value.primary,maxlength:"7"},null,8,FE),[[pe,E.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:f[31]||(f[31]=C=>E.primaryColor="")},u(d(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",GE,[i("label",VE,u(d(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",HE,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:E.textColor||I.value.text,onInput:f[32]||(f[32]=C=>E.textColor=C.target.value)},null,40,BE),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[33]||(f[33]=C=>E.textColor=C),placeholder:I.value.text,maxlength:"7"},null,8,jE),[[pe,E.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:f[34]||(f[34]=C=>E.textColor="")},u(d(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",KE,[i("label",JE,u(d(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",WE,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:E.surfaceColor||I.value.surface,onInput:f[35]||(f[35]=C=>E.surfaceColor=C.target.value)},null,40,qE),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[36]||(f[36]=C=>E.surfaceColor=C),placeholder:I.value.surface,maxlength:"7"},null,8,zE),[[pe,E.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:f[37]||(f[37]=C=>E.surfaceColor="")},u(d(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",QE,[i("label",ZE,u(d(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",eA,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:E.borderColor||I.value.border,onInput:f[38]||(f[38]=C=>E.borderColor=C.target.value)},null,40,tA),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[39]||(f[39]=C=>E.borderColor=C),placeholder:I.value.border,maxlength:"7"},null,8,sA),[[pe,E.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:f[40]||(f[40]=C=>E.borderColor="")},u(d(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",nA,[i("label",oA,u(d(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",iA,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:E.mutedColor||I.value.muted,onInput:f[41]||(f[41]=C=>E.mutedColor=C.target.value)},null,40,rA),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[42]||(f[42]=C=>E.mutedColor=C),placeholder:I.value.muted,maxlength:"7"},null,8,aA),[[pe,E.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:f[43]||(f[43]=C=>E.mutedColor="")},u(d(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",lA,[i("h4",null,u(d(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Vt(U.value)},[i("button",cA,u(d(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",dA,u(d(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",uA,u(d(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",pA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Q,disabled:d(r).saving},u(d(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,_A),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:d(r).saving},u(d(r).saving?d(n)("JPROCESSING_REQUEST","Saving"):d(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,fA)])],32))])):Ae("",!0)]))}},[["__scopeId","data-v-f1d3a183"]]),mA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},gA={class:"nxp-ec-admin-panel__header"},CA={class:"nxp-ec-admin-panel__title"},SA={class:"nxp-ec-admin-panel__lead"},EA={class:"nxp-ec-admin-panel__actions"},AA=["placeholder","aria-label"],yA=["value"],bA={value:""},TA=["value"],vA=["disabled"],OA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},RA={key:1,class:"nxp-ec-admin-panel__loading"},xA={key:2,class:"nxp-ec-admin-panel__body"},PA={class:"nxp-ec-admin-panel__table"},NA={class:"nxp-ec-admin-table"},MA={scope:"col"},IA={scope:"col"},$A={scope:"col"},wA={scope:"col"},DA={scope:"col"},kA={key:0},LA={colspan:"5"},UA={class:"nxp-ec-log-entity"},YA={class:"nxp-ec-log-entity-id"},XA={class:"nxp-ec-log-context"},FA={key:0,class:"nxp-ec-admin-pagination"},GA=["disabled"],VA={class:"nxp-ec-admin-pagination__status"},HA=["disabled"],BA=It({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,r=s.state,l=Se(()=>{const E=new Set;return Array.isArray(r.items)&&r.items.forEach(I=>{I!=null&&I.entity_type&&E.add(I.entity_type)}),r.entity&&E.add(r.entity),Array.from(E).sort()}),c=()=>o("refresh"),a=()=>o("search"),h=E=>o("filter",E),p=E=>o("page",E),_=E=>{if(!E)return"";try{const I=new Date(E.replace(" ","T"));if(!Number.isNaN(I.getTime()))return I.toLocaleString()}catch(I){}return E},A=E=>{if(!E)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(E){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return E.charAt(0).toUpperCase()+E.slice(1)}},O=E=>{if(!(E!=null&&E.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const I=E.user.name||"",U=E.user.username||"";return I&&U?`${I} (${U})`:I||U||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},y=E=>{if(!E||Array.isArray(E)&&!E.length||typeof E=="object"&&!Object.keys(E).length)return"";try{return JSON.stringify(E,null,2)}catch(I){return String(E)}};return(E,I)=>(b(),T("section",mA,[i("header",gA,[i("div",null,[i("h2",CA,u(d(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",SA,u(d(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",EA,[ne(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":I[0]||(I[0]=U=>d(r).search=U),placeholder:d(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":d(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:Yt(a,["enter"])},null,40,AA),[[pe,d(r).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:d(r).entity,onChange:I[1]||(I[1]=U=>h(U.target.value)),"aria-label":"Entity filter"},[i("option",bA,u(d(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(b(!0),T(Ce,null,be(l.value,U=>(b(),T("option",{key:U,value:U},u(A(U)),9,TA))),128))],40,yA),i("button",{class:"nxp-ec-btn",type:"button",onClick:c,disabled:d(r).loading},u(d(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,vA)])]),d(r).error?(b(),T("div",OA,u(d(r).error),1)):d(r).loading?(b(),T("div",RA,u(d(n)("COM_NXPEASYCART_LOGS_LOADING","Loading logs",[],"logsLoading")),1)):(b(),T("div",xA,[i("div",PA,[i("table",NA,[i("thead",null,[i("tr",null,[i("th",MA,u(d(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",IA,u(d(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",$A,u(d(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",wA,u(d(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",DA,u(d(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[d(r).items.length?Ae("",!0):(b(),T("tr",kA,[i("td",LA,u(d(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(b(!0),T(Ce,null,be(d(r).items,U=>(b(),T("tr",{key:U.id},[i("td",null,u(_(U.created)),1),i("td",null,[i("span",UA,u(A(U.entity_type)),1),i("span",YA,"#"+u(U.entity_id),1)]),i("td",null,u(U.action),1),i("td",null,u(O(U)),1),i("td",null,[i("pre",XA,u(y(U.context)),1)])]))),128))])]),d(r).pagination.pages>1?(b(),T("div",FA,[i("button",{class:"nxp-ec-btn",type:"button",disabled:d(r).pagination.current<=1,onClick:I[2]||(I[2]=U=>p(d(r).pagination.current-1))},"  ",8,GA),i("span",VA,u(d(r).pagination.current)+" / "+u(d(r).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:d(r).pagination.current>=d(r).pagination.pages,onClick:I[3]||(I[3]=U=>p(d(r).pagination.current+1))},"  ",8,HA)])):Ae("",!0)])]))]))}},[["__scopeId","data-v-8e4861be"]]),jA={key:0,class:"nxp-ec-onboarding"},KA={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},JA={class:"nxp-ec-onboarding__header"},WA={class:"nxp-ec-onboarding__title"},qA={class:"nxp-ec-onboarding__lead"},zA={class:"nxp-ec-onboarding__progress"},QA={class:"nxp-ec-onboarding__progress-bar"},ZA={class:"nxp-ec-onboarding__progress-label"},ey={class:"nxp-ec-onboarding__steps"},ty={class:"nxp-ec-onboarding__step-main"},sy={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},ny={key:0,class:"fa-solid fa-circle-check"},oy={key:1,class:"fa-regular fa-circle"},iy={class:"nxp-ec-onboarding__step-actions"},ry=["onClick"],ay=It({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,o=Se(()=>t.steps.length?t.steps.filter(c=>c.completed).length/t.steps.length*100:0),n=Se(()=>`${o.value}%`),r=Se(()=>{const l=t.steps.filter(c=>c.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,c)=>e.visible?(b(),T("div",jA,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:c[0]||(c[0]=a=>l.$emit("close"))}),i("section",KA,[i("header",JA,[i("div",null,[i("h2",WA,u(d(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",qA,u(d(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:c[1]||(c[1]=a=>l.$emit("close"))},u(d(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",zA,[i("div",QA,[i("span",{style:Vt({width:n.value})},null,4)]),i("span",ZA,u(r.value),1)]),i("ol",ey,[(b(!0),T(Ce,null,be(e.steps,a=>(b(),T("li",{key:a.id,class:De({"is-complete":a.completed})},[i("div",ty,[i("span",sy,[a.completed?(b(),T("span",ny)):(b(),T("span",oy))]),i("div",null,[i("h3",null,u(d(s)(a.titleKey,a.titleFallback,[],`${a.id}-title`)),1),i("p",null,u(d(s)(a.descriptionKey,a.descriptionFallback,[],`${a.id}-description`)),1)])]),i("div",iy,[a.link?(b(),T("button",{key:0,type:"button",class:De(["nxp-ec-btn",{"nxp-ec-btn--ghost":a.completed}]),onClick:h=>l.$emit("navigate",a)},u(a.completed?d(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${a.id}-action`):d(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${a.id}-action`)),11,ry)):Ae("",!0)])],2))),128))])])])):Ae("",!0)}},[["__scopeId","data-v-485ff468"]]),ly=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(r){}let o=String(e);return t.forEach(r=>{const l=r!=null?r:"";o=o.replace("%s",String(l))}),o},cy=(e,t="",s=[])=>{var r;const o=(r=window==null?void 0:window.Joomla)==null?void 0:r.Text;let n=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(n=l)}return ly(n,s)};function dy(e={}){const t=e||{},s=(n,r)=>{if(!n)return r;const l=t[n];return l!=null&&l!==""?l:r};return{__:(n,r="",l=[],c="")=>{const a=s(c,r);return cy(n,a,l)}}}class uy{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};o.headers={...o.headers,...s.headers||{}};const n=String(o.method||"GET").toUpperCase();let r=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(r=this.ensureTokenOnUrl(r)));const l=await fetch(r,o);let c=null;const a=await l.text();if(a)try{c=JSON.parse(a)}catch(h){}if(!l.ok){const h=new Error((c==null?void 0:c.message)||`Request failed with status ${l.status}`);throw h.code=l.status,h.details=(c==null?void 0:c.data)||(c==null?void 0:c.errors)||null,h}if((c==null?void 0:c.success)===!1){const h=new Error(c.message||"Unknown API error");throw h.details=c.data||c.errors||null,h}return c!=null?c:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,o);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(o){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:o=0,search:n="",signal:r}){var A,O,y,E;const l=new URLSearchParams({limit:String(s),start:String(o)});n&&l.set("search",n);const c=`${t}&${l.toString()}`,h=(A=(await this.get(c,{signal:r})).data)!=null?A:{},p=(y=(O=h.items)!=null?O:h.data)!=null?y:[],_=(E=h.pagination)!=null?E:{total:0,limit:s,pages:0,current:0};return{items:p,pagination:_}}async fetchCategories({endpoint:t,limit:s=20,start:o=0,search:n="",signal:r}){var h,p,_;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),a=(h=(await this.get(l,{signal:r})).data)!=null?h:{};return{items:(p=a.items)!=null?p:[],pagination:(_=a.pagination)!=null?_:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:o=0,search:n="",state:r="",signal:l}){var A,O,y,E;const c=this.mergeParams(t,{limit:s,start:o,search:n||void 0,state:r||void 0}),h=(A=(await this.get(c,{signal:l})).data)!=null?A:{},p=(y=(O=h.items)!=null?O:h.data)!=null?y:[],_=(E=h.pagination)!=null?E:{total:0,limit:s,pages:0,current:0};return{items:p,pagination:_}}async fetchCustomers({endpoint:t,limit:s=20,start:o=0,search:n="",signal:r}){var _,A,O;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),a=(_=(await this.get(l,{signal:r})).data)!=null?_:{},h=(A=a.items)!=null?A:[],p=(O=a.pagination)!=null?O:{total:0,limit:s,pages:0,current:0};return{items:h,pagination:p}}async fetchCustomer({endpoint:t,email:s}){var r,l;const o=this.mergeParams(t,{email:s});return(l=(r=(await this.get(o)).data)==null?void 0:r.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:o=0,search:n="",signal:r}){var h,p,_;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),a=(h=(await this.get(l,{signal:r})).data)!=null?h:{};return{items:(p=a.items)!=null?p:[],pagination:(_=a.pagination)!=null?_:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?r:null}async updateCoupon({endpoint:t,id:s,data:o}){var l,c;const n=this.mergeParams(t,{id:s});return(c=(l=(await this.put(n,o)).data)==null?void 0:l.coupon)!=null?c:null}async deleteCoupons({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchTaxRates({endpoint:t,limit:s=20,start:o=0,search:n="",signal:r}){var h,p,_;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),a=(h=(await this.get(l,{signal:r})).data)!=null?h:{};return{items:(p=a.items)!=null?p:[],pagination:(_=a.pagination)!=null?_:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?r:null}async updateTaxRate({endpoint:t,id:s,data:o}){var l,c;const n=this.mergeParams(t,{id:s});return(c=(l=(await this.put(n,o)).data)==null?void 0:l.rate)!=null?c:null}async deleteTaxRates({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchShippingRules({endpoint:t,limit:s=20,start:o=0,search:n="",signal:r}){var h,p,_;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),a=(h=(await this.get(l,{signal:r})).data)!=null?h:{};return{items:(p=a.items)!=null?p:[],pagination:(_=a.pagination)!=null?_:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?r:null}async updateShippingRule({endpoint:t,id:s,data:o}){var l,c;const n=this.mergeParams(t,{id:s});return(c=(l=(await this.put(n,o)).data)==null?void 0:l.rule)!=null?c:null}async deleteShippingRules({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchLogs({endpoint:t,limit:s=20,start:o=0,search:n="",entity:r="",signal:l}){var p,_,A;const c=this.mergeParams(t,{limit:s,start:o,search:n||void 0,entity:r||void 0}),h=(p=(await this.get(c,{signal:l})).data)!=null?p:{};return{items:(_=h.items)!=null?_:[],pagination:(A=h.pagination)!=null?A:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,n;return t?(n=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,r;return(r=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?r:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:o=""}){var l,c;const n=this.mergeParams(t,{id:s||void 0,order_no:o||void 0});return(c=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?c:null}async transitionOrder({endpoint:t,id:s,state:o}){var l,c;const n=this.mergeParams(t,{id:s});return(c=(l=(await this.post(n,{state:o})).data)==null?void 0:l.order)!=null?c:null}async bulkTransitionOrders({endpoint:t,ids:s,state:o}){var l;const n={ids:s,state:o};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:o}){var r,l;return(l=(r=(await this.post(t,{id:s,message:o})).data)==null?void 0:r.order)!=null?l:null}async createProduct({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?r:null}async updateProduct({endpoint:t,id:s,data:o}){var l,c;const n=this.mergeParams(t,{id:s});return(c=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?c:null}async deleteProducts({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:[]}async createCategory({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?r:null}async updateCategory({endpoint:t,id:s,data:o}){var l,c;const n=this.mergeParams(t,{id:s});return(c=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?c:null}async deleteCategories({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}mergeParams(t,s={}){const o=new URLSearchParams;return Object.entries(s).forEach(([n,r])=>{r==null||r===""||o.set(n,String(r))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const it=e=>new uy(e),kn=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function py({endpoints:e,token:t}){var Z,N,M,X;const s=it({token:t}),o=(Z=e==null?void 0:e.list)!=null?Z:"",n=(N=e==null?void 0:e.create)!=null?N:kn(o,"store"),r=(M=e==null?void 0:e.update)!=null?M:kn(o,"update"),l=(X=e==null?void 0:e.delete)!=null?X:kn(o,"delete"),c=typeof AbortController!="undefined",a=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:""}),h=Le(null),p=async()=>{var ie;if(!o){a.error="Products endpoint unavailable.",a.items=[];return}a.loading=!0,a.error="",a.validationErrors=[],h.value&&c&&h.value.abort();const z=c?new AbortController:null;h.value=z;try{const{items:oe,pagination:V}=await s.fetchProducts({endpoint:o,signal:z?z.signal:void 0,limit:a.pagination.limit,start:Math.max(0,(a.pagination.current-1)*a.pagination.limit),search:a.search.trim()});a.items=oe,a.pagination={...a.pagination,...V,current:V.current&&V.current>0?V.current:1}}catch(oe){if((oe==null?void 0:oe.name)==="AbortError")return;a.error=(ie=oe==null?void 0:oe.message)!=null?ie:"Unknown error"}finally{c&&h.value===z&&(h.value=null),a.loading=!1}},_=()=>{a.pagination.current=1,p()},A=()=>{a.pagination.current=1,p()},O=z=>z?typeof z=="string"?z:typeof z=="object"&&z.message?String(z.message):String(z):"",y=(z,{setValidation:ie=!1}={})=>{var oe;if((z==null?void 0:z.code)===422&&ie){const V=Array.isArray(z.details)?z.details:[z.details].filter(Boolean);a.validationErrors=V.map(O).filter(H=>H!=="");return}a.error=(oe=z==null?void 0:z.message)!=null?oe:"Unknown error"},E=async z=>{if(!n)throw new Error("Create endpoint unavailable.");a.saving=!0,a.validationErrors=[];try{const ie=await s.createProduct({endpoint:n,data:z});return ie&&(a.items=[ie,...a.items],a.pagination.total+=1),ie}catch(ie){throw y(ie,{setValidation:!0}),ie}finally{a.saving=!1}},I=async(z,ie)=>{if(!r)throw new Error("Update endpoint unavailable.");a.saving=!0,a.validationErrors=[];try{const oe=await s.updateProduct({endpoint:r,id:z,data:ie});if(oe){const V=a.items.findIndex(H=>H.id===oe.id);V!==-1&&a.items.splice(V,1,oe)}return oe}catch(oe){throw y(oe,{setValidation:!0}),oe}finally{a.saving=!1}},U=async z=>{if(!l)throw new Error("Delete endpoint unavailable.");a.deleting=!0,a.validationErrors=[];try{const ie=await s.deleteProducts({endpoint:l,ids:z});return ie.length&&(a.items=a.items.filter(oe=>!ie.includes(oe.id)),a.pagination.total=Math.max(0,a.pagination.total-ie.length)),ie}catch(ie){throw y(ie),ie}finally{a.deleting=!1}};return tt(()=>{p()}),{state:a,loadProducts:p,refresh:_,search:A,createProduct:E,updateProduct:I,deleteProducts:U}}function _y({endpoints:e,token:t,preload:s={}}){var N,M,X,z,ie,oe,V,H,W,Q,B,ae,J,le;const o=it({token:t}),n=(N=e==null?void 0:e.list)!=null?N:"",r=(M=e==null?void 0:e.create)!=null?M:n,l=(X=e==null?void 0:e.update)!=null?X:n,c=(z=e==null?void 0:e.delete)!=null?z:n,a=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(H=(V=(ie=s.pagination)==null?void 0:ie.total)!=null?V:(oe=s.items)==null?void 0:oe.length)!=null?H:0,limit:(Q=(W=s.pagination)==null?void 0:W.limit)!=null?Q:20,pages:(ae=(B=s.pagination)==null?void 0:B.pages)!=null?ae:0,current:(le=(J=s.pagination)==null?void 0:J.current)!=null?le:1},search:""}),h=typeof AbortController!="undefined",p=Le(null),_=async()=>{var x;if(!n){a.error="Categories endpoint unavailable.",a.items=[];return}a.loading=!0,a.error="",a.validationErrors=[],p.value&&h&&p.value.abort();const k=h?new AbortController:null;p.value=k;try{const w=Math.max(0,(a.pagination.current-1)*a.pagination.limit),{items:v,pagination:ce}=await o.fetchCategories({endpoint:n,limit:a.pagination.limit,start:w,search:a.search.trim(),signal:k?k.signal:void 0});a.items=v,a.pagination={...a.pagination,...ce,current:ce.current&&ce.current>0?ce.current:1}}catch(w){if((w==null?void 0:w.name)==="AbortError")return;a.error=(x=w==null?void 0:w.message)!=null?x:"Unknown error"}finally{h&&p.value===k&&(p.value=null),a.loading=!1}},A=()=>{a.pagination.current=1,_()},O=()=>{a.pagination.current=1,_()},y=k=>{const x=Number(k);Number.isNaN(x)||x<1||x===a.pagination.current||(a.pagination.current=x,_())},E=(k,{validation:x=!1}={})=>{var w;if(x&&(k==null?void 0:k.code)===422){const v=k.details,ce=Array.isArray(v)?v:[v].filter(Boolean);a.validationErrors=ce.map(me=>me?typeof me=="string"?me:typeof me=="object"&&me.message?String(me.message):String(me):"").filter(Boolean);return}a.error=(w=k==null?void 0:k.message)!=null?w:"Unknown error"},I=async k=>{if(!r||!l)throw new Error("Category endpoints unavailable.");a.saving=!0,a.error="",a.validationErrors=[];try{let x=null;return k.id?x=await o.updateCategory({endpoint:l,id:k.id,data:k}):x=await o.createCategory({endpoint:r,data:k}),x&&await _(),x}catch(x){throw E(x,{validation:!0}),x}finally{a.saving=!1}},U=async k=>{if(!Array.isArray(k)||!k.length||!c)return 0;a.deleting=!0,a.error="";try{const x=await o.deleteCategories({endpoint:c,ids:k});return x&&await _(),x}catch(x){throw E(x),x}finally{a.deleting=!1}},Z=async()=>{if(!n)return[];try{const{items:k}=await o.fetchCategories({endpoint:n,limit:200,start:0,search:""});return k}catch(k){return[]}};return tt(()=>{(!Array.isArray(a.items)||!a.items.length)&&_()}),{state:a,loadCategories:_,refresh:A,search:O,goToPage:y,saveCategory:I,deleteCategories:U,loadOptions:Z}}const js=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function fy({endpoints:e,token:t,states:s=[],preload:o={}}){var ae,J,le,k,x,w,v,ce,me;const n=it({token:t}),r=(ae=e==null?void 0:e.list)!=null?ae:"",l=(J=e==null?void 0:e.show)!=null?J:js(r,"show"),c=(le=e==null?void 0:e.transition)!=null?le:js(r,"transition"),a=(k=e==null?void 0:e.bulkTransition)!=null?k:js(r,"bulkTransition"),h=(x=e==null?void 0:e.note)!=null?x:js(r,"note"),p=typeof AbortController!="undefined",_=Le(null),A=Array.isArray(o==null?void 0:o.items)?o.items:[],O=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},y=Ie({loading:!1,saving:!1,error:"",transitionError:"",items:[...A],pagination:{total:(w=O.total)!=null?w:A.length,limit:(v=O.limit)!=null?v:20,pages:(ce=O.pages)!=null?ce:0,current:(me=O.current)!=null?me:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set}),E=async()=>{var P;if(!r){y.error="Orders endpoint unavailable.",y.items=[];return}y.loading=!0,y.error="",_.value&&p&&_.value.abort();const te=p?new AbortController:null;_.value=te;try{const m=Math.max(0,(y.pagination.current-1)*y.pagination.limit),{items:f,pagination:C}=await n.fetchOrders({endpoint:r,limit:y.pagination.limit,start:m,search:y.search.trim(),state:y.filterState,signal:te?te.signal:void 0});y.items=f,y.pagination={...y.pagination,...C,current:C.current&&C.current>0?C.current:1},y.selection.clear()}catch(m){if((m==null?void 0:m.name)==="AbortError")return;y.error=(P=m==null?void 0:m.message)!=null?P:"Unknown error"}finally{p&&_.value===te&&(_.value=null),y.loading=!1}},I=()=>{y.pagination.current=1,E()},U=()=>{y.pagination.current=1,E()},Z=te=>{y.filterState=te||"",y.pagination.current=1,E()},N=te=>{const P=Number(te);Number.isNaN(P)||P<1||P===y.pagination.current||(y.pagination.current=P,E())},M=()=>{y.selection.clear()},X=te=>{te&&(y.selection.has(te)?y.selection.delete(te):y.selection.add(te))},z=()=>{y.pagination.current>=y.pagination.pages||(y.pagination.current+=1,E())},ie=()=>{y.pagination.current<=1||(y.pagination.current-=1,E())},oe=async(te,P="")=>{var m;if(!l)return null;try{return await n.fetchOrder({endpoint:l,id:te,orderNumber:P})}catch(f){return y.transitionError=(m=f==null?void 0:f.message)!=null?m:"Unknown error",null}},V=async te=>{if(!te){y.activeOrder=null;return}if(y.transitionError="",te.items&&te.items.length&&te.billing){y.activeOrder=te;return}const P=await oe(te.id,te.order_no);y.activeOrder=P||te},H=()=>{y.transitionError="",y.activeOrder=null},W=te=>{if(!(te!=null&&te.id))return;const P=y.items.findIndex(m=>m.id===te.id);P!==-1&&y.items.splice(P,1,te)},Q=async(te,P)=>{var m;if(!c)throw new Error("Transition endpoint unavailable.");y.saving=!0,y.transitionError="";try{const f=await n.transitionOrder({endpoint:c,id:te,state:P});return f&&(W(f),y.activeOrder&&y.activeOrder.id===f.id&&(y.activeOrder=f)),f}catch(f){throw y.transitionError=(m=f==null?void 0:f.message)!=null?m:"Unknown error",f}finally{y.saving=!1}},B=async(te,P)=>{var m;if(!a)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(te)||!te.length)return{updated:[]};y.saving=!0;try{const f=await n.bulkTransitionOrders({endpoint:a,ids:te,state:P}),C=Array.isArray(f.updated)?f.updated:[];return C.forEach(F=>{W(F),y.activeOrder&&y.activeOrder.id===F.id&&(y.activeOrder=F)}),M(),{updated:C}}catch(f){throw y.transitionError=(m=f==null?void 0:f.message)!=null?m:"Unknown error",f}finally{y.saving=!1}};return tt(()=>{E()}),{state:y,loadOrders:E,refresh:I,search:U,setFilterState:Z,goToPage:N,nextPage:z,previousPage:ie,viewOrder:V,closeOrder:H,transitionOrder:Q,bulkTransition:B,toggleSelection:X,clearSelection:M,addNote:async(te,P)=>{var m;if(!h)throw new Error("Note endpoint unavailable.");if(!te||!P||!P.trim())return null;y.transitionError="",y.saving=!0;try{const f=await n.addOrderNote({endpoint:h,id:te,message:P});return f&&(W(f),y.activeOrder&&y.activeOrder.id===f.id&&(y.activeOrder=f)),f}catch(f){throw y.transitionError=(m=f==null?void 0:f.message)!=null?m:"Unknown error",f}finally{y.saving=!1}}}}function hy({endpoint:e="",token:t="",preload:s={}}){var l,c,a;const o=it({token:t}),n=Ie({loading:!1,error:"",summary:(a=s.summary)!=null?a:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(c=(l=s.summary)==null?void 0:l.currency)!=null?c:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[]}),r=async()=>{var h,p;if(e){n.loading=!0,n.error="";try{const _=await o.fetchDashboard({endpoint:e});n.summary=(h=_.summary)!=null?h:n.summary,n.checklist=Array.isArray(_.checklist)?_.checklist:n.checklist}catch(_){n.error=(p=_==null?void 0:_.message)!=null?p:"Unknown error"}finally{n.loading=!1}}};return tt(()=>{(!Array.isArray(n.checklist)||!n.checklist.length)&&r()}),{state:n,refresh:r}}function my({endpoints:e,token:t,preload:s={}}){var E,I,U,Z,N,M,X,z,ie,oe,V,H,W;const o=it({token:t}),n=(E=e==null?void 0:e.list)!=null?E:"",r=(I=e==null?void 0:e.show)!=null?I:"",l=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(M=(N=(U=s.pagination)==null?void 0:U.total)!=null?N:(Z=s.items)==null?void 0:Z.length)!=null?M:0,limit:(z=(X=s.pagination)==null?void 0:X.limit)!=null?z:20,pages:(oe=(ie=s.pagination)==null?void 0:ie.pages)!=null?oe:0,current:(H=(V=s.pagination)==null?void 0:V.current)!=null?H:1},search:"",activeCustomer:(W=s.active)!=null?W:null}),c=typeof AbortController!="undefined",a=Le(null),h=async()=>{var B;if(!n){l.error="Customers endpoint unavailable.",l.items=[];return}l.loading=!0,l.error="",a.value&&c&&a.value.abort();const Q=c?new AbortController:null;a.value=Q;try{const ae=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:J,pagination:le}=await o.fetchCustomers({endpoint:n,limit:l.pagination.limit,start:ae,search:l.search.trim(),signal:Q?Q.signal:void 0});l.items=J,l.pagination={...l.pagination,...le,current:le.current&&le.current>0?le.current:1}}catch(ae){if((ae==null?void 0:ae.name)==="AbortError")return;l.error=(B=ae==null?void 0:ae.message)!=null?B:"Unknown error"}finally{c&&a.value===Q&&(a.value=null),l.loading=!1}},p=()=>{l.pagination.current=1,h()},_=()=>{l.pagination.current=1,h()},A=Q=>{const B=Number(Q);Number.isNaN(B)||B<1||B===l.pagination.current||(l.pagination.current=B,h())},O=async Q=>{var B;if(!r||!(Q!=null&&Q.email)){l.activeCustomer=Q||null;return}try{const ae=await o.fetchCustomer({endpoint:r,email:Q.email});l.activeCustomer=ae||Q}catch(ae){l.error=(B=ae==null?void 0:ae.message)!=null?B:"Unknown error"}},y=()=>{l.activeCustomer=null};return tt(()=>{(!Array.isArray(l.items)||!l.items.length)&&h()}),{state:l,loadCustomers:h,refresh:p,search:_,goToPage:A,viewCustomer:O,closeCustomer:y}}function gy({endpoints:e,token:t,preload:s={}}){var N,M,X,z,ie,oe,V,H,W,Q,B,ae,J,le;const o=it({token:t}),n=(N=e==null?void 0:e.list)!=null?N:"",r=(M=e==null?void 0:e.create)!=null?M:n,l=(X=e==null?void 0:e.update)!=null?X:n,c=(z=e==null?void 0:e.delete)!=null?z:n,a=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(H=(V=(ie=s.pagination)==null?void 0:ie.total)!=null?V:(oe=s.items)==null?void 0:oe.length)!=null?H:0,limit:(Q=(W=s.pagination)==null?void 0:W.limit)!=null?Q:20,pages:(ae=(B=s.pagination)==null?void 0:B.pages)!=null?ae:0,current:(le=(J=s.pagination)==null?void 0:J.current)!=null?le:1},search:"",activeCoupon:null}),h=typeof AbortController!="undefined",p=Le(null),_=async()=>{var x;if(!n){a.error="Coupons endpoint unavailable.",a.items=[];return}a.loading=!0,a.error="",p.value&&h&&p.value.abort();const k=h?new AbortController:null;p.value=k;try{const w=Math.max(0,(a.pagination.current-1)*a.pagination.limit),{items:v,pagination:ce}=await o.fetchCoupons({endpoint:n,limit:a.pagination.limit,start:w,search:a.search.trim(),signal:k?k.signal:void 0});a.items=v,a.pagination={...a.pagination,...ce,current:ce.current&&ce.current>0?ce.current:1}}catch(w){if((w==null?void 0:w.name)==="AbortError")return;a.error=(x=w==null?void 0:w.message)!=null?x:"Unknown error"}finally{h&&p.value===k&&(p.value=null),a.loading=!1}},A=()=>{a.pagination.current=1,_()},O=()=>{a.pagination.current=1,_()},y=k=>{const x=Number(k);Number.isNaN(x)||x<1||x===a.pagination.current||(a.pagination.current=x,_())},E=k=>{a.activeCoupon=k},I=k=>{const x=a.items.findIndex(w=>w.id===k.id);x===-1?a.items.unshift(k):a.items.splice(x,1,k)},U=async k=>{var x;a.saving=!0,a.error="";try{let w=null;return k.id?w=await o.updateCoupon({endpoint:l,id:k.id,data:k}):w=await o.createCoupon({endpoint:r,data:k}),w&&(I(w),a.activeCoupon&&a.activeCoupon.id===w.id&&(a.activeCoupon=w)),w}catch(w){throw a.error=(x=w==null?void 0:w.message)!=null?x:"Unknown error",w}finally{a.saving=!1}},Z=async k=>{var x;if(!Array.isArray(k)||!k.length)return 0;a.saving=!0,a.error="";try{const w=await o.deleteCoupons({endpoint:c,ids:k});return w&&(a.items=a.items.filter(v=>!k.includes(v.id)),a.activeCoupon&&k.includes(a.activeCoupon.id)&&(a.activeCoupon=null)),w}catch(w){throw a.error=(x=w==null?void 0:w.message)!=null?x:"Unknown error",w}finally{a.saving=!1}};return tt(()=>{(!Array.isArray(a.items)||!a.items.length)&&_()}),{state:a,loadCoupons:_,refresh:A,search:O,goToPage:y,setActive:E,saveCoupon:U,deleteCoupons:Z}}const Ln=(e={})=>{var l,c,a,h,p,_,A,O,y,E,I,U,Z,N,M,X,z;const t=(l=e.store)!=null?l:{},s=(c=e.payments)!=null?c:{},o=(a=e.visual)!=null?a:{},n=(h=e.visual_defaults)!=null?h:{},r=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"USD";return{store:{name:(p=t.name)!=null?p:"",email:(_=t.email)!=null?_:"",phone:(A=t.phone)!=null?A:""},payments:{configured:!!s.configured},base_currency:r,visual:{primary_color:(O=o.primary_color)!=null?O:"",text_color:(y=o.text_color)!=null?y:"",surface_color:(E=o.surface_color)!=null?E:"",border_color:(I=o.border_color)!=null?I:"",muted_color:(U=o.muted_color)!=null?U:""},visual_defaults:{primary_color:(Z=n.primary_color)!=null?Z:"#4f6d7a",text_color:(N=n.text_color)!=null?N:"#1f2933",surface_color:(M=n.surface_color)!=null?M:"#ffffff",border_color:(X=n.border_color)!=null?X:"#e4e7ec",muted_color:(z=n.muted_color)!=null?z:"#6b7280"}}};function Cy({endpoints:e,token:t,preload:s={}}){var h,p;const o=it({token:t}),n=(h=e==null?void 0:e.show)!=null?h:"",r=(p=e==null?void 0:e.update)!=null?p:n,l=Ie({loading:!1,saving:!1,error:"",values:Ln(s)}),c=async()=>{var _;if(!n){l.error="Settings endpoint unavailable.";return}l.loading=!0,l.error="";try{const A=await o.fetchSettings({endpoint:n});l.values=Ln(A)}catch(A){throw l.error=(_=A==null?void 0:A.message)!=null?_:"Unknown error",A}finally{l.loading=!1}},a=async _=>{var A;if(!r)return l.error="Settings endpoint unavailable.",null;l.saving=!0,l.error="";try{const O=await o.updateSettings({endpoint:r,data:_});return l.values=Ln(O),l.values}catch(O){throw l.error=(A=O==null?void 0:O.message)!=null?A:"Unknown error",O}finally{l.saving=!1}};return tt(()=>{(!s||!s.store)&&c()}),{state:l,refresh:c,save:a}}function Sy({endpoints:e,token:t,preload:s={}}){var E,I,U,Z,N,M,X,z,ie,oe,V,H,W,Q;const o=it({token:t}),n=(E=e==null?void 0:e.list)!=null?E:"",r=(I=e==null?void 0:e.create)!=null?I:n,l=(U=e==null?void 0:e.update)!=null?U:n,c=(Z=e==null?void 0:e.delete)!=null?Z:n,a=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(z=(X=(N=s.pagination)==null?void 0:N.total)!=null?X:(M=s.items)==null?void 0:M.length)!=null?z:0,limit:(oe=(ie=s.pagination)==null?void 0:ie.limit)!=null?oe:20,pages:(H=(V=s.pagination)==null?void 0:V.pages)!=null?H:0,current:(Q=(W=s.pagination)==null?void 0:W.current)!=null?Q:1},search:""}),h=typeof AbortController!="undefined",p=Le(null),_=async()=>{var ae;if(!n){a.error="Tax endpoint unavailable.",a.items=[];return}a.loading=!0,a.error="",p.value&&h&&p.value.abort();const B=h?new AbortController:null;p.value=B;try{const J=Math.max(0,(a.pagination.current-1)*a.pagination.limit),{items:le,pagination:k}=await o.fetchTaxRates({endpoint:n,limit:a.pagination.limit,start:J,search:a.search.trim(),signal:B?B.signal:void 0});a.items=le,a.pagination={...a.pagination,...k,current:k.current&&k.current>0?k.current:1}}catch(J){if((J==null?void 0:J.name)==="AbortError")return;a.error=(ae=J==null?void 0:J.message)!=null?ae:"Unknown error"}finally{h&&p.value===B&&(p.value=null),a.loading=!1}},A=()=>{a.pagination.current=1,_()},O=async B=>{var ae;a.saving=!0,a.error="";try{const J=B.id?await o.updateTaxRate({endpoint:l,id:B.id,data:B}):await o.createTaxRate({endpoint:r,data:B});if(J){const le=a.items.findIndex(k=>k.id===J.id);le===-1?a.items.unshift(J):a.items.splice(le,1,J)}return J}catch(J){throw a.error=(ae=J==null?void 0:J.message)!=null?ae:"Unknown error",J}finally{a.saving=!1}},y=async B=>{var ae;if(!Array.isArray(B)||!B.length)return 0;a.saving=!0,a.error="";try{const J=await o.deleteTaxRates({endpoint:c,ids:B});return J&&(a.items=a.items.filter(le=>!B.includes(le.id))),J}catch(J){throw a.error=(ae=J==null?void 0:J.message)!=null?ae:"Unknown error",J}finally{a.saving=!1}};return tt(()=>{(!Array.isArray(a.items)||!a.items.length)&&_()}),{state:a,loadRates:_,refresh:A,saveRate:O,deleteRates:y}}function Ey({endpoints:e,token:t,preload:s={}}){var E,I,U,Z,N,M,X,z,ie,oe,V,H,W,Q;const o=it({token:t}),n=(E=e==null?void 0:e.list)!=null?E:"",r=(I=e==null?void 0:e.create)!=null?I:n,l=(U=e==null?void 0:e.update)!=null?U:n,c=(Z=e==null?void 0:e.delete)!=null?Z:n,a=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(z=(X=(N=s.pagination)==null?void 0:N.total)!=null?X:(M=s.items)==null?void 0:M.length)!=null?z:0,limit:(oe=(ie=s.pagination)==null?void 0:ie.limit)!=null?oe:20,pages:(H=(V=s.pagination)==null?void 0:V.pages)!=null?H:0,current:(Q=(W=s.pagination)==null?void 0:W.current)!=null?Q:1},search:""}),h=typeof AbortController!="undefined",p=Le(null),_=async()=>{var ae;if(!n){a.error="Shipping endpoint unavailable.",a.items=[];return}a.loading=!0,a.error="",p.value&&h&&p.value.abort();const B=h?new AbortController:null;p.value=B;try{const J=Math.max(0,(a.pagination.current-1)*a.pagination.limit),{items:le,pagination:k}=await o.fetchShippingRules({endpoint:n,limit:a.pagination.limit,start:J,search:a.search.trim(),signal:B?B.signal:void 0});a.items=le,a.pagination={...a.pagination,...k,current:k.current&&k.current>0?k.current:1}}catch(J){if((J==null?void 0:J.name)==="AbortError")return;a.error=(ae=J==null?void 0:J.message)!=null?ae:"Unknown error"}finally{h&&p.value===B&&(p.value=null),a.loading=!1}},A=()=>{a.pagination.current=1,_()},O=async B=>{var ae;a.saving=!0,a.error="";try{const J=B.id?await o.updateShippingRule({endpoint:l,id:B.id,data:B}):await o.createShippingRule({endpoint:r,data:B});if(J){const le=a.items.findIndex(k=>k.id===J.id);le===-1?a.items.unshift(J):a.items.splice(le,1,J)}return J}catch(J){throw a.error=(ae=J==null?void 0:J.message)!=null?ae:"Unknown error",J}finally{a.saving=!1}},y=async B=>{var ae;if(!Array.isArray(B)||!B.length)return 0;a.saving=!0,a.error="";try{const J=await o.deleteShippingRules({endpoint:c,ids:B});return J&&(a.items=a.items.filter(le=>!B.includes(le.id))),J}catch(J){throw a.error=(ae=J==null?void 0:J.message)!=null?ae:"Unknown error",J}finally{a.saving=!1}};return tt(()=>{(!Array.isArray(a.items)||!a.items.length)&&_()}),{state:a,loadRules:_,refresh:A,saveRule:O,deleteRules:y}}function Ay({endpoints:e,token:t,preload:s={}}){var O,y,E,I,U,Z,N,M,X,z,ie;const o=it({token:t}),n=(O=e==null?void 0:e.list)!=null?O:"",r=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(U=(I=(y=s.pagination)==null?void 0:y.total)!=null?I:(E=s.items)==null?void 0:E.length)!=null?U:0,limit:(N=(Z=s.pagination)==null?void 0:Z.limit)!=null?N:20,pages:(X=(M=s.pagination)==null?void 0:M.pages)!=null?X:0,current:(ie=(z=s.pagination)==null?void 0:z.current)!=null?ie:1},search:"",entity:""}),l=typeof AbortController!="undefined",c=Le(null),a=async()=>{var V;if(!n){r.error="Logs endpoint unavailable.",r.items=[];return}r.loading=!0,r.error="",l&&c.value&&c.value.abort();const oe=l?new AbortController:null;c.value=oe;try{const H=Math.max(0,(r.pagination.current-1)*r.pagination.limit),{items:W,pagination:Q}=await o.fetchLogs({endpoint:n,limit:r.pagination.limit,start:H,search:r.search.trim(),entity:r.entity,signal:oe?oe.signal:void 0});r.items=W,r.pagination={...r.pagination,...Q,current:Q.current&&Q.current>0?Q.current:1}}catch(H){if((H==null?void 0:H.name)==="AbortError")return;r.error=(V=H==null?void 0:H.message)!=null?V:"Unknown error"}finally{l&&c.value===oe&&(c.value=null),r.loading=!1}},h=()=>{r.pagination.current=1,a()},p=()=>{r.pagination.current=1,a()},_=oe=>{const V=typeof oe=="string"?oe.trim():"";r.entity!==V&&(r.entity=V,r.pagination.current=1,a())},A=oe=>{const V=Number(oe);Number.isNaN(V)||V<1||V===r.pagination.current||(r.pagination.current=V,a())};return tt(()=>{(!Array.isArray(r.items)||!r.items.length)&&a()}),{state:r,loadLogs:a,refresh:h,search:p,setEntity:_,goToPage:A}}const Ri=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"}});function yy({endpoints:e={},token:t=""}){const s=it({token:t}),o=Ie({loading:!1,saving:!1,error:"",config:Ri(),message:""}),n=async()=>{var c,a,h,p;if(e.show){o.loading=!0,o.error="";try{const _=await s.get(e.show);o.config=l((h=(a=(c=_==null?void 0:_.data)==null?void 0:c.config)!=null?a:_==null?void 0:_.config)!=null?h:{})}catch(_){o.error=(p=_.message)!=null?p:"Unable to load payment configuration."}finally{o.loading=!1}}},r=async c=>{var a,h,p,_,A,O,y;if(e.update){o.saving=!0,o.error="",o.message="";try{const E=await s.post(e.update,{config:c});o.config=l((p=(h=(a=E==null?void 0:E.data)==null?void 0:a.config)!=null?h:E==null?void 0:E.config)!=null?p:{}),o.message=(O=(A=(_=E==null?void 0:E.data)==null?void 0:_.message)!=null?A:E==null?void 0:E.message)!=null?O:""}catch(E){o.error=(y=E.message)!=null?y:"Unable to save payment configuration."}finally{o.saving=!1}}},l=c=>{var h,p;const a=Ri();return{stripe:{...a.stripe,...(h=c.stripe)!=null?h:{}},paypal:{...a.paypal,...(p=c.paypal)!=null?p:{}}}};return{state:o,refresh:n,save:r}}const by={class:"nxp-ec-admin-app__shell"},Ty={class:"nxp-ec-admin-app__header"},vy={class:"nxp-ec-admin-app__title"},Oy={class:"nxp-ec-admin-app__lead"},Ry={key:0,class:"nxp-ec-admin-nav"},xy=["href"],Py={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},Ny={class:"nxp-ec-admin-panel__body"},My={class:"nxp-ec-admin-panel__lead"},Cs="nxp:admin:onboarding:dismissed",Iy={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var Rr,xr,Pr,Nr,Mr,Ir,$r,wr,Dr,kr,Lr,Ur,Yr,Xr,Fr,Gr,Vr,Hr,Br,jr,Kr,Jr,Wr,qr,zr,Qr,Zr,ea,ta,sa,na,oa,ia,ra,aa,la,ca,da,ua,pa,_a,fa,ha,ma,ga,Ca,Sa,Ea,Aa,ya,ba,Ta,va,Oa,Ra,xa,Pa,Na,Ma,Ia,$a,wa,Da,ka,La,Ua,Ya,Xa,Fa,Ga,Va,Ha,Ba,ja,Ka,Ja,Wa,qa,za,Qa,Za,el,tl,sl,nl,ol,il,rl,al,ll,cl,dl,ul,pl,_l,fl,hl,ml,gl,Cl,Sl,El,Al,yl,bl,Tl,vl,Ol,Rl,xl,Pl,Nl,Ml,Il,$l,wl,Dl,kl,Ll,Ul,Yl,Xl,Fl,Gl,Vl,Hl,Bl,jl,Kl,Jl,Wl,ql,zl,Ql,Zl,ec,tc;const t=e,{__:s}=dy(t.dataset),o=Se(()=>{var Y;return((Y=t.dataset)==null?void 0:Y.appTitleKey)||"COM_NXPEASYCART"}),n=Se(()=>{var Y;return((Y=t.dataset)==null?void 0:Y.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),r=(Y,de)=>{if(!Y||typeof Y!="string")return de;try{return JSON.parse(Y)}catch(Me){return de}},l=Se(()=>{var de,Me;if(Array.isArray((de=t.config)==null?void 0:de.navItems))return t.config.navItems.map(Ke=>({id:Ke.id,title:Ke.title,link:Ke.link}));const Y=r((Me=t.dataset)==null?void 0:Me.navItems,[]);return Array.isArray(Y)?Y.map(Ke=>({id:Ke.id,title:Ke.title,link:Ke.link})):[]}),c=Y=>{const de=l.value;if(!Array.isArray(de))return"";const Me=de.find(Ke=>Ke.id===Y);return Me?Me.link:""},a=Se(()=>{var Y,de;return((Y=t.config)==null?void 0:Y.activeSection)||((de=t.dataset)==null?void 0:de.activeSection)||"dashboard"}),h=(kr=(Rr=t.endpoints)==null?void 0:Rr.products)!=null?kr:{list:(Pr=(xr=t.dataset)==null?void 0:xr.productsEndpoint)!=null?Pr:"",create:(Mr=(Nr=t.dataset)==null?void 0:Nr.productsEndpointCreate)!=null?Mr:"",update:($r=(Ir=t.dataset)==null?void 0:Ir.productsEndpointUpdate)!=null?$r:"",delete:(Dr=(wr=t.dataset)==null?void 0:wr.productsEndpointDelete)!=null?Dr:""},p=(jr=(Lr=t.endpoints)==null?void 0:Lr.categories)!=null?jr:{list:(Yr=(Ur=t.dataset)==null?void 0:Ur.categoriesEndpoint)!=null?Yr:"",create:(Fr=(Xr=t.dataset)==null?void 0:Xr.categoriesEndpointCreate)!=null?Fr:"",update:(Vr=(Gr=t.dataset)==null?void 0:Gr.categoriesEndpointUpdate)!=null?Vr:"",delete:(Br=(Hr=t.dataset)==null?void 0:Hr.categoriesEndpointDelete)!=null?Br:""},_=(oa=(Kr=t.endpoints)==null?void 0:Kr.orders)!=null?oa:{list:(Wr=(Jr=t.dataset)==null?void 0:Jr.ordersEndpoint)!=null?Wr:"",show:(zr=(qr=t.dataset)==null?void 0:qr.ordersEndpointShow)!=null?zr:"",transition:(Zr=(Qr=t.dataset)==null?void 0:Qr.ordersEndpointTransition)!=null?Zr:"",bulkTransition:(ta=(ea=t.dataset)==null?void 0:ea.ordersEndpointBulk)!=null?ta:"",note:(na=(sa=t.dataset)==null?void 0:sa.ordersEndpointNote)!=null?na:""},A=(da=(ia=t.endpoints)==null?void 0:ia.customers)!=null?da:{list:(aa=(ra=t.dataset)==null?void 0:ra.customersEndpoint)!=null?aa:"",show:(ca=(la=t.dataset)==null?void 0:la.customersEndpointShow)!=null?ca:""},O=(Ea=(ua=t.endpoints)==null?void 0:ua.coupons)!=null?Ea:{list:(_a=(pa=t.dataset)==null?void 0:pa.couponsEndpoint)!=null?_a:"",create:(ha=(fa=t.dataset)==null?void 0:fa.couponsEndpointCreate)!=null?ha:"",update:(ga=(ma=t.dataset)==null?void 0:ma.couponsEndpointUpdate)!=null?ga:"",delete:(Sa=(Ca=t.dataset)==null?void 0:Ca.couponsEndpointDelete)!=null?Sa:""},y=(Na=(Aa=t.endpoints)==null?void 0:Aa.tax)!=null?Na:{list:(ba=(ya=t.dataset)==null?void 0:ya.taxEndpoint)!=null?ba:"",create:(va=(Ta=t.dataset)==null?void 0:Ta.taxEndpointCreate)!=null?va:"",update:(Ra=(Oa=t.dataset)==null?void 0:Oa.taxEndpointUpdate)!=null?Ra:"",delete:(Pa=(xa=t.dataset)==null?void 0:xa.taxEndpointDelete)!=null?Pa:""},E=(Xa=(Ma=t.endpoints)==null?void 0:Ma.shipping)!=null?Xa:{list:($a=(Ia=t.dataset)==null?void 0:Ia.shippingEndpoint)!=null?$a:"",create:(Da=(wa=t.dataset)==null?void 0:wa.shippingEndpointCreate)!=null?Da:"",update:(La=(ka=t.dataset)==null?void 0:ka.shippingEndpointUpdate)!=null?La:"",delete:(Ya=(Ua=t.dataset)==null?void 0:Ua.shippingEndpointDelete)!=null?Ya:""},I=(ja=(Fa=t.endpoints)==null?void 0:Fa.settings)!=null?ja:{show:(Va=(Ga=t.dataset)==null?void 0:Ga.settingsEndpointShow)!=null?Va:"",update:(Ba=(Ha=t.dataset)==null?void 0:Ha.settingsEndpointUpdate)!=null?Ba:""},U=(qa=(Ka=t.endpoints)==null?void 0:Ka.logs)!=null?qa:{list:(Wa=(Ja=t.dataset)==null?void 0:Ja.logsEndpoint)!=null?Wa:""},Z=(sl=(za=t.endpoints)==null?void 0:za.payments)!=null?sl:{show:(Za=(Qa=t.dataset)==null?void 0:Qa.paymentsEndpointShow)!=null?Za:"",update:(tl=(el=t.dataset)==null?void 0:el.paymentsEndpointUpdate)!=null?tl:""},N=Se(()=>{var Y;return r((Y=t.dataset)==null?void 0:Y.orderStates,[])}),{state:M,refresh:X}=hy({endpoint:(cl=(ll=(rl=(nl=t.endpoints)==null?void 0:nl.dashboard)!=null?rl:(il=(ol=t.config)==null?void 0:ol.endpoints)==null?void 0:il.dashboard)!=null?ll:(al=t.dataset)==null?void 0:al.dashboardEndpoint)!=null?cl:"",token:t.csrfToken,preload:(fl=(ul=(dl=t.config)==null?void 0:dl.preload)==null?void 0:ul.dashboard)!=null?fl:{summary:r((pl=t.dataset)==null?void 0:pl.dashboardSummary,{}),checklist:r((_l=t.dataset)==null?void 0:_l.dashboardChecklist,[])}}),{state:z,refresh:ie,search:oe,createProduct:V,updateProduct:H,deleteProducts:W}=py({endpoints:h,token:t.csrfToken}),{state:Q,refresh:B,search:ae,goToPage:J,saveCategory:le,deleteCategories:k,loadOptions:x}=_y({endpoints:p,token:t.csrfToken,preload:(Sl=(ml=(hl=t.config)==null?void 0:hl.preload)==null?void 0:ml.categories)!=null?Sl:{items:r((gl=t.dataset)==null?void 0:gl.categoriesPreload,[]),pagination:r((Cl=t.dataset)==null?void 0:Cl.categoriesPreloadPagination,{})}}),w=Se(()=>(Array.isArray(Q.items)?Q.items:[]).map(de=>{var Me,Ke,Ss;return{id:Number.parseInt((Me=de==null?void 0:de.id)!=null?Me:0,10)||0,title:String((Ke=de==null?void 0:de.title)!=null?Ke:"").trim(),slug:String((Ss=de==null?void 0:de.slug)!=null?Ss:"").trim()}}).filter(de=>de.title!=="")),{state:v,refresh:ce,search:me,setFilterState:te,viewOrder:P,closeOrder:m,transitionOrder:f,goToPage:C,bulkTransition:F,toggleSelection:re,clearSelection:ee,addNote:Oe}=fy({endpoints:_,token:t.csrfToken,states:N.value,preload:(Tl=(Al=(El=t.config)==null?void 0:El.preload)==null?void 0:Al.orders)!=null?Tl:{items:r((yl=t.dataset)==null?void 0:yl.ordersPreload,[]),pagination:r((bl=t.dataset)==null?void 0:bl.ordersPreloadPagination,{})}}),{state:g,refresh:S,search:R,goToPage:D,viewCustomer:$,closeCustomer:L}=my({endpoints:A,token:t.csrfToken,preload:(Pl=(Ol=(vl=t.config)==null?void 0:vl.preload)==null?void 0:Ol.customers)!=null?Pl:{items:r((Rl=t.dataset)==null?void 0:Rl.customersPreload,[]),pagination:r((xl=t.dataset)==null?void 0:xl.customersPreloadPagination,{})}}),{state:q,refresh:j,search:K,goToPage:G,saveCoupon:_e,deleteCoupons:se}=gy({endpoints:(Ml=(Nl=t.endpoints)==null?void 0:Nl.coupons)!=null?Ml:O,token:t.csrfToken,preload:(kl=($l=(Il=t.config)==null?void 0:Il.preload)==null?void 0:$l.coupons)!=null?kl:{items:r((wl=t.dataset)==null?void 0:wl.couponsPreload,[]),pagination:r((Dl=t.dataset)==null?void 0:Dl.couponsPreloadPagination,{})}}),ue=(Xl=(Ul=(Ll=t.config)==null?void 0:Ll.preload)==null?void 0:Ul.settings)!=null?Xl:r((Yl=t.dataset)==null?void 0:Yl.settingsPreload,{}),{state:fe,refresh:Ee,save:Re}=Cy({endpoints:I,token:t.csrfToken,preload:ue}),Te=Se(()=>{var de,Me;const Y=(Me=(de=t.dataset)==null?void 0:de.baseCurrency)!=null?Me:"";return typeof Y=="string"?Y.trim().toUpperCase():""}),Fe=Se(()=>{var de,Me;const Y=(Me=(de=fe==null?void 0:fe.values)==null?void 0:de.base_currency)!=null?Me:"";return typeof Y=="string"?Y.trim().toUpperCase():""}),ke=Se(()=>{const Y=Fe.value||Te.value;return Y!==""?Y:"USD"}),nt=Y=>{switch(Y){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:c("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:c("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:c("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:c("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:c("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:Y||"step",titleKey:Y||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:Y||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:c("dashboard")||""}}},ze=Se(()=>(Array.isArray(M.checklist)?M.checklist:[]).map(de=>{const Me=nt(de.label);return{id:Me.id,completed:!!de.completed,link:de.link||Me.link||"",label:de.label,titleKey:Me.titleKey,descriptionKey:Me.descriptionKey,titleFallback:Me.titleFallback,descriptionFallback:Me.descriptionFallback}})),bt=Se(()=>ze.value.some(Y=>!Y.completed)),$t=Le(!1),je=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Cs,"0")}catch(Y){}$t.value=!0},Qe=()=>{if($t.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Cs,"1")}catch(Y){}},Js=Y=>{Y&&typeof Y.link=="string"&&Y.link!==""&&(Qe(),typeof window!="undefined"&&(window.location.href=Y.link))};$e(bt,Y=>{if(!Y&&($t.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Cs,"1")}catch(de){}});const Ws=(Bl=(Gl=(Fl=t.config)==null?void 0:Fl.preload)==null?void 0:Gl.tax)!=null?Bl:{items:r((Vl=t.dataset)==null?void 0:Vl.taxPreload,[]),pagination:r((Hl=t.dataset)==null?void 0:Hl.taxPreloadPagination,{})},{state:$y,refresh:Un,saveRate:wy,deleteRates:Dy}=Sy({endpoints:y,token:t.csrfToken,preload:Ws}),ky=(ql=(Kl=(jl=t.config)==null?void 0:jl.preload)==null?void 0:Kl.shipping)!=null?ql:{items:r((Jl=t.dataset)==null?void 0:Jl.shippingPreload,[]),pagination:r((Wl=t.dataset)==null?void 0:Wl.shippingPreloadPagination,{})},{state:Ly,refresh:Yn,saveRule:Uy,deleteRules:Yy}=Ey({endpoints:E,token:t.csrfToken,preload:ky}),Xy=(tc=(Ql=(zl=t.config)==null?void 0:zl.preload)==null?void 0:Ql.logs)!=null?tc:{items:r((Zl=t.dataset)==null?void 0:Zl.logsPreload,[]),pagination:r((ec=t.dataset)==null?void 0:ec.logsPreloadPagination,{})},{state:Fy,refresh:Gy,search:Vy,setEntity:Hy,goToPage:By}=Ay({endpoints:U,token:t.csrfToken,preload:Xy}),{state:jy,refresh:Or,save:Ky}=yy({endpoints:Z,token:t.csrfToken});tt(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const Y=window.localStorage.getItem(Cs);bt.value?Y!=="1"&&($t.value=!0):window.localStorage.setItem(Cs,"1")}catch(Y){}}Or()});const Jy=()=>{ie()},Wy=()=>{oe()},qy=async Y=>{try{await V(Y),ie(),B()}catch(de){}},zy=async({id:Y,data:de})=>{try{await H(Y,de),ie(),B()}catch(Me){}},Qy=async Y=>{try{await W(Y),ie(),B()}catch(de){}},Zy=()=>{B()},eb=()=>{ae()},tb=Y=>{J(Y)},sb=async Y=>{try{await le(Y),B()}catch(de){}},nb=async Y=>{try{await k(Y),B()}catch(de){}},ob=()=>{X()},ib=()=>{ce()},rb=()=>{me()},ab=Y=>{te(Y)},lb=Y=>{P(Y)},cb=()=>{m()},db=async({id:Y,state:de})=>{await f(Y,de)},ub=Y=>{C(Y)},pb=async({ids:Y,state:de})=>{await F(Y,de)},_b=Y=>{re(Y)},fb=()=>{ee()},hb=async({id:Y,message:de})=>{await Oe(Y,de)},mb=()=>{S()},gb=()=>{R()},Cb=Y=>{D(Y)},Sb=Y=>{$(Y)},Eb=()=>{L()},Ab=()=>{j()},yb=()=>{K()},bb=Y=>{G(Y)},Tb=async Y=>{try{await _e(Y)}catch(de){}},vb=async Y=>{try{await se(Y)}catch(de){}},Ob=()=>{Ee()},Rb=async Y=>{try{await Re(Y)}catch(de){}},xb=()=>{Un()},Pb=async Y=>{try{await wy(Y),Un()}catch(de){}},Nb=async Y=>{try{await Dy(Y),Un()}catch(de){}},Mb=()=>{Yn()},Ib=async Y=>{try{await Uy(Y),Yn()}catch(de){}},$b=async Y=>{try{await Yy(Y),Yn()}catch(de){}},wb=()=>{Gy()},Db=()=>{Vy()},kb=Y=>{Hy(Y)},Lb=Y=>{By(Y)},Ub=()=>{Or()},Yb=async Y=>{await Ky(Y)};return(Y,de)=>{var Me,Ke,Ss,sc,nc,oc;return b(),T(Ce,null,[i("section",by,[i("header",Ty,[i("div",null,[i("h1",vy,u(d(s)(o.value,(Ke=(Me=t.dataset)==null?void 0:Me.appTitle)!=null?Ke:"NXP Easy Cart",[],"appTitle")),1),i("p",Oy,u(d(s)(n.value,(sc=(Ss=t.dataset)==null?void 0:Ss.appLead)!=null?sc:"Manage your storefront from one place.",[],"appLead")),1)]),bt.value?(b(),T("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:je},u(d(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),1)):Ae("",!0)]),l.value.length?(b(),T("nav",Ry,[(b(!0),T(Ce,null,be(l.value,qs=>(b(),T("a",{key:qs.id,href:qs.link,class:De({"is-active":qs.id===a.value})},u(qs.title),11,xy))),128))])):Ae("",!0),a.value==="dashboard"?(b(),St(up,{key:1,state:d(M),translate:d(s),onRefresh:ob},null,8,["state","translate"])):a.value==="products"?(b(),St(gf,{key:2,state:d(z),translate:d(s),"base-currency":ke.value,"category-options":w.value,onCreate:qy,onUpdate:zy,onDelete:Qy,onRefresh:Jy,onSearch:Wy},null,8,["state","translate","base-currency","category-options"])):a.value==="categories"?(b(),St(ch,{key:3,state:d(Q),translate:d(s),"load-options":d(x),onRefresh:Zy,onSearch:eb,onPage:tb,onSave:sb,onDelete:nb},null,8,["state","translate","load-options"])):a.value==="orders"?(b(),St(Rm,{key:4,state:d(v),translate:d(s),onRefresh:ib,onSearch:rb,onFilter:ab,onView:lb,onClose:cb,onTransition:db,onPage:ub,onBulkTransition:pb,onToggleSelection:_b,onClearSelection:fb,onAddNote:hb},null,8,["state","translate"])):a.value==="customers"?(b(),St(_g,{key:5,state:d(g),translate:d(s),"base-currency":ke.value,onRefresh:mb,onSearch:gb,onPage:Cb,onView:Sb,onClose:Eb},null,8,["state","translate","base-currency"])):a.value==="coupons"?(b(),St(pC,{key:6,state:d(q),translate:d(s),"base-currency":ke.value,onRefresh:Ab,onSearch:yb,onPage:bb,onSave:Tb,onDelete:vb},null,8,["state","translate","base-currency"])):a.value==="settings"?(b(),St(hA,{key:7,"settings-state":d(fe),"tax-state":d($y),"shipping-state":d(Ly),"payments-state":d(jy),translate:d(s),"base-currency":ke.value,onRefreshSettings:Ob,onSaveSettings:Rb,onRefreshTax:xb,onSaveTax:Pb,onDeleteTax:Nb,onRefreshShipping:Mb,onSaveShipping:Ib,onDeleteShipping:$b,onRefreshPayments:Ub,onSavePayments:Yb},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency"])):a.value==="logs"?(b(),St(BA,{key:8,state:d(Fy),translate:d(s),onRefresh:wb,onSearch:Db,onFilter:kb,onPage:Lb},null,8,["state","translate"])):(b(),T("div",Py,[i("div",Ny,[i("p",My,u(d(s)(n.value,(oc=(nc=t.dataset)==null?void 0:nc.appLead)!=null?oc:"This section will be available soon.",[],"appLead")),1)])]))]),st(ay,{visible:$t.value,steps:ze.value,translate:d(s),onClose:Qe,onNavigate:Js},null,8,["visible","steps","translate"])],64)}}},Ks=document.getElementById("nxp-ec-admin-app");if(!Ks)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(xi=Ks.getAttribute("data-csrf-token"))!=null?xi:"",t=Object.assign({},Ks.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(A){console.warn("[NXP Easy Cart] Failed to parse admin config payload",A)}const o=(wi=(Pi=s==null?void 0:s.endpoints)==null?void 0:Pi.products)!=null?wi:{list:(Ni=t.productsEndpoint)!=null?Ni:"",create:(Mi=t.productsEndpointCreate)!=null?Mi:"",update:(Ii=t.productsEndpointUpdate)!=null?Ii:"",delete:($i=t.productsEndpointDelete)!=null?$i:""},n=(Xi=(Di=s==null?void 0:s.endpoints)==null?void 0:Di.categories)!=null?Xi:{list:(ki=t.categoriesEndpoint)!=null?ki:"",create:(Li=t.categoriesEndpointCreate)!=null?Li:"",update:(Ui=t.categoriesEndpointUpdate)!=null?Ui:"",delete:(Yi=t.categoriesEndpointDelete)!=null?Yi:""},r=(Ki=(Fi=s==null?void 0:s.endpoints)==null?void 0:Fi.orders)!=null?Ki:{list:(Gi=t.ordersEndpoint)!=null?Gi:"",show:(Vi=t.ordersEndpointShow)!=null?Vi:"",transition:(Hi=t.ordersEndpointTransition)!=null?Hi:"",bulkTransition:(Bi=t.ordersEndpointBulk)!=null?Bi:"",note:(ji=t.ordersEndpointNote)!=null?ji:""},l=(zi=(Ji=s==null?void 0:s.endpoints)==null?void 0:Ji.customers)!=null?zi:{list:(Wi=t.customersEndpoint)!=null?Wi:"",show:(qi=t.customersEndpointShow)!=null?qi:""},c=(nr=(Qi=s==null?void 0:s.endpoints)==null?void 0:Qi.coupons)!=null?nr:{list:(Zi=t.couponsEndpoint)!=null?Zi:"",create:(er=t.couponsEndpointCreate)!=null?er:"",update:(tr=t.couponsEndpointUpdate)!=null?tr:"",delete:(sr=t.couponsEndpointDelete)!=null?sr:""},a=(cr=(or=s==null?void 0:s.endpoints)==null?void 0:or.tax)!=null?cr:{list:(ir=t.taxEndpoint)!=null?ir:"",create:(rr=t.taxEndpointCreate)!=null?rr:"",update:(ar=t.taxEndpointUpdate)!=null?ar:"",delete:(lr=t.taxEndpointDelete)!=null?lr:""},h=(hr=(dr=s==null?void 0:s.endpoints)==null?void 0:dr.shipping)!=null?hr:{list:(ur=t.shippingEndpoint)!=null?ur:"",create:(pr=t.shippingEndpointCreate)!=null?pr:"",update:(_r=t.shippingEndpointUpdate)!=null?_r:"",delete:(fr=t.shippingEndpointDelete)!=null?fr:""},p=(Sr=(mr=s==null?void 0:s.endpoints)==null?void 0:mr.settings)!=null?Sr:{show:(gr=t.settingsEndpointShow)!=null?gr:"",update:(Cr=t.settingsEndpointUpdate)!=null?Cr:""},_=(yr=(Er=s==null?void 0:s.endpoints)==null?void 0:Er.logs)!=null?yr:{list:(Ar=t.logsEndpoint)!=null?Ar:""};Mu(Iy,{csrfToken:e,dataset:t,config:s,endpoints:{products:o,categories:n,orders:r,customers:l,coupons:c,tax:a,shipping:h,settings:p,logs:_,dashboard:(vr=(Tr=(br=s==null?void 0:s.endpoints)==null?void 0:br.dashboard)!=null?Tr:t.dashboardEndpoint)!=null?vr:""}}).mount(Ks)}})();
