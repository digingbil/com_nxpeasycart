(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var lo,co,uo,po,_o,fo,mo,ho,go,Eo,Co,So,bo,Ao,To,yo,Ro,Oo,xo,vo,No,Po,Mo,Io,ko,$o,wo,Lo,Do,Uo,Yo,Xo,Fo,Go,Vo,Ho,Bo,Ko,jo,Jo,Wo,qo,zo,Qo,Zo,er,tr,nr,sr,ar,ir,or,rr,lr,cr,dr,ur,pr;function ys(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const $e={},tn=[],Ct=()=>{},ha=()=>!1,Hn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rs=e=>e.startsWith("onUpdate:"),ze=Object.assign,Os=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Jc=Object.prototype.hasOwnProperty,Ne=(e,t)=>Jc.call(e,t),Ee=Array.isArray,nn=e=>hn(e)==="[object Map]",sn=e=>hn(e)==="[object Set]",ga=e=>hn(e)==="[object Date]",be=e=>typeof e=="function",Fe=e=>typeof e=="string",_t=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",Ea=e=>(we(e)||be(e))&&be(e.then)&&be(e.catch),Ca=Object.prototype.toString,hn=e=>Ca.call(e),Wc=e=>hn(e).slice(8,-1),Sa=e=>hn(e)==="[object Object]",xs=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=ys(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},qc=/-\w/g,Xt=Bn(e=>e.replace(qc,t=>t.slice(1).toUpperCase())),zc=/\B([A-Z])/g,Ft=Bn(e=>e.replace(zc,"-$1").toLowerCase()),ba=Bn(e=>e.charAt(0).toUpperCase()+e.slice(1)),vs=Bn(e=>e?`on${ba(e)}`:""),Gt=(e,t)=>!Object.is(e,t),Kn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Aa=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},jn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ta;const Jn=()=>Ta||(Ta=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Mt(e){if(Ee(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=Fe(i)?td(i):Mt(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(Fe(e)||we(e))return e}const Qc=/;(?![^(]*\))/g,Zc=/:([^]+)/,ed=/\/\*[^]*?\*\//g;function td(e){const t={};return e.replace(ed,"").split(Qc).forEach(s=>{if(s){const i=s.split(Zc);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Me(e){let t="";if(Fe(e))t=e;else if(Ee(e))for(let s=0;s<e.length;s++){const i=Me(e[s]);i&&(t+=i+" ")}else if(we(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const nd=ys("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function ya(e){return!!e||e===""}function sd(e,t){if(e.length!==t.length)return!1;let s=!0;for(let i=0;s&&i<e.length;i++)s=En(e[i],t[i]);return s}function En(e,t){if(e===t)return!0;let s=ga(e),i=ga(t);if(s||i)return s&&i?e.getTime()===t.getTime():!1;if(s=_t(e),i=_t(t),s||i)return e===t;if(s=Ee(e),i=Ee(t),s||i)return s&&i?sd(e,t):!1;if(s=we(e),i=we(t),s||i){if(!s||!i)return!1;const n=Object.keys(e).length,o=Object.keys(t).length;if(n!==o)return!1;for(const c in e){const u=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(u&&!p||!u&&p||!En(e[c],t[c]))return!1}}return String(e)===String(t)}function Ns(e,t){return e.findIndex(s=>En(s,t))}const Ra=e=>!!(e&&e.__v_isRef===!0),d=e=>Fe(e)?e:e==null?"":Ee(e)||we(e)&&(e.toString===Ca||!be(e.toString))?Ra(e)?d(e.value):JSON.stringify(e,Oa,2):String(e),Oa=(e,t)=>Ra(t)?Oa(e,t.value):nn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],o)=>(s[Ps(i,o)+" =>"]=n,s),{})}:sn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ps(s))}:_t(t)?Ps(t):we(t)&&!Ee(t)&&!Sa(t)?String(t):t,Ps=(e,t="")=>{var s;return _t(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class ad{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function id(){return nt}let Le;const Ms=new WeakSet;class xa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ms.has(this)&&(Ms.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Na(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$a(this),Pa(this);const t=Le,s=ft;Le=this,ft=!0;try{return this.fn()}finally{Ma(this),Le=t,ft=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ws(t);this.deps=this.depsTail=void 0,$a(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ms.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$s(this)&&this.run()}get dirty(){return $s(this)}}let va=0,Cn,Sn;function Na(e,t=!1){if(e.flags|=8,t){e.next=Sn,Sn=e;return}e.next=Cn,Cn=e}function Is(){va++}function ks(){if(--va>0)return;if(Sn){let t=Sn;for(Sn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Cn;){let t=Cn;for(Cn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function Pa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ma(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),ws(i),od(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function $s(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ia(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ia(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bn)||(e.globalVersion=bn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!$s(e))))return;e.flags|=2;const t=e.dep,s=Le,i=ft;Le=e,ft=!0;try{Pa(e);const n=e.fn(e._value);(t.version===0||Gt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Le=s,ft=i,Ma(e),e.flags&=-3}}function ws(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)ws(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function od(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ft=!0;const ka=[];function St(){ka.push(ft),ft=!1}function bt(){const e=ka.pop();ft=e===void 0?!0:e}function $a(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Le;Le=void 0;try{t()}finally{Le=s}}}let bn=0;class rd{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ls{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Le||!ft||Le===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Le)s=this.activeLink=new rd(Le,this),Le.deps?(s.prevDep=Le.depsTail,Le.depsTail.nextDep=s,Le.depsTail=s):Le.deps=Le.depsTail=s,wa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=Le.depsTail,s.nextDep=void 0,Le.depsTail.nextDep=s,Le.depsTail=s,Le.deps===s&&(Le.deps=i)}return s}trigger(t){this.version++,bn++,this.notify(t)}notify(t){Is();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ks()}}}function wa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)wa(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ds=new WeakMap,jt=Symbol(""),Us=Symbol(""),An=Symbol("");function We(e,t,s){if(ft&&Le){let i=Ds.get(e);i||Ds.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new Ls),n.map=i,n.key=s),n.track()}}function It(e,t,s,i,n,o){const c=Ds.get(e);if(!c){bn++;return}const u=p=>{p&&p.trigger()};if(Is(),t==="clear")c.forEach(u);else{const p=Ee(e),m=p&&xs(s);if(p&&s==="length"){const f=Number(i);c.forEach((l,g)=>{(g==="length"||g===An||!_t(g)&&g>=f)&&u(l)})}else switch((s!==void 0||c.has(void 0))&&u(c.get(s)),m&&u(c.get(An)),t){case"add":p?m&&u(c.get("length")):(u(c.get(jt)),nn(e)&&u(c.get(Us)));break;case"delete":p||(u(c.get(jt)),nn(e)&&u(c.get(Us)));break;case"set":nn(e)&&u(c.get(jt));break}}ks()}function an(e){const t=ve(e);return t===e?t:(We(t,"iterate",An),pt(e)?t:t.map(Ke))}function Wn(e){return We(e=ve(e),"iterate",An),e}const ld={__proto__:null,[Symbol.iterator](){return Ys(this,Symbol.iterator,Ke)},concat(...e){return an(this).concat(...e.map(t=>Ee(t)?an(t):t))},entries(){return Ys(this,"entries",e=>(e[1]=Ke(e[1]),e))},every(e,t){return kt(this,"every",e,t,void 0,arguments)},filter(e,t){return kt(this,"filter",e,t,s=>s.map(Ke),arguments)},find(e,t){return kt(this,"find",e,t,Ke,arguments)},findIndex(e,t){return kt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return kt(this,"findLast",e,t,Ke,arguments)},findLastIndex(e,t){return kt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return kt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xs(this,"includes",e)},indexOf(...e){return Xs(this,"indexOf",e)},join(e){return an(this).join(e)},lastIndexOf(...e){return Xs(this,"lastIndexOf",e)},map(e,t){return kt(this,"map",e,t,void 0,arguments)},pop(){return Tn(this,"pop")},push(...e){return Tn(this,"push",e)},reduce(e,...t){return La(this,"reduce",e,t)},reduceRight(e,...t){return La(this,"reduceRight",e,t)},shift(){return Tn(this,"shift")},some(e,t){return kt(this,"some",e,t,void 0,arguments)},splice(...e){return Tn(this,"splice",e)},toReversed(){return an(this).toReversed()},toSorted(e){return an(this).toSorted(e)},toSpliced(...e){return an(this).toSpliced(...e)},unshift(...e){return Tn(this,"unshift",e)},values(){return Ys(this,"values",Ke)}};function Ys(e,t,s){const i=Wn(e),n=i[t]();return i!==e&&!pt(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.done||(o.value=s(o.value)),o}),n}const cd=Array.prototype;function kt(e,t,s,i,n,o){const c=Wn(e),u=c!==e&&!pt(e),p=c[t];if(p!==cd[t]){const l=p.apply(e,o);return u?Ke(l):l}let m=s;c!==e&&(u?m=function(l,g){return s.call(this,Ke(l),g,e)}:s.length>2&&(m=function(l,g){return s.call(this,l,g,e)}));const f=p.call(c,m,i);return u&&n?n(f):f}function La(e,t,s,i){const n=Wn(e);let o=s;return n!==e&&(pt(e)?s.length>3&&(o=function(c,u,p){return s.call(this,c,u,p,e)}):o=function(c,u,p){return s.call(this,c,Ke(u),p,e)}),n[t](o,...i)}function Xs(e,t,s){const i=ve(e);We(i,"iterate",An);const n=i[t](...s);return(n===-1||n===!1)&&Vs(s[0])?(s[0]=ve(s[0]),i[t](...s)):n}function Tn(e,t,s=[]){St(),Is();const i=ve(e)[t].apply(e,s);return ks(),bt(),i}const dd=ys("__proto__,__v_isRef,__isVue"),Da=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_t));function ud(e){_t(e)||(e=String(e));const t=ve(this);return We(t,"has",e),t.hasOwnProperty(e)}class Ua{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?Ha:Va:o?Ga:Fa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const c=Ee(t);if(!n){let p;if(c&&(p=ld[s]))return p;if(s==="hasOwnProperty")return ud}const u=Reflect.get(t,s,je(t)?t:i);if((_t(s)?Da.has(s):dd(s))||(n||We(t,"get",s),o))return u;if(je(u)){const p=c&&xs(s)?u:u.value;return n&&we(p)?Gs(p):p}return we(u)?n?Gs(u):Ie(u):u}}class Ya extends Ua{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];if(!this._isShallow){const p=Vt(o);if(!pt(i)&&!Vt(i)&&(o=ve(o),i=ve(i)),!Ee(t)&&je(o)&&!je(i))return p||(o.value=i),!0}const c=Ee(t)&&xs(s)?Number(s)<t.length:Ne(t,s),u=Reflect.set(t,s,i,je(t)?t:n);return t===ve(n)&&(c?Gt(i,o)&&It(t,"set",s,i):It(t,"add",s,i)),u}deleteProperty(t,s){const i=Ne(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&It(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!_t(s)||!Da.has(s))&&We(t,"has",s),i}ownKeys(t){return We(t,"iterate",Ee(t)?"length":jt),Reflect.ownKeys(t)}}class Xa extends Ua{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const pd=new Ya,_d=new Xa,fd=new Ya(!0),md=new Xa(!0),Fs=e=>e,qn=e=>Reflect.getPrototypeOf(e);function hd(e,t,s){return function(...i){const n=this.__v_raw,o=ve(n),c=nn(o),u=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,m=n[e](...i),f=s?Fs:t?es:Ke;return!t&&We(o,"iterate",p?Us:jt),{next(){const{value:l,done:g}=m.next();return g?{value:l,done:g}:{value:u?[f(l[0]),f(l[1])]:f(l),done:g}},[Symbol.iterator](){return this}}}}function zn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function gd(e,t){const s={get(n){const o=this.__v_raw,c=ve(o),u=ve(n);e||(Gt(n,u)&&We(c,"get",n),We(c,"get",u));const{has:p}=qn(c),m=t?Fs:e?es:Ke;if(p.call(c,n))return m(o.get(n));if(p.call(c,u))return m(o.get(u));o!==c&&o.get(n)},get size(){const n=this.__v_raw;return!e&&We(ve(n),"iterate",jt),n.size},has(n){const o=this.__v_raw,c=ve(o),u=ve(n);return e||(Gt(n,u)&&We(c,"has",n),We(c,"has",u)),n===u?o.has(n):o.has(n)||o.has(u)},forEach(n,o){const c=this,u=c.__v_raw,p=ve(u),m=t?Fs:e?es:Ke;return!e&&We(p,"iterate",jt),u.forEach((f,l)=>n.call(o,m(f),m(l),c))}};return ze(s,e?{add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear")}:{add(n){!t&&!pt(n)&&!Vt(n)&&(n=ve(n));const o=ve(this);return qn(o).has.call(o,n)||(o.add(n),It(o,"add",n,n)),this},set(n,o){!t&&!pt(o)&&!Vt(o)&&(o=ve(o));const c=ve(this),{has:u,get:p}=qn(c);let m=u.call(c,n);m||(n=ve(n),m=u.call(c,n));const f=p.call(c,n);return c.set(n,o),m?Gt(o,f)&&It(c,"set",n,o):It(c,"add",n,o),this},delete(n){const o=ve(this),{has:c,get:u}=qn(o);let p=c.call(o,n);p||(n=ve(n),p=c.call(o,n)),u&&u.call(o,n);const m=o.delete(n);return p&&It(o,"delete",n,void 0),m},clear(){const n=ve(this),o=n.size!==0,c=n.clear();return o&&It(n,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=hd(n,e,t)}),s}function Qn(e,t){const s=gd(e,t);return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(Ne(s,n)&&n in i?s:i,n,o)}const Ed={get:Qn(!1,!1)},Cd={get:Qn(!1,!0)},Sd={get:Qn(!0,!1)},bd={get:Qn(!0,!0)},Fa=new WeakMap,Ga=new WeakMap,Va=new WeakMap,Ha=new WeakMap;function Ad(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Td(e){return e.__v_skip||!Object.isExtensible(e)?0:Ad(Wc(e))}function Ie(e){return Vt(e)?e:Zn(e,!1,pd,Ed,Fa)}function yd(e){return Zn(e,!1,fd,Cd,Ga)}function Gs(e){return Zn(e,!0,_d,Sd,Va)}function X1(e){return Zn(e,!0,md,bd,Ha)}function Zn(e,t,s,i,n){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Td(e);if(o===0)return e;const c=n.get(e);if(c)return c;const u=new Proxy(e,o===2?i:s);return n.set(e,u),u}function on(e){return Vt(e)?on(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function pt(e){return!!(e&&e.__v_isShallow)}function Vs(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function Rd(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&Aa(e,"__v_skip",!0),e}const Ke=e=>we(e)?Ie(e):e,es=e=>we(e)?Gs(e):e;function je(e){return e?e.__v_isRef===!0:!1}function Xe(e){return Od(e,!1)}function Od(e,t){return je(e)?e:new xd(e,t)}class xd{constructor(t,s){this.dep=new Ls,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ve(t),this._value=s?t:Ke(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||pt(t)||Vt(t);t=i?t:ve(t),Gt(t,s)&&(this._rawValue=t,this._value=i?t:Ke(t),this.dep.trigger())}}function r(e){return je(e)?e.value:e}const vd={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return je(n)&&!je(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Ba(e){return on(e)?e:new Proxy(e,vd)}class Nd{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ls(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Le!==this)return Na(this,!0),!0}get value(){const t=this.dep.track();return Ia(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Pd(e,t,s=!1){let i,n;return be(e)?i=e:(i=e.get,n=e.set),new Nd(i,n,s)}const ts={},ns=new WeakMap;let Jt;function Md(e,t=!1,s=Jt){if(s){let i=ns.get(s);i||ns.set(s,i=[]),i.push(e)}}function Id(e,t,s=$e){const{immediate:i,deep:n,once:o,scheduler:c,augmentJob:u,call:p}=s,m=G=>n?G:pt(G)||n===!1||n===0?$t(G,1):$t(G);let f,l,g,k,V=!1,w=!1;if(je(e)?(l=()=>e.value,V=pt(e)):on(e)?(l=()=>m(e),V=!0):Ee(e)?(w=!0,V=e.some(G=>on(G)||pt(G)),l=()=>e.map(G=>{if(je(G))return G.value;if(on(G))return m(G);if(be(G))return p?p(G,2):G()})):be(e)?t?l=p?()=>p(e,2):e:l=()=>{if(g){St();try{g()}finally{bt()}}const G=Jt;Jt=f;try{return p?p(e,3,[k]):e(k)}finally{Jt=G}}:l=Ct,t&&n){const G=l,Y=n===!0?1/0:n;l=()=>$t(G(),Y)}const K=id(),L=()=>{f.stop(),K&&K.active&&Os(K.effects,f)};if(o&&t){const G=t;t=(...Y)=>{G(...Y),L()}}let $=w?new Array(e.length).fill(ts):ts;const U=G=>{if(!(!(f.flags&1)||!f.dirty&&!G))if(t){const Y=f.run();if(n||V||(w?Y.some((R,ne)=>Gt(R,$[ne])):Gt(Y,$))){g&&g();const R=Jt;Jt=f;try{const ne=[Y,$===ts?void 0:w&&$[0]===ts?[]:$,k];$=Y,p?p(t,3,ne):t(...ne)}finally{Jt=R}}}else f.run()};return u&&u(U),f=new xa(l),f.scheduler=c?()=>c(U,!1):U,k=G=>Md(G,!1,f),g=f.onStop=()=>{const G=ns.get(f);if(G){if(p)p(G,4);else for(const Y of G)Y();ns.delete(f)}},t?i?U(!0):$=f.run():c?c(U.bind(null,!0),!0):f.run(),L.pause=f.pause.bind(f),L.resume=f.resume.bind(f),L.stop=L,L}function $t(e,t=1/0,s){if(t<=0||!we(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,je(e))$t(e.value,t,s);else if(Ee(e))for(let i=0;i<e.length;i++)$t(e[i],t,s);else if(sn(e)||nn(e))e.forEach(i=>{$t(i,t,s)});else if(Sa(e)){for(const i in e)$t(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&$t(e[i],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yn=[];let Hs=!1;function F1(e,...t){if(Hs)return;Hs=!0,St();const s=yn.length?yn[yn.length-1].component:null,i=s&&s.appContext.config.warnHandler,n=kd();if(i)rn(i,s,11,[e+t.map(o=>{var c,u;return(u=(c=o.toString)==null?void 0:c.call(o))!=null?u:JSON.stringify(o)}).join(""),s&&s.proxy,n.map(({vnode:o})=>`at <${Xi(s,o.type)}>`).join(`
`),n]);else{const o=[`[Vue warn]: ${e}`,...t];n.length&&o.push(`
`,...$d(n)),console.warn(...o)}bt(),Hs=!1}function kd(){let e=yn[yn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function $d(e){const t=[];return e.forEach((s,i)=>{t.push(...i===0?[]:[`
`],...wd(s))}),t}function wd({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,n=` at <${Xi(e.component,e.type,i)}`,o=">"+s;return e.props?[n,...Ld(e.props),o]:[n+o]}function Ld(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(i=>{t.push(...Ka(i,e[i]))}),s.length>3&&t.push(" ..."),t}function Ka(e,t,s){return Fe(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:je(t)?(t=Ka(e,ve(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):be(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ve(t),s?t:[`${e}=`,t])}function rn(e,t,s,i){try{return i?e(...i):e()}catch(n){ss(n,t,s)}}function At(e,t,s,i){if(be(e)){const n=rn(e,t,s,i);return n&&Ea(n)&&n.catch(o=>{ss(o,t,s)}),n}if(Ee(e)){const n=[];for(let o=0;o<e.length;o++)n.push(At(e[o],t,s,i));return n}}function ss(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||$e;if(t){let u=t.parent;const p=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const f=u.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](e,p,m)===!1)return}u=u.parent}if(o){St(),rn(o,null,10,[e,p,m]),bt();return}}Dd(e,s,n,i,c)}function Dd(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const Qe=[];let Tt=-1;const ln=[];let Ht=null,cn=0;const ja=Promise.resolve();let as=null;function Ja(e){const t=as||ja;return e?t.then(this?e.bind(this):e):t}function Ud(e){let t=Tt+1,s=Qe.length;for(;t<s;){const i=t+s>>>1,n=Qe[i],o=Rn(n);o<e||o===e&&n.flags&2?t=i+1:s=i}return t}function Bs(e){if(!(e.flags&1)){const t=Rn(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=Rn(s)?Qe.push(e):Qe.splice(Ud(t),0,e),e.flags|=1,Wa()}}function Wa(){as||(as=ja.then(Qa))}function Yd(e){Ee(e)?ln.push(...e):Ht&&e.id===-1?Ht.splice(cn+1,0,e):e.flags&1||(ln.push(e),e.flags|=1),Wa()}function qa(e,t,s=Tt+1){for(;s<Qe.length;s++){const i=Qe[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Qe.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function za(e){if(ln.length){const t=[...new Set(ln)].sort((s,i)=>Rn(s)-Rn(i));if(ln.length=0,Ht){Ht.push(...t);return}for(Ht=t,cn=0;cn<Ht.length;cn++){const s=Ht[cn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ht=null,cn=0}}const Rn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Qa(e){try{for(Tt=0;Tt<Qe.length;Tt++){const t=Qe[Tt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Tt<Qe.length;Tt++){const t=Qe[Tt];t&&(t.flags&=-2)}Tt=-1,Qe.length=0,za(),as=null,(Qe.length||ln.length)&&Qa()}}let qe=null,Za=null;function is(e){const t=qe;return qe=e,Za=e&&e.type.__scopeId||null,t}function ei(e,t=qe,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&ki(-1);const o=is(t);let c;try{c=e(...n)}finally{is(o),i._d&&ki(1)}return c};return i._n=!0,i._c=!0,i._d=!0,i}function Q(e,t){if(qe===null)return e;const s=ms(qe),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,c,u,p=$e]=t[n];o&&(be(o)&&(o={mounted:o,updated:o}),o.deep&&$t(c),i.push({dir:o,instance:s,value:c,oldValue:void 0,arg:u,modifiers:p}))}return e}function Wt(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let c=0;c<n.length;c++){const u=n[c];o&&(u.oldValue=o[c].value);let p=u.dir[i];p&&(St(),At(p,s,8,[e.el,u,e,t]),bt())}}const Xd=Symbol("_vte"),Fd=e=>e.__isTeleport,Gd=Symbol("_leaveCb");function Ks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ti(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const os=new WeakMap;function On(e,t,s,i,n=!1){if(Ee(e)){e.forEach((V,w)=>On(V,t&&(Ee(t)?t[w]:t),s,i,n));return}if(dn(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&On(e,t,s,i.component.subTree);return}const o=i.shapeFlag&4?ms(i.component):i.el,c=n?null:o,{i:u,r:p}=e,m=t&&t.r,f=u.refs===$e?u.refs={}:u.refs,l=u.setupState,g=ve(l),k=l===$e?ha:V=>Ne(g,V);if(m!=null&&m!==p){if(ni(t),Fe(m))f[m]=null,k(m)&&(l[m]=null);else if(je(m)){m.value=null;const V=t;V.k&&(f[V.k]=null)}}if(be(p))rn(p,u,12,[c,f]);else{const V=Fe(p),w=je(p);if(V||w){const K=()=>{if(e.f){const L=V?k(p)?l[p]:f[p]:p.value;if(n)Ee(L)&&Os(L,o);else if(Ee(L))L.includes(o)||L.push(o);else if(V)f[p]=[o],k(p)&&(l[p]=f[p]);else{const $=[o];p.value=$,e.k&&(f[e.k]=$)}}else V?(f[p]=c,k(p)&&(l[p]=c)):w&&(p.value=c,e.k&&(f[e.k]=c))};if(c){const L=()=>{K(),os.delete(e)};L.id=-1,os.set(e,L),rt(L,s)}else ni(e),K()}}}function ni(e){const t=os.get(e);t&&(t.flags|=8,os.delete(e))}Jn().requestIdleCallback,Jn().cancelIdleCallback;const dn=e=>!!e.type.__asyncLoader,si=e=>e.type.__isKeepAlive;function Vd(e,t){ai(e,"a",t)}function Hd(e,t){ai(e,"da",t)}function ai(e,t,s=et){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(rs(t,i,s),s){let n=s.parent;for(;n&&n.parent;)si(n.parent.vnode)&&Bd(i,t,s,n),n=n.parent}}function Bd(e,t,s,i){const n=rs(t,e,i,!0);oi(()=>{Os(i[t],n)},s)}function rs(e,t,s=et,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...c)=>{St();const u=In(s),p=At(t,s,e,c);return u(),bt(),p});return i?n.unshift(o):n.push(o),o}}const wt=e=>(t,s=et)=>{(!kn||e==="sp")&&rs(e,(...i)=>t(...i),s)},Kd=wt("bm"),ot=wt("m"),jd=wt("bu"),Jd=wt("u"),ii=wt("bum"),oi=wt("um"),Wd=wt("sp"),qd=wt("rtg"),zd=wt("rtc");function Qd(e,t=et){rs("ec",e,t)}const Zd=Symbol.for("v-ndc");function Oe(e,t,s,i){let n;const o=s,c=Ee(e);if(c||Fe(e)){const u=c&&on(e);let p=!1,m=!1;u&&(p=!pt(e),m=Vt(e),e=Wn(e)),n=new Array(e.length);for(let f=0,l=e.length;f<l;f++)n[f]=t(p?m?es(Ke(e[f])):Ke(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,o)}else if(we(e))if(e[Symbol.iterator])n=Array.from(e,(u,p)=>t(u,p,void 0,o));else{const u=Object.keys(e);n=new Array(u.length);for(let p=0,m=u.length;p<m;p++){const f=u[p];n[p]=t(e[f],f,p,o)}}else n=[];return n}function eu(e,t,s={},i,n){if(qe.ce||qe.parent&&dn(qe.parent)&&qe.parent.ce){const m=Object.keys(s).length>0;return T(),st(Ce,null,[He("slot",s,i)],m?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),T();const c=o&&ri(o(s)),u=s.key||c&&c.key,p=st(Ce,{key:(u&&!_t(u)?u:`_${t}`)+(!c&&i?"_fb":"")},c||[],c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),o&&o._c&&(o._d=!0),p}function ri(e){return e.some(t=>ta(t)?!(t.type===Lt||t.type===Ce&&!ri(t.children)):!0)?e:null}const js=e=>e?Di(e)?ms(e):js(e.parent):null,xn=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>js(e.parent),$root:e=>js(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ui(e),$forceUpdate:e=>e.f||(e.f=()=>{Bs(e.update)}),$nextTick:e=>e.n||(e.n=Ja.bind(e.proxy)),$watch:e=>Au.bind(e)}),Js=(e,t)=>e!==$e&&!e.__isScriptSetup&&Ne(e,t),tu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:c,type:u,appContext:p}=e;let m;if(t[0]!=="$"){const k=c[t];if(k!==void 0)switch(k){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(Js(i,t))return c[t]=1,i[t];if(n!==$e&&Ne(n,t))return c[t]=2,n[t];if((m=e.propsOptions[0])&&Ne(m,t))return c[t]=3,o[t];if(s!==$e&&Ne(s,t))return c[t]=4,s[t];Ws&&(c[t]=0)}}const f=xn[t];let l,g;if(f)return t==="$attrs"&&We(e.attrs,"get",""),f(e);if((l=u.__cssModules)&&(l=l[t]))return l;if(s!==$e&&Ne(s,t))return c[t]=4,s[t];if(g=p.config.globalProperties,Ne(g,t))return g[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return Js(n,t)?(n[t]=s,!0):i!==$e&&Ne(i,t)?(i[t]=s,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o,type:c}},u){let p,m;return!!(s[u]||e!==$e&&u[0]!=="$"&&Ne(e,u)||Js(t,u)||(p=o[0])&&Ne(p,u)||Ne(i,u)||Ne(xn,u)||Ne(n.config.globalProperties,u)||(m=c.__cssModules)&&m[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ne(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function li(e){return Ee(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ws=!0;function nu(e){const t=ui(e),s=e.proxy,i=e.ctx;Ws=!1,t.beforeCreate&&ci(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:c,watch:u,provide:p,inject:m,created:f,beforeMount:l,mounted:g,beforeUpdate:k,updated:V,activated:w,deactivated:K,beforeDestroy:L,beforeUnmount:$,destroyed:U,unmounted:G,render:Y,renderTracked:R,renderTriggered:ne,errorCaptured:de,serverPrefetch:ge,expose:J,inheritAttrs:j,components:N,directives:h,filters:x}=t;if(m&&su(m,i,null),c)for(const q in c){const ee=c[q];be(ee)&&(i[q]=ee.bind(s))}if(n){const q=n.call(s,s);we(q)&&(e.data=Ie(q))}if(Ws=!0,o)for(const q in o){const ee=o[q],z=be(ee)?ee.bind(s,s):be(ee.get)?ee.get.bind(s,s):Ct,oe=!be(ee)&&be(ee.set)?ee.set.bind(s):Ct,F=fe({get:z,set:oe});Object.defineProperty(i,q,{enumerable:!0,configurable:!0,get:()=>F.value,set:W=>F.value=W})}if(u)for(const q in u)di(u[q],i,s,q);if(p){const q=be(p)?p.call(s):p;Reflect.ownKeys(q).forEach(ee=>{cu(ee,q[ee])})}f&&ci(f,e,"c");function Z(q,ee){Ee(ee)?ee.forEach(z=>q(z.bind(s))):ee&&q(ee.bind(s))}if(Z(Kd,l),Z(ot,g),Z(jd,k),Z(Jd,V),Z(Vd,w),Z(Hd,K),Z(Qd,de),Z(zd,R),Z(qd,ne),Z(ii,$),Z(oi,G),Z(Wd,ge),Ee(J))if(J.length){const q=e.exposed||(e.exposed={});J.forEach(ee=>{Object.defineProperty(q,ee,{get:()=>s[ee],set:z=>s[ee]=z,enumerable:!0})})}else e.exposed||(e.exposed={});Y&&e.render===Ct&&(e.render=Y),j!=null&&(e.inheritAttrs=j),N&&(e.components=N),h&&(e.directives=h),ge&&ti(e)}function su(e,t,s=Ct){Ee(e)&&(e=qs(e));for(const i in e){const n=e[i];let o;we(n)?"default"in n?o=cs(n.from||i,n.default,!0):o=cs(n.from||i):o=cs(n),je(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:c=>o.value=c}):t[i]=o}}function ci(e,t,s){At(Ee(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function di(e,t,s,i){let n=i.includes(".")?vi(s,i):()=>s[i];if(Fe(e)){const o=t[e];be(o)&&Ue(n,o)}else if(be(e))Ue(n,e.bind(s));else if(we(e))if(Ee(e))e.forEach(o=>di(o,t,s,i));else{const o=be(e.handler)?e.handler.bind(s):t[e.handler];be(o)&&Ue(n,o,e)}}function ui(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:c}}=e.appContext,u=o.get(t);let p;return u?p=u:!n.length&&!s&&!i?p=t:(p={},n.length&&n.forEach(m=>ls(p,m,c,!0)),ls(p,t,c)),we(t)&&o.set(t,p),p}function ls(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&ls(e,o,s,!0),n&&n.forEach(c=>ls(e,c,s,!0));for(const c in t)if(!(i&&c==="expose")){const u=au[c]||s&&s[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const au={data:pi,props:_i,emits:_i,methods:vn,computed:vn,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:vn,directives:vn,watch:ou,provide:pi,inject:iu};function pi(e,t){return t?e?function(){return ze(be(e)?e.call(this,this):e,be(t)?t.call(this,this):t)}:t:e}function iu(e,t){return vn(qs(e),qs(t))}function qs(e){if(Ee(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function vn(e,t){return e?ze(Object.create(null),e,t):t}function _i(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:ze(Object.create(null),li(e),li(t!=null?t:{})):t}function ou(e,t){if(!e)return t;if(!t)return e;const s=ze(Object.create(null),e);for(const i in t)s[i]=Ze(e[i],t[i]);return s}function fi(){return{app:null,config:{isNativeTag:ha,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ru=0;function lu(e,t){return function(i,n=null){be(i)||(i=ze({},i)),n!=null&&!we(n)&&(n=null);const o=fi(),c=new WeakSet,u=[];let p=!1;const m=o.app={_uid:ru++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Ju,get config(){return o.config},set config(f){},use(f,...l){return c.has(f)||(f&&be(f.install)?(c.add(f),f.install(m,...l)):be(f)&&(c.add(f),f(m,...l))),m},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),m},component(f,l){return l?(o.components[f]=l,m):o.components[f]},directive(f,l){return l?(o.directives[f]=l,m):o.directives[f]},mount(f,l,g){if(!p){const k=m._ceVNode||He(i,n);return k.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),e(k,f,g),p=!0,m._container=f,f.__vue_app__=m,ms(k.component)}},onUnmount(f){u.push(f)},unmount(){p&&(At(u,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(f,l){return o.provides[f]=l,m},runWithContext(f){const l=un;un=m;try{return f()}finally{un=l}}};return m}}let un=null;function cu(e,t){if(et){let s=et.provides;const i=et.parent&&et.parent.provides;i===s&&(s=et.provides=Object.create(i)),s[e]=t}}function cs(e,t,s=!1){const i=Yu();if(i||un){let n=un?un._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&be(t)?t.call(i&&i.proxy):t}}const mi={},hi=()=>Object.create(mi),gi=e=>Object.getPrototypeOf(e)===mi;function du(e,t,s,i=!1){const n={},o=hi();e.propsDefaults=Object.create(null),Ei(e,t,n,o);for(const c in e.propsOptions[0])c in n||(n[c]=void 0);s?e.props=i?n:yd(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function uu(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:c}}=e,u=ve(n),[p]=e.propsOptions;let m=!1;if((i||c>0)&&!(c&16)){if(c&8){const f=e.vnode.dynamicProps;for(let l=0;l<f.length;l++){let g=f[l];if(ds(e.emitsOptions,g))continue;const k=t[g];if(p)if(Ne(o,g))k!==o[g]&&(o[g]=k,m=!0);else{const V=Xt(g);n[V]=zs(p,u,V,k,e,!1)}else k!==o[g]&&(o[g]=k,m=!0)}}}else{Ei(e,t,n,o)&&(m=!0);let f;for(const l in u)(!t||!Ne(t,l)&&((f=Ft(l))===l||!Ne(t,f)))&&(p?s&&(s[l]!==void 0||s[f]!==void 0)&&(n[l]=zs(p,u,l,void 0,e,!0)):delete n[l]);if(o!==u)for(const l in o)(!t||!Ne(t,l))&&(delete o[l],m=!0)}m&&It(e.attrs,"set","")}function Ei(e,t,s,i){const[n,o]=e.propsOptions;let c=!1,u;if(t)for(let p in t){if(gn(p))continue;const m=t[p];let f;n&&Ne(n,f=Xt(p))?!o||!o.includes(f)?s[f]=m:(u||(u={}))[f]=m:ds(e.emitsOptions,p)||(!(p in i)||m!==i[p])&&(i[p]=m,c=!0)}if(o){const p=ve(s),m=u||$e;for(let f=0;f<o.length;f++){const l=o[f];s[l]=zs(n,p,l,m[l],e,!Ne(m,l))}}return c}function zs(e,t,s,i,n,o){const c=e[s];if(c!=null){const u=Ne(c,"default");if(u&&i===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&be(p)){const{propsDefaults:m}=n;if(s in m)i=m[s];else{const f=In(n);i=m[s]=p.call(null,t),f()}}else i=p;n.ce&&n.ce._setProp(s,i)}c[0]&&(o&&!u?i=!1:c[1]&&(i===""||i===Ft(s))&&(i=!0))}return i}const pu=new WeakMap;function Ci(e,t,s=!1){const i=s?pu:t.propsCache,n=i.get(e);if(n)return n;const o=e.props,c={},u=[];let p=!1;if(!be(e)){const f=l=>{p=!0;const[g,k]=Ci(l,t,!0);ze(c,g),k&&u.push(...k)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!p)return we(e)&&i.set(e,tn),tn;if(Ee(o))for(let f=0;f<o.length;f++){const l=Xt(o[f]);Si(l)&&(c[l]=$e)}else if(o)for(const f in o){const l=Xt(f);if(Si(l)){const g=o[f],k=c[l]=Ee(g)||be(g)?{type:g}:ze({},g),V=k.type;let w=!1,K=!0;if(Ee(V))for(let L=0;L<V.length;++L){const $=V[L],U=be($)&&$.name;if(U==="Boolean"){w=!0;break}else U==="String"&&(K=!1)}else w=be(V)&&V.name==="Boolean";k[0]=w,k[1]=K,(w||Ne(k,"default"))&&u.push(l)}}const m=[c,u];return we(e)&&i.set(e,m),m}function Si(e){return e[0]!=="$"&&!gn(e)}const Qs=e=>e==="_"||e==="_ctx"||e==="$stable",Zs=e=>Ee(e)?e.map(yt):[yt(e)],_u=(e,t,s)=>{if(t._n)return t;const i=ei((...n)=>Zs(t(...n)),s);return i._c=!1,i},bi=(e,t,s)=>{const i=e._ctx;for(const n in e){if(Qs(n))continue;const o=e[n];if(be(o))t[n]=_u(n,o,i);else if(o!=null){const c=Zs(o);t[n]=()=>c}}},Ai=(e,t)=>{const s=Zs(t);e.slots.default=()=>s},Ti=(e,t,s)=>{for(const i in t)(s||!Qs(i))&&(e[i]=t[i])},fu=(e,t,s)=>{const i=e.slots=hi();if(e.vnode.shapeFlag&32){const n=t._;n?(Ti(i,t,s),s&&Aa(i,"_",n,!0)):bi(t,i)}else t&&Ai(e,t)},mu=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,c=$e;if(i.shapeFlag&32){const u=t._;u?s&&u===1?o=!1:Ti(n,t,s):(o=!t.$stable,bi(t,n)),c=t}else t&&(Ai(e,t),c={default:1});if(o)for(const u in n)!Qs(u)&&c[u]==null&&delete n[u]},rt=Pu;function hu(e){return gu(e)}function gu(e,t){const s=Jn();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:c,createText:u,createComment:p,setText:m,setElementText:f,parentNode:l,nextSibling:g,setScopeId:k=Ct,insertStaticContent:V}=e,w=(C,I,B,A=null,b=null,X=null,E=void 0,_=null,S=!!I.dynamicChildren)=>{if(C===I)return;C&&!Mn(C,I)&&(A=he(C),W(C,b,X,!0),C=null),I.patchFlag===-2&&(S=!1,I.dynamicChildren=null);const{type:P,ref:y,shapeFlag:O}=I;switch(P){case us:K(C,I,B,A);break;case Lt:L(C,I,B,A);break;case ps:C==null&&$(I,B,A,E);break;case Ce:N(C,I,B,A,b,X,E,_,S);break;default:O&1?Y(C,I,B,A,b,X,E,_,S):O&6?h(C,I,B,A,b,X,E,_,S):(O&64||O&128)&&P.process(C,I,B,A,b,X,E,_,S,Pe)}y!=null&&b?On(y,C&&C.ref,X,I||C,!I):y==null&&C&&C.ref!=null&&On(C.ref,null,X,C,!0)},K=(C,I,B,A)=>{if(C==null)i(I.el=u(I.children),B,A);else{const b=I.el=C.el;I.children!==C.children&&m(b,I.children)}},L=(C,I,B,A)=>{C==null?i(I.el=p(I.children||""),B,A):I.el=C.el},$=(C,I,B,A)=>{[C.el,C.anchor]=V(C.children,I,B,A,C.el,C.anchor)},U=({el:C,anchor:I},B,A)=>{let b;for(;C&&C!==I;)b=g(C),i(C,B,A),C=b;i(I,B,A)},G=({el:C,anchor:I})=>{let B;for(;C&&C!==I;)B=g(C),n(C),C=B;n(I)},Y=(C,I,B,A,b,X,E,_,S)=>{I.type==="svg"?E="svg":I.type==="math"&&(E="mathml"),C==null?R(I,B,A,b,X,E,_,S):ge(C,I,b,X,E,_,S)},R=(C,I,B,A,b,X,E,_)=>{let S,P;const{props:y,shapeFlag:O,transition:H,dirs:M}=C;if(S=C.el=c(C.type,X,y&&y.is,y),O&8?f(S,C.children):O&16&&de(C.children,S,null,A,b,ea(C,X),E,_),M&&Wt(C,null,A,"created"),ne(S,C,C.scopeId,E,A),y){for(const ue in y)ue!=="value"&&!gn(ue)&&o(S,ue,null,y[ue],X,A);"value"in y&&o(S,"value",null,y.value,X),(P=y.onVnodeBeforeMount)&&Rt(P,A,C)}M&&Wt(C,null,A,"beforeMount");const ae=Eu(b,H);ae&&H.beforeEnter(S),i(S,I,B),((P=y&&y.onVnodeMounted)||ae||M)&&rt(()=>{P&&Rt(P,A,C),ae&&H.enter(S),M&&Wt(C,null,A,"mounted")},b)},ne=(C,I,B,A,b)=>{if(B&&k(C,B),A)for(let X=0;X<A.length;X++)k(C,A[X]);if(b){let X=b.subTree;if(I===X||Ii(X.type)&&(X.ssContent===I||X.ssFallback===I)){const E=b.vnode;ne(C,E,E.scopeId,E.slotScopeIds,b.parent)}}},de=(C,I,B,A,b,X,E,_,S=0)=>{for(let P=S;P<C.length;P++){const y=C[P]=_?Bt(C[P]):yt(C[P]);w(null,y,I,B,A,b,X,E,_)}},ge=(C,I,B,A,b,X,E)=>{const _=I.el=C.el;let{patchFlag:S,dynamicChildren:P,dirs:y}=I;S|=C.patchFlag&16;const O=C.props||$e,H=I.props||$e;let M;if(B&&qt(B,!1),(M=H.onVnodeBeforeUpdate)&&Rt(M,B,I,C),y&&Wt(I,C,B,"beforeUpdate"),B&&qt(B,!0),(O.innerHTML&&H.innerHTML==null||O.textContent&&H.textContent==null)&&f(_,""),P?J(C.dynamicChildren,P,_,B,A,ea(I,b),X):E||ee(C,I,_,null,B,A,ea(I,b),X,!1),S>0){if(S&16)j(_,O,H,B,b);else if(S&2&&O.class!==H.class&&o(_,"class",null,H.class,b),S&4&&o(_,"style",O.style,H.style,b),S&8){const ae=I.dynamicProps;for(let ue=0;ue<ae.length;ue++){const me=ae[ue],Ae=O[me],xe=H[me];(xe!==Ae||me==="value")&&o(_,me,Ae,xe,b,B)}}S&1&&C.children!==I.children&&f(_,I.children)}else!E&&P==null&&j(_,O,H,B,b);((M=H.onVnodeUpdated)||y)&&rt(()=>{M&&Rt(M,B,I,C),y&&Wt(I,C,B,"updated")},A)},J=(C,I,B,A,b,X,E)=>{for(let _=0;_<I.length;_++){const S=C[_],P=I[_],y=S.el&&(S.type===Ce||!Mn(S,P)||S.shapeFlag&198)?l(S.el):B;w(S,P,y,null,A,b,X,E,!0)}},j=(C,I,B,A,b)=>{if(I!==B){if(I!==$e)for(const X in I)!gn(X)&&!(X in B)&&o(C,X,I[X],null,b,A);for(const X in B){if(gn(X))continue;const E=B[X],_=I[X];E!==_&&X!=="value"&&o(C,X,_,E,b,A)}"value"in B&&o(C,"value",I.value,B.value,b)}},N=(C,I,B,A,b,X,E,_,S)=>{const P=I.el=C?C.el:u(""),y=I.anchor=C?C.anchor:u("");let{patchFlag:O,dynamicChildren:H,slotScopeIds:M}=I;M&&(_=_?_.concat(M):M),C==null?(i(P,B,A),i(y,B,A),de(I.children||[],B,y,b,X,E,_,S)):O>0&&O&64&&H&&C.dynamicChildren?(J(C.dynamicChildren,H,B,b,X,E,_),(I.key!=null||b&&I===b.subTree)&&yi(C,I,!0)):ee(C,I,B,y,b,X,E,_,S)},h=(C,I,B,A,b,X,E,_,S)=>{I.slotScopeIds=_,C==null?I.shapeFlag&512?b.ctx.activate(I,B,A,E,S):x(I,B,A,b,X,E,S):ce(C,I,S)},x=(C,I,B,A,b,X,E)=>{const _=C.component=Uu(C,A,b);if(si(C)&&(_.ctx.renderer=Pe),Xu(_,!1,E),_.asyncDep){if(b&&b.registerDep(_,Z,E),!C.el){const S=_.subTree=He(Lt);L(null,S,I,B),C.placeholder=S.el}}else Z(_,C,I,B,b,X,E)},ce=(C,I,B)=>{const A=I.component=C.component;if(vu(C,I,B))if(A.asyncDep&&!A.asyncResolved){q(A,I,B);return}else A.next=I,A.update();else I.el=C.el,A.vnode=I},Z=(C,I,B,A,b,X,E)=>{const _=()=>{if(C.isMounted){let{next:O,bu:H,u:M,parent:ae,vnode:ue}=C;{const tt=Ri(C);if(tt){O&&(O.el=ue.el,q(C,O,E)),tt.asyncDep.then(()=>{C.isUnmounted||_()});return}}let me=O,Ae;qt(C,!1),O?(O.el=ue.el,q(C,O,E)):O=ue,H&&Kn(H),(Ae=O.props&&O.props.onVnodeBeforeUpdate)&&Rt(Ae,ae,O,ue),qt(C,!0);const xe=Pi(C),De=C.subTree;C.subTree=xe,w(De,xe,l(De.el),he(De),C,b,X),O.el=xe.el,me===null&&Nu(C,xe.el),M&&rt(M,b),(Ae=O.props&&O.props.onVnodeUpdated)&&rt(()=>Rt(Ae,ae,O,ue),b)}else{let O;const{el:H,props:M}=I,{bm:ae,m:ue,parent:me,root:Ae,type:xe}=C,De=dn(I);qt(C,!1),ae&&Kn(ae),!De&&(O=M&&M.onVnodeBeforeMount)&&Rt(O,me,I),qt(C,!0);{Ae.ce&&Ae.ce._def.shadowRoot!==!1&&Ae.ce._injectChildStyle(xe);const tt=C.subTree=Pi(C);w(null,tt,B,A,C,b,X),I.el=tt.el}if(ue&&rt(ue,b),!De&&(O=M&&M.onVnodeMounted)){const tt=I;rt(()=>Rt(O,me,tt),b)}(I.shapeFlag&256||me&&dn(me.vnode)&&me.vnode.shapeFlag&256)&&C.a&&rt(C.a,b),C.isMounted=!0,I=B=A=null}};C.scope.on();const S=C.effect=new xa(_);C.scope.off();const P=C.update=S.run.bind(S),y=C.job=S.runIfDirty.bind(S);y.i=C,y.id=C.uid,S.scheduler=()=>Bs(y),qt(C,!0),P()},q=(C,I,B)=>{I.component=C;const A=C.vnode.props;C.vnode=I,C.next=null,uu(C,I.props,A,B),mu(C,I.children,B),St(),qa(C),bt()},ee=(C,I,B,A,b,X,E,_,S=!1)=>{const P=C&&C.children,y=C?C.shapeFlag:0,O=I.children,{patchFlag:H,shapeFlag:M}=I;if(H>0){if(H&128){oe(P,O,B,A,b,X,E,_,S);return}else if(H&256){z(P,O,B,A,b,X,E,_,S);return}}M&8?(y&16&&le(P,b,X),O!==P&&f(B,O)):y&16?M&16?oe(P,O,B,A,b,X,E,_,S):le(P,b,X,!0):(y&8&&f(B,""),M&16&&de(O,B,A,b,X,E,_,S))},z=(C,I,B,A,b,X,E,_,S)=>{C=C||tn,I=I||tn;const P=C.length,y=I.length,O=Math.min(P,y);let H;for(H=0;H<O;H++){const M=I[H]=S?Bt(I[H]):yt(I[H]);w(C[H],M,B,null,b,X,E,_,S)}P>y?le(C,b,X,!0,!1,O):de(I,B,A,b,X,E,_,S,O)},oe=(C,I,B,A,b,X,E,_,S)=>{let P=0;const y=I.length;let O=C.length-1,H=y-1;for(;P<=O&&P<=H;){const M=C[P],ae=I[P]=S?Bt(I[P]):yt(I[P]);if(Mn(M,ae))w(M,ae,B,null,b,X,E,_,S);else break;P++}for(;P<=O&&P<=H;){const M=C[O],ae=I[H]=S?Bt(I[H]):yt(I[H]);if(Mn(M,ae))w(M,ae,B,null,b,X,E,_,S);else break;O--,H--}if(P>O){if(P<=H){const M=H+1,ae=M<y?I[M].el:A;for(;P<=H;)w(null,I[P]=S?Bt(I[P]):yt(I[P]),B,ae,b,X,E,_,S),P++}}else if(P>H)for(;P<=O;)W(C[P],b,X,!0),P++;else{const M=P,ae=P,ue=new Map;for(P=ae;P<=H;P++){const Ve=I[P]=S?Bt(I[P]):yt(I[P]);Ve.key!=null&&ue.set(Ve.key,P)}let me,Ae=0;const xe=H-ae+1;let De=!1,tt=0;const vt=new Array(xe);for(P=0;P<xe;P++)vt[P]=0;for(P=M;P<=O;P++){const Ve=C[P];if(Ae>=xe){W(Ve,b,X,!0);continue}let Ge;if(Ve.key!=null)Ge=ue.get(Ve.key);else for(me=ae;me<=H;me++)if(vt[me-ae]===0&&Mn(Ve,I[me])){Ge=me;break}Ge===void 0?W(Ve,b,X,!0):(vt[Ge-ae]=P+1,Ge>=tt?tt=Ge:De=!0,w(Ve,I[Ge],B,null,b,X,E,_,S),Ae++)}const at=De?Cu(vt):tn;for(me=at.length-1,P=xe-1;P>=0;P--){const Ve=ae+P,Ge=I[Ve],Nt=I[Ve+1],Pt=Ve+1<y?Nt.el||Nt.placeholder:A;vt[P]===0?w(null,Ge,B,Pt,b,X,E,_,S):De&&(me<0||P!==at[me]?F(Ge,B,Pt,2):me--)}}},F=(C,I,B,A,b=null)=>{const{el:X,type:E,transition:_,children:S,shapeFlag:P}=C;if(P&6){F(C.component.subTree,I,B,A);return}if(P&128){C.suspense.move(I,B,A);return}if(P&64){E.move(C,I,B,Pe);return}if(E===Ce){i(X,I,B);for(let O=0;O<S.length;O++)F(S[O],I,B,A);i(C.anchor,I,B);return}if(E===ps){U(C,I,B);return}if(A!==2&&P&1&&_)if(A===0)_.beforeEnter(X),i(X,I,B),rt(()=>_.enter(X),b);else{const{leave:O,delayLeave:H,afterLeave:M}=_,ae=()=>{C.ctx.isUnmounted?n(X):i(X,I,B)},ue=()=>{X._isLeaving&&X[Gd](!0),O(X,()=>{ae(),M&&M()})};H?H(X,ae,ue):ue()}else i(X,I,B)},W=(C,I,B,A=!1,b=!1)=>{const{type:X,props:E,ref:_,children:S,dynamicChildren:P,shapeFlag:y,patchFlag:O,dirs:H,cacheIndex:M}=C;if(O===-2&&(b=!1),_!=null&&(St(),On(_,null,B,C,!0),bt()),M!=null&&(I.renderCache[M]=void 0),y&256){I.ctx.deactivate(C);return}const ae=y&1&&H,ue=!dn(C);let me;if(ue&&(me=E&&E.onVnodeBeforeUnmount)&&Rt(me,I,C),y&6)_e(C.component,B,A);else{if(y&128){C.suspense.unmount(B,A);return}ae&&Wt(C,null,I,"beforeUnmount"),y&64?C.type.remove(C,I,B,Pe,A):P&&!P.hasOnce&&(X!==Ce||O>0&&O&64)?le(P,I,B,!1,!0):(X===Ce&&O&384||!b&&y&16)&&le(S,I,B),A&&te(C)}(ue&&(me=E&&E.onVnodeUnmounted)||ae)&&rt(()=>{me&&Rt(me,I,C),ae&&Wt(C,null,I,"unmounted")},B)},te=C=>{const{type:I,el:B,anchor:A,transition:b}=C;if(I===Ce){re(B,A);return}if(I===ps){G(C);return}const X=()=>{n(B),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(C.shapeFlag&1&&b&&!b.persisted){const{leave:E,delayLeave:_}=b,S=()=>E(B,X);_?_(C.el,X,S):S()}else X()},re=(C,I)=>{let B;for(;C!==I;)B=g(C),n(C),C=B;n(I)},_e=(C,I,B)=>{const{bum:A,scope:b,job:X,subTree:E,um:_,m:S,a:P}=C;Oi(S),Oi(P),A&&Kn(A),b.stop(),X&&(X.flags|=8,W(E,C,I,B)),_&&rt(_,I),rt(()=>{C.isUnmounted=!0},I)},le=(C,I,B,A=!1,b=!1,X=0)=>{for(let E=X;E<C.length;E++)W(C[E],I,B,A,b)},he=C=>{if(C.shapeFlag&6)return he(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const I=g(C.anchor||C.el),B=I&&I[Xd];return B?g(B):I};let Re=!1;const Te=(C,I,B)=>{C==null?I._vnode&&W(I._vnode,null,null,!0):w(I._vnode||null,C,I,null,null,null,B),I._vnode=C,Re||(Re=!0,qa(),za(),Re=!1)},Pe={p:w,um:W,m:F,r:te,mt:x,mc:de,pc:ee,pbc:J,n:he,o:e};return{render:Te,hydrate:void 0,createApp:lu(Te)}}function ea({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Eu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function yi(e,t,s=!1){const i=e.children,n=t.children;if(Ee(i)&&Ee(n))for(let o=0;o<i.length;o++){const c=i[o];let u=n[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[o]=Bt(n[o]),u.el=c.el),!s&&u.patchFlag!==-2&&yi(c,u)),u.type===us&&u.patchFlag!==-1&&(u.el=c.el),u.type===Lt&&!u.el&&(u.el=c.el)}}function Cu(e){const t=e.slice(),s=[0];let i,n,o,c,u;const p=e.length;for(i=0;i<p;i++){const m=e[i];if(m!==0){if(n=s[s.length-1],e[n]<m){t[i]=n,s.push(i);continue}for(o=0,c=s.length-1;o<c;)u=o+c>>1,e[s[u]]<m?o=u+1:c=u;m<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,c=s[o-1];o-- >0;)s[o]=c,c=t[c];return s}function Ri(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ri(t)}function Oi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Su=Symbol.for("v-scx"),bu=()=>cs(Su);function Ue(e,t,s){return xi(e,t,s)}function xi(e,t,s=$e){const{immediate:i,deep:n,flush:o,once:c}=s,u=ze({},s),p=t&&i||!t&&o!=="post";let m;if(kn){if(o==="sync"){const k=bu();m=k.__watcherHandles||(k.__watcherHandles=[])}else if(!p){const k=()=>{};return k.stop=Ct,k.resume=Ct,k.pause=Ct,k}}const f=et;u.call=(k,V,w)=>At(k,f,V,w);let l=!1;o==="post"?u.scheduler=k=>{rt(k,f&&f.suspense)}:o!=="sync"&&(l=!0,u.scheduler=(k,V)=>{V?k():Bs(k)}),u.augmentJob=k=>{t&&(k.flags|=4),l&&(k.flags|=2,f&&(k.id=f.uid,k.i=f))};const g=Id(e,t,u);return kn&&(m?m.push(g):p&&g()),g}function Au(e,t,s){const i=this.proxy,n=Fe(e)?e.includes(".")?vi(i,e):()=>i[e]:e.bind(i,i);let o;be(t)?o=t:(o=t.handler,s=t);const c=In(this),u=xi(n,o.bind(i),s);return c(),u}function vi(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const Tu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Xt(t)}Modifiers`]||e[`${Ft(t)}Modifiers`];function yu(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||$e;let n=s;const o=t.startsWith("update:"),c=o&&Tu(i,t.slice(7));c&&(c.trim&&(n=s.map(f=>Fe(f)?f.trim():f)),c.number&&(n=s.map(jn)));let u,p=i[u=vs(t)]||i[u=vs(Xt(t))];!p&&o&&(p=i[u=vs(Ft(t))]),p&&At(p,e,6,n);const m=i[u+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,At(m,e,6,n)}}const Ru=new WeakMap;function Ni(e,t,s=!1){const i=s?Ru:t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let c={},u=!1;if(!be(e)){const p=m=>{const f=Ni(m,t,!0);f&&(u=!0,ze(c,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!o&&!u?(we(e)&&i.set(e,null),null):(Ee(o)?o.forEach(p=>c[p]=null):ze(c,o),we(e)&&i.set(e,c),c)}function ds(e,t){return!e||!Hn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,Ft(t))||Ne(e,t))}function G1(){}function Pi(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:c,attrs:u,emit:p,render:m,renderCache:f,props:l,data:g,setupState:k,ctx:V,inheritAttrs:w}=e,K=is(e);let L,$;try{if(s.shapeFlag&4){const G=n||i,Y=G;L=yt(m.call(Y,G,f,l,k,g,V)),$=u}else{const G=t;L=yt(G.length>1?G(l,{attrs:u,slots:c,emit:p}):G(l,null)),$=t.props?u:Ou(u)}}catch(G){Nn.length=0,ss(G,e,1),L=He(Lt)}let U=L;if($&&w!==!1){const G=Object.keys($),{shapeFlag:Y}=U;G.length&&Y&7&&(o&&G.some(Rs)&&($=xu($,o)),U=pn(U,$,!1,!0))}return s.dirs&&(U=pn(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&Ks(U,s.transition),L=U,is(K),L}const Ou=e=>{let t;for(const s in e)(s==="class"||s==="style"||Hn(s))&&((t||(t={}))[s]=e[s]);return t},xu=(e,t)=>{const s={};for(const i in e)(!Rs(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function vu(e,t,s){const{props:i,children:n,component:o}=e,{props:c,children:u,patchFlag:p}=t,m=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return i?Mi(i,c,m):!!c;if(p&8){const f=t.dynamicProps;for(let l=0;l<f.length;l++){const g=f[l];if(c[g]!==i[g]&&!ds(m,g))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:i===c?!1:i?c?Mi(i,c,m):!0:!!c;return!1}function Mi(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!ds(s,o))return!0}return!1}function Nu({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ii=e=>e.__isSuspense;function Pu(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):Yd(e)}const Ce=Symbol.for("v-fgt"),us=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),ps=Symbol.for("v-stc"),Nn=[];let lt=null;function T(e=!1){Nn.push(lt=e?null:[])}function Mu(){Nn.pop(),lt=Nn[Nn.length-1]||null}let Pn=1;function ki(e,t=!1){Pn+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function $i(e){return e.dynamicChildren=Pn>0?lt||tn:null,Mu(),Pn>0&&lt&&lt.push(e),e}function v(e,t,s,i,n,o){return $i(a(e,t,s,i,n,o,!0))}function st(e,t,s,i,n){return $i(He(e,t,s,i,n,!0))}function ta(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const wi=({key:e})=>e!=null?e:null,_s=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||je(e)||be(e)?{i:qe,r:e,k:t,f:!!s}:e:null);function a(e,t=null,s=null,i=0,n=null,o=e===Ce?0:1,c=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wi(t),ref:t&&_s(t),scopeId:Za,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return u?(na(p,s),o&128&&e.normalize(p)):s&&(p.shapeFlag|=Fe(s)?8:16),Pn>0&&!c&&lt&&(p.patchFlag>0||o&6)&&p.patchFlag!==32&&lt.push(p),p}const He=Iu;function Iu(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Zd)&&(e=Lt),ta(e)){const u=pn(e,t,!0);return s&&na(u,s),Pn>0&&!o&&lt&&(u.shapeFlag&6?lt[lt.indexOf(e)]=u:lt.push(u)),u.patchFlag=-2,u}if(ju(e)&&(e=e.__vccOpts),t){t=ku(t);let{class:u,style:p}=t;u&&!Fe(u)&&(t.class=Me(u)),we(p)&&(Vs(p)&&!Ee(p)&&(p=ze({},p)),t.style=Mt(p))}const c=Fe(e)?1:Ii(e)?128:Fd(e)?64:we(e)?4:be(e)?2:0;return a(e,t,s,i,n,c,o,!0)}function ku(e){return e?Vs(e)||gi(e)?ze({},e):e:null}function pn(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:c,children:u,transition:p}=e,m=t?wu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&wi(m),ref:t&&t.ref?s&&o?Ee(o)?o.concat(_s(t)):[o,_s(t)]:_s(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pn(e.ssContent),ssFallback:e.ssFallback&&pn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&i&&Ks(f,p.clone(f)),f}function ye(e=" ",t=0){return He(us,null,e,t)}function $u(e,t){const s=He(ps,null,e);return s.staticCount=t,s}function ie(e="",t=!1){return t?(T(),st(Lt,null,e)):He(Lt,null,e)}function yt(e){return e==null||typeof e=="boolean"?He(Lt):Ee(e)?He(Ce,null,e.slice()):ta(e)?Bt(e):He(us,null,String(e))}function Bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pn(e)}function na(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ee(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),na(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!gi(t)?t._ctx=qe:n===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:qe},s=32):(t=String(t),i&64?(s=16,t=[ye(t)]):s=8);e.children=t,e.shapeFlag|=s}function wu(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Me([t.class,i.class]));else if(n==="style")t.style=Mt([t.style,i.style]);else if(Hn(n)){const o=t[n],c=i[n];c&&o!==c&&!(Ee(o)&&o.includes(c))&&(t[n]=o?[].concat(o,c):c)}else n!==""&&(t[n]=i[n])}return t}function Rt(e,t,s,i=null){At(e,t,7,[s,i])}const Lu=fi();let Du=0;function Uu(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||Lu,o={uid:Du++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ad(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ci(i,n),emitsOptions:Ni(i,n),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:i.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=yu.bind(null,o),e.ce&&e.ce(o),o}let et=null;const Yu=()=>et||qe;let fs,sa;{const e=Jn(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(c=>c(o)):n[0](o)}};fs=t("__VUE_INSTANCE_SETTERS__",s=>et=s),sa=t("__VUE_SSR_SETTERS__",s=>kn=s)}const In=e=>{const t=et;return fs(e),e.scope.on(),()=>{e.scope.off(),fs(t)}},Li=()=>{et&&et.scope.off(),fs(null)};function Di(e){return e.vnode.shapeFlag&4}let kn=!1;function Xu(e,t=!1,s=!1){t&&sa(t);const{props:i,children:n}=e.vnode,o=Di(e);du(e,i,o,t),fu(e,n,s||t);const c=o?Fu(e,t):void 0;return t&&sa(!1),c}function Fu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,tu);const{setup:i}=s;if(i){St();const n=e.setupContext=i.length>1?Vu(e):null,o=In(e),c=rn(i,e,0,[e.props,n]),u=Ea(c);if(bt(),o(),(u||e.sp)&&!dn(e)&&ti(e),u){if(c.then(Li,Li),t)return c.then(p=>{Ui(e,p)}).catch(p=>{ss(p,e,0)});e.asyncDep=c}else Ui(e,c)}else Yi(e)}function Ui(e,t,s){be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=Ba(t)),Yi(e)}function Yi(e,t,s){const i=e.type;e.render||(e.render=i.render||Ct);{const n=In(e);St();try{nu(e)}finally{bt(),n()}}}const Gu={get(e,t){return We(e,"get",""),e[t]}};function Vu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Gu),slots:e.slots,emit:e.emit,expose:t}}function ms(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ba(Rd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in xn)return xn[s](e)},has(t,s){return s in t||s in xn}})):e.proxy}const Hu=/(?:^|[-_])\w/g,Bu=e=>e.replace(Hu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Ku(e,t=!0){return be(e)?e.displayName||e.name:e.name||t&&e.__name}function Xi(e,t,s=!1){let i=Ku(t);if(!i&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(i=n[1])}if(!i&&e&&e.parent){const n=o=>{for(const c in o)if(o[c]===t)return c};i=n(e.components||e.parent.type.components)||n(e.appContext.components)}return i?Bu(i):s?"App":"Anonymous"}function ju(e){return be(e)&&"__vccOpts"in e}const fe=(e,t)=>Pd(e,t,kn),Ju="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let aa;const Fi=typeof window!="undefined"&&window.trustedTypes;if(Fi)try{aa=Fi.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Gi=aa?e=>aa.createHTML(e):e=>e,Wu="http://www.w3.org/2000/svg",qu="http://www.w3.org/1998/Math/MathML",Dt=typeof document!="undefined"?document:null,Vi=Dt&&Dt.createElement("template"),zu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Dt.createElementNS(Wu,e):t==="mathml"?Dt.createElementNS(qu,e):s?Dt.createElement(e,{is:s}):Dt.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Dt.createTextNode(e),createComment:e=>Dt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Dt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const c=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{Vi.innerHTML=Gi(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const u=Vi.content;if(i==="svg"||i==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[c?c.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Qu=Symbol("_vtc");function Zu(e,t,s){const i=e[Qu];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const hs=Symbol("_vod"),Hi=Symbol("_vsh"),ep={name:"show",beforeMount(e,{value:t},{transition:s}){e[hs]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):$n(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),$n(e,!0),i.enter(e)):i.leave(e,()=>{$n(e,!1)}):$n(e,t))},beforeUnmount(e,{value:t}){$n(e,t)}};function $n(e,t){e.style.display=t?e[hs]:"none",e[Hi]=!t}const tp=Symbol(""),np=/(?:^|;)\s*display\s*:/;function sp(e,t,s){const i=e.style,n=Fe(s);let o=!1;if(s&&!n){if(t)if(Fe(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();s[u]==null&&gs(i,u,"")}else for(const c in t)s[c]==null&&gs(i,c,"");for(const c in s)c==="display"&&(o=!0),gs(i,c,s[c])}else if(n){if(t!==s){const c=i[tp];c&&(s+=";"+c),i.cssText=s,o=np.test(s)}}else t&&e.removeAttribute("style");hs in e&&(e[hs]=o?i.display:"",e[Hi]&&(i.display="none"))}const Bi=/\s*!important$/;function gs(e,t,s){if(Ee(s))s.forEach(i=>gs(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=ap(e,t);Bi.test(s)?e.setProperty(Ft(i),s.replace(Bi,""),"important"):e[i]=s}}const Ki=["Webkit","Moz","ms"],ia={};function ap(e,t){const s=ia[t];if(s)return s;let i=Xt(t);if(i!=="filter"&&i in e)return ia[t]=i;i=ba(i);for(let n=0;n<Ki.length;n++){const o=Ki[n]+i;if(o in e)return ia[t]=o}return t}const ji="http://www.w3.org/1999/xlink";function Ji(e,t,s,i,n,o=nd(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ji,t.slice(6,t.length)):e.setAttributeNS(ji,t,s):s==null||o&&!ya(s)?e.removeAttribute(t):e.setAttribute(t,o?"":_t(s)?String(s):s)}function Wi(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Gi(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let c=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=ya(s):s==null&&u==="string"?(s="",c=!0):u==="number"&&(s=0,c=!0)}try{e[t]=s}catch(u){}c&&e.removeAttribute(n||t)}function Kt(e,t,s,i){e.addEventListener(t,s,i)}function ip(e,t,s,i){e.removeEventListener(t,s,i)}const qi=Symbol("_vei");function op(e,t,s,i,n=null){const o=e[qi]||(e[qi]={}),c=o[t];if(i&&c)c.value=i;else{const[u,p]=rp(t);if(i){const m=o[t]=dp(i,n);Kt(e,u,m,p)}else c&&(ip(e,u,c,p),o[t]=void 0)}}const zi=/(?:Once|Passive|Capture)$/;function rp(e){let t;if(zi.test(e)){t={};let i;for(;i=e.match(zi);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ft(e.slice(2)),t]}let oa=0;const lp=Promise.resolve(),cp=()=>oa||(lp.then(()=>oa=0),oa=Date.now());function dp(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;At(up(i,s.value),t,5,[i])};return s.value=e,s.attached=cp(),s}function up(e,t){if(Ee(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Qi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,pp=(e,t,s,i,n,o)=>{const c=n==="svg";t==="class"?Zu(e,i,c):t==="style"?sp(e,s,i):Hn(t)?Rs(t)||op(e,t,s,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_p(e,t,i,c))?(Wi(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ji(e,t,i,c,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(i))?Wi(e,Xt(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Ji(e,t,i,c))};function _p(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Qi(t)&&be(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Qi(t)&&Fe(s)?!1:t in e}const _n=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?s=>Kn(t,s):t};function fp(e){e.target.composing=!0}function Zi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ut=Symbol("_assign"),pe={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[Ut]=_n(n);const o=i||n.props&&n.props.type==="number";Kt(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;s&&(u=u.trim()),o&&(u=jn(u)),e[Ut](u)}),s&&Kt(e,"change",()=>{e.value=e.value.trim()}),t||(Kt(e,"compositionstart",fp),Kt(e,"compositionend",Zi),Kt(e,"change",Zi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:i,trim:n,number:o}},c){if(e[Ut]=_n(c),e.composing)return;const u=(o||e.type==="number")&&!/^0\d/.test(e.value)?jn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(i&&t===s||n&&e.value.trim()===p)||(e.value=p))}},ct={deep:!0,created(e,t,s){e[Ut]=_n(s),Kt(e,"change",()=>{const i=e._modelValue,n=wn(e),o=e.checked,c=e[Ut];if(Ee(i)){const u=Ns(i,n),p=u!==-1;if(o&&!p)c(i.concat(n));else if(!o&&p){const m=[...i];m.splice(u,1),c(m)}}else if(sn(i)){const u=new Set(i);o?u.add(n):u.delete(n),c(u)}else c(no(e,o))})},mounted:eo,beforeUpdate(e,t,s){e[Ut]=_n(s),eo(e,t,s)}};function eo(e,{value:t,oldValue:s},i){e._modelValue=t;let n;if(Ee(t))n=Ns(t,i.props.value)>-1;else if(sn(t))n=t.has(i.props.value);else{if(t===s)return;n=En(t,no(e,!0))}e.checked!==n&&(e.checked=n)}const mt={deep:!0,created(e,{value:t,modifiers:{number:s}},i){const n=sn(t);Kt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?jn(wn(c)):wn(c));e[Ut](e.multiple?n?new Set(o):o:o[0]),e._assigning=!0,Ja(()=>{e._assigning=!1})}),e[Ut]=_n(i)},mounted(e,{value:t}){to(e,t)},beforeUpdate(e,t,s){e[Ut]=_n(s)},updated(e,{value:t}){e._assigning||to(e,t)}};function to(e,t){const s=e.multiple,i=Ee(t);if(!(s&&!i&&!sn(t))){for(let n=0,o=e.options.length;n<o;n++){const c=e.options[n],u=wn(c);if(s)if(i){const p=typeof u;p==="string"||p==="number"?c.selected=t.some(m=>String(m)===String(u)):c.selected=Ns(t,u)>-1}else c.selected=t.has(u);else if(En(wn(c),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function wn(e){return"_value"in e?e._value:e.value}function no(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const mp=["ctrl","shift","alt","meta"],hp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>mp.some(s=>e[`${s}Key`]&&!t.includes(s))},ht=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...o)=>{for(let c=0;c<t.length;c++){const u=hp[t[c]];if(u&&u(n,t))return}return e(n,...o)})},gp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),i=t.join(".");return s[i]||(s[i]=n=>{if(!("key"in n))return;const o=Ft(n.key);if(t.some(c=>c===o||gp[c]===o))return e(n)})},Ep=ze({patchProp:pp},zu);let so;function Cp(){return so||(so=hu(Ep))}const Sp=(...e)=>{const t=Cp().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=Ap(i);if(!n)return;const o=t._component;!be(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const c=s(n,!1,bp(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),c},t};function bp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ap(e){return Fe(e)?document.querySelector(e):e}const dt=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},Tp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},yp={key:0,class:"nxp-ec-admin-error"},Rp={class:"nxp-ec-admin-error__title"},Op={class:"nxp-ec-admin-error__body"};function xp(e,t,s,i,n,o){return T(),v("div",null,[n.error?(T(),v("div",yp,[a("h2",Rp,d(o.fallbackTitle),1),a("p",Op,d(o.fallbackMessage),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...c)=>o.reload&&o.reload(...c))},d(o.reloadLabel),1)])):eu(e.$slots,"default",{key:1})])}const vp=dt(Tp,[["render",xp]]),Np={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},Pp={class:"nxp-ec-admin-panel__header"},Mp={class:"nxp-ec-admin-panel__title"},Ip={class:"nxp-ec-admin-panel__lead"},kp={class:"nxp-ec-admin-panel__actions"},$p=["disabled"],wp={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Lp={key:1,class:"nxp-ec-dashboard"},Dp={class:"nxp-ec-dashboard__metrics"},Up={class:"nxp-ec-dashboard__card"},Yp={class:"nxp-ec-dashboard__value"},Xp={class:"nxp-ec-dashboard__hint"},Fp={class:"nxp-ec-dashboard__card"},Gp={class:"nxp-ec-dashboard__value"},Vp={class:"nxp-ec-dashboard__hint"},Hp={class:"nxp-ec-dashboard__card"},Bp={class:"nxp-ec-dashboard__value"},Kp={class:"nxp-ec-dashboard__hint"},jp={class:"nxp-ec-dashboard__card"},Jp={class:"nxp-ec-dashboard__value"},Wp={class:"nxp-ec-dashboard__hint"},qp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},zp={class:"nxp-ec-dashboard__checklist-header"},Qp={id:"dashboard-checklist-heading"},Zp={class:"nxp-ec-dashboard__checklist-progress"},e_={class:"nxp-ec-dashboard__checklist-list"},t_={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},n_={key:0,class:"fa-solid fa-circle-check"},s_={key:1,class:"fa-regular fa-circle"},a_={class:"nxp-ec-dashboard__checklist-label"},i_=["href","title"],o_={class:"nxp-ec-sr-only"},r_=dt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,i=s.translate,n=s.state,o=fe(()=>{var l;const f=(l=n.summary)==null?void 0:l.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),c=(f=0)=>{const l=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:o.value}).format(l)}catch(g){return`${o.value} ${l.toFixed(2)}`}},u=fe(()=>Array.isArray(n.checklist)?n.checklist:[]),p=fe(()=>u.value.filter(f=>f.completed).length),m=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,l)=>(T(),v("section",Np,[a("header",Pp,[a("div",null,[a("h2",Mp,d(r(i)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),a("p",Ip,d(r(i)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),a("div",kp,[a("button",{class:"nxp-ec-btn",type:"button",onClick:l[0]||(l[0]=g=>f.$emit("refresh")),disabled:r(n).loading},d(r(i)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,$p)])]),r(n).error?(T(),v("div",wp,d(r(n).error),1)):(T(),v("div",Lp,[a("div",Dp,[a("article",Up,[a("h3",null,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),a("p",Yp,d(r(n).summary.products.active),1),a("p",Xp,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),a("article",Fp,[a("h3",null,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),a("p",Gp,d(c(r(n).summary.orders.revenue_today)),1),a("p",Vp,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),a("article",Hp,[a("h3",null,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),a("p",Bp,d(r(n).summary.customers.total),1),a("p",Kp,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),a("article",jp,[a("h3",null,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),a("p",Jp,d(c(r(n).summary.orders.revenue_month)),1),a("p",Wp,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[o.value.value],"dashboardMetricCurrency")),1)])]),a("section",qp,[a("header",zp,[a("h3",Qp,d(r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),a("span",Zp,d(p.value)+" / "+d(u.value.length),1)]),a("ul",e_,[(T(!0),v(Ce,null,Oe(u.value,g=>(T(),v("li",{key:g.id,class:Me({"is-complete":g.completed})},[a("span",t_,[g.completed?(T(),v("span",n_)):(T(),v("span",s_))]),a("span",a_,d(r(i)(g.label,m(g.label))),1),g.link?(T(),v("a",{key:0,href:g.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[l[1]||(l[1]=a("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),a("span",o_,d(r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,i_)):ie("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),l_={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},c_={id:"nxp-ec-products-caption",class:"visually-hidden"},d_={scope:"col"},u_={scope:"col"},p_={scope:"col"},__={scope:"col"},f_={scope:"col"},m_={scope:"col"},h_={scope:"col"},g_={scope:"col"},E_={scope:"col",class:"nxp-ec-admin-table__actions"},C_={key:0},S_={colspan:"8",class:"nxp-ec-admin-table__empty"},b_=["data-label"],A_={class:"nxp-ec-admin-table__primary"},T_={class:"nxp-ec-products-table__title"},y_={class:"nxp-ec-products-table__slug"},R_={key:0,class:"nxp-ec-products-table__badge"},O_={class:"nxp-ec-status nxp-ec-status--featured"},x_=["data-label"],v_={key:0},N_={key:1},P_=["data-label"],M_=["data-label"],I_=["data-label"],k_={key:0},$_={key:1},w_=["data-label"],L_=["disabled","aria-pressed","title","aria-label","onClick"],D_={class:"nxp-ec-sr-only"},U_=["data-label"],Y_={class:"nxp-ec-admin-table__actions"},X_=["onClick","title","aria-label"],F_={class:"nxp-ec-sr-only"},G_=["onClick","title","aria-label"],V_={class:"nxp-ec-sr-only"},ra=1,Ln=-1,la=0,H_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,i=fe(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,l=!1)=>{const g=Number(f);if(Number.isFinite(g))return g===Ln?Ln:g===la?la:ra;if(l)return Ln;if(typeof f=="string"){const k=f.trim().toLowerCase();if(k==="out_of_stock"||k==="out-of-stock"||k==="-1")return Ln;if(k==="inactive"||k==="0")return la}return ra},o=f=>{var V;const l=n((V=f==null?void 0:f.status)!=null?V:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),g=l===ra,k=l===Ln;return{status:l,isActive:g,isOutOfStock:k,label:g?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):k?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:g?"nxp-ec-status--active":k?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:g?"fa-solid fa-circle-check":k?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},c=f=>{var w,K,L,$;const l=(K=(w=f==null?void 0:f.summary)==null?void 0:w.variants)!=null?K:{};if(l.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const g=Number.isFinite(l.price_min_cents)?l.price_min_cents:null,k=Number.isFinite(l.price_max_cents)?l.price_max_cents:null;if(g===null)return"";const V=l.currency||(($=(L=f==null?void 0:f.variants)==null?void 0:L[0])==null?void 0:$.currency)||i.value;return k===null||k===g?m(g,V):`${m(g,V)}  ${m(k,V)}`},u=f=>{var k,V;const l=(V=(k=f==null?void 0:f.summary)==null?void 0:k.variants)!=null?V:{},g=Number.isFinite(l.count)?l.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return g===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(g)])},p=f=>{if(!Array.isArray(f)||!f.length)return"";const l=f.map(V=>(V==null?void 0:V.title)||(V==null?void 0:V.slug)).filter(V=>!!V);if(!l.length)return"";if(l.length<=3)return l.join(", ");const g=l.slice(0,3).join(", "),k=l.length-3;return`${g} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(k)])}`},m=(f,l)=>`${(f/100).toFixed(2)} ${l}`;return(f,l)=>(T(),v("table",l_,[a("caption",c_,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),a("thead",null,[a("tr",null,[a("th",d_,d(r(s)("JGRID_HEADING_ID","ID")),1),a("th",u_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),a("th",p_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),a("th",__,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),a("th",f_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),a("th",m_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),a("th",h_,d(r(s)("JSTATUS","Status")),1),a("th",g_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),a("th",E_,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),a("tbody",null,[e.items.length?ie("",!0):(T(),v("tr",C_,[a("td",S_,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.items,g=>{var k,V,w,K,L,$,U,G,Y,R,ne,de;return T(),v("tr",{key:g.id},[a("td",{"data-label":r(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},d(g.id),9,b_),a("td",A_,[a("div",T_,d(g.title),1),a("div",y_,d(g.slug),1),g.featured?(T(),v("div",R_,[a("span",O_,[l[0]||(l[0]=a("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),ye(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ie("",!0)]),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[c(g)?(T(),v("span",v_,d(c(g)),1)):(T(),v("span",N_,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,x_),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},d(u(g)),9,P_),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[a("span",{class:Me(["nxp-ec-status",(V=(k=g.summary)==null?void 0:k.variants)!=null&&V.stock_zero?"nxp-ec-status--danger":(K=(w=g.summary)==null?void 0:w.variants)!=null&&K.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[($=(L=g.summary)==null?void 0:L.variants)!=null&&$.stock_zero||((G=(U=g.summary)==null?void 0:U.variants)==null?void 0:G.stock_total)===0?(T(),v(Ce,{key:0},[ye(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(T(),v(Ce,{key:1},[ye(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ne=(R=(Y=g.summary)==null?void 0:Y.variants)==null?void 0:R.stock_total)!=null?ne:0)])),1)],64))],2)],8,M_),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(de=g.categories)!=null&&de.length?(T(),v("span",k_,d(p(g.categories)),1)):(T(),v("span",$_,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,I_),a("td",{"data-label":r(s)("JSTATUS","Status")},[a("button",{type:"button",class:Me(["nxp-ec-status","nxp-ec-status-button",o(g).className]),disabled:e.saving,"aria-pressed":o(g).isActive?"true":"false",title:o(g).title,"aria-label":o(g).title,onClick:ge=>f.$emit("toggle-active",g)},[a("i",{class:Me(o(g).icon),"aria-hidden":"true"},null,2),ye(" "+d(o(g).label)+" ",1),a("span",D_,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,L_)],8,w_),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},d(g.modified||g.created),9,U_),a("td",Y_,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("edit",g),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[l[1]||(l[1]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",F_,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,X_),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("delete",g),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[l[2]||(l[2]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",V_,d(r(s)("JTRASH","Delete")),1)],8,G_)])])}),128))])]))}},B_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},K_={class:"nxp-ec-modal__dialog"},j_={class:"nxp-ec-modal__header"},J_={class:"nxp-ec-modal__title"},W_={class:"nxp-ec-modal__header-actions"},q_=["disabled","title","aria-label"],z_={class:"nxp-ec-sr-only"},Q_=["disabled","title","aria-label"],Z_={class:"nxp-ec-sr-only"},ef=["title","aria-label"],tf={class:"nxp-ec-sr-only"},nf={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},sf={class:"nxp-ec-form-field"},af={class:"nxp-ec-form-label",for:"product-title"},of={class:"nxp-ec-form-field"},rf={class:"nxp-ec-form-label",for:"product-slug"},lf=["placeholder"],cf={class:"nxp-ec-form-field"},df={class:"nxp-ec-form-label",for:"product-short-desc"},uf={class:"nxp-ec-form-field"},pf={class:"nxp-ec-form-label",for:"product-long-desc"},_f={class:"nxp-ec-form-field"},ff={class:"nxp-ec-form-label",for:"product-status"},mf={value:1},hf={value:-1},gf={value:0},Ef={class:"nxp-ec-form-help"},Cf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Sf={class:"nxp-ec-form-label",for:"product-featured"},bf={class:"nxp-ec-form-help"},Af={class:"nxp-ec-form-field"},Tf={class:"nxp-ec-form-label",for:"product-images"},yf={id:"product-images",class:"nxp-ec-image-list"},Rf=["id","onUpdate:modelValue","placeholder"],Of={class:"nxp-ec-image-row__actions"},xf=["onClick"],vf=["onClick","disabled"],Nf=["onClick","disabled"],Pf=["onClick","aria-label"],Mf={class:"nxp-ec-form-help"},If={class:"nxp-ec-form-field"},kf={class:"nxp-ec-form-label",for:"product-category-select"},$f=["value"],wf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},Lf=["onClick","aria-label"],Df={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},Uf=["onKeydown","placeholder"],Yf={class:"nxp-ec-form-help"},Xf={class:"nxp-ec-variant-section"},Ff={class:"nxp-ec-variant-section__header"},Gf={class:"nxp-ec-variant-section__title"},Vf={class:"nxp-ec-form-help"},Hf={class:"nxp-ec-variant-card__header"},Bf={class:"nxp-ec-variant-card__title"},Kf=["onClick"],jf=["onClick","disabled"],Jf={class:"nxp-ec-variant-card__grid"},Wf={class:"nxp-ec-form-field"},qf=["for"],zf=["id","onUpdate:modelValue"],Qf={class:"nxp-ec-form-field"},Zf=["for"],em=["id","onUpdate:modelValue","onBlur"],tm={class:"nxp-ec-form-field"},nm=["for"],sm=["id","onUpdate:modelValue"],am={class:"nxp-ec-form-field"},im=["for"],om=["id","onUpdate:modelValue"],rm={class:"nxp-ec-form-field nxp-ec-form-field--inline"},lm=["for"],cm=["id","onUpdate:modelValue"],dm={class:"nxp-ec-variant-options"},um={class:"nxp-ec-variant-options__header"},pm={class:"nxp-ec-variant-options__title"},_m=["onClick"],fm={class:"nxp-ec-form-help"},mm=["id","onUpdate:modelValue","placeholder"],hm=["id","onUpdate:modelValue","placeholder"],gm=["onClick","aria-label"],Em={class:"nxp-ec-modal__actions"},Cm=["disabled"],Sm=["disabled"],ao="product-editor-form",bm=dt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=fe(()=>(s.baseCurrency||"USD").toUpperCase()),c=E=>{var _,S,P,y,O,H,M,ae;if(E==null)return null;if(typeof E=="string"){const ue=E.trim();return ue===""?null:{id:0,title:ue,slug:""}}if(typeof E=="object"){const ue=Number.parseInt((S=(_=E.id)!=null?_:E.value)!=null?S:0,10)||0,me=(M=(H=(O=(y=(P=E.title)!=null?P:E.name)!=null?y:E.text)!=null?O:E.label)!=null?H:E.slug)!=null?M:"",Ae=String(me!=null?me:"").trim(),xe=String((ae=E.slug)!=null?ae:"").trim(),De=E.parent_id!==null&&E.parent_id!==void 0&&Number.parseInt(E.parent_id,10)||null;return ue<=0&&Ae===""?null:{id:ue>0?ue:0,title:Ae!==""?Ae:xe,slug:xe,parent_id:De}}return null},u=E=>{const _=Number(E);if(Number.isFinite(_))return _===-1?-1:_===0?0:1;if(typeof E=="string"){const S=E.trim().toLowerCase();if(S==="out_of_stock"||S==="out-of-stock"||S==="-1")return-1;if(S==="inactive"||S==="0")return 0}return 1},p=Ie({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),m=Xe(""),f=Xe(!1),l=(E,_,S=new Set)=>{if(!E||S.has(E))return 0;S.add(E);const P=_.find(y=>y.id===E);return!P||!P.parent_id?0:1+l(P.parent_id,_,S)},g=E=>{if(!E)return"";const _=Array.isArray(s.categoryOptions)?s.categoryOptions:[],S=l(E.id,_);return S===0?E.title:"".repeat(S)+" "+E.title},k=fe(()=>{const _=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(c).filter(O=>O&&O.id>0&&O.title!==""),S=new Map;_.forEach(O=>{S.set(O.id,O)}),p.categories.forEach(O=>{var H;O.id>0&&O.title&&!S.has(O.id)&&S.set(O.id,{id:O.id,title:O.title,slug:(H=O.slug)!=null?H:"",parent_id:O.parent_id!==null&&O.parent_id!==void 0?O.parent_id:null})});const P=Array.from(S.values()),y=(O=null,H=0)=>P.filter(M=>M.parent_id===O).sort((M,ae)=>M.title.localeCompare(ae.title)).flatMap(M=>[M,...y(M.id,H+1)]);return y()}),V=fe(()=>{const E=new Map;return k.value.forEach(_=>{var S;E.set(_.id,{title:_.title,slug:(S=_.slug)!=null?S:""})}),E}),w=fe({get:()=>p.categories.filter(_=>_&&_.id>0).map(_=>_.id),set:E=>{const _=Array.isArray(E)?E:[],S=Array.from(new Set(_.map(O=>Number.parseInt(O!=null?O:0,10)||0).filter(O=>O>0))),P=p.categories.filter(O=>!(O.id>0)),y=S.map(O=>{const H=V.value.get(O),M=p.categories.find(me=>me.id===O),ae=(H==null?void 0:H.title)||(M==null?void 0:M.title)||"",ue=(H==null?void 0:H.slug)||(M==null?void 0:M.slug)||"";return ae===""?null:{id:O,title:ae,slug:ue}}).filter(O=>O!==null);p.categories.splice(0,p.categories.length,...y,...P)}}),K=fe(()=>s.product&&s.product.id?"edit":"create"),L=()=>({id:0,sku:"",price:"",currency:o.value,stock:0,weight:"",active:!0,options:[]}),$=()=>({name:"",value:""}),U=E=>E?E.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",G=()=>{f.value=!0,p.slug=U(p.slug)},Y=E=>{const S=(Array.isArray(E)?E:[]).map(c).filter(O=>O&&(O.id>0||O.title!=="")),P=new Set,y=[];S.forEach(O=>{const H=O.id>0?`id:${O.id}`:`title:${O.title.toLowerCase()}`;P.has(H)||(P.add(H),y.push(O))}),p.categories.splice(0,p.categories.length,...y)},R=E=>{p.variants.splice(0,p.variants.length,...E)},ne=E=>{p.images.splice(0,p.images.length,...E)},de=E=>Array.isArray(E)?E.map(_=>{var S,P,y;return{name:String((P=(S=_==null?void 0:_.name)!=null?S:_==null?void 0:_.key)!=null?P:"").trim(),value:String((y=_==null?void 0:_.value)!=null?y:"").trim()}}):E&&typeof E=="object"?Object.entries(E).map(([_,S])=>({name:String(_!=null?_:"").trim(),value:String(S!=null?S:"").trim()})):[],ge=E=>!Array.isArray(E)||E.length===0?[L()]:E.map(_=>{var S,P,y,O;return{id:Number.parseInt((S=_==null?void 0:_.id)!=null?S:0,10)||0,sku:String((P=_==null?void 0:_.sku)!=null?P:"").trim(),price:(_==null?void 0:_.price)!=null?String(_.price):Number.isFinite(_==null?void 0:_.price_cents)?(_.price_cents/100).toFixed(2):"",currency:String((y=_==null?void 0:_.currency)!=null?y:o.value).toUpperCase(),stock:Number.parseInt((O=_==null?void 0:_.stock)!=null?O:0,10)||0,weight:(_==null?void 0:_.weight)!=null?String(_.weight):"",active:(_==null?void 0:_.active)!==void 0?!!_.active:!0,options:de(_==null?void 0:_.options)}}),J=E=>{var y,O,H,M;const _=E?JSON.parse(JSON.stringify(E)):{};p.title=(y=_.title)!=null?y:"",p.slug=(O=_.slug)!=null?O:"",p.short_desc=(H=_.short_desc)!=null?H:"",p.long_desc=(M=_.long_desc)!=null?M:"",p.status=u(_.status!==void 0?_.status:_.active),p.featured=_.featured!==void 0?!!_.featured:!1;const S=Array.isArray(_.images)?_.images.map(ae=>String(ae!=null?ae:"").trim()).filter(Boolean):[];ne(S);const P=Array.isArray(_.categories)?_.categories:[];Y(P),m.value="",R(ge(_.variants)),f.value=!!p.slug};Ue(()=>s.product,E=>{J(E)},{immediate:!0}),Ue(()=>p.title,E=>{f.value||(p.slug=U(E))}),Ue(o,E=>{p.variants.forEach(_=>{_.currency=E})});const j=()=>{const E=m.value.trim();if(!E)return;const _=E.toLowerCase(),S=p.categories.slice();S.some(y=>y.title.toLowerCase()===_)||(S.push({id:0,title:E,slug:""}),p.categories.splice(0,p.categories.length,...S)),m.value=""},N=E=>{if(E<0||E>=p.categories.length)return;const _=p.categories.slice();_.splice(E,1),p.categories.splice(0,p.categories.length,..._)},h=()=>{p.variants.push(L())},x=E=>{p.variants.length<=1||p.variants.splice(E,1)},ce=E=>{const _=p.variants[E];_&&(Array.isArray(_.options)||(_.options=[]),_.options.push($()))},Z=(E,_)=>{const S=p.variants[E];!S||!Array.isArray(S.options)||S.options.splice(_,1)},q=(E,_)=>`${E.id||"new"}-${_}`,ee=E=>{const _=p.variants[E];if(!_)return;const S=JSON.parse(JSON.stringify(_));S.id=0,S.sku=[S.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),S.active=!0,p.variants.splice(E+1,0,S)},z=E=>{const _=p.variants[E];if(!_)return;const S=Number.parseFloat(_.price);Number.isNaN(S)||(_.price=S.toFixed(2))};let oe=null,F=null,W=null,te=null,re="";const _e=()=>{Array.isArray(p.images)||(p.images=[])},le=E=>{var y,O,H;if(!E)return"";let _=String(E).trim();if(_==="")return"";try{const M=(H=(O=(y=window.Joomla)==null?void 0:y.getOptions)==null?void 0:O.call(y,"system.paths",{}))!=null?H:{},ae=M.rootFull||window.location.origin,ue=M.root||"/";_.startsWith(ae)&&(_=_.substring(ae.length)),_.startsWith(ue)&&(_=_.substring(ue.length))}catch(M){}const S=_.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);S&&S[1]&&(_=S[1]);const P=_.indexOf("#joomlaImage://");return P!==-1&&(_=_.substring(0,P)),_.trim()},he=(E,{keepIndex:_=!1,appendWhenNoIndex:S=!1,targetIndex:P=null}={})=>{const y=le(E);if(y==="")return!1;_e();const O=P!==null&&P>=0?P:te;return O==null||Number.isNaN(O)?S?(p.images.push(y),_||(te=null,re=""),!0):!1:(O>=p.images.length?p.images.push(y):p.images[O]=y,re=_?y:"",_||(te=null,re=""),!0)},Re=()=>{_e(),p.images.push("")},Te=E=>{_e(),p.images.splice(E,1)},Pe=(E,_)=>{_e();const S=p.images[E];if(S===void 0)return;const P=E+_;P<0||P>=p.images.length||(p.images.splice(E,1),p.images.splice(P,0,S))},Be=E=>{var P;_e();const _=(P=p.images[E])!=null?P:"";if(typeof window=="undefined")return;const S=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),_);he(S!=null?S:"",{targetIndex:E})},C=()=>{var O,H,M,ae,ue,me;const E=(s.mediaModalUrl||"").trim();if(E!=="")return E;const _=(M=(H=(O=window.Joomla)==null?void 0:O.getOptions)==null?void 0:H.call(O,"media-picker",{}))!=null?M:{};if(_.modalUrl)return _.modalUrl;const S=(me=(ue=(ae=window.Joomla)==null?void 0:ae.getOptions)==null?void 0:ue.call(ae,"system.paths",{}))!=null?me:{},P=S.rootFull||S.root||"";return(P?P.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},I=async()=>{var M,ae,ue,me,Ae,xe,De,tt,vt;if(oe)return oe;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(at){return null}const E=(ue=(ae=(M=window.Joomla)==null?void 0:M.getOptions)==null?void 0:ae.call(M,"system.paths",{}))!=null?ue:{},_=E.rootFull||E.root||"",S=(xe=(Ae=(me=window.Joomla)==null?void 0:me.getOptions)==null?void 0:Ae.call(me,"com_media",{}))!=null?xe:{},P=(S==null?void 0:S.file_path)||"images",y=(vt=(tt=(De=window.Joomla)==null?void 0:De.getOptions)==null?void 0:tt.call(De,"media-picker",{}))!=null?vt:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},H=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return F=document.createElement("div"),F.className="nxp-ec-media-picker-host",F.style.display="none",F.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${_.replace(/"/g,"&quot;")}"
            root-folder="${P.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${H}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(y).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(F),oe=F.querySelector("joomla-field-media"),W=F.querySelector(".nxp-ec-media-field__input"),oe.addEventListener("change",at=>{var Nt,Pt,Qt,mn,bs,As;const Ve=(Qt=(Pt=(Nt=at.detail)==null?void 0:Nt.value)!=null?Pt:W==null?void 0:W.value)!=null?Qt:"";let Ge=le(Ve);if(Ge===""&&re!==""&&(Ge=re),Ge===""&&((mn=window.Joomla)!=null&&mn.selectedMediaFile)){const ua=le((bs=window.Joomla.selectedMediaFile.url)!=null?bs:""),pa=le((As=window.Joomla.selectedMediaFile.path)!=null?As:"");Ge=ua||pa}he(Ge)}),oe.addEventListener("joomla-dialog:close",()=>{te=null,re=""}),W&&W.addEventListener("change",()=>{var Ve,Ge,Nt,Pt;if(te===null)return;let at=le((Ve=W.value)!=null?Ve:"");if(at===""&&re!==""&&(at=re),at===""&&((Ge=window.Joomla)!=null&&Ge.selectedMediaFile)){const Qt=le((Nt=window.Joomla.selectedMediaFile.url)!=null?Nt:""),mn=le((Pt=window.Joomla.selectedMediaFile.path)!=null?Pt:"");at=Qt||mn}at!==""&&he(at)}),oe},B=E=>{var O,H;const _=E==null?void 0:E.detail;if(!_||typeof _!="object")return;const S=le((O=_.path)!=null?O:""),y=le((H=_.url)!=null?H:"")||S;y===""||te===null||(re=y,he(y,{keepIndex:!0}))};ot(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",B)});const A=async E=>{var P;_e();const _=await I();if(!_||typeof _.show!="function"){Be(E);return}te=E,_.setAttribute("url",C());const S=(P=p.images[E])!=null?P:"";typeof _.setValue=="function"?_.setValue(S):W&&(W.value=S);try{_.show()}catch(y){te=null,re="",Be(E)}};ii(()=>{F&&F.parentNode&&F.parentNode.removeChild(F),oe=null,F=null,W=null,te=null,re="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",B)});const b=()=>{var O,H;_e();const E=Array.from(new Set(p.images.map(M=>String(M!=null?M:"").trim()).filter(M=>M!==""))),_=p.categories.map(M=>{var Ae,xe,De;const ae=Number.parseInt((Ae=M==null?void 0:M.id)!=null?Ae:0,10)||0,ue=String((xe=M==null?void 0:M.title)!=null?xe:"").trim(),me=String((De=M==null?void 0:M.slug)!=null?De:"").trim();return ae>0?{id:ae,title:ue,slug:me}:ue===""?null:{id:0,title:ue,slug:""}}).filter(M=>M!==null),S=p.variants.map(M=>{const ae=Array.isArray(M.options)?M.options.map(Ae=>{var xe,De;return{name:String((xe=Ae==null?void 0:Ae.name)!=null?xe:"").trim(),value:String((De=Ae==null?void 0:Ae.value)!=null?De:"").trim()}}).filter(Ae=>Ae.name!==""&&Ae.value!==""):[],ue=Number.isFinite(Number(M.stock))?Math.max(0,parseInt(M.stock,10)):0,me=M.weight!==null&&M.weight!==""?String(M.weight).trim():null;return{id:M.id||0,sku:M.sku.trim(),price:M.price!==null&&M.price!==void 0?String(M.price).trim():"",currency:M.currency?String(M.currency).trim().toUpperCase():o.value,stock:ue,weight:me,active:!!M.active,options:ae}}),P=u(p.status),y={title:p.title.trim(),slug:p.slug.trim(),short_desc:(O=p.short_desc)!=null?O:"",long_desc:(H=p.long_desc)!=null?H:"",status:P,active:P,featured:!!p.featured,images:E,categories:_,variants:S};i("submit",y)},X=()=>{i("cancel")};return Ue(()=>s.saving,(E,_)=>{_&&!E&&s.errors.length===0&&K.value==="create"&&(J(null),m.value="",f.value=!1)}),(E,_)=>e.open?(T(),v("div",B_,[_[11]||(_[11]=a("div",{class:"nxp-ec-modal__backdrop"},null,-1)),a("div",K_,[a("header",j_,[a("h2",J_,d(K.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),a("div",W_,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:X,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[_[8]||(_[8]=a("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),a("span",z_,d(r(n)("JCANCEL","Cancel")),1)],8,q_),a("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:ao,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[a("i",{class:Me(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),a("span",Z_,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,Q_),a("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:X,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[_[9]||(_[9]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",tf,d(r(n)("JCLOSE","Close")),1)],8,ef)])]),a("form",{id:ao,class:"nxp-ec-form",onSubmit:ht(b,["prevent"])},[e.errors.length?(T(),v("div",nf,[(T(!0),v(Ce,null,Oe(e.errors,(S,P)=>(T(),v("p",{key:P},d(S),1))),128))])):ie("",!0),a("div",sf,[a("label",af,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),Q(a("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[0]||(_[0]=S=>p.title=S),required:""},null,512),[[pe,p.title,void 0,{trim:!0}]])]),a("div",of,[a("label",rf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),Q(a("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[1]||(_[1]=S=>p.slug=S),onInput:G,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,lf),[[pe,p.slug,void 0,{trim:!0}]])]),a("div",cf,[a("label",df,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),Q(a("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":_[2]||(_[2]=S=>p.short_desc=S)},null,512),[[pe,p.short_desc]])]),a("div",uf,[a("label",pf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),Q(a("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":_[3]||(_[3]=S=>p.long_desc=S)},null,512),[[pe,p.long_desc]])]),a("div",_f,[a("label",ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),Q(a("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":_[4]||(_[4]=S=>p.status=S)},[a("option",mf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),a("option",hf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),a("option",gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[mt,p.status,void 0,{number:!0}]]),a("p",Ef,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),a("div",Cf,[a("label",Sf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),Q(a("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":_[5]||(_[5]=S=>p.featured=S)},null,512),[[ct,p.featured]]),a("p",bf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),a("div",Af,[a("label",Tf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),a("div",yf,[(T(!0),v(Ce,null,Oe(p.images,(S,P)=>(T(),v("div",{key:`product-image-${P}`,class:"nxp-ec-image-row"},[Q(a("input",{id:`product-image-${P}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y=>p.images[P]=y,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,Rf),[[pe,p.images[P],void 0,{trim:!0}]]),a("div",Of,[a("button",{type:"button",class:"nxp-ec-btn",onClick:y=>A(P)},[_[10]||(_[10]=a("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,xf),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>Pe(P,-1),disabled:P===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,vf),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>Pe(P,1),disabled:P===p.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,Nf),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:y=>Te(P),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Pf)])]))),128))]),a("button",{type:"button",class:"nxp-ec-btn",onClick:Re},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),a("p",Mf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),a("div",If,[a("label",kf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),Q(a("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":_[6]||(_[6]=S=>w.value=S)},[(T(!0),v(Ce,null,Oe(k.value,S=>(T(),v("option",{key:S.id,value:S.id},d(g(S)),9,$f))),128))],512),[[mt,w.value]]),a("div",wf,[(T(!0),v(Ce,null,Oe(p.categories,(S,P)=>(T(),v("span",{key:`selected-category-${P}`,class:"nxp-ec-chip"},[ye(d(S.title)+" ",1),a("button",{type:"button",class:"nxp-ec-chip__remove",onClick:y=>N(P),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,Lf)]))),128))]),a("div",Df,[Q(a("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":_[7]||(_[7]=S=>m.value=S),onKeydown:zt(ht(j,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,Uf),[[pe,m.value]]),a("button",{type:"button",class:"nxp-ec-btn",onClick:j},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),a("p",Yf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),a("section",Xf,[a("header",Ff,[a("h3",Gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),a("button",{type:"button",class:"nxp-ec-btn",onClick:h},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),a("p",Vf,[ye(d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),o.value?(T(),v(Ce,{key:0},[ye(" ("+d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[o.value]))+") ",1)],64)):ie("",!0)]),(T(!0),v(Ce,null,Oe(p.variants,(S,P)=>(T(),v("article",{key:q(S,P),class:"nxp-ec-variant-card"},[a("header",Hf,[a("h4",Bf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(P+1)])),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>ee(P)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Kf),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:y=>x(P),disabled:p.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,jf)]),a("div",Jf,[a("div",Wf,[a("label",{class:"nxp-ec-form-label",for:`variant-sku-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,qf),Q(a("input",{id:`variant-sku-${P}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y=>S.sku=y,required:""},null,8,zf),[[pe,S.sku,void 0,{trim:!0}]])]),a("div",Qf,[a("label",{class:"nxp-ec-form-label",for:`variant-price-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Zf),Q(a("input",{id:`variant-price-${P}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":y=>S.price=y,onBlur:y=>z(P),required:""},null,40,em),[[pe,S.price,void 0,{trim:!0}]])]),a("div",tm,[a("label",{class:"nxp-ec-form-label",for:`variant-stock-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,nm),Q(a("input",{id:`variant-stock-${P}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":y=>S.stock=y},null,8,sm),[[pe,S.stock,void 0,{number:!0}]])]),a("div",am,[a("label",{class:"nxp-ec-form-label",for:`variant-weight-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,im),Q(a("input",{id:`variant-weight-${P}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":y=>S.weight=y},null,8,om),[[pe,S.weight,void 0,{trim:!0}]])]),a("div",rm,[a("label",{class:"nxp-ec-form-label",for:`variant-active-${P}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,lm),Q(a("input",{id:`variant-active-${P}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":y=>S.active=y},null,8,cm),[[ct,S.active]])])]),a("section",dm,[a("header",um,[a("h5",pm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>ce(P)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,_m)]),a("p",fm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(T(!0),v(Ce,null,Oe(S.options,(y,O)=>(T(),v("div",{key:`variant-${P}-option-${O}`,class:"nxp-ec-variant-option-row"},[Q(a("input",{id:`variant-${P}-option-name-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H=>y.name=H,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,mm),[[pe,y.name,void 0,{trim:!0}]]),Q(a("input",{id:`variant-${P}-option-value-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H=>y.value=H,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,hm),[[pe,y.value,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:H=>Z(P,O),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,gm)]))),128))])]))),128))]),a("footer",Em,[a("button",{type:"button",class:"nxp-ec-btn",onClick:X,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,Cm),a("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,Sm)])],32)])])):ie("",!0)}},[["__scopeId","data-v-c14afc74"]]),Am={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Tm={key:1,class:"nxp-ec-skeleton__table"},ym={key:2,class:"nxp-ec-skeleton__card"},Rm={key:3,class:"nxp-ec-skeleton__circle"};function Om(e,t,s,i,n,o){return T(),v("div",{class:Me(["nxp-ec-skeleton",o.skeletonClasses])},[s.type==="text"?(T(),v("div",{key:0,class:"nxp-ec-skeleton__line",style:Mt({width:s.width})},null,4)):s.type==="table"?(T(),v("div",Tm,[(T(!0),v(Ce,null,Oe(s.rows,c=>(T(),v("div",{key:c,class:"nxp-ec-skeleton__table-row"},[(T(!0),v(Ce,null,Oe(s.columns,u=>(T(),v("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(T(),v("div",ym,[...t[0]||(t[0]=[$u('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(T(),v("div",Rm)):(T(),v("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Mt({width:s.width,height:s.height})},null,4))],2)}const Dn=dt(Am,[["render",Om],["__scopeId","data-v-c8b9a887"]]),xm={class:"nxp-ec-admin-panel"},vm={class:"nxp-ec-admin-panel__header"},Nm={class:"nxp-ec-admin-panel__title"},Pm={class:"nxp-ec-admin-panel__lead"},Mm={class:"nxp-ec-admin-panel__actions"},Im=["placeholder","aria-label"],km=["disabled","title","aria-label"],$m={class:"nxp-ec-sr-only"},wm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Lm={key:1,class:"nxp-ec-admin-panel__body"},Dm={key:2,class:"nxp-ec-admin-panel__body"},Um=["title"],Un=1,fn=-1,Es=0,Ym={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=Ie({mode:"create",product:null}),c=Xe(!1),u=fe(()=>(s.baseCurrency||"USD").toUpperCase()),p=fe(()=>o.product),m=fe(()=>(s.mediaModalUrl||"").trim()),f=(Y,R=!1)=>{const ne=Number(Y);if(Number.isFinite(ne))return ne===fn?fn:ne===Es?Es:Un;if(R)return fn;if(typeof Y=="string"){const de=Y.trim().toLowerCase();if(de==="out_of_stock"||de==="out-of-stock"||de==="-1")return fn;if(de==="inactive"||de==="0")return Es}return Un},l=(Y,R=!1)=>{const ne=f(Y,R);return ne===Un?fn:ne===fn?Es:Un},g=()=>{s.state.validationErrors=[],s.state.error="",o.mode="create",o.product={title:"",slug:"",short_desc:"",long_desc:"",status:Un,active:!0,featured:!1,images:[],categories:[],variants:[]},c.value=!0},k=Y=>{s.state.validationErrors=[],s.state.error="",o.mode="edit",o.product=JSON.parse(JSON.stringify(Y)),c.value=!0},V=()=>{c.value=!1,s.state.validationErrors=[]},w=async Y=>{var de,ge;const R=f((de=Y.status)!=null?de:Y.active,Y.out_of_stock),ne={...Y,status:R,active:R,featured:Y.featured?1:0};o.mode==="edit"&&((ge=o.product)!=null&&ge.id)?i("update",{id:o.product.id,data:ne}):i("create",ne)},K=async Y=>{var de;const R=(de=Y==null?void 0:Y.title)!=null?de:"",ne=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[R||"#"]);window.confirm(ne)&&i("delete",[Y.id])},L=Y=>{var N;if(!(Y!=null&&Y.id)||s.state.saving)return;const R=l((N=Y.status)!=null?N:Y.active,Y.out_of_stock),ne=h=>h==null?"":String(h),de=(h,x=0)=>{const ce=Number(h);return Number.isFinite(ce)?ce:x},ge=Array.isArray(Y.variants)?Y.variants.map(h=>{var z,oe;if(!h)return null;const x=ne(h.sku).trim();if(!x)return null;let ce=de(h.price_cents,Number.NaN);if(!Number.isFinite(ce)){const F=ne(h.price),W=F?Number.parseFloat(F):NaN;ce=Number.isFinite(W)?Math.round(W*100):NaN}if(!Number.isFinite(ce))return null;const Z=ne((z=h.currency)!=null?z:u.value).trim().toUpperCase();if(!Z)return null;const q=(oe=h.options)!=null?oe:null,ee=Math.max(0,Math.round(de(h.stock,0)));return{id:de(h.id,0),sku:x,price_cents:Math.round(ce),currency:Z,stock:ee,options:q!=null?q:null,weight:h.weight!==null&&h.weight!==void 0&&h.weight!==""?String(h.weight):null,active:h.active===void 0?!0:!!h.active}}).filter(Boolean):[];if(!ge.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const J=Array.isArray(Y.categories)?Y.categories.map(h=>{if(h==null)return null;if(typeof h=="number")return h>0?{id:h,title:"",slug:""}:null;if(typeof h=="string"&&h.trim()!==""&&Number.isFinite(Number(h))){const ce=Number(h);return ce>0?{id:ce,title:"",slug:""}:null}if(typeof h=="object"){if(h.id){const Z=de(h.id,0);return Z>0?{id:Z,title:"",slug:""}:null}return de(h.id,0)<=0&&!h.title?null:{id:0,title:ne(h.title),slug:ne(h.slug)}}const x=ne(h).trim();return x?{id:0,title:x,slug:""}:null}).filter(Boolean):[],j=Array.isArray(Y.images)?Y.images.map(h=>ne(h).trim()).map(h=>{var q,ee,z;let x=h;if(!x)return"";const ce=x.indexOf("#joomlaImage://");ce!==-1&&(x=x.substring(0,ce));const Z=x.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(Z&&Z[1]&&(x=Z[1]),typeof window!="undefined")try{const oe=(z=(ee=(q=window.Joomla)==null?void 0:q.getOptions)==null?void 0:ee.call(q,"system.paths",{}))!=null?z:{},F=oe.rootFull||window.location.origin,W=oe.root||"/";x.startsWith(F)&&(x=x.substring(F.length)),x.startsWith(W)&&(x=x.substring(W.length))}catch(oe){}return x.trim()}).filter(h=>h!==""):[];s.state.error="",i("update",{id:Y.id,data:{title:ne(Y.title),slug:ne(Y.slug),short_desc:ne(Y.short_desc),long_desc:ne(Y.long_desc),status:R,active:R,featured:Y.featured?1:0,images:j,variants:ge,categories:J}})},$=()=>{i("refresh")},U=()=>{i("search")},G=Y=>{if(!Y)return"";try{const R=new Date(Y),de=new Date-R,ge=Math.floor(de/1e3),J=Math.floor(ge/60),j=Math.floor(J/60);return ge<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):J<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[J]):j<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[j]):R.toLocaleString()}catch(R){return Y}};return Ue(()=>s.state.saving,(Y,R)=>{R&&!Y&&c.value&&!s.state.validationErrors.length&&!s.state.error&&V()}),(Y,R)=>(T(),v("section",xm,[a("header",vm,[a("div",null,[a("h2",Nm,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),a("p",Pm,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),a("div",Mm,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":R[0]||(R[0]=ne=>e.state.search=ne),onKeyup:zt(U,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,Im),[[pe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:$,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[R[1]||(R[1]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",$m,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,km),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:g},[R[2]||(R[2]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(T(),v("div",wm,d(e.state.error),1)):ie("",!0),e.state.loading?(T(),v("div",Lm,[He(Dn,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(T(),v("div",Dm,[He(H_,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:k,onDelete:K,onToggleActive:L},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(G(e.state.lastUpdated)),9,Um)):ie("",!0)])),He(bm,{open:c.value,product:p.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":m.value,onSubmit:w,onCancel:V},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Xm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Fm={class:"nxp-ec-admin-panel__header"},Gm={class:"nxp-ec-admin-panel__title"},Vm={class:"nxp-ec-admin-panel__lead"},Hm={class:"nxp-ec-admin-panel__actions"},Bm=["placeholder","aria-label"],Km=["disabled","title","aria-label"],jm={class:"nxp-ec-sr-only"},Jm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Wm={key:1,class:"nxp-ec-admin-panel__body"},qm={key:2,class:"nxp-ec-admin-panel__body"},zm={class:"nxp-ec-admin-panel__table"},Qm={class:"nxp-ec-admin-table"},Zm={scope:"col"},eh={scope:"col"},th={scope:"col"},nh={scope:"col"},sh={scope:"col"},ah={key:0},ih={colspan:"6"},oh={scope:"row",class:"nxp-ec-admin-table__primary"},rh=["data-label"],lh=["data-label"],ch=["data-label"],dh=["data-label"],uh={class:"nxp-ec-admin-table__actions"},ph=["onClick","title","aria-label"],_h={class:"nxp-ec-sr-only"},fh=["disabled","onClick","title","aria-label"],mh={class:"nxp-ec-sr-only"},hh={key:0,class:"nxp-ec-admin-pagination"},gh=["disabled"],Eh={class:"nxp-ec-admin-pagination__status"},Ch=["disabled"],Sh=["title"],bh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Ah={class:"nxp-ec-modal__dialog"},Th={class:"nxp-ec-modal__header"},yh={class:"nxp-ec-modal__title"},Rh=["title","aria-label"],Oh={class:"nxp-ec-sr-only"},xh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vh={class:"nxp-ec-form-field"},Nh={class:"nxp-ec-form-label",for:"category-title"},Ph={class:"nxp-ec-form-field"},Mh={class:"nxp-ec-form-label",for:"category-slug"},Ih={class:"nxp-ec-form-field"},kh={class:"nxp-ec-form-label",for:"category-parent"},$h={value:""},wh=["value"],Lh={class:"nxp-ec-form-field"},Dh={class:"nxp-ec-form-label",for:"category-sort"},Uh={class:"nxp-ec-modal__actions"},Yh=["disabled"],Xh=dt({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=Xe(!1),c=Xe(!1),u=Xe([]),p=J=>{const N=(Array.isArray(J)?J:[]).map(F=>{var W,te,re,_e,le;return{...F,id:Number.parseInt((W=F==null?void 0:F.id)!=null?W:0,10)||0,parent_id:(F==null?void 0:F.parent_id)!=null&&Number.parseInt(F.parent_id,10)||0,sort:Number.parseInt((te=F==null?void 0:F.sort)!=null?te:0,10)||0,title:String((re=F==null?void 0:F.title)!=null?re:"").trim(),slug:String((_e=F==null?void 0:F.slug)!=null?_e:"").trim(),usage:(le=F==null?void 0:F.usage)!=null?le:0}}).filter(F=>F.id>0||F.title!==""),h=new Set(N.map(F=>F.id));N.forEach(F=>{h.has(F.parent_id)||(F.parent_id=0)});const x=new Map,ce=new Map;N.forEach(F=>{ce.set(F.id,F);const W=F.parent_id||0;x.has(W)||x.set(W,[]),x.get(W).push(F)});const Z=F=>F.sort((W,te)=>{var re,_e;return((re=W.sort)!=null?re:0)-((_e=te.sort)!=null?_e:0)||W.title.localeCompare(te.title,void 0,{sensitivity:"base"})});x.forEach(Z);const q=new Set,ee=[],z=(F,W,te)=>{if(!F||q.has(F.id)||te.includes(F.id))return;const re=[...te],_e=re.map(Re=>{var Te;return(Te=ce.get(Re))==null?void 0:Te.title}).filter(Boolean),le={...F,depth:W,path:_e.join(" / "),ancestors:re,indentedTitle:W>0?`${" ".repeat(W)}${F.title}`:F.title};ee.push(le),q.add(F.id),(x.get(F.id)||[]).forEach(Re=>z(Re,W+1,[...te,F.id]))},oe=N.filter(F=>F.parent_id===0||!h.has(F.parent_id));return Z(oe),oe.forEach(F=>z(F,0,[])),N.forEach(F=>{q.has(F.id)||z(F,0,[])}),ee},m=fe(()=>{var J,j;return p((j=(J=s.state)==null?void 0:J.items)!=null?j:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),l=Ie(f()),g=fe(()=>{var j,N;const J=(N=Array.isArray(u.value)&&u.value.length?u.value:(j=s.state)==null?void 0:j.items)!=null?N:[];return p(J).filter(h=>h.id>0&&h.id!==l.id&&!(Array.isArray(h.ancestors)&&h.ancestors.includes(l.id))).map(h=>({id:h.id,title:h.title,label:h.depth>0?`${" ".repeat(h.depth)}${h.title}`:h.title}))}),k=()=>{Object.assign(l,f()),c.value=!1},V=J=>J?J.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",w=()=>{c.value=!0,l.slug=V(l.slug)};Ue(()=>l.title,J=>{c.value||(l.slug=V(J))});const K=async(J=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const j=await s.loadOptions();u.value=Array.isArray(j)?[...j]:[]}catch(j){u.value=[]}u.value=u.value.filter(j=>{var h,x;return(Number.parseInt((x=(h=j==null?void 0:j.id)!=null?h:j==null?void 0:j.value)!=null?x:0,10)||0)!==J})},L=async()=>{k(),await K(),o.value=!0},$=async J=>{var j,N,h,x;J&&(l.id=Number.parseInt((j=J.id)!=null?j:0,10)||0,l.title=String((N=J.title)!=null?N:"").trim(),l.slug=String((h=J.slug)!=null?h:"").trim(),l.parent_id=J.parent_id!=null&&Number.parseInt(J.parent_id,10)||null,l.sort=Number.parseInt((x=J.sort)!=null?x:0,10)||0,c.value=!!l.slug,await K(l.id),o.value=!0)},U=()=>{o.value=!1,k()},G=()=>{i("refresh")},Y=()=>{i("search")},R=J=>{i("page",J)},ne=()=>{const J={id:l.id||void 0,title:l.title.trim(),slug:l.slug.trim(),parent_id:l.parent_id||null,sort:Number.isFinite(l.sort)?l.sort:0};i("save",J)},de=J=>{if(!J||!J.id)return;const j=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(j)||i("delete",[J.id])},ge=J=>{if(!J)return"";try{const j=new Date(J),h=new Date-j,x=Math.floor(h/1e3),ce=Math.floor(x/60),Z=Math.floor(ce/60);return x<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):ce<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[ce]):Z<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Z]):j.toLocaleString()}catch(j){return J}};return Ue(()=>{var J;return(J=s.state)==null?void 0:J.saving},(J,j)=>{var N,h,x;j&&!J&&(((h=(N=s.state)==null?void 0:N.validationErrors)!=null?h:[]).length>0||(x=s.state)!=null&&x.error||(o.value=!1,k()))}),(J,j)=>(T(),v("section",Xm,[a("header",Fm,[a("div",null,[a("h2",Gm,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),a("p",Vm,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),a("div",Hm,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":j[0]||(j[0]=N=>e.state.search=N),onKeyup:zt(Y,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Bm),[[pe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:G,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[j[7]||(j[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",jm,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Km),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:L},[j[8]||(j[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(T(),v("div",Jm,d(e.state.error),1)):ie("",!0),e.state.loading?(T(),v("div",Wm,[He(Dn,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(T(),v("div",qm,[a("div",zm,[a("table",Qm,[a("thead",null,[a("tr",null,[a("th",Zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),a("th",eh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),a("th",th,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),a("th",nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),a("th",sh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),j[9]||(j[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?ie("",!0):(T(),v("tr",ah,[a("td",ih,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(T(!0),v(Ce,null,Oe(m.value,N=>{var h;return T(),v("tr",{key:N.id,class:Me({"is-active":l.id===N.id})},[a("th",oh,[a("span",{style:Mt({paddingLeft:`${N.depth*1.5}rem`})},d(N.indentedTitle),5)]),a("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},d(N.slug||""),9,rh),a("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},d(N.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,lh),a("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},d(N.sort),9,ch),a("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},d((h=N.usage)!=null?h:0),9,dh),a("td",uh,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:x=>$(N),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[j[10]||(j[10]=a("i",{class:"fa-solid fa-pen-to-square"},null,-1)),a("span",_h,d(r(n)("JEDIT","Edit")),1)],8,ph),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:x=>de(N),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[j[11]||(j[11]=a("i",{class:"fa-solid fa-trash"},null,-1)),a("span",mh,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,fh)])],2)}),128))])]),e.state.pagination.pages>1?(T(),v("div",hh,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:j[1]||(j[1]=N=>R(e.state.pagination.current-1))},"  ",8,gh),a("span",Eh,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:j[2]||(j[2]=N=>R(e.state.pagination.current+1))},"  ",8,Ch)])):ie("",!0)]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(ge(e.state.lastUpdated)),9,Sh)):ie("",!0),o.value?(T(),v("div",bh,[a("div",{class:"nxp-ec-modal__backdrop",onClick:U}),a("div",Ah,[a("header",Th,[a("h3",yh,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:U,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[j[12]||(j[12]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",Oh,d(r(n)("JCLOSE","Close")),1)],8,Rh)]),a("form",{class:"nxp-ec-form",onSubmit:ht(ne,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(T(),v("div",xh,[a("ul",null,[(T(!0),v(Ce,null,Oe(e.state.validationErrors,(N,h)=>(T(),v("li",{key:h},d(N),1))),128))])])):ie("",!0),a("div",vh,[a("label",Nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),Q(a("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":j[3]||(j[3]=N=>l.title=N),required:"",maxlength:"255"},null,512),[[pe,l.title,void 0,{trim:!0}]])]),a("div",Ph,[a("label",Mh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),Q(a("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":j[4]||(j[4]=N=>l.slug=N),maxlength:"190",onInput:w},null,544),[[pe,l.slug,void 0,{trim:!0}]])]),a("div",Ih,[a("label",kh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),Q(a("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":j[5]||(j[5]=N=>l.parent_id=N)},[a("option",$h,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(T(!0),v(Ce,null,Oe(g.value,N=>(T(),v("option",{key:N.id,value:N.id},d(N.label),9,wh))),128))],512),[[mt,l.parent_id,void 0,{number:!0}]])]),a("div",Lh,[a("label",Dh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),Q(a("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":j[6]||(j[6]=N=>l.sort=N),min:"0",step:"1"},null,512),[[pe,l.sort,void 0,{number:!0}]])]),a("footer",Uh,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[j[13]||(j[13]=a("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,Yh),a("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:U},[j[14]||(j[14]=a("i",{class:"fa-solid fa-ban"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):ie("",!0)]))]))}},[["__scopeId","data-v-5f949c4b"]]),Fh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Gh={class:"nxp-ec-admin-panel__header"},Vh={class:"nxp-ec-admin-panel__title"},Hh={class:"nxp-ec-admin-panel__lead"},Bh={class:"nxp-ec-admin-panel__actions"},Kh=["placeholder","aria-label"],jh=["aria-label"],Jh={value:""},Wh=["value"],qh=["disabled","title","aria-label"],zh={class:"nxp-ec-sr-only"},Qh=["disabled","title","aria-label"],Zh={class:"nxp-ec-sr-only"},eg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},tg={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ng={key:2,class:"nxp-ec-admin-panel__body"},sg={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},ag={class:"nxp-ec-admin-panel__table"},ig={key:0,class:"nxp-ec-admin-panel__selection"},og=["aria-label"],rg={value:""},lg=["value"],cg=["disabled"],dg=["title","aria-label"],ug={class:"nxp-ec-sr-only"},pg={class:"nxp-ec-admin-table"},_g={scope:"col",class:"nxp-ec-admin-table__select"},fg={scope:"col"},mg={scope:"col"},hg={scope:"col"},gg={scope:"col"},Eg={scope:"col"},Cg={scope:"col",class:"nxp-ec-admin-table__actions"},Sg={key:0},bg={colspan:"7"},Ag={class:"nxp-ec-admin-table__select"},Tg=["checked","onChange","aria-label"],yg={scope:"row",class:"nxp-ec-admin-table__primary"},Rg=["onClick"],Og=["data-label"],xg={class:"nxp-ec-admin-table__meta"},vg=["data-label"],Ng=["data-label"],Pg={class:"nxp-ec-badge"},Mg=["title"],Ig=["data-label"],kg={class:"nxp-ec-admin-table__actions"},$g=["onUpdate:modelValue","aria-label"],wg=["value"],Lg=["value"],Dg=["disabled","onClick"],Ug={key:1,class:"nxp-ec-admin-pagination"},Yg=["disabled"],Xg={class:"nxp-ec-admin-pagination__status"},Fg=["disabled"],Gg=["title"],Vg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Hg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Bg={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},Kg={class:"nxp-ec-admin-panel__sidebar-header"},jg=["title","aria-label"],Jg={class:"nxp-ec-sr-only"},Wg={class:"nxp-ec-admin-panel__sidebar-content"},qg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},zg={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},Qg={key:2,class:"nxp-ec-admin-panel__section"},Zg={class:"nxp-ec-admin-copy"},eE=["value"],tE=["disabled"],nE={key:0,class:"nxp-ec-admin-panel__muted"},sE={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},aE=["disabled"],iE={key:0,class:"nxp-ec-admin-panel__muted"},oE={class:"nxp-ec-admin-panel__section"},rE={class:"nxp-ec-admin-list"},lE={class:"nxp-ec-admin-list__title"},cE={class:"nxp-ec-admin-list__meta"},dE={class:"nxp-ec-admin-panel__section"},uE={class:"nxp-ec-admin-panel__total"},pE={class:"nxp-ec-admin-panel__addresses"},_E={class:"nxp-ec-admin-panel__section"},fE={class:"nxp-ec-admin-address"},mE={class:"nxp-ec-admin-panel__section"},hE={key:0,class:"nxp-ec-admin-address"},gE={key:1,class:"nxp-ec-admin-panel__muted"},EE={class:"nxp-ec-admin-panel__section"},CE={class:"nxp-ec-form-field"},SE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},bE={class:"nxp-ec-form-field"},AE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},TE={class:"nxp-ec-form-field"},yE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},RE={key:0,class:"nxp-ec-form-checkbox"},OE={class:"nxp-ec-admin-form__actions"},xE=["disabled"],vE={key:3,class:"nxp-ec-admin-panel__section"},NE={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},PE=["disabled"],ME=["disabled"],IE={key:4,class:"nxp-ec-admin-panel__section"},kE={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},$E={class:"nxp-ec-form-field"},wE={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},LE=["placeholder"],DE={class:"nxp-ec-form-help"},UE={class:"nxp-ec-form-field"},YE={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},XE=["placeholder"],FE={class:"nxp-ec-form-field"},GE={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},VE={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},HE=["disabled"],BE={key:5,class:"nxp-ec-admin-panel__section"},KE={class:"nxp-ec-admin-list"},jE={class:"nxp-ec-admin-list__title"},JE={class:"nxp-ec-admin-list__meta"},WE={class:"nxp-ec-admin-panel__section"},qE=["placeholder"],zE={class:"nxp-ec-admin-form__actions"},QE=["disabled"],ZE={class:"nxp-ec-admin-panel__section"},eC={key:0,class:"nxp-ec-admin-list"},tC={class:"nxp-ec-admin-list__title"},nC={class:"nxp-ec-admin-list__meta"},sC={key:1,class:"nxp-ec-admin-panel__muted"},aC=dt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=Ie({}),c=Xe(""),u=Xe(""),p=fe(()=>u.value.trim().length>0),m=Xe(""),f=Ie({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),l=Ie({amount:null,reference:"",note:""}),g=fe(()=>{var b;const A=(b=s.state)==null?void 0:b.selection;return!A||typeof A.values!="function"?[]:Array.from(A.values())}),k=fe(()=>g.value.length>0),V=fe(()=>{var E;const A=(E=s.state)==null?void 0:E.activeOrder;if(!A)return!1;const b=["cod","bank_transfer"],X=String(A.payment_method||"").toLowerCase();return A.state==="pending"&&b.includes(X)});fe(()=>V.value),Ue(g,A=>{A.length||(c.value="")}),Ue(()=>s.state.activeOrder,A=>{var b,X,E;u.value="",m.value="",f.carrier=(b=A==null?void 0:A.carrier)!=null?b:"",f.tracking_number=(X=A==null?void 0:A.tracking_number)!=null?X:"",f.tracking_url=(E=A==null?void 0:A.tracking_url)!=null?E:"",f.markFulfilled=!1,l.amount=null,l.reference="",l.note=""},{immediate:!0}),Ue(()=>s.state.items,A=>{Array.isArray(A)&&A.forEach(b=>{!b||typeof b.id=="undefined"||o[b.id]||(o[b.id]=b.state)})},{immediate:!0}),Ue(()=>s.state.transitionError,A=>{var X;if(!A)return;const b=(X=s.state)==null?void 0:X.items;Array.isArray(b)&&b.forEach(E=>{E!=null&&E.id&&E.state&&(o[E.id]=E.state)})});const w=(A,b)=>{const X=(Number(A)||0)/100,E=(b||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:E}).format(X)}catch(_){return`${E} ${X.toFixed(2)}`}},K=A=>{if(!A)return"";const b=new Date(A);return Number.isNaN(b.getTime())?A:b.toLocaleString()},L=A=>A?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[A]||A:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),$=A=>A===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(A)]),U=A=>{if(!A)return"";const b=`COM_NXPEASYCART_ORDERS_STATE_${String(A).toUpperCase()}`;return n(b,A)},G=A=>s.state.orderStates.filter(b=>b!==A.state),Y=A=>(o[A.id]||A.state)!==A.state,R=()=>{var A;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((A=window.location)!=null&&A.origin)?window.location.origin:""},ne=fe(()=>{var P,y;const A=(y=(P=s.state)==null?void 0:P.activeOrder)!=null?y:{},b=String(A.public_token||"").trim(),X=String(A.order_no||"").trim();if(!b)return"";const E=R();if(!E)return"";const _=E.endsWith("/")?"":"/",S=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:b});return X&&S.set("no",X),`${E}${_}index.php?${S.toString()}`}),de=async()=>{var A;if(ne.value){try{if(!((A=navigator==null?void 0:navigator.clipboard)!=null&&A.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(ne.value),m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(b){try{const X=document.createElement("textarea");X.value=ne.value,X.setAttribute("readonly",""),X.style.position="absolute",X.style.left="-9999px",document.body.appendChild(X),X.select(),document.execCommand("copy"),document.body.removeChild(X),m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(X){m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}m.value&&setTimeout(()=>{m.value=""},2e3)}},ge=fe(()=>{var b,X,E,_,S;const A=(X=(b=s.state)==null?void 0:b.activeOrder)!=null?X:{};return f.carrier!==((E=A.carrier)!=null?E:"")||f.tracking_number!==((_=A.tracking_number)!=null?_:"")||f.tracking_url!==((S=A.tracking_url)!=null?S:"")||f.markFulfilled}),J=A=>!A||typeof A!="object"?[]:Object.entries(A).filter(([,b])=>b!=null&&`${b}`.trim()!=="").map(([b,X])=>({key:b,value:`${X}`.trim()})),j=()=>{i("refresh")},N=()=>{i("export")},h=()=>{i("search")},x=()=>{i("filter",s.state.filterState)},ce=A=>{i("view",A)},Z=()=>{i("close")},q=A=>{const b=o[A.id]||A.state;b!==A.state&&i("transition",{id:A.id,state:b})},ee=A=>{i("page",A)},z=A=>{var b,X,E,_;return(_=(E=(X=(b=s.state)==null?void 0:b.selection)==null?void 0:X.has)==null?void 0:E.call(X,A))!=null?_:!1},oe=A=>{i("toggle-selection",A)},F=()=>{c.value="",i("clear-selection")},W=()=>{!k.value||!c.value||i("bulk-transition",{ids:[...g.value],state:c.value})},te=()=>{if(!s.state.activeOrder)return;const A=u.value.trim();A&&(i("add-note",{id:s.state.activeOrder.id,message:A}),u.value="")},re=()=>{s.state.activeOrder&&i("invoice",s.state.activeOrder.id)},_e=()=>{!s.state.activeOrder||!ge.value||(i("save-tracking",{id:s.state.activeOrder.id,carrier:f.carrier,tracking_number:f.tracking_number,tracking_url:f.tracking_url,mark_fulfilled:f.markFulfilled}),f.markFulfilled=!1)},le=A=>{s.state.activeOrder&&i("send-email",{id:s.state.activeOrder.id,type:A})},he=()=>{if(!s.state.activeOrder||!V.value)return;const A=s.state.activeOrder,b=l.amount!==null&&l.amount!==""?Math.round(Number(l.amount)*100):A.total_cents;i("record-payment",{id:A.id,amountCents:b,reference:l.reference,note:l.note}),l.amount=null,l.reference="",l.note=""},Re=A=>{var E;const b=(E=s.state)==null?void 0:E.activeOrder;return b?(b.timeline||b.audit||[]).some(_=>{var S;return _.action==="order.email.sent"?((S=_.context)==null?void 0:S.type)===A:!1}):!1},Te=fe(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(g.value.length)],"ordersSelectedCount")),Pe=A=>{var b,X,E,_,S,P,y,O,H,M,ae,ue;if(!A||!A.action)return"";switch(A.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const me=U((X=(b=A.context)==null?void 0:b.from)!=null?X:""),Ae=U((_=(E=A.context)==null?void 0:E.to)!=null?_:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[me||((S=A.context)==null?void 0:S.from)||"",Ae||((P=A.context)==null?void 0:P.to)||""],"ordersTimelineState")}case"order.note":return((y=A.context)==null?void 0:y.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const me=((O=A.context)==null?void 0:O.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),Ae=w((M=(H=A.context)==null?void 0:H.amount_cents)!=null?M:0,(ue=(ae=s.state)==null?void 0:ae.activeOrder)==null?void 0:ue.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[me,Ae],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return A.action}},Be=A=>{if(!A)return"";const b=String(A.type||"").toLowerCase(),X=String(A.message||"").trim(),E=String(A.state||"").toLowerCase();return b==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):E?U(E):X||b||""},C=fe(()=>{var E,_,S,P;const A=[];return(Array.isArray((_=(E=s.state)==null?void 0:E.activeOrder)==null?void 0:_.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((y,O)=>{var H,M;A.push({label:Be(y),created:(H=y==null?void 0:y.at)!=null?H:"",key:`f-${O}-${(M=y==null?void 0:y.at)!=null?M:""}`})}),(Array.isArray((P=(S=s.state)==null?void 0:S.activeOrder)==null?void 0:P.timeline)?s.state.activeOrder.timeline:[]).forEach((y,O)=>{var H,M,ae;A.push({label:Pe(y),created:(H=y==null?void 0:y.created)!=null?H:"",key:`a-${(M=y==null?void 0:y.id)!=null?M:O}-${(ae=y==null?void 0:y.created)!=null?ae:""}`})}),A.filter(y=>y.label).sort((y,O)=>{const H=new Date(y.created||0).getTime();return new Date(O.created||0).getTime()-H})}),I=A=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(A.status||"").toUpperCase()}`,A.status||""),B=A=>{if(!A)return"";try{const b=new Date(A),E=new Date-b,_=Math.floor(E/1e3),S=Math.floor(_/60),P=Math.floor(S/60);return _<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):S<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[S]):P<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[P]):b.toLocaleString()}catch(b){return A}};return(A,b)=>{var X,E;return T(),v("section",Fh,[a("header",Gh,[a("div",null,[a("h2",Vh,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),a("p",Hh,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),a("div",Bh,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":b[0]||(b[0]=_=>e.state.search=_),onKeyup:zt(h,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Kh),[[pe,e.state.search]]),Q(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":b[1]||(b[1]=_=>e.state.filterState=_),onChange:x,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[a("option",Jh,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(T(!0),v(Ce,null,Oe(e.state.orderStates,_=>(T(),v("option",{key:_,value:_},d(U(_)),9,Wh))),128))],40,jh),[[mt,e.state.filterState]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:N,disabled:e.state.loading||e.state.exporting,title:r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[b[15]||(b[15]=a("i",{class:"fa-solid fa-file-csv"},null,-1)),a("span",zh,d(r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,qh),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:j,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[b[16]||(b[16]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",Zh,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Qh)])]),e.state.error?(T(),v("div",eg,d(e.state.error),1)):ie("",!0),e.state.transitionError&&!e.state.error?(T(),v("div",tg,d(e.state.transitionError),1)):ie("",!0),e.state.loading&&!e.state.error?(T(),v("div",ng,[He(Dn,{type:"table",rows:5,columns:7})])):ie("",!0),!e.state.loading&&!e.state.error?(T(),v("div",sg,[a("div",ag,[k.value?(T(),v("div",ig,[a("span",null,d(Te.value),1),Q(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":b[2]||(b[2]=_=>c.value=_),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[a("option",rg,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(T(!0),v(Ce,null,Oe(e.state.orderStates,_=>(T(),v("option",{key:`bulk-${_}`,value:_},d(U(_)),9,lg))),128))],8,og),[[mt,c.value]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!c.value||e.state.saving,onClick:W},[b[17]||(b[17]=a("i",{class:"fa-solid fa-check"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,cg),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:F,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[b[18]||(b[18]=a("i",{class:"fa-solid fa-xmark"},null,-1)),a("span",ug,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,dg)])):ie("",!0),a("table",pg,[a("thead",null,[a("tr",null,[a("th",_g,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),a("th",fg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),a("th",mg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),a("th",hg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),a("th",gg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),a("th",Eg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),a("th",Cg,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),a("tbody",null,[e.state.items.length?ie("",!0):(T(),v("tr",Sg,[a("td",bg,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,_=>{var S,P,y;return T(),v("tr",{key:_.id,class:Me({"is-active":e.state.activeOrder&&e.state.activeOrder.id===_.id})},[a("td",Ag,[a("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:z(_.id),onChange:O=>oe(_.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Tg)]),a("th",yg,[a("button",{class:"nxp-ec-link-button",type:"button",onClick:O=>ce(_)},d(_.order_no),9,Rg)]),a("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[a("div",null,d(_.email),1),a("div",xg,d($((y=_.items_count)!=null?y:(P=(S=_.items)==null?void 0:S.length)!=null?P:0)),1)],8,Og),a("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},d(w(_.total_cents,_.currency)),9,vg),a("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[a("span",Pg,d(U(_.state)),1),_.needs_review?(T(),v("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:_.review_reason||r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,Mg)):ie("",!0)],8,Ng),a("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},d(K(_.modified||_.created)),9,Ig),a("td",kg,[Q(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":O=>o[_.id]=O,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[a("option",{value:_.state},d(U(_.state)),9,wg),(T(!0),v(Ce,null,Oe(G(_),O=>(T(),v("option",{key:O,value:O},d(U(O)),9,Lg))),128))],8,$g),[[mt,o[_.id]]]),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!Y(_),onClick:O=>q(_)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,Dg)])],2)}),128))])]),e.state.pagination.pages>1?(T(),v("div",Ug,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:b[3]||(b[3]=_=>ee(e.state.pagination.current-1))},"  ",8,Yg),a("span",Xg,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:b[4]||(b[4]=_=>ee(e.state.pagination.current+1))},"  ",8,Fg)])):ie("",!0)]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(B(e.state.lastUpdated)),9,Gg)):ie("",!0),e.state.activeOrder?(T(),v("div",Vg,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:Z}),a("div",Hg,[a("aside",Bg,[a("header",Kg,[a("h3",null,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Z,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[b[19]||(b[19]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",Jg,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,jg)]),a("div",Wg,[e.state.transitionError?(T(),v("div",qg,d(e.state.transitionError),1)):ie("",!0),(X=e.state.activeOrder)!=null&&X.needs_review?(T(),v("div",zg,[a("strong",null,d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),ye(" "+d(L((E=e.state.activeOrder)==null?void 0:E.review_reason)),1)])):ie("",!0),ne.value?(T(),v("section",Qg,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),a("div",Zg,[a("input",{type:"text",class:"nxp-ec-form-input",value:ne.value,readonly:""},null,8,eE),a("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!ne.value,onClick:de},[b[20]||(b[20]=a("i",{class:"fa-solid fa-link"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,tE)]),m.value?(T(),v("p",nE,d(m.value),1)):ie("",!0),a("div",sE,[a("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:re},[b[21]||(b[21]=a("i",{class:"fa-solid fa-file-pdf"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,aE),s.state.invoiceLoading?(T(),v("span",iE,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ie("",!0)])])):ie("",!0),a("section",oE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),a("ul",rE,[(T(!0),v(Ce,null,Oe(e.state.activeOrder.items,_=>(T(),v("li",{key:_.id},[a("div",lE,[ye(d(_.title)+" ",1),a("small",null,"("+d(_.sku)+")",1)]),a("div",cE,"  "+d(_.qty)+"  "+d(w(_.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),a("section",dE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),a("p",uE,d(w(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),a("div",pE,[a("section",_E,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),a("address",fE,[(T(!0),v(Ce,null,Oe(J(e.state.activeOrder.billing),_=>(T(),v("span",{key:_.key},d(_.value),1))),128))])]),a("section",mE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(T(),v("address",hE,[(T(!0),v(Ce,null,Oe(J(e.state.activeOrder.shipping),_=>(T(),v("span",{key:_.key},d(_.value),1))),128))])):(T(),v("p",gE,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),a("section",EE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),a("div",CE,[a("label",SE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),Q(a("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[5]||(b[5]=_=>f.carrier=_)},null,512),[[pe,f.carrier]])]),a("div",bE,[a("label",AE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),Q(a("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[6]||(b[6]=_=>f.tracking_number=_)},null,512),[[pe,f.tracking_number]])]),a("div",TE,[a("label",yE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),Q(a("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":b[7]||(b[7]=_=>f.tracking_url=_)},null,512),[[pe,f.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(T(),v("label",RE,[Q(a("input",{type:"checkbox","onUpdate:modelValue":b[8]||(b[8]=_=>f.markFulfilled=_)},null,512),[[ct,f.markFulfilled]]),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):ie("",!0),a("div",OE,[a("button",{class:"nxp-ec-btn",type:"button",disabled:!ge.value||e.state.saving,onClick:_e},[b[22]||(b[22]=a("i",{class:"fa-solid fa-truck"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,xE)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(T(),v("section",vE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),a("div",NE,[e.state.activeOrder.state==="fulfilled"?(T(),v("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:b[9]||(b[9]=_=>le("shipped"))},[b[23]||(b[23]=a("i",{class:"fa-solid fa-envelope"},null,-1)),ye(" "+d(Re("shipped")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,PE)):ie("",!0),e.state.activeOrder.state==="refunded"?(T(),v("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:b[10]||(b[10]=_=>le("refunded"))},[b[24]||(b[24]=a("i",{class:"fa-solid fa-envelope"},null,-1)),ye(" "+d(Re("refunded")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,ME)):ie("",!0)])])):ie("",!0),V.value?(T(),v("section",IE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),a("p",kE,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),a("div",$E,[a("label",wE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),Q(a("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":b[11]||(b[11]=_=>l.amount=_),placeholder:w(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,LE),[[pe,l.amount]]),a("small",DE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),a("div",UE,[a("label",YE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),Q(a("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[12]||(b[12]=_=>l.reference=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,XE),[[pe,l.reference]])]),a("div",FE,[a("label",GE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),Q(a("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":b[13]||(b[13]=_=>l.note=_)},null,512),[[pe,l.note]])]),a("div",VE,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving,onClick:he},[b[25]||(b[25]=a("i",{class:"icon-credit"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,HE)])])):ie("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(T(),v("section",BE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),a("ul",KE,[(T(!0),v(Ce,null,Oe(e.state.activeOrder.transactions,_=>(T(),v("li",{key:_.id},[a("div",jE,d(_.gateway)+"  "+d(w(_.amount_cents,e.state.activeOrder.currency)),1),a("div",JE,d(I(_))+"  "+d(K(_.created)),1)]))),128))])])):ie("",!0),a("section",WE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),a("form",{class:"nxp-ec-admin-form",onSubmit:ht(te,["prevent"])},[Q(a("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":b[14]||(b[14]=_=>u.value=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,qE),[[pe,u.value]]),a("div",zE,[a("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[b[26]||(b[26]=a("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,QE)])],32)]),a("section",ZE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),C.value.length?(T(),v("ul",eC,[(T(!0),v(Ce,null,Oe(C.value,_=>(T(),v("li",{key:_.key},[a("div",tC,d(_.label),1),a("div",nC,d(K(_.created)),1)]))),128))])):(T(),v("p",sC,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])])):ie("",!0)])):ie("",!0)])}}},[["__scopeId","data-v-5225afc2"]]),iC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},oC={class:"nxp-ec-admin-panel__header"},rC={class:"nxp-ec-admin-panel__title"},lC={class:"nxp-ec-admin-panel__lead"},cC={class:"nxp-ec-admin-panel__actions"},dC=["placeholder","aria-label"],uC=["disabled","title","aria-label"],pC={class:"nxp-ec-sr-only"},_C={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fC={key:1,class:"nxp-ec-admin-panel__body"},mC={key:2,class:"nxp-ec-admin-panel__body"},hC={class:"nxp-ec-admin-panel__table"},gC={class:"nxp-ec-admin-table"},EC={scope:"col"},CC={scope:"col"},SC={scope:"col"},bC={scope:"col"},AC={scope:"col"},TC={key:0},yC={colspan:"5"},RC={scope:"row",class:"nxp-ec-admin-table__primary"},OC=["onClick"],xC=["data-label"],vC=["data-label"],NC=["data-label"],PC=["data-label"],MC={key:0,class:"nxp-ec-admin-pagination"},IC=["disabled"],kC={class:"nxp-ec-admin-pagination__status"},$C=["disabled"],wC=["title"],LC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},DC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},UC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},YC={class:"nxp-ec-admin-panel__sidebar-header"},XC=["title","aria-label"],FC={class:"nxp-ec-sr-only"},GC={class:"nxp-ec-admin-panel__section"},VC={class:"nxp-ec-admin-summary"},HC={class:"nxp-ec-admin-panel__addresses"},BC={class:"nxp-ec-admin-panel__section"},KC={class:"nxp-ec-admin-address"},jC={class:"nxp-ec-admin-panel__section"},JC={key:0,class:"nxp-ec-admin-address"},WC={key:1,class:"nxp-ec-admin-panel__muted"},qC={class:"nxp-ec-admin-panel__section"},zC={key:0,class:"nxp-ec-admin-list"},QC={class:"nxp-ec-admin-list__title"},ZC={class:"nxp-ec-admin-list__meta"},eS={key:1,class:"nxp-ec-admin-panel__muted"},tS={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},nS={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},sS={class:"nxp-ec-gdpr-actions"},aS=["disabled","title"],iS=["disabled","title"],oS=dt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=(L,$)=>{const U=(Number(L)||0)/100,G=($||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:G}).format(U)}catch(Y){return`${G} ${U.toFixed(2)}`}},c=L=>{if(!L)return"";const $=new Date(L);return Number.isNaN($.getTime())?L:$.toLocaleString()},u=L=>!L||typeof L!="object"?[]:Object.entries(L).filter(([,$])=>$!=null&&`${$}`.trim()!=="").map(([$,U])=>({key:$,value:`${U}`.trim()})),p=L=>{if(!L)return"";const $=`COM_NXPEASYCART_ORDERS_STATE_${String(L).toUpperCase()}`;return n($,L)},m=()=>i("refresh"),f=()=>i("search"),l=L=>i("page",L),g=L=>i("view",L),k=()=>i("close"),V=L=>i("gdprExport",L),w=L=>i("gdprAnonymise",L),K=L=>{if(!L)return"";try{const $=new Date(L),G=new Date-$,Y=Math.floor(G/1e3),R=Math.floor(Y/60),ne=Math.floor(R/60);return Y<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):R<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[R]):ne<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ne]):$.toLocaleString()}catch($){return L}};return(L,$)=>{var U,G,Y;return T(),v("section",iC,[a("header",oC,[a("div",null,[a("h2",rC,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),a("p",lC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),a("div",cC,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":$[0]||($[0]=R=>e.state.search=R),onKeyup:zt(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,dC),[[pe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:m,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[$[5]||($[5]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",pC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,uC)])]),e.state.error?(T(),v("div",_C,d(e.state.error),1)):ie("",!0),e.state.loading?(T(),v("div",fC,[He(Dn,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(T(),v("div",mC,[a("div",hC,[a("table",gC,[a("thead",null,[a("tr",null,[a("th",EC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),a("th",CC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),a("th",SC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),a("th",bC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),a("th",AC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),a("tbody",null,[e.state.items.length?ie("",!0):(T(),v("tr",TC,[a("td",yC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,R=>{var ne;return T(),v("tr",{key:R.email,class:Me({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===R.email})},[a("th",RC,[a("button",{class:"nxp-ec-link-button",type:"button",onClick:de=>g(R)},d(R.email),9,OC)]),a("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},d(((ne=R.meta)==null?void 0:ne.name)||""),9,xC),a("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},d(R.orders_count),9,vC),a("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},d(o(R.total_spent_cents,R.currency||e.baseCurrency)),9,NC),a("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},d(c(R.last_order)),9,PC)],2)}),128))])]),e.state.pagination.pages>1?(T(),v("div",MC,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:$[1]||($[1]=R=>l(e.state.pagination.current-1))},"  ",8,IC),a("span",kC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:$[2]||($[2]=R=>l(e.state.pagination.current+1))},"  ",8,$C)])):ie("",!0)]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(K(e.state.lastUpdated)),9,wC)):ie("",!0),e.state.activeCustomer?(T(),v("div",LC,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:k}),a("div",DC,[a("aside",UC,[a("header",YC,[a("h3",null,d(e.state.activeCustomer.email),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:k,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[$[6]||($[6]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",FC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,XC)]),a("section",GC,[a("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),a("dl",VC,[a("div",null,[a("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),a("dd",null,d(((U=e.state.activeCustomer.meta)==null?void 0:U.name)||""),1)]),a("div",null,[a("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),a("dd",null,d(o(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),a("div",null,[a("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),a("dd",null,d(e.state.activeCustomer.orders_count),1)]),a("div",null,[a("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),a("dd",null,d(c(e.state.activeCustomer.last_order)),1)])])]),a("div",HC,[a("section",BC,[a("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),a("address",KC,[(T(!0),v(Ce,null,Oe(u((G=e.state.activeCustomer.meta)==null?void 0:G.billing),R=>(T(),v("span",{key:R.key},d(R.value),1))),128))])]),a("section",jC,[a("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(Y=e.state.activeCustomer.meta)!=null&&Y.shipping?(T(),v("address",JC,[(T(!0),v(Ce,null,Oe(u(e.state.activeCustomer.meta.shipping),R=>(T(),v("span",{key:R.key},d(R.value),1))),128))])):(T(),v("p",WC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),a("section",qC,[a("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(T(),v("ul",zC,[(T(!0),v(Ce,null,Oe(e.state.activeCustomer.orders,R=>(T(),v("li",{key:R.id},[a("div",QC,d(R.order_no)+"  "+d(o(R.total_cents,R.currency||e.baseCurrency)),1),a("div",ZC,d(p(R.state))+"  "+d(c(R.created)),1)]))),128))])):(T(),v("p",eS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),a("section",tS,[a("h4",null,d(r(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),a("p",nS,d(r(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),a("div",sS,[a("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:$[3]||($[3]=R=>V(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[$[7]||($[7]=a("i",{class:"fa-solid fa-download"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,aS),a("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:$[4]||($[4]=R=>w(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[$[8]||($[8]=a("i",{class:"fa-solid fa-user-slash"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,iS)]),e.state.gdprMessage?(T(),v("p",{key:0,class:Me(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},d(e.state.gdprMessage),3)):ie("",!0)])])])])):ie("",!0)]))])}}},[["__scopeId","data-v-d3571741"]]),rS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},lS={class:"nxp-ec-admin-panel__header"},cS={class:"nxp-ec-admin-panel__title"},dS={class:"nxp-ec-admin-panel__lead"},uS={class:"nxp-ec-admin-panel__actions"},pS=["placeholder","aria-label"],_S=["disabled","title","aria-label"],fS={class:"nxp-ec-sr-only"},mS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hS={key:1,class:"nxp-ec-admin-panel__loading"},gS={key:2,class:"nxp-ec-admin-panel__body"},ES={class:"nxp-ec-admin-panel__table"},CS={class:"nxp-ec-admin-table"},SS={scope:"col"},bS={scope:"col"},AS={scope:"col"},TS={scope:"col"},yS={scope:"col"},RS={scope:"col"},OS={key:0},xS={colspan:"7"},vS={scope:"row",class:"nxp-ec-admin-table__primary"},NS=["data-label"],PS=["data-label"],MS=["data-label"],IS=["data-label"],kS=["data-label"],$S={class:"nxp-ec-admin-table__actions"},wS=["onClick","title","aria-label"],LS={class:"nxp-ec-sr-only"},DS=["onClick","title","aria-label"],US={class:"nxp-ec-sr-only"},YS={key:0,class:"nxp-ec-admin-pagination"},XS=["disabled"],FS={class:"nxp-ec-admin-pagination__status"},GS=["disabled"],VS={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},HS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},BS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},KS={class:"nxp-ec-admin-panel__sidebar-header"},jS=["title","aria-label"],JS={class:"nxp-ec-sr-only"},WS={class:"nxp-ec-form-field"},qS={class:"nxp-ec-form-label",for:"coupon-code"},zS={class:"nxp-ec-form-field"},QS={class:"nxp-ec-form-label",for:"coupon-type"},ZS={value:"percent"},eb={value:"fixed"},tb={class:"nxp-ec-form-field"},nb={class:"nxp-ec-form-label",for:"coupon-value"},sb={class:"nxp-ec-form-field"},ab={class:"nxp-ec-form-label",for:"coupon-min-total"},ib={class:"nxp-ec-form-field"},ob={class:"nxp-ec-form-label",for:"coupon-start"},rb={class:"nxp-ec-form-field"},lb={class:"nxp-ec-form-label",for:"coupon-end"},cb={class:"nxp-ec-form-field"},db={class:"nxp-ec-form-label",for:"coupon-max-uses"},ub={class:"nxp-ec-form-field nxp-ec-form-field--inline"},pb={class:"nxp-ec-form-label",for:"coupon-active"},_b={class:"nxp-ec-modal__actions"},fb=["disabled"],mb=["disabled"],hb=["disabled"],gb=dt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=fe(()=>(s.baseCurrency||"USD").toUpperCase()),c=Ie({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=fe(()=>c.open),p=()=>i("refresh"),m=()=>i("search"),f=U=>i("page",U),l=()=>{Object.assign(c,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},g=U=>{var G,Y;Object.assign(c,{open:!0,id:U.id,code:U.code,type:U.type,value:U.value,min_total:(Y=U.min_total)!=null?Y:((G=U.min_total_cents)!=null?G:0)/100,start:U.start?U.start.substring(0,10):"",end:U.end?U.end.substring(0,10):"",max_uses:U.max_uses,active:U.active})},k=()=>{c.open=!1},V=()=>{const U={id:c.id||void 0,code:c.code,type:c.type,value:c.value,min_total:c.min_total||0,start:c.start||null,end:c.end||null,max_uses:c.max_uses!==null&&c.max_uses!==""?c.max_uses:null,active:c.active};i("save",U)},w=U=>{const G=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(G)&&(i("delete",[U.id]),c.id===U.id&&k())},K=(U,G)=>{const Y=(Number(U)||0)/100,R=(G||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:R}).format(Y)}catch(ne){return`${R} ${Y.toFixed(2)}`}},L=U=>U.type==="percent"?`${U.value}%`:K(U.value*100,o.value),$=U=>U==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Ue(()=>s.state.saving,(U,G)=>{G&&!U&&!s.state.error&&c.open&&k()}),(U,G)=>(T(),v("section",rS,[a("header",lS,[a("div",null,[a("h2",cS,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),a("p",dS,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),a("div",uS,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":G[0]||(G[0]=Y=>e.state.search=Y),onKeyup:zt(m,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,pS),[[pe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[G[12]||(G[12]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",fS,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,_S),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:l},[G[13]||(G[13]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(T(),v("div",mS,d(e.state.error),1)):ie("",!0),e.state.loading?(T(),v("div",hS,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(T(),v("div",gS,[a("div",ES,[a("table",CS,[a("thead",null,[a("tr",null,[a("th",SS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),a("th",bS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),a("th",AS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),a("th",TS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),a("th",yS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),a("th",RS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),G[14]||(G[14]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?ie("",!0):(T(),v("tr",OS,[a("td",xS,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,Y=>(T(),v("tr",{key:Y.id,class:Me({"is-active":c.id===Y.id})},[a("th",vS,d(Y.code),1),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},d($(Y.type)),9,NS),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},d(L(Y)),9,PS),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},d(K(Y.min_total_cents,o.value)),9,MS),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[a("span",{class:Me(["nxp-ec-badge",{"is-active":Y.active}])},[a("i",{class:Me(Y.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ye(" "+d(Y.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,IS),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},d(Y.times_used)+d(Y.max_uses?` / ${Y.max_uses}`:""),9,kS),a("td",$S,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:R=>g(Y),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[G[15]||(G[15]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",LS,d(r(n)("JEDIT","Edit")),1)],8,wS),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:R=>w(Y),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[G[16]||(G[16]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",US,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,DS)])],2))),128))])]),e.state.pagination.pages>1?(T(),v("div",YS,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:G[1]||(G[1]=Y=>f(e.state.pagination.current-1))},"  ",8,XS),a("span",FS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:G[2]||(G[2]=Y=>f(e.state.pagination.current+1))},"  ",8,GS)])):ie("",!0)]),u.value?(T(),v("div",VS,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:k}),a("div",HS,[a("aside",BS,[a("header",KS,[a("h3",null,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:k,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[G[17]||(G[17]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",JS,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,jS)]),a("form",{class:"nxp-ec-form",onSubmit:ht(V,["prevent"]),autocomplete:"off"},[a("div",WS,[a("label",qS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),Q(a("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":G[3]||(G[3]=Y=>c.code=Y),required:"",maxlength:"64"},null,512),[[pe,c.code,void 0,{trim:!0}]])]),a("div",zS,[a("label",QS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),Q(a("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":G[4]||(G[4]=Y=>c.type=Y)},[a("option",ZS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),a("option",eb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[mt,c.type]])]),a("div",tb,[a("label",nb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),Q(a("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G[5]||(G[5]=Y=>c.value=Y),required:""},null,512),[[pe,c.value,void 0,{number:!0}]])]),a("div",sb,[a("label",ab,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),Q(a("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G[6]||(G[6]=Y=>c.min_total=Y)},null,512),[[pe,c.min_total,void 0,{number:!0}]])]),a("div",ib,[a("label",ob,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),Q(a("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":G[7]||(G[7]=Y=>c.start=Y)},null,512),[[pe,c.start]])]),a("div",rb,[a("label",lb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),Q(a("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":G[8]||(G[8]=Y=>c.end=Y)},null,512),[[pe,c.end]])]),a("div",cb,[a("label",db,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),Q(a("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":G[9]||(G[9]=Y=>c.max_uses=Y)},null,512),[[pe,c.max_uses,void 0,{number:!0}]])]),a("div",ub,[a("label",pb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),Q(a("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":G[10]||(G[10]=Y=>c.active=Y)},null,512),[[ct,c.active]])]),a("footer",_b,[a("button",{class:"nxp-ec-btn",type:"button",onClick:k,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,fb),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,mb)]),c.id?(T(),v("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:G[11]||(G[11]=Y=>w(c)),disabled:e.state.saving},[G[18]||(G[18]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,hb)):ie("",!0)],32)])])])):ie("",!0)]))]))}},[["__scopeId","data-v-db09baa1"]]),Eb={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},Cb={class:"nxp-ec-admin-panel__header"},Sb={class:"nxp-ec-admin-panel__title"},bb={class:"nxp-ec-admin-panel__lead"},Ab={class:"nxp-ec-settings-tabs"},Tb={key:0,class:"nxp-ec-settings-panel"},yb={class:"nxp-ec-settings-panel__header"},Rb=["disabled"],Ob={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},xb={key:1,class:"nxp-ec-admin-panel__loading"},vb={class:"nxp-ec-form-field"},Nb={class:"nxp-ec-form-label",for:"settings-store-name"},Pb={class:"nxp-ec-form-field"},Mb={class:"nxp-ec-form-label",for:"settings-store-email"},Ib={class:"nxp-ec-form-field"},kb={class:"nxp-ec-form-label",for:"settings-store-phone"},$b={class:"nxp-ec-form-field"},wb={class:"nxp-ec-form-label",for:"settings-base-currency"},Lb={class:"nxp-ec-form-help"},Db={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Ub={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},Yb={class:"nxp-ec-form-help"},Xb={class:"nxp-ec-form-field"},Fb={class:"nxp-ec-form-label",for:"settings-category-page-size"},Gb={class:"nxp-ec-form-help"},Vb={class:"nxp-ec-form-field"},Hb={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},Bb={value:"paged"},Kb={value:"infinite"},jb={class:"nxp-ec-form-help"},Jb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Wb={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},qb={class:"nxp-ec-form-help"},zb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Qb={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},Zb={class:"nxp-ec-form-help"},eA={key:0,class:"nxp-ec-form-field"},tA={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},nA={class:"nxp-ec-form-help"},sA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},aA={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},iA={class:"nxp-ec-form-help"},oA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},rA={class:"nxp-ec-settings-actions"},lA=["disabled"],cA=["disabled"],dA={key:1,class:"nxp-ec-settings-panel"},uA={class:"nxp-ec-settings-panel__header"},pA=["disabled"],_A={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fA={class:"nxp-ec-form-help"},mA={class:"nxp-ec-form-grid"},hA={class:"nxp-ec-form-field"},gA={class:"nxp-ec-form-label",for:"settings-checkout-window"},EA={class:"nxp-ec-form-help"},CA={class:"nxp-ec-form-field"},SA={class:"nxp-ec-form-label",for:"settings-offline-window"},bA={class:"nxp-ec-form-help"},AA={class:"nxp-ec-form-grid"},TA={class:"nxp-ec-form-field"},yA={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},RA={class:"nxp-ec-form-field"},OA={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},xA={class:"nxp-ec-form-field"},vA={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},NA={class:"nxp-ec-form-grid"},PA={class:"nxp-ec-form-field"},MA={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},IA={class:"nxp-ec-form-field"},kA={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},$A={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},wA={class:"nxp-ec-settings-actions"},LA=["disabled"],DA=["disabled"],UA={key:2,class:"nxp-ec-settings-panel"},YA={class:"nxp-ec-settings-panel__header"},XA={class:"nxp-ec-settings-actions"},FA=["disabled"],GA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},VA={key:1,class:"nxp-ec-admin-panel__loading"},HA={class:"nxp-ec-form-field"},BA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},KA={class:"nxp-ec-form-field"},jA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},JA={class:"nxp-ec-form-field"},WA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},qA={class:"nxp-ec-form-help"},zA={class:"nxp-ec-form-field"},QA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},ZA={value:"test"},eT={value:"live"},tT={class:"nxp-ec-form-field"},nT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},sT={class:"nxp-ec-form-field"},aT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},iT={class:"nxp-ec-form-field"},oT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},rT={class:"nxp-ec-form-help"},lT={class:"nxp-ec-form-field"},cT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},dT={value:"sandbox"},uT={value:"live"},pT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},_T={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},fT={class:"nxp-ec-form-field"},mT={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},hT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},gT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},ET={class:"nxp-ec-form-field"},CT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},ST={class:"nxp-ec-form-field"},bT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},AT=["placeholder"],TT={class:"nxp-ec-form-help"},yT={class:"nxp-ec-form-grid"},RT={class:"nxp-ec-form-field"},OT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},xT={class:"nxp-ec-form-field"},vT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},NT={class:"nxp-ec-form-field"},PT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},MT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},IT={class:"nxp-ec-form-label",for:"settings-payments-configured"},kT={class:"nxp-ec-form-help"},$T={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},wT={class:"nxp-ec-settings-actions"},LT=["disabled"],DT=["disabled"],UT={key:3,class:"nxp-ec-settings-panel"},YT={class:"nxp-ec-settings-panel__header"},XT=["disabled"],FT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},GT={key:1,class:"nxp-ec-admin-panel__loading"},VT={class:"nxp-ec-form-help"},HT={class:"nxp-ec-form-help nxp-ec-form-help--muted"},BT={class:"nxp-ec-visual-grid"},KT={class:"nxp-ec-visual-field"},jT={class:"nxp-ec-form-label",for:"visual-primary-color"},JT={class:"nxp-ec-color-input-group"},WT=["value"],qT=["placeholder"],zT={class:"nxp-ec-visual-field"},QT={class:"nxp-ec-form-label",for:"visual-text-color"},ZT={class:"nxp-ec-color-input-group"},ey=["value"],ty=["placeholder"],ny={class:"nxp-ec-visual-field"},sy={class:"nxp-ec-form-label",for:"visual-surface-color"},ay={class:"nxp-ec-color-input-group"},iy=["value"],oy=["placeholder"],ry={class:"nxp-ec-visual-field"},ly={class:"nxp-ec-form-label",for:"visual-border-color"},cy={class:"nxp-ec-color-input-group"},dy=["value"],uy=["placeholder"],py={class:"nxp-ec-visual-field"},_y={class:"nxp-ec-form-label",for:"visual-muted-color"},fy={class:"nxp-ec-color-input-group"},my=["value"],hy=["placeholder"],gy={class:"nxp-ec-visual-preview"},Ey={type:"button",class:"nxp-ec-preview-btn"},Cy={class:"nxp-ec-preview-text"},Sy={class:"nxp-ec-preview-muted"},by={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Ay={class:"nxp-ec-settings-actions"},Ty=["disabled"],yy=["disabled"],Ry=dt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=s.settingsState,c=s.paymentsState,p=Xe(["general","security","payments","visual"].includes(s.initialTab)?s.initialTab:"general");fe(()=>{var Z;const N=s.baseCurrency||"USD",h=typeof m.baseCurrency=="string"?m.baseCurrency.trim():"",x=typeof((Z=o==null?void 0:o.values)==null?void 0:Z.base_currency)=="string"?o.values.base_currency.trim():"";return(h!==""?h:x!==""?x:N).toUpperCase()});const m=Ie({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1}),f=Ie({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),l=Ie({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),g=Ie({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),k=fe(()=>{var h,x;const N=(x=(h=o.values)==null?void 0:h.visual_defaults)!=null?x:{};return{primary:N.primary_color||"#4f6d7a",text:N.text_color||"#1f2933",surface:N.surface_color||"#ffffff",border:N.border_color||"#e4e7ec",muted:N.muted_color||"#6b7280"}}),V=fe(()=>({"--nxp-ec-color-primary":g.primaryColor||k.value.primary,"--nxp-ec-color-text":g.textColor||k.value.text,"--nxp-ec-color-surface":g.surfaceColor||k.value.surface,"--nxp-ec-color-border":g.borderColor||k.value.border,"--nxp-ec-color-muted":g.mutedColor||k.value.muted})),w=(N={})=>{var q,ee,z,oe,F,W,te,re,_e,le,he,Re,Te,Pe,Be,C,I;const h=(q=N==null?void 0:N.store)!=null?q:{},x=(ee=N==null?void 0:N.payments)!=null?ee:{},ce=(z=N==null?void 0:N.visual)!=null?z:{},Z=(F=(oe=N==null?void 0:N.security)==null?void 0:oe.rate_limits)!=null?F:{};Object.assign(m,{storeName:(W=h.name)!=null?W:"",storeEmail:(te=h.email)!=null?te:"",storePhone:(re=h.phone)!=null?re:"",checkoutPhoneRequired:!!((_e=N==null?void 0:N.checkout_phone_required)!=null&&_e),paymentsConfigured:!!x.configured,autoSendOrderEmails:!!((le=N==null?void 0:N.auto_send_order_emails)!=null&&le),baseCurrency:typeof(N==null?void 0:N.base_currency)=="string"?N.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),categoryPageSize:Number.isFinite(Number(N==null?void 0:N.category_page_size))?Number(N.category_page_size):12,categoryPaginationMode:(N==null?void 0:N.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((he=N==null?void 0:N.stale_order_cleanup_enabled)!=null&&he),staleOrderHours:Number.isFinite(Number(N==null?void 0:N.stale_order_hours))?Math.max(1,Math.min(720,Number(N.stale_order_hours))):48,showAdvancedMode:!!((Re=N==null?void 0:N.show_advanced_mode)!=null&&Re)}),Object.assign(g,{primaryColor:(Te=ce.primary_color)!=null?Te:"",textColor:(Pe=ce.text_color)!=null?Pe:"",surfaceColor:(Be=ce.surface_color)!=null?Be:"",borderColor:(C=ce.border_color)!=null?C:"",mutedColor:(I=ce.muted_color)!=null?I:""}),Object.assign(f,{checkoutWindowMinutes:Number.isFinite(Number(Z.checkout_window_minutes))?Number(Z.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(Z.checkout_ip_limit))?Number(Z.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(Z.checkout_email_limit))?Number(Z.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(Z.checkout_session_limit))?Number(Z.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(Z.offline_window_minutes))?Number(Z.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(Z.offline_ip_limit))?Number(Z.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(Z.offline_email_limit))?Number(Z.offline_email_limit):5})},K=(N={})=>{var q,ee,z,oe,F,W,te,re,_e,le,he,Re,Te,Pe,Be,C,I,B,A,b,X,E,_,S;const h=(q=N.stripe)!=null?q:{},x=(ee=N.paypal)!=null?ee:{},ce=(z=N.cod)!=null?z:{},Z=(oe=N.bank_transfer)!=null?oe:{};Object.assign(l.stripe,{publishable_key:(F=h.publishable_key)!=null?F:"",secret_key:(W=h.secret_key)!=null?W:"",webhook_secret:(te=h.webhook_secret)!=null?te:"",mode:(re=h.mode)!=null?re:"test"}),Object.assign(l.paypal,{client_id:(_e=x.client_id)!=null?_e:"",client_secret:(le=x.client_secret)!=null?le:"",webhook_id:(he=x.webhook_id)!=null?he:"",mode:(Re=x.mode)!=null?Re:"sandbox"}),Object.assign(l.cod,{enabled:ce.enabled!==void 0?!!ce.enabled:l.cod.enabled,label:(Pe=(Te=ce.label)!=null?Te:l.cod.label)!=null?Pe:"Cash on delivery"}),Object.assign(l.bank_transfer,{enabled:Z.enabled!==void 0?!!Z.enabled:l.bank_transfer.enabled,label:(C=(Be=Z.label)!=null?Be:l.bank_transfer.label)!=null?C:"Bank transfer",instructions:(B=(I=Z.instructions)!=null?I:l.bank_transfer.instructions)!=null?B:"",account_name:(b=(A=Z.account_name)!=null?A:l.bank_transfer.account_name)!=null?b:"",iban:(E=(X=Z.iban)!=null?X:l.bank_transfer.iban)!=null?E:"",bic:(S=(_=Z.bic)!=null?_:l.bank_transfer.bic)!=null?S:""})};Ue(()=>o.values,N=>{w(N!=null?N:{})},{immediate:!0});const L=()=>i("refresh-settings"),$=()=>{const N=(m.baseCurrency||"").trim().toUpperCase();i("save-settings",{store:{name:m.storeName,email:m.storeEmail,phone:m.storePhone,base_currency:N},payments:{configured:m.paymentsConfigured},base_currency:N,checkout_phone_required:m.checkoutPhoneRequired,auto_send_order_emails:m.autoSendOrderEmails,category_page_size:Number.isFinite(Number(m.categoryPageSize))?Number(m.categoryPageSize):12,category_pagination_mode:m.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!m.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(m.staleOrderHours))?Math.max(1,Math.min(720,Number(m.staleOrderHours))):48,show_advanced_mode:!!m.showAdvancedMode})},U=()=>{var N;w((N=o.values)!=null?N:{})},G=()=>{const N=(h,x=0)=>{const ce=Number(h);return Number.isFinite(ce)&&ce>=0?ce:x};i("save-settings",{security:{rate_limits:{checkout_window_minutes:N(f.checkoutWindowMinutes,15),checkout_ip_limit:N(f.checkoutIpLimit,10),checkout_email_limit:N(f.checkoutEmailLimit,5),checkout_session_limit:N(f.checkoutSessionLimit,15),offline_window_minutes:N(f.offlineWindowMinutes,240),offline_ip_limit:N(f.offlineIpLimit,10),offline_email_limit:N(f.offlineEmailLimit,5)}}})},Y=()=>{var N;w((N=o.values)!=null?N:{})};Ue(()=>o.saving,(N,h)=>{var x;h&&!N&&!o.error&&w((x=o.values)!=null?x:{})}),Ue(()=>m.baseCurrency,N=>{if(typeof N=="string"){const h=N.replace(/[^A-Za-z]/g,"").toUpperCase();h!==N&&(m.baseCurrency=h)}}),Ue(()=>c.config,N=>{K(N!=null?N:{})},{immediate:!0}),Ue(()=>c.saving,(N,h)=>{var x;h&&!N&&!c.error&&K((x=c.config)!=null?x:{})});const R=()=>i("refresh-payments"),ne=()=>{const N=JSON.parse(JSON.stringify(l));i("save-payments",N),i("save-settings",{payments:{configured:m.paymentsConfigured}})},de=()=>{var N;K((N=c.config)!=null?N:{})},ge=()=>i("refresh-settings"),J=()=>{i("save-settings",{visual:{primary_color:g.primaryColor,text_color:g.textColor,surface_color:g.surfaceColor,border_color:g.borderColor,muted_color:g.mutedColor}})},j=()=>{var h,x,ce,Z,q,ee,z;const N=(x=(h=o.values)==null?void 0:h.visual)!=null?x:{};Object.assign(g,{primaryColor:(ce=N.primary_color)!=null?ce:"",textColor:(Z=N.text_color)!=null?Z:"",surfaceColor:(q=N.surface_color)!=null?q:"",borderColor:(ee=N.border_color)!=null?ee:"",mutedColor:(z=N.muted_color)!=null?z:""})};return(N,h)=>(T(),v("section",Eb,[a("header",Cb,[a("div",null,[a("h2",Sb,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),a("p",bb,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),a("nav",Ab,[a("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="general"}]),onClick:h[0]||(h[0]=x=>p.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),m.showAdvancedMode?(T(),v("button",{key:0,type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="security"}]),onClick:h[1]||(h[1]=x=>p.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):ie("",!0),a("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="payments"}]),onClick:h[2]||(h[2]=x=>p.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),a("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="visual"}]),onClick:h[3]||(h[3]=x=>p.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),p.value==="general"?(T(),v("div",Tb,[a("header",yb,[a("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,Rb)]),r(o).error?(T(),v("div",Ob,d(r(o).error),1)):r(o).loading?(T(),v("div",xb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(T(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:ht($,["prevent"])},[a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),a("div",vb,[a("label",Nb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),Q(a("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[4]||(h[4]=x=>m.storeName=x),maxlength:"190"},null,512),[[pe,m.storeName,void 0,{trim:!0}]])]),a("div",Pb,[a("label",Mb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),Q(a("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":h[5]||(h[5]=x=>m.storeEmail=x)},null,512),[[pe,m.storeEmail,void 0,{trim:!0}]])]),a("div",Ib,[a("label",kb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),Q(a("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[6]||(h[6]=x=>m.storePhone=x),maxlength:"64"},null,512),[[pe,m.storePhone,void 0,{trim:!0}]])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),a("div",$b,[a("label",wb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),Q(a("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":h[7]||(h[7]=x=>m.baseCurrency=x),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[pe,m.baseCurrency,void 0,{trim:!0}]]),a("p",Lb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),a("div",Db,[a("label",Ub,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),Q(a("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[8]||(h[8]=x=>m.checkoutPhoneRequired=x)},null,512),[[ct,m.checkoutPhoneRequired]]),a("p",Yb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),a("div",Xb,[a("label",Fb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),Q(a("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":h[9]||(h[9]=x=>m.categoryPageSize=x)},null,512),[[pe,m.categoryPageSize,void 0,{number:!0}]]),a("p",Gb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),a("div",Vb,[a("label",Hb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),Q(a("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":h[10]||(h[10]=x=>m.categoryPaginationMode=x)},[a("option",Bb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),a("option",Kb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[mt,m.categoryPaginationMode]]),a("p",jb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),a("div",Jb,[a("label",Wb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),Q(a("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[11]||(h[11]=x=>m.autoSendOrderEmails=x)},null,512),[[ct,m.autoSendOrderEmails]]),a("p",qb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),a("div",zb,[a("label",Qb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),Q(a("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[12]||(h[12]=x=>m.staleOrderCleanupEnabled=x)},null,512),[[ct,m.staleOrderCleanupEnabled]]),a("p",Zb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),m.staleOrderCleanupEnabled?(T(),v("div",eA,[a("label",tA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),Q(a("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":h[13]||(h[13]=x=>m.staleOrderHours=x)},null,512),[[pe,m.staleOrderHours,void 0,{number:!0}]]),a("p",nA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):ie("",!0)]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),a("div",sA,[a("label",aA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),Q(a("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[14]||(h[14]=x=>m.showAdvancedMode=x)},null,512),[[ct,m.showAdvancedMode]]),a("p",iA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),r(o).message?(T(),v("div",oA,d(r(o).message),1)):ie("",!0),a("div",rA,[a("button",{class:"nxp-ec-btn",type:"button",onClick:U,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,lA),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,cA)])],32))])):p.value==="security"&&m.showAdvancedMode?(T(),v("div",dA,[a("header",uA,[a("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,pA)]),r(o).error?(T(),v("div",_A,d(r(o).error),1)):(T(),v("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:ht(G,["prevent"])},[a("p",fA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),a("div",mA,[a("div",hA,[a("label",gA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),Q(a("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[15]||(h[15]=x=>f.checkoutWindowMinutes=x)},null,512),[[pe,f.checkoutWindowMinutes,void 0,{number:!0}]]),a("p",EA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),a("div",CA,[a("label",SA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),Q(a("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[16]||(h[16]=x=>f.offlineWindowMinutes=x)},null,512),[[pe,f.offlineWindowMinutes,void 0,{number:!0}]]),a("p",bA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),a("div",AA,[a("div",TA,[a("label",yA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),Q(a("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[17]||(h[17]=x=>f.checkoutIpLimit=x)},null,512),[[pe,f.checkoutIpLimit,void 0,{number:!0}]])]),a("div",RA,[a("label",OA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),Q(a("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[18]||(h[18]=x=>f.checkoutEmailLimit=x)},null,512),[[pe,f.checkoutEmailLimit,void 0,{number:!0}]])]),a("div",xA,[a("label",vA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),Q(a("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[19]||(h[19]=x=>f.checkoutSessionLimit=x)},null,512),[[pe,f.checkoutSessionLimit,void 0,{number:!0}]])])]),a("div",NA,[a("div",PA,[a("label",MA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),Q(a("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[20]||(h[20]=x=>f.offlineIpLimit=x)},null,512),[[pe,f.offlineIpLimit,void 0,{number:!0}]])]),a("div",IA,[a("label",kA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),Q(a("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[21]||(h[21]=x=>f.offlineEmailLimit=x)},null,512),[[pe,f.offlineEmailLimit,void 0,{number:!0}]])])]),r(o).message?(T(),v("div",$A,d(r(o).message),1)):ie("",!0),a("div",wA,[a("button",{class:"nxp-ec-btn",type:"button",onClick:Y,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,LA),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,DA)])],32))])):p.value==="payments"?(T(),v("div",UA,[a("header",YA,[a("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),a("div",XA,[a("button",{class:"nxp-ec-btn",type:"button",onClick:R,disabled:r(c).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,FA)])]),r(c).error?(T(),v("div",GA,d(r(c).error),1)):r(c).loading?(T(),v("div",VA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(T(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:ht(ne,["prevent"])},[a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),a("div",HA,[a("label",BA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),Q(a("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[22]||(h[22]=x=>l.stripe.publishable_key=x)},null,512),[[pe,l.stripe.publishable_key,void 0,{trim:!0}]])]),a("div",KA,[a("label",jA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),Q(a("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":h[23]||(h[23]=x=>l.stripe.secret_key=x),autocomplete:"off"},null,512),[[pe,l.stripe.secret_key,void 0,{trim:!0}]])]),a("div",JA,[a("label",WA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),Q(a("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":h[24]||(h[24]=x=>l.stripe.webhook_secret=x),autocomplete:"off"},null,512),[[pe,l.stripe.webhook_secret,void 0,{trim:!0}]]),a("p",qA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),a("div",zA,[a("label",QA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Q(a("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":h[25]||(h[25]=x=>l.stripe.mode=x)},[a("option",ZA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),a("option",eT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[mt,l.stripe.mode]])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),a("div",tT,[a("label",nT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),Q(a("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[26]||(h[26]=x=>l.paypal.client_id=x)},null,512),[[pe,l.paypal.client_id,void 0,{trim:!0}]])]),a("div",sT,[a("label",aT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),Q(a("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":h[27]||(h[27]=x=>l.paypal.client_secret=x),autocomplete:"off"},null,512),[[pe,l.paypal.client_secret,void 0,{trim:!0}]])]),a("div",iT,[a("label",oT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),Q(a("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[28]||(h[28]=x=>l.paypal.webhook_id=x)},null,512),[[pe,l.paypal.webhook_id,void 0,{trim:!0}]]),a("p",rT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),a("div",lT,[a("label",cT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Q(a("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":h[29]||(h[29]=x=>l.paypal.mode=x)},[a("option",dT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),a("option",uT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[mt,l.paypal.mode]])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),a("div",pT,[a("label",_T,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),Q(a("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":h[30]||(h[30]=x=>l.cod.enabled=x)},null,512),[[ct,l.cod.enabled]])]),a("div",fT,[a("label",mT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),Q(a("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[31]||(h[31]=x=>l.cod.label=x),placeholder:"Cash on delivery"},null,512),[[pe,l.cod.label,void 0,{trim:!0}]])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),a("div",hT,[a("label",gT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),Q(a("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":h[32]||(h[32]=x=>l.bank_transfer.enabled=x)},null,512),[[ct,l.bank_transfer.enabled]])]),a("div",ET,[a("label",CT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),Q(a("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[33]||(h[33]=x=>l.bank_transfer.label=x),placeholder:"Bank transfer"},null,512),[[pe,l.bank_transfer.label,void 0,{trim:!0}]])]),a("div",ST,[a("label",bT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),Q(a("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":h[34]||(h[34]=x=>l.bank_transfer.instructions=x),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,AT),[[pe,l.bank_transfer.instructions]]),a("p",TT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),a("div",yT,[a("div",RT,[a("label",OT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),Q(a("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[35]||(h[35]=x=>l.bank_transfer.account_name=x)},null,512),[[pe,l.bank_transfer.account_name,void 0,{trim:!0}]])]),a("div",xT,[a("label",vT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),Q(a("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[36]||(h[36]=x=>l.bank_transfer.iban=x),maxlength:"34"},null,512),[[pe,l.bank_transfer.iban,void 0,{trim:!0}]])]),a("div",NT,[a("label",PT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),Q(a("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[37]||(h[37]=x=>l.bank_transfer.bic=x),maxlength:"11"},null,512),[[pe,l.bank_transfer.bic,void 0,{trim:!0}]])])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),a("div",MT,[a("label",IT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),Q(a("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[38]||(h[38]=x=>m.paymentsConfigured=x)},null,512),[[ct,m.paymentsConfigured]]),a("p",kT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),r(c).message?(T(),v("div",$T,d(r(c).message),1)):ie("",!0),a("div",wT,[a("button",{class:"nxp-ec-btn",type:"button",onClick:de,disabled:r(c).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,LT),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(c).saving},d(r(c).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,DT)])],32))])):p.value==="visual"?(T(),v("div",UT,[a("header",YT,[a("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:ge,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,XT)]),r(o).error?(T(),v("div",FT,d(r(o).error),1)):r(o).loading?(T(),v("div",GT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(T(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:ht(J,["prevent"])},[a("p",VT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),a("p",HT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),a("div",BT,[a("div",KT,[a("label",jT,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),a("div",JT,[a("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:g.primaryColor||k.value.primary,onInput:h[39]||(h[39]=x=>g.primaryColor=x.target.value)},null,40,WT),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[40]||(h[40]=x=>g.primaryColor=x),placeholder:k.value.primary,maxlength:"7"},null,8,qT),[[pe,g.primaryColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[41]||(h[41]=x=>g.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),a("div",zT,[a("label",QT,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),a("div",ZT,[a("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:g.textColor||k.value.text,onInput:h[42]||(h[42]=x=>g.textColor=x.target.value)},null,40,ey),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[43]||(h[43]=x=>g.textColor=x),placeholder:k.value.text,maxlength:"7"},null,8,ty),[[pe,g.textColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[44]||(h[44]=x=>g.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),a("div",ny,[a("label",sy,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),a("div",ay,[a("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:g.surfaceColor||k.value.surface,onInput:h[45]||(h[45]=x=>g.surfaceColor=x.target.value)},null,40,iy),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[46]||(h[46]=x=>g.surfaceColor=x),placeholder:k.value.surface,maxlength:"7"},null,8,oy),[[pe,g.surfaceColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[47]||(h[47]=x=>g.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),a("div",ry,[a("label",ly,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),a("div",cy,[a("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:g.borderColor||k.value.border,onInput:h[48]||(h[48]=x=>g.borderColor=x.target.value)},null,40,dy),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[49]||(h[49]=x=>g.borderColor=x),placeholder:k.value.border,maxlength:"7"},null,8,uy),[[pe,g.borderColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[50]||(h[50]=x=>g.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),a("div",py,[a("label",_y,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),a("div",fy,[a("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:g.mutedColor||k.value.muted,onInput:h[51]||(h[51]=x=>g.mutedColor=x.target.value)},null,40,my),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[52]||(h[52]=x=>g.mutedColor=x),placeholder:k.value.muted,maxlength:"7"},null,8,hy),[[pe,g.mutedColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[53]||(h[53]=x=>g.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),a("div",gy,[a("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),a("div",{class:"nxp-ec-preview-box",style:Mt(V.value)},[a("button",Ey,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),a("p",Cy,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),a("p",Sy,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),r(o).message?(T(),v("div",by,d(r(o).message),1)):ie("",!0),a("div",Ay,[a("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,Ty),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,yy)])],32))])):ie("",!0)]))}},[["__scopeId","data-v-28d59a61"]]),Oy={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},xy={class:"nxp-ec-admin-panel__header"},vy={class:"nxp-ec-admin-panel__title"},Ny={class:"nxp-ec-admin-panel__lead"},Py={class:"nxp-ec-admin-panel__actions"},My=["disabled","title","aria-label"],Iy={class:"nxp-ec-sr-only"},ky={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},$y={key:1,class:"nxp-ec-admin-panel__loading"},wy={key:2,class:"nxp-ec-admin-panel__body"},Ly={class:"nxp-ec-admin-panel__table"},Dy={class:"nxp-ec-admin-table"},Uy={scope:"col"},Yy={scope:"col"},Xy={scope:"col"},Fy={scope:"col"},Gy={scope:"col"},Vy={key:0},Hy={colspan:"6"},By={scope:"row",class:"nxp-ec-admin-table__primary"},Ky=["data-label"],jy=["data-label"],Jy=["data-label"],Wy=["data-label"],qy={class:"nxp-ec-admin-table__actions"},zy=["onClick","title","aria-label"],Qy={class:"nxp-ec-sr-only"},Zy=["onClick","title","aria-label"],eR={class:"nxp-ec-sr-only"},tR={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},nR={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},sR={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},aR={class:"nxp-ec-admin-panel__sidebar-header"},iR=["title","aria-label"],oR={class:"nxp-ec-sr-only"},rR={class:"nxp-ec-form-field"},lR={class:"nxp-ec-form-label",for:"tax-country"},cR=["placeholder"],dR={class:"nxp-ec-form-help"},uR={class:"nxp-ec-form-field"},pR={class:"nxp-ec-form-label",for:"tax-region"},_R=["placeholder"],fR={class:"nxp-ec-form-help"},mR={class:"nxp-ec-form-field"},hR={class:"nxp-ec-form-label",for:"tax-rate"},gR={class:"nxp-ec-input-group"},ER={class:"nxp-ec-form-field nxp-ec-form-field--inline"},CR={class:"nxp-ec-form-label",for:"tax-inclusive"},SR={class:"nxp-ec-form-help"},bR={class:"nxp-ec-form-field"},AR={class:"nxp-ec-form-label",for:"tax-priority"},TR={class:"nxp-ec-form-help"},yR={class:"nxp-ec-modal__actions"},RR=["disabled"],OR=["disabled"],xR=["disabled"],vR=dt({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=Xe(!1),c=Ie({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),u=()=>i("refresh"),p=()=>{l(),o.value=!0},m=V=>{Object.assign(c,{id:V.id,country:V.country,region:V.region,rate:V.rate,inclusive:V.inclusive,priority:V.priority}),o.value=!0},f=()=>{o.value=!1,l()},l=()=>{Object.assign(c,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},g=()=>{i("save",{id:c.id||void 0,country:c.country,region:c.region,rate:c.rate,inclusive:c.inclusive,priority:c.priority})},k=V=>{const w=n("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(w)&&(i("delete",[V.id]),c.id===V.id&&f())};return Ue(()=>s.state.saving,(V,w)=>{w&&!V&&!s.state.error&&f()}),(V,w)=>(T(),v("section",Oy,[a("header",xy,[a("div",null,[a("h2",vy,d(r(n)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),a("p",Ny,d(r(n)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),a("div",Py,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[w[6]||(w[6]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",Iy,d(r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,My),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[w[7]||(w[7]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(T(),v("div",ky,d(e.state.error),1)):ie("",!0),e.state.loading?(T(),v("div",$y,d(r(n)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(T(),v("div",wy,[a("div",Ly,[a("table",Dy,[a("thead",null,[a("tr",null,[a("th",Uy,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),a("th",Yy,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),a("th",Xy,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),a("th",Fy,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),a("th",Gy,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),w[8]||(w[8]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?ie("",!0):(T(),v("tr",Vy,[a("td",Hy,d(r(n)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,K=>{var L;return T(),v("tr",{key:K.id,class:Me({"is-active":c.id===K.id})},[a("th",By,d(K.country),1),a("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_REGION","Region")},d(K.region||""),9,Ky),a("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_RATE","Rate")},d(((L=K.rate)!=null?L:0).toFixed(2))+"%",9,jy),a("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[a("span",{class:Me(["nxp-ec-badge",{"is-active":K.inclusive}])},[a("i",{class:Me(K.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ye(" "+d(K.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,Jy),a("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},d(K.priority),9,Wy),a("td",qy,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:$=>m(K),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[w[9]||(w[9]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",Qy,d(r(n)("JEDIT","Edit")),1)],8,zy),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:$=>k(K),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[w[10]||(w[10]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",eR,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Zy)])],2)}),128))])])]),o.value?(T(),v("div",tR,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:f}),a("div",nR,[a("aside",sR,[a("header",aR,[a("h3",null,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:f,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[w[11]||(w[11]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",oR,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,iR)]),a("form",{class:"nxp-ec-form",onSubmit:ht(g,["prevent"]),autocomplete:"off"},[a("div",rR,[a("label",lR,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),Q(a("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w[0]||(w[0]=K=>c.country=K),maxlength:"2",required:"",placeholder:r(n)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,cR),[[pe,c.country,void 0,{trim:!0}]]),a("p",dR,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),a("div",uR,[a("label",pR,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),Q(a("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w[1]||(w[1]=K=>c.region=K),placeholder:r(n)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,_R),[[pe,c.region,void 0,{trim:!0}]]),a("p",fR,d(r(n)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),a("div",mR,[a("label",hR,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),a("div",gR,[Q(a("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":w[2]||(w[2]=K=>c.rate=K),required:""},null,512),[[pe,c.rate,void 0,{number:!0}]]),w[12]||(w[12]=a("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),a("div",ER,[a("label",CR,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),Q(a("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":w[3]||(w[3]=K=>c.inclusive=K)},null,512),[[ct,c.inclusive]]),a("p",SR,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),a("div",bR,[a("label",AR,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),Q(a("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":w[4]||(w[4]=K=>c.priority=K)},null,512),[[pe,c.priority,void 0,{number:!0}]]),a("p",TR,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),a("footer",yR,[a("button",{class:"nxp-ec-btn",type:"button",onClick:f,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,RR),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,OR)]),c.id?(T(),v("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:w[5]||(w[5]=K=>k(c)),disabled:e.state.saving},[w[13]||(w[13]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,xR)):ie("",!0)],32)])])])):ie("",!0)]))]))}},[["__scopeId","data-v-da8d9dda"]]),NR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},PR={class:"nxp-ec-admin-panel__header"},MR={class:"nxp-ec-admin-panel__title"},IR={class:"nxp-ec-admin-panel__lead"},kR={class:"nxp-ec-admin-panel__actions"},$R=["disabled","title","aria-label"],wR={class:"nxp-ec-sr-only"},LR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},DR={key:1,class:"nxp-ec-admin-panel__loading"},UR={key:2,class:"nxp-ec-admin-panel__body"},YR={class:"nxp-ec-admin-panel__table"},XR={class:"nxp-ec-admin-table"},FR={scope:"col"},GR={scope:"col"},VR={scope:"col"},HR={scope:"col"},BR={scope:"col"},KR={scope:"col"},jR={key:0},JR={colspan:"7"},WR={scope:"row",class:"nxp-ec-admin-table__primary"},qR=["data-label"],zR=["data-label"],QR=["data-label"],ZR=["data-label"],eO=["data-label"],tO={class:"nxp-ec-admin-table__actions"},nO=["onClick","title","aria-label"],sO={class:"nxp-ec-sr-only"},aO=["onClick","title","aria-label"],iO={class:"nxp-ec-sr-only"},oO={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},rO={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},lO={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},cO={class:"nxp-ec-admin-panel__sidebar-header"},dO=["title","aria-label"],uO={class:"nxp-ec-sr-only"},pO={class:"nxp-ec-form-field"},_O={class:"nxp-ec-form-label",for:"shipping-name"},fO=["placeholder"],mO={class:"nxp-ec-form-field"},hO={class:"nxp-ec-form-label",for:"shipping-type"},gO={value:"flat"},EO={value:"free_over"},CO={class:"nxp-ec-form-help"},SO={class:"nxp-ec-form-field"},bO={class:"nxp-ec-form-label",for:"shipping-price"},AO={class:"nxp-ec-input-group"},TO={class:"nxp-ec-input-group__prefix"},yO={key:0,class:"nxp-ec-form-field"},RO={class:"nxp-ec-form-label",for:"shipping-threshold"},OO={class:"nxp-ec-input-group"},xO={class:"nxp-ec-input-group__prefix"},vO={class:"nxp-ec-form-help"},NO={class:"nxp-ec-form-field"},PO={class:"nxp-ec-form-label",for:"shipping-regions"},MO=["placeholder"],IO={class:"nxp-ec-form-help"},kO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$O={class:"nxp-ec-form-label",for:"shipping-active"},wO={class:"nxp-ec-form-help"},LO={class:"nxp-ec-modal__actions"},DO=["disabled"],UO=["disabled"],YO=["disabled"],XO=dt({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=fe(()=>{const L=s.baseCurrency;return typeof L=="string"&&L.trim()!==""?L.trim().toUpperCase():"USD"}),c=Xe(!1),u=Ie({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),p=()=>i("refresh"),m=()=>{g(),c.value=!0},f=L=>{var $,U,G;Object.assign(u,{id:L.id,name:L.name,type:L.type,price:(U=L.price)!=null?U:(($=L.price_cents)!=null?$:0)/100,threshold:L.threshold!==null&&L.threshold!==void 0?L.threshold:((G=L.threshold_cents)!=null?G:0)/100,regions:L.regions&&L.regions.length?L.regions.join(", "):"",active:L.active}),c.value=!0},l=()=>{c.value=!1,g()},g=()=>{Object.assign(u,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},k=()=>{const L={id:u.id||void 0,name:u.name,type:u.type,price:u.price,threshold:u.type==="free_over"?u.threshold:0,regions:u.regions,active:u.active};i("save",L)},V=L=>{const $=n("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm($)&&(i("delete",[L.id]),u.id===L.id&&l())};Ue(()=>s.state.saving,(L,$)=>{$&&!L&&!s.state.error&&l()});const w=(L,$)=>{const U=(Number(L)||0)/100,G=($||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:G}).format(U)}catch(Y){return`${G} ${U.toFixed(2)}`}},K=L=>L==="free_over"?n("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):n("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(L,$)=>(T(),v("section",NR,[a("header",PR,[a("div",null,[a("h2",MR,d(r(n)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),a("p",IR,d(r(n)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),a("div",kR,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[$[7]||($[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",wR,d(r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,$R),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:m},[$[8]||($[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(T(),v("div",LR,d(e.state.error),1)):ie("",!0),e.state.loading?(T(),v("div",DR,d(r(n)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(T(),v("div",UR,[a("div",YR,[a("table",XR,[a("thead",null,[a("tr",null,[a("th",FR,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),a("th",GR,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),a("th",VR,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),a("th",HR,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),a("th",BR,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),a("th",KR,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),$[9]||($[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?ie("",!0):(T(),v("tr",jR,[a("td",JR,d(r(n)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(T(!0),v(Ce,null,Oe(e.state.items,U=>(T(),v("tr",{key:U.id,class:Me({"is-active":u.id===U.id})},[a("th",WR,d(U.name),1),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},d(K(U.type)),9,qR),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},d(w(U.price_cents,o.value)),9,zR),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},d(U.type==="free_over"?w(U.threshold_cents,o.value):""),9,QR),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},d(U.regions&&U.regions.length?U.regions.join(", "):r(n)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,ZR),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[a("span",{class:Me(["nxp-ec-badge",{"is-active":U.active}])},[a("i",{class:Me(U.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ye(" "+d(U.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,eO),a("td",tO,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:G=>f(U),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[$[10]||($[10]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",sO,d(r(n)("JEDIT","Edit")),1)],8,nO),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:G=>V(U),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[$[11]||($[11]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",iO,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,aO)])],2))),128))])])]),c.value?(T(),v("div",oO,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:l}),a("div",rO,[a("aside",lO,[a("header",cO,[a("h3",null,d(u.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:l,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[$[12]||($[12]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",uO,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,dO)]),a("form",{class:"nxp-ec-form",onSubmit:ht(k,["prevent"]),autocomplete:"off"},[a("div",pO,[a("label",_O,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),Q(a("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[0]||($[0]=U=>u.name=U),required:"",placeholder:r(n)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,fO),[[pe,u.name,void 0,{trim:!0}]])]),a("div",mO,[a("label",hO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),Q(a("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":$[1]||($[1]=U=>u.type=U)},[a("option",gO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),a("option",EO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[mt,u.type]]),a("p",CO,d(u.type==="free_over"?r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),a("div",SO,[a("label",bO,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),a("div",AO,[a("span",TO,d(o.value),1),Q(a("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$[2]||($[2]=U=>u.price=U),required:""},null,512),[[pe,u.price,void 0,{number:!0}]])])]),u.type==="free_over"?(T(),v("div",yO,[a("label",RO,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),a("div",OO,[a("span",xO,d(o.value),1),Q(a("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$[3]||($[3]=U=>u.threshold=U),required:""},null,512),[[pe,u.threshold,void 0,{number:!0}]])]),a("p",vO,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):ie("",!0),a("div",NO,[a("label",PO,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),Q(a("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[4]||($[4]=U=>u.regions=U),placeholder:r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,MO),[[pe,u.regions,void 0,{trim:!0}]]),a("p",IO,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),a("div",kO,[a("label",$O,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),Q(a("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":$[5]||($[5]=U=>u.active=U)},null,512),[[ct,u.active]]),a("p",wO,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),a("footer",LO,[a("button",{class:"nxp-ec-btn",type:"button",onClick:l,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,DO),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,UO)]),u.id?(T(),v("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:$[6]||($[6]=U=>V(u)),disabled:e.state.saving},[$[13]||($[13]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,YO)):ie("",!0)],32)])])])):ie("",!0)]))]))}},[["__scopeId","data-v-d768fdbc"]]),FO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},GO={class:"nxp-ec-admin-panel__header"},VO={class:"nxp-ec-admin-panel__title"},HO={class:"nxp-ec-admin-panel__lead"},BO={class:"nxp-ec-admin-panel__actions"},KO=["placeholder","aria-label"],jO=["value"],JO={value:""},WO=["value"],qO=["disabled","title","aria-label"],zO={class:"nxp-ec-sr-only"},QO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ZO={key:1,class:"nxp-ec-admin-panel__body"},ex={key:2,class:"nxp-ec-admin-panel__body"},tx={class:"nxp-ec-admin-panel__table"},nx={class:"nxp-ec-admin-table"},sx={scope:"col"},ax={scope:"col"},ix={scope:"col"},ox={scope:"col"},rx={scope:"col"},lx={key:0},cx={colspan:"5"},dx=["data-label"],ux=["data-label"],px={class:"nxp-ec-log-entity"},_x={class:"nxp-ec-log-entity-id"},fx=["data-label"],mx=["data-label"],hx=["data-label"],gx={class:"nxp-ec-log-context"},Ex={key:0,class:"nxp-ec-admin-pagination"},Cx=["disabled"],Sx={class:"nxp-ec-admin-pagination__status"},bx=["disabled"],Ax=["title"],Tx=dt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=s.state,c=fe(()=>{const K=new Set;return Array.isArray(o.items)&&o.items.forEach(L=>{L!=null&&L.entity_type&&K.add(L.entity_type)}),o.entity&&K.add(o.entity),Array.from(K).sort()}),u=()=>i("refresh"),p=()=>i("search"),m=K=>i("filter",K),f=K=>i("page",K),l=K=>{if(!K)return"";try{const L=new Date(K.replace(" ","T"));if(!Number.isNaN(L.getTime()))return L.toLocaleString()}catch(L){}return K},g=K=>{if(!K)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(K){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return K.charAt(0).toUpperCase()+K.slice(1)}},k=K=>{if(!(K!=null&&K.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const L=K.user.name||"",$=K.user.username||"";return L&&$?`${L} (${$})`:L||$||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},V=K=>{if(!K||Array.isArray(K)&&!K.length||typeof K=="object"&&!Object.keys(K).length)return"";try{return JSON.stringify(K,null,2)}catch(L){return String(K)}},w=K=>{if(!K)return"";try{const L=new Date(K),U=new Date-L,G=Math.floor(U/1e3),Y=Math.floor(G/60),R=Math.floor(Y/60);return G<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Y<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Y]):R<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[R]):L.toLocaleString()}catch(L){return K}};return(K,L)=>(T(),v("section",FO,[a("header",GO,[a("div",null,[a("h2",VO,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),a("p",HO,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),a("div",BO,[Q(a("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":L[0]||(L[0]=$=>r(o).search=$),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:zt(p,["enter"])},null,40,KO),[[pe,r(o).search]]),a("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(o).entity,onChange:L[1]||(L[1]=$=>m($.target.value)),"aria-label":"Entity filter"},[a("option",JO,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(T(!0),v(Ce,null,Oe(c.value,$=>(T(),v("option",{key:$,value:$},d(g($)),9,WO))),128))],40,jO),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(o).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[L[4]||(L[4]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",zO,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,qO)])]),r(o).error?(T(),v("div",QO,d(r(o).error),1)):ie("",!0),r(o).loading?(T(),v("div",ZO,[He(Dn,{type:"table",rows:5,columns:5})])):ie("",!0),r(o).loading?ie("",!0):(T(),v("div",ex,[a("div",tx,[a("table",nx,[a("thead",null,[a("tr",null,[a("th",sx,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),a("th",ax,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),a("th",ix,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),a("th",ox,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),a("th",rx,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),a("tbody",null,[r(o).items.length?ie("",!0):(T(),v("tr",lx,[a("td",cx,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(T(!0),v(Ce,null,Oe(r(o).items,$=>(T(),v("tr",{key:$.id},[a("td",{class:"nxp-ec-admin-table__primary","data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},d(l($.created)),9,dx),a("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[a("span",px,d(g($.entity_type)),1),a("span",_x,"#"+d($.entity_id),1)],8,ux),a("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},d($.action),9,fx),a("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},d(k($)),9,mx),a("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[a("pre",gx,d(V($.context)),1)],8,hx)]))),128))])]),r(o).pagination.pages>1?(T(),v("div",Ex,[a("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current<=1,onClick:L[2]||(L[2]=$=>f(r(o).pagination.current-1))},"  ",8,Cx),a("span",Sx,d(r(o).pagination.current)+" / "+d(r(o).pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current>=r(o).pagination.pages,onClick:L[3]||(L[3]=$=>f(r(o).pagination.current+1))},"  ",8,bx)])):ie("",!0)]),r(o).lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(o).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(w(r(o).lastUpdated)),9,Ax)):ie("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),yx={key:0,class:"nxp-ec-onboarding"},Rx={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},Ox={class:"nxp-ec-onboarding__header"},xx={class:"nxp-ec-onboarding__title"},vx={class:"nxp-ec-onboarding__lead"},Nx={class:"nxp-ec-onboarding__progress"},Px={class:"nxp-ec-onboarding__progress-bar"},Mx={class:"nxp-ec-onboarding__progress-label"},Ix={class:"nxp-ec-onboarding__steps"},kx={class:"nxp-ec-onboarding__step-main"},$x={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},wx={key:0,class:"fa-solid fa-circle-check"},Lx={key:1,class:"fa-regular fa-circle"},Dx={class:"nxp-ec-onboarding__step-actions"},Ux=["onClick"],Yx=dt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,i=fe(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=fe(()=>`${i.value}%`),o=fe(()=>{const c=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(c),String(t.steps.length)],"onboardingProgress")});return(c,u)=>e.visible?(T(),v("div",yx,[a("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>c.$emit("close"))}),a("section",Rx,[a("header",Ox,[a("div",null,[a("h2",xx,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),a("p",vx,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),a("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>c.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),a("div",Nx,[a("div",Px,[a("span",{style:Mt({width:n.value})},null,4)]),a("span",Mx,d(o.value),1)]),a("ol",Ix,[(T(!0),v(Ce,null,Oe(e.steps,p=>(T(),v("li",{key:p.id,class:Me({"is-complete":p.completed})},[a("div",kx,[a("span",$x,[p.completed?(T(),v("span",wx)):(T(),v("span",Lx))]),a("div",null,[a("h3",null,d(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),a("p",null,d(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),a("div",Dx,[p.link?(T(),v("button",{key:0,type:"button",class:Me(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:m=>c.$emit("navigate",p)},d(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,Ux)):ie("",!0)])],2))),128))])])])):ie("",!0)}},[["__scopeId","data-v-c2a94811"]]),Xx=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(o){}let i=String(e);return t.forEach(o=>{const c=o!=null?o:"";i=i.replace("%s",String(c))}),i},Fx=(e,t="",s=[])=>{var o;const i=(o=window==null?void 0:window.Joomla)==null?void 0:o.Text;let n=t||e;if(i&&typeof i._=="function"){const c=i._(e);c&&c!==e&&(n=c)}return Xx(n,s)};function Gx(e={}){const t=e||{},s=(n,o)=>{if(!n)return o;const c=t[n];return c!=null&&c!==""?c:o};return{__:(n,o="",c=[],u="")=>{const p=s(u,o);return Fx(n,p,c)}}}class Vx{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const i={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};i.headers={...i.headers,...s.headers||{}};const n=String(i.method||"GET").toUpperCase();let o=t;this.token&&(i.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(o=this.ensureTokenOnUrl(o)));const c=await fetch(o,i);let u=null;const p=await c.text();if(p)try{u=JSON.parse(p)}catch(m){}if(!c.ok){const m=new Error((u==null?void 0:u.message)||`Request failed with status ${c.status}`);throw m.code=c.status,m.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,m}if((u==null?void 0:u.success)===!1){const m=new Error(u.message||"Unknown API error");throw m.details=u.data||u.errors||null,m}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const i=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,i);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(i){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,i={}){const n={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,i={}){const n={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var g,k,V,w;const c=new URLSearchParams({limit:String(s),start:String(i)});n&&c.set("search",n);const u=`${t}&${c.toString()}`,m=(g=(await this.get(u,{signal:o})).data)!=null?g:{},f=(V=(k=m.items)!=null?k:m.data)!=null?V:[],l=(w=m.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCategories({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:i=0,search:n="",state:o="",signal:c}){var g,k,V,w;const u=this.mergeParams(t,{limit:s,start:i,search:n||void 0,state:o||void 0}),m=(g=(await this.get(u,{signal:c})).data)!=null?g:{},f=(V=(k=m.items)!=null?k:m.data)!=null?V:[],l=(w=m.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCustomers({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var l,g,k;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(l=(await this.get(c,{signal:o})).data)!=null?l:{},m=(g=p.items)!=null?g:[],f=(k=p.pagination)!=null?k:{total:0,limit:s,pages:0,current:0};return{items:m,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var o,c;const i=this.mergeParams(t,{email:s});return(c=(o=(await this.get(i)).data)==null?void 0:o.customer)!=null?c:null}async fetchCoupons({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?o:null}async updateCoupon({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchTaxRates({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?o:null}async updateTaxRate({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchShippingRules({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?o:null}async updateShippingRule({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchLogs({endpoint:t,limit:s=20,start:i=0,search:n="",entity:o="",signal:c}){var f,l,g;const u=this.mergeParams(t,{limit:s,start:i,search:n||void 0,entity:o||void 0}),m=(f=(await this.get(u,{signal:c})).data)!=null?f:{};return{items:(l=m.items)!=null?l:[],pagination:(g=m.pagination)!=null?g:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var i;return t?(i=(await this.get(t)).data)!=null?i:{}:{}}async fetchSettings({endpoint:t}){var i,n;return t?(n=(i=(await this.get(t)).data)==null?void 0:i.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,o;return(o=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?o:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:i=""}){var c,u;const n=this.mergeParams(t,{id:s||void 0,order_no:i||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.post(n,{state:i})).data)==null?void 0:c.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:i}){var c;const n={ids:s,state:i};return(c=(await this.post(t,n)).data)!=null?c:{}}async addOrderNote({endpoint:t,id:s,message:i}){var o,c;return(c=(o=(await this.post(t,{id:s,message:i})).data)==null?void 0:o.order)!=null?c:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:i}){var c,u;const n={id:s||void 0,order_no:i||void 0};return(u=(c=(await this.post(t,n)).data)==null?void 0:c.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:i=""}){var c,u;const n=this.mergeParams(t,{search:s||void 0,state:i||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:i}){var o,c;return(c=(o=(await this.post(t,{id:s,...i})).data)==null?void 0:o.order)!=null?c:null}async sendOrderEmail({endpoint:t,id:s,type:i}){var o,c;return(c=(o=(await this.post(t,{id:s,type:i})).data)==null?void 0:o.order)!=null?c:null}async recordTransaction({endpoint:t,id:s,amountCents:i,reference:n,note:o}){var u,p;return(p=(u=(await this.post(t,{id:s,amount_cents:i,reference:n||void 0,note:o||void 0})).data)==null?void 0:u.order)!=null?p:null}async createProduct({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateProduct({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:[]}async createCategory({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateCategory({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async gdprExport({endpoint:t,email:s}){var o,c;const i=this.mergeParams(t,{email:s});return(c=(o=(await this.get(i)).data)==null?void 0:o.export)!=null?c:null}async gdprAnonymise({endpoint:t,email:s}){var n,o,c,u;const i=await this.post(t,{email:s});return{affected:(o=(n=i.data)==null?void 0:n.affected)!=null?o:0,message:(u=(c=i.data)==null?void 0:c.message)!=null?u:""}}mergeParams(t,s={}){const i=new URLSearchParams;return Object.entries(s).forEach(([n,o])=>{o==null||o===""||i.set(n,String(o))}),i.toString()?`${t}${t.includes("?")?"&":"?"}${i.toString()}`:t}}const gt=e=>new Vx(e),io=typeof window!="undefined"&&window.performance;function oo(e){if(io)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function Hx(e,t,s){if(!io)return null;try{performance.measure(e,t,s);const i=performance.getEntriesByName(e,"measure")[0];if(i)return console.log(`[NXP EC Performance] ${e}: ${i.duration.toFixed(2)}ms`),i.duration}catch(i){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,i)}return null}const Cs=Ie({}),Bx=3e5;function Kx(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Ot(e,t=Bx){const s=Cs[e];return s?Kx(s,t)?s.data:(delete Cs[e],null):null}function Et(e,t){Cs[e]={data:t,timestamp:Date.now()}}function ke(e){delete Cs[e]}function xt(e){const t=Xe({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const c=`${e}-fetch-start`;return oo(c),c},endFetch:c=>{const u=`${e}-fetch-end`;oo(u);const p=Hx(`${e}-fetch`,c,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const ca=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,s);return i.searchParams.set("task",`api.products.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function jx({endpoints:e,token:t,autoload:s=!0,cacheTTL:i=3e5}){var R,ne,de,ge;const n=gt({token:t}),o=xt("products"),c=(R=e==null?void 0:e.list)!=null?R:"",u=(ne=e==null?void 0:e.create)!=null?ne:ca(c,"store"),p=(de=e==null?void 0:e.update)!=null?de:ca(c,"update"),m=(ge=e==null?void 0:e.delete)!=null?ge:ca(c,"delete"),f=typeof AbortController!="undefined",l=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),g=Xe(null),k=()=>{const J=l.pagination.current||1,j=l.pagination.limit||20,N=l.search.trim();return`products:page=${J}:limit=${j}:search=${N}`},V=async(J=!1)=>{var ce;if(!c){l.error="Products endpoint unavailable.",l.items=[];return}const j=k(),N=J?null:Ot(j,i);if(N){o.recordCacheHit(),l.items=N.items,l.pagination={...l.pagination,...N.pagination},l.lastUpdated=N.lastUpdated;return}o.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],g.value&&f&&g.value.abort();const h=f?new AbortController:null;g.value=h;const x=o.startFetch();try{const{items:Z,pagination:q}=await n.fetchProducts({endpoint:c,signal:h?h.signal:void 0,limit:l.pagination.limit,start:Math.max(0,(l.pagination.current-1)*l.pagination.limit),search:l.search.trim()});l.items=Z,l.pagination={...l.pagination,...q,current:q.current&&q.current>0?q.current:1},l.lastUpdated=new Date().toISOString(),Et(j,{items:Z,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Z){if((Z==null?void 0:Z.name)==="AbortError")return;l.error=(ce=Z==null?void 0:Z.message)!=null?ce:"Unknown error"}finally{o.endFetch(x),f&&g.value===h&&(g.value=null),l.loading=!1}},w=()=>{l.pagination.current=1,ke(k()),V(!0)},K=()=>{l.pagination.current=1,V()},L=J=>J?typeof J=="string"?J:typeof J=="object"&&J.message?String(J.message):String(J):"",$=(J,{setValidation:j=!1}={})=>{var N;if((J==null?void 0:J.code)===422&&j){const h=Array.isArray(J.details)?J.details:[J.details].filter(Boolean);l.validationErrors=h.map(L).filter(x=>x!=="");return}l.error=(N=J==null?void 0:J.message)!=null?N:"Unknown error"},U=async J=>{if(!u)throw new Error("Create endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const j=await n.createProduct({endpoint:u,data:J});return j&&(l.items=[j,...l.items],l.pagination.total+=1,ke(k())),j}catch(j){throw $(j,{setValidation:!0}),j}finally{l.saving=!1}},G=async(J,j)=>{if(!p)throw new Error("Update endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const N=await n.updateProduct({endpoint:p,id:J,data:j});if(N){const h=l.items.findIndex(x=>x.id===N.id);h!==-1&&l.items.splice(h,1,N),ke(k())}return N}catch(N){throw $(N,{setValidation:!0}),N}finally{l.saving=!1}},Y=async J=>{if(!m)throw new Error("Delete endpoint unavailable.");l.deleting=!0,l.validationErrors=[];try{const j=await n.deleteProducts({endpoint:m,ids:J});return j.length&&(l.items=l.items.filter(N=>!j.includes(N.id)),l.pagination.total=Math.max(0,l.pagination.total-j.length),ke(k())),j}catch(j){throw $(j),j}finally{l.deleting=!1}};return ot(()=>{s&&V()}),{state:l,loadProducts:V,refresh:w,search:K,createProduct:U,updateProduct:G,deleteProducts:Y,metrics:o.metrics}}function Jx({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var ne,de,ge,J,j,N,h,x,ce,Z,q,ee,z,oe;const o=gt({token:t}),c=xt("categories"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.create)!=null?de:u,m=(ge=e==null?void 0:e.update)!=null?ge:u,f=(J=e==null?void 0:e.delete)!=null?J:u,l=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(x=(h=(j=s.pagination)==null?void 0:j.total)!=null?h:(N=s.items)==null?void 0:N.length)!=null?x:0,limit:(Z=(ce=s.pagination)==null?void 0:ce.limit)!=null?Z:20,pages:(ee=(q=s.pagination)==null?void 0:q.pages)!=null?ee:0,current:(oe=(z=s.pagination)==null?void 0:z.current)!=null?oe:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const F=l.pagination.current||1,W=l.pagination.limit||20,te=l.search.trim();return`categories:page=${F}:limit=${W}:search=${te}`},w=async(F=!1)=>{var le;if(!u){l.error="Categories endpoint unavailable.",l.items=[];return}const W=V(),te=F?null:Ot(W,n);if(te){c.recordCacheHit(),l.items=te.items,l.pagination={...l.pagination,...te.pagination},l.lastUpdated=te.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],k.value&&g&&k.value.abort();const re=g?new AbortController:null;k.value=re;const _e=c.startFetch();try{const he=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Re,pagination:Te}=await o.fetchCategories({endpoint:u,limit:l.pagination.limit,start:he,search:l.search.trim(),signal:re?re.signal:void 0});l.items=Re,l.pagination={...l.pagination,...Te,current:Te.current&&Te.current>0?Te.current:1},l.lastUpdated=new Date().toISOString(),Et(W,{items:Re,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(he){if((he==null?void 0:he.name)==="AbortError")return;l.error=(le=he==null?void 0:he.message)!=null?le:"Unknown error"}finally{c.endFetch(_e),g&&k.value===re&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=()=>{l.pagination.current=1,w()},$=F=>{const W=Number(F);Number.isNaN(W)||W<1||W===l.pagination.current||(l.pagination.current=W,w(!0))},U=(F,{validation:W=!1}={})=>{var te;if(W&&(F==null?void 0:F.code)===422){const re=F.details,_e=Array.isArray(re)?re:[re].filter(Boolean);l.validationErrors=_e.map(le=>le?typeof le=="string"?le:typeof le=="object"&&le.message?String(le.message):String(le):"").filter(Boolean);return}l.error=(te=F==null?void 0:F.message)!=null?te:"Unknown error"},G=async F=>{if(!p||!m)throw new Error("Category endpoints unavailable.");l.saving=!0,l.error="",l.validationErrors=[];try{let W=null;return F.id?W=await o.updateCategory({endpoint:m,id:F.id,data:F}):W=await o.createCategory({endpoint:p,data:F}),W&&(ke(V()),await w()),W}catch(W){throw U(W,{validation:!0}),W}finally{l.saving=!1}},Y=async F=>{if(!Array.isArray(F)||!F.length||!f)return 0;l.deleting=!0,l.error="";try{const W=await o.deleteCategories({endpoint:f,ids:F});return W&&(ke(V()),await w()),W}catch(W){throw U(W),W}finally{l.deleting=!1}},R=async()=>{if(!u)return[];try{const{items:F}=await o.fetchCategories({endpoint:u,limit:200,start:0,search:""});return F}catch(F){return[]}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadCategories:w,refresh:K,search:L,goToPage:$,saveCategory:G,deleteCategories:Y,loadOptions:R,metrics:c.metrics}}const Yt=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,s);return i.searchParams.set("task",`api.orders.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function Wx({endpoints:e,token:t,states:s=[],preload:i={},autoload:n=!0,cacheTTL:o=3e5}){var Re,Te,Pe,Be,C,I,B,A,b,X,E,_,S,P;const c=gt({token:t}),u=xt("orders"),p=(Re=e==null?void 0:e.list)!=null?Re:"",m=(Te=e==null?void 0:e.show)!=null?Te:Yt(p,"show"),f=(Pe=e==null?void 0:e.transition)!=null?Pe:Yt(p,"transition"),l=(Be=e==null?void 0:e.bulkTransition)!=null?Be:Yt(p,"bulkTransition"),g=(C=e==null?void 0:e.note)!=null?C:Yt(p,"note"),k=(I=e==null?void 0:e.tracking)!=null?I:Yt(p,"tracking"),V=(B=e==null?void 0:e.invoice)!=null?B:Yt(p,"invoice"),w=(A=e==null?void 0:e.export)!=null?A:Yt(p,"export"),K=(b=e==null?void 0:e.sendEmail)!=null?b:Yt(p,"sendEmail"),L=(X=e==null?void 0:e.recordTransaction)!=null?X:Yt(p,"recordTransaction"),$=typeof AbortController!="undefined",U=Xe(null),G=Array.isArray(i==null?void 0:i.items)?i.items:[],Y=i!=null&&i.pagination&&typeof i.pagination=="object"?i.pagination:{},R=Ie({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...G],pagination:{total:(E=Y.total)!=null?E:G.length,limit:(_=Y.limit)!=null?_:20,pages:(S=Y.pages)!=null?S:0,current:(P=Y.current)!=null?P:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),ne=()=>{const y=R.pagination.current||1,O=R.pagination.limit||20,H=R.search.trim(),M=R.filterState||"";return`orders:page=${y}:limit=${O}:search=${H}:state=${M}`},de=async(y=!1)=>{var ue;if(!p){R.error="Orders endpoint unavailable.",R.items=[];return}const O=ne(),H=y?null:Ot(O,o);if(H){u.recordCacheHit(),R.items=H.items,R.pagination={...R.pagination,...H.pagination},R.lastUpdated=H.lastUpdated;return}u.recordCacheMiss(),R.loading=!0,R.error="",U.value&&$&&U.value.abort();const M=$?new AbortController:null;U.value=M;const ae=u.startFetch();try{const me=Math.max(0,(R.pagination.current-1)*R.pagination.limit),{items:Ae,pagination:xe}=await c.fetchOrders({endpoint:p,limit:R.pagination.limit,start:me,search:R.search.trim(),state:R.filterState,signal:M?M.signal:void 0});R.items=Ae,R.pagination={...R.pagination,...xe,current:xe.current&&xe.current>0?xe.current:1},R.selection.clear(),R.lastUpdated=new Date().toISOString(),Et(O,{items:Ae,pagination:R.pagination,lastUpdated:R.lastUpdated})}catch(me){if((me==null?void 0:me.name)==="AbortError")return;R.error=(ue=me==null?void 0:me.message)!=null?ue:"Unknown error"}finally{u.endFetch(ae),$&&U.value===M&&(U.value=null),R.loading=!1}},ge=()=>{R.pagination.current=1,ke(ne()),de(!0)},J=()=>{R.pagination.current=1,de()},j=y=>{R.filterState=y||"",R.pagination.current=1,de()},N=y=>{const O=Number(y);Number.isNaN(O)||O<1||O===R.pagination.current||(R.pagination.current=O,de(!0))},h=()=>{R.selection.clear()},x=y=>{y&&(R.selection.has(y)?R.selection.delete(y):R.selection.add(y))},ce=()=>{R.pagination.current>=R.pagination.pages||(R.pagination.current+=1,de(!0))},Z=()=>{R.pagination.current<=1||(R.pagination.current-=1,de(!0))},q=async(y,O="")=>{var H;if(!m)return null;try{return await c.fetchOrder({endpoint:m,id:y,orderNumber:O})}catch(M){return R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",null}},ee=async y=>{var O,H,M;if(!y){R.activeOrder=null;return}R.transitionError="";try{const ae=await q(y.id,y.order_no);R.activeOrder=ae||{...y,items:Array.isArray(y.items)?y.items:[],transactions:Array.isArray(y.transactions)?y.transactions:[],timeline:Array.isArray(y.timeline)?y.timeline:[],billing:(O=y.billing)!=null?O:{}}}catch(ae){R.transitionError=(H=ae==null?void 0:ae.message)!=null?H:"Unknown error",R.activeOrder={...y,items:Array.isArray(y.items)?y.items:[],transactions:Array.isArray(y.transactions)?y.transactions:[],timeline:Array.isArray(y.timeline)?y.timeline:[],billing:(M=y.billing)!=null?M:{}}}},z=()=>{R.transitionError="",R.activeOrder=null},oe=y=>{if(!(y!=null&&y.id))return;const O=R.items.findIndex(H=>H.id===y.id);O!==-1&&R.items.splice(O,1,y)},F=async(y,O)=>{var H;if(!f)throw new Error("Transition endpoint unavailable.");R.saving=!0,R.transitionError="";try{const M=await c.transitionOrder({endpoint:f,id:y,state:O});return M&&(oe(M),R.activeOrder&&R.activeOrder.id===M.id&&(R.activeOrder=M),ke(ne())),M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.saving=!1}},W=async(y,O)=>{var H;if(!k)throw new Error("Tracking endpoint unavailable.");R.saving=!0,R.transitionError="";try{const M=await c.updateOrderTracking({endpoint:k,id:y,tracking:O});return M&&(oe(M),R.activeOrder&&R.activeOrder.id===M.id&&(R.activeOrder=M),ke(ne())),M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.saving=!1}},te=async(y,O="")=>{var H;if(!V)throw new Error("Invoice endpoint unavailable.");R.invoiceLoading=!0,R.transitionError="";try{const M=await c.fetchOrderInvoice({endpoint:V,id:y,orderNumber:O});if(!M)throw new Error("Invoice not available.");return M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.invoiceLoading=!1}},re=async()=>{var y;if(!w)throw new Error("Export endpoint unavailable.");R.exporting=!0,R.error="";try{const O=await c.exportOrders({endpoint:w,search:R.search.trim(),state:R.filterState});if(!O)throw new Error("Export not available.");return O}catch(O){throw R.error=(y=O==null?void 0:O.message)!=null?y:"Export failed",O}finally{R.exporting=!1}},_e=async(y,O)=>{var H;if(!K)throw new Error("Send email endpoint unavailable.");R.saving=!0,R.transitionError="";try{const M=await c.sendOrderEmail({endpoint:K,id:y,type:O});return M&&(oe(M),R.activeOrder&&R.activeOrder.id===M.id&&(R.activeOrder=M),ke(ne())),M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Failed to send email",M}finally{R.saving=!1}},le=async(y,{amountCents:O,reference:H,note:M})=>{var ae;if(!L)throw new Error("Record transaction endpoint unavailable.");R.saving=!0,R.transitionError="";try{const ue=await c.recordTransaction({endpoint:L,id:y,amountCents:O,reference:H,note:M});return ue&&(oe(ue),R.activeOrder&&R.activeOrder.id===ue.id&&(R.activeOrder=ue),ke(ne())),ue}catch(ue){throw R.transitionError=(ae=ue==null?void 0:ue.message)!=null?ae:"Failed to record payment",ue}finally{R.saving=!1}},he=async(y,O)=>{var H;if(!l)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(y)||!y.length)return{updated:[]};R.saving=!0;try{const M=await c.bulkTransitionOrders({endpoint:l,ids:y,state:O}),ae=Array.isArray(M.updated)?M.updated:[];return ae.forEach(ue=>{oe(ue),R.activeOrder&&R.activeOrder.id===ue.id&&(R.activeOrder=ue)}),h(),{updated:ae}}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.saving=!1}};return ot(()=>{n&&de()}),{state:R,loadOrders:de,refresh:ge,search:J,setFilterState:j,goToPage:N,nextPage:ce,previousPage:Z,viewOrder:ee,closeOrder:z,transitionOrder:F,bulkTransition:he,updateTracking:W,downloadInvoice:te,exportOrders:re,sendEmail:_e,recordTransaction:le,toggleSelection:x,clearSelection:h,metrics:u.metrics,addNote:async(y,O)=>{var H;if(!g)throw new Error("Note endpoint unavailable.");if(!y||!O||!O.trim())return null;R.transitionError="",R.saving=!0;try{const M=await c.addOrderNote({endpoint:g,id:y,message:O});return M&&(oe(M),R.activeOrder&&R.activeOrder.id===M.id&&(R.activeOrder=M)),M}catch(M){throw R.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{R.saving=!1}}}}function qx({endpoint:e="",token:t="",preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var f,l,g;const o=gt({token:t}),c=xt("dashboard"),u=Ie({loading:!1,error:"",summary:(g=s.summary)!=null?g:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(l=(f=s.summary)==null?void 0:f.currency)!=null?l:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",m=async(k=!1)=>{var L,$;if(!e)return;const V=p(),w=k?null:Ot(V,n);if(w){c.recordCacheHit(),u.summary=w.summary,u.checklist=w.checklist,u.lastUpdated=w.lastUpdated;return}c.recordCacheMiss(),u.loading=!0,u.error="";const K=c.startFetch();try{const U=await o.fetchDashboard({endpoint:e});u.summary=(L=U.summary)!=null?L:u.summary,u.checklist=Array.isArray(U.checklist)?U.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),Et(V,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(U){u.error=($=U==null?void 0:U.message)!=null?$:"Unknown error"}finally{c.endFetch(K),u.loading=!1}};return ot(()=>{i&&(!Array.isArray(u.checklist)||!u.checklist.length)&&m()}),{state:u,refresh:m,metrics:c.metrics}}function zx({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var ne,de,ge,J,j,N,h,x,ce,Z,q,ee,z,oe,F,W,te;const o=gt({token:t}),c=xt("customers"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.show)!=null?de:"",m=(J=(ge=e==null?void 0:e.gdpr)==null?void 0:ge.export)!=null?J:"",f=(N=(j=e==null?void 0:e.gdpr)==null?void 0:j.anonymise)!=null?N:"",l=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Z=(ce=(h=s.pagination)==null?void 0:h.total)!=null?ce:(x=s.items)==null?void 0:x.length)!=null?Z:0,limit:(ee=(q=s.pagination)==null?void 0:q.limit)!=null?ee:20,pages:(oe=(z=s.pagination)==null?void 0:z.pages)!=null?oe:0,current:(W=(F=s.pagination)==null?void 0:F.current)!=null?W:1},search:"",activeCustomer:(te=s.active)!=null?te:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const re=l.pagination.current||1,_e=l.pagination.limit||20,le=l.search.trim();return`customers:page=${re}:limit=${_e}:search=${le}`},w=async(re=!1)=>{var Te;if(!u){l.error="Customers endpoint unavailable.",l.items=[];return}const _e=V(),le=re?null:Ot(_e,n);if(le){c.recordCacheHit(),l.items=le.items,l.pagination={...l.pagination,...le.pagination},l.lastUpdated=le.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const he=g?new AbortController:null;k.value=he;const Re=c.startFetch();try{const Pe=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Be,pagination:C}=await o.fetchCustomers({endpoint:u,limit:l.pagination.limit,start:Pe,search:l.search.trim(),signal:he?he.signal:void 0});l.items=Be,l.pagination={...l.pagination,...C,current:C.current&&C.current>0?C.current:1},l.lastUpdated=new Date().toISOString(),Et(_e,{items:Be,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Pe){if((Pe==null?void 0:Pe.name)==="AbortError")return;l.error=(Te=Pe==null?void 0:Pe.message)!=null?Te:"Unknown error"}finally{c.endFetch(Re),g&&k.value===he&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=()=>{l.pagination.current=1,w()},$=re=>{const _e=Number(re);Number.isNaN(_e)||_e<1||_e===l.pagination.current||(l.pagination.current=_e,w(!0))},U=async re=>{var _e;if(!p||!(re!=null&&re.email)){l.activeCustomer=re||null;return}try{const le=await o.fetchCustomer({endpoint:p,email:re.email});l.activeCustomer=le||re}catch(le){l.error=(_e=le==null?void 0:le.message)!=null?_e:"Unknown error"}},G=()=>{l.activeCustomer=null,l.gdprMessage="",l.gdprSuccess=!1},Y=async re=>{var _e;if(!m||!re){l.gdprMessage="GDPR export endpoint unavailable.",l.gdprSuccess=!1;return}l.gdprLoading=!0,l.gdprMessage="";try{const le=await o.gdprExport({endpoint:m,email:re});if(!le)throw new Error("No data returned");const he=new Blob([JSON.stringify(le,null,2)],{type:"application/json"}),Re=URL.createObjectURL(he),Te=document.createElement("a");Te.href=Re,Te.download=`gdpr-export-${re.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Re),l.gdprMessage="Data exported successfully.",l.gdprSuccess=!0}catch(le){l.gdprMessage=(_e=le==null?void 0:le.message)!=null?_e:"Export failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}},R=async re=>{var le;if(!f||!re){l.gdprMessage="GDPR anonymise endpoint unavailable.",l.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${re}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){l.gdprLoading=!0,l.gdprMessage="";try{const he=await o.gdprAnonymise({endpoint:f,email:re});l.gdprMessage=he.message||`Anonymised ${he.affected} order(s).`,l.gdprSuccess=!0,ke(V()),w(!0),setTimeout(()=>{l.activeCustomer=null,l.gdprMessage=""},2e3)}catch(he){l.gdprMessage=(le=he==null?void 0:he.message)!=null?le:"Anonymisation failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadCustomers:w,refresh:K,search:L,goToPage:$,viewCustomer:U,closeCustomer:G,gdprExport:Y,gdprAnonymise:R,metrics:c.metrics}}function Qx({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var ne,de,ge,J,j,N,h,x,ce,Z,q,ee,z,oe;const o=gt({token:t}),c=xt("coupons"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.create)!=null?de:u,m=(ge=e==null?void 0:e.update)!=null?ge:u,f=(J=e==null?void 0:e.delete)!=null?J:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(x=(h=(j=s.pagination)==null?void 0:j.total)!=null?h:(N=s.items)==null?void 0:N.length)!=null?x:0,limit:(Z=(ce=s.pagination)==null?void 0:ce.limit)!=null?Z:20,pages:(ee=(q=s.pagination)==null?void 0:q.pages)!=null?ee:0,current:(oe=(z=s.pagination)==null?void 0:z.current)!=null?oe:1},search:"",activeCoupon:null,lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const F=l.pagination.current||1,W=l.pagination.limit||20,te=l.search.trim();return`coupons:page=${F}:limit=${W}:search=${te}`},w=async(F=!1)=>{var le;if(!u){l.error="Coupons endpoint unavailable.",l.items=[];return}const W=V(),te=F?null:Ot(W,n);if(te){c.recordCacheHit(),l.items=te.items,l.pagination={...l.pagination,...te.pagination},l.lastUpdated=te.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const re=g?new AbortController:null;k.value=re;const _e=c.startFetch();try{const he=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Re,pagination:Te}=await o.fetchCoupons({endpoint:u,limit:l.pagination.limit,start:he,search:l.search.trim(),signal:re?re.signal:void 0});l.items=Re,l.pagination={...l.pagination,...Te,current:Te.current&&Te.current>0?Te.current:1},l.lastUpdated=new Date().toISOString(),Et(W,{items:Re,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(he){if((he==null?void 0:he.name)==="AbortError")return;l.error=(le=he==null?void 0:he.message)!=null?le:"Unknown error"}finally{c.endFetch(_e),g&&k.value===re&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=()=>{l.pagination.current=1,w()},$=F=>{const W=Number(F);Number.isNaN(W)||W<1||W===l.pagination.current||(l.pagination.current=W,w(!0))},U=F=>{l.activeCoupon=F},G=F=>{const W=l.items.findIndex(te=>te.id===F.id);W===-1?l.items.unshift(F):l.items.splice(W,1,F)},Y=async F=>{var W;l.saving=!0,l.error="";try{let te=null;return F.id?te=await o.updateCoupon({endpoint:m,id:F.id,data:F}):te=await o.createCoupon({endpoint:p,data:F}),te&&(G(te),l.activeCoupon&&l.activeCoupon.id===te.id&&(l.activeCoupon=te),ke(V())),te}catch(te){throw l.error=(W=te==null?void 0:te.message)!=null?W:"Unknown error",te}finally{l.saving=!1}},R=async F=>{var W;if(!Array.isArray(F)||!F.length)return 0;l.saving=!0,l.error="";try{const te=await o.deleteCoupons({endpoint:f,ids:F});return te&&(l.items=l.items.filter(re=>!F.includes(re.id)),l.activeCoupon&&F.includes(l.activeCoupon.id)&&(l.activeCoupon=null),ke(V())),te}catch(te){throw l.error=(W=te==null?void 0:te.message)!=null?W:"Unknown error",te}finally{l.saving=!1}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadCoupons:w,refresh:K,search:L,goToPage:$,setActive:U,saveCoupon:Y,deleteCoupons:R,metrics:c.metrics}}const da=(e={})=>{var u,p,m,f,l,g,k,V,w,K,L,$,U,G,Y,R,ne,de,ge;const t=(u=e.store)!=null?u:{},s=(p=e.payments)!=null?p:{},i=(m=e.visual)!=null?m:{},n=(f=e.visual_defaults)!=null?f:{},o=(g=(l=e.security)==null?void 0:l.rate_limits)!=null?g:{},c=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"";return{store:{name:(k=t.name)!=null?k:"",email:(V=t.email)!=null?V:"",phone:(w=t.phone)!=null?w:""},payments:{configured:!!s.configured},base_currency:c,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(K=i.primary_color)!=null?K:"",text_color:(L=i.text_color)!=null?L:"",surface_color:($=i.surface_color)!=null?$:"",border_color:(U=i.border_color)!=null?U:"",muted_color:(G=i.muted_color)!=null?G:""},visual_defaults:{primary_color:(Y=n.primary_color)!=null?Y:"#4f6d7a",text_color:(R=n.text_color)!=null?R:"#1f2933",surface_color:(ne=n.surface_color)!=null?ne:"#ffffff",border_color:(de=n.border_color)!=null?de:"#e4e7ec",muted_color:(ge=n.muted_color)!=null?ge:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(o.checkout_ip_limit))?Number(o.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(o.checkout_email_limit))?Number(o.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(o.checkout_session_limit))?Number(o.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(o.checkout_window_minutes))?Number(o.checkout_window_minutes):Number.isFinite(Number(o.checkout_window))?Math.max(0,Math.ceil(Number(o.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(o.offline_ip_limit))?Number(o.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(o.offline_email_limit))?Number(o.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(o.offline_window_minutes))?Number(o.offline_window_minutes):Number.isFinite(Number(o.offline_window))?Math.max(0,Math.ceil(Number(o.offline_window)/60)):30}}}};function Zx({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var g,k;const o=gt({token:t}),c=xt("settings"),u=(g=e==null?void 0:e.show)!=null?g:"",p=(k=e==null?void 0:e.update)!=null?k:u,m=Ie({loading:!1,saving:!1,error:"",message:"",values:da(s),lastUpdated:null}),f=async(V=!1)=>{var $;if(!u){m.error="Settings endpoint unavailable.";return}const w="settings:data",K=V?null:Ot(w,n);if(K){c.recordCacheHit(),m.values=K.values,m.lastUpdated=K.lastUpdated;return}c.recordCacheMiss(),m.loading=!0,m.error="";const L=c.startFetch();try{const U=await o.fetchSettings({endpoint:u});m.values=da(U),m.lastUpdated=new Date().toISOString(),Et(w,{values:m.values,lastUpdated:m.lastUpdated})}catch(U){throw m.error=($=U==null?void 0:U.message)!=null?$:"Unknown error",U}finally{c.endFetch(L),m.loading=!1}},l=async V=>{var w;if(!p)return m.error="Settings endpoint unavailable.",null;m.saving=!0,m.error="",m.message="";try{const K=await o.updateSettings({endpoint:p,data:V});return m.values=da(K),m.lastUpdated=new Date().toISOString(),m.message="Settings saved.",ke("settings:data"),Et("settings:data",{values:m.values,lastUpdated:m.lastUpdated}),m.values}catch(K){throw m.error=(w=K==null?void 0:K.message)!=null?w:"Unknown error",K}finally{m.saving=!1}};return ot(()=>{i&&(!s||!s.store)&&f()}),{state:m,refresh:f,save:l,metrics:c.metrics}}function ev({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var U,G,Y,R,ne,de,ge,J,j,N,h,x,ce,Z;const o=gt({token:t}),c=xt("taxRates"),u=(U=e==null?void 0:e.list)!=null?U:"",p=(G=e==null?void 0:e.create)!=null?G:u,m=(Y=e==null?void 0:e.update)!=null?Y:u,f=(R=e==null?void 0:e.delete)!=null?R:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(J=(ge=(ne=s.pagination)==null?void 0:ne.total)!=null?ge:(de=s.items)==null?void 0:de.length)!=null?J:0,limit:(N=(j=s.pagination)==null?void 0:j.limit)!=null?N:20,pages:(x=(h=s.pagination)==null?void 0:h.pages)!=null?x:0,current:(Z=(ce=s.pagination)==null?void 0:ce.current)!=null?Z:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const q=l.pagination.current||1,ee=l.pagination.limit||20,z=l.search.trim();return`taxRates:page=${q}:limit=${ee}:search=${z}`},w=async(q=!1)=>{var W;if(!u){l.error="Tax endpoint unavailable.",l.items=[];return}const ee=V(),z=q?null:Ot(ee,n);if(z){c.recordCacheHit(),l.items=z.items,l.pagination={...l.pagination,...z.pagination},l.lastUpdated=z.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const oe=g?new AbortController:null;k.value=oe;const F=c.startFetch();try{const te=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:re,pagination:_e}=await o.fetchTaxRates({endpoint:u,limit:l.pagination.limit,start:te,search:l.search.trim(),signal:oe?oe.signal:void 0});l.items=re,l.pagination={...l.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},l.lastUpdated=new Date().toISOString(),Et(ee,{items:re,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;l.error=(W=te==null?void 0:te.message)!=null?W:"Unknown error"}finally{c.endFetch(F),g&&k.value===oe&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=async q=>{var ee;l.saving=!0,l.error="";try{const z=q.id?await o.updateTaxRate({endpoint:m,id:q.id,data:q}):await o.createTaxRate({endpoint:p,data:q});if(z){const oe=l.items.findIndex(F=>F.id===z.id);oe===-1?l.items.unshift(z):l.items.splice(oe,1,z),ke(V())}return z}catch(z){throw l.error=(ee=z==null?void 0:z.message)!=null?ee:"Unknown error",z}finally{l.saving=!1}},$=async q=>{var ee;if(!Array.isArray(q)||!q.length)return 0;l.saving=!0,l.error="";try{const z=await o.deleteTaxRates({endpoint:f,ids:q});return z&&(l.items=l.items.filter(oe=>!q.includes(oe.id)),ke(V())),z}catch(z){throw l.error=(ee=z==null?void 0:z.message)!=null?ee:"Unknown error",z}finally{l.saving=!1}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadRates:w,refresh:K,saveRate:L,deleteRates:$,metrics:c.metrics}}function tv({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var U,G,Y,R,ne,de,ge,J,j,N,h,x,ce,Z;const o=gt({token:t}),c=xt("shippingRules"),u=(U=e==null?void 0:e.list)!=null?U:"",p=(G=e==null?void 0:e.create)!=null?G:u,m=(Y=e==null?void 0:e.update)!=null?Y:u,f=(R=e==null?void 0:e.delete)!=null?R:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(J=(ge=(ne=s.pagination)==null?void 0:ne.total)!=null?ge:(de=s.items)==null?void 0:de.length)!=null?J:0,limit:(N=(j=s.pagination)==null?void 0:j.limit)!=null?N:20,pages:(x=(h=s.pagination)==null?void 0:h.pages)!=null?x:0,current:(Z=(ce=s.pagination)==null?void 0:ce.current)!=null?Z:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const q=l.pagination.current||1,ee=l.pagination.limit||20,z=l.search.trim();return`shippingRules:page=${q}:limit=${ee}:search=${z}`},w=async(q=!1)=>{var W;if(!u){l.error="Shipping endpoint unavailable.",l.items=[];return}const ee=V(),z=q?null:Ot(ee,n);if(z){c.recordCacheHit(),l.items=z.items,l.pagination={...l.pagination,...z.pagination},l.lastUpdated=z.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const oe=g?new AbortController:null;k.value=oe;const F=c.startFetch();try{const te=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:re,pagination:_e}=await o.fetchShippingRules({endpoint:u,limit:l.pagination.limit,start:te,search:l.search.trim(),signal:oe?oe.signal:void 0});l.items=re,l.pagination={...l.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},l.lastUpdated=new Date().toISOString(),Et(ee,{items:re,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;l.error=(W=te==null?void 0:te.message)!=null?W:"Unknown error"}finally{c.endFetch(F),g&&k.value===oe&&(k.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=async q=>{var ee;l.saving=!0,l.error="";try{const z=q.id?await o.updateShippingRule({endpoint:m,id:q.id,data:q}):await o.createShippingRule({endpoint:p,data:q});if(z){const oe=l.items.findIndex(F=>F.id===z.id);oe===-1?l.items.unshift(z):l.items.splice(oe,1,z),ke(V())}return z}catch(z){throw l.error=(ee=z==null?void 0:z.message)!=null?ee:"Unknown error",z}finally{l.saving=!1}},$=async q=>{var ee;if(!Array.isArray(q)||!q.length)return 0;l.saving=!0,l.error="";try{const z=await o.deleteShippingRules({endpoint:f,ids:q});return z&&(l.items=l.items.filter(oe=>!q.includes(oe.id)),ke(V())),z}catch(z){throw l.error=(ee=z==null?void 0:z.message)!=null?ee:"Unknown error",z}finally{l.saving=!1}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadRules:w,refresh:K,saveRule:L,deleteRules:$,metrics:c.metrics}}function nv({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var L,$,U,G,Y,R,ne,de,ge,J,j;const o=gt({token:t}),c=xt("logs"),u=(L=e==null?void 0:e.list)!=null?L:"",p=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Y=(G=($=s.pagination)==null?void 0:$.total)!=null?G:(U=s.items)==null?void 0:U.length)!=null?Y:0,limit:(ne=(R=s.pagination)==null?void 0:R.limit)!=null?ne:20,pages:(ge=(de=s.pagination)==null?void 0:de.pages)!=null?ge:0,current:(j=(J=s.pagination)==null?void 0:J.current)!=null?j:1},search:"",entity:"",lastUpdated:null}),m=typeof AbortController!="undefined",f=Xe(null),l=()=>{const N=p.pagination.current||1,h=p.pagination.limit||20,x=p.search.trim(),ce=p.entity.trim();return`logs:page=${N}:limit=${h}:search=${x}:entity=${ce}`},g=async(N=!1)=>{var q;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const h=l(),x=N?null:Ot(h,n);if(x){c.recordCacheHit(),p.items=x.items,p.pagination={...p.pagination,...x.pagination},p.lastUpdated=x.lastUpdated;return}c.recordCacheMiss(),p.loading=!0,p.error="",m&&f.value&&f.value.abort();const ce=m?new AbortController:null;f.value=ce;const Z=c.startFetch();try{const ee=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:z,pagination:oe}=await o.fetchLogs({endpoint:u,limit:p.pagination.limit,start:ee,search:p.search.trim(),entity:p.entity,signal:ce?ce.signal:void 0});p.items=z,p.pagination={...p.pagination,...oe,current:oe.current&&oe.current>0?oe.current:1},p.lastUpdated=new Date().toISOString(),Et(h,{items:z,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(ee){if((ee==null?void 0:ee.name)==="AbortError")return;p.error=(q=ee==null?void 0:ee.message)!=null?q:"Unknown error"}finally{c.endFetch(Z),m&&f.value===ce&&(f.value=null),p.loading=!1}},k=()=>{p.pagination.current=1,ke(l()),g(!0)},V=()=>{p.pagination.current=1,g()},w=N=>{const h=typeof N=="string"?N.trim():"";p.entity!==h&&(p.entity=h,p.pagination.current=1,g())},K=N=>{const h=Number(N);Number.isNaN(h)||h<1||h===p.pagination.current||(p.pagination.current=h,g(!0))};return ot(()=>{i&&(!Array.isArray(p.items)||!p.items.length)&&g()}),{state:p,loadLogs:g,refresh:k,search:V,setEntity:w,goToPage:K,metrics:c.metrics}}const ro=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function sv({endpoints:e={},token:t=""}){const s=gt({token:t}),i=Ie({loading:!1,saving:!1,error:"",config:ro(),message:""}),n=async()=>{var u,p,m,f;if(e.show){i.loading=!0,i.error="";try{const l=await s.get(e.show);i.config=c((m=(p=(u=l==null?void 0:l.data)==null?void 0:u.config)!=null?p:l==null?void 0:l.config)!=null?m:{})}catch(l){i.error=(f=l.message)!=null?f:"Unable to load payment configuration."}finally{i.loading=!1}}},o=async u=>{var p,m,f,l,g,k,V;if(e.update){i.saving=!0,i.error="",i.message="";try{const w=await s.post(e.update,{config:u});i.config=c((f=(m=(p=w==null?void 0:w.data)==null?void 0:p.config)!=null?m:w==null?void 0:w.config)!=null?f:{}),i.message=(k=(g=(l=w==null?void 0:w.data)==null?void 0:l.message)!=null?g:w==null?void 0:w.message)!=null?k:""}catch(w){i.error=(V=w.message)!=null?V:"Unable to save payment configuration."}finally{i.saving=!1}}},c=u=>{var m,f,l,g;const p=ro();return{stripe:{...p.stripe,...(m=u.stripe)!=null?m:{}},paypal:{...p.paypal,...(f=u.paypal)!=null?f:{}},cod:{...p.cod,...(l=u.cod)!=null?l:{}},bank_transfer:{...p.bank_transfer,...(g=u.bank_transfer)!=null?g:{}}}};return{state:i,refresh:n,save:o}}const av={class:"nxp-ec-admin-app__shell"},iv={class:"nxp-ec-admin-app__header"},ov={class:"nxp-ec-admin-app__title"},rv={class:"nxp-ec-admin-app__lead"},lv={class:"nxp-ec-btn__progress-label"},cv={key:0,class:"nxp-ec-admin-nav"},dv=["href"],uv={key:11,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},pv={class:"nxp-ec-admin-panel__body"},_v={class:"nxp-ec-admin-panel__lead"},Yn="nxp:admin:onboarding:dismissed",fv={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var gr,Er,Cr,Sr,br,Ar,Tr,yr,Rr,Or,xr,vr,Nr,Pr,Mr,Ir,kr,$r,wr,Lr,Dr,Ur,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,al,il,ol,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Cl,Sl,bl,Al,Tl,yl,Rl,Ol,xl,vl,Nl,Pl,Ml,Il,kl,$l,wl,Ll,Dl,Ul,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ac,ic,oc,rc,lc,cc,dc,uc,pc,_c,fc,mc,hc,gc,Ec,Cc,Sc,bc,Ac,Tc,yc,Rc,Oc,xc,vc,Nc,Pc,Mc,Ic,kc,$c,wc,Lc,Dc,Uc,Yc,Xc,Fc,Gc,Vc,Hc,Bc,Kc,jc;const t=e,{__:s}=Gx(t.dataset),i=fe(()=>{var D;return((D=t.dataset)==null?void 0:D.appTitleKey)||"COM_NXPEASYCART"}),n=fe(()=>{var D;return((D=t.dataset)==null?void 0:D.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),o=(D,se)=>{if(!D||typeof D!="string")return se;try{return JSON.parse(D)}catch(Se){return se}},c=fe(()=>{var D,se;return!!((se=(D=Zt==null?void 0:Zt.values)==null?void 0:D.show_advanced_mode)!=null&&se)}),u=fe(()=>{var se,Se;let D=[];if(Array.isArray((se=t.config)==null?void 0:se.navItems))D=t.config.navItems.map(Ye=>({id:Ye.id,title:Ye.title,link:Ye.link}));else{const Ye=o((Se=t.dataset)==null?void 0:Se.navItems,[]);D=Array.isArray(Ye)?Ye.map(Je=>({id:Je.id,title:Je.title,link:Je.link})):[]}return c.value||(D=D.filter(Ye=>Ye.id!=="logs")),D}),p=D=>{const se=u.value;if(!Array.isArray(se))return"";const Se=se.find(Ye=>Ye.id===D);return Se?Se.link:""},m=fe(()=>{var D,se;return((D=t.config)==null?void 0:D.activeSection)||((se=t.dataset)==null?void 0:se.activeSection)||"dashboard"}),f=fe(()=>{var D,se;return((D=t.config)==null?void 0:D.settingsTab)||((se=t.dataset)==null?void 0:se.settingsTab)||"general"}),l=D=>m.value===D,g=fe(()=>l("dashboard")),k=fe(()=>l("products")),V=fe(()=>l("categories")||l("products")),w=fe(()=>l("orders")),K=fe(()=>l("customers")),L=fe(()=>l("coupons")),$=fe(()=>l("settings")),U=fe(()=>l("tax")),G=fe(()=>l("shipping")),Y=fe(()=>l("logs")),R=(Or=(gr=t.endpoints)==null?void 0:gr.products)!=null?Or:{list:(Cr=(Er=t.dataset)==null?void 0:Er.productsEndpoint)!=null?Cr:"",create:(br=(Sr=t.dataset)==null?void 0:Sr.productsEndpointCreate)!=null?br:"",update:(Tr=(Ar=t.dataset)==null?void 0:Ar.productsEndpointUpdate)!=null?Tr:"",delete:(Rr=(yr=t.dataset)==null?void 0:yr.productsEndpointDelete)!=null?Rr:""},ne=(Lr=(xr=t.endpoints)==null?void 0:xr.categories)!=null?Lr:{list:(Nr=(vr=t.dataset)==null?void 0:vr.categoriesEndpoint)!=null?Nr:"",create:(Mr=(Pr=t.dataset)==null?void 0:Pr.categoriesEndpointCreate)!=null?Mr:"",update:(kr=(Ir=t.dataset)==null?void 0:Ir.categoriesEndpointUpdate)!=null?kr:"",delete:(wr=($r=t.dataset)==null?void 0:$r.categoriesEndpointDelete)!=null?wr:""},de=(Jr=(Dr=t.endpoints)==null?void 0:Dr.orders)!=null?Jr:{list:(Yr=(Ur=t.dataset)==null?void 0:Ur.ordersEndpoint)!=null?Yr:"",show:(Fr=(Xr=t.dataset)==null?void 0:Xr.ordersEndpointShow)!=null?Fr:"",transition:(Vr=(Gr=t.dataset)==null?void 0:Gr.ordersEndpointTransition)!=null?Vr:"",bulkTransition:(Br=(Hr=t.dataset)==null?void 0:Hr.ordersEndpointBulk)!=null?Br:"",note:(jr=(Kr=t.dataset)==null?void 0:Kr.ordersEndpointNote)!=null?jr:""},ge=(el=(Wr=t.endpoints)==null?void 0:Wr.customers)!=null?el:{list:(zr=(qr=t.dataset)==null?void 0:qr.customersEndpoint)!=null?zr:"",show:(Zr=(Qr=t.dataset)==null?void 0:Qr.customersEndpointShow)!=null?Zr:""},J=(dl=(tl=t.endpoints)==null?void 0:tl.coupons)!=null?dl:{list:(sl=(nl=t.dataset)==null?void 0:nl.couponsEndpoint)!=null?sl:"",create:(il=(al=t.dataset)==null?void 0:al.couponsEndpointCreate)!=null?il:"",update:(rl=(ol=t.dataset)==null?void 0:ol.couponsEndpointUpdate)!=null?rl:"",delete:(cl=(ll=t.dataset)==null?void 0:ll.couponsEndpointDelete)!=null?cl:""},j=(Sl=(ul=t.endpoints)==null?void 0:ul.tax)!=null?Sl:{list:(_l=(pl=t.dataset)==null?void 0:pl.taxEndpoint)!=null?_l:"",create:(ml=(fl=t.dataset)==null?void 0:fl.taxEndpointCreate)!=null?ml:"",update:(gl=(hl=t.dataset)==null?void 0:hl.taxEndpointUpdate)!=null?gl:"",delete:(Cl=(El=t.dataset)==null?void 0:El.taxEndpointDelete)!=null?Cl:""},N=(Pl=(bl=t.endpoints)==null?void 0:bl.shipping)!=null?Pl:{list:(Tl=(Al=t.dataset)==null?void 0:Al.shippingEndpoint)!=null?Tl:"",create:(Rl=(yl=t.dataset)==null?void 0:yl.shippingEndpointCreate)!=null?Rl:"",update:(xl=(Ol=t.dataset)==null?void 0:Ol.shippingEndpointUpdate)!=null?xl:"",delete:(Nl=(vl=t.dataset)==null?void 0:vl.shippingEndpointDelete)!=null?Nl:""},h=(Ll=(Ml=t.endpoints)==null?void 0:Ml.settings)!=null?Ll:{show:(kl=(Il=t.dataset)==null?void 0:Il.settingsEndpointShow)!=null?kl:"",update:(wl=($l=t.dataset)==null?void 0:$l.settingsEndpointUpdate)!=null?wl:""},x=(Xl=(Dl=t.endpoints)==null?void 0:Dl.logs)!=null?Xl:{list:(Yl=(Ul=t.dataset)==null?void 0:Ul.logsEndpoint)!=null?Yl:""},ce=(Kl=(Fl=t.endpoints)==null?void 0:Fl.payments)!=null?Kl:{show:(Vl=(Gl=t.dataset)==null?void 0:Gl.paymentsEndpointShow)!=null?Vl:"",update:(Bl=(Hl=t.dataset)==null?void 0:Hl.paymentsEndpointUpdate)!=null?Bl:""},Z=fe(()=>{var D;return o((D=t.dataset)==null?void 0:D.orderStates,[])}),{state:q,refresh:ee}=qx({endpoint:(Zl=(Ql=(ql=(jl=t.endpoints)==null?void 0:jl.dashboard)!=null?ql:(Wl=(Jl=t.config)==null?void 0:Jl.endpoints)==null?void 0:Wl.dashboard)!=null?Ql:(zl=t.dataset)==null?void 0:zl.dashboardEndpoint)!=null?Zl:"",token:t.csrfToken,preload:(ac=(tc=(ec=t.config)==null?void 0:ec.preload)==null?void 0:tc.dashboard)!=null?ac:{summary:o((nc=t.dataset)==null?void 0:nc.dashboardSummary,{}),checklist:o((sc=t.dataset)==null?void 0:sc.dashboardChecklist,[])},autoload:g.value}),{state:z,refresh:oe,search:F,createProduct:W,updateProduct:te,deleteProducts:re}=jx({endpoints:R,token:t.csrfToken,autoload:k.value}),{state:_e,refresh:le,search:he,goToPage:Re,saveCategory:Te,deleteCategories:Pe,loadOptions:Be}=Jx({endpoints:ne,token:t.csrfToken,preload:(cc=(oc=(ic=t.config)==null?void 0:ic.preload)==null?void 0:oc.categories)!=null?cc:{items:o((rc=t.dataset)==null?void 0:rc.categoriesPreload,[]),pagination:o((lc=t.dataset)==null?void 0:lc.categoriesPreloadPagination,{})},autoload:V.value}),C=fe(()=>(Array.isArray(_e.items)?_e.items:[]).map(se=>{var Se,Ye,Je;return{id:Number.parseInt((Se=se==null?void 0:se.id)!=null?Se:0,10)||0,title:String((Ye=se==null?void 0:se.title)!=null?Ye:"").trim(),slug:String((Je=se==null?void 0:se.slug)!=null?Je:"").trim(),parent_id:(se==null?void 0:se.parent_id)!==null&&(se==null?void 0:se.parent_id)!==void 0&&Number.parseInt(se.parent_id,10)||null}}).filter(se=>se.title!=="")),{state:I,refresh:B,search:A,setFilterState:b,viewOrder:X,closeOrder:E,transitionOrder:_,goToPage:S,bulkTransition:P,toggleSelection:y,clearSelection:O,addNote:H,updateTracking:M,downloadInvoice:ae,exportOrders:ue,sendEmail:me,recordTransaction:Ae}=Wx({endpoints:de,token:t.csrfToken,states:Z.value,preload:(fc=(uc=(dc=t.config)==null?void 0:dc.preload)==null?void 0:uc.orders)!=null?fc:{items:o((pc=t.dataset)==null?void 0:pc.ordersPreload,[]),pagination:o((_c=t.dataset)==null?void 0:_c.ordersPreloadPagination,{})},autoload:w.value}),{state:xe,refresh:De,search:tt,goToPage:vt,viewCustomer:at,closeCustomer:Ve,gdprExport:Ge,gdprAnonymise:Nt}=zx({endpoints:{...ge,gdpr:(hc=(mc=t.endpoints)==null?void 0:mc.gdpr)!=null?hc:{}},token:t.csrfToken,preload:(bc=(Ec=(gc=t.config)==null?void 0:gc.preload)==null?void 0:Ec.customers)!=null?bc:{items:o((Cc=t.dataset)==null?void 0:Cc.customersPreload,[]),pagination:o((Sc=t.dataset)==null?void 0:Sc.customersPreloadPagination,{})},autoload:K.value}),{state:Pt,refresh:Qt,search:mn,goToPage:bs,saveCoupon:As,deleteCoupons:ua}=Qx({endpoints:(Tc=(Ac=t.endpoints)==null?void 0:Ac.coupons)!=null?Tc:J,token:t.csrfToken,preload:(vc=(Rc=(yc=t.config)==null?void 0:yc.preload)==null?void 0:Rc.coupons)!=null?vc:{items:o((Oc=t.dataset)==null?void 0:Oc.couponsPreload,[]),pagination:o((xc=t.dataset)==null?void 0:xc.couponsPreloadPagination,{})},autoload:L.value}),pa=(Ic=(Pc=(Nc=t.config)==null?void 0:Nc.preload)==null?void 0:Pc.settings)!=null?Ic:o((Mc=t.dataset)==null?void 0:Mc.settingsPreload,{}),{state:Zt,refresh:_r,save:mv}=Zx({endpoints:h,token:t.csrfToken,preload:pa,autoload:$.value}),hv=fe(()=>{var se,Se;const D=(Se=(se=t.dataset)==null?void 0:se.baseCurrency)!=null?Se:"";return typeof D=="string"?D.trim().toUpperCase():""}),gv=fe(()=>{var se,Se;const D=(Se=(se=Zt==null?void 0:Zt.values)==null?void 0:se.base_currency)!=null?Se:"";return typeof D=="string"?D.trim().toUpperCase():""}),Xn=fe(()=>{const D=gv.value||hv.value;return D!==""?D:"USD"}),Ev=fe(()=>{var se,Se;const D=(Se=(se=t.dataset)==null?void 0:se.mediaModalUrl)!=null?Se:"";return typeof D=="string"?D.trim():""}),Cv=fe(()=>{var se,Se,Ye,Je,it;const D=(Je=(Ye=(se=t.config)==null?void 0:se.siteRoot)!=null?Ye:(Se=t.dataset)==null?void 0:Se.siteRoot)!=null?Je:"";return typeof D=="string"&&D.trim()!==""?D.trim():typeof window!="undefined"&&((it=window.location)!=null&&it.origin)?window.location.origin:""}),Sv=D=>{switch(D){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:p("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:p("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:p("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:D||"step",titleKey:D||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:D||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:p("dashboard")||""}}},_a=fe(()=>(Array.isArray(q.checklist)?q.checklist:[]).map(se=>{const Se=Sv(se.label);return{id:Se.id,completed:!!se.completed,link:se.link||Se.link||"",label:se.label,titleKey:Se.titleKey,descriptionKey:Se.descriptionKey,titleFallback:Se.titleFallback,descriptionFallback:Se.descriptionFallback}})),fa=fe(()=>_a.value.some(D=>!D.completed)),fr=fe(()=>{const D=_a.value;if(!D.length)return{completed:0,total:0,percent:0};const se=D.filter(Se=>Se.completed).length;return{completed:se,total:D.length,percent:Math.round(se/D.length*100)}}),bv=fe(()=>{const{completed:D,total:se}=fr.value;return`${D}/${se}`}),Av=fe(()=>{const{percent:D}=fr.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${D}%, #e9ecef ${D}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:D>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),Fn=Xe(!1),Tv=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Yn,"0")}catch(D){}Fn.value=!0},mr=()=>{if(Fn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Yn,"1")}catch(D){}},yv=D=>{D&&typeof D.link=="string"&&D.link!==""&&(mr(),typeof window!="undefined"&&(window.location.href=D.link))};Ue(fa,D=>{if(!D&&(Fn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Yn,"1")}catch(se){}});const Rv=(Dc=($c=(kc=t.config)==null?void 0:kc.preload)==null?void 0:$c.tax)!=null?Dc:{items:o((wc=t.dataset)==null?void 0:wc.taxPreload,[]),pagination:o((Lc=t.dataset)==null?void 0:Lc.taxPreloadPagination,{})},{state:Ov,refresh:Gn,saveRate:xv,deleteRates:vv}=ev({endpoints:j,token:t.csrfToken,preload:Rv,autoload:U.value||$.value}),Nv=(Gc=(Yc=(Uc=t.config)==null?void 0:Uc.preload)==null?void 0:Yc.shipping)!=null?Gc:{items:o((Xc=t.dataset)==null?void 0:Xc.shippingPreload,[]),pagination:o((Fc=t.dataset)==null?void 0:Fc.shippingPreloadPagination,{})},{state:Pv,refresh:Vn,saveRule:Mv,deleteRules:Iv}=tv({endpoints:N,token:t.csrfToken,preload:Nv,autoload:G.value||$.value}),kv=(jc=(Hc=(Vc=t.config)==null?void 0:Vc.preload)==null?void 0:Hc.logs)!=null?jc:{items:o((Bc=t.dataset)==null?void 0:Bc.logsPreload,[]),pagination:o((Kc=t.dataset)==null?void 0:Kc.logsPreloadPagination,{})},{state:$v,refresh:hr,search:wv,setEntity:Lv,goToPage:Dv}=nv({endpoints:x,token:t.csrfToken,preload:kv,autoload:Y.value}),{state:Uv,refresh:ma,save:Yv}=sv({endpoints:ce,token:t.csrfToken});Ue(m,D=>{switch(D){case"dashboard":ee();break;case"products":oe(),le();break;case"categories":le();break;case"orders":B();break;case"customers":De();break;case"coupons":Qt();break;case"tax":Gn();break;case"shipping":Vn();break;case"settings":_r(),Gn(),Vn(),ma();break;case"logs":hr();break}}),ot(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const D=window.localStorage.getItem(Yn);fa.value?D!=="1"&&(Fn.value=!0):window.localStorage.setItem(Yn,"1")}catch(D){}}$.value&&ma()});const Xv=()=>{oe()},Fv=()=>{F()},Gv=async D=>{try{await W(D),oe(),le(),ke("dashboard"),ee(!0)}catch(se){}},Vv=async({id:D,data:se})=>{try{await te(D,se),oe(),le()}catch(Se){}},Hv=async D=>{try{await re(D),oe(),le()}catch(se){}},Bv=()=>{le()},Kv=()=>{he()},jv=D=>{Re(D)},Jv=async D=>{try{await Te(D),le()}catch(se){}},Wv=async D=>{try{await Pe(D),le()}catch(se){}},qv=()=>{ee()},zv=()=>{B()},Qv=()=>{A()},Zv=D=>{b(D)},e1=D=>{X(D)},t1=()=>{E()},n1=async({id:D,state:se})=>{try{await _(D,se)}catch(Se){}},s1=D=>{S(D)},a1=async({ids:D,state:se})=>{try{await P(D,se)}catch(Se){}},i1=D=>{y(D)},o1=()=>{O()},r1=async({id:D,message:se})=>{await H(D,se)},l1=async D=>{if(!(D!=null&&D.id))return;const{id:se,...Se}=D;await M(se,Se)},c1=async D=>{!(D!=null&&D.id)||!(D!=null&&D.type)||await me(D.id,D.type)},d1=async D=>{if(D!=null&&D.id)try{await Ae(D.id,{amountCents:D.amountCents,reference:D.reference,note:D.note})}catch(se){}},u1=async D=>{if(!D)return;const se=await ae(D);if(!(se!=null&&se.content))return;const Se=atob(se.content),Ye=new Uint8Array(Se.length);for(let en=0;en<Se.length;en+=1)Ye[en]=Se.charCodeAt(en);const Je=new Blob([Ye],{type:"application/pdf"}),it=window.URL.createObjectURL(Je),ut=document.createElement("a");ut.href=it,ut.download=se.filename||"invoice.pdf",document.body.appendChild(ut),ut.click(),document.body.removeChild(ut),setTimeout(()=>window.URL.revokeObjectURL(it),1e3)},p1=async()=>{const D=await ue();if(!(D!=null&&D.content))return;const se=atob(D.content),Se=new Uint8Array(se.length);for(let ut=0;ut<se.length;ut+=1)Se[ut]=se.charCodeAt(ut);const Ye=new Blob([Se],{type:"text/csv;charset=utf-8"}),Je=window.URL.createObjectURL(Ye),it=document.createElement("a");it.href=Je,it.download=D.filename||"orders-export.csv",document.body.appendChild(it),it.click(),document.body.removeChild(it),setTimeout(()=>window.URL.revokeObjectURL(Je),1e3)},_1=()=>{De()},f1=()=>{tt()},m1=D=>{vt(D)},h1=D=>{at(D)},g1=()=>{Ve()},E1=D=>{Ge(D)},C1=D=>{Nt(D)},S1=()=>{Qt()},b1=()=>{mn()},A1=D=>{bs(D)},T1=async D=>{try{await As(D)}catch(se){}},y1=async D=>{try{await ua(D)}catch(se){}},R1=()=>{_r()},O1=async D=>{try{await mv(D),ke("dashboard"),ee(!0)}catch(se){}},x1=()=>{Gn()},v1=async D=>{try{await xv(D),Gn()}catch(se){}},N1=async D=>{try{await vv(D),Gn()}catch(se){}},P1=()=>{Vn()},M1=async D=>{try{await Mv(D),Vn()}catch(se){}},I1=async D=>{try{await Iv(D),Vn()}catch(se){}},k1=()=>{hr()},$1=()=>{wv()},w1=D=>{Lv(D)},L1=D=>{Dv(D)},D1=()=>{ma()},U1=async D=>{await Yv(D),ke("dashboard"),ee(!0)};return(D,se)=>(T(),st(vp,null,{default:ei(()=>{var Se,Ye,Je,it,ut,en;return[a("section",av,[a("header",iv,[a("div",null,[a("h1",ov,d(r(s)(i.value,(Ye=(Se=t.dataset)==null?void 0:Se.appTitle)!=null?Ye:"NXP Easy Cart",[],"appTitle")),1),a("p",rv,d(r(s)(n.value,(it=(Je=t.dataset)==null?void 0:Je.appLead)!=null?it:"Manage your storefront from one place.",[],"appLead")),1)]),Q(a("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:Mt(Av.value),onClick:Tv},[ye(d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),a("span",lv,d(bv.value),1)],4),[[ep,fa.value]])]),u.value.length?(T(),v("nav",cv,[(T(!0),v(Ce,null,Oe(u.value,Ts=>(T(),v("a",{key:Ts.id,href:Ts.link,class:Me({"is-active":Ts.id===m.value})},d(Ts.title),11,dv))),128))])):ie("",!0),m.value==="dashboard"?(T(),st(r_,{key:1,state:r(q),translate:r(s),onRefresh:qv},null,8,["state","translate"])):m.value==="products"?(T(),st(Ym,{key:2,state:r(z),translate:r(s),"base-currency":Xn.value,"category-options":C.value,"media-modal-url":Ev.value,onCreate:Gv,onUpdate:Vv,onDelete:Hv,onRefresh:Xv,onSearch:Fv},null,8,["state","translate","base-currency","category-options","media-modal-url"])):m.value==="categories"?(T(),st(Xh,{key:3,state:r(_e),translate:r(s),"load-options":r(Be),onRefresh:Bv,onSearch:Kv,onPage:jv,onSave:Jv,onDelete:Wv},null,8,["state","translate","load-options"])):m.value==="orders"?(T(),st(aC,{key:4,state:r(I),translate:r(s),"site-root":Cv.value,onRefresh:zv,onSearch:Qv,onFilter:Zv,onView:e1,onClose:t1,onTransition:n1,onPage:s1,onBulkTransition:a1,onToggleSelection:i1,onClearSelection:o1,onAddNote:r1,onSaveTracking:l1,onSendEmail:c1,onRecordPayment:d1,onInvoice:u1,onExport:p1},null,8,["state","translate","site-root"])):m.value==="customers"?(T(),st(oS,{key:5,state:r(xe),translate:r(s),"base-currency":Xn.value,onRefresh:_1,onSearch:f1,onPage:m1,onView:h1,onClose:g1,onGdprExport:E1,onGdprAnonymise:C1},null,8,["state","translate","base-currency"])):m.value==="coupons"?(T(),st(gb,{key:6,state:r(Pt),translate:r(s),"base-currency":Xn.value,onRefresh:S1,onSearch:b1,onPage:A1,onSave:T1,onDelete:y1},null,8,["state","translate","base-currency"])):m.value==="tax"?(T(),st(vR,{key:7,state:r(Ov),translate:r(s),onRefresh:x1,onSave:v1,onDelete:N1},null,8,["state","translate"])):m.value==="shipping"?(T(),st(XO,{key:8,state:r(Pv),translate:r(s),"base-currency":Xn.value,onRefresh:P1,onSave:M1,onDelete:I1},null,8,["state","translate","base-currency"])):m.value==="settings"?(T(),st(Ry,{key:9,"settings-state":r(Zt),"payments-state":r(Uv),translate:r(s),"base-currency":Xn.value,"initial-tab":f.value,onRefreshSettings:R1,onSaveSettings:O1,onRefreshPayments:D1,onSavePayments:U1},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):m.value==="logs"&&c.value?(T(),st(Tx,{key:10,state:r($v),translate:r(s),onRefresh:k1,onSearch:$1,onFilter:w1,onPage:L1},null,8,["state","translate"])):(T(),v("div",uv,[a("div",pv,[a("p",_v,d(r(s)(n.value,(en=(ut=t.dataset)==null?void 0:ut.appLead)!=null?en:"This section will be available soon.",[],"appLead")),1)])]))]),He(Yx,{visible:Fn.value,steps:_a.value,translate:r(s),onClose:mr,onNavigate:yv},null,8,["visible","steps","translate"])]}),_:1}))}},Ss=document.getElementById("nxp-ec-admin-app");if(!Ss)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(lo=Ss.getAttribute("data-csrf-token"))!=null?lo:"",t=Object.assign({},Ss.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(k){console.warn("[NXP Easy Cart] Failed to parse admin config payload",k)}const i=(mo=(co=s==null?void 0:s.endpoints)==null?void 0:co.products)!=null?mo:{list:(uo=t.productsEndpoint)!=null?uo:"",create:(po=t.productsEndpointCreate)!=null?po:"",update:(_o=t.productsEndpointUpdate)!=null?_o:"",delete:(fo=t.productsEndpointDelete)!=null?fo:""},n=(bo=(ho=s==null?void 0:s.endpoints)==null?void 0:ho.categories)!=null?bo:{list:(go=t.categoriesEndpoint)!=null?go:"",create:(Eo=t.categoriesEndpointCreate)!=null?Eo:"",update:(Co=t.categoriesEndpointUpdate)!=null?Co:"",delete:(So=t.categoriesEndpointDelete)!=null?So:""},o=(Po=(Ao=s==null?void 0:s.endpoints)==null?void 0:Ao.orders)!=null?Po:{list:(To=t.ordersEndpoint)!=null?To:"",show:(yo=t.ordersEndpointShow)!=null?yo:"",transition:(Ro=t.ordersEndpointTransition)!=null?Ro:"",bulkTransition:(Oo=t.ordersEndpointBulk)!=null?Oo:"",note:(xo=t.ordersEndpointNote)!=null?xo:"",tracking:(vo=t.ordersEndpointTracking)!=null?vo:"",invoice:(No=t.ordersEndpointInvoice)!=null?No:""},c=($o=(Mo=s==null?void 0:s.endpoints)==null?void 0:Mo.customers)!=null?$o:{list:(Io=t.customersEndpoint)!=null?Io:"",show:(ko=t.customersEndpointShow)!=null?ko:""},u=(Uo=(wo=s==null?void 0:s.endpoints)==null?void 0:wo.gdpr)!=null?Uo:{export:(Lo=t.gdprEndpointExport)!=null?Lo:"",anonymise:(Do=t.gdprEndpointAnonymise)!=null?Do:""},p=(Ho=(Yo=s==null?void 0:s.endpoints)==null?void 0:Yo.coupons)!=null?Ho:{list:(Xo=t.couponsEndpoint)!=null?Xo:"",create:(Fo=t.couponsEndpointCreate)!=null?Fo:"",update:(Go=t.couponsEndpointUpdate)!=null?Go:"",delete:(Vo=t.couponsEndpointDelete)!=null?Vo:""},m=(qo=(Bo=s==null?void 0:s.endpoints)==null?void 0:Bo.tax)!=null?qo:{list:(Ko=t.taxEndpoint)!=null?Ko:"",create:(jo=t.taxEndpointCreate)!=null?jo:"",update:(Jo=t.taxEndpointUpdate)!=null?Jo:"",delete:(Wo=t.taxEndpointDelete)!=null?Wo:""},f=(nr=(zo=s==null?void 0:s.endpoints)==null?void 0:zo.shipping)!=null?nr:{list:(Qo=t.shippingEndpoint)!=null?Qo:"",create:(Zo=t.shippingEndpointCreate)!=null?Zo:"",update:(er=t.shippingEndpointUpdate)!=null?er:"",delete:(tr=t.shippingEndpointDelete)!=null?tr:""},l=(or=(sr=s==null?void 0:s.endpoints)==null?void 0:sr.settings)!=null?or:{show:(ar=t.settingsEndpointShow)!=null?ar:"",update:(ir=t.settingsEndpointUpdate)!=null?ir:""},g=(cr=(rr=s==null?void 0:s.endpoints)==null?void 0:rr.logs)!=null?cr:{list:(lr=t.logsEndpoint)!=null?lr:""};Sp(fv,{csrfToken:e,dataset:t,config:s,endpoints:{products:i,categories:n,orders:o,customers:c,gdpr:u,coupons:p,tax:m,shipping:f,settings:l,logs:g,dashboard:(pr=(ur=(dr=s==null?void 0:s.endpoints)==null?void 0:dr.dashboard)!=null?ur:t.dashboardEndpoint)!=null?pr:""}}).mount(Ss)}})();
