(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var oo,ro,lo,co,uo,po,_o,fo,mo,ho,go,Eo,Co,So,bo,Ao,To,yo,Ro,Oo,xo,vo,Po,No,Mo,Io,ko,$o,wo,Lo,Do,Uo,Yo,Xo,Fo,Go,Vo,Ho,Bo,Ko,jo,Jo,Wo,qo,zo,Qo,Zo,er,tr,nr,sr,ir,ar,or,rr,lr,cr,dr;function ys(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ke={},Zt=[],Ct=()=>{},fi=()=>!1,Hn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rs=e=>e.startsWith("onUpdate:"),qe=Object.assign,Os=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Kc=Object.prototype.hasOwnProperty,Pe=(e,t)=>Kc.call(e,t),Ee=Array.isArray,en=e=>hn(e)==="[object Map]",tn=e=>hn(e)==="[object Set]",mi=e=>hn(e)==="[object Date]",be=e=>typeof e=="function",Fe=e=>typeof e=="string",pt=e=>typeof e=="symbol",$e=e=>e!==null&&typeof e=="object",hi=e=>($e(e)||be(e))&&be(e.then)&&be(e.catch),gi=Object.prototype.toString,hn=e=>gi.call(e),jc=e=>hn(e).slice(8,-1),Ei=e=>hn(e)==="[object Object]",xs=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=ys(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Jc=/-\w/g,Yt=Bn(e=>e.replace(Jc,t=>t.slice(1).toUpperCase())),Wc=/\B([A-Z])/g,Xt=Bn(e=>e.replace(Wc,"-$1").toLowerCase()),Ci=Bn(e=>e.charAt(0).toUpperCase()+e.slice(1)),vs=Bn(e=>e?`on${Ci(e)}`:""),Ft=(e,t)=>!Object.is(e,t),Kn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Si=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},jn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bi;const Jn=()=>bi||(bi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Gt(e){if(Ee(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=Fe(a)?Zc(a):Gt(a);if(n)for(const o in n)t[o]=n[o]}return t}else if(Fe(e)||$e(e))return e}const qc=/;(?![^(]*\))/g,zc=/:([^]+)/,Qc=/\/\*[^]*?\*\//g;function Zc(e){const t={};return e.replace(Qc,"").split(qc).forEach(s=>{if(s){const a=s.split(zc);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Me(e){let t="";if(Fe(e))t=e;else if(Ee(e))for(let s=0;s<e.length;s++){const a=Me(e[s]);a&&(t+=a+" ")}else if($e(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const ed=ys("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ai(e){return!!e||e===""}function td(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=En(e[a],t[a]);return s}function En(e,t){if(e===t)return!0;let s=mi(e),a=mi(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=pt(e),a=pt(t),s||a)return e===t;if(s=Ee(e),a=Ee(t),s||a)return s&&a?td(e,t):!1;if(s=$e(e),a=$e(t),s||a){if(!s||!a)return!1;const n=Object.keys(e).length,o=Object.keys(t).length;if(n!==o)return!1;for(const c in e){const u=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(u&&!p||!u&&p||!En(e[c],t[c]))return!1}}return String(e)===String(t)}function Ps(e,t){return e.findIndex(s=>En(s,t))}const Ti=e=>!!(e&&e.__v_isRef===!0),d=e=>Fe(e)?e:e==null?"":Ee(e)||$e(e)&&(e.toString===gi||!be(e.toString))?Ti(e)?d(e.value):JSON.stringify(e,yi,2):String(e),yi=(e,t)=>Ti(t)?yi(e,t.value):en(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],o)=>(s[Ns(a,o)+" =>"]=n,s),{})}:tn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ns(s))}:pt(t)?Ns(t):$e(t)&&!Ee(t)&&!Ei(t)?String(t):t,Ns=(e,t="")=>{var s;return pt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tt;class nd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tt,!t&&tt&&(this.index=(tt.scopes||(tt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=tt;try{return tt=this,t()}finally{tt=s}}}on(){++this._on===1&&(this.prevScope=tt,tt=this)}off(){this._on>0&&--this._on===0&&(tt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function sd(){return tt}let we;const Ms=new WeakSet;class Ri{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tt&&tt.active&&tt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ms.has(this)&&(Ms.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ii(this),vi(this);const t=we,s=_t;we=this,_t=!0;try{return this.fn()}finally{Pi(this),we=t,_t=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ws(t);this.deps=this.depsTail=void 0,Ii(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ms.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$s(this)&&this.run()}get dirty(){return $s(this)}}let Oi=0,Cn,Sn;function xi(e,t=!1){if(e.flags|=8,t){e.next=Sn,Sn=e;return}e.next=Cn,Cn=e}function Is(){Oi++}function ks(){if(--Oi>0)return;if(Sn){let t=Sn;for(Sn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Cn;){let t=Cn;for(Cn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function vi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Pi(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),ws(a),id(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function $s(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ni(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ni(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bn)||(e.globalVersion=bn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!$s(e))))return;e.flags|=2;const t=e.dep,s=we,a=_t;we=e,_t=!0;try{vi(e);const n=e.fn(e._value);(t.version===0||Ft(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{we=s,_t=a,Pi(e),e.flags&=-3}}function ws(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)ws(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function id(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let _t=!0;const Mi=[];function St(){Mi.push(_t),_t=!1}function bt(){const e=Mi.pop();_t=e===void 0?!0:e}function Ii(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=we;we=void 0;try{t()}finally{we=s}}}let bn=0;class ad{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ls{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!we||!_t||we===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==we)s=this.activeLink=new ad(we,this),we.deps?(s.prevDep=we.depsTail,we.depsTail.nextDep=s,we.depsTail=s):we.deps=we.depsTail=s,ki(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=we.depsTail,s.nextDep=void 0,we.depsTail.nextDep=s,we.depsTail=s,we.deps===s&&(we.deps=a)}return s}trigger(t){this.version++,bn++,this.notify(t)}notify(t){Is();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ks()}}}function ki(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)ki(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ds=new WeakMap,jt=Symbol(""),Us=Symbol(""),An=Symbol("");function Je(e,t,s){if(_t&&we){let a=Ds.get(e);a||Ds.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new Ls),n.map=a,n.key=s),n.track()}}function Mt(e,t,s,a,n,o){const c=Ds.get(e);if(!c){bn++;return}const u=p=>{p&&p.trigger()};if(Is(),t==="clear")c.forEach(u);else{const p=Ee(e),m=p&&xs(s);if(p&&s==="length"){const f=Number(a);c.forEach((l,g)=>{(g==="length"||g===An||!pt(g)&&g>=f)&&u(l)})}else switch((s!==void 0||c.has(void 0))&&u(c.get(s)),m&&u(c.get(An)),t){case"add":p?m&&u(c.get("length")):(u(c.get(jt)),en(e)&&u(c.get(Us)));break;case"delete":p||(u(c.get(jt)),en(e)&&u(c.get(Us)));break;case"set":en(e)&&u(c.get(jt));break}}ks()}function nn(e){const t=ve(e);return t===e?t:(Je(t,"iterate",An),dt(e)?t:t.map(Ke))}function Wn(e){return Je(e=ve(e),"iterate",An),e}const od={__proto__:null,[Symbol.iterator](){return Ys(this,Symbol.iterator,Ke)},concat(...e){return nn(this).concat(...e.map(t=>Ee(t)?nn(t):t))},entries(){return Ys(this,"entries",e=>(e[1]=Ke(e[1]),e))},every(e,t){return It(this,"every",e,t,void 0,arguments)},filter(e,t){return It(this,"filter",e,t,s=>s.map(Ke),arguments)},find(e,t){return It(this,"find",e,t,Ke,arguments)},findIndex(e,t){return It(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return It(this,"findLast",e,t,Ke,arguments)},findLastIndex(e,t){return It(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return It(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xs(this,"includes",e)},indexOf(...e){return Xs(this,"indexOf",e)},join(e){return nn(this).join(e)},lastIndexOf(...e){return Xs(this,"lastIndexOf",e)},map(e,t){return It(this,"map",e,t,void 0,arguments)},pop(){return Tn(this,"pop")},push(...e){return Tn(this,"push",e)},reduce(e,...t){return $i(this,"reduce",e,t)},reduceRight(e,...t){return $i(this,"reduceRight",e,t)},shift(){return Tn(this,"shift")},some(e,t){return It(this,"some",e,t,void 0,arguments)},splice(...e){return Tn(this,"splice",e)},toReversed(){return nn(this).toReversed()},toSorted(e){return nn(this).toSorted(e)},toSpliced(...e){return nn(this).toSpliced(...e)},unshift(...e){return Tn(this,"unshift",e)},values(){return Ys(this,"values",Ke)}};function Ys(e,t,s){const a=Wn(e),n=a[t]();return a!==e&&!dt(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.done||(o.value=s(o.value)),o}),n}const rd=Array.prototype;function It(e,t,s,a,n,o){const c=Wn(e),u=c!==e&&!dt(e),p=c[t];if(p!==rd[t]){const l=p.apply(e,o);return u?Ke(l):l}let m=s;c!==e&&(u?m=function(l,g){return s.call(this,Ke(l),g,e)}:s.length>2&&(m=function(l,g){return s.call(this,l,g,e)}));const f=p.call(c,m,a);return u&&n?n(f):f}function $i(e,t,s,a){const n=Wn(e);let o=s;return n!==e&&(dt(e)?s.length>3&&(o=function(c,u,p){return s.call(this,c,u,p,e)}):o=function(c,u,p){return s.call(this,c,Ke(u),p,e)}),n[t](o,...a)}function Xs(e,t,s){const a=ve(e);Je(a,"iterate",An);const n=a[t](...s);return(n===-1||n===!1)&&Vs(s[0])?(s[0]=ve(s[0]),a[t](...s)):n}function Tn(e,t,s=[]){St(),Is();const a=ve(e)[t].apply(e,s);return ks(),bt(),a}const ld=ys("__proto__,__v_isRef,__isVue"),wi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pt));function cd(e){pt(e)||(e=String(e));const t=ve(this);return Je(t,"has",e),t.hasOwnProperty(e)}class Li{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return a===(n?o?Gi:Fi:o?Xi:Yi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const c=Ee(t);if(!n){let p;if(c&&(p=od[s]))return p;if(s==="hasOwnProperty")return cd}const u=Reflect.get(t,s,je(t)?t:a);if((pt(s)?wi.has(s):ld(s))||(n||Je(t,"get",s),o))return u;if(je(u)){const p=c&&xs(s)?u:u.value;return n&&$e(p)?Gs(p):p}return $e(u)?n?Gs(u):Ie(u):u}}class Di extends Li{constructor(t=!1){super(!1,t)}set(t,s,a,n){let o=t[s];if(!this._isShallow){const p=Vt(o);if(!dt(a)&&!Vt(a)&&(o=ve(o),a=ve(a)),!Ee(t)&&je(o)&&!je(a))return p||(o.value=a),!0}const c=Ee(t)&&xs(s)?Number(s)<t.length:Pe(t,s),u=Reflect.set(t,s,a,je(t)?t:n);return t===ve(n)&&(c?Ft(a,o)&&Mt(t,"set",s,a):Mt(t,"add",s,a)),u}deleteProperty(t,s){const a=Pe(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Mt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!pt(s)||!wi.has(s))&&Je(t,"has",s),a}ownKeys(t){return Je(t,"iterate",Ee(t)?"length":jt),Reflect.ownKeys(t)}}class Ui extends Li{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const dd=new Di,ud=new Ui,pd=new Di(!0),_d=new Ui(!0),Fs=e=>e,qn=e=>Reflect.getPrototypeOf(e);function fd(e,t,s){return function(...a){const n=this.__v_raw,o=ve(n),c=en(o),u=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,m=n[e](...a),f=s?Fs:t?es:Ke;return!t&&Je(o,"iterate",p?Us:jt),{next(){const{value:l,done:g}=m.next();return g?{value:l,done:g}:{value:u?[f(l[0]),f(l[1])]:f(l),done:g}},[Symbol.iterator](){return this}}}}function zn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function md(e,t){const s={get(n){const o=this.__v_raw,c=ve(o),u=ve(n);e||(Ft(n,u)&&Je(c,"get",n),Je(c,"get",u));const{has:p}=qn(c),m=t?Fs:e?es:Ke;if(p.call(c,n))return m(o.get(n));if(p.call(c,u))return m(o.get(u));o!==c&&o.get(n)},get size(){const n=this.__v_raw;return!e&&Je(ve(n),"iterate",jt),n.size},has(n){const o=this.__v_raw,c=ve(o),u=ve(n);return e||(Ft(n,u)&&Je(c,"has",n),Je(c,"has",u)),n===u?o.has(n):o.has(n)||o.has(u)},forEach(n,o){const c=this,u=c.__v_raw,p=ve(u),m=t?Fs:e?es:Ke;return!e&&Je(p,"iterate",jt),u.forEach((f,l)=>n.call(o,m(f),m(l),c))}};return qe(s,e?{add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear")}:{add(n){!t&&!dt(n)&&!Vt(n)&&(n=ve(n));const o=ve(this);return qn(o).has.call(o,n)||(o.add(n),Mt(o,"add",n,n)),this},set(n,o){!t&&!dt(o)&&!Vt(o)&&(o=ve(o));const c=ve(this),{has:u,get:p}=qn(c);let m=u.call(c,n);m||(n=ve(n),m=u.call(c,n));const f=p.call(c,n);return c.set(n,o),m?Ft(o,f)&&Mt(c,"set",n,o):Mt(c,"add",n,o),this},delete(n){const o=ve(this),{has:c,get:u}=qn(o);let p=c.call(o,n);p||(n=ve(n),p=c.call(o,n)),u&&u.call(o,n);const m=o.delete(n);return p&&Mt(o,"delete",n,void 0),m},clear(){const n=ve(this),o=n.size!==0,c=n.clear();return o&&Mt(n,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=fd(n,e,t)}),s}function Qn(e,t){const s=md(e,t);return(a,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(Pe(s,n)&&n in a?s:a,n,o)}const hd={get:Qn(!1,!1)},gd={get:Qn(!1,!0)},Ed={get:Qn(!0,!1)},Cd={get:Qn(!0,!0)},Yi=new WeakMap,Xi=new WeakMap,Fi=new WeakMap,Gi=new WeakMap;function Sd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bd(e){return e.__v_skip||!Object.isExtensible(e)?0:Sd(jc(e))}function Ie(e){return Vt(e)?e:Zn(e,!1,dd,hd,Yi)}function Ad(e){return Zn(e,!1,pd,gd,Xi)}function Gs(e){return Zn(e,!0,ud,Ed,Fi)}function x1(e){return Zn(e,!0,_d,Cd,Gi)}function Zn(e,t,s,a,n){if(!$e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=bd(e);if(o===0)return e;const c=n.get(e);if(c)return c;const u=new Proxy(e,o===2?a:s);return n.set(e,u),u}function sn(e){return Vt(e)?sn(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function dt(e){return!!(e&&e.__v_isShallow)}function Vs(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function Td(e){return!Pe(e,"__v_skip")&&Object.isExtensible(e)&&Si(e,"__v_skip",!0),e}const Ke=e=>$e(e)?Ie(e):e,es=e=>$e(e)?Gs(e):e;function je(e){return e?e.__v_isRef===!0:!1}function Xe(e){return yd(e,!1)}function yd(e,t){return je(e)?e:new Rd(e,t)}class Rd{constructor(t,s){this.dep=new Ls,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ve(t),this._value=s?t:Ke(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||dt(t)||Vt(t);t=a?t:ve(t),Ft(t,s)&&(this._rawValue=t,this._value=a?t:Ke(t),this.dep.trigger())}}function r(e){return je(e)?e.value:e}const Od={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return je(n)&&!je(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function Vi(e){return sn(e)?e:new Proxy(e,Od)}class xd{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ls(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&we!==this)return xi(this,!0),!0}get value(){const t=this.dep.track();return Ni(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function vd(e,t,s=!1){let a,n;return be(e)?a=e:(a=e.get,n=e.set),new xd(a,n,s)}const ts={},ns=new WeakMap;let Jt;function Pd(e,t=!1,s=Jt){if(s){let a=ns.get(s);a||ns.set(s,a=[]),a.push(e)}}function Nd(e,t,s=ke){const{immediate:a,deep:n,once:o,scheduler:c,augmentJob:u,call:p}=s,m=G=>n?G:dt(G)||n===!1||n===0?kt(G,1):kt(G);let f,l,g,k,V=!1,$=!1;if(je(e)?(l=()=>e.value,V=dt(e)):sn(e)?(l=()=>m(e),V=!0):Ee(e)?($=!0,V=e.some(G=>sn(G)||dt(G)),l=()=>e.map(G=>{if(je(G))return G.value;if(sn(G))return m(G);if(be(G))return p?p(G,2):G()})):be(e)?t?l=p?()=>p(e,2):e:l=()=>{if(g){St();try{g()}finally{bt()}}const G=Jt;Jt=f;try{return p?p(e,3,[k]):e(k)}finally{Jt=G}}:l=Ct,t&&n){const G=l,U=n===!0?1/0:n;l=()=>kt(G(),U)}const B=sd(),L=()=>{f.stop(),B&&B.active&&Os(B.effects,f)};if(o&&t){const G=t;t=(...U)=>{G(...U),L()}}let w=$?new Array(e.length).fill(ts):ts;const D=G=>{if(!(!(f.flags&1)||!f.dirty&&!G))if(t){const U=f.run();if(n||V||($?U.some((y,te)=>Ft(y,w[te])):Ft(U,w))){g&&g();const y=Jt;Jt=f;try{const te=[U,w===ts?void 0:$&&w[0]===ts?[]:w,k];w=U,p?p(t,3,te):t(...te)}finally{Jt=y}}}else f.run()};return u&&u(D),f=new Ri(l),f.scheduler=c?()=>c(D,!1):D,k=G=>Pd(G,!1,f),g=f.onStop=()=>{const G=ns.get(f);if(G){if(p)p(G,4);else for(const U of G)U();ns.delete(f)}},t?a?D(!0):w=f.run():c?c(D.bind(null,!0),!0):f.run(),L.pause=f.pause.bind(f),L.resume=f.resume.bind(f),L.stop=L,L}function kt(e,t=1/0,s){if(t<=0||!$e(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,je(e))kt(e.value,t,s);else if(Ee(e))for(let a=0;a<e.length;a++)kt(e[a],t,s);else if(tn(e)||en(e))e.forEach(a=>{kt(a,t,s)});else if(Ei(e)){for(const a in e)kt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&kt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yn=[];let Hs=!1;function v1(e,...t){if(Hs)return;Hs=!0,St();const s=yn.length?yn[yn.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=Md();if(a)an(a,s,11,[e+t.map(o=>{var c,u;return(u=(c=o.toString)==null?void 0:c.call(o))!=null?u:JSON.stringify(o)}).join(""),s&&s.proxy,n.map(({vnode:o})=>`at <${Ua(s,o.type)}>`).join(`
`),n]);else{const o=[`[Vue warn]: ${e}`,...t];n.length&&o.push(`
`,...Id(n)),console.warn(...o)}bt(),Hs=!1}function Md(){let e=yn[yn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function Id(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...kd(s))}),t}function kd({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${Ua(e.component,e.type,a)}`,o=">"+s;return e.props?[n,...$d(e.props),o]:[n+o]}function $d(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...Hi(a,e[a]))}),s.length>3&&t.push(" ..."),t}function Hi(e,t,s){return Fe(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:je(t)?(t=Hi(e,ve(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):be(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ve(t),s?t:[`${e}=`,t])}function an(e,t,s,a){try{return a?e(...a):e()}catch(n){ss(n,t,s)}}function At(e,t,s,a){if(be(e)){const n=an(e,t,s,a);return n&&hi(n)&&n.catch(o=>{ss(o,t,s)}),n}if(Ee(e)){const n=[];for(let o=0;o<e.length;o++)n.push(At(e[o],t,s,a));return n}}function ss(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||ke;if(t){let u=t.parent;const p=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const f=u.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](e,p,m)===!1)return}u=u.parent}if(o){St(),an(o,null,10,[e,p,m]),bt();return}}wd(e,s,n,a,c)}function wd(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const ze=[];let Tt=-1;const on=[];let Ht=null,rn=0;const Bi=Promise.resolve();let is=null;function Ki(e){const t=is||Bi;return e?t.then(this?e.bind(this):e):t}function Ld(e){let t=Tt+1,s=ze.length;for(;t<s;){const a=t+s>>>1,n=ze[a],o=Rn(n);o<e||o===e&&n.flags&2?t=a+1:s=a}return t}function Bs(e){if(!(e.flags&1)){const t=Rn(e),s=ze[ze.length-1];!s||!(e.flags&2)&&t>=Rn(s)?ze.push(e):ze.splice(Ld(t),0,e),e.flags|=1,ji()}}function ji(){is||(is=Bi.then(qi))}function Dd(e){Ee(e)?on.push(...e):Ht&&e.id===-1?Ht.splice(rn+1,0,e):e.flags&1||(on.push(e),e.flags|=1),ji()}function Ji(e,t,s=Tt+1){for(;s<ze.length;s++){const a=ze[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;ze.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function Wi(e){if(on.length){const t=[...new Set(on)].sort((s,a)=>Rn(s)-Rn(a));if(on.length=0,Ht){Ht.push(...t);return}for(Ht=t,rn=0;rn<Ht.length;rn++){const s=Ht[rn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ht=null,rn=0}}const Rn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function qi(e){try{for(Tt=0;Tt<ze.length;Tt++){const t=ze[Tt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),an(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Tt<ze.length;Tt++){const t=ze[Tt];t&&(t.flags&=-2)}Tt=-1,ze.length=0,Wi(),is=null,(ze.length||on.length)&&qi()}}let We=null,zi=null;function as(e){const t=We;return We=e,zi=e&&e.type.__scopeId||null,t}function Qi(e,t=We,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&Ma(-1);const o=as(t);let c;try{c=e(...n)}finally{as(o),a._d&&Ma(1)}return c};return a._n=!0,a._c=!0,a._d=!0,a}function Z(e,t){if(We===null)return e;const s=ms(We),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,c,u,p=ke]=t[n];o&&(be(o)&&(o={mounted:o,updated:o}),o.deep&&kt(c),a.push({dir:o,instance:s,value:c,oldValue:void 0,arg:u,modifiers:p}))}return e}function Wt(e,t,s,a){const n=e.dirs,o=t&&t.dirs;for(let c=0;c<n.length;c++){const u=n[c];o&&(u.oldValue=o[c].value);let p=u.dir[a];p&&(St(),At(p,s,8,[e.el,u,e,t]),bt())}}const Ud=Symbol("_vte"),Yd=e=>e.__isTeleport,Xd=Symbol("_leaveCb");function Ks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const os=new WeakMap;function On(e,t,s,a,n=!1){if(Ee(e)){e.forEach((V,$)=>On(V,t&&(Ee(t)?t[$]:t),s,a,n));return}if(ln(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&On(e,t,s,a.component.subTree);return}const o=a.shapeFlag&4?ms(a.component):a.el,c=n?null:o,{i:u,r:p}=e,m=t&&t.r,f=u.refs===ke?u.refs={}:u.refs,l=u.setupState,g=ve(l),k=l===ke?fi:V=>Pe(g,V);if(m!=null&&m!==p){if(ea(t),Fe(m))f[m]=null,k(m)&&(l[m]=null);else if(je(m)){m.value=null;const V=t;V.k&&(f[V.k]=null)}}if(be(p))an(p,u,12,[c,f]);else{const V=Fe(p),$=je(p);if(V||$){const B=()=>{if(e.f){const L=V?k(p)?l[p]:f[p]:p.value;if(n)Ee(L)&&Os(L,o);else if(Ee(L))L.includes(o)||L.push(o);else if(V)f[p]=[o],k(p)&&(l[p]=f[p]);else{const w=[o];p.value=w,e.k&&(f[e.k]=w)}}else V?(f[p]=c,k(p)&&(l[p]=c)):$&&(p.value=c,e.k&&(f[e.k]=c))};if(c){const L=()=>{B(),os.delete(e)};L.id=-1,os.set(e,L),ot(L,s)}else ea(e),B()}}}function ea(e){const t=os.get(e);t&&(t.flags|=8,os.delete(e))}Jn().requestIdleCallback,Jn().cancelIdleCallback;const ln=e=>!!e.type.__asyncLoader,ta=e=>e.type.__isKeepAlive;function Fd(e,t){na(e,"a",t)}function Gd(e,t){na(e,"da",t)}function na(e,t,s=Ze){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(rs(t,a,s),s){let n=s.parent;for(;n&&n.parent;)ta(n.parent.vnode)&&Vd(a,t,s,n),n=n.parent}}function Vd(e,t,s,a){const n=rs(t,e,a,!0);ia(()=>{Os(a[t],n)},s)}function rs(e,t,s=Ze,a=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...c)=>{St();const u=In(s),p=At(t,s,e,c);return u(),bt(),p});return a?n.unshift(o):n.push(o),o}}const $t=e=>(t,s=Ze)=>{(!kn||e==="sp")&&rs(e,(...a)=>t(...a),s)},Hd=$t("bm"),at=$t("m"),Bd=$t("bu"),Kd=$t("u"),sa=$t("bum"),ia=$t("um"),jd=$t("sp"),Jd=$t("rtg"),Wd=$t("rtc");function qd(e,t=Ze){rs("ec",e,t)}const zd=Symbol.for("v-ndc");function xe(e,t,s,a){let n;const o=s,c=Ee(e);if(c||Fe(e)){const u=c&&sn(e);let p=!1,m=!1;u&&(p=!dt(e),m=Vt(e),e=Wn(e)),n=new Array(e.length);for(let f=0,l=e.length;f<l;f++)n[f]=t(p?m?es(Ke(e[f])):Ke(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,o)}else if($e(e))if(e[Symbol.iterator])n=Array.from(e,(u,p)=>t(u,p,void 0,o));else{const u=Object.keys(e);n=new Array(u.length);for(let p=0,m=u.length;p<m;p++){const f=u[p];n[p]=t(e[f],f,p,o)}}else n=[];return n}function Qd(e,t,s={},a,n){if(We.ce||We.parent&&ln(We.parent)&&We.parent.ce){const m=Object.keys(s).length>0;return R(),nt(Ce,null,[He("slot",s,a)],m?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),R();const c=o&&aa(o(s)),u=s.key||c&&c.key,p=nt(Ce,{key:(u&&!pt(u)?u:`_${t}`)+(!c&&a?"_fb":"")},c||[],c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),o&&o._c&&(o._d=!0),p}function aa(e){return e.some(t=>ti(t)?!(t.type===wt||t.type===Ce&&!aa(t.children)):!0)?e:null}const js=e=>e?wa(e)?ms(e):js(e.parent):null,xn=qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>js(e.parent),$root:e=>js(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ca(e),$forceUpdate:e=>e.f||(e.f=()=>{Bs(e.update)}),$nextTick:e=>e.n||(e.n=Ki.bind(e.proxy)),$watch:e=>Su.bind(e)}),Js=(e,t)=>e!==ke&&!e.__isScriptSetup&&Pe(e,t),Zd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:o,accessCache:c,type:u,appContext:p}=e;let m;if(t[0]!=="$"){const k=c[t];if(k!==void 0)switch(k){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(Js(a,t))return c[t]=1,a[t];if(n!==ke&&Pe(n,t))return c[t]=2,n[t];if((m=e.propsOptions[0])&&Pe(m,t))return c[t]=3,o[t];if(s!==ke&&Pe(s,t))return c[t]=4,s[t];Ws&&(c[t]=0)}}const f=xn[t];let l,g;if(f)return t==="$attrs"&&Je(e.attrs,"get",""),f(e);if((l=u.__cssModules)&&(l=l[t]))return l;if(s!==ke&&Pe(s,t))return c[t]=4,s[t];if(g=p.config.globalProperties,Pe(g,t))return g[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:o}=e;return Js(n,t)?(n[t]=s,!0):a!==ke&&Pe(a,t)?(a[t]=s,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:o,type:c}},u){let p,m;return!!(s[u]||e!==ke&&u[0]!=="$"&&Pe(e,u)||Js(t,u)||(p=o[0])&&Pe(p,u)||Pe(a,u)||Pe(xn,u)||Pe(n.config.globalProperties,u)||(m=c.__cssModules)&&m[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Pe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function oa(e){return Ee(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ws=!0;function eu(e){const t=ca(e),s=e.proxy,a=e.ctx;Ws=!1,t.beforeCreate&&ra(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:c,watch:u,provide:p,inject:m,created:f,beforeMount:l,mounted:g,beforeUpdate:k,updated:V,activated:$,deactivated:B,beforeDestroy:L,beforeUnmount:w,destroyed:D,unmounted:G,render:U,renderTracked:y,renderTriggered:te,errorCaptured:ce,serverPrefetch:ge,expose:J,inheritAttrs:j,components:v,directives:h,filters:x}=t;if(m&&tu(m,a,null),c)for(const z in c){const ne=c[z];be(ne)&&(a[z]=ne.bind(s))}if(n){const z=n.call(s,s);$e(z)&&(e.data=Ie(z))}if(Ws=!0,o)for(const z in o){const ne=o[z],q=be(ne)?ne.bind(s,s):be(ne.get)?ne.get.bind(s,s):Ct,de=!be(ne)&&be(ne.set)?ne.set.bind(s):Ct,X=me({get:q,set:de});Object.defineProperty(a,z,{enumerable:!0,configurable:!0,get:()=>X.value,set:W=>X.value=W})}if(u)for(const z in u)la(u[z],a,s,z);if(p){const z=be(p)?p.call(s):p;Reflect.ownKeys(z).forEach(ne=>{ru(ne,z[ne])})}f&&ra(f,e,"c");function Q(z,ne){Ee(ne)?ne.forEach(q=>z(q.bind(s))):ne&&z(ne.bind(s))}if(Q(Hd,l),Q(at,g),Q(Bd,k),Q(Kd,V),Q(Fd,$),Q(Gd,B),Q(qd,ce),Q(Wd,y),Q(Jd,te),Q(sa,w),Q(ia,G),Q(jd,ge),Ee(J))if(J.length){const z=e.exposed||(e.exposed={});J.forEach(ne=>{Object.defineProperty(z,ne,{get:()=>s[ne],set:q=>s[ne]=q,enumerable:!0})})}else e.exposed||(e.exposed={});U&&e.render===Ct&&(e.render=U),j!=null&&(e.inheritAttrs=j),v&&(e.components=v),h&&(e.directives=h),ge&&Zi(e)}function tu(e,t,s=Ct){Ee(e)&&(e=qs(e));for(const a in e){const n=e[a];let o;$e(n)?"default"in n?o=cs(n.from||a,n.default,!0):o=cs(n.from||a):o=cs(n),je(o)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>o.value,set:c=>o.value=c}):t[a]=o}}function ra(e,t,s){At(Ee(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function la(e,t,s,a){let n=a.includes(".")?Oa(s,a):()=>s[a];if(Fe(e)){const o=t[e];be(o)&&Ue(n,o)}else if(be(e))Ue(n,e.bind(s));else if($e(e))if(Ee(e))e.forEach(o=>la(o,t,s,a));else{const o=be(e.handler)?e.handler.bind(s):t[e.handler];be(o)&&Ue(n,o,e)}}function ca(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:c}}=e.appContext,u=o.get(t);let p;return u?p=u:!n.length&&!s&&!a?p=t:(p={},n.length&&n.forEach(m=>ls(p,m,c,!0)),ls(p,t,c)),$e(t)&&o.set(t,p),p}function ls(e,t,s,a=!1){const{mixins:n,extends:o}=t;o&&ls(e,o,s,!0),n&&n.forEach(c=>ls(e,c,s,!0));for(const c in t)if(!(a&&c==="expose")){const u=nu[c]||s&&s[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const nu={data:da,props:ua,emits:ua,methods:vn,computed:vn,beforeCreate:Qe,created:Qe,beforeMount:Qe,mounted:Qe,beforeUpdate:Qe,updated:Qe,beforeDestroy:Qe,beforeUnmount:Qe,destroyed:Qe,unmounted:Qe,activated:Qe,deactivated:Qe,errorCaptured:Qe,serverPrefetch:Qe,components:vn,directives:vn,watch:iu,provide:da,inject:su};function da(e,t){return t?e?function(){return qe(be(e)?e.call(this,this):e,be(t)?t.call(this,this):t)}:t:e}function su(e,t){return vn(qs(e),qs(t))}function qs(e){if(Ee(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Qe(e,t){return e?[...new Set([].concat(e,t))]:t}function vn(e,t){return e?qe(Object.create(null),e,t):t}function ua(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:qe(Object.create(null),oa(e),oa(t!=null?t:{})):t}function iu(e,t){if(!e)return t;if(!t)return e;const s=qe(Object.create(null),e);for(const a in t)s[a]=Qe(e[a],t[a]);return s}function pa(){return{app:null,config:{isNativeTag:fi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let au=0;function ou(e,t){return function(a,n=null){be(a)||(a=qe({},a)),n!=null&&!$e(n)&&(n=null);const o=pa(),c=new WeakSet,u=[];let p=!1;const m=o.app={_uid:au++,_component:a,_props:n,_container:null,_context:o,_instance:null,version:Ku,get config(){return o.config},set config(f){},use(f,...l){return c.has(f)||(f&&be(f.install)?(c.add(f),f.install(m,...l)):be(f)&&(c.add(f),f(m,...l))),m},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),m},component(f,l){return l?(o.components[f]=l,m):o.components[f]},directive(f,l){return l?(o.directives[f]=l,m):o.directives[f]},mount(f,l,g){if(!p){const k=m._ceVNode||He(a,n);return k.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),e(k,f,g),p=!0,m._container=f,f.__vue_app__=m,ms(k.component)}},onUnmount(f){u.push(f)},unmount(){p&&(At(u,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(f,l){return o.provides[f]=l,m},runWithContext(f){const l=cn;cn=m;try{return f()}finally{cn=l}}};return m}}let cn=null;function ru(e,t){if(Ze){let s=Ze.provides;const a=Ze.parent&&Ze.parent.provides;a===s&&(s=Ze.provides=Object.create(a)),s[e]=t}}function cs(e,t,s=!1){const a=Du();if(a||cn){let n=cn?cn._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&be(t)?t.call(a&&a.proxy):t}}const _a={},fa=()=>Object.create(_a),ma=e=>Object.getPrototypeOf(e)===_a;function lu(e,t,s,a=!1){const n={},o=fa();e.propsDefaults=Object.create(null),ha(e,t,n,o);for(const c in e.propsOptions[0])c in n||(n[c]=void 0);s?e.props=a?n:Ad(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function cu(e,t,s,a){const{props:n,attrs:o,vnode:{patchFlag:c}}=e,u=ve(n),[p]=e.propsOptions;let m=!1;if((a||c>0)&&!(c&16)){if(c&8){const f=e.vnode.dynamicProps;for(let l=0;l<f.length;l++){let g=f[l];if(ds(e.emitsOptions,g))continue;const k=t[g];if(p)if(Pe(o,g))k!==o[g]&&(o[g]=k,m=!0);else{const V=Yt(g);n[V]=zs(p,u,V,k,e,!1)}else k!==o[g]&&(o[g]=k,m=!0)}}}else{ha(e,t,n,o)&&(m=!0);let f;for(const l in u)(!t||!Pe(t,l)&&((f=Xt(l))===l||!Pe(t,f)))&&(p?s&&(s[l]!==void 0||s[f]!==void 0)&&(n[l]=zs(p,u,l,void 0,e,!0)):delete n[l]);if(o!==u)for(const l in o)(!t||!Pe(t,l))&&(delete o[l],m=!0)}m&&Mt(e.attrs,"set","")}function ha(e,t,s,a){const[n,o]=e.propsOptions;let c=!1,u;if(t)for(let p in t){if(gn(p))continue;const m=t[p];let f;n&&Pe(n,f=Yt(p))?!o||!o.includes(f)?s[f]=m:(u||(u={}))[f]=m:ds(e.emitsOptions,p)||(!(p in a)||m!==a[p])&&(a[p]=m,c=!0)}if(o){const p=ve(s),m=u||ke;for(let f=0;f<o.length;f++){const l=o[f];s[l]=zs(n,p,l,m[l],e,!Pe(m,l))}}return c}function zs(e,t,s,a,n,o){const c=e[s];if(c!=null){const u=Pe(c,"default");if(u&&a===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&be(p)){const{propsDefaults:m}=n;if(s in m)a=m[s];else{const f=In(n);a=m[s]=p.call(null,t),f()}}else a=p;n.ce&&n.ce._setProp(s,a)}c[0]&&(o&&!u?a=!1:c[1]&&(a===""||a===Xt(s))&&(a=!0))}return a}const du=new WeakMap;function ga(e,t,s=!1){const a=s?du:t.propsCache,n=a.get(e);if(n)return n;const o=e.props,c={},u=[];let p=!1;if(!be(e)){const f=l=>{p=!0;const[g,k]=ga(l,t,!0);qe(c,g),k&&u.push(...k)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!p)return $e(e)&&a.set(e,Zt),Zt;if(Ee(o))for(let f=0;f<o.length;f++){const l=Yt(o[f]);Ea(l)&&(c[l]=ke)}else if(o)for(const f in o){const l=Yt(f);if(Ea(l)){const g=o[f],k=c[l]=Ee(g)||be(g)?{type:g}:qe({},g),V=k.type;let $=!1,B=!0;if(Ee(V))for(let L=0;L<V.length;++L){const w=V[L],D=be(w)&&w.name;if(D==="Boolean"){$=!0;break}else D==="String"&&(B=!1)}else $=be(V)&&V.name==="Boolean";k[0]=$,k[1]=B,($||Pe(k,"default"))&&u.push(l)}}const m=[c,u];return $e(e)&&a.set(e,m),m}function Ea(e){return e[0]!=="$"&&!gn(e)}const Qs=e=>e==="_"||e==="_ctx"||e==="$stable",Zs=e=>Ee(e)?e.map(yt):[yt(e)],uu=(e,t,s)=>{if(t._n)return t;const a=Qi((...n)=>Zs(t(...n)),s);return a._c=!1,a},Ca=(e,t,s)=>{const a=e._ctx;for(const n in e){if(Qs(n))continue;const o=e[n];if(be(o))t[n]=uu(n,o,a);else if(o!=null){const c=Zs(o);t[n]=()=>c}}},Sa=(e,t)=>{const s=Zs(t);e.slots.default=()=>s},ba=(e,t,s)=>{for(const a in t)(s||!Qs(a))&&(e[a]=t[a])},pu=(e,t,s)=>{const a=e.slots=fa();if(e.vnode.shapeFlag&32){const n=t._;n?(ba(a,t,s),s&&Si(a,"_",n,!0)):Ca(t,a)}else t&&Sa(e,t)},_u=(e,t,s)=>{const{vnode:a,slots:n}=e;let o=!0,c=ke;if(a.shapeFlag&32){const u=t._;u?s&&u===1?o=!1:ba(n,t,s):(o=!t.$stable,Ca(t,n)),c=t}else t&&(Sa(e,t),c={default:1});if(o)for(const u in n)!Qs(u)&&c[u]==null&&delete n[u]},ot=vu;function fu(e){return mu(e)}function mu(e,t){const s=Jn();s.__VUE__=!0;const{insert:a,remove:n,patchProp:o,createElement:c,createText:u,createComment:p,setText:m,setElementText:f,parentNode:l,nextSibling:g,setScopeId:k=Ct,insertStaticContent:V}=e,$=(C,I,K,A=null,b=null,Y=null,E=void 0,_=null,S=!!I.dynamicChildren)=>{if(C===I)return;C&&!Mn(C,I)&&(A=he(C),W(C,b,Y,!0),C=null),I.patchFlag===-2&&(S=!1,I.dynamicChildren=null);const{type:N,ref:T,shapeFlag:O}=I;switch(N){case us:B(C,I,K,A);break;case wt:L(C,I,K,A);break;case ps:C==null&&w(I,K,A,E);break;case Ce:v(C,I,K,A,b,Y,E,_,S);break;default:O&1?U(C,I,K,A,b,Y,E,_,S):O&6?h(C,I,K,A,b,Y,E,_,S):(O&64||O&128)&&N.process(C,I,K,A,b,Y,E,_,S,Ne)}T!=null&&b?On(T,C&&C.ref,Y,I||C,!I):T==null&&C&&C.ref!=null&&On(C.ref,null,Y,C,!0)},B=(C,I,K,A)=>{if(C==null)a(I.el=u(I.children),K,A);else{const b=I.el=C.el;I.children!==C.children&&m(b,I.children)}},L=(C,I,K,A)=>{C==null?a(I.el=p(I.children||""),K,A):I.el=C.el},w=(C,I,K,A)=>{[C.el,C.anchor]=V(C.children,I,K,A,C.el,C.anchor)},D=({el:C,anchor:I},K,A)=>{let b;for(;C&&C!==I;)b=g(C),a(C,K,A),C=b;a(I,K,A)},G=({el:C,anchor:I})=>{let K;for(;C&&C!==I;)K=g(C),n(C),C=K;n(I)},U=(C,I,K,A,b,Y,E,_,S)=>{I.type==="svg"?E="svg":I.type==="math"&&(E="mathml"),C==null?y(I,K,A,b,Y,E,_,S):ge(C,I,b,Y,E,_,S)},y=(C,I,K,A,b,Y,E,_)=>{let S,N;const{props:T,shapeFlag:O,transition:H,dirs:M}=C;if(S=C.el=c(C.type,Y,T&&T.is,T),O&8?f(S,C.children):O&16&&ce(C.children,S,null,A,b,ei(C,Y),E,_),M&&Wt(C,null,A,"created"),te(S,C,C.scopeId,E,A),T){for(const le in T)le!=="value"&&!gn(le)&&o(S,le,null,T[le],Y,A);"value"in T&&o(S,"value",null,T.value,Y),(N=T.onVnodeBeforeMount)&&Rt(N,A,C)}M&&Wt(C,null,A,"beforeMount");const ie=hu(b,H);ie&&H.beforeEnter(S),a(S,I,K),((N=T&&T.onVnodeMounted)||ie||M)&&ot(()=>{N&&Rt(N,A,C),ie&&H.enter(S),M&&Wt(C,null,A,"mounted")},b)},te=(C,I,K,A,b)=>{if(K&&k(C,K),A)for(let Y=0;Y<A.length;Y++)k(C,A[Y]);if(b){let Y=b.subTree;if(I===Y||Na(Y.type)&&(Y.ssContent===I||Y.ssFallback===I)){const E=b.vnode;te(C,E,E.scopeId,E.slotScopeIds,b.parent)}}},ce=(C,I,K,A,b,Y,E,_,S=0)=>{for(let N=S;N<C.length;N++){const T=C[N]=_?Bt(C[N]):yt(C[N]);$(null,T,I,K,A,b,Y,E,_)}},ge=(C,I,K,A,b,Y,E)=>{const _=I.el=C.el;let{patchFlag:S,dynamicChildren:N,dirs:T}=I;S|=C.patchFlag&16;const O=C.props||ke,H=I.props||ke;let M;if(K&&qt(K,!1),(M=H.onVnodeBeforeUpdate)&&Rt(M,K,I,C),T&&Wt(I,C,K,"beforeUpdate"),K&&qt(K,!0),(O.innerHTML&&H.innerHTML==null||O.textContent&&H.textContent==null)&&f(_,""),N?J(C.dynamicChildren,N,_,K,A,ei(I,b),Y):E||ne(C,I,_,null,K,A,ei(I,b),Y,!1),S>0){if(S&16)j(_,O,H,K,b);else if(S&2&&O.class!==H.class&&o(_,"class",null,H.class,b),S&4&&o(_,"style",O.style,H.style,b),S&8){const ie=I.dynamicProps;for(let le=0;le<ie.length;le++){const fe=ie[le],Se=O[fe],Te=H[fe];(Te!==Se||fe==="value")&&o(_,fe,Se,Te,b,K)}}S&1&&C.children!==I.children&&f(_,I.children)}else!E&&N==null&&j(_,O,H,K,b);((M=H.onVnodeUpdated)||T)&&ot(()=>{M&&Rt(M,K,I,C),T&&Wt(I,C,K,"updated")},A)},J=(C,I,K,A,b,Y,E)=>{for(let _=0;_<I.length;_++){const S=C[_],N=I[_],T=S.el&&(S.type===Ce||!Mn(S,N)||S.shapeFlag&198)?l(S.el):K;$(S,N,T,null,A,b,Y,E,!0)}},j=(C,I,K,A,b)=>{if(I!==K){if(I!==ke)for(const Y in I)!gn(Y)&&!(Y in K)&&o(C,Y,I[Y],null,b,A);for(const Y in K){if(gn(Y))continue;const E=K[Y],_=I[Y];E!==_&&Y!=="value"&&o(C,Y,_,E,b,A)}"value"in K&&o(C,"value",I.value,K.value,b)}},v=(C,I,K,A,b,Y,E,_,S)=>{const N=I.el=C?C.el:u(""),T=I.anchor=C?C.anchor:u("");let{patchFlag:O,dynamicChildren:H,slotScopeIds:M}=I;M&&(_=_?_.concat(M):M),C==null?(a(N,K,A),a(T,K,A),ce(I.children||[],K,T,b,Y,E,_,S)):O>0&&O&64&&H&&C.dynamicChildren?(J(C.dynamicChildren,H,K,b,Y,E,_),(I.key!=null||b&&I===b.subTree)&&Aa(C,I,!0)):ne(C,I,K,T,b,Y,E,_,S)},h=(C,I,K,A,b,Y,E,_,S)=>{I.slotScopeIds=_,C==null?I.shapeFlag&512?b.ctx.activate(I,K,A,E,S):x(I,K,A,b,Y,E,S):re(C,I,S)},x=(C,I,K,A,b,Y,E)=>{const _=C.component=Lu(C,A,b);if(ta(C)&&(_.ctx.renderer=Ne),Uu(_,!1,E),_.asyncDep){if(b&&b.registerDep(_,Q,E),!C.el){const S=_.subTree=He(wt);L(null,S,I,K),C.placeholder=S.el}}else Q(_,C,I,K,b,Y,E)},re=(C,I,K)=>{const A=I.component=C.component;if(Ou(C,I,K))if(A.asyncDep&&!A.asyncResolved){z(A,I,K);return}else A.next=I,A.update();else I.el=C.el,A.vnode=I},Q=(C,I,K,A,b,Y,E)=>{const _=()=>{if(C.isMounted){let{next:O,bu:H,u:M,parent:ie,vnode:le}=C;{const et=Ta(C);if(et){O&&(O.el=le.el,z(C,O,E)),et.asyncDep.then(()=>{C.isUnmounted||_()});return}}let fe=O,Se;qt(C,!1),O?(O.el=le.el,z(C,O,E)):O=le,H&&Kn(H),(Se=O.props&&O.props.onVnodeBeforeUpdate)&&Rt(Se,ie,O,le),qt(C,!0);const Te=va(C),De=C.subTree;C.subTree=Te,$(De,Te,l(De.el),he(De),C,b,Y),O.el=Te.el,fe===null&&xu(C,Te.el),M&&ot(M,b),(Se=O.props&&O.props.onVnodeUpdated)&&ot(()=>Rt(Se,ie,O,le),b)}else{let O;const{el:H,props:M}=I,{bm:ie,m:le,parent:fe,root:Se,type:Te}=C,De=ln(I);qt(C,!1),ie&&Kn(ie),!De&&(O=M&&M.onVnodeBeforeMount)&&Rt(O,fe,I),qt(C,!0);{Se.ce&&Se.ce._def.shadowRoot!==!1&&Se.ce._injectChildStyle(Te);const et=C.subTree=va(C);$(null,et,K,A,C,b,Y),I.el=et.el}if(le&&ot(le,b),!De&&(O=M&&M.onVnodeMounted)){const et=I;ot(()=>Rt(O,fe,et),b)}(I.shapeFlag&256||fe&&ln(fe.vnode)&&fe.vnode.shapeFlag&256)&&C.a&&ot(C.a,b),C.isMounted=!0,I=K=A=null}};C.scope.on();const S=C.effect=new Ri(_);C.scope.off();const N=C.update=S.run.bind(S),T=C.job=S.runIfDirty.bind(S);T.i=C,T.id=C.uid,S.scheduler=()=>Bs(T),qt(C,!0),N()},z=(C,I,K)=>{I.component=C;const A=C.vnode.props;C.vnode=I,C.next=null,cu(C,I.props,A,K),_u(C,I.children,K),St(),Ji(C),bt()},ne=(C,I,K,A,b,Y,E,_,S=!1)=>{const N=C&&C.children,T=C?C.shapeFlag:0,O=I.children,{patchFlag:H,shapeFlag:M}=I;if(H>0){if(H&128){de(N,O,K,A,b,Y,E,_,S);return}else if(H&256){q(N,O,K,A,b,Y,E,_,S);return}}M&8?(T&16&&pe(N,b,Y),O!==N&&f(K,O)):T&16?M&16?de(N,O,K,A,b,Y,E,_,S):pe(N,b,Y,!0):(T&8&&f(K,""),M&16&&ce(O,K,A,b,Y,E,_,S))},q=(C,I,K,A,b,Y,E,_,S)=>{C=C||Zt,I=I||Zt;const N=C.length,T=I.length,O=Math.min(N,T);let H;for(H=0;H<O;H++){const M=I[H]=S?Bt(I[H]):yt(I[H]);$(C[H],M,K,null,b,Y,E,_,S)}N>T?pe(C,b,Y,!0,!1,O):ce(I,K,A,b,Y,E,_,S,O)},de=(C,I,K,A,b,Y,E,_,S)=>{let N=0;const T=I.length;let O=C.length-1,H=T-1;for(;N<=O&&N<=H;){const M=C[N],ie=I[N]=S?Bt(I[N]):yt(I[N]);if(Mn(M,ie))$(M,ie,K,null,b,Y,E,_,S);else break;N++}for(;N<=O&&N<=H;){const M=C[O],ie=I[H]=S?Bt(I[H]):yt(I[H]);if(Mn(M,ie))$(M,ie,K,null,b,Y,E,_,S);else break;O--,H--}if(N>O){if(N<=H){const M=H+1,ie=M<T?I[M].el:A;for(;N<=H;)$(null,I[N]=S?Bt(I[N]):yt(I[N]),K,ie,b,Y,E,_,S),N++}}else if(N>H)for(;N<=O;)W(C[N],b,Y,!0),N++;else{const M=N,ie=N,le=new Map;for(N=ie;N<=H;N++){const Ve=I[N]=S?Bt(I[N]):yt(I[N]);Ve.key!=null&&le.set(Ve.key,N)}let fe,Se=0;const Te=H-ie+1;let De=!1,et=0;const Pt=new Array(Te);for(N=0;N<Te;N++)Pt[N]=0;for(N=M;N<=O;N++){const Ve=C[N];if(Se>=Te){W(Ve,b,Y,!0);continue}let Ge;if(Ve.key!=null)Ge=le.get(Ve.key);else for(fe=ie;fe<=H;fe++)if(Pt[fe-ie]===0&&Mn(Ve,I[fe])){Ge=fe;break}Ge===void 0?W(Ve,b,Y,!0):(Pt[Ge-ie]=N+1,Ge>=et?et=Ge:De=!0,$(Ve,I[Ge],K,null,b,Y,E,_,S),Se++)}const st=De?gu(Pt):Zt;for(fe=st.length-1,N=Te-1;N>=0;N--){const Ve=ie+N,Ge=I[Ve],Nt=I[Ve+1],Et=Ve+1<T?Nt.el||Nt.placeholder:A;Pt[N]===0?$(null,Ge,K,Et,b,Y,E,_,S):De&&(fe<0||N!==st[fe]?X(Ge,K,Et,2):fe--)}}},X=(C,I,K,A,b=null)=>{const{el:Y,type:E,transition:_,children:S,shapeFlag:N}=C;if(N&6){X(C.component.subTree,I,K,A);return}if(N&128){C.suspense.move(I,K,A);return}if(N&64){E.move(C,I,K,Ne);return}if(E===Ce){a(Y,I,K);for(let O=0;O<S.length;O++)X(S[O],I,K,A);a(C.anchor,I,K);return}if(E===ps){D(C,I,K);return}if(A!==2&&N&1&&_)if(A===0)_.beforeEnter(Y),a(Y,I,K),ot(()=>_.enter(Y),b);else{const{leave:O,delayLeave:H,afterLeave:M}=_,ie=()=>{C.ctx.isUnmounted?n(Y):a(Y,I,K)},le=()=>{Y._isLeaving&&Y[Xd](!0),O(Y,()=>{ie(),M&&M()})};H?H(Y,ie,le):le()}else a(Y,I,K)},W=(C,I,K,A=!1,b=!1)=>{const{type:Y,props:E,ref:_,children:S,dynamicChildren:N,shapeFlag:T,patchFlag:O,dirs:H,cacheIndex:M}=C;if(O===-2&&(b=!1),_!=null&&(St(),On(_,null,K,C,!0),bt()),M!=null&&(I.renderCache[M]=void 0),T&256){I.ctx.deactivate(C);return}const ie=T&1&&H,le=!ln(C);let fe;if(le&&(fe=E&&E.onVnodeBeforeUnmount)&&Rt(fe,I,C),T&6)_e(C.component,K,A);else{if(T&128){C.suspense.unmount(K,A);return}ie&&Wt(C,null,I,"beforeUnmount"),T&64?C.type.remove(C,I,K,Ne,A):N&&!N.hasOnce&&(Y!==Ce||O>0&&O&64)?pe(N,I,K,!1,!0):(Y===Ce&&O&384||!b&&T&16)&&pe(S,I,K),A&&ee(C)}(le&&(fe=E&&E.onVnodeUnmounted)||ie)&&ot(()=>{fe&&Rt(fe,I,C),ie&&Wt(C,null,I,"unmounted")},K)},ee=C=>{const{type:I,el:K,anchor:A,transition:b}=C;if(I===Ce){oe(K,A);return}if(I===ps){G(C);return}const Y=()=>{n(K),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(C.shapeFlag&1&&b&&!b.persisted){const{leave:E,delayLeave:_}=b,S=()=>E(K,Y);_?_(C.el,Y,S):S()}else Y()},oe=(C,I)=>{let K;for(;C!==I;)K=g(C),n(C),C=K;n(I)},_e=(C,I,K)=>{const{bum:A,scope:b,job:Y,subTree:E,um:_,m:S,a:N}=C;ya(S),ya(N),A&&Kn(A),b.stop(),Y&&(Y.flags|=8,W(E,C,I,K)),_&&ot(_,I),ot(()=>{C.isUnmounted=!0},I)},pe=(C,I,K,A=!1,b=!1,Y=0)=>{for(let E=Y;E<C.length;E++)W(C[E],I,K,A,b)},he=C=>{if(C.shapeFlag&6)return he(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const I=g(C.anchor||C.el),K=I&&I[Ud];return K?g(K):I};let Oe=!1;const ye=(C,I,K)=>{C==null?I._vnode&&W(I._vnode,null,null,!0):$(I._vnode||null,C,I,null,null,null,K),I._vnode=C,Oe||(Oe=!0,Ji(),Wi(),Oe=!1)},Ne={p:$,um:W,m:X,r:ee,mt:x,mc:ce,pc:ne,pbc:J,n:he,o:e};return{render:ye,hydrate:void 0,createApp:ou(ye)}}function ei({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function hu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Aa(e,t,s=!1){const a=e.children,n=t.children;if(Ee(a)&&Ee(n))for(let o=0;o<a.length;o++){const c=a[o];let u=n[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[o]=Bt(n[o]),u.el=c.el),!s&&u.patchFlag!==-2&&Aa(c,u)),u.type===us&&u.patchFlag!==-1&&(u.el=c.el),u.type===wt&&!u.el&&(u.el=c.el)}}function gu(e){const t=e.slice(),s=[0];let a,n,o,c,u;const p=e.length;for(a=0;a<p;a++){const m=e[a];if(m!==0){if(n=s[s.length-1],e[n]<m){t[a]=n,s.push(a);continue}for(o=0,c=s.length-1;o<c;)u=o+c>>1,e[s[u]]<m?o=u+1:c=u;m<e[s[o]]&&(o>0&&(t[a]=s[o-1]),s[o]=a)}}for(o=s.length,c=s[o-1];o-- >0;)s[o]=c,c=t[c];return s}function Ta(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ta(t)}function ya(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Eu=Symbol.for("v-scx"),Cu=()=>cs(Eu);function Ue(e,t,s){return Ra(e,t,s)}function Ra(e,t,s=ke){const{immediate:a,deep:n,flush:o,once:c}=s,u=qe({},s),p=t&&a||!t&&o!=="post";let m;if(kn){if(o==="sync"){const k=Cu();m=k.__watcherHandles||(k.__watcherHandles=[])}else if(!p){const k=()=>{};return k.stop=Ct,k.resume=Ct,k.pause=Ct,k}}const f=Ze;u.call=(k,V,$)=>At(k,f,V,$);let l=!1;o==="post"?u.scheduler=k=>{ot(k,f&&f.suspense)}:o!=="sync"&&(l=!0,u.scheduler=(k,V)=>{V?k():Bs(k)}),u.augmentJob=k=>{t&&(k.flags|=4),l&&(k.flags|=2,f&&(k.id=f.uid,k.i=f))};const g=Nd(e,t,u);return kn&&(m?m.push(g):p&&g()),g}function Su(e,t,s){const a=this.proxy,n=Fe(e)?e.includes(".")?Oa(a,e):()=>a[e]:e.bind(a,a);let o;be(t)?o=t:(o=t.handler,s=t);const c=In(this),u=Ra(n,o.bind(a),s);return c(),u}function Oa(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const bu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Yt(t)}Modifiers`]||e[`${Xt(t)}Modifiers`];function Au(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||ke;let n=s;const o=t.startsWith("update:"),c=o&&bu(a,t.slice(7));c&&(c.trim&&(n=s.map(f=>Fe(f)?f.trim():f)),c.number&&(n=s.map(jn)));let u,p=a[u=vs(t)]||a[u=vs(Yt(t))];!p&&o&&(p=a[u=vs(Xt(t))]),p&&At(p,e,6,n);const m=a[u+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,At(m,e,6,n)}}const Tu=new WeakMap;function xa(e,t,s=!1){const a=s?Tu:t.emitsCache,n=a.get(e);if(n!==void 0)return n;const o=e.emits;let c={},u=!1;if(!be(e)){const p=m=>{const f=xa(m,t,!0);f&&(u=!0,qe(c,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!o&&!u?($e(e)&&a.set(e,null),null):(Ee(o)?o.forEach(p=>c[p]=null):qe(c,o),$e(e)&&a.set(e,c),c)}function ds(e,t){return!e||!Hn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,Xt(t))||Pe(e,t))}function P1(){}function va(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[o],slots:c,attrs:u,emit:p,render:m,renderCache:f,props:l,data:g,setupState:k,ctx:V,inheritAttrs:$}=e,B=as(e);let L,w;try{if(s.shapeFlag&4){const G=n||a,U=G;L=yt(m.call(U,G,f,l,k,g,V)),w=u}else{const G=t;L=yt(G.length>1?G(l,{attrs:u,slots:c,emit:p}):G(l,null)),w=t.props?u:yu(u)}}catch(G){Pn.length=0,ss(G,e,1),L=He(wt)}let D=L;if(w&&$!==!1){const G=Object.keys(w),{shapeFlag:U}=D;G.length&&U&7&&(o&&G.some(Rs)&&(w=Ru(w,o)),D=dn(D,w,!1,!0))}return s.dirs&&(D=dn(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&Ks(D,s.transition),L=D,as(B),L}const yu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Hn(s))&&((t||(t={}))[s]=e[s]);return t},Ru=(e,t)=>{const s={};for(const a in e)(!Rs(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function Ou(e,t,s){const{props:a,children:n,component:o}=e,{props:c,children:u,patchFlag:p}=t,m=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return a?Pa(a,c,m):!!c;if(p&8){const f=t.dynamicProps;for(let l=0;l<f.length;l++){const g=f[l];if(c[g]!==a[g]&&!ds(m,g))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:a===c?!1:a?c?Pa(a,c,m):!0:!!c;return!1}function Pa(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const o=a[n];if(t[o]!==e[o]&&!ds(s,o))return!0}return!1}function xu({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Na=e=>e.__isSuspense;function vu(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):Dd(e)}const Ce=Symbol.for("v-fgt"),us=Symbol.for("v-txt"),wt=Symbol.for("v-cmt"),ps=Symbol.for("v-stc"),Pn=[];let rt=null;function R(e=!1){Pn.push(rt=e?null:[])}function Pu(){Pn.pop(),rt=Pn[Pn.length-1]||null}let Nn=1;function Ma(e,t=!1){Nn+=e,e<0&&rt&&t&&(rt.hasOnce=!0)}function Ia(e){return e.dynamicChildren=Nn>0?rt||Zt:null,Pu(),Nn>0&&rt&&rt.push(e),e}function P(e,t,s,a,n,o){return Ia(i(e,t,s,a,n,o,!0))}function nt(e,t,s,a,n){return Ia(He(e,t,s,a,n,!0))}function ti(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const ka=({key:e})=>e!=null?e:null,_s=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||je(e)||be(e)?{i:We,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,a=0,n=null,o=e===Ce?0:1,c=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ka(t),ref:t&&_s(t),scopeId:zi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:We};return u?(ni(p,s),o&128&&e.normalize(p)):s&&(p.shapeFlag|=Fe(s)?8:16),Nn>0&&!c&&rt&&(p.patchFlag>0||o&6)&&p.patchFlag!==32&&rt.push(p),p}const He=Nu;function Nu(e,t=null,s=null,a=0,n=null,o=!1){if((!e||e===zd)&&(e=wt),ti(e)){const u=dn(e,t,!0);return s&&ni(u,s),Nn>0&&!o&&rt&&(u.shapeFlag&6?rt[rt.indexOf(e)]=u:rt.push(u)),u.patchFlag=-2,u}if(Bu(e)&&(e=e.__vccOpts),t){t=Mu(t);let{class:u,style:p}=t;u&&!Fe(u)&&(t.class=Me(u)),$e(p)&&(Vs(p)&&!Ee(p)&&(p=qe({},p)),t.style=Gt(p))}const c=Fe(e)?1:Na(e)?128:Yd(e)?64:$e(e)?4:be(e)?2:0;return i(e,t,s,a,n,c,o,!0)}function Mu(e){return e?Vs(e)||ma(e)?qe({},e):e:null}function dn(e,t,s=!1,a=!1){const{props:n,ref:o,patchFlag:c,children:u,transition:p}=e,m=t?ku(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&ka(m),ref:t&&t.ref?s&&o?Ee(o)?o.concat(_s(t)):[o,_s(t)]:_s(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dn(e.ssContent),ssFallback:e.ssFallback&&dn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&a&&Ks(f,p.clone(f)),f}function Re(e=" ",t=0){return He(us,null,e,t)}function Iu(e,t){const s=He(ps,null,e);return s.staticCount=t,s}function ae(e="",t=!1){return t?(R(),nt(wt,null,e)):He(wt,null,e)}function yt(e){return e==null||typeof e=="boolean"?He(wt):Ee(e)?He(Ce,null,e.slice()):ti(e)?Bt(e):He(us,null,String(e))}function Bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dn(e)}function ni(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Ee(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),ni(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ma(t)?t._ctx=We:n===3&&We&&(We.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:We},s=32):(t=String(t),a&64?(s=16,t=[Re(t)]):s=8);e.children=t,e.shapeFlag|=s}function ku(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=Me([t.class,a.class]));else if(n==="style")t.style=Gt([t.style,a.style]);else if(Hn(n)){const o=t[n],c=a[n];c&&o!==c&&!(Ee(o)&&o.includes(c))&&(t[n]=o?[].concat(o,c):c)}else n!==""&&(t[n]=a[n])}return t}function Rt(e,t,s,a=null){At(e,t,7,[s,a])}const $u=pa();let wu=0;function Lu(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||$u,o={uid:wu++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new nd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ga(a,n),emitsOptions:xa(a,n),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:a.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Au.bind(null,o),e.ce&&e.ce(o),o}let Ze=null;const Du=()=>Ze||We;let fs,si;{const e=Jn(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),o=>{n.length>1?n.forEach(c=>c(o)):n[0](o)}};fs=t("__VUE_INSTANCE_SETTERS__",s=>Ze=s),si=t("__VUE_SSR_SETTERS__",s=>kn=s)}const In=e=>{const t=Ze;return fs(e),e.scope.on(),()=>{e.scope.off(),fs(t)}},$a=()=>{Ze&&Ze.scope.off(),fs(null)};function wa(e){return e.vnode.shapeFlag&4}let kn=!1;function Uu(e,t=!1,s=!1){t&&si(t);const{props:a,children:n}=e.vnode,o=wa(e);lu(e,a,o,t),pu(e,n,s||t);const c=o?Yu(e,t):void 0;return t&&si(!1),c}function Yu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Zd);const{setup:a}=s;if(a){St();const n=e.setupContext=a.length>1?Fu(e):null,o=In(e),c=an(a,e,0,[e.props,n]),u=hi(c);if(bt(),o(),(u||e.sp)&&!ln(e)&&Zi(e),u){if(c.then($a,$a),t)return c.then(p=>{La(e,p)}).catch(p=>{ss(p,e,0)});e.asyncDep=c}else La(e,c)}else Da(e)}function La(e,t,s){be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$e(t)&&(e.setupState=Vi(t)),Da(e)}function Da(e,t,s){const a=e.type;e.render||(e.render=a.render||Ct);{const n=In(e);St();try{eu(e)}finally{bt(),n()}}}const Xu={get(e,t){return Je(e,"get",""),e[t]}};function Fu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Xu),slots:e.slots,emit:e.emit,expose:t}}function ms(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Vi(Td(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in xn)return xn[s](e)},has(t,s){return s in t||s in xn}})):e.proxy}const Gu=/(?:^|[-_])\w/g,Vu=e=>e.replace(Gu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Hu(e,t=!0){return be(e)?e.displayName||e.name:e.name||t&&e.__name}function Ua(e,t,s=!1){let a=Hu(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=o=>{for(const c in o)if(o[c]===t)return c};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?Vu(a):s?"App":"Anonymous"}function Bu(e){return be(e)&&"__vccOpts"in e}const me=(e,t)=>vd(e,t,kn),Ku="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ii;const Ya=typeof window!="undefined"&&window.trustedTypes;if(Ya)try{ii=Ya.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Xa=ii?e=>ii.createHTML(e):e=>e,ju="http://www.w3.org/2000/svg",Ju="http://www.w3.org/1998/Math/MathML",Lt=typeof document!="undefined"?document:null,Fa=Lt&&Lt.createElement("template"),Wu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?Lt.createElementNS(ju,e):t==="mathml"?Lt.createElementNS(Ju,e):s?Lt.createElement(e,{is:s}):Lt.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,o){const c=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{Fa.innerHTML=Xa(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const u=Fa.content;if(a==="svg"||a==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[c?c.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},qu=Symbol("_vtc");function zu(e,t,s){const a=e[qu];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const hs=Symbol("_vod"),Ga=Symbol("_vsh"),Qu={name:"show",beforeMount(e,{value:t},{transition:s}){e[hs]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):$n(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),$n(e,!0),a.enter(e)):a.leave(e,()=>{$n(e,!1)}):$n(e,t))},beforeUnmount(e,{value:t}){$n(e,t)}};function $n(e,t){e.style.display=t?e[hs]:"none",e[Ga]=!t}const Zu=Symbol(""),ep=/(?:^|;)\s*display\s*:/;function tp(e,t,s){const a=e.style,n=Fe(s);let o=!1;if(s&&!n){if(t)if(Fe(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();s[u]==null&&gs(a,u,"")}else for(const c in t)s[c]==null&&gs(a,c,"");for(const c in s)c==="display"&&(o=!0),gs(a,c,s[c])}else if(n){if(t!==s){const c=a[Zu];c&&(s+=";"+c),a.cssText=s,o=ep.test(s)}}else t&&e.removeAttribute("style");hs in e&&(e[hs]=o?a.display:"",e[Ga]&&(a.display="none"))}const Va=/\s*!important$/;function gs(e,t,s){if(Ee(s))s.forEach(a=>gs(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=np(e,t);Va.test(s)?e.setProperty(Xt(a),s.replace(Va,""),"important"):e[a]=s}}const Ha=["Webkit","Moz","ms"],ai={};function np(e,t){const s=ai[t];if(s)return s;let a=Yt(t);if(a!=="filter"&&a in e)return ai[t]=a;a=Ci(a);for(let n=0;n<Ha.length;n++){const o=Ha[n]+a;if(o in e)return ai[t]=o}return t}const Ba="http://www.w3.org/1999/xlink";function Ka(e,t,s,a,n,o=ed(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ba,t.slice(6,t.length)):e.setAttributeNS(Ba,t,s):s==null||o&&!Ai(s)?e.removeAttribute(t):e.setAttribute(t,o?"":pt(s)?String(s):s)}function ja(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Xa(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let c=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Ai(s):s==null&&u==="string"?(s="",c=!0):u==="number"&&(s=0,c=!0)}try{e[t]=s}catch(u){}c&&e.removeAttribute(n||t)}function Kt(e,t,s,a){e.addEventListener(t,s,a)}function sp(e,t,s,a){e.removeEventListener(t,s,a)}const Ja=Symbol("_vei");function ip(e,t,s,a,n=null){const o=e[Ja]||(e[Ja]={}),c=o[t];if(a&&c)c.value=a;else{const[u,p]=ap(t);if(a){const m=o[t]=lp(a,n);Kt(e,u,m,p)}else c&&(sp(e,u,c,p),o[t]=void 0)}}const Wa=/(?:Once|Passive|Capture)$/;function ap(e){let t;if(Wa.test(e)){t={};let a;for(;a=e.match(Wa);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xt(e.slice(2)),t]}let oi=0;const op=Promise.resolve(),rp=()=>oi||(op.then(()=>oi=0),oi=Date.now());function lp(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;At(cp(a,s.value),t,5,[a])};return s.value=e,s.attached=rp(),s}function cp(e,t){if(Ee(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const qa=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,dp=(e,t,s,a,n,o)=>{const c=n==="svg";t==="class"?zu(e,a,c):t==="style"?tp(e,s,a):Hn(t)?Rs(t)||ip(e,t,s,a,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):up(e,t,a,c))?(ja(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ka(e,t,a,c,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(a))?ja(e,Yt(t),a,o,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Ka(e,t,a,c))};function up(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&qa(t)&&be(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return qa(t)&&Fe(s)?!1:t in e}const un=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?s=>Kn(t,s):t};function pp(e){e.target.composing=!0}function za(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dt=Symbol("_assign"),ue={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[Dt]=un(n);const o=a||n.props&&n.props.type==="number";Kt(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;s&&(u=u.trim()),o&&(u=jn(u)),e[Dt](u)}),s&&Kt(e,"change",()=>{e.value=e.value.trim()}),t||(Kt(e,"compositionstart",pp),Kt(e,"compositionend",za),Kt(e,"change",za))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:o}},c){if(e[Dt]=un(c),e.composing)return;const u=(o||e.type==="number")&&!/^0\d/.test(e.value)?jn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===p)||(e.value=p))}},ut={deep:!0,created(e,t,s){e[Dt]=un(s),Kt(e,"change",()=>{const a=e._modelValue,n=wn(e),o=e.checked,c=e[Dt];if(Ee(a)){const u=Ps(a,n),p=u!==-1;if(o&&!p)c(a.concat(n));else if(!o&&p){const m=[...a];m.splice(u,1),c(m)}}else if(tn(a)){const u=new Set(a);o?u.add(n):u.delete(n),c(u)}else c(eo(e,o))})},mounted:Qa,beforeUpdate(e,t,s){e[Dt]=un(s),Qa(e,t,s)}};function Qa(e,{value:t,oldValue:s},a){e._modelValue=t;let n;if(Ee(t))n=Ps(t,a.props.value)>-1;else if(tn(t))n=t.has(a.props.value);else{if(t===s)return;n=En(t,eo(e,!0))}e.checked!==n&&(e.checked=n)}const ft={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const n=tn(t);Kt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?jn(wn(c)):wn(c));e[Dt](e.multiple?n?new Set(o):o:o[0]),e._assigning=!0,Ki(()=>{e._assigning=!1})}),e[Dt]=un(a)},mounted(e,{value:t}){Za(e,t)},beforeUpdate(e,t,s){e[Dt]=un(s)},updated(e,{value:t}){e._assigning||Za(e,t)}};function Za(e,t){const s=e.multiple,a=Ee(t);if(!(s&&!a&&!tn(t))){for(let n=0,o=e.options.length;n<o;n++){const c=e.options[n],u=wn(c);if(s)if(a){const p=typeof u;p==="string"||p==="number"?c.selected=t.some(m=>String(m)===String(u)):c.selected=Ps(t,u)>-1}else c.selected=t.has(u);else if(En(wn(c),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function wn(e){return"_value"in e?e._value:e.value}function eo(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const _p=["ctrl","shift","alt","meta"],fp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_p.some(s=>e[`${s}Key`]&&!t.includes(s))},mt=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...o)=>{for(let c=0;c<t.length;c++){const u=fp[t[c]];if(u&&u(n,t))return}return e(n,...o)})},mp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const o=Xt(n.key);if(t.some(c=>c===o||mp[c]===o))return e(n)})},hp=qe({patchProp:dp},Wu);let to;function gp(){return to||(to=fu(hp))}const Ep=(...e)=>{const t=gp().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=Sp(a);if(!n)return;const o=t._component;!be(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const c=s(n,!1,Cp(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),c},t};function Cp(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Sp(e){return Fe(e)?document.querySelector(e):e}const Ot=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},bp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},Ap={key:0,class:"nxp-ec-admin-error"},Tp={class:"nxp-ec-admin-error__title"},yp={class:"nxp-ec-admin-error__body"};function Rp(e,t,s,a,n,o){return R(),P("div",null,[n.error?(R(),P("div",Ap,[i("h2",Tp,d(o.fallbackTitle),1),i("p",yp,d(o.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...c)=>o.reload&&o.reload(...c))},d(o.reloadLabel),1)])):Qd(e.$slots,"default",{key:1})])}const Op=Ot(bp,[["render",Rp]]),xp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},vp={class:"nxp-ec-admin-panel__header"},Pp={class:"nxp-ec-admin-panel__title"},Np={class:"nxp-ec-admin-panel__lead"},Mp={class:"nxp-ec-admin-panel__actions"},Ip=["disabled"],kp={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},$p={key:1,class:"nxp-ec-dashboard"},wp={class:"nxp-ec-dashboard__metrics"},Lp={class:"nxp-ec-dashboard__card"},Dp={class:"nxp-ec-dashboard__value"},Up={class:"nxp-ec-dashboard__hint"},Yp={class:"nxp-ec-dashboard__card"},Xp={class:"nxp-ec-dashboard__value"},Fp={class:"nxp-ec-dashboard__hint"},Gp={class:"nxp-ec-dashboard__card"},Vp={class:"nxp-ec-dashboard__value"},Hp={class:"nxp-ec-dashboard__hint"},Bp={class:"nxp-ec-dashboard__card"},Kp={class:"nxp-ec-dashboard__value"},jp={class:"nxp-ec-dashboard__hint"},Jp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Wp={class:"nxp-ec-dashboard__checklist-header"},qp={id:"dashboard-checklist-heading"},zp={class:"nxp-ec-dashboard__checklist-progress"},Qp={class:"nxp-ec-dashboard__checklist-list"},Zp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},e_={key:0,class:"fa-solid fa-circle-check"},t_={key:1,class:"fa-regular fa-circle"},n_={class:"nxp-ec-dashboard__checklist-label"},s_=["href","title"],i_={class:"nxp-ec-sr-only"},a_=Ot({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,a=s.translate,n=s.state,o=me(()=>{var l;const f=(l=n.summary)==null?void 0:l.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),c=(f=0)=>{const l=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:o.value}).format(l)}catch(g){return`${o.value} ${l.toFixed(2)}`}},u=me(()=>Array.isArray(n.checklist)?n.checklist:[]),p=me(()=>u.value.filter(f=>f.completed).length),m=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,l)=>(R(),P("section",xp,[i("header",vp,[i("div",null,[i("h2",Pp,d(r(a)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",Np,d(r(a)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Mp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:l[0]||(l[0]=g=>f.$emit("refresh")),disabled:r(n).loading},d(r(a)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,Ip)])]),r(n).error?(R(),P("div",kp,d(r(n).error),1)):(R(),P("div",$p,[i("div",wp,[i("article",Lp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Dp,d(r(n).summary.products.active),1),i("p",Up,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Yp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",Xp,d(c(r(n).summary.orders.revenue_today)),1),i("p",Fp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",Gp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",Vp,d(r(n).summary.customers.total),1),i("p",Hp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Bp,[i("h3",null,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Kp,d(c(r(n).summary.orders.revenue_month)),1),i("p",jp,d(r(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[o.value.value],"dashboardMetricCurrency")),1)])]),i("section",Jp,[i("header",Wp,[i("h3",qp,d(r(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",zp,d(p.value)+" / "+d(u.value.length),1)]),i("ul",Qp,[(R(!0),P(Ce,null,xe(u.value,g=>(R(),P("li",{key:g.id,class:Me({"is-complete":g.completed})},[i("span",Zp,[g.completed?(R(),P("span",e_)):(R(),P("span",t_))]),i("span",n_,d(r(a)(g.label,m(g.label))),1),g.link?(R(),P("a",{key:0,href:g.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[l[1]||(l[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",i_,d(r(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,s_)):ae("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),o_={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},r_={id:"nxp-ec-products-caption",class:"visually-hidden"},l_={scope:"col"},c_={scope:"col"},d_={scope:"col"},u_={scope:"col"},p_={scope:"col"},__={scope:"col"},f_={scope:"col"},m_={scope:"col"},h_={scope:"col",class:"nxp-ec-admin-table__actions"},g_={key:0},E_={colspan:"8",class:"nxp-ec-admin-table__empty"},C_=["data-label"],S_={class:"nxp-ec-admin-table__primary"},b_={class:"nxp-ec-products-table__title"},A_={class:"nxp-ec-products-table__slug"},T_={key:0,class:"nxp-ec-products-table__badge"},y_={class:"nxp-ec-status nxp-ec-status--featured"},R_=["data-label"],O_={key:0},x_={key:1},v_=["data-label"],P_=["data-label"],N_=["data-label"],M_={key:0},I_={key:1},k_=["data-label"],$_=["disabled","aria-pressed","title","aria-label","onClick"],w_={class:"nxp-ec-sr-only"},L_=["data-label"],D_={class:"nxp-ec-admin-table__actions"},U_=["onClick","title","aria-label"],Y_={class:"nxp-ec-sr-only"},X_=["onClick","title","aria-label"],F_={class:"nxp-ec-sr-only"},ri=1,Ln=-1,li=0,G_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,a=me(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,l=!1)=>{const g=Number(f);if(Number.isFinite(g))return g===Ln?Ln:g===li?li:ri;if(l)return Ln;if(typeof f=="string"){const k=f.trim().toLowerCase();if(k==="out_of_stock"||k==="out-of-stock"||k==="-1")return Ln;if(k==="inactive"||k==="0")return li}return ri},o=f=>{var V;const l=n((V=f==null?void 0:f.status)!=null?V:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),g=l===ri,k=l===Ln;return{status:l,isActive:g,isOutOfStock:k,label:g?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):k?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:g?"nxp-ec-status--active":k?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:g?"fa-solid fa-circle-check":k?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},c=f=>{var $,B,L,w;const l=(B=($=f==null?void 0:f.summary)==null?void 0:$.variants)!=null?B:{};if(l.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const g=Number.isFinite(l.price_min_cents)?l.price_min_cents:null,k=Number.isFinite(l.price_max_cents)?l.price_max_cents:null;if(g===null)return"";const V=l.currency||((w=(L=f==null?void 0:f.variants)==null?void 0:L[0])==null?void 0:w.currency)||a.value;return k===null||k===g?m(g,V):`${m(g,V)}  ${m(k,V)}`},u=f=>{var k,V;const l=(V=(k=f==null?void 0:f.summary)==null?void 0:k.variants)!=null?V:{},g=Number.isFinite(l.count)?l.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return g===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(g)])},p=f=>{if(!Array.isArray(f)||!f.length)return"";const l=f.map(V=>(V==null?void 0:V.title)||(V==null?void 0:V.slug)).filter(V=>!!V);if(!l.length)return"";if(l.length<=3)return l.join(", ");const g=l.slice(0,3).join(", "),k=l.length-3;return`${g} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(k)])}`},m=(f,l)=>`${(f/100).toFixed(2)} ${l}`;return(f,l)=>(R(),P("table",o_,[i("caption",r_,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",l_,d(r(s)("JGRID_HEADING_ID","ID")),1),i("th",c_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",d_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",u_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",p_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",__,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",f_,d(r(s)("JSTATUS","Status")),1),i("th",m_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",h_,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?ae("",!0):(R(),P("tr",g_,[i("td",E_,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(R(!0),P(Ce,null,xe(e.items,g=>{var k,V,$,B,L,w,D,G,U,y,te,ce;return R(),P("tr",{key:g.id},[i("td",{"data-label":r(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},d(g.id),9,C_),i("td",S_,[i("div",b_,d(g.title),1),i("div",A_,d(g.slug),1),g.featured?(R(),P("div",T_,[i("span",y_,[l[0]||(l[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Re(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ae("",!0)]),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[c(g)?(R(),P("span",O_,d(c(g)),1)):(R(),P("span",x_,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,R_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},d(u(g)),9,v_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[i("span",{class:Me(["nxp-ec-status",(V=(k=g.summary)==null?void 0:k.variants)!=null&&V.stock_zero?"nxp-ec-status--danger":(B=($=g.summary)==null?void 0:$.variants)!=null&&B.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(w=(L=g.summary)==null?void 0:L.variants)!=null&&w.stock_zero||((G=(D=g.summary)==null?void 0:D.variants)==null?void 0:G.stock_total)===0?(R(),P(Ce,{key:0},[Re(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(R(),P(Ce,{key:1},[Re(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((te=(y=(U=g.summary)==null?void 0:U.variants)==null?void 0:y.stock_total)!=null?te:0)])),1)],64))],2)],8,P_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(ce=g.categories)!=null&&ce.length?(R(),P("span",M_,d(p(g.categories)),1)):(R(),P("span",I_,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,N_),i("td",{"data-label":r(s)("JSTATUS","Status")},[i("button",{type:"button",class:Me(["nxp-ec-status","nxp-ec-status-button",o(g).className]),disabled:e.saving,"aria-pressed":o(g).isActive?"true":"false",title:o(g).title,"aria-label":o(g).title,onClick:ge=>f.$emit("toggle-active",g)},[i("i",{class:Me(o(g).icon),"aria-hidden":"true"},null,2),Re(" "+d(o(g).label)+" ",1),i("span",w_,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,$_)],8,k_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},d(g.modified||g.created),9,L_),i("td",D_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("edit",g),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[l[1]||(l[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",Y_,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,U_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("delete",g),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[l[2]||(l[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",F_,d(r(s)("JTRASH","Delete")),1)],8,X_)])])}),128))])]))}},V_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},H_={class:"nxp-ec-modal__dialog"},B_={class:"nxp-ec-modal__header"},K_={class:"nxp-ec-modal__title"},j_={class:"nxp-ec-modal__header-actions"},J_=["disabled","title","aria-label"],W_={class:"nxp-ec-sr-only"},q_=["disabled","title","aria-label"],z_={class:"nxp-ec-sr-only"},Q_=["aria-label"],Z_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ef={class:"nxp-ec-form-field"},tf={class:"nxp-ec-form-label",for:"product-title"},nf={class:"nxp-ec-form-field"},sf={class:"nxp-ec-form-label",for:"product-slug"},af=["placeholder"],of={class:"nxp-ec-form-field"},rf={class:"nxp-ec-form-label",for:"product-short-desc"},lf={class:"nxp-ec-form-field"},cf={class:"nxp-ec-form-label",for:"product-long-desc"},df={class:"nxp-ec-form-field"},uf={class:"nxp-ec-form-label",for:"product-status"},pf={value:1},_f={value:-1},ff={value:0},mf={class:"nxp-ec-form-help"},hf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},gf={class:"nxp-ec-form-label",for:"product-featured"},Ef={class:"nxp-ec-form-help"},Cf={class:"nxp-ec-form-field"},Sf={class:"nxp-ec-form-label",for:"product-images"},bf={id:"product-images",class:"nxp-ec-image-list"},Af=["id","onUpdate:modelValue","placeholder"],Tf={class:"nxp-ec-image-row__actions"},yf=["onClick"],Rf=["onClick","disabled"],Of=["onClick","disabled"],xf=["onClick","aria-label"],vf={class:"nxp-ec-form-help"},Pf={class:"nxp-ec-form-field"},Nf={class:"nxp-ec-form-label",for:"product-category-select"},Mf=["value"],If={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},kf=["onClick","aria-label"],$f={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},wf=["onKeydown","placeholder"],Lf={class:"nxp-ec-form-help"},Df={class:"nxp-ec-variant-section"},Uf={class:"nxp-ec-variant-section__header"},Yf={class:"nxp-ec-variant-section__title"},Xf={class:"nxp-ec-form-help"},Ff={class:"nxp-ec-variant-card__header"},Gf={class:"nxp-ec-variant-card__title"},Vf=["onClick"],Hf=["onClick","disabled"],Bf={class:"nxp-ec-variant-card__grid"},Kf={class:"nxp-ec-form-field"},jf=["for"],Jf=["id","onUpdate:modelValue"],Wf={class:"nxp-ec-form-field"},qf=["for"],zf=["id","onUpdate:modelValue","onBlur"],Qf={class:"nxp-ec-form-field"},Zf=["for"],em=["id","onUpdate:modelValue"],tm={class:"nxp-ec-form-field"},nm=["for"],sm=["id","onUpdate:modelValue"],im={class:"nxp-ec-form-field nxp-ec-form-field--inline"},am=["for"],om=["id","onUpdate:modelValue"],rm={class:"nxp-ec-variant-options"},lm={class:"nxp-ec-variant-options__header"},cm={class:"nxp-ec-variant-options__title"},dm=["onClick"],um={class:"nxp-ec-form-help"},pm=["id","onUpdate:modelValue","placeholder"],_m=["id","onUpdate:modelValue","placeholder"],fm=["onClick","aria-label"],mm={class:"nxp-ec-modal__actions"},hm=["disabled"],gm=["disabled"],no="product-editor-form",Em=Ot({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=me(()=>(s.baseCurrency||"USD").toUpperCase()),c=E=>{var _,S,N,T,O,H,M,ie;if(E==null)return null;if(typeof E=="string"){const le=E.trim();return le===""?null:{id:0,title:le,slug:""}}if(typeof E=="object"){const le=Number.parseInt((S=(_=E.id)!=null?_:E.value)!=null?S:0,10)||0,fe=(M=(H=(O=(T=(N=E.title)!=null?N:E.name)!=null?T:E.text)!=null?O:E.label)!=null?H:E.slug)!=null?M:"",Se=String(fe!=null?fe:"").trim(),Te=String((ie=E.slug)!=null?ie:"").trim(),De=E.parent_id!==null&&E.parent_id!==void 0&&Number.parseInt(E.parent_id,10)||null;return le<=0&&Se===""?null:{id:le>0?le:0,title:Se!==""?Se:Te,slug:Te,parent_id:De}}return null},u=E=>{const _=Number(E);if(Number.isFinite(_))return _===-1?-1:_===0?0:1;if(typeof E=="string"){const S=E.trim().toLowerCase();if(S==="out_of_stock"||S==="out-of-stock"||S==="-1")return-1;if(S==="inactive"||S==="0")return 0}return 1},p=Ie({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),m=Xe(""),f=Xe(!1),l=(E,_,S=new Set)=>{if(!E||S.has(E))return 0;S.add(E);const N=_.find(T=>T.id===E);return!N||!N.parent_id?0:1+l(N.parent_id,_,S)},g=E=>{if(!E)return"";const _=Array.isArray(s.categoryOptions)?s.categoryOptions:[],S=l(E.id,_);return S===0?E.title:"".repeat(S)+" "+E.title},k=me(()=>{const _=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(c).filter(O=>O&&O.id>0&&O.title!==""),S=new Map;_.forEach(O=>{S.set(O.id,O)}),p.categories.forEach(O=>{var H;O.id>0&&O.title&&!S.has(O.id)&&S.set(O.id,{id:O.id,title:O.title,slug:(H=O.slug)!=null?H:"",parent_id:O.parent_id!==null&&O.parent_id!==void 0?O.parent_id:null})});const N=Array.from(S.values()),T=(O=null,H=0)=>N.filter(M=>M.parent_id===O).sort((M,ie)=>M.title.localeCompare(ie.title)).flatMap(M=>[M,...T(M.id,H+1)]);return T()}),V=me(()=>{const E=new Map;return k.value.forEach(_=>{var S;E.set(_.id,{title:_.title,slug:(S=_.slug)!=null?S:""})}),E}),$=me({get:()=>p.categories.filter(_=>_&&_.id>0).map(_=>_.id),set:E=>{const _=Array.isArray(E)?E:[],S=Array.from(new Set(_.map(O=>Number.parseInt(O!=null?O:0,10)||0).filter(O=>O>0))),N=p.categories.filter(O=>!(O.id>0)),T=S.map(O=>{const H=V.value.get(O),M=p.categories.find(fe=>fe.id===O),ie=(H==null?void 0:H.title)||(M==null?void 0:M.title)||"",le=(H==null?void 0:H.slug)||(M==null?void 0:M.slug)||"";return ie===""?null:{id:O,title:ie,slug:le}}).filter(O=>O!==null);p.categories.splice(0,p.categories.length,...T,...N)}}),B=me(()=>s.product&&s.product.id?"edit":"create"),L=()=>({id:0,sku:"",price:"",currency:o.value,stock:0,weight:"",active:!0,options:[]}),w=()=>({name:"",value:""}),D=E=>E?E.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",G=()=>{f.value=!0,p.slug=D(p.slug)},U=E=>{const S=(Array.isArray(E)?E:[]).map(c).filter(O=>O&&(O.id>0||O.title!=="")),N=new Set,T=[];S.forEach(O=>{const H=O.id>0?`id:${O.id}`:`title:${O.title.toLowerCase()}`;N.has(H)||(N.add(H),T.push(O))}),p.categories.splice(0,p.categories.length,...T)},y=E=>{p.variants.splice(0,p.variants.length,...E)},te=E=>{p.images.splice(0,p.images.length,...E)},ce=E=>Array.isArray(E)?E.map(_=>{var S,N,T;return{name:String((N=(S=_==null?void 0:_.name)!=null?S:_==null?void 0:_.key)!=null?N:"").trim(),value:String((T=_==null?void 0:_.value)!=null?T:"").trim()}}):E&&typeof E=="object"?Object.entries(E).map(([_,S])=>({name:String(_!=null?_:"").trim(),value:String(S!=null?S:"").trim()})):[],ge=E=>!Array.isArray(E)||E.length===0?[L()]:E.map(_=>{var S,N,T,O;return{id:Number.parseInt((S=_==null?void 0:_.id)!=null?S:0,10)||0,sku:String((N=_==null?void 0:_.sku)!=null?N:"").trim(),price:(_==null?void 0:_.price)!=null?String(_.price):Number.isFinite(_==null?void 0:_.price_cents)?(_.price_cents/100).toFixed(2):"",currency:String((T=_==null?void 0:_.currency)!=null?T:o.value).toUpperCase(),stock:Number.parseInt((O=_==null?void 0:_.stock)!=null?O:0,10)||0,weight:(_==null?void 0:_.weight)!=null?String(_.weight):"",active:(_==null?void 0:_.active)!==void 0?!!_.active:!0,options:ce(_==null?void 0:_.options)}}),J=E=>{var T,O,H,M;const _=E?JSON.parse(JSON.stringify(E)):{};p.title=(T=_.title)!=null?T:"",p.slug=(O=_.slug)!=null?O:"",p.short_desc=(H=_.short_desc)!=null?H:"",p.long_desc=(M=_.long_desc)!=null?M:"",p.status=u(_.status!==void 0?_.status:_.active),p.featured=_.featured!==void 0?!!_.featured:!1;const S=Array.isArray(_.images)?_.images.map(ie=>String(ie!=null?ie:"").trim()).filter(Boolean):[];te(S);const N=Array.isArray(_.categories)?_.categories:[];U(N),m.value="",y(ge(_.variants)),f.value=!!p.slug};Ue(()=>s.product,E=>{J(E)},{immediate:!0}),Ue(()=>p.title,E=>{f.value||(p.slug=D(E))}),Ue(o,E=>{p.variants.forEach(_=>{_.currency=E})});const j=()=>{const E=m.value.trim();if(!E)return;const _=E.toLowerCase(),S=p.categories.slice();S.some(T=>T.title.toLowerCase()===_)||(S.push({id:0,title:E,slug:""}),p.categories.splice(0,p.categories.length,...S)),m.value=""},v=E=>{if(E<0||E>=p.categories.length)return;const _=p.categories.slice();_.splice(E,1),p.categories.splice(0,p.categories.length,..._)},h=()=>{p.variants.push(L())},x=E=>{p.variants.length<=1||p.variants.splice(E,1)},re=E=>{const _=p.variants[E];_&&(Array.isArray(_.options)||(_.options=[]),_.options.push(w()))},Q=(E,_)=>{const S=p.variants[E];!S||!Array.isArray(S.options)||S.options.splice(_,1)},z=(E,_)=>`${E.id||"new"}-${_}`,ne=E=>{const _=p.variants[E];if(!_)return;const S=JSON.parse(JSON.stringify(_));S.id=0,S.sku=[S.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),S.active=!0,p.variants.splice(E+1,0,S)},q=E=>{const _=p.variants[E];if(!_)return;const S=Number.parseFloat(_.price);Number.isNaN(S)||(_.price=S.toFixed(2))};let de=null,X=null,W=null,ee=null,oe="";const _e=()=>{Array.isArray(p.images)||(p.images=[])},pe=E=>{var T,O,H;if(!E)return"";let _=String(E).trim();if(_==="")return"";try{const M=(H=(O=(T=window.Joomla)==null?void 0:T.getOptions)==null?void 0:O.call(T,"system.paths",{}))!=null?H:{},ie=M.rootFull||window.location.origin,le=M.root||"/";_.startsWith(ie)&&(_=_.substring(ie.length)),_.startsWith(le)&&(_=_.substring(le.length))}catch(M){}const S=_.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);S&&S[1]&&(_=S[1]);const N=_.indexOf("#joomlaImage://");return N!==-1&&(_=_.substring(0,N)),_.trim()},he=(E,{keepIndex:_=!1,appendWhenNoIndex:S=!1,targetIndex:N=null}={})=>{const T=pe(E);if(T==="")return!1;_e();const O=N!==null&&N>=0?N:ee;return O==null||Number.isNaN(O)?S?(p.images.push(T),_||(ee=null,oe=""),!0):!1:(O>=p.images.length?p.images.push(T):p.images[O]=T,oe=_?T:"",_||(ee=null,oe=""),!0)},Oe=()=>{_e(),p.images.push("")},ye=E=>{_e(),p.images.splice(E,1)},Ne=(E,_)=>{_e();const S=p.images[E];if(S===void 0)return;const N=E+_;N<0||N>=p.images.length||(p.images.splice(E,1),p.images.splice(N,0,S))},Be=E=>{var N;_e();const _=(N=p.images[E])!=null?N:"";if(typeof window=="undefined")return;const S=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),_);he(S!=null?S:"",{targetIndex:E})},C=()=>{var O,H,M,ie,le,fe;const E=(s.mediaModalUrl||"").trim();if(E!=="")return E;const _=(M=(H=(O=window.Joomla)==null?void 0:O.getOptions)==null?void 0:H.call(O,"media-picker",{}))!=null?M:{};if(_.modalUrl)return _.modalUrl;const S=(fe=(le=(ie=window.Joomla)==null?void 0:ie.getOptions)==null?void 0:le.call(ie,"system.paths",{}))!=null?fe:{},N=S.rootFull||S.root||"";return(N?N.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},I=async()=>{var M,ie,le,fe,Se,Te,De,et,Pt;if(de)return de;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(st){return null}const E=(le=(ie=(M=window.Joomla)==null?void 0:M.getOptions)==null?void 0:ie.call(M,"system.paths",{}))!=null?le:{},_=E.rootFull||E.root||"",S=(Te=(Se=(fe=window.Joomla)==null?void 0:fe.getOptions)==null?void 0:Se.call(fe,"com_media",{}))!=null?Te:{},N=(S==null?void 0:S.file_path)||"images",T=(Pt=(et=(De=window.Joomla)==null?void 0:De.getOptions)==null?void 0:et.call(De,"media-picker",{}))!=null?Pt:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},H=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return X=document.createElement("div"),X.className="nxp-ec-media-picker-host",X.style.display="none",X.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${_.replace(/"/g,"&quot;")}"
            root-folder="${N.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${H}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(T).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(X),de=X.querySelector("joomla-field-media"),W=X.querySelector(".nxp-ec-media-field__input"),de.addEventListener("change",st=>{var Nt,Et,_n,fn,bs,As;const Ve=(_n=(Et=(Nt=st.detail)==null?void 0:Nt.value)!=null?Et:W==null?void 0:W.value)!=null?_n:"";let Ge=pe(Ve);if(Ge===""&&oe!==""&&(Ge=oe),Ge===""&&((fn=window.Joomla)!=null&&fn.selectedMediaFile)){const ui=pe((bs=window.Joomla.selectedMediaFile.url)!=null?bs:""),mn=pe((As=window.Joomla.selectedMediaFile.path)!=null?As:"");Ge=ui||mn}he(Ge)}),de.addEventListener("joomla-dialog:close",()=>{ee=null,oe=""}),W&&W.addEventListener("change",()=>{var Ve,Ge,Nt,Et;if(ee===null)return;let st=pe((Ve=W.value)!=null?Ve:"");if(st===""&&oe!==""&&(st=oe),st===""&&((Ge=window.Joomla)!=null&&Ge.selectedMediaFile)){const _n=pe((Nt=window.Joomla.selectedMediaFile.url)!=null?Nt:""),fn=pe((Et=window.Joomla.selectedMediaFile.path)!=null?Et:"");st=_n||fn}st!==""&&he(st)}),de},K=E=>{var O,H;const _=E==null?void 0:E.detail;if(!_||typeof _!="object")return;const S=pe((O=_.path)!=null?O:""),T=pe((H=_.url)!=null?H:"")||S;T===""||ee===null||(oe=T,he(T,{keepIndex:!0}))};at(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",K)});const A=async E=>{var N;_e();const _=await I();if(!_||typeof _.show!="function"){Be(E);return}ee=E,_.setAttribute("url",C());const S=(N=p.images[E])!=null?N:"";typeof _.setValue=="function"?_.setValue(S):W&&(W.value=S);try{_.show()}catch(T){ee=null,oe="",Be(E)}};sa(()=>{X&&X.parentNode&&X.parentNode.removeChild(X),de=null,X=null,W=null,ee=null,oe="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",K)});const b=()=>{var O,H;_e();const E=Array.from(new Set(p.images.map(M=>String(M!=null?M:"").trim()).filter(M=>M!==""))),_=p.categories.map(M=>{var Se,Te,De;const ie=Number.parseInt((Se=M==null?void 0:M.id)!=null?Se:0,10)||0,le=String((Te=M==null?void 0:M.title)!=null?Te:"").trim(),fe=String((De=M==null?void 0:M.slug)!=null?De:"").trim();return ie>0?{id:ie,title:le,slug:fe}:le===""?null:{id:0,title:le,slug:""}}).filter(M=>M!==null),S=p.variants.map(M=>{const ie=Array.isArray(M.options)?M.options.map(Se=>{var Te,De;return{name:String((Te=Se==null?void 0:Se.name)!=null?Te:"").trim(),value:String((De=Se==null?void 0:Se.value)!=null?De:"").trim()}}).filter(Se=>Se.name!==""&&Se.value!==""):[],le=Number.isFinite(Number(M.stock))?Math.max(0,parseInt(M.stock,10)):0,fe=M.weight!==null&&M.weight!==""?String(M.weight).trim():null;return{id:M.id||0,sku:M.sku.trim(),price:M.price!==null&&M.price!==void 0?String(M.price).trim():"",currency:M.currency?String(M.currency).trim().toUpperCase():o.value,stock:le,weight:fe,active:!!M.active,options:ie}}),N=u(p.status),T={title:p.title.trim(),slug:p.slug.trim(),short_desc:(O=p.short_desc)!=null?O:"",long_desc:(H=p.long_desc)!=null?H:"",status:N,active:N,featured:!!p.featured,images:E,categories:_,variants:S};a("submit",T)},Y=()=>{a("cancel")};return Ue(()=>s.saving,(E,_)=>{_&&!E&&s.errors.length===0&&B.value==="create"&&(J(null),m.value="",f.value=!1)}),(E,_)=>e.open?(R(),P("div",V_,[_[10]||(_[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",H_,[i("header",B_,[i("h2",K_,d(B.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",j_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:Y,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[_[8]||(_[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",W_,d(r(n)("JCANCEL","Cancel")),1)],8,J_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:no,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[i("i",{class:Me(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",z_,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,q_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:Y,"aria-label":r(n)("JCLOSE","Close")},"  ",8,Q_)])]),i("form",{id:no,class:"nxp-ec-form",onSubmit:mt(b,["prevent"])},[e.errors.length?(R(),P("div",Z_,[(R(!0),P(Ce,null,xe(e.errors,(S,N)=>(R(),P("p",{key:N},d(S),1))),128))])):ae("",!0),i("div",ef,[i("label",tf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),Z(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[0]||(_[0]=S=>p.title=S),required:""},null,512),[[ue,p.title,void 0,{trim:!0}]])]),i("div",nf,[i("label",sf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),Z(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[1]||(_[1]=S=>p.slug=S),onInput:G,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,af),[[ue,p.slug,void 0,{trim:!0}]])]),i("div",of,[i("label",rf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),Z(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":_[2]||(_[2]=S=>p.short_desc=S)},null,512),[[ue,p.short_desc]])]),i("div",lf,[i("label",cf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),Z(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":_[3]||(_[3]=S=>p.long_desc=S)},null,512),[[ue,p.long_desc]])]),i("div",df,[i("label",uf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),Z(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":_[4]||(_[4]=S=>p.status=S)},[i("option",pf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",_f,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[ft,p.status,void 0,{number:!0}]]),i("p",mf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",hf,[i("label",gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),Z(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":_[5]||(_[5]=S=>p.featured=S)},null,512),[[ut,p.featured]]),i("p",Ef,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",Cf,[i("label",Sf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",bf,[(R(!0),P(Ce,null,xe(p.images,(S,N)=>(R(),P("div",{key:`product-image-${N}`,class:"nxp-ec-image-row"},[Z(i("input",{id:`product-image-${N}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":T=>p.images[N]=T,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,Af),[[ue,p.images[N],void 0,{trim:!0}]]),i("div",Tf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:T=>A(N)},[_[9]||(_[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,yf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>Ne(N,-1),disabled:N===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,Rf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>Ne(N,1),disabled:N===p.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,Of),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:T=>ye(N),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,xf)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:Oe},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",vf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",Pf,[i("label",Nf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),Z(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":_[6]||(_[6]=S=>$.value=S)},[(R(!0),P(Ce,null,xe(k.value,S=>(R(),P("option",{key:S.id,value:S.id},d(g(S)),9,Mf))),128))],512),[[ft,$.value]]),i("div",If,[(R(!0),P(Ce,null,xe(p.categories,(S,N)=>(R(),P("span",{key:`selected-category-${N}`,class:"nxp-ec-chip"},[Re(d(S.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:T=>v(N),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,kf)]))),128))]),i("div",$f,[Z(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":_[7]||(_[7]=S=>m.value=S),onKeydown:zt(mt(j,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,wf),[[ue,m.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:j},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",Lf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",Df,[i("header",Uf,[i("h3",Yf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:h},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",Xf,[Re(d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),o.value?(R(),P(Ce,{key:0},[Re(" ("+d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[o.value]))+") ",1)],64)):ae("",!0)]),(R(!0),P(Ce,null,xe(p.variants,(S,N)=>(R(),P("article",{key:z(S,N),class:"nxp-ec-variant-card"},[i("header",Ff,[i("h4",Gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(N+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>ne(N)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Vf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:T=>x(N),disabled:p.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,Hf)]),i("div",Bf,[i("div",Kf,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,jf),Z(i("input",{id:`variant-sku-${N}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":T=>S.sku=T,required:""},null,8,Jf),[[ue,S.sku,void 0,{trim:!0}]])]),i("div",Wf,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,qf),Z(i("input",{id:`variant-price-${N}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":T=>S.price=T,onBlur:T=>q(N),required:""},null,40,zf),[[ue,S.price,void 0,{trim:!0}]])]),i("div",Qf,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Zf),Z(i("input",{id:`variant-stock-${N}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":T=>S.stock=T},null,8,em),[[ue,S.stock,void 0,{number:!0}]])]),i("div",tm,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,nm),Z(i("input",{id:`variant-weight-${N}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":T=>S.weight=T},null,8,sm),[[ue,S.weight,void 0,{trim:!0}]])]),i("div",im,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,am),Z(i("input",{id:`variant-active-${N}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":T=>S.active=T},null,8,om),[[ut,S.active]])])]),i("section",rm,[i("header",lm,[i("h5",cm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>re(N)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,dm)]),i("p",um,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(R(!0),P(Ce,null,xe(S.options,(T,O)=>(R(),P("div",{key:`variant-${N}-option-${O}`,class:"nxp-ec-variant-option-row"},[Z(i("input",{id:`variant-${N}-option-name-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H=>T.name=H,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,pm),[[ue,T.name,void 0,{trim:!0}]]),Z(i("input",{id:`variant-${N}-option-value-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H=>T.value=H,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,_m),[[ue,T.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:H=>Q(N,O),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,fm)]))),128))])]))),128))]),i("footer",mm,[i("button",{type:"button",class:"nxp-ec-btn",onClick:Y,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,hm),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,gm)])],32)])])):ae("",!0)}},[["__scopeId","data-v-ecc75f68"]]),Cm={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Sm={key:1,class:"nxp-ec-skeleton__table"},bm={key:2,class:"nxp-ec-skeleton__card"},Am={key:3,class:"nxp-ec-skeleton__circle"};function Tm(e,t,s,a,n,o){return R(),P("div",{class:Me(["nxp-ec-skeleton",o.skeletonClasses])},[s.type==="text"?(R(),P("div",{key:0,class:"nxp-ec-skeleton__line",style:Gt({width:s.width})},null,4)):s.type==="table"?(R(),P("div",Sm,[(R(!0),P(Ce,null,xe(s.rows,c=>(R(),P("div",{key:c,class:"nxp-ec-skeleton__table-row"},[(R(!0),P(Ce,null,xe(s.columns,u=>(R(),P("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(R(),P("div",bm,[...t[0]||(t[0]=[Iu('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(R(),P("div",Am)):(R(),P("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Gt({width:s.width,height:s.height})},null,4))],2)}const Dn=Ot(Cm,[["render",Tm],["__scopeId","data-v-c8b9a887"]]),ym={class:"nxp-ec-admin-panel"},Rm={class:"nxp-ec-admin-panel__header"},Om={class:"nxp-ec-admin-panel__title"},xm={class:"nxp-ec-admin-panel__lead"},vm={class:"nxp-ec-admin-panel__actions"},Pm=["placeholder","aria-label"],Nm=["disabled","title","aria-label"],Mm={class:"nxp-ec-sr-only"},Im={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},km={key:1,class:"nxp-ec-admin-panel__body"},$m={key:2,class:"nxp-ec-admin-panel__body"},wm=["title"],Un=1,pn=-1,Es=0,Lm={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Ie({mode:"create",product:null}),c=Xe(!1),u=me(()=>(s.baseCurrency||"USD").toUpperCase()),p=me(()=>o.product),m=me(()=>(s.mediaModalUrl||"").trim()),f=(U,y=!1)=>{const te=Number(U);if(Number.isFinite(te))return te===pn?pn:te===Es?Es:Un;if(y)return pn;if(typeof U=="string"){const ce=U.trim().toLowerCase();if(ce==="out_of_stock"||ce==="out-of-stock"||ce==="-1")return pn;if(ce==="inactive"||ce==="0")return Es}return Un},l=(U,y=!1)=>{const te=f(U,y);return te===Un?pn:te===pn?Es:Un},g=()=>{s.state.validationErrors=[],s.state.error="",o.mode="create",o.product={title:"",slug:"",short_desc:"",long_desc:"",status:Un,active:!0,featured:!1,images:[],categories:[],variants:[]},c.value=!0},k=U=>{s.state.validationErrors=[],s.state.error="",o.mode="edit",o.product=JSON.parse(JSON.stringify(U)),c.value=!0},V=()=>{c.value=!1,s.state.validationErrors=[]},$=async U=>{var ce,ge;const y=f((ce=U.status)!=null?ce:U.active,U.out_of_stock),te={...U,status:y,active:y,featured:U.featured?1:0};o.mode==="edit"&&((ge=o.product)!=null&&ge.id)?a("update",{id:o.product.id,data:te}):a("create",te)},B=async U=>{var ce;const y=(ce=U==null?void 0:U.title)!=null?ce:"",te=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[y||"#"]);window.confirm(te)&&a("delete",[U.id])},L=U=>{var v;if(!(U!=null&&U.id)||s.state.saving)return;const y=l((v=U.status)!=null?v:U.active,U.out_of_stock),te=h=>h==null?"":String(h),ce=(h,x=0)=>{const re=Number(h);return Number.isFinite(re)?re:x},ge=Array.isArray(U.variants)?U.variants.map(h=>{var q,de;if(!h)return null;const x=te(h.sku).trim();if(!x)return null;let re=ce(h.price_cents,Number.NaN);if(!Number.isFinite(re)){const X=te(h.price),W=X?Number.parseFloat(X):NaN;re=Number.isFinite(W)?Math.round(W*100):NaN}if(!Number.isFinite(re))return null;const Q=te((q=h.currency)!=null?q:u.value).trim().toUpperCase();if(!Q)return null;const z=(de=h.options)!=null?de:null,ne=Math.max(0,Math.round(ce(h.stock,0)));return{id:ce(h.id,0),sku:x,price_cents:Math.round(re),currency:Q,stock:ne,options:z!=null?z:null,weight:h.weight!==null&&h.weight!==void 0&&h.weight!==""?String(h.weight):null,active:h.active===void 0?!0:!!h.active}}).filter(Boolean):[];if(!ge.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const J=Array.isArray(U.categories)?U.categories.map(h=>{if(h==null)return null;if(typeof h=="number")return h>0?{id:h,title:"",slug:""}:null;if(typeof h=="string"&&h.trim()!==""&&Number.isFinite(Number(h))){const re=Number(h);return re>0?{id:re,title:"",slug:""}:null}if(typeof h=="object"){if(h.id){const Q=ce(h.id,0);return Q>0?{id:Q,title:"",slug:""}:null}return ce(h.id,0)<=0&&!h.title?null:{id:0,title:te(h.title),slug:te(h.slug)}}const x=te(h).trim();return x?{id:0,title:x,slug:""}:null}).filter(Boolean):[],j=Array.isArray(U.images)?U.images.map(h=>te(h).trim()).map(h=>{var z,ne,q;let x=h;if(!x)return"";const re=x.indexOf("#joomlaImage://");re!==-1&&(x=x.substring(0,re));const Q=x.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(Q&&Q[1]&&(x=Q[1]),typeof window!="undefined")try{const de=(q=(ne=(z=window.Joomla)==null?void 0:z.getOptions)==null?void 0:ne.call(z,"system.paths",{}))!=null?q:{},X=de.rootFull||window.location.origin,W=de.root||"/";x.startsWith(X)&&(x=x.substring(X.length)),x.startsWith(W)&&(x=x.substring(W.length))}catch(de){}return x.trim()}).filter(h=>h!==""):[];s.state.error="",a("update",{id:U.id,data:{title:te(U.title),slug:te(U.slug),short_desc:te(U.short_desc),long_desc:te(U.long_desc),status:y,active:y,featured:U.featured?1:0,images:j,variants:ge,categories:J}})},w=()=>{a("refresh")},D=()=>{a("search")},G=U=>{if(!U)return"";try{const y=new Date(U),ce=new Date-y,ge=Math.floor(ce/1e3),J=Math.floor(ge/60),j=Math.floor(J/60);return ge<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):J<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[J]):j<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[j]):y.toLocaleString()}catch(y){return U}};return Ue(()=>s.state.saving,(U,y)=>{y&&!U&&c.value&&!s.state.validationErrors.length&&!s.state.error&&V()}),(U,y)=>(R(),P("section",ym,[i("header",Rm,[i("div",null,[i("h2",Om,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",xm,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",vm,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":y[0]||(y[0]=te=>e.state.search=te),onKeyup:zt(D,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,Pm),[[ue,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:w,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[y[1]||(y[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Mm,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,Nm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:g},[y[2]||(y[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(R(),P("div",Im,d(e.state.error),1)):ae("",!0),e.state.loading?(R(),P("div",km,[He(Dn,{type:"table",rows:5,columns:5})])):ae("",!0),e.state.loading?ae("",!0):(R(),P("div",$m,[He(G_,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:k,onDelete:B,onToggleActive:L},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(R(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(G(e.state.lastUpdated)),9,wm)):ae("",!0)])),He(Em,{open:c.value,product:p.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":m.value,onSubmit:$,onCancel:V},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Dm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Um={class:"nxp-ec-admin-panel__header"},Ym={class:"nxp-ec-admin-panel__title"},Xm={class:"nxp-ec-admin-panel__lead"},Fm={class:"nxp-ec-admin-panel__actions"},Gm=["placeholder","aria-label"],Vm=["disabled","title","aria-label"],Hm={class:"nxp-ec-sr-only"},Bm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Km={key:1,class:"nxp-ec-admin-panel__body"},jm={key:2,class:"nxp-ec-admin-panel__body"},Jm={class:"nxp-ec-admin-panel__table"},Wm={class:"nxp-ec-admin-table"},qm={scope:"col"},zm={scope:"col"},Qm={scope:"col"},Zm={scope:"col"},eh={scope:"col"},th={key:0},nh={colspan:"6"},sh={scope:"row",class:"nxp-ec-admin-table__primary"},ih=["data-label"],ah=["data-label"],oh=["data-label"],rh=["data-label"],lh={class:"nxp-ec-admin-table__actions"},ch=["onClick","title","aria-label"],dh={class:"nxp-ec-sr-only"},uh=["disabled","onClick","title","aria-label"],ph={class:"nxp-ec-sr-only"},_h={key:0,class:"nxp-ec-admin-pagination"},fh=["disabled"],mh={class:"nxp-ec-admin-pagination__status"},hh=["disabled"],gh=["title"],Eh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Ch={class:"nxp-ec-modal__dialog"},Sh={class:"nxp-ec-modal__header"},bh={class:"nxp-ec-modal__title"},Ah=["title","aria-label"],Th={class:"nxp-ec-sr-only"},yh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Rh={class:"nxp-ec-form-field"},Oh={class:"nxp-ec-form-label",for:"category-title"},xh={class:"nxp-ec-form-field"},vh={class:"nxp-ec-form-label",for:"category-slug"},Ph={class:"nxp-ec-form-field"},Nh={class:"nxp-ec-form-label",for:"category-parent"},Mh={value:""},Ih=["value"],kh={class:"nxp-ec-form-field"},$h={class:"nxp-ec-form-label",for:"category-sort"},wh={class:"nxp-ec-modal__actions"},Lh=["disabled"],Dh={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Xe(!1),c=Xe(!1),u=Xe([]),p=J=>{const v=(Array.isArray(J)?J:[]).map(X=>{var W,ee,oe,_e,pe;return{...X,id:Number.parseInt((W=X==null?void 0:X.id)!=null?W:0,10)||0,parent_id:(X==null?void 0:X.parent_id)!=null&&Number.parseInt(X.parent_id,10)||0,sort:Number.parseInt((ee=X==null?void 0:X.sort)!=null?ee:0,10)||0,title:String((oe=X==null?void 0:X.title)!=null?oe:"").trim(),slug:String((_e=X==null?void 0:X.slug)!=null?_e:"").trim(),usage:(pe=X==null?void 0:X.usage)!=null?pe:0}}).filter(X=>X.id>0||X.title!==""),h=new Set(v.map(X=>X.id));v.forEach(X=>{h.has(X.parent_id)||(X.parent_id=0)});const x=new Map,re=new Map;v.forEach(X=>{re.set(X.id,X);const W=X.parent_id||0;x.has(W)||x.set(W,[]),x.get(W).push(X)});const Q=X=>X.sort((W,ee)=>{var oe,_e;return((oe=W.sort)!=null?oe:0)-((_e=ee.sort)!=null?_e:0)||W.title.localeCompare(ee.title,void 0,{sensitivity:"base"})});x.forEach(Q);const z=new Set,ne=[],q=(X,W,ee)=>{if(!X||z.has(X.id)||ee.includes(X.id))return;const oe=[...ee],_e=oe.map(Oe=>{var ye;return(ye=re.get(Oe))==null?void 0:ye.title}).filter(Boolean),pe={...X,depth:W,path:_e.join(" / "),ancestors:oe,indentedTitle:W>0?`${" ".repeat(W)}${X.title}`:X.title};ne.push(pe),z.add(X.id),(x.get(X.id)||[]).forEach(Oe=>q(Oe,W+1,[...ee,X.id]))},de=v.filter(X=>X.parent_id===0||!h.has(X.parent_id));return Q(de),de.forEach(X=>q(X,0,[])),v.forEach(X=>{z.has(X.id)||q(X,0,[])}),ne},m=me(()=>{var J,j;return p((j=(J=s.state)==null?void 0:J.items)!=null?j:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),l=Ie(f()),g=me(()=>{var j,v;const J=(v=Array.isArray(u.value)&&u.value.length?u.value:(j=s.state)==null?void 0:j.items)!=null?v:[];return p(J).filter(h=>h.id>0&&h.id!==l.id&&!(Array.isArray(h.ancestors)&&h.ancestors.includes(l.id))).map(h=>({id:h.id,title:h.title,label:h.depth>0?`${" ".repeat(h.depth)}${h.title}`:h.title}))}),k=()=>{Object.assign(l,f()),c.value=!1},V=J=>J?J.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",$=()=>{c.value=!0,l.slug=V(l.slug)};Ue(()=>l.title,J=>{c.value||(l.slug=V(J))});const B=async(J=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const j=await s.loadOptions();u.value=Array.isArray(j)?[...j]:[]}catch(j){u.value=[]}u.value=u.value.filter(j=>{var h,x;return(Number.parseInt((x=(h=j==null?void 0:j.id)!=null?h:j==null?void 0:j.value)!=null?x:0,10)||0)!==J})},L=async()=>{k(),await B(),o.value=!0},w=async J=>{var j,v,h,x;J&&(l.id=Number.parseInt((j=J.id)!=null?j:0,10)||0,l.title=String((v=J.title)!=null?v:"").trim(),l.slug=String((h=J.slug)!=null?h:"").trim(),l.parent_id=J.parent_id!=null&&Number.parseInt(J.parent_id,10)||null,l.sort=Number.parseInt((x=J.sort)!=null?x:0,10)||0,c.value=!!l.slug,await B(l.id),o.value=!0)},D=()=>{o.value=!1,k()},G=()=>{a("refresh")},U=()=>{a("search")},y=J=>{a("page",J)},te=()=>{const J={id:l.id||void 0,title:l.title.trim(),slug:l.slug.trim(),parent_id:l.parent_id||null,sort:Number.isFinite(l.sort)?l.sort:0};a("save",J)},ce=J=>{if(!J||!J.id)return;const j=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(j)||a("delete",[J.id])},ge=J=>{if(!J)return"";try{const j=new Date(J),h=new Date-j,x=Math.floor(h/1e3),re=Math.floor(x/60),Q=Math.floor(re/60);return x<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):re<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[re]):Q<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Q]):j.toLocaleString()}catch(j){return J}};return Ue(()=>{var J;return(J=s.state)==null?void 0:J.saving},(J,j)=>{var v,h,x;j&&!J&&(((h=(v=s.state)==null?void 0:v.validationErrors)!=null?h:[]).length>0||(x=s.state)!=null&&x.error||(o.value=!1,k()))}),(J,j)=>(R(),P("section",Dm,[i("header",Um,[i("div",null,[i("h2",Ym,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",Xm,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",Fm,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":j[0]||(j[0]=v=>e.state.search=v),onKeyup:zt(U,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Gm),[[ue,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:G,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[j[7]||(j[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Hm,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Vm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:L},[j[8]||(j[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(R(),P("div",Bm,d(e.state.error),1)):ae("",!0),e.state.loading?(R(),P("div",Km,[He(Dn,{type:"table",rows:5,columns:5})])):ae("",!0),e.state.loading?ae("",!0):(R(),P("div",jm,[i("div",Jm,[i("table",Wm,[i("thead",null,[i("tr",null,[i("th",qm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",Qm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",eh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),j[9]||(j[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ae("",!0):(R(),P("tr",th,[i("td",nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(R(!0),P(Ce,null,xe(m.value,v=>{var h;return R(),P("tr",{key:v.id,class:Me({"is-active":l.id===v.id})},[i("th",sh,[i("span",{style:Gt({paddingLeft:`${v.depth*1.5}rem`})},d(v.indentedTitle),5)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},d(v.slug||""),9,ih),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},d(v.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,ah),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},d(v.sort),9,oh),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},d((h=v.usage)!=null?h:0),9,rh),i("td",lh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:x=>w(v),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[j[10]||(j[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",dh,d(r(n)("JEDIT","Edit")),1)],8,ch),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:x=>ce(v),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[j[11]||(j[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",ph,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,uh)])],2)}),128))])]),e.state.pagination.pages>1?(R(),P("div",_h,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:j[1]||(j[1]=v=>y(e.state.pagination.current-1))},"  ",8,fh),i("span",mh,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:j[2]||(j[2]=v=>y(e.state.pagination.current+1))},"  ",8,hh)])):ae("",!0)]),e.state.lastUpdated?(R(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(ge(e.state.lastUpdated)),9,gh)):ae("",!0),o.value?(R(),P("div",Eh,[i("div",{class:"nxp-ec-modal__backdrop",onClick:D}),i("div",Ch,[i("header",Sh,[i("h3",bh,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:D,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[j[12]||(j[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Th,d(r(n)("JCLOSE","Close")),1)],8,Ah)]),i("form",{class:"nxp-ec-form",onSubmit:mt(te,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(R(),P("div",yh,[i("ul",null,[(R(!0),P(Ce,null,xe(e.state.validationErrors,(v,h)=>(R(),P("li",{key:h},d(v),1))),128))])])):ae("",!0),i("div",Rh,[i("label",Oh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),Z(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":j[3]||(j[3]=v=>l.title=v),required:"",maxlength:"255"},null,512),[[ue,l.title,void 0,{trim:!0}]])]),i("div",xh,[i("label",vh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),Z(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":j[4]||(j[4]=v=>l.slug=v),maxlength:"190",onInput:$},null,544),[[ue,l.slug,void 0,{trim:!0}]])]),i("div",Ph,[i("label",Nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),Z(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":j[5]||(j[5]=v=>l.parent_id=v)},[i("option",Mh,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(R(!0),P(Ce,null,xe(g.value,v=>(R(),P("option",{key:v.id,value:v.id},d(v.label),9,Ih))),128))],512),[[ft,l.parent_id,void 0,{number:!0}]])]),i("div",kh,[i("label",$h,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),Z(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":j[6]||(j[6]=v=>l.sort=v),min:"0",step:"1"},null,512),[[ue,l.sort,void 0,{number:!0}]])]),i("footer",wh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[j[13]||(j[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,Lh),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:D},[j[14]||(j[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):ae("",!0)]))]))}},Uh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Yh={class:"nxp-ec-admin-panel__header"},Xh={class:"nxp-ec-admin-panel__title"},Fh={class:"nxp-ec-admin-panel__lead"},Gh={class:"nxp-ec-admin-panel__actions"},Vh=["placeholder","aria-label"],Hh=["aria-label"],Bh={value:""},Kh=["value"],jh=["disabled","title","aria-label"],Jh={class:"nxp-ec-sr-only"},Wh=["disabled","title","aria-label"],qh={class:"nxp-ec-sr-only"},zh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Qh={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Zh={key:2,class:"nxp-ec-admin-panel__body"},eg={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},tg={class:"nxp-ec-admin-panel__table"},ng={key:0,class:"nxp-ec-admin-panel__selection"},sg=["aria-label"],ig={value:""},ag=["value"],og=["disabled"],rg=["title","aria-label"],lg={class:"nxp-ec-sr-only"},cg={class:"nxp-ec-admin-table"},dg={scope:"col",class:"nxp-ec-admin-table__select"},ug={scope:"col"},pg={scope:"col"},_g={scope:"col"},fg={scope:"col"},mg={scope:"col"},hg={scope:"col",class:"nxp-ec-admin-table__actions"},gg={key:0},Eg={colspan:"7"},Cg={class:"nxp-ec-admin-table__select"},Sg=["checked","onChange","aria-label"],bg={scope:"row",class:"nxp-ec-admin-table__primary"},Ag=["onClick"],Tg=["data-label"],yg={class:"nxp-ec-admin-table__meta"},Rg=["data-label"],Og=["data-label"],xg={class:"nxp-ec-badge"},vg=["title"],Pg=["data-label"],Ng={class:"nxp-ec-admin-table__actions"},Mg=["onUpdate:modelValue","aria-label"],Ig=["value"],kg=["value"],$g=["disabled","onClick"],wg={key:1,class:"nxp-ec-admin-pagination"},Lg=["disabled"],Dg={class:"nxp-ec-admin-pagination__status"},Ug=["disabled"],Yg=["title"],Xg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Fg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Gg={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Vg={class:"nxp-ec-admin-panel__sidebar-header"},Hg=["title","aria-label"],Bg={class:"nxp-ec-sr-only"},Kg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},jg={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},Jg={key:2,class:"nxp-ec-admin-panel__section"},Wg={class:"nxp-ec-admin-copy"},qg=["value"],zg=["disabled"],Qg={key:0,class:"nxp-ec-admin-panel__muted"},Zg={class:"nxp-ec-admin-copy"},eE=["disabled"],tE={key:0,class:"nxp-ec-admin-panel__muted"},nE={class:"nxp-ec-admin-panel__section"},sE={class:"nxp-ec-admin-list"},iE={class:"nxp-ec-admin-list__title"},aE={class:"nxp-ec-admin-list__meta"},oE={class:"nxp-ec-admin-panel__section"},rE={class:"nxp-ec-admin-panel__total"},lE={class:"nxp-ec-admin-panel__section"},cE={class:"nxp-ec-admin-address"},dE={class:"nxp-ec-admin-panel__section"},uE={key:0,class:"nxp-ec-admin-address"},pE={key:1,class:"nxp-ec-admin-panel__muted"},_E={class:"nxp-ec-admin-panel__section"},fE={class:"nxp-ec-form-field"},mE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},hE={class:"nxp-ec-form-field"},gE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},EE={class:"nxp-ec-form-field"},CE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},SE={key:0,class:"nxp-ec-form-checkbox"},bE={class:"nxp-ec-admin-form__actions"},AE=["disabled"],TE={key:3,class:"nxp-ec-admin-panel__section"},yE={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},RE=["disabled"],OE=["disabled"],xE={key:4,class:"nxp-ec-admin-panel__section"},vE={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},PE={class:"nxp-ec-form-field"},NE={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},ME=["placeholder"],IE={class:"nxp-ec-form-help"},kE={class:"nxp-ec-form-field"},$E={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},wE=["placeholder"],LE={class:"nxp-ec-form-field"},DE={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},UE={class:"nxp-ec-admin-form__actions"},YE=["disabled"],XE={key:5,class:"nxp-ec-admin-panel__section"},FE={class:"nxp-ec-admin-list"},GE={class:"nxp-ec-admin-list__title"},VE={class:"nxp-ec-admin-list__meta"},HE={class:"nxp-ec-admin-panel__section"},BE=["placeholder"],KE={class:"nxp-ec-admin-form__actions"},jE=["disabled"],JE={class:"nxp-ec-admin-panel__section"},WE={key:0,class:"nxp-ec-admin-list"},qE={class:"nxp-ec-admin-list__title"},zE={class:"nxp-ec-admin-list__meta"},QE={key:1,class:"nxp-ec-admin-panel__muted"},ZE=Ot({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Ie({}),c=Xe(""),u=Xe(""),p=me(()=>u.value.trim().length>0),m=Xe(""),f=Ie({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),l=Ie({amount:null,reference:"",note:""}),g=me(()=>{var b;const A=(b=s.state)==null?void 0:b.selection;return!A||typeof A.values!="function"?[]:Array.from(A.values())}),k=me(()=>g.value.length>0),V=me(()=>{var E;const A=(E=s.state)==null?void 0:E.activeOrder;if(!A)return!1;const b=["cod","bank_transfer"],Y=String(A.payment_method||"").toLowerCase();return A.state==="pending"&&b.includes(Y)});me(()=>V.value),Ue(g,A=>{A.length||(c.value="")}),Ue(()=>s.state.activeOrder,A=>{var b,Y,E;u.value="",m.value="",f.carrier=(b=A==null?void 0:A.carrier)!=null?b:"",f.tracking_number=(Y=A==null?void 0:A.tracking_number)!=null?Y:"",f.tracking_url=(E=A==null?void 0:A.tracking_url)!=null?E:"",f.markFulfilled=!1,l.amount=null,l.reference="",l.note=""},{immediate:!0}),Ue(()=>s.state.items,A=>{Array.isArray(A)&&A.forEach(b=>{!b||typeof b.id=="undefined"||o[b.id]||(o[b.id]=b.state)})},{immediate:!0}),Ue(()=>s.state.transitionError,A=>{var Y;if(!A)return;const b=(Y=s.state)==null?void 0:Y.items;Array.isArray(b)&&b.forEach(E=>{E!=null&&E.id&&E.state&&(o[E.id]=E.state)})});const $=(A,b)=>{const Y=(Number(A)||0)/100,E=(b||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:E}).format(Y)}catch(_){return`${E} ${Y.toFixed(2)}`}},B=A=>{if(!A)return"";const b=new Date(A);return Number.isNaN(b.getTime())?A:b.toLocaleString()},L=A=>A?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[A]||A:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),w=A=>A===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(A)]),D=A=>{if(!A)return"";const b=`COM_NXPEASYCART_ORDERS_STATE_${String(A).toUpperCase()}`;return n(b,A)},G=A=>s.state.orderStates.filter(b=>b!==A.state),U=A=>(o[A.id]||A.state)!==A.state,y=()=>{var A;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((A=window.location)!=null&&A.origin)?window.location.origin:""},te=me(()=>{var N,T;const A=(T=(N=s.state)==null?void 0:N.activeOrder)!=null?T:{},b=String(A.public_token||"").trim(),Y=String(A.order_no||"").trim();if(!b)return"";const E=y();if(!E)return"";const _=E.endsWith("/")?"":"/",S=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:b});return Y&&S.set("no",Y),`${E}${_}index.php?${S.toString()}`}),ce=async()=>{var A;if(te.value){try{if(!((A=navigator==null?void 0:navigator.clipboard)!=null&&A.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(te.value),m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(b){try{const Y=document.createElement("textarea");Y.value=te.value,Y.setAttribute("readonly",""),Y.style.position="absolute",Y.style.left="-9999px",document.body.appendChild(Y),Y.select(),document.execCommand("copy"),document.body.removeChild(Y),m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(Y){m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}m.value&&setTimeout(()=>{m.value=""},2e3)}},ge=me(()=>{var b,Y,E,_,S;const A=(Y=(b=s.state)==null?void 0:b.activeOrder)!=null?Y:{};return f.carrier!==((E=A.carrier)!=null?E:"")||f.tracking_number!==((_=A.tracking_number)!=null?_:"")||f.tracking_url!==((S=A.tracking_url)!=null?S:"")||f.markFulfilled}),J=A=>!A||typeof A!="object"?[]:Object.entries(A).filter(([,b])=>b!=null&&`${b}`.trim()!=="").map(([b,Y])=>({key:b,value:`${Y}`.trim()})),j=()=>{a("refresh")},v=()=>{a("export")},h=()=>{a("search")},x=()=>{a("filter",s.state.filterState)},re=A=>{a("view",A)},Q=()=>{a("close")},z=A=>{const b=o[A.id]||A.state;b!==A.state&&a("transition",{id:A.id,state:b})},ne=A=>{a("page",A)},q=A=>{var b,Y,E,_;return(_=(E=(Y=(b=s.state)==null?void 0:b.selection)==null?void 0:Y.has)==null?void 0:E.call(Y,A))!=null?_:!1},de=A=>{a("toggle-selection",A)},X=()=>{c.value="",a("clear-selection")},W=()=>{!k.value||!c.value||a("bulk-transition",{ids:[...g.value],state:c.value})},ee=()=>{if(!s.state.activeOrder)return;const A=u.value.trim();A&&(a("add-note",{id:s.state.activeOrder.id,message:A}),u.value="")},oe=()=>{s.state.activeOrder&&a("invoice",s.state.activeOrder.id)},_e=()=>{!s.state.activeOrder||!ge.value||(a("save-tracking",{id:s.state.activeOrder.id,carrier:f.carrier,tracking_number:f.tracking_number,tracking_url:f.tracking_url,mark_fulfilled:f.markFulfilled}),f.markFulfilled=!1)},pe=A=>{s.state.activeOrder&&a("send-email",{id:s.state.activeOrder.id,type:A})},he=()=>{if(!s.state.activeOrder||!V.value)return;const A=s.state.activeOrder,b=l.amount!==null&&l.amount!==""?Math.round(Number(l.amount)*100):A.total_cents;a("record-payment",{id:A.id,amountCents:b,reference:l.reference,note:l.note}),l.amount=null,l.reference="",l.note=""},Oe=A=>{var E;const b=(E=s.state)==null?void 0:E.activeOrder;return b?(b.timeline||b.audit||[]).some(_=>{var S;return _.action==="order.email.sent"?((S=_.context)==null?void 0:S.type)===A:!1}):!1},ye=me(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(g.value.length)],"ordersSelectedCount")),Ne=A=>{var b,Y,E,_,S,N,T,O,H,M,ie,le;if(!A||!A.action)return"";switch(A.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const fe=D((Y=(b=A.context)==null?void 0:b.from)!=null?Y:""),Se=D((_=(E=A.context)==null?void 0:E.to)!=null?_:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[fe||((S=A.context)==null?void 0:S.from)||"",Se||((N=A.context)==null?void 0:N.to)||""],"ordersTimelineState")}case"order.note":return((T=A.context)==null?void 0:T.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const fe=((O=A.context)==null?void 0:O.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),Se=$((M=(H=A.context)==null?void 0:H.amount_cents)!=null?M:0,(le=(ie=s.state)==null?void 0:ie.activeOrder)==null?void 0:le.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[fe,Se],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return A.action}},Be=A=>{if(!A)return"";const b=String(A.type||"").toLowerCase(),Y=String(A.message||"").trim(),E=String(A.state||"").toLowerCase();return b==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):E?D(E):Y||b||""},C=me(()=>{var E,_,S,N;const A=[];return(Array.isArray((_=(E=s.state)==null?void 0:E.activeOrder)==null?void 0:_.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((T,O)=>{var H,M;A.push({label:Be(T),created:(H=T==null?void 0:T.at)!=null?H:"",key:`f-${O}-${(M=T==null?void 0:T.at)!=null?M:""}`})}),(Array.isArray((N=(S=s.state)==null?void 0:S.activeOrder)==null?void 0:N.timeline)?s.state.activeOrder.timeline:[]).forEach((T,O)=>{var H,M,ie;A.push({label:Ne(T),created:(H=T==null?void 0:T.created)!=null?H:"",key:`a-${(M=T==null?void 0:T.id)!=null?M:O}-${(ie=T==null?void 0:T.created)!=null?ie:""}`})}),A.filter(T=>T.label).sort((T,O)=>{const H=new Date(T.created||0).getTime();return new Date(O.created||0).getTime()-H})}),I=A=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(A.status||"").toUpperCase()}`,A.status||""),K=A=>{if(!A)return"";try{const b=new Date(A),E=new Date-b,_=Math.floor(E/1e3),S=Math.floor(_/60),N=Math.floor(S/60);return _<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):S<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[S]):N<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[N]):b.toLocaleString()}catch(b){return A}};return(A,b)=>{var Y,E;return R(),P("section",Uh,[i("header",Yh,[i("div",null,[i("h2",Xh,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",Fh,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",Gh,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":b[0]||(b[0]=_=>e.state.search=_),onKeyup:zt(h,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Vh),[[ue,e.state.search]]),Z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":b[1]||(b[1]=_=>e.state.filterState=_),onChange:x,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",Bh,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(R(!0),P(Ce,null,xe(e.state.orderStates,_=>(R(),P("option",{key:_,value:_},d(D(_)),9,Kh))),128))],40,Hh),[[ft,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:v,disabled:e.state.loading||e.state.exporting,title:r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[b[15]||(b[15]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",Jh,d(r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,jh),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:j,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[b[16]||(b[16]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",qh,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Wh)])]),e.state.error?(R(),P("div",zh,d(e.state.error),1)):ae("",!0),e.state.transitionError&&!e.state.error?(R(),P("div",Qh,d(e.state.transitionError),1)):ae("",!0),e.state.loading&&!e.state.error?(R(),P("div",Zh,[He(Dn,{type:"table",rows:5,columns:7})])):ae("",!0),!e.state.loading&&!e.state.error?(R(),P("div",eg,[i("div",tg,[k.value?(R(),P("div",ng,[i("span",null,d(ye.value),1),Z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":b[2]||(b[2]=_=>c.value=_),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",ig,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(R(!0),P(Ce,null,xe(e.state.orderStates,_=>(R(),P("option",{key:`bulk-${_}`,value:_},d(D(_)),9,ag))),128))],8,sg),[[ft,c.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!c.value||e.state.saving,onClick:W},[b[17]||(b[17]=i("i",{class:"fa-solid fa-check"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,og),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:X,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[b[18]||(b[18]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",lg,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,rg)])):ae("",!0),i("table",cg,[i("thead",null,[i("tr",null,[i("th",dg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",ug,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",pg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",_g,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",fg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",mg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",hg,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?ae("",!0):(R(),P("tr",gg,[i("td",Eg,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(R(!0),P(Ce,null,xe(e.state.items,_=>{var S,N,T;return R(),P("tr",{key:_.id,class:Me({"is-active":e.state.activeOrder&&e.state.activeOrder.id===_.id})},[i("td",Cg,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:q(_.id),onChange:O=>de(_.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Sg)]),i("th",bg,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:O=>re(_)},d(_.order_no),9,Ag)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[i("div",null,d(_.email),1),i("div",yg,d(w((T=_.items_count)!=null?T:(N=(S=_.items)==null?void 0:S.length)!=null?N:0)),1)],8,Tg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},d($(_.total_cents,_.currency)),9,Rg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[i("span",xg,d(D(_.state)),1),_.needs_review?(R(),P("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:_.review_reason||r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,vg)):ae("",!0)],8,Og),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},d(B(_.modified||_.created)),9,Pg),i("td",Ng,[Z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":O=>o[_.id]=O,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:_.state},d(D(_.state)),9,Ig),(R(!0),P(Ce,null,xe(G(_),O=>(R(),P("option",{key:O,value:O},d(D(O)),9,kg))),128))],8,Mg),[[ft,o[_.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!U(_),onClick:O=>z(_)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,$g)])],2)}),128))])]),e.state.pagination.pages>1?(R(),P("div",wg,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:b[3]||(b[3]=_=>ne(e.state.pagination.current-1))},"  ",8,Lg),i("span",Dg,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:b[4]||(b[4]=_=>ne(e.state.pagination.current+1))},"  ",8,Ug)])):ae("",!0)]),e.state.lastUpdated?(R(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(K(e.state.lastUpdated)),9,Yg)):ae("",!0),e.state.activeOrder?(R(),P("div",Xg,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:Q}),i("div",Fg,[i("aside",Gg,[i("header",Vg,[i("h3",null,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Q,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[b[19]||(b[19]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Bg,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,Hg)]),e.state.transitionError?(R(),P("div",Kg,d(e.state.transitionError),1)):ae("",!0),(Y=e.state.activeOrder)!=null&&Y.needs_review?(R(),P("div",jg,[i("strong",null,d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),Re(" "+d(L((E=e.state.activeOrder)==null?void 0:E.review_reason)),1)])):ae("",!0),te.value?(R(),P("section",Jg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",Wg,[i("input",{type:"text",class:"nxp-ec-form-input",value:te.value,readonly:""},null,8,qg),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!te.value,onClick:ce},[b[20]||(b[20]=i("i",{class:"fa-solid fa-link"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,zg)]),m.value?(R(),P("p",Qg,d(m.value),1)):ae("",!0),i("div",Zg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:oe},[b[21]||(b[21]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,eE),s.state.invoiceLoading?(R(),P("span",tE,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ae("",!0)])])):ae("",!0),i("section",nE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",sE,[(R(!0),P(Ce,null,xe(e.state.activeOrder.items,_=>(R(),P("li",{key:_.id},[i("div",iE,[Re(d(_.title)+" ",1),i("small",null,"("+d(_.sku)+")",1)]),i("div",aE,"  "+d(_.qty)+"  "+d($(_.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",oE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",rE,d($(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",lE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",cE,[(R(!0),P(Ce,null,xe(J(e.state.activeOrder.billing),_=>(R(),P("span",{key:_.key},d(_.value),1))),128))])]),i("section",dE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(R(),P("address",uE,[(R(!0),P(Ce,null,xe(J(e.state.activeOrder.shipping),_=>(R(),P("span",{key:_.key},d(_.value),1))),128))])):(R(),P("p",pE,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),i("section",_E,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",fE,[i("label",mE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),Z(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[5]||(b[5]=_=>f.carrier=_)},null,512),[[ue,f.carrier]])]),i("div",hE,[i("label",gE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),Z(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[6]||(b[6]=_=>f.tracking_number=_)},null,512),[[ue,f.tracking_number]])]),i("div",EE,[i("label",CE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),Z(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":b[7]||(b[7]=_=>f.tracking_url=_)},null,512),[[ue,f.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(R(),P("label",SE,[Z(i("input",{type:"checkbox","onUpdate:modelValue":b[8]||(b[8]=_=>f.markFulfilled=_)},null,512),[[ut,f.markFulfilled]]),Re(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):ae("",!0),i("div",bE,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!ge.value||e.state.saving,onClick:_e},[b[22]||(b[22]=i("i",{class:"fa-solid fa-truck"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,AE)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(R(),P("section",TE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),i("div",yE,[e.state.activeOrder.state==="fulfilled"?(R(),P("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:b[9]||(b[9]=_=>pe("shipped"))},[b[23]||(b[23]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Re(" "+d(Oe("shipped")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,RE)):ae("",!0),e.state.activeOrder.state==="refunded"?(R(),P("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:b[10]||(b[10]=_=>pe("refunded"))},[b[24]||(b[24]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Re(" "+d(Oe("refunded")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,OE)):ae("",!0)])])):ae("",!0),V.value?(R(),P("section",xE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),i("p",vE,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),i("div",PE,[i("label",NE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),Z(i("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":b[11]||(b[11]=_=>l.amount=_),placeholder:$(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,ME),[[ue,l.amount]]),i("small",IE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),i("div",kE,[i("label",$E,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),Z(i("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[12]||(b[12]=_=>l.reference=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,wE),[[ue,l.reference]])]),i("div",LE,[i("label",DE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),Z(i("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":b[13]||(b[13]=_=>l.note=_)},null,512),[[ue,l.note]])]),i("div",UE,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving,onClick:he},[b[25]||(b[25]=i("i",{class:"icon-credit"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,YE)])])):ae("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(R(),P("section",XE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",FE,[(R(!0),P(Ce,null,xe(e.state.activeOrder.transactions,_=>(R(),P("li",{key:_.id},[i("div",GE,d(_.gateway)+"  "+d($(_.amount_cents,e.state.activeOrder.currency)),1),i("div",VE,d(I(_))+"  "+d(B(_.created)),1)]))),128))])])):ae("",!0),i("section",HE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:mt(ee,["prevent"])},[Z(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":b[14]||(b[14]=_=>u.value=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,BE),[[ue,u.value]]),i("div",KE,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[b[26]||(b[26]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,jE)])],32)]),i("section",JE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),C.value.length?(R(),P("ul",WE,[(R(!0),P(Ce,null,xe(C.value,_=>(R(),P("li",{key:_.key},[i("div",qE,d(_.label),1),i("div",zE,d(B(_.created)),1)]))),128))])):(R(),P("p",QE,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):ae("",!0)])):ae("",!0)])}}},[["__scopeId","data-v-71dc11f1"]]),eC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},tC={class:"nxp-ec-admin-panel__header"},nC={class:"nxp-ec-admin-panel__title"},sC={class:"nxp-ec-admin-panel__lead"},iC={class:"nxp-ec-admin-panel__actions"},aC=["placeholder","aria-label"],oC=["disabled","title","aria-label"],rC={class:"nxp-ec-sr-only"},lC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},cC={key:1,class:"nxp-ec-admin-panel__body"},dC={key:2,class:"nxp-ec-admin-panel__body"},uC={class:"nxp-ec-admin-panel__table"},pC={class:"nxp-ec-admin-table"},_C={scope:"col"},fC={scope:"col"},mC={scope:"col"},hC={scope:"col"},gC={scope:"col"},EC={key:0},CC={colspan:"5"},SC={scope:"row",class:"nxp-ec-admin-table__primary"},bC=["onClick"],AC=["data-label"],TC=["data-label"],yC=["data-label"],RC=["data-label"],OC={key:0,class:"nxp-ec-admin-pagination"},xC=["disabled"],vC={class:"nxp-ec-admin-pagination__status"},PC=["disabled"],NC=["title"],MC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},IC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},kC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},$C={class:"nxp-ec-admin-panel__sidebar-header"},wC=["title","aria-label"],LC={class:"nxp-ec-sr-only"},DC={class:"nxp-ec-admin-panel__section"},UC={class:"nxp-ec-admin-summary"},YC={class:"nxp-ec-admin-panel__section"},XC={class:"nxp-ec-admin-address"},FC={class:"nxp-ec-admin-panel__section"},GC={key:0,class:"nxp-ec-admin-address"},VC={key:1,class:"nxp-ec-admin-panel__muted"},HC={class:"nxp-ec-admin-panel__section"},BC={key:0,class:"nxp-ec-admin-list"},KC={class:"nxp-ec-admin-list__title"},jC={class:"nxp-ec-admin-list__meta"},JC={key:1,class:"nxp-ec-admin-panel__muted"},WC={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},qC={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},zC={class:"nxp-ec-gdpr-actions"},QC=["disabled","title"],ZC=["disabled","title"],eS=Ot({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=(L,w)=>{const D=(Number(L)||0)/100,G=(w||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:G}).format(D)}catch(U){return`${G} ${D.toFixed(2)}`}},c=L=>{if(!L)return"";const w=new Date(L);return Number.isNaN(w.getTime())?L:w.toLocaleString()},u=L=>!L||typeof L!="object"?[]:Object.entries(L).filter(([,w])=>w!=null&&`${w}`.trim()!=="").map(([w,D])=>({key:w,value:`${D}`.trim()})),p=L=>{if(!L)return"";const w=`COM_NXPEASYCART_ORDERS_STATE_${String(L).toUpperCase()}`;return n(w,L)},m=()=>a("refresh"),f=()=>a("search"),l=L=>a("page",L),g=L=>a("view",L),k=()=>a("close"),V=L=>a("gdprExport",L),$=L=>a("gdprAnonymise",L),B=L=>{if(!L)return"";try{const w=new Date(L),G=new Date-w,U=Math.floor(G/1e3),y=Math.floor(U/60),te=Math.floor(y/60);return U<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):y<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[y]):te<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[te]):w.toLocaleString()}catch(w){return L}};return(L,w)=>{var D,G,U;return R(),P("section",eC,[i("header",tC,[i("div",null,[i("h2",nC,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",sC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",iC,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":w[0]||(w[0]=y=>e.state.search=y),onKeyup:zt(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,aC),[[ue,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:m,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[w[5]||(w[5]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",rC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,oC)])]),e.state.error?(R(),P("div",lC,d(e.state.error),1)):ae("",!0),e.state.loading?(R(),P("div",cC,[He(Dn,{type:"table",rows:5,columns:5})])):ae("",!0),e.state.loading?ae("",!0):(R(),P("div",dC,[i("div",uC,[i("table",pC,[i("thead",null,[i("tr",null,[i("th",_C,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",fC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",mC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",hC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",gC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?ae("",!0):(R(),P("tr",EC,[i("td",CC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(R(!0),P(Ce,null,xe(e.state.items,y=>{var te;return R(),P("tr",{key:y.email,class:Me({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===y.email})},[i("th",SC,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:ce=>g(y)},d(y.email),9,bC)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},d(((te=y.meta)==null?void 0:te.name)||""),9,AC),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},d(y.orders_count),9,TC),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},d(o(y.total_spent_cents,y.currency||e.baseCurrency)),9,yC),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},d(c(y.last_order)),9,RC)],2)}),128))])]),e.state.pagination.pages>1?(R(),P("div",OC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:w[1]||(w[1]=y=>l(e.state.pagination.current-1))},"  ",8,xC),i("span",vC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:w[2]||(w[2]=y=>l(e.state.pagination.current+1))},"  ",8,PC)])):ae("",!0)]),e.state.lastUpdated?(R(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(B(e.state.lastUpdated)),9,NC)):ae("",!0),e.state.activeCustomer?(R(),P("div",MC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:k}),i("div",IC,[i("aside",kC,[i("header",$C,[i("h3",null,d(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:k,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[w[6]||(w[6]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",LC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,wC)]),i("section",DC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",UC,[i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,d(((D=e.state.activeCustomer.meta)==null?void 0:D.name)||""),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,d(o(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,d(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,d(c(e.state.activeCustomer.last_order)),1)])])]),i("section",YC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",XC,[(R(!0),P(Ce,null,xe(u((G=e.state.activeCustomer.meta)==null?void 0:G.billing),y=>(R(),P("span",{key:y.key},d(y.value),1))),128))])]),i("section",FC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(U=e.state.activeCustomer.meta)!=null&&U.shipping?(R(),P("address",GC,[(R(!0),P(Ce,null,xe(u(e.state.activeCustomer.meta.shipping),y=>(R(),P("span",{key:y.key},d(y.value),1))),128))])):(R(),P("p",VC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",HC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(R(),P("ul",BC,[(R(!0),P(Ce,null,xe(e.state.activeCustomer.orders,y=>(R(),P("li",{key:y.id},[i("div",KC,d(y.order_no)+"  "+d(o(y.total_cents,y.currency||e.baseCurrency)),1),i("div",jC,d(p(y.state))+"  "+d(c(y.created)),1)]))),128))])):(R(),P("p",JC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),i("section",WC,[i("h4",null,d(r(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),i("p",qC,d(r(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),i("div",zC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:w[3]||(w[3]=y=>V(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[w[7]||(w[7]=i("i",{class:"fa-solid fa-download"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,QC),i("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:w[4]||(w[4]=y=>$(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[w[8]||(w[8]=i("i",{class:"fa-solid fa-user-slash"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,ZC)]),e.state.gdprMessage?(R(),P("p",{key:0,class:Me(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},d(e.state.gdprMessage),3)):ae("",!0)])])])])):ae("",!0)]))])}}},[["__scopeId","data-v-fb6159d8"]]),tS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},nS={class:"nxp-ec-admin-panel__header"},sS={class:"nxp-ec-admin-panel__title"},iS={class:"nxp-ec-admin-panel__lead"},aS={class:"nxp-ec-admin-panel__actions"},oS=["placeholder","aria-label"],rS=["disabled","title","aria-label"],lS={class:"nxp-ec-sr-only"},cS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},dS={key:1,class:"nxp-ec-admin-panel__loading"},uS={key:2,class:"nxp-ec-admin-panel__body"},pS={class:"nxp-ec-admin-panel__table"},_S={class:"nxp-ec-admin-table"},fS={scope:"col"},mS={scope:"col"},hS={scope:"col"},gS={scope:"col"},ES={scope:"col"},CS={scope:"col"},SS={key:0},bS={colspan:"7"},AS={scope:"row",class:"nxp-ec-admin-table__primary"},TS=["data-label"],yS=["data-label"],RS=["data-label"],OS=["data-label"],xS=["data-label"],vS={class:"nxp-ec-admin-table__actions"},PS=["onClick","title","aria-label"],NS={class:"nxp-ec-sr-only"},MS=["onClick","title","aria-label"],IS={class:"nxp-ec-sr-only"},kS={key:0,class:"nxp-ec-admin-pagination"},$S=["disabled"],wS={class:"nxp-ec-admin-pagination__status"},LS=["disabled"],DS={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},US={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},YS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},XS={class:"nxp-ec-admin-panel__sidebar-header"},FS=["title","aria-label"],GS={class:"nxp-ec-sr-only"},VS={class:"nxp-ec-form-field"},HS={class:"nxp-ec-form-label",for:"coupon-code"},BS={class:"nxp-ec-form-field"},KS={class:"nxp-ec-form-label",for:"coupon-type"},jS={value:"percent"},JS={value:"fixed"},WS={class:"nxp-ec-form-field"},qS={class:"nxp-ec-form-label",for:"coupon-value"},zS={class:"nxp-ec-form-field"},QS={class:"nxp-ec-form-label",for:"coupon-min-total"},ZS={class:"nxp-ec-form-field"},eb={class:"nxp-ec-form-label",for:"coupon-start"},tb={class:"nxp-ec-form-field"},nb={class:"nxp-ec-form-label",for:"coupon-end"},sb={class:"nxp-ec-form-field"},ib={class:"nxp-ec-form-label",for:"coupon-max-uses"},ab={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ob={class:"nxp-ec-form-label",for:"coupon-active"},rb={class:"nxp-ec-modal__actions"},lb=["disabled"],cb=["disabled"],db=["disabled"],ub=Ot({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=me(()=>(s.baseCurrency||"USD").toUpperCase()),c=Ie({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=me(()=>c.open),p=()=>a("refresh"),m=()=>a("search"),f=D=>a("page",D),l=()=>{Object.assign(c,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},g=D=>{var G,U;Object.assign(c,{open:!0,id:D.id,code:D.code,type:D.type,value:D.value,min_total:(U=D.min_total)!=null?U:((G=D.min_total_cents)!=null?G:0)/100,start:D.start?D.start.substring(0,10):"",end:D.end?D.end.substring(0,10):"",max_uses:D.max_uses,active:D.active})},k=()=>{c.open=!1},V=()=>{const D={id:c.id||void 0,code:c.code,type:c.type,value:c.value,min_total:c.min_total||0,start:c.start||null,end:c.end||null,max_uses:c.max_uses!==null&&c.max_uses!==""?c.max_uses:null,active:c.active};a("save",D)},$=D=>{const G=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(G)&&(a("delete",[D.id]),c.id===D.id&&k())},B=(D,G)=>{const U=(Number(D)||0)/100,y=(G||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:y}).format(U)}catch(te){return`${y} ${U.toFixed(2)}`}},L=D=>D.type==="percent"?`${D.value}%`:B(D.value*100,o.value),w=D=>D==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Ue(()=>s.state.saving,(D,G)=>{G&&!D&&!s.state.error&&c.open&&k()}),(D,G)=>(R(),P("section",tS,[i("header",nS,[i("div",null,[i("h2",sS,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",iS,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",aS,[Z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":G[0]||(G[0]=U=>e.state.search=U),onKeyup:zt(m,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,oS),[[ue,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[G[12]||(G[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",lS,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,rS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:l},[G[13]||(G[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(R(),P("div",cS,d(e.state.error),1)):ae("",!0),e.state.loading?(R(),P("div",dS,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):ae("",!0),e.state.loading?ae("",!0):(R(),P("div",uS,[i("div",pS,[i("table",_S,[i("thead",null,[i("tr",null,[i("th",fS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",mS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",hS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",gS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",ES,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",CS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),G[14]||(G[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ae("",!0):(R(),P("tr",SS,[i("td",bS,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(R(!0),P(Ce,null,xe(e.state.items,U=>(R(),P("tr",{key:U.id,class:Me({"is-active":c.id===U.id})},[i("th",AS,d(U.code),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},d(w(U.type)),9,TS),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},d(L(U)),9,yS),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},d(B(U.min_total_cents,o.value)),9,RS),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[i("span",{class:Me(["nxp-ec-badge",{"is-active":U.active}])},[i("i",{class:Me(U.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Re(" "+d(U.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,OS),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},d(U.times_used)+d(U.max_uses?` / ${U.max_uses}`:""),9,xS),i("td",vS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:y=>g(U),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[G[15]||(G[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",NS,d(r(n)("JEDIT","Edit")),1)],8,PS),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:y=>$(U),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[G[16]||(G[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",IS,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,MS)])],2))),128))])]),e.state.pagination.pages>1?(R(),P("div",kS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:G[1]||(G[1]=U=>f(e.state.pagination.current-1))},"  ",8,$S),i("span",wS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:G[2]||(G[2]=U=>f(e.state.pagination.current+1))},"  ",8,LS)])):ae("",!0)]),u.value?(R(),P("div",DS,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:k}),i("div",US,[i("aside",YS,[i("header",XS,[i("h3",null,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:k,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[G[17]||(G[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",GS,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,FS)]),i("form",{class:"nxp-ec-form",onSubmit:mt(V,["prevent"]),autocomplete:"off"},[i("div",VS,[i("label",HS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),Z(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":G[3]||(G[3]=U=>c.code=U),required:"",maxlength:"64"},null,512),[[ue,c.code,void 0,{trim:!0}]])]),i("div",BS,[i("label",KS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),Z(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":G[4]||(G[4]=U=>c.type=U)},[i("option",jS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",JS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[ft,c.type]])]),i("div",WS,[i("label",qS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),Z(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G[5]||(G[5]=U=>c.value=U),required:""},null,512),[[ue,c.value,void 0,{number:!0}]])]),i("div",zS,[i("label",QS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),Z(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G[6]||(G[6]=U=>c.min_total=U)},null,512),[[ue,c.min_total,void 0,{number:!0}]])]),i("div",ZS,[i("label",eb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),Z(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":G[7]||(G[7]=U=>c.start=U)},null,512),[[ue,c.start]])]),i("div",tb,[i("label",nb,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),Z(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":G[8]||(G[8]=U=>c.end=U)},null,512),[[ue,c.end]])]),i("div",sb,[i("label",ib,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),Z(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":G[9]||(G[9]=U=>c.max_uses=U)},null,512),[[ue,c.max_uses,void 0,{number:!0}]])]),i("div",ab,[i("label",ob,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),Z(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":G[10]||(G[10]=U=>c.active=U)},null,512),[[ut,c.active]])]),i("footer",rb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:k,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,lb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,cb)]),c.id?(R(),P("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:G[11]||(G[11]=U=>$(c)),disabled:e.state.saving},[G[18]||(G[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,db)):ae("",!0)],32)])])])):ae("",!0)]))]))}},[["__scopeId","data-v-7a1d4dad"]]),pb={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},_b={class:"nxp-ec-admin-panel__header"},fb={class:"nxp-ec-admin-panel__title"},mb={class:"nxp-ec-admin-panel__lead"},hb={class:"nxp-ec-settings-tabs"},gb={key:0,class:"nxp-ec-settings-panel"},Eb={class:"nxp-ec-settings-panel__header"},Cb=["disabled"],Sb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bb={key:1,class:"nxp-ec-admin-panel__loading"},Ab={class:"nxp-ec-form-field"},Tb={class:"nxp-ec-form-label",for:"settings-store-name"},yb={class:"nxp-ec-form-field"},Rb={class:"nxp-ec-form-label",for:"settings-store-email"},Ob={class:"nxp-ec-form-field"},xb={class:"nxp-ec-form-label",for:"settings-store-phone"},vb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Pb={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},Nb={class:"nxp-ec-form-help"},Mb={class:"nxp-ec-form-field"},Ib={class:"nxp-ec-form-label",for:"settings-base-currency"},kb={class:"nxp-ec-form-help"},$b={class:"nxp-ec-form-field"},wb={class:"nxp-ec-form-label",for:"settings-category-page-size"},Lb={class:"nxp-ec-form-help"},Db={class:"nxp-ec-form-field"},Ub={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},Yb={value:"paged"},Xb={value:"infinite"},Fb={class:"nxp-ec-form-help"},Gb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Vb={class:"nxp-ec-form-label",for:"settings-payments-configured"},Hb={class:"nxp-ec-form-help"},Bb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Kb={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},jb={class:"nxp-ec-form-help"},Jb={class:"nxp-ec-form-fieldset"},Wb={class:"nxp-ec-form-legend"},qb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},zb={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},Qb={class:"nxp-ec-form-help"},Zb={key:0,class:"nxp-ec-form-field"},eA={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},tA={class:"nxp-ec-form-help"},nA={class:"nxp-ec-settings-actions"},sA=["disabled"],iA=["disabled"],aA={key:1,class:"nxp-ec-settings-panel"},oA={class:"nxp-ec-settings-panel__header"},rA=["disabled"],lA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},cA={class:"nxp-ec-form-help"},dA={class:"nxp-ec-form-grid"},uA={class:"nxp-ec-form-field"},pA={class:"nxp-ec-form-label",for:"settings-checkout-window"},_A={class:"nxp-ec-form-help"},fA={class:"nxp-ec-form-field"},mA={class:"nxp-ec-form-label",for:"settings-offline-window"},hA={class:"nxp-ec-form-help"},gA={class:"nxp-ec-form-grid"},EA={class:"nxp-ec-form-field"},CA={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},SA={class:"nxp-ec-form-field"},bA={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},AA={class:"nxp-ec-form-field"},TA={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},yA={class:"nxp-ec-form-grid"},RA={class:"nxp-ec-form-field"},OA={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},xA={class:"nxp-ec-form-field"},vA={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},PA={class:"nxp-ec-settings-actions"},NA=["disabled"],MA=["disabled"],IA={key:2,class:"nxp-ec-settings-panel"},kA={class:"nxp-ec-settings-panel__header"},$A={class:"nxp-ec-settings-actions"},wA=["disabled"],LA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},DA={key:1,class:"nxp-ec-admin-panel__loading"},UA={class:"nxp-ec-form-field"},YA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},XA={class:"nxp-ec-form-field"},FA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},GA={class:"nxp-ec-form-field"},VA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},HA={class:"nxp-ec-form-help"},BA={class:"nxp-ec-form-field"},KA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},jA={value:"test"},JA={value:"live"},WA={class:"nxp-ec-form-field"},qA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},zA={class:"nxp-ec-form-field"},QA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},ZA={class:"nxp-ec-form-field"},eT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},tT={class:"nxp-ec-form-help"},nT={class:"nxp-ec-form-field"},sT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},iT={value:"sandbox"},aT={value:"live"},oT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},rT={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},lT={class:"nxp-ec-form-field"},cT={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},dT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},uT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},pT={class:"nxp-ec-form-field"},_T={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},fT={class:"nxp-ec-form-field"},mT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},hT=["placeholder"],gT={class:"nxp-ec-form-help"},ET={class:"nxp-ec-form-grid"},CT={class:"nxp-ec-form-field"},ST={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},bT={class:"nxp-ec-form-field"},AT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},TT={class:"nxp-ec-form-field"},yT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},RT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},OT={class:"nxp-ec-settings-actions"},xT=["disabled"],vT=["disabled"],PT={key:3,class:"nxp-ec-settings-panel"},NT={class:"nxp-ec-settings-panel__header"},MT=["disabled"],IT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kT={key:1,class:"nxp-ec-admin-panel__loading"},$T={class:"nxp-ec-form-help"},wT={class:"nxp-ec-form-help nxp-ec-form-help--muted"},LT={class:"nxp-ec-visual-grid"},DT={class:"nxp-ec-visual-field"},UT={class:"nxp-ec-form-label",for:"visual-primary-color"},YT={class:"nxp-ec-color-input-group"},XT=["value"],FT=["placeholder"],GT={class:"nxp-ec-visual-field"},VT={class:"nxp-ec-form-label",for:"visual-text-color"},HT={class:"nxp-ec-color-input-group"},BT=["value"],KT=["placeholder"],jT={class:"nxp-ec-visual-field"},JT={class:"nxp-ec-form-label",for:"visual-surface-color"},WT={class:"nxp-ec-color-input-group"},qT=["value"],zT=["placeholder"],QT={class:"nxp-ec-visual-field"},ZT={class:"nxp-ec-form-label",for:"visual-border-color"},ey={class:"nxp-ec-color-input-group"},ty=["value"],ny=["placeholder"],sy={class:"nxp-ec-visual-field"},iy={class:"nxp-ec-form-label",for:"visual-muted-color"},ay={class:"nxp-ec-color-input-group"},oy=["value"],ry=["placeholder"],ly={class:"nxp-ec-visual-preview"},cy={type:"button",class:"nxp-ec-preview-btn"},dy={class:"nxp-ec-preview-text"},uy={class:"nxp-ec-preview-muted"},py={class:"nxp-ec-settings-actions"},_y=["disabled"],fy=["disabled"],my=Ot({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=s.settingsState,c=s.paymentsState,p=Xe(["general","security","payments","visual"].includes(s.initialTab)?s.initialTab:"general");me(()=>{var Q;const v=s.baseCurrency||"USD",h=typeof m.baseCurrency=="string"?m.baseCurrency.trim():"",x=typeof((Q=o==null?void 0:o.values)==null?void 0:Q.base_currency)=="string"?o.values.base_currency.trim():"";return(h!==""?h:x!==""?x:v).toUpperCase()});const m=Ie({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48}),f=Ie({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),l=Ie({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),g=Ie({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),k=me(()=>{var h,x;const v=(x=(h=o.values)==null?void 0:h.visual_defaults)!=null?x:{};return{primary:v.primary_color||"#4f6d7a",text:v.text_color||"#1f2933",surface:v.surface_color||"#ffffff",border:v.border_color||"#e4e7ec",muted:v.muted_color||"#6b7280"}}),V=me(()=>({"--nxp-ec-color-primary":g.primaryColor||k.value.primary,"--nxp-ec-color-text":g.textColor||k.value.text,"--nxp-ec-color-surface":g.surfaceColor||k.value.surface,"--nxp-ec-color-border":g.borderColor||k.value.border,"--nxp-ec-color-muted":g.mutedColor||k.value.muted})),$=(v={})=>{var z,ne,q,de,X,W,ee,oe,_e,pe,he,Oe,ye,Ne,Be,C;const h=(z=v==null?void 0:v.store)!=null?z:{},x=(ne=v==null?void 0:v.payments)!=null?ne:{},re=(q=v==null?void 0:v.visual)!=null?q:{},Q=(X=(de=v==null?void 0:v.security)==null?void 0:de.rate_limits)!=null?X:{};Object.assign(m,{storeName:(W=h.name)!=null?W:"",storeEmail:(ee=h.email)!=null?ee:"",storePhone:(oe=h.phone)!=null?oe:"",checkoutPhoneRequired:!!((_e=v==null?void 0:v.checkout_phone_required)!=null&&_e),paymentsConfigured:!!x.configured,autoSendOrderEmails:!!((pe=v==null?void 0:v.auto_send_order_emails)!=null&&pe),baseCurrency:typeof(v==null?void 0:v.base_currency)=="string"?v.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),categoryPageSize:Number.isFinite(Number(v==null?void 0:v.category_page_size))?Number(v.category_page_size):12,categoryPaginationMode:(v==null?void 0:v.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((he=v==null?void 0:v.stale_order_cleanup_enabled)!=null&&he),staleOrderHours:Number.isFinite(Number(v==null?void 0:v.stale_order_hours))?Math.max(1,Math.min(720,Number(v.stale_order_hours))):48}),Object.assign(g,{primaryColor:(Oe=re.primary_color)!=null?Oe:"",textColor:(ye=re.text_color)!=null?ye:"",surfaceColor:(Ne=re.surface_color)!=null?Ne:"",borderColor:(Be=re.border_color)!=null?Be:"",mutedColor:(C=re.muted_color)!=null?C:""}),Object.assign(f,{checkoutWindowMinutes:Number.isFinite(Number(Q.checkout_window_minutes))?Number(Q.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(Q.checkout_ip_limit))?Number(Q.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(Q.checkout_email_limit))?Number(Q.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(Q.checkout_session_limit))?Number(Q.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(Q.offline_window_minutes))?Number(Q.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(Q.offline_ip_limit))?Number(Q.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(Q.offline_email_limit))?Number(Q.offline_email_limit):5})},B=(v={})=>{var z,ne,q,de,X,W,ee,oe,_e,pe,he,Oe,ye,Ne,Be,C,I,K,A,b,Y,E,_,S;const h=(z=v.stripe)!=null?z:{},x=(ne=v.paypal)!=null?ne:{},re=(q=v.cod)!=null?q:{},Q=(de=v.bank_transfer)!=null?de:{};Object.assign(l.stripe,{publishable_key:(X=h.publishable_key)!=null?X:"",secret_key:(W=h.secret_key)!=null?W:"",webhook_secret:(ee=h.webhook_secret)!=null?ee:"",mode:(oe=h.mode)!=null?oe:"test"}),Object.assign(l.paypal,{client_id:(_e=x.client_id)!=null?_e:"",client_secret:(pe=x.client_secret)!=null?pe:"",webhook_id:(he=x.webhook_id)!=null?he:"",mode:(Oe=x.mode)!=null?Oe:"sandbox"}),Object.assign(l.cod,{enabled:re.enabled!==void 0?!!re.enabled:l.cod.enabled,label:(Ne=(ye=re.label)!=null?ye:l.cod.label)!=null?Ne:"Cash on delivery"}),Object.assign(l.bank_transfer,{enabled:Q.enabled!==void 0?!!Q.enabled:l.bank_transfer.enabled,label:(C=(Be=Q.label)!=null?Be:l.bank_transfer.label)!=null?C:"Bank transfer",instructions:(K=(I=Q.instructions)!=null?I:l.bank_transfer.instructions)!=null?K:"",account_name:(b=(A=Q.account_name)!=null?A:l.bank_transfer.account_name)!=null?b:"",iban:(E=(Y=Q.iban)!=null?Y:l.bank_transfer.iban)!=null?E:"",bic:(S=(_=Q.bic)!=null?_:l.bank_transfer.bic)!=null?S:""})};Ue(()=>o.values,v=>{$(v!=null?v:{})},{immediate:!0});const L=()=>a("refresh-settings"),w=()=>{const v=(m.baseCurrency||"").trim().toUpperCase();a("save-settings",{store:{name:m.storeName,email:m.storeEmail,phone:m.storePhone,base_currency:v},payments:{configured:m.paymentsConfigured},base_currency:v,checkout_phone_required:m.checkoutPhoneRequired,auto_send_order_emails:m.autoSendOrderEmails,category_page_size:Number.isFinite(Number(m.categoryPageSize))?Number(m.categoryPageSize):12,category_pagination_mode:m.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!m.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(m.staleOrderHours))?Math.max(1,Math.min(720,Number(m.staleOrderHours))):48})},D=()=>{var v;$((v=o.values)!=null?v:{})},G=()=>{const v=(h,x=0)=>{const re=Number(h);return Number.isFinite(re)&&re>=0?re:x};a("save-settings",{security:{rate_limits:{checkout_window_minutes:v(f.checkoutWindowMinutes,15),checkout_ip_limit:v(f.checkoutIpLimit,10),checkout_email_limit:v(f.checkoutEmailLimit,5),checkout_session_limit:v(f.checkoutSessionLimit,15),offline_window_minutes:v(f.offlineWindowMinutes,240),offline_ip_limit:v(f.offlineIpLimit,10),offline_email_limit:v(f.offlineEmailLimit,5)}}})},U=()=>{var v;$((v=o.values)!=null?v:{})};Ue(()=>o.saving,(v,h)=>{var x;h&&!v&&!o.error&&$((x=o.values)!=null?x:{})}),Ue(()=>m.baseCurrency,v=>{if(typeof v=="string"){const h=v.replace(/[^A-Za-z]/g,"").toUpperCase();h!==v&&(m.baseCurrency=h)}}),Ue(()=>c.config,v=>{B(v!=null?v:{})},{immediate:!0}),Ue(()=>c.saving,(v,h)=>{var x;h&&!v&&!c.error&&B((x=c.config)!=null?x:{})});const y=()=>a("refresh-payments"),te=()=>{const v=JSON.parse(JSON.stringify(l));a("save-payments",v)},ce=()=>{var v;B((v=c.config)!=null?v:{})},ge=()=>a("refresh-settings"),J=()=>{a("save-settings",{visual:{primary_color:g.primaryColor,text_color:g.textColor,surface_color:g.surfaceColor,border_color:g.borderColor,muted_color:g.mutedColor}})},j=()=>{var h,x,re,Q,z,ne,q;const v=(x=(h=o.values)==null?void 0:h.visual)!=null?x:{};Object.assign(g,{primaryColor:(re=v.primary_color)!=null?re:"",textColor:(Q=v.text_color)!=null?Q:"",surfaceColor:(z=v.surface_color)!=null?z:"",borderColor:(ne=v.border_color)!=null?ne:"",mutedColor:(q=v.muted_color)!=null?q:""})};return(v,h)=>(R(),P("section",pb,[i("header",_b,[i("div",null,[i("h2",fb,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",mb,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",hb,[i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="general"}]),onClick:h[0]||(h[0]=x=>p.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="security"}]),onClick:h[1]||(h[1]=x=>p.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="payments"}]),onClick:h[2]||(h[2]=x=>p.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="visual"}]),onClick:h[3]||(h[3]=x=>p.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),p.value==="general"?(R(),P("div",gb,[i("header",Eb,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,Cb)]),r(o).error?(R(),P("div",Sb,d(r(o).error),1)):r(o).loading?(R(),P("div",bb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(R(),P("form",{key:2,class:"nxp-ec-settings-form",onSubmit:mt(w,["prevent"])},[i("div",Ab,[i("label",Tb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),Z(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[4]||(h[4]=x=>m.storeName=x),maxlength:"190"},null,512),[[ue,m.storeName,void 0,{trim:!0}]])]),i("div",yb,[i("label",Rb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),Z(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":h[5]||(h[5]=x=>m.storeEmail=x)},null,512),[[ue,m.storeEmail,void 0,{trim:!0}]])]),i("div",Ob,[i("label",xb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),Z(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[6]||(h[6]=x=>m.storePhone=x),maxlength:"64"},null,512),[[ue,m.storePhone,void 0,{trim:!0}]])]),i("div",vb,[i("label",Pb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),Z(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[7]||(h[7]=x=>m.checkoutPhoneRequired=x)},null,512),[[ut,m.checkoutPhoneRequired]]),i("p",Nb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",Mb,[i("label",Ib,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),Z(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":h[8]||(h[8]=x=>m.baseCurrency=x),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[ue,m.baseCurrency,void 0,{trim:!0}]]),i("p",kb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",$b,[i("label",wb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),Z(i("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":h[9]||(h[9]=x=>m.categoryPageSize=x)},null,512),[[ue,m.categoryPageSize,void 0,{number:!0}]]),i("p",Lb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),i("div",Db,[i("label",Ub,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),Z(i("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":h[10]||(h[10]=x=>m.categoryPaginationMode=x)},[i("option",Yb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),i("option",Xb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[ft,m.categoryPaginationMode]]),i("p",Fb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)]),i("div",Gb,[i("label",Vb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),Z(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[11]||(h[11]=x=>m.paymentsConfigured=x)},null,512),[[ut,m.paymentsConfigured]]),i("p",Hb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",Bb,[i("label",Kb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),Z(i("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[12]||(h[12]=x=>m.autoSendOrderEmails=x)},null,512),[[ut,m.autoSendOrderEmails]]),i("p",jb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)]),i("fieldset",Jb,[i("legend",Wb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),i("div",qb,[i("label",zb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),Z(i("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":h[13]||(h[13]=x=>m.staleOrderCleanupEnabled=x)},null,512),[[ut,m.staleOrderCleanupEnabled]]),i("p",Qb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),m.staleOrderCleanupEnabled?(R(),P("div",Zb,[i("label",eA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),Z(i("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":h[14]||(h[14]=x=>m.staleOrderHours=x)},null,512),[[ue,m.staleOrderHours,void 0,{number:!0}]]),i("p",tA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):ae("",!0)]),i("div",nA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:D,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,sA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,iA)])],32))])):p.value==="security"?(R(),P("div",aA,[i("header",oA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,rA)]),r(o).error?(R(),P("div",lA,d(r(o).error),1)):(R(),P("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:mt(G,["prevent"])},[i("p",cA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",dA,[i("div",uA,[i("label",pA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),Z(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[15]||(h[15]=x=>f.checkoutWindowMinutes=x)},null,512),[[ue,f.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",_A,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",fA,[i("label",mA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),Z(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[16]||(h[16]=x=>f.offlineWindowMinutes=x)},null,512),[[ue,f.offlineWindowMinutes,void 0,{number:!0}]]),i("p",hA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",gA,[i("div",EA,[i("label",CA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),Z(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[17]||(h[17]=x=>f.checkoutIpLimit=x)},null,512),[[ue,f.checkoutIpLimit,void 0,{number:!0}]])]),i("div",SA,[i("label",bA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),Z(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[18]||(h[18]=x=>f.checkoutEmailLimit=x)},null,512),[[ue,f.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",AA,[i("label",TA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),Z(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[19]||(h[19]=x=>f.checkoutSessionLimit=x)},null,512),[[ue,f.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",yA,[i("div",RA,[i("label",OA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),Z(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[20]||(h[20]=x=>f.offlineIpLimit=x)},null,512),[[ue,f.offlineIpLimit,void 0,{number:!0}]])]),i("div",xA,[i("label",vA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),Z(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":h[21]||(h[21]=x=>f.offlineEmailLimit=x)},null,512),[[ue,f.offlineEmailLimit,void 0,{number:!0}]])])]),i("div",PA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:U,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,NA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,MA)])],32))])):p.value==="payments"?(R(),P("div",IA,[i("header",kA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",$A,[i("button",{class:"nxp-ec-btn",type:"button",onClick:y,disabled:r(c).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,wA)])]),r(c).error?(R(),P("div",LA,d(r(c).error),1)):r(c).loading?(R(),P("div",DA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(R(),P("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:mt(te,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",UA,[i("label",YA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),Z(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[22]||(h[22]=x=>l.stripe.publishable_key=x)},null,512),[[ue,l.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",XA,[i("label",FA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),Z(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":h[23]||(h[23]=x=>l.stripe.secret_key=x),autocomplete:"off"},null,512),[[ue,l.stripe.secret_key,void 0,{trim:!0}]])]),i("div",GA,[i("label",VA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),Z(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":h[24]||(h[24]=x=>l.stripe.webhook_secret=x),autocomplete:"off"},null,512),[[ue,l.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",HA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",BA,[i("label",KA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Z(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":h[25]||(h[25]=x=>l.stripe.mode=x)},[i("option",jA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",JA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ft,l.stripe.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",WA,[i("label",qA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),Z(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[26]||(h[26]=x=>l.paypal.client_id=x)},null,512),[[ue,l.paypal.client_id,void 0,{trim:!0}]])]),i("div",zA,[i("label",QA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),Z(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":h[27]||(h[27]=x=>l.paypal.client_secret=x),autocomplete:"off"},null,512),[[ue,l.paypal.client_secret,void 0,{trim:!0}]])]),i("div",ZA,[i("label",eT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),Z(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[28]||(h[28]=x=>l.paypal.webhook_id=x)},null,512),[[ue,l.paypal.webhook_id,void 0,{trim:!0}]]),i("p",tT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",nT,[i("label",sT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Z(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":h[29]||(h[29]=x=>l.paypal.mode=x)},[i("option",iT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",aT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ft,l.paypal.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",oT,[i("label",rT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),Z(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":h[30]||(h[30]=x=>l.cod.enabled=x)},null,512),[[ut,l.cod.enabled]])]),i("div",lT,[i("label",cT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),Z(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[31]||(h[31]=x=>l.cod.label=x),placeholder:"Cash on delivery"},null,512),[[ue,l.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",dT,[i("label",uT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),Z(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":h[32]||(h[32]=x=>l.bank_transfer.enabled=x)},null,512),[[ut,l.bank_transfer.enabled]])]),i("div",pT,[i("label",_T,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),Z(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[33]||(h[33]=x=>l.bank_transfer.label=x),placeholder:"Bank transfer"},null,512),[[ue,l.bank_transfer.label,void 0,{trim:!0}]])]),i("div",fT,[i("label",mT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),Z(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":h[34]||(h[34]=x=>l.bank_transfer.instructions=x),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,hT),[[ue,l.bank_transfer.instructions]]),i("p",gT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",ET,[i("div",CT,[i("label",ST,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),Z(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[35]||(h[35]=x=>l.bank_transfer.account_name=x)},null,512),[[ue,l.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",bT,[i("label",AT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),Z(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[36]||(h[36]=x=>l.bank_transfer.iban=x),maxlength:"34"},null,512),[[ue,l.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",TT,[i("label",yT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),Z(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[37]||(h[37]=x=>l.bank_transfer.bic=x),maxlength:"11"},null,512),[[ue,l.bank_transfer.bic,void 0,{trim:!0}]])])])]),r(c).message?(R(),P("div",RT,d(r(c).message),1)):ae("",!0),i("div",OT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ce,disabled:r(c).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,xT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(c).saving},d(r(c).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,vT)])],32))])):p.value==="visual"?(R(),P("div",PT,[i("header",NT,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ge,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,MT)]),r(o).error?(R(),P("div",IT,d(r(o).error),1)):r(o).loading?(R(),P("div",kT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(R(),P("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:mt(J,["prevent"])},[i("p",$T,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",wT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",LT,[i("div",DT,[i("label",UT,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",YT,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:g.primaryColor||k.value.primary,onInput:h[38]||(h[38]=x=>g.primaryColor=x.target.value)},null,40,XT),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[39]||(h[39]=x=>g.primaryColor=x),placeholder:k.value.primary,maxlength:"7"},null,8,FT),[[ue,g.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[40]||(h[40]=x=>g.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",GT,[i("label",VT,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",HT,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:g.textColor||k.value.text,onInput:h[41]||(h[41]=x=>g.textColor=x.target.value)},null,40,BT),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[42]||(h[42]=x=>g.textColor=x),placeholder:k.value.text,maxlength:"7"},null,8,KT),[[ue,g.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[43]||(h[43]=x=>g.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",jT,[i("label",JT,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",WT,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:g.surfaceColor||k.value.surface,onInput:h[44]||(h[44]=x=>g.surfaceColor=x.target.value)},null,40,qT),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[45]||(h[45]=x=>g.surfaceColor=x),placeholder:k.value.surface,maxlength:"7"},null,8,zT),[[ue,g.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[46]||(h[46]=x=>g.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",QT,[i("label",ZT,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",ey,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:g.borderColor||k.value.border,onInput:h[47]||(h[47]=x=>g.borderColor=x.target.value)},null,40,ty),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[48]||(h[48]=x=>g.borderColor=x),placeholder:k.value.border,maxlength:"7"},null,8,ny),[[ue,g.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[49]||(h[49]=x=>g.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",sy,[i("label",iy,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",ay,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:g.mutedColor||k.value.muted,onInput:h[50]||(h[50]=x=>g.mutedColor=x.target.value)},null,40,oy),Z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[51]||(h[51]=x=>g.mutedColor=x),placeholder:k.value.muted,maxlength:"7"},null,8,ry),[[ue,g.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:h[52]||(h[52]=x=>g.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",ly,[i("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Gt(V.value)},[i("button",cy,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",dy,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",uy,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",py,[i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,_y),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,fy)])],32))])):ae("",!0)]))}},[["__scopeId","data-v-93564a9c"]]),hy={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},gy={class:"nxp-ec-admin-panel__header"},Ey={class:"nxp-ec-admin-panel__title"},Cy={class:"nxp-ec-admin-panel__lead"},Sy={class:"nxp-ec-admin-panel__actions"},by=["disabled","title","aria-label"],Ay={class:"nxp-ec-sr-only"},Ty={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},yy={key:1,class:"nxp-ec-admin-panel__loading"},Ry={key:2,class:"nxp-ec-admin-panel__body"},Oy={class:"nxp-ec-admin-panel__table"},xy={class:"nxp-ec-admin-table"},vy={scope:"col"},Py={scope:"col"},Ny={scope:"col"},My={scope:"col"},Iy={scope:"col"},ky={key:0},$y={colspan:"6"},wy={scope:"row",class:"nxp-ec-admin-table__primary"},Ly=["data-label"],Dy=["data-label"],Uy=["data-label"],Yy=["data-label"],Xy={class:"nxp-ec-admin-table__actions"},Fy=["onClick","title","aria-label"],Gy={class:"nxp-ec-sr-only"},Vy=["onClick","title","aria-label"],Hy={class:"nxp-ec-sr-only"},By={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Ky={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},jy={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Jy={class:"nxp-ec-admin-panel__sidebar-header"},Wy=["title","aria-label"],qy={class:"nxp-ec-sr-only"},zy={class:"nxp-ec-form-field"},Qy={class:"nxp-ec-form-label",for:"tax-country"},Zy=["placeholder"],eR={class:"nxp-ec-form-help"},tR={class:"nxp-ec-form-field"},nR={class:"nxp-ec-form-label",for:"tax-region"},sR=["placeholder"],iR={class:"nxp-ec-form-help"},aR={class:"nxp-ec-form-field"},oR={class:"nxp-ec-form-label",for:"tax-rate"},rR={class:"nxp-ec-input-group"},lR={class:"nxp-ec-form-field nxp-ec-form-field--inline"},cR={class:"nxp-ec-form-label",for:"tax-inclusive"},dR={class:"nxp-ec-form-help"},uR={class:"nxp-ec-form-field"},pR={class:"nxp-ec-form-label",for:"tax-priority"},_R={class:"nxp-ec-form-help"},fR={class:"nxp-ec-modal__actions"},mR=["disabled"],hR=["disabled"],gR=["disabled"],ER={__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=Xe(!1),c=Ie({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),u=()=>a("refresh"),p=()=>{l(),o.value=!0},m=V=>{Object.assign(c,{id:V.id,country:V.country,region:V.region,rate:V.rate,inclusive:V.inclusive,priority:V.priority}),o.value=!0},f=()=>{o.value=!1,l()},l=()=>{Object.assign(c,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},g=()=>{a("save",{id:c.id||void 0,country:c.country,region:c.region,rate:c.rate,inclusive:c.inclusive,priority:c.priority})},k=V=>{const $=n("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm($)&&(a("delete",[V.id]),c.id===V.id&&f())};return Ue(()=>s.state.saving,(V,$)=>{$&&!V&&!s.state.error&&f()}),(V,$)=>(R(),P("section",hy,[i("header",gy,[i("div",null,[i("h2",Ey,d(r(n)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),i("p",Cy,d(r(n)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),i("div",Sy,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[$[6]||($[6]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Ay,d(r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,by),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[$[7]||($[7]=i("i",{class:"fa-solid fa-plus"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(R(),P("div",Ty,d(e.state.error),1)):ae("",!0),e.state.loading?(R(),P("div",yy,d(r(n)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):ae("",!0),e.state.loading?ae("",!0):(R(),P("div",Ry,[i("div",Oy,[i("table",xy,[i("thead",null,[i("tr",null,[i("th",vy,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),i("th",Py,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),i("th",Ny,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("th",My,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),i("th",Iy,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),$[8]||($[8]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ae("",!0):(R(),P("tr",ky,[i("td",$y,d(r(n)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(R(!0),P(Ce,null,xe(e.state.items,B=>{var L;return R(),P("tr",{key:B.id,class:Me({"is-active":c.id===B.id})},[i("th",wy,d(B.country),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_REGION","Region")},d(B.region||""),9,Ly),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_RATE","Rate")},d(((L=B.rate)!=null?L:0).toFixed(2))+"%",9,Dy),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[i("span",{class:Me(["nxp-ec-badge",{"is-active":B.inclusive}])},[i("i",{class:Me(B.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Re(" "+d(B.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,Uy),i("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},d(B.priority),9,Yy),i("td",Xy,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:w=>m(B),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[$[9]||($[9]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",Gy,d(r(n)("JEDIT","Edit")),1)],8,Fy),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:w=>k(B),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[$[10]||($[10]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",Hy,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Vy)])],2)}),128))])])]),o.value?(R(),P("div",By,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:f}),i("div",Ky,[i("aside",jy,[i("header",Jy,[i("h3",null,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:f,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[$[11]||($[11]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",qy,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,Wy)]),i("form",{class:"nxp-ec-form",onSubmit:mt(g,["prevent"]),autocomplete:"off"},[i("div",zy,[i("label",Qy,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),Z(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[0]||($[0]=B=>c.country=B),maxlength:"2",required:"",placeholder:r(n)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,Zy),[[ue,c.country,void 0,{trim:!0}]]),i("p",eR,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),i("div",tR,[i("label",nR,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),Z(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[1]||($[1]=B=>c.region=B),placeholder:r(n)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,sR),[[ue,c.region,void 0,{trim:!0}]]),i("p",iR,d(r(n)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),i("div",aR,[i("label",oR,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("div",rR,[Z(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$[2]||($[2]=B=>c.rate=B),required:""},null,512),[[ue,c.rate,void 0,{number:!0}]]),$[12]||($[12]=i("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),i("div",lR,[i("label",cR,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),Z(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":$[3]||($[3]=B=>c.inclusive=B)},null,512),[[ut,c.inclusive]]),i("p",dR,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),i("div",uR,[i("label",pR,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),Z(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":$[4]||($[4]=B=>c.priority=B)},null,512),[[ue,c.priority,void 0,{number:!0}]]),i("p",_R,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),i("footer",fR,[i("button",{class:"nxp-ec-btn",type:"button",onClick:f,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,mR),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,hR)]),c.id?(R(),P("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:$[5]||($[5]=B=>k(c)),disabled:e.state.saving},[$[13]||($[13]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,gR)):ae("",!0)],32)])])])):ae("",!0)]))]))}},CR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},SR={class:"nxp-ec-admin-panel__header"},bR={class:"nxp-ec-admin-panel__title"},AR={class:"nxp-ec-admin-panel__lead"},TR={class:"nxp-ec-admin-panel__actions"},yR=["disabled","title","aria-label"],RR={class:"nxp-ec-sr-only"},OR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},xR={key:1,class:"nxp-ec-admin-panel__loading"},vR={key:2,class:"nxp-ec-admin-panel__body"},PR={class:"nxp-ec-admin-panel__table"},NR={class:"nxp-ec-admin-table"},MR={scope:"col"},IR={scope:"col"},kR={scope:"col"},$R={scope:"col"},wR={scope:"col"},LR={scope:"col"},DR={key:0},UR={colspan:"7"},YR={scope:"row",class:"nxp-ec-admin-table__primary"},XR=["data-label"],FR=["data-label"],GR=["data-label"],VR=["data-label"],HR=["data-label"],BR={class:"nxp-ec-admin-table__actions"},KR=["onClick","title","aria-label"],jR={class:"nxp-ec-sr-only"},JR=["onClick","title","aria-label"],WR={class:"nxp-ec-sr-only"},qR={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},zR={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},QR={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},ZR={class:"nxp-ec-admin-panel__sidebar-header"},eO=["title","aria-label"],tO={class:"nxp-ec-sr-only"},nO={class:"nxp-ec-form-field"},sO={class:"nxp-ec-form-label",for:"shipping-name"},iO=["placeholder"],aO={class:"nxp-ec-form-field"},oO={class:"nxp-ec-form-label",for:"shipping-type"},rO={value:"flat"},lO={value:"free_over"},cO={class:"nxp-ec-form-help"},dO={class:"nxp-ec-form-field"},uO={class:"nxp-ec-form-label",for:"shipping-price"},pO={class:"nxp-ec-input-group"},_O={class:"nxp-ec-input-group__prefix"},fO={key:0,class:"nxp-ec-form-field"},mO={class:"nxp-ec-form-label",for:"shipping-threshold"},hO={class:"nxp-ec-input-group"},gO={class:"nxp-ec-input-group__prefix"},EO={class:"nxp-ec-form-help"},CO={class:"nxp-ec-form-field"},SO={class:"nxp-ec-form-label",for:"shipping-regions"},bO=["placeholder"],AO={class:"nxp-ec-form-help"},TO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},yO={class:"nxp-ec-form-label",for:"shipping-active"},RO={class:"nxp-ec-form-help"},OO={class:"nxp-ec-modal__actions"},xO=["disabled"],vO=["disabled"],PO=["disabled"],NO={__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=me(()=>{const L=s.baseCurrency;return typeof L=="string"&&L.trim()!==""?L.trim().toUpperCase():"USD"}),c=Xe(!1),u=Ie({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),p=()=>a("refresh"),m=()=>{g(),c.value=!0},f=L=>{var w,D,G;Object.assign(u,{id:L.id,name:L.name,type:L.type,price:(D=L.price)!=null?D:((w=L.price_cents)!=null?w:0)/100,threshold:L.threshold!==null&&L.threshold!==void 0?L.threshold:((G=L.threshold_cents)!=null?G:0)/100,regions:L.regions&&L.regions.length?L.regions.join(", "):"",active:L.active}),c.value=!0},l=()=>{c.value=!1,g()},g=()=>{Object.assign(u,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},k=()=>{const L={id:u.id||void 0,name:u.name,type:u.type,price:u.price,threshold:u.type==="free_over"?u.threshold:0,regions:u.regions,active:u.active};a("save",L)},V=L=>{const w=n("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(w)&&(a("delete",[L.id]),u.id===L.id&&l())};Ue(()=>s.state.saving,(L,w)=>{w&&!L&&!s.state.error&&l()});const $=(L,w)=>{const D=(Number(L)||0)/100,G=(w||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:G}).format(D)}catch(U){return`${G} ${D.toFixed(2)}`}},B=L=>L==="free_over"?n("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):n("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(L,w)=>(R(),P("section",CR,[i("header",SR,[i("div",null,[i("h2",bR,d(r(n)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),i("p",AR,d(r(n)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),i("div",TR,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[w[7]||(w[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",RR,d(r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,yR),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:m},[w[8]||(w[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(R(),P("div",OR,d(e.state.error),1)):ae("",!0),e.state.loading?(R(),P("div",xR,d(r(n)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):ae("",!0),e.state.loading?ae("",!0):(R(),P("div",vR,[i("div",PR,[i("table",NR,[i("thead",null,[i("tr",null,[i("th",MR,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),i("th",IR,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),i("th",kR,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("th",$R,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("th",wR,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),i("th",LR,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),w[9]||(w[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ae("",!0):(R(),P("tr",DR,[i("td",UR,d(r(n)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(R(!0),P(Ce,null,xe(e.state.items,D=>(R(),P("tr",{key:D.id,class:Me({"is-active":u.id===D.id})},[i("th",YR,d(D.name),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},d(B(D.type)),9,XR),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},d($(D.price_cents,o.value)),9,FR),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},d(D.type==="free_over"?$(D.threshold_cents,o.value):""),9,GR),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},d(D.regions&&D.regions.length?D.regions.join(", "):r(n)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,VR),i("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[i("span",{class:Me(["nxp-ec-badge",{"is-active":D.active}])},[i("i",{class:Me(D.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Re(" "+d(D.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,HR),i("td",BR,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:G=>f(D),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[w[10]||(w[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",jR,d(r(n)("JEDIT","Edit")),1)],8,KR),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:G=>V(D),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[w[11]||(w[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",WR,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,JR)])],2))),128))])])]),c.value?(R(),P("div",qR,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:l}),i("div",zR,[i("aside",QR,[i("header",ZR,[i("h3",null,d(u.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:l,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[w[12]||(w[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",tO,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,eO)]),i("form",{class:"nxp-ec-form",onSubmit:mt(k,["prevent"]),autocomplete:"off"},[i("div",nO,[i("label",sO,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),Z(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w[0]||(w[0]=D=>u.name=D),required:"",placeholder:r(n)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,iO),[[ue,u.name,void 0,{trim:!0}]])]),i("div",aO,[i("label",oO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),Z(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":w[1]||(w[1]=D=>u.type=D)},[i("option",rO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),i("option",lO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[ft,u.type]]),i("p",cO,d(u.type==="free_over"?r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),i("div",dO,[i("label",uO,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("div",pO,[i("span",_O,d(o.value),1),Z(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":w[2]||(w[2]=D=>u.price=D),required:""},null,512),[[ue,u.price,void 0,{number:!0}]])])]),u.type==="free_over"?(R(),P("div",fO,[i("label",mO,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("div",hO,[i("span",gO,d(o.value),1),Z(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":w[3]||(w[3]=D=>u.threshold=D),required:""},null,512),[[ue,u.threshold,void 0,{number:!0}]])]),i("p",EO,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):ae("",!0),i("div",CO,[i("label",SO,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),Z(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w[4]||(w[4]=D=>u.regions=D),placeholder:r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,bO),[[ue,u.regions,void 0,{trim:!0}]]),i("p",AO,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),i("div",TO,[i("label",yO,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),Z(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":w[5]||(w[5]=D=>u.active=D)},null,512),[[ut,u.active]]),i("p",RO,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),i("footer",OO,[i("button",{class:"nxp-ec-btn",type:"button",onClick:l,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,xO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,vO)]),u.id?(R(),P("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:w[6]||(w[6]=D=>V(u)),disabled:e.state.saving},[w[13]||(w[13]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Re(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,PO)):ae("",!0)],32)])])])):ae("",!0)]))]))}},MO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},IO={class:"nxp-ec-admin-panel__header"},kO={class:"nxp-ec-admin-panel__title"},$O={class:"nxp-ec-admin-panel__lead"},wO={class:"nxp-ec-admin-panel__actions"},LO=["placeholder","aria-label"],DO=["value"],UO={value:""},YO=["value"],XO=["disabled","title","aria-label"],FO={class:"nxp-ec-sr-only"},GO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},VO={key:1,class:"nxp-ec-admin-panel__body"},HO={key:2,class:"nxp-ec-admin-panel__body"},BO={class:"nxp-ec-admin-panel__table"},KO={class:"nxp-ec-admin-table"},jO={scope:"col"},JO={scope:"col"},WO={scope:"col"},qO={scope:"col"},zO={scope:"col"},QO={key:0},ZO={colspan:"5"},ex=["data-label"],tx=["data-label"],nx={class:"nxp-ec-log-entity"},sx={class:"nxp-ec-log-entity-id"},ix=["data-label"],ax=["data-label"],ox=["data-label"],rx={class:"nxp-ec-log-context"},lx={key:0,class:"nxp-ec-admin-pagination"},cx=["disabled"],dx={class:"nxp-ec-admin-pagination__status"},ux=["disabled"],px=["title"],_x=Ot({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,o=s.state,c=me(()=>{const B=new Set;return Array.isArray(o.items)&&o.items.forEach(L=>{L!=null&&L.entity_type&&B.add(L.entity_type)}),o.entity&&B.add(o.entity),Array.from(B).sort()}),u=()=>a("refresh"),p=()=>a("search"),m=B=>a("filter",B),f=B=>a("page",B),l=B=>{if(!B)return"";try{const L=new Date(B.replace(" ","T"));if(!Number.isNaN(L.getTime()))return L.toLocaleString()}catch(L){}return B},g=B=>{if(!B)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(B){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return B.charAt(0).toUpperCase()+B.slice(1)}},k=B=>{if(!(B!=null&&B.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const L=B.user.name||"",w=B.user.username||"";return L&&w?`${L} (${w})`:L||w||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},V=B=>{if(!B||Array.isArray(B)&&!B.length||typeof B=="object"&&!Object.keys(B).length)return"";try{return JSON.stringify(B,null,2)}catch(L){return String(B)}},$=B=>{if(!B)return"";try{const L=new Date(B),D=new Date-L,G=Math.floor(D/1e3),U=Math.floor(G/60),y=Math.floor(U/60);return G<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):U<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[U]):y<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[y]):L.toLocaleString()}catch(L){return B}};return(B,L)=>(R(),P("section",MO,[i("header",IO,[i("div",null,[i("h2",kO,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",$O,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",wO,[Z(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":L[0]||(L[0]=w=>r(o).search=w),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:zt(p,["enter"])},null,40,LO),[[ue,r(o).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(o).entity,onChange:L[1]||(L[1]=w=>m(w.target.value)),"aria-label":"Entity filter"},[i("option",UO,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(R(!0),P(Ce,null,xe(c.value,w=>(R(),P("option",{key:w,value:w},d(g(w)),9,YO))),128))],40,DO),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(o).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[L[4]||(L[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",FO,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,XO)])]),r(o).error?(R(),P("div",GO,d(r(o).error),1)):ae("",!0),r(o).loading?(R(),P("div",VO,[He(Dn,{type:"table",rows:5,columns:5})])):ae("",!0),r(o).loading?ae("",!0):(R(),P("div",HO,[i("div",BO,[i("table",KO,[i("thead",null,[i("tr",null,[i("th",jO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",JO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",WO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",qO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",zO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(o).items.length?ae("",!0):(R(),P("tr",QO,[i("td",ZO,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(R(!0),P(Ce,null,xe(r(o).items,w=>(R(),P("tr",{key:w.id},[i("td",{class:"nxp-ec-admin-table__primary","data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},d(l(w.created)),9,ex),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[i("span",nx,d(g(w.entity_type)),1),i("span",sx,"#"+d(w.entity_id),1)],8,tx),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},d(w.action),9,ix),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},d(k(w)),9,ax),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[i("pre",rx,d(V(w.context)),1)],8,ox)]))),128))])]),r(o).pagination.pages>1?(R(),P("div",lx,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current<=1,onClick:L[2]||(L[2]=w=>f(r(o).pagination.current-1))},"  ",8,cx),i("span",dx,d(r(o).pagination.current)+" / "+d(r(o).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current>=r(o).pagination.pages,onClick:L[3]||(L[3]=w=>f(r(o).pagination.current+1))},"  ",8,ux)])):ae("",!0)]),r(o).lastUpdated?(R(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(o).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d($(r(o).lastUpdated)),9,px)):ae("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),fx={key:0,class:"nxp-ec-onboarding"},mx={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},hx={class:"nxp-ec-onboarding__header"},gx={class:"nxp-ec-onboarding__title"},Ex={class:"nxp-ec-onboarding__lead"},Cx={class:"nxp-ec-onboarding__progress"},Sx={class:"nxp-ec-onboarding__progress-bar"},bx={class:"nxp-ec-onboarding__progress-label"},Ax={class:"nxp-ec-onboarding__steps"},Tx={class:"nxp-ec-onboarding__step-main"},yx={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},Rx={key:0,class:"fa-solid fa-circle-check"},Ox={key:1,class:"fa-regular fa-circle"},xx={class:"nxp-ec-onboarding__step-actions"},vx=["onClick"],Px=Ot({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,a=me(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=me(()=>`${a.value}%`),o=me(()=>{const c=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(c),String(t.steps.length)],"onboardingProgress")});return(c,u)=>e.visible?(R(),P("div",fx,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>c.$emit("close"))}),i("section",mx,[i("header",hx,[i("div",null,[i("h2",gx,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",Ex,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>c.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",Cx,[i("div",Sx,[i("span",{style:Gt({width:n.value})},null,4)]),i("span",bx,d(o.value),1)]),i("ol",Ax,[(R(!0),P(Ce,null,xe(e.steps,p=>(R(),P("li",{key:p.id,class:Me({"is-complete":p.completed})},[i("div",Tx,[i("span",yx,[p.completed?(R(),P("span",Rx)):(R(),P("span",Ox))]),i("div",null,[i("h3",null,d(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,d(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",xx,[p.link?(R(),P("button",{key:0,type:"button",class:Me(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:m=>c.$emit("navigate",p)},d(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,vx)):ae("",!0)])],2))),128))])])])):ae("",!0)}},[["__scopeId","data-v-c2a94811"]]),Nx=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(o){}let a=String(e);return t.forEach(o=>{const c=o!=null?o:"";a=a.replace("%s",String(c))}),a},Mx=(e,t="",s=[])=>{var o;const a=(o=window==null?void 0:window.Joomla)==null?void 0:o.Text;let n=t||e;if(a&&typeof a._=="function"){const c=a._(e);c&&c!==e&&(n=c)}return Nx(n,s)};function Ix(e={}){const t=e||{},s=(n,o)=>{if(!n)return o;const c=t[n];return c!=null&&c!==""?c:o};return{__:(n,o="",c=[],u="")=>{const p=s(u,o);return Mx(n,p,c)}}}class kx{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const a={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};a.headers={...a.headers,...s.headers||{}};const n=String(a.method||"GET").toUpperCase();let o=t;this.token&&(a.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(o=this.ensureTokenOnUrl(o)));const c=await fetch(o,a);let u=null;const p=await c.text();if(p)try{u=JSON.parse(p)}catch(m){}if(!c.ok){const m=new Error((u==null?void 0:u.message)||`Request failed with status ${c.status}`);throw m.code=c.status,m.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,m}if((u==null?void 0:u.success)===!1){const m=new Error(u.message||"Unknown API error");throw m.details=u.data||u.errors||null,m}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const a=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,a);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(a){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var g,k,V,$;const c=new URLSearchParams({limit:String(s),start:String(a)});n&&c.set("search",n);const u=`${t}&${c.toString()}`,m=(g=(await this.get(u,{signal:o})).data)!=null?g:{},f=(V=(k=m.items)!=null?k:m.data)!=null?V:[],l=($=m.pagination)!=null?$:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCategories({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:a=0,search:n="",state:o="",signal:c}){var g,k,V,$;const u=this.mergeParams(t,{limit:s,start:a,search:n||void 0,state:o||void 0}),m=(g=(await this.get(u,{signal:c})).data)!=null?g:{},f=(V=(k=m.items)!=null?k:m.data)!=null?V:[],l=($=m.pagination)!=null?$:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCustomers({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var l,g,k;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(l=(await this.get(c,{signal:o})).data)!=null?l:{},m=(g=p.items)!=null?g:[],f=(k=p.pagination)!=null?k:{total:0,limit:s,pages:0,current:0};return{items:m,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var o,c;const a=this.mergeParams(t,{email:s});return(c=(o=(await this.get(a)).data)==null?void 0:o.customer)!=null?c:null}async fetchCoupons({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?o:null}async updateCoupon({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchTaxRates({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?o:null}async updateTaxRate({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchShippingRules({endpoint:t,limit:s=20,start:a=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?o:null}async updateShippingRule({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchLogs({endpoint:t,limit:s=20,start:a=0,search:n="",entity:o="",signal:c}){var f,l,g;const u=this.mergeParams(t,{limit:s,start:a,search:n||void 0,entity:o||void 0}),m=(f=(await this.get(u,{signal:c})).data)!=null?f:{};return{items:(l=m.items)!=null?l:[],pagination:(g=m.pagination)!=null?g:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var a;return t?(a=(await this.get(t)).data)!=null?a:{}:{}}async fetchSettings({endpoint:t}){var a,n;return t?(n=(a=(await this.get(t)).data)==null?void 0:a.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,o;return(o=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?o:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:a=""}){var c,u;const n=this.mergeParams(t,{id:s||void 0,order_no:a||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.post(n,{state:a})).data)==null?void 0:c.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:a}){var c;const n={ids:s,state:a};return(c=(await this.post(t,n)).data)!=null?c:{}}async addOrderNote({endpoint:t,id:s,message:a}){var o,c;return(c=(o=(await this.post(t,{id:s,message:a})).data)==null?void 0:o.order)!=null?c:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:a}){var c,u;const n={id:s||void 0,order_no:a||void 0};return(u=(c=(await this.post(t,n)).data)==null?void 0:c.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:a=""}){var c,u;const n=this.mergeParams(t,{search:s||void 0,state:a||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:a}){var o,c;return(c=(o=(await this.post(t,{id:s,...a})).data)==null?void 0:o.order)!=null?c:null}async sendOrderEmail({endpoint:t,id:s,type:a}){var o,c;return(c=(o=(await this.post(t,{id:s,type:a})).data)==null?void 0:o.order)!=null?c:null}async recordTransaction({endpoint:t,id:s,amountCents:a,reference:n,note:o}){var u,p;return(p=(u=(await this.post(t,{id:s,amount_cents:a,reference:n||void 0,note:o||void 0})).data)==null?void 0:u.order)!=null?p:null}async createProduct({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateProduct({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:[]}async createCategory({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateCategory({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async gdprExport({endpoint:t,email:s}){var o,c;const a=this.mergeParams(t,{email:s});return(c=(o=(await this.get(a)).data)==null?void 0:o.export)!=null?c:null}async gdprAnonymise({endpoint:t,email:s}){var n,o,c,u;const a=await this.post(t,{email:s});return{affected:(o=(n=a.data)==null?void 0:n.affected)!=null?o:0,message:(u=(c=a.data)==null?void 0:c.message)!=null?u:""}}mergeParams(t,s={}){const a=new URLSearchParams;return Object.entries(s).forEach(([n,o])=>{o==null||o===""||a.set(n,String(o))}),a.toString()?`${t}${t.includes("?")?"&":"?"}${a.toString()}`:t}}const ht=e=>new kx(e),so=typeof window!="undefined"&&window.performance;function io(e){if(so)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function $x(e,t,s){if(!so)return null;try{performance.measure(e,t,s);const a=performance.getEntriesByName(e,"measure")[0];if(a)return console.log(`[NXP EC Performance] ${e}: ${a.duration.toFixed(2)}ms`),a.duration}catch(a){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,a)}return null}const Cs=Ie({}),wx=3e5;function Lx(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function xt(e,t=wx){const s=Cs[e];return s?Lx(s,t)?s.data:(delete Cs[e],null):null}function gt(e,t){Cs[e]={data:t,timestamp:Date.now()}}function Le(e){delete Cs[e]}function vt(e){const t=Xe({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const c=`${e}-fetch-start`;return io(c),c},endFetch:c=>{const u=`${e}-fetch-end`;io(u);const p=$x(`${e}-fetch`,c,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const ci=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.products.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function Dx({endpoints:e,token:t,autoload:s=!0,cacheTTL:a=3e5}){var y,te,ce,ge;const n=ht({token:t}),o=vt("products"),c=(y=e==null?void 0:e.list)!=null?y:"",u=(te=e==null?void 0:e.create)!=null?te:ci(c,"store"),p=(ce=e==null?void 0:e.update)!=null?ce:ci(c,"update"),m=(ge=e==null?void 0:e.delete)!=null?ge:ci(c,"delete"),f=typeof AbortController!="undefined",l=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),g=Xe(null),k=()=>{const J=l.pagination.current||1,j=l.pagination.limit||20,v=l.search.trim();return`products:page=${J}:limit=${j}:search=${v}`},V=async(J=!1)=>{var re;if(!c){l.error="Products endpoint unavailable.",l.items=[];return}const j=k(),v=J?null:xt(j,a);if(v){o.recordCacheHit(),l.items=v.items,l.pagination={...l.pagination,...v.pagination},l.lastUpdated=v.lastUpdated;return}o.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],g.value&&f&&g.value.abort();const h=f?new AbortController:null;g.value=h;const x=o.startFetch();try{const{items:Q,pagination:z}=await n.fetchProducts({endpoint:c,signal:h?h.signal:void 0,limit:l.pagination.limit,start:Math.max(0,(l.pagination.current-1)*l.pagination.limit),search:l.search.trim()});l.items=Q,l.pagination={...l.pagination,...z,current:z.current&&z.current>0?z.current:1},l.lastUpdated=new Date().toISOString(),gt(j,{items:Q,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;l.error=(re=Q==null?void 0:Q.message)!=null?re:"Unknown error"}finally{o.endFetch(x),f&&g.value===h&&(g.value=null),l.loading=!1}},$=()=>{l.pagination.current=1,Le(k()),V(!0)},B=()=>{l.pagination.current=1,V()},L=J=>J?typeof J=="string"?J:typeof J=="object"&&J.message?String(J.message):String(J):"",w=(J,{setValidation:j=!1}={})=>{var v;if((J==null?void 0:J.code)===422&&j){const h=Array.isArray(J.details)?J.details:[J.details].filter(Boolean);l.validationErrors=h.map(L).filter(x=>x!=="");return}l.error=(v=J==null?void 0:J.message)!=null?v:"Unknown error"},D=async J=>{if(!u)throw new Error("Create endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const j=await n.createProduct({endpoint:u,data:J});return j&&(l.items=[j,...l.items],l.pagination.total+=1,Le(k())),j}catch(j){throw w(j,{setValidation:!0}),j}finally{l.saving=!1}},G=async(J,j)=>{if(!p)throw new Error("Update endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const v=await n.updateProduct({endpoint:p,id:J,data:j});if(v){const h=l.items.findIndex(x=>x.id===v.id);h!==-1&&l.items.splice(h,1,v),Le(k())}return v}catch(v){throw w(v,{setValidation:!0}),v}finally{l.saving=!1}},U=async J=>{if(!m)throw new Error("Delete endpoint unavailable.");l.deleting=!0,l.validationErrors=[];try{const j=await n.deleteProducts({endpoint:m,ids:J});return j.length&&(l.items=l.items.filter(v=>!j.includes(v.id)),l.pagination.total=Math.max(0,l.pagination.total-j.length),Le(k())),j}catch(j){throw w(j),j}finally{l.deleting=!1}};return at(()=>{s&&V()}),{state:l,loadProducts:V,refresh:$,search:B,createProduct:D,updateProduct:G,deleteProducts:U,metrics:o.metrics}}function Ux({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var te,ce,ge,J,j,v,h,x,re,Q,z,ne,q,de;const o=ht({token:t}),c=vt("categories"),u=(te=e==null?void 0:e.list)!=null?te:"",p=(ce=e==null?void 0:e.create)!=null?ce:u,m=(ge=e==null?void 0:e.update)!=null?ge:u,f=(J=e==null?void 0:e.delete)!=null?J:u,l=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(x=(h=(j=s.pagination)==null?void 0:j.total)!=null?h:(v=s.items)==null?void 0:v.length)!=null?x:0,limit:(Q=(re=s.pagination)==null?void 0:re.limit)!=null?Q:20,pages:(ne=(z=s.pagination)==null?void 0:z.pages)!=null?ne:0,current:(de=(q=s.pagination)==null?void 0:q.current)!=null?de:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const X=l.pagination.current||1,W=l.pagination.limit||20,ee=l.search.trim();return`categories:page=${X}:limit=${W}:search=${ee}`},$=async(X=!1)=>{var pe;if(!u){l.error="Categories endpoint unavailable.",l.items=[];return}const W=V(),ee=X?null:xt(W,n);if(ee){c.recordCacheHit(),l.items=ee.items,l.pagination={...l.pagination,...ee.pagination},l.lastUpdated=ee.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],k.value&&g&&k.value.abort();const oe=g?new AbortController:null;k.value=oe;const _e=c.startFetch();try{const he=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Oe,pagination:ye}=await o.fetchCategories({endpoint:u,limit:l.pagination.limit,start:he,search:l.search.trim(),signal:oe?oe.signal:void 0});l.items=Oe,l.pagination={...l.pagination,...ye,current:ye.current&&ye.current>0?ye.current:1},l.lastUpdated=new Date().toISOString(),gt(W,{items:Oe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(he){if((he==null?void 0:he.name)==="AbortError")return;l.error=(pe=he==null?void 0:he.message)!=null?pe:"Unknown error"}finally{c.endFetch(_e),g&&k.value===oe&&(k.value=null),l.loading=!1}},B=()=>{l.pagination.current=1,Le(V()),$(!0)},L=()=>{l.pagination.current=1,$()},w=X=>{const W=Number(X);Number.isNaN(W)||W<1||W===l.pagination.current||(l.pagination.current=W,$(!0))},D=(X,{validation:W=!1}={})=>{var ee;if(W&&(X==null?void 0:X.code)===422){const oe=X.details,_e=Array.isArray(oe)?oe:[oe].filter(Boolean);l.validationErrors=_e.map(pe=>pe?typeof pe=="string"?pe:typeof pe=="object"&&pe.message?String(pe.message):String(pe):"").filter(Boolean);return}l.error=(ee=X==null?void 0:X.message)!=null?ee:"Unknown error"},G=async X=>{if(!p||!m)throw new Error("Category endpoints unavailable.");l.saving=!0,l.error="",l.validationErrors=[];try{let W=null;return X.id?W=await o.updateCategory({endpoint:m,id:X.id,data:X}):W=await o.createCategory({endpoint:p,data:X}),W&&(Le(V()),await $()),W}catch(W){throw D(W,{validation:!0}),W}finally{l.saving=!1}},U=async X=>{if(!Array.isArray(X)||!X.length||!f)return 0;l.deleting=!0,l.error="";try{const W=await o.deleteCategories({endpoint:f,ids:X});return W&&(Le(V()),await $()),W}catch(W){throw D(W),W}finally{l.deleting=!1}},y=async()=>{if(!u)return[];try{const{items:X}=await o.fetchCategories({endpoint:u,limit:200,start:0,search:""});return X}catch(X){return[]}};return at(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&$()}),{state:l,loadCategories:$,refresh:B,search:L,goToPage:w,saveCategory:G,deleteCategories:U,loadOptions:y,metrics:c.metrics}}const Ut=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.orders.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function Yx({endpoints:e,token:t,states:s=[],preload:a={},autoload:n=!0,cacheTTL:o=3e5}){var Oe,ye,Ne,Be,C,I,K,A,b,Y,E,_,S,N;const c=ht({token:t}),u=vt("orders"),p=(Oe=e==null?void 0:e.list)!=null?Oe:"",m=(ye=e==null?void 0:e.show)!=null?ye:Ut(p,"show"),f=(Ne=e==null?void 0:e.transition)!=null?Ne:Ut(p,"transition"),l=(Be=e==null?void 0:e.bulkTransition)!=null?Be:Ut(p,"bulkTransition"),g=(C=e==null?void 0:e.note)!=null?C:Ut(p,"note"),k=(I=e==null?void 0:e.tracking)!=null?I:Ut(p,"tracking"),V=(K=e==null?void 0:e.invoice)!=null?K:Ut(p,"invoice"),$=(A=e==null?void 0:e.export)!=null?A:Ut(p,"export"),B=(b=e==null?void 0:e.sendEmail)!=null?b:Ut(p,"sendEmail"),L=(Y=e==null?void 0:e.recordTransaction)!=null?Y:Ut(p,"recordTransaction"),w=typeof AbortController!="undefined",D=Xe(null),G=Array.isArray(a==null?void 0:a.items)?a.items:[],U=a!=null&&a.pagination&&typeof a.pagination=="object"?a.pagination:{},y=Ie({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...G],pagination:{total:(E=U.total)!=null?E:G.length,limit:(_=U.limit)!=null?_:20,pages:(S=U.pages)!=null?S:0,current:(N=U.current)!=null?N:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),te=()=>{const T=y.pagination.current||1,O=y.pagination.limit||20,H=y.search.trim(),M=y.filterState||"";return`orders:page=${T}:limit=${O}:search=${H}:state=${M}`},ce=async(T=!1)=>{var le;if(!p){y.error="Orders endpoint unavailable.",y.items=[];return}const O=te(),H=T?null:xt(O,o);if(H){u.recordCacheHit(),y.items=H.items,y.pagination={...y.pagination,...H.pagination},y.lastUpdated=H.lastUpdated;return}u.recordCacheMiss(),y.loading=!0,y.error="",D.value&&w&&D.value.abort();const M=w?new AbortController:null;D.value=M;const ie=u.startFetch();try{const fe=Math.max(0,(y.pagination.current-1)*y.pagination.limit),{items:Se,pagination:Te}=await c.fetchOrders({endpoint:p,limit:y.pagination.limit,start:fe,search:y.search.trim(),state:y.filterState,signal:M?M.signal:void 0});y.items=Se,y.pagination={...y.pagination,...Te,current:Te.current&&Te.current>0?Te.current:1},y.selection.clear(),y.lastUpdated=new Date().toISOString(),gt(O,{items:Se,pagination:y.pagination,lastUpdated:y.lastUpdated})}catch(fe){if((fe==null?void 0:fe.name)==="AbortError")return;y.error=(le=fe==null?void 0:fe.message)!=null?le:"Unknown error"}finally{u.endFetch(ie),w&&D.value===M&&(D.value=null),y.loading=!1}},ge=()=>{y.pagination.current=1,Le(te()),ce(!0)},J=()=>{y.pagination.current=1,ce()},j=T=>{y.filterState=T||"",y.pagination.current=1,ce()},v=T=>{const O=Number(T);Number.isNaN(O)||O<1||O===y.pagination.current||(y.pagination.current=O,ce(!0))},h=()=>{y.selection.clear()},x=T=>{T&&(y.selection.has(T)?y.selection.delete(T):y.selection.add(T))},re=()=>{y.pagination.current>=y.pagination.pages||(y.pagination.current+=1,ce(!0))},Q=()=>{y.pagination.current<=1||(y.pagination.current-=1,ce(!0))},z=async(T,O="")=>{var H;if(!m)return null;try{return await c.fetchOrder({endpoint:m,id:T,orderNumber:O})}catch(M){return y.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",null}},ne=async T=>{var O,H,M,ie,le,fe,Se;if(!T){y.activeOrder=null;return}if(y.transitionError="",T.items&&T.items.length&&T.billing){y.activeOrder=T;return}try{const Te=await z(T.id,T.order_no);y.activeOrder=Te||{...T,items:Array.isArray(T.items)?T.items:[],transactions:(O=T.transactions)!=null?O:[],timeline:(H=T.timeline)!=null?H:[],billing:(M=T.billing)!=null?M:{}}}catch(Te){y.transitionError=(ie=Te==null?void 0:Te.message)!=null?ie:"Unknown error",y.activeOrder={...T,items:Array.isArray(T.items)?T.items:[],transactions:(le=T.transactions)!=null?le:[],timeline:(fe=T.timeline)!=null?fe:[],billing:(Se=T.billing)!=null?Se:{}}}},q=()=>{y.transitionError="",y.activeOrder=null},de=T=>{if(!(T!=null&&T.id))return;const O=y.items.findIndex(H=>H.id===T.id);O!==-1&&y.items.splice(O,1,T)},X=async(T,O)=>{var H;if(!f)throw new Error("Transition endpoint unavailable.");y.saving=!0,y.transitionError="";try{const M=await c.transitionOrder({endpoint:f,id:T,state:O});return M&&(de(M),y.activeOrder&&y.activeOrder.id===M.id&&(y.activeOrder=M),Le(te())),M}catch(M){throw y.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{y.saving=!1}},W=async(T,O)=>{var H;if(!k)throw new Error("Tracking endpoint unavailable.");y.saving=!0,y.transitionError="";try{const M=await c.updateOrderTracking({endpoint:k,id:T,tracking:O});return M&&(de(M),y.activeOrder&&y.activeOrder.id===M.id&&(y.activeOrder=M),Le(te())),M}catch(M){throw y.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{y.saving=!1}},ee=async(T,O="")=>{var H;if(!V)throw new Error("Invoice endpoint unavailable.");y.invoiceLoading=!0,y.transitionError="";try{const M=await c.fetchOrderInvoice({endpoint:V,id:T,orderNumber:O});if(!M)throw new Error("Invoice not available.");return M}catch(M){throw y.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{y.invoiceLoading=!1}},oe=async()=>{var T;if(!$)throw new Error("Export endpoint unavailable.");y.exporting=!0,y.error="";try{const O=await c.exportOrders({endpoint:$,search:y.search.trim(),state:y.filterState});if(!O)throw new Error("Export not available.");return O}catch(O){throw y.error=(T=O==null?void 0:O.message)!=null?T:"Export failed",O}finally{y.exporting=!1}},_e=async(T,O)=>{var H;if(!B)throw new Error("Send email endpoint unavailable.");y.saving=!0,y.transitionError="";try{const M=await c.sendOrderEmail({endpoint:B,id:T,type:O});return M&&(de(M),y.activeOrder&&y.activeOrder.id===M.id&&(y.activeOrder=M),Le(te())),M}catch(M){throw y.transitionError=(H=M==null?void 0:M.message)!=null?H:"Failed to send email",M}finally{y.saving=!1}},pe=async(T,{amountCents:O,reference:H,note:M})=>{var ie;if(!L)throw new Error("Record transaction endpoint unavailable.");y.saving=!0,y.transitionError="";try{const le=await c.recordTransaction({endpoint:L,id:T,amountCents:O,reference:H,note:M});return le&&(de(le),y.activeOrder&&y.activeOrder.id===le.id&&(y.activeOrder=le),Le(te())),le}catch(le){throw y.transitionError=(ie=le==null?void 0:le.message)!=null?ie:"Failed to record payment",le}finally{y.saving=!1}},he=async(T,O)=>{var H;if(!l)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(T)||!T.length)return{updated:[]};y.saving=!0;try{const M=await c.bulkTransitionOrders({endpoint:l,ids:T,state:O}),ie=Array.isArray(M.updated)?M.updated:[];return ie.forEach(le=>{de(le),y.activeOrder&&y.activeOrder.id===le.id&&(y.activeOrder=le)}),h(),{updated:ie}}catch(M){throw y.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{y.saving=!1}};return at(()=>{n&&ce()}),{state:y,loadOrders:ce,refresh:ge,search:J,setFilterState:j,goToPage:v,nextPage:re,previousPage:Q,viewOrder:ne,closeOrder:q,transitionOrder:X,bulkTransition:he,updateTracking:W,downloadInvoice:ee,exportOrders:oe,sendEmail:_e,recordTransaction:pe,toggleSelection:x,clearSelection:h,metrics:u.metrics,addNote:async(T,O)=>{var H;if(!g)throw new Error("Note endpoint unavailable.");if(!T||!O||!O.trim())return null;y.transitionError="",y.saving=!0;try{const M=await c.addOrderNote({endpoint:g,id:T,message:O});return M&&(de(M),y.activeOrder&&y.activeOrder.id===M.id&&(y.activeOrder=M)),M}catch(M){throw y.transitionError=(H=M==null?void 0:M.message)!=null?H:"Unknown error",M}finally{y.saving=!1}}}}function Xx({endpoint:e="",token:t="",preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var f,l,g;const o=ht({token:t}),c=vt("dashboard"),u=Ie({loading:!1,error:"",summary:(g=s.summary)!=null?g:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(l=(f=s.summary)==null?void 0:f.currency)!=null?l:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",m=async(k=!1)=>{var L,w;if(!e)return;const V=p(),$=k?null:xt(V,n);if($){c.recordCacheHit(),u.summary=$.summary,u.checklist=$.checklist,u.lastUpdated=$.lastUpdated;return}c.recordCacheMiss(),u.loading=!0,u.error="";const B=c.startFetch();try{const D=await o.fetchDashboard({endpoint:e});u.summary=(L=D.summary)!=null?L:u.summary,u.checklist=Array.isArray(D.checklist)?D.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),gt(V,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(D){u.error=(w=D==null?void 0:D.message)!=null?w:"Unknown error"}finally{c.endFetch(B),u.loading=!1}};return at(()=>{a&&(!Array.isArray(u.checklist)||!u.checklist.length)&&m()}),{state:u,refresh:m,metrics:c.metrics}}function Fx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var te,ce,ge,J,j,v,h,x,re,Q,z,ne,q,de,X,W,ee;const o=ht({token:t}),c=vt("customers"),u=(te=e==null?void 0:e.list)!=null?te:"",p=(ce=e==null?void 0:e.show)!=null?ce:"",m=(J=(ge=e==null?void 0:e.gdpr)==null?void 0:ge.export)!=null?J:"",f=(v=(j=e==null?void 0:e.gdpr)==null?void 0:j.anonymise)!=null?v:"",l=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Q=(re=(h=s.pagination)==null?void 0:h.total)!=null?re:(x=s.items)==null?void 0:x.length)!=null?Q:0,limit:(ne=(z=s.pagination)==null?void 0:z.limit)!=null?ne:20,pages:(de=(q=s.pagination)==null?void 0:q.pages)!=null?de:0,current:(W=(X=s.pagination)==null?void 0:X.current)!=null?W:1},search:"",activeCustomer:(ee=s.active)!=null?ee:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const oe=l.pagination.current||1,_e=l.pagination.limit||20,pe=l.search.trim();return`customers:page=${oe}:limit=${_e}:search=${pe}`},$=async(oe=!1)=>{var ye;if(!u){l.error="Customers endpoint unavailable.",l.items=[];return}const _e=V(),pe=oe?null:xt(_e,n);if(pe){c.recordCacheHit(),l.items=pe.items,l.pagination={...l.pagination,...pe.pagination},l.lastUpdated=pe.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const he=g?new AbortController:null;k.value=he;const Oe=c.startFetch();try{const Ne=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Be,pagination:C}=await o.fetchCustomers({endpoint:u,limit:l.pagination.limit,start:Ne,search:l.search.trim(),signal:he?he.signal:void 0});l.items=Be,l.pagination={...l.pagination,...C,current:C.current&&C.current>0?C.current:1},l.lastUpdated=new Date().toISOString(),gt(_e,{items:Be,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Ne){if((Ne==null?void 0:Ne.name)==="AbortError")return;l.error=(ye=Ne==null?void 0:Ne.message)!=null?ye:"Unknown error"}finally{c.endFetch(Oe),g&&k.value===he&&(k.value=null),l.loading=!1}},B=()=>{l.pagination.current=1,Le(V()),$(!0)},L=()=>{l.pagination.current=1,$()},w=oe=>{const _e=Number(oe);Number.isNaN(_e)||_e<1||_e===l.pagination.current||(l.pagination.current=_e,$(!0))},D=async oe=>{var _e;if(!p||!(oe!=null&&oe.email)){l.activeCustomer=oe||null;return}try{const pe=await o.fetchCustomer({endpoint:p,email:oe.email});l.activeCustomer=pe||oe}catch(pe){l.error=(_e=pe==null?void 0:pe.message)!=null?_e:"Unknown error"}},G=()=>{l.activeCustomer=null,l.gdprMessage="",l.gdprSuccess=!1},U=async oe=>{var _e;if(!m||!oe){l.gdprMessage="GDPR export endpoint unavailable.",l.gdprSuccess=!1;return}l.gdprLoading=!0,l.gdprMessage="";try{const pe=await o.gdprExport({endpoint:m,email:oe});if(!pe)throw new Error("No data returned");const he=new Blob([JSON.stringify(pe,null,2)],{type:"application/json"}),Oe=URL.createObjectURL(he),ye=document.createElement("a");ye.href=Oe,ye.download=`gdpr-export-${oe.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(Oe),l.gdprMessage="Data exported successfully.",l.gdprSuccess=!0}catch(pe){l.gdprMessage=(_e=pe==null?void 0:pe.message)!=null?_e:"Export failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}},y=async oe=>{var pe;if(!f||!oe){l.gdprMessage="GDPR anonymise endpoint unavailable.",l.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${oe}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){l.gdprLoading=!0,l.gdprMessage="";try{const he=await o.gdprAnonymise({endpoint:f,email:oe});l.gdprMessage=he.message||`Anonymised ${he.affected} order(s).`,l.gdprSuccess=!0,Le(V()),$(!0),setTimeout(()=>{l.activeCustomer=null,l.gdprMessage=""},2e3)}catch(he){l.gdprMessage=(pe=he==null?void 0:he.message)!=null?pe:"Anonymisation failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}}};return at(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&$()}),{state:l,loadCustomers:$,refresh:B,search:L,goToPage:w,viewCustomer:D,closeCustomer:G,gdprExport:U,gdprAnonymise:y,metrics:c.metrics}}function Gx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var te,ce,ge,J,j,v,h,x,re,Q,z,ne,q,de;const o=ht({token:t}),c=vt("coupons"),u=(te=e==null?void 0:e.list)!=null?te:"",p=(ce=e==null?void 0:e.create)!=null?ce:u,m=(ge=e==null?void 0:e.update)!=null?ge:u,f=(J=e==null?void 0:e.delete)!=null?J:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(x=(h=(j=s.pagination)==null?void 0:j.total)!=null?h:(v=s.items)==null?void 0:v.length)!=null?x:0,limit:(Q=(re=s.pagination)==null?void 0:re.limit)!=null?Q:20,pages:(ne=(z=s.pagination)==null?void 0:z.pages)!=null?ne:0,current:(de=(q=s.pagination)==null?void 0:q.current)!=null?de:1},search:"",activeCoupon:null,lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const X=l.pagination.current||1,W=l.pagination.limit||20,ee=l.search.trim();return`coupons:page=${X}:limit=${W}:search=${ee}`},$=async(X=!1)=>{var pe;if(!u){l.error="Coupons endpoint unavailable.",l.items=[];return}const W=V(),ee=X?null:xt(W,n);if(ee){c.recordCacheHit(),l.items=ee.items,l.pagination={...l.pagination,...ee.pagination},l.lastUpdated=ee.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const oe=g?new AbortController:null;k.value=oe;const _e=c.startFetch();try{const he=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Oe,pagination:ye}=await o.fetchCoupons({endpoint:u,limit:l.pagination.limit,start:he,search:l.search.trim(),signal:oe?oe.signal:void 0});l.items=Oe,l.pagination={...l.pagination,...ye,current:ye.current&&ye.current>0?ye.current:1},l.lastUpdated=new Date().toISOString(),gt(W,{items:Oe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(he){if((he==null?void 0:he.name)==="AbortError")return;l.error=(pe=he==null?void 0:he.message)!=null?pe:"Unknown error"}finally{c.endFetch(_e),g&&k.value===oe&&(k.value=null),l.loading=!1}},B=()=>{l.pagination.current=1,Le(V()),$(!0)},L=()=>{l.pagination.current=1,$()},w=X=>{const W=Number(X);Number.isNaN(W)||W<1||W===l.pagination.current||(l.pagination.current=W,$(!0))},D=X=>{l.activeCoupon=X},G=X=>{const W=l.items.findIndex(ee=>ee.id===X.id);W===-1?l.items.unshift(X):l.items.splice(W,1,X)},U=async X=>{var W;l.saving=!0,l.error="";try{let ee=null;return X.id?ee=await o.updateCoupon({endpoint:m,id:X.id,data:X}):ee=await o.createCoupon({endpoint:p,data:X}),ee&&(G(ee),l.activeCoupon&&l.activeCoupon.id===ee.id&&(l.activeCoupon=ee),Le(V())),ee}catch(ee){throw l.error=(W=ee==null?void 0:ee.message)!=null?W:"Unknown error",ee}finally{l.saving=!1}},y=async X=>{var W;if(!Array.isArray(X)||!X.length)return 0;l.saving=!0,l.error="";try{const ee=await o.deleteCoupons({endpoint:f,ids:X});return ee&&(l.items=l.items.filter(oe=>!X.includes(oe.id)),l.activeCoupon&&X.includes(l.activeCoupon.id)&&(l.activeCoupon=null),Le(V())),ee}catch(ee){throw l.error=(W=ee==null?void 0:ee.message)!=null?W:"Unknown error",ee}finally{l.saving=!1}};return at(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&$()}),{state:l,loadCoupons:$,refresh:B,search:L,goToPage:w,setActive:D,saveCoupon:U,deleteCoupons:y,metrics:c.metrics}}const di=(e={})=>{var u,p,m,f,l,g,k,V,$,B,L,w,D,G,U,y,te,ce,ge;const t=(u=e.store)!=null?u:{},s=(p=e.payments)!=null?p:{},a=(m=e.visual)!=null?m:{},n=(f=e.visual_defaults)!=null?f:{},o=(g=(l=e.security)==null?void 0:l.rate_limits)!=null?g:{},c=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"";return{store:{name:(k=t.name)!=null?k:"",email:(V=t.email)!=null?V:"",phone:($=t.phone)!=null?$:""},payments:{configured:!!s.configured},base_currency:c,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,visual:{primary_color:(B=a.primary_color)!=null?B:"",text_color:(L=a.text_color)!=null?L:"",surface_color:(w=a.surface_color)!=null?w:"",border_color:(D=a.border_color)!=null?D:"",muted_color:(G=a.muted_color)!=null?G:""},visual_defaults:{primary_color:(U=n.primary_color)!=null?U:"#4f6d7a",text_color:(y=n.text_color)!=null?y:"#1f2933",surface_color:(te=n.surface_color)!=null?te:"#ffffff",border_color:(ce=n.border_color)!=null?ce:"#e4e7ec",muted_color:(ge=n.muted_color)!=null?ge:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(o.checkout_ip_limit))?Number(o.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(o.checkout_email_limit))?Number(o.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(o.checkout_session_limit))?Number(o.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(o.checkout_window_minutes))?Number(o.checkout_window_minutes):Number.isFinite(Number(o.checkout_window))?Math.max(0,Math.ceil(Number(o.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(o.offline_ip_limit))?Number(o.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(o.offline_email_limit))?Number(o.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(o.offline_window_minutes))?Number(o.offline_window_minutes):Number.isFinite(Number(o.offline_window))?Math.max(0,Math.ceil(Number(o.offline_window)/60)):30}}}};function Vx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var g,k;const o=ht({token:t}),c=vt("settings"),u=(g=e==null?void 0:e.show)!=null?g:"",p=(k=e==null?void 0:e.update)!=null?k:u,m=Ie({loading:!1,saving:!1,error:"",values:di(s),lastUpdated:null}),f=async(V=!1)=>{var w;if(!u){m.error="Settings endpoint unavailable.";return}const $="settings:data",B=V?null:xt($,n);if(B){c.recordCacheHit(),m.values=B.values,m.lastUpdated=B.lastUpdated;return}c.recordCacheMiss(),m.loading=!0,m.error="";const L=c.startFetch();try{const D=await o.fetchSettings({endpoint:u});m.values=di(D),m.lastUpdated=new Date().toISOString(),gt($,{values:m.values,lastUpdated:m.lastUpdated})}catch(D){throw m.error=(w=D==null?void 0:D.message)!=null?w:"Unknown error",D}finally{c.endFetch(L),m.loading=!1}},l=async V=>{var $;if(!p)return m.error="Settings endpoint unavailable.",null;m.saving=!0,m.error="";try{const B=await o.updateSettings({endpoint:p,data:V});return m.values=di(B),m.lastUpdated=new Date().toISOString(),Le("settings:data"),gt("settings:data",{values:m.values,lastUpdated:m.lastUpdated}),m.values}catch(B){throw m.error=($=B==null?void 0:B.message)!=null?$:"Unknown error",B}finally{m.saving=!1}};return at(()=>{a&&(!s||!s.store)&&f()}),{state:m,refresh:f,save:l,metrics:c.metrics}}function Hx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var D,G,U,y,te,ce,ge,J,j,v,h,x,re,Q;const o=ht({token:t}),c=vt("taxRates"),u=(D=e==null?void 0:e.list)!=null?D:"",p=(G=e==null?void 0:e.create)!=null?G:u,m=(U=e==null?void 0:e.update)!=null?U:u,f=(y=e==null?void 0:e.delete)!=null?y:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(J=(ge=(te=s.pagination)==null?void 0:te.total)!=null?ge:(ce=s.items)==null?void 0:ce.length)!=null?J:0,limit:(v=(j=s.pagination)==null?void 0:j.limit)!=null?v:20,pages:(x=(h=s.pagination)==null?void 0:h.pages)!=null?x:0,current:(Q=(re=s.pagination)==null?void 0:re.current)!=null?Q:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const z=l.pagination.current||1,ne=l.pagination.limit||20,q=l.search.trim();return`taxRates:page=${z}:limit=${ne}:search=${q}`},$=async(z=!1)=>{var W;if(!u){l.error="Tax endpoint unavailable.",l.items=[];return}const ne=V(),q=z?null:xt(ne,n);if(q){c.recordCacheHit(),l.items=q.items,l.pagination={...l.pagination,...q.pagination},l.lastUpdated=q.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const de=g?new AbortController:null;k.value=de;const X=c.startFetch();try{const ee=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:oe,pagination:_e}=await o.fetchTaxRates({endpoint:u,limit:l.pagination.limit,start:ee,search:l.search.trim(),signal:de?de.signal:void 0});l.items=oe,l.pagination={...l.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},l.lastUpdated=new Date().toISOString(),gt(ne,{items:oe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(ee){if((ee==null?void 0:ee.name)==="AbortError")return;l.error=(W=ee==null?void 0:ee.message)!=null?W:"Unknown error"}finally{c.endFetch(X),g&&k.value===de&&(k.value=null),l.loading=!1}},B=()=>{l.pagination.current=1,Le(V()),$(!0)},L=async z=>{var ne;l.saving=!0,l.error="";try{const q=z.id?await o.updateTaxRate({endpoint:m,id:z.id,data:z}):await o.createTaxRate({endpoint:p,data:z});if(q){const de=l.items.findIndex(X=>X.id===q.id);de===-1?l.items.unshift(q):l.items.splice(de,1,q),Le(V())}return q}catch(q){throw l.error=(ne=q==null?void 0:q.message)!=null?ne:"Unknown error",q}finally{l.saving=!1}},w=async z=>{var ne;if(!Array.isArray(z)||!z.length)return 0;l.saving=!0,l.error="";try{const q=await o.deleteTaxRates({endpoint:f,ids:z});return q&&(l.items=l.items.filter(de=>!z.includes(de.id)),Le(V())),q}catch(q){throw l.error=(ne=q==null?void 0:q.message)!=null?ne:"Unknown error",q}finally{l.saving=!1}};return at(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&$()}),{state:l,loadRates:$,refresh:B,saveRate:L,deleteRates:w,metrics:c.metrics}}function Bx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var D,G,U,y,te,ce,ge,J,j,v,h,x,re,Q;const o=ht({token:t}),c=vt("shippingRules"),u=(D=e==null?void 0:e.list)!=null?D:"",p=(G=e==null?void 0:e.create)!=null?G:u,m=(U=e==null?void 0:e.update)!=null?U:u,f=(y=e==null?void 0:e.delete)!=null?y:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(J=(ge=(te=s.pagination)==null?void 0:te.total)!=null?ge:(ce=s.items)==null?void 0:ce.length)!=null?J:0,limit:(v=(j=s.pagination)==null?void 0:j.limit)!=null?v:20,pages:(x=(h=s.pagination)==null?void 0:h.pages)!=null?x:0,current:(Q=(re=s.pagination)==null?void 0:re.current)!=null?Q:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",k=Xe(null),V=()=>{const z=l.pagination.current||1,ne=l.pagination.limit||20,q=l.search.trim();return`shippingRules:page=${z}:limit=${ne}:search=${q}`},$=async(z=!1)=>{var W;if(!u){l.error="Shipping endpoint unavailable.",l.items=[];return}const ne=V(),q=z?null:xt(ne,n);if(q){c.recordCacheHit(),l.items=q.items,l.pagination={...l.pagination,...q.pagination},l.lastUpdated=q.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",k.value&&g&&k.value.abort();const de=g?new AbortController:null;k.value=de;const X=c.startFetch();try{const ee=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:oe,pagination:_e}=await o.fetchShippingRules({endpoint:u,limit:l.pagination.limit,start:ee,search:l.search.trim(),signal:de?de.signal:void 0});l.items=oe,l.pagination={...l.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},l.lastUpdated=new Date().toISOString(),gt(ne,{items:oe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(ee){if((ee==null?void 0:ee.name)==="AbortError")return;l.error=(W=ee==null?void 0:ee.message)!=null?W:"Unknown error"}finally{c.endFetch(X),g&&k.value===de&&(k.value=null),l.loading=!1}},B=()=>{l.pagination.current=1,Le(V()),$(!0)},L=async z=>{var ne;l.saving=!0,l.error="";try{const q=z.id?await o.updateShippingRule({endpoint:m,id:z.id,data:z}):await o.createShippingRule({endpoint:p,data:z});if(q){const de=l.items.findIndex(X=>X.id===q.id);de===-1?l.items.unshift(q):l.items.splice(de,1,q),Le(V())}return q}catch(q){throw l.error=(ne=q==null?void 0:q.message)!=null?ne:"Unknown error",q}finally{l.saving=!1}},w=async z=>{var ne;if(!Array.isArray(z)||!z.length)return 0;l.saving=!0,l.error="";try{const q=await o.deleteShippingRules({endpoint:f,ids:z});return q&&(l.items=l.items.filter(de=>!z.includes(de.id)),Le(V())),q}catch(q){throw l.error=(ne=q==null?void 0:q.message)!=null?ne:"Unknown error",q}finally{l.saving=!1}};return at(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&$()}),{state:l,loadRules:$,refresh:B,saveRule:L,deleteRules:w,metrics:c.metrics}}function Kx({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var L,w,D,G,U,y,te,ce,ge,J,j;const o=ht({token:t}),c=vt("logs"),u=(L=e==null?void 0:e.list)!=null?L:"",p=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(U=(G=(w=s.pagination)==null?void 0:w.total)!=null?G:(D=s.items)==null?void 0:D.length)!=null?U:0,limit:(te=(y=s.pagination)==null?void 0:y.limit)!=null?te:20,pages:(ge=(ce=s.pagination)==null?void 0:ce.pages)!=null?ge:0,current:(j=(J=s.pagination)==null?void 0:J.current)!=null?j:1},search:"",entity:"",lastUpdated:null}),m=typeof AbortController!="undefined",f=Xe(null),l=()=>{const v=p.pagination.current||1,h=p.pagination.limit||20,x=p.search.trim(),re=p.entity.trim();return`logs:page=${v}:limit=${h}:search=${x}:entity=${re}`},g=async(v=!1)=>{var z;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const h=l(),x=v?null:xt(h,n);if(x){c.recordCacheHit(),p.items=x.items,p.pagination={...p.pagination,...x.pagination},p.lastUpdated=x.lastUpdated;return}c.recordCacheMiss(),p.loading=!0,p.error="",m&&f.value&&f.value.abort();const re=m?new AbortController:null;f.value=re;const Q=c.startFetch();try{const ne=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:q,pagination:de}=await o.fetchLogs({endpoint:u,limit:p.pagination.limit,start:ne,search:p.search.trim(),entity:p.entity,signal:re?re.signal:void 0});p.items=q,p.pagination={...p.pagination,...de,current:de.current&&de.current>0?de.current:1},p.lastUpdated=new Date().toISOString(),gt(h,{items:q,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(ne){if((ne==null?void 0:ne.name)==="AbortError")return;p.error=(z=ne==null?void 0:ne.message)!=null?z:"Unknown error"}finally{c.endFetch(Q),m&&f.value===re&&(f.value=null),p.loading=!1}},k=()=>{p.pagination.current=1,Le(l()),g(!0)},V=()=>{p.pagination.current=1,g()},$=v=>{const h=typeof v=="string"?v.trim():"";p.entity!==h&&(p.entity=h,p.pagination.current=1,g())},B=v=>{const h=Number(v);Number.isNaN(h)||h<1||h===p.pagination.current||(p.pagination.current=h,g(!0))};return at(()=>{a&&(!Array.isArray(p.items)||!p.items.length)&&g()}),{state:p,loadLogs:g,refresh:k,search:V,setEntity:$,goToPage:B,metrics:c.metrics}}const ao=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function jx({endpoints:e={},token:t=""}){const s=ht({token:t}),a=Ie({loading:!1,saving:!1,error:"",config:ao(),message:""}),n=async()=>{var u,p,m,f;if(e.show){a.loading=!0,a.error="";try{const l=await s.get(e.show);a.config=c((m=(p=(u=l==null?void 0:l.data)==null?void 0:u.config)!=null?p:l==null?void 0:l.config)!=null?m:{})}catch(l){a.error=(f=l.message)!=null?f:"Unable to load payment configuration."}finally{a.loading=!1}}},o=async u=>{var p,m,f,l,g,k,V;if(e.update){a.saving=!0,a.error="",a.message="";try{const $=await s.post(e.update,{config:u});a.config=c((f=(m=(p=$==null?void 0:$.data)==null?void 0:p.config)!=null?m:$==null?void 0:$.config)!=null?f:{}),a.message=(k=(g=(l=$==null?void 0:$.data)==null?void 0:l.message)!=null?g:$==null?void 0:$.message)!=null?k:""}catch($){a.error=(V=$.message)!=null?V:"Unable to save payment configuration."}finally{a.saving=!1}}},c=u=>{var m,f,l,g;const p=ao();return{stripe:{...p.stripe,...(m=u.stripe)!=null?m:{}},paypal:{...p.paypal,...(f=u.paypal)!=null?f:{}},cod:{...p.cod,...(l=u.cod)!=null?l:{}},bank_transfer:{...p.bank_transfer,...(g=u.bank_transfer)!=null?g:{}}}};return{state:a,refresh:n,save:o}}const Jx={class:"nxp-ec-admin-app__shell"},Wx={class:"nxp-ec-admin-app__header"},qx={class:"nxp-ec-admin-app__title"},zx={class:"nxp-ec-admin-app__lead"},Qx={key:0,class:"nxp-ec-admin-nav"},Zx=["href"],ev={key:11,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},tv={class:"nxp-ec-admin-panel__body"},nv={class:"nxp-ec-admin-panel__lead"},Yn="nxp:admin:onboarding:dismissed",sv={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var mr,hr,gr,Er,Cr,Sr,br,Ar,Tr,yr,Rr,Or,xr,vr,Pr,Nr,Mr,Ir,kr,$r,wr,Lr,Dr,Ur,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,al,ol,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Cl,Sl,bl,Al,Tl,yl,Rl,Ol,xl,vl,Pl,Nl,Ml,Il,kl,$l,wl,Ll,Dl,Ul,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,ac,oc,rc,lc,cc,dc,uc,pc,_c,fc,mc,hc,gc,Ec,Cc,Sc,bc,Ac,Tc,yc,Rc,Oc,xc,vc,Pc,Nc,Mc,Ic,kc,$c,wc,Lc,Dc,Uc,Yc,Xc,Fc,Gc,Vc,Hc,Bc;const t=e,{__:s}=Ix(t.dataset),a=me(()=>{var F;return((F=t.dataset)==null?void 0:F.appTitleKey)||"COM_NXPEASYCART"}),n=me(()=>{var F;return((F=t.dataset)==null?void 0:F.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),o=(F,se)=>{if(!F||typeof F!="string")return se;try{return JSON.parse(F)}catch(Ae){return se}},c=me(()=>{var se,Ae;if(Array.isArray((se=t.config)==null?void 0:se.navItems))return t.config.navItems.map(Ye=>({id:Ye.id,title:Ye.title,link:Ye.link}));const F=o((Ae=t.dataset)==null?void 0:Ae.navItems,[]);return Array.isArray(F)?F.map(Ye=>({id:Ye.id,title:Ye.title,link:Ye.link})):[]}),u=F=>{const se=c.value;if(!Array.isArray(se))return"";const Ae=se.find(Ye=>Ye.id===F);return Ae?Ae.link:""},p=me(()=>{var F,se;return((F=t.config)==null?void 0:F.activeSection)||((se=t.dataset)==null?void 0:se.activeSection)||"dashboard"}),m=me(()=>{var F,se;return((F=t.config)==null?void 0:F.settingsTab)||((se=t.dataset)==null?void 0:se.settingsTab)||"general"}),f=F=>p.value===F,l=me(()=>f("dashboard")),g=me(()=>f("products")),k=me(()=>f("categories")||f("products")),V=me(()=>f("orders")),$=me(()=>f("customers")),B=me(()=>f("coupons")),L=me(()=>f("settings")),w=me(()=>f("tax")),D=me(()=>f("shipping")),G=me(()=>f("logs")),U=(yr=(mr=t.endpoints)==null?void 0:mr.products)!=null?yr:{list:(gr=(hr=t.dataset)==null?void 0:hr.productsEndpoint)!=null?gr:"",create:(Cr=(Er=t.dataset)==null?void 0:Er.productsEndpointCreate)!=null?Cr:"",update:(br=(Sr=t.dataset)==null?void 0:Sr.productsEndpointUpdate)!=null?br:"",delete:(Tr=(Ar=t.dataset)==null?void 0:Ar.productsEndpointDelete)!=null?Tr:""},y=($r=(Rr=t.endpoints)==null?void 0:Rr.categories)!=null?$r:{list:(xr=(Or=t.dataset)==null?void 0:Or.categoriesEndpoint)!=null?xr:"",create:(Pr=(vr=t.dataset)==null?void 0:vr.categoriesEndpointCreate)!=null?Pr:"",update:(Mr=(Nr=t.dataset)==null?void 0:Nr.categoriesEndpointUpdate)!=null?Mr:"",delete:(kr=(Ir=t.dataset)==null?void 0:Ir.categoriesEndpointDelete)!=null?kr:""},te=(Kr=(wr=t.endpoints)==null?void 0:wr.orders)!=null?Kr:{list:(Dr=(Lr=t.dataset)==null?void 0:Lr.ordersEndpoint)!=null?Dr:"",show:(Yr=(Ur=t.dataset)==null?void 0:Ur.ordersEndpointShow)!=null?Yr:"",transition:(Fr=(Xr=t.dataset)==null?void 0:Xr.ordersEndpointTransition)!=null?Fr:"",bulkTransition:(Vr=(Gr=t.dataset)==null?void 0:Gr.ordersEndpointBulk)!=null?Vr:"",note:(Br=(Hr=t.dataset)==null?void 0:Hr.ordersEndpointNote)!=null?Br:""},ce=(Qr=(jr=t.endpoints)==null?void 0:jr.customers)!=null?Qr:{list:(Wr=(Jr=t.dataset)==null?void 0:Jr.customersEndpoint)!=null?Wr:"",show:(zr=(qr=t.dataset)==null?void 0:qr.customersEndpointShow)!=null?zr:""},ge=(ll=(Zr=t.endpoints)==null?void 0:Zr.coupons)!=null?ll:{list:(tl=(el=t.dataset)==null?void 0:el.couponsEndpoint)!=null?tl:"",create:(sl=(nl=t.dataset)==null?void 0:nl.couponsEndpointCreate)!=null?sl:"",update:(al=(il=t.dataset)==null?void 0:il.couponsEndpointUpdate)!=null?al:"",delete:(rl=(ol=t.dataset)==null?void 0:ol.couponsEndpointDelete)!=null?rl:""},J=(El=(cl=t.endpoints)==null?void 0:cl.tax)!=null?El:{list:(ul=(dl=t.dataset)==null?void 0:dl.taxEndpoint)!=null?ul:"",create:(_l=(pl=t.dataset)==null?void 0:pl.taxEndpointCreate)!=null?_l:"",update:(ml=(fl=t.dataset)==null?void 0:fl.taxEndpointUpdate)!=null?ml:"",delete:(gl=(hl=t.dataset)==null?void 0:hl.taxEndpointDelete)!=null?gl:""},j=(vl=(Cl=t.endpoints)==null?void 0:Cl.shipping)!=null?vl:{list:(bl=(Sl=t.dataset)==null?void 0:Sl.shippingEndpoint)!=null?bl:"",create:(Tl=(Al=t.dataset)==null?void 0:Al.shippingEndpointCreate)!=null?Tl:"",update:(Rl=(yl=t.dataset)==null?void 0:yl.shippingEndpointUpdate)!=null?Rl:"",delete:(xl=(Ol=t.dataset)==null?void 0:Ol.shippingEndpointDelete)!=null?xl:""},v=($l=(Pl=t.endpoints)==null?void 0:Pl.settings)!=null?$l:{show:(Ml=(Nl=t.dataset)==null?void 0:Nl.settingsEndpointShow)!=null?Ml:"",update:(kl=(Il=t.dataset)==null?void 0:Il.settingsEndpointUpdate)!=null?kl:""},h=(Ul=(wl=t.endpoints)==null?void 0:wl.logs)!=null?Ul:{list:(Dl=(Ll=t.dataset)==null?void 0:Ll.logsEndpoint)!=null?Dl:""},x=(Hl=(Yl=t.endpoints)==null?void 0:Yl.payments)!=null?Hl:{show:(Fl=(Xl=t.dataset)==null?void 0:Xl.paymentsEndpointShow)!=null?Fl:"",update:(Vl=(Gl=t.dataset)==null?void 0:Gl.paymentsEndpointUpdate)!=null?Vl:""},re=me(()=>{var F;return o((F=t.dataset)==null?void 0:F.orderStates,[])}),{state:Q,refresh:z}=Xx({endpoint:(zl=(ql=(Jl=(Bl=t.endpoints)==null?void 0:Bl.dashboard)!=null?Jl:(jl=(Kl=t.config)==null?void 0:Kl.endpoints)==null?void 0:jl.dashboard)!=null?ql:(Wl=t.dataset)==null?void 0:Wl.dashboardEndpoint)!=null?zl:"",token:t.csrfToken,preload:(nc=(Zl=(Ql=t.config)==null?void 0:Ql.preload)==null?void 0:Zl.dashboard)!=null?nc:{summary:o((ec=t.dataset)==null?void 0:ec.dashboardSummary,{}),checklist:o((tc=t.dataset)==null?void 0:tc.dashboardChecklist,[])},autoload:l.value}),{state:ne,refresh:q,search:de,createProduct:X,updateProduct:W,deleteProducts:ee}=Dx({endpoints:U,token:t.csrfToken,autoload:g.value}),{state:oe,refresh:_e,search:pe,goToPage:he,saveCategory:Oe,deleteCategories:ye,loadOptions:Ne}=Ux({endpoints:y,token:t.csrfToken,preload:(rc=(ic=(sc=t.config)==null?void 0:sc.preload)==null?void 0:ic.categories)!=null?rc:{items:o((ac=t.dataset)==null?void 0:ac.categoriesPreload,[]),pagination:o((oc=t.dataset)==null?void 0:oc.categoriesPreloadPagination,{})},autoload:k.value}),Be=me(()=>(Array.isArray(oe.items)?oe.items:[]).map(se=>{var Ae,Ye,lt;return{id:Number.parseInt((Ae=se==null?void 0:se.id)!=null?Ae:0,10)||0,title:String((Ye=se==null?void 0:se.title)!=null?Ye:"").trim(),slug:String((lt=se==null?void 0:se.slug)!=null?lt:"").trim(),parent_id:(se==null?void 0:se.parent_id)!==null&&(se==null?void 0:se.parent_id)!==void 0&&Number.parseInt(se.parent_id,10)||null}}).filter(se=>se.title!=="")),{state:C,refresh:I,search:K,setFilterState:A,viewOrder:b,closeOrder:Y,transitionOrder:E,goToPage:_,bulkTransition:S,toggleSelection:N,clearSelection:T,addNote:O,updateTracking:H,downloadInvoice:M,exportOrders:ie,sendEmail:le,recordTransaction:fe}=Yx({endpoints:te,token:t.csrfToken,states:re.value,preload:(pc=(cc=(lc=t.config)==null?void 0:lc.preload)==null?void 0:cc.orders)!=null?pc:{items:o((dc=t.dataset)==null?void 0:dc.ordersPreload,[]),pagination:o((uc=t.dataset)==null?void 0:uc.ordersPreloadPagination,{})},autoload:V.value}),{state:Se,refresh:Te,search:De,goToPage:et,viewCustomer:Pt,closeCustomer:st,gdprExport:Ve,gdprAnonymise:Ge}=Fx({endpoints:{...ce,gdpr:(fc=(_c=t.endpoints)==null?void 0:_c.gdpr)!=null?fc:{}},token:t.csrfToken,preload:(Cc=(hc=(mc=t.config)==null?void 0:mc.preload)==null?void 0:hc.customers)!=null?Cc:{items:o((gc=t.dataset)==null?void 0:gc.customersPreload,[]),pagination:o((Ec=t.dataset)==null?void 0:Ec.customersPreloadPagination,{})},autoload:$.value}),{state:Nt,refresh:Et,search:_n,goToPage:fn,saveCoupon:bs,deleteCoupons:As}=Gx({endpoints:(bc=(Sc=t.endpoints)==null?void 0:Sc.coupons)!=null?bc:ge,token:t.csrfToken,preload:(Oc=(Tc=(Ac=t.config)==null?void 0:Ac.preload)==null?void 0:Tc.coupons)!=null?Oc:{items:o((yc=t.dataset)==null?void 0:yc.couponsPreload,[]),pagination:o((Rc=t.dataset)==null?void 0:Rc.couponsPreloadPagination,{})},autoload:B.value}),ui=(Nc=(vc=(xc=t.config)==null?void 0:xc.preload)==null?void 0:vc.settings)!=null?Nc:o((Pc=t.dataset)==null?void 0:Pc.settingsPreload,{}),{state:mn,refresh:ur,save:iv}=Vx({endpoints:v,token:t.csrfToken,preload:ui,autoload:L.value}),av=me(()=>{var se,Ae;const F=(Ae=(se=t.dataset)==null?void 0:se.baseCurrency)!=null?Ae:"";return typeof F=="string"?F.trim().toUpperCase():""}),ov=me(()=>{var se,Ae;const F=(Ae=(se=mn==null?void 0:mn.values)==null?void 0:se.base_currency)!=null?Ae:"";return typeof F=="string"?F.trim().toUpperCase():""}),Xn=me(()=>{const F=ov.value||av.value;return F!==""?F:"USD"}),rv=me(()=>{var se,Ae;const F=(Ae=(se=t.dataset)==null?void 0:se.mediaModalUrl)!=null?Ae:"";return typeof F=="string"?F.trim():""}),lv=me(()=>{var se,Ae,Ye,lt,it;const F=(lt=(Ye=(se=t.config)==null?void 0:se.siteRoot)!=null?Ye:(Ae=t.dataset)==null?void 0:Ae.siteRoot)!=null?lt:"";return typeof F=="string"&&F.trim()!==""?F.trim():typeof window!="undefined"&&((it=window.location)!=null&&it.origin)?window.location.origin:""}),cv=F=>{switch(F){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:u("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:u("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:u("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:F||"step",titleKey:F||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:F||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:u("dashboard")||""}}},pr=me(()=>(Array.isArray(Q.checklist)?Q.checklist:[]).map(se=>{const Ae=cv(se.label);return{id:Ae.id,completed:!!se.completed,link:se.link||Ae.link||"",label:se.label,titleKey:Ae.titleKey,descriptionKey:Ae.descriptionKey,titleFallback:Ae.titleFallback,descriptionFallback:Ae.descriptionFallback}})),pi=me(()=>pr.value.some(F=>!F.completed)),Fn=Xe(!1),dv=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Yn,"0")}catch(F){}Fn.value=!0},_r=()=>{if(Fn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Yn,"1")}catch(F){}},uv=F=>{F&&typeof F.link=="string"&&F.link!==""&&(_r(),typeof window!="undefined"&&(window.location.href=F.link))};Ue(pi,F=>{if(!F&&(Fn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Yn,"1")}catch(se){}});const pv=(wc=(Ic=(Mc=t.config)==null?void 0:Mc.preload)==null?void 0:Ic.tax)!=null?wc:{items:o((kc=t.dataset)==null?void 0:kc.taxPreload,[]),pagination:o(($c=t.dataset)==null?void 0:$c.taxPreloadPagination,{})},{state:_v,refresh:Gn,saveRate:fv,deleteRates:mv}=Hx({endpoints:J,token:t.csrfToken,preload:pv,autoload:w.value||L.value}),hv=(Xc=(Dc=(Lc=t.config)==null?void 0:Lc.preload)==null?void 0:Dc.shipping)!=null?Xc:{items:o((Uc=t.dataset)==null?void 0:Uc.shippingPreload,[]),pagination:o((Yc=t.dataset)==null?void 0:Yc.shippingPreloadPagination,{})},{state:gv,refresh:Vn,saveRule:Ev,deleteRules:Cv}=Bx({endpoints:j,token:t.csrfToken,preload:hv,autoload:D.value||L.value}),Sv=(Bc=(Gc=(Fc=t.config)==null?void 0:Fc.preload)==null?void 0:Gc.logs)!=null?Bc:{items:o((Vc=t.dataset)==null?void 0:Vc.logsPreload,[]),pagination:o((Hc=t.dataset)==null?void 0:Hc.logsPreloadPagination,{})},{state:bv,refresh:fr,search:Av,setEntity:Tv,goToPage:yv}=Kx({endpoints:h,token:t.csrfToken,preload:Sv,autoload:G.value}),{state:Rv,refresh:_i,save:Ov}=jx({endpoints:x,token:t.csrfToken});Ue(p,F=>{switch(F){case"dashboard":z();break;case"products":q(),_e();break;case"categories":_e();break;case"orders":I();break;case"customers":Te();break;case"coupons":Et();break;case"tax":Gn();break;case"shipping":Vn();break;case"settings":ur(),Gn(),Vn(),_i();break;case"logs":fr();break}}),at(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const F=window.localStorage.getItem(Yn);pi.value?F!=="1"&&(Fn.value=!0):window.localStorage.setItem(Yn,"1")}catch(F){}}L.value&&_i()});const xv=()=>{q()},vv=()=>{de()},Pv=async F=>{try{await X(F),q(),_e()}catch(se){}},Nv=async({id:F,data:se})=>{try{await W(F,se),q(),_e()}catch(Ae){}},Mv=async F=>{try{await ee(F),q(),_e()}catch(se){}},Iv=()=>{_e()},kv=()=>{pe()},$v=F=>{he(F)},wv=async F=>{try{await Oe(F),_e()}catch(se){}},Lv=async F=>{try{await ye(F),_e()}catch(se){}},Dv=()=>{z()},Uv=()=>{I()},Yv=()=>{K()},Xv=F=>{A(F)},Fv=F=>{b(F)},Gv=()=>{Y()},Vv=async({id:F,state:se})=>{try{await E(F,se)}catch(Ae){}},Hv=F=>{_(F)},Bv=async({ids:F,state:se})=>{try{await S(F,se)}catch(Ae){}},Kv=F=>{N(F)},jv=()=>{T()},Jv=async({id:F,message:se})=>{await O(F,se)},Wv=async F=>{if(!(F!=null&&F.id))return;const{id:se,...Ae}=F;await H(se,Ae)},qv=async F=>{!(F!=null&&F.id)||!(F!=null&&F.type)||await le(F.id,F.type)},zv=async F=>{if(F!=null&&F.id)try{await fe(F.id,{amountCents:F.amountCents,reference:F.reference,note:F.note})}catch(se){}},Qv=async F=>{if(!F)return;const se=await M(F);if(!(se!=null&&se.content))return;const Ae=atob(se.content),Ye=new Uint8Array(Ae.length);for(let Qt=0;Qt<Ae.length;Qt+=1)Ye[Qt]=Ae.charCodeAt(Qt);const lt=new Blob([Ye],{type:"application/pdf"}),it=window.URL.createObjectURL(lt),ct=document.createElement("a");ct.href=it,ct.download=se.filename||"invoice.pdf",document.body.appendChild(ct),ct.click(),document.body.removeChild(ct),setTimeout(()=>window.URL.revokeObjectURL(it),1e3)},Zv=async()=>{const F=await ie();if(!(F!=null&&F.content))return;const se=atob(F.content),Ae=new Uint8Array(se.length);for(let ct=0;ct<se.length;ct+=1)Ae[ct]=se.charCodeAt(ct);const Ye=new Blob([Ae],{type:"text/csv;charset=utf-8"}),lt=window.URL.createObjectURL(Ye),it=document.createElement("a");it.href=lt,it.download=F.filename||"orders-export.csv",document.body.appendChild(it),it.click(),document.body.removeChild(it),setTimeout(()=>window.URL.revokeObjectURL(lt),1e3)},e1=()=>{Te()},t1=()=>{De()},n1=F=>{et(F)},s1=F=>{Pt(F)},i1=()=>{st()},a1=F=>{Ve(F)},o1=F=>{Ge(F)},r1=()=>{Et()},l1=()=>{_n()},c1=F=>{fn(F)},d1=async F=>{try{await bs(F)}catch(se){}},u1=async F=>{try{await As(F)}catch(se){}},p1=()=>{ur()},_1=async F=>{try{await iv(F)}catch(se){}},f1=()=>{Gn()},m1=async F=>{try{await fv(F),Gn()}catch(se){}},h1=async F=>{try{await mv(F),Gn()}catch(se){}},g1=()=>{Vn()},E1=async F=>{try{await Ev(F),Vn()}catch(se){}},C1=async F=>{try{await Cv(F),Vn()}catch(se){}},S1=()=>{fr()},b1=()=>{Av()},A1=F=>{Tv(F)},T1=F=>{yv(F)},y1=()=>{_i()},R1=async F=>{await Ov(F)};return(F,se)=>(R(),nt(Op,null,{default:Qi(()=>{var Ae,Ye,lt,it,ct,Qt;return[i("section",Jx,[i("header",Wx,[i("div",null,[i("h1",qx,d(r(s)(a.value,(Ye=(Ae=t.dataset)==null?void 0:Ae.appTitle)!=null?Ye:"NXP Easy Cart",[],"appTitle")),1),i("p",zx,d(r(s)(n.value,(it=(lt=t.dataset)==null?void 0:lt.appLead)!=null?it:"Manage your storefront from one place.",[],"appLead")),1)]),Z(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:dv},d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[Qu,pi.value]])]),c.value.length?(R(),P("nav",Qx,[(R(!0),P(Ce,null,xe(c.value,Ts=>(R(),P("a",{key:Ts.id,href:Ts.link,class:Me({"is-active":Ts.id===p.value})},d(Ts.title),11,Zx))),128))])):ae("",!0),p.value==="dashboard"?(R(),nt(a_,{key:1,state:r(Q),translate:r(s),onRefresh:Dv},null,8,["state","translate"])):p.value==="products"?(R(),nt(Lm,{key:2,state:r(ne),translate:r(s),"base-currency":Xn.value,"category-options":Be.value,"media-modal-url":rv.value,onCreate:Pv,onUpdate:Nv,onDelete:Mv,onRefresh:xv,onSearch:vv},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(R(),nt(Dh,{key:3,state:r(oe),translate:r(s),"load-options":r(Ne),onRefresh:Iv,onSearch:kv,onPage:$v,onSave:wv,onDelete:Lv},null,8,["state","translate","load-options"])):p.value==="orders"?(R(),nt(ZE,{key:4,state:r(C),translate:r(s),"site-root":lv.value,onRefresh:Uv,onSearch:Yv,onFilter:Xv,onView:Fv,onClose:Gv,onTransition:Vv,onPage:Hv,onBulkTransition:Bv,onToggleSelection:Kv,onClearSelection:jv,onAddNote:Jv,onSaveTracking:Wv,onSendEmail:qv,onRecordPayment:zv,onInvoice:Qv,onExport:Zv},null,8,["state","translate","site-root"])):p.value==="customers"?(R(),nt(eS,{key:5,state:r(Se),translate:r(s),"base-currency":Xn.value,onRefresh:e1,onSearch:t1,onPage:n1,onView:s1,onClose:i1,onGdprExport:a1,onGdprAnonymise:o1},null,8,["state","translate","base-currency"])):p.value==="coupons"?(R(),nt(ub,{key:6,state:r(Nt),translate:r(s),"base-currency":Xn.value,onRefresh:r1,onSearch:l1,onPage:c1,onSave:d1,onDelete:u1},null,8,["state","translate","base-currency"])):p.value==="tax"?(R(),nt(ER,{key:7,state:r(_v),translate:r(s),onRefresh:f1,onSave:m1,onDelete:h1},null,8,["state","translate"])):p.value==="shipping"?(R(),nt(NO,{key:8,state:r(gv),translate:r(s),"base-currency":Xn.value,onRefresh:g1,onSave:E1,onDelete:C1},null,8,["state","translate","base-currency"])):p.value==="settings"?(R(),nt(my,{key:9,"settings-state":r(mn),"payments-state":r(Rv),translate:r(s),"base-currency":Xn.value,"initial-tab":m.value,onRefreshSettings:p1,onSaveSettings:_1,onRefreshPayments:y1,onSavePayments:R1},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):p.value==="logs"?(R(),nt(_x,{key:10,state:r(bv),translate:r(s),onRefresh:S1,onSearch:b1,onFilter:A1,onPage:T1},null,8,["state","translate"])):(R(),P("div",ev,[i("div",tv,[i("p",nv,d(r(s)(n.value,(Qt=(ct=t.dataset)==null?void 0:ct.appLead)!=null?Qt:"This section will be available soon.",[],"appLead")),1)])]))]),He(Px,{visible:Fn.value,steps:pr.value,translate:r(s),onClose:_r,onNavigate:uv},null,8,["visible","steps","translate"])]}),_:1}))}},Ss=document.getElementById("nxp-ec-admin-app");if(!Ss)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(oo=Ss.getAttribute("data-csrf-token"))!=null?oo:"",t=Object.assign({},Ss.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(k){console.warn("[NXP Easy Cart] Failed to parse admin config payload",k)}const a=(_o=(ro=s==null?void 0:s.endpoints)==null?void 0:ro.products)!=null?_o:{list:(lo=t.productsEndpoint)!=null?lo:"",create:(co=t.productsEndpointCreate)!=null?co:"",update:(uo=t.productsEndpointUpdate)!=null?uo:"",delete:(po=t.productsEndpointDelete)!=null?po:""},n=(Co=(fo=s==null?void 0:s.endpoints)==null?void 0:fo.categories)!=null?Co:{list:(mo=t.categoriesEndpoint)!=null?mo:"",create:(ho=t.categoriesEndpointCreate)!=null?ho:"",update:(go=t.categoriesEndpointUpdate)!=null?go:"",delete:(Eo=t.categoriesEndpointDelete)!=null?Eo:""},o=(vo=(So=s==null?void 0:s.endpoints)==null?void 0:So.orders)!=null?vo:{list:(bo=t.ordersEndpoint)!=null?bo:"",show:(Ao=t.ordersEndpointShow)!=null?Ao:"",transition:(To=t.ordersEndpointTransition)!=null?To:"",bulkTransition:(yo=t.ordersEndpointBulk)!=null?yo:"",note:(Ro=t.ordersEndpointNote)!=null?Ro:"",tracking:(Oo=t.ordersEndpointTracking)!=null?Oo:"",invoice:(xo=t.ordersEndpointInvoice)!=null?xo:""},c=(Io=(Po=s==null?void 0:s.endpoints)==null?void 0:Po.customers)!=null?Io:{list:(No=t.customersEndpoint)!=null?No:"",show:(Mo=t.customersEndpointShow)!=null?Mo:""},u=(Lo=(ko=s==null?void 0:s.endpoints)==null?void 0:ko.gdpr)!=null?Lo:{export:($o=t.gdprEndpointExport)!=null?$o:"",anonymise:(wo=t.gdprEndpointAnonymise)!=null?wo:""},p=(Go=(Do=s==null?void 0:s.endpoints)==null?void 0:Do.coupons)!=null?Go:{list:(Uo=t.couponsEndpoint)!=null?Uo:"",create:(Yo=t.couponsEndpointCreate)!=null?Yo:"",update:(Xo=t.couponsEndpointUpdate)!=null?Xo:"",delete:(Fo=t.couponsEndpointDelete)!=null?Fo:""},m=(Jo=(Vo=s==null?void 0:s.endpoints)==null?void 0:Vo.tax)!=null?Jo:{list:(Ho=t.taxEndpoint)!=null?Ho:"",create:(Bo=t.taxEndpointCreate)!=null?Bo:"",update:(Ko=t.taxEndpointUpdate)!=null?Ko:"",delete:(jo=t.taxEndpointDelete)!=null?jo:""},f=(er=(Wo=s==null?void 0:s.endpoints)==null?void 0:Wo.shipping)!=null?er:{list:(qo=t.shippingEndpoint)!=null?qo:"",create:(zo=t.shippingEndpointCreate)!=null?zo:"",update:(Qo=t.shippingEndpointUpdate)!=null?Qo:"",delete:(Zo=t.shippingEndpointDelete)!=null?Zo:""},l=(ir=(tr=s==null?void 0:s.endpoints)==null?void 0:tr.settings)!=null?ir:{show:(nr=t.settingsEndpointShow)!=null?nr:"",update:(sr=t.settingsEndpointUpdate)!=null?sr:""},g=(rr=(ar=s==null?void 0:s.endpoints)==null?void 0:ar.logs)!=null?rr:{list:(or=t.logsEndpoint)!=null?or:""};Ep(sv,{csrfToken:e,dataset:t,config:s,endpoints:{products:a,categories:n,orders:o,customers:c,gdpr:u,coupons:p,tax:m,shipping:f,settings:l,logs:g,dashboard:(dr=(cr=(lr=s==null?void 0:s.endpoints)==null?void 0:lr.dashboard)!=null?cr:t.dashboardEndpoint)!=null?dr:""}}).mount(Ss)}})();
