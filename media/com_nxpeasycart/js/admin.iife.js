(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var lo,co,uo,po,_o,fo,mo,ho,go,Eo,Co,So,Ao,bo,To,yo,Ro,Oo,xo,vo,No,Po,Mo,Io,ko,$o,wo,Lo,Do,Uo,Yo,Xo,Fo,Go,Vo,Ho,Bo,Ko,jo,Jo,Wo,qo,zo,Qo,Zo,er,tr,nr,sr,ar,ir,or,rr,lr,cr,dr,ur,pr;function ys(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const $e={},tn=[],Ct=()=>{},ha=()=>!1,Hn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Rs=e=>e.startsWith("onUpdate:"),ze=Object.assign,Os=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Jc=Object.prototype.hasOwnProperty,Ne=(e,t)=>Jc.call(e,t),Ee=Array.isArray,nn=e=>hn(e)==="[object Map]",sn=e=>hn(e)==="[object Set]",ga=e=>hn(e)==="[object Date]",Ae=e=>typeof e=="function",Fe=e=>typeof e=="string",ft=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",Ea=e=>(we(e)||Ae(e))&&Ae(e.then)&&Ae(e.catch),Ca=Object.prototype.toString,hn=e=>Ca.call(e),Wc=e=>hn(e).slice(8,-1),Sa=e=>hn(e)==="[object Object]",xs=e=>Fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=ys(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},qc=/-\w/g,Xt=Bn(e=>e.replace(qc,t=>t.slice(1).toUpperCase())),zc=/\B([A-Z])/g,Ft=Bn(e=>e.replace(zc,"-$1").toLowerCase()),Aa=Bn(e=>e.charAt(0).toUpperCase()+e.slice(1)),vs=Bn(e=>e?`on${Aa(e)}`:""),Gt=(e,t)=>!Object.is(e,t),Kn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ba=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},jn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ta;const Jn=()=>Ta||(Ta=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Mt(e){if(Ee(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=Fe(i)?td(i):Mt(i);if(n)for(const o in n)t[o]=n[o]}return t}else if(Fe(e)||we(e))return e}const Qc=/;(?![^(]*\))/g,Zc=/:([^]+)/,ed=/\/\*[^]*?\*\//g;function td(e){const t={};return e.replace(ed,"").split(Qc).forEach(s=>{if(s){const i=s.split(Zc);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Me(e){let t="";if(Fe(e))t=e;else if(Ee(e))for(let s=0;s<e.length;s++){const i=Me(e[s]);i&&(t+=i+" ")}else if(we(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const nd=ys("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function ya(e){return!!e||e===""}function sd(e,t){if(e.length!==t.length)return!1;let s=!0;for(let i=0;s&&i<e.length;i++)s=En(e[i],t[i]);return s}function En(e,t){if(e===t)return!0;let s=ga(e),i=ga(t);if(s||i)return s&&i?e.getTime()===t.getTime():!1;if(s=ft(e),i=ft(t),s||i)return e===t;if(s=Ee(e),i=Ee(t),s||i)return s&&i?sd(e,t):!1;if(s=we(e),i=we(t),s||i){if(!s||!i)return!1;const n=Object.keys(e).length,o=Object.keys(t).length;if(n!==o)return!1;for(const c in e){const u=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(u&&!p||!u&&p||!En(e[c],t[c]))return!1}}return String(e)===String(t)}function Ns(e,t){return e.findIndex(s=>En(s,t))}const Ra=e=>!!(e&&e.__v_isRef===!0),d=e=>Fe(e)?e:e==null?"":Ee(e)||we(e)&&(e.toString===Ca||!Ae(e.toString))?Ra(e)?d(e.value):JSON.stringify(e,Oa,2):String(e),Oa=(e,t)=>Ra(t)?Oa(e,t.value):nn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],o)=>(s[Ps(i,o)+" =>"]=n,s),{})}:sn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ps(s))}:ft(t)?Ps(t):we(t)&&!Ee(t)&&!Sa(t)?String(t):t,Ps=(e,t="")=>{var s;return ft(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class ad{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function id(){return nt}let Le;const Ms=new WeakSet;class xa{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ms.has(this)&&(Ms.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Na(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,$a(this),Pa(this);const t=Le,s=mt;Le=this,mt=!0;try{return this.fn()}finally{Ma(this),Le=t,mt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ws(t);this.deps=this.depsTail=void 0,$a(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ms.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$s(this)&&this.run()}get dirty(){return $s(this)}}let va=0,Cn,Sn;function Na(e,t=!1){if(e.flags|=8,t){e.next=Sn,Sn=e;return}e.next=Cn,Cn=e}function Is(){va++}function ks(){if(--va>0)return;if(Sn){let t=Sn;for(Sn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Cn;){let t=Cn;for(Cn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function Pa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ma(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),ws(i),od(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function $s(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ia(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ia(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===An)||(e.globalVersion=An,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!$s(e))))return;e.flags|=2;const t=e.dep,s=Le,i=mt;Le=e,mt=!0;try{Pa(e);const n=e.fn(e._value);(t.version===0||Gt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Le=s,mt=i,Ma(e),e.flags&=-3}}function ws(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)ws(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function od(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let mt=!0;const ka=[];function St(){ka.push(mt),mt=!1}function At(){const e=ka.pop();mt=e===void 0?!0:e}function $a(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Le;Le=void 0;try{t()}finally{Le=s}}}let An=0;class rd{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ls{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Le||!mt||Le===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Le)s=this.activeLink=new rd(Le,this),Le.deps?(s.prevDep=Le.depsTail,Le.depsTail.nextDep=s,Le.depsTail=s):Le.deps=Le.depsTail=s,wa(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=Le.depsTail,s.nextDep=void 0,Le.depsTail.nextDep=s,Le.depsTail=s,Le.deps===s&&(Le.deps=i)}return s}trigger(t){this.version++,An++,this.notify(t)}notify(t){Is();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ks()}}}function wa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)wa(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ds=new WeakMap,jt=Symbol(""),Us=Symbol(""),bn=Symbol("");function We(e,t,s){if(mt&&Le){let i=Ds.get(e);i||Ds.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new Ls),n.map=i,n.key=s),n.track()}}function It(e,t,s,i,n,o){const c=Ds.get(e);if(!c){An++;return}const u=p=>{p&&p.trigger()};if(Is(),t==="clear")c.forEach(u);else{const p=Ee(e),m=p&&xs(s);if(p&&s==="length"){const f=Number(i);c.forEach((l,h)=>{(h==="length"||h===bn||!ft(h)&&h>=f)&&u(l)})}else switch((s!==void 0||c.has(void 0))&&u(c.get(s)),m&&u(c.get(bn)),t){case"add":p?m&&u(c.get("length")):(u(c.get(jt)),nn(e)&&u(c.get(Us)));break;case"delete":p||(u(c.get(jt)),nn(e)&&u(c.get(Us)));break;case"set":nn(e)&&u(c.get(jt));break}}ks()}function an(e){const t=ve(e);return t===e?t:(We(t,"iterate",bn),pt(e)?t:t.map(Ke))}function Wn(e){return We(e=ve(e),"iterate",bn),e}const ld={__proto__:null,[Symbol.iterator](){return Ys(this,Symbol.iterator,Ke)},concat(...e){return an(this).concat(...e.map(t=>Ee(t)?an(t):t))},entries(){return Ys(this,"entries",e=>(e[1]=Ke(e[1]),e))},every(e,t){return kt(this,"every",e,t,void 0,arguments)},filter(e,t){return kt(this,"filter",e,t,s=>s.map(Ke),arguments)},find(e,t){return kt(this,"find",e,t,Ke,arguments)},findIndex(e,t){return kt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return kt(this,"findLast",e,t,Ke,arguments)},findLastIndex(e,t){return kt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return kt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Xs(this,"includes",e)},indexOf(...e){return Xs(this,"indexOf",e)},join(e){return an(this).join(e)},lastIndexOf(...e){return Xs(this,"lastIndexOf",e)},map(e,t){return kt(this,"map",e,t,void 0,arguments)},pop(){return Tn(this,"pop")},push(...e){return Tn(this,"push",e)},reduce(e,...t){return La(this,"reduce",e,t)},reduceRight(e,...t){return La(this,"reduceRight",e,t)},shift(){return Tn(this,"shift")},some(e,t){return kt(this,"some",e,t,void 0,arguments)},splice(...e){return Tn(this,"splice",e)},toReversed(){return an(this).toReversed()},toSorted(e){return an(this).toSorted(e)},toSpliced(...e){return an(this).toSpliced(...e)},unshift(...e){return Tn(this,"unshift",e)},values(){return Ys(this,"values",Ke)}};function Ys(e,t,s){const i=Wn(e),n=i[t]();return i!==e&&!pt(e)&&(n._next=n.next,n.next=()=>{const o=n._next();return o.done||(o.value=s(o.value)),o}),n}const cd=Array.prototype;function kt(e,t,s,i,n,o){const c=Wn(e),u=c!==e&&!pt(e),p=c[t];if(p!==cd[t]){const l=p.apply(e,o);return u?Ke(l):l}let m=s;c!==e&&(u?m=function(l,h){return s.call(this,Ke(l),h,e)}:s.length>2&&(m=function(l,h){return s.call(this,l,h,e)}));const f=p.call(c,m,i);return u&&n?n(f):f}function La(e,t,s,i){const n=Wn(e);let o=s;return n!==e&&(pt(e)?s.length>3&&(o=function(c,u,p){return s.call(this,c,u,p,e)}):o=function(c,u,p){return s.call(this,c,Ke(u),p,e)}),n[t](o,...i)}function Xs(e,t,s){const i=ve(e);We(i,"iterate",bn);const n=i[t](...s);return(n===-1||n===!1)&&Vs(s[0])?(s[0]=ve(s[0]),i[t](...s)):n}function Tn(e,t,s=[]){St(),Is();const i=ve(e)[t].apply(e,s);return ks(),At(),i}const dd=ys("__proto__,__v_isRef,__isVue"),Da=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ft));function ud(e){ft(e)||(e=String(e));const t=ve(this);return We(t,"has",e),t.hasOwnProperty(e)}class Ua{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return o;if(s==="__v_raw")return i===(n?o?Ha:Va:o?Ga:Fa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const c=Ee(t);if(!n){let p;if(c&&(p=ld[s]))return p;if(s==="hasOwnProperty")return ud}const u=Reflect.get(t,s,je(t)?t:i);if((ft(s)?Da.has(s):dd(s))||(n||We(t,"get",s),o))return u;if(je(u)){const p=c&&xs(s)?u:u.value;return n&&we(p)?Gs(p):p}return we(u)?n?Gs(u):Ie(u):u}}class Ya extends Ua{constructor(t=!1){super(!1,t)}set(t,s,i,n){let o=t[s];if(!this._isShallow){const p=Vt(o);if(!pt(i)&&!Vt(i)&&(o=ve(o),i=ve(i)),!Ee(t)&&je(o)&&!je(i))return p||(o.value=i),!0}const c=Ee(t)&&xs(s)?Number(s)<t.length:Ne(t,s),u=Reflect.set(t,s,i,je(t)?t:n);return t===ve(n)&&(c?Gt(i,o)&&It(t,"set",s,i):It(t,"add",s,i)),u}deleteProperty(t,s){const i=Ne(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&It(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!ft(s)||!Da.has(s))&&We(t,"has",s),i}ownKeys(t){return We(t,"iterate",Ee(t)?"length":jt),Reflect.ownKeys(t)}}class Xa extends Ua{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const pd=new Ya,_d=new Xa,fd=new Ya(!0),md=new Xa(!0),Fs=e=>e,qn=e=>Reflect.getPrototypeOf(e);function hd(e,t,s){return function(...i){const n=this.__v_raw,o=ve(n),c=nn(o),u=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,m=n[e](...i),f=s?Fs:t?es:Ke;return!t&&We(o,"iterate",p?Us:jt),{next(){const{value:l,done:h}=m.next();return h?{value:l,done:h}:{value:u?[f(l[0]),f(l[1])]:f(l),done:h}},[Symbol.iterator](){return this}}}}function zn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function gd(e,t){const s={get(n){const o=this.__v_raw,c=ve(o),u=ve(n);e||(Gt(n,u)&&We(c,"get",n),We(c,"get",u));const{has:p}=qn(c),m=t?Fs:e?es:Ke;if(p.call(c,n))return m(o.get(n));if(p.call(c,u))return m(o.get(u));o!==c&&o.get(n)},get size(){const n=this.__v_raw;return!e&&We(ve(n),"iterate",jt),n.size},has(n){const o=this.__v_raw,c=ve(o),u=ve(n);return e||(Gt(n,u)&&We(c,"has",n),We(c,"has",u)),n===u?o.has(n):o.has(n)||o.has(u)},forEach(n,o){const c=this,u=c.__v_raw,p=ve(u),m=t?Fs:e?es:Ke;return!e&&We(p,"iterate",jt),u.forEach((f,l)=>n.call(o,m(f),m(l),c))}};return ze(s,e?{add:zn("add"),set:zn("set"),delete:zn("delete"),clear:zn("clear")}:{add(n){!t&&!pt(n)&&!Vt(n)&&(n=ve(n));const o=ve(this);return qn(o).has.call(o,n)||(o.add(n),It(o,"add",n,n)),this},set(n,o){!t&&!pt(o)&&!Vt(o)&&(o=ve(o));const c=ve(this),{has:u,get:p}=qn(c);let m=u.call(c,n);m||(n=ve(n),m=u.call(c,n));const f=p.call(c,n);return c.set(n,o),m?Gt(o,f)&&It(c,"set",n,o):It(c,"add",n,o),this},delete(n){const o=ve(this),{has:c,get:u}=qn(o);let p=c.call(o,n);p||(n=ve(n),p=c.call(o,n)),u&&u.call(o,n);const m=o.delete(n);return p&&It(o,"delete",n,void 0),m},clear(){const n=ve(this),o=n.size!==0,c=n.clear();return o&&It(n,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=hd(n,e,t)}),s}function Qn(e,t){const s=gd(e,t);return(i,n,o)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(Ne(s,n)&&n in i?s:i,n,o)}const Ed={get:Qn(!1,!1)},Cd={get:Qn(!1,!0)},Sd={get:Qn(!0,!1)},Ad={get:Qn(!0,!0)},Fa=new WeakMap,Ga=new WeakMap,Va=new WeakMap,Ha=new WeakMap;function bd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Td(e){return e.__v_skip||!Object.isExtensible(e)?0:bd(Wc(e))}function Ie(e){return Vt(e)?e:Zn(e,!1,pd,Ed,Fa)}function yd(e){return Zn(e,!1,fd,Cd,Ga)}function Gs(e){return Zn(e,!0,_d,Sd,Va)}function H1(e){return Zn(e,!0,md,Ad,Ha)}function Zn(e,t,s,i,n){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Td(e);if(o===0)return e;const c=n.get(e);if(c)return c;const u=new Proxy(e,o===2?i:s);return n.set(e,u),u}function on(e){return Vt(e)?on(e.__v_raw):!!(e&&e.__v_isReactive)}function Vt(e){return!!(e&&e.__v_isReadonly)}function pt(e){return!!(e&&e.__v_isShallow)}function Vs(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function Rd(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&ba(e,"__v_skip",!0),e}const Ke=e=>we(e)?Ie(e):e,es=e=>we(e)?Gs(e):e;function je(e){return e?e.__v_isRef===!0:!1}function Xe(e){return Od(e,!1)}function Od(e,t){return je(e)?e:new xd(e,t)}class xd{constructor(t,s){this.dep=new Ls,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ve(t),this._value=s?t:Ke(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||pt(t)||Vt(t);t=i?t:ve(t),Gt(t,s)&&(this._rawValue=t,this._value=i?t:Ke(t),this.dep.trigger())}}function r(e){return je(e)?e.value:e}const vd={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return je(n)&&!je(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Ba(e){return on(e)?e:new Proxy(e,vd)}class Nd{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ls(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=An-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Le!==this)return Na(this,!0),!0}get value(){const t=this.dep.track();return Ia(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Pd(e,t,s=!1){let i,n;return Ae(e)?i=e:(i=e.get,n=e.set),new Nd(i,n,s)}const ts={},ns=new WeakMap;let Jt;function Md(e,t=!1,s=Jt){if(s){let i=ns.get(s);i||ns.set(s,i=[]),i.push(e)}}function Id(e,t,s=$e){const{immediate:i,deep:n,once:o,scheduler:c,augmentJob:u,call:p}=s,m=G=>n?G:pt(G)||n===!1||n===0?$t(G,1):$t(G);let f,l,h,I,V=!1,w=!1;if(je(e)?(l=()=>e.value,V=pt(e)):on(e)?(l=()=>m(e),V=!0):Ee(e)?(w=!0,V=e.some(G=>on(G)||pt(G)),l=()=>e.map(G=>{if(je(G))return G.value;if(on(G))return m(G);if(Ae(G))return p?p(G,2):G()})):Ae(e)?t?l=p?()=>p(e,2):e:l=()=>{if(h){St();try{h()}finally{At()}}const G=Jt;Jt=f;try{return p?p(e,3,[I]):e(I)}finally{Jt=G}}:l=Ct,t&&n){const G=l,Y=n===!0?1/0:n;l=()=>$t(G(),Y)}const K=id(),L=()=>{f.stop(),K&&K.active&&Os(K.effects,f)};if(o&&t){const G=t;t=(...Y)=>{G(...Y),L()}}let $=w?new Array(e.length).fill(ts):ts;const U=G=>{if(!(!(f.flags&1)||!f.dirty&&!G))if(t){const Y=f.run();if(n||V||(w?Y.some((O,ne)=>Gt(O,$[ne])):Gt(Y,$))){h&&h();const O=Jt;Jt=f;try{const ne=[Y,$===ts?void 0:w&&$[0]===ts?[]:$,I];$=Y,p?p(t,3,ne):t(...ne)}finally{Jt=O}}}else f.run()};return u&&u(U),f=new xa(l),f.scheduler=c?()=>c(U,!1):U,I=G=>Md(G,!1,f),h=f.onStop=()=>{const G=ns.get(f);if(G){if(p)p(G,4);else for(const Y of G)Y();ns.delete(f)}},t?i?U(!0):$=f.run():c?c(U.bind(null,!0),!0):f.run(),L.pause=f.pause.bind(f),L.resume=f.resume.bind(f),L.stop=L,L}function $t(e,t=1/0,s){if(t<=0||!we(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,je(e))$t(e.value,t,s);else if(Ee(e))for(let i=0;i<e.length;i++)$t(e[i],t,s);else if(sn(e)||nn(e))e.forEach(i=>{$t(i,t,s)});else if(Sa(e)){for(const i in e)$t(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&$t(e[i],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yn=[];let Hs=!1;function B1(e,...t){if(Hs)return;Hs=!0,St();const s=yn.length?yn[yn.length-1].component:null,i=s&&s.appContext.config.warnHandler,n=kd();if(i)rn(i,s,11,[e+t.map(o=>{var c,u;return(u=(c=o.toString)==null?void 0:c.call(o))!=null?u:JSON.stringify(o)}).join(""),s&&s.proxy,n.map(({vnode:o})=>`at <${Xi(s,o.type)}>`).join(`
`),n]);else{const o=[`[Vue warn]: ${e}`,...t];n.length&&o.push(`
`,...$d(n)),console.warn(...o)}At(),Hs=!1}function kd(){let e=yn[yn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function $d(e){const t=[];return e.forEach((s,i)=>{t.push(...i===0?[]:[`
`],...wd(s))}),t}function wd({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,n=` at <${Xi(e.component,e.type,i)}`,o=">"+s;return e.props?[n,...Ld(e.props),o]:[n+o]}function Ld(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(i=>{t.push(...Ka(i,e[i]))}),s.length>3&&t.push(" ..."),t}function Ka(e,t,s){return Fe(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:je(t)?(t=Ka(e,ve(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Ae(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ve(t),s?t:[`${e}=`,t])}function rn(e,t,s,i){try{return i?e(...i):e()}catch(n){ss(n,t,s)}}function bt(e,t,s,i){if(Ae(e)){const n=rn(e,t,s,i);return n&&Ea(n)&&n.catch(o=>{ss(o,t,s)}),n}if(Ee(e)){const n=[];for(let o=0;o<e.length;o++)n.push(bt(e[o],t,s,i));return n}}function ss(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||$e;if(t){let u=t.parent;const p=t.proxy,m=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const f=u.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](e,p,m)===!1)return}u=u.parent}if(o){St(),rn(o,null,10,[e,p,m]),At();return}}Dd(e,s,n,i,c)}function Dd(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const Qe=[];let Tt=-1;const ln=[];let Ht=null,cn=0;const ja=Promise.resolve();let as=null;function Ja(e){const t=as||ja;return e?t.then(this?e.bind(this):e):t}function Ud(e){let t=Tt+1,s=Qe.length;for(;t<s;){const i=t+s>>>1,n=Qe[i],o=Rn(n);o<e||o===e&&n.flags&2?t=i+1:s=i}return t}function Bs(e){if(!(e.flags&1)){const t=Rn(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=Rn(s)?Qe.push(e):Qe.splice(Ud(t),0,e),e.flags|=1,Wa()}}function Wa(){as||(as=ja.then(Qa))}function Yd(e){Ee(e)?ln.push(...e):Ht&&e.id===-1?Ht.splice(cn+1,0,e):e.flags&1||(ln.push(e),e.flags|=1),Wa()}function qa(e,t,s=Tt+1){for(;s<Qe.length;s++){const i=Qe[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Qe.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function za(e){if(ln.length){const t=[...new Set(ln)].sort((s,i)=>Rn(s)-Rn(i));if(ln.length=0,Ht){Ht.push(...t);return}for(Ht=t,cn=0;cn<Ht.length;cn++){const s=Ht[cn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ht=null,cn=0}}const Rn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Qa(e){try{for(Tt=0;Tt<Qe.length;Tt++){const t=Qe[Tt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Tt<Qe.length;Tt++){const t=Qe[Tt];t&&(t.flags&=-2)}Tt=-1,Qe.length=0,za(),as=null,(Qe.length||ln.length)&&Qa()}}let qe=null,Za=null;function is(e){const t=qe;return qe=e,Za=e&&e.type.__scopeId||null,t}function ei(e,t=qe,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&ki(-1);const o=is(t);let c;try{c=e(...n)}finally{is(o),i._d&&ki(1)}return c};return i._n=!0,i._c=!0,i._d=!0,i}function Q(e,t){if(qe===null)return e;const s=ms(qe),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[o,c,u,p=$e]=t[n];o&&(Ae(o)&&(o={mounted:o,updated:o}),o.deep&&$t(c),i.push({dir:o,instance:s,value:c,oldValue:void 0,arg:u,modifiers:p}))}return e}function Wt(e,t,s,i){const n=e.dirs,o=t&&t.dirs;for(let c=0;c<n.length;c++){const u=n[c];o&&(u.oldValue=o[c].value);let p=u.dir[i];p&&(St(),bt(p,s,8,[e.el,u,e,t]),At())}}const Xd=Symbol("_vte"),Fd=e=>e.__isTeleport,Gd=Symbol("_leaveCb");function Ks(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ks(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ti(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const os=new WeakMap;function On(e,t,s,i,n=!1){if(Ee(e)){e.forEach((V,w)=>On(V,t&&(Ee(t)?t[w]:t),s,i,n));return}if(dn(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&On(e,t,s,i.component.subTree);return}const o=i.shapeFlag&4?ms(i.component):i.el,c=n?null:o,{i:u,r:p}=e,m=t&&t.r,f=u.refs===$e?u.refs={}:u.refs,l=u.setupState,h=ve(l),I=l===$e?ha:V=>Ne(h,V);if(m!=null&&m!==p){if(ni(t),Fe(m))f[m]=null,I(m)&&(l[m]=null);else if(je(m)){m.value=null;const V=t;V.k&&(f[V.k]=null)}}if(Ae(p))rn(p,u,12,[c,f]);else{const V=Fe(p),w=je(p);if(V||w){const K=()=>{if(e.f){const L=V?I(p)?l[p]:f[p]:p.value;if(n)Ee(L)&&Os(L,o);else if(Ee(L))L.includes(o)||L.push(o);else if(V)f[p]=[o],I(p)&&(l[p]=f[p]);else{const $=[o];p.value=$,e.k&&(f[e.k]=$)}}else V?(f[p]=c,I(p)&&(l[p]=c)):w&&(p.value=c,e.k&&(f[e.k]=c))};if(c){const L=()=>{K(),os.delete(e)};L.id=-1,os.set(e,L),rt(L,s)}else ni(e),K()}}}function ni(e){const t=os.get(e);t&&(t.flags|=8,os.delete(e))}Jn().requestIdleCallback,Jn().cancelIdleCallback;const dn=e=>!!e.type.__asyncLoader,si=e=>e.type.__isKeepAlive;function Vd(e,t){ai(e,"a",t)}function Hd(e,t){ai(e,"da",t)}function ai(e,t,s=et){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(rs(t,i,s),s){let n=s.parent;for(;n&&n.parent;)si(n.parent.vnode)&&Bd(i,t,s,n),n=n.parent}}function Bd(e,t,s,i){const n=rs(t,e,i,!0);oi(()=>{Os(i[t],n)},s)}function rs(e,t,s=et,i=!1){if(s){const n=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...c)=>{St();const u=In(s),p=bt(t,s,e,c);return u(),At(),p});return i?n.unshift(o):n.push(o),o}}const wt=e=>(t,s=et)=>{(!kn||e==="sp")&&rs(e,(...i)=>t(...i),s)},Kd=wt("bm"),ot=wt("m"),jd=wt("bu"),Jd=wt("u"),ii=wt("bum"),oi=wt("um"),Wd=wt("sp"),qd=wt("rtg"),zd=wt("rtc");function Qd(e,t=et){rs("ec",e,t)}const Zd=Symbol.for("v-ndc");function Re(e,t,s,i){let n;const o=s,c=Ee(e);if(c||Fe(e)){const u=c&&on(e);let p=!1,m=!1;u&&(p=!pt(e),m=Vt(e),e=Wn(e)),n=new Array(e.length);for(let f=0,l=e.length;f<l;f++)n[f]=t(p?m?es(Ke(e[f])):Ke(e[f]):e[f],f,void 0,o)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,o)}else if(we(e))if(e[Symbol.iterator])n=Array.from(e,(u,p)=>t(u,p,void 0,o));else{const u=Object.keys(e);n=new Array(u.length);for(let p=0,m=u.length;p<m;p++){const f=u[p];n[p]=t(e[f],f,p,o)}}else n=[];return n}function eu(e,t,s={},i,n){if(qe.ce||qe.parent&&dn(qe.parent)&&qe.parent.ce){const m=Object.keys(s).length>0;return T(),st(Ce,null,[He("slot",s,i)],m?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),T();const c=o&&ri(o(s)),u=s.key||c&&c.key,p=st(Ce,{key:(u&&!ft(u)?u:`_${t}`)+(!c&&i?"_fb":"")},c||[],c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),o&&o._c&&(o._d=!0),p}function ri(e){return e.some(t=>ta(t)?!(t.type===Lt||t.type===Ce&&!ri(t.children)):!0)?e:null}const js=e=>e?Di(e)?ms(e):js(e.parent):null,xn=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>js(e.parent),$root:e=>js(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ui(e),$forceUpdate:e=>e.f||(e.f=()=>{Bs(e.update)}),$nextTick:e=>e.n||(e.n=Ja.bind(e.proxy)),$watch:e=>bu.bind(e)}),Js=(e,t)=>e!==$e&&!e.__isScriptSetup&&Ne(e,t),tu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:o,accessCache:c,type:u,appContext:p}=e;let m;if(t[0]!=="$"){const I=c[t];if(I!==void 0)switch(I){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return o[t]}else{if(Js(i,t))return c[t]=1,i[t];if(n!==$e&&Ne(n,t))return c[t]=2,n[t];if((m=e.propsOptions[0])&&Ne(m,t))return c[t]=3,o[t];if(s!==$e&&Ne(s,t))return c[t]=4,s[t];Ws&&(c[t]=0)}}const f=xn[t];let l,h;if(f)return t==="$attrs"&&We(e.attrs,"get",""),f(e);if((l=u.__cssModules)&&(l=l[t]))return l;if(s!==$e&&Ne(s,t))return c[t]=4,s[t];if(h=p.config.globalProperties,Ne(h,t))return h[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:o}=e;return Js(n,t)?(n[t]=s,!0):i!==$e&&Ne(i,t)?(i[t]=s,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:o,type:c}},u){let p,m;return!!(s[u]||e!==$e&&u[0]!=="$"&&Ne(e,u)||Js(t,u)||(p=o[0])&&Ne(p,u)||Ne(i,u)||Ne(xn,u)||Ne(n.config.globalProperties,u)||(m=c.__cssModules)&&m[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ne(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function li(e){return Ee(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ws=!0;function nu(e){const t=ui(e),s=e.proxy,i=e.ctx;Ws=!1,t.beforeCreate&&ci(t.beforeCreate,e,"bc");const{data:n,computed:o,methods:c,watch:u,provide:p,inject:m,created:f,beforeMount:l,mounted:h,beforeUpdate:I,updated:V,activated:w,deactivated:K,beforeDestroy:L,beforeUnmount:$,destroyed:U,unmounted:G,render:Y,renderTracked:O,renderTriggered:ne,errorCaptured:de,serverPrefetch:ge,expose:W,inheritAttrs:j,components:z,directives:S,filters:b}=t;if(m&&su(m,i,null),c)for(const J in c){const ee=c[J];Ae(ee)&&(i[J]=ee.bind(s))}if(n){const J=n.call(s,s);we(J)&&(e.data=Ie(J))}if(Ws=!0,o)for(const J in o){const ee=o[J],Z=Ae(ee)?ee.bind(s,s):Ae(ee.get)?ee.get.bind(s,s):Ct,re=!Ae(ee)&&Ae(ee.set)?ee.set.bind(s):Ct,F=fe({get:Z,set:re});Object.defineProperty(i,J,{enumerable:!0,configurable:!0,get:()=>F.value,set:q=>F.value=q})}if(u)for(const J in u)di(u[J],i,s,J);if(p){const J=Ae(p)?p.call(s):p;Reflect.ownKeys(J).forEach(ee=>{cu(ee,J[ee])})}f&&ci(f,e,"c");function ae(J,ee){Ee(ee)?ee.forEach(Z=>J(Z.bind(s))):ee&&J(ee.bind(s))}if(ae(Kd,l),ae(ot,h),ae(jd,I),ae(Jd,V),ae(Vd,w),ae(Hd,K),ae(Qd,de),ae(zd,O),ae(qd,ne),ae(ii,$),ae(oi,G),ae(Wd,ge),Ee(W))if(W.length){const J=e.exposed||(e.exposed={});W.forEach(ee=>{Object.defineProperty(J,ee,{get:()=>s[ee],set:Z=>s[ee]=Z,enumerable:!0})})}else e.exposed||(e.exposed={});Y&&e.render===Ct&&(e.render=Y),j!=null&&(e.inheritAttrs=j),z&&(e.components=z),S&&(e.directives=S),ge&&ti(e)}function su(e,t,s=Ct){Ee(e)&&(e=qs(e));for(const i in e){const n=e[i];let o;we(n)?"default"in n?o=cs(n.from||i,n.default,!0):o=cs(n.from||i):o=cs(n),je(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:c=>o.value=c}):t[i]=o}}function ci(e,t,s){bt(Ee(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function di(e,t,s,i){let n=i.includes(".")?vi(s,i):()=>s[i];if(Fe(e)){const o=t[e];Ae(o)&&Ye(n,o)}else if(Ae(e))Ye(n,e.bind(s));else if(we(e))if(Ee(e))e.forEach(o=>di(o,t,s,i));else{const o=Ae(e.handler)?e.handler.bind(s):t[e.handler];Ae(o)&&Ye(n,o,e)}}function ui(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:o,config:{optionMergeStrategies:c}}=e.appContext,u=o.get(t);let p;return u?p=u:!n.length&&!s&&!i?p=t:(p={},n.length&&n.forEach(m=>ls(p,m,c,!0)),ls(p,t,c)),we(t)&&o.set(t,p),p}function ls(e,t,s,i=!1){const{mixins:n,extends:o}=t;o&&ls(e,o,s,!0),n&&n.forEach(c=>ls(e,c,s,!0));for(const c in t)if(!(i&&c==="expose")){const u=au[c]||s&&s[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const au={data:pi,props:_i,emits:_i,methods:vn,computed:vn,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:vn,directives:vn,watch:ou,provide:pi,inject:iu};function pi(e,t){return t?e?function(){return ze(Ae(e)?e.call(this,this):e,Ae(t)?t.call(this,this):t)}:t:e}function iu(e,t){return vn(qs(e),qs(t))}function qs(e){if(Ee(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function vn(e,t){return e?ze(Object.create(null),e,t):t}function _i(e,t){return e?Ee(e)&&Ee(t)?[...new Set([...e,...t])]:ze(Object.create(null),li(e),li(t!=null?t:{})):t}function ou(e,t){if(!e)return t;if(!t)return e;const s=ze(Object.create(null),e);for(const i in t)s[i]=Ze(e[i],t[i]);return s}function fi(){return{app:null,config:{isNativeTag:ha,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ru=0;function lu(e,t){return function(i,n=null){Ae(i)||(i=ze({},i)),n!=null&&!we(n)&&(n=null);const o=fi(),c=new WeakSet,u=[];let p=!1;const m=o.app={_uid:ru++,_component:i,_props:n,_container:null,_context:o,_instance:null,version:Ju,get config(){return o.config},set config(f){},use(f,...l){return c.has(f)||(f&&Ae(f.install)?(c.add(f),f.install(m,...l)):Ae(f)&&(c.add(f),f(m,...l))),m},mixin(f){return o.mixins.includes(f)||o.mixins.push(f),m},component(f,l){return l?(o.components[f]=l,m):o.components[f]},directive(f,l){return l?(o.directives[f]=l,m):o.directives[f]},mount(f,l,h){if(!p){const I=m._ceVNode||He(i,n);return I.appContext=o,h===!0?h="svg":h===!1&&(h=void 0),e(I,f,h),p=!0,m._container=f,f.__vue_app__=m,ms(I.component)}},onUnmount(f){u.push(f)},unmount(){p&&(bt(u,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(f,l){return o.provides[f]=l,m},runWithContext(f){const l=un;un=m;try{return f()}finally{un=l}}};return m}}let un=null;function cu(e,t){if(et){let s=et.provides;const i=et.parent&&et.parent.provides;i===s&&(s=et.provides=Object.create(i)),s[e]=t}}function cs(e,t,s=!1){const i=Yu();if(i||un){let n=un?un._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ae(t)?t.call(i&&i.proxy):t}}const mi={},hi=()=>Object.create(mi),gi=e=>Object.getPrototypeOf(e)===mi;function du(e,t,s,i=!1){const n={},o=hi();e.propsDefaults=Object.create(null),Ei(e,t,n,o);for(const c in e.propsOptions[0])c in n||(n[c]=void 0);s?e.props=i?n:yd(n):e.type.props?e.props=n:e.props=o,e.attrs=o}function uu(e,t,s,i){const{props:n,attrs:o,vnode:{patchFlag:c}}=e,u=ve(n),[p]=e.propsOptions;let m=!1;if((i||c>0)&&!(c&16)){if(c&8){const f=e.vnode.dynamicProps;for(let l=0;l<f.length;l++){let h=f[l];if(ds(e.emitsOptions,h))continue;const I=t[h];if(p)if(Ne(o,h))I!==o[h]&&(o[h]=I,m=!0);else{const V=Xt(h);n[V]=zs(p,u,V,I,e,!1)}else I!==o[h]&&(o[h]=I,m=!0)}}}else{Ei(e,t,n,o)&&(m=!0);let f;for(const l in u)(!t||!Ne(t,l)&&((f=Ft(l))===l||!Ne(t,f)))&&(p?s&&(s[l]!==void 0||s[f]!==void 0)&&(n[l]=zs(p,u,l,void 0,e,!0)):delete n[l]);if(o!==u)for(const l in o)(!t||!Ne(t,l))&&(delete o[l],m=!0)}m&&It(e.attrs,"set","")}function Ei(e,t,s,i){const[n,o]=e.propsOptions;let c=!1,u;if(t)for(let p in t){if(gn(p))continue;const m=t[p];let f;n&&Ne(n,f=Xt(p))?!o||!o.includes(f)?s[f]=m:(u||(u={}))[f]=m:ds(e.emitsOptions,p)||(!(p in i)||m!==i[p])&&(i[p]=m,c=!0)}if(o){const p=ve(s),m=u||$e;for(let f=0;f<o.length;f++){const l=o[f];s[l]=zs(n,p,l,m[l],e,!Ne(m,l))}}return c}function zs(e,t,s,i,n,o){const c=e[s];if(c!=null){const u=Ne(c,"default");if(u&&i===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&Ae(p)){const{propsDefaults:m}=n;if(s in m)i=m[s];else{const f=In(n);i=m[s]=p.call(null,t),f()}}else i=p;n.ce&&n.ce._setProp(s,i)}c[0]&&(o&&!u?i=!1:c[1]&&(i===""||i===Ft(s))&&(i=!0))}return i}const pu=new WeakMap;function Ci(e,t,s=!1){const i=s?pu:t.propsCache,n=i.get(e);if(n)return n;const o=e.props,c={},u=[];let p=!1;if(!Ae(e)){const f=l=>{p=!0;const[h,I]=Ci(l,t,!0);ze(c,h),I&&u.push(...I)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!o&&!p)return we(e)&&i.set(e,tn),tn;if(Ee(o))for(let f=0;f<o.length;f++){const l=Xt(o[f]);Si(l)&&(c[l]=$e)}else if(o)for(const f in o){const l=Xt(f);if(Si(l)){const h=o[f],I=c[l]=Ee(h)||Ae(h)?{type:h}:ze({},h),V=I.type;let w=!1,K=!0;if(Ee(V))for(let L=0;L<V.length;++L){const $=V[L],U=Ae($)&&$.name;if(U==="Boolean"){w=!0;break}else U==="String"&&(K=!1)}else w=Ae(V)&&V.name==="Boolean";I[0]=w,I[1]=K,(w||Ne(I,"default"))&&u.push(l)}}const m=[c,u];return we(e)&&i.set(e,m),m}function Si(e){return e[0]!=="$"&&!gn(e)}const Qs=e=>e==="_"||e==="_ctx"||e==="$stable",Zs=e=>Ee(e)?e.map(yt):[yt(e)],_u=(e,t,s)=>{if(t._n)return t;const i=ei((...n)=>Zs(t(...n)),s);return i._c=!1,i},Ai=(e,t,s)=>{const i=e._ctx;for(const n in e){if(Qs(n))continue;const o=e[n];if(Ae(o))t[n]=_u(n,o,i);else if(o!=null){const c=Zs(o);t[n]=()=>c}}},bi=(e,t)=>{const s=Zs(t);e.slots.default=()=>s},Ti=(e,t,s)=>{for(const i in t)(s||!Qs(i))&&(e[i]=t[i])},fu=(e,t,s)=>{const i=e.slots=hi();if(e.vnode.shapeFlag&32){const n=t._;n?(Ti(i,t,s),s&&ba(i,"_",n,!0)):Ai(t,i)}else t&&bi(e,t)},mu=(e,t,s)=>{const{vnode:i,slots:n}=e;let o=!0,c=$e;if(i.shapeFlag&32){const u=t._;u?s&&u===1?o=!1:Ti(n,t,s):(o=!t.$stable,Ai(t,n)),c=t}else t&&(bi(e,t),c={default:1});if(o)for(const u in n)!Qs(u)&&c[u]==null&&delete n[u]},rt=Pu;function hu(e){return gu(e)}function gu(e,t){const s=Jn();s.__VUE__=!0;const{insert:i,remove:n,patchProp:o,createElement:c,createText:u,createComment:p,setText:m,setElementText:f,parentNode:l,nextSibling:h,setScopeId:I=Ct,insertStaticContent:V}=e,w=(E,M,H,y=null,A=null,X=null,g=void 0,_=null,C=!!M.dynamicChildren)=>{if(E===M)return;E&&!Mn(E,M)&&(y=he(E),q(E,A,X,!0),E=null),M.patchFlag===-2&&(C=!1,M.dynamicChildren=null);const{type:N,ref:R,shapeFlag:x}=M;switch(N){case us:K(E,M,H,y);break;case Lt:L(E,M,H,y);break;case ps:E==null&&$(M,H,y,g);break;case Ce:z(E,M,H,y,A,X,g,_,C);break;default:x&1?Y(E,M,H,y,A,X,g,_,C):x&6?S(E,M,H,y,A,X,g,_,C):(x&64||x&128)&&N.process(E,M,H,y,A,X,g,_,C,Pe)}R!=null&&A?On(R,E&&E.ref,X,M||E,!M):R==null&&E&&E.ref!=null&&On(E.ref,null,X,E,!0)},K=(E,M,H,y)=>{if(E==null)i(M.el=u(M.children),H,y);else{const A=M.el=E.el;M.children!==E.children&&m(A,M.children)}},L=(E,M,H,y)=>{E==null?i(M.el=p(M.children||""),H,y):M.el=E.el},$=(E,M,H,y)=>{[E.el,E.anchor]=V(E.children,M,H,y,E.el,E.anchor)},U=({el:E,anchor:M},H,y)=>{let A;for(;E&&E!==M;)A=h(E),i(E,H,y),E=A;i(M,H,y)},G=({el:E,anchor:M})=>{let H;for(;E&&E!==M;)H=h(E),n(E),E=H;n(M)},Y=(E,M,H,y,A,X,g,_,C)=>{M.type==="svg"?g="svg":M.type==="math"&&(g="mathml"),E==null?O(M,H,y,A,X,g,_,C):ge(E,M,A,X,g,_,C)},O=(E,M,H,y,A,X,g,_)=>{let C,N;const{props:R,shapeFlag:x,transition:B,dirs:P}=E;if(C=E.el=c(E.type,X,R&&R.is,R),x&8?f(C,E.children):x&16&&de(E.children,C,null,y,A,ea(E,X),g,_),P&&Wt(E,null,y,"created"),ne(C,E,E.scopeId,g,y),R){for(const ue in R)ue!=="value"&&!gn(ue)&&o(C,ue,null,R[ue],X,y);"value"in R&&o(C,"value",null,R.value,X),(N=R.onVnodeBeforeMount)&&Rt(N,y,E)}P&&Wt(E,null,y,"beforeMount");const ie=Eu(A,B);ie&&B.beforeEnter(C),i(C,M,H),((N=R&&R.onVnodeMounted)||ie||P)&&rt(()=>{N&&Rt(N,y,E),ie&&B.enter(C),P&&Wt(E,null,y,"mounted")},A)},ne=(E,M,H,y,A)=>{if(H&&I(E,H),y)for(let X=0;X<y.length;X++)I(E,y[X]);if(A){let X=A.subTree;if(M===X||Ii(X.type)&&(X.ssContent===M||X.ssFallback===M)){const g=A.vnode;ne(E,g,g.scopeId,g.slotScopeIds,A.parent)}}},de=(E,M,H,y,A,X,g,_,C=0)=>{for(let N=C;N<E.length;N++){const R=E[N]=_?Bt(E[N]):yt(E[N]);w(null,R,M,H,y,A,X,g,_)}},ge=(E,M,H,y,A,X,g)=>{const _=M.el=E.el;let{patchFlag:C,dynamicChildren:N,dirs:R}=M;C|=E.patchFlag&16;const x=E.props||$e,B=M.props||$e;let P;if(H&&qt(H,!1),(P=B.onVnodeBeforeUpdate)&&Rt(P,H,M,E),R&&Wt(M,E,H,"beforeUpdate"),H&&qt(H,!0),(x.innerHTML&&B.innerHTML==null||x.textContent&&B.textContent==null)&&f(_,""),N?W(E.dynamicChildren,N,_,H,y,ea(M,A),X):g||ee(E,M,_,null,H,y,ea(M,A),X,!1),C>0){if(C&16)j(_,x,B,H,A);else if(C&2&&x.class!==B.class&&o(_,"class",null,B.class,A),C&4&&o(_,"style",x.style,B.style,A),C&8){const ie=M.dynamicProps;for(let ue=0;ue<ie.length;ue++){const me=ie[ue],be=x[me],xe=B[me];(xe!==be||me==="value")&&o(_,me,be,xe,A,H)}}C&1&&E.children!==M.children&&f(_,M.children)}else!g&&N==null&&j(_,x,B,H,A);((P=B.onVnodeUpdated)||R)&&rt(()=>{P&&Rt(P,H,M,E),R&&Wt(M,E,H,"updated")},y)},W=(E,M,H,y,A,X,g)=>{for(let _=0;_<M.length;_++){const C=E[_],N=M[_],R=C.el&&(C.type===Ce||!Mn(C,N)||C.shapeFlag&198)?l(C.el):H;w(C,N,R,null,y,A,X,g,!0)}},j=(E,M,H,y,A)=>{if(M!==H){if(M!==$e)for(const X in M)!gn(X)&&!(X in H)&&o(E,X,M[X],null,A,y);for(const X in H){if(gn(X))continue;const g=H[X],_=M[X];g!==_&&X!=="value"&&o(E,X,_,g,A,y)}"value"in H&&o(E,"value",M.value,H.value,A)}},z=(E,M,H,y,A,X,g,_,C)=>{const N=M.el=E?E.el:u(""),R=M.anchor=E?E.anchor:u("");let{patchFlag:x,dynamicChildren:B,slotScopeIds:P}=M;P&&(_=_?_.concat(P):P),E==null?(i(N,H,y),i(R,H,y),de(M.children||[],H,R,A,X,g,_,C)):x>0&&x&64&&B&&E.dynamicChildren?(W(E.dynamicChildren,B,H,A,X,g,_),(M.key!=null||A&&M===A.subTree)&&yi(E,M,!0)):ee(E,M,H,R,A,X,g,_,C)},S=(E,M,H,y,A,X,g,_,C)=>{M.slotScopeIds=_,E==null?M.shapeFlag&512?A.ctx.activate(M,H,y,g,C):b(M,H,y,A,X,g,C):k(E,M,C)},b=(E,M,H,y,A,X,g)=>{const _=E.component=Uu(E,y,A);if(si(E)&&(_.ctx.renderer=Pe),Xu(_,!1,g),_.asyncDep){if(A&&A.registerDep(_,ae,g),!E.el){const C=_.subTree=He(Lt);L(null,C,M,H),E.placeholder=C.el}}else ae(_,E,M,H,A,X,g)},k=(E,M,H)=>{const y=M.component=E.component;if(vu(E,M,H))if(y.asyncDep&&!y.asyncResolved){J(y,M,H);return}else y.next=M,y.update();else M.el=E.el,y.vnode=M},ae=(E,M,H,y,A,X,g)=>{const _=()=>{if(E.isMounted){let{next:x,bu:B,u:P,parent:ie,vnode:ue}=E;{const tt=Ri(E);if(tt){x&&(x.el=ue.el,J(E,x,g)),tt.asyncDep.then(()=>{E.isUnmounted||_()});return}}let me=x,be;qt(E,!1),x?(x.el=ue.el,J(E,x,g)):x=ue,B&&Kn(B),(be=x.props&&x.props.onVnodeBeforeUpdate)&&Rt(be,ie,x,ue),qt(E,!0);const xe=Pi(E),De=E.subTree;E.subTree=xe,w(De,xe,l(De.el),he(De),E,A,X),x.el=xe.el,me===null&&Nu(E,xe.el),P&&rt(P,A),(be=x.props&&x.props.onVnodeUpdated)&&rt(()=>Rt(be,ie,x,ue),A)}else{let x;const{el:B,props:P}=M,{bm:ie,m:ue,parent:me,root:be,type:xe}=E,De=dn(M);qt(E,!1),ie&&Kn(ie),!De&&(x=P&&P.onVnodeBeforeMount)&&Rt(x,me,M),qt(E,!0);{be.ce&&be.ce._def.shadowRoot!==!1&&be.ce._injectChildStyle(xe);const tt=E.subTree=Pi(E);w(null,tt,H,y,E,A,X),M.el=tt.el}if(ue&&rt(ue,A),!De&&(x=P&&P.onVnodeMounted)){const tt=M;rt(()=>Rt(x,me,tt),A)}(M.shapeFlag&256||me&&dn(me.vnode)&&me.vnode.shapeFlag&256)&&E.a&&rt(E.a,A),E.isMounted=!0,M=H=y=null}};E.scope.on();const C=E.effect=new xa(_);E.scope.off();const N=E.update=C.run.bind(C),R=E.job=C.runIfDirty.bind(C);R.i=E,R.id=E.uid,C.scheduler=()=>Bs(R),qt(E,!0),N()},J=(E,M,H)=>{M.component=E;const y=E.vnode.props;E.vnode=M,E.next=null,uu(E,M.props,y,H),mu(E,M.children,H),St(),qa(E),At()},ee=(E,M,H,y,A,X,g,_,C=!1)=>{const N=E&&E.children,R=E?E.shapeFlag:0,x=M.children,{patchFlag:B,shapeFlag:P}=M;if(B>0){if(B&128){re(N,x,H,y,A,X,g,_,C);return}else if(B&256){Z(N,x,H,y,A,X,g,_,C);return}}P&8?(R&16&&ce(N,A,X),x!==N&&f(H,x)):R&16?P&16?re(N,x,H,y,A,X,g,_,C):ce(N,A,X,!0):(R&8&&f(H,""),P&16&&de(x,H,y,A,X,g,_,C))},Z=(E,M,H,y,A,X,g,_,C)=>{E=E||tn,M=M||tn;const N=E.length,R=M.length,x=Math.min(N,R);let B;for(B=0;B<x;B++){const P=M[B]=C?Bt(M[B]):yt(M[B]);w(E[B],P,H,null,A,X,g,_,C)}N>R?ce(E,A,X,!0,!1,x):de(M,H,y,A,X,g,_,C,x)},re=(E,M,H,y,A,X,g,_,C)=>{let N=0;const R=M.length;let x=E.length-1,B=R-1;for(;N<=x&&N<=B;){const P=E[N],ie=M[N]=C?Bt(M[N]):yt(M[N]);if(Mn(P,ie))w(P,ie,H,null,A,X,g,_,C);else break;N++}for(;N<=x&&N<=B;){const P=E[x],ie=M[B]=C?Bt(M[B]):yt(M[B]);if(Mn(P,ie))w(P,ie,H,null,A,X,g,_,C);else break;x--,B--}if(N>x){if(N<=B){const P=B+1,ie=P<R?M[P].el:y;for(;N<=B;)w(null,M[N]=C?Bt(M[N]):yt(M[N]),H,ie,A,X,g,_,C),N++}}else if(N>B)for(;N<=x;)q(E[N],A,X,!0),N++;else{const P=N,ie=N,ue=new Map;for(N=ie;N<=B;N++){const Ve=M[N]=C?Bt(M[N]):yt(M[N]);Ve.key!=null&&ue.set(Ve.key,N)}let me,be=0;const xe=B-ie+1;let De=!1,tt=0;const vt=new Array(xe);for(N=0;N<xe;N++)vt[N]=0;for(N=P;N<=x;N++){const Ve=E[N];if(be>=xe){q(Ve,A,X,!0);continue}let Ge;if(Ve.key!=null)Ge=ue.get(Ve.key);else for(me=ie;me<=B;me++)if(vt[me-ie]===0&&Mn(Ve,M[me])){Ge=me;break}Ge===void 0?q(Ve,A,X,!0):(vt[Ge-ie]=N+1,Ge>=tt?tt=Ge:De=!0,w(Ve,M[Ge],H,null,A,X,g,_,C),be++)}const at=De?Cu(vt):tn;for(me=at.length-1,N=xe-1;N>=0;N--){const Ve=ie+N,Ge=M[Ve],Nt=M[Ve+1],Pt=Ve+1<R?Nt.el||Nt.placeholder:y;vt[N]===0?w(null,Ge,H,Pt,A,X,g,_,C):De&&(me<0||N!==at[me]?F(Ge,H,Pt,2):me--)}}},F=(E,M,H,y,A=null)=>{const{el:X,type:g,transition:_,children:C,shapeFlag:N}=E;if(N&6){F(E.component.subTree,M,H,y);return}if(N&128){E.suspense.move(M,H,y);return}if(N&64){g.move(E,M,H,Pe);return}if(g===Ce){i(X,M,H);for(let x=0;x<C.length;x++)F(C[x],M,H,y);i(E.anchor,M,H);return}if(g===ps){U(E,M,H);return}if(y!==2&&N&1&&_)if(y===0)_.beforeEnter(X),i(X,M,H),rt(()=>_.enter(X),A);else{const{leave:x,delayLeave:B,afterLeave:P}=_,ie=()=>{E.ctx.isUnmounted?n(X):i(X,M,H)},ue=()=>{X._isLeaving&&X[Gd](!0),x(X,()=>{ie(),P&&P()})};B?B(X,ie,ue):ue()}else i(X,M,H)},q=(E,M,H,y=!1,A=!1)=>{const{type:X,props:g,ref:_,children:C,dynamicChildren:N,shapeFlag:R,patchFlag:x,dirs:B,cacheIndex:P}=E;if(x===-2&&(A=!1),_!=null&&(St(),On(_,null,H,E,!0),At()),P!=null&&(M.renderCache[P]=void 0),R&256){M.ctx.deactivate(E);return}const ie=R&1&&B,ue=!dn(E);let me;if(ue&&(me=g&&g.onVnodeBeforeUnmount)&&Rt(me,M,E),R&6)_e(E.component,H,y);else{if(R&128){E.suspense.unmount(H,y);return}ie&&Wt(E,null,M,"beforeUnmount"),R&64?E.type.remove(E,M,H,Pe,y):N&&!N.hasOnce&&(X!==Ce||x>0&&x&64)?ce(N,M,H,!1,!0):(X===Ce&&x&384||!A&&R&16)&&ce(C,M,H),y&&te(E)}(ue&&(me=g&&g.onVnodeUnmounted)||ie)&&rt(()=>{me&&Rt(me,M,E),ie&&Wt(E,null,M,"unmounted")},H)},te=E=>{const{type:M,el:H,anchor:y,transition:A}=E;if(M===Ce){le(H,y);return}if(M===ps){G(E);return}const X=()=>{n(H),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(E.shapeFlag&1&&A&&!A.persisted){const{leave:g,delayLeave:_}=A,C=()=>g(H,X);_?_(E.el,X,C):C()}else X()},le=(E,M)=>{let H;for(;E!==M;)H=h(E),n(E),E=H;n(M)},_e=(E,M,H)=>{const{bum:y,scope:A,job:X,subTree:g,um:_,m:C,a:N}=E;Oi(C),Oi(N),y&&Kn(y),A.stop(),X&&(X.flags|=8,q(g,E,M,H)),_&&rt(_,M),rt(()=>{E.isUnmounted=!0},M)},ce=(E,M,H,y=!1,A=!1,X=0)=>{for(let g=X;g<E.length;g++)q(E[g],M,H,y,A)},he=E=>{if(E.shapeFlag&6)return he(E.component.subTree);if(E.shapeFlag&128)return E.suspense.next();const M=h(E.anchor||E.el),H=M&&M[Xd];return H?h(H):M};let Oe=!1;const Te=(E,M,H)=>{E==null?M._vnode&&q(M._vnode,null,null,!0):w(M._vnode||null,E,M,null,null,null,H),M._vnode=E,Oe||(Oe=!0,qa(),za(),Oe=!1)},Pe={p:w,um:q,m:F,r:te,mt:b,mc:de,pc:ee,pbc:W,n:he,o:e};return{render:Te,hydrate:void 0,createApp:lu(Te)}}function ea({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Eu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function yi(e,t,s=!1){const i=e.children,n=t.children;if(Ee(i)&&Ee(n))for(let o=0;o<i.length;o++){const c=i[o];let u=n[o];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[o]=Bt(n[o]),u.el=c.el),!s&&u.patchFlag!==-2&&yi(c,u)),u.type===us&&u.patchFlag!==-1&&(u.el=c.el),u.type===Lt&&!u.el&&(u.el=c.el)}}function Cu(e){const t=e.slice(),s=[0];let i,n,o,c,u;const p=e.length;for(i=0;i<p;i++){const m=e[i];if(m!==0){if(n=s[s.length-1],e[n]<m){t[i]=n,s.push(i);continue}for(o=0,c=s.length-1;o<c;)u=o+c>>1,e[s[u]]<m?o=u+1:c=u;m<e[s[o]]&&(o>0&&(t[i]=s[o-1]),s[o]=i)}}for(o=s.length,c=s[o-1];o-- >0;)s[o]=c,c=t[c];return s}function Ri(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ri(t)}function Oi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Su=Symbol.for("v-scx"),Au=()=>cs(Su);function Ye(e,t,s){return xi(e,t,s)}function xi(e,t,s=$e){const{immediate:i,deep:n,flush:o,once:c}=s,u=ze({},s),p=t&&i||!t&&o!=="post";let m;if(kn){if(o==="sync"){const I=Au();m=I.__watcherHandles||(I.__watcherHandles=[])}else if(!p){const I=()=>{};return I.stop=Ct,I.resume=Ct,I.pause=Ct,I}}const f=et;u.call=(I,V,w)=>bt(I,f,V,w);let l=!1;o==="post"?u.scheduler=I=>{rt(I,f&&f.suspense)}:o!=="sync"&&(l=!0,u.scheduler=(I,V)=>{V?I():Bs(I)}),u.augmentJob=I=>{t&&(I.flags|=4),l&&(I.flags|=2,f&&(I.id=f.uid,I.i=f))};const h=Id(e,t,u);return kn&&(m?m.push(h):p&&h()),h}function bu(e,t,s){const i=this.proxy,n=Fe(e)?e.includes(".")?vi(i,e):()=>i[e]:e.bind(i,i);let o;Ae(t)?o=t:(o=t.handler,s=t);const c=In(this),u=xi(n,o.bind(i),s);return c(),u}function vi(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const Tu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Xt(t)}Modifiers`]||e[`${Ft(t)}Modifiers`];function yu(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||$e;let n=s;const o=t.startsWith("update:"),c=o&&Tu(i,t.slice(7));c&&(c.trim&&(n=s.map(f=>Fe(f)?f.trim():f)),c.number&&(n=s.map(jn)));let u,p=i[u=vs(t)]||i[u=vs(Xt(t))];!p&&o&&(p=i[u=vs(Ft(t))]),p&&bt(p,e,6,n);const m=i[u+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,bt(m,e,6,n)}}const Ru=new WeakMap;function Ni(e,t,s=!1){const i=s?Ru:t.emitsCache,n=i.get(e);if(n!==void 0)return n;const o=e.emits;let c={},u=!1;if(!Ae(e)){const p=m=>{const f=Ni(m,t,!0);f&&(u=!0,ze(c,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!o&&!u?(we(e)&&i.set(e,null),null):(Ee(o)?o.forEach(p=>c[p]=null):ze(c,o),we(e)&&i.set(e,c),c)}function ds(e,t){return!e||!Hn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,Ft(t))||Ne(e,t))}function K1(){}function Pi(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[o],slots:c,attrs:u,emit:p,render:m,renderCache:f,props:l,data:h,setupState:I,ctx:V,inheritAttrs:w}=e,K=is(e);let L,$;try{if(s.shapeFlag&4){const G=n||i,Y=G;L=yt(m.call(Y,G,f,l,I,h,V)),$=u}else{const G=t;L=yt(G.length>1?G(l,{attrs:u,slots:c,emit:p}):G(l,null)),$=t.props?u:Ou(u)}}catch(G){Nn.length=0,ss(G,e,1),L=He(Lt)}let U=L;if($&&w!==!1){const G=Object.keys($),{shapeFlag:Y}=U;G.length&&Y&7&&(o&&G.some(Rs)&&($=xu($,o)),U=pn(U,$,!1,!0))}return s.dirs&&(U=pn(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&Ks(U,s.transition),L=U,is(K),L}const Ou=e=>{let t;for(const s in e)(s==="class"||s==="style"||Hn(s))&&((t||(t={}))[s]=e[s]);return t},xu=(e,t)=>{const s={};for(const i in e)(!Rs(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function vu(e,t,s){const{props:i,children:n,component:o}=e,{props:c,children:u,patchFlag:p}=t,m=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return i?Mi(i,c,m):!!c;if(p&8){const f=t.dynamicProps;for(let l=0;l<f.length;l++){const h=f[l];if(c[h]!==i[h]&&!ds(m,h))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:i===c?!1:i?c?Mi(i,c,m):!0:!!c;return!1}function Mi(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const o=i[n];if(t[o]!==e[o]&&!ds(s,o))return!0}return!1}function Nu({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ii=e=>e.__isSuspense;function Pu(e,t){t&&t.pendingBranch?Ee(e)?t.effects.push(...e):t.effects.push(e):Yd(e)}const Ce=Symbol.for("v-fgt"),us=Symbol.for("v-txt"),Lt=Symbol.for("v-cmt"),ps=Symbol.for("v-stc"),Nn=[];let lt=null;function T(e=!1){Nn.push(lt=e?null:[])}function Mu(){Nn.pop(),lt=Nn[Nn.length-1]||null}let Pn=1;function ki(e,t=!1){Pn+=e,e<0&&lt&&t&&(lt.hasOnce=!0)}function $i(e){return e.dynamicChildren=Pn>0?lt||tn:null,Mu(),Pn>0&&lt&&lt.push(e),e}function v(e,t,s,i,n,o){return $i(a(e,t,s,i,n,o,!0))}function st(e,t,s,i,n){return $i(He(e,t,s,i,n,!0))}function ta(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const wi=({key:e})=>e!=null?e:null,_s=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Fe(e)||je(e)||Ae(e)?{i:qe,r:e,k:t,f:!!s}:e:null);function a(e,t=null,s=null,i=0,n=null,o=e===Ce?0:1,c=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wi(t),ref:t&&_s(t),scopeId:Za,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return u?(na(p,s),o&128&&e.normalize(p)):s&&(p.shapeFlag|=Fe(s)?8:16),Pn>0&&!c&&lt&&(p.patchFlag>0||o&6)&&p.patchFlag!==32&&lt.push(p),p}const He=Iu;function Iu(e,t=null,s=null,i=0,n=null,o=!1){if((!e||e===Zd)&&(e=Lt),ta(e)){const u=pn(e,t,!0);return s&&na(u,s),Pn>0&&!o&&lt&&(u.shapeFlag&6?lt[lt.indexOf(e)]=u:lt.push(u)),u.patchFlag=-2,u}if(ju(e)&&(e=e.__vccOpts),t){t=ku(t);let{class:u,style:p}=t;u&&!Fe(u)&&(t.class=Me(u)),we(p)&&(Vs(p)&&!Ee(p)&&(p=ze({},p)),t.style=Mt(p))}const c=Fe(e)?1:Ii(e)?128:Fd(e)?64:we(e)?4:Ae(e)?2:0;return a(e,t,s,i,n,c,o,!0)}function ku(e){return e?Vs(e)||gi(e)?ze({},e):e:null}function pn(e,t,s=!1,i=!1){const{props:n,ref:o,patchFlag:c,children:u,transition:p}=e,m=t?wu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&wi(m),ref:t&&t.ref?s&&o?Ee(o)?o.concat(_s(t)):[o,_s(t)]:_s(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&pn(e.ssContent),ssFallback:e.ssFallback&&pn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&i&&Ks(f,p.clone(f)),f}function ye(e=" ",t=0){return He(us,null,e,t)}function $u(e,t){const s=He(ps,null,e);return s.staticCount=t,s}function oe(e="",t=!1){return t?(T(),st(Lt,null,e)):He(Lt,null,e)}function yt(e){return e==null||typeof e=="boolean"?He(Lt):Ee(e)?He(Ce,null,e.slice()):ta(e)?Bt(e):He(us,null,String(e))}function Bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:pn(e)}function na(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ee(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),na(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!gi(t)?t._ctx=qe:n===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ae(t)?(t={default:t,_ctx:qe},s=32):(t=String(t),i&64?(s=16,t=[ye(t)]):s=8);e.children=t,e.shapeFlag|=s}function wu(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Me([t.class,i.class]));else if(n==="style")t.style=Mt([t.style,i.style]);else if(Hn(n)){const o=t[n],c=i[n];c&&o!==c&&!(Ee(o)&&o.includes(c))&&(t[n]=o?[].concat(o,c):c)}else n!==""&&(t[n]=i[n])}return t}function Rt(e,t,s,i=null){bt(e,t,7,[s,i])}const Lu=fi();let Du=0;function Uu(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||Lu,o={uid:Du++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ad(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ci(i,n),emitsOptions:Ni(i,n),emit:null,emitted:null,propsDefaults:$e,inheritAttrs:i.inheritAttrs,ctx:$e,data:$e,props:$e,attrs:$e,slots:$e,refs:$e,setupState:$e,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=yu.bind(null,o),e.ce&&e.ce(o),o}let et=null;const Yu=()=>et||qe;let fs,sa;{const e=Jn(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),o=>{n.length>1?n.forEach(c=>c(o)):n[0](o)}};fs=t("__VUE_INSTANCE_SETTERS__",s=>et=s),sa=t("__VUE_SSR_SETTERS__",s=>kn=s)}const In=e=>{const t=et;return fs(e),e.scope.on(),()=>{e.scope.off(),fs(t)}},Li=()=>{et&&et.scope.off(),fs(null)};function Di(e){return e.vnode.shapeFlag&4}let kn=!1;function Xu(e,t=!1,s=!1){t&&sa(t);const{props:i,children:n}=e.vnode,o=Di(e);du(e,i,o,t),fu(e,n,s||t);const c=o?Fu(e,t):void 0;return t&&sa(!1),c}function Fu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,tu);const{setup:i}=s;if(i){St();const n=e.setupContext=i.length>1?Vu(e):null,o=In(e),c=rn(i,e,0,[e.props,n]),u=Ea(c);if(At(),o(),(u||e.sp)&&!dn(e)&&ti(e),u){if(c.then(Li,Li),t)return c.then(p=>{Ui(e,p)}).catch(p=>{ss(p,e,0)});e.asyncDep=c}else Ui(e,c)}else Yi(e)}function Ui(e,t,s){Ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=Ba(t)),Yi(e)}function Yi(e,t,s){const i=e.type;e.render||(e.render=i.render||Ct);{const n=In(e);St();try{nu(e)}finally{At(),n()}}}const Gu={get(e,t){return We(e,"get",""),e[t]}};function Vu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Gu),slots:e.slots,emit:e.emit,expose:t}}function ms(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ba(Rd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in xn)return xn[s](e)},has(t,s){return s in t||s in xn}})):e.proxy}const Hu=/(?:^|[-_])\w/g,Bu=e=>e.replace(Hu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Ku(e,t=!0){return Ae(e)?e.displayName||e.name:e.name||t&&e.__name}function Xi(e,t,s=!1){let i=Ku(t);if(!i&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(i=n[1])}if(!i&&e&&e.parent){const n=o=>{for(const c in o)if(o[c]===t)return c};i=n(e.components||e.parent.type.components)||n(e.appContext.components)}return i?Bu(i):s?"App":"Anonymous"}function ju(e){return Ae(e)&&"__vccOpts"in e}const fe=(e,t)=>Pd(e,t,kn),Ju="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let aa;const Fi=typeof window!="undefined"&&window.trustedTypes;if(Fi)try{aa=Fi.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Gi=aa?e=>aa.createHTML(e):e=>e,Wu="http://www.w3.org/2000/svg",qu="http://www.w3.org/1998/Math/MathML",Dt=typeof document!="undefined"?document:null,Vi=Dt&&Dt.createElement("template"),zu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Dt.createElementNS(Wu,e):t==="mathml"?Dt.createElementNS(qu,e):s?Dt.createElement(e,{is:s}):Dt.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Dt.createTextNode(e),createComment:e=>Dt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Dt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,o){const c=s?s.previousSibling:t.lastChild;if(n&&(n===o||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===o||!(n=n.nextSibling)););else{Vi.innerHTML=Gi(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const u=Vi.content;if(i==="svg"||i==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[c?c.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Qu=Symbol("_vtc");function Zu(e,t,s){const i=e[Qu];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const hs=Symbol("_vod"),Hi=Symbol("_vsh"),ep={name:"show",beforeMount(e,{value:t},{transition:s}){e[hs]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):$n(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),$n(e,!0),i.enter(e)):i.leave(e,()=>{$n(e,!1)}):$n(e,t))},beforeUnmount(e,{value:t}){$n(e,t)}};function $n(e,t){e.style.display=t?e[hs]:"none",e[Hi]=!t}const tp=Symbol(""),np=/(?:^|;)\s*display\s*:/;function sp(e,t,s){const i=e.style,n=Fe(s);let o=!1;if(s&&!n){if(t)if(Fe(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();s[u]==null&&gs(i,u,"")}else for(const c in t)s[c]==null&&gs(i,c,"");for(const c in s)c==="display"&&(o=!0),gs(i,c,s[c])}else if(n){if(t!==s){const c=i[tp];c&&(s+=";"+c),i.cssText=s,o=np.test(s)}}else t&&e.removeAttribute("style");hs in e&&(e[hs]=o?i.display:"",e[Hi]&&(i.display="none"))}const Bi=/\s*!important$/;function gs(e,t,s){if(Ee(s))s.forEach(i=>gs(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=ap(e,t);Bi.test(s)?e.setProperty(Ft(i),s.replace(Bi,""),"important"):e[i]=s}}const Ki=["Webkit","Moz","ms"],ia={};function ap(e,t){const s=ia[t];if(s)return s;let i=Xt(t);if(i!=="filter"&&i in e)return ia[t]=i;i=Aa(i);for(let n=0;n<Ki.length;n++){const o=Ki[n]+i;if(o in e)return ia[t]=o}return t}const ji="http://www.w3.org/1999/xlink";function Ji(e,t,s,i,n,o=nd(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ji,t.slice(6,t.length)):e.setAttributeNS(ji,t,s):s==null||o&&!ya(s)?e.removeAttribute(t):e.setAttribute(t,o?"":ft(s)?String(s):s)}function Wi(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Gi(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const u=o==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let c=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=ya(s):s==null&&u==="string"?(s="",c=!0):u==="number"&&(s=0,c=!0)}try{e[t]=s}catch(u){}c&&e.removeAttribute(n||t)}function Kt(e,t,s,i){e.addEventListener(t,s,i)}function ip(e,t,s,i){e.removeEventListener(t,s,i)}const qi=Symbol("_vei");function op(e,t,s,i,n=null){const o=e[qi]||(e[qi]={}),c=o[t];if(i&&c)c.value=i;else{const[u,p]=rp(t);if(i){const m=o[t]=dp(i,n);Kt(e,u,m,p)}else c&&(ip(e,u,c,p),o[t]=void 0)}}const zi=/(?:Once|Passive|Capture)$/;function rp(e){let t;if(zi.test(e)){t={};let i;for(;i=e.match(zi);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ft(e.slice(2)),t]}let oa=0;const lp=Promise.resolve(),cp=()=>oa||(lp.then(()=>oa=0),oa=Date.now());function dp(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;bt(up(i,s.value),t,5,[i])};return s.value=e,s.attached=cp(),s}function up(e,t){if(Ee(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Qi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,pp=(e,t,s,i,n,o)=>{const c=n==="svg";t==="class"?Zu(e,i,c):t==="style"?sp(e,s,i):Hn(t)?Rs(t)||op(e,t,s,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_p(e,t,i,c))?(Wi(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ji(e,t,i,c,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Fe(i))?Wi(e,Xt(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Ji(e,t,i,c))};function _p(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Qi(t)&&Ae(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Qi(t)&&Fe(s)?!1:t in e}const _n=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ee(t)?s=>Kn(t,s):t};function fp(e){e.target.composing=!0}function Zi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ut=Symbol("_assign"),pe={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[Ut]=_n(n);const o=i||n.props&&n.props.type==="number";Kt(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;s&&(u=u.trim()),o&&(u=jn(u)),e[Ut](u)}),s&&Kt(e,"change",()=>{e.value=e.value.trim()}),t||(Kt(e,"compositionstart",fp),Kt(e,"compositionend",Zi),Kt(e,"change",Zi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:i,trim:n,number:o}},c){if(e[Ut]=_n(c),e.composing)return;const u=(o||e.type==="number")&&!/^0\d/.test(e.value)?jn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(i&&t===s||n&&e.value.trim()===p)||(e.value=p))}},ct={deep:!0,created(e,t,s){e[Ut]=_n(s),Kt(e,"change",()=>{const i=e._modelValue,n=wn(e),o=e.checked,c=e[Ut];if(Ee(i)){const u=Ns(i,n),p=u!==-1;if(o&&!p)c(i.concat(n));else if(!o&&p){const m=[...i];m.splice(u,1),c(m)}}else if(sn(i)){const u=new Set(i);o?u.add(n):u.delete(n),c(u)}else c(no(e,o))})},mounted:eo,beforeUpdate(e,t,s){e[Ut]=_n(s),eo(e,t,s)}};function eo(e,{value:t,oldValue:s},i){e._modelValue=t;let n;if(Ee(t))n=Ns(t,i.props.value)>-1;else if(sn(t))n=t.has(i.props.value);else{if(t===s)return;n=En(t,no(e,!0))}e.checked!==n&&(e.checked=n)}const _t={deep:!0,created(e,{value:t,modifiers:{number:s}},i){const n=sn(t);Kt(e,"change",()=>{const o=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?jn(wn(c)):wn(c));e[Ut](e.multiple?n?new Set(o):o:o[0]),e._assigning=!0,Ja(()=>{e._assigning=!1})}),e[Ut]=_n(i)},mounted(e,{value:t}){to(e,t)},beforeUpdate(e,t,s){e[Ut]=_n(s)},updated(e,{value:t}){e._assigning||to(e,t)}};function to(e,t){const s=e.multiple,i=Ee(t);if(!(s&&!i&&!sn(t))){for(let n=0,o=e.options.length;n<o;n++){const c=e.options[n],u=wn(c);if(s)if(i){const p=typeof u;p==="string"||p==="number"?c.selected=t.some(m=>String(m)===String(u)):c.selected=Ns(t,u)>-1}else c.selected=t.has(u);else if(En(wn(c),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function wn(e){return"_value"in e?e._value:e.value}function no(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const mp=["ctrl","shift","alt","meta"],hp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>mp.some(s=>e[`${s}Key`]&&!t.includes(s))},ht=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...o)=>{for(let c=0;c<t.length;c++){const u=hp[t[c]];if(u&&u(n,t))return}return e(n,...o)})},gp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),i=t.join(".");return s[i]||(s[i]=n=>{if(!("key"in n))return;const o=Ft(n.key);if(t.some(c=>c===o||gp[c]===o))return e(n)})},Ep=ze({patchProp:pp},zu);let so;function Cp(){return so||(so=hu(Ep))}const Sp=(...e)=>{const t=Cp().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=bp(i);if(!n)return;const o=t._component;!Ae(o)&&!o.render&&!o.template&&(o.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const c=s(n,!1,Ap(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),c},t};function Ap(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function bp(e){return Fe(e)?document.querySelector(e):e}const dt=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},Tp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},yp={key:0,class:"nxp-ec-admin-error"},Rp={class:"nxp-ec-admin-error__title"},Op={class:"nxp-ec-admin-error__body"};function xp(e,t,s,i,n,o){return T(),v("div",null,[n.error?(T(),v("div",yp,[a("h2",Rp,d(o.fallbackTitle),1),a("p",Op,d(o.fallbackMessage),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...c)=>o.reload&&o.reload(...c))},d(o.reloadLabel),1)])):eu(e.$slots,"default",{key:1})])}const vp=dt(Tp,[["render",xp]]),Np={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},Pp={class:"nxp-ec-admin-panel__header"},Mp={class:"nxp-ec-admin-panel__title"},Ip={class:"nxp-ec-admin-panel__lead"},kp={class:"nxp-ec-admin-panel__actions"},$p=["disabled"],wp={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Lp={key:1,class:"nxp-ec-dashboard"},Dp={class:"nxp-ec-dashboard__metrics"},Up={class:"nxp-ec-dashboard__card"},Yp={class:"nxp-ec-dashboard__value"},Xp={class:"nxp-ec-dashboard__hint"},Fp={class:"nxp-ec-dashboard__card"},Gp={class:"nxp-ec-dashboard__value"},Vp={class:"nxp-ec-dashboard__hint"},Hp={class:"nxp-ec-dashboard__card"},Bp={class:"nxp-ec-dashboard__value"},Kp={class:"nxp-ec-dashboard__hint"},jp={class:"nxp-ec-dashboard__card"},Jp={class:"nxp-ec-dashboard__value"},Wp={class:"nxp-ec-dashboard__hint"},qp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},zp={class:"nxp-ec-dashboard__checklist-header"},Qp={id:"dashboard-checklist-heading"},Zp={class:"nxp-ec-dashboard__checklist-progress"},e_={class:"nxp-ec-dashboard__checklist-list"},t_={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},n_={key:0,class:"fa-solid fa-circle-check"},s_={key:1,class:"fa-regular fa-circle"},a_={class:"nxp-ec-dashboard__checklist-label"},i_=["href","title"],o_={class:"nxp-ec-sr-only"},r_=dt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,i=s.translate,n=s.state,o=fe(()=>{var l;const f=(l=n.summary)==null?void 0:l.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),c=(f=0)=>{const l=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:o.value}).format(l)}catch(h){return`${o.value} ${l.toFixed(2)}`}},u=fe(()=>Array.isArray(n.checklist)?n.checklist:[]),p=fe(()=>u.value.filter(f=>f.completed).length),m=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,l)=>(T(),v("section",Np,[a("header",Pp,[a("div",null,[a("h2",Mp,d(r(i)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),a("p",Ip,d(r(i)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),a("div",kp,[a("button",{class:"nxp-ec-btn",type:"button",onClick:l[0]||(l[0]=h=>f.$emit("refresh")),disabled:r(n).loading},d(r(i)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,$p)])]),r(n).error?(T(),v("div",wp,d(r(n).error),1)):(T(),v("div",Lp,[a("div",Dp,[a("article",Up,[a("h3",null,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),a("p",Yp,d(r(n).summary.products.active),1),a("p",Xp,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),a("article",Fp,[a("h3",null,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),a("p",Gp,d(c(r(n).summary.orders.revenue_today)),1),a("p",Vp,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),a("article",Hp,[a("h3",null,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),a("p",Bp,d(r(n).summary.customers.total),1),a("p",Kp,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),a("article",jp,[a("h3",null,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),a("p",Jp,d(c(r(n).summary.orders.revenue_month)),1),a("p",Wp,d(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[o.value.value],"dashboardMetricCurrency")),1)])]),a("section",qp,[a("header",zp,[a("h3",Qp,d(r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),a("span",Zp,d(p.value)+" / "+d(u.value.length),1)]),a("ul",e_,[(T(!0),v(Ce,null,Re(u.value,h=>(T(),v("li",{key:h.id,class:Me({"is-complete":h.completed})},[a("span",t_,[h.completed?(T(),v("span",n_)):(T(),v("span",s_))]),a("span",a_,d(r(i)(h.label,m(h.label))),1),h.link?(T(),v("a",{key:0,href:h.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[l[1]||(l[1]=a("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),a("span",o_,d(r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,i_)):oe("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),l_={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},c_={id:"nxp-ec-products-caption",class:"visually-hidden"},d_={scope:"col"},u_={scope:"col"},p_={scope:"col"},__={scope:"col"},f_={scope:"col"},m_={scope:"col"},h_={scope:"col"},g_={scope:"col"},E_={scope:"col",class:"nxp-ec-admin-table__actions"},C_={key:0},S_={colspan:"8",class:"nxp-ec-admin-table__empty"},A_=["data-label"],b_={class:"nxp-ec-admin-table__primary"},T_={class:"nxp-ec-products-table__title"},y_={class:"nxp-ec-products-table__slug"},R_={key:0,class:"nxp-ec-products-table__badge"},O_={class:"nxp-ec-status nxp-ec-status--featured"},x_=["data-label"],v_={key:0},N_={key:1},P_=["data-label"],M_=["data-label"],I_=["data-label"],k_={key:0},$_={key:1},w_=["data-label"],L_=["disabled","aria-pressed","title","aria-label","onClick"],D_={class:"nxp-ec-sr-only"},U_=["data-label"],Y_={class:"nxp-ec-admin-table__actions"},X_=["onClick","title","aria-label"],F_={class:"nxp-ec-sr-only"},G_=["onClick","title","aria-label"],V_={class:"nxp-ec-sr-only"},ra=1,Ln=-1,la=0,H_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,i=fe(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,l=!1)=>{const h=Number(f);if(Number.isFinite(h))return h===Ln?Ln:h===la?la:ra;if(l)return Ln;if(typeof f=="string"){const I=f.trim().toLowerCase();if(I==="out_of_stock"||I==="out-of-stock"||I==="-1")return Ln;if(I==="inactive"||I==="0")return la}return ra},o=f=>{var V;const l=n((V=f==null?void 0:f.status)!=null?V:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),h=l===ra,I=l===Ln;return{status:l,isActive:h,isOutOfStock:I,label:h?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):I?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:h?"nxp-ec-status--active":I?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:h?"fa-solid fa-circle-check":I?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},c=f=>{var w,K,L,$;const l=(K=(w=f==null?void 0:f.summary)==null?void 0:w.variants)!=null?K:{};if(l.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const h=Number.isFinite(l.price_min_cents)?l.price_min_cents:null,I=Number.isFinite(l.price_max_cents)?l.price_max_cents:null;if(h===null)return"";const V=l.currency||(($=(L=f==null?void 0:f.variants)==null?void 0:L[0])==null?void 0:$.currency)||i.value;return I===null||I===h?m(h,V):`${m(h,V)}  ${m(I,V)}`},u=f=>{var I,V;const l=(V=(I=f==null?void 0:f.summary)==null?void 0:I.variants)!=null?V:{},h=Number.isFinite(l.count)?l.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return h===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(h)])},p=f=>{if(!Array.isArray(f)||!f.length)return"";const l=f.map(V=>(V==null?void 0:V.title)||(V==null?void 0:V.slug)).filter(V=>!!V);if(!l.length)return"";if(l.length<=3)return l.join(", ");const h=l.slice(0,3).join(", "),I=l.length-3;return`${h} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(I)])}`},m=(f,l)=>`${(f/100).toFixed(2)} ${l}`;return(f,l)=>(T(),v("table",l_,[a("caption",c_,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),a("thead",null,[a("tr",null,[a("th",d_,d(r(s)("JGRID_HEADING_ID","ID")),1),a("th",u_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),a("th",p_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),a("th",__,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),a("th",f_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),a("th",m_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),a("th",h_,d(r(s)("JSTATUS","Status")),1),a("th",g_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),a("th",E_,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),a("tbody",null,[e.items.length?oe("",!0):(T(),v("tr",C_,[a("td",S_,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(T(!0),v(Ce,null,Re(e.items,h=>{var I,V,w,K,L,$,U,G,Y,O,ne,de;return T(),v("tr",{key:h.id},[a("td",{"data-label":r(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},d(h.id),9,A_),a("td",b_,[a("div",T_,d(h.title),1),a("div",y_,d(h.slug),1),h.featured?(T(),v("div",R_,[a("span",O_,[l[0]||(l[0]=a("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),ye(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):oe("",!0)]),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[c(h)?(T(),v("span",v_,d(c(h)),1)):(T(),v("span",N_,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,x_),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},d(u(h)),9,P_),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[a("span",{class:Me(["nxp-ec-status",(V=(I=h.summary)==null?void 0:I.variants)!=null&&V.stock_zero?"nxp-ec-status--danger":(K=(w=h.summary)==null?void 0:w.variants)!=null&&K.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[($=(L=h.summary)==null?void 0:L.variants)!=null&&$.stock_zero||((G=(U=h.summary)==null?void 0:U.variants)==null?void 0:G.stock_total)===0?(T(),v(Ce,{key:0},[ye(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(T(),v(Ce,{key:1},[ye(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ne=(O=(Y=h.summary)==null?void 0:Y.variants)==null?void 0:O.stock_total)!=null?ne:0)])),1)],64))],2)],8,M_),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(de=h.categories)!=null&&de.length?(T(),v("span",k_,d(p(h.categories)),1)):(T(),v("span",$_,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,I_),a("td",{"data-label":r(s)("JSTATUS","Status")},[a("button",{type:"button",class:Me(["nxp-ec-status","nxp-ec-status-button",o(h).className]),disabled:e.saving,"aria-pressed":o(h).isActive?"true":"false",title:o(h).title,"aria-label":o(h).title,onClick:ge=>f.$emit("toggle-active",h)},[a("i",{class:Me(o(h).icon),"aria-hidden":"true"},null,2),ye(" "+d(o(h).label)+" ",1),a("span",D_,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,L_)],8,w_),a("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},d(h.modified||h.created),9,U_),a("td",Y_,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("edit",h),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[l[1]||(l[1]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",F_,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,X_),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("delete",h),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[l[2]||(l[2]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",V_,d(r(s)("JTRASH","Delete")),1)],8,G_)])])}),128))])]))}},B_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},K_={class:"nxp-ec-modal__dialog"},j_={class:"nxp-ec-modal__header"},J_={class:"nxp-ec-modal__title"},W_={class:"nxp-ec-modal__header-actions"},q_=["disabled","title","aria-label"],z_={class:"nxp-ec-sr-only"},Q_=["disabled","title","aria-label"],Z_={class:"nxp-ec-sr-only"},ef=["title","aria-label"],tf={class:"nxp-ec-sr-only"},nf={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},sf={class:"nxp-ec-form-field"},af={class:"nxp-ec-form-label",for:"product-title"},of={class:"nxp-ec-form-field"},rf={class:"nxp-ec-form-label",for:"product-slug"},lf=["placeholder"],cf={class:"nxp-ec-form-field"},df={class:"nxp-ec-form-label",for:"product-short-desc"},uf={class:"nxp-ec-form-field"},pf={class:"nxp-ec-form-label",for:"product-long-desc"},_f={class:"nxp-ec-form-field"},ff={class:"nxp-ec-form-label",for:"product-status"},mf={value:1},hf={value:-1},gf={value:0},Ef={class:"nxp-ec-form-help"},Cf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Sf={class:"nxp-ec-form-label",for:"product-featured"},Af={class:"nxp-ec-form-help"},bf={class:"nxp-ec-form-field"},Tf={class:"nxp-ec-form-label",for:"product-images"},yf={id:"product-images",class:"nxp-ec-image-list"},Rf=["id","onUpdate:modelValue","placeholder"],Of={class:"nxp-ec-image-row__actions"},xf=["onClick"],vf=["onClick","disabled"],Nf=["onClick","disabled"],Pf=["onClick","aria-label"],Mf={class:"nxp-ec-form-help"},If={class:"nxp-ec-form-field"},kf={class:"nxp-ec-form-label",for:"product-category-select"},$f=["value"],wf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},Lf=["onClick","aria-label"],Df={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},Uf=["onKeydown","placeholder"],Yf={class:"nxp-ec-form-help"},Xf={class:"nxp-ec-variant-section"},Ff={class:"nxp-ec-variant-section__header"},Gf={class:"nxp-ec-variant-section__title"},Vf={class:"nxp-ec-form-help"},Hf={class:"nxp-ec-variant-card__header"},Bf={class:"nxp-ec-variant-card__title"},Kf=["onClick"],jf=["onClick","disabled"],Jf={class:"nxp-ec-variant-card__grid"},Wf={class:"nxp-ec-form-field"},qf=["for"],zf=["id","onUpdate:modelValue"],Qf={class:"nxp-ec-form-field"},Zf=["for"],em=["id","onUpdate:modelValue","onBlur"],tm={class:"nxp-ec-form-field"},nm=["for"],sm=["id","onUpdate:modelValue"],am={class:"nxp-ec-form-field"},im=["for"],om=["id","onUpdate:modelValue"],rm={class:"nxp-ec-form-field nxp-ec-form-field--inline"},lm=["for"],cm=["id","onUpdate:modelValue"],dm={class:"nxp-ec-variant-options"},um={class:"nxp-ec-variant-options__header"},pm={class:"nxp-ec-variant-options__title"},_m=["onClick"],fm={class:"nxp-ec-form-help"},mm=["id","onUpdate:modelValue","placeholder"],hm=["id","onUpdate:modelValue","placeholder"],gm=["onClick","aria-label"],Em={class:"nxp-ec-modal__actions"},Cm=["disabled"],Sm=["disabled"],ao="product-editor-form",Am=dt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=fe(()=>(s.baseCurrency||"USD").toUpperCase()),c=g=>{var _,C,N,R,x,B,P,ie;if(g==null)return null;if(typeof g=="string"){const ue=g.trim();return ue===""?null:{id:0,title:ue,slug:""}}if(typeof g=="object"){const ue=Number.parseInt((C=(_=g.id)!=null?_:g.value)!=null?C:0,10)||0,me=(P=(B=(x=(R=(N=g.title)!=null?N:g.name)!=null?R:g.text)!=null?x:g.label)!=null?B:g.slug)!=null?P:"",be=String(me!=null?me:"").trim(),xe=String((ie=g.slug)!=null?ie:"").trim(),De=g.parent_id!==null&&g.parent_id!==void 0&&Number.parseInt(g.parent_id,10)||null;return ue<=0&&be===""?null:{id:ue>0?ue:0,title:be!==""?be:xe,slug:xe,parent_id:De}}return null},u=g=>{const _=Number(g);if(Number.isFinite(_))return _===-1?-1:_===0?0:1;if(typeof g=="string"){const C=g.trim().toLowerCase();if(C==="out_of_stock"||C==="out-of-stock"||C==="-1")return-1;if(C==="inactive"||C==="0")return 0}return 1},p=Ie({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),m=Xe(""),f=Xe(!1),l=(g,_,C=new Set)=>{if(!g||C.has(g))return 0;C.add(g);const N=_.find(R=>R.id===g);return!N||!N.parent_id?0:1+l(N.parent_id,_,C)},h=g=>{if(!g)return"";const _=Array.isArray(s.categoryOptions)?s.categoryOptions:[],C=l(g.id,_);return C===0?g.title:"".repeat(C)+" "+g.title},I=fe(()=>{const _=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(c).filter(x=>x&&x.id>0&&x.title!==""),C=new Map;_.forEach(x=>{C.set(x.id,x)}),p.categories.forEach(x=>{var B;x.id>0&&x.title&&!C.has(x.id)&&C.set(x.id,{id:x.id,title:x.title,slug:(B=x.slug)!=null?B:"",parent_id:x.parent_id!==null&&x.parent_id!==void 0?x.parent_id:null})});const N=Array.from(C.values()),R=(x=null,B=0)=>N.filter(P=>P.parent_id===x).sort((P,ie)=>P.title.localeCompare(ie.title)).flatMap(P=>[P,...R(P.id,B+1)]);return R()}),V=fe(()=>{const g=new Map;return I.value.forEach(_=>{var C;g.set(_.id,{title:_.title,slug:(C=_.slug)!=null?C:""})}),g}),w=fe({get:()=>p.categories.filter(_=>_&&_.id>0).map(_=>_.id),set:g=>{const _=Array.isArray(g)?g:[],C=Array.from(new Set(_.map(x=>Number.parseInt(x!=null?x:0,10)||0).filter(x=>x>0))),N=p.categories.filter(x=>!(x.id>0)),R=C.map(x=>{const B=V.value.get(x),P=p.categories.find(me=>me.id===x),ie=(B==null?void 0:B.title)||(P==null?void 0:P.title)||"",ue=(B==null?void 0:B.slug)||(P==null?void 0:P.slug)||"";return ie===""?null:{id:x,title:ie,slug:ue}}).filter(x=>x!==null);p.categories.splice(0,p.categories.length,...R,...N)}}),K=fe(()=>s.product&&s.product.id?"edit":"create"),L=()=>({id:0,sku:"",price:"",currency:o.value,stock:0,weight:"",active:!0,options:[]}),$=()=>({name:"",value:""}),U=g=>g?g.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",G=()=>{f.value=!0,p.slug=U(p.slug)},Y=g=>{const C=(Array.isArray(g)?g:[]).map(c).filter(x=>x&&(x.id>0||x.title!=="")),N=new Set,R=[];C.forEach(x=>{const B=x.id>0?`id:${x.id}`:`title:${x.title.toLowerCase()}`;N.has(B)||(N.add(B),R.push(x))}),p.categories.splice(0,p.categories.length,...R)},O=g=>{p.variants.splice(0,p.variants.length,...g)},ne=g=>{p.images.splice(0,p.images.length,...g)},de=g=>Array.isArray(g)?g.map(_=>{var C,N,R;return{name:String((N=(C=_==null?void 0:_.name)!=null?C:_==null?void 0:_.key)!=null?N:"").trim(),value:String((R=_==null?void 0:_.value)!=null?R:"").trim()}}):g&&typeof g=="object"?Object.entries(g).map(([_,C])=>({name:String(_!=null?_:"").trim(),value:String(C!=null?C:"").trim()})):[],ge=g=>!Array.isArray(g)||g.length===0?[L()]:g.map(_=>{var C,N,R,x;return{id:Number.parseInt((C=_==null?void 0:_.id)!=null?C:0,10)||0,sku:String((N=_==null?void 0:_.sku)!=null?N:"").trim(),price:(_==null?void 0:_.price)!=null?String(_.price):Number.isFinite(_==null?void 0:_.price_cents)?(_.price_cents/100).toFixed(2):"",currency:String((R=_==null?void 0:_.currency)!=null?R:o.value).toUpperCase(),stock:Number.parseInt((x=_==null?void 0:_.stock)!=null?x:0,10)||0,weight:(_==null?void 0:_.weight)!=null?String(_.weight):"",active:(_==null?void 0:_.active)!==void 0?!!_.active:!0,options:de(_==null?void 0:_.options)}}),W=g=>{var R,x,B,P;const _=g?JSON.parse(JSON.stringify(g)):{};p.title=(R=_.title)!=null?R:"",p.slug=(x=_.slug)!=null?x:"",p.short_desc=(B=_.short_desc)!=null?B:"",p.long_desc=(P=_.long_desc)!=null?P:"",p.status=u(_.status!==void 0?_.status:_.active),p.featured=_.featured!==void 0?!!_.featured:!1;const C=Array.isArray(_.images)?_.images.map(ie=>String(ie!=null?ie:"").trim()).filter(Boolean):[];ne(C);const N=Array.isArray(_.categories)?_.categories:[];Y(N),m.value="",O(ge(_.variants)),f.value=!!p.slug};Ye(()=>s.product,g=>{W(g)},{immediate:!0}),Ye(()=>p.title,g=>{f.value||(p.slug=U(g))}),Ye(o,g=>{p.variants.forEach(_=>{_.currency=g})});const j=()=>{const g=m.value.trim();if(!g)return;const _=g.toLowerCase(),C=p.categories.slice();C.some(R=>R.title.toLowerCase()===_)||(C.push({id:0,title:g,slug:""}),p.categories.splice(0,p.categories.length,...C)),m.value=""},z=g=>{if(g<0||g>=p.categories.length)return;const _=p.categories.slice();_.splice(g,1),p.categories.splice(0,p.categories.length,..._)},S=()=>{p.variants.push(L())},b=g=>{p.variants.length<=1||p.variants.splice(g,1)},k=g=>{const _=p.variants[g];_&&(Array.isArray(_.options)||(_.options=[]),_.options.push($()))},ae=(g,_)=>{const C=p.variants[g];!C||!Array.isArray(C.options)||C.options.splice(_,1)},J=(g,_)=>`${g.id||"new"}-${_}`,ee=g=>{const _=p.variants[g];if(!_)return;const C=JSON.parse(JSON.stringify(_));C.id=0,C.sku=[C.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),C.active=!0,p.variants.splice(g+1,0,C)},Z=g=>{const _=p.variants[g];if(!_)return;const C=Number.parseFloat(_.price);Number.isNaN(C)||(_.price=C.toFixed(2))};let re=null,F=null,q=null,te=null,le="";const _e=()=>{Array.isArray(p.images)||(p.images=[])},ce=g=>{var R,x,B;if(!g)return"";let _=String(g).trim();if(_==="")return"";try{const P=(B=(x=(R=window.Joomla)==null?void 0:R.getOptions)==null?void 0:x.call(R,"system.paths",{}))!=null?B:{},ie=P.rootFull||window.location.origin,ue=P.root||"/";_.startsWith(ie)&&(_=_.substring(ie.length)),_.startsWith(ue)&&(_=_.substring(ue.length))}catch(P){}const C=_.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);C&&C[1]&&(_=C[1]);const N=_.indexOf("#joomlaImage://");return N!==-1&&(_=_.substring(0,N)),_.trim()},he=(g,{keepIndex:_=!1,appendWhenNoIndex:C=!1,targetIndex:N=null}={})=>{const R=ce(g);if(R==="")return!1;_e();const x=N!==null&&N>=0?N:te;return x==null||Number.isNaN(x)?C?(p.images.push(R),_||(te=null,le=""),!0):!1:(x>=p.images.length?p.images.push(R):p.images[x]=R,le=_?R:"",_||(te=null,le=""),!0)},Oe=()=>{_e(),p.images.push("")},Te=g=>{_e(),p.images.splice(g,1)},Pe=(g,_)=>{_e();const C=p.images[g];if(C===void 0)return;const N=g+_;N<0||N>=p.images.length||(p.images.splice(g,1),p.images.splice(N,0,C))},Be=g=>{var N;_e();const _=(N=p.images[g])!=null?N:"";if(typeof window=="undefined")return;const C=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),_);he(C!=null?C:"",{targetIndex:g})},E=()=>{var x,B,P,ie,ue,me;const g=(s.mediaModalUrl||"").trim();if(g!=="")return g;const _=(P=(B=(x=window.Joomla)==null?void 0:x.getOptions)==null?void 0:B.call(x,"media-picker",{}))!=null?P:{};if(_.modalUrl)return _.modalUrl;const C=(me=(ue=(ie=window.Joomla)==null?void 0:ie.getOptions)==null?void 0:ue.call(ie,"system.paths",{}))!=null?me:{},N=C.rootFull||C.root||"";return(N?N.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},M=async()=>{var P,ie,ue,me,be,xe,De,tt,vt;if(re)return re;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(at){return null}const g=(ue=(ie=(P=window.Joomla)==null?void 0:P.getOptions)==null?void 0:ie.call(P,"system.paths",{}))!=null?ue:{},_=g.rootFull||g.root||"",C=(xe=(be=(me=window.Joomla)==null?void 0:me.getOptions)==null?void 0:be.call(me,"com_media",{}))!=null?xe:{},N=(C==null?void 0:C.file_path)||"images",R=(vt=(tt=(De=window.Joomla)==null?void 0:De.getOptions)==null?void 0:tt.call(De,"media-picker",{}))!=null?vt:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},B=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return F=document.createElement("div"),F.className="nxp-ec-media-picker-host",F.style.display="none",F.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${_.replace(/"/g,"&quot;")}"
            root-folder="${N.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${B}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(R).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(F),re=F.querySelector("joomla-field-media"),q=F.querySelector(".nxp-ec-media-field__input"),re.addEventListener("change",at=>{var Nt,Pt,Qt,mn,As,bs;const Ve=(Qt=(Pt=(Nt=at.detail)==null?void 0:Nt.value)!=null?Pt:q==null?void 0:q.value)!=null?Qt:"";let Ge=ce(Ve);if(Ge===""&&le!==""&&(Ge=le),Ge===""&&((mn=window.Joomla)!=null&&mn.selectedMediaFile)){const ua=ce((As=window.Joomla.selectedMediaFile.url)!=null?As:""),pa=ce((bs=window.Joomla.selectedMediaFile.path)!=null?bs:"");Ge=ua||pa}he(Ge)}),re.addEventListener("joomla-dialog:close",()=>{te=null,le=""}),q&&q.addEventListener("change",()=>{var Ve,Ge,Nt,Pt;if(te===null)return;let at=ce((Ve=q.value)!=null?Ve:"");if(at===""&&le!==""&&(at=le),at===""&&((Ge=window.Joomla)!=null&&Ge.selectedMediaFile)){const Qt=ce((Nt=window.Joomla.selectedMediaFile.url)!=null?Nt:""),mn=ce((Pt=window.Joomla.selectedMediaFile.path)!=null?Pt:"");at=Qt||mn}at!==""&&he(at)}),re},H=g=>{var x,B;const _=g==null?void 0:g.detail;if(!_||typeof _!="object")return;const C=ce((x=_.path)!=null?x:""),R=ce((B=_.url)!=null?B:"")||C;R===""||te===null||(le=R,he(R,{keepIndex:!0}))};ot(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",H)});const y=async g=>{var N;_e();const _=await M();if(!_||typeof _.show!="function"){Be(g);return}te=g,_.setAttribute("url",E());const C=(N=p.images[g])!=null?N:"";typeof _.setValue=="function"?_.setValue(C):q&&(q.value=C);try{_.show()}catch(R){te=null,le="",Be(g)}};ii(()=>{F&&F.parentNode&&F.parentNode.removeChild(F),re=null,F=null,q=null,te=null,le="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",H)});const A=()=>{var x,B;_e();const g=Array.from(new Set(p.images.map(P=>String(P!=null?P:"").trim()).filter(P=>P!==""))),_=p.categories.map(P=>{var be,xe,De;const ie=Number.parseInt((be=P==null?void 0:P.id)!=null?be:0,10)||0,ue=String((xe=P==null?void 0:P.title)!=null?xe:"").trim(),me=String((De=P==null?void 0:P.slug)!=null?De:"").trim();return ie>0?{id:ie,title:ue,slug:me}:ue===""?null:{id:0,title:ue,slug:""}}).filter(P=>P!==null),C=p.variants.map(P=>{const ie=Array.isArray(P.options)?P.options.map(be=>{var xe,De;return{name:String((xe=be==null?void 0:be.name)!=null?xe:"").trim(),value:String((De=be==null?void 0:be.value)!=null?De:"").trim()}}).filter(be=>be.name!==""&&be.value!==""):[],ue=Number.isFinite(Number(P.stock))?Math.max(0,parseInt(P.stock,10)):0,me=P.weight!==null&&P.weight!==""?String(P.weight).trim():null;return{id:P.id||0,sku:P.sku.trim(),price:P.price!==null&&P.price!==void 0?String(P.price).trim():"",currency:P.currency?String(P.currency).trim().toUpperCase():o.value,stock:ue,weight:me,active:!!P.active,options:ie}}),N=u(p.status),R={title:p.title.trim(),slug:p.slug.trim(),short_desc:(x=p.short_desc)!=null?x:"",long_desc:(B=p.long_desc)!=null?B:"",status:N,active:N,featured:!!p.featured,images:g,categories:_,variants:C};i("submit",R)},X=()=>{i("cancel")};return Ye(()=>s.saving,(g,_)=>{_&&!g&&s.errors.length===0&&K.value==="create"&&(W(null),m.value="",f.value=!1)}),(g,_)=>e.open?(T(),v("div",B_,[_[11]||(_[11]=a("div",{class:"nxp-ec-modal__backdrop"},null,-1)),a("div",K_,[a("header",j_,[a("h2",J_,d(K.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),a("div",W_,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:X,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[_[8]||(_[8]=a("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),a("span",z_,d(r(n)("JCANCEL","Cancel")),1)],8,q_),a("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:ao,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[a("i",{class:Me(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),a("span",Z_,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,Q_),a("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:X,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[_[9]||(_[9]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",tf,d(r(n)("JCLOSE","Close")),1)],8,ef)])]),a("form",{id:ao,class:"nxp-ec-form",onSubmit:ht(A,["prevent"])},[e.errors.length?(T(),v("div",nf,[(T(!0),v(Ce,null,Re(e.errors,(C,N)=>(T(),v("p",{key:N},d(C),1))),128))])):oe("",!0),a("div",sf,[a("label",af,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),Q(a("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[0]||(_[0]=C=>p.title=C),required:""},null,512),[[pe,p.title,void 0,{trim:!0}]])]),a("div",of,[a("label",rf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),Q(a("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[1]||(_[1]=C=>p.slug=C),onInput:G,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,lf),[[pe,p.slug,void 0,{trim:!0}]])]),a("div",cf,[a("label",df,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),Q(a("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":_[2]||(_[2]=C=>p.short_desc=C)},null,512),[[pe,p.short_desc]])]),a("div",uf,[a("label",pf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),Q(a("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":_[3]||(_[3]=C=>p.long_desc=C)},null,512),[[pe,p.long_desc]])]),a("div",_f,[a("label",ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),Q(a("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":_[4]||(_[4]=C=>p.status=C)},[a("option",mf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),a("option",hf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),a("option",gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[_t,p.status,void 0,{number:!0}]]),a("p",Ef,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),a("div",Cf,[a("label",Sf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),Q(a("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":_[5]||(_[5]=C=>p.featured=C)},null,512),[[ct,p.featured]]),a("p",Af,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),a("div",bf,[a("label",Tf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),a("div",yf,[(T(!0),v(Ce,null,Re(p.images,(C,N)=>(T(),v("div",{key:`product-image-${N}`,class:"nxp-ec-image-row"},[Q(a("input",{id:`product-image-${N}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R=>p.images[N]=R,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,Rf),[[pe,p.images[N],void 0,{trim:!0}]]),a("div",Of,[a("button",{type:"button",class:"nxp-ec-btn",onClick:R=>y(N)},[_[10]||(_[10]=a("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,xf),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R=>Pe(N,-1),disabled:N===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,vf),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R=>Pe(N,1),disabled:N===p.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,Nf),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:R=>Te(N),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Pf)])]))),128))]),a("button",{type:"button",class:"nxp-ec-btn",onClick:Oe},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),a("p",Mf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),a("div",If,[a("label",kf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),Q(a("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":_[6]||(_[6]=C=>w.value=C)},[(T(!0),v(Ce,null,Re(I.value,C=>(T(),v("option",{key:C.id,value:C.id},d(h(C)),9,$f))),128))],512),[[_t,w.value]]),a("div",wf,[(T(!0),v(Ce,null,Re(p.categories,(C,N)=>(T(),v("span",{key:`selected-category-${N}`,class:"nxp-ec-chip"},[ye(d(C.title)+" ",1),a("button",{type:"button",class:"nxp-ec-chip__remove",onClick:R=>z(N),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,Lf)]))),128))]),a("div",Df,[Q(a("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":_[7]||(_[7]=C=>m.value=C),onKeydown:zt(ht(j,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,Uf),[[pe,m.value]]),a("button",{type:"button",class:"nxp-ec-btn",onClick:j},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),a("p",Yf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),a("section",Xf,[a("header",Ff,[a("h3",Gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),a("button",{type:"button",class:"nxp-ec-btn",onClick:S},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),a("p",Vf,[ye(d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),o.value?(T(),v(Ce,{key:0},[ye(" ("+d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[o.value]))+") ",1)],64)):oe("",!0)]),(T(!0),v(Ce,null,Re(p.variants,(C,N)=>(T(),v("article",{key:J(C,N),class:"nxp-ec-variant-card"},[a("header",Hf,[a("h4",Bf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(N+1)])),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R=>ee(N)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Kf),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:R=>b(N),disabled:p.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,jf)]),a("div",Jf,[a("div",Wf,[a("label",{class:"nxp-ec-form-label",for:`variant-sku-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,qf),Q(a("input",{id:`variant-sku-${N}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R=>C.sku=R,required:""},null,8,zf),[[pe,C.sku,void 0,{trim:!0}]])]),a("div",Qf,[a("label",{class:"nxp-ec-form-label",for:`variant-price-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Zf),Q(a("input",{id:`variant-price-${N}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":R=>C.price=R,onBlur:R=>Z(N),required:""},null,40,em),[[pe,C.price,void 0,{trim:!0}]])]),a("div",tm,[a("label",{class:"nxp-ec-form-label",for:`variant-stock-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,nm),Q(a("input",{id:`variant-stock-${N}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":R=>C.stock=R},null,8,sm),[[pe,C.stock,void 0,{number:!0}]])]),a("div",am,[a("label",{class:"nxp-ec-form-label",for:`variant-weight-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,im),Q(a("input",{id:`variant-weight-${N}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":R=>C.weight=R},null,8,om),[[pe,C.weight,void 0,{trim:!0}]])]),a("div",rm,[a("label",{class:"nxp-ec-form-label",for:`variant-active-${N}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,lm),Q(a("input",{id:`variant-active-${N}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":R=>C.active=R},null,8,cm),[[ct,C.active]])])]),a("section",dm,[a("header",um,[a("h5",pm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R=>k(N)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,_m)]),a("p",fm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(T(!0),v(Ce,null,Re(C.options,(R,x)=>(T(),v("div",{key:`variant-${N}-option-${x}`,class:"nxp-ec-variant-option-row"},[Q(a("input",{id:`variant-${N}-option-name-${x}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B=>R.name=B,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,mm),[[pe,R.name,void 0,{trim:!0}]]),Q(a("input",{id:`variant-${N}-option-value-${x}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B=>R.value=B,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,hm),[[pe,R.value,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:B=>ae(N,x),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,gm)]))),128))])]))),128))]),a("footer",Em,[a("button",{type:"button",class:"nxp-ec-btn",onClick:X,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,Cm),a("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,Sm)])],32)])])):oe("",!0)}},[["__scopeId","data-v-c14afc74"]]),bm={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Tm={key:1,class:"nxp-ec-skeleton__table"},ym={key:2,class:"nxp-ec-skeleton__card"},Rm={key:3,class:"nxp-ec-skeleton__circle"};function Om(e,t,s,i,n,o){return T(),v("div",{class:Me(["nxp-ec-skeleton",o.skeletonClasses])},[s.type==="text"?(T(),v("div",{key:0,class:"nxp-ec-skeleton__line",style:Mt({width:s.width})},null,4)):s.type==="table"?(T(),v("div",Tm,[(T(!0),v(Ce,null,Re(s.rows,c=>(T(),v("div",{key:c,class:"nxp-ec-skeleton__table-row"},[(T(!0),v(Ce,null,Re(s.columns,u=>(T(),v("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(T(),v("div",ym,[...t[0]||(t[0]=[$u('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(T(),v("div",Rm)):(T(),v("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Mt({width:s.width,height:s.height})},null,4))],2)}const Dn=dt(bm,[["render",Om],["__scopeId","data-v-c8b9a887"]]),xm={class:"nxp-ec-admin-panel"},vm={class:"nxp-ec-admin-panel__header"},Nm={class:"nxp-ec-admin-panel__title"},Pm={class:"nxp-ec-admin-panel__lead"},Mm={class:"nxp-ec-admin-panel__actions"},Im=["placeholder","aria-label"],km=["disabled","title","aria-label"],$m={class:"nxp-ec-sr-only"},wm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Lm={key:1,class:"nxp-ec-admin-panel__body"},Dm={key:2,class:"nxp-ec-admin-panel__body"},Um=["title"],Un=1,fn=-1,Es=0,Ym={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=Ie({mode:"create",product:null}),c=Xe(!1),u=fe(()=>(s.baseCurrency||"USD").toUpperCase()),p=fe(()=>o.product),m=fe(()=>(s.mediaModalUrl||"").trim()),f=(Y,O=!1)=>{const ne=Number(Y);if(Number.isFinite(ne))return ne===fn?fn:ne===Es?Es:Un;if(O)return fn;if(typeof Y=="string"){const de=Y.trim().toLowerCase();if(de==="out_of_stock"||de==="out-of-stock"||de==="-1")return fn;if(de==="inactive"||de==="0")return Es}return Un},l=(Y,O=!1)=>{const ne=f(Y,O);return ne===Un?fn:ne===fn?Es:Un},h=()=>{s.state.validationErrors=[],s.state.error="",o.mode="create",o.product={title:"",slug:"",short_desc:"",long_desc:"",status:Un,active:!0,featured:!1,images:[],categories:[],variants:[]},c.value=!0},I=Y=>{s.state.validationErrors=[],s.state.error="",o.mode="edit",o.product=JSON.parse(JSON.stringify(Y)),c.value=!0},V=()=>{c.value=!1,s.state.validationErrors=[]},w=async Y=>{var de,ge;const O=f((de=Y.status)!=null?de:Y.active,Y.out_of_stock),ne={...Y,status:O,active:O,featured:Y.featured?1:0};o.mode==="edit"&&((ge=o.product)!=null&&ge.id)?i("update",{id:o.product.id,data:ne}):i("create",ne)},K=async Y=>{var de;const O=(de=Y==null?void 0:Y.title)!=null?de:"",ne=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[O||"#"]);window.confirm(ne)&&i("delete",[Y.id])},L=Y=>{var z;if(!(Y!=null&&Y.id)||s.state.saving)return;const O=l((z=Y.status)!=null?z:Y.active,Y.out_of_stock),ne=S=>S==null?"":String(S),de=(S,b=0)=>{const k=Number(S);return Number.isFinite(k)?k:b},ge=Array.isArray(Y.variants)?Y.variants.map(S=>{var Z,re;if(!S)return null;const b=ne(S.sku).trim();if(!b)return null;let k=de(S.price_cents,Number.NaN);if(!Number.isFinite(k)){const F=ne(S.price),q=F?Number.parseFloat(F):NaN;k=Number.isFinite(q)?Math.round(q*100):NaN}if(!Number.isFinite(k))return null;const ae=ne((Z=S.currency)!=null?Z:u.value).trim().toUpperCase();if(!ae)return null;const J=(re=S.options)!=null?re:null,ee=Math.max(0,Math.round(de(S.stock,0)));return{id:de(S.id,0),sku:b,price_cents:Math.round(k),currency:ae,stock:ee,options:J!=null?J:null,weight:S.weight!==null&&S.weight!==void 0&&S.weight!==""?String(S.weight):null,active:S.active===void 0?!0:!!S.active}}).filter(Boolean):[];if(!ge.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const W=Array.isArray(Y.categories)?Y.categories.map(S=>{if(S==null)return null;if(typeof S=="number")return S>0?{id:S,title:"",slug:""}:null;if(typeof S=="string"&&S.trim()!==""&&Number.isFinite(Number(S))){const k=Number(S);return k>0?{id:k,title:"",slug:""}:null}if(typeof S=="object"){if(S.id){const ae=de(S.id,0);return ae>0?{id:ae,title:"",slug:""}:null}return de(S.id,0)<=0&&!S.title?null:{id:0,title:ne(S.title),slug:ne(S.slug)}}const b=ne(S).trim();return b?{id:0,title:b,slug:""}:null}).filter(Boolean):[],j=Array.isArray(Y.images)?Y.images.map(S=>ne(S).trim()).map(S=>{var J,ee,Z;let b=S;if(!b)return"";const k=b.indexOf("#joomlaImage://");k!==-1&&(b=b.substring(0,k));const ae=b.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(ae&&ae[1]&&(b=ae[1]),typeof window!="undefined")try{const re=(Z=(ee=(J=window.Joomla)==null?void 0:J.getOptions)==null?void 0:ee.call(J,"system.paths",{}))!=null?Z:{},F=re.rootFull||window.location.origin,q=re.root||"/";b.startsWith(F)&&(b=b.substring(F.length)),b.startsWith(q)&&(b=b.substring(q.length))}catch(re){}return b.trim()}).filter(S=>S!==""):[];s.state.error="",i("update",{id:Y.id,data:{title:ne(Y.title),slug:ne(Y.slug),short_desc:ne(Y.short_desc),long_desc:ne(Y.long_desc),status:O,active:O,featured:Y.featured?1:0,images:j,variants:ge,categories:W}})},$=()=>{i("refresh")},U=()=>{i("search")},G=Y=>{if(!Y)return"";try{const O=new Date(Y),de=new Date-O,ge=Math.floor(de/1e3),W=Math.floor(ge/60),j=Math.floor(W/60);return ge<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):W<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[W]):j<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[j]):O.toLocaleString()}catch(O){return Y}};return Ye(()=>s.state.saving,(Y,O)=>{O&&!Y&&c.value&&!s.state.validationErrors.length&&!s.state.error&&V()}),(Y,O)=>(T(),v("section",xm,[a("header",vm,[a("div",null,[a("h2",Nm,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),a("p",Pm,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),a("div",Mm,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":O[0]||(O[0]=ne=>e.state.search=ne),onKeyup:zt(U,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,Im),[[pe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:$,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[O[1]||(O[1]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",$m,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,km),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:h},[O[2]||(O[2]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(T(),v("div",wm,d(e.state.error),1)):oe("",!0),e.state.loading?(T(),v("div",Lm,[He(Dn,{type:"table",rows:5,columns:5})])):oe("",!0),e.state.loading?oe("",!0):(T(),v("div",Dm,[He(H_,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:I,onDelete:K,onToggleActive:L},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(G(e.state.lastUpdated)),9,Um)):oe("",!0)])),He(Am,{open:c.value,product:p.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":m.value,onSubmit:w,onCancel:V},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Xm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Fm={class:"nxp-ec-admin-panel__header"},Gm={class:"nxp-ec-admin-panel__title"},Vm={class:"nxp-ec-admin-panel__lead"},Hm={class:"nxp-ec-admin-panel__actions"},Bm=["placeholder","aria-label"],Km=["disabled","title","aria-label"],jm={class:"nxp-ec-sr-only"},Jm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Wm={key:1,class:"nxp-ec-admin-panel__body"},qm={key:2,class:"nxp-ec-admin-panel__body"},zm={class:"nxp-ec-admin-panel__table"},Qm={class:"nxp-ec-admin-table"},Zm={scope:"col"},eh={scope:"col"},th={scope:"col"},nh={scope:"col"},sh={scope:"col"},ah={key:0},ih={colspan:"6"},oh={scope:"row",class:"nxp-ec-admin-table__primary"},rh=["data-label"],lh=["data-label"],ch=["data-label"],dh=["data-label"],uh={class:"nxp-ec-admin-table__actions"},ph=["onClick","title","aria-label"],_h={class:"nxp-ec-sr-only"},fh=["disabled","onClick","title","aria-label"],mh={class:"nxp-ec-sr-only"},hh={key:0,class:"nxp-ec-admin-pagination"},gh=["disabled"],Eh={class:"nxp-ec-admin-pagination__status"},Ch=["disabled"],Sh=["title"],Ah={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},bh={class:"nxp-ec-modal__dialog"},Th={class:"nxp-ec-modal__header"},yh={class:"nxp-ec-modal__title"},Rh=["title","aria-label"],Oh={class:"nxp-ec-sr-only"},xh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vh={class:"nxp-ec-form-field"},Nh={class:"nxp-ec-form-label",for:"category-title"},Ph={class:"nxp-ec-form-field"},Mh={class:"nxp-ec-form-label",for:"category-slug"},Ih={class:"nxp-ec-form-field"},kh={class:"nxp-ec-form-label",for:"category-parent"},$h={value:""},wh=["value"],Lh={class:"nxp-ec-form-field"},Dh={class:"nxp-ec-form-label",for:"category-sort"},Uh={class:"nxp-ec-modal__actions"},Yh=["disabled"],Xh=dt({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=Xe(!1),c=Xe(!1),u=Xe([]),p=W=>{const z=(Array.isArray(W)?W:[]).map(F=>{var q,te,le,_e,ce;return{...F,id:Number.parseInt((q=F==null?void 0:F.id)!=null?q:0,10)||0,parent_id:(F==null?void 0:F.parent_id)!=null&&Number.parseInt(F.parent_id,10)||0,sort:Number.parseInt((te=F==null?void 0:F.sort)!=null?te:0,10)||0,title:String((le=F==null?void 0:F.title)!=null?le:"").trim(),slug:String((_e=F==null?void 0:F.slug)!=null?_e:"").trim(),usage:(ce=F==null?void 0:F.usage)!=null?ce:0}}).filter(F=>F.id>0||F.title!==""),S=new Set(z.map(F=>F.id));z.forEach(F=>{S.has(F.parent_id)||(F.parent_id=0)});const b=new Map,k=new Map;z.forEach(F=>{k.set(F.id,F);const q=F.parent_id||0;b.has(q)||b.set(q,[]),b.get(q).push(F)});const ae=F=>F.sort((q,te)=>{var le,_e;return((le=q.sort)!=null?le:0)-((_e=te.sort)!=null?_e:0)||q.title.localeCompare(te.title,void 0,{sensitivity:"base"})});b.forEach(ae);const J=new Set,ee=[],Z=(F,q,te)=>{if(!F||J.has(F.id)||te.includes(F.id))return;const le=[...te],_e=le.map(Oe=>{var Te;return(Te=k.get(Oe))==null?void 0:Te.title}).filter(Boolean),ce={...F,depth:q,path:_e.join(" / "),ancestors:le,indentedTitle:q>0?`${" ".repeat(q)}${F.title}`:F.title};ee.push(ce),J.add(F.id),(b.get(F.id)||[]).forEach(Oe=>Z(Oe,q+1,[...te,F.id]))},re=z.filter(F=>F.parent_id===0||!S.has(F.parent_id));return ae(re),re.forEach(F=>Z(F,0,[])),z.forEach(F=>{J.has(F.id)||Z(F,0,[])}),ee},m=fe(()=>{var W,j;return p((j=(W=s.state)==null?void 0:W.items)!=null?j:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),l=Ie(f()),h=fe(()=>{var j,z;const W=(z=Array.isArray(u.value)&&u.value.length?u.value:(j=s.state)==null?void 0:j.items)!=null?z:[];return p(W).filter(S=>S.id>0&&S.id!==l.id&&!(Array.isArray(S.ancestors)&&S.ancestors.includes(l.id))).map(S=>({id:S.id,title:S.title,label:S.depth>0?`${" ".repeat(S.depth)}${S.title}`:S.title}))}),I=()=>{Object.assign(l,f()),c.value=!1},V=W=>W?W.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",w=()=>{c.value=!0,l.slug=V(l.slug)};Ye(()=>l.title,W=>{c.value||(l.slug=V(W))});const K=async(W=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const j=await s.loadOptions();u.value=Array.isArray(j)?[...j]:[]}catch(j){u.value=[]}u.value=u.value.filter(j=>{var S,b;return(Number.parseInt((b=(S=j==null?void 0:j.id)!=null?S:j==null?void 0:j.value)!=null?b:0,10)||0)!==W})},L=async()=>{I(),await K(),o.value=!0},$=async W=>{var j,z,S,b;W&&(l.id=Number.parseInt((j=W.id)!=null?j:0,10)||0,l.title=String((z=W.title)!=null?z:"").trim(),l.slug=String((S=W.slug)!=null?S:"").trim(),l.parent_id=W.parent_id!=null&&Number.parseInt(W.parent_id,10)||null,l.sort=Number.parseInt((b=W.sort)!=null?b:0,10)||0,c.value=!!l.slug,await K(l.id),o.value=!0)},U=()=>{o.value=!1,I()},G=()=>{i("refresh")},Y=()=>{i("search")},O=W=>{i("page",W)},ne=()=>{const W={id:l.id||void 0,title:l.title.trim(),slug:l.slug.trim(),parent_id:l.parent_id||null,sort:Number.isFinite(l.sort)?l.sort:0};i("save",W)},de=W=>{if(!W||!W.id)return;const j=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(j)||i("delete",[W.id])},ge=W=>{if(!W)return"";try{const j=new Date(W),S=new Date-j,b=Math.floor(S/1e3),k=Math.floor(b/60),ae=Math.floor(k/60);return b<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):k<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[k]):ae<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ae]):j.toLocaleString()}catch(j){return W}};return Ye(()=>{var W;return(W=s.state)==null?void 0:W.saving},(W,j)=>{var z,S,b;j&&!W&&(((S=(z=s.state)==null?void 0:z.validationErrors)!=null?S:[]).length>0||(b=s.state)!=null&&b.error||(o.value=!1,I()))}),(W,j)=>(T(),v("section",Xm,[a("header",Fm,[a("div",null,[a("h2",Gm,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),a("p",Vm,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),a("div",Hm,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":j[0]||(j[0]=z=>e.state.search=z),onKeyup:zt(Y,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Bm),[[pe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:G,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[j[7]||(j[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",jm,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Km),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:L},[j[8]||(j[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(T(),v("div",Jm,d(e.state.error),1)):oe("",!0),e.state.loading?(T(),v("div",Wm,[He(Dn,{type:"table",rows:5,columns:5})])):oe("",!0),e.state.loading?oe("",!0):(T(),v("div",qm,[a("div",zm,[a("table",Qm,[a("thead",null,[a("tr",null,[a("th",Zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),a("th",eh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),a("th",th,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),a("th",nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),a("th",sh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),j[9]||(j[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?oe("",!0):(T(),v("tr",ah,[a("td",ih,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(T(!0),v(Ce,null,Re(m.value,z=>{var S;return T(),v("tr",{key:z.id,class:Me({"is-active":l.id===z.id})},[a("th",oh,[a("span",{style:Mt({paddingLeft:`${z.depth*1.5}rem`})},d(z.indentedTitle),5)]),a("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},d(z.slug||""),9,rh),a("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},d(z.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,lh),a("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},d(z.sort),9,ch),a("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},d((S=z.usage)!=null?S:0),9,dh),a("td",uh,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:b=>$(z),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[j[10]||(j[10]=a("i",{class:"fa-solid fa-pen-to-square"},null,-1)),a("span",_h,d(r(n)("JEDIT","Edit")),1)],8,ph),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:b=>de(z),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[j[11]||(j[11]=a("i",{class:"fa-solid fa-trash"},null,-1)),a("span",mh,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,fh)])],2)}),128))])]),e.state.pagination.pages>1?(T(),v("div",hh,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:j[1]||(j[1]=z=>O(e.state.pagination.current-1))},"  ",8,gh),a("span",Eh,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:j[2]||(j[2]=z=>O(e.state.pagination.current+1))},"  ",8,Ch)])):oe("",!0)]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(ge(e.state.lastUpdated)),9,Sh)):oe("",!0),o.value?(T(),v("div",Ah,[a("div",{class:"nxp-ec-modal__backdrop",onClick:U}),a("div",bh,[a("header",Th,[a("h3",yh,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:U,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[j[12]||(j[12]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",Oh,d(r(n)("JCLOSE","Close")),1)],8,Rh)]),a("form",{class:"nxp-ec-form",onSubmit:ht(ne,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(T(),v("div",xh,[a("ul",null,[(T(!0),v(Ce,null,Re(e.state.validationErrors,(z,S)=>(T(),v("li",{key:S},d(z),1))),128))])])):oe("",!0),a("div",vh,[a("label",Nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),Q(a("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":j[3]||(j[3]=z=>l.title=z),required:"",maxlength:"255"},null,512),[[pe,l.title,void 0,{trim:!0}]])]),a("div",Ph,[a("label",Mh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),Q(a("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":j[4]||(j[4]=z=>l.slug=z),maxlength:"190",onInput:w},null,544),[[pe,l.slug,void 0,{trim:!0}]])]),a("div",Ih,[a("label",kh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),Q(a("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":j[5]||(j[5]=z=>l.parent_id=z)},[a("option",$h,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(T(!0),v(Ce,null,Re(h.value,z=>(T(),v("option",{key:z.id,value:z.id},d(z.label),9,wh))),128))],512),[[_t,l.parent_id,void 0,{number:!0}]])]),a("div",Lh,[a("label",Dh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),Q(a("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":j[6]||(j[6]=z=>l.sort=z),min:"0",step:"1"},null,512),[[pe,l.sort,void 0,{number:!0}]])]),a("footer",Uh,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[j[13]||(j[13]=a("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,Yh),a("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:U},[j[14]||(j[14]=a("i",{class:"fa-solid fa-ban"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):oe("",!0)]))]))}},[["__scopeId","data-v-5f949c4b"]]),Fh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Gh={class:"nxp-ec-admin-panel__header"},Vh={class:"nxp-ec-admin-panel__title"},Hh={class:"nxp-ec-admin-panel__lead"},Bh={class:"nxp-ec-admin-panel__actions"},Kh=["placeholder","aria-label"],jh=["aria-label"],Jh={value:""},Wh=["value"],qh=["disabled","title","aria-label"],zh={class:"nxp-ec-sr-only"},Qh=["disabled","title","aria-label"],Zh={class:"nxp-ec-sr-only"},eg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},tg={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ng={key:2,class:"nxp-ec-admin-panel__body"},sg={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},ag={class:"nxp-ec-admin-panel__table"},ig={key:0,class:"nxp-ec-admin-panel__selection"},og=["aria-label"],rg={value:""},lg=["value"],cg=["disabled"],dg=["title","aria-label"],ug={class:"nxp-ec-sr-only"},pg={class:"nxp-ec-admin-table"},_g={scope:"col",class:"nxp-ec-admin-table__select"},fg={scope:"col"},mg={scope:"col"},hg={scope:"col"},gg={scope:"col"},Eg={scope:"col"},Cg={scope:"col",class:"nxp-ec-admin-table__actions"},Sg={key:0},Ag={colspan:"7"},bg={class:"nxp-ec-admin-table__select"},Tg=["checked","onChange","aria-label"],yg={scope:"row",class:"nxp-ec-admin-table__primary"},Rg=["onClick"],Og=["data-label"],xg={class:"nxp-ec-admin-table__meta"},vg=["data-label"],Ng=["data-label"],Pg={class:"nxp-ec-badge"},Mg=["title"],Ig=["data-label"],kg={class:"nxp-ec-admin-table__actions"},$g=["onUpdate:modelValue","aria-label"],wg=["value"],Lg=["value"],Dg=["disabled","onClick"],Ug={key:1,class:"nxp-ec-admin-pagination"},Yg=["disabled"],Xg={class:"nxp-ec-admin-pagination__status"},Fg=["disabled"],Gg=["title"],Vg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Hg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Bg={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},Kg={class:"nxp-ec-admin-panel__sidebar-header"},jg=["title","aria-label"],Jg={class:"nxp-ec-sr-only"},Wg={class:"nxp-ec-admin-panel__sidebar-content"},qg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},zg={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},Qg={key:2,class:"nxp-ec-admin-panel__section"},Zg={class:"nxp-ec-admin-copy"},eE=["value"],tE=["disabled"],nE={key:0,class:"nxp-ec-admin-panel__muted"},sE={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},aE=["disabled"],iE={key:0,class:"nxp-ec-admin-panel__muted"},oE={class:"nxp-ec-admin-panel__section"},rE={class:"nxp-ec-admin-list"},lE={class:"nxp-ec-admin-list__title"},cE={class:"nxp-ec-admin-list__meta"},dE={class:"nxp-ec-admin-panel__section"},uE={class:"nxp-ec-admin-panel__total"},pE={class:"nxp-ec-admin-panel__addresses"},_E={class:"nxp-ec-admin-panel__section"},fE={class:"nxp-ec-admin-address"},mE={class:"nxp-ec-admin-panel__section"},hE={key:0,class:"nxp-ec-admin-address"},gE={key:1,class:"nxp-ec-admin-panel__muted"},EE={class:"nxp-ec-admin-panel__section"},CE={class:"nxp-ec-form-field"},SE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},AE={class:"nxp-ec-form-field"},bE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},TE={class:"nxp-ec-form-field"},yE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},RE={key:0,class:"nxp-ec-form-checkbox"},OE={class:"nxp-ec-admin-form__actions"},xE=["disabled"],vE={key:3,class:"nxp-ec-admin-panel__section"},NE={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},PE=["disabled"],ME=["disabled"],IE={key:4,class:"nxp-ec-admin-panel__section"},kE={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},$E={class:"nxp-ec-form-field"},wE={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},LE=["placeholder"],DE={class:"nxp-ec-form-help"},UE={class:"nxp-ec-form-field"},YE={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},XE=["placeholder"],FE={class:"nxp-ec-form-field"},GE={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},VE={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},HE=["disabled"],BE={key:5,class:"nxp-ec-admin-panel__section"},KE={class:"nxp-ec-admin-list"},jE={class:"nxp-ec-admin-list__title"},JE={class:"nxp-ec-admin-list__meta"},WE={class:"nxp-ec-admin-panel__section"},qE=["placeholder"],zE={class:"nxp-ec-admin-form__actions"},QE=["disabled"],ZE={class:"nxp-ec-admin-panel__section"},eC={key:0,class:"nxp-ec-admin-list"},tC={class:"nxp-ec-admin-list__title"},nC={class:"nxp-ec-admin-list__meta"},sC={key:1,class:"nxp-ec-admin-panel__muted"},aC=dt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=Ie({}),c=Xe(""),u=Xe(""),p=fe(()=>u.value.trim().length>0),m=Xe(""),f=Ie({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),l=Ie({amount:null,reference:"",note:""}),h=fe(()=>{var A;const y=(A=s.state)==null?void 0:A.selection;return!y||typeof y.values!="function"?[]:Array.from(y.values())}),I=fe(()=>h.value.length>0),V=fe(()=>{var g;const y=(g=s.state)==null?void 0:g.activeOrder;if(!y)return!1;const A=["cod","bank_transfer"],X=String(y.payment_method||"").toLowerCase();return y.state==="pending"&&A.includes(X)});fe(()=>V.value),Ye(h,y=>{y.length||(c.value="")}),Ye(()=>s.state.activeOrder,y=>{var A,X,g;u.value="",m.value="",f.carrier=(A=y==null?void 0:y.carrier)!=null?A:"",f.tracking_number=(X=y==null?void 0:y.tracking_number)!=null?X:"",f.tracking_url=(g=y==null?void 0:y.tracking_url)!=null?g:"",f.markFulfilled=!1,l.amount=null,l.reference="",l.note=""},{immediate:!0}),Ye(()=>s.state.items,y=>{Array.isArray(y)&&y.forEach(A=>{!A||typeof A.id=="undefined"||o[A.id]||(o[A.id]=A.state)})},{immediate:!0}),Ye(()=>s.state.transitionError,y=>{var X;if(!y)return;const A=(X=s.state)==null?void 0:X.items;Array.isArray(A)&&A.forEach(g=>{g!=null&&g.id&&g.state&&(o[g.id]=g.state)})});const w=(y,A)=>{const X=(Number(y)||0)/100,g=(A||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:g}).format(X)}catch(_){return`${g} ${X.toFixed(2)}`}},K=y=>{if(!y)return"";const A=new Date(y);return Number.isNaN(A.getTime())?y:A.toLocaleString()},L=y=>y?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[y]||y:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),$=y=>y===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(y)]),U=y=>{if(!y)return"";const A=`COM_NXPEASYCART_ORDERS_STATE_${String(y).toUpperCase()}`;return n(A,y)},G=y=>s.state.orderStates.filter(A=>A!==y.state),Y=y=>(o[y.id]||y.state)!==y.state,O=()=>{var y;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((y=window.location)!=null&&y.origin)?window.location.origin:""},ne=fe(()=>{var N,R;const y=(R=(N=s.state)==null?void 0:N.activeOrder)!=null?R:{},A=String(y.public_token||"").trim(),X=String(y.order_no||"").trim();if(!A)return"";const g=O();if(!g)return"";const _=g.endsWith("/")?"":"/",C=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:A});return X&&C.set("no",X),`${g}${_}index.php?${C.toString()}`}),de=async()=>{var y;if(ne.value){try{if(!((y=navigator==null?void 0:navigator.clipboard)!=null&&y.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(ne.value),m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(A){try{const X=document.createElement("textarea");X.value=ne.value,X.setAttribute("readonly",""),X.style.position="absolute",X.style.left="-9999px",document.body.appendChild(X),X.select(),document.execCommand("copy"),document.body.removeChild(X),m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(X){m.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}m.value&&setTimeout(()=>{m.value=""},2e3)}},ge=fe(()=>{var A,X,g,_,C;const y=(X=(A=s.state)==null?void 0:A.activeOrder)!=null?X:{};return f.carrier!==((g=y.carrier)!=null?g:"")||f.tracking_number!==((_=y.tracking_number)!=null?_:"")||f.tracking_url!==((C=y.tracking_url)!=null?C:"")||f.markFulfilled}),W=y=>!y||typeof y!="object"?[]:Object.entries(y).filter(([,A])=>A!=null&&`${A}`.trim()!=="").map(([A,X])=>({key:A,value:`${X}`.trim()})),j=()=>{i("refresh")},z=()=>{i("export")},S=()=>{i("search")},b=()=>{i("filter",s.state.filterState)},k=y=>{i("view",y)},ae=()=>{i("close")},J=y=>{const A=o[y.id]||y.state;A!==y.state&&i("transition",{id:y.id,state:A})},ee=y=>{i("page",y)},Z=y=>{var A,X,g,_;return(_=(g=(X=(A=s.state)==null?void 0:A.selection)==null?void 0:X.has)==null?void 0:g.call(X,y))!=null?_:!1},re=y=>{i("toggle-selection",y)},F=()=>{c.value="",i("clear-selection")},q=()=>{!I.value||!c.value||i("bulk-transition",{ids:[...h.value],state:c.value})},te=()=>{if(!s.state.activeOrder)return;const y=u.value.trim();y&&(i("add-note",{id:s.state.activeOrder.id,message:y}),u.value="")},le=()=>{s.state.activeOrder&&i("invoice",s.state.activeOrder.id)},_e=()=>{!s.state.activeOrder||!ge.value||(i("save-tracking",{id:s.state.activeOrder.id,carrier:f.carrier,tracking_number:f.tracking_number,tracking_url:f.tracking_url,mark_fulfilled:f.markFulfilled}),f.markFulfilled=!1)},ce=y=>{s.state.activeOrder&&i("send-email",{id:s.state.activeOrder.id,type:y})},he=()=>{if(!s.state.activeOrder||!V.value)return;const y=s.state.activeOrder,A=l.amount!==null&&l.amount!==""?Math.round(Number(l.amount)*100):y.total_cents;i("record-payment",{id:y.id,amountCents:A,reference:l.reference,note:l.note}),l.amount=null,l.reference="",l.note=""},Oe=y=>{var g;const A=(g=s.state)==null?void 0:g.activeOrder;return A?(A.timeline||A.audit||[]).some(_=>{var C;return _.action==="order.email.sent"?((C=_.context)==null?void 0:C.type)===y:!1}):!1},Te=fe(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(h.value.length)],"ordersSelectedCount")),Pe=y=>{var A,X,g,_,C,N,R,x,B,P,ie,ue;if(!y||!y.action)return"";switch(y.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const me=U((X=(A=y.context)==null?void 0:A.from)!=null?X:""),be=U((_=(g=y.context)==null?void 0:g.to)!=null?_:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[me||((C=y.context)==null?void 0:C.from)||"",be||((N=y.context)==null?void 0:N.to)||""],"ordersTimelineState")}case"order.note":return((R=y.context)==null?void 0:R.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const me=((x=y.context)==null?void 0:x.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),be=w((P=(B=y.context)==null?void 0:B.amount_cents)!=null?P:0,(ue=(ie=s.state)==null?void 0:ie.activeOrder)==null?void 0:ue.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[me,be],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return y.action}},Be=y=>{if(!y)return"";const A=String(y.type||"").toLowerCase(),X=String(y.message||"").trim(),g=String(y.state||"").toLowerCase();return A==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):g?U(g):X||A||""},E=fe(()=>{var g,_,C,N;const y=[];return(Array.isArray((_=(g=s.state)==null?void 0:g.activeOrder)==null?void 0:_.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((R,x)=>{var B,P;y.push({label:Be(R),created:(B=R==null?void 0:R.at)!=null?B:"",key:`f-${x}-${(P=R==null?void 0:R.at)!=null?P:""}`})}),(Array.isArray((N=(C=s.state)==null?void 0:C.activeOrder)==null?void 0:N.timeline)?s.state.activeOrder.timeline:[]).forEach((R,x)=>{var B,P,ie;y.push({label:Pe(R),created:(B=R==null?void 0:R.created)!=null?B:"",key:`a-${(P=R==null?void 0:R.id)!=null?P:x}-${(ie=R==null?void 0:R.created)!=null?ie:""}`})}),y.filter(R=>R.label).sort((R,x)=>{const B=new Date(R.created||0).getTime();return new Date(x.created||0).getTime()-B})}),M=y=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(y.status||"").toUpperCase()}`,y.status||""),H=y=>{if(!y)return"";try{const A=new Date(y),g=new Date-A,_=Math.floor(g/1e3),C=Math.floor(_/60),N=Math.floor(C/60);return _<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):C<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[C]):N<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[N]):A.toLocaleString()}catch(A){return y}};return(y,A)=>{var X,g;return T(),v("section",Fh,[a("header",Gh,[a("div",null,[a("h2",Vh,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),a("p",Hh,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),a("div",Bh,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":A[0]||(A[0]=_=>e.state.search=_),onKeyup:zt(S,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Kh),[[pe,e.state.search]]),Q(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":A[1]||(A[1]=_=>e.state.filterState=_),onChange:b,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[a("option",Jh,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(T(!0),v(Ce,null,Re(e.state.orderStates,_=>(T(),v("option",{key:_,value:_},d(U(_)),9,Wh))),128))],40,jh),[[_t,e.state.filterState]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:z,disabled:e.state.loading||e.state.exporting,title:r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[A[15]||(A[15]=a("i",{class:"fa-solid fa-file-csv"},null,-1)),a("span",zh,d(r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,qh),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:j,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[A[16]||(A[16]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",Zh,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Qh)])]),e.state.error?(T(),v("div",eg,d(e.state.error),1)):oe("",!0),e.state.transitionError&&!e.state.error?(T(),v("div",tg,d(e.state.transitionError),1)):oe("",!0),e.state.loading&&!e.state.error?(T(),v("div",ng,[He(Dn,{type:"table",rows:5,columns:7})])):oe("",!0),!e.state.loading&&!e.state.error?(T(),v("div",sg,[a("div",ag,[I.value?(T(),v("div",ig,[a("span",null,d(Te.value),1),Q(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":A[2]||(A[2]=_=>c.value=_),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[a("option",rg,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(T(!0),v(Ce,null,Re(e.state.orderStates,_=>(T(),v("option",{key:`bulk-${_}`,value:_},d(U(_)),9,lg))),128))],8,og),[[_t,c.value]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!c.value||e.state.saving,onClick:q},[A[17]||(A[17]=a("i",{class:"fa-solid fa-check"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,cg),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:F,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[A[18]||(A[18]=a("i",{class:"fa-solid fa-xmark"},null,-1)),a("span",ug,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,dg)])):oe("",!0),a("table",pg,[a("thead",null,[a("tr",null,[a("th",_g,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),a("th",fg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),a("th",mg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),a("th",hg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),a("th",gg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),a("th",Eg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),a("th",Cg,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),a("tbody",null,[e.state.items.length?oe("",!0):(T(),v("tr",Sg,[a("td",Ag,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(T(!0),v(Ce,null,Re(e.state.items,_=>{var C,N,R;return T(),v("tr",{key:_.id,class:Me({"is-active":e.state.activeOrder&&e.state.activeOrder.id===_.id})},[a("td",bg,[a("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:Z(_.id),onChange:x=>re(_.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Tg)]),a("th",yg,[a("button",{class:"nxp-ec-link-button",type:"button",onClick:x=>k(_)},d(_.order_no),9,Rg)]),a("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[a("div",null,d(_.email),1),a("div",xg,d($((R=_.items_count)!=null?R:(N=(C=_.items)==null?void 0:C.length)!=null?N:0)),1)],8,Og),a("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},d(w(_.total_cents,_.currency)),9,vg),a("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[a("span",Pg,d(U(_.state)),1),_.needs_review?(T(),v("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:_.review_reason||r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,Mg)):oe("",!0)],8,Ng),a("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},d(K(_.modified||_.created)),9,Ig),a("td",kg,[Q(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":x=>o[_.id]=x,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[a("option",{value:_.state},d(U(_.state)),9,wg),(T(!0),v(Ce,null,Re(G(_),x=>(T(),v("option",{key:x,value:x},d(U(x)),9,Lg))),128))],8,$g),[[_t,o[_.id]]]),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!Y(_),onClick:x=>J(_)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,Dg)])],2)}),128))])]),e.state.pagination.pages>1?(T(),v("div",Ug,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:A[3]||(A[3]=_=>ee(e.state.pagination.current-1))},"  ",8,Yg),a("span",Xg,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:A[4]||(A[4]=_=>ee(e.state.pagination.current+1))},"  ",8,Fg)])):oe("",!0)]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(H(e.state.lastUpdated)),9,Gg)):oe("",!0),e.state.activeOrder?(T(),v("div",Vg,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:ae}),a("div",Hg,[a("aside",Bg,[a("header",Kg,[a("h3",null,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:ae,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[A[19]||(A[19]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",Jg,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,jg)]),a("div",Wg,[e.state.transitionError?(T(),v("div",qg,d(e.state.transitionError),1)):oe("",!0),(X=e.state.activeOrder)!=null&&X.needs_review?(T(),v("div",zg,[a("strong",null,d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),ye(" "+d(L((g=e.state.activeOrder)==null?void 0:g.review_reason)),1)])):oe("",!0),ne.value?(T(),v("section",Qg,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),a("div",Zg,[a("input",{type:"text",class:"nxp-ec-form-input",value:ne.value,readonly:""},null,8,eE),a("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!ne.value,onClick:de},[A[20]||(A[20]=a("i",{class:"fa-solid fa-link"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,tE)]),m.value?(T(),v("p",nE,d(m.value),1)):oe("",!0),a("div",sE,[a("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:le},[A[21]||(A[21]=a("i",{class:"fa-solid fa-file-pdf"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,aE),s.state.invoiceLoading?(T(),v("span",iE,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):oe("",!0)])])):oe("",!0),a("section",oE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),a("ul",rE,[(T(!0),v(Ce,null,Re(e.state.activeOrder.items,_=>(T(),v("li",{key:_.id},[a("div",lE,[ye(d(_.title)+" ",1),a("small",null,"("+d(_.sku)+")",1)]),a("div",cE,"  "+d(_.qty)+"  "+d(w(_.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),a("section",dE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),a("p",uE,d(w(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),a("div",pE,[a("section",_E,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),a("address",fE,[(T(!0),v(Ce,null,Re(W(e.state.activeOrder.billing),_=>(T(),v("span",{key:_.key},d(_.value),1))),128))])]),a("section",mE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(T(),v("address",hE,[(T(!0),v(Ce,null,Re(W(e.state.activeOrder.shipping),_=>(T(),v("span",{key:_.key},d(_.value),1))),128))])):(T(),v("p",gE,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),a("section",EE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),a("div",CE,[a("label",SE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),Q(a("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[5]||(A[5]=_=>f.carrier=_)},null,512),[[pe,f.carrier]])]),a("div",AE,[a("label",bE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),Q(a("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[6]||(A[6]=_=>f.tracking_number=_)},null,512),[[pe,f.tracking_number]])]),a("div",TE,[a("label",yE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),Q(a("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":A[7]||(A[7]=_=>f.tracking_url=_)},null,512),[[pe,f.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(T(),v("label",RE,[Q(a("input",{type:"checkbox","onUpdate:modelValue":A[8]||(A[8]=_=>f.markFulfilled=_)},null,512),[[ct,f.markFulfilled]]),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):oe("",!0),a("div",OE,[a("button",{class:"nxp-ec-btn",type:"button",disabled:!ge.value||e.state.saving,onClick:_e},[A[22]||(A[22]=a("i",{class:"fa-solid fa-truck"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,xE)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(T(),v("section",vE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),a("div",NE,[e.state.activeOrder.state==="fulfilled"?(T(),v("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:A[9]||(A[9]=_=>ce("shipped"))},[A[23]||(A[23]=a("i",{class:"fa-solid fa-envelope"},null,-1)),ye(" "+d(Oe("shipped")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,PE)):oe("",!0),e.state.activeOrder.state==="refunded"?(T(),v("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:A[10]||(A[10]=_=>ce("refunded"))},[A[24]||(A[24]=a("i",{class:"fa-solid fa-envelope"},null,-1)),ye(" "+d(Oe("refunded")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,ME)):oe("",!0)])])):oe("",!0),V.value?(T(),v("section",IE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),a("p",kE,d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),a("div",$E,[a("label",wE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),Q(a("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":A[11]||(A[11]=_=>l.amount=_),placeholder:w(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,LE),[[pe,l.amount]]),a("small",DE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),a("div",UE,[a("label",YE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),Q(a("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":A[12]||(A[12]=_=>l.reference=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,XE),[[pe,l.reference]])]),a("div",FE,[a("label",GE,d(r(n)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),Q(a("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":A[13]||(A[13]=_=>l.note=_)},null,512),[[pe,l.note]])]),a("div",VE,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving,onClick:he},[A[25]||(A[25]=a("i",{class:"icon-credit"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,HE)])])):oe("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(T(),v("section",BE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),a("ul",KE,[(T(!0),v(Ce,null,Re(e.state.activeOrder.transactions,_=>(T(),v("li",{key:_.id},[a("div",jE,d(_.gateway)+"  "+d(w(_.amount_cents,e.state.activeOrder.currency)),1),a("div",JE,d(M(_))+"  "+d(K(_.created)),1)]))),128))])])):oe("",!0),a("section",WE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),a("form",{class:"nxp-ec-admin-form",onSubmit:ht(te,["prevent"])},[Q(a("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":A[14]||(A[14]=_=>u.value=_),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,qE),[[pe,u.value]]),a("div",zE,[a("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[A[26]||(A[26]=a("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,QE)])],32)]),a("section",ZE,[a("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),E.value.length?(T(),v("ul",eC,[(T(!0),v(Ce,null,Re(E.value,_=>(T(),v("li",{key:_.key},[a("div",tC,d(_.label),1),a("div",nC,d(K(_.created)),1)]))),128))])):(T(),v("p",sC,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])])):oe("",!0)])):oe("",!0)])}}},[["__scopeId","data-v-5225afc2"]]),iC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},oC={class:"nxp-ec-admin-panel__header"},rC={class:"nxp-ec-admin-panel__title"},lC={class:"nxp-ec-admin-panel__lead"},cC={class:"nxp-ec-admin-panel__actions"},dC=["placeholder","aria-label"],uC=["disabled","title","aria-label"],pC={class:"nxp-ec-sr-only"},_C={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fC={key:1,class:"nxp-ec-admin-panel__body"},mC={key:2,class:"nxp-ec-admin-panel__body"},hC={class:"nxp-ec-admin-panel__table"},gC={class:"nxp-ec-admin-table"},EC={scope:"col"},CC={scope:"col"},SC={scope:"col"},AC={scope:"col"},bC={scope:"col"},TC={key:0},yC={colspan:"5"},RC={scope:"row",class:"nxp-ec-admin-table__primary"},OC=["onClick"],xC=["data-label"],vC=["data-label"],NC=["data-label"],PC=["data-label"],MC={key:0,class:"nxp-ec-admin-pagination"},IC=["disabled"],kC={class:"nxp-ec-admin-pagination__status"},$C=["disabled"],wC=["title"],LC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},DC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},UC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},YC={class:"nxp-ec-admin-panel__sidebar-header"},XC=["title","aria-label"],FC={class:"nxp-ec-sr-only"},GC={class:"nxp-ec-admin-panel__section"},VC={class:"nxp-ec-admin-summary"},HC={class:"nxp-ec-admin-panel__addresses"},BC={class:"nxp-ec-admin-panel__section"},KC={class:"nxp-ec-admin-address"},jC={class:"nxp-ec-admin-panel__section"},JC={key:0,class:"nxp-ec-admin-address"},WC={key:1,class:"nxp-ec-admin-panel__muted"},qC={class:"nxp-ec-admin-panel__section"},zC={key:0,class:"nxp-ec-admin-list"},QC={class:"nxp-ec-admin-list__title"},ZC={class:"nxp-ec-admin-list__meta"},eS={key:1,class:"nxp-ec-admin-panel__muted"},tS={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},nS={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},sS={class:"nxp-ec-gdpr-actions"},aS=["disabled","title"],iS=["disabled","title"],oS=dt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=(L,$)=>{const U=(Number(L)||0)/100,G=($||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:G}).format(U)}catch(Y){return`${G} ${U.toFixed(2)}`}},c=L=>{if(!L)return"";const $=new Date(L);return Number.isNaN($.getTime())?L:$.toLocaleString()},u=L=>!L||typeof L!="object"?[]:Object.entries(L).filter(([,$])=>$!=null&&`${$}`.trim()!=="").map(([$,U])=>({key:$,value:`${U}`.trim()})),p=L=>{if(!L)return"";const $=`COM_NXPEASYCART_ORDERS_STATE_${String(L).toUpperCase()}`;return n($,L)},m=()=>i("refresh"),f=()=>i("search"),l=L=>i("page",L),h=L=>i("view",L),I=()=>i("close"),V=L=>i("gdprExport",L),w=L=>i("gdprAnonymise",L),K=L=>{if(!L)return"";try{const $=new Date(L),G=new Date-$,Y=Math.floor(G/1e3),O=Math.floor(Y/60),ne=Math.floor(O/60);return Y<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):O<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[O]):ne<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ne]):$.toLocaleString()}catch($){return L}};return(L,$)=>{var U,G,Y;return T(),v("section",iC,[a("header",oC,[a("div",null,[a("h2",rC,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),a("p",lC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),a("div",cC,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":$[0]||($[0]=O=>e.state.search=O),onKeyup:zt(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,dC),[[pe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:m,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[$[5]||($[5]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",pC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,uC)])]),e.state.error?(T(),v("div",_C,d(e.state.error),1)):oe("",!0),e.state.loading?(T(),v("div",fC,[He(Dn,{type:"table",rows:5,columns:5})])):oe("",!0),e.state.loading?oe("",!0):(T(),v("div",mC,[a("div",hC,[a("table",gC,[a("thead",null,[a("tr",null,[a("th",EC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),a("th",CC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),a("th",SC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),a("th",AC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),a("th",bC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),a("tbody",null,[e.state.items.length?oe("",!0):(T(),v("tr",TC,[a("td",yC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(T(!0),v(Ce,null,Re(e.state.items,O=>{var ne;return T(),v("tr",{key:O.email,class:Me({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===O.email})},[a("th",RC,[a("button",{class:"nxp-ec-link-button",type:"button",onClick:de=>h(O)},d(O.email),9,OC)]),a("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},d(((ne=O.meta)==null?void 0:ne.name)||""),9,xC),a("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},d(O.orders_count),9,vC),a("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},d(o(O.total_spent_cents,O.currency||e.baseCurrency)),9,NC),a("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},d(c(O.last_order)),9,PC)],2)}),128))])]),e.state.pagination.pages>1?(T(),v("div",MC,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:$[1]||($[1]=O=>l(e.state.pagination.current-1))},"  ",8,IC),a("span",kC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:$[2]||($[2]=O=>l(e.state.pagination.current+1))},"  ",8,$C)])):oe("",!0)]),e.state.lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(K(e.state.lastUpdated)),9,wC)):oe("",!0),e.state.activeCustomer?(T(),v("div",LC,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:I}),a("div",DC,[a("aside",UC,[a("header",YC,[a("h3",null,d(e.state.activeCustomer.email),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:I,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[$[6]||($[6]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",FC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,XC)]),a("section",GC,[a("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),a("dl",VC,[a("div",null,[a("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),a("dd",null,d(((U=e.state.activeCustomer.meta)==null?void 0:U.name)||""),1)]),a("div",null,[a("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),a("dd",null,d(o(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),a("div",null,[a("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),a("dd",null,d(e.state.activeCustomer.orders_count),1)]),a("div",null,[a("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),a("dd",null,d(c(e.state.activeCustomer.last_order)),1)])])]),a("div",HC,[a("section",BC,[a("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),a("address",KC,[(T(!0),v(Ce,null,Re(u((G=e.state.activeCustomer.meta)==null?void 0:G.billing),O=>(T(),v("span",{key:O.key},d(O.value),1))),128))])]),a("section",jC,[a("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(Y=e.state.activeCustomer.meta)!=null&&Y.shipping?(T(),v("address",JC,[(T(!0),v(Ce,null,Re(u(e.state.activeCustomer.meta.shipping),O=>(T(),v("span",{key:O.key},d(O.value),1))),128))])):(T(),v("p",WC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),a("section",qC,[a("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(T(),v("ul",zC,[(T(!0),v(Ce,null,Re(e.state.activeCustomer.orders,O=>(T(),v("li",{key:O.id},[a("div",QC,d(O.order_no)+"  "+d(o(O.total_cents,O.currency||e.baseCurrency)),1),a("div",ZC,d(p(O.state))+"  "+d(c(O.created)),1)]))),128))])):(T(),v("p",eS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),a("section",tS,[a("h4",null,d(r(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),a("p",nS,d(r(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),a("div",sS,[a("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:$[3]||($[3]=O=>V(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[$[7]||($[7]=a("i",{class:"fa-solid fa-download"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,aS),a("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:$[4]||($[4]=O=>w(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[$[8]||($[8]=a("i",{class:"fa-solid fa-user-slash"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,iS)]),e.state.gdprMessage?(T(),v("p",{key:0,class:Me(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},d(e.state.gdprMessage),3)):oe("",!0)])])])])):oe("",!0)]))])}}},[["__scopeId","data-v-d3571741"]]),rS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},lS={class:"nxp-ec-admin-panel__header"},cS={class:"nxp-ec-admin-panel__title"},dS={class:"nxp-ec-admin-panel__lead"},uS={class:"nxp-ec-admin-panel__actions"},pS=["placeholder","aria-label"],_S=["disabled","title","aria-label"],fS={class:"nxp-ec-sr-only"},mS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hS={key:1,class:"nxp-ec-admin-panel__loading"},gS={key:2,class:"nxp-ec-admin-panel__body"},ES={class:"nxp-ec-admin-panel__table"},CS={class:"nxp-ec-admin-table"},SS={scope:"col"},AS={scope:"col"},bS={scope:"col"},TS={scope:"col"},yS={scope:"col"},RS={scope:"col"},OS={key:0},xS={colspan:"7"},vS={scope:"row",class:"nxp-ec-admin-table__primary"},NS=["data-label"],PS=["data-label"],MS=["data-label"],IS=["data-label"],kS=["data-label"],$S={class:"nxp-ec-admin-table__actions"},wS=["onClick","title","aria-label"],LS={class:"nxp-ec-sr-only"},DS=["onClick","title","aria-label"],US={class:"nxp-ec-sr-only"},YS={key:0,class:"nxp-ec-admin-pagination"},XS=["disabled"],FS={class:"nxp-ec-admin-pagination__status"},GS=["disabled"],VS={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},HS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},BS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},KS={class:"nxp-ec-admin-panel__sidebar-header"},jS=["title","aria-label"],JS={class:"nxp-ec-sr-only"},WS={class:"nxp-ec-form-field"},qS={class:"nxp-ec-form-label",for:"coupon-code"},zS={class:"nxp-ec-form-field"},QS={class:"nxp-ec-form-label",for:"coupon-type"},ZS={value:"percent"},eA={value:"fixed"},tA={class:"nxp-ec-form-field"},nA={class:"nxp-ec-form-label",for:"coupon-value"},sA={class:"nxp-ec-form-field"},aA={class:"nxp-ec-form-label",for:"coupon-min-total"},iA={class:"nxp-ec-form-field"},oA={class:"nxp-ec-form-label",for:"coupon-start"},rA={class:"nxp-ec-form-field"},lA={class:"nxp-ec-form-label",for:"coupon-end"},cA={class:"nxp-ec-form-field"},dA={class:"nxp-ec-form-label",for:"coupon-max-uses"},uA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},pA={class:"nxp-ec-form-label",for:"coupon-active"},_A={class:"nxp-ec-modal__actions"},fA=["disabled"],mA=["disabled"],hA=["disabled"],gA=dt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=fe(()=>(s.baseCurrency||"USD").toUpperCase()),c=Ie({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=fe(()=>c.open),p=()=>i("refresh"),m=()=>i("search"),f=U=>i("page",U),l=()=>{Object.assign(c,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},h=U=>{var G,Y;Object.assign(c,{open:!0,id:U.id,code:U.code,type:U.type,value:U.value,min_total:(Y=U.min_total)!=null?Y:((G=U.min_total_cents)!=null?G:0)/100,start:U.start?U.start.substring(0,10):"",end:U.end?U.end.substring(0,10):"",max_uses:U.max_uses,active:U.active})},I=()=>{c.open=!1},V=()=>{const U={id:c.id||void 0,code:c.code,type:c.type,value:c.value,min_total:c.min_total||0,start:c.start||null,end:c.end||null,max_uses:c.max_uses!==null&&c.max_uses!==""?c.max_uses:null,active:c.active};i("save",U)},w=U=>{const G=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(G)&&(i("delete",[U.id]),c.id===U.id&&I())},K=(U,G)=>{const Y=(Number(U)||0)/100,O=(G||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:O}).format(Y)}catch(ne){return`${O} ${Y.toFixed(2)}`}},L=U=>U.type==="percent"?`${U.value}%`:K(U.value*100,o.value),$=U=>U==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Ye(()=>s.state.saving,(U,G)=>{G&&!U&&!s.state.error&&c.open&&I()}),(U,G)=>(T(),v("section",rS,[a("header",lS,[a("div",null,[a("h2",cS,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),a("p",dS,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),a("div",uS,[Q(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":G[0]||(G[0]=Y=>e.state.search=Y),onKeyup:zt(m,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,pS),[[pe,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[G[12]||(G[12]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",fS,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,_S),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:l},[G[13]||(G[13]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(T(),v("div",mS,d(e.state.error),1)):oe("",!0),e.state.loading?(T(),v("div",hS,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):oe("",!0),e.state.loading?oe("",!0):(T(),v("div",gS,[a("div",ES,[a("table",CS,[a("thead",null,[a("tr",null,[a("th",SS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),a("th",AS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),a("th",bS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),a("th",TS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),a("th",yS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),a("th",RS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),G[14]||(G[14]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?oe("",!0):(T(),v("tr",OS,[a("td",xS,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(T(!0),v(Ce,null,Re(e.state.items,Y=>(T(),v("tr",{key:Y.id,class:Me({"is-active":c.id===Y.id})},[a("th",vS,d(Y.code),1),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},d($(Y.type)),9,NS),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},d(L(Y)),9,PS),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},d(K(Y.min_total_cents,o.value)),9,MS),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[a("span",{class:Me(["nxp-ec-badge",{"is-active":Y.active}])},[a("i",{class:Me(Y.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ye(" "+d(Y.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,IS),a("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},d(Y.times_used)+d(Y.max_uses?` / ${Y.max_uses}`:""),9,kS),a("td",$S,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:O=>h(Y),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[G[15]||(G[15]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",LS,d(r(n)("JEDIT","Edit")),1)],8,wS),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:O=>w(Y),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[G[16]||(G[16]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",US,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,DS)])],2))),128))])]),e.state.pagination.pages>1?(T(),v("div",YS,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:G[1]||(G[1]=Y=>f(e.state.pagination.current-1))},"  ",8,XS),a("span",FS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:G[2]||(G[2]=Y=>f(e.state.pagination.current+1))},"  ",8,GS)])):oe("",!0)]),u.value?(T(),v("div",VS,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:I}),a("div",HS,[a("aside",BS,[a("header",KS,[a("h3",null,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:I,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[G[17]||(G[17]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",JS,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,jS)]),a("form",{class:"nxp-ec-form",onSubmit:ht(V,["prevent"]),autocomplete:"off"},[a("div",WS,[a("label",qS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),Q(a("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":G[3]||(G[3]=Y=>c.code=Y),required:"",maxlength:"64"},null,512),[[pe,c.code,void 0,{trim:!0}]])]),a("div",zS,[a("label",QS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),Q(a("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":G[4]||(G[4]=Y=>c.type=Y)},[a("option",ZS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),a("option",eA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[_t,c.type]])]),a("div",tA,[a("label",nA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),Q(a("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G[5]||(G[5]=Y=>c.value=Y),required:""},null,512),[[pe,c.value,void 0,{number:!0}]])]),a("div",sA,[a("label",aA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),Q(a("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":G[6]||(G[6]=Y=>c.min_total=Y)},null,512),[[pe,c.min_total,void 0,{number:!0}]])]),a("div",iA,[a("label",oA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),Q(a("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":G[7]||(G[7]=Y=>c.start=Y)},null,512),[[pe,c.start]])]),a("div",rA,[a("label",lA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),Q(a("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":G[8]||(G[8]=Y=>c.end=Y)},null,512),[[pe,c.end]])]),a("div",cA,[a("label",dA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),Q(a("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":G[9]||(G[9]=Y=>c.max_uses=Y)},null,512),[[pe,c.max_uses,void 0,{number:!0}]])]),a("div",uA,[a("label",pA,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),Q(a("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":G[10]||(G[10]=Y=>c.active=Y)},null,512),[[ct,c.active]])]),a("footer",_A,[a("button",{class:"nxp-ec-btn",type:"button",onClick:I,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,fA),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,mA)]),c.id?(T(),v("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:G[11]||(G[11]=Y=>w(c)),disabled:e.state.saving},[G[18]||(G[18]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,hA)):oe("",!0)],32)])])])):oe("",!0)]))]))}},[["__scopeId","data-v-db09baa1"]]),EA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},CA={class:"nxp-ec-admin-panel__header"},SA={class:"nxp-ec-admin-panel__title"},AA={class:"nxp-ec-admin-panel__lead"},bA={class:"nxp-ec-settings-tabs"},TA={key:0,class:"nxp-ec-settings-panel"},yA={class:"nxp-ec-settings-panel__header"},RA=["disabled"],OA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},xA={key:1,class:"nxp-ec-admin-panel__loading"},vA={class:"nxp-ec-form-field"},NA={class:"nxp-ec-form-label",for:"settings-store-name"},PA={class:"nxp-ec-form-field"},MA={class:"nxp-ec-form-label",for:"settings-store-email"},IA={class:"nxp-ec-form-field"},kA={class:"nxp-ec-form-label",for:"settings-store-phone"},$A={class:"nxp-ec-form-field"},wA={class:"nxp-ec-form-label",for:"settings-base-currency"},LA=["value"],DA={class:"nxp-ec-form-help"},UA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},YA={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},XA={class:"nxp-ec-form-help"},FA={class:"nxp-ec-form-field"},GA={class:"nxp-ec-form-label",for:"settings-display-locale"},VA={class:"nxp-ec-form-help"},HA={class:"nxp-ec-form-field"},BA={class:"nxp-ec-form-label",for:"settings-category-page-size"},KA={class:"nxp-ec-form-help"},jA={class:"nxp-ec-form-field"},JA={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},WA={value:"paged"},qA={value:"infinite"},zA={class:"nxp-ec-form-help"},QA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ZA={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},eb={class:"nxp-ec-form-help"},tb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},nb={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},sb={class:"nxp-ec-form-help"},ab={key:0,class:"nxp-ec-form-field"},ib={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},ob={class:"nxp-ec-form-help"},rb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},lb={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},cb={class:"nxp-ec-form-help"},db={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},ub={class:"nxp-ec-settings-actions"},pb=["disabled"],_b=["disabled"],fb={key:1,class:"nxp-ec-settings-panel"},mb={class:"nxp-ec-settings-panel__header"},hb=["disabled"],gb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Eb={class:"nxp-ec-form-help"},Cb={class:"nxp-ec-form-grid"},Sb={class:"nxp-ec-form-field"},Ab={class:"nxp-ec-form-label",for:"settings-checkout-window"},bb={class:"nxp-ec-form-help"},Tb={class:"nxp-ec-form-field"},yb={class:"nxp-ec-form-label",for:"settings-offline-window"},Rb={class:"nxp-ec-form-help"},Ob={class:"nxp-ec-form-grid"},xb={class:"nxp-ec-form-field"},vb={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},Nb={class:"nxp-ec-form-field"},Pb={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},Mb={class:"nxp-ec-form-field"},Ib={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},kb={class:"nxp-ec-form-grid"},$b={class:"nxp-ec-form-field"},wb={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},Lb={class:"nxp-ec-form-field"},Db={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},Ub={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Yb={class:"nxp-ec-settings-actions"},Xb=["disabled"],Fb=["disabled"],Gb={key:2,class:"nxp-ec-settings-panel"},Vb={class:"nxp-ec-settings-panel__header"},Hb={class:"nxp-ec-settings-actions"},Bb=["disabled"],Kb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},jb={key:1,class:"nxp-ec-admin-panel__loading"},Jb={class:"nxp-ec-form-field"},Wb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},qb={class:"nxp-ec-form-field"},zb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},Qb={class:"nxp-ec-form-field"},Zb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},eT={class:"nxp-ec-form-help"},tT={class:"nxp-ec-form-field"},nT={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},sT={value:"test"},aT={value:"live"},iT={class:"nxp-ec-form-field"},oT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},rT={class:"nxp-ec-form-field"},lT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},cT={class:"nxp-ec-form-field"},dT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},uT={class:"nxp-ec-form-help"},pT={class:"nxp-ec-form-field"},_T={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},fT={value:"sandbox"},mT={value:"live"},hT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},gT={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},ET={class:"nxp-ec-form-field"},CT={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},ST={class:"nxp-ec-form-field nxp-ec-form-field--inline"},AT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},bT={class:"nxp-ec-form-field"},TT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},yT={class:"nxp-ec-form-field"},RT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},OT=["placeholder"],xT={class:"nxp-ec-form-help"},vT={class:"nxp-ec-form-grid"},NT={class:"nxp-ec-form-field"},PT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},MT={class:"nxp-ec-form-field"},IT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},kT={class:"nxp-ec-form-field"},$T={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},wT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},LT={class:"nxp-ec-form-label",for:"settings-payments-configured"},DT={class:"nxp-ec-form-help"},UT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},YT={class:"nxp-ec-settings-actions"},XT=["disabled"],FT=["disabled"],GT={key:3,class:"nxp-ec-settings-panel"},VT={class:"nxp-ec-settings-panel__header"},HT=["disabled"],BT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},KT={key:1,class:"nxp-ec-admin-panel__loading"},jT={class:"nxp-ec-form-help"},JT={class:"nxp-ec-form-help nxp-ec-form-help--muted"},WT={class:"nxp-ec-visual-grid"},qT={class:"nxp-ec-visual-field"},zT={class:"nxp-ec-form-label",for:"visual-primary-color"},QT={class:"nxp-ec-color-input-group"},ZT=["value"],ey=["placeholder"],ty={class:"nxp-ec-visual-field"},ny={class:"nxp-ec-form-label",for:"visual-text-color"},sy={class:"nxp-ec-color-input-group"},ay=["value"],iy=["placeholder"],oy={class:"nxp-ec-visual-field"},ry={class:"nxp-ec-form-label",for:"visual-surface-color"},ly={class:"nxp-ec-color-input-group"},cy=["value"],dy=["placeholder"],uy={class:"nxp-ec-visual-field"},py={class:"nxp-ec-form-label",for:"visual-border-color"},_y={class:"nxp-ec-color-input-group"},fy=["value"],my=["placeholder"],hy={class:"nxp-ec-visual-field"},gy={class:"nxp-ec-form-label",for:"visual-muted-color"},Ey={class:"nxp-ec-color-input-group"},Cy=["value"],Sy=["placeholder"],Ay={class:"nxp-ec-visual-preview"},by={type:"button",class:"nxp-ec-preview-btn"},Ty={class:"nxp-ec-preview-text"},yy={class:"nxp-ec-preview-muted"},Ry={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Oy={class:"nxp-ec-settings-actions"},xy=["disabled"],vy=["disabled"],Ny=dt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=s.settingsState,c=s.paymentsState,p=Xe(["general","security","payments","visual"].includes(s.initialTab)?s.initialTab:"general");fe(()=>{var J;const S=s.baseCurrency||"USD",b=typeof m.baseCurrency=="string"?m.baseCurrency.trim():"",k=typeof((J=o==null?void 0:o.values)==null?void 0:J.base_currency)=="string"?o.values.base_currency.trim():"";return(b!==""?b:k!==""?k:S).toUpperCase()});const m=Ie({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1}),f=Ie({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),l=Ie({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),h=Ie({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),I=fe(()=>{var b,k;const S=(k=(b=o.values)==null?void 0:b.visual_defaults)!=null?k:{};return{primary:S.primary_color||"#4f6d7a",text:S.text_color||"#1f2933",surface:S.surface_color||"#ffffff",border:S.border_color||"#e4e7ec",muted:S.muted_color||"#6b7280"}}),V=fe(()=>{var S,b;return(b=(S=o.values)==null?void 0:S.currencies)!=null?b:[]}),w=fe(()=>({"--nxp-ec-color-primary":h.primaryColor||I.value.primary,"--nxp-ec-color-text":h.textColor||I.value.text,"--nxp-ec-color-surface":h.surfaceColor||I.value.surface,"--nxp-ec-color-border":h.borderColor||I.value.border,"--nxp-ec-color-muted":h.mutedColor||I.value.muted})),K=(S={})=>{var ee,Z,re,F,q,te,le,_e,ce,he,Oe,Te,Pe,Be,E,M,H;const b=(ee=S==null?void 0:S.store)!=null?ee:{},k=(Z=S==null?void 0:S.payments)!=null?Z:{},ae=(re=S==null?void 0:S.visual)!=null?re:{},J=(q=(F=S==null?void 0:S.security)==null?void 0:F.rate_limits)!=null?q:{};Object.assign(m,{storeName:(te=b.name)!=null?te:"",storeEmail:(le=b.email)!=null?le:"",storePhone:(_e=b.phone)!=null?_e:"",checkoutPhoneRequired:!!((ce=S==null?void 0:S.checkout_phone_required)!=null&&ce),paymentsConfigured:!!k.configured,autoSendOrderEmails:!!((he=S==null?void 0:S.auto_send_order_emails)!=null&&he),baseCurrency:typeof(S==null?void 0:S.base_currency)=="string"?S.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(S==null?void 0:S.display_locale)=="string"?S.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(S==null?void 0:S.category_page_size))?Number(S.category_page_size):12,categoryPaginationMode:(S==null?void 0:S.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((Oe=S==null?void 0:S.stale_order_cleanup_enabled)!=null&&Oe),staleOrderHours:Number.isFinite(Number(S==null?void 0:S.stale_order_hours))?Math.max(1,Math.min(720,Number(S.stale_order_hours))):48,showAdvancedMode:!!((Te=S==null?void 0:S.show_advanced_mode)!=null&&Te)}),Object.assign(h,{primaryColor:(Pe=ae.primary_color)!=null?Pe:"",textColor:(Be=ae.text_color)!=null?Be:"",surfaceColor:(E=ae.surface_color)!=null?E:"",borderColor:(M=ae.border_color)!=null?M:"",mutedColor:(H=ae.muted_color)!=null?H:""}),Object.assign(f,{checkoutWindowMinutes:Number.isFinite(Number(J.checkout_window_minutes))?Number(J.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(J.checkout_ip_limit))?Number(J.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(J.checkout_email_limit))?Number(J.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(J.checkout_session_limit))?Number(J.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(J.offline_window_minutes))?Number(J.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(J.offline_ip_limit))?Number(J.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(J.offline_email_limit))?Number(J.offline_email_limit):5})},L=(S={})=>{var ee,Z,re,F,q,te,le,_e,ce,he,Oe,Te,Pe,Be,E,M,H,y,A,X,g,_,C,N;const b=(ee=S.stripe)!=null?ee:{},k=(Z=S.paypal)!=null?Z:{},ae=(re=S.cod)!=null?re:{},J=(F=S.bank_transfer)!=null?F:{};Object.assign(l.stripe,{publishable_key:(q=b.publishable_key)!=null?q:"",secret_key:(te=b.secret_key)!=null?te:"",webhook_secret:(le=b.webhook_secret)!=null?le:"",mode:(_e=b.mode)!=null?_e:"test"}),Object.assign(l.paypal,{client_id:(ce=k.client_id)!=null?ce:"",client_secret:(he=k.client_secret)!=null?he:"",webhook_id:(Oe=k.webhook_id)!=null?Oe:"",mode:(Te=k.mode)!=null?Te:"sandbox"}),Object.assign(l.cod,{enabled:ae.enabled!==void 0?!!ae.enabled:l.cod.enabled,label:(Be=(Pe=ae.label)!=null?Pe:l.cod.label)!=null?Be:"Cash on delivery"}),Object.assign(l.bank_transfer,{enabled:J.enabled!==void 0?!!J.enabled:l.bank_transfer.enabled,label:(M=(E=J.label)!=null?E:l.bank_transfer.label)!=null?M:"Bank transfer",instructions:(y=(H=J.instructions)!=null?H:l.bank_transfer.instructions)!=null?y:"",account_name:(X=(A=J.account_name)!=null?A:l.bank_transfer.account_name)!=null?X:"",iban:(_=(g=J.iban)!=null?g:l.bank_transfer.iban)!=null?_:"",bic:(N=(C=J.bic)!=null?C:l.bank_transfer.bic)!=null?N:""})};Ye(()=>o.values,S=>{K(S!=null?S:{})},{immediate:!0});const $=()=>i("refresh-settings"),U=()=>{const S=(m.baseCurrency||"").trim().toUpperCase(),b=(m.displayLocale||"").trim();i("save-settings",{store:{name:m.storeName,email:m.storeEmail,phone:m.storePhone,base_currency:S},payments:{configured:m.paymentsConfigured},base_currency:S,display_locale:b,checkout_phone_required:m.checkoutPhoneRequired,auto_send_order_emails:m.autoSendOrderEmails,category_page_size:Number.isFinite(Number(m.categoryPageSize))?Number(m.categoryPageSize):12,category_pagination_mode:m.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!m.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(m.staleOrderHours))?Math.max(1,Math.min(720,Number(m.staleOrderHours))):48,show_advanced_mode:!!m.showAdvancedMode})},G=()=>{var S;K((S=o.values)!=null?S:{})},Y=()=>{const S=(b,k=0)=>{const ae=Number(b);return Number.isFinite(ae)&&ae>=0?ae:k};i("save-settings",{security:{rate_limits:{checkout_window_minutes:S(f.checkoutWindowMinutes,15),checkout_ip_limit:S(f.checkoutIpLimit,10),checkout_email_limit:S(f.checkoutEmailLimit,5),checkout_session_limit:S(f.checkoutSessionLimit,15),offline_window_minutes:S(f.offlineWindowMinutes,240),offline_ip_limit:S(f.offlineIpLimit,10),offline_email_limit:S(f.offlineEmailLimit,5)}}})},O=()=>{var S;K((S=o.values)!=null?S:{})};Ye(()=>o.saving,(S,b)=>{var k;b&&!S&&!o.error&&K((k=o.values)!=null?k:{})}),Ye(()=>c.config,S=>{L(S!=null?S:{})},{immediate:!0}),Ye(()=>c.saving,(S,b)=>{var k;b&&!S&&!c.error&&L((k=c.config)!=null?k:{})});const ne=()=>i("refresh-payments"),de=()=>{const S=JSON.parse(JSON.stringify(l));i("save-payments",S),i("save-settings",{payments:{configured:m.paymentsConfigured}})},ge=()=>{var S;L((S=c.config)!=null?S:{})},W=()=>i("refresh-settings"),j=()=>{i("save-settings",{visual:{primary_color:h.primaryColor,text_color:h.textColor,surface_color:h.surfaceColor,border_color:h.borderColor,muted_color:h.mutedColor}})},z=()=>{var b,k,ae,J,ee,Z,re;const S=(k=(b=o.values)==null?void 0:b.visual)!=null?k:{};Object.assign(h,{primaryColor:(ae=S.primary_color)!=null?ae:"",textColor:(J=S.text_color)!=null?J:"",surfaceColor:(ee=S.surface_color)!=null?ee:"",borderColor:(Z=S.border_color)!=null?Z:"",mutedColor:(re=S.muted_color)!=null?re:""})};return(S,b)=>(T(),v("section",EA,[a("header",CA,[a("div",null,[a("h2",SA,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),a("p",AA,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),a("nav",bA,[a("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="general"}]),onClick:b[0]||(b[0]=k=>p.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),m.showAdvancedMode?(T(),v("button",{key:0,type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="security"}]),onClick:b[1]||(b[1]=k=>p.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):oe("",!0),a("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="payments"}]),onClick:b[2]||(b[2]=k=>p.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),a("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":p.value==="visual"}]),onClick:b[3]||(b[3]=k=>p.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),p.value==="general"?(T(),v("div",TA,[a("header",yA,[a("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:$,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,RA)]),r(o).error?(T(),v("div",OA,d(r(o).error),1)):r(o).loading?(T(),v("div",xA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(T(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:ht(U,["prevent"])},[a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),a("div",vA,[a("label",NA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),Q(a("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[4]||(b[4]=k=>m.storeName=k),maxlength:"190"},null,512),[[pe,m.storeName,void 0,{trim:!0}]])]),a("div",PA,[a("label",MA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),Q(a("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":b[5]||(b[5]=k=>m.storeEmail=k)},null,512),[[pe,m.storeEmail,void 0,{trim:!0}]])]),a("div",IA,[a("label",kA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),Q(a("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[6]||(b[6]=k=>m.storePhone=k),maxlength:"64"},null,512),[[pe,m.storePhone,void 0,{trim:!0}]])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),a("div",$A,[a("label",wA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),Q(a("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":b[7]||(b[7]=k=>m.baseCurrency=k),required:""},[(T(!0),v(Ce,null,Re(V.value,k=>(T(),v("option",{key:k.code,value:k.code},d(k.label),9,LA))),128))],512),[[_t,m.baseCurrency]]),a("p",DA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),a("div",UA,[a("label",YA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),Q(a("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":b[8]||(b[8]=k=>m.checkoutPhoneRequired=k)},null,512),[[ct,m.checkoutPhoneRequired]]),a("p",XA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),a("div",FA,[a("label",GA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),Q(a("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[9]||(b[9]=k=>m.displayLocale=k),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[pe,m.displayLocale,void 0,{trim:!0}]]),a("p",VA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),a("div",HA,[a("label",BA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),Q(a("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":b[10]||(b[10]=k=>m.categoryPageSize=k)},null,512),[[pe,m.categoryPageSize,void 0,{number:!0}]]),a("p",KA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),a("div",jA,[a("label",JA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),Q(a("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":b[11]||(b[11]=k=>m.categoryPaginationMode=k)},[a("option",WA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),a("option",qA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[_t,m.categoryPaginationMode]]),a("p",zA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),a("div",QA,[a("label",ZA,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),Q(a("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":b[12]||(b[12]=k=>m.autoSendOrderEmails=k)},null,512),[[ct,m.autoSendOrderEmails]]),a("p",eb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),a("div",tb,[a("label",nb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),Q(a("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":b[13]||(b[13]=k=>m.staleOrderCleanupEnabled=k)},null,512),[[ct,m.staleOrderCleanupEnabled]]),a("p",sb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),m.staleOrderCleanupEnabled?(T(),v("div",ab,[a("label",ib,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),Q(a("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":b[14]||(b[14]=k=>m.staleOrderHours=k)},null,512),[[pe,m.staleOrderHours,void 0,{number:!0}]]),a("p",ob,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):oe("",!0)]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),a("div",rb,[a("label",lb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),Q(a("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":b[15]||(b[15]=k=>m.showAdvancedMode=k)},null,512),[[ct,m.showAdvancedMode]]),a("p",cb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),r(o).message?(T(),v("div",db,d(r(o).message),1)):oe("",!0),a("div",ub,[a("button",{class:"nxp-ec-btn",type:"button",onClick:G,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,pb),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,_b)])],32))])):p.value==="security"&&m.showAdvancedMode?(T(),v("div",fb,[a("header",mb,[a("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:$,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,hb)]),r(o).error?(T(),v("div",gb,d(r(o).error),1)):(T(),v("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:ht(Y,["prevent"])},[a("p",Eb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),a("div",Cb,[a("div",Sb,[a("label",Ab,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),Q(a("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":b[16]||(b[16]=k=>f.checkoutWindowMinutes=k)},null,512),[[pe,f.checkoutWindowMinutes,void 0,{number:!0}]]),a("p",bb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),a("div",Tb,[a("label",yb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),Q(a("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":b[17]||(b[17]=k=>f.offlineWindowMinutes=k)},null,512),[[pe,f.offlineWindowMinutes,void 0,{number:!0}]]),a("p",Rb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),a("div",Ob,[a("div",xb,[a("label",vb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),Q(a("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":b[18]||(b[18]=k=>f.checkoutIpLimit=k)},null,512),[[pe,f.checkoutIpLimit,void 0,{number:!0}]])]),a("div",Nb,[a("label",Pb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),Q(a("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":b[19]||(b[19]=k=>f.checkoutEmailLimit=k)},null,512),[[pe,f.checkoutEmailLimit,void 0,{number:!0}]])]),a("div",Mb,[a("label",Ib,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),Q(a("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":b[20]||(b[20]=k=>f.checkoutSessionLimit=k)},null,512),[[pe,f.checkoutSessionLimit,void 0,{number:!0}]])])]),a("div",kb,[a("div",$b,[a("label",wb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),Q(a("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":b[21]||(b[21]=k=>f.offlineIpLimit=k)},null,512),[[pe,f.offlineIpLimit,void 0,{number:!0}]])]),a("div",Lb,[a("label",Db,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),Q(a("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":b[22]||(b[22]=k=>f.offlineEmailLimit=k)},null,512),[[pe,f.offlineEmailLimit,void 0,{number:!0}]])])]),r(o).message?(T(),v("div",Ub,d(r(o).message),1)):oe("",!0),a("div",Yb,[a("button",{class:"nxp-ec-btn",type:"button",onClick:O,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,Xb),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,Fb)])],32))])):p.value==="payments"?(T(),v("div",Gb,[a("header",Vb,[a("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),a("div",Hb,[a("button",{class:"nxp-ec-btn",type:"button",onClick:ne,disabled:r(c).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,Bb)])]),r(c).error?(T(),v("div",Kb,d(r(c).error),1)):r(c).loading?(T(),v("div",jb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(T(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:ht(de,["prevent"])},[a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),a("div",Jb,[a("label",Wb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),Q(a("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[23]||(b[23]=k=>l.stripe.publishable_key=k)},null,512),[[pe,l.stripe.publishable_key,void 0,{trim:!0}]])]),a("div",qb,[a("label",zb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),Q(a("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":b[24]||(b[24]=k=>l.stripe.secret_key=k),autocomplete:"off"},null,512),[[pe,l.stripe.secret_key,void 0,{trim:!0}]])]),a("div",Qb,[a("label",Zb,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),Q(a("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":b[25]||(b[25]=k=>l.stripe.webhook_secret=k),autocomplete:"off"},null,512),[[pe,l.stripe.webhook_secret,void 0,{trim:!0}]]),a("p",eT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),a("div",tT,[a("label",nT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Q(a("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":b[26]||(b[26]=k=>l.stripe.mode=k)},[a("option",sT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),a("option",aT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[_t,l.stripe.mode]])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),a("div",iT,[a("label",oT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),Q(a("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[27]||(b[27]=k=>l.paypal.client_id=k)},null,512),[[pe,l.paypal.client_id,void 0,{trim:!0}]])]),a("div",rT,[a("label",lT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),Q(a("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":b[28]||(b[28]=k=>l.paypal.client_secret=k),autocomplete:"off"},null,512),[[pe,l.paypal.client_secret,void 0,{trim:!0}]])]),a("div",cT,[a("label",dT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),Q(a("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[29]||(b[29]=k=>l.paypal.webhook_id=k)},null,512),[[pe,l.paypal.webhook_id,void 0,{trim:!0}]]),a("p",uT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),a("div",pT,[a("label",_T,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),Q(a("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":b[30]||(b[30]=k=>l.paypal.mode=k)},[a("option",fT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),a("option",mT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[_t,l.paypal.mode]])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),a("div",hT,[a("label",gT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),Q(a("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":b[31]||(b[31]=k=>l.cod.enabled=k)},null,512),[[ct,l.cod.enabled]])]),a("div",ET,[a("label",CT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),Q(a("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[32]||(b[32]=k=>l.cod.label=k),placeholder:"Cash on delivery"},null,512),[[pe,l.cod.label,void 0,{trim:!0}]])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),a("div",ST,[a("label",AT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),Q(a("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":b[33]||(b[33]=k=>l.bank_transfer.enabled=k)},null,512),[[ct,l.bank_transfer.enabled]])]),a("div",bT,[a("label",TT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),Q(a("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[34]||(b[34]=k=>l.bank_transfer.label=k),placeholder:"Bank transfer"},null,512),[[pe,l.bank_transfer.label,void 0,{trim:!0}]])]),a("div",yT,[a("label",RT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),Q(a("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":b[35]||(b[35]=k=>l.bank_transfer.instructions=k),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,OT),[[pe,l.bank_transfer.instructions]]),a("p",xT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),a("div",vT,[a("div",NT,[a("label",PT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),Q(a("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[36]||(b[36]=k=>l.bank_transfer.account_name=k)},null,512),[[pe,l.bank_transfer.account_name,void 0,{trim:!0}]])]),a("div",MT,[a("label",IT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),Q(a("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[37]||(b[37]=k=>l.bank_transfer.iban=k),maxlength:"34"},null,512),[[pe,l.bank_transfer.iban,void 0,{trim:!0}]])]),a("div",kT,[a("label",$T,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),Q(a("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[38]||(b[38]=k=>l.bank_transfer.bic=k),maxlength:"11"},null,512),[[pe,l.bank_transfer.bic,void 0,{trim:!0}]])])])]),a("fieldset",null,[a("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),a("div",wT,[a("label",LT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),Q(a("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":b[39]||(b[39]=k=>m.paymentsConfigured=k)},null,512),[[ct,m.paymentsConfigured]]),a("p",DT,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),r(c).message?(T(),v("div",UT,d(r(c).message),1)):oe("",!0),a("div",YT,[a("button",{class:"nxp-ec-btn",type:"button",onClick:ge,disabled:r(c).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,XT),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(c).saving},d(r(c).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,FT)])],32))])):p.value==="visual"?(T(),v("div",GT,[a("header",VT,[a("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:W,disabled:r(o).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,HT)]),r(o).error?(T(),v("div",BT,d(r(o).error),1)):r(o).loading?(T(),v("div",KT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(T(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:ht(j,["prevent"])},[a("p",jT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),a("p",JT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),a("div",WT,[a("div",qT,[a("label",zT,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),a("div",QT,[a("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:h.primaryColor||I.value.primary,onInput:b[40]||(b[40]=k=>h.primaryColor=k.target.value)},null,40,ZT),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[41]||(b[41]=k=>h.primaryColor=k),placeholder:I.value.primary,maxlength:"7"},null,8,ey),[[pe,h.primaryColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:b[42]||(b[42]=k=>h.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),a("div",ty,[a("label",ny,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),a("div",sy,[a("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:h.textColor||I.value.text,onInput:b[43]||(b[43]=k=>h.textColor=k.target.value)},null,40,ay),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[44]||(b[44]=k=>h.textColor=k),placeholder:I.value.text,maxlength:"7"},null,8,iy),[[pe,h.textColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:b[45]||(b[45]=k=>h.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),a("div",oy,[a("label",ry,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),a("div",ly,[a("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:h.surfaceColor||I.value.surface,onInput:b[46]||(b[46]=k=>h.surfaceColor=k.target.value)},null,40,cy),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[47]||(b[47]=k=>h.surfaceColor=k),placeholder:I.value.surface,maxlength:"7"},null,8,dy),[[pe,h.surfaceColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:b[48]||(b[48]=k=>h.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),a("div",uy,[a("label",py,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),a("div",_y,[a("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:h.borderColor||I.value.border,onInput:b[49]||(b[49]=k=>h.borderColor=k.target.value)},null,40,fy),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[50]||(b[50]=k=>h.borderColor=k),placeholder:I.value.border,maxlength:"7"},null,8,my),[[pe,h.borderColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:b[51]||(b[51]=k=>h.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),a("div",hy,[a("label",gy,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),a("div",Ey,[a("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:h.mutedColor||I.value.muted,onInput:b[52]||(b[52]=k=>h.mutedColor=k.target.value)},null,40,Cy),Q(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[53]||(b[53]=k=>h.mutedColor=k),placeholder:I.value.muted,maxlength:"7"},null,8,Sy),[[pe,h.mutedColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:b[54]||(b[54]=k=>h.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),a("div",Ay,[a("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),a("div",{class:"nxp-ec-preview-box",style:Mt(w.value)},[a("button",by,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),a("p",Ty,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),a("p",yy,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),r(o).message?(T(),v("div",Ry,d(r(o).message),1)):oe("",!0),a("div",Oy,[a("button",{class:"nxp-ec-btn",type:"button",onClick:z,disabled:r(o).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,xy),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(o).saving},d(r(o).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,vy)])],32))])):oe("",!0)]))}},[["__scopeId","data-v-cd4cbd92"]]),Py={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},My={class:"nxp-ec-admin-panel__header"},Iy={class:"nxp-ec-admin-panel__title"},ky={class:"nxp-ec-admin-panel__lead"},$y={class:"nxp-ec-admin-panel__actions"},wy=["disabled","title","aria-label"],Ly={class:"nxp-ec-sr-only"},Dy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Uy={key:1,class:"nxp-ec-admin-panel__loading"},Yy={key:2,class:"nxp-ec-admin-panel__body"},Xy={class:"nxp-ec-admin-panel__table"},Fy={class:"nxp-ec-admin-table"},Gy={scope:"col"},Vy={scope:"col"},Hy={scope:"col"},By={scope:"col"},Ky={scope:"col"},jy={key:0},Jy={colspan:"6"},Wy={scope:"row",class:"nxp-ec-admin-table__primary"},qy=["data-label"],zy=["data-label"],Qy=["data-label"],Zy=["data-label"],eR={class:"nxp-ec-admin-table__actions"},tR=["onClick","title","aria-label"],nR={class:"nxp-ec-sr-only"},sR=["onClick","title","aria-label"],aR={class:"nxp-ec-sr-only"},iR={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},oR={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},rR={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},lR={class:"nxp-ec-admin-panel__sidebar-header"},cR=["title","aria-label"],dR={class:"nxp-ec-sr-only"},uR={class:"nxp-ec-form-field"},pR={class:"nxp-ec-form-label",for:"tax-country"},_R=["placeholder"],fR={class:"nxp-ec-form-help"},mR={class:"nxp-ec-form-field"},hR={class:"nxp-ec-form-label",for:"tax-region"},gR=["placeholder"],ER={class:"nxp-ec-form-help"},CR={class:"nxp-ec-form-field"},SR={class:"nxp-ec-form-label",for:"tax-rate"},AR={class:"nxp-ec-input-group"},bR={class:"nxp-ec-form-field nxp-ec-form-field--inline"},TR={class:"nxp-ec-form-label",for:"tax-inclusive"},yR={class:"nxp-ec-form-help"},RR={class:"nxp-ec-form-field"},OR={class:"nxp-ec-form-label",for:"tax-priority"},xR={class:"nxp-ec-form-help"},vR={class:"nxp-ec-modal__actions"},NR=["disabled"],PR=["disabled"],MR=["disabled"],IR=dt({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=Xe(!1),c=Ie({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),u=()=>i("refresh"),p=()=>{l(),o.value=!0},m=V=>{Object.assign(c,{id:V.id,country:V.country,region:V.region,rate:V.rate,inclusive:V.inclusive,priority:V.priority}),o.value=!0},f=()=>{o.value=!1,l()},l=()=>{Object.assign(c,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},h=()=>{i("save",{id:c.id||void 0,country:c.country,region:c.region,rate:c.rate,inclusive:c.inclusive,priority:c.priority})},I=V=>{const w=n("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(w)&&(i("delete",[V.id]),c.id===V.id&&f())};return Ye(()=>s.state.saving,(V,w)=>{w&&!V&&!s.state.error&&f()}),(V,w)=>(T(),v("section",Py,[a("header",My,[a("div",null,[a("h2",Iy,d(r(n)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),a("p",ky,d(r(n)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),a("div",$y,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[w[6]||(w[6]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",Ly,d(r(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,wy),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[w[7]||(w[7]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(T(),v("div",Dy,d(e.state.error),1)):oe("",!0),e.state.loading?(T(),v("div",Uy,d(r(n)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):oe("",!0),e.state.loading?oe("",!0):(T(),v("div",Yy,[a("div",Xy,[a("table",Fy,[a("thead",null,[a("tr",null,[a("th",Gy,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),a("th",Vy,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),a("th",Hy,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),a("th",By,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),a("th",Ky,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),w[8]||(w[8]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?oe("",!0):(T(),v("tr",jy,[a("td",Jy,d(r(n)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(T(!0),v(Ce,null,Re(e.state.items,K=>{var L;return T(),v("tr",{key:K.id,class:Me({"is-active":c.id===K.id})},[a("th",Wy,d(K.country),1),a("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_REGION","Region")},d(K.region||""),9,qy),a("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_RATE","Rate")},d(((L=K.rate)!=null?L:0).toFixed(2))+"%",9,zy),a("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[a("span",{class:Me(["nxp-ec-badge",{"is-active":K.inclusive}])},[a("i",{class:Me(K.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ye(" "+d(K.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,Qy),a("td",{"data-label":r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},d(K.priority),9,Zy),a("td",eR,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:$=>m(K),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[w[9]||(w[9]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",nR,d(r(n)("JEDIT","Edit")),1)],8,tR),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:$=>I(K),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[w[10]||(w[10]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",aR,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,sR)])],2)}),128))])])]),o.value?(T(),v("div",iR,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:f}),a("div",oR,[a("aside",rR,[a("header",lR,[a("h3",null,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:f,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[w[11]||(w[11]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",dR,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,cR)]),a("form",{class:"nxp-ec-form",onSubmit:ht(h,["prevent"]),autocomplete:"off"},[a("div",uR,[a("label",pR,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),Q(a("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w[0]||(w[0]=K=>c.country=K),maxlength:"2",required:"",placeholder:r(n)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,_R),[[pe,c.country,void 0,{trim:!0}]]),a("p",fR,d(r(n)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),a("div",mR,[a("label",hR,d(r(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),Q(a("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w[1]||(w[1]=K=>c.region=K),placeholder:r(n)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,gR),[[pe,c.region,void 0,{trim:!0}]]),a("p",ER,d(r(n)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),a("div",CR,[a("label",SR,d(r(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),a("div",AR,[Q(a("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":w[2]||(w[2]=K=>c.rate=K),required:""},null,512),[[pe,c.rate,void 0,{number:!0}]]),w[12]||(w[12]=a("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),a("div",bR,[a("label",TR,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),Q(a("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":w[3]||(w[3]=K=>c.inclusive=K)},null,512),[[ct,c.inclusive]]),a("p",yR,d(r(n)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),a("div",RR,[a("label",OR,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),Q(a("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":w[4]||(w[4]=K=>c.priority=K)},null,512),[[pe,c.priority,void 0,{number:!0}]]),a("p",xR,d(r(n)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),a("footer",vR,[a("button",{class:"nxp-ec-btn",type:"button",onClick:f,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,NR),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,PR)]),c.id?(T(),v("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:w[5]||(w[5]=K=>I(c)),disabled:e.state.saving},[w[13]||(w[13]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,MR)):oe("",!0)],32)])])])):oe("",!0)]))]))}},[["__scopeId","data-v-da8d9dda"]]),kR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},$R={class:"nxp-ec-admin-panel__header"},wR={class:"nxp-ec-admin-panel__title"},LR={class:"nxp-ec-admin-panel__lead"},DR={class:"nxp-ec-admin-panel__actions"},UR=["disabled","title","aria-label"],YR={class:"nxp-ec-sr-only"},XR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},FR={key:1,class:"nxp-ec-admin-panel__loading"},GR={key:2,class:"nxp-ec-admin-panel__body"},VR={class:"nxp-ec-admin-panel__table"},HR={class:"nxp-ec-admin-table"},BR={scope:"col"},KR={scope:"col"},jR={scope:"col"},JR={scope:"col"},WR={scope:"col"},qR={scope:"col"},zR={key:0},QR={colspan:"7"},ZR={scope:"row",class:"nxp-ec-admin-table__primary"},eO=["data-label"],tO=["data-label"],nO=["data-label"],sO=["data-label"],aO=["data-label"],iO={class:"nxp-ec-admin-table__actions"},oO=["onClick","title","aria-label"],rO={class:"nxp-ec-sr-only"},lO=["onClick","title","aria-label"],cO={class:"nxp-ec-sr-only"},dO={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},uO={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},pO={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},_O={class:"nxp-ec-admin-panel__sidebar-header"},fO=["title","aria-label"],mO={class:"nxp-ec-sr-only"},hO={class:"nxp-ec-form-field"},gO={class:"nxp-ec-form-label",for:"shipping-name"},EO=["placeholder"],CO={class:"nxp-ec-form-field"},SO={class:"nxp-ec-form-label",for:"shipping-type"},AO={value:"flat"},bO={value:"free_over"},TO={class:"nxp-ec-form-help"},yO={class:"nxp-ec-form-field"},RO={class:"nxp-ec-form-label",for:"shipping-price"},OO={class:"nxp-ec-input-group"},xO={class:"nxp-ec-input-group__prefix"},vO={key:0,class:"nxp-ec-form-field"},NO={class:"nxp-ec-form-label",for:"shipping-threshold"},PO={class:"nxp-ec-input-group"},MO={class:"nxp-ec-input-group__prefix"},IO={class:"nxp-ec-form-help"},kO={class:"nxp-ec-form-field"},$O={class:"nxp-ec-form-label",for:"shipping-regions"},wO=["placeholder"],LO={class:"nxp-ec-form-help"},DO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},UO={class:"nxp-ec-form-label",for:"shipping-active"},YO={class:"nxp-ec-form-help"},XO={class:"nxp-ec-modal__actions"},FO=["disabled"],GO=["disabled"],VO=["disabled"],HO=dt({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=fe(()=>{const L=s.baseCurrency;return typeof L=="string"&&L.trim()!==""?L.trim().toUpperCase():"USD"}),c=Xe(!1),u=Ie({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),p=()=>i("refresh"),m=()=>{h(),c.value=!0},f=L=>{var $,U,G;Object.assign(u,{id:L.id,name:L.name,type:L.type,price:(U=L.price)!=null?U:(($=L.price_cents)!=null?$:0)/100,threshold:L.threshold!==null&&L.threshold!==void 0?L.threshold:((G=L.threshold_cents)!=null?G:0)/100,regions:L.regions&&L.regions.length?L.regions.join(", "):"",active:L.active}),c.value=!0},l=()=>{c.value=!1,h()},h=()=>{Object.assign(u,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},I=()=>{const L={id:u.id||void 0,name:u.name,type:u.type,price:u.price,threshold:u.type==="free_over"?u.threshold:0,regions:u.regions,active:u.active};i("save",L)},V=L=>{const $=n("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm($)&&(i("delete",[L.id]),u.id===L.id&&l())};Ye(()=>s.state.saving,(L,$)=>{$&&!L&&!s.state.error&&l()});const w=(L,$)=>{const U=(Number(L)||0)/100,G=($||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:G}).format(U)}catch(Y){return`${G} ${U.toFixed(2)}`}},K=L=>L==="free_over"?n("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):n("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(L,$)=>(T(),v("section",kR,[a("header",$R,[a("div",null,[a("h2",wR,d(r(n)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),a("p",LR,d(r(n)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),a("div",DR,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[$[7]||($[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",YR,d(r(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,UR),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:m},[$[8]||($[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(T(),v("div",XR,d(e.state.error),1)):oe("",!0),e.state.loading?(T(),v("div",FR,d(r(n)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):oe("",!0),e.state.loading?oe("",!0):(T(),v("div",GR,[a("div",VR,[a("table",HR,[a("thead",null,[a("tr",null,[a("th",BR,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),a("th",KR,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),a("th",jR,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),a("th",JR,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),a("th",WR,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),a("th",qR,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),$[9]||($[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?oe("",!0):(T(),v("tr",zR,[a("td",QR,d(r(n)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(T(!0),v(Ce,null,Re(e.state.items,U=>(T(),v("tr",{key:U.id,class:Me({"is-active":u.id===U.id})},[a("th",ZR,d(U.name),1),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},d(K(U.type)),9,eO),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},d(w(U.price_cents,o.value)),9,tO),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},d(U.type==="free_over"?w(U.threshold_cents,o.value):""),9,nO),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},d(U.regions&&U.regions.length?U.regions.join(", "):r(n)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,sO),a("td",{"data-label":r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[a("span",{class:Me(["nxp-ec-badge",{"is-active":U.active}])},[a("i",{class:Me(U.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ye(" "+d(U.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,aO),a("td",iO,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:G=>f(U),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[$[10]||($[10]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",rO,d(r(n)("JEDIT","Edit")),1)],8,oO),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:G=>V(U),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[$[11]||($[11]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",cO,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,lO)])],2))),128))])])]),c.value?(T(),v("div",dO,[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:l}),a("div",uO,[a("aside",pO,[a("header",_O,[a("h3",null,d(u.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:l,title:r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[$[12]||($[12]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",mO,d(r(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,fO)]),a("form",{class:"nxp-ec-form",onSubmit:ht(I,["prevent"]),autocomplete:"off"},[a("div",hO,[a("label",gO,d(r(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),Q(a("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[0]||($[0]=U=>u.name=U),required:"",placeholder:r(n)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,EO),[[pe,u.name,void 0,{trim:!0}]])]),a("div",CO,[a("label",SO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),Q(a("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":$[1]||($[1]=U=>u.type=U)},[a("option",AO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),a("option",bO,d(r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[_t,u.type]]),a("p",TO,d(u.type==="free_over"?r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):r(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),a("div",yO,[a("label",RO,d(r(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),a("div",OO,[a("span",xO,d(o.value),1),Q(a("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$[2]||($[2]=U=>u.price=U),required:""},null,512),[[pe,u.price,void 0,{number:!0}]])])]),u.type==="free_over"?(T(),v("div",vO,[a("label",NO,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),a("div",PO,[a("span",MO,d(o.value),1),Q(a("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$[3]||($[3]=U=>u.threshold=U),required:""},null,512),[[pe,u.threshold,void 0,{number:!0}]])]),a("p",IO,d(r(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):oe("",!0),a("div",kO,[a("label",$O,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),Q(a("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[4]||($[4]=U=>u.regions=U),placeholder:r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,wO),[[pe,u.regions,void 0,{trim:!0}]]),a("p",LO,d(r(n)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),a("div",DO,[a("label",UO,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),Q(a("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":$[5]||($[5]=U=>u.active=U)},null,512),[[ct,u.active]]),a("p",YO,d(r(n)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),a("footer",XO,[a("button",{class:"nxp-ec-btn",type:"button",onClick:l,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,FO),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,GO)]),u.id?(T(),v("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:$[6]||($[6]=U=>V(u)),disabled:e.state.saving},[$[13]||($[13]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ye(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,VO)):oe("",!0)],32)])])])):oe("",!0)]))]))}},[["__scopeId","data-v-d768fdbc"]]),BO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},KO={class:"nxp-ec-admin-panel__header"},jO={class:"nxp-ec-admin-panel__title"},JO={class:"nxp-ec-admin-panel__lead"},WO={class:"nxp-ec-admin-panel__actions"},qO=["placeholder","aria-label"],zO=["value"],QO={value:""},ZO=["value"],ex=["disabled","title","aria-label"],tx={class:"nxp-ec-sr-only"},nx={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},sx={key:1,class:"nxp-ec-admin-panel__body"},ax={key:2,class:"nxp-ec-admin-panel__body"},ix={class:"nxp-ec-admin-panel__table"},ox={class:"nxp-ec-admin-table"},rx={scope:"col"},lx={scope:"col"},cx={scope:"col"},dx={scope:"col"},ux={scope:"col"},px={key:0},_x={colspan:"5"},fx=["data-label"],mx=["data-label"],hx={class:"nxp-ec-log-entity"},gx={class:"nxp-ec-log-entity-id"},Ex=["data-label"],Cx=["data-label"],Sx=["data-label"],Ax={class:"nxp-ec-log-context"},bx={key:0,class:"nxp-ec-admin-pagination"},Tx=["disabled"],yx={class:"nxp-ec-admin-pagination__status"},Rx=["disabled"],Ox=["title"],xx=dt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,o=s.state,c=fe(()=>{const K=new Set;return Array.isArray(o.items)&&o.items.forEach(L=>{L!=null&&L.entity_type&&K.add(L.entity_type)}),o.entity&&K.add(o.entity),Array.from(K).sort()}),u=()=>i("refresh"),p=()=>i("search"),m=K=>i("filter",K),f=K=>i("page",K),l=K=>{if(!K)return"";try{const L=new Date(K.replace(" ","T"));if(!Number.isNaN(L.getTime()))return L.toLocaleString()}catch(L){}return K},h=K=>{if(!K)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(K){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return K.charAt(0).toUpperCase()+K.slice(1)}},I=K=>{if(!(K!=null&&K.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const L=K.user.name||"",$=K.user.username||"";return L&&$?`${L} (${$})`:L||$||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},V=K=>{if(!K||Array.isArray(K)&&!K.length||typeof K=="object"&&!Object.keys(K).length)return"";try{return JSON.stringify(K,null,2)}catch(L){return String(K)}},w=K=>{if(!K)return"";try{const L=new Date(K),U=new Date-L,G=Math.floor(U/1e3),Y=Math.floor(G/60),O=Math.floor(Y/60);return G<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Y<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Y]):O<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[O]):L.toLocaleString()}catch(L){return K}};return(K,L)=>(T(),v("section",BO,[a("header",KO,[a("div",null,[a("h2",jO,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),a("p",JO,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),a("div",WO,[Q(a("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":L[0]||(L[0]=$=>r(o).search=$),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:zt(p,["enter"])},null,40,qO),[[pe,r(o).search]]),a("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(o).entity,onChange:L[1]||(L[1]=$=>m($.target.value)),"aria-label":"Entity filter"},[a("option",QO,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(T(!0),v(Ce,null,Re(c.value,$=>(T(),v("option",{key:$,value:$},d(h($)),9,ZO))),128))],40,zO),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(o).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[L[4]||(L[4]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",tx,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,ex)])]),r(o).error?(T(),v("div",nx,d(r(o).error),1)):oe("",!0),r(o).loading?(T(),v("div",sx,[He(Dn,{type:"table",rows:5,columns:5})])):oe("",!0),r(o).loading?oe("",!0):(T(),v("div",ax,[a("div",ix,[a("table",ox,[a("thead",null,[a("tr",null,[a("th",rx,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),a("th",lx,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),a("th",cx,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),a("th",dx,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),a("th",ux,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),a("tbody",null,[r(o).items.length?oe("",!0):(T(),v("tr",px,[a("td",_x,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(T(!0),v(Ce,null,Re(r(o).items,$=>(T(),v("tr",{key:$.id},[a("td",{class:"nxp-ec-admin-table__primary","data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},d(l($.created)),9,fx),a("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[a("span",hx,d(h($.entity_type)),1),a("span",gx,"#"+d($.entity_id),1)],8,mx),a("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},d($.action),9,Ex),a("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},d(I($)),9,Cx),a("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[a("pre",Ax,d(V($.context)),1)],8,Sx)]))),128))])]),r(o).pagination.pages>1?(T(),v("div",bx,[a("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current<=1,onClick:L[2]||(L[2]=$=>f(r(o).pagination.current-1))},"  ",8,Tx),a("span",yx,d(r(o).pagination.current)+" / "+d(r(o).pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current>=r(o).pagination.pages,onClick:L[3]||(L[3]=$=>f(r(o).pagination.current+1))},"  ",8,Rx)])):oe("",!0)]),r(o).lastUpdated?(T(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(o).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(w(r(o).lastUpdated)),9,Ox)):oe("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),vx={key:0,class:"nxp-ec-onboarding"},Nx={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},Px={class:"nxp-ec-onboarding__header"},Mx={class:"nxp-ec-onboarding__title"},Ix={class:"nxp-ec-onboarding__lead"},kx={class:"nxp-ec-onboarding__progress"},$x={class:"nxp-ec-onboarding__progress-bar"},wx={class:"nxp-ec-onboarding__progress-label"},Lx={class:"nxp-ec-onboarding__steps"},Dx={class:"nxp-ec-onboarding__step-main"},Ux={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},Yx={key:0,class:"fa-solid fa-circle-check"},Xx={key:1,class:"fa-regular fa-circle"},Fx={class:"nxp-ec-onboarding__step-actions"},Gx=["onClick"],Vx=dt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,i=fe(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=fe(()=>`${i.value}%`),o=fe(()=>{const c=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(c),String(t.steps.length)],"onboardingProgress")});return(c,u)=>e.visible?(T(),v("div",vx,[a("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>c.$emit("close"))}),a("section",Nx,[a("header",Px,[a("div",null,[a("h2",Mx,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),a("p",Ix,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),a("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>c.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),a("div",kx,[a("div",$x,[a("span",{style:Mt({width:n.value})},null,4)]),a("span",wx,d(o.value),1)]),a("ol",Lx,[(T(!0),v(Ce,null,Re(e.steps,p=>(T(),v("li",{key:p.id,class:Me({"is-complete":p.completed})},[a("div",Dx,[a("span",Ux,[p.completed?(T(),v("span",Yx)):(T(),v("span",Xx))]),a("div",null,[a("h3",null,d(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),a("p",null,d(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),a("div",Fx,[p.link?(T(),v("button",{key:0,type:"button",class:Me(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:m=>c.$emit("navigate",p)},d(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,Gx)):oe("",!0)])],2))),128))])])])):oe("",!0)}},[["__scopeId","data-v-c2a94811"]]),Hx=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(o){}let i=String(e);return t.forEach(o=>{const c=o!=null?o:"";i=i.replace("%s",String(c))}),i},Bx=(e,t="",s=[])=>{var o;const i=(o=window==null?void 0:window.Joomla)==null?void 0:o.Text;let n=t||e;if(i&&typeof i._=="function"){const c=i._(e);c&&c!==e&&(n=c)}return Hx(n,s)};function Kx(e={}){const t=e||{},s=(n,o)=>{if(!n)return o;const c=t[n];return c!=null&&c!==""?c:o};return{__:(n,o="",c=[],u="")=>{const p=s(u,o);return Bx(n,p,c)}}}class jx{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const i={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};i.headers={...i.headers,...s.headers||{}};const n=String(i.method||"GET").toUpperCase();let o=t;this.token&&(i.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(o=this.ensureTokenOnUrl(o)));const c=await fetch(o,i);let u=null;const p=await c.text();if(p)try{u=JSON.parse(p)}catch(m){}if(!c.ok){const m=new Error((u==null?void 0:u.message)||`Request failed with status ${c.status}`);throw m.code=c.status,m.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,m}if((u==null?void 0:u.success)===!1){const m=new Error(u.message||"Unknown API error");throw m.details=u.data||u.errors||null,m}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const i=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,i);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(i){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,i={}){const n={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,i={}){const n={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var h,I,V,w;const c=new URLSearchParams({limit:String(s),start:String(i)});n&&c.set("search",n);const u=`${t}&${c.toString()}`,m=(h=(await this.get(u,{signal:o})).data)!=null?h:{},f=(V=(I=m.items)!=null?I:m.data)!=null?V:[],l=(w=m.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCategories({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:i=0,search:n="",state:o="",signal:c}){var h,I,V,w;const u=this.mergeParams(t,{limit:s,start:i,search:n||void 0,state:o||void 0}),m=(h=(await this.get(u,{signal:c})).data)!=null?h:{},f=(V=(I=m.items)!=null?I:m.data)!=null?V:[],l=(w=m.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCustomers({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var l,h,I;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(l=(await this.get(c,{signal:o})).data)!=null?l:{},m=(h=p.items)!=null?h:[],f=(I=p.pagination)!=null?I:{total:0,limit:s,pages:0,current:0};return{items:m,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var o,c;const i=this.mergeParams(t,{email:s});return(c=(o=(await this.get(i)).data)==null?void 0:o.customer)!=null?c:null}async fetchCoupons({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?o:null}async updateCoupon({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchTaxRates({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?o:null}async updateTaxRate({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchShippingRules({endpoint:t,limit:s=20,start:i=0,search:n="",signal:o}){var m,f,l;const c=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),p=(m=(await this.get(c,{signal:o})).data)!=null?m:{};return{items:(f=p.items)!=null?f:[],pagination:(l=p.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?o:null}async updateShippingRule({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async fetchLogs({endpoint:t,limit:s=20,start:i=0,search:n="",entity:o="",signal:c}){var f,l,h;const u=this.mergeParams(t,{limit:s,start:i,search:n||void 0,entity:o||void 0}),m=(f=(await this.get(u,{signal:c})).data)!=null?f:{};return{items:(l=m.items)!=null?l:[],pagination:(h=m.pagination)!=null?h:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var i;return t?(i=(await this.get(t)).data)!=null?i:{}:{}}async fetchSettings({endpoint:t}){var i,n;return t?(n=(i=(await this.get(t)).data)==null?void 0:i.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,o;return(o=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?o:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:i=""}){var c,u;const n=this.mergeParams(t,{id:s||void 0,order_no:i||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.post(n,{state:i})).data)==null?void 0:c.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:i}){var c;const n={ids:s,state:i};return(c=(await this.post(t,n)).data)!=null?c:{}}async addOrderNote({endpoint:t,id:s,message:i}){var o,c;return(c=(o=(await this.post(t,{id:s,message:i})).data)==null?void 0:o.order)!=null?c:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:i}){var c,u;const n={id:s||void 0,order_no:i||void 0};return(u=(c=(await this.post(t,n)).data)==null?void 0:c.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:i=""}){var c,u;const n=this.mergeParams(t,{search:s||void 0,state:i||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:i}){var o,c;return(c=(o=(await this.post(t,{id:s,...i})).data)==null?void 0:o.order)!=null?c:null}async sendOrderEmail({endpoint:t,id:s,type:i}){var o,c;return(c=(o=(await this.post(t,{id:s,type:i})).data)==null?void 0:o.order)!=null?c:null}async recordTransaction({endpoint:t,id:s,amountCents:i,reference:n,note:o}){var u,p;return(p=(u=(await this.post(t,{id:s,amount_cents:i,reference:n||void 0,note:o||void 0})).data)==null?void 0:u.order)!=null?p:null}async createProduct({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateProduct({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:[]}async createCategory({endpoint:t,data:s}){var n,o;return(o=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?o:null}async updateCategory({endpoint:t,id:s,data:i}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,i)).data)==null?void 0:c.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,o;return(o=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?o:0}async gdprExport({endpoint:t,email:s}){var o,c;const i=this.mergeParams(t,{email:s});return(c=(o=(await this.get(i)).data)==null?void 0:o.export)!=null?c:null}async gdprAnonymise({endpoint:t,email:s}){var n,o,c,u;const i=await this.post(t,{email:s});return{affected:(o=(n=i.data)==null?void 0:n.affected)!=null?o:0,message:(u=(c=i.data)==null?void 0:c.message)!=null?u:""}}mergeParams(t,s={}){const i=new URLSearchParams;return Object.entries(s).forEach(([n,o])=>{o==null||o===""||i.set(n,String(o))}),i.toString()?`${t}${t.includes("?")?"&":"?"}${i.toString()}`:t}}const gt=e=>new jx(e),io=typeof window!="undefined"&&window.performance;function oo(e){if(io)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function Jx(e,t,s){if(!io)return null;try{performance.measure(e,t,s);const i=performance.getEntriesByName(e,"measure")[0];if(i)return console.log(`[NXP EC Performance] ${e}: ${i.duration.toFixed(2)}ms`),i.duration}catch(i){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,i)}return null}const Cs=Ie({}),Wx=3e5;function qx(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Ot(e,t=Wx){const s=Cs[e];return s?qx(s,t)?s.data:(delete Cs[e],null):null}function Et(e,t){Cs[e]={data:t,timestamp:Date.now()}}function ke(e){delete Cs[e]}function xt(e){const t=Xe({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const c=`${e}-fetch-start`;return oo(c),c},endFetch:c=>{const u=`${e}-fetch-end`;oo(u);const p=Jx(`${e}-fetch`,c,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const ca=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,s);return i.searchParams.set("task",`api.products.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function zx({endpoints:e,token:t,autoload:s=!0,cacheTTL:i=3e5}){var O,ne,de,ge;const n=gt({token:t}),o=xt("products"),c=(O=e==null?void 0:e.list)!=null?O:"",u=(ne=e==null?void 0:e.create)!=null?ne:ca(c,"store"),p=(de=e==null?void 0:e.update)!=null?de:ca(c,"update"),m=(ge=e==null?void 0:e.delete)!=null?ge:ca(c,"delete"),f=typeof AbortController!="undefined",l=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),h=Xe(null),I=()=>{const W=l.pagination.current||1,j=l.pagination.limit||20,z=l.search.trim();return`products:page=${W}:limit=${j}:search=${z}`},V=async(W=!1)=>{var k;if(!c){l.error="Products endpoint unavailable.",l.items=[];return}const j=I(),z=W?null:Ot(j,i);if(z){o.recordCacheHit(),l.items=z.items,l.pagination={...l.pagination,...z.pagination},l.lastUpdated=z.lastUpdated;return}o.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],h.value&&f&&h.value.abort();const S=f?new AbortController:null;h.value=S;const b=o.startFetch();try{const{items:ae,pagination:J}=await n.fetchProducts({endpoint:c,signal:S?S.signal:void 0,limit:l.pagination.limit,start:Math.max(0,(l.pagination.current-1)*l.pagination.limit),search:l.search.trim()});l.items=ae,l.pagination={...l.pagination,...J,current:J.current&&J.current>0?J.current:1},l.lastUpdated=new Date().toISOString(),Et(j,{items:ae,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(ae){if((ae==null?void 0:ae.name)==="AbortError")return;l.error=(k=ae==null?void 0:ae.message)!=null?k:"Unknown error"}finally{o.endFetch(b),f&&h.value===S&&(h.value=null),l.loading=!1}},w=()=>{l.pagination.current=1,ke(I()),V(!0)},K=()=>{l.pagination.current=1,V()},L=W=>W?typeof W=="string"?W:typeof W=="object"&&W.message?String(W.message):String(W):"",$=(W,{setValidation:j=!1}={})=>{var z;if((W==null?void 0:W.code)===422&&j){const S=Array.isArray(W.details)?W.details:[W.details].filter(Boolean);l.validationErrors=S.map(L).filter(b=>b!=="");return}l.error=(z=W==null?void 0:W.message)!=null?z:"Unknown error"},U=async W=>{if(!u)throw new Error("Create endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const j=await n.createProduct({endpoint:u,data:W});return j&&(l.items=[j,...l.items],l.pagination.total+=1,ke(I())),j}catch(j){throw $(j,{setValidation:!0}),j}finally{l.saving=!1}},G=async(W,j)=>{if(!p)throw new Error("Update endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const z=await n.updateProduct({endpoint:p,id:W,data:j});if(z){const S=l.items.findIndex(b=>b.id===z.id);S!==-1&&l.items.splice(S,1,z),ke(I())}return z}catch(z){throw $(z,{setValidation:!0}),z}finally{l.saving=!1}},Y=async W=>{if(!m)throw new Error("Delete endpoint unavailable.");l.deleting=!0,l.validationErrors=[];try{const j=await n.deleteProducts({endpoint:m,ids:W});return j.length&&(l.items=l.items.filter(z=>!j.includes(z.id)),l.pagination.total=Math.max(0,l.pagination.total-j.length),ke(I())),j}catch(j){throw $(j),j}finally{l.deleting=!1}};return ot(()=>{s&&V()}),{state:l,loadProducts:V,refresh:w,search:K,createProduct:U,updateProduct:G,deleteProducts:Y,metrics:o.metrics}}function Qx({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var ne,de,ge,W,j,z,S,b,k,ae,J,ee,Z,re;const o=gt({token:t}),c=xt("categories"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.create)!=null?de:u,m=(ge=e==null?void 0:e.update)!=null?ge:u,f=(W=e==null?void 0:e.delete)!=null?W:u,l=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(b=(S=(j=s.pagination)==null?void 0:j.total)!=null?S:(z=s.items)==null?void 0:z.length)!=null?b:0,limit:(ae=(k=s.pagination)==null?void 0:k.limit)!=null?ae:20,pages:(ee=(J=s.pagination)==null?void 0:J.pages)!=null?ee:0,current:(re=(Z=s.pagination)==null?void 0:Z.current)!=null?re:1},search:"",lastUpdated:null}),h=typeof AbortController!="undefined",I=Xe(null),V=()=>{const F=l.pagination.current||1,q=l.pagination.limit||20,te=l.search.trim();return`categories:page=${F}:limit=${q}:search=${te}`},w=async(F=!1)=>{var ce;if(!u){l.error="Categories endpoint unavailable.",l.items=[];return}const q=V(),te=F?null:Ot(q,n);if(te){c.recordCacheHit(),l.items=te.items,l.pagination={...l.pagination,...te.pagination},l.lastUpdated=te.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],I.value&&h&&I.value.abort();const le=h?new AbortController:null;I.value=le;const _e=c.startFetch();try{const he=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Oe,pagination:Te}=await o.fetchCategories({endpoint:u,limit:l.pagination.limit,start:he,search:l.search.trim(),signal:le?le.signal:void 0});l.items=Oe,l.pagination={...l.pagination,...Te,current:Te.current&&Te.current>0?Te.current:1},l.lastUpdated=new Date().toISOString(),Et(q,{items:Oe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(he){if((he==null?void 0:he.name)==="AbortError")return;l.error=(ce=he==null?void 0:he.message)!=null?ce:"Unknown error"}finally{c.endFetch(_e),h&&I.value===le&&(I.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=()=>{l.pagination.current=1,w()},$=F=>{const q=Number(F);Number.isNaN(q)||q<1||q===l.pagination.current||(l.pagination.current=q,w(!0))},U=(F,{validation:q=!1}={})=>{var te;if(q&&(F==null?void 0:F.code)===422){const le=F.details,_e=Array.isArray(le)?le:[le].filter(Boolean);l.validationErrors=_e.map(ce=>ce?typeof ce=="string"?ce:typeof ce=="object"&&ce.message?String(ce.message):String(ce):"").filter(Boolean);return}l.error=(te=F==null?void 0:F.message)!=null?te:"Unknown error"},G=async F=>{if(!p||!m)throw new Error("Category endpoints unavailable.");l.saving=!0,l.error="",l.validationErrors=[];try{let q=null;return F.id?q=await o.updateCategory({endpoint:m,id:F.id,data:F}):q=await o.createCategory({endpoint:p,data:F}),q&&(ke(V()),await w()),q}catch(q){throw U(q,{validation:!0}),q}finally{l.saving=!1}},Y=async F=>{if(!Array.isArray(F)||!F.length||!f)return 0;l.deleting=!0,l.error="";try{const q=await o.deleteCategories({endpoint:f,ids:F});return q&&(ke(V()),await w()),q}catch(q){throw U(q),q}finally{l.deleting=!1}},O=async()=>{if(!u)return[];try{const{items:F}=await o.fetchCategories({endpoint:u,limit:200,start:0,search:""});return F}catch(F){return[]}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadCategories:w,refresh:K,search:L,goToPage:$,saveCategory:G,deleteCategories:Y,loadOptions:O,metrics:c.metrics}}const Yt=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,s);return i.searchParams.set("task",`api.orders.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function Zx({endpoints:e,token:t,states:s=[],preload:i={},autoload:n=!0,cacheTTL:o=3e5}){var Oe,Te,Pe,Be,E,M,H,y,A,X,g,_,C,N;const c=gt({token:t}),u=xt("orders"),p=(Oe=e==null?void 0:e.list)!=null?Oe:"",m=(Te=e==null?void 0:e.show)!=null?Te:Yt(p,"show"),f=(Pe=e==null?void 0:e.transition)!=null?Pe:Yt(p,"transition"),l=(Be=e==null?void 0:e.bulkTransition)!=null?Be:Yt(p,"bulkTransition"),h=(E=e==null?void 0:e.note)!=null?E:Yt(p,"note"),I=(M=e==null?void 0:e.tracking)!=null?M:Yt(p,"tracking"),V=(H=e==null?void 0:e.invoice)!=null?H:Yt(p,"invoice"),w=(y=e==null?void 0:e.export)!=null?y:Yt(p,"export"),K=(A=e==null?void 0:e.sendEmail)!=null?A:Yt(p,"sendEmail"),L=(X=e==null?void 0:e.recordTransaction)!=null?X:Yt(p,"recordTransaction"),$=typeof AbortController!="undefined",U=Xe(null),G=Array.isArray(i==null?void 0:i.items)?i.items:[],Y=i!=null&&i.pagination&&typeof i.pagination=="object"?i.pagination:{},O=Ie({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...G],pagination:{total:(g=Y.total)!=null?g:G.length,limit:(_=Y.limit)!=null?_:20,pages:(C=Y.pages)!=null?C:0,current:(N=Y.current)!=null?N:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),ne=()=>{const R=O.pagination.current||1,x=O.pagination.limit||20,B=O.search.trim(),P=O.filterState||"";return`orders:page=${R}:limit=${x}:search=${B}:state=${P}`},de=async(R=!1)=>{var ue;if(!p){O.error="Orders endpoint unavailable.",O.items=[];return}const x=ne(),B=R?null:Ot(x,o);if(B){u.recordCacheHit(),O.items=B.items,O.pagination={...O.pagination,...B.pagination},O.lastUpdated=B.lastUpdated;return}u.recordCacheMiss(),O.loading=!0,O.error="",U.value&&$&&U.value.abort();const P=$?new AbortController:null;U.value=P;const ie=u.startFetch();try{const me=Math.max(0,(O.pagination.current-1)*O.pagination.limit),{items:be,pagination:xe}=await c.fetchOrders({endpoint:p,limit:O.pagination.limit,start:me,search:O.search.trim(),state:O.filterState,signal:P?P.signal:void 0});O.items=be,O.pagination={...O.pagination,...xe,current:xe.current&&xe.current>0?xe.current:1},O.selection.clear(),O.lastUpdated=new Date().toISOString(),Et(x,{items:be,pagination:O.pagination,lastUpdated:O.lastUpdated})}catch(me){if((me==null?void 0:me.name)==="AbortError")return;O.error=(ue=me==null?void 0:me.message)!=null?ue:"Unknown error"}finally{u.endFetch(ie),$&&U.value===P&&(U.value=null),O.loading=!1}},ge=()=>{O.pagination.current=1,ke(ne()),de(!0)},W=()=>{O.pagination.current=1,de()},j=R=>{O.filterState=R||"",O.pagination.current=1,de()},z=R=>{const x=Number(R);Number.isNaN(x)||x<1||x===O.pagination.current||(O.pagination.current=x,de(!0))},S=()=>{O.selection.clear()},b=R=>{R&&(O.selection.has(R)?O.selection.delete(R):O.selection.add(R))},k=()=>{O.pagination.current>=O.pagination.pages||(O.pagination.current+=1,de(!0))},ae=()=>{O.pagination.current<=1||(O.pagination.current-=1,de(!0))},J=async(R,x="")=>{var B;if(!m)return null;try{return await c.fetchOrder({endpoint:m,id:R,orderNumber:x})}catch(P){return O.transitionError=(B=P==null?void 0:P.message)!=null?B:"Unknown error",null}},ee=async R=>{var x,B,P;if(!R){O.activeOrder=null;return}O.transitionError="";try{const ie=await J(R.id,R.order_no);O.activeOrder=ie||{...R,items:Array.isArray(R.items)?R.items:[],transactions:Array.isArray(R.transactions)?R.transactions:[],timeline:Array.isArray(R.timeline)?R.timeline:[],billing:(x=R.billing)!=null?x:{}}}catch(ie){O.transitionError=(B=ie==null?void 0:ie.message)!=null?B:"Unknown error",O.activeOrder={...R,items:Array.isArray(R.items)?R.items:[],transactions:Array.isArray(R.transactions)?R.transactions:[],timeline:Array.isArray(R.timeline)?R.timeline:[],billing:(P=R.billing)!=null?P:{}}}},Z=()=>{O.transitionError="",O.activeOrder=null},re=R=>{if(!(R!=null&&R.id))return;const x=O.items.findIndex(B=>B.id===R.id);x!==-1&&O.items.splice(x,1,R)},F=async(R,x)=>{var B;if(!f)throw new Error("Transition endpoint unavailable.");O.saving=!0,O.transitionError="";try{const P=await c.transitionOrder({endpoint:f,id:R,state:x});return P&&(re(P),O.activeOrder&&O.activeOrder.id===P.id&&(O.activeOrder=P),ke(ne())),P}catch(P){throw O.transitionError=(B=P==null?void 0:P.message)!=null?B:"Unknown error",P}finally{O.saving=!1}},q=async(R,x)=>{var B;if(!I)throw new Error("Tracking endpoint unavailable.");O.saving=!0,O.transitionError="";try{const P=await c.updateOrderTracking({endpoint:I,id:R,tracking:x});return P&&(re(P),O.activeOrder&&O.activeOrder.id===P.id&&(O.activeOrder=P),ke(ne())),P}catch(P){throw O.transitionError=(B=P==null?void 0:P.message)!=null?B:"Unknown error",P}finally{O.saving=!1}},te=async(R,x="")=>{var B;if(!V)throw new Error("Invoice endpoint unavailable.");O.invoiceLoading=!0,O.transitionError="";try{const P=await c.fetchOrderInvoice({endpoint:V,id:R,orderNumber:x});if(!P)throw new Error("Invoice not available.");return P}catch(P){throw O.transitionError=(B=P==null?void 0:P.message)!=null?B:"Unknown error",P}finally{O.invoiceLoading=!1}},le=async()=>{var R;if(!w)throw new Error("Export endpoint unavailable.");O.exporting=!0,O.error="";try{const x=await c.exportOrders({endpoint:w,search:O.search.trim(),state:O.filterState});if(!x)throw new Error("Export not available.");return x}catch(x){throw O.error=(R=x==null?void 0:x.message)!=null?R:"Export failed",x}finally{O.exporting=!1}},_e=async(R,x)=>{var B;if(!K)throw new Error("Send email endpoint unavailable.");O.saving=!0,O.transitionError="";try{const P=await c.sendOrderEmail({endpoint:K,id:R,type:x});return P&&(re(P),O.activeOrder&&O.activeOrder.id===P.id&&(O.activeOrder=P),ke(ne())),P}catch(P){throw O.transitionError=(B=P==null?void 0:P.message)!=null?B:"Failed to send email",P}finally{O.saving=!1}},ce=async(R,{amountCents:x,reference:B,note:P})=>{var ie;if(!L)throw new Error("Record transaction endpoint unavailable.");O.saving=!0,O.transitionError="";try{const ue=await c.recordTransaction({endpoint:L,id:R,amountCents:x,reference:B,note:P});return ue&&(re(ue),O.activeOrder&&O.activeOrder.id===ue.id&&(O.activeOrder=ue),ke(ne())),ue}catch(ue){throw O.transitionError=(ie=ue==null?void 0:ue.message)!=null?ie:"Failed to record payment",ue}finally{O.saving=!1}},he=async(R,x)=>{var B;if(!l)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(R)||!R.length)return{updated:[]};O.saving=!0;try{const P=await c.bulkTransitionOrders({endpoint:l,ids:R,state:x}),ie=Array.isArray(P.updated)?P.updated:[];return ie.forEach(ue=>{re(ue),O.activeOrder&&O.activeOrder.id===ue.id&&(O.activeOrder=ue)}),S(),{updated:ie}}catch(P){throw O.transitionError=(B=P==null?void 0:P.message)!=null?B:"Unknown error",P}finally{O.saving=!1}};return ot(()=>{n&&de()}),{state:O,loadOrders:de,refresh:ge,search:W,setFilterState:j,goToPage:z,nextPage:k,previousPage:ae,viewOrder:ee,closeOrder:Z,transitionOrder:F,bulkTransition:he,updateTracking:q,downloadInvoice:te,exportOrders:le,sendEmail:_e,recordTransaction:ce,toggleSelection:b,clearSelection:S,metrics:u.metrics,addNote:async(R,x)=>{var B;if(!h)throw new Error("Note endpoint unavailable.");if(!R||!x||!x.trim())return null;O.transitionError="",O.saving=!0;try{const P=await c.addOrderNote({endpoint:h,id:R,message:x});return P&&(re(P),O.activeOrder&&O.activeOrder.id===P.id&&(O.activeOrder=P)),P}catch(P){throw O.transitionError=(B=P==null?void 0:P.message)!=null?B:"Unknown error",P}finally{O.saving=!1}}}}function ev({endpoint:e="",token:t="",preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var f,l,h;const o=gt({token:t}),c=xt("dashboard"),u=Ie({loading:!1,error:"",summary:(h=s.summary)!=null?h:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(l=(f=s.summary)==null?void 0:f.currency)!=null?l:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",m=async(I=!1)=>{var L,$;if(!e)return;const V=p(),w=I?null:Ot(V,n);if(w){c.recordCacheHit(),u.summary=w.summary,u.checklist=w.checklist,u.lastUpdated=w.lastUpdated;return}c.recordCacheMiss(),u.loading=!0,u.error="";const K=c.startFetch();try{const U=await o.fetchDashboard({endpoint:e});u.summary=(L=U.summary)!=null?L:u.summary,u.checklist=Array.isArray(U.checklist)?U.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),Et(V,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(U){u.error=($=U==null?void 0:U.message)!=null?$:"Unknown error"}finally{c.endFetch(K),u.loading=!1}};return ot(()=>{i&&(!Array.isArray(u.checklist)||!u.checklist.length)&&m()}),{state:u,refresh:m,metrics:c.metrics}}function tv({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var ne,de,ge,W,j,z,S,b,k,ae,J,ee,Z,re,F,q,te;const o=gt({token:t}),c=xt("customers"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.show)!=null?de:"",m=(W=(ge=e==null?void 0:e.gdpr)==null?void 0:ge.export)!=null?W:"",f=(z=(j=e==null?void 0:e.gdpr)==null?void 0:j.anonymise)!=null?z:"",l=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ae=(k=(S=s.pagination)==null?void 0:S.total)!=null?k:(b=s.items)==null?void 0:b.length)!=null?ae:0,limit:(ee=(J=s.pagination)==null?void 0:J.limit)!=null?ee:20,pages:(re=(Z=s.pagination)==null?void 0:Z.pages)!=null?re:0,current:(q=(F=s.pagination)==null?void 0:F.current)!=null?q:1},search:"",activeCustomer:(te=s.active)!=null?te:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),h=typeof AbortController!="undefined",I=Xe(null),V=()=>{const le=l.pagination.current||1,_e=l.pagination.limit||20,ce=l.search.trim();return`customers:page=${le}:limit=${_e}:search=${ce}`},w=async(le=!1)=>{var Te;if(!u){l.error="Customers endpoint unavailable.",l.items=[];return}const _e=V(),ce=le?null:Ot(_e,n);if(ce){c.recordCacheHit(),l.items=ce.items,l.pagination={...l.pagination,...ce.pagination},l.lastUpdated=ce.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",I.value&&h&&I.value.abort();const he=h?new AbortController:null;I.value=he;const Oe=c.startFetch();try{const Pe=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Be,pagination:E}=await o.fetchCustomers({endpoint:u,limit:l.pagination.limit,start:Pe,search:l.search.trim(),signal:he?he.signal:void 0});l.items=Be,l.pagination={...l.pagination,...E,current:E.current&&E.current>0?E.current:1},l.lastUpdated=new Date().toISOString(),Et(_e,{items:Be,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Pe){if((Pe==null?void 0:Pe.name)==="AbortError")return;l.error=(Te=Pe==null?void 0:Pe.message)!=null?Te:"Unknown error"}finally{c.endFetch(Oe),h&&I.value===he&&(I.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=()=>{l.pagination.current=1,w()},$=le=>{const _e=Number(le);Number.isNaN(_e)||_e<1||_e===l.pagination.current||(l.pagination.current=_e,w(!0))},U=async le=>{var _e;if(!p||!(le!=null&&le.email)){l.activeCustomer=le||null;return}try{const ce=await o.fetchCustomer({endpoint:p,email:le.email});l.activeCustomer=ce||le}catch(ce){l.error=(_e=ce==null?void 0:ce.message)!=null?_e:"Unknown error"}},G=()=>{l.activeCustomer=null,l.gdprMessage="",l.gdprSuccess=!1},Y=async le=>{var _e;if(!m||!le){l.gdprMessage="GDPR export endpoint unavailable.",l.gdprSuccess=!1;return}l.gdprLoading=!0,l.gdprMessage="";try{const ce=await o.gdprExport({endpoint:m,email:le});if(!ce)throw new Error("No data returned");const he=new Blob([JSON.stringify(ce,null,2)],{type:"application/json"}),Oe=URL.createObjectURL(he),Te=document.createElement("a");Te.href=Oe,Te.download=`gdpr-export-${le.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(Oe),l.gdprMessage="Data exported successfully.",l.gdprSuccess=!0}catch(ce){l.gdprMessage=(_e=ce==null?void 0:ce.message)!=null?_e:"Export failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}},O=async le=>{var ce;if(!f||!le){l.gdprMessage="GDPR anonymise endpoint unavailable.",l.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${le}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){l.gdprLoading=!0,l.gdprMessage="";try{const he=await o.gdprAnonymise({endpoint:f,email:le});l.gdprMessage=he.message||`Anonymised ${he.affected} order(s).`,l.gdprSuccess=!0,ke(V()),w(!0),setTimeout(()=>{l.activeCustomer=null,l.gdprMessage=""},2e3)}catch(he){l.gdprMessage=(ce=he==null?void 0:he.message)!=null?ce:"Anonymisation failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadCustomers:w,refresh:K,search:L,goToPage:$,viewCustomer:U,closeCustomer:G,gdprExport:Y,gdprAnonymise:O,metrics:c.metrics}}function nv({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var ne,de,ge,W,j,z,S,b,k,ae,J,ee,Z,re;const o=gt({token:t}),c=xt("coupons"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.create)!=null?de:u,m=(ge=e==null?void 0:e.update)!=null?ge:u,f=(W=e==null?void 0:e.delete)!=null?W:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(b=(S=(j=s.pagination)==null?void 0:j.total)!=null?S:(z=s.items)==null?void 0:z.length)!=null?b:0,limit:(ae=(k=s.pagination)==null?void 0:k.limit)!=null?ae:20,pages:(ee=(J=s.pagination)==null?void 0:J.pages)!=null?ee:0,current:(re=(Z=s.pagination)==null?void 0:Z.current)!=null?re:1},search:"",activeCoupon:null,lastUpdated:null}),h=typeof AbortController!="undefined",I=Xe(null),V=()=>{const F=l.pagination.current||1,q=l.pagination.limit||20,te=l.search.trim();return`coupons:page=${F}:limit=${q}:search=${te}`},w=async(F=!1)=>{var ce;if(!u){l.error="Coupons endpoint unavailable.",l.items=[];return}const q=V(),te=F?null:Ot(q,n);if(te){c.recordCacheHit(),l.items=te.items,l.pagination={...l.pagination,...te.pagination},l.lastUpdated=te.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",I.value&&h&&I.value.abort();const le=h?new AbortController:null;I.value=le;const _e=c.startFetch();try{const he=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Oe,pagination:Te}=await o.fetchCoupons({endpoint:u,limit:l.pagination.limit,start:he,search:l.search.trim(),signal:le?le.signal:void 0});l.items=Oe,l.pagination={...l.pagination,...Te,current:Te.current&&Te.current>0?Te.current:1},l.lastUpdated=new Date().toISOString(),Et(q,{items:Oe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(he){if((he==null?void 0:he.name)==="AbortError")return;l.error=(ce=he==null?void 0:he.message)!=null?ce:"Unknown error"}finally{c.endFetch(_e),h&&I.value===le&&(I.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=()=>{l.pagination.current=1,w()},$=F=>{const q=Number(F);Number.isNaN(q)||q<1||q===l.pagination.current||(l.pagination.current=q,w(!0))},U=F=>{l.activeCoupon=F},G=F=>{const q=l.items.findIndex(te=>te.id===F.id);q===-1?l.items.unshift(F):l.items.splice(q,1,F)},Y=async F=>{var q;l.saving=!0,l.error="";try{let te=null;return F.id?te=await o.updateCoupon({endpoint:m,id:F.id,data:F}):te=await o.createCoupon({endpoint:p,data:F}),te&&(G(te),l.activeCoupon&&l.activeCoupon.id===te.id&&(l.activeCoupon=te),ke(V())),te}catch(te){throw l.error=(q=te==null?void 0:te.message)!=null?q:"Unknown error",te}finally{l.saving=!1}},O=async F=>{var q;if(!Array.isArray(F)||!F.length)return 0;l.saving=!0,l.error="";try{const te=await o.deleteCoupons({endpoint:f,ids:F});return te&&(l.items=l.items.filter(le=>!F.includes(le.id)),l.activeCoupon&&F.includes(l.activeCoupon.id)&&(l.activeCoupon=null),ke(V())),te}catch(te){throw l.error=(q=te==null?void 0:te.message)!=null?q:"Unknown error",te}finally{l.saving=!1}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadCoupons:w,refresh:K,search:L,goToPage:$,setActive:U,saveCoupon:Y,deleteCoupons:O,metrics:c.metrics}}const da=(e={})=>{var m,f,l,h,I,V,w,K,L,$,U,G,Y,O,ne,de,ge,W,j;const t=(m=e.store)!=null?m:{},s=(f=e.payments)!=null?f:{},i=(l=e.visual)!=null?l:{},n=(h=e.visual_defaults)!=null?h:{},o=(V=(I=e.security)==null?void 0:I.rate_limits)!=null?V:{},c=Array.isArray(e.currencies)?e.currencies:[],u=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",p=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(w=t.name)!=null?w:"",email:(K=t.email)!=null?K:"",phone:(L=t.phone)!=null?L:""},payments:{configured:!!s.configured},base_currency:u,display_locale:p,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:($=i.primary_color)!=null?$:"",text_color:(U=i.text_color)!=null?U:"",surface_color:(G=i.surface_color)!=null?G:"",border_color:(Y=i.border_color)!=null?Y:"",muted_color:(O=i.muted_color)!=null?O:""},visual_defaults:{primary_color:(ne=n.primary_color)!=null?ne:"#4f6d7a",text_color:(de=n.text_color)!=null?de:"#1f2933",surface_color:(ge=n.surface_color)!=null?ge:"#ffffff",border_color:(W=n.border_color)!=null?W:"#e4e7ec",muted_color:(j=n.muted_color)!=null?j:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(o.checkout_ip_limit))?Number(o.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(o.checkout_email_limit))?Number(o.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(o.checkout_session_limit))?Number(o.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(o.checkout_window_minutes))?Number(o.checkout_window_minutes):Number.isFinite(Number(o.checkout_window))?Math.max(0,Math.ceil(Number(o.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(o.offline_ip_limit))?Number(o.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(o.offline_email_limit))?Number(o.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(o.offline_window_minutes))?Number(o.offline_window_minutes):Number.isFinite(Number(o.offline_window))?Math.max(0,Math.ceil(Number(o.offline_window)/60)):30}},currencies:c}};function sv({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var h,I;const o=gt({token:t}),c=xt("settings"),u=(h=e==null?void 0:e.show)!=null?h:"",p=(I=e==null?void 0:e.update)!=null?I:u,m=Ie({loading:!1,saving:!1,error:"",message:"",values:da(s),lastUpdated:null}),f=async(V=!1)=>{var $;if(!u){m.error="Settings endpoint unavailable.";return}const w="settings:data",K=V?null:Ot(w,n);if(K){c.recordCacheHit(),m.values=K.values,m.lastUpdated=K.lastUpdated;return}c.recordCacheMiss(),m.loading=!0,m.error="";const L=c.startFetch();try{const U=await o.fetchSettings({endpoint:u});m.values=da(U),m.lastUpdated=new Date().toISOString(),Et(w,{values:m.values,lastUpdated:m.lastUpdated})}catch(U){throw m.error=($=U==null?void 0:U.message)!=null?$:"Unknown error",U}finally{c.endFetch(L),m.loading=!1}},l=async V=>{var w;if(!p)return m.error="Settings endpoint unavailable.",null;m.saving=!0,m.error="",m.message="";try{const K=await o.updateSettings({endpoint:p,data:V});return m.values=da(K),m.lastUpdated=new Date().toISOString(),m.message="Settings saved.",ke("settings:data"),Et("settings:data",{values:m.values,lastUpdated:m.lastUpdated}),m.values}catch(K){throw m.error=(w=K==null?void 0:K.message)!=null?w:"Unknown error",K}finally{m.saving=!1}};return ot(()=>{i&&f()}),{state:m,refresh:f,save:l,metrics:c.metrics}}function av({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var U,G,Y,O,ne,de,ge,W,j,z,S,b,k,ae;const o=gt({token:t}),c=xt("taxRates"),u=(U=e==null?void 0:e.list)!=null?U:"",p=(G=e==null?void 0:e.create)!=null?G:u,m=(Y=e==null?void 0:e.update)!=null?Y:u,f=(O=e==null?void 0:e.delete)!=null?O:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(W=(ge=(ne=s.pagination)==null?void 0:ne.total)!=null?ge:(de=s.items)==null?void 0:de.length)!=null?W:0,limit:(z=(j=s.pagination)==null?void 0:j.limit)!=null?z:20,pages:(b=(S=s.pagination)==null?void 0:S.pages)!=null?b:0,current:(ae=(k=s.pagination)==null?void 0:k.current)!=null?ae:1},search:"",lastUpdated:null}),h=typeof AbortController!="undefined",I=Xe(null),V=()=>{const J=l.pagination.current||1,ee=l.pagination.limit||20,Z=l.search.trim();return`taxRates:page=${J}:limit=${ee}:search=${Z}`},w=async(J=!1)=>{var q;if(!u){l.error="Tax endpoint unavailable.",l.items=[];return}const ee=V(),Z=J?null:Ot(ee,n);if(Z){c.recordCacheHit(),l.items=Z.items,l.pagination={...l.pagination,...Z.pagination},l.lastUpdated=Z.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",I.value&&h&&I.value.abort();const re=h?new AbortController:null;I.value=re;const F=c.startFetch();try{const te=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:le,pagination:_e}=await o.fetchTaxRates({endpoint:u,limit:l.pagination.limit,start:te,search:l.search.trim(),signal:re?re.signal:void 0});l.items=le,l.pagination={...l.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},l.lastUpdated=new Date().toISOString(),Et(ee,{items:le,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;l.error=(q=te==null?void 0:te.message)!=null?q:"Unknown error"}finally{c.endFetch(F),h&&I.value===re&&(I.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=async J=>{var ee;l.saving=!0,l.error="";try{const Z=J.id?await o.updateTaxRate({endpoint:m,id:J.id,data:J}):await o.createTaxRate({endpoint:p,data:J});if(Z){const re=l.items.findIndex(F=>F.id===Z.id);re===-1?l.items.unshift(Z):l.items.splice(re,1,Z),ke(V())}return Z}catch(Z){throw l.error=(ee=Z==null?void 0:Z.message)!=null?ee:"Unknown error",Z}finally{l.saving=!1}},$=async J=>{var ee;if(!Array.isArray(J)||!J.length)return 0;l.saving=!0,l.error="";try{const Z=await o.deleteTaxRates({endpoint:f,ids:J});return Z&&(l.items=l.items.filter(re=>!J.includes(re.id)),ke(V())),Z}catch(Z){throw l.error=(ee=Z==null?void 0:Z.message)!=null?ee:"Unknown error",Z}finally{l.saving=!1}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadRates:w,refresh:K,saveRate:L,deleteRates:$,metrics:c.metrics}}function iv({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var U,G,Y,O,ne,de,ge,W,j,z,S,b,k,ae;const o=gt({token:t}),c=xt("shippingRules"),u=(U=e==null?void 0:e.list)!=null?U:"",p=(G=e==null?void 0:e.create)!=null?G:u,m=(Y=e==null?void 0:e.update)!=null?Y:u,f=(O=e==null?void 0:e.delete)!=null?O:u,l=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(W=(ge=(ne=s.pagination)==null?void 0:ne.total)!=null?ge:(de=s.items)==null?void 0:de.length)!=null?W:0,limit:(z=(j=s.pagination)==null?void 0:j.limit)!=null?z:20,pages:(b=(S=s.pagination)==null?void 0:S.pages)!=null?b:0,current:(ae=(k=s.pagination)==null?void 0:k.current)!=null?ae:1},search:"",lastUpdated:null}),h=typeof AbortController!="undefined",I=Xe(null),V=()=>{const J=l.pagination.current||1,ee=l.pagination.limit||20,Z=l.search.trim();return`shippingRules:page=${J}:limit=${ee}:search=${Z}`},w=async(J=!1)=>{var q;if(!u){l.error="Shipping endpoint unavailable.",l.items=[];return}const ee=V(),Z=J?null:Ot(ee,n);if(Z){c.recordCacheHit(),l.items=Z.items,l.pagination={...l.pagination,...Z.pagination},l.lastUpdated=Z.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",I.value&&h&&I.value.abort();const re=h?new AbortController:null;I.value=re;const F=c.startFetch();try{const te=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:le,pagination:_e}=await o.fetchShippingRules({endpoint:u,limit:l.pagination.limit,start:te,search:l.search.trim(),signal:re?re.signal:void 0});l.items=le,l.pagination={...l.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},l.lastUpdated=new Date().toISOString(),Et(ee,{items:le,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;l.error=(q=te==null?void 0:te.message)!=null?q:"Unknown error"}finally{c.endFetch(F),h&&I.value===re&&(I.value=null),l.loading=!1}},K=()=>{l.pagination.current=1,ke(V()),w(!0)},L=async J=>{var ee;l.saving=!0,l.error="";try{const Z=J.id?await o.updateShippingRule({endpoint:m,id:J.id,data:J}):await o.createShippingRule({endpoint:p,data:J});if(Z){const re=l.items.findIndex(F=>F.id===Z.id);re===-1?l.items.unshift(Z):l.items.splice(re,1,Z),ke(V())}return Z}catch(Z){throw l.error=(ee=Z==null?void 0:Z.message)!=null?ee:"Unknown error",Z}finally{l.saving=!1}},$=async J=>{var ee;if(!Array.isArray(J)||!J.length)return 0;l.saving=!0,l.error="";try{const Z=await o.deleteShippingRules({endpoint:f,ids:J});return Z&&(l.items=l.items.filter(re=>!J.includes(re.id)),ke(V())),Z}catch(Z){throw l.error=(ee=Z==null?void 0:Z.message)!=null?ee:"Unknown error",Z}finally{l.saving=!1}};return ot(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&w()}),{state:l,loadRules:w,refresh:K,saveRule:L,deleteRules:$,metrics:c.metrics}}function ov({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var L,$,U,G,Y,O,ne,de,ge,W,j;const o=gt({token:t}),c=xt("logs"),u=(L=e==null?void 0:e.list)!=null?L:"",p=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Y=(G=($=s.pagination)==null?void 0:$.total)!=null?G:(U=s.items)==null?void 0:U.length)!=null?Y:0,limit:(ne=(O=s.pagination)==null?void 0:O.limit)!=null?ne:20,pages:(ge=(de=s.pagination)==null?void 0:de.pages)!=null?ge:0,current:(j=(W=s.pagination)==null?void 0:W.current)!=null?j:1},search:"",entity:"",lastUpdated:null}),m=typeof AbortController!="undefined",f=Xe(null),l=()=>{const z=p.pagination.current||1,S=p.pagination.limit||20,b=p.search.trim(),k=p.entity.trim();return`logs:page=${z}:limit=${S}:search=${b}:entity=${k}`},h=async(z=!1)=>{var J;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const S=l(),b=z?null:Ot(S,n);if(b){c.recordCacheHit(),p.items=b.items,p.pagination={...p.pagination,...b.pagination},p.lastUpdated=b.lastUpdated;return}c.recordCacheMiss(),p.loading=!0,p.error="",m&&f.value&&f.value.abort();const k=m?new AbortController:null;f.value=k;const ae=c.startFetch();try{const ee=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:Z,pagination:re}=await o.fetchLogs({endpoint:u,limit:p.pagination.limit,start:ee,search:p.search.trim(),entity:p.entity,signal:k?k.signal:void 0});p.items=Z,p.pagination={...p.pagination,...re,current:re.current&&re.current>0?re.current:1},p.lastUpdated=new Date().toISOString(),Et(S,{items:Z,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(ee){if((ee==null?void 0:ee.name)==="AbortError")return;p.error=(J=ee==null?void 0:ee.message)!=null?J:"Unknown error"}finally{c.endFetch(ae),m&&f.value===k&&(f.value=null),p.loading=!1}},I=()=>{p.pagination.current=1,ke(l()),h(!0)},V=()=>{p.pagination.current=1,h()},w=z=>{const S=typeof z=="string"?z.trim():"";p.entity!==S&&(p.entity=S,p.pagination.current=1,h())},K=z=>{const S=Number(z);Number.isNaN(S)||S<1||S===p.pagination.current||(p.pagination.current=S,h(!0))};return ot(()=>{i&&(!Array.isArray(p.items)||!p.items.length)&&h()}),{state:p,loadLogs:h,refresh:I,search:V,setEntity:w,goToPage:K,metrics:c.metrics}}const ro=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function rv({endpoints:e={},token:t=""}){const s=gt({token:t}),i=Ie({loading:!1,saving:!1,error:"",config:ro(),message:""}),n=async()=>{var u,p,m,f;if(e.show){i.loading=!0,i.error="";try{const l=await s.get(e.show);i.config=c((m=(p=(u=l==null?void 0:l.data)==null?void 0:u.config)!=null?p:l==null?void 0:l.config)!=null?m:{})}catch(l){i.error=(f=l.message)!=null?f:"Unable to load payment configuration."}finally{i.loading=!1}}},o=async u=>{var p,m,f,l,h,I,V;if(e.update){i.saving=!0,i.error="",i.message="";try{const w=await s.post(e.update,{config:u});i.config=c((f=(m=(p=w==null?void 0:w.data)==null?void 0:p.config)!=null?m:w==null?void 0:w.config)!=null?f:{}),i.message=(I=(h=(l=w==null?void 0:w.data)==null?void 0:l.message)!=null?h:w==null?void 0:w.message)!=null?I:""}catch(w){i.error=(V=w.message)!=null?V:"Unable to save payment configuration."}finally{i.saving=!1}}},c=u=>{var m,f,l,h;const p=ro();return{stripe:{...p.stripe,...(m=u.stripe)!=null?m:{}},paypal:{...p.paypal,...(f=u.paypal)!=null?f:{}},cod:{...p.cod,...(l=u.cod)!=null?l:{}},bank_transfer:{...p.bank_transfer,...(h=u.bank_transfer)!=null?h:{}}}};return{state:i,refresh:n,save:o}}const lv={class:"nxp-ec-admin-app__shell"},cv={class:"nxp-ec-admin-app__header"},dv={class:"nxp-ec-admin-app__title"},uv={class:"nxp-ec-admin-app__lead"},pv={class:"nxp-ec-btn__progress-label"},_v={key:0,class:"nxp-ec-admin-nav"},fv=["href"],mv={key:11,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},hv={class:"nxp-ec-admin-panel__body"},gv={class:"nxp-ec-admin-panel__lead"},Yn="nxp:admin:onboarding:dismissed",Ev={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var gr,Er,Cr,Sr,Ar,br,Tr,yr,Rr,Or,xr,vr,Nr,Pr,Mr,Ir,kr,$r,wr,Lr,Dr,Ur,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,al,il,ol,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Cl,Sl,Al,bl,Tl,yl,Rl,Ol,xl,vl,Nl,Pl,Ml,Il,kl,$l,wl,Ll,Dl,Ul,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ac,ic,oc,rc,lc,cc,dc,uc,pc,_c,fc,mc,hc,gc,Ec,Cc,Sc,Ac,bc,Tc,yc,Rc,Oc,xc,vc,Nc,Pc,Mc,Ic,kc,$c,wc,Lc,Dc,Uc,Yc,Xc,Fc,Gc,Vc,Hc,Bc,Kc,jc;const t=e,{__:s}=Kx(t.dataset),i=fe(()=>{var D;return((D=t.dataset)==null?void 0:D.appTitleKey)||"COM_NXPEASYCART"}),n=fe(()=>{var D;return((D=t.dataset)==null?void 0:D.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),o=(D,se)=>{if(!D||typeof D!="string")return se;try{return JSON.parse(D)}catch(Se){return se}},c=fe(()=>{var D,se;return!!((se=(D=Zt==null?void 0:Zt.values)==null?void 0:D.show_advanced_mode)!=null&&se)}),u=fe(()=>{var se,Se;let D=[];if(Array.isArray((se=t.config)==null?void 0:se.navItems))D=t.config.navItems.map(Ue=>({id:Ue.id,title:Ue.title,link:Ue.link}));else{const Ue=o((Se=t.dataset)==null?void 0:Se.navItems,[]);D=Array.isArray(Ue)?Ue.map(Je=>({id:Je.id,title:Je.title,link:Je.link})):[]}return c.value||(D=D.filter(Ue=>Ue.id!=="logs")),D}),p=D=>{const se=u.value;if(!Array.isArray(se))return"";const Se=se.find(Ue=>Ue.id===D);return Se?Se.link:""},m=fe(()=>{var D,se;return((D=t.config)==null?void 0:D.activeSection)||((se=t.dataset)==null?void 0:se.activeSection)||"dashboard"}),f=fe(()=>{var D,se;return((D=t.config)==null?void 0:D.settingsTab)||((se=t.dataset)==null?void 0:se.settingsTab)||"general"}),l=D=>m.value===D,h=fe(()=>l("dashboard")),I=fe(()=>l("products")),V=fe(()=>l("categories")||l("products")),w=fe(()=>l("orders")),K=fe(()=>l("customers")),L=fe(()=>l("coupons")),$=fe(()=>l("settings")),U=fe(()=>l("tax")),G=fe(()=>l("shipping")),Y=fe(()=>l("logs")),O=(Or=(gr=t.endpoints)==null?void 0:gr.products)!=null?Or:{list:(Cr=(Er=t.dataset)==null?void 0:Er.productsEndpoint)!=null?Cr:"",create:(Ar=(Sr=t.dataset)==null?void 0:Sr.productsEndpointCreate)!=null?Ar:"",update:(Tr=(br=t.dataset)==null?void 0:br.productsEndpointUpdate)!=null?Tr:"",delete:(Rr=(yr=t.dataset)==null?void 0:yr.productsEndpointDelete)!=null?Rr:""},ne=(Lr=(xr=t.endpoints)==null?void 0:xr.categories)!=null?Lr:{list:(Nr=(vr=t.dataset)==null?void 0:vr.categoriesEndpoint)!=null?Nr:"",create:(Mr=(Pr=t.dataset)==null?void 0:Pr.categoriesEndpointCreate)!=null?Mr:"",update:(kr=(Ir=t.dataset)==null?void 0:Ir.categoriesEndpointUpdate)!=null?kr:"",delete:(wr=($r=t.dataset)==null?void 0:$r.categoriesEndpointDelete)!=null?wr:""},de=(Jr=(Dr=t.endpoints)==null?void 0:Dr.orders)!=null?Jr:{list:(Yr=(Ur=t.dataset)==null?void 0:Ur.ordersEndpoint)!=null?Yr:"",show:(Fr=(Xr=t.dataset)==null?void 0:Xr.ordersEndpointShow)!=null?Fr:"",transition:(Vr=(Gr=t.dataset)==null?void 0:Gr.ordersEndpointTransition)!=null?Vr:"",bulkTransition:(Br=(Hr=t.dataset)==null?void 0:Hr.ordersEndpointBulk)!=null?Br:"",note:(jr=(Kr=t.dataset)==null?void 0:Kr.ordersEndpointNote)!=null?jr:""},ge=(el=(Wr=t.endpoints)==null?void 0:Wr.customers)!=null?el:{list:(zr=(qr=t.dataset)==null?void 0:qr.customersEndpoint)!=null?zr:"",show:(Zr=(Qr=t.dataset)==null?void 0:Qr.customersEndpointShow)!=null?Zr:""},W=(dl=(tl=t.endpoints)==null?void 0:tl.coupons)!=null?dl:{list:(sl=(nl=t.dataset)==null?void 0:nl.couponsEndpoint)!=null?sl:"",create:(il=(al=t.dataset)==null?void 0:al.couponsEndpointCreate)!=null?il:"",update:(rl=(ol=t.dataset)==null?void 0:ol.couponsEndpointUpdate)!=null?rl:"",delete:(cl=(ll=t.dataset)==null?void 0:ll.couponsEndpointDelete)!=null?cl:""},j=(Sl=(ul=t.endpoints)==null?void 0:ul.tax)!=null?Sl:{list:(_l=(pl=t.dataset)==null?void 0:pl.taxEndpoint)!=null?_l:"",create:(ml=(fl=t.dataset)==null?void 0:fl.taxEndpointCreate)!=null?ml:"",update:(gl=(hl=t.dataset)==null?void 0:hl.taxEndpointUpdate)!=null?gl:"",delete:(Cl=(El=t.dataset)==null?void 0:El.taxEndpointDelete)!=null?Cl:""},z=(Pl=(Al=t.endpoints)==null?void 0:Al.shipping)!=null?Pl:{list:(Tl=(bl=t.dataset)==null?void 0:bl.shippingEndpoint)!=null?Tl:"",create:(Rl=(yl=t.dataset)==null?void 0:yl.shippingEndpointCreate)!=null?Rl:"",update:(xl=(Ol=t.dataset)==null?void 0:Ol.shippingEndpointUpdate)!=null?xl:"",delete:(Nl=(vl=t.dataset)==null?void 0:vl.shippingEndpointDelete)!=null?Nl:""},S=(Ll=(Ml=t.endpoints)==null?void 0:Ml.settings)!=null?Ll:{show:(kl=(Il=t.dataset)==null?void 0:Il.settingsEndpointShow)!=null?kl:"",update:(wl=($l=t.dataset)==null?void 0:$l.settingsEndpointUpdate)!=null?wl:""},b=(Xl=(Dl=t.endpoints)==null?void 0:Dl.logs)!=null?Xl:{list:(Yl=(Ul=t.dataset)==null?void 0:Ul.logsEndpoint)!=null?Yl:""},k=(Kl=(Fl=t.endpoints)==null?void 0:Fl.payments)!=null?Kl:{show:(Vl=(Gl=t.dataset)==null?void 0:Gl.paymentsEndpointShow)!=null?Vl:"",update:(Bl=(Hl=t.dataset)==null?void 0:Hl.paymentsEndpointUpdate)!=null?Bl:""},ae=fe(()=>{var D;return o((D=t.dataset)==null?void 0:D.orderStates,[])}),{state:J,refresh:ee}=ev({endpoint:(Zl=(Ql=(ql=(jl=t.endpoints)==null?void 0:jl.dashboard)!=null?ql:(Wl=(Jl=t.config)==null?void 0:Jl.endpoints)==null?void 0:Wl.dashboard)!=null?Ql:(zl=t.dataset)==null?void 0:zl.dashboardEndpoint)!=null?Zl:"",token:t.csrfToken,preload:(ac=(tc=(ec=t.config)==null?void 0:ec.preload)==null?void 0:tc.dashboard)!=null?ac:{summary:o((nc=t.dataset)==null?void 0:nc.dashboardSummary,{}),checklist:o((sc=t.dataset)==null?void 0:sc.dashboardChecklist,[])},autoload:h.value}),{state:Z,refresh:re,search:F,createProduct:q,updateProduct:te,deleteProducts:le}=zx({endpoints:O,token:t.csrfToken,autoload:I.value}),{state:_e,refresh:ce,search:he,goToPage:Oe,saveCategory:Te,deleteCategories:Pe,loadOptions:Be}=Qx({endpoints:ne,token:t.csrfToken,preload:(cc=(oc=(ic=t.config)==null?void 0:ic.preload)==null?void 0:oc.categories)!=null?cc:{items:o((rc=t.dataset)==null?void 0:rc.categoriesPreload,[]),pagination:o((lc=t.dataset)==null?void 0:lc.categoriesPreloadPagination,{})},autoload:V.value}),E=fe(()=>(Array.isArray(_e.items)?_e.items:[]).map(se=>{var Se,Ue,Je;return{id:Number.parseInt((Se=se==null?void 0:se.id)!=null?Se:0,10)||0,title:String((Ue=se==null?void 0:se.title)!=null?Ue:"").trim(),slug:String((Je=se==null?void 0:se.slug)!=null?Je:"").trim(),parent_id:(se==null?void 0:se.parent_id)!==null&&(se==null?void 0:se.parent_id)!==void 0&&Number.parseInt(se.parent_id,10)||null}}).filter(se=>se.title!=="")),{state:M,refresh:H,search:y,setFilterState:A,viewOrder:X,closeOrder:g,transitionOrder:_,goToPage:C,bulkTransition:N,toggleSelection:R,clearSelection:x,addNote:B,updateTracking:P,downloadInvoice:ie,exportOrders:ue,sendEmail:me,recordTransaction:be}=Zx({endpoints:de,token:t.csrfToken,states:ae.value,preload:(fc=(uc=(dc=t.config)==null?void 0:dc.preload)==null?void 0:uc.orders)!=null?fc:{items:o((pc=t.dataset)==null?void 0:pc.ordersPreload,[]),pagination:o((_c=t.dataset)==null?void 0:_c.ordersPreloadPagination,{})},autoload:w.value}),{state:xe,refresh:De,search:tt,goToPage:vt,viewCustomer:at,closeCustomer:Ve,gdprExport:Ge,gdprAnonymise:Nt}=tv({endpoints:{...ge,gdpr:(hc=(mc=t.endpoints)==null?void 0:mc.gdpr)!=null?hc:{}},token:t.csrfToken,preload:(Ac=(Ec=(gc=t.config)==null?void 0:gc.preload)==null?void 0:Ec.customers)!=null?Ac:{items:o((Cc=t.dataset)==null?void 0:Cc.customersPreload,[]),pagination:o((Sc=t.dataset)==null?void 0:Sc.customersPreloadPagination,{})},autoload:K.value}),{state:Pt,refresh:Qt,search:mn,goToPage:As,saveCoupon:bs,deleteCoupons:ua}=nv({endpoints:(Tc=(bc=t.endpoints)==null?void 0:bc.coupons)!=null?Tc:W,token:t.csrfToken,preload:(vc=(Rc=(yc=t.config)==null?void 0:yc.preload)==null?void 0:Rc.coupons)!=null?vc:{items:o((Oc=t.dataset)==null?void 0:Oc.couponsPreload,[]),pagination:o((xc=t.dataset)==null?void 0:xc.couponsPreloadPagination,{})},autoload:L.value}),pa=(Ic=(Pc=(Nc=t.config)==null?void 0:Nc.preload)==null?void 0:Pc.settings)!=null?Ic:o((Mc=t.dataset)==null?void 0:Mc.settingsPreload,{}),{state:Zt,refresh:_r,save:Cv}=sv({endpoints:S,token:t.csrfToken,preload:pa,autoload:$.value}),Sv=fe(()=>{var se,Se;const D=(Se=(se=t.dataset)==null?void 0:se.baseCurrency)!=null?Se:"";return typeof D=="string"?D.trim().toUpperCase():""}),Av=fe(()=>{var se,Se;const D=(Se=(se=Zt==null?void 0:Zt.values)==null?void 0:se.base_currency)!=null?Se:"";return typeof D=="string"?D.trim().toUpperCase():""}),Xn=fe(()=>{const D=Av.value||Sv.value;return D!==""?D:"USD"}),bv=fe(()=>{var se,Se;const D=(Se=(se=t.dataset)==null?void 0:se.mediaModalUrl)!=null?Se:"";return typeof D=="string"?D.trim():""}),Tv=fe(()=>{var se,Se,Ue,Je,it;const D=(Je=(Ue=(se=t.config)==null?void 0:se.siteRoot)!=null?Ue:(Se=t.dataset)==null?void 0:Se.siteRoot)!=null?Je:"";return typeof D=="string"&&D.trim()!==""?D.trim():typeof window!="undefined"&&((it=window.location)!=null&&it.origin)?window.location.origin:""}),yv=D=>{switch(D){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:p("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:p("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:p("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:D||"step",titleKey:D||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:D||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:p("dashboard")||""}}},_a=fe(()=>(Array.isArray(J.checklist)?J.checklist:[]).map(se=>{const Se=yv(se.label);return{id:Se.id,completed:!!se.completed,link:se.link||Se.link||"",label:se.label,titleKey:Se.titleKey,descriptionKey:Se.descriptionKey,titleFallback:Se.titleFallback,descriptionFallback:Se.descriptionFallback}})),fa=fe(()=>_a.value.some(D=>!D.completed)),fr=fe(()=>{const D=_a.value;if(!D.length)return{completed:0,total:0,percent:0};const se=D.filter(Se=>Se.completed).length;return{completed:se,total:D.length,percent:Math.round(se/D.length*100)}}),Rv=fe(()=>{const{completed:D,total:se}=fr.value;return`${D}/${se}`}),Ov=fe(()=>{const{percent:D}=fr.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${D}%, #e9ecef ${D}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:D>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),Fn=Xe(!1),xv=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Yn,"0")}catch(D){}Fn.value=!0},mr=()=>{if(Fn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Yn,"1")}catch(D){}},vv=D=>{D&&typeof D.link=="string"&&D.link!==""&&(mr(),typeof window!="undefined"&&(window.location.href=D.link))};Ye(fa,D=>{if(!D&&(Fn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Yn,"1")}catch(se){}});const Nv=(Dc=($c=(kc=t.config)==null?void 0:kc.preload)==null?void 0:$c.tax)!=null?Dc:{items:o((wc=t.dataset)==null?void 0:wc.taxPreload,[]),pagination:o((Lc=t.dataset)==null?void 0:Lc.taxPreloadPagination,{})},{state:Pv,refresh:Gn,saveRate:Mv,deleteRates:Iv}=av({endpoints:j,token:t.csrfToken,preload:Nv,autoload:U.value||$.value}),kv=(Gc=(Yc=(Uc=t.config)==null?void 0:Uc.preload)==null?void 0:Yc.shipping)!=null?Gc:{items:o((Xc=t.dataset)==null?void 0:Xc.shippingPreload,[]),pagination:o((Fc=t.dataset)==null?void 0:Fc.shippingPreloadPagination,{})},{state:$v,refresh:Vn,saveRule:wv,deleteRules:Lv}=iv({endpoints:z,token:t.csrfToken,preload:kv,autoload:G.value||$.value}),Dv=(jc=(Hc=(Vc=t.config)==null?void 0:Vc.preload)==null?void 0:Hc.logs)!=null?jc:{items:o((Bc=t.dataset)==null?void 0:Bc.logsPreload,[]),pagination:o((Kc=t.dataset)==null?void 0:Kc.logsPreloadPagination,{})},{state:Uv,refresh:hr,search:Yv,setEntity:Xv,goToPage:Fv}=ov({endpoints:b,token:t.csrfToken,preload:Dv,autoload:Y.value}),{state:Gv,refresh:ma,save:Vv}=rv({endpoints:k,token:t.csrfToken});Ye(m,D=>{switch(D){case"dashboard":ee();break;case"products":re(),ce();break;case"categories":ce();break;case"orders":H();break;case"customers":De();break;case"coupons":Qt();break;case"tax":Gn();break;case"shipping":Vn();break;case"settings":_r(),Gn(),Vn(),ma();break;case"logs":hr();break}}),ot(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const D=window.localStorage.getItem(Yn);fa.value?D!=="1"&&(Fn.value=!0):window.localStorage.setItem(Yn,"1")}catch(D){}}$.value&&ma()});const Hv=()=>{re()},Bv=()=>{F()},Kv=async D=>{try{await q(D),re(),ce(),ke("dashboard"),ee(!0)}catch(se){}},jv=async({id:D,data:se})=>{try{await te(D,se),re(),ce()}catch(Se){}},Jv=async D=>{try{await le(D),re(),ce()}catch(se){}},Wv=()=>{ce()},qv=()=>{he()},zv=D=>{Oe(D)},Qv=async D=>{try{await Te(D),ce()}catch(se){}},Zv=async D=>{try{await Pe(D),ce()}catch(se){}},e1=()=>{ee()},t1=()=>{H()},n1=()=>{y()},s1=D=>{A(D)},a1=D=>{X(D)},i1=()=>{g()},o1=async({id:D,state:se})=>{try{await _(D,se)}catch(Se){}},r1=D=>{C(D)},l1=async({ids:D,state:se})=>{try{await N(D,se)}catch(Se){}},c1=D=>{R(D)},d1=()=>{x()},u1=async({id:D,message:se})=>{await B(D,se)},p1=async D=>{if(!(D!=null&&D.id))return;const{id:se,...Se}=D;try{await P(se,Se)}catch(Ue){}},_1=async D=>{!(D!=null&&D.id)||!(D!=null&&D.type)||await me(D.id,D.type)},f1=async D=>{if(D!=null&&D.id)try{await be(D.id,{amountCents:D.amountCents,reference:D.reference,note:D.note})}catch(se){}},m1=async D=>{if(!D)return;const se=await ie(D);if(!(se!=null&&se.content))return;const Se=atob(se.content),Ue=new Uint8Array(Se.length);for(let en=0;en<Se.length;en+=1)Ue[en]=Se.charCodeAt(en);const Je=new Blob([Ue],{type:"application/pdf"}),it=window.URL.createObjectURL(Je),ut=document.createElement("a");ut.href=it,ut.download=se.filename||"invoice.pdf",document.body.appendChild(ut),ut.click(),document.body.removeChild(ut),setTimeout(()=>window.URL.revokeObjectURL(it),1e3)},h1=async()=>{const D=await ue();if(!(D!=null&&D.content))return;const se=atob(D.content),Se=new Uint8Array(se.length);for(let ut=0;ut<se.length;ut+=1)Se[ut]=se.charCodeAt(ut);const Ue=new Blob([Se],{type:"text/csv;charset=utf-8"}),Je=window.URL.createObjectURL(Ue),it=document.createElement("a");it.href=Je,it.download=D.filename||"orders-export.csv",document.body.appendChild(it),it.click(),document.body.removeChild(it),setTimeout(()=>window.URL.revokeObjectURL(Je),1e3)},g1=()=>{De()},E1=()=>{tt()},C1=D=>{vt(D)},S1=D=>{at(D)},A1=()=>{Ve()},b1=D=>{Ge(D)},T1=D=>{Nt(D)},y1=()=>{Qt()},R1=()=>{mn()},O1=D=>{As(D)},x1=async D=>{try{await bs(D)}catch(se){}},v1=async D=>{try{await ua(D)}catch(se){}},N1=()=>{_r(!0)},P1=async D=>{try{await Cv(D),ke("dashboard"),ee(!0)}catch(se){}},M1=()=>{Gn()},I1=async D=>{try{await Mv(D),Gn()}catch(se){}},k1=async D=>{try{await Iv(D),Gn()}catch(se){}},$1=()=>{Vn()},w1=async D=>{try{await wv(D),Vn()}catch(se){}},L1=async D=>{try{await Lv(D),Vn()}catch(se){}},D1=()=>{hr()},U1=()=>{Yv()},Y1=D=>{Xv(D)},X1=D=>{Fv(D)},F1=()=>{ma()},G1=async D=>{await Vv(D),ke("dashboard"),ee(!0)};return(D,se)=>(T(),st(vp,null,{default:ei(()=>{var Se,Ue,Je,it,ut,en;return[a("section",lv,[a("header",cv,[a("div",null,[a("h1",dv,d(r(s)(i.value,(Ue=(Se=t.dataset)==null?void 0:Se.appTitle)!=null?Ue:"NXP Easy Cart",[],"appTitle")),1),a("p",uv,d(r(s)(n.value,(it=(Je=t.dataset)==null?void 0:Je.appLead)!=null?it:"Manage your storefront from one place.",[],"appLead")),1)]),Q(a("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:Mt(Ov.value),onClick:xv},[ye(d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),a("span",pv,d(Rv.value),1)],4),[[ep,fa.value]])]),u.value.length?(T(),v("nav",_v,[(T(!0),v(Ce,null,Re(u.value,Ts=>(T(),v("a",{key:Ts.id,href:Ts.link,class:Me({"is-active":Ts.id===m.value})},d(Ts.title),11,fv))),128))])):oe("",!0),m.value==="dashboard"?(T(),st(r_,{key:1,state:r(J),translate:r(s),onRefresh:e1},null,8,["state","translate"])):m.value==="products"?(T(),st(Ym,{key:2,state:r(Z),translate:r(s),"base-currency":Xn.value,"category-options":E.value,"media-modal-url":bv.value,onCreate:Kv,onUpdate:jv,onDelete:Jv,onRefresh:Hv,onSearch:Bv},null,8,["state","translate","base-currency","category-options","media-modal-url"])):m.value==="categories"?(T(),st(Xh,{key:3,state:r(_e),translate:r(s),"load-options":r(Be),onRefresh:Wv,onSearch:qv,onPage:zv,onSave:Qv,onDelete:Zv},null,8,["state","translate","load-options"])):m.value==="orders"?(T(),st(aC,{key:4,state:r(M),translate:r(s),"site-root":Tv.value,onRefresh:t1,onSearch:n1,onFilter:s1,onView:a1,onClose:i1,onTransition:o1,onPage:r1,onBulkTransition:l1,onToggleSelection:c1,onClearSelection:d1,onAddNote:u1,onSaveTracking:p1,onSendEmail:_1,onRecordPayment:f1,onInvoice:m1,onExport:h1},null,8,["state","translate","site-root"])):m.value==="customers"?(T(),st(oS,{key:5,state:r(xe),translate:r(s),"base-currency":Xn.value,onRefresh:g1,onSearch:E1,onPage:C1,onView:S1,onClose:A1,onGdprExport:b1,onGdprAnonymise:T1},null,8,["state","translate","base-currency"])):m.value==="coupons"?(T(),st(gA,{key:6,state:r(Pt),translate:r(s),"base-currency":Xn.value,onRefresh:y1,onSearch:R1,onPage:O1,onSave:x1,onDelete:v1},null,8,["state","translate","base-currency"])):m.value==="tax"?(T(),st(IR,{key:7,state:r(Pv),translate:r(s),onRefresh:M1,onSave:I1,onDelete:k1},null,8,["state","translate"])):m.value==="shipping"?(T(),st(HO,{key:8,state:r($v),translate:r(s),"base-currency":Xn.value,onRefresh:$1,onSave:w1,onDelete:L1},null,8,["state","translate","base-currency"])):m.value==="settings"?(T(),st(Ny,{key:9,"settings-state":r(Zt),"payments-state":r(Gv),translate:r(s),"base-currency":Xn.value,"initial-tab":f.value,onRefreshSettings:N1,onSaveSettings:P1,onRefreshPayments:F1,onSavePayments:G1},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):m.value==="logs"&&c.value?(T(),st(xx,{key:10,state:r(Uv),translate:r(s),onRefresh:D1,onSearch:U1,onFilter:Y1,onPage:X1},null,8,["state","translate"])):(T(),v("div",mv,[a("div",hv,[a("p",gv,d(r(s)(n.value,(en=(ut=t.dataset)==null?void 0:ut.appLead)!=null?en:"This section will be available soon.",[],"appLead")),1)])]))]),He(Vx,{visible:Fn.value,steps:_a.value,translate:r(s),onClose:mr,onNavigate:vv},null,8,["visible","steps","translate"])]}),_:1}))}},Ss=document.getElementById("nxp-ec-admin-app");if(!Ss)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(lo=Ss.getAttribute("data-csrf-token"))!=null?lo:"",t=Object.assign({},Ss.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(I){console.warn("[NXP Easy Cart] Failed to parse admin config payload",I)}const i=(mo=(co=s==null?void 0:s.endpoints)==null?void 0:co.products)!=null?mo:{list:(uo=t.productsEndpoint)!=null?uo:"",create:(po=t.productsEndpointCreate)!=null?po:"",update:(_o=t.productsEndpointUpdate)!=null?_o:"",delete:(fo=t.productsEndpointDelete)!=null?fo:""},n=(Ao=(ho=s==null?void 0:s.endpoints)==null?void 0:ho.categories)!=null?Ao:{list:(go=t.categoriesEndpoint)!=null?go:"",create:(Eo=t.categoriesEndpointCreate)!=null?Eo:"",update:(Co=t.categoriesEndpointUpdate)!=null?Co:"",delete:(So=t.categoriesEndpointDelete)!=null?So:""},o=(Po=(bo=s==null?void 0:s.endpoints)==null?void 0:bo.orders)!=null?Po:{list:(To=t.ordersEndpoint)!=null?To:"",show:(yo=t.ordersEndpointShow)!=null?yo:"",transition:(Ro=t.ordersEndpointTransition)!=null?Ro:"",bulkTransition:(Oo=t.ordersEndpointBulk)!=null?Oo:"",note:(xo=t.ordersEndpointNote)!=null?xo:"",tracking:(vo=t.ordersEndpointTracking)!=null?vo:"",invoice:(No=t.ordersEndpointInvoice)!=null?No:""},c=($o=(Mo=s==null?void 0:s.endpoints)==null?void 0:Mo.customers)!=null?$o:{list:(Io=t.customersEndpoint)!=null?Io:"",show:(ko=t.customersEndpointShow)!=null?ko:""},u=(Uo=(wo=s==null?void 0:s.endpoints)==null?void 0:wo.gdpr)!=null?Uo:{export:(Lo=t.gdprEndpointExport)!=null?Lo:"",anonymise:(Do=t.gdprEndpointAnonymise)!=null?Do:""},p=(Ho=(Yo=s==null?void 0:s.endpoints)==null?void 0:Yo.coupons)!=null?Ho:{list:(Xo=t.couponsEndpoint)!=null?Xo:"",create:(Fo=t.couponsEndpointCreate)!=null?Fo:"",update:(Go=t.couponsEndpointUpdate)!=null?Go:"",delete:(Vo=t.couponsEndpointDelete)!=null?Vo:""},m=(qo=(Bo=s==null?void 0:s.endpoints)==null?void 0:Bo.tax)!=null?qo:{list:(Ko=t.taxEndpoint)!=null?Ko:"",create:(jo=t.taxEndpointCreate)!=null?jo:"",update:(Jo=t.taxEndpointUpdate)!=null?Jo:"",delete:(Wo=t.taxEndpointDelete)!=null?Wo:""},f=(nr=(zo=s==null?void 0:s.endpoints)==null?void 0:zo.shipping)!=null?nr:{list:(Qo=t.shippingEndpoint)!=null?Qo:"",create:(Zo=t.shippingEndpointCreate)!=null?Zo:"",update:(er=t.shippingEndpointUpdate)!=null?er:"",delete:(tr=t.shippingEndpointDelete)!=null?tr:""},l=(or=(sr=s==null?void 0:s.endpoints)==null?void 0:sr.settings)!=null?or:{show:(ar=t.settingsEndpointShow)!=null?ar:"",update:(ir=t.settingsEndpointUpdate)!=null?ir:""},h=(cr=(rr=s==null?void 0:s.endpoints)==null?void 0:rr.logs)!=null?cr:{list:(lr=t.logsEndpoint)!=null?lr:""};Sp(Ev,{csrfToken:e,dataset:t,config:s,endpoints:{products:i,categories:n,orders:o,customers:c,gdpr:u,coupons:p,tax:m,shipping:f,settings:l,logs:h,dashboard:(pr=(ur=(dr=s==null?void 0:s.endpoints)==null?void 0:dr.dashboard)!=null?ur:t.dashboardEndpoint)!=null?pr:""}}).mount(Ss)}})();
