(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var gi,Ei,Ci,Ai,Si,bi,yi,Ti,Ri,Oi,xi,vi,Pi,Ni,Mi,Ii,ki,$i,wi,Di,Li,Yi,Ui,Xi,Fi,Gi,Vi,Hi,Bi,Ki,ji,Ji,Wi,qi,zi,Qi,Zi,er,tr,nr,sr,ar,or,ir,rr,lr,cr,dr,ur,pr,_r,fr,mr,hr,gr,Er,Cr,Ar,Sr,br,yr,Tr,Rr,Or,xr,vr,Pr,Nr,Mr,Ir,kr,$r,wr,Dr,Lr,Yr,Ur,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,al,ol,il,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Cl,Al,Sl,bl,yl,Tl,Rl,Ol,xl,vl,Pl,Nl,Ml,Il,kl,$l,wl,Dl,Ll,Yl,Ul,Xl,Fl,Gl,Vl;function ks(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ke={},ln=[],Nt=()=>{},ba=()=>!1,es=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),$s=e=>e.startsWith("onUpdate:"),lt=Object.assign,ws=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},u_=Object.prototype.hasOwnProperty,Ge=(e,t)=>u_.call(e,t),Ie=Array.isArray,cn=e=>Tn(e)==="[object Map]",dn=e=>Tn(e)==="[object Set]",ya=e=>Tn(e)==="[object Date]",De=e=>typeof e=="function",Qe=e=>typeof e=="string",Ot=e=>typeof e=="symbol",je=e=>e!==null&&typeof e=="object",Ta=e=>(je(e)||De(e))&&De(e.then)&&De(e.catch),Ra=Object.prototype.toString,Tn=e=>Ra.call(e),p_=e=>Tn(e).slice(8,-1),Oa=e=>Tn(e)==="[object Object]",Ds=e=>Qe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rn=ks(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ts=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},__=/-\w/g,jt=ts(e=>e.replace(__,t=>t.slice(1).toUpperCase())),f_=/\B([A-Z])/g,Jt=ts(e=>e.replace(f_,"-$1").toLowerCase()),xa=ts(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ls=ts(e=>e?`on${xa(e)}`:""),Wt=(e,t)=>!Object.is(e,t),ns=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},va=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},ss=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Pa;const as=()=>Pa||(Pa=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function xt(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=Qe(i)?E_(i):xt(i);if(s)for(const o in s)t[o]=s[o]}return t}else if(Qe(e)||je(e))return e}const m_=/;(?![^(]*\))/g,h_=/:([^]+)/,g_=/\/\*[^]*?\*\//g;function E_(e){const t={};return e.replace(g_,"").split(m_).forEach(n=>{if(n){const i=n.split(h_);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function we(e){let t="";if(Qe(e))t=e;else if(Ie(e))for(let n=0;n<e.length;n++){const i=we(e[n]);i&&(t+=i+" ")}else if(je(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const C_=ks("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Na(e){return!!e||e===""}function A_(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=On(e[i],t[i]);return n}function On(e,t){if(e===t)return!0;let n=ya(e),i=ya(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Ot(e),i=Ot(t),n||i)return e===t;if(n=Ie(e),i=Ie(t),n||i)return n&&i?A_(e,t):!1;if(n=je(e),i=je(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const l in e){const d=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(d&&!p||!d&&p||!On(e[l],t[l]))return!1}}return String(e)===String(t)}function Ys(e,t){return e.findIndex(n=>On(n,t))}const Ma=e=>!!(e&&e.__v_isRef===!0),c=e=>Qe(e)?e:e==null?"":Ie(e)||je(e)&&(e.toString===Ra||!De(e.toString))?Ma(e)?c(e.value):JSON.stringify(e,Ia,2):String(e),Ia=(e,t)=>Ma(t)?Ia(e,t.value):cn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s],o)=>(n[Us(i,o)+" =>"]=s,n),{})}:dn(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Us(n))}:Ot(t)?Us(t):je(t)&&!Ie(t)&&!Oa(t)?String(t):t,Us=(e,t="")=>{var n;return Ot(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ft;class S_{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ft,!t&&ft&&(this.index=(ft.scopes||(ft.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ft;try{return ft=this,t()}finally{ft=n}}}on(){++this._on===1&&(this.prevScope=ft,ft=this)}off(){this._on>0&&--this._on===0&&(ft=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function b_(){return ft}let We;const Xs=new WeakSet;class ka{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ft&&ft.active&&ft.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xs.has(this)&&(Xs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xa(this),Da(this);const t=We,n=vt;We=this,vt=!0;try{return this.fn()}finally{La(this),We=t,vt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Hs(t);this.deps=this.depsTail=void 0,Xa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Vs(this)&&this.run()}get dirty(){return Vs(this)}}let $a=0,xn,vn;function wa(e,t=!1){if(e.flags|=8,t){e.next=vn,vn=e;return}e.next=xn,xn=e}function Fs(){$a++}function Gs(){if(--$a>0)return;if(vn){let t=vn;for(vn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;xn;){let t=xn;for(xn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function Da(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function La(e){let t,n=e.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Hs(i),y_(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}e.deps=t,e.depsTail=n}function Vs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ya(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ya(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Pn)||(e.globalVersion=Pn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Vs(e))))return;e.flags|=2;const t=e.dep,n=We,i=vt;We=e,vt=!0;try{Da(e);const s=e.fn(e._value);(t.version===0||Wt(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{We=n,vt=i,La(e),e.flags&=-3}}function Hs(e,t=!1){const{dep:n,prevSub:i,nextSub:s}=e;if(i&&(i.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Hs(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function y_(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let vt=!0;const Ua=[];function Mt(){Ua.push(vt),vt=!1}function It(){const e=Ua.pop();vt=e===void 0?!0:e}function Xa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=We;We=void 0;try{t()}finally{We=n}}}let Pn=0;class T_{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Bs{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!We||!vt||We===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==We)n=this.activeLink=new T_(We,this),We.deps?(n.prevDep=We.depsTail,We.depsTail.nextDep=n,We.depsTail=n):We.deps=We.depsTail=n,Fa(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=We.depsTail,n.nextDep=void 0,We.depsTail.nextDep=n,We.depsTail=n,We.deps===n&&(We.deps=i)}return n}trigger(t){this.version++,Pn++,this.notify(t)}notify(t){Fs();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Gs()}}}function Fa(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Fa(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const os=new WeakMap,tn=Symbol(""),Ks=Symbol(""),Nn=Symbol("");function it(e,t,n){if(vt&&We){let i=os.get(e);i||os.set(e,i=new Map);let s=i.get(n);s||(i.set(n,s=new Bs),s.map=i,s.key=n),s.track()}}function Xt(e,t,n,i,s,o){const l=os.get(e);if(!l){Pn++;return}const d=p=>{p&&p.trigger()};if(Fs(),t==="clear")l.forEach(d);else{const p=Ie(e),_=p&&Ds(n);if(p&&n==="length"){const m=Number(i);l.forEach((u,y)=>{(y==="length"||y===Nn||!Ot(y)&&y>=m)&&d(u)})}else switch((n!==void 0||l.has(void 0))&&d(l.get(n)),_&&d(l.get(Nn)),t){case"add":p?_&&d(l.get("length")):(d(l.get(tn)),cn(e)&&d(l.get(Ks)));break;case"delete":p||(d(l.get(tn)),cn(e)&&d(l.get(Ks)));break;case"set":cn(e)&&d(l.get(tn));break}}Gs()}function R_(e,t){const n=os.get(e);return n&&n.get(t)}function un(e){const t=Xe(e);return t===e?t:(it(t,"iterate",Nn),Rt(e)?t:t.map(at))}function is(e){return it(e=Xe(e),"iterate",Nn),e}const O_={__proto__:null,[Symbol.iterator](){return js(this,Symbol.iterator,at)},concat(...e){return un(this).concat(...e.map(t=>Ie(t)?un(t):t))},entries(){return js(this,"entries",e=>(e[1]=at(e[1]),e))},every(e,t){return Ft(this,"every",e,t,void 0,arguments)},filter(e,t){return Ft(this,"filter",e,t,n=>n.map(at),arguments)},find(e,t){return Ft(this,"find",e,t,at,arguments)},findIndex(e,t){return Ft(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ft(this,"findLast",e,t,at,arguments)},findLastIndex(e,t){return Ft(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ft(this,"forEach",e,t,void 0,arguments)},includes(...e){return Js(this,"includes",e)},indexOf(...e){return Js(this,"indexOf",e)},join(e){return un(this).join(e)},lastIndexOf(...e){return Js(this,"lastIndexOf",e)},map(e,t){return Ft(this,"map",e,t,void 0,arguments)},pop(){return Mn(this,"pop")},push(...e){return Mn(this,"push",e)},reduce(e,...t){return Ga(this,"reduce",e,t)},reduceRight(e,...t){return Ga(this,"reduceRight",e,t)},shift(){return Mn(this,"shift")},some(e,t){return Ft(this,"some",e,t,void 0,arguments)},splice(...e){return Mn(this,"splice",e)},toReversed(){return un(this).toReversed()},toSorted(e){return un(this).toSorted(e)},toSpliced(...e){return un(this).toSpliced(...e)},unshift(...e){return Mn(this,"unshift",e)},values(){return js(this,"values",at)}};function js(e,t,n){const i=is(e),s=i[t]();return i!==e&&!Rt(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.done||(o.value=n(o.value)),o}),s}const x_=Array.prototype;function Ft(e,t,n,i,s,o){const l=is(e),d=l!==e&&!Rt(e),p=l[t];if(p!==x_[t]){const u=p.apply(e,o);return d?at(u):u}let _=n;l!==e&&(d?_=function(u,y){return n.call(this,at(u),y,e)}:n.length>2&&(_=function(u,y){return n.call(this,u,y,e)}));const m=p.call(l,_,i);return d&&s?s(m):m}function Ga(e,t,n,i){const s=is(e);let o=n;return s!==e&&(Rt(e)?n.length>3&&(o=function(l,d,p){return n.call(this,l,d,p,e)}):o=function(l,d,p){return n.call(this,l,at(d),p,e)}),s[t](o,...i)}function Js(e,t,n){const i=Xe(e);it(i,"iterate",Nn);const s=i[t](...n);return(s===-1||s===!1)&&zs(n[0])?(n[0]=Xe(n[0]),i[t](...n)):s}function Mn(e,t,n=[]){Mt(),Fs();const i=Xe(e)[t].apply(e,n);return Gs(),It(),i}const v_=ks("__proto__,__v_isRef,__isVue"),Va=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ot));function P_(e){Ot(e)||(e=String(e));const t=Xe(this);return it(t,"has",e),t.hasOwnProperty(e)}class Ha{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return i===(s?o?qa:Wa:o?Ja:ja).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const l=Ie(t);if(!s){let p;if(l&&(p=O_[n]))return p;if(n==="hasOwnProperty")return P_}const d=Reflect.get(t,n,st(t)?t:i);if((Ot(n)?Va.has(n):v_(n))||(s||it(t,"get",n),o))return d;if(st(d)){const p=l&&Ds(n)?d:d.value;return s&&je(p)?qs(p):p}return je(d)?s?qs(d):Ve(d):d}}class Ba extends Ha{constructor(t=!1){super(!1,t)}set(t,n,i,s){let o=t[n];if(!this._isShallow){const p=qt(o);if(!Rt(i)&&!qt(i)&&(o=Xe(o),i=Xe(i)),!Ie(t)&&st(o)&&!st(i))return p||(o.value=i),!0}const l=Ie(t)&&Ds(n)?Number(n)<t.length:Ge(t,n),d=Reflect.set(t,n,i,st(t)?t:s);return t===Xe(s)&&(l?Wt(i,o)&&Xt(t,"set",n,i):Xt(t,"add",n,i)),d}deleteProperty(t,n){const i=Ge(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&i&&Xt(t,"delete",n,void 0),s}has(t,n){const i=Reflect.has(t,n);return(!Ot(n)||!Va.has(n))&&it(t,"has",n),i}ownKeys(t){return it(t,"iterate",Ie(t)?"length":tn),Reflect.ownKeys(t)}}class Ka extends Ha{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const N_=new Ba,M_=new Ka,I_=new Ba(!0),k_=new Ka(!0),Ws=e=>e,rs=e=>Reflect.getPrototypeOf(e);function $_(e,t,n){return function(...i){const s=this.__v_raw,o=Xe(s),l=cn(o),d=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,_=s[e](...i),m=n?Ws:t?us:at;return!t&&it(o,"iterate",p?Ks:tn),{next(){const{value:u,done:y}=_.next();return y?{value:u,done:y}:{value:d?[m(u[0]),m(u[1])]:m(u),done:y}},[Symbol.iterator](){return this}}}}function ls(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function w_(e,t){const n={get(s){const o=this.__v_raw,l=Xe(o),d=Xe(s);e||(Wt(s,d)&&it(l,"get",s),it(l,"get",d));const{has:p}=rs(l),_=t?Ws:e?us:at;if(p.call(l,s))return _(o.get(s));if(p.call(l,d))return _(o.get(d));o!==l&&o.get(s)},get size(){const s=this.__v_raw;return!e&&it(Xe(s),"iterate",tn),s.size},has(s){const o=this.__v_raw,l=Xe(o),d=Xe(s);return e||(Wt(s,d)&&it(l,"has",s),it(l,"has",d)),s===d?o.has(s):o.has(s)||o.has(d)},forEach(s,o){const l=this,d=l.__v_raw,p=Xe(d),_=t?Ws:e?us:at;return!e&&it(p,"iterate",tn),d.forEach((m,u)=>s.call(o,_(m),_(u),l))}};return lt(n,e?{add:ls("add"),set:ls("set"),delete:ls("delete"),clear:ls("clear")}:{add(s){!t&&!Rt(s)&&!qt(s)&&(s=Xe(s));const o=Xe(this);return rs(o).has.call(o,s)||(o.add(s),Xt(o,"add",s,s)),this},set(s,o){!t&&!Rt(o)&&!qt(o)&&(o=Xe(o));const l=Xe(this),{has:d,get:p}=rs(l);let _=d.call(l,s);_||(s=Xe(s),_=d.call(l,s));const m=p.call(l,s);return l.set(s,o),_?Wt(o,m)&&Xt(l,"set",s,o):Xt(l,"add",s,o),this},delete(s){const o=Xe(this),{has:l,get:d}=rs(o);let p=l.call(o,s);p||(s=Xe(s),p=l.call(o,s)),d&&d.call(o,s);const _=o.delete(s);return p&&Xt(o,"delete",s,void 0),_},clear(){const s=Xe(this),o=s.size!==0,l=s.clear();return o&&Xt(s,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=$_(s,e,t)}),n}function cs(e,t){const n=w_(e,t);return(i,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Ge(n,s)&&s in i?n:i,s,o)}const D_={get:cs(!1,!1)},L_={get:cs(!1,!0)},Y_={get:cs(!0,!1)},U_={get:cs(!0,!0)},ja=new WeakMap,Ja=new WeakMap,Wa=new WeakMap,qa=new WeakMap;function X_(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function F_(e){return e.__v_skip||!Object.isExtensible(e)?0:X_(p_(e))}function Ve(e){return qt(e)?e:ds(e,!1,N_,D_,ja)}function G_(e){return ds(e,!1,I_,L_,Ja)}function qs(e){return ds(e,!0,M_,Y_,Wa)}function xD(e){return ds(e,!0,k_,U_,qa)}function ds(e,t,n,i,s){if(!je(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=F_(e);if(o===0)return e;const l=s.get(e);if(l)return l;const d=new Proxy(e,o===2?i:n);return s.set(e,d),d}function pn(e){return qt(e)?pn(e.__v_raw):!!(e&&e.__v_isReactive)}function qt(e){return!!(e&&e.__v_isReadonly)}function Rt(e){return!!(e&&e.__v_isShallow)}function zs(e){return e?!!e.__v_raw:!1}function Xe(e){const t=e&&e.__v_raw;return t?Xe(t):e}function V_(e){return!Ge(e,"__v_skip")&&Object.isExtensible(e)&&va(e,"__v_skip",!0),e}const at=e=>je(e)?Ve(e):e,us=e=>je(e)?qs(e):e;function st(e){return e?e.__v_isRef===!0:!1}function Ye(e){return H_(e,!1)}function H_(e,t){return st(e)?e:new B_(e,t)}class B_{constructor(t,n){this.dep=new Bs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Xe(t),this._value=n?t:at(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||Rt(t)||qt(t);t=i?t:Xe(t),Wt(t,n)&&(this._rawValue=t,this._value=i?t:at(t),this.dep.trigger())}}function r(e){return st(e)?e.value:e}const K_={get:(e,t,n)=>t==="__v_raw"?e:r(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return st(s)&&!st(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function za(e){return pn(e)?e:new Proxy(e,K_)}class j_{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return R_(Xe(this._object),this._key)}}class J_{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function zt(e,t,n){return st(e)?e:De(e)?new J_(e):je(e)&&arguments.length>1?W_(e,t,n):Ye(e)}function W_(e,t,n){const i=e[t];return st(i)?i:new j_(e,t,n)}class q_{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Bs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&We!==this)return wa(this,!0),!0}get value(){const t=this.dep.track();return Ya(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function z_(e,t,n=!1){let i,s;return De(e)?i=e:(i=e.get,s=e.set),new q_(i,s,n)}const ps={},_s=new WeakMap;let nn;function Q_(e,t=!1,n=nn){if(n){let i=_s.get(n);i||_s.set(n,i=[]),i.push(e)}}function Z_(e,t,n=Ke){const{immediate:i,deep:s,once:o,scheduler:l,augmentJob:d,call:p}=n,_=x=>s?x:Rt(x)||s===!1||s===0?Gt(x,1):Gt(x);let m,u,y,h,w=!1,I=!1;if(st(e)?(u=()=>e.value,w=Rt(e)):pn(e)?(u=()=>_(e),w=!0):Ie(e)?(I=!0,w=e.some(x=>pn(x)||Rt(x)),u=()=>e.map(x=>{if(st(x))return x.value;if(pn(x))return _(x);if(De(x))return p?p(x,2):x()})):De(e)?t?u=p?()=>p(e,2):e:u=()=>{if(y){Mt();try{y()}finally{It()}}const x=nn;nn=m;try{return p?p(e,3,[h]):e(h)}finally{nn=x}}:u=Nt,t&&s){const x=u,B=s===!0?1/0:s;u=()=>Gt(x(),B)}const C=b_(),E=()=>{m.stop(),C&&C.active&&ws(C.effects,m)};if(o&&t){const x=t;t=(...B)=>{x(...B),E()}}let f=I?new Array(e.length).fill(ps):ps;const N=x=>{if(!(!(m.flags&1)||!m.dirty&&!x))if(t){const B=m.run();if(s||w||(I?B.some((Y,b)=>Wt(Y,f[b])):Wt(B,f))){y&&y();const Y=nn;nn=m;try{const b=[B,f===ps?void 0:I&&f[0]===ps?[]:f,h];f=B,p?p(t,3,b):t(...b)}finally{nn=Y}}}else m.run()};return d&&d(N),m=new ka(u),m.scheduler=l?()=>l(N,!1):N,h=x=>Q_(x,!1,m),y=m.onStop=()=>{const x=_s.get(m);if(x){if(p)p(x,4);else for(const B of x)B();_s.delete(m)}},t?i?N(!0):f=m.run():l?l(N.bind(null,!0),!0):m.run(),E.pause=m.pause.bind(m),E.resume=m.resume.bind(m),E.stop=E,E}function Gt(e,t=1/0,n){if(t<=0||!je(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,st(e))Gt(e.value,t,n);else if(Ie(e))for(let i=0;i<e.length;i++)Gt(e[i],t,n);else if(dn(e)||cn(e))e.forEach(i=>{Gt(i,t,n)});else if(Oa(e)){for(const i in e)Gt(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Gt(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const In=[];let Qs=!1;function vD(e,...t){if(Qs)return;Qs=!0,Mt();const n=In.length?In[In.length-1].component:null,i=n&&n.appContext.config.warnHandler,s=ef();if(i)_n(i,n,11,[e+t.map(o=>{var l,d;return(d=(l=o.toString)==null?void 0:l.call(o))!=null?d:JSON.stringify(o)}).join(""),n&&n.proxy,s.map(({vnode:o})=>`at <${Bo(n,o.type)}>`).join(`
`),s]);else{const o=[`[Vue warn]: ${e}`,...t];s.length&&o.push(`
`,...tf(s)),console.warn(...o)}It(),Qs=!1}function ef(){let e=In[In.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function tf(e){const t=[];return e.forEach((n,i)=>{t.push(...i===0?[]:[`
`],...nf(n))}),t}function nf({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,s=` at <${Bo(e.component,e.type,i)}`,o=">"+n;return e.props?[s,...sf(e.props),o]:[s+o]}function sf(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(i=>{t.push(...Qa(i,e[i]))}),n.length>3&&t.push(" ..."),t}function Qa(e,t,n){return Qe(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:st(t)?(t=Qa(e,Xe(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):De(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Xe(t),n?t:[`${e}=`,t])}function _n(e,t,n,i){try{return i?e(...i):e()}catch(s){fs(s,t,n)}}function kt(e,t,n,i){if(De(e)){const s=_n(e,t,n,i);return s&&Ta(s)&&s.catch(o=>{fs(o,t,n)}),s}if(Ie(e)){const s=[];for(let o=0;o<e.length;o++)s.push(kt(e[o],t,n,i));return s}}function fs(e,t,n,i=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Ke;if(t){let d=t.parent;const p=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${n}`;for(;d;){const m=d.ec;if(m){for(let u=0;u<m.length;u++)if(m[u](e,p,_)===!1)return}d=d.parent}if(o){Mt(),_n(o,null,10,[e,p,_]),It();return}}af(e,n,s,i,l)}function af(e,t,n,i=!0,s=!1){if(s)throw e;console.error(e)}const ct=[];let $t=-1;const fn=[];let Qt=null,mn=0;const Za=Promise.resolve();let ms=null;function eo(e){const t=ms||Za;return e?t.then(this?e.bind(this):e):t}function of(e){let t=$t+1,n=ct.length;for(;t<n;){const i=t+n>>>1,s=ct[i],o=kn(s);o<e||o===e&&s.flags&2?t=i+1:n=i}return t}function Zs(e){if(!(e.flags&1)){const t=kn(e),n=ct[ct.length-1];!n||!(e.flags&2)&&t>=kn(n)?ct.push(e):ct.splice(of(t),0,e),e.flags|=1,to()}}function to(){ms||(ms=Za.then(ao))}function rf(e){Ie(e)?fn.push(...e):Qt&&e.id===-1?Qt.splice(mn+1,0,e):e.flags&1||(fn.push(e),e.flags|=1),to()}function no(e,t,n=$t+1){for(;n<ct.length;n++){const i=ct[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;ct.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function so(e){if(fn.length){const t=[...new Set(fn)].sort((n,i)=>kn(n)-kn(i));if(fn.length=0,Qt){Qt.push(...t);return}for(Qt=t,mn=0;mn<Qt.length;mn++){const n=Qt[mn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qt=null,mn=0}}const kn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ao(e){try{for($t=0;$t<ct.length;$t++){const t=ct[$t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),_n(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;$t<ct.length;$t++){const t=ct[$t];t&&(t.flags&=-2)}$t=-1,ct.length=0,so(),ms=null,(ct.length||fn.length)&&ao()}}let rt=null,oo=null;function hs(e){const t=rt;return rt=e,oo=e&&e.type.__scopeId||null,t}function io(e,t=rt,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&Yo(-1);const o=hs(t);let l;try{l=e(...s)}finally{hs(o),i._d&&Yo(1)}return l};return i._n=!0,i._c=!0,i._d=!0,i}function ne(e,t){if(rt===null)return e;const n=Os(rt),i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,l,d,p=Ke]=t[s];o&&(De(o)&&(o={mounted:o,updated:o}),o.deep&&Gt(l),i.push({dir:o,instance:n,value:l,oldValue:void 0,arg:d,modifiers:p}))}return e}function sn(e,t,n,i){const s=e.dirs,o=t&&t.dirs;for(let l=0;l<s.length;l++){const d=s[l];o&&(d.oldValue=o[l].value);let p=d.dir[i];p&&(Mt(),kt(p,n,8,[e.el,d,e,t]),It())}}const lf=Symbol("_vte"),cf=e=>e.__isTeleport,df=Symbol("_leaveCb");function ea(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ea(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ro(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const gs=new WeakMap;function $n(e,t,n,i,s=!1){if(Ie(e)){e.forEach((w,I)=>$n(w,t&&(Ie(t)?t[I]:t),n,i,s));return}if(hn(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&$n(e,t,n,i.component.subTree);return}const o=i.shapeFlag&4?Os(i.component):i.el,l=s?null:o,{i:d,r:p}=e,_=t&&t.r,m=d.refs===Ke?d.refs={}:d.refs,u=d.setupState,y=Xe(u),h=u===Ke?ba:w=>Ge(y,w);if(_!=null&&_!==p){if(lo(t),Qe(_))m[_]=null,h(_)&&(u[_]=null);else if(st(_)){_.value=null;const w=t;w.k&&(m[w.k]=null)}}if(De(p))_n(p,d,12,[l,m]);else{const w=Qe(p),I=st(p);if(w||I){const C=()=>{if(e.f){const E=w?h(p)?u[p]:m[p]:p.value;if(s)Ie(E)&&ws(E,o);else if(Ie(E))E.includes(o)||E.push(o);else if(w)m[p]=[o],h(p)&&(u[p]=m[p]);else{const f=[o];p.value=f,e.k&&(m[e.k]=f)}}else w?(m[p]=l,h(p)&&(u[p]=l)):I&&(p.value=l,e.k&&(m[e.k]=l))};if(l){const E=()=>{C(),gs.delete(e)};E.id=-1,gs.set(e,E),At(E,n)}else lo(e),C()}}}function lo(e){const t=gs.get(e);t&&(t.flags|=8,gs.delete(e))}as().requestIdleCallback,as().cancelIdleCallback;const hn=e=>!!e.type.__asyncLoader,co=e=>e.type.__isKeepAlive;function uf(e,t){uo(e,"a",t)}function pf(e,t){uo(e,"da",t)}function uo(e,t,n=ut){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Es(t,i,n),n){let s=n.parent;for(;s&&s.parent;)co(s.parent.vnode)&&_f(i,t,n,s),s=s.parent}}function _f(e,t,n,i){const s=Es(t,e,i,!0);ta(()=>{ws(i[t],s)},n)}function Es(e,t,n=ut,i=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...l)=>{Mt();const d=Fn(n),p=kt(t,n,e,l);return d(),It(),p});return i?s.unshift(o):s.push(o),o}}const Vt=e=>(t,n=ut)=>{(!Gn||e==="sp")&&Es(e,(...i)=>t(...i),n)},ff=Vt("bm"),mt=Vt("m"),mf=Vt("bu"),hf=Vt("u"),wn=Vt("bum"),ta=Vt("um"),gf=Vt("sp"),Ef=Vt("rtg"),Cf=Vt("rtc");function Af(e,t=ut){Es("ec",e,t)}const Sf=Symbol.for("v-ndc");function ke(e,t,n,i){let s;const o=n,l=Ie(e);if(l||Qe(e)){const d=l&&pn(e);let p=!1,_=!1;d&&(p=!Rt(e),_=qt(e),e=is(e)),s=new Array(e.length);for(let m=0,u=e.length;m<u;m++)s[m]=t(p?_?us(at(e[m])):at(e[m]):e[m],m,void 0,o)}else if(typeof e=="number"){s=new Array(e);for(let d=0;d<e;d++)s[d]=t(d+1,d,void 0,o)}else if(je(e))if(e[Symbol.iterator])s=Array.from(e,(d,p)=>t(d,p,void 0,o));else{const d=Object.keys(e);s=new Array(d.length);for(let p=0,_=d.length;p<_;p++){const m=d[p];s[p]=t(e[m],m,p,o)}}else s=[];return s}function bf(e,t,n={},i,s){if(rt.ce||rt.parent&&hn(rt.parent)&&rt.parent.ce){const _=Object.keys(n).length>0;return A(),et(xe,null,[ze("slot",n,i)],_?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),A();const l=o&&po(o(n)),d=n.key||l&&l.key,p=et(xe,{key:(d&&!Ot(d)?d:`_${t}`)+(!l&&i?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),o&&o._c&&(o._d=!0),p}function po(e){return e.some(t=>da(t)?!(t.type===Ht||t.type===xe&&!po(t.children)):!0)?e:null}const na=e=>e?Go(e)?Os(e):na(e.parent):null,Dn=lt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>na(e.parent),$root:e=>na(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ho(e),$forceUpdate:e=>e.f||(e.f=()=>{Zs(e.update)}),$nextTick:e=>e.n||(e.n=eo.bind(e.proxy)),$watch:e=>Hf.bind(e)}),sa=(e,t)=>e!==Ke&&!e.__isScriptSetup&&Ge(e,t),yf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:o,accessCache:l,type:d,appContext:p}=e;let _;if(t[0]!=="$"){const h=l[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(sa(i,t))return l[t]=1,i[t];if(s!==Ke&&Ge(s,t))return l[t]=2,s[t];if((_=e.propsOptions[0])&&Ge(_,t))return l[t]=3,o[t];if(n!==Ke&&Ge(n,t))return l[t]=4,n[t];aa&&(l[t]=0)}}const m=Dn[t];let u,y;if(m)return t==="$attrs"&&it(e.attrs,"get",""),m(e);if((u=d.__cssModules)&&(u=u[t]))return u;if(n!==Ke&&Ge(n,t))return l[t]=4,n[t];if(y=p.config.globalProperties,Ge(y,t))return y[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:o}=e;return sa(s,t)?(s[t]=n,!0):i!==Ke&&Ge(i,t)?(i[t]=n,!0):Ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:o,type:l}},d){let p,_;return!!(n[d]||e!==Ke&&d[0]!=="$"&&Ge(e,d)||sa(t,d)||(p=o[0])&&Ge(p,d)||Ge(i,d)||Ge(Dn,d)||Ge(s.config.globalProperties,d)||(_=l.__cssModules)&&_[d])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ge(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function _o(e){return Ie(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let aa=!0;function Tf(e){const t=ho(e),n=e.proxy,i=e.ctx;aa=!1,t.beforeCreate&&fo(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:l,watch:d,provide:p,inject:_,created:m,beforeMount:u,mounted:y,beforeUpdate:h,updated:w,activated:I,deactivated:C,beforeDestroy:E,beforeUnmount:f,destroyed:N,unmounted:x,render:B,renderTracked:Y,renderTriggered:b,errorCaptured:P,serverPrefetch:ee,expose:O,inheritAttrs:se,components:K,directives:oe,filters:re}=t;if(_&&Rf(_,i,null),l)for(const $ in l){const g=l[$];De(g)&&(i[$]=g.bind(n))}if(s){const $=s.call(n,n);je($)&&(e.data=Ve($))}if(aa=!0,o)for(const $ in o){const g=o[$],R=De(g)?g.bind(n,n):De(g.get)?g.get.bind(n,n):Nt,L=!De(g)&&De(g.set)?g.set.bind(n):Nt,H=Ae({get:R,set:L});Object.defineProperty(i,$,{enumerable:!0,configurable:!0,get:()=>H.value,set:F=>H.value=F})}if(d)for(const $ in d)mo(d[$],i,n,$);if(p){const $=De(p)?p.call(n):p;Reflect.ownKeys($).forEach(g=>{Mf(g,$[g])})}m&&fo(m,e,"c");function V($,g){Ie(g)?g.forEach(R=>$(R.bind(n))):g&&$(g.bind(n))}if(V(ff,u),V(mt,y),V(mf,h),V(hf,w),V(uf,I),V(pf,C),V(Af,P),V(Cf,Y),V(Ef,b),V(wn,f),V(ta,x),V(gf,ee),Ie(O))if(O.length){const $=e.exposed||(e.exposed={});O.forEach(g=>{Object.defineProperty($,g,{get:()=>n[g],set:R=>n[g]=R,enumerable:!0})})}else e.exposed||(e.exposed={});B&&e.render===Nt&&(e.render=B),se!=null&&(e.inheritAttrs=se),K&&(e.components=K),oe&&(e.directives=oe),ee&&ro(e)}function Rf(e,t,n=Nt){Ie(e)&&(e=oa(e));for(const i in e){const s=e[i];let o;je(s)?"default"in s?o=As(s.from||i,s.default,!0):o=As(s.from||i):o=As(s),st(o)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[i]=o}}function fo(e,t,n){kt(Ie(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function mo(e,t,n,i){let s=i.includes(".")?ko(n,i):()=>n[i];if(Qe(e)){const o=t[e];De(o)&&qe(s,o)}else if(De(e))qe(s,e.bind(n));else if(je(e))if(Ie(e))e.forEach(o=>mo(o,t,n,i));else{const o=De(e.handler)?e.handler.bind(n):t[e.handler];De(o)&&qe(s,o,e)}}function ho(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,d=o.get(t);let p;return d?p=d:!s.length&&!n&&!i?p=t:(p={},s.length&&s.forEach(_=>Cs(p,_,l,!0)),Cs(p,t,l)),je(t)&&o.set(t,p),p}function Cs(e,t,n,i=!1){const{mixins:s,extends:o}=t;o&&Cs(e,o,n,!0),s&&s.forEach(l=>Cs(e,l,n,!0));for(const l in t)if(!(i&&l==="expose")){const d=Of[l]||n&&n[l];e[l]=d?d(e[l],t[l]):t[l]}return e}const Of={data:go,props:Eo,emits:Eo,methods:Ln,computed:Ln,beforeCreate:dt,created:dt,beforeMount:dt,mounted:dt,beforeUpdate:dt,updated:dt,beforeDestroy:dt,beforeUnmount:dt,destroyed:dt,unmounted:dt,activated:dt,deactivated:dt,errorCaptured:dt,serverPrefetch:dt,components:Ln,directives:Ln,watch:vf,provide:go,inject:xf};function go(e,t){return t?e?function(){return lt(De(e)?e.call(this,this):e,De(t)?t.call(this,this):t)}:t:e}function xf(e,t){return Ln(oa(e),oa(t))}function oa(e){if(Ie(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function dt(e,t){return e?[...new Set([].concat(e,t))]:t}function Ln(e,t){return e?lt(Object.create(null),e,t):t}function Eo(e,t){return e?Ie(e)&&Ie(t)?[...new Set([...e,...t])]:lt(Object.create(null),_o(e),_o(t!=null?t:{})):t}function vf(e,t){if(!e)return t;if(!t)return e;const n=lt(Object.create(null),e);for(const i in t)n[i]=dt(e[i],t[i]);return n}function Co(){return{app:null,config:{isNativeTag:ba,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pf=0;function Nf(e,t){return function(i,s=null){De(i)||(i=lt({},i)),s!=null&&!je(s)&&(s=null);const o=Co(),l=new WeakSet,d=[];let p=!1;const _=o.app={_uid:Pf++,_component:i,_props:s,_container:null,_context:o,_instance:null,version:hm,get config(){return o.config},set config(m){},use(m,...u){return l.has(m)||(m&&De(m.install)?(l.add(m),m.install(_,...u)):De(m)&&(l.add(m),m(_,...u))),_},mixin(m){return o.mixins.includes(m)||o.mixins.push(m),_},component(m,u){return u?(o.components[m]=u,_):o.components[m]},directive(m,u){return u?(o.directives[m]=u,_):o.directives[m]},mount(m,u,y){if(!p){const h=_._ceVNode||ze(i,s);return h.appContext=o,y===!0?y="svg":y===!1&&(y=void 0),e(h,m,y),p=!0,_._container=m,m.__vue_app__=_,Os(h.component)}},onUnmount(m){d.push(m)},unmount(){p&&(kt(d,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(m,u){return o.provides[m]=u,_},runWithContext(m){const u=gn;gn=_;try{return m()}finally{gn=u}}};return _}}let gn=null;function Mf(e,t){if(ut){let n=ut.provides;const i=ut.parent&&ut.parent.provides;i===n&&(n=ut.provides=Object.create(i)),n[e]=t}}function As(e,t,n=!1){const i=rm();if(i||gn){let s=gn?gn._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&De(t)?t.call(i&&i.proxy):t}}const Ao={},So=()=>Object.create(Ao),bo=e=>Object.getPrototypeOf(e)===Ao;function If(e,t,n,i=!1){const s={},o=So();e.propsDefaults=Object.create(null),yo(e,t,s,o);for(const l in e.propsOptions[0])l in s||(s[l]=void 0);n?e.props=i?s:G_(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function kf(e,t,n,i){const{props:s,attrs:o,vnode:{patchFlag:l}}=e,d=Xe(s),[p]=e.propsOptions;let _=!1;if((i||l>0)&&!(l&16)){if(l&8){const m=e.vnode.dynamicProps;for(let u=0;u<m.length;u++){let y=m[u];if(Ss(e.emitsOptions,y))continue;const h=t[y];if(p)if(Ge(o,y))h!==o[y]&&(o[y]=h,_=!0);else{const w=jt(y);s[w]=ia(p,d,w,h,e,!1)}else h!==o[y]&&(o[y]=h,_=!0)}}}else{yo(e,t,s,o)&&(_=!0);let m;for(const u in d)(!t||!Ge(t,u)&&((m=Jt(u))===u||!Ge(t,m)))&&(p?n&&(n[u]!==void 0||n[m]!==void 0)&&(s[u]=ia(p,d,u,void 0,e,!0)):delete s[u]);if(o!==d)for(const u in o)(!t||!Ge(t,u))&&(delete o[u],_=!0)}_&&Xt(e.attrs,"set","")}function yo(e,t,n,i){const[s,o]=e.propsOptions;let l=!1,d;if(t)for(let p in t){if(Rn(p))continue;const _=t[p];let m;s&&Ge(s,m=jt(p))?!o||!o.includes(m)?n[m]=_:(d||(d={}))[m]=_:Ss(e.emitsOptions,p)||(!(p in i)||_!==i[p])&&(i[p]=_,l=!0)}if(o){const p=Xe(n),_=d||Ke;for(let m=0;m<o.length;m++){const u=o[m];n[u]=ia(s,p,u,_[u],e,!Ge(_,u))}}return l}function ia(e,t,n,i,s,o){const l=e[n];if(l!=null){const d=Ge(l,"default");if(d&&i===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&De(p)){const{propsDefaults:_}=s;if(n in _)i=_[n];else{const m=Fn(s);i=_[n]=p.call(null,t),m()}}else i=p;s.ce&&s.ce._setProp(n,i)}l[0]&&(o&&!d?i=!1:l[1]&&(i===""||i===Jt(n))&&(i=!0))}return i}const $f=new WeakMap;function To(e,t,n=!1){const i=n?$f:t.propsCache,s=i.get(e);if(s)return s;const o=e.props,l={},d=[];let p=!1;if(!De(e)){const m=u=>{p=!0;const[y,h]=To(u,t,!0);lt(l,y),h&&d.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!o&&!p)return je(e)&&i.set(e,ln),ln;if(Ie(o))for(let m=0;m<o.length;m++){const u=jt(o[m]);Ro(u)&&(l[u]=Ke)}else if(o)for(const m in o){const u=jt(m);if(Ro(u)){const y=o[m],h=l[u]=Ie(y)||De(y)?{type:y}:lt({},y),w=h.type;let I=!1,C=!0;if(Ie(w))for(let E=0;E<w.length;++E){const f=w[E],N=De(f)&&f.name;if(N==="Boolean"){I=!0;break}else N==="String"&&(C=!1)}else I=De(w)&&w.name==="Boolean";h[0]=I,h[1]=C,(I||Ge(h,"default"))&&d.push(u)}}const _=[l,d];return je(e)&&i.set(e,_),_}function Ro(e){return e[0]!=="$"&&!Rn(e)}const ra=e=>e==="_"||e==="_ctx"||e==="$stable",la=e=>Ie(e)?e.map(wt):[wt(e)],wf=(e,t,n)=>{if(t._n)return t;const i=io((...s)=>la(t(...s)),n);return i._c=!1,i},Oo=(e,t,n)=>{const i=e._ctx;for(const s in e){if(ra(s))continue;const o=e[s];if(De(o))t[s]=wf(s,o,i);else if(o!=null){const l=la(o);t[s]=()=>l}}},xo=(e,t)=>{const n=la(t);e.slots.default=()=>n},vo=(e,t,n)=>{for(const i in t)(n||!ra(i))&&(e[i]=t[i])},Df=(e,t,n)=>{const i=e.slots=So();if(e.vnode.shapeFlag&32){const s=t._;s?(vo(i,t,n),n&&va(i,"_",s,!0)):Oo(t,i)}else t&&xo(e,t)},Lf=(e,t,n)=>{const{vnode:i,slots:s}=e;let o=!0,l=Ke;if(i.shapeFlag&32){const d=t._;d?n&&d===1?o=!1:vo(s,t,n):(o=!t.$stable,Oo(t,s)),l=t}else t&&(xo(e,t),l={default:1});if(o)for(const d in s)!ra(d)&&l[d]==null&&delete s[d]},At=Qf;function Yf(e){return Uf(e)}function Uf(e,t){const n=as();n.__VUE__=!0;const{insert:i,remove:s,patchProp:o,createElement:l,createText:d,createComment:p,setText:_,setElementText:m,parentNode:u,nextSibling:y,setScopeId:h=Nt,insertStaticContent:w}=e,I=(T,v,G,ae=null,Q=null,te=null,z=void 0,q=null,Z=!!v.dynamicChildren)=>{if(T===v)return;T&&!Xn(T,v)&&(ae=be(T),F(T,Q,te,!0),T=null),v.patchFlag===-2&&(Z=!1,v.dynamicChildren=null);const{type:W,ref:ge,shapeFlag:ce}=v;switch(W){case bs:C(T,v,G,ae);break;case Ht:E(T,v,G,ae);break;case ys:T==null&&f(v,G,ae,z);break;case xe:K(T,v,G,ae,Q,te,z,q,Z);break;default:ce&1?B(T,v,G,ae,Q,te,z,q,Z):ce&6?oe(T,v,G,ae,Q,te,z,q,Z):(ce&64||ce&128)&&W.process(T,v,G,ae,Q,te,z,q,Z,Te)}ge!=null&&Q?$n(ge,T&&T.ref,te,v||T,!v):ge==null&&T&&T.ref!=null&&$n(T.ref,null,te,T,!0)},C=(T,v,G,ae)=>{if(T==null)i(v.el=d(v.children),G,ae);else{const Q=v.el=T.el;v.children!==T.children&&_(Q,v.children)}},E=(T,v,G,ae)=>{T==null?i(v.el=p(v.children||""),G,ae):v.el=T.el},f=(T,v,G,ae)=>{[T.el,T.anchor]=w(T.children,v,G,ae,T.el,T.anchor)},N=({el:T,anchor:v},G,ae)=>{let Q;for(;T&&T!==v;)Q=y(T),i(T,G,ae),T=Q;i(v,G,ae)},x=({el:T,anchor:v})=>{let G;for(;T&&T!==v;)G=y(T),s(T),T=G;s(v)},B=(T,v,G,ae,Q,te,z,q,Z)=>{v.type==="svg"?z="svg":v.type==="math"&&(z="mathml"),T==null?Y(v,G,ae,Q,te,z,q,Z):ee(T,v,Q,te,z,q,Z)},Y=(T,v,G,ae,Q,te,z,q)=>{let Z,W;const{props:ge,shapeFlag:ce,transition:he,dirs:ye}=T;if(Z=T.el=l(T.type,te,ge&&ge.is,ge),ce&8?m(Z,T.children):ce&16&&P(T.children,Z,null,ae,Q,ca(T,te),z,q),ye&&sn(T,null,ae,"created"),b(Z,T,T.scopeId,z,ae),ge){for(const M in ge)M!=="value"&&!Rn(M)&&o(Z,M,null,ge[M],te,ae);"value"in ge&&o(Z,"value",null,ge.value,te),(W=ge.onVnodeBeforeMount)&&Dt(W,ae,T)}ye&&sn(T,null,ae,"beforeMount");const Ne=Xf(Q,he);Ne&&he.beforeEnter(Z),i(Z,v,G),((W=ge&&ge.onVnodeMounted)||Ne||ye)&&At(()=>{W&&Dt(W,ae,T),Ne&&he.enter(Z),ye&&sn(T,null,ae,"mounted")},Q)},b=(T,v,G,ae,Q)=>{if(G&&h(T,G),ae)for(let te=0;te<ae.length;te++)h(T,ae[te]);if(Q){let te=Q.subTree;if(v===te||Lo(te.type)&&(te.ssContent===v||te.ssFallback===v)){const z=Q.vnode;b(T,z,z.scopeId,z.slotScopeIds,Q.parent)}}},P=(T,v,G,ae,Q,te,z,q,Z=0)=>{for(let W=Z;W<T.length;W++){const ge=T[W]=q?Zt(T[W]):wt(T[W]);I(null,ge,v,G,ae,Q,te,z,q)}},ee=(T,v,G,ae,Q,te,z)=>{const q=v.el=T.el;let{patchFlag:Z,dynamicChildren:W,dirs:ge}=v;Z|=T.patchFlag&16;const ce=T.props||Ke,he=v.props||Ke;let ye;if(G&&an(G,!1),(ye=he.onVnodeBeforeUpdate)&&Dt(ye,G,v,T),ge&&sn(v,T,G,"beforeUpdate"),G&&an(G,!0),(ce.innerHTML&&he.innerHTML==null||ce.textContent&&he.textContent==null)&&m(q,""),W?O(T.dynamicChildren,W,q,G,ae,ca(v,Q),te):z||g(T,v,q,null,G,ae,ca(v,Q),te,!1),Z>0){if(Z&16)se(q,ce,he,G,Q);else if(Z&2&&ce.class!==he.class&&o(q,"class",null,he.class,Q),Z&4&&o(q,"style",ce.style,he.style,Q),Z&8){const Ne=v.dynamicProps;for(let M=0;M<Ne.length;M++){const D=Ne[M],ue=ce[D],fe=he[D];(fe!==ue||D==="value")&&o(q,D,ue,fe,Q,G)}}Z&1&&T.children!==v.children&&m(q,v.children)}else!z&&W==null&&se(q,ce,he,G,Q);((ye=he.onVnodeUpdated)||ge)&&At(()=>{ye&&Dt(ye,G,v,T),ge&&sn(v,T,G,"updated")},ae)},O=(T,v,G,ae,Q,te,z)=>{for(let q=0;q<v.length;q++){const Z=T[q],W=v[q],ge=Z.el&&(Z.type===xe||!Xn(Z,W)||Z.shapeFlag&198)?u(Z.el):G;I(Z,W,ge,null,ae,Q,te,z,!0)}},se=(T,v,G,ae,Q)=>{if(v!==G){if(v!==Ke)for(const te in v)!Rn(te)&&!(te in G)&&o(T,te,v[te],null,Q,ae);for(const te in G){if(Rn(te))continue;const z=G[te],q=v[te];z!==q&&te!=="value"&&o(T,te,q,z,Q,ae)}"value"in G&&o(T,"value",v.value,G.value,Q)}},K=(T,v,G,ae,Q,te,z,q,Z)=>{const W=v.el=T?T.el:d(""),ge=v.anchor=T?T.anchor:d("");let{patchFlag:ce,dynamicChildren:he,slotScopeIds:ye}=v;ye&&(q=q?q.concat(ye):ye),T==null?(i(W,G,ae),i(ge,G,ae),P(v.children||[],G,ge,Q,te,z,q,Z)):ce>0&&ce&64&&he&&T.dynamicChildren?(O(T.dynamicChildren,he,G,Q,te,z,q),(v.key!=null||Q&&v===Q.subTree)&&Po(T,v,!0)):g(T,v,G,ge,Q,te,z,q,Z)},oe=(T,v,G,ae,Q,te,z,q,Z)=>{v.slotScopeIds=q,T==null?v.shapeFlag&512?Q.ctx.activate(v,G,ae,z,Z):re(v,G,ae,Q,te,z,Z):Oe(T,v,Z)},re=(T,v,G,ae,Q,te,z)=>{const q=T.component=im(T,ae,Q);if(co(T)&&(q.ctx.renderer=Te),lm(q,!1,z),q.asyncDep){if(Q&&Q.registerDep(q,V,z),!T.el){const Z=q.subTree=ze(Ht);E(null,Z,v,G),T.placeholder=Z.el}}else V(q,T,v,G,Q,te,z)},Oe=(T,v,G)=>{const ae=v.component=T.component;if(qf(T,v,G))if(ae.asyncDep&&!ae.asyncResolved){$(ae,v,G);return}else ae.next=v,ae.update();else v.el=T.el,ae.vnode=v},V=(T,v,G,ae,Q,te,z)=>{const q=()=>{if(T.isMounted){let{next:ce,bu:he,u:ye,parent:Ne,vnode:M}=T;{const Pe=No(T);if(Pe){ce&&(ce.el=M.el,$(T,ce,z)),Pe.asyncDep.then(()=>{T.isUnmounted||q()});return}}let D=ce,ue;an(T,!1),ce?(ce.el=M.el,$(T,ce,z)):ce=M,he&&ns(he),(ue=ce.props&&ce.props.onVnodeBeforeUpdate)&&Dt(ue,Ne,ce,M),an(T,!0);const fe=wo(T),U=T.subTree;T.subTree=fe,I(U,fe,u(U.el),be(U),T,Q,te),ce.el=fe.el,D===null&&zf(T,fe.el),ye&&At(ye,Q),(ue=ce.props&&ce.props.onVnodeUpdated)&&At(()=>Dt(ue,Ne,ce,M),Q)}else{let ce;const{el:he,props:ye}=v,{bm:Ne,m:M,parent:D,root:ue,type:fe}=T,U=hn(v);an(T,!1),Ne&&ns(Ne),!U&&(ce=ye&&ye.onVnodeBeforeMount)&&Dt(ce,D,v),an(T,!0);{ue.ce&&ue.ce._def.shadowRoot!==!1&&ue.ce._injectChildStyle(fe);const Pe=T.subTree=wo(T);I(null,Pe,G,ae,T,Q,te),v.el=Pe.el}if(M&&At(M,Q),!U&&(ce=ye&&ye.onVnodeMounted)){const Pe=v;At(()=>Dt(ce,D,Pe),Q)}(v.shapeFlag&256||D&&hn(D.vnode)&&D.vnode.shapeFlag&256)&&T.a&&At(T.a,Q),T.isMounted=!0,v=G=ae=null}};T.scope.on();const Z=T.effect=new ka(q);T.scope.off();const W=T.update=Z.run.bind(Z),ge=T.job=Z.runIfDirty.bind(Z);ge.i=T,ge.id=T.uid,Z.scheduler=()=>Zs(ge),an(T,!0),W()},$=(T,v,G)=>{v.component=T;const ae=T.vnode.props;T.vnode=v,T.next=null,kf(T,v.props,ae,G),Lf(T,v.children,G),Mt(),no(T),It()},g=(T,v,G,ae,Q,te,z,q,Z=!1)=>{const W=T&&T.children,ge=T?T.shapeFlag:0,ce=v.children,{patchFlag:he,shapeFlag:ye}=v;if(he>0){if(he&128){L(W,ce,G,ae,Q,te,z,q,Z);return}else if(he&256){R(W,ce,G,ae,Q,te,z,q,Z);return}}ye&8?(ge&16&&Ee(W,Q,te),ce!==W&&m(G,ce)):ge&16?ye&16?L(W,ce,G,ae,Q,te,z,q,Z):Ee(W,Q,te,!0):(ge&8&&m(G,""),ye&16&&P(ce,G,ae,Q,te,z,q,Z))},R=(T,v,G,ae,Q,te,z,q,Z)=>{T=T||ln,v=v||ln;const W=T.length,ge=v.length,ce=Math.min(W,ge);let he;for(he=0;he<ce;he++){const ye=v[he]=Z?Zt(v[he]):wt(v[he]);I(T[he],ye,G,null,Q,te,z,q,Z)}W>ge?Ee(T,Q,te,!0,!1,ce):P(v,G,ae,Q,te,z,q,Z,ce)},L=(T,v,G,ae,Q,te,z,q,Z)=>{let W=0;const ge=v.length;let ce=T.length-1,he=ge-1;for(;W<=ce&&W<=he;){const ye=T[W],Ne=v[W]=Z?Zt(v[W]):wt(v[W]);if(Xn(ye,Ne))I(ye,Ne,G,null,Q,te,z,q,Z);else break;W++}for(;W<=ce&&W<=he;){const ye=T[ce],Ne=v[he]=Z?Zt(v[he]):wt(v[he]);if(Xn(ye,Ne))I(ye,Ne,G,null,Q,te,z,q,Z);else break;ce--,he--}if(W>ce){if(W<=he){const ye=he+1,Ne=ye<ge?v[ye].el:ae;for(;W<=he;)I(null,v[W]=Z?Zt(v[W]):wt(v[W]),G,Ne,Q,te,z,q,Z),W++}}else if(W>he)for(;W<=ce;)F(T[W],Q,te,!0),W++;else{const ye=W,Ne=W,M=new Map;for(W=Ne;W<=he;W++){const Ue=v[W]=Z?Zt(v[W]):wt(v[W]);Ue.key!=null&&M.set(Ue.key,W)}let D,ue=0;const fe=he-Ne+1;let U=!1,Pe=0;const He=new Array(fe);for(W=0;W<fe;W++)He[W]=0;for(W=ye;W<=ce;W++){const Ue=T[W];if(ue>=fe){F(Ue,Q,te,!0);continue}let Je;if(Ue.key!=null)Je=M.get(Ue.key);else for(D=Ne;D<=he;D++)if(He[D-Ne]===0&&Xn(Ue,v[D])){Je=D;break}Je===void 0?F(Ue,Q,te,!0):(He[Je-Ne]=W+1,Je>=Pe?Pe=Je:U=!0,I(Ue,v[Je],G,null,Q,te,z,q,Z),ue++)}const Le=U?Ff(He):ln;for(D=Le.length-1,W=fe-1;W>=0;W--){const Ue=Ne+W,Je=v[Ue],me=v[Ue+1],ve=Ue+1<ge?me.el||me.placeholder:ae;He[W]===0?I(null,Je,G,ve,Q,te,z,q,Z):U&&(D<0||W!==Le[D]?H(Je,G,ve,2):D--)}}},H=(T,v,G,ae,Q=null)=>{const{el:te,type:z,transition:q,children:Z,shapeFlag:W}=T;if(W&6){H(T.component.subTree,v,G,ae);return}if(W&128){T.suspense.move(v,G,ae);return}if(W&64){z.move(T,v,G,Te);return}if(z===xe){i(te,v,G);for(let ce=0;ce<Z.length;ce++)H(Z[ce],v,G,ae);i(T.anchor,v,G);return}if(z===ys){N(T,v,G);return}if(ae!==2&&W&1&&q)if(ae===0)q.beforeEnter(te),i(te,v,G),At(()=>q.enter(te),Q);else{const{leave:ce,delayLeave:he,afterLeave:ye}=q,Ne=()=>{T.ctx.isUnmounted?s(te):i(te,v,G)},M=()=>{te._isLeaving&&te[df](!0),ce(te,()=>{Ne(),ye&&ye()})};he?he(te,Ne,M):M()}else i(te,v,G)},F=(T,v,G,ae=!1,Q=!1)=>{const{type:te,props:z,ref:q,children:Z,dynamicChildren:W,shapeFlag:ge,patchFlag:ce,dirs:he,cacheIndex:ye}=T;if(ce===-2&&(Q=!1),q!=null&&(Mt(),$n(q,null,G,T,!0),It()),ye!=null&&(v.renderCache[ye]=void 0),ge&256){v.ctx.deactivate(T);return}const Ne=ge&1&&he,M=!hn(T);let D;if(M&&(D=z&&z.onVnodeBeforeUnmount)&&Dt(D,v,T),ge&6)de(T.component,G,ae);else{if(ge&128){T.suspense.unmount(G,ae);return}Ne&&sn(T,null,v,"beforeUnmount"),ge&64?T.type.remove(T,v,G,Te,ae):W&&!W.hasOnce&&(te!==xe||ce>0&&ce&64)?Ee(W,v,G,!1,!0):(te===xe&&ce&384||!Q&&ge&16)&&Ee(Z,v,G),ae&&j(T)}(M&&(D=z&&z.onVnodeUnmounted)||Ne)&&At(()=>{D&&Dt(D,v,T),Ne&&sn(T,null,v,"unmounted")},G)},j=T=>{const{type:v,el:G,anchor:ae,transition:Q}=T;if(v===xe){X(G,ae);return}if(v===ys){x(T);return}const te=()=>{s(G),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(T.shapeFlag&1&&Q&&!Q.persisted){const{leave:z,delayLeave:q}=Q,Z=()=>z(G,te);q?q(T.el,te,Z):Z()}else te()},X=(T,v)=>{let G;for(;T!==v;)G=y(T),s(T),T=G;s(v)},de=(T,v,G)=>{const{bum:ae,scope:Q,job:te,subTree:z,um:q,m:Z,a:W}=T;Mo(Z),Mo(W),ae&&ns(ae),Q.stop(),te&&(te.flags|=8,F(z,T,v,G)),q&&At(q,v),At(()=>{T.isUnmounted=!0},v)},Ee=(T,v,G,ae=!1,Q=!1,te=0)=>{for(let z=te;z<T.length;z++)F(T[z],v,G,ae,Q)},be=T=>{if(T.shapeFlag&6)return be(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const v=y(T.anchor||T.el),G=v&&v[lf];return G?y(G):v};let J=!1;const _e=(T,v,G)=>{T==null?v._vnode&&F(v._vnode,null,null,!0):I(v._vnode||null,T,v,null,null,null,G),v._vnode=T,J||(J=!0,no(),so(),J=!1)},Te={p:I,um:F,m:H,r:j,mt:re,mc:P,pc:g,pbc:O,n:be,o:e};return{render:_e,hydrate:void 0,createApp:Nf(_e)}}function ca({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function an({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Xf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Po(e,t,n=!1){const i=e.children,s=t.children;if(Ie(i)&&Ie(s))for(let o=0;o<i.length;o++){const l=i[o];let d=s[o];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=s[o]=Zt(s[o]),d.el=l.el),!n&&d.patchFlag!==-2&&Po(l,d)),d.type===bs&&d.patchFlag!==-1&&(d.el=l.el),d.type===Ht&&!d.el&&(d.el=l.el)}}function Ff(e){const t=e.slice(),n=[0];let i,s,o,l,d;const p=e.length;for(i=0;i<p;i++){const _=e[i];if(_!==0){if(s=n[n.length-1],e[s]<_){t[i]=s,n.push(i);continue}for(o=0,l=n.length-1;o<l;)d=o+l>>1,e[n[d]]<_?o=d+1:l=d;_<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=t[l];return n}function No(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:No(t)}function Mo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Gf=Symbol.for("v-scx"),Vf=()=>As(Gf);function qe(e,t,n){return Io(e,t,n)}function Io(e,t,n=Ke){const{immediate:i,deep:s,flush:o,once:l}=n,d=lt({},n),p=t&&i||!t&&o!=="post";let _;if(Gn){if(o==="sync"){const h=Vf();_=h.__watcherHandles||(h.__watcherHandles=[])}else if(!p){const h=()=>{};return h.stop=Nt,h.resume=Nt,h.pause=Nt,h}}const m=ut;d.call=(h,w,I)=>kt(h,m,w,I);let u=!1;o==="post"?d.scheduler=h=>{At(h,m&&m.suspense)}:o!=="sync"&&(u=!0,d.scheduler=(h,w)=>{w?h():Zs(h)}),d.augmentJob=h=>{t&&(h.flags|=4),u&&(h.flags|=2,m&&(h.id=m.uid,h.i=m))};const y=Z_(e,t,d);return Gn&&(_?_.push(y):p&&y()),y}function Hf(e,t,n){const i=this.proxy,s=Qe(e)?e.includes(".")?ko(i,e):()=>i[e]:e.bind(i,i);let o;De(t)?o=t:(o=t.handler,n=t);const l=Fn(this),d=Io(s,o.bind(i),n);return l(),d}function ko(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const Bf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${jt(t)}Modifiers`]||e[`${Jt(t)}Modifiers`];function Kf(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ke;let s=n;const o=t.startsWith("update:"),l=o&&Bf(i,t.slice(7));l&&(l.trim&&(s=n.map(m=>Qe(m)?m.trim():m)),l.number&&(s=n.map(ss)));let d,p=i[d=Ls(t)]||i[d=Ls(jt(t))];!p&&o&&(p=i[d=Ls(Jt(t))]),p&&kt(p,e,6,s);const _=i[d+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,kt(_,e,6,s)}}const jf=new WeakMap;function $o(e,t,n=!1){const i=n?jf:t.emitsCache,s=i.get(e);if(s!==void 0)return s;const o=e.emits;let l={},d=!1;if(!De(e)){const p=_=>{const m=$o(_,t,!0);m&&(d=!0,lt(l,m))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!o&&!d?(je(e)&&i.set(e,null),null):(Ie(o)?o.forEach(p=>l[p]=null):lt(l,o),je(e)&&i.set(e,l),l)}function Ss(e,t){return!e||!es(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ge(e,t[0].toLowerCase()+t.slice(1))||Ge(e,Jt(t))||Ge(e,t))}function PD(){}function wo(e){const{type:t,vnode:n,proxy:i,withProxy:s,propsOptions:[o],slots:l,attrs:d,emit:p,render:_,renderCache:m,props:u,data:y,setupState:h,ctx:w,inheritAttrs:I}=e,C=hs(e);let E,f;try{if(n.shapeFlag&4){const x=s||i,B=x;E=wt(_.call(B,x,m,u,h,y,w)),f=d}else{const x=t;E=wt(x.length>1?x(u,{attrs:d,slots:l,emit:p}):x(u,null)),f=t.props?d:Jf(d)}}catch(x){Yn.length=0,fs(x,e,1),E=ze(Ht)}let N=E;if(f&&I!==!1){const x=Object.keys(f),{shapeFlag:B}=N;x.length&&B&7&&(o&&x.some($s)&&(f=Wf(f,o)),N=En(N,f,!1,!0))}return n.dirs&&(N=En(N,null,!1,!0),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&ea(N,n.transition),E=N,hs(C),E}const Jf=e=>{let t;for(const n in e)(n==="class"||n==="style"||es(n))&&((t||(t={}))[n]=e[n]);return t},Wf=(e,t)=>{const n={};for(const i in e)(!$s(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function qf(e,t,n){const{props:i,children:s,component:o}=e,{props:l,children:d,patchFlag:p}=t,_=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return i?Do(i,l,_):!!l;if(p&8){const m=t.dynamicProps;for(let u=0;u<m.length;u++){const y=m[u];if(l[y]!==i[y]&&!Ss(_,y))return!0}}}else return(s||d)&&(!d||!d.$stable)?!0:i===l?!1:i?l?Do(i,l,_):!0:!!l;return!1}function Do(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const o=i[s];if(t[o]!==e[o]&&!Ss(n,o))return!0}return!1}function zf({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const Lo=e=>e.__isSuspense;function Qf(e,t){t&&t.pendingBranch?Ie(e)?t.effects.push(...e):t.effects.push(e):rf(e)}const xe=Symbol.for("v-fgt"),bs=Symbol.for("v-txt"),Ht=Symbol.for("v-cmt"),ys=Symbol.for("v-stc"),Yn=[];let St=null;function A(e=!1){Yn.push(St=e?null:[])}function Zf(){Yn.pop(),St=Yn[Yn.length-1]||null}let Un=1;function Yo(e,t=!1){Un+=e,e<0&&St&&t&&(St.hasOnce=!0)}function Uo(e){return e.dynamicChildren=Un>0?St||ln:null,Zf(),Un>0&&St&&St.push(e),e}function S(e,t,n,i,s,o){return Uo(a(e,t,n,i,s,o,!0))}function et(e,t,n,i,s){return Uo(ze(e,t,n,i,s,!0))}function da(e){return e?e.__v_isVNode===!0:!1}function Xn(e,t){return e.type===t.type&&e.key===t.key}const Xo=({key:e})=>e!=null?e:null,Ts=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Qe(e)||st(e)||De(e)?{i:rt,r:e,k:t,f:!!n}:e:null);function a(e,t=null,n=null,i=0,s=null,o=e===xe?0:1,l=!1,d=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xo(t),ref:t&&Ts(t),scopeId:oo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:rt};return d?(ua(p,n),o&128&&e.normalize(p)):n&&(p.shapeFlag|=Qe(n)?8:16),Un>0&&!l&&St&&(p.patchFlag>0||o&6)&&p.patchFlag!==32&&St.push(p),p}const ze=em;function em(e,t=null,n=null,i=0,s=null,o=!1){if((!e||e===Sf)&&(e=Ht),da(e)){const d=En(e,t,!0);return n&&ua(d,n),Un>0&&!o&&St&&(d.shapeFlag&6?St[St.indexOf(e)]=d:St.push(d)),d.patchFlag=-2,d}if(mm(e)&&(e=e.__vccOpts),t){t=tm(t);let{class:d,style:p}=t;d&&!Qe(d)&&(t.class=we(d)),je(p)&&(zs(p)&&!Ie(p)&&(p=lt({},p)),t.style=xt(p))}const l=Qe(e)?1:Lo(e)?128:cf(e)?64:je(e)?4:De(e)?2:0;return a(e,t,n,i,s,l,o,!0)}function tm(e){return e?zs(e)||bo(e)?lt({},e):e:null}function En(e,t,n=!1,i=!1){const{props:s,ref:o,patchFlag:l,children:d,transition:p}=e,_=t?sm(s||{},t):s,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&Xo(_),ref:t&&t.ref?n&&o?Ie(o)?o.concat(Ts(t)):[o,Ts(t)]:Ts(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xe?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&En(e.ssContent),ssFallback:e.ssFallback&&En(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&i&&ea(m,p.clone(m)),m}function Se(e=" ",t=0){return ze(bs,null,e,t)}function nm(e,t){const n=ze(ys,null,e);return n.staticCount=t,n}function ie(e="",t=!1){return t?(A(),et(Ht,null,e)):ze(Ht,null,e)}function wt(e){return e==null||typeof e=="boolean"?ze(Ht):Ie(e)?ze(xe,null,e.slice()):da(e)?Zt(e):ze(bs,null,String(e))}function Zt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:En(e)}function ua(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ie(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),ua(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!bo(t)?t._ctx=rt:s===3&&rt&&(rt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else De(t)?(t={default:t,_ctx:rt},n=32):(t=String(t),i&64?(n=16,t=[Se(t)]):n=8);e.children=t,e.shapeFlag|=n}function sm(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=we([t.class,i.class]));else if(s==="style")t.style=xt([t.style,i.style]);else if(es(s)){const o=t[s],l=i[s];l&&o!==l&&!(Ie(o)&&o.includes(l))&&(t[s]=o?[].concat(o,l):l)}else s!==""&&(t[s]=i[s])}return t}function Dt(e,t,n,i=null){kt(e,t,7,[n,i])}const am=Co();let om=0;function im(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||am,o={uid:om++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new S_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:To(i,s),emitsOptions:$o(i,s),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:i.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Kf.bind(null,o),e.ce&&e.ce(o),o}let ut=null;const rm=()=>ut||rt;let Rs,pa;{const e=as(),t=(n,i)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(i),o=>{s.length>1?s.forEach(l=>l(o)):s[0](o)}};Rs=t("__VUE_INSTANCE_SETTERS__",n=>ut=n),pa=t("__VUE_SSR_SETTERS__",n=>Gn=n)}const Fn=e=>{const t=ut;return Rs(e),e.scope.on(),()=>{e.scope.off(),Rs(t)}},Fo=()=>{ut&&ut.scope.off(),Rs(null)};function Go(e){return e.vnode.shapeFlag&4}let Gn=!1;function lm(e,t=!1,n=!1){t&&pa(t);const{props:i,children:s}=e.vnode,o=Go(e);If(e,i,o,t),Df(e,s,n||t);const l=o?cm(e,t):void 0;return t&&pa(!1),l}function cm(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,yf);const{setup:i}=n;if(i){Mt();const s=e.setupContext=i.length>1?um(e):null,o=Fn(e),l=_n(i,e,0,[e.props,s]),d=Ta(l);if(It(),o(),(d||e.sp)&&!hn(e)&&ro(e),d){if(l.then(Fo,Fo),t)return l.then(p=>{Vo(e,p)}).catch(p=>{fs(p,e,0)});e.asyncDep=l}else Vo(e,l)}else Ho(e)}function Vo(e,t,n){De(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:je(t)&&(e.setupState=za(t)),Ho(e)}function Ho(e,t,n){const i=e.type;e.render||(e.render=i.render||Nt);{const s=Fn(e);Mt();try{Tf(e)}finally{It(),s()}}}const dm={get(e,t){return it(e,"get",""),e[t]}};function um(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,dm),slots:e.slots,emit:e.emit,expose:t}}function Os(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(za(V_(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Dn)return Dn[n](e)},has(t,n){return n in t||n in Dn}})):e.proxy}const pm=/(?:^|[-_])\w/g,_m=e=>e.replace(pm,t=>t.toUpperCase()).replace(/[-_]/g,"");function fm(e,t=!0){return De(e)?e.displayName||e.name:e.name||t&&e.__name}function Bo(e,t,n=!1){let i=fm(t);if(!i&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(i=s[1])}if(!i&&e&&e.parent){const s=o=>{for(const l in o)if(o[l]===t)return l};i=s(e.components||e.parent.type.components)||s(e.appContext.components)}return i?_m(i):n?"App":"Anonymous"}function mm(e){return De(e)&&"__vccOpts"in e}const Ae=(e,t)=>z_(e,t,Gn),hm="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _a;const Ko=typeof window!="undefined"&&window.trustedTypes;if(Ko)try{_a=Ko.createPolicy("vue",{createHTML:e=>e})}catch(e){}const jo=_a?e=>_a.createHTML(e):e=>e,gm="http://www.w3.org/2000/svg",Em="http://www.w3.org/1998/Math/MathML",Bt=typeof document!="undefined"?document:null,Jo=Bt&&Bt.createElement("template"),Cm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t==="svg"?Bt.createElementNS(gm,e):t==="mathml"?Bt.createElementNS(Em,e):n?Bt.createElement(e,{is:n}):Bt.createElement(e);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>Bt.createTextNode(e),createComment:e=>Bt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Bt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,o){const l=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{Jo.innerHTML=jo(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const d=Jo.content;if(i==="svg"||i==="mathml"){const p=d.firstChild;for(;p.firstChild;)d.appendChild(p.firstChild);d.removeChild(p)}t.insertBefore(d,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Am=Symbol("_vtc");function Sm(e,t,n){const i=e[Am];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xs=Symbol("_vod"),Wo=Symbol("_vsh"),Cn={name:"show",beforeMount(e,{value:t},{transition:n}){e[xs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Vn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Vn(e,!0),i.enter(e)):i.leave(e,()=>{Vn(e,!1)}):Vn(e,t))},beforeUnmount(e,{value:t}){Vn(e,t)}};function Vn(e,t){e.style.display=t?e[xs]:"none",e[Wo]=!t}const bm=Symbol(""),ym=/(?:^|;)\s*display\s*:/;function Tm(e,t,n){const i=e.style,s=Qe(n);let o=!1;if(n&&!s){if(t)if(Qe(t))for(const l of t.split(";")){const d=l.slice(0,l.indexOf(":")).trim();n[d]==null&&vs(i,d,"")}else for(const l in t)n[l]==null&&vs(i,l,"");for(const l in n)l==="display"&&(o=!0),vs(i,l,n[l])}else if(s){if(t!==n){const l=i[bm];l&&(n+=";"+l),i.cssText=n,o=ym.test(n)}}else t&&e.removeAttribute("style");xs in e&&(e[xs]=o?i.display:"",e[Wo]&&(i.display="none"))}const qo=/\s*!important$/;function vs(e,t,n){if(Ie(n))n.forEach(i=>vs(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=Rm(e,t);qo.test(n)?e.setProperty(Jt(i),n.replace(qo,""),"important"):e[i]=n}}const zo=["Webkit","Moz","ms"],fa={};function Rm(e,t){const n=fa[t];if(n)return n;let i=jt(t);if(i!=="filter"&&i in e)return fa[t]=i;i=xa(i);for(let s=0;s<zo.length;s++){const o=zo[s]+i;if(o in e)return fa[t]=o}return t}const Qo="http://www.w3.org/1999/xlink";function Zo(e,t,n,i,s,o=C_(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Qo,t.slice(6,t.length)):e.setAttributeNS(Qo,t,n):n==null||o&&!Na(n)?e.removeAttribute(t):e.setAttribute(t,o?"":Ot(n)?String(n):n)}function ei(e,t,n,i,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?jo(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const d=o==="OPTION"?e.getAttribute("value")||"":e.value,p=n==null?e.type==="checkbox"?"on":"":String(n);(d!==p||!("_value"in e))&&(e.value=p),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=Na(n):n==null&&d==="string"?(n="",l=!0):d==="number"&&(n=0,l=!0)}try{e[t]=n}catch(d){}l&&e.removeAttribute(s||t)}function en(e,t,n,i){e.addEventListener(t,n,i)}function Om(e,t,n,i){e.removeEventListener(t,n,i)}const ti=Symbol("_vei");function xm(e,t,n,i,s=null){const o=e[ti]||(e[ti]={}),l=o[t];if(i&&l)l.value=i;else{const[d,p]=vm(t);if(i){const _=o[t]=Mm(i,s);en(e,d,_,p)}else l&&(Om(e,d,l,p),o[t]=void 0)}}const ni=/(?:Once|Passive|Capture)$/;function vm(e){let t;if(ni.test(e)){t={};let i;for(;i=e.match(ni);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jt(e.slice(2)),t]}let ma=0;const Pm=Promise.resolve(),Nm=()=>ma||(Pm.then(()=>ma=0),ma=Date.now());function Mm(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;kt(Im(i,n.value),t,5,[i])};return n.value=e,n.attached=Nm(),n}function Im(e,t){if(Ie(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const si=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,km=(e,t,n,i,s,o)=>{const l=s==="svg";t==="class"?Sm(e,i,l):t==="style"?Tm(e,n,i):es(t)?$s(t)||xm(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):$m(e,t,i,l))?(ei(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Zo(e,t,i,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Qe(i))?ei(e,jt(t),i,o,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Zo(e,t,i,l))};function $m(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&si(t)&&De(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return si(t)&&Qe(n)?!1:t in e}const An=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ie(t)?n=>ns(t,n):t};function wm(e){e.target.composing=!0}function ai(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Kt=Symbol("_assign"),Ce={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e[Kt]=An(s);const o=i||s.props&&s.props.type==="number";en(e,t?"change":"input",l=>{if(l.target.composing)return;let d=e.value;n&&(d=d.trim()),o&&(d=ss(d)),e[Kt](d)}),n&&en(e,"change",()=>{e.value=e.value.trim()}),t||(en(e,"compositionstart",wm),en(e,"compositionend",ai),en(e,"change",ai))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:s,number:o}},l){if(e[Kt]=An(l),e.composing)return;const d=(o||e.type==="number")&&!/^0\d/.test(e.value)?ss(e.value):e.value,p=t==null?"":t;d!==p&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||s&&e.value.trim()===p)||(e.value=p))}},ot={deep:!0,created(e,t,n){e[Kt]=An(n),en(e,"change",()=>{const i=e._modelValue,s=Hn(e),o=e.checked,l=e[Kt];if(Ie(i)){const d=Ys(i,s),p=d!==-1;if(o&&!p)l(i.concat(s));else if(!o&&p){const _=[...i];_.splice(d,1),l(_)}}else if(dn(i)){const d=new Set(i);o?d.add(s):d.delete(s),l(d)}else l(ri(e,o))})},mounted:oi,beforeUpdate(e,t,n){e[Kt]=An(n),oi(e,t,n)}};function oi(e,{value:t,oldValue:n},i){e._modelValue=t;let s;if(Ie(t))s=Ys(t,i.props.value)>-1;else if(dn(t))s=t.has(i.props.value);else{if(t===n)return;s=On(t,ri(e,!0))}e.checked!==s&&(e.checked=s)}const pt={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=dn(t);en(e,"change",()=>{const o=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?ss(Hn(l)):Hn(l));e[Kt](e.multiple?s?new Set(o):o:o[0]),e._assigning=!0,eo(()=>{e._assigning=!1})}),e[Kt]=An(i)},mounted(e,{value:t}){ii(e,t)},beforeUpdate(e,t,n){e[Kt]=An(n)},updated(e,{value:t}){e._assigning||ii(e,t)}};function ii(e,t){const n=e.multiple,i=Ie(t);if(!(n&&!i&&!dn(t))){for(let s=0,o=e.options.length;s<o;s++){const l=e.options[s],d=Hn(l);if(n)if(i){const p=typeof d;p==="string"||p==="number"?l.selected=t.some(_=>String(_)===String(d)):l.selected=Ys(t,d)>-1}else l.selected=t.has(d);else if(On(Hn(l),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Hn(e){return"_value"in e?e._value:e.value}function ri(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Dm=["ctrl","shift","alt","meta"],Lm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Dm.some(n=>e[`${n}Key`]&&!t.includes(n))},ht=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(s,...o)=>{for(let l=0;l<t.length;l++){const d=Lm[t[l]];if(d&&d(s,t))return}return e(s,...o)})},Ym={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},gt=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const o=Jt(s.key);if(t.some(l=>l===o||Ym[l]===o))return e(s)})},Um=lt({patchProp:km},Cm);let li;function Xm(){return li||(li=Yf(Um))}const Fm=(...e)=>{const t=Xm().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=Vm(i);if(!s)return;const o=t._component;!De(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,Gm(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t};function Gm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Vm(e){return Qe(e)?document.querySelector(e):e}const _t=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},Hm={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},Bm={key:0,class:"nxp-ec-admin-error"},Km={class:"nxp-ec-admin-error__title"},jm={class:"nxp-ec-admin-error__body"};function Jm(e,t,n,i,s,o){return A(),S("div",null,[s.error?(A(),S("div",Bm,[a("h2",Km,c(o.fallbackTitle),1),a("p",jm,c(o.fallbackMessage),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>o.reload&&o.reload(...l))},c(o.reloadLabel),1)])):bf(e.$slots,"default",{key:1})])}const Wm=_t(Hm,[["render",Jm]]),qm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},zm={class:"nxp-ec-admin-panel__header"},Qm={class:"nxp-ec-admin-panel__title"},Zm={class:"nxp-ec-admin-panel__lead"},eh={class:"nxp-ec-admin-panel__actions"},th=["disabled"],nh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},sh={key:1,class:"nxp-ec-dashboard"},ah={class:"nxp-ec-dashboard__metrics"},oh={class:"nxp-ec-dashboard__card"},ih={class:"nxp-ec-dashboard__value"},rh={class:"nxp-ec-dashboard__hint"},lh={class:"nxp-ec-dashboard__card"},ch={class:"nxp-ec-dashboard__value"},dh={class:"nxp-ec-dashboard__hint"},uh={class:"nxp-ec-dashboard__card"},ph={class:"nxp-ec-dashboard__value"},_h={class:"nxp-ec-dashboard__hint"},fh={class:"nxp-ec-dashboard__card"},mh={class:"nxp-ec-dashboard__value"},hh={class:"nxp-ec-dashboard__hint"},gh={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Eh={class:"nxp-ec-dashboard__checklist-header"},Ch={id:"dashboard-checklist-heading"},Ah={class:"nxp-ec-dashboard__checklist-progress"},Sh={class:"nxp-ec-dashboard__checklist-list"},bh={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},yh={key:0,class:"fa-solid fa-circle-check"},Th={key:1,class:"fa-regular fa-circle"},Rh={class:"nxp-ec-dashboard__checklist-label"},Oh=["href","title"],xh={class:"nxp-ec-sr-only"},vh=_t({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const n=e,i=n.translate,s=n.state,o=Ae(()=>{var u;const m=(u=s.summary)==null?void 0:u.currency;return typeof m=="string"&&m.trim()!==""?m.trim():"USD"}),l=(m=0)=>{const u=(Number(m)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:o.value}).format(u)}catch(y){return`${o.value} ${u.toFixed(2)}`}},d=Ae(()=>Array.isArray(s.checklist)?s.checklist:[]),p=Ae(()=>d.value.filter(m=>m.completed).length),_=m=>{switch(m){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return m}};return(m,u)=>(A(),S("section",qm,[a("header",zm,[a("div",null,[a("h2",Qm,c(r(i)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),a("p",Zm,c(r(i)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),a("div",eh,[a("button",{class:"nxp-ec-btn",type:"button",onClick:u[0]||(u[0]=y=>m.$emit("refresh")),disabled:r(s).loading},c(r(i)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,th)])]),r(s).error?(A(),S("div",nh,c(r(s).error),1)):(A(),S("div",sh,[a("div",ah,[a("article",oh,[a("h3",null,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),a("p",ih,c(r(s).summary.products.active),1),a("p",rh,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(s).summary.products.total)],"dashboardMetricProductsTotal")),1)]),a("article",lh,[a("h3",null,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),a("p",ch,c(l(r(s).summary.orders.revenue_today)),1),a("p",dh,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(s).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),a("article",uh,[a("h3",null,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),a("p",ph,c(r(s).summary.customers.total),1),a("p",_h,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),a("article",fh,[a("h3",null,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),a("p",mh,c(l(r(s).summary.orders.revenue_month)),1),a("p",hh,c(r(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[o.value.value],"dashboardMetricCurrency")),1)])]),a("section",gh,[a("header",Eh,[a("h3",Ch,c(r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),a("span",Ah,c(p.value)+" / "+c(d.value.length),1)]),a("ul",Sh,[(A(!0),S(xe,null,ke(d.value,y=>(A(),S("li",{key:y.id,class:we({"is-complete":y.completed})},[a("span",bh,[y.completed?(A(),S("span",yh)):(A(),S("span",Th))]),a("span",Rh,c(r(i)(y.label,_(y.label))),1),y.link?(A(),S("a",{key:0,href:y.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[u[1]||(u[1]=a("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),a("span",xh,c(r(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Oh)):ie("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),Ph={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Nh={id:"nxp-ec-products-caption",class:"visually-hidden"},Mh={scope:"col"},Ih={scope:"col"},kh={scope:"col"},$h={scope:"col"},wh={scope:"col",class:"nxp-ec-admin-table__actions"},Dh={key:0},Lh={colspan:"8",class:"nxp-ec-admin-table__empty"},Yh=["data-label"],Uh={class:"nxp-ec-admin-table__primary"},Xh={class:"nxp-ec-products-table__title"},Fh={class:"nxp-ec-products-table__slug"},Gh={key:0,class:"nxp-ec-products-table__badge"},Vh={class:"nxp-ec-status nxp-ec-status--muted"},Hh={key:1,class:"nxp-ec-products-table__badge"},Bh={class:"nxp-ec-status nxp-ec-status--featured"},Kh=["data-label"],jh={key:0},Jh={key:1},Wh=["data-label"],qh=["data-label"],zh=["data-label"],Qh={key:0},Zh=["title"],eg=["data-label"],tg=["disabled","aria-pressed","title","aria-label","onClick"],ng={class:"nxp-ec-sr-only"},sg=["data-label"],ag={class:"nxp-ec-admin-table__actions"},og=["onClick","title","disabled","aria-label"],ig={class:"nxp-ec-sr-only"},rg=["onClick","title","disabled","aria-label"],lg={class:"nxp-ec-sr-only"},ha=1,Bn=-1,ga=0,cg={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1},currentUserId:{type:Number,default:0},sortColumn:{type:String,default:""},sortDirection:{type:String,default:"DESC"}},emits:["edit","delete","toggle-active","sort"],setup(e,{emit:t}){const n=e,i=t,s=C=>{i("sort",C)},o=C=>n.sortColumn!==C?"fa-solid fa-sort":n.sortDirection==="ASC"?"fa-solid fa-sort-up":"fa-solid fa-sort-down",l=n.translate,d=Ae(()=>(n.baseCurrency||"USD").toUpperCase()),p=(C,E=!1)=>{const f=Number(C);if(Number.isFinite(f))return f===Bn?Bn:f===ga?ga:ha;if(E)return Bn;if(typeof C=="string"){const N=C.trim().toLowerCase();if(N==="out_of_stock"||N==="out-of-stock"||N==="-1")return Bn;if(N==="inactive"||N==="0")return ga}return ha},_=C=>{var x;const E=p((x=C==null?void 0:C.status)!=null?x:C==null?void 0:C.active,C==null?void 0:C.out_of_stock),f=E===ha,N=E===Bn;return{status:E,isActive:f,isOutOfStock:N,label:f?l("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):N?l("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):l("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:f?"nxp-ec-status--active":N?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:f?"fa-solid fa-circle-check":N?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:l("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},m=C=>(C==null?void 0:C.checked_out)&&Number(C.checked_out)!==0&&Number(C.checked_out)!==Number(n.currentUserId||0),u=C=>{var N,x;const E=(x=(N=C==null?void 0:C.checked_out_user)==null?void 0:N.name)!=null?x:"",f=(C==null?void 0:C.checked_out)===Number(n.currentUserId||0)?l("JGLOBAL_YOU","You"):E||l("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Another user");return l("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[f],"productLockedBy")},y=C=>{var B,Y,b,P;const E=(Y=(B=C==null?void 0:C.summary)==null?void 0:B.variants)!=null?Y:{};if(E.multiple_currencies)return l("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const f=Number.isFinite(E.price_min_cents)?E.price_min_cents:null,N=Number.isFinite(E.price_max_cents)?E.price_max_cents:null;if(f===null)return"";const x=E.currency||((P=(b=C==null?void 0:C.variants)==null?void 0:b[0])==null?void 0:P.currency)||d.value;return N===null||N===f?I(f,x):`${I(f,x)}  ${I(N,x)}`},h=C=>{var N,x;const E=(x=(N=C==null?void 0:C.summary)==null?void 0:N.variants)!=null?x:{},f=Number.isFinite(E.count)?E.count:Array.isArray(C==null?void 0:C.variants)?C.variants.length:0;return f===1?l("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):l("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(f)])},w=C=>{if(!Array.isArray(C)||!C.length)return"";const E=C.map(x=>(x==null?void 0:x.title)||(x==null?void 0:x.slug)).filter(x=>!!x);if(!E.length)return"";if(E.length<=3)return E.join(", ");const f=E.slice(0,3).join(", "),N=E.length-3;return`${f} ${l("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(N)])}`},I=(C,E)=>`${(C/100).toFixed(2)} ${E}`;return(C,E)=>(A(),S("table",Ph,[a("caption",Nh,c(r(l)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),a("thead",null,[a("tr",null,[a("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:E[0]||(E[0]=f=>s("id"))},[Se(c(r(l)("JGRID_HEADING_ID","ID"))+" ",1),a("i",{class:we([o("id"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),a("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:E[1]||(E[1]=f=>s("title"))},[Se(c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product"))+" ",1),a("i",{class:we([o("title"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),a("th",Mh,c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),a("th",Ih,c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),a("th",kh,c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),a("th",$h,c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),a("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:E[2]||(E[2]=f=>s("status"))},[Se(c(r(l)("JSTATUS","Status"))+" ",1),a("i",{class:we([o("status"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),a("th",{scope:"col",class:"nxp-ec-admin-table__sortable",onClick:E[3]||(E[3]=f=>s("modified"))},[Se(c(r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated"))+" ",1),a("i",{class:we([o("modified"),"nxp-ec-admin-table__sort-icon"]),"aria-hidden":"true"},null,2)]),a("th",wh,c(r(l)("JGLOBAL_ACTIONS","Actions")),1)])]),a("tbody",null,[e.items.length?ie("",!0):(A(),S("tr",Dh,[a("td",Lh,c(r(l)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(A(!0),S(xe,null,ke(e.items,f=>{var N,x,B,Y,b,P,ee,O,se,K,oe,re;return A(),S("tr",{key:f.id},[a("td",{"data-label":r(l)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},c(f.id),9,Yh),a("td",Uh,[a("div",Xh,c(f.title),1),a("div",Fh,c(f.slug),1),f.checked_out?(A(),S("div",Gh,[a("span",Vh,[E[4]||(E[4]=a("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),Se(" "+c(u(f)),1)])])):ie("",!0),f.featured?(A(),S("div",Hh,[a("span",Bh,[E[5]||(E[5]=a("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Se(" "+c(r(l)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ie("",!0)]),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[y(f)?(A(),S("span",jh,c(y(f)),1)):(A(),S("span",Jh,c(r(l)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,Kh),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},c(h(f)),9,Wh),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[a("span",{class:we(["nxp-ec-status",(x=(N=f.summary)==null?void 0:N.variants)!=null&&x.stock_zero?"nxp-ec-status--danger":(Y=(B=f.summary)==null?void 0:B.variants)!=null&&Y.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(P=(b=f.summary)==null?void 0:b.variants)!=null&&P.stock_zero||((O=(ee=f.summary)==null?void 0:ee.variants)==null?void 0:O.stock_total)===0?(A(),S(xe,{key:0},[Se(c(r(l)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(A(),S(xe,{key:1},[Se(c(r(l)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((oe=(K=(se=f.summary)==null?void 0:se.variants)==null?void 0:K.stock_total)!=null?oe:0)])),1)],64))],2)],8,qh),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(re=f.categories)!=null&&re.length?(A(),S("span",Qh,c(w(f.categories)),1)):(A(),S("span",{key:1,class:"nxp-ec-status nxp-ec-status--warning",title:r(l)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES_WARNING","This product has no categories and may not appear in category listings")},[E[6]||(E[6]=a("i",{class:"fa-solid fa-triangle-exclamation","aria-hidden":"true"},null,-1)),Se(" "+c(r(l)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1)],8,Zh))],8,zh),a("td",{"data-label":r(l)("JSTATUS","Status")},[a("button",{type:"button",class:we(["nxp-ec-status","nxp-ec-status-button",_(f).className]),disabled:e.saving||m(f),"aria-pressed":_(f).isActive?"true":"false",title:_(f).title,"aria-label":_(f).title,onClick:Oe=>C.$emit("toggle-active",f)},[a("i",{class:we(_(f).icon),"aria-hidden":"true"},null,2),Se(" "+c(_(f).label)+" ",1),a("span",ng,c(r(l)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,tg)],8,eg),a("td",{"data-label":r(l)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},c(f.modified||f.created),9,sg),a("td",ag,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Oe=>C.$emit("edit",f),title:r(l)("JGLOBAL_EDIT","Edit"),disabled:e.saving,"aria-label":r(l)("JGLOBAL_EDIT","Edit")},[E[7]||(E[7]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",ig,c(r(l)("JGLOBAL_EDIT","Edit")),1)],8,og),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Oe=>C.$emit("delete",f),title:r(l)("JTRASH","Delete"),disabled:e.saving||m(f),"aria-label":r(l)("JTRASH","Delete")},[E[8]||(E[8]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",lg,c(r(l)("JTRASH","Delete")),1)],8,rg)])])}),128))])]))}};class dg{constructor({token:t=""}={}){this.token=t}async request(t,n={}){const i={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...n};i.headers={...i.headers,...n.headers||{}};const s=String(i.method||"GET").toUpperCase();let o=t;this.token&&(i.headers["X-CSRF-Token"]=this.token,s!=="GET"&&(o=this.ensureTokenOnUrl(o)));const l=await fetch(o,i);let d=null;const p=await l.text();if(p)try{d=JSON.parse(p)}catch(_){}if(!l.ok){const _=new Error((d==null?void 0:d.message)||`Request failed with status ${l.status}`);throw _.code=l.status,_.details=(d==null?void 0:d.data)||(d==null?void 0:d.errors)||null,_}if((d==null?void 0:d.success)===!1){const _=new Error(d.message||"Unknown API error");throw _.details=d.data||d.errors||null,_}return d!=null?d:{}}ensureTokenOnUrl(t){if(!this.token)return t;const n=encodeURIComponent(this.token);try{const i=typeof window!="undefined"&&window.location?window.location.origin:void 0,s=new URL(t,i);return s.searchParams.has(this.token)||s.searchParams.set(this.token,"1"),s.toString()}catch(i){if(t.includes(`${n}=`))return t;const s=t.includes("?")?"&":"?";return`${t}${s}${n}=1`}}get(t,n={}){return this.request(t,{...n,method:"GET"})}post(t,n,i={}){const s={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"POST",headers:s,body:JSON.stringify(n)})}put(t,n,i={}){const s={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"PUT",headers:s,body:JSON.stringify(n)})}delete(t,n={}){return this.request(t,{...n,method:"DELETE"})}async fetchProducts({endpoint:t,limit:n=20,start:i=0,search:s="",categoryId:o=null,sort:l="",sortDir:d="",signal:p}){var I,C,E,f;const _=new URLSearchParams({limit:String(n),start:String(i)});s&&_.set("search",s),o&&_.set("category_id",String(o)),l&&_.set("sort",l),d&&_.set("sort_dir",d);const m=`${t}&${_.toString()}`,y=(I=(await this.get(m,{signal:p})).data)!=null?I:{},h=(E=(C=y.items)!=null?C:y.data)!=null?E:[],w=(f=y.pagination)!=null?f:{total:0,limit:n,pages:0,current:0};return{items:h,pagination:w}}async fetchCategories({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var _,m,u;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(_=(await this.get(l,{signal:o})).data)!=null?_:{};return{items:(m=p.items)!=null?m:[],pagination:(u=p.pagination)!=null?u:{total:0,limit:n,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:n=20,start:i=0,search:s="",state:o="",signal:l}){var y,h,w,I;const d=this.mergeParams(t,{limit:n,start:i,search:s||void 0,state:o||void 0}),_=(y=(await this.get(d,{signal:l})).data)!=null?y:{},m=(w=(h=_.items)!=null?h:_.data)!=null?w:[],u=(I=_.pagination)!=null?I:{total:0,limit:n,pages:0,current:0};return{items:m,pagination:u}}async fetchCustomers({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var u,y,h;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(u=(await this.get(l,{signal:o})).data)!=null?u:{},_=(y=p.items)!=null?y:[],m=(h=p.pagination)!=null?h:{total:0,limit:n,pages:0,current:0};return{items:_,pagination:m}}async fetchCustomer({endpoint:t,email:n}){var o,l;const i=this.mergeParams(t,{email:n});return(l=(o=(await this.get(i)).data)==null?void 0:o.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var _,m,u;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(_=(await this.get(l,{signal:o})).data)!=null?_:{};return{items:(m=p.items)!=null?m:[],pagination:(u=p.pagination)!=null?u:{total:0,limit:n,pages:0,current:0}}}async createCoupon({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.coupon)!=null?o:null}async updateCoupon({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.coupon)!=null?d:null}async deleteCoupons({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:0}async fetchTaxRates({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var _,m,u;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(_=(await this.get(l,{signal:o})).data)!=null?_:{};return{items:(m=p.items)!=null?m:[],pagination:(u=p.pagination)!=null?u:{total:0,limit:n,pages:0,current:0}}}async createTaxRate({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.rate)!=null?o:null}async updateTaxRate({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.rate)!=null?d:null}async deleteTaxRates({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:0}async fetchShippingRules({endpoint:t,limit:n=20,start:i=0,search:s="",signal:o}){var _,m,u;const l=this.mergeParams(t,{limit:n,start:i,search:s||void 0}),p=(_=(await this.get(l,{signal:o})).data)!=null?_:{};return{items:(m=p.items)!=null?m:[],pagination:(u=p.pagination)!=null?u:{total:0,limit:n,pages:0,current:0}}}async createShippingRule({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.rule)!=null?o:null}async updateShippingRule({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.rule)!=null?d:null}async deleteShippingRules({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:0}async fetchLogs({endpoint:t,limit:n=20,start:i=0,search:s="",entity:o="",signal:l}){var m,u,y;const d=this.mergeParams(t,{limit:n,start:i,search:s||void 0,entity:o||void 0}),_=(m=(await this.get(d,{signal:l})).data)!=null?m:{};return{items:(u=_.items)!=null?u:[],pagination:(y=_.pagination)!=null?y:{total:0,limit:n,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var i;return t?(i=(await this.get(t)).data)!=null?i:{}:{}}async fetchSettings({endpoint:t}){var i,s;return t?(s=(i=(await this.get(t)).data)==null?void 0:i.settings)!=null?s:{}:{}}async updateSettings({endpoint:t,data:n}){var s,o;return(o=(s=(await this.put(t,n)).data)==null?void 0:s.settings)!=null?o:{}}async fetchOrder({endpoint:t,id:n=null,orderNumber:i=""}){var l,d;const s=this.mergeParams(t,{id:n||void 0,order_no:i||void 0});return(d=(l=(await this.get(s)).data)==null?void 0:l.order)!=null?d:null}async transitionOrder({endpoint:t,id:n,state:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.post(s,{state:i})).data)==null?void 0:l.order)!=null?d:null}async bulkTransitionOrders({endpoint:t,ids:n,state:i}){var l;const s={ids:n,state:i};return(l=(await this.post(t,s)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:n,message:i}){var o,l;return(l=(o=(await this.post(t,{id:n,message:i})).data)==null?void 0:o.order)!=null?l:null}async fetchOrderInvoice({endpoint:t,id:n,orderNumber:i}){var l,d;const s={id:n||void 0,order_no:i||void 0};return(d=(l=(await this.post(t,s)).data)==null?void 0:l.invoice)!=null?d:null}async exportOrders({endpoint:t,search:n="",state:i=""}){var l,d;const s=this.mergeParams(t,{search:n||void 0,state:i||void 0});return(d=(l=(await this.get(s)).data)==null?void 0:l.export)!=null?d:null}async updateOrderTracking({endpoint:t,id:n,tracking:i}){var o,l;return(l=(o=(await this.post(t,{id:n,...i})).data)==null?void 0:o.order)!=null?l:null}async sendOrderEmail({endpoint:t,id:n,type:i}){var o,l;return(l=(o=(await this.post(t,{id:n,type:i})).data)==null?void 0:o.order)!=null?l:null}async recordTransaction({endpoint:t,id:n,amountCents:i,reference:s,note:o}){var d,p;return(p=(d=(await this.post(t,{id:n,amount_cents:i,reference:s||void 0,note:o||void 0})).data)==null?void 0:d.order)!=null?p:null}async resendDownloads({endpoint:t,id:n}){var s,o;return(o=(s=(await this.post(t,{id:n})).data)==null?void 0:s.order)!=null?o:null}async resetDownload({endpoint:t,downloadId:n,orderId:i}){var o;return(o=(await this.post(t,{download_id:n,order_id:i||void 0})).data)!=null?o:null}async checkoutOrder({endpoint:t,id:n}){var o,l;const i=this.mergeParams(t,{id:n});return(l=(o=(await this.post(i,{id:n})).data)==null?void 0:o.order)!=null?l:null}async checkinOrder({endpoint:t,id:n,force:i=!1}){var l,d;const s=this.mergeParams(t,{id:n,force:i?1:void 0});return(d=(l=(await this.post(s,{id:n})).data)==null?void 0:l.order)!=null?d:null}async createProduct({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?o:null}async updateProduct({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.item)!=null?d:null}async deleteProducts({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.post(t,{ids:n},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:[]}async checkoutProduct({endpoint:t,id:n}){var o,l;const i=this.mergeParams(t,{id:n});return(l=(o=(await this.post(i,{id:n})).data)==null?void 0:o.item)!=null?l:null}async checkinProduct({endpoint:t,id:n,force:i=!1}){var l,d;const s=this.mergeParams(t,{id:n,force:i?1:void 0});return(d=(l=(await this.post(s,{id:n})).data)==null?void 0:l.item)!=null?d:null}async fetchDigitalFiles({endpoint:t,productId:n,variantId:i=null,signal:s}){var d,p;const o=this.mergeParams(t,{product_id:n,variant_id:i||void 0});return(p=(d=(await this.get(o,{signal:s})).data)==null?void 0:d.files)!=null?p:[]}async uploadDigitalFile({endpoint:t,productId:n,file:i,variantId:s=null,version:o="1.0"}){var p,_;const l=new FormData;return l.append("product_id",n),s&&l.append("variant_id",s),o&&l.append("version",o),l.append("file",i),(_=(p=(await this.request(t,{method:"POST",body:l})).data)==null?void 0:p.file)!=null?_:null}async deleteDigitalFile({endpoint:t,fileId:n}){var s,o;return(o=(s=(await this.post(t,{id:n})).data)==null?void 0:s.deleted)!=null?o:null}async createCategory({endpoint:t,data:n}){var s,o;return(o=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?o:null}async updateCategory({endpoint:t,id:n,data:i}){var l,d;const s=this.mergeParams(t,{id:n});return(d=(l=(await this.put(s,i)).data)==null?void 0:l.item)!=null?d:null}async deleteCategories({endpoint:t,ids:n}){var s,o;return(o=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?o:0}async checkoutCategory({endpoint:t,id:n}){var o,l;const i=this.mergeParams(t,{id:n});return(l=(o=(await this.post(i,{id:n})).data)==null?void 0:o.item)!=null?l:null}async checkinCategory({endpoint:t,id:n,force:i=!1}){var l,d;const s=this.mergeParams(t,{id:n,force:i?1:void 0});return(d=(l=(await this.post(s,{id:n})).data)==null?void 0:l.item)!=null?d:null}async gdprExport({endpoint:t,email:n}){var o,l;const i=this.mergeParams(t,{email:n});return(l=(o=(await this.get(i)).data)==null?void 0:o.export)!=null?l:null}async gdprAnonymise({endpoint:t,email:n}){var s,o,l,d;const i=await this.post(t,{email:n});return{affected:(o=(s=i.data)==null?void 0:s.affected)!=null?o:0,message:(d=(l=i.data)==null?void 0:l.message)!=null?d:""}}mergeParams(t,n={}){const i=new URLSearchParams;return Object.entries(n).forEach(([s,o])=>{o==null||o===""||i.set(s,String(o))}),i.toString()?`${t}${t.includes("?")?"&":"?"}${i.toString()}`:t}}const bt=e=>new dg(e),ug={class:"nxp-ec-editor-panel"},pg={class:"nxp-ec-form-field"},_g={class:"nxp-ec-form-label",for:"product-title"},fg={class:"nxp-ec-form-field"},mg={class:"nxp-ec-form-label",for:"product-slug"},hg=["placeholder"],gg={class:"nxp-ec-form-field"},Eg={class:"nxp-ec-form-label",for:"product-short-desc"},Cg={class:"nxp-ec-form-field"},Ag={class:"nxp-ec-form-label",for:"product-long-desc"},Sg={class:"nxp-ec-form-field"},bg={class:"nxp-ec-form-label",for:"product-status"},yg={value:1},Tg={value:-1},Rg={value:0},Og={class:"nxp-ec-form-help"},xg={class:"nxp-ec-form-field"},vg={class:"nxp-ec-form-label",for:"product-type"},Pg={value:"physical"},Ng={value:"digital"},Mg={class:"nxp-ec-form-help"},Ig={class:"nxp-ec-form-field nxp-ec-form-field--inline"},kg={class:"nxp-ec-form-label",for:"product-featured"},$g={class:"nxp-ec-form-help"},wg={__name:"GeneralTab",props:{form:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["slug-input"],setup(e){const n=e.translate;return(i,s)=>(A(),S("section",ug,[a("div",pg,[a("label",_g,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),ne(a("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>e.form.title=o),required:""},null,512),[[Ce,e.form.title,void 0,{trim:!0}]])]),a("div",fg,[a("label",mg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),ne(a("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>e.form.slug=o),onInput:s[2]||(s[2]=o=>i.$emit("slug-input")),placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,hg),[[Ce,e.form.slug,void 0,{trim:!0}]])]),a("div",gg,[a("label",Eg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),ne(a("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":s[3]||(s[3]=o=>e.form.short_desc=o)},null,512),[[Ce,e.form.short_desc]])]),a("div",Cg,[a("label",Ag,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),ne(a("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":s[4]||(s[4]=o=>e.form.long_desc=o)},null,512),[[Ce,e.form.long_desc]])]),a("div",Sg,[a("label",bg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),ne(a("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":s[5]||(s[5]=o=>e.form.status=o)},[a("option",yg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),a("option",Tg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),a("option",Rg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[pt,e.form.status,void 0,{number:!0}]]),a("p",Og,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),a("div",xg,[a("label",vg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE","Product type")),1),ne(a("select",{id:"product-type",class:"nxp-ec-form-select","onUpdate:modelValue":s[6]||(s[6]=o=>e.form.product_type=o)},[a("option",Pg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_PHYSICAL","Physical product")),1),a("option",Ng,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_DIGITAL","Digital product")),1)],512),[[pt,e.form.product_type]]),a("p",Mg,c(r(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),a("div",Ig,[a("label",kg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),ne(a("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":s[7]||(s[7]=o=>e.form.featured=o)},null,512),[[ot,e.form.featured]]),a("p",$g,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)])]))}},Dg={class:"nxp-ec-editor-panel"},Lg={class:"nxp-ec-form-field"},Yg={class:"nxp-ec-form-label",for:"product-images"},Ug={id:"product-images",class:"nxp-ec-image-list"},Xg=["id","value","onInput","placeholder"],Fg={class:"nxp-ec-image-row__actions"},Gg=["onClick"],Vg=["onClick","disabled"],Hg=["onClick","disabled"],Bg=["onClick","aria-label"],Kg={class:"nxp-ec-form-help"},jg={__name:"ImagesTab",props:{images:{type:Array,default:()=>[]},translate:{type:Function,required:!0}},emits:["add-image","remove-image","move-image","update-image","open-media-modal"],setup(e){const n=e.translate;return(i,s)=>(A(),S("section",Dg,[a("div",Lg,[a("label",Yg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),a("div",Ug,[(A(!0),S(xe,null,ke(e.images,(o,l)=>(A(),S("div",{key:`product-image-${l}`,class:"nxp-ec-image-row"},[a("input",{id:`product-image-${l}`,class:"nxp-ec-form-input",type:"text",value:o,onInput:d=>i.$emit("update-image",l,d.target.value),placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg")},null,40,Xg),a("div",Fg,[a("button",{type:"button",class:"nxp-ec-btn",onClick:d=>i.$emit("open-media-modal",l)},[s[1]||(s[1]=a("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Se(" "+c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media")),1)],8,Gg),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:d=>i.$emit("move-image",l,-1),disabled:l===0},c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up")),9,Vg),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:d=>i.$emit("move-image",l,1),disabled:l===e.images.length-1},c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down")),9,Hg),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:d=>i.$emit("remove-image",l),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image")},c(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Bg)])]))),128))]),a("button",{type:"button",class:"nxp-ec-btn",onClick:s[0]||(s[0]=o=>i.$emit("add-image"))},c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image")),1),a("p",Kg,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)])]))}},Jg={class:"nxp-ec-editor-panel"},Wg={class:"nxp-ec-form-field"},qg={class:"nxp-ec-form-label",for:"product-category-select"},zg=["value"],Qg=["value"],Zg={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},eE=["onClick","aria-label"],tE={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},nE=["value","placeholder"],sE={class:"nxp-ec-form-help"},aE=_t({__name:"CategoriesTab",props:{categories:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},newCategoryDraft:{type:String,default:""},translate:{type:Function,required:!0}},emits:["add-category","remove-category","update-selection","update:newCategoryDraft"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ae(()=>n.categories.filter(_=>_&&_.id>0).map(_=>_.id)),l=_=>{const m=Array.from(_.target.selectedOptions).map(u=>Number.parseInt(u.value,10));i("update-selection",m)},d=(_,m=new Set)=>{if(!_||m.has(_))return 0;m.add(_);const u=n.categoryOptions.find(y=>y.id===_);return!u||!u.parent_id?0:1+d(u.parent_id,m)},p=_=>{if(!_)return"";const m=d(_.id);return m===0?_.title:"".repeat(m)+" "+_.title};return(_,m)=>(A(),S("section",Jg,[a("div",Wg,[a("label",qg,c(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),a("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"",value:o.value,onChange:l},[(A(!0),S(xe,null,ke(e.categoryOptions,u=>(A(),S("option",{key:u.id,value:u.id},c(p(u)),9,Qg))),128))],40,zg),a("div",Zg,[(A(!0),S(xe,null,ke(e.categories,(u,y)=>(A(),S("span",{key:`selected-category-${y}`,class:"nxp-ec-chip"},[Se(c(u.title)+" ",1),a("button",{type:"button",class:"nxp-ec-chip__remove",onClick:h=>_.$emit("remove-category",y),"aria-label":r(s)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,eE)]))),128))]),a("div",tE,[a("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field",value:e.newCategoryDraft,onInput:m[0]||(m[0]=u=>_.$emit("update:newCategoryDraft",u.target.value)),onKeydown:m[1]||(m[1]=gt(ht(u=>_.$emit("add-category"),["prevent"]),["enter"])),placeholder:r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name")},null,40,nE),a("button",{type:"button",class:"nxp-ec-btn",onClick:m[2]||(m[2]=u=>_.$emit("add-category"))},c(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category")),1)]),a("p",sE,c(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select a category or create a new one")),1)])]))}},[["__scopeId","data-v-c762bc9c"]]),oE={class:"nxp-ec-variant-section"},iE={class:"nxp-ec-variant-section__header"},rE={class:"nxp-ec-variant-section__title"},lE={class:"nxp-ec-form-help"},cE={class:"nxp-ec-variant-card__header"},dE={class:"nxp-ec-variant-card__title"},uE=["onClick"],pE=["onClick","disabled"],_E={class:"nxp-ec-variant-card__grid"},fE={class:"nxp-ec-form-field"},mE=["for"],hE=["id","onUpdate:modelValue"],gE={class:"nxp-ec-form-field"},EE=["for"],CE=["id","onUpdate:modelValue","placeholder"],AE={class:"nxp-ec-form-field"},SE=["for"],bE=["id","onUpdate:modelValue","onBlur"],yE={class:"nxp-ec-form-field"},TE=["for"],RE=["id","onUpdate:modelValue","onBlur","placeholder"],OE={class:"nxp-ec-form-field"},xE=["for"],vE=["id","onUpdate:modelValue","disabled"],PE={class:"nxp-ec-form-help"},NE={class:"nxp-ec-form-field"},ME=["for"],IE=["id","onUpdate:modelValue","disabled"],kE={class:"nxp-ec-form-help"},$E={class:"nxp-ec-form-field"},wE=["for"],DE=["id","onUpdate:modelValue"],LE={class:"nxp-ec-form-field"},YE=["for"],UE=["id","onUpdate:modelValue"],XE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},FE=["for"],GE=["id","onUpdate:modelValue"],VE={class:"nxp-ec-form-help"},HE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},BE=["for"],KE=["id","onUpdate:modelValue"],jE={class:"nxp-ec-variant-options"},JE={class:"nxp-ec-variant-options__header"},WE={class:"nxp-ec-variant-options__title"},qE=["onClick"],zE={class:"nxp-ec-form-help"},QE=["id","onUpdate:modelValue","placeholder"],ZE=["id","onUpdate:modelValue","placeholder"],eC=["onClick","aria-label"],tC={class:"nxp-ec-variant-images"},nC={class:"nxp-ec-variant-images__header"},sC={class:"nxp-ec-variant-images__title"},aC=["onClick"],oC={class:"nxp-ec-form-help"},iC={key:0,class:"nxp-ec-variant-images__list"},rC=["src","alt"],lC=["onClick","aria-label"],cC={key:1,class:"nxp-ec-variant-images__empty"},dC={__name:"VariantsTab",props:{variants:{type:Array,default:()=>[]},baseCurrency:{type:String,default:"USD"},hasMediaModal:{type:Boolean,default:!1},resolveImageUrl:{type:Function,default:e=>e},translate:{type:Function,required:!0}},emits:["add-variant","remove-variant","duplicate-variant","add-option","remove-option","format-price","format-sale-price","open-variant-media-modal","remove-variant-image"],setup(e){const n=e.translate,i=(s,o)=>`${s.id||"new"}-${o}`;return(s,o)=>(A(),S("section",oE,[a("header",iE,[a("h3",rE,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),a("button",{type:"button",class:"nxp-ec-btn",onClick:o[0]||(o[0]=l=>s.$emit("add-variant"))},c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),a("p",lE,[Se(c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),e.baseCurrency?(A(),S(xe,{key:0},[Se(" ("+c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[e.baseCurrency]))+") ",1)],64)):ie("",!0)]),(A(!0),S(xe,null,ke(e.variants,(l,d)=>(A(),S("article",{key:i(l,d),class:"nxp-ec-variant-card"},[a("header",cE,[a("h4",dE,c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(d+1)])),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:p=>s.$emit("duplicate-variant",d)},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,uE),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:p=>s.$emit("remove-variant",d),disabled:e.variants.length<=1},c(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,pE)]),a("div",_E,[a("div",fE,[a("label",{class:"nxp-ec-form-label",for:`variant-sku-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,mE),ne(a("input",{id:`variant-sku-${d}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p=>l.sku=p,required:""},null,8,hE),[[Ce,l.sku,void 0,{trim:!0}]])]),a("div",gE,[a("label",{class:"nxp-ec-form-label",for:`variant-ean-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_EAN","EAN")),9,EE),ne(a("input",{id:`variant-ean-${d}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p=>l.ean=p,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_EAN_PLACEHOLDER","8 or 13 digits"),maxlength:"13",pattern:"\\d{8}|\\d{13}"},null,8,CE),[[Ce,l.ean,void 0,{trim:!0}]])]),a("div",AE,[a("label",{class:"nxp-ec-form-label",for:`variant-price-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,SE),ne(a("input",{id:`variant-price-${d}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":p=>l.price=p,onBlur:p=>s.$emit("format-price",d),required:""},null,40,bE),[[Ce,l.price,void 0,{trim:!0}]])]),a("div",yE,[a("label",{class:"nxp-ec-form-label",for:`variant-sale-price-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE","Sale Price")),9,TE),ne(a("input",{id:`variant-sale-price-${d}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":p=>l.sale_price=p,onBlur:p=>s.$emit("format-sale-price",d),placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE_PLACEHOLDER","Leave empty if not on sale")},null,40,RE),[[Ce,l.sale_price,void 0,{trim:!0}]])]),a("div",OE,[a("label",{class:"nxp-ec-form-label",for:`variant-sale-start-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START","Sale Start")),9,xE),ne(a("input",{id:`variant-sale-start-${d}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":p=>l.sale_start_local=p,disabled:!l.sale_price||l.sale_price===""},null,8,vE),[[Ce,l.sale_start_local]]),a("p",PE,c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START_HELP","Leave empty to start immediately")),1)]),a("div",NE,[a("label",{class:"nxp-ec-form-label",for:`variant-sale-end-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END","Sale End")),9,ME),ne(a("input",{id:`variant-sale-end-${d}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":p=>l.sale_end_local=p,disabled:!l.sale_price||l.sale_price===""},null,8,IE),[[Ce,l.sale_end_local]]),a("p",kE,c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END_HELP","Leave empty for no expiration")),1)]),a("div",$E,[a("label",{class:"nxp-ec-form-label",for:`variant-stock-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,wE),ne(a("input",{id:`variant-stock-${d}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":p=>l.stock=p},null,8,DE),[[Ce,l.stock,void 0,{number:!0}]])]),a("div",LE,[a("label",{class:"nxp-ec-form-label",for:`variant-weight-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,YE),ne(a("input",{id:`variant-weight-${d}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":p=>l.weight=p},null,8,UE),[[Ce,l.weight,void 0,{trim:!0}]])]),a("div",XE,[a("label",{class:"nxp-ec-form-label",for:`variant-digital-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL","Digital item")),9,FE),ne(a("input",{id:`variant-digital-${d}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":p=>l.is_digital=p},null,8,GE),[[ot,l.is_digital]]),a("p",VE,c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL_HELP","Digital variants skip shipping.")),1)]),a("div",HE,[a("label",{class:"nxp-ec-form-label",for:`variant-active-${d}`},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,BE),ne(a("input",{id:`variant-active-${d}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":p=>l.active=p},null,8,KE),[[ot,l.active]])])]),a("section",jE,[a("header",JE,[a("h5",WE,c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:p=>s.$emit("add-option",d)},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,qE)]),a("p",zE,c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(A(!0),S(xe,null,ke(l.options,(p,_)=>(A(),S("div",{key:`variant-${d}-option-${_}`,class:"nxp-ec-variant-option-row"},[ne(a("input",{id:`variant-${d}-option-name-${_}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m=>p.name=m,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,QE),[[Ce,p.name,void 0,{trim:!0}]]),ne(a("input",{id:`variant-${d}-option-value-${_}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m=>p.value=m,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,ZE),[[Ce,p.value,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:m=>s.$emit("remove-option",d,_),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},c(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,eC)]))),128))]),a("section",tC,[a("header",nC,[a("h5",sC,c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES","Variant Images")),1),e.hasMediaModal?(A(),S("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:p=>s.$emit("open-variant-media-modal",d)},c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_IMAGE_ADD","Add image")),9,aC)):ie("",!0)]),a("p",oC,c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES_HELP","Add variant-specific images (e.g., different colours). Leave empty to use product images.")),1),l.images&&l.images.length>0?(A(),S("div",iC,[(A(!0),S(xe,null,ke(l.images,(p,_)=>(A(),S("div",{key:`variant-${d}-img-${_}`,class:"nxp-ec-variant-image"},[a("img",{src:e.resolveImageUrl(p),alt:r(n)("COM_NXPEASYCART_VARIANT_IMAGE","Variant image")+" "+(_+1),class:"nxp-ec-variant-image__thumb"},null,8,rC),a("button",{type:"button",class:"nxp-ec-variant-image__remove",onClick:m=>s.$emit("remove-variant-image",d,_),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[...o[1]||(o[1]=[a("i",{class:"fa-solid fa-times"},null,-1)])],8,lC)]))),128))])):(A(),S("p",cC,c(r(n)("COM_NXPEASYCART_FIELD_VARIANT_IMAGES_EMPTY","No variant images (using product images)")),1))])]))),128))]))}},uC={class:"nxp-ec-editor-panel nxp-ec-editor-panel--digital"},pC={class:"nxp-ec-admin-alert nxp-ec-admin-alert--info"},_C={style:{"margin-bottom":"0"}},fC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mC={key:1,class:"nxp-ec-admin-callout nxp-ec-admin-callout--info"},hC={class:"nxp-ec-admin-callout__content"},gC={class:"nxp-ec-admin-callout__title"},EC={class:"nxp-ec-digital-grid"},CC={class:"nxp-ec-digital-card"},AC={class:"nxp-ec-form-field"},SC={class:"nxp-ec-form-label",for:"digital-file-input"},bC=["disabled"],yC={class:"nxp-ec-form-field"},TC={class:"nxp-ec-form-label",for:"digital-version"},RC=["value","disabled"],OC={class:"nxp-ec-form-field"},xC={class:"nxp-ec-form-label",for:"digital-variant"},vC=["value","disabled"],PC={value:""},NC=["value"],MC={class:"nxp-ec-form-help"},IC={class:"nxp-ec-admin-form__actions"},kC=["disabled"],$C={class:"nxp-ec-digital-card"},wC={class:"nxp-ec-digital-card__header"},DC={key:0},LC={key:0,class:"nxp-ec-form-help"},YC={key:1,class:"nxp-ec-digital-table"},UC={class:"nxp-ec-digital-meta"},XC={class:"nxp-ec-admin-panel__muted"},FC={key:0,class:"nxp-ec-admin-panel__muted"},GC={class:"nxp-ec-digital-actions"},VC=["disabled","onClick"],HC={__name:"DigitalFilesTab",props:{productId:{type:[Number,String],default:null},files:{type:Array,default:()=>[]},variantOptions:{type:Array,default:()=>[]},version:{type:String,default:"1.0"},variantId:{type:[String,Number],default:""},loading:{type:Boolean,default:!1},uploading:{type:Boolean,default:!1},deletingId:{type:Number,default:0},error:{type:String,default:""},translate:{type:Function,required:!0}},emits:["upload","delete","file-change","update:version","update:variantId"],setup(e,{expose:t,emit:n}){const i=e,s=n,o=i.translate,l=Ye(null),d=m=>{var y;const u=(y=m==null?void 0:m.target)==null?void 0:y.files;s("file-change",u&&u.length?u[0]:null)},p=m=>{if(!m)return o("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants");const u=i.variantOptions.find(y=>y.id===m);return(u==null?void 0:u.label)||o("COM_NXPEASYCART_DIGITAL_VARIANT_SPECIFIC","Variant")},_=m=>{const u=Number(m)||0;if(u<=0)return o("COM_NXPEASYCART_DIGITAL_FILE_SIZE_UNKNOWN","Unknown size");const y=["B","KB","MB","GB"];let h=0,w=u;for(;w>=1024&&h<y.length-1;)w/=1024,h+=1;return`${w.toFixed(w>=10?0:1)} ${y[h]}`};return t({resetFileInput:()=>{l.value&&(l.value.value="")}}),(m,u)=>(A(),S("section",uC,[a("div",pC,[a("p",_C,c(r(o)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),e.error?(A(),S("div",fC,c(e.error),1)):ie("",!0),e.productId?ie("",!0):(A(),S("div",mC,[u[3]||(u[3]=a("span",{class:"nxp-ec-admin-callout__icon"},[a("i",{class:"fa-solid fa-circle-info"})],-1)),a("div",hC,[a("div",gC,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST_TITLE","Save Required")),1),Se(" "+c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST","Digital files are linked to the product record. Save this product first, then reopen the editor to upload your files.")),1)])])),a("div",EC,[a("div",CC,[a("h4",null,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1),a("div",AC,[a("label",SC,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_SELECT","Choose file")),1),a("input",{id:"digital-file-input",ref_key:"fileInputRef",ref:l,type:"file",class:"nxp-ec-form-input",onChange:d,disabled:e.uploading||!e.productId},null,40,bC)]),a("div",yC,[a("label",TC,c(r(o)("COM_NXPEASYCART_DIGITAL_VERSION","Version")),1),a("input",{id:"digital-version",class:"nxp-ec-form-input",type:"text",value:e.version,onInput:u[0]||(u[0]=y=>m.$emit("update:version",y.target.value)),disabled:e.uploading},null,40,RC)]),a("div",OC,[a("label",xC,c(r(o)("COM_NXPEASYCART_DIGITAL_VARIANT_SCOPE","Applies to")),1),a("select",{id:"digital-variant",class:"nxp-ec-form-select",value:e.variantId,onChange:u[1]||(u[1]=y=>m.$emit("update:variantId",y.target.value)),disabled:e.uploading},[a("option",PC,c(r(o)("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants")),1),(A(!0),S(xe,null,ke(e.variantOptions,y=>(A(),S("option",{key:y.id,value:y.id},c(y.label),9,NC))),128))],40,vC),a("p",MC,c(r(o)("COM_NXPEASYCART_DIGITAL_VARIANT_HELP","Scope downloads to a specific variant when needed.")),1)]),a("div",IC,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--primary",onClick:u[2]||(u[2]=y=>m.$emit("upload")),disabled:e.uploading||!e.productId},[a("i",{class:we(["fa-solid fa-cloud-arrow-up",{"fa-spin":e.uploading}]),"aria-hidden":"true"},null,2),Se(" "+c(e.uploading?r(o)("JPROCESSING_REQUEST","Uploading..."):r(o)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1)],8,kC)])]),a("div",$C,[a("div",wC,[a("h4",null,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES","Digital files")),1),e.loading?(A(),S("span",DC,c(r(o)("JGLOBAL_LOADING","Loading...")),1)):ie("",!0)]),e.files.length===0?(A(),S("div",LC,c(r(o)("COM_NXPEASYCART_DIGITAL_FILES_EMPTY","No files attached to this product.")),1)):(A(),S("div",YC,[(A(!0),S(xe,null,ke(e.files,y=>(A(),S("div",{key:y.id,class:"nxp-ec-digital-row"},[a("div",UC,[a("strong",null,c(y.filename),1),a("div",XC,[Se(c(p(y.variant_id))+"  "+c(_(y.file_size))+" ",1),y.version?(A(),S(xe,{key:0},[Se("  v"+c(y.version),1)],64)):ie("",!0)]),y.created?(A(),S("div",FC,c(y.created),1)):ie("",!0)]),a("div",GC,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",disabled:e.deletingId===y.id,onClick:h=>m.$emit("delete",y)},c(e.deletingId===y.id?r(o)("JPROCESSING_REQUEST","Removing..."):r(o)("COM_NXPEASYCART_REMOVE","Remove")),9,VC)])]))),128))]))])])]))}};function BC(e,t){const n=Ye(""),i=u=>{var y,h,w,I,C,E,f,N;if(u==null)return null;if(typeof u=="string"){const x=u.trim();return x===""?null:{id:0,title:x,slug:""}}if(typeof u=="object"){const x=Number.parseInt((h=(y=u.id)!=null?y:u.value)!=null?h:0,10)||0,B=(f=(E=(C=(I=(w=u.title)!=null?w:u.name)!=null?I:u.text)!=null?C:u.label)!=null?E:u.slug)!=null?f:"",Y=String(B!=null?B:"").trim(),b=String((N=u.slug)!=null?N:"").trim(),P=u.parent_id!==null&&u.parent_id!==void 0&&Number.parseInt(u.parent_id,10)||null;return x<=0&&Y===""?null:{id:x>0?x:0,title:Y!==""?Y:b,slug:b,parent_id:P}}return null},s=Ae(()=>{const y=(Array.isArray(t.value)?t.value:[]).map(i).filter(C=>C&&C.id>0&&C.title!==""),h=new Map;y.forEach(C=>{h.set(C.id,C)}),e.value.forEach(C=>{var E;C.id>0&&C.title&&!h.has(C.id)&&h.set(C.id,{id:C.id,title:C.title,slug:(E=C.slug)!=null?E:"",parent_id:C.parent_id!==null&&C.parent_id!==void 0?C.parent_id:null})});const w=Array.from(h.values()),I=(C=null)=>w.filter(E=>E.parent_id===C).sort((E,f)=>E.title.localeCompare(f.title)).flatMap(E=>[E,...I(E.id)]);return I()}),o=Ae(()=>{const u=new Map;return s.value.forEach(y=>{var h;u.set(y.id,{title:y.title,slug:(h=y.slug)!=null?h:""})}),u});return{newCategoryDraft:n,categoryOptionsList:s,categoryOptionsMap:o,resetCategories:u=>{const h=(Array.isArray(u)?u:[]).map(i).filter(C=>C&&(C.id>0||C.title!=="")),w=new Set,I=[];h.forEach(C=>{const E=C.id>0?`id:${C.id}`:`title:${C.title.toLowerCase()}`;w.has(E)||(w.add(E),I.push(C))}),e.value.splice(0,e.value.length,...I)},handleCategorySelectionUpdate:u=>{const y=Array.isArray(u)?u:[],h=Array.from(new Set(y.map(C=>Number.parseInt(C!=null?C:0,10)||0).filter(C=>C>0))),w=e.value.filter(C=>!(C.id>0)),I=h.map(C=>{const E=o.value.get(C),f=e.value.find(B=>B.id===C),N=(E==null?void 0:E.title)||(f==null?void 0:f.title)||"",x=(E==null?void 0:E.slug)||(f==null?void 0:f.slug)||"";return N===""?null:{id:C,title:N,slug:x}}).filter(C=>C!==null);e.value.splice(0,e.value.length,...I,...w)},addCategory:()=>{const u=n.value.trim();if(!u)return;const y=u.toLowerCase(),h=e.value.slice();h.some(I=>I.title.toLowerCase()===y)||(h.push({id:0,title:u,slug:""}),e.value.splice(0,e.value.length,...h)),n.value=""},removeCategory:u=>{if(u<0||u>=e.value.length)return;const y=e.value.slice();y.splice(u,1),e.value.splice(0,e.value.length,...y)},buildPayloadCategories:()=>e.value.map(u=>{var I,C,E;const y=Number.parseInt((I=u==null?void 0:u.id)!=null?I:0,10)||0,h=String((C=u==null?void 0:u.title)!=null?C:"").trim(),w=String((E=u==null?void 0:u.slug)!=null?E:"").trim();return y>0?{id:y,title:h,slug:w}:h===""?null:{id:0,title:h,slug:""}}).filter(u=>u!==null)}}function KC(e,t,n,i){const s=i,o=b=>{if(!b||b==="")return"";try{const P=new Date(b.replace(" ","T")+"Z");if(isNaN(P.getTime()))return"";const ee=P.getFullYear(),O=String(P.getMonth()+1).padStart(2,"0"),se=String(P.getDate()).padStart(2,"0"),K=String(P.getHours()).padStart(2,"0"),oe=String(P.getMinutes()).padStart(2,"0");return`${ee}-${O}-${se}T${K}:${oe}`}catch(P){return""}},l=b=>{if(!b||b==="")return null;try{const P=new Date(b);return isNaN(P.getTime())?null:P.toISOString().slice(0,19).replace("T"," ")}catch(P){return null}},d=()=>({id:0,sku:"",ean:"",price:"",sale_price:"",sale_start:null,sale_end:null,sale_start_local:"",sale_end_local:"",currency:t.value,stock:0,weight:"",active:!0,options:[],images:[],is_digital:n.value}),p=()=>({name:"",value:""}),_=b=>Array.isArray(b)?b.map(P=>{var ee,O,se;return{name:String((O=(ee=P==null?void 0:P.name)!=null?ee:P==null?void 0:P.key)!=null?O:"").trim(),value:String((se=P==null?void 0:P.value)!=null?se:"").trim()}}):b&&typeof b=="object"?Object.entries(b).map(([P,ee])=>({name:String(P!=null?P:"").trim(),value:String(ee!=null?ee:"").trim()})):[],m=b=>!Array.isArray(b)||b.length===0?[d()]:b.map(P=>{var se,K,oe,re,Oe,V;const ee=(P==null?void 0:P.sale_price)!=null?String(P.sale_price):Number.isFinite(P==null?void 0:P.sale_price_cents)?(P.sale_price_cents/100).toFixed(2):"";let O=[];return Array.isArray(P==null?void 0:P.images)&&(O=P.images.filter($=>typeof $=="string"&&$.trim()!=="").map($=>$.trim())),{id:Number.parseInt((se=P==null?void 0:P.id)!=null?se:0,10)||0,sku:String((K=P==null?void 0:P.sku)!=null?K:"").trim(),ean:(P==null?void 0:P.ean)!=null?String(P.ean).trim():"",price:(P==null?void 0:P.price)!=null?String(P.price):Number.isFinite(P==null?void 0:P.price_cents)?(P.price_cents/100).toFixed(2):"",sale_price:ee,sale_start:(oe=P==null?void 0:P.sale_start)!=null?oe:null,sale_end:(re=P==null?void 0:P.sale_end)!=null?re:null,sale_start_local:o(P==null?void 0:P.sale_start),sale_end_local:o(P==null?void 0:P.sale_end),currency:String((Oe=P==null?void 0:P.currency)!=null?Oe:t.value).toUpperCase(),stock:Number.parseInt((V=P==null?void 0:P.stock)!=null?V:0,10)||0,weight:(P==null?void 0:P.weight)!=null?String(P.weight):"",active:(P==null?void 0:P.active)!==void 0?!!P.active:!0,options:_(P==null?void 0:P.options),images:O,is_digital:(P==null?void 0:P.is_digital)!==void 0?!!P.is_digital:n.value}}),u=()=>{e.value.forEach(b=>{(b.is_digital===void 0||b.is_digital===null)&&(b.is_digital=n.value),n.value&&(b.weight="")})},y=b=>{e.value.splice(0,e.value.length,...b),u()},h=Ae(()=>e.value.map((b,P)=>{var K,oe;const ee=String((K=b==null?void 0:b.sku)!=null?K:"").trim(),O=Array.isArray(b==null?void 0:b.options)?b.options.filter(re=>(re==null?void 0:re.name)&&(re==null?void 0:re.value)).map(re=>`${String(re.name).trim()}: ${String(re.value).trim()}`).join(", "):"",se=s("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(P+1)]);return{id:Number.parseInt((oe=b==null?void 0:b.id)!=null?oe:0,10)||0,label:ee||O||se}}));return{blankVariant:d,normaliseVariants:m,applyVariantDigitalDefaults:u,resetVariants:y,variantOptions:h,addVariant:()=>{e.value.push(d())},removeVariant:b=>{e.value.length<=1||e.value.splice(b,1)},duplicateVariant:b=>{const P=e.value[b];if(!P)return;const ee=JSON.parse(JSON.stringify(P));ee.id=0,ee.sku=[ee.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),ee.active=!0,e.value.splice(b+1,0,ee)},addVariantOption:b=>{const P=e.value[b];P&&(Array.isArray(P.options)||(P.options=[]),P.options.push(p()))},removeVariantOption:(b,P)=>{const ee=e.value[b];!ee||!Array.isArray(ee.options)||ee.options.splice(P,1)},formatVariantPrice:b=>{const P=e.value[b];if(!P)return;const ee=Number.parseFloat(P.price);Number.isNaN(ee)||(P.price=ee.toFixed(2))},formatVariantSalePrice:b=>{const P=e.value[b];if(!P)return;if(P.sale_price===""||P.sale_price===null||P.sale_price===void 0){P.sale_price="";return}const ee=Number.parseFloat(P.sale_price);if(Number.isNaN(ee)){P.sale_price="";return}P.sale_price=ee.toFixed(2)},removeVariantImage:(b,P)=>{const ee=e.value[b];!ee||!Array.isArray(ee.images)||ee.images.splice(P,1)},buildPayloadVariants:()=>e.value.map(b=>{const P=Array.isArray(b.options)?b.options.map(V=>{var $,g;return{name:String(($=V==null?void 0:V.name)!=null?$:"").trim(),value:String((g=V==null?void 0:V.value)!=null?g:"").trim()}}).filter(V=>V.name!==""&&V.value!==""):[],ee=Number.isFinite(Number(b.stock))?Math.max(0,parseInt(b.stock,10)):0,O=b.weight!==null&&b.weight!==""?String(b.weight).trim():null,se=b.ean&&String(b.ean).trim()!==""?String(b.ean).trim():null,K=b.sale_price!==null&&b.sale_price!==void 0&&b.sale_price!==""?String(b.sale_price).trim():null,oe=l(b.sale_start_local),re=l(b.sale_end_local),Oe=Array.isArray(b.images)?b.images.map(V=>typeof V=="string"?V.trim():"").filter(V=>V!==""):[];return{id:b.id||0,sku:b.sku.trim(),ean:se,price:b.price!==null&&b.price!==void 0?String(b.price).trim():"",sale_price:K,sale_start:oe,sale_end:re,currency:b.currency?String(b.currency).trim().toUpperCase():t.value,stock:ee,weight:O,active:!!b.active,is_digital:!!b.is_digital,options:P,images:Oe.length>0?Oe:null}})}}function jC(e,t,n,i){const s=i,o=Ve({files:[],loading:!1,uploading:!1,deletingId:0,error:"",version:"1.0",variantId:""}),l=Ye(null),d=Ye(null),p=I=>Array.isArray(I)?I.map(C=>{var E,f,N,x,B,Y,b;return{id:Number.parseInt((E=C==null?void 0:C.id)!=null?E:0,10)||0,product_id:Number.parseInt((f=C==null?void 0:C.product_id)!=null?f:0,10)||0,variant_id:(C==null?void 0:C.variant_id)!==null&&(C==null?void 0:C.variant_id)!==void 0?Number.parseInt(C.variant_id,10)||0:null,filename:String((N=C==null?void 0:C.filename)!=null?N:"").trim(),storage_path:String((x=C==null?void 0:C.storage_path)!=null?x:"").trim(),file_size:Number.parseInt((B=C==null?void 0:C.file_size)!=null?B:0,10)||0,mime_type:(C==null?void 0:C.mime_type)!==null&&(C==null?void 0:C.mime_type)!==void 0?String(C.mime_type).trim():"",version:String((Y=C==null?void 0:C.version)!=null?Y:"1.0").trim()||"1.0",created:String((b=C==null?void 0:C.created)!=null?b:"").trim()}}).filter(C=>C.id>0&&C.filename!==""):[],_=()=>{var I;l.value=null,(I=d.value)!=null&&I.resetFileInput&&d.value.resetFileInput()};return{digitalState:o,selectedFile:l,digitalFilesTabRef:d,normaliseDigitalFiles:p,resetFileInput:_,resetDigitalFiles:I=>{const C=p(I!=null?I:[]);e.value.splice(0,e.value.length,...C),o.files=C.slice(),o.error="",o.variantId="",o.version="1.0",o.deletingId=0,_()},loadDigitalFiles:async I=>{var C;if(!I){o.files=p(e.value);return}if(!((C=n.value)!=null&&C.list)){o.files=p(e.value);return}o.loading=!0,o.error="";try{const E=await t.fetchDigitalFiles({endpoint:n.value.list,productId:I}),f=p(E);o.files=f,e.value.splice(0,e.value.length,...f)}catch(E){o.error=(E==null?void 0:E.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to load digital files.")}finally{o.loading=!1}},handleFileChange:I=>{l.value=I},uploadDigitalFile:async I=>{var C;if(!I){o.error=s("COM_NXPEASYCART_ERROR_PRODUCT_ID_REQUIRED","Save the product before uploading files.");return}if(!((C=n.value)!=null&&C.upload)){o.error=s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Digital upload endpoint unavailable.");return}if(!l.value){o.error=s("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Select a file to upload.");return}o.uploading=!0,o.error="";try{const E=await t.uploadDigitalFile({endpoint:n.value.upload,productId:I,variantId:o.variantId&&Number.parseInt(o.variantId,10)||null,version:o.version||"1.0",file:l.value}),f=E?p([E]):[];f.length&&(o.files.unshift(f[0]),e.value.unshift(f[0]))}catch(E){o.error=(E==null?void 0:E.message)||s("COM_NXPEASYCART_ERROR_UPLOAD_FAILED","Upload failed.")}finally{o.uploading=!1,_()}},deleteDigitalFile:async I=>{var E,f;const C=Number.parseInt((E=I==null?void 0:I.id)!=null?E:0,10)||0;if(!(!C||!((f=n.value)!=null&&f.delete))){o.deletingId=C,o.error="";try{await t.deleteDigitalFile({endpoint:n.value.delete,fileId:C});const N=o.files.filter(x=>x.id!==C);o.files=N,e.value.splice(0,e.value.length,...N)}catch(N){o.error=(N==null?void 0:N.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to delete file.")}finally{o.deletingId=0}}}}}function JC(e,t,n,i){const s=i;let o=null,l=null,d=null,p=null,_=null,m="";const u=Y=>{var P,ee,O;if(!Y||typeof Y!="string")return"";const b=Y.trim();if(b==="")return"";if(b.startsWith("http://")||b.startsWith("https://")||b.startsWith("//"))return b;if(typeof window!="undefined")try{const K=((O=(ee=(P=window.Joomla)==null?void 0:P.getOptions)==null?void 0:ee.call(P,"system.paths",{}))!=null?O:{}).root||"",oe=b.startsWith("/")?b:`/${b}`;return K+oe}catch(se){}return b.startsWith("/")?b:`/${b}`},y=Ae(()=>{var Y;return typeof window=="undefined"?!1:!!((Y=window.customElements)!=null&&Y.get("joomla-field-media"))}),h=Y=>{var O,se,K;if(!Y)return"";let b=String(Y).trim();if(b==="")return"";try{const oe=(K=(se=(O=window.Joomla)==null?void 0:O.getOptions)==null?void 0:se.call(O,"system.paths",{}))!=null?K:{},re=oe.rootFull||window.location.origin,Oe=oe.root||"/";b.startsWith(re)&&(b=b.substring(re.length)),b.startsWith(Oe)&&(b=b.substring(Oe.length))}catch(oe){}const P=b.match(/^(local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(P&&P[2]){const oe=P[1].toLowerCase();let re=P[2];if(oe==="local-images"||oe==="images")!re.startsWith("images/")&&!re.startsWith("/images/")&&(re="images/"+re);else if(oe.startsWith("local-")){const Oe=oe.replace("local-","");!re.startsWith(Oe+"/")&&!re.startsWith("/"+Oe+"/")&&(re=Oe+"/"+re)}b=re}const ee=b.indexOf("#joomlaImage://");return ee!==-1&&(b=b.substring(0,ee)),b.trim()},w=(Y,{keepIndex:b=!1,appendWhenNoIndex:P=!1,targetIndex:ee=null}={})=>{const O=h(Y);if(O==="")return!1;Array.isArray(e.value)||(e.value=[]);const se=ee!==null&&ee>=0?ee:p;return se==null||Number.isNaN(se)?P?(e.value.push(O),b||(p=null,m=""),!0):!1:(se>=e.value.length?e.value.push(O):e.value[se]=O,m=b?O:"",b||(p=null,m=""),!0)},I=()=>{var se,K,oe,re,Oe,V;const Y=(n.value||"").trim();if(Y!=="")return Y;const b=(oe=(K=(se=window.Joomla)==null?void 0:se.getOptions)==null?void 0:K.call(se,"media-picker",{}))!=null?oe:{};if(b.modalUrl)return b.modalUrl;const P=(V=(Oe=(re=window.Joomla)==null?void 0:re.getOptions)==null?void 0:Oe.call(re,"system.paths",{}))!=null?V:{},ee=P.rootFull||P.root||"";return(ee?ee.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},C=async()=>{var oe,re,Oe,V,$,g,R,L,H;if(o)return o;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(F){return null}const Y=(Oe=(re=(oe=window.Joomla)==null?void 0:oe.getOptions)==null?void 0:re.call(oe,"system.paths",{}))!=null?Oe:{},b=Y.rootFull||Y.root||"",P=(g=($=(V=window.Joomla)==null?void 0:V.getOptions)==null?void 0:$.call(V,"com_media",{}))!=null?g:{},ee=(P==null?void 0:P.file_path)||"images",O=(H=(L=(R=window.Joomla)==null?void 0:R.getOptions)==null?void 0:L.call(R,"media-picker",{}))!=null?H:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},K=s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return l=document.createElement("div"),l.className="nxp-ec-media-picker-host",l.style.display="none",l.innerHTML=`
            <joomla-field-media
                class="nxp-ec-media-field"
                types="images"
                base-path="${b.replace(/"/g,"&quot;")}"
                root-folder="${ee.replace(/"/g,"&quot;")}"
                url=""
                preview="none"
                input=".nxp-ec-media-field__input"
                button-select=".nxp-ec-media-field__select"
                button-clear=".nxp-ec-media-field__clear"
                modal-title="${K}"
                modal-width="960"
                modal-height="600"
                supported-extensions='${JSON.stringify(O).replace(/'/g,"&apos;")}'
            >
                <div class="input-group">
                    <input type="text" class="nxp-ec-media-field__input field-media-input" />
                    <button type="button" class="nxp-ec-media-field__select button-select"></button>
                    <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
                </div>
            </joomla-field-media>
        `,document.body.appendChild(l),o=l.querySelector("joomla-field-media"),d=l.querySelector(".nxp-ec-media-field__input"),o.addEventListener("change",F=>{var de,Ee,be,J,_e,Te;const j=(be=(Ee=(de=F.detail)==null?void 0:de.value)!=null?Ee:d==null?void 0:d.value)!=null?be:"";let X=h(j);if(X===""&&m!==""&&(X=m),X===""&&((J=window.Joomla)!=null&&J.selectedMediaFile)){const $e=h((_e=window.Joomla.selectedMediaFile.url)!=null?_e:""),T=h((Te=window.Joomla.selectedMediaFile.path)!=null?Te:"");X=$e||T}w(X)}),o.addEventListener("joomla-dialog:close",()=>{p=null,m=""}),d&&d.addEventListener("change",()=>{var j,X,de,Ee;if(p===null)return;let F=h((j=d.value)!=null?j:"");if(F===""&&m!==""&&(F=m),F===""&&((X=window.Joomla)!=null&&X.selectedMediaFile)){const be=h((de=window.Joomla.selectedMediaFile.url)!=null?de:""),J=h((Ee=window.Joomla.selectedMediaFile.path)!=null?Ee:"");F=be||J}F!==""&&w(F)}),o},E=Y=>{var se,K;const b=Y==null?void 0:Y.detail;if(!b||typeof b!="object")return;const P=h((se=b.path)!=null?se:""),O=h((K=b.url)!=null?K:"")||P;if(O!==""){if(_!==null){const oe=t.value[_];oe&&(Array.isArray(oe.images)||(oe.images=[]),oe.images.push(O)),_=null;return}p!==null&&(m=O,w(O,{keepIndex:!0}))}},f=Y=>{var ee;Array.isArray(e.value)||(e.value=[]);const b=(ee=e.value[Y])!=null?ee:"";if(typeof window=="undefined")return;const P=window.prompt(s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),b);w(P!=null?P:"",{targetIndex:Y})};return{resolveImageUrl:u,hasMediaModal:y,normaliseMediaValue:h,openMediaModal:async Y=>{var ee;Array.isArray(e.value)||(e.value=[]);const b=await C();if(!b||typeof b.show!="function"){f(Y);return}p=Y,b.setAttribute("url",I());const P=(ee=e.value[Y])!=null?ee:"";typeof b.setValue=="function"?b.setValue(P):d&&(d.value=P);try{b.show()}catch(O){p=null,m="",f(Y)}},openVariantMediaModal:async Y=>{const b=t.value[Y];if(!b)return;Array.isArray(b.images)||(b.images=[]);const P=await C();if(!P||typeof P.show!="function"){const ee=window.prompt(s("COM_NXPEASYCART_FIELD_IMAGE_URL_PROMPT","Enter image URL:"),"");ee&&ee.trim()!==""&&b.images.push(ee.trim());return}_=Y,p=null,P.setAttribute("url",I()),typeof P.setValue=="function"?P.setValue(""):d&&(d.value="");try{P.show()}catch(ee){_=null;const O=window.prompt(s("COM_NXPEASYCART_FIELD_IMAGE_URL_PROMPT","Enter image URL:"),"");O&&O.trim()!==""&&b.images.push(O.trim())}},setupLifecycle:()=>{mt(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",E)}),wn(()=>{l&&l.parentNode&&l.parentNode.removeChild(l),o=null,l=null,d=null,p=null,_=null,m="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",E)})}}}function WC(e){const t=()=>{Array.isArray(e.value)||(e.value=[])};return{ensureImagesArray:t,resetImages:p=>{e.value.splice(0,e.value.length,...p)},addImage:()=>{t(),e.value.push("")},removeImage:p=>{t(),e.value.splice(p,1)},moveImage:(p,_)=>{t();const m=e.value[p];if(m===void 0)return;const u=p+_;u<0||u>=e.value.length||(e.value.splice(p,1),e.value.splice(u,0,m))},updateImage:(p,_)=>{t(),p>=0&&p<e.value.length&&(e.value[p]=_)},buildPayloadImages:()=>(t(),Array.from(new Set(e.value.map(p=>String(p!=null?p:"").trim()).filter(p=>p!==""))))}}const qC={class:"nxp-ec-modal__dialog"},zC={class:"nxp-ec-modal__header"},QC={id:"product-modal-title",class:"nxp-ec-modal__title"},ZC={class:"nxp-ec-modal__header-actions"},eA=["disabled","title","aria-label"],tA={class:"nxp-ec-sr-only"},nA=["disabled","title","aria-label"],sA={class:"nxp-ec-sr-only"},aA=["title","aria-label"],oA={class:"nxp-ec-sr-only"},iA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},rA={class:"nxp-ec-editor-tabs",role:"tablist"},lA={class:"nxp-ec-modal__actions"},cA=["disabled"],dA=["disabled"],ci="product-editor-form",uA=_t({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ye(null),l=Ye("general"),d=Ve({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[],product_type:"physical",digital_files:[]}),p=Ye(!1),_=Ae(()=>(n.baseCurrency||"USD").toUpperCase()),m=Ae(()=>(d.product_type||"physical").toString().toLowerCase()),u=Ae(()=>m.value==="digital"),y=Ae(()=>n.product&&n.product.id?"edit":"create"),h=BC(zt(d,"categories"),zt(n,"categoryOptions")),w=KC(zt(d,"variants"),_,u,s),I=bt({token:n.csrfToken||""}),C=Ae(()=>n.digitalEndpoints||{}),E=jC(zt(d,"digital_files"),I,C,s),f=JC(zt(d,"images"),zt(d,"variants"),zt(n,"mediaModalUrl"),s),N=WC(zt(d,"images"));f.setupLifecycle();const x=se=>se?se.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",B=()=>{p.value=!0,d.slug=x(d.slug)},Y=se=>{const K=Number(se);if(Number.isFinite(K))return K===-1?-1:K===0?0:1;if(typeof se=="string"){const oe=se.trim().toLowerCase();if(oe==="out_of_stock"||oe==="out-of-stock"||oe==="-1")return-1;if(oe==="inactive"||oe==="0")return 0}return 1},b=se=>{var Oe,V,$,g;const K=se?JSON.parse(JSON.stringify(se)):{};d.title=(Oe=K.title)!=null?Oe:"",d.slug=(V=K.slug)!=null?V:"",d.short_desc=($=K.short_desc)!=null?$:"",d.long_desc=(g=K.long_desc)!=null?g:"",d.status=Y(K.status!==void 0?K.status:K.active),d.featured=K.featured!==void 0?!!K.featured:!1,d.product_type=typeof K.product_type=="string"&&K.product_type!==""?K.product_type.toLowerCase():"physical";const oe=Array.isArray(K.images)?K.images.map(R=>String(R!=null?R:"").trim()).filter(Boolean):[];N.resetImages(oe);const re=Array.isArray(K.categories)?K.categories:[];h.resetCategories(re),w.resetVariants(w.normaliseVariants(K.variants)),E.resetDigitalFiles(K.digital_files),h.newCategoryDraft.value="",p.value=!!d.slug};qe(()=>n.product,se=>{b(se),l.value="general"},{immediate:!0}),qe(()=>d.title,se=>{p.value||(d.slug=x(se))}),qe(_,se=>{d.variants.forEach(K=>{K.currency=se})}),qe(m,se=>{w.applyVariantDigitalDefaults(),se!=="digital"&&l.value==="digital"&&(l.value="general")}),qe(l,se=>{var K;se==="digital"&&E.loadDigitalFiles((K=n.product)==null?void 0:K.id)}),qe(()=>n.saving,(se,K)=>{K&&!se&&n.errors.length===0&&y.value==="create"&&(b(null),h.newCategoryDraft.value="",p.value=!1)});const P=()=>{if(!o.value)return!0;const se=o.value;if(se.checkValidity())return!0;const K=se.querySelector(":invalid");if(!K)return!0;const oe=K.closest("[data-tab]");if(oe){const re=oe.dataset.tab;if(re&&re!==l.value)return l.value=re,setTimeout(()=>{K.focus(),K.reportValidity()},50),!1}return K.focus(),K.reportValidity(),!1},ee=()=>{var oe,re;if(!P())return;const se=Y(d.status),K={title:d.title.trim(),slug:d.slug.trim(),short_desc:(oe=d.short_desc)!=null?oe:"",long_desc:(re=d.long_desc)!=null?re:"",status:se,active:se,featured:!!d.featured,images:N.buildPayloadImages(),categories:h.buildPayloadCategories(),variants:w.buildPayloadVariants(),product_type:m.value==="digital"?"digital":"physical"};i("submit",K)},O=()=>{i("cancel")};return(se,K)=>{var oe;return e.open?(A(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",onKeydown:gt(O,["esc"])},[K[11]||(K[11]=a("div",{class:"nxp-ec-modal__backdrop"},null,-1)),a("div",qC,[a("header",zC,[a("h2",QC,c(y.value==="edit"?r(s)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),a("div",ZC,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:O,disabled:e.saving,title:r(s)("JCANCEL","Cancel"),"aria-label":r(s)("JCANCEL","Cancel")},[K[9]||(K[9]=a("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),a("span",tA,c(r(s)("JCANCEL","Cancel")),1)],8,eA),a("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:ci,title:e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save"),"aria-label":e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save")},[a("i",{class:we(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),a("span",sA,c(e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save")),1)],8,nA),a("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:O,title:r(s)("JCLOSE","Close"),"aria-label":r(s)("JCLOSE","Close")},[K[10]||(K[10]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",oA,c(r(s)("JCLOSE","Close")),1)],8,aA)])]),a("form",{ref_key:"formRef",ref:o,id:ci,class:"nxp-ec-form",novalidate:"",onSubmit:ht(ee,["prevent"])},[e.errors.length?(A(),S("div",iA,[(A(!0),S(xe,null,ke(e.errors,(re,Oe)=>(A(),S("p",{key:Oe},c(re),1))),128))])):ie("",!0),a("nav",rA,[a("button",{type:"button",class:we(["nxp-ec-editor-tab",{"is-active":l.value==="general"}]),onClick:K[0]||(K[0]=re=>l.value="general")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General")),3),a("button",{type:"button",class:we(["nxp-ec-editor-tab",{"is-active":l.value==="variants"}]),onClick:K[1]||(K[1]=re=>l.value="variants")},c(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),3),a("button",{type:"button",class:we(["nxp-ec-editor-tab",{"is-active":l.value==="images"}]),onClick:K[2]||(K[2]=re=>l.value="images")},c(r(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),3),a("button",{type:"button",class:we(["nxp-ec-editor-tab",{"is-active":l.value==="categories"}]),onClick:K[3]||(K[3]=re=>l.value="categories")},c(r(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),3),u.value?(A(),S("button",{key:0,type:"button",class:we(["nxp-ec-editor-tab",{"is-active":l.value==="digital"}]),onClick:K[4]||(K[4]=re=>l.value="digital")},c(r(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital")),3)):ie("",!0)]),ne(ze(wg,{"data-tab":"general",form:d,translate:r(s),onSlugInput:B},null,8,["form","translate"]),[[Cn,l.value==="general"]]),ne(ze(jg,{"data-tab":"images",images:d.images,translate:r(s),onAddImage:r(N).addImage,onRemoveImage:r(N).removeImage,onMoveImage:r(N).moveImage,onUpdateImage:r(N).updateImage,onOpenMediaModal:r(f).openMediaModal},null,8,["images","translate","onAddImage","onRemoveImage","onMoveImage","onUpdateImage","onOpenMediaModal"]),[[Cn,l.value==="images"]]),ne(ze(aE,{"data-tab":"categories",categories:d.categories,"category-options":r(h).categoryOptionsList.value,"new-category-draft":r(h).newCategoryDraft.value,translate:r(s),onAddCategory:r(h).addCategory,onRemoveCategory:r(h).removeCategory,onUpdateSelection:r(h).handleCategorySelectionUpdate,"onUpdate:newCategoryDraft":K[5]||(K[5]=re=>r(h).newCategoryDraft.value=re)},null,8,["categories","category-options","new-category-draft","translate","onAddCategory","onRemoveCategory","onUpdateSelection"]),[[Cn,l.value==="categories"]]),ne(ze(dC,{"data-tab":"variants",variants:d.variants,"base-currency":_.value,"has-media-modal":r(f).hasMediaModal.value,"resolve-image-url":r(f).resolveImageUrl,translate:r(s),onAddVariant:r(w).addVariant,onRemoveVariant:r(w).removeVariant,onDuplicateVariant:r(w).duplicateVariant,onAddOption:r(w).addVariantOption,onRemoveOption:r(w).removeVariantOption,onFormatPrice:r(w).formatVariantPrice,onFormatSalePrice:r(w).formatVariantSalePrice,onOpenVariantMediaModal:r(f).openVariantMediaModal,onRemoveVariantImage:r(w).removeVariantImage},null,8,["variants","base-currency","has-media-modal","resolve-image-url","translate","onAddVariant","onRemoveVariant","onDuplicateVariant","onAddOption","onRemoveOption","onFormatPrice","onFormatSalePrice","onOpenVariantMediaModal","onRemoveVariantImage"]),[[Cn,l.value==="variants"]]),ne(ze(HC,{"data-tab":"digital",ref:"digitalFilesTabRef","product-id":(oe=n.product)==null?void 0:oe.id,files:r(E).digitalState.files,"variant-options":r(w).variantOptions.value,version:r(E).digitalState.version,"variant-id":r(E).digitalState.variantId,loading:r(E).digitalState.loading,uploading:r(E).digitalState.uploading,"deleting-id":r(E).digitalState.deletingId,error:r(E).digitalState.error,translate:r(s),onUpload:K[6]||(K[6]=()=>{var re;return r(E).uploadDigitalFile((re=n.product)==null?void 0:re.id)}),onDelete:r(E).deleteDigitalFile,onFileChange:r(E).handleFileChange,"onUpdate:version":K[7]||(K[7]=re=>r(E).digitalState.version=re),"onUpdate:variantId":K[8]||(K[8]=re=>r(E).digitalState.variantId=re)},null,8,["product-id","files","variant-options","version","variant-id","loading","uploading","deleting-id","error","translate","onDelete","onFileChange"]),[[Cn,l.value==="digital"]]),a("footer",lA,[a("button",{type:"button",class:"nxp-ec-btn",onClick:O,disabled:e.saving},c(r(s)("JCANCEL","Cancel")),9,cA),a("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},c(e.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("JSAVE","Save")),9,dA)])],544)])],32)):ie("",!0)}}},[["__scopeId","data-v-6e98b94f"]]),pA={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},_A={key:1,class:"nxp-ec-skeleton__table"},fA={key:2,class:"nxp-ec-skeleton__card"},mA={key:3,class:"nxp-ec-skeleton__circle"};function hA(e,t,n,i,s,o){return A(),S("div",{class:we(["nxp-ec-skeleton",o.skeletonClasses])},[n.type==="text"?(A(),S("div",{key:0,class:"nxp-ec-skeleton__line",style:xt({width:n.width})},null,4)):n.type==="table"?(A(),S("div",_A,[(A(!0),S(xe,null,ke(n.rows,l=>(A(),S("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(A(!0),S(xe,null,ke(n.columns,d=>(A(),S("div",{key:d,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):n.type==="card"?(A(),S("div",fA,[...t[0]||(t[0]=[nm('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):n.type==="circle"?(A(),S("div",mA)):(A(),S("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:xt({width:n.width,height:n.height})},null,4))],2)}const Kn=_t(pA,[["render",hA],["__scopeId","data-v-c8b9a887"]]),gA={class:"nxp-ec-admin-panel"},EA={class:"nxp-ec-admin-panel__header"},CA={class:"nxp-ec-admin-panel__title"},AA={class:"nxp-ec-admin-panel__lead"},SA={class:"nxp-ec-admin-panel__actions"},bA=["aria-label"],yA={value:null},TA=["value"],RA=["placeholder","aria-label"],OA=["disabled","title","aria-label"],xA={class:"nxp-ec-sr-only"},vA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},PA={key:1,class:"nxp-ec-admin-panel__body"},NA={key:2,class:"nxp-ec-admin-panel__body"},MA={key:0,class:"nxp-ec-admin-pagination"},IA=["disabled"],kA={class:"nxp-ec-admin-pagination__status"},$A=["disabled"],wA=["title"],jn=1,Sn=-1,Ps=0,DA={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""},checkoutProduct:{type:Function,default:null},checkinProduct:{type:Function,default:null},forceCheckinProduct:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["create","update","delete","refresh","search","page","filter-category","sort"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ve({mode:"create",product:null}),l=Ye(!1),d=Ye(null),p=Ae(()=>(n.baseCurrency||"USD").toUpperCase()),_=Ae(()=>o.product),m=Ae(()=>(n.mediaModalUrl||"").trim()),u=Ae(()=>n.digitalEndpoints||{}),y=Ae(()=>n.csrfToken||""),h=Ae(()=>Number(n.currentUserId||0)),w=(V,$=!1)=>{const g=Number(V);if(Number.isFinite(g))return g===Sn?Sn:g===Ps?Ps:jn;if($)return Sn;if(typeof V=="string"){const R=V.trim().toLowerCase();if(R==="out_of_stock"||R==="out-of-stock"||R==="-1")return Sn;if(R==="inactive"||R==="0")return Ps}return jn},I=(V,$=!1)=>{const g=w(V,$);return g===jn?Sn:g===Sn?Ps:jn},C=V=>(V==null?void 0:V.checked_out)&&Number(V.checked_out)!==0&&Number(V.checked_out)!==h.value,E=V=>{var g,R;if(!V)return"";const $=(R=(g=V.checked_out_user)==null?void 0:g.name)!=null?R:"";return $||(V.checked_out===h.value?s("JGLOBAL_YOU","You"):"")},f=async()=>{if(!d.value||!n.checkinProduct){d.value=null;return}try{await n.checkinProduct(d.value)}catch(V){}finally{d.value=null}},N=async()=>{await f(),n.state.validationErrors=[],n.state.error="",o.mode="create",o.product={title:"",slug:"",short_desc:"",long_desc:"",status:jn,active:!0,featured:!1,images:[],categories:[],variants:[],product_type:"physical"},l.value=!0},x=async V=>{await f(),n.state.validationErrors=[],n.state.error="",o.mode="edit";const $=JSON.parse(JSON.stringify(V));$.product_type||($.product_type="physical");const g=E(V);if(C(V)){if(!await B(V,g)){n.state.error=g!==""?s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT","This product is currently checked out by %s.",[g]):s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","This product is currently checked out by another user.");return}return}if(V!=null&&V.id&&n.checkoutProduct)try{const R=await n.checkoutProduct(V.id);if(R){d.value=R.id,o.product=JSON.parse(JSON.stringify(R)),l.value=!0;return}}catch(R){n.state.error=(R==null?void 0:R.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to edit this product right now.");return}o.product=$,l.value=!0},B=async(V,$="")=>{if(!(V!=null&&V.id)||typeof n.forceCheckinProduct!="function")return null;const g=s("COM_NXPEASYCART_FORCE_CHECKIN_PRODUCT","This product is checked out by %s. Force check-in?",[$||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(g))return null;try{const R=await n.forceCheckinProduct(V.id);if(R)return d.value=R.id,o.product=JSON.parse(JSON.stringify(R)),l.value=!0,R}catch(R){n.state.error=(R==null?void 0:R.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to check in this product.")}return null},Y=async()=>{await f(),l.value=!1,n.state.validationErrors=[]},b=async V=>{var R,L;const $=w((R=V.status)!=null?R:V.active,V.out_of_stock),g={...V,status:$,active:$,featured:V.featured?1:0,product_type:typeof V.product_type=="string"&&V.product_type.trim()||"physical"};o.mode==="edit"&&((L=o.product)!=null&&L.id)?i("update",{id:o.product.id,data:g}):i("create",g)},P=async V=>{var R;const $=(R=V==null?void 0:V.title)!=null?R:"",g=s("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[$||"#"]);window.confirm(g)&&i("delete",[V.id])},ee=V=>{var j;if(!(V!=null&&V.id)||n.state.saving)return;const $=I((j=V.status)!=null?j:V.active,V.out_of_stock),g=X=>X==null?"":String(X),R=(X,de=0)=>{const Ee=Number(X);return Number.isFinite(Ee)?Ee:de},L=Array.isArray(V.variants)?V.variants.map(X=>{var $e,T;if(!X)return null;const de=g(X.sku).trim();if(!de)return null;let Ee=R(X.price_cents,Number.NaN);if(!Number.isFinite(Ee)){const v=g(X.price),G=v?Number.parseFloat(v):NaN;Ee=Number.isFinite(G)?Math.round(G*100):NaN}if(!Number.isFinite(Ee))return null;const be=g(($e=X.currency)!=null?$e:p.value).trim().toUpperCase();if(!be)return null;const J=(T=X.options)!=null?T:null,_e=Math.max(0,Math.round(R(X.stock,0)));let Te=null;return Array.isArray(X.images)&&X.images.length>0&&(Te=X.images.map(v=>g(v).trim()).filter(v=>v!==""),Te.length===0&&(Te=null)),{id:R(X.id,0),sku:de,price_cents:Math.round(Ee),currency:be,stock:_e,options:J!=null?J:null,weight:X.weight!==null&&X.weight!==void 0&&X.weight!==""?String(X.weight):null,active:X.active===void 0?!0:!!X.active,is_digital:X.is_digital===void 0?!1:!!X.is_digital,images:Te}}).filter(Boolean):[];if(!L.length){n.state.error=s("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const H=Array.isArray(V.categories)?V.categories.map(X=>{if(X==null)return null;if(typeof X=="number")return X>0?{id:X,title:"",slug:""}:null;if(typeof X=="string"&&X.trim()!==""&&Number.isFinite(Number(X))){const Ee=Number(X);return Ee>0?{id:Ee,title:"",slug:""}:null}if(typeof X=="object"){if(X.id){const be=R(X.id,0);return be>0?{id:be,title:"",slug:""}:null}return R(X.id,0)<=0&&!X.title?null:{id:0,title:g(X.title),slug:g(X.slug)}}const de=g(X).trim();return de?{id:0,title:de,slug:""}:null}).filter(Boolean):[],F=Array.isArray(V.images)?V.images.map(X=>g(X).trim()).map(X=>{var J,_e,Te;let de=X;if(!de)return"";const Ee=de.indexOf("#joomlaImage://");Ee!==-1&&(de=de.substring(0,Ee));const be=de.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(be&&be[1]&&(de=be[1]),typeof window!="undefined")try{const $e=(Te=(_e=(J=window.Joomla)==null?void 0:J.getOptions)==null?void 0:_e.call(J,"system.paths",{}))!=null?Te:{},T=$e.rootFull||window.location.origin,v=$e.root||"/";de.startsWith(T)&&(de=de.substring(T.length)),de.startsWith(v)&&(de=de.substring(v.length))}catch($e){}return de.trim()}).filter(X=>X!==""):[];n.state.error="",i("update",{id:V.id,data:{title:g(V.title),slug:g(V.slug),short_desc:g(V.short_desc),long_desc:g(V.long_desc),status:$,active:$,featured:V.featured?1:0,images:F,variants:L,categories:H,product_type:typeof V.product_type=="string"&&V.product_type.trim()||"physical"}})},O=()=>{i("refresh")},se=()=>{i("search")},K=()=>{i("filter-category",n.state.categoryId)},oe=V=>{i("sort",V)},re=V=>{i("page",V)},Oe=V=>{if(!V)return"";try{const $=new Date(V),R=new Date-$,L=Math.floor(R/1e3),H=Math.floor(L/60),F=Math.floor(H/60);return L<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):H<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[H]):F<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[F]):$.toLocaleString()}catch($){return V}};return wn(()=>{f()}),qe(()=>n.state.saving,(V,$)=>{$&&!V&&l.value&&!n.state.validationErrors.length&&!n.state.error&&Y()}),(V,$)=>{var g;return A(),S("section",gA,[a("header",EA,[a("div",null,[a("h2",CA,c(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),a("p",AA,c(r(s)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),a("div",SA,[ne(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":$[0]||($[0]=R=>e.state.categoryId=R),onChange:K,"aria-label":r(s)("COM_NXPEASYCART_PRODUCTS_FILTER_CATEGORY","Filter by category",[],"productsFilterCategory")},[a("option",yA,c(r(s)("COM_NXPEASYCART_PRODUCTS_ALL_CATEGORIES","All categories")),1),(A(!0),S(xe,null,ke(e.categoryOptions,R=>(A(),S("option",{key:R.id,value:R.id},c(R.title),9,TA))),128))],40,bA),[[pt,e.state.categoryId]]),ne(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":$[1]||($[1]=R=>e.state.search=R),onKeyup:gt(se,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,RA),[[Ce,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:O,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[$[4]||($[4]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",xA,c(r(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,OA),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:N},[$[5]||($[5]=a("i",{class:"fa-solid fa-plus"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(A(),S("div",vA,c(e.state.error),1)):ie("",!0),e.state.loading?(A(),S("div",PA,[ze(Kn,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(A(),S("div",NA,[ze(cg,{items:e.state.items,translate:r(s),"base-currency":p.value,saving:e.state.saving,"current-user-id":h.value,"sort-column":e.state.sort,"sort-direction":e.state.sortDir,onEdit:x,onDelete:P,onToggleActive:ee,onSort:oe},null,8,["items","translate","base-currency","saving","current-user-id","sort-column","sort-direction"]),((g=e.state.pagination)==null?void 0:g.pages)>1?(A(),S("div",MA,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:$[2]||($[2]=R=>re(e.state.pagination.current-1))},"  ",8,IA),a("span",kA,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:$[3]||($[3]=R=>re(e.state.pagination.current+1))},"  ",8,$A)])):ie("",!0),e.state.lastUpdated?(A(),S("div",{key:1,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(Oe(e.state.lastUpdated)),9,wA)):ie("",!0)])),ze(uA,{open:l.value,product:_.value,saving:e.state.saving,"base-currency":p.value,translate:r(s),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":m.value,"digital-endpoints":u.value,"csrf-token":y.value,onSubmit:b,onCancel:Y},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url","digital-endpoints","csrf-token"])])}}},LA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},YA={class:"nxp-ec-admin-panel__header"},UA={class:"nxp-ec-admin-panel__title"},XA={class:"nxp-ec-admin-panel__lead"},FA={class:"nxp-ec-admin-panel__actions"},GA=["placeholder","aria-label"],VA=["disabled","title","aria-label"],HA={class:"nxp-ec-sr-only"},BA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},KA={key:1,class:"nxp-ec-admin-panel__body"},jA={key:2,class:"nxp-ec-admin-panel__body"},JA={class:"nxp-ec-admin-panel__table"},WA={class:"nxp-ec-admin-table"},qA={scope:"col"},zA={scope:"col"},QA={scope:"col"},ZA={scope:"col"},eS={scope:"col"},tS={key:0},nS={colspan:"6"},sS={scope:"row",class:"nxp-ec-admin-table__primary"},aS={key:0,class:"nxp-ec-admin-table__meta"},oS={class:"nxp-ec-status nxp-ec-status--muted"},iS=["data-label"],rS=["data-label"],lS=["data-label"],cS=["data-label"],dS={class:"nxp-ec-admin-table__actions"},uS=["onClick","title","disabled","aria-label"],pS={class:"nxp-ec-sr-only"},_S=["disabled","onClick","title","aria-label"],fS={class:"nxp-ec-sr-only"},mS={key:0,class:"nxp-ec-admin-pagination"},hS=["disabled"],gS={class:"nxp-ec-admin-pagination__status"},ES=["disabled"],CS=["title"],AS={class:"nxp-ec-modal__dialog"},SS={class:"nxp-ec-modal__header"},bS={id:"category-modal-title",class:"nxp-ec-modal__title"},yS=["title","aria-label"],TS={class:"nxp-ec-sr-only"},RS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},OS={class:"nxp-ec-form-field"},xS={class:"nxp-ec-form-label",for:"category-title"},vS={class:"nxp-ec-form-field"},PS={class:"nxp-ec-form-label",for:"category-slug"},NS={class:"nxp-ec-form-field"},MS={class:"nxp-ec-form-label",for:"category-parent"},IS={value:""},kS=["value"],$S={class:"nxp-ec-form-field"},wS={class:"nxp-ec-form-label",for:"category-sort"},DS={class:"nxp-ec-modal__actions"},LS=["disabled"],YS=_t({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null},checkoutCategory:{type:Function,default:null},checkinCategory:{type:Function,default:null},forceCheckinCategory:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ye(!1),l=Ye(!1),d=Ye([]),p=Ye(null),_=Ae(()=>Number(n.currentUserId||0)),m=$=>{const R=(Array.isArray($)?$:[]).map(J=>{var _e,Te,$e,T,v;return{...J,id:Number.parseInt((_e=J==null?void 0:J.id)!=null?_e:0,10)||0,parent_id:(J==null?void 0:J.parent_id)!=null&&Number.parseInt(J.parent_id,10)||0,sort:Number.parseInt((Te=J==null?void 0:J.sort)!=null?Te:0,10)||0,title:String(($e=J==null?void 0:J.title)!=null?$e:"").trim(),slug:String((T=J==null?void 0:J.slug)!=null?T:"").trim(),usage:(v=J==null?void 0:J.usage)!=null?v:0}}).filter(J=>J.id>0||J.title!==""),L=new Set(R.map(J=>J.id));R.forEach(J=>{L.has(J.parent_id)||(J.parent_id=0)});const H=new Map,F=new Map;R.forEach(J=>{F.set(J.id,J);const _e=J.parent_id||0;H.has(_e)||H.set(_e,[]),H.get(_e).push(J)});const j=J=>J.sort((_e,Te)=>{var $e,T;return(($e=_e.sort)!=null?$e:0)-((T=Te.sort)!=null?T:0)||_e.title.localeCompare(Te.title,void 0,{sensitivity:"base"})});H.forEach(j);const X=new Set,de=[],Ee=(J,_e,Te)=>{if(!J||X.has(J.id)||Te.includes(J.id))return;const $e=[...Te],T=$e.map(ae=>{var Q;return(Q=F.get(ae))==null?void 0:Q.title}).filter(Boolean),v={...J,depth:_e,path:T.join(" / "),ancestors:$e,indentedTitle:_e>0?`${" ".repeat(_e)}${J.title}`:J.title};de.push(v),X.add(J.id),(H.get(J.id)||[]).forEach(ae=>Ee(ae,_e+1,[...Te,J.id]))},be=R.filter(J=>J.parent_id===0||!L.has(J.parent_id));return j(be),be.forEach(J=>Ee(J,0,[])),R.forEach(J=>{X.has(J.id)||Ee(J,0,[])}),de},u=$=>($==null?void 0:$.checked_out)&&Number($.checked_out)!==0&&Number($.checked_out)!==_.value,y=$=>{var F,j;if(!$)return"";const g=Number($.checked_out)||0,R=$.checked_out_user&&$.checked_out_user.id?Number($.checked_out_user.id):0,L=g||R;if(L!==0&&L===_.value)return s("JGLOBAL_YOU","You");const H=(j=(F=$.checked_out_user)==null?void 0:F.name)!=null?j:"";return H||""},h=$=>s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[y($)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]),w=async()=>{if(!p.value||!n.checkinCategory){p.value=null;return}try{await n.checkinCategory(p.value)}catch($){}finally{p.value=null}},I=Ae(()=>{var $,g;return m((g=($=n.state)==null?void 0:$.items)!=null?g:[])}),C=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),E=Ve(C()),f=Ae(()=>{var g,R;const $=(R=Array.isArray(d.value)&&d.value.length?d.value:(g=n.state)==null?void 0:g.items)!=null?R:[];return m($).filter(L=>L.id>0&&L.id!==E.id&&!(Array.isArray(L.ancestors)&&L.ancestors.includes(E.id))).map(L=>({id:L.id,title:L.title,label:L.depth>0?`${" ".repeat(L.depth)}${L.title}`:L.title}))}),N=()=>{Object.assign(E,C()),l.value=!1},x=$=>$?$.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",B=()=>{l.value=!0,E.slug=x(E.slug)};qe(()=>E.title,$=>{l.value||(E.slug=x($))});const Y=async($=0)=>{if(typeof n.loadOptions!="function"){d.value=Array.isArray(n.state.items)?[...n.state.items]:[];return}try{const g=await n.loadOptions();d.value=Array.isArray(g)?[...g]:[]}catch(g){d.value=[]}d.value=d.value.filter(g=>{var L,H;return(Number.parseInt((H=(L=g==null?void 0:g.id)!=null?L:g==null?void 0:g.value)!=null?H:0,10)||0)!==$})},b=async()=>{await w(),n.state.error="",n.state.validationErrors=[],N(),await Y(),o.value=!0},P=async $=>{var L,H,F,j;if(!$)return;n.state.error="",n.state.validationErrors=[];const g=y($);if(u($)){if(!await ee($,g)){n.state.error=g!==""?s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT","This category is currently checked out by %s.",[g]):s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","This category is currently checked out by another user.");return}return}await w();let R=$;if($!=null&&$.id&&n.checkoutCategory)try{const X=await n.checkoutCategory($.id);X&&(p.value=X.id,R=X)}catch(X){n.state.error=(X==null?void 0:X.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to edit this category right now.");return}E.id=Number.parseInt((L=R.id)!=null?L:0,10)||0,E.title=String((H=R.title)!=null?H:"").trim(),E.slug=String((F=R.slug)!=null?F:"").trim(),E.parent_id=R.parent_id!=null&&Number.parseInt(R.parent_id,10)||null,E.sort=Number.parseInt((j=R.sort)!=null?j:0,10)||0,l.value=!!E.slug,await Y(E.id),o.value=!0},ee=async($,g="")=>{var L,H,F,j;if(!($!=null&&$.id)||typeof n.forceCheckinCategory!="function")return null;const R=s("COM_NXPEASYCART_FORCE_CHECKIN_CATEGORY","This category is checked out by %s. Force check-in?",[g||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(R))return null;try{const X=await n.forceCheckinCategory($.id);if(X)return p.value=X.id,E.id=Number.parseInt((L=X.id)!=null?L:0,10)||0,E.title=String((H=X.title)!=null?H:"").trim(),E.slug=String((F=X.slug)!=null?F:"").trim(),E.parent_id=X.parent_id!=null&&Number.parseInt(X.parent_id,10)||null,E.sort=Number.parseInt((j=X.sort)!=null?j:0,10)||0,l.value=!!E.slug,await Y(E.id),o.value=!0,X}catch(X){n.state.error=(X==null?void 0:X.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to check in this category.")}return null},O=async()=>{o.value=!1,await w(),N()},se=()=>{i("refresh")},K=()=>{i("search")},oe=$=>{i("page",$)},re=()=>{const $={id:E.id||void 0,title:E.title.trim(),slug:E.slug.trim(),parent_id:E.parent_id||null,sort:Number.isFinite(E.sort)?E.sort:0};i("save",$)},Oe=$=>{if(!$||!$.id)return;const g=s("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(g)||i("delete",[$.id])},V=$=>{if(!$)return"";try{const g=new Date($),L=new Date-g,H=Math.floor(L/1e3),F=Math.floor(H/60),j=Math.floor(F/60);return H<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):F<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[F]):j<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[j]):g.toLocaleString()}catch(g){return $}};return wn(()=>{w()}),qe(()=>{var $;return($=n.state)==null?void 0:$.saving},async($,g)=>{var R,L,H;g&&!$&&(((L=(R=n.state)==null?void 0:R.validationErrors)!=null?L:[]).length>0||(H=n.state)!=null&&H.error||(await w(),o.value=!1,N()))}),($,g)=>(A(),S("section",LA,[a("header",YA,[a("div",null,[a("h2",UA,c(r(s)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),a("p",XA,c(r(s)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),a("div",FA,[ne(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":g[0]||(g[0]=R=>e.state.search=R),onKeyup:gt(K,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,GA),[[Ce,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:se,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[g[7]||(g[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",HA,c(r(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,VA),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:b},[g[8]||(g[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(A(),S("div",BA,c(e.state.error),1)):ie("",!0),e.state.loading?(A(),S("div",KA,[ze(Kn,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(A(),S("div",jA,[a("div",JA,[a("table",WA,[a("thead",null,[a("tr",null,[a("th",qA,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),a("th",zA,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),a("th",QA,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),a("th",ZA,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),a("th",eS,c(r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),g[9]||(g[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?ie("",!0):(A(),S("tr",tS,[a("td",nS,c(r(s)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(A(!0),S(xe,null,ke(I.value,R=>{var L;return A(),S("tr",{key:R.id,class:we({"is-active":E.id===R.id})},[a("th",sS,[a("span",{style:xt({paddingLeft:`${R.depth*1.5}rem`})},c(R.indentedTitle),5),R.checked_out?(A(),S("div",aS,[a("span",oS,[g[10]||(g[10]=a("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),Se(" "+c(h(R)),1)])])):ie("",!0)]),a("td",{"data-label":r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},c(R.slug||""),9,iS),a("td",{"data-label":r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},c(R.path||r(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,rS),a("td",{"data-label":r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},c(R.sort),9,lS),a("td",{"data-label":r(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},c((L=R.usage)!=null?L:0),9,cS),a("td",dS,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:H=>P(R),title:r(s)("JEDIT","Edit"),disabled:e.state.saving,"aria-label":r(s)("JEDIT","Edit")},[g[11]||(g[11]=a("i",{class:"fa-solid fa-pen-to-square"},null,-1)),a("span",pS,c(r(s)("JEDIT","Edit")),1)],8,uS),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting||u(R),onClick:H=>Oe(R),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[g[12]||(g[12]=a("i",{class:"fa-solid fa-trash"},null,-1)),a("span",fS,c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,_S)])],2)}),128))])]),e.state.pagination.pages>1?(A(),S("div",mS,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:g[1]||(g[1]=R=>oe(e.state.pagination.current-1))},"  ",8,hS),a("span",gS,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:g[2]||(g[2]=R=>oe(e.state.pagination.current+1))},"  ",8,ES)])):ie("",!0)]),e.state.lastUpdated?(A(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(V(e.state.lastUpdated)),9,CS)):ie("",!0),o.value?(A(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"category-modal-title",onKeydown:gt(O,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop",onClick:O}),a("div",AS,[a("header",SS,[a("h3",bS,c(E.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:O,title:r(s)("JCLOSE","Close"),"aria-label":r(s)("JCLOSE","Close")},[g[13]||(g[13]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",TS,c(r(s)("JCLOSE","Close")),1)],8,yS)]),a("form",{class:"nxp-ec-form",onSubmit:ht(re,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(A(),S("div",RS,[a("ul",null,[(A(!0),S(xe,null,ke(e.state.validationErrors,(R,L)=>(A(),S("li",{key:L},c(R),1))),128))])])):ie("",!0),a("div",OS,[a("label",xS,c(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),ne(a("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[3]||(g[3]=R=>E.title=R),required:"",maxlength:"255"},null,512),[[Ce,E.title,void 0,{trim:!0}]])]),a("div",vS,[a("label",PS,c(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),ne(a("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[4]||(g[4]=R=>E.slug=R),maxlength:"190",onInput:B},null,544),[[Ce,E.slug,void 0,{trim:!0}]])]),a("div",NS,[a("label",MS,c(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),ne(a("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":g[5]||(g[5]=R=>E.parent_id=R)},[a("option",IS,c(r(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(A(!0),S(xe,null,ke(f.value,R=>(A(),S("option",{key:R.id,value:R.id},c(R.label),9,kS))),128))],512),[[pt,E.parent_id,void 0,{number:!0}]])]),a("div",$S,[a("label",wS,c(r(s)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),ne(a("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":g[6]||(g[6]=R=>E.sort=R),min:"0",step:"1"},null,512),[[Ce,E.sort,void 0,{number:!0}]])]),a("footer",DS,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[g[14]||(g[14]=a("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,LS),a("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:O},[g[15]||(g[15]=a("i",{class:"fa-solid fa-ban"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-0bba5030"]]),US={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},XS={class:"nxp-ec-admin-panel__header"},FS={class:"nxp-ec-admin-panel__title"},GS={class:"nxp-ec-admin-panel__lead"},VS={class:"nxp-ec-admin-panel__actions"},HS=["placeholder","aria-label"],BS=["aria-label"],KS={value:""},jS=["value"],JS=["disabled","title","aria-label"],WS={class:"nxp-ec-sr-only"},qS=["disabled","title","aria-label"],zS={class:"nxp-ec-sr-only"},QS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ZS={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},eb={key:2,class:"nxp-ec-admin-panel__body"},tb={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},nb={class:"nxp-ec-admin-panel__table"},sb={key:0,class:"nxp-ec-admin-panel__selection"},ab=["aria-label"],ob={value:""},ib=["value"],rb=["disabled"],lb=["title","aria-label"],cb={class:"nxp-ec-sr-only"},db={class:"nxp-ec-admin-table"},ub={scope:"col",class:"nxp-ec-admin-table__select"},pb={scope:"col"},_b={scope:"col"},fb={scope:"col"},mb={scope:"col"},hb={scope:"col"},gb={scope:"col",class:"nxp-ec-admin-table__actions"},Eb={key:0},Cb={colspan:"7"},Ab={class:"nxp-ec-admin-table__select"},Sb=["checked","onChange","disabled","aria-label"],bb={scope:"row",class:"nxp-ec-admin-table__primary"},yb=["onClick","disabled"],Tb={key:0,class:"nxp-ec-admin-table__meta"},Rb={class:"nxp-ec-status nxp-ec-status--muted"},Ob=["data-label"],xb={class:"nxp-ec-admin-table__meta"},vb=["data-label"],Pb=["data-label"],Nb={class:"nxp-ec-badge"},Mb=["title"],Ib=["data-label"],kb={class:"nxp-ec-admin-table__actions"},$b=["onUpdate:modelValue","disabled","aria-label"],wb=["value"],Db=["value"],Lb=["disabled","onClick"],Yb=["aria-label"],Ub=["disabled","aria-label"],Xb={class:"nxp-ec-admin-pagination__status","aria-current":"page"},Fb=["disabled","aria-label"],Gb=["title"],Vb={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Hb={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},Bb={class:"nxp-ec-admin-panel__sidebar-header"},Kb={id:"order-modal-title"},jb=["title","aria-label"],Jb={class:"nxp-ec-sr-only"},Wb={class:"nxp-ec-admin-panel__sidebar-content"},qb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},zb={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},Qb={key:2,class:"nxp-ec-admin-panel__section"},Zb={class:"nxp-ec-admin-copy"},ey=["value"],ty=["disabled"],ny={key:0,class:"nxp-ec-admin-panel__muted"},sy={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},ay=["disabled"],oy={key:0,class:"nxp-ec-admin-panel__muted"},iy={class:"nxp-ec-admin-panel__section"},ry={class:"nxp-ec-admin-list"},ly={class:"nxp-ec-admin-list__title"},cy={class:"nxp-ec-admin-list__meta"},dy={key:3,class:"nxp-ec-admin-panel__section"},uy={class:"nxp-ec-admin-panel__section-header"},py=["disabled"],_y={key:0,class:"nxp-ec-admin-panel__muted"},fy={class:"nxp-ec-download-list"},my={class:"nxp-ec-download-card__meta"},hy={class:"nxp-ec-admin-list__title"},gy={class:"nxp-ec-admin-panel__muted"},Ey={class:"nxp-ec-download-card__actions"},Cy=["disabled","onClick","title"],Ay=["onClick"],Sy=["href"],by={class:"nxp-ec-admin-panel__section"},yy={class:"nxp-ec-admin-panel__total"},Ty={class:"nxp-ec-admin-panel__addresses"},Ry={class:"nxp-ec-admin-panel__section"},Oy={class:"nxp-ec-admin-address"},xy={class:"nxp-ec-admin-panel__section"},vy={key:0,class:"nxp-ec-admin-address"},Py={key:1,class:"nxp-ec-admin-panel__muted"},Ny={class:"nxp-ec-admin-panel__section"},My={class:"nxp-ec-form-field"},Iy={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},ky={class:"nxp-ec-form-field"},$y={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},wy={class:"nxp-ec-form-field"},Dy={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},Ly={key:0,class:"nxp-ec-form-checkbox"},Yy={class:"nxp-ec-admin-form__actions"},Uy=["disabled"],Xy={key:4,class:"nxp-ec-admin-panel__section"},Fy={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},Gy=["disabled"],Vy=["disabled"],Hy={key:5,class:"nxp-ec-admin-panel__section"},By={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},Ky={class:"nxp-ec-form-field"},jy={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},Jy=["placeholder"],Wy={class:"nxp-ec-form-help"},qy={class:"nxp-ec-form-field"},zy={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},Qy=["placeholder"],Zy={class:"nxp-ec-form-field"},eT={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},tT={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},nT=["disabled"],sT={key:6,class:"nxp-ec-admin-panel__section"},aT={class:"nxp-ec-admin-list"},oT={class:"nxp-ec-admin-list__title"},iT={class:"nxp-ec-admin-list__meta"},rT={class:"nxp-ec-admin-panel__section"},lT=["placeholder"],cT={class:"nxp-ec-admin-form__actions"},dT=["disabled"],uT={class:"nxp-ec-admin-panel__section"},pT={key:0,class:"nxp-ec-admin-list"},_T={class:"nxp-ec-admin-list__title"},fT={class:"nxp-ec-admin-list__meta"},mT={key:1,class:"nxp-ec-admin-panel__muted"},hT=_t({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""},currentUserId:{type:Number,default:0},forceCheckinOrder:{type:Function,default:null}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ae(()=>Number(n.currentUserId||0)),l=Ve({}),d=Ye(""),p=Ye(""),_=Ae(()=>p.value.trim().length>0),m=Ye(""),u=Ye(""),y=Ve({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),h=Ve({amount:null,reference:"",note:""}),w=Ae(()=>{var D;const M=(D=n.state)==null?void 0:D.selection;return!M||typeof M.values!="function"?[]:Array.from(M.values())}),I=Ae(()=>w.value.length>0),C=Ae(()=>{var fe;const M=(fe=n.state)==null?void 0:fe.activeOrder;if(!M)return!1;const D=["cod","bank_transfer"],ue=String(M.payment_method||"").toLowerCase();return M.state==="pending"&&D.includes(ue)}),E=Ae(()=>{var ue,fe;const M=(ue=n.state)==null?void 0:ue.activeOrder;return M?["paid","fulfilled"].includes(M.state)&&((fe=M.downloads)==null?void 0:fe.length)>0:!1});Ae(()=>C.value);const f=M=>(M==null?void 0:M.checked_out)&&Number(M.checked_out)!==0&&Number(M.checked_out)!==o.value,N=M=>{var fe,U;const D=(U=(fe=M==null?void 0:M.checked_out_user)==null?void 0:fe.name)!=null?U:"",ue=(M==null?void 0:M.checked_out)===o.value?s("JGLOBAL_YOU","You"):D||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user");return s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[ue])},x=Ae(()=>{var M;return f((M=n.state)==null?void 0:M.activeOrder)});qe(w,M=>{M.length||(d.value="")}),wn(()=>{de()}),qe(()=>n.state.activeOrder,M=>{var D,ue,fe;p.value="",m.value="",y.carrier=(D=M==null?void 0:M.carrier)!=null?D:"",y.tracking_number=(ue=M==null?void 0:M.tracking_number)!=null?ue:"",y.tracking_url=(fe=M==null?void 0:M.tracking_url)!=null?fe:"",y.markFulfilled=!1,h.amount=null,h.reference="",h.note="",u.value=""},{immediate:!0}),qe(()=>n.state.items,M=>{Array.isArray(M)&&M.forEach(D=>{!D||typeof D.id=="undefined"||l[D.id]||(l[D.id]=D.state)})},{immediate:!0}),qe(()=>n.state.transitionError,M=>{var ue;if(!M)return;const D=(ue=n.state)==null?void 0:ue.items;Array.isArray(D)&&D.forEach(fe=>{fe!=null&&fe.id&&fe.state&&(l[fe.id]=fe.state)})});const B=(M,D)=>{const ue=(Number(M)||0)/100,fe=(D||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:fe}).format(ue)}catch(U){return`${fe} ${ue.toFixed(2)}`}},Y=M=>{if(!M)return"";const D=new Date(M);return Number.isNaN(D.getTime())?M:D.toLocaleString()},b=M=>M?{payment_amount_mismatch:s("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[M]||M:s("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),P=M=>M===1?s("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):s("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(M)]),ee=M=>{if(!M)return"";const D=`COM_NXPEASYCART_ORDERS_STATE_${String(M).toUpperCase()}`;return s(D,M)},O=M=>n.state.orderStates.filter(D=>D!==M.state),se=M=>(l[M.id]||M.state)!==M.state,K=()=>{var M;return n.siteRoot&&n.siteRoot.trim()!==""?n.siteRoot.trim():typeof window!="undefined"&&((M=window.location)!=null&&M.origin)?window.location.origin:""},oe=Ae(()=>{var He,Le;const M=(Le=(He=n.state)==null?void 0:He.activeOrder)!=null?Le:{},D=String(M.public_token||"").trim(),ue=String(M.order_no||"").trim();if(!D)return"";const fe=K();if(!fe)return"";const U=fe.endsWith("/")?"":"/",Pe=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:D});return ue&&Pe.set("no",ue),`${fe}${U}index.php?${Pe.toString()}`}),re=async()=>{var M;if(oe.value){try{if(!((M=navigator==null?void 0:navigator.clipboard)!=null&&M.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(oe.value),m.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(D){try{const ue=document.createElement("textarea");ue.value=oe.value,ue.setAttribute("readonly",""),ue.style.position="absolute",ue.style.left="-9999px",document.body.appendChild(ue),ue.select(),document.execCommand("copy"),document.body.removeChild(ue),m.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(ue){m.value=s("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}m.value&&setTimeout(()=>{m.value=""},2e3)}},Oe=M=>{var fe,U;const D=Number((fe=M==null?void 0:M.download_count)!=null?fe:0),ue=Number((U=M==null?void 0:M.max_downloads)!=null?U:0);if(ue>0){const Pe=Math.max(0,ue-D);return s("COM_NXPEASYCART_ORDER_DOWNLOADS_REMAINING","%d downloads remaining",[Pe])}return s("COM_NXPEASYCART_ORDER_DOWNLOADS_UNLIMITED","Unlimited downloads")},V=M=>M!=null&&M.expires_at?s("COM_NXPEASYCART_ORDER_DOWNLOADS_EXPIRES","Expires %s",[M.expires_at]):s("JNONE","No expiry"),$=async M=>{var ue;const D=M==null?void 0:M.url;if(D){try{if(!((ue=navigator==null?void 0:navigator.clipboard)!=null&&ue.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(D),u.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(fe){try{const U=document.createElement("textarea");U.value=D,U.setAttribute("readonly",""),U.style.position="absolute",U.style.left="-9999px",document.body.appendChild(U),U.select(),document.execCommand("copy"),document.body.removeChild(U),u.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(U){u.value=s("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.")}}u.value&&setTimeout(()=>{u.value=""},2e3)}},g=Ae(()=>{var D,ue,fe,U,Pe;const M=(ue=(D=n.state)==null?void 0:D.activeOrder)!=null?ue:{};return y.carrier!==((fe=M.carrier)!=null?fe:"")||y.tracking_number!==((U=M.tracking_number)!=null?U:"")||y.tracking_url!==((Pe=M.tracking_url)!=null?Pe:"")||y.markFulfilled}),R=M=>!M||typeof M!="object"?[]:Object.entries(M).filter(([,D])=>D!=null&&`${D}`.trim()!=="").map(([D,ue])=>({key:D,value:`${ue}`.trim()})),L=()=>{i("refresh")},H=()=>{i("export")},F=()=>{i("search")},j=()=>{i("filter",n.state.filterState)},X=async M=>{M&&(f(M)&&!await Ee(M)||i("view",M))},de=()=>{i("close")},Ee=async M=>{var ue;if(!(M!=null&&M.id)||typeof n.forceCheckinOrder!="function")return null;const D=s("COM_NXPEASYCART_FORCE_CHECKIN_ORDER","This order is checked out by %s. Force check-in?",[((ue=M.checked_out_user)==null?void 0:ue.name)||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(D))return null;try{return await n.forceCheckinOrder(M.id)}catch(fe){return state.transitionError=(fe==null?void 0:fe.message)||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","Unable to check in this order."),null}},be=M=>{if(!M||f(M))return;const D=l[M.id]||M.state;D!==M.state&&i("transition",{id:M.id,state:D})},J=M=>{i("page",M)},_e=M=>{var D,ue,fe,U;return(U=(fe=(ue=(D=n.state)==null?void 0:D.selection)==null?void 0:ue.has)==null?void 0:fe.call(ue,M))!=null?U:!1},Te=M=>{var ue,fe,U,Pe;const D=(Pe=(U=(fe=(ue=n.state)==null?void 0:ue.items)==null?void 0:fe.find)==null?void 0:U.call(fe,He=>He.id===M))!=null?Pe:null;f(D)||i("toggle-selection",M)},$e=()=>{d.value="",i("clear-selection")},T=()=>{if(!I.value||!d.value)return;const M=[...w.value].filter(D=>{var fe,U,Pe,He;const ue=(He=(Pe=(U=(fe=n.state)==null?void 0:fe.items)==null?void 0:U.find)==null?void 0:Pe.call(U,Le=>Le.id===D))!=null?He:null;return!f(ue)});M.length&&i("bulk-transition",{ids:M,state:d.value})},v=()=>{if(!n.state.activeOrder||x.value)return;const M=p.value.trim();M&&(i("add-note",{id:n.state.activeOrder.id,message:M}),p.value="")},G=()=>{n.state.activeOrder&&i("invoice",n.state.activeOrder.id)},ae=()=>{!n.state.activeOrder||!g.value||x.value||(i("save-tracking",{id:n.state.activeOrder.id,carrier:y.carrier,tracking_number:y.tracking_number,tracking_url:y.tracking_url,mark_fulfilled:y.markFulfilled}),y.markFulfilled=!1)},Q=M=>{!n.state.activeOrder||x.value||i("send-email",{id:n.state.activeOrder.id,type:M})},te=()=>{if(!n.state.activeOrder||!C.value||x.value)return;const M=n.state.activeOrder,D=h.amount!==null&&h.amount!==""?Math.round(Number(h.amount)*100):M.total_cents;i("record-payment",{id:M.id,amountCents:D,reference:h.reference,note:h.note}),h.amount=null,h.reference="",h.note=""},z=()=>{!n.state.activeOrder||!E.value||x.value||i("resend-downloads",{id:n.state.activeOrder.id})},q=M=>{!n.state.activeOrder||!(M!=null&&M.id)||x.value||i("reset-download",{download_id:M.id,order_id:n.state.activeOrder.id})},Z=M=>{var fe;const D=(fe=n.state)==null?void 0:fe.activeOrder;return D?(D.timeline||D.audit||[]).some(U=>{var Pe;return U.action==="order.email.sent"?((Pe=U.context)==null?void 0:Pe.type)===M:!1}):!1},W=Ae(()=>s("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(w.value.length)],"ordersSelectedCount")),ge=M=>{var D,ue,fe,U,Pe,He,Le,Ue,Je,me,ve,Re;if(!M||!M.action)return"";switch(M.action){case"order.created":return s("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const pe=ee((ue=(D=M.context)==null?void 0:D.from)!=null?ue:""),tt=ee((U=(fe=M.context)==null?void 0:fe.to)!=null?U:"");return s("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[pe||((Pe=M.context)==null?void 0:Pe.from)||"",tt||((He=M.context)==null?void 0:He.to)||""],"ordersTimelineState")}case"order.note":return((Le=M.context)==null?void 0:Le.message)||s("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const pe=((Ue=M.context)==null?void 0:Ue.gateway)||s("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),tt=B((me=(Je=M.context)==null?void 0:Je.amount_cents)!=null?me:0,(Re=(ve=n.state)==null?void 0:ve.activeOrder)==null?void 0:Re.currency);return s("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[pe,tt],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return M.action}},ce=M=>{if(!M)return"";const D=String(M.type||"").toLowerCase(),ue=String(M.message||"").trim(),fe=String(M.state||"").toLowerCase();return D==="tracking"?s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):fe?ee(fe):ue||D||""},he=Ae(()=>{var fe,U,Pe,He;const M=[];return(Array.isArray((U=(fe=n.state)==null?void 0:fe.activeOrder)==null?void 0:U.fulfillment_events)?n.state.activeOrder.fulfillment_events:[]).forEach((Le,Ue)=>{var Je,me;M.push({label:ce(Le),created:(Je=Le==null?void 0:Le.at)!=null?Je:"",key:`f-${Ue}-${(me=Le==null?void 0:Le.at)!=null?me:""}`})}),(Array.isArray((He=(Pe=n.state)==null?void 0:Pe.activeOrder)==null?void 0:He.timeline)?n.state.activeOrder.timeline:[]).forEach((Le,Ue)=>{var Je,me,ve;M.push({label:ge(Le),created:(Je=Le==null?void 0:Le.created)!=null?Je:"",key:`a-${(me=Le==null?void 0:Le.id)!=null?me:Ue}-${(ve=Le==null?void 0:Le.created)!=null?ve:""}`})}),M.filter(Le=>Le.label).sort((Le,Ue)=>{const Je=new Date(Le.created||0).getTime();return new Date(Ue.created||0).getTime()-Je})}),ye=M=>s(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(M.status||"").toUpperCase()}`,M.status||""),Ne=M=>{if(!M)return"";try{const D=new Date(M),fe=new Date-D,U=Math.floor(fe/1e3),Pe=Math.floor(U/60),He=Math.floor(Pe/60);return U<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Pe<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Pe]):He<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[He]):D.toLocaleString()}catch(D){return M}};return(M,D)=>{var ue,fe;return A(),S("section",US,[a("header",XS,[a("div",null,[a("h2",FS,c(r(s)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),a("p",GS,c(r(s)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),a("div",VS,[ne(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=U=>e.state.search=U),onKeyup:gt(F,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,HS),[[Ce,e.state.search]]),ne(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":D[1]||(D[1]=U=>e.state.filterState=U),onChange:j,"aria-label":r(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[a("option",KS,"  "+c(r(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(A(!0),S(xe,null,ke(e.state.orderStates,U=>(A(),S("option",{key:U,value:U},c(ee(U)),9,jS))),128))],40,BS),[[pt,e.state.filterState]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:H,disabled:e.state.loading||e.state.exporting,title:r(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[D[15]||(D[15]=a("i",{class:"fa-solid fa-file-csv"},null,-1)),a("span",WS,c(r(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,JS),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:L,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[D[16]||(D[16]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",zS,c(r(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,qS)])]),e.state.error?(A(),S("div",QS,c(e.state.error),1)):ie("",!0),e.state.transitionError&&!e.state.error?(A(),S("div",ZS,c(e.state.transitionError),1)):ie("",!0),e.state.loading&&!e.state.error?(A(),S("div",eb,[ze(Kn,{type:"table",rows:5,columns:7})])):ie("",!0),!e.state.loading&&!e.state.error?(A(),S("div",tb,[a("div",nb,[I.value?(A(),S("div",sb,[a("span",null,c(W.value),1),ne(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":D[2]||(D[2]=U=>d.value=U),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[a("option",ob,c(r(s)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(A(!0),S(xe,null,ke(e.state.orderStates,U=>(A(),S("option",{key:`bulk-${U}`,value:U},c(ee(U)),9,ib))),128))],8,ab),[[pt,d.value]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!d.value||e.state.saving,onClick:T},[D[17]||(D[17]=a("i",{class:"fa-solid fa-check"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,rb),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:$e,title:r(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[D[18]||(D[18]=a("i",{class:"fa-solid fa-xmark"},null,-1)),a("span",cb,c(r(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,lb)])):ie("",!0),a("table",db,[a("thead",null,[a("tr",null,[a("th",ub,c(r(s)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),a("th",pb,c(r(s)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),a("th",_b,c(r(s)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),a("th",fb,c(r(s)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),a("th",mb,c(r(s)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),a("th",hb,c(r(s)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),a("th",gb,c(r(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),a("tbody",null,[e.state.items.length?ie("",!0):(A(),S("tr",Eb,[a("td",Cb,c(r(s)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(A(!0),S(xe,null,ke(e.state.items,U=>{var Pe,He,Le;return A(),S("tr",{key:U.id,class:we({"is-active":e.state.activeOrder&&e.state.activeOrder.id===U.id})},[a("td",Ab,[a("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:_e(U.id),onChange:Ue=>Te(U.id),disabled:f(U),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Sb)]),a("th",bb,[a("button",{class:"nxp-ec-link-button",type:"button",onClick:Ue=>X(U),disabled:e.state.saving},c(U.order_no),9,yb),U.checked_out?(A(),S("div",Tb,[a("span",Rb,[D[19]||(D[19]=a("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),Se(" "+c(N(U)),1)])])):ie("",!0)]),a("td",{"data-label":r(s)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[a("div",null,c(U.email),1),a("div",xb,c(P((Le=U.items_count)!=null?Le:(He=(Pe=U.items)==null?void 0:Pe.length)!=null?He:0)),1)],8,Ob),a("td",{"data-label":r(s)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},c(B(U.total_cents,U.currency)),9,vb),a("td",{"data-label":r(s)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[a("span",Nb,c(ee(U.state)),1),U.needs_review?(A(),S("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:U.review_reason||r(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},c(r(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,Mb)):ie("",!0)],8,Pb),a("td",{"data-label":r(s)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},c(Y(U.modified||U.created)),9,Ib),a("td",kb,[ne(a("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":Ue=>l[U.id]=Ue,disabled:f(U),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[a("option",{value:U.state},c(ee(U.state)),9,wb),(A(!0),S(xe,null,ke(O(U),Ue=>(A(),S("option",{key:Ue,value:Ue},c(ee(Ue)),9,Db))),128))],8,$b),[[pt,l[U.id]]]),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!se(U)||f(U),onClick:Ue=>be(U)},c(r(s)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,Lb)])],2)}),128))])]),e.state.pagination.pages>1?(A(),S("nav",{key:1,class:"nxp-ec-admin-pagination","aria-label":r(s)("COM_NXPEASYCART_PAGINATION","Pagination")},[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[3]||(D[3]=U=>J(e.state.pagination.current-1)),"aria-label":r(s)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,Ub),a("span",Xb,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[4]||(D[4]=U=>J(e.state.pagination.current+1)),"aria-label":r(s)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,Fb)],8,Yb)):ie("",!0)]),e.state.lastUpdated?(A(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(Ne(e.state.lastUpdated)),9,Gb)):ie("",!0),e.state.activeOrder?(A(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"order-modal-title",onKeydown:gt(de,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:de}),a("div",Vb,[a("aside",Hb,[a("header",Bb,[a("h3",Kb,c(r(s)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+c(e.state.activeOrder.order_no),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:de,title:r(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[D[20]||(D[20]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",Jb,c(r(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,jb)]),a("div",Wb,[e.state.transitionError?(A(),S("div",qb,c(e.state.transitionError),1)):ie("",!0),(ue=e.state.activeOrder)!=null&&ue.needs_review?(A(),S("div",zb,[a("strong",null,c(r(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),Se(" "+c(b((fe=e.state.activeOrder)==null?void 0:fe.review_reason)),1)])):ie("",!0),oe.value?(A(),S("section",Qb,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),a("div",Zb,[a("input",{type:"text",class:"nxp-ec-form-input",value:oe.value,readonly:""},null,8,ey),a("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!oe.value,onClick:re},[D[21]||(D[21]=a("i",{class:"fa-solid fa-link"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,ty)]),m.value?(A(),S("p",ny,c(m.value),1)):ie("",!0),a("div",sy,[a("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!n.state.activeOrder||n.state.invoiceLoading,onClick:G},[D[22]||(D[22]=a("i",{class:"fa-solid fa-file-pdf"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,ay),n.state.invoiceLoading?(A(),S("span",oy,c(r(s)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ie("",!0)])])):ie("",!0),a("section",iy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),a("ul",ry,[(A(!0),S(xe,null,ke(e.state.activeOrder.items,U=>(A(),S("li",{key:U.id},[a("div",ly,[Se(c(U.title)+" ",1),a("small",null,"("+c(U.sku)+")",1)]),a("div",cy,"  "+c(U.qty)+"  "+c(B(U.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),e.state.activeOrder.downloads&&e.state.activeOrder.downloads.length?(A(),S("section",dy,[a("div",uy,[a("h4",null,c(r(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital downloads")),1),E.value?(A(),S("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--small",disabled:e.state.saving||x.value,onClick:z},[D[23]||(D[23]=a("i",{class:"fa-solid fa-envelope"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_ORDERS_RESEND_DOWNLOADS","Resend email")),1)],8,py)):ie("",!0)]),u.value?(A(),S("p",_y,c(u.value),1)):ie("",!0),a("div",fy,[(A(!0),S(xe,null,ke(e.state.activeOrder.downloads,U=>(A(),S("article",{key:U.id,class:"nxp-ec-download-card"},[a("div",my,[a("div",hy,c(U.filename),1),a("div",gy,c(Oe(U))+"  "+c(V(U)),1)]),a("div",Ey,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",disabled:e.state.saving||x.value,onClick:Pe=>q(U),title:r(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD_TITLE","Reset download count to 0")},[D[24]||(D[24]=a("i",{class:"fa-solid fa-rotate-left"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD","Reset")),1)],8,Cy),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",onClick:Pe=>$(U)},c(r(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),9,Ay),U.url?(A(),S("a",{key:0,class:"nxp-ec-btn nxp-ec-btn--small",href:U.url,target:"_blank",rel:"noopener"},c(r(s)("COM_NXPEASYCART_DOWNLOAD","Download")),9,Sy)):ie("",!0)])]))),128))])])):ie("",!0),a("section",by,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),a("p",yy,c(B(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),a("div",Ty,[a("section",Ry,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),a("address",Oy,[(A(!0),S(xe,null,ke(R(e.state.activeOrder.billing),U=>(A(),S("span",{key:U.key},c(U.value),1))),128))])]),a("section",xy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(A(),S("address",vy,[(A(!0),S(xe,null,ke(R(e.state.activeOrder.shipping),U=>(A(),S("span",{key:U.key},c(U.value),1))),128))])):(A(),S("p",Py,c(r(s)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),a("section",Ny,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),a("div",My,[a("label",Iy,c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),ne(a("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":D[5]||(D[5]=U=>y.carrier=U)},null,512),[[Ce,y.carrier]])]),a("div",ky,[a("label",$y,c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),ne(a("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":D[6]||(D[6]=U=>y.tracking_number=U)},null,512),[[Ce,y.tracking_number]])]),a("div",wy,[a("label",Dy,c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),ne(a("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":D[7]||(D[7]=U=>y.tracking_url=U)},null,512),[[Ce,y.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(A(),S("label",Ly,[ne(a("input",{type:"checkbox","onUpdate:modelValue":D[8]||(D[8]=U=>y.markFulfilled=U)},null,512),[[ot,y.markFulfilled]]),Se(" "+c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):ie("",!0),a("div",Yy,[a("button",{class:"nxp-ec-btn",type:"button",disabled:!g.value||e.state.saving||x.value,onClick:ae},[D[25]||(D[25]=a("i",{class:"fa-solid fa-truck"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,Uy)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(A(),S("section",Xy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),a("div",Fy,[e.state.activeOrder.state==="fulfilled"?(A(),S("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||x.value,onClick:D[9]||(D[9]=U=>Q("shipped"))},[D[26]||(D[26]=a("i",{class:"fa-solid fa-envelope"},null,-1)),Se(" "+c(Z("shipped")?r(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):r(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,Gy)):ie("",!0),e.state.activeOrder.state==="refunded"?(A(),S("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||x.value,onClick:D[10]||(D[10]=U=>Q("refunded"))},[D[27]||(D[27]=a("i",{class:"fa-solid fa-envelope"},null,-1)),Se(" "+c(Z("refunded")?r(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):r(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,Vy)):ie("",!0)])])):ie("",!0),C.value?(A(),S("section",Hy,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),a("p",By,c(r(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),a("div",Ky,[a("label",jy,c(r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),ne(a("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":D[11]||(D[11]=U=>h.amount=U),placeholder:B(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,Jy),[[Ce,h.amount]]),a("small",Wy,c(r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),a("div",qy,[a("label",zy,c(r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),ne(a("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":D[12]||(D[12]=U=>h.reference=U),placeholder:r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,Qy),[[Ce,h.reference]])]),a("div",Zy,[a("label",eT,c(r(s)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),ne(a("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":D[13]||(D[13]=U=>h.note=U)},null,512),[[Ce,h.note]])]),a("div",tT,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving||x.value||!C.value,onClick:te},[D[28]||(D[28]=a("i",{class:"icon-credit"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,nT)])])):ie("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(A(),S("section",sT,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),a("ul",aT,[(A(!0),S(xe,null,ke(e.state.activeOrder.transactions,U=>(A(),S("li",{key:U.id},[a("div",oT,c(U.gateway)+"  "+c(B(U.amount_cents,e.state.activeOrder.currency)),1),a("div",iT,c(ye(U))+"  "+c(Y(U.created)),1)]))),128))])])):ie("",!0),a("section",rT,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),a("form",{class:"nxp-ec-admin-form",onSubmit:ht(v,["prevent"])},[ne(a("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":D[14]||(D[14]=U=>p.value=U),placeholder:r(s)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,lT),[[Ce,p.value]]),a("div",cT,[a("button",{class:"nxp-ec-btn",type:"submit",disabled:!_.value||e.state.saving||x.value},[D[29]||(D[29]=a("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,dT)])],32)]),a("section",uT,[a("h4",null,c(r(s)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),he.value.length?(A(),S("ul",pT,[(A(!0),S(xe,null,ke(he.value,U=>(A(),S("li",{key:U.key},[a("div",_T,c(U.label),1),a("div",fT,c(Y(U.created)),1)]))),128))])):(A(),S("p",mT,c(r(s)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])],32)):ie("",!0)])):ie("",!0)])}}},[["__scopeId","data-v-9ae09394"]]),gT={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},ET={class:"nxp-ec-admin-panel__header"},CT={class:"nxp-ec-admin-panel__title"},AT={class:"nxp-ec-admin-panel__lead"},ST={class:"nxp-ec-admin-panel__actions"},bT=["placeholder","aria-label"],yT=["disabled","title","aria-label"],TT={class:"nxp-ec-sr-only"},RT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},OT={key:1,class:"nxp-ec-admin-panel__body"},xT={key:2,class:"nxp-ec-admin-panel__body"},vT={class:"nxp-ec-admin-panel__table"},PT={class:"nxp-ec-admin-table"},NT={scope:"col"},MT={scope:"col"},IT={scope:"col"},kT={scope:"col"},$T={scope:"col"},wT={key:0},DT={colspan:"5"},LT={scope:"row",class:"nxp-ec-admin-table__primary"},YT=["onClick"],UT=["data-label"],XT=["data-label"],FT=["data-label"],GT=["data-label"],VT={key:0,class:"nxp-ec-admin-pagination"},HT=["disabled"],BT={class:"nxp-ec-admin-pagination__status"},KT=["disabled"],jT=["title"],JT={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},WT={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},qT={class:"nxp-ec-admin-panel__sidebar-header"},zT={id:"customer-modal-title"},QT=["title","aria-label"],ZT={class:"nxp-ec-sr-only"},eR={class:"nxp-ec-admin-panel__section"},tR={class:"nxp-ec-admin-summary"},nR={class:"nxp-ec-admin-panel__addresses"},sR={class:"nxp-ec-admin-panel__section"},aR={class:"nxp-ec-admin-address"},oR={class:"nxp-ec-admin-panel__section"},iR={key:0,class:"nxp-ec-admin-address"},rR={key:1,class:"nxp-ec-admin-panel__muted"},lR={class:"nxp-ec-admin-panel__section"},cR={key:0,class:"nxp-ec-admin-list"},dR={class:"nxp-ec-admin-list__title"},uR={class:"nxp-ec-admin-list__meta"},pR={key:1,class:"nxp-ec-admin-panel__muted"},_R={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},fR={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},mR={class:"nxp-ec-gdpr-actions"},hR=["disabled","title"],gR=["disabled","title"],ER=_t({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=(E,f)=>{const N=(Number(E)||0)/100,x=(f||"").toUpperCase()||n.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:x}).format(N)}catch(B){return`${x} ${N.toFixed(2)}`}},l=E=>{if(!E)return"";const f=new Date(E);return Number.isNaN(f.getTime())?E:f.toLocaleString()},d=E=>!E||typeof E!="object"?[]:Object.entries(E).filter(([,f])=>f!=null&&`${f}`.trim()!=="").map(([f,N])=>({key:f,value:`${N}`.trim()})),p=E=>{if(!E)return"";const f=`COM_NXPEASYCART_ORDERS_STATE_${String(E).toUpperCase()}`;return s(f,E)},_=()=>i("refresh"),m=()=>i("search"),u=E=>i("page",E),y=E=>i("view",E),h=()=>i("close"),w=E=>i("gdprExport",E),I=E=>i("gdprAnonymise",E),C=E=>{if(!E)return"";try{const f=new Date(E),x=new Date-f,B=Math.floor(x/1e3),Y=Math.floor(B/60),b=Math.floor(Y/60);return B<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Y<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Y]):b<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[b]):f.toLocaleString()}catch(f){return E}};return(E,f)=>{var N,x,B;return A(),S("section",gT,[a("header",ET,[a("div",null,[a("h2",CT,c(r(s)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),a("p",AT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),a("div",ST,[ne(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":f[0]||(f[0]=Y=>e.state.search=Y),onKeyup:gt(m,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,bT),[[Ce,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[f[5]||(f[5]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",TT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,yT)])]),e.state.error?(A(),S("div",RT,c(e.state.error),1)):ie("",!0),e.state.loading?(A(),S("div",OT,[ze(Kn,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(A(),S("div",xT,[a("div",vT,[a("table",PT,[a("thead",null,[a("tr",null,[a("th",NT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),a("th",MT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),a("th",IT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),a("th",kT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),a("th",$T,c(r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),a("tbody",null,[e.state.items.length?ie("",!0):(A(),S("tr",wT,[a("td",DT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(A(!0),S(xe,null,ke(e.state.items,Y=>{var b;return A(),S("tr",{key:Y.email,class:we({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===Y.email})},[a("th",LT,[a("button",{class:"nxp-ec-link-button",type:"button",onClick:P=>y(Y)},c(Y.email),9,YT)]),a("td",{"data-label":r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},c(((b=Y.meta)==null?void 0:b.name)||""),9,UT),a("td",{"data-label":r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},c(Y.orders_count),9,XT),a("td",{"data-label":r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},c(o(Y.total_spent_cents,Y.currency||e.baseCurrency)),9,FT),a("td",{"data-label":r(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},c(l(Y.last_order)),9,GT)],2)}),128))])]),e.state.pagination.pages>1?(A(),S("div",VT,[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:f[1]||(f[1]=Y=>u(e.state.pagination.current-1))},"  ",8,HT),a("span",BT,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:f[2]||(f[2]=Y=>u(e.state.pagination.current+1))},"  ",8,KT)])):ie("",!0)]),e.state.lastUpdated?(A(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(C(e.state.lastUpdated)),9,jT)):ie("",!0),e.state.activeCustomer?(A(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"customer-modal-title",onKeydown:gt(h,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:h}),a("div",JT,[a("aside",WT,[a("header",qT,[a("h3",zT,c(e.state.activeCustomer.email),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:h,title:r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[f[6]||(f[6]=a("i",{class:"fa-solid fa-circle-xmark"},null,-1)),a("span",ZT,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,QT)]),a("section",eR,[a("h4",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),a("dl",tR,[a("div",null,[a("dt",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),a("dd",null,c(((N=e.state.activeCustomer.meta)==null?void 0:N.name)||""),1)]),a("div",null,[a("dt",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),a("dd",null,c(o(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),a("div",null,[a("dt",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),a("dd",null,c(e.state.activeCustomer.orders_count),1)]),a("div",null,[a("dt",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),a("dd",null,c(l(e.state.activeCustomer.last_order)),1)])])]),a("div",nR,[a("section",sR,[a("h4",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),a("address",aR,[(A(!0),S(xe,null,ke(d((x=e.state.activeCustomer.meta)==null?void 0:x.billing),Y=>(A(),S("span",{key:Y.key},c(Y.value),1))),128))])]),a("section",oR,[a("h4",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(B=e.state.activeCustomer.meta)!=null&&B.shipping?(A(),S("address",iR,[(A(!0),S(xe,null,ke(d(e.state.activeCustomer.meta.shipping),Y=>(A(),S("span",{key:Y.key},c(Y.value),1))),128))])):(A(),S("p",rR,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),a("section",lR,[a("h4",null,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(A(),S("ul",cR,[(A(!0),S(xe,null,ke(e.state.activeCustomer.orders,Y=>(A(),S("li",{key:Y.id},[a("div",dR,c(Y.order_no)+"  "+c(o(Y.total_cents,Y.currency||e.baseCurrency)),1),a("div",uR,c(p(Y.state))+"  "+c(l(Y.created)),1)]))),128))])):(A(),S("p",pR,c(r(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),a("section",_R,[a("h4",null,c(r(s)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),a("p",fR,c(r(s)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),a("div",mR,[a("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:f[3]||(f[3]=Y=>w(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(s)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[f[7]||(f[7]=a("i",{class:"fa-solid fa-download"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,hR),a("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:f[4]||(f[4]=Y=>I(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(s)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[f[8]||(f[8]=a("i",{class:"fa-solid fa-user-slash"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,gR)]),e.state.gdprMessage?(A(),S("p",{key:0,class:we(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},c(e.state.gdprMessage),3)):ie("",!0)])])])],32)):ie("",!0)]))])}}},[["__scopeId","data-v-2e6c67f3"]]),CR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},AR={class:"nxp-ec-admin-panel__header"},SR={class:"nxp-ec-admin-panel__title"},bR={class:"nxp-ec-admin-panel__lead"},yR={class:"nxp-ec-admin-panel__actions"},TR=["placeholder","aria-label"],RR=["disabled","title","aria-label"],OR={class:"nxp-ec-sr-only"},xR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vR={key:1,class:"nxp-ec-admin-panel__loading"},PR={key:2,class:"nxp-ec-admin-panel__body"},NR={class:"nxp-ec-admin-panel__table"},MR={class:"nxp-ec-admin-table"},IR={scope:"col"},kR={scope:"col"},$R={scope:"col"},wR={scope:"col"},DR={scope:"col"},LR={scope:"col"},YR={key:0},UR={colspan:"7"},XR={scope:"row",class:"nxp-ec-admin-table__primary"},FR=["data-label"],GR=["data-label"],VR=["data-label"],HR=["data-label"],BR=["data-label"],KR={class:"nxp-ec-admin-table__actions"},jR=["onClick","title","aria-label"],JR={class:"nxp-ec-sr-only"},WR=["onClick","title","aria-label"],qR={class:"nxp-ec-sr-only"},zR=["aria-label"],QR=["disabled","aria-label"],ZR={class:"nxp-ec-admin-pagination__status","aria-current":"page"},eO=["disabled","aria-label"],tO={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},nO={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},sO={class:"nxp-ec-admin-panel__sidebar-header"},aO={id:"coupon-modal-title"},oO=["title","aria-label"],iO={class:"nxp-ec-sr-only"},rO={class:"nxp-ec-form-field"},lO={class:"nxp-ec-form-label",for:"coupon-code"},cO={class:"nxp-ec-form-field"},dO={class:"nxp-ec-form-label",for:"coupon-type"},uO={value:"percent"},pO={value:"fixed"},_O={class:"nxp-ec-form-field"},fO={class:"nxp-ec-form-label",for:"coupon-value"},mO={class:"nxp-ec-form-field"},hO={class:"nxp-ec-form-label",for:"coupon-min-total"},gO={class:"nxp-ec-form-field"},EO={class:"nxp-ec-form-label",for:"coupon-start"},CO={class:"nxp-ec-form-field"},AO={class:"nxp-ec-form-label",for:"coupon-end"},SO={class:"nxp-ec-form-field"},bO={class:"nxp-ec-form-label",for:"coupon-max-uses"},yO={class:"nxp-ec-form-field"},TO={class:"nxp-ec-form-label",for:"coupon-max-uses-per-user"},RO={class:"nxp-ec-form-hint"},OO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},xO={class:"nxp-ec-form-label",for:"coupon-allow-sale-items"},vO={class:"nxp-ec-form-hint"},PO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},NO={class:"nxp-ec-form-label",for:"coupon-active"},MO={class:"nxp-ec-modal__actions"},IO=["disabled"],kO=["disabled"],$O=["disabled"],wO=_t({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ae(()=>(n.baseCurrency||"USD").toUpperCase()),l=Ve({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0}),d=Ae(()=>l.open),p=()=>i("refresh"),_=()=>i("search"),m=N=>i("page",N),u=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0})},y=N=>{var x,B,Y;Object.assign(l,{open:!0,id:N.id,code:N.code,type:N.type,value:N.value,min_total:(B=N.min_total)!=null?B:((x=N.min_total_cents)!=null?x:0)/100,start:N.start?N.start.substring(0,10):"",end:N.end?N.end.substring(0,10):"",max_uses:N.max_uses,max_uses_per_user:N.max_uses_per_user,allow_sale_items:(Y=N.allow_sale_items)!=null?Y:!0,active:N.active})},h=()=>{l.open=!1},w=()=>{const N={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,max_uses_per_user:l.max_uses_per_user!==null&&l.max_uses_per_user!==""?l.max_uses_per_user:null,allow_sale_items:l.allow_sale_items,active:l.active};i("save",N)},I=N=>{const x=s("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(x)&&(i("delete",[N.id]),l.id===N.id&&h())},C=(N,x)=>{const B=(Number(N)||0)/100,Y=(x||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:Y}).format(B)}catch(b){return`${Y} ${B.toFixed(2)}`}},E=N=>N.type==="percent"?`${N.value}%`:C(N.value*100,o.value),f=N=>N==="fixed"?s("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):s("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return qe(()=>n.state.saving,(N,x)=>{x&&!N&&!n.state.error&&l.open&&h()}),(N,x)=>(A(),S("section",CR,[a("header",AR,[a("div",null,[a("h2",SR,c(r(s)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),a("p",bR,c(r(s)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),a("div",yR,[ne(a("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":x[0]||(x[0]=B=>e.state.search=B),onKeyup:gt(_,["enter"]),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,TR),[[Ce,e.state.search]]),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[x[14]||(x[14]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",OR,c(r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,RR),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:u},[x[15]||(x[15]=a("i",{class:"fa-solid fa-plus"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(A(),S("div",xR,c(e.state.error),1)):ie("",!0),e.state.loading?(A(),S("div",vR,c(r(s)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(A(),S("div",PR,[a("div",NR,[a("table",MR,[a("thead",null,[a("tr",null,[a("th",IR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),a("th",kR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),a("th",$R,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),a("th",wR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),a("th",DR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),a("th",LR,c(r(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),x[16]||(x[16]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?ie("",!0):(A(),S("tr",YR,[a("td",UR,c(r(s)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(A(!0),S(xe,null,ke(e.state.items,B=>(A(),S("tr",{key:B.id,class:we({"is-active":l.id===B.id})},[a("th",XR,c(B.code),1),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},c(f(B.type)),9,FR),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},c(E(B)),9,GR),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},c(C(B.min_total_cents,o.value)),9,VR),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[a("span",{class:we(["nxp-ec-badge",{"is-active":B.active}])},[a("i",{class:we(B.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Se(" "+c(B.active?r(s)("JYES","Yes"):r(s)("JNO","No")),1)],2)],8,HR),a("td",{"data-label":r(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},c(B.times_used)+c(B.max_uses?` / ${B.max_uses}`:""),9,BR),a("td",KR,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Y=>y(B),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[x[17]||(x[17]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",JR,c(r(s)("JEDIT","Edit")),1)],8,jR),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Y=>I(B),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[x[18]||(x[18]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",qR,c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,WR)])],2))),128))])]),e.state.pagination.pages>1?(A(),S("nav",{key:0,class:"nxp-ec-admin-pagination","aria-label":r(s)("COM_NXPEASYCART_PAGINATION","Pagination")},[a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:x[1]||(x[1]=B=>m(e.state.pagination.current-1)),"aria-label":r(s)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,QR),a("span",ZR,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:x[2]||(x[2]=B=>m(e.state.pagination.current+1)),"aria-label":r(s)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,eO)],8,zR)):ie("",!0)]),d.value?(A(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"coupon-modal-title",onKeydown:gt(h,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:h}),a("div",tO,[a("aside",nO,[a("header",sO,[a("h3",aO,c(l.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:h,title:r(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[x[19]||(x[19]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",iO,c(r(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,oO)]),a("form",{class:"nxp-ec-form",onSubmit:ht(w,["prevent"]),autocomplete:"off"},[a("div",rO,[a("label",lO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),ne(a("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":x[3]||(x[3]=B=>l.code=B),required:"",maxlength:"64"},null,512),[[Ce,l.code,void 0,{trim:!0}]])]),a("div",cO,[a("label",dO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),ne(a("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":x[4]||(x[4]=B=>l.type=B)},[a("option",uO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),a("option",pO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[pt,l.type]])]),a("div",_O,[a("label",fO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),ne(a("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":x[5]||(x[5]=B=>l.value=B),required:""},null,512),[[Ce,l.value,void 0,{number:!0}]])]),a("div",mO,[a("label",hO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),ne(a("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":x[6]||(x[6]=B=>l.min_total=B)},null,512),[[Ce,l.min_total,void 0,{number:!0}]])]),a("div",gO,[a("label",EO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),ne(a("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":x[7]||(x[7]=B=>l.start=B)},null,512),[[Ce,l.start]])]),a("div",CO,[a("label",AO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),ne(a("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":x[8]||(x[8]=B=>l.end=B)},null,512),[[Ce,l.end]])]),a("div",SO,[a("label",bO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),ne(a("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":x[9]||(x[9]=B=>l.max_uses=B)},null,512),[[Ce,l.max_uses,void 0,{number:!0}]])]),a("div",yO,[a("label",TO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER","Max uses per user",[],"couponsFormMaxUsesPerUser")),1),ne(a("input",{id:"coupon-max-uses-per-user",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":x[10]||(x[10]=B=>l.max_uses_per_user=B)},null,512),[[Ce,l.max_uses_per_user,void 0,{number:!0}]]),a("small",RO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER_HINT","Limit how many times a single user or email can use this coupon. Leave empty for unlimited.",[],"couponsFormMaxUsesPerUserHint")),1)]),a("div",OO,[a("label",xO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS","Allow on sale items",[],"couponsFormAllowSaleItems")),1),ne(a("input",{id:"coupon-allow-sale-items",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":x[11]||(x[11]=B=>l.allow_sale_items=B)},null,512),[[ot,l.allow_sale_items]]),a("small",vO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS_HINT","When disabled, this coupon cannot be applied if the cart contains items currently on sale.",[],"couponsFormAllowSaleItemsHint")),1)]),a("div",PO,[a("label",NO,c(r(s)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),ne(a("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":x[12]||(x[12]=B=>l.active=B)},null,512),[[ot,l.active]])]),a("footer",MO,[a("button",{class:"nxp-ec-btn",type:"button",onClick:h,disabled:e.state.saving},c(r(s)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,IO),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,kO)]),l.id?(A(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:x[13]||(x[13]=B=>I(l)),disabled:e.state.saving},[x[20]||(x[20]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,$O)):ie("",!0)],32)])])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-f9ade401"]]),DO={class:"nxp-ec-settings-panel"},LO={class:"nxp-ec-settings-panel__header"},YO=["disabled"],UO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},XO={key:1,class:"nxp-ec-admin-panel__loading"},FO={class:"nxp-ec-form-field"},GO={class:"nxp-ec-form-label",for:"settings-store-name"},VO={class:"nxp-ec-form-field"},HO={class:"nxp-ec-form-label",for:"settings-store-email"},BO={class:"nxp-ec-form-field"},KO={class:"nxp-ec-form-label",for:"settings-store-phone"},jO={class:"nxp-ec-form-field"},JO={class:"nxp-ec-form-label",for:"settings-base-currency"},WO=["value"],qO={class:"nxp-ec-form-help"},zO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},QO={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},ZO={class:"nxp-ec-form-help"},ex={class:"nxp-ec-form-field"},tx={class:"nxp-ec-form-label",for:"settings-display-locale"},nx={class:"nxp-ec-form-help"},sx={class:"nxp-ec-form-field"},ax={class:"nxp-ec-form-label",for:"settings-category-page-size"},ox={class:"nxp-ec-form-help"},ix={class:"nxp-ec-form-field"},rx={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},lx={value:"paged"},cx={value:"infinite"},dx={class:"nxp-ec-form-help"},ux={class:"nxp-ec-form-field nxp-ec-form-field--inline"},px={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},_x={class:"nxp-ec-form-help"},fx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},mx={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},hx={class:"nxp-ec-form-help"},gx={key:0,class:"nxp-ec-form-field"},Ex={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},Cx={class:"nxp-ec-form-help"},Ax={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Sx={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},bx={class:"nxp-ec-form-help"},yx={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Tx={class:"nxp-ec-settings-actions"},Rx=["disabled"],Ox=["disabled"],xx={__name:"GeneralTab",props:{draft:{type:Object,required:!0},currencies:{type:Array,default:()=>[]},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""},message:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const n=e.translate;return(i,s)=>(A(),S("div",DO,[a("header",LO,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:s[0]||(s[0]=o=>i.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,YO)]),e.error?(A(),S("div",UO,c(e.error),1)):e.loading?(A(),S("div",XO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings...",[],"settingsGeneralLoading")),1)):(A(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:s[14]||(s[14]=ht(o=>i.$emit("save"),["prevent"]))},[a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),a("div",FO,[a("label",GO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),ne(a("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>e.draft.storeName=o),maxlength:"190"},null,512),[[Ce,e.draft.storeName,void 0,{trim:!0}]])]),a("div",VO,[a("label",HO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),ne(a("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":s[2]||(s[2]=o=>e.draft.storeEmail=o)},null,512),[[Ce,e.draft.storeEmail,void 0,{trim:!0}]])]),a("div",BO,[a("label",KO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),ne(a("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[3]||(s[3]=o=>e.draft.storePhone=o),maxlength:"64"},null,512),[[Ce,e.draft.storePhone,void 0,{trim:!0}]])])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),a("div",jO,[a("label",JO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),ne(a("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":s[4]||(s[4]=o=>e.draft.baseCurrency=o),required:""},[(A(!0),S(xe,null,ke(e.currencies,o=>(A(),S("option",{key:o.code,value:o.code},c(o.label),9,WO))),128))],512),[[pt,e.draft.baseCurrency]]),a("p",qO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),a("div",zO,[a("label",QO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),ne(a("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=o=>e.draft.checkoutPhoneRequired=o)},null,512),[[ot,e.draft.checkoutPhoneRequired]]),a("p",ZO,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),a("div",ex,[a("label",tx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),ne(a("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[6]||(s[6]=o=>e.draft.displayLocale=o),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[Ce,e.draft.displayLocale,void 0,{trim:!0}]]),a("p",nx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),a("div",sx,[a("label",ax,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),ne(a("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":s[7]||(s[7]=o=>e.draft.categoryPageSize=o)},null,512),[[Ce,e.draft.categoryPageSize,void 0,{number:!0}]]),a("p",ox,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),a("div",ix,[a("label",rx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),ne(a("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":s[8]||(s[8]=o=>e.draft.categoryPaginationMode=o)},[a("option",lx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),a("option",cx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[pt,e.draft.categoryPaginationMode]]),a("p",dx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),a("div",ux,[a("label",px,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),ne(a("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[9]||(s[9]=o=>e.draft.autoSendOrderEmails=o)},null,512),[[ot,e.draft.autoSendOrderEmails]]),a("p",_x,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),a("div",fx,[a("label",mx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),ne(a("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=o=>e.draft.staleOrderCleanupEnabled=o)},null,512),[[ot,e.draft.staleOrderCleanupEnabled]]),a("p",hx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),e.draft.staleOrderCleanupEnabled?(A(),S("div",gx,[a("label",Ex,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),ne(a("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":s[11]||(s[11]=o=>e.draft.staleOrderHours=o)},null,512),[[Ce,e.draft.staleOrderHours,void 0,{number:!0}]]),a("p",Cx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):ie("",!0)]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),a("div",Ax,[a("label",Sx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),ne(a("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[12]||(s[12]=o=>e.draft.showAdvancedMode=o)},null,512),[[ot,e.draft.showAdvancedMode]]),a("p",bx,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),e.message?(A(),S("div",yx,c(e.message),1)):ie("",!0),a("div",Tx,[a("button",{class:"nxp-ec-btn",type:"button",onClick:s[13]||(s[13]=o=>i.$emit("reset")),disabled:e.saving},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,Rx),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,Ox)])],32))]))}},vx={class:"nxp-ec-settings-panel"},Px={class:"nxp-ec-settings-panel__header"},Nx=["disabled"],Mx={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ix={key:1,class:"nxp-ec-admin-panel__loading"},kx={class:"nxp-ec-form-grid"},$x={class:"nxp-ec-form-field"},wx={class:"nxp-ec-form-label",for:"settings-digital-max"},Dx={class:"nxp-ec-form-help"},Lx={class:"nxp-ec-form-field"},Yx={class:"nxp-ec-form-label",for:"settings-digital-expiry"},Ux={class:"nxp-ec-form-help"},Xx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Fx={class:"nxp-ec-form-label",for:"settings-digital-fulfill"},Gx={class:"nxp-ec-form-help"},Vx={class:"nxp-ec-form-field"},Hx={class:"nxp-ec-form-label",for:"settings-digital-max-size"},Bx={class:"nxp-ec-form-help"},Kx={class:"nxp-ec-form-field"},jx={class:"nxp-ec-form-label",for:"settings-digital-storage"},Jx={class:"nxp-ec-form-help"},Wx={class:"nxp-ec-form-section"},qx={class:"nxp-ec-form-section__title"},zx={class:"nxp-ec-form-help",style:{"margin-bottom":"1rem"}},Qx={class:"nxp-ec-filetypes-actions"},Zx={class:"nxp-ec-filetypes-grid"},ev={class:"nxp-ec-filetypes-category__title"},tv={class:"nxp-ec-filetypes-category__list"},nv=["value"],sv={class:"nxp-ec-filetypes-item__label"},av={class:"nxp-ec-form-field",style:{"margin-top":"1.5rem"}},ov={class:"nxp-ec-form-label",for:"settings-digital-custom-ext"},iv={class:"nxp-ec-form-help nxp-ec-form-help--warning"},rv={class:"nxp-ec-settings-actions"},lv=["disabled"],cv={__name:"DigitalTab",props:{draft:{type:Object,required:!0},fileTypeCategories:{type:Object,default:()=>({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]})},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const t=e,n=t.translate,i=d=>{var _;return(_={archives:"Archives",audio:"Audio",video:"Video",images:"Images",documents:"Documents",ebooks:"E-books",installers:"Installers"}[d])!=null?_:d.charAt(0).toUpperCase()+d.slice(1)},s=()=>Object.values(t.fileTypeCategories).flat(),o=()=>{t.draft.digitalAllowedExtensions=s()},l=()=>{t.draft.digitalAllowedExtensions=[]};return(d,p)=>(A(),S("div",vx,[a("header",Px,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital products")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:p[0]||(p[0]=_=>d.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh")),9,Nx)]),e.error?(A(),S("div",Mx,c(e.error),1)):e.loading?(A(),S("div",Ix,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings...")),1)):(A(),S("form",{key:2,class:"nxp-ec-settings-form",onSubmit:p[9]||(p[9]=ht(_=>d.$emit("save"),["prevent"]))},[a("div",kx,[a("div",$x,[a("label",wx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS","Default max downloads")),1),ne(a("input",{id:"settings-digital-max",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":p[1]||(p[1]=_=>e.draft.digitalMaxDownloads=_)},null,512),[[Ce,e.draft.digitalMaxDownloads,void 0,{number:!0}]]),a("p",Dx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS_DESC","Maximum downloads allowed per purchase (0 for unlimited).")),1)]),a("div",Lx,[a("label",Yx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY","Download link expiry (days)")),1),ne(a("input",{id:"settings-digital-expiry",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":p[2]||(p[2]=_=>e.draft.digitalExpiryDays=_)},null,512),[[Ce,e.draft.digitalExpiryDays,void 0,{number:!0}]]),a("p",Ux,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY_DESC","Number of days before links expire (0 for no expiry).")),1)]),a("div",Xx,[a("label",Fx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL","Auto-fulfill digital orders")),1),ne(a("input",{id:"settings-digital-fulfill",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":p[3]||(p[3]=_=>e.draft.digitalAutoFulfill=_)},null,512),[[ot,e.draft.digitalAutoFulfill]]),a("p",Gx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL_DESC","Mark digital-only orders fulfilled after payment.")),1)]),a("div",Vx,[a("label",Hx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE","Max file size (MB)")),1),ne(a("input",{id:"settings-digital-max-size",class:"nxp-ec-form-input",type:"number",min:"1",max:"2048",step:"1","onUpdate:modelValue":p[4]||(p[4]=_=>e.draft.digitalMaxFileSize=_)},null,512),[[Ce,e.draft.digitalMaxFileSize,void 0,{number:!0}]]),a("p",Bx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE_DESC","Maximum upload size per file in megabytes (1-2048 MB).")),1)]),a("div",Kx,[a("label",jx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH","Storage path")),1),ne(a("input",{id:"settings-digital-storage",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[5]||(p[5]=_=>e.draft.digitalStoragePath=_),maxlength:"250"},null,512),[[Ce,e.draft.digitalStoragePath,void 0,{trim:!0}]]),a("p",Jx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH_DESC","Protected directory for digital files. Adjust only if you know the server path.")),1)])]),a("div",Wx,[a("h4",qx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES","Allowed File Types")),1),a("p",zx,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES_DESC","Select which file types can be uploaded as digital products.")),1),a("div",Qx,[a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm",onClick:o},c(r(n)("COM_NXPEASYCART_SELECT_ALL","Select All")),1),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-btn--link",onClick:l},c(r(n)("COM_NXPEASYCART_SELECT_NONE","Select None")),1)]),a("div",Zx,[(A(!0),S(xe,null,ke(e.fileTypeCategories,(_,m)=>(A(),S("div",{key:m,class:"nxp-ec-filetypes-category"},[a("h5",ev,c(i(m)),1),a("div",tv,[(A(!0),S(xe,null,ke(_,u=>(A(),S("label",{key:u,class:"nxp-ec-filetypes-item"},[ne(a("input",{type:"checkbox",value:u,"onUpdate:modelValue":p[6]||(p[6]=y=>e.draft.digitalAllowedExtensions=y),class:"nxp-ec-filetypes-item__checkbox"},null,8,nv),[[ot,e.draft.digitalAllowedExtensions]]),a("span",sv,"."+c(u),1)]))),128))])]))),128))]),a("div",av,[a("label",ov,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS","Custom Extensions")),1),ne(a("input",{id:"settings-digital-custom-ext",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[7]||(p[7]=_=>e.draft.digitalCustomExtensions=_),placeholder:"blend, psd, ai, sketch"},null,512),[[Ce,e.draft.digitalCustomExtensions,void 0,{trim:!0}]]),a("p",iv,c(r(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS_DESC","Comma-separated list of additional extensions. These bypass MIME validation - use only for trusted uploads.")),1)])]),a("div",rv,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:p[8]||(p[8]=_=>d.$emit("reset"))},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_RESET","Reset")),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("JSAVE","Save")),9,lv)])],32))]))}},dv={class:"nxp-ec-settings-panel"},uv={class:"nxp-ec-settings-panel__header"},pv=["disabled"],_v={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fv={class:"nxp-ec-form-help"},mv={class:"nxp-ec-form-grid"},hv={class:"nxp-ec-form-field"},gv={class:"nxp-ec-form-label",for:"settings-checkout-window"},Ev={class:"nxp-ec-form-help"},Cv={class:"nxp-ec-form-field"},Av={class:"nxp-ec-form-label",for:"settings-offline-window"},Sv={class:"nxp-ec-form-help"},bv={class:"nxp-ec-form-grid"},yv={class:"nxp-ec-form-field"},Tv={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},Rv={class:"nxp-ec-form-field"},Ov={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},xv={class:"nxp-ec-form-field"},vv={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},Pv={class:"nxp-ec-form-grid"},Nv={class:"nxp-ec-form-field"},Mv={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},Iv={class:"nxp-ec-form-field"},kv={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},$v={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},wv={class:"nxp-ec-settings-actions"},Dv=["disabled"],Lv=["disabled"],Yv={__name:"SecurityTab",props:{draft:{type:Object,required:!0},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""},message:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const n=e.translate;return(i,s)=>(A(),S("div",dv,[a("header",uv,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:s[0]||(s[0]=o=>i.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh")),9,pv)]),e.error?(A(),S("div",_v,c(e.error),1)):(A(),S("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:s[9]||(s[9]=ht(o=>i.$emit("save"),["prevent"]))},[a("p",fv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.")),1),a("div",mv,[a("div",hv,[a("label",gv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)")),1),ne(a("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[1]||(s[1]=o=>e.draft.checkoutWindowMinutes=o)},null,512),[[Ce,e.draft.checkoutWindowMinutes,void 0,{number:!0}]]),a("p",Ev,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.")),1)]),a("div",Cv,[a("label",Av,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)")),1),ne(a("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[2]||(s[2]=o=>e.draft.offlineWindowMinutes=o)},null,512),[[Ce,e.draft.offlineWindowMinutes,void 0,{number:!0}]]),a("p",Sv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.")),1)])]),a("div",bv,[a("div",yv,[a("label",Tv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP")),1),ne(a("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[3]||(s[3]=o=>e.draft.checkoutIpLimit=o)},null,512),[[Ce,e.draft.checkoutIpLimit,void 0,{number:!0}]])]),a("div",Rv,[a("label",Ov,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email")),1),ne(a("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[4]||(s[4]=o=>e.draft.checkoutEmailLimit=o)},null,512),[[Ce,e.draft.checkoutEmailLimit,void 0,{number:!0}]])]),a("div",xv,[a("label",vv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session")),1),ne(a("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[5]||(s[5]=o=>e.draft.checkoutSessionLimit=o)},null,512),[[Ce,e.draft.checkoutSessionLimit,void 0,{number:!0}]])])]),a("div",Pv,[a("div",Nv,[a("label",Mv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP")),1),ne(a("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[6]||(s[6]=o=>e.draft.offlineIpLimit=o)},null,512),[[Ce,e.draft.offlineIpLimit,void 0,{number:!0}]])]),a("div",Iv,[a("label",kv,c(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email")),1),ne(a("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":s[7]||(s[7]=o=>e.draft.offlineEmailLimit=o)},null,512),[[Ce,e.draft.offlineEmailLimit,void 0,{number:!0}]])])]),e.message?(A(),S("div",$v,c(e.message),1)):ie("",!0),a("div",wv,[a("button",{class:"nxp-ec-btn",type:"button",onClick:s[8]||(s[8]=o=>i.$emit("reset")),disabled:e.saving},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel")),9,Dv),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security")),9,Lv)])],32))]))}},Uv={class:"nxp-ec-settings-panel"},Xv={class:"nxp-ec-settings-panel__header"},Fv={class:"nxp-ec-settings-actions"},Gv=["disabled"],Vv={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Hv={key:1,class:"nxp-ec-admin-panel__loading"},Bv={class:"nxp-ec-fieldset-legend-with-help"},Kv=["title"],jv={class:"nxp-ec-form-field"},Jv={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},Wv=["title"],qv=["placeholder"],zv={class:"nxp-ec-form-help"},Qv={class:"nxp-ec-form-field"},Zv={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},eP=["title"],tP=["placeholder"],nP={class:"nxp-ec-form-help"},sP={class:"nxp-ec-form-field"},aP={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},oP=["title"],iP=["placeholder"],rP={class:"nxp-ec-form-help"},lP={style:{display:"block","margin-top":"0.25rem","word-break":"break-all"}},cP={class:"nxp-ec-form-field"},dP={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},uP={value:"test"},pP={value:"live"},_P={class:"nxp-ec-fieldset-legend-with-help"},fP=["title"],mP={class:"nxp-ec-form-field"},hP={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},gP=["title"],EP={class:"nxp-ec-form-help"},CP={class:"nxp-ec-form-field"},AP={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},SP=["title"],bP={class:"nxp-ec-form-help"},yP={class:"nxp-ec-form-field"},TP={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},RP=["title"],OP=["placeholder"],xP={class:"nxp-ec-form-help"},vP={style:{display:"block","margin-top":"0.25rem","word-break":"break-all"}},PP={class:"nxp-ec-form-field"},NP={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},MP={value:"sandbox"},IP={value:"live"},kP={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$P={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},wP={class:"nxp-ec-form-field"},DP={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},LP={class:"nxp-ec-form-field nxp-ec-form-field--inline"},YP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},UP={class:"nxp-ec-form-field"},XP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},FP={class:"nxp-ec-form-field"},GP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},VP=["placeholder"],HP={class:"nxp-ec-form-help"},BP={class:"nxp-ec-form-grid"},KP={class:"nxp-ec-form-field"},jP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},JP={class:"nxp-ec-form-field"},WP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},qP={class:"nxp-ec-form-field"},zP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},QP={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ZP={class:"nxp-ec-form-label",for:"settings-payments-configured"},eN={class:"nxp-ec-form-help"},tN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},nN={class:"nxp-ec-settings-actions"},sN=["disabled"],aN=["disabled"],oN={__name:"PaymentsTab",props:{draft:{type:Object,required:!0},settingsDraft:{type:Object,required:!0},siteUrl:{type:String,default:""},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""},message:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const n=e.translate;return(i,s)=>(A(),S("div",Uv,[a("header",Xv,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways")),1),a("div",Fv,[a("button",{class:"nxp-ec-btn",type:"button",onClick:s[0]||(s[0]=o=>i.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh")),9,Gv)])]),e.error?(A(),S("div",Vv,c(e.error),1)):e.loading?(A(),S("div",Hv,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration...")),1)):(A(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:s[19]||(s[19]=ht(o=>i.$emit("save"),["prevent"]))},[a("fieldset",null,[a("legend",Bv,[a("span",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe")),1),a("a",{href:"https://docs.stripe.com/keys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SETUP_GUIDE","View Stripe setup documentation")},c(r(n)("COM_NXPEASYCART_SETTINGS_SETUP_GUIDE","Setup Guide")),9,Kv)]),a("div",jv,[a("label",Jv,[Se(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key"))+" ",1),a("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_GET_STRIPE_KEYS","Get your API keys from Stripe Dashboard")}," [link] ",8,Wv)]),ne(a("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[1]||(s[1]=o=>e.draft.stripe.publishable_key=o),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_PK_PLACEHOLDER","pk_test_... or pk_live_...")},null,8,qv),[[Ce,e.draft.stripe.publishable_key,void 0,{trim:!0}]]),a("p",zv,c(r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_PK_HELP","Find in Stripe Dashboard -> Developers -> API Keys. Starts with pk_test_ (test) or pk_live_ (live).")),1)]),a("div",Qv,[a("label",Zv,[Se(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key"))+" ",1),a("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_GET_STRIPE_KEYS","Get your API keys from Stripe Dashboard")}," [link] ",8,eP)]),ne(a("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":s[2]||(s[2]=o=>e.draft.stripe.secret_key=o),autocomplete:"off",placeholder:r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_SK_PLACEHOLDER","sk_test_... or sk_live_...")},null,8,tP),[[Ce,e.draft.stripe.secret_key,void 0,{trim:!0}]]),a("p",nP,c(r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_SK_HELP","Find in Stripe Dashboard -> Developers -> API Keys. Click 'Reveal' to view. Starts with sk_test_ (test) or sk_live_ (live).")),1)]),a("div",sP,[a("label",aP,[Se(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret"))+" ",1),a("a",{href:"https://dashboard.stripe.com/webhooks",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_CREATE_STRIPE_WEBHOOK","Create webhook in Stripe Dashboard")}," [link] ",8,oP)]),ne(a("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":s[3]||(s[3]=o=>e.draft.stripe.webhook_secret=o),autocomplete:"off",placeholder:r(n)("COM_NXPEASYCART_SETTINGS_STRIPE_WH_PLACEHOLDER","whsec_...")},null,8,iP),[[Ce,e.draft.stripe.webhook_secret,void 0,{trim:!0}]]),a("p",rP,[Se(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Create webhook in Stripe Dashboard -> Developers -> Webhooks. Your webhook URL:"))+" ",1),a("code",lP,c(e.siteUrl)+"/index.php?option=com_nxpeasycart&task=webhook.stripe",1)])]),a("div",cP,[a("label",dP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode")),1),ne(a("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":s[4]||(s[4]=o=>e.draft.stripe.mode=o)},[a("option",uP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test")),1),a("option",pP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live")),1)],512),[[pt,e.draft.stripe.mode]])])]),a("fieldset",null,[a("legend",_P,[a("span",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal")),1),a("a",{href:"https://developer.paypal.com/api/rest/",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_SETUP_GUIDE","View PayPal setup documentation")},c(r(n)("COM_NXPEASYCART_SETTINGS_SETUP_GUIDE","Setup Guide")),9,fP)]),a("div",mP,[a("label",hP,[Se(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID"))+" ",1),a("a",{href:"https://developer.paypal.com/dashboard/applications/sandbox",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_GET_PAYPAL_CREDS","Get credentials from PayPal Developer Dashboard")}," [link] ",8,gP)]),ne(a("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[5]||(s[5]=o=>e.draft.paypal.client_id=o)},null,512),[[Ce,e.draft.paypal.client_id,void 0,{trim:!0}]]),a("p",EP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYPAL_CLIENT_ID_HELP","Find in PayPal Developer Dashboard -> Apps & Credentials -> Your App. Long alphanumeric string.")),1)]),a("div",CP,[a("label",AP,[Se(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret"))+" ",1),a("a",{href:"https://developer.paypal.com/dashboard/applications/sandbox",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_GET_PAYPAL_CREDS","Get credentials from PayPal Developer Dashboard")}," [link] ",8,SP)]),ne(a("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":s[6]||(s[6]=o=>e.draft.paypal.client_secret=o),autocomplete:"off"},null,512),[[Ce,e.draft.paypal.client_secret,void 0,{trim:!0}]]),a("p",bP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYPAL_CLIENT_SECRET_HELP","Find in PayPal Developer Dashboard -> Apps & Credentials -> Your App. Click 'Show' to reveal.")),1)]),a("div",yP,[a("label",TP,[Se(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID"))+" ",1),a("a",{href:"https://developer.paypal.com/api/rest/webhooks/",target:"_blank",rel:"noopener noreferrer",class:"nxp-ec-field-help-link",title:r(n)("COM_NXPEASYCART_SETTINGS_CREATE_PAYPAL_WEBHOOK","Learn about PayPal webhooks")}," [link] ",8,RP)]),ne(a("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[7]||(s[7]=o=>e.draft.paypal.webhook_id=o),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYPAL_WH_PLACEHOLDER","WH-...")},null,8,OP),[[Ce,e.draft.paypal.webhook_id,void 0,{trim:!0}]]),a("p",xP,[Se(c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Create webhook in your PayPal app -> Webhooks section. Required for signature verification. Your webhook URL:"))+" ",1),a("code",vP,c(e.siteUrl)+"/index.php?option=com_nxpeasycart&task=webhook.paypal",1)])]),a("div",PP,[a("label",NP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode")),1),ne(a("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":s[8]||(s[8]=o=>e.draft.paypal.mode=o)},[a("option",MP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox")),1),a("option",IP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live")),1)],512),[[pt,e.draft.paypal.mode]])])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery")),1),a("div",kP,[a("label",$P,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery")),1),ne(a("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":s[9]||(s[9]=o=>e.draft.cod.enabled=o)},null,512),[[ot,e.draft.cod.enabled]])]),a("div",wP,[a("label",DP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label")),1),ne(a("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[10]||(s[10]=o=>e.draft.cod.label=o),placeholder:"Cash on delivery"},null,512),[[Ce,e.draft.cod.label,void 0,{trim:!0}]])])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer")),1),a("div",LP,[a("label",YP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer")),1),ne(a("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":s[11]||(s[11]=o=>e.draft.bank_transfer.enabled=o)},null,512),[[ot,e.draft.bank_transfer.enabled]])]),a("div",UP,[a("label",XP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label")),1),ne(a("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[12]||(s[12]=o=>e.draft.bank_transfer.label=o),placeholder:"Bank transfer"},null,512),[[Ce,e.draft.bank_transfer.label,void 0,{trim:!0}]])]),a("div",FP,[a("label",GP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions")),1),ne(a("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":s[13]||(s[13]=o=>e.draft.bank_transfer.instructions=o),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.")},null,8,VP),[[Ce,e.draft.bank_transfer.instructions]]),a("p",HP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.")),1)]),a("div",BP,[a("div",KP,[a("label",jP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name")),1),ne(a("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[14]||(s[14]=o=>e.draft.bank_transfer.account_name=o)},null,512),[[Ce,e.draft.bank_transfer.account_name,void 0,{trim:!0}]])]),a("div",JP,[a("label",WP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN")),1),ne(a("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[15]||(s[15]=o=>e.draft.bank_transfer.iban=o),maxlength:"34"},null,512),[[Ce,e.draft.bank_transfer.iban,void 0,{trim:!0}]])]),a("div",qP,[a("label",zP,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT")),1),ne(a("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":s[16]||(s[16]=o=>e.draft.bank_transfer.bic=o),maxlength:"11"},null,512),[[Ce,e.draft.bank_transfer.bic,void 0,{trim:!0}]])])])]),a("fieldset",null,[a("legend",null,c(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status")),1),a("div",QP,[a("label",ZP,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured")),1),ne(a("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":s[17]||(s[17]=o=>e.settingsDraft.paymentsConfigured=o)},null,512),[[ot,e.settingsDraft.paymentsConfigured]]),a("p",eN,c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).")),1)])]),e.message?(A(),S("div",tN,c(e.message),1)):ie("",!0),a("div",nN,[a("button",{class:"nxp-ec-btn",type:"button",onClick:s[18]||(s[18]=o=>i.$emit("reset")),disabled:e.saving},c(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel")),9,sN),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments")),9,aN)])],32))]))}},iN={class:"nxp-ec-settings-panel"},rN={class:"nxp-ec-settings-panel__header"},lN=["disabled"],cN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},dN={key:1,class:"nxp-ec-admin-panel__loading"},uN={class:"nxp-ec-form-help"},pN={class:"nxp-ec-form-help nxp-ec-form-help--muted"},_N={class:"nxp-ec-visual-grid"},fN={class:"nxp-ec-visual-field"},mN={class:"nxp-ec-form-label",for:"visual-primary-color"},hN={class:"nxp-ec-color-input-group"},gN=["value"],EN=["placeholder"],CN={class:"nxp-ec-visual-field"},AN={class:"nxp-ec-form-label",for:"visual-text-color"},SN={class:"nxp-ec-color-input-group"},bN=["value"],yN=["placeholder"],TN={class:"nxp-ec-visual-field"},RN={class:"nxp-ec-form-label",for:"visual-surface-color"},ON={class:"nxp-ec-color-input-group"},xN=["value"],vN=["placeholder"],PN={class:"nxp-ec-visual-field"},NN={class:"nxp-ec-form-label",for:"visual-border-color"},MN={class:"nxp-ec-color-input-group"},IN=["value"],kN=["placeholder"],$N={class:"nxp-ec-visual-field"},wN={class:"nxp-ec-form-label",for:"visual-muted-color"},DN={class:"nxp-ec-color-input-group"},LN=["value"],YN=["placeholder"],UN={class:"nxp-ec-visual-preview"},XN={type:"button",class:"nxp-ec-preview-btn"},FN={class:"nxp-ec-preview-text"},GN={class:"nxp-ec-preview-muted"},VN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},HN={class:"nxp-ec-settings-actions"},BN=["disabled"],KN=["disabled"],jN={__name:"VisualTab",props:{draft:{type:Object,required:!0},templateDefaults:{type:Object,default:()=>({primary:"#4f6d7a",text:"#1f2933",surface:"#ffffff",border:"#e4e7ec",muted:"#6b7280"})},translate:{type:Function,required:!0},loading:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},error:{type:String,default:""},message:{type:String,default:""}},emits:["refresh","save","reset"],setup(e){const t=e,n=t.translate,i=Ae(()=>({"--nxp-ec-color-primary":t.draft.primaryColor||t.templateDefaults.primary,"--nxp-ec-color-text":t.draft.textColor||t.templateDefaults.text,"--nxp-ec-color-surface":t.draft.surfaceColor||t.templateDefaults.surface,"--nxp-ec-color-border":t.draft.borderColor||t.templateDefaults.border,"--nxp-ec-color-muted":t.draft.mutedColor||t.templateDefaults.muted}));return(s,o)=>(A(),S("div",iN,[a("header",rN,[a("h3",null,c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors")),1),a("button",{class:"nxp-ec-btn",type:"button",onClick:o[0]||(o[0]=l=>s.$emit("refresh")),disabled:e.loading},c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh")),9,lN)]),e.error?(A(),S("div",cN,c(e.error),1)):e.loading?(A(),S("div",dN,c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings...")),1)):(A(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:o[17]||(o[17]=ht(l=>s.$emit("save"),["prevent"]))},[a("p",uN,c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.")),1),a("p",pN,c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.")),1),a("div",_N,[a("div",fN,[a("label",mN,c(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color")),1),a("div",hN,[a("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.primaryColor||e.templateDefaults.primary,onInput:o[1]||(o[1]=l=>e.draft.primaryColor=l.target.value)},null,40,gN),ne(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[2]||(o[2]=l=>e.draft.primaryColor=l),placeholder:e.templateDefaults.primary,maxlength:"7"},null,8,EN),[[Ce,e.draft.primaryColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[3]||(o[3]=l=>e.draft.primaryColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])]),a("div",CN,[a("label",AN,c(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color")),1),a("div",SN,[a("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.textColor||e.templateDefaults.text,onInput:o[4]||(o[4]=l=>e.draft.textColor=l.target.value)},null,40,bN),ne(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[5]||(o[5]=l=>e.draft.textColor=l),placeholder:e.templateDefaults.text,maxlength:"7"},null,8,yN),[[Ce,e.draft.textColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[6]||(o[6]=l=>e.draft.textColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])]),a("div",TN,[a("label",RN,c(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color")),1),a("div",ON,[a("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.surfaceColor||e.templateDefaults.surface,onInput:o[7]||(o[7]=l=>e.draft.surfaceColor=l.target.value)},null,40,xN),ne(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[8]||(o[8]=l=>e.draft.surfaceColor=l),placeholder:e.templateDefaults.surface,maxlength:"7"},null,8,vN),[[Ce,e.draft.surfaceColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[9]||(o[9]=l=>e.draft.surfaceColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])]),a("div",PN,[a("label",NN,c(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color")),1),a("div",MN,[a("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.borderColor||e.templateDefaults.border,onInput:o[10]||(o[10]=l=>e.draft.borderColor=l.target.value)},null,40,IN),ne(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[11]||(o[11]=l=>e.draft.borderColor=l),placeholder:e.templateDefaults.border,maxlength:"7"},null,8,kN),[[Ce,e.draft.borderColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[12]||(o[12]=l=>e.draft.borderColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])]),a("div",$N,[a("label",wN,c(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color")),1),a("div",DN,[a("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:e.draft.mutedColor||e.templateDefaults.muted,onInput:o[13]||(o[13]=l=>e.draft.mutedColor=l.target.value)},null,40,LN),ne(a("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":o[14]||(o[14]=l=>e.draft.mutedColor=l),placeholder:e.templateDefaults.muted,maxlength:"7"},null,8,YN),[[Ce,e.draft.mutedColor,void 0,{trim:!0}]]),a("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:o[15]||(o[15]=l=>e.draft.mutedColor="")},c(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset")),1)])])]),a("div",UN,[a("h4",null,c(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview")),1),a("div",{class:"nxp-ec-preview-box",style:xt(i.value)},[a("button",XN,c(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button")),1),a("p",FN,c(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors")),1),a("p",GN,c(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example")),1)],4)]),e.message?(A(),S("div",VN,c(e.message),1)):ie("",!0),a("div",HN,[a("button",{class:"nxp-ec-btn",type:"button",onClick:o[16]||(o[16]=l=>s.$emit("reset")),disabled:e.saving},c(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel")),9,BN),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.saving},c(e.saving?r(n)("JPROCESSING_REQUEST","Saving..."):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors")),9,KN)])],32))]))}},JN={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},WN={class:"nxp-ec-admin-panel__header"},qN={class:"nxp-ec-admin-panel__title"},zN={class:"nxp-ec-admin-panel__lead"},QN={class:"nxp-ec-settings-tabs"},ZN=_t({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=n.settingsState,l=n.paymentsState,p=Ye(["general","digital","security","payments","visual"].includes(n.initialTab)?n.initialTab:"general"),_=Ve({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:n.baseCurrency||"USD",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1,digitalMaxDownloads:5,digitalExpiryDays:30,digitalStoragePath:"",digitalAutoFulfill:!0,digitalMaxFileSize:200,digitalAllowedExtensions:[],digitalCustomExtensions:""}),m=Ve({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),u=Ve({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),y=Ve({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),h=Ye({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]});Ae(()=>{var H;const g=n.baseCurrency||"USD",R=typeof _.baseCurrency=="string"?_.baseCurrency.trim():"",L=typeof((H=o==null?void 0:o.values)==null?void 0:H.base_currency)=="string"?o.values.base_currency.trim():"";return R!==""?R:L!==""?L:g});const w=Ae(()=>{var R,L;const g=(L=(R=o.values)==null?void 0:R.visual_defaults)!=null?L:{};return{primary:g.primary_color||"#4f6d7a",text:g.text_color||"#1f2933",surface:g.surface_color||"#ffffff",border:g.border_color||"#e4e7ec",muted:g.muted_color||"#6b7280"}}),I=Ae(()=>{var g,R;return(R=(g=o.values)==null?void 0:g.currencies)!=null?R:[]}),C=Ae(()=>{var g,R,L;return((L=(R=(g=window.Joomla)==null?void 0:g.getOptions)==null?void 0:R.call(g,"system.paths"))==null?void 0:L.root)||window.location.origin}),E=()=>Object.values(h.value).flat(),f=g=>{var L;const R=(L=g==null?void 0:g.digital)==null?void 0:L.allowed_extensions;return R==null?E():Array.isArray(R)?[...R]:E()},N=(g={})=>{var j,X,de,Ee,be,J,_e,Te,$e,T,v,G,ae,Q,te,z,q,Z,W,ge;const R=(j=g==null?void 0:g.store)!=null?j:{},L=(X=g==null?void 0:g.payments)!=null?X:{},H=(de=g==null?void 0:g.visual)!=null?de:{},F=(be=(Ee=g==null?void 0:g.security)==null?void 0:Ee.rate_limits)!=null?be:{};Object.assign(_,{storeName:(J=R.name)!=null?J:"",storeEmail:(_e=R.email)!=null?_e:"",storePhone:(Te=R.phone)!=null?Te:"",checkoutPhoneRequired:!!(($e=g==null?void 0:g.checkout_phone_required)!=null&&$e),paymentsConfigured:!!L.configured,autoSendOrderEmails:!!((T=g==null?void 0:g.auto_send_order_emails)!=null&&T),baseCurrency:typeof(g==null?void 0:g.base_currency)=="string"?g.base_currency.trim().toUpperCase():(n.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(g==null?void 0:g.display_locale)=="string"?g.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(g==null?void 0:g.category_page_size))?Number(g.category_page_size):12,categoryPaginationMode:(g==null?void 0:g.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((v=g==null?void 0:g.stale_order_cleanup_enabled)!=null&&v),staleOrderHours:Number.isFinite(Number(g==null?void 0:g.stale_order_hours))?Math.max(1,Math.min(720,Number(g.stale_order_hours))):48,showAdvancedMode:!!((G=g==null?void 0:g.show_advanced_mode)!=null&&G),digitalMaxDownloads:Number.isFinite(Number(g==null?void 0:g.digital_download_max))?Math.max(0,Number(g.digital_download_max)):5,digitalExpiryDays:Number.isFinite(Number(g==null?void 0:g.digital_download_expiry))?Math.max(0,Number(g.digital_download_expiry)):30,digitalStoragePath:typeof(g==null?void 0:g.digital_storage_path)=="string"?g.digital_storage_path:"",digitalAutoFulfill:!!((ae=g==null?void 0:g.digital_auto_fulfill)==null||ae),digitalMaxFileSize:Number.isFinite(Number(g==null?void 0:g.digital_max_file_size))?Math.max(1,Math.min(2048,Number(g.digital_max_file_size))):200,digitalAllowedExtensions:f(g),digitalCustomExtensions:typeof((Q=g==null?void 0:g.digital)==null?void 0:Q.custom_extensions)=="string"?g.digital.custom_extensions:""}),(te=g==null?void 0:g.digital)!=null&&te.file_type_categories&&(h.value=g.digital.file_type_categories),Object.assign(y,{primaryColor:(z=H.primary_color)!=null?z:"",textColor:(q=H.text_color)!=null?q:"",surfaceColor:(Z=H.surface_color)!=null?Z:"",borderColor:(W=H.border_color)!=null?W:"",mutedColor:(ge=H.muted_color)!=null?ge:""}),Object.assign(m,{checkoutWindowMinutes:Number.isFinite(Number(F.checkout_window_minutes))?Number(F.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(F.checkout_ip_limit))?Number(F.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(F.checkout_email_limit))?Number(F.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(F.checkout_session_limit))?Number(F.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(F.offline_window_minutes))?Number(F.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(F.offline_ip_limit))?Number(F.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(F.offline_email_limit))?Number(F.offline_email_limit):5})},x=(g={})=>{var j,X,de,Ee,be,J,_e,Te,$e,T,v,G,ae,Q,te,z,q,Z,W,ge,ce,he,ye,Ne;const R=(j=g.stripe)!=null?j:{},L=(X=g.paypal)!=null?X:{},H=(de=g.cod)!=null?de:{},F=(Ee=g.bank_transfer)!=null?Ee:{};Object.assign(u.stripe,{publishable_key:(be=R.publishable_key)!=null?be:"",secret_key:(J=R.secret_key)!=null?J:"",webhook_secret:(_e=R.webhook_secret)!=null?_e:"",mode:(Te=R.mode)!=null?Te:"test"}),Object.assign(u.paypal,{client_id:($e=L.client_id)!=null?$e:"",client_secret:(T=L.client_secret)!=null?T:"",webhook_id:(v=L.webhook_id)!=null?v:"",mode:(G=L.mode)!=null?G:"sandbox"}),Object.assign(u.cod,{enabled:H.enabled!==void 0?!!H.enabled:u.cod.enabled,label:(Q=(ae=H.label)!=null?ae:u.cod.label)!=null?Q:"Cash on delivery"}),Object.assign(u.bank_transfer,{enabled:F.enabled!==void 0?!!F.enabled:u.bank_transfer.enabled,label:(z=(te=F.label)!=null?te:u.bank_transfer.label)!=null?z:"Bank transfer",instructions:(Z=(q=F.instructions)!=null?q:u.bank_transfer.instructions)!=null?Z:"",account_name:(ge=(W=F.account_name)!=null?W:u.bank_transfer.account_name)!=null?ge:"",iban:(he=(ce=F.iban)!=null?ce:u.bank_transfer.iban)!=null?he:"",bic:(Ne=(ye=F.bic)!=null?ye:u.bank_transfer.bic)!=null?Ne:""})};qe(()=>o.values,g=>{N(g!=null?g:{})},{immediate:!0}),qe(()=>o.saving,(g,R)=>{var L;R&&!g&&!o.error&&N((L=o.values)!=null?L:{})}),qe(()=>l.config,g=>{x(g!=null?g:{})},{immediate:!0}),qe(()=>l.saving,(g,R)=>{var L;R&&!g&&!l.error&&x((L=l.config)!=null?L:{})});const B=()=>i("refresh-settings"),Y=()=>{const g=(_.baseCurrency||"").trim().toUpperCase(),R=(_.displayLocale||"").trim();i("save-settings",{store:{name:_.storeName,email:_.storeEmail,phone:_.storePhone,base_currency:g},payments:{configured:_.paymentsConfigured},base_currency:g,display_locale:R,checkout_phone_required:_.checkoutPhoneRequired,auto_send_order_emails:_.autoSendOrderEmails,category_page_size:Number.isFinite(Number(_.categoryPageSize))?Number(_.categoryPageSize):12,category_pagination_mode:_.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!_.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(_.staleOrderHours))?Math.max(1,Math.min(720,Number(_.staleOrderHours))):48,show_advanced_mode:!!_.showAdvancedMode})},b=()=>{var g;N((g=o.values)!=null?g:{})},P=()=>{const g=Number.isFinite(Number(_.digitalMaxDownloads))?Math.max(0,Number(_.digitalMaxDownloads)):0,R=Number.isFinite(Number(_.digitalExpiryDays))?Math.max(0,Number(_.digitalExpiryDays)):0,L=(_.digitalStoragePath||"").trim(),H=Number.isFinite(Number(_.digitalMaxFileSize))?Math.max(1,Math.min(2048,Number(_.digitalMaxFileSize))):200,F=E(),j=_.digitalAllowedExtensions||[],de=F.length===j.length&&F.every(be=>j.includes(be))?null:[...j],Ee=(_.digitalCustomExtensions||"").trim();i("save-settings",{digital:{max_downloads:g,expiry_days:R,storage_path:L,auto_fulfill:!!_.digitalAutoFulfill,max_file_size:H,allowed_extensions:de,custom_extensions:Ee}})},ee=()=>{var g;N((g=o.values)!=null?g:{})},O=()=>{const g=(R,L=0)=>{const H=Number(R);return Number.isFinite(H)&&H>=0?H:L};i("save-settings",{security:{rate_limits:{checkout_window_minutes:g(m.checkoutWindowMinutes,15),checkout_ip_limit:g(m.checkoutIpLimit,10),checkout_email_limit:g(m.checkoutEmailLimit,5),checkout_session_limit:g(m.checkoutSessionLimit,15),offline_window_minutes:g(m.offlineWindowMinutes,240),offline_ip_limit:g(m.offlineIpLimit,10),offline_email_limit:g(m.offlineEmailLimit,5)}}})},se=()=>{var g;N((g=o.values)!=null?g:{})},K=()=>i("refresh-payments"),oe=()=>{const g=JSON.parse(JSON.stringify(u));i("save-payments",g),i("save-settings",{payments:{configured:_.paymentsConfigured}})},re=()=>{var g;x((g=l.config)!=null?g:{})},Oe=()=>i("refresh-settings"),V=()=>{i("save-settings",{visual:{primary_color:y.primaryColor,text_color:y.textColor,surface_color:y.surfaceColor,border_color:y.borderColor,muted_color:y.mutedColor}})},$=()=>{var R,L,H,F,j,X,de;const g=(L=(R=o.values)==null?void 0:R.visual)!=null?L:{};Object.assign(y,{primaryColor:(H=g.primary_color)!=null?H:"",textColor:(F=g.text_color)!=null?F:"",surfaceColor:(j=g.surface_color)!=null?j:"",borderColor:(X=g.border_color)!=null?X:"",mutedColor:(de=g.muted_color)!=null?de:""})};return(g,R)=>(A(),S("section",JN,[a("header",WN,[a("div",null,[a("h2",qN,c(r(s)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),a("p",zN,c(r(s)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),a("nav",QN,[a("button",{type:"button",class:we(["nxp-ec-settings-tab",{"is-active":p.value==="general"}]),onClick:R[0]||(R[0]=L=>p.value="general")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),a("button",{type:"button",class:we(["nxp-ec-settings-tab",{"is-active":p.value==="digital"}]),onClick:R[1]||(R[1]=L=>p.value="digital")},c(r(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital")),3),_.showAdvancedMode?(A(),S("button",{key:0,type:"button",class:we(["nxp-ec-settings-tab",{"is-active":p.value==="security"}]),onClick:R[2]||(R[2]=L=>p.value="security")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):ie("",!0),a("button",{type:"button",class:we(["nxp-ec-settings-tab",{"is-active":p.value==="payments"}]),onClick:R[3]||(R[3]=L=>p.value="payments")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),a("button",{type:"button",class:we(["nxp-ec-settings-tab",{"is-active":p.value==="visual"}]),onClick:R[4]||(R[4]=L=>p.value="visual")},c(r(s)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),p.value==="general"?(A(),et(xx,{key:0,draft:_,currencies:I.value,translate:r(s),loading:r(o).loading,saving:r(o).saving,error:r(o).error,message:r(o).message,onRefresh:B,onSave:Y,onReset:b},null,8,["draft","currencies","translate","loading","saving","error","message"])):p.value==="digital"?(A(),et(cv,{key:1,draft:_,"file-type-categories":h.value,translate:r(s),loading:r(o).loading,saving:r(o).saving,error:r(o).error,onRefresh:B,onSave:P,onReset:ee},null,8,["draft","file-type-categories","translate","loading","saving","error"])):p.value==="security"&&_.showAdvancedMode?(A(),et(Yv,{key:2,draft:m,translate:r(s),loading:r(o).loading,saving:r(o).saving,error:r(o).error,message:r(o).message,onRefresh:B,onSave:O,onReset:se},null,8,["draft","translate","loading","saving","error","message"])):p.value==="payments"?(A(),et(oN,{key:3,draft:u,"settings-draft":_,"site-url":C.value,translate:r(s),loading:r(l).loading,saving:r(l).saving,error:r(l).error,message:r(l).message,onRefresh:K,onSave:oe,onReset:re},null,8,["draft","settings-draft","site-url","translate","loading","saving","error","message"])):p.value==="visual"?(A(),et(jN,{key:4,draft:y,"template-defaults":w.value,translate:r(s),loading:r(o).loading,saving:r(o).saving,error:r(o).error,message:r(o).message,onRefresh:Oe,onSave:V,onReset:$},null,8,["draft","template-defaults","translate","loading","saving","error","message"])):ie("",!0)]))}},[["__scopeId","data-v-825007eb"]]),e1={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},t1={class:"nxp-ec-admin-panel__header"},n1={class:"nxp-ec-admin-panel__title"},s1={class:"nxp-ec-admin-panel__lead"},a1={class:"nxp-ec-admin-panel__actions"},o1=["disabled","title","aria-label"],i1={class:"nxp-ec-sr-only"},r1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},l1={key:1,class:"nxp-ec-admin-panel__loading"},c1={key:2,class:"nxp-ec-admin-panel__body"},d1={class:"nxp-ec-admin-panel__table"},u1={class:"nxp-ec-admin-table"},p1={scope:"col"},_1={scope:"col"},f1={scope:"col"},m1={scope:"col"},h1={scope:"col"},g1={scope:"col"},E1={key:0},C1={colspan:"7"},A1={scope:"row",class:"nxp-ec-admin-table__primary"},S1=["data-label"],b1=["data-label"],y1=["data-label"],T1=["data-label"],R1=["data-label"],O1={class:"nxp-ec-admin-table__actions"},x1=["onClick","title","aria-label"],v1={class:"nxp-ec-sr-only"},P1=["onClick","title","aria-label"],N1={class:"nxp-ec-sr-only"},M1={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},I1={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},k1={class:"nxp-ec-admin-panel__sidebar-header"},$1={id:"tax-modal-title"},w1=["title","aria-label"],D1={class:"nxp-ec-sr-only"},L1={class:"nxp-ec-form-field"},Y1={class:"nxp-ec-form-label",for:"tax-name"},U1=["placeholder"],X1={class:"nxp-ec-form-help"},F1={class:"nxp-ec-form-field"},G1={class:"nxp-ec-form-label",for:"tax-country"},V1=["placeholder"],H1={class:"nxp-ec-form-help"},B1={class:"nxp-ec-form-field"},K1={class:"nxp-ec-form-label",for:"tax-region"},j1=["placeholder"],J1={class:"nxp-ec-form-help"},W1={class:"nxp-ec-form-field"},q1={class:"nxp-ec-form-label",for:"tax-rate"},z1={class:"nxp-ec-input-group"},Q1={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Z1={class:"nxp-ec-form-label",for:"tax-inclusive"},eM={class:"nxp-ec-form-help"},tM={class:"nxp-ec-form-field"},nM={class:"nxp-ec-form-label",for:"tax-priority"},sM={class:"nxp-ec-form-help"},aM={class:"nxp-ec-modal__actions"},oM=["disabled"],iM=["disabled"],rM=["disabled"],lM=_t({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ye(!1),l=Ve({id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0}),d=()=>i("refresh"),p=()=>{u(),o.value=!0},_=w=>{Object.assign(l,{id:w.id,name:w.name||"",country:w.country,region:w.region,rate:w.rate,inclusive:w.inclusive,priority:w.priority}),o.value=!0},m=()=>{o.value=!1,u()},u=()=>{Object.assign(l,{id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0})},y=()=>{i("save",{id:l.id||void 0,name:l.name||null,country:l.country,region:l.region,rate:l.rate,inclusive:l.inclusive,priority:l.priority})},h=w=>{const I=s("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(I)&&(i("delete",[w.id]),l.id===w.id&&m())};return qe(()=>n.state.saving,(w,I)=>{I&&!w&&!n.state.error&&m()}),(w,I)=>(A(),S("section",e1,[a("header",t1,[a("div",null,[a("h2",n1,c(r(s)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),a("p",s1,c(r(s)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),a("div",a1,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":r(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[I[7]||(I[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",i1,c(r(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,o1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[I[8]||(I[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(A(),S("div",r1,c(e.state.error),1)):ie("",!0),e.state.loading?(A(),S("div",l1,c(r(s)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(A(),S("div",c1,[a("div",d1,[a("table",u1,[a("thead",null,[a("tr",null,[a("th",p1,c(r(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),a("th",_1,c(r(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),a("th",f1,c(r(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),a("th",m1,c(r(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),a("th",h1,c(r(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),a("th",g1,c(r(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),I[9]||(I[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?ie("",!0):(A(),S("tr",E1,[a("td",C1,c(r(s)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(A(!0),S(xe,null,ke(e.state.items,C=>{var E;return A(),S("tr",{key:C.id,class:we({"is-active":l.id===C.id})},[a("th",A1,c(C.name||r(s)("COM_NXPEASYCART_TAX_DEFAULT_NAME","Tax",[],"taxDefaultName")),1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_COUNTRY","Country")},c(C.country),9,S1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_REGION","Region")},c(C.region||""),9,b1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_RATE","Rate")},c(((E=C.rate)!=null?E:0).toFixed(2))+"%",9,y1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[a("span",{class:we(["nxp-ec-badge",{"is-active":C.inclusive}])},[a("i",{class:we(C.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Se(" "+c(C.inclusive?r(s)("JYES","Yes"):r(s)("JNO","No")),1)],2)],8,T1),a("td",{"data-label":r(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},c(C.priority),9,R1),a("td",O1,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:f=>_(C),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[I[10]||(I[10]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",v1,c(r(s)("JEDIT","Edit")),1)],8,x1),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:f=>h(C),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[I[11]||(I[11]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",N1,c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,P1)])],2)}),128))])])]),o.value?(A(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"tax-modal-title",onKeydown:gt(m,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:m}),a("div",M1,[a("aside",I1,[a("header",k1,[a("h3",$1,c(l.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:m,title:r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[I[12]||(I[12]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",D1,c(r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,w1)]),a("form",{class:"nxp-ec-form",onSubmit:ht(y,["prevent"]),autocomplete:"off"},[a("div",L1,[a("label",Y1,c(r(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),ne(a("input",{id:"tax-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":I[0]||(I[0]=C=>l.name=C),maxlength:"100",placeholder:r(s)("COM_NXPEASYCART_TAX_NAME_PLACEHOLDER","e.g. VAT, GST, Sales Tax",[],"taxNamePlaceholder")},null,8,U1),[[Ce,l.name,void 0,{trim:!0}]]),a("p",X1,c(r(s)("COM_NXPEASYCART_TAX_NAME_HELP",'Optional display name shown to customers. Falls back to "Tax" if empty.',[],"taxNameHelp")),1)]),a("div",F1,[a("label",G1,c(r(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),ne(a("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":I[1]||(I[1]=C=>l.country=C),maxlength:"2",required:"",placeholder:r(s)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,V1),[[Ce,l.country,void 0,{trim:!0}]]),a("p",H1,c(r(s)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),a("div",B1,[a("label",K1,c(r(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),ne(a("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":I[2]||(I[2]=C=>l.region=C),placeholder:r(s)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,j1),[[Ce,l.region,void 0,{trim:!0}]]),a("p",J1,c(r(s)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),a("div",W1,[a("label",q1,c(r(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),a("div",z1,[ne(a("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":I[3]||(I[3]=C=>l.rate=C),required:""},null,512),[[Ce,l.rate,void 0,{number:!0}]]),I[13]||(I[13]=a("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),a("div",Q1,[a("label",Z1,c(r(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),ne(a("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":I[4]||(I[4]=C=>l.inclusive=C)},null,512),[[ot,l.inclusive]]),a("p",eM,c(r(s)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),a("div",tM,[a("label",nM,c(r(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),ne(a("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":I[5]||(I[5]=C=>l.priority=C)},null,512),[[Ce,l.priority,void 0,{number:!0}]]),a("p",sM,c(r(s)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),a("footer",aM,[a("button",{class:"nxp-ec-btn",type:"button",onClick:m,disabled:e.state.saving},c(r(s)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,oM),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,iM)]),l.id?(A(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:I[6]||(I[6]=C=>h(l)),disabled:e.state.saving},[I[14]||(I[14]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,rM)):ie("",!0)],32)])])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-2ed24c88"]]),cM={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},dM={class:"nxp-ec-admin-panel__header"},uM={class:"nxp-ec-admin-panel__title"},pM={class:"nxp-ec-admin-panel__lead"},_M={class:"nxp-ec-admin-panel__actions"},fM=["disabled","title","aria-label"],mM={class:"nxp-ec-sr-only"},hM={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},gM={key:1,class:"nxp-ec-admin-panel__loading"},EM={key:2,class:"nxp-ec-admin-panel__body"},CM={class:"nxp-ec-admin-panel__table"},AM={class:"nxp-ec-admin-table"},SM={scope:"col"},bM={scope:"col"},yM={scope:"col"},TM={scope:"col"},RM={scope:"col"},OM={scope:"col"},xM={key:0},vM={colspan:"7"},PM={scope:"row",class:"nxp-ec-admin-table__primary"},NM=["data-label"],MM=["data-label"],IM=["data-label"],kM=["data-label"],$M=["data-label"],wM={class:"nxp-ec-admin-table__actions"},DM=["onClick","title","aria-label"],LM={class:"nxp-ec-sr-only"},YM=["onClick","title","aria-label"],UM={class:"nxp-ec-sr-only"},XM={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},FM={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},GM={class:"nxp-ec-admin-panel__sidebar-header"},VM={id:"shipping-modal-title"},HM=["title","aria-label"],BM={class:"nxp-ec-sr-only"},KM={class:"nxp-ec-form-field"},jM={class:"nxp-ec-form-label",for:"shipping-name"},JM=["placeholder"],WM={class:"nxp-ec-form-field"},qM={class:"nxp-ec-form-label",for:"shipping-type"},zM={value:"flat"},QM={value:"free_over"},ZM={class:"nxp-ec-form-help"},eI={class:"nxp-ec-form-field"},tI={class:"nxp-ec-form-label",for:"shipping-price"},nI={class:"nxp-ec-input-group"},sI={class:"nxp-ec-input-group__prefix"},aI={key:0,class:"nxp-ec-form-field"},oI={class:"nxp-ec-form-label",for:"shipping-threshold"},iI={class:"nxp-ec-input-group"},rI={class:"nxp-ec-input-group__prefix"},lI={class:"nxp-ec-form-help"},cI={class:"nxp-ec-form-field"},dI={class:"nxp-ec-form-label",for:"shipping-regions"},uI=["placeholder"],pI={class:"nxp-ec-form-help"},_I={class:"nxp-ec-form-field nxp-ec-form-field--inline"},fI={class:"nxp-ec-form-label",for:"shipping-active"},mI={class:"nxp-ec-form-help"},hI={class:"nxp-ec-modal__actions"},gI=["disabled"],EI=["disabled"],CI=["disabled"],AI=_t({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ae(()=>{const E=n.baseCurrency;return typeof E=="string"&&E.trim()!==""?E.trim().toUpperCase():"USD"}),l=Ye(!1),d=Ve({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),p=()=>i("refresh"),_=()=>{y(),l.value=!0},m=E=>{var f,N,x;Object.assign(d,{id:E.id,name:E.name,type:E.type,price:(N=E.price)!=null?N:((f=E.price_cents)!=null?f:0)/100,threshold:E.threshold!==null&&E.threshold!==void 0?E.threshold:((x=E.threshold_cents)!=null?x:0)/100,regions:E.regions&&E.regions.length?E.regions.join(", "):"",active:E.active}),l.value=!0},u=()=>{l.value=!1,y()},y=()=>{Object.assign(d,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},h=()=>{const E={id:d.id||void 0,name:d.name,type:d.type,price:d.price,threshold:d.type==="free_over"?d.threshold:0,regions:d.regions,active:d.active};i("save",E)},w=E=>{const f=s("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(f)&&(i("delete",[E.id]),d.id===E.id&&u())};qe(()=>n.state.saving,(E,f)=>{f&&!E&&!n.state.error&&u()});const I=(E,f)=>{const N=(Number(E)||0)/100,x=(f||"").toUpperCase()||o.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:x}).format(N)}catch(B){return`${x} ${N.toFixed(2)}`}},C=E=>E==="free_over"?s("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):s("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(E,f)=>(A(),S("section",cM,[a("header",dM,[a("div",null,[a("h2",uM,c(r(s)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),a("p",pM,c(r(s)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),a("div",_M,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":r(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[f[7]||(f[7]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",mM,c(r(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,fM),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_},[f[8]||(f[8]=a("i",{class:"fa-solid fa-plus"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(A(),S("div",hM,c(e.state.error),1)):ie("",!0),e.state.loading?(A(),S("div",gM,c(r(s)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(A(),S("div",EM,[a("div",CM,[a("table",AM,[a("thead",null,[a("tr",null,[a("th",SM,c(r(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),a("th",bM,c(r(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),a("th",yM,c(r(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),a("th",TM,c(r(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),a("th",RM,c(r(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),a("th",OM,c(r(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),f[9]||(f[9]=a("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),a("tbody",null,[e.state.items.length?ie("",!0):(A(),S("tr",xM,[a("td",vM,c(r(s)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(A(!0),S(xe,null,ke(e.state.items,N=>(A(),S("tr",{key:N.id,class:we({"is-active":d.id===N.id})},[a("th",PM,c(N.name),1),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},c(C(N.type)),9,NM),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},c(I(N.price_cents,o.value)),9,MM),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},c(N.type==="free_over"?I(N.threshold_cents,o.value):""),9,IM),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},c(N.regions&&N.regions.length?N.regions.join(", "):r(s)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,kM),a("td",{"data-label":r(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[a("span",{class:we(["nxp-ec-badge",{"is-active":N.active}])},[a("i",{class:we(N.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Se(" "+c(N.active?r(s)("JYES","Yes"):r(s)("JNO","No")),1)],2)],8,$M),a("td",wM,[a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:x=>m(N),title:r(s)("JEDIT","Edit"),"aria-label":r(s)("JEDIT","Edit")},[f[10]||(f[10]=a("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),a("span",LM,c(r(s)("JEDIT","Edit")),1)],8,DM),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:x=>w(N),title:r(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(s)("COM_NXPEASYCART_REMOVE","Remove")},[f[11]||(f[11]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),a("span",UM,c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,YM)])],2))),128))])])]),l.value?(A(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"shipping-modal-title",onKeydown:gt(u,["esc"])},[a("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:u}),a("div",XM,[a("aside",FM,[a("header",GM,[a("h3",VM,c(d.id?r(s)("JEDIT","Edit"):r(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),a("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:u,title:r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[f[12]||(f[12]=a("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),a("span",BM,c(r(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,HM)]),a("form",{class:"nxp-ec-form",onSubmit:ht(h,["prevent"]),autocomplete:"off"},[a("div",KM,[a("label",jM,c(r(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),ne(a("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[0]||(f[0]=N=>d.name=N),required:"",placeholder:r(s)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,JM),[[Ce,d.name,void 0,{trim:!0}]])]),a("div",WM,[a("label",qM,c(r(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),ne(a("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":f[1]||(f[1]=N=>d.type=N)},[a("option",zM,c(r(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),a("option",QM,c(r(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[pt,d.type]]),a("p",ZM,c(d.type==="free_over"?r(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):r(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),a("div",eI,[a("label",tI,c(r(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),a("div",nI,[a("span",sI,c(o.value),1),ne(a("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":f[2]||(f[2]=N=>d.price=N),required:""},null,512),[[Ce,d.price,void 0,{number:!0}]])])]),d.type==="free_over"?(A(),S("div",aI,[a("label",oI,c(r(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),a("div",iI,[a("span",rI,c(o.value),1),ne(a("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":f[3]||(f[3]=N=>d.threshold=N),required:""},null,512),[[Ce,d.threshold,void 0,{number:!0}]])]),a("p",lI,c(r(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):ie("",!0),a("div",cI,[a("label",dI,c(r(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),ne(a("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[4]||(f[4]=N=>d.regions=N),placeholder:r(s)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,uI),[[Ce,d.regions,void 0,{trim:!0}]]),a("p",pI,c(r(s)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),a("div",_I,[a("label",fI,c(r(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),ne(a("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":f[5]||(f[5]=N=>d.active=N)},null,512),[[ot,d.active]]),a("p",mI,c(r(s)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),a("footer",hI,[a("button",{class:"nxp-ec-btn",type:"button",onClick:u,disabled:e.state.saving},c(r(s)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,gI),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?r(s)("JPROCESSING_REQUEST","Saving"):r(s)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,EI)]),d.id?(A(),S("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:f[6]||(f[6]=N=>w(d)),disabled:e.state.saving},[f[13]||(f[13]=a("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,CI)):ie("",!0)],32)])])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-e9835937"]]),SI={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},bI={class:"nxp-ec-admin-panel__header"},yI={class:"nxp-ec-admin-panel__title"},TI={class:"nxp-ec-admin-panel__lead"},RI={class:"nxp-ec-admin-panel__actions"},OI=["placeholder","aria-label"],xI=["value"],vI={value:""},PI=["value"],NI=["disabled","title","aria-label"],MI={class:"nxp-ec-sr-only"},II={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kI={key:1,class:"nxp-ec-admin-panel__body"},$I={key:2,class:"nxp-ec-admin-panel__body"},wI={class:"nxp-ec-admin-panel__table"},DI={class:"nxp-ec-admin-table"},LI={scope:"col"},YI={scope:"col"},UI={scope:"col"},XI={scope:"col"},FI={scope:"col"},GI={key:0},VI={colspan:"5"},HI=["data-label"],BI=["data-label"],KI={class:"nxp-ec-log-entity"},jI={class:"nxp-ec-log-entity-id"},JI=["data-label"],WI=["data-label"],qI=["data-label"],zI={class:"nxp-ec-log-context"},QI={key:0,class:"nxp-ec-admin-pagination"},ZI=["disabled"],ek={class:"nxp-ec-admin-pagination__status"},tk=["disabled"],nk=["title"],sk=_t({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=n.state,l=Ae(()=>{const C=new Set;return Array.isArray(o.items)&&o.items.forEach(E=>{E!=null&&E.entity_type&&C.add(E.entity_type)}),o.entity&&C.add(o.entity),Array.from(C).sort()}),d=()=>i("refresh"),p=()=>i("search"),_=C=>i("filter",C),m=C=>i("page",C),u=C=>{if(!C)return"";try{const E=new Date(C.replace(" ","T"));if(!Number.isNaN(E.getTime()))return E.toLocaleString()}catch(E){}return C},y=C=>{if(!C)return s("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(C){case"order":return s("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return s("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return s("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return s("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return C.charAt(0).toUpperCase()+C.slice(1)}},h=C=>{if(!(C!=null&&C.user))return s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const E=C.user.name||"",f=C.user.username||"";return E&&f?`${E} (${f})`:E||f||s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},w=C=>{if(!C||Array.isArray(C)&&!C.length||typeof C=="object"&&!Object.keys(C).length)return"";try{return JSON.stringify(C,null,2)}catch(E){return String(C)}},I=C=>{if(!C)return"";try{const E=new Date(C),N=new Date-E,x=Math.floor(N/1e3),B=Math.floor(x/60),Y=Math.floor(B/60);return x<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):B<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[B]):Y<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Y]):E.toLocaleString()}catch(E){return C}};return(C,E)=>(A(),S("section",SI,[a("header",bI,[a("div",null,[a("h2",yI,c(r(s)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),a("p",TI,c(r(s)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),a("div",RI,[ne(a("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":E[0]||(E[0]=f=>r(o).search=f),placeholder:r(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:gt(p,["enter"])},null,40,OI),[[Ce,r(o).search]]),a("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(o).entity,onChange:E[1]||(E[1]=f=>_(f.target.value)),"aria-label":"Entity filter"},[a("option",vI,c(r(s)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(A(!0),S(xe,null,ke(l.value,f=>(A(),S("option",{key:f,value:f},c(y(f)),9,PI))),128))],40,xI),a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:r(o).loading,title:r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[E[4]||(E[4]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",MI,c(r(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,NI)])]),r(o).error?(A(),S("div",II,c(r(o).error),1)):ie("",!0),r(o).loading?(A(),S("div",kI,[ze(Kn,{type:"table",rows:5,columns:5})])):ie("",!0),r(o).loading?ie("",!0):(A(),S("div",$I,[a("div",wI,[a("table",DI,[a("thead",null,[a("tr",null,[a("th",LI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),a("th",YI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),a("th",UI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),a("th",XI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),a("th",FI,c(r(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),a("tbody",null,[r(o).items.length?ie("",!0):(A(),S("tr",GI,[a("td",VI,c(r(s)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(A(!0),S(xe,null,ke(r(o).items,f=>(A(),S("tr",{key:f.id},[a("td",{class:"nxp-ec-admin-table__primary","data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},c(u(f.created)),9,HI),a("td",{"data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[a("span",KI,c(y(f.entity_type)),1),a("span",jI,"#"+c(f.entity_id),1)],8,BI),a("td",{"data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},c(f.action),9,JI),a("td",{"data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},c(h(f)),9,WI),a("td",{"data-label":r(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[a("pre",zI,c(w(f.context)),1)],8,qI)]))),128))])]),r(o).pagination.pages>1?(A(),S("div",QI,[a("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current<=1,onClick:E[2]||(E[2]=f=>m(r(o).pagination.current-1))},"  ",8,ZI),a("span",ek,c(r(o).pagination.current)+" / "+c(r(o).pagination.pages),1),a("button",{class:"nxp-ec-btn",type:"button",disabled:r(o).pagination.current>=r(o).pagination.pages,onClick:E[3]||(E[3]=f=>m(r(o).pagination.current+1))},"  ",8,tk)])):ie("",!0)]),r(o).lastUpdated?(A(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(o).lastUpdated},c(r(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(I(r(o).lastUpdated)),9,nk)):ie("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),ak={class:"nxp-ec-admin-panel nxp-ec-admin-panel--import-export"},ok={class:"nxp-ec-admin-panel__header"},ik={class:"nxp-ec-admin-panel__title"},rk={class:"nxp-ec-admin-panel__lead"},lk={class:"nxp-ec-admin-panel__actions"},ck=["disabled","title","aria-label"],dk={class:"nxp-ec-sr-only"},uk={class:"nxp-ec-tabs",role:"tablist"},pk=["aria-selected"],_k=["aria-selected"],fk={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mk={key:1,class:"nxp-ec-admin-panel__loading"},hk={key:2,class:"nxp-ec-admin-panel__body",role:"tabpanel"},gk={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--info nxp-ec-import-backup-notice"},Ek={key:1,class:"nxp-ec-import-upload"},Ck={class:"nxp-ec-import-upload__title"},Ak={class:"nxp-ec-import-upload__subtitle"},Sk={class:"nxp-ec-btn nxp-ec-btn--primary"},bk=["disabled"],yk={class:"nxp-ec-import-upload__help"},Tk={key:2,class:"nxp-ec-import-configure"},Rk={class:"nxp-ec-import-file-info"},Ok={class:"nxp-ec-import-file-info__details"},xk=["title"],vk={class:"nxp-ec-form-field"},Pk={class:"nxp-ec-form-label",for:"import-platform"},Nk={value:""},Mk=["value"],Ik={key:0,class:"nxp-ec-form-help"},kk={key:0,class:"nxp-ec-import-preview"},$k={class:"nxp-ec-import-preview__table-wrapper"},wk={class:"nxp-ec-admin-table nxp-ec-admin-table--sm"},Dk={class:"nxp-ec-import-actions"},Lk=["disabled"],Yk={key:3,class:"nxp-ec-import-progress"},Uk={class:"nxp-ec-progress-card"},Xk={class:"nxp-ec-progress-card__header"},Fk={class:"nxp-ec-progress-bar"},Gk={class:"nxp-ec-progress-card__stats"},Vk={class:"nxp-ec-progress-stat"},Hk={class:"nxp-ec-progress-stat__value"},Bk={class:"nxp-ec-progress-stat__label"},Kk={class:"nxp-ec-progress-stat nxp-ec-progress-stat--success"},jk={class:"nxp-ec-progress-stat__value"},Jk={class:"nxp-ec-progress-stat__label"},Wk={key:0,class:"nxp-ec-progress-stat nxp-ec-progress-stat--info"},qk={class:"nxp-ec-progress-stat__value"},zk={class:"nxp-ec-progress-stat__label"},Qk={key:1,class:"nxp-ec-progress-stat nxp-ec-progress-stat--warning"},Zk={class:"nxp-ec-progress-stat__value"},e$={class:"nxp-ec-progress-stat__label"},t$={key:2,class:"nxp-ec-progress-stat nxp-ec-progress-stat--error"},n$={class:"nxp-ec-progress-stat__value"},s$={class:"nxp-ec-progress-stat__label"},a$={key:0,class:"nxp-ec-progress-errors"},o$={class:"nxp-ec-progress-card__actions"},i$={key:3,class:"nxp-ec-admin-panel__body",role:"tabpanel"},r$={key:0,class:"nxp-ec-export-configure"},l$={class:"nxp-ec-form-field"},c$={class:"nxp-ec-form-label",for:"export-platform"},d$=["value"],u$={class:"nxp-ec-form-help"},p$={class:"nxp-ec-export-actions"},_$=["disabled"],f$={key:1,class:"nxp-ec-export-progress"},m$={class:"nxp-ec-progress-card"},h$={class:"nxp-ec-progress-card__header"},g$={class:"nxp-ec-progress-bar"},E$={class:"nxp-ec-progress-card__stats"},C$={class:"nxp-ec-progress-stat"},A$={class:"nxp-ec-progress-stat__value"},S$={class:"nxp-ec-progress-stat__label"},b$={class:"nxp-ec-progress-card__actions"},y$=_t({__name:"ImportExportPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","upload-file","start-import","cancel-import","reset-import","start-export","cancel-export","download-export","reset-export"],setup(e,{emit:t}){const n=e,i=t,s=n.translate,o=Ye("import"),l=()=>i("refresh"),d=Y=>{var P;const b=(P=Y.target.files)==null?void 0:P[0];b&&i("upload-file",b)},p=Y=>{var P,ee;const b=(ee=(P=Y.dataTransfer)==null?void 0:P.files)==null?void 0:ee[0];b&&i("upload-file",b)},_=()=>i("start-import"),m=()=>i("cancel-import"),u=()=>i("reset-import"),y=()=>i("start-export"),h=()=>i("cancel-export"),w=()=>i("download-export"),I=()=>i("reset-export"),C=Y=>{if(!Y)return"0 B";const b=["B","KB","MB","GB"];let P=0;for(;Y>=1024&&P<b.length-1;)Y/=1024,P++;return`${Y.toFixed(P>0?1:0)} ${b[P]}`},E=(Y,b)=>Y?Y.length<=b?Y:Y.substring(0,b)+"...":"",f=Y=>["pending","processing","running"].includes(Y),N=Y=>{switch(Y){case"completed":return"fa-solid fa-check-circle nxp-ec-text-success";case"failed":return"fa-solid fa-times-circle nxp-ec-text-danger";case"cancelled":return"fa-solid fa-ban nxp-ec-text-warning";default:return"fa-solid fa-spinner fa-spin"}},x=Y=>{switch(Y){case"completed":return s("COM_NXPEASYCART_STATUS_COMPLETED","Completed",[],"statusCompleted");case"failed":return s("COM_NXPEASYCART_STATUS_FAILED","Failed",[],"statusFailed");case"cancelled":return s("COM_NXPEASYCART_STATUS_CANCELLED","Cancelled",[],"statusCancelled");case"processing":case"running":return s("COM_NXPEASYCART_STATUS_PROCESSING","Processing...",[],"statusProcessing");default:return s("COM_NXPEASYCART_STATUS_PENDING","Pending...",[],"statusPending")}},B=Y=>{switch(Y){case"completed":return"nxp-ec-progress-bar__fill--success";case"failed":return"nxp-ec-progress-bar__fill--danger";case"cancelled":return"nxp-ec-progress-bar__fill--warning";default:return""}};return(Y,b)=>{var P,ee;return A(),S("section",ak,[a("header",ok,[a("div",null,[a("h2",ik,c(r(s)("COM_NXPEASYCART_IMPORT_EXPORT_TITLE","Import / Export",[],"importExportTitle")),1),a("p",rk,c(r(s)("COM_NXPEASYCART_IMPORT_EXPORT_LEAD","Migrate products from other platforms or backup your catalogue.",[],"importExportLead")),1)]),a("div",lk,[a("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:l,disabled:e.state.loading,title:r(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh"),"aria-label":r(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")},[b[6]||(b[6]=a("i",{class:"fa-solid fa-rotate"},null,-1)),a("span",dk,c(r(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")),1)],8,ck)])]),a("nav",uk,[a("button",{role:"tab","aria-selected":o.value==="import",class:we(["nxp-ec-tabs__tab",{"is-active":o.value==="import"}]),onClick:b[0]||(b[0]=O=>o.value="import")},[b[7]||(b[7]=a("i",{class:"fa-solid fa-file-import","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_IMPORT","Import",[],"import")),1)],10,pk),a("button",{role:"tab","aria-selected":o.value==="export",class:we(["nxp-ec-tabs__tab",{"is-active":o.value==="export"}]),onClick:b[1]||(b[1]=O=>o.value="export")},[b[8]||(b[8]=a("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_EXPORT","Export",[],"export")),1)],10,_k)]),e.state.error?(A(),S("div",fk,c(e.state.error),1)):ie("",!0),e.state.loading?(A(),S("div",mk,c(r(s)("COM_NXPEASYCART_LOADING","Loading...",[],"loading")),1)):ie("",!0),!e.state.loading&&o.value==="import"?(A(),S("div",hk,[!e.state.importFileId&&!e.state.importJobId?(A(),S("div",gk,[b[10]||(b[10]=a("i",{class:"fa-solid fa-circle-info","aria-hidden":"true"},null,-1)),a("div",null,[a("strong",null,c(r(s)("COM_NXPEASYCART_IMPORT_BACKUP_TITLE","Backup recommended",[],"importBackupTitle")),1),a("p",null,c(r(s)("COM_NXPEASYCART_IMPORT_BACKUP_TEXT","Before importing, we recommend exporting your current catalogue as a backup. Switch to the Export tab to create a backup first.",[],"importBackupText")),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--sm",type:"button",onClick:b[2]||(b[2]=O=>o.value="export")},[b[9]||(b[9]=a("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_IMPORT_GO_TO_EXPORT","Go to Export",[],"importGoToExport")),1)])])])):ie("",!0),e.state.importFileId?e.state.importFileId&&!e.state.importJobId?(A(),S("div",Tk,[a("div",Rk,[b[14]||(b[14]=a("div",{class:"nxp-ec-import-file-info__icon"},[a("i",{class:"fa-solid fa-file-csv","aria-hidden":"true"})],-1)),a("div",Ok,[a("strong",null,c(e.state.importFilename),1),a("span",null,c(C(e.state.importFileSize)),1),a("span",null,c(e.state.importRowCount)+" "+c(r(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),a("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:u,title:r(s)("COM_NXPEASYCART_IMPORT_CHANGE_FILE","Change file",[],"importChangeFile")},[...b[13]||(b[13]=[a("i",{class:"fa-solid fa-xmark","aria-hidden":"true"},null,-1)])],8,xk)]),a("div",vk,[a("label",Pk,c(r(s)("COM_NXPEASYCART_IMPORT_PLATFORM","Source platform",[],"importPlatform")),1),ne(a("select",{id:"import-platform",class:"nxp-ec-form-select","onUpdate:modelValue":b[4]||(b[4]=O=>e.state.importSelectedPlatform=O)},[a("option",Nk,c(r(s)("COM_NXPEASYCART_IMPORT_SELECT_PLATFORM","Select platform...",[],"importSelectPlatform")),1),(A(!0),S(xe,null,ke(e.state.platforms,O=>(A(),S("option",{key:O.id,value:O.id},c(O.name)+" "+c(O.id===e.state.importDetectedPlatform?"(detected)":""),9,Mk))),128))],512),[[pt,e.state.importSelectedPlatform]]),e.state.importDetectedPlatform?(A(),S("p",Ik,[b[15]||(b[15]=a("i",{class:"fa-solid fa-check-circle","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_IMPORT_DETECTED","Auto-detected from CSV headers",[],"importDetected")),1)])):ie("",!0)]),e.state.importPreview.length?(A(),S("div",kk,[a("h4",null,c(r(s)("COM_NXPEASYCART_IMPORT_PREVIEW","Preview",[],"importPreview")),1),a("div",$k,[a("table",wk,[a("thead",null,[a("tr",null,[(A(!0),S(xe,null,ke(e.state.importHeaders,O=>(A(),S("th",{key:O,scope:"col"},c(O),1))),128))])]),a("tbody",null,[(A(!0),S(xe,null,ke(e.state.importPreview.slice(0,3),(O,se)=>(A(),S("tr",{key:se},[(A(!0),S(xe,null,ke(e.state.importHeaders,K=>(A(),S("td",{key:K},c(E(O[K],30)),1))),128))]))),128))])])])])):ie("",!0),a("div",Dk,[a("button",{class:"nxp-ec-btn",type:"button",onClick:u},c(r(s)("COM_NXPEASYCART_CANCEL","Cancel",[],"cancel")),1),a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_,disabled:!e.state.importSelectedPlatform||e.state.importStarting},[b[16]||(b[16]=a("i",{class:"fa-solid fa-play","aria-hidden":"true"},null,-1)),Se(" "+c(e.state.importStarting?r(s)("COM_NXPEASYCART_IMPORT_STARTING","Starting...",[],"importStarting"):r(s)("COM_NXPEASYCART_IMPORT_START","Start import",[],"importStart")),1)],8,Lk)])])):e.state.importJobId&&e.state.importProgress?(A(),S("div",Yk,[a("div",Uk,[a("div",Xk,[a("h4",null,[a("i",{class:we(N(e.state.importProgress.status)),"aria-hidden":"true"},null,2),Se(" "+c(x(e.state.importProgress.status)),1)])]),a("div",Fk,[a("div",{class:we(["nxp-ec-progress-bar__fill",B(e.state.importProgress.status)]),style:xt({width:e.state.importProgress.percent+"%"})},null,6)]),a("div",Gk,[a("div",Vk,[a("span",Hk,c(e.state.importProgress.processed_rows),1),a("span",Bk," / "+c(e.state.importProgress.total_rows)+" "+c(r(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),a("div",Kk,[a("span",jk,c(e.state.importProgress.imported_products),1),a("span",Jk,c(r(s)("COM_NXPEASYCART_IMPORT_PRODUCTS","products",[],"importProducts")),1)]),e.state.importProgress.imported_variants?(A(),S("div",Wk,[a("span",qk,c(e.state.importProgress.imported_variants),1),a("span",zk,c(r(s)("COM_NXPEASYCART_IMPORT_VARIANTS","variants",[],"importVariants")),1)])):ie("",!0),e.state.importProgress.skipped_rows?(A(),S("div",Qk,[a("span",Zk,c(e.state.importProgress.skipped_rows),1),a("span",e$,c(r(s)("COM_NXPEASYCART_IMPORT_SKIPPED","skipped",[],"importSkipped")),1)])):ie("",!0),(P=e.state.importProgress.errors)!=null&&P.length?(A(),S("div",t$,[a("span",n$,c(e.state.importProgress.errors.length),1),a("span",s$,c(r(s)("COM_NXPEASYCART_IMPORT_ERRORS","errors",[],"importErrors")),1)])):ie("",!0)]),(ee=e.state.importProgress.errors)!=null&&ee.length?(A(),S("div",a$,[a("details",null,[a("summary",null,c(r(s)("COM_NXPEASYCART_IMPORT_VIEW_ERRORS","View errors",[],"importViewErrors")),1),a("ul",null,[(A(!0),S(xe,null,ke(e.state.importProgress.errors.slice(0,10),(O,se)=>(A(),S("li",{key:se},c(O),1))),128))])])])):ie("",!0),a("div",o$,[f(e.state.importProgress.status)?(A(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:m},[b[17]||(b[17]=a("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_IMPORT_CANCEL","Cancel import",[],"importCancel")),1)])):(A(),S("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:u},[b[18]||(b[18]=a("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_IMPORT_NEW","New import",[],"importNew")),1)]))])])])):ie("",!0):(A(),S("div",Ek,[a("div",{class:"nxp-ec-import-upload__dropzone",onDragover:b[3]||(b[3]=ht(()=>{},["prevent"])),onDrop:ht(p,["prevent"])},[b[12]||(b[12]=a("i",{class:"fa-solid fa-cloud-arrow-up nxp-ec-import-upload__icon","aria-hidden":"true"},null,-1)),a("p",Ck,c(r(s)("COM_NXPEASYCART_IMPORT_DROP_FILE","Drop CSV file here",[],"importDropFile")),1),a("p",Ak,c(r(s)("COM_NXPEASYCART_IMPORT_OR","or",[],"importOr")),1),a("label",Sk,[b[11]||(b[11]=a("i",{class:"fa-solid fa-folder-open","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_IMPORT_BROWSE","Browse files",[],"importBrowse"))+" ",1),a("input",{type:"file",accept:".csv,text/csv,application/csv",class:"nxp-ec-sr-only",onChange:d,disabled:e.state.importUploading},null,40,bk)]),a("p",yk,c(r(s)("COM_NXPEASYCART_IMPORT_FILE_HELP","Supported: CSV files up to 10MB",[],"importFileHelp")),1)],32)]))])):ie("",!0),!e.state.loading&&o.value==="export"?(A(),S("div",i$,[e.state.exportJobId?e.state.exportProgress?(A(),S("div",f$,[a("div",m$,[a("div",h$,[a("h4",null,[a("i",{class:we(N(e.state.exportProgress.status)),"aria-hidden":"true"},null,2),Se(" "+c(x(e.state.exportProgress.status)),1)])]),a("div",g$,[a("div",{class:we(["nxp-ec-progress-bar__fill",B(e.state.exportProgress.status)]),style:xt({width:e.state.exportProgress.percent+"%"})},null,6)]),a("div",E$,[a("div",C$,[a("span",A$,c(e.state.exportProgress.processed_rows),1),a("span",S$," / "+c(e.state.exportProgress.total_rows)+" "+c(r(s)("COM_NXPEASYCART_EXPORT_PRODUCTS","products",[],"exportProducts")),1)])]),a("div",b$,[f(e.state.exportProgress.status)?(A(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:h},[b[20]||(b[20]=a("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_EXPORT_CANCEL","Cancel export",[],"exportCancel")),1)])):(A(),S(xe,{key:1},[e.state.exportProgress.status==="completed"?(A(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:w},[b[21]||(b[21]=a("i",{class:"fa-solid fa-download","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_EXPORT_DOWNLOAD","Download CSV",[],"exportDownload")),1)])):ie("",!0),a("button",{class:"nxp-ec-btn",type:"button",onClick:I},[b[22]||(b[22]=a("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),Se(" "+c(r(s)("COM_NXPEASYCART_EXPORT_NEW","New export",[],"exportNew")),1)])],64))])])])):ie("",!0):(A(),S("div",r$,[a("div",l$,[a("label",c$,c(r(s)("COM_NXPEASYCART_EXPORT_FORMAT","Export format",[],"exportFormat")),1),ne(a("select",{id:"export-platform",class:"nxp-ec-form-select","onUpdate:modelValue":b[5]||(b[5]=O=>e.state.exportPlatform=O)},[(A(!0),S(xe,null,ke(e.state.platforms,O=>(A(),S("option",{key:O.id,value:O.id},c(O.name),9,d$))),128))],512),[[pt,e.state.exportPlatform]]),a("p",u$,c(r(s)("COM_NXPEASYCART_EXPORT_FORMAT_HELP","Choose Native format for backups or another platform format for migration.",[],"exportFormatHelp")),1)]),a("div",p$,[a("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:y,disabled:e.state.exportStarting},[b[19]||(b[19]=a("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),Se(" "+c(e.state.exportStarting?r(s)("COM_NXPEASYCART_EXPORT_STARTING","Starting...",[],"exportStarting"):r(s)("COM_NXPEASYCART_EXPORT_START","Start export",[],"exportStart")),1)],8,_$)])]))])):ie("",!0)])}}},[["__scopeId","data-v-2e1e8381"]]),T$={key:0,class:"nxp-ec-onboarding"},R$={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},O$={class:"nxp-ec-onboarding__header"},x$={class:"nxp-ec-onboarding__title"},v$={class:"nxp-ec-onboarding__lead"},P$={class:"nxp-ec-onboarding__progress"},N$={class:"nxp-ec-onboarding__progress-bar"},M$={class:"nxp-ec-onboarding__progress-label"},I$={class:"nxp-ec-onboarding__steps"},k$={class:"nxp-ec-onboarding__step-main"},$$={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},w$={key:0,class:"fa-solid fa-circle-check"},D$={key:1,class:"fa-regular fa-circle"},L$={class:"nxp-ec-onboarding__step-actions"},Y$=["onClick"],U$=_t({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,n=t.translate,i=Ae(()=>t.steps.length?t.steps.filter(d=>d.completed).length/t.steps.length*100:0),s=Ae(()=>`${i.value}%`),o=Ae(()=>{const l=t.steps.filter(d=>d.completed).length;return n("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,d)=>e.visible?(A(),S("div",T$,[a("div",{class:"nxp-ec-onboarding__backdrop",onClick:d[0]||(d[0]=p=>l.$emit("close"))}),a("section",R$,[a("header",O$,[a("div",null,[a("h2",x$,c(r(n)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),a("p",v$,c(r(n)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),a("button",{type:"button",class:"nxp-ec-link-button",onClick:d[1]||(d[1]=p=>l.$emit("close"))},c(r(n)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),a("div",P$,[a("div",N$,[a("span",{style:xt({width:s.value})},null,4)]),a("span",M$,c(o.value),1)]),a("ol",I$,[(A(!0),S(xe,null,ke(e.steps,p=>(A(),S("li",{key:p.id,class:we({"is-complete":p.completed})},[a("div",k$,[a("span",$$,[p.completed?(A(),S("span",w$)):(A(),S("span",D$))]),a("div",null,[a("h3",null,c(r(n)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),a("p",null,c(r(n)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),a("div",L$,[p.link?(A(),S("button",{key:0,type:"button",class:we(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:_=>l.$emit("navigate",p)},c(p.completed?r(n)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(n)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,Y$)):ie("",!0)])],2))),128))])])])):ie("",!0)}},[["__scopeId","data-v-c2a94811"]]),X$=(e,t=[])=>{var s;if(!t.length)return e;const n=(s=window==null?void 0:window.Joomla)==null?void 0:s.sprintf;if(typeof n=="function")try{return n.call(window.Joomla,e,...t)}catch(o){}let i=String(e);return t.forEach(o=>{const l=o!=null?o:"";i=i.replace(/%[sd]/,String(l))}),i},F$=(e,t="",n=[])=>{var o;const i=(o=window==null?void 0:window.Joomla)==null?void 0:o.Text;let s=t||e;if(i&&typeof i._=="function"){const l=i._(e);l&&l!==e&&(s=l)}return X$(s,n)};function G$(e={}){const t=e||{},n=(s,o)=>{if(!s)return o;const l=t[s];return l!=null&&l!==""?l:o};return{__:(s,o="",l=[],d="")=>{const p=n(d,o);return F$(s,p,l)}}}const di=typeof window!="undefined"&&window.performance;function ui(e){if(di)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function V$(e,t,n){if(!di)return null;try{performance.measure(e,t,n);const i=performance.getEntriesByName(e,"measure")[0];if(i)return i.duration}catch(i){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,i)}return null}const bn=Ve({}),pi=3e5;function _i(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Lt(e,t=pi){const n=bn[e];return n?_i(n,t)?n.data:(delete bn[e],null):null}function Pt(e,t){bn[e]={data:t,timestamp:Date.now()}}function Fe(e){delete bn[e]}function fi(){const e={};return Object.keys(bn).forEach(t=>{const n=bn[t];n&&(e[t]={age:Date.now()-n.timestamp,timestamp:n.timestamp,valid:_i(n,pi)})}),e}function Yt(e){const t=Ye({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return ui(l),l},endFetch:l=>{const d=`${e}-fetch-end`;ui(d);const p=V$(`${e}-fetch`,l,d);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const Jn=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,n);return i.searchParams.set("task",`api.products.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function H$({endpoints:e,token:t,autoload:n=!0,cacheTTL:i=3e5}){var re,Oe,V,$,g,R;const s=bt({token:t}),o=Yt("products"),l=(re=e==null?void 0:e.list)!=null?re:"",d=(Oe=e==null?void 0:e.create)!=null?Oe:Jn(l,"store"),p=(V=e==null?void 0:e.update)!=null?V:Jn(l,"update"),_=($=e==null?void 0:e.delete)!=null?$:Jn(l,"delete"),m=(g=e==null?void 0:e.checkout)!=null?g:Jn(l,"checkout"),u=(R=e==null?void 0:e.checkin)!=null?R:Jn(l,"checkin"),y=typeof AbortController!="undefined",h=Ve({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",categoryId:null,sort:"",sortDir:"DESC",lastUpdated:null}),w=Ye(null),I=()=>{const L=h.pagination.current||1,H=h.pagination.limit||20,F=h.search.trim(),j=h.categoryId||"",X=h.sort||"",de=h.sortDir||"DESC";return`products:page=${L}:limit=${H}:search=${F}:cat=${j}:sort=${X}:dir=${de}`},C=async(L=!1)=>{var de;if(!l){h.error="Products endpoint unavailable.",h.items=[];return}const H=I(),F=L?null:Lt(H,i);if(F){o.recordCacheHit(),h.items=F.items,F.pagination&&(h.pagination.total=Number(F.pagination.total)||0,h.pagination.limit=Number(F.pagination.limit)||20,h.pagination.pages=Number(F.pagination.pages)||0,h.pagination.current=Number(F.pagination.current)||1,h.pagination.start=Number(F.pagination.start)||0),h.lastUpdated=F.lastUpdated;return}o.recordCacheMiss(),h.loading=!0,h.error="",h.validationErrors=[],w.value&&y&&w.value.abort();const j=y?new AbortController:null;w.value=j;const X=o.startFetch();try{const Ee=Number(h.pagination.current)||1,be=Number(h.pagination.limit)||20,J={endpoint:l,signal:j?j.signal:void 0,limit:be,start:Math.max(0,(Ee-1)*be),search:h.search.trim(),categoryId:h.categoryId||null,sort:h.sort||"",sortDir:h.sortDir||"DESC"},{items:_e,pagination:Te}=await s.fetchProducts(J);h.items=_e;const $e=Number(Te.total)||0,T=Number(Te.limit)||be,v=Number(Te.pages)||0,G=Number(Te.current)||1,ae=Number(Te.start)||0;h.pagination.total=$e,h.pagination.limit=T,h.pagination.pages=v,h.pagination.current=G>0?G:1,h.pagination.start=ae,h.lastUpdated=new Date().toISOString(),Pt(H,{items:_e,pagination:h.pagination,lastUpdated:h.lastUpdated})}catch(Ee){if((Ee==null?void 0:Ee.name)==="AbortError")return;h.error=(de=Ee==null?void 0:Ee.message)!=null?de:"Unknown error"}finally{o.endFetch(X),y&&w.value===j&&(w.value=null),h.loading=!1}},E=()=>{h.pagination.current=1,Fe(I()),C(!0)},f=()=>{h.pagination.current=1,C()},N=L=>{h.categoryId=L||null,h.pagination.current=1,C()},x=(L,H=null)=>{h.sort===L&&H===null?h.sortDir=h.sortDir==="ASC"?"DESC":"ASC":(h.sort=L,h.sortDir=H||"DESC"),h.pagination.current=1,C()},B=L=>{const H=Number(L),F=Number(h.pagination.pages)||0;Number.isNaN(H)||H<1||F>0&&H>F||(h.pagination.current=H,C())},Y=L=>L?typeof L=="string"?L:typeof L=="object"&&L.message?String(L.message):String(L):"",b=(L,{setValidation:H=!1}={})=>{var F;if((L==null?void 0:L.code)===422&&H){const j=Array.isArray(L.details)?L.details:[L.details].filter(Boolean);h.validationErrors=j.map(Y).filter(X=>X!=="");return}h.error=(F=L==null?void 0:L.message)!=null?F:"Unknown error"},P=async L=>{var H;if(!m||!L)return null;h.locking=!0,h.error="";try{const F=await s.checkoutProduct({endpoint:m,id:L});if(F){const j=h.items.findIndex(X=>X.id===F.id);j!==-1&&h.items.splice(j,1,F)}return F}catch(F){throw h.error=(H=F==null?void 0:F.message)!=null?H:"Unknown error",F}finally{h.locking=!1}},ee=async(L,{force:H=!1}={})=>{var F;if(!u||!L)return null;try{const j=await s.checkinProduct({endpoint:u,id:L,force:H});if(j){const X=h.items.findIndex(de=>de.id===j.id);X!==-1&&h.items.splice(X,1,j)}return j}catch(j){return h.error=(F=j==null?void 0:j.message)!=null?F:"Unknown error",null}},O=async L=>ee(L,{force:!0}),se=async L=>{if(!d)throw new Error("Create endpoint unavailable.");h.saving=!0,h.validationErrors=[];try{const H=await s.createProduct({endpoint:d,data:L});return H&&(h.items=[H,...h.items],h.pagination.total+=1,Fe(I())),H}catch(H){throw b(H,{setValidation:!0}),H}finally{h.saving=!1}},K=async(L,H)=>{if(!p)throw new Error("Update endpoint unavailable.");h.saving=!0,h.validationErrors=[];try{const F=await s.updateProduct({endpoint:p,id:L,data:H});if(F){const j=h.items.findIndex(X=>X.id===F.id);j!==-1&&h.items.splice(j,1,F),Fe(I())}return F}catch(F){throw b(F,{setValidation:!0}),F}finally{h.saving=!1}},oe=async L=>{if(!_)throw new Error("Delete endpoint unavailable.");h.deleting=!0,h.validationErrors=[];try{const H=await s.deleteProducts({endpoint:_,ids:L});return H.length&&(h.items=h.items.filter(F=>!H.includes(F.id)),h.pagination.total=Math.max(0,h.pagination.total-H.length),Fe(I())),H}catch(H){throw b(H),H}finally{h.deleting=!1}};return mt(()=>{n&&C()}),{state:h,loadProducts:C,refresh:E,search:f,filterByCategory:N,setSort:x,goToPage:B,createProduct:se,updateProduct:K,deleteProducts:oe,checkoutProduct:P,checkinProduct:ee,forceCheckinProduct:O,metrics:o.metrics}}const mi=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,n);return i.searchParams.set("task",`api.categories.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function B$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var K,oe,re,Oe,V,$,g,R,L,H,F,j,X,de,Ee,be;const o=bt({token:t}),l=Yt("categories"),d=(K=e==null?void 0:e.list)!=null?K:"",p=(oe=e==null?void 0:e.create)!=null?oe:d,_=(re=e==null?void 0:e.update)!=null?re:d,m=(Oe=e==null?void 0:e.delete)!=null?Oe:d,u=(V=e==null?void 0:e.checkout)!=null?V:mi(d,"checkout"),y=($=e==null?void 0:e.checkin)!=null?$:mi(d,"checkin"),h=Ve({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:Array.isArray(n.items)?n.items:[],pagination:{total:(H=(L=(g=n.pagination)==null?void 0:g.total)!=null?L:(R=n.items)==null?void 0:R.length)!=null?H:0,limit:(j=(F=n.pagination)==null?void 0:F.limit)!=null?j:20,pages:(de=(X=n.pagination)==null?void 0:X.pages)!=null?de:0,current:(be=(Ee=n.pagination)==null?void 0:Ee.current)!=null?be:1},search:"",lastUpdated:null}),w=typeof AbortController!="undefined",I=Ye(null),C=()=>{const J=h.pagination.current||1,_e=h.pagination.limit||20,Te=h.search.trim();return`categories:page=${J}:limit=${_e}:search=${Te}`},E=async(J=!1)=>{var v;if(!d){h.error="Categories endpoint unavailable.",h.items=[];return}const _e=C(),Te=J?null:Lt(_e,s);if(Te){l.recordCacheHit(),h.items=Te.items,h.pagination={...h.pagination,...Te.pagination},h.lastUpdated=Te.lastUpdated;return}l.recordCacheMiss(),h.loading=!0,h.error="",h.validationErrors=[],I.value&&w&&I.value.abort();const $e=w?new AbortController:null;I.value=$e;const T=l.startFetch();try{const G=Math.max(0,(h.pagination.current-1)*h.pagination.limit),{items:ae,pagination:Q}=await o.fetchCategories({endpoint:d,limit:h.pagination.limit,start:G,search:h.search.trim(),signal:$e?$e.signal:void 0});h.items=ae,h.pagination={...h.pagination,...Q,current:Q.current&&Q.current>0?Q.current:1},h.lastUpdated=new Date().toISOString(),Pt(_e,{items:ae,pagination:h.pagination,lastUpdated:h.lastUpdated})}catch(G){if((G==null?void 0:G.name)==="AbortError")return;h.error=(v=G==null?void 0:G.message)!=null?v:"Unknown error"}finally{l.endFetch(T),w&&I.value===$e&&(I.value=null),h.loading=!1}},f=()=>{h.pagination.current=1,Fe(C()),E(!0)},N=()=>{h.pagination.current=1,E()},x=J=>{const _e=Number(J);Number.isNaN(_e)||_e<1||_e===h.pagination.current||(h.pagination.current=_e,E(!0))},B=(J,{validation:_e=!1}={})=>{var Te;if(_e&&(J==null?void 0:J.code)===422){const $e=J.details,T=Array.isArray($e)?$e:[$e].filter(Boolean);h.validationErrors=T.map(v=>v?typeof v=="string"?v:typeof v=="object"&&v.message?String(v.message):String(v):"").filter(Boolean);return}h.error=(Te=J==null?void 0:J.message)!=null?Te:"Unknown error"},Y=async J=>{if(!u||!J)return null;h.locking=!0,h.error="";try{const _e=await o.checkoutCategory({endpoint:u,id:J});return _e&&(Fe(C()),await E(!0)),_e}catch(_e){throw B(_e),_e}finally{h.locking=!1}},b=async(J,{force:_e=!1}={})=>{if(!y||!J)return null;try{const Te=await o.checkinCategory({endpoint:y,id:J,force:_e});return Te&&(Fe(C()),await E(!0)),Te}catch(Te){return B(Te),null}},P=async J=>b(J,{force:!0}),ee=async J=>{if(!p||!_)throw new Error("Category endpoints unavailable.");h.saving=!0,h.error="",h.validationErrors=[];try{let _e=null;return J.id?_e=await o.updateCategory({endpoint:_,id:J.id,data:J}):_e=await o.createCategory({endpoint:p,data:J}),_e&&(Fe(C()),await E()),_e}catch(_e){throw B(_e,{validation:!0}),_e}finally{h.saving=!1}},O=async J=>{if(!Array.isArray(J)||!J.length||!m)return 0;h.deleting=!0,h.error="";try{const _e=await o.deleteCategories({endpoint:m,ids:J});return _e&&(Fe(C()),await E()),_e}catch(_e){throw B(_e),_e}finally{h.deleting=!1}},se=async()=>{if(!d)return[];try{const{items:J}=await o.fetchCategories({endpoint:d,limit:200,start:0,search:""});return J}catch(J){return[]}};return mt(()=>{i&&(!Array.isArray(h.items)||!h.items.length)&&E()}),{state:h,loadCategories:E,refresh:f,search:N,goToPage:x,saveCategory:ee,deleteCategories:O,loadOptions:se,checkoutCategory:Y,checkinCategory:b,forceCheckinCategory:P,metrics:l.metrics}}const yt=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,n);return i.searchParams.set("task",`api.orders.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function K$({endpoints:e,token:t,states:n=[],preload:i={},autoload:s=!0,cacheTTL:o=3e5}){var q,Z,W,ge,ce,he,ye,Ne,M,D,ue,fe,U,Pe,He,Le,Ue,Je;const l=bt({token:t}),d=Yt("orders"),p=(q=e==null?void 0:e.list)!=null?q:"",_=(Z=e==null?void 0:e.show)!=null?Z:yt(p,"show"),m=(W=e==null?void 0:e.transition)!=null?W:yt(p,"transition"),u=(ge=e==null?void 0:e.bulkTransition)!=null?ge:yt(p,"bulkTransition"),y=(ce=e==null?void 0:e.note)!=null?ce:yt(p,"note"),h=(he=e==null?void 0:e.tracking)!=null?he:yt(p,"tracking"),w=(ye=e==null?void 0:e.invoice)!=null?ye:yt(p,"invoice"),I=(Ne=e==null?void 0:e.export)!=null?Ne:yt(p,"export"),C=(M=e==null?void 0:e.sendEmail)!=null?M:yt(p,"sendEmail"),E=(D=e==null?void 0:e.recordTransaction)!=null?D:yt(p,"recordTransaction"),f=(ue=e==null?void 0:e.resendDownloads)!=null?ue:yt(p,"resendDownloads"),N=(fe=e==null?void 0:e.resetDownload)!=null?fe:yt(p,"resetDownload"),x=(U=e==null?void 0:e.checkout)!=null?U:yt(p,"checkout"),B=(Pe=e==null?void 0:e.checkin)!=null?Pe:yt(p,"checkin"),Y=typeof AbortController!="undefined",b=Ye(null),P=Array.isArray(i==null?void 0:i.items)?i.items:[],ee=i!=null&&i.pagination&&typeof i.pagination=="object"?i.pagination:{},O=Ve({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...P],pagination:{total:(He=ee.total)!=null?He:P.length,limit:(Le=ee.limit)!=null?Le:20,pages:(Ue=ee.pages)!=null?Ue:0,current:(Je=ee.current)!=null?Je:1},search:"",filterState:"",orderStates:Array.isArray(n)&&n.length?n:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1,locking:!1}),se=Ye(null),K=()=>{const me=O.pagination.current||1,ve=O.pagination.limit||20,Re=O.search.trim(),pe=O.filterState||"";return`orders:page=${me}:limit=${ve}:search=${Re}:state=${pe}`},oe=async(me=!1)=>{var Ze;if(!p){O.error="Orders endpoint unavailable.",O.items=[];return}const ve=K(),Re=me?null:Lt(ve,o);if(Re){d.recordCacheHit(),O.items=Re.items,O.pagination={...O.pagination,...Re.pagination},O.lastUpdated=Re.lastUpdated;return}d.recordCacheMiss(),O.loading=!0,O.error="",b.value&&Y&&b.value.abort();const pe=Y?new AbortController:null;b.value=pe;const tt=d.startFetch();try{const Ut=Math.max(0,(O.pagination.current-1)*O.pagination.limit),{items:Ms,pagination:yn}=await l.fetchOrders({endpoint:p,limit:O.pagination.limit,start:Ut,search:O.search.trim(),state:O.filterState,signal:pe?pe.signal:void 0});O.items=Ms,O.pagination={...O.pagination,...yn,current:yn.current&&yn.current>0?yn.current:1},O.selection.clear(),O.lastUpdated=new Date().toISOString(),Pt(ve,{items:Ms,pagination:O.pagination,lastUpdated:O.lastUpdated})}catch(Ut){if((Ut==null?void 0:Ut.name)==="AbortError")return;O.error=(Ze=Ut==null?void 0:Ut.message)!=null?Ze:"Unknown error"}finally{d.endFetch(tt),Y&&b.value===pe&&(b.value=null),O.loading=!1}},re=()=>{O.pagination.current=1,Fe(K()),oe(!0)},Oe=()=>{O.pagination.current=1,oe()},V=me=>{O.filterState=me||"",O.pagination.current=1,oe()},$=me=>{const ve=Number(me);Number.isNaN(ve)||ve<1||ve===O.pagination.current||(O.pagination.current=ve,oe(!0))},g=()=>{O.selection.clear()},R=me=>{me&&(O.selection.has(me)?O.selection.delete(me):O.selection.add(me))},L=()=>{O.pagination.current>=O.pagination.pages||(O.pagination.current+=1,oe(!0))},H=()=>{O.pagination.current<=1||(O.pagination.current-=1,oe(!0))},F=async(me,ve="")=>{var Re;if(!_)return null;try{return await l.fetchOrder({endpoint:_,id:me,orderNumber:ve})}catch(pe){return O.transitionError=(Re=pe==null?void 0:pe.message)!=null?Re:"Unknown error",null}},j=me=>{if(!(me!=null&&me.id))return;const ve=O.items.findIndex(Re=>Re.id===me.id);ve!==-1&&O.items.splice(ve,1,me)},X=async me=>{var ve;if(!x||!me)return null;O.locking=!0,O.transitionError="";try{const Re=await l.checkoutOrder({endpoint:x,id:me});return Re&&(j(Re),se.value=Re.id),Re}catch(Re){throw O.transitionError=(ve=Re==null?void 0:Re.message)!=null?ve:"Unknown error",Re}finally{O.locking=!1}},de=async(me,{force:ve=!1}={})=>{if(!B||!me)return null;try{const Re=await l.checkinOrder({endpoint:B,id:me,force:ve});return Re&&(j(Re),O.activeOrder&&O.activeOrder.id===Re.id&&(O.activeOrder=Re),se.value===Re.id&&(se.value=null)),Re}catch(Re){return null}},Ee=async me=>de(me,{force:!0}),be=async()=>{if(!se.value)return;const me=se.value;se.value=null,await de(me)},J=async me=>{var ve,Re,pe;if(!me){O.transitionError="",O.activeOrder=null,await be();return}O.transitionError="";try{se.value&&se.value!==me.id&&await be();const tt=await X(me.id);if(tt){O.activeOrder=tt;return}const Ze=await F(me.id,me.order_no);O.activeOrder=Ze||{...me,items:Array.isArray(me.items)?me.items:[],transactions:Array.isArray(me.transactions)?me.transactions:[],timeline:Array.isArray(me.timeline)?me.timeline:[],billing:(ve=me.billing)!=null?ve:{}}}catch(tt){O.transitionError=(Re=tt==null?void 0:tt.message)!=null?Re:"Unknown error",O.activeOrder={...me,items:Array.isArray(me.items)?me.items:[],transactions:Array.isArray(me.transactions)?me.transactions:[],timeline:Array.isArray(me.timeline)?me.timeline:[],billing:(pe=me.billing)!=null?pe:{}}}},_e=async()=>{O.transitionError="",O.activeOrder=null,await be()},Te=async(me,ve)=>{var Re;if(!m)throw new Error("Transition endpoint unavailable.");O.saving=!0,O.transitionError="";try{const pe=await l.transitionOrder({endpoint:m,id:me,state:ve});return pe&&(j(pe),O.activeOrder&&O.activeOrder.id===pe.id&&(O.activeOrder=pe),Fe(K())),pe}catch(pe){throw O.transitionError=(Re=pe==null?void 0:pe.message)!=null?Re:"Unknown error",pe}finally{O.saving=!1}},$e=async(me,ve)=>{var Re;if(!h)throw new Error("Tracking endpoint unavailable.");O.saving=!0,O.transitionError="";try{const pe=await l.updateOrderTracking({endpoint:h,id:me,tracking:ve});return pe&&(j(pe),O.activeOrder&&O.activeOrder.id===pe.id&&(O.activeOrder=pe),Fe(K())),pe}catch(pe){throw O.transitionError=(Re=pe==null?void 0:pe.message)!=null?Re:"Unknown error",pe}finally{O.saving=!1}},T=async(me,ve="")=>{var Re;if(!w)throw new Error("Invoice endpoint unavailable.");O.invoiceLoading=!0,O.transitionError="";try{const pe=await l.fetchOrderInvoice({endpoint:w,id:me,orderNumber:ve});if(!pe)throw new Error("Invoice not available.");return pe}catch(pe){throw O.transitionError=(Re=pe==null?void 0:pe.message)!=null?Re:"Unknown error",pe}finally{O.invoiceLoading=!1}},v=async()=>{var me;if(!I)throw new Error("Export endpoint unavailable.");O.exporting=!0,O.error="";try{const ve=await l.exportOrders({endpoint:I,search:O.search.trim(),state:O.filterState});if(!ve)throw new Error("Export not available.");return ve}catch(ve){throw O.error=(me=ve==null?void 0:ve.message)!=null?me:"Export failed",ve}finally{O.exporting=!1}},G=async(me,ve)=>{var Re;if(!C)throw new Error("Send email endpoint unavailable.");O.saving=!0,O.transitionError="";try{const pe=await l.sendOrderEmail({endpoint:C,id:me,type:ve});return pe&&(j(pe),O.activeOrder&&O.activeOrder.id===pe.id&&(O.activeOrder=pe),Fe(K())),pe}catch(pe){throw O.transitionError=(Re=pe==null?void 0:pe.message)!=null?Re:"Failed to send email",pe}finally{O.saving=!1}},ae=async(me,{amountCents:ve,reference:Re,note:pe})=>{var tt;if(!E)throw new Error("Record transaction endpoint unavailable.");O.saving=!0,O.transitionError="";try{const Ze=await l.recordTransaction({endpoint:E,id:me,amountCents:ve,reference:Re,note:pe});return Ze&&(j(Ze),O.activeOrder&&O.activeOrder.id===Ze.id&&(O.activeOrder=Ze),Fe(K())),Ze}catch(Ze){throw O.transitionError=(tt=Ze==null?void 0:Ze.message)!=null?tt:"Failed to record payment",Ze}finally{O.saving=!1}},Q=async me=>{var ve;if(!f)throw new Error("Resend downloads endpoint unavailable.");O.saving=!0,O.transitionError="";try{const Re=await l.resendDownloads({endpoint:f,id:me});return Re&&(j(Re),O.activeOrder&&O.activeOrder.id===Re.id&&(O.activeOrder=Re),Fe(K())),Re}catch(Re){throw O.transitionError=(ve=Re==null?void 0:Re.message)!=null?ve:"Failed to resend downloads email",Re}finally{O.saving=!1}},te=async(me,ve)=>{var Re;if(!N)throw new Error("Reset download endpoint unavailable.");O.saving=!0,O.transitionError="";try{const pe=await l.resetDownload({endpoint:N,downloadId:me,orderId:ve});return pe!=null&&pe.order&&(j(pe.order),O.activeOrder&&O.activeOrder.id===pe.order.id&&(O.activeOrder=pe.order),Fe(K())),pe}catch(pe){throw O.transitionError=(Re=pe==null?void 0:pe.message)!=null?Re:"Failed to reset download count",pe}finally{O.saving=!1}},z=async(me,ve)=>{var Re;if(!u)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(me)||!me.length)return{updated:[]};O.saving=!0;try{const pe=await l.bulkTransitionOrders({endpoint:u,ids:me,state:ve}),tt=Array.isArray(pe.updated)?pe.updated:[];return tt.forEach(Ze=>{j(Ze),O.activeOrder&&O.activeOrder.id===Ze.id&&(O.activeOrder=Ze)}),g(),{updated:tt}}catch(pe){throw O.transitionError=(Re=pe==null?void 0:pe.message)!=null?Re:"Unknown error",pe}finally{O.saving=!1}};return mt(()=>{s&&oe()}),{state:O,loadOrders:oe,refresh:re,search:Oe,setFilterState:V,goToPage:$,nextPage:L,previousPage:H,checkoutOrder:X,checkinOrder:de,forceCheckinOrder:Ee,releaseLock:be,viewOrder:J,closeOrder:_e,transitionOrder:Te,bulkTransition:z,updateTracking:$e,downloadInvoice:T,exportOrders:v,sendEmail:G,recordTransaction:ae,resendDownloads:Q,resetDownload:te,toggleSelection:R,clearSelection:g,metrics:d.metrics,addNote:async(me,ve)=>{var Re;if(!y)throw new Error("Note endpoint unavailable.");if(!me||!ve||!ve.trim())return null;O.transitionError="",O.saving=!0;try{const pe=await l.addOrderNote({endpoint:y,id:me,message:ve});return pe&&(j(pe),O.activeOrder&&O.activeOrder.id===pe.id&&(O.activeOrder=pe)),pe}catch(pe){throw O.transitionError=(Re=pe==null?void 0:pe.message)!=null?Re:"Unknown error",pe}finally{O.saving=!1}}}}function j$({endpoint:e="",token:t="",preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var m,u,y;const o=bt({token:t}),l=Yt("dashboard"),d=Ve({loading:!1,error:"",summary:(y=n.summary)!=null?y:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(u=(m=n.summary)==null?void 0:m.currency)!=null?u:"USD"},checklist:Array.isArray(n.checklist)?n.checklist:[],lastUpdated:null}),p=()=>"dashboard",_=async(h=!1)=>{var E,f;if(!e)return;const w=p(),I=h?null:Lt(w,s);if(I){l.recordCacheHit(),d.summary=I.summary,d.checklist=I.checklist,d.lastUpdated=I.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="";const C=l.startFetch();try{const N=await o.fetchDashboard({endpoint:e});d.summary=(E=N.summary)!=null?E:d.summary,d.checklist=Array.isArray(N.checklist)?N.checklist:d.checklist,d.lastUpdated=new Date().toISOString(),Pt(w,{summary:d.summary,checklist:d.checklist,lastUpdated:d.lastUpdated})}catch(N){d.error=(f=N==null?void 0:N.message)!=null?f:"Unknown error"}finally{l.endFetch(C),d.loading=!1}};return mt(()=>{i&&(!Array.isArray(d.checklist)||!d.checklist.length)&&_()}),{state:d,refresh:_,metrics:l.metrics}}function J$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var b,P,ee,O,se,K,oe,re,Oe,V,$,g,R,L,H,F,j;const o=bt({token:t}),l=Yt("customers"),d=(b=e==null?void 0:e.list)!=null?b:"",p=(P=e==null?void 0:e.show)!=null?P:"",_=(O=(ee=e==null?void 0:e.gdpr)==null?void 0:ee.export)!=null?O:"",m=(K=(se=e==null?void 0:e.gdpr)==null?void 0:se.anonymise)!=null?K:"",u=Ve({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(V=(Oe=(oe=n.pagination)==null?void 0:oe.total)!=null?Oe:(re=n.items)==null?void 0:re.length)!=null?V:0,limit:(g=($=n.pagination)==null?void 0:$.limit)!=null?g:20,pages:(L=(R=n.pagination)==null?void 0:R.pages)!=null?L:0,current:(F=(H=n.pagination)==null?void 0:H.current)!=null?F:1},search:"",activeCustomer:(j=n.active)!=null?j:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),y=typeof AbortController!="undefined",h=Ye(null),w=()=>{const X=u.pagination.current||1,de=u.pagination.limit||20,Ee=u.search.trim();return`customers:page=${X}:limit=${de}:search=${Ee}`},I=async(X=!1)=>{var _e;if(!d){u.error="Customers endpoint unavailable.",u.items=[];return}const de=w(),Ee=X?null:Lt(de,s);if(Ee){l.recordCacheHit(),u.items=Ee.items,u.pagination={...u.pagination,...Ee.pagination},u.lastUpdated=Ee.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",h.value&&y&&h.value.abort();const be=y?new AbortController:null;h.value=be;const J=l.startFetch();try{const Te=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:$e,pagination:T}=await o.fetchCustomers({endpoint:d,limit:u.pagination.limit,start:Te,search:u.search.trim(),signal:be?be.signal:void 0});u.items=$e,u.pagination={...u.pagination,...T,current:T.current&&T.current>0?T.current:1},u.lastUpdated=new Date().toISOString(),Pt(de,{items:$e,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(Te){if((Te==null?void 0:Te.name)==="AbortError")return;u.error=(_e=Te==null?void 0:Te.message)!=null?_e:"Unknown error"}finally{l.endFetch(J),y&&h.value===be&&(h.value=null),u.loading=!1}},C=()=>{u.pagination.current=1,Fe(w()),I(!0)},E=()=>{u.pagination.current=1,I()},f=X=>{const de=Number(X);Number.isNaN(de)||de<1||de===u.pagination.current||(u.pagination.current=de,I(!0))},N=async X=>{var de;if(!p||!(X!=null&&X.email)){u.activeCustomer=X||null;return}try{const Ee=await o.fetchCustomer({endpoint:p,email:X.email});u.activeCustomer=Ee||X}catch(Ee){u.error=(de=Ee==null?void 0:Ee.message)!=null?de:"Unknown error"}},x=()=>{u.activeCustomer=null,u.gdprMessage="",u.gdprSuccess=!1},B=async X=>{var de;if(!_||!X){u.gdprMessage="GDPR export endpoint unavailable.",u.gdprSuccess=!1;return}u.gdprLoading=!0,u.gdprMessage="";try{const Ee=await o.gdprExport({endpoint:_,email:X});if(!Ee)throw new Error("No data returned");const be=new Blob([JSON.stringify(Ee,null,2)],{type:"application/json"}),J=URL.createObjectURL(be),_e=document.createElement("a");_e.href=J,_e.download=`gdpr-export-${X.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(J),u.gdprMessage="Data exported successfully.",u.gdprSuccess=!0}catch(Ee){u.gdprMessage=(de=Ee==null?void 0:Ee.message)!=null?de:"Export failed",u.gdprSuccess=!1}finally{u.gdprLoading=!1}},Y=async X=>{var Ee;if(!m||!X){u.gdprMessage="GDPR anonymise endpoint unavailable.",u.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${X}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){u.gdprLoading=!0,u.gdprMessage="";try{const be=await o.gdprAnonymise({endpoint:m,email:X});u.gdprMessage=be.message||`Anonymised ${be.affected} order(s).`,u.gdprSuccess=!0,Fe(w()),I(!0),setTimeout(()=>{u.activeCustomer=null,u.gdprMessage=""},2e3)}catch(be){u.gdprMessage=(Ee=be==null?void 0:be.message)!=null?Ee:"Anonymisation failed",u.gdprSuccess=!1}finally{u.gdprLoading=!1}}};return mt(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&I()}),{state:u,loadCustomers:I,refresh:C,search:E,goToPage:f,viewCustomer:N,closeCustomer:x,gdprExport:B,gdprAnonymise:Y,metrics:l.metrics}}function W$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var b,P,ee,O,se,K,oe,re,Oe,V,$,g,R,L;const o=bt({token:t}),l=Yt("coupons"),d=(b=e==null?void 0:e.list)!=null?b:"",p=(P=e==null?void 0:e.create)!=null?P:d,_=(ee=e==null?void 0:e.update)!=null?ee:d,m=(O=e==null?void 0:e.delete)!=null?O:d,u=Ve({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(re=(oe=(se=n.pagination)==null?void 0:se.total)!=null?oe:(K=n.items)==null?void 0:K.length)!=null?re:0,limit:(V=(Oe=n.pagination)==null?void 0:Oe.limit)!=null?V:20,pages:(g=($=n.pagination)==null?void 0:$.pages)!=null?g:0,current:(L=(R=n.pagination)==null?void 0:R.current)!=null?L:1},search:"",activeCoupon:null,lastUpdated:null}),y=typeof AbortController!="undefined",h=Ye(null),w=()=>{const H=u.pagination.current||1,F=u.pagination.limit||20,j=u.search.trim();return`coupons:page=${H}:limit=${F}:search=${j}`},I=async(H=!1)=>{var Ee;if(!d){u.error="Coupons endpoint unavailable.",u.items=[];return}const F=w(),j=H?null:Lt(F,s);if(j){l.recordCacheHit(),u.items=j.items,u.pagination={...u.pagination,...j.pagination},u.lastUpdated=j.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",h.value&&y&&h.value.abort();const X=y?new AbortController:null;h.value=X;const de=l.startFetch();try{const be=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:J,pagination:_e}=await o.fetchCoupons({endpoint:d,limit:u.pagination.limit,start:be,search:u.search.trim(),signal:X?X.signal:void 0});u.items=J,u.pagination={...u.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},u.lastUpdated=new Date().toISOString(),Pt(F,{items:J,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(be){if((be==null?void 0:be.name)==="AbortError")return;u.error=(Ee=be==null?void 0:be.message)!=null?Ee:"Unknown error"}finally{l.endFetch(de),y&&h.value===X&&(h.value=null),u.loading=!1}},C=()=>{u.pagination.current=1,Fe(w()),I(!0)},E=()=>{u.pagination.current=1,I()},f=H=>{const F=Number(H);Number.isNaN(F)||F<1||F===u.pagination.current||(u.pagination.current=F,I(!0))},N=H=>{u.activeCoupon=H},x=H=>{const F=u.items.findIndex(j=>j.id===H.id);F===-1?u.items.unshift(H):u.items.splice(F,1,H)},B=async H=>{var F;u.saving=!0,u.error="";try{let j=null;return H.id?j=await o.updateCoupon({endpoint:_,id:H.id,data:H}):j=await o.createCoupon({endpoint:p,data:H}),j&&(x(j),u.activeCoupon&&u.activeCoupon.id===j.id&&(u.activeCoupon=j),Fe(w())),j}catch(j){throw u.error=(F=j==null?void 0:j.message)!=null?F:"Unknown error",j}finally{u.saving=!1}},Y=async H=>{var F;if(!Array.isArray(H)||!H.length)return 0;u.saving=!0,u.error="";try{const j=await o.deleteCoupons({endpoint:m,ids:H});return j&&(u.items=u.items.filter(X=>!H.includes(X.id)),u.activeCoupon&&H.includes(u.activeCoupon.id)&&(u.activeCoupon=null),Fe(w())),j}catch(j){throw u.error=(F=j==null?void 0:j.message)!=null?F:"Unknown error",j}finally{u.saving=!1}};return mt(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&I()}),{state:u,loadCoupons:I,refresh:C,search:E,goToPage:f,setActive:N,saveCoupon:B,deleteCoupons:Y,metrics:l.metrics}}const Ea=(e={})=>{var _,m,u,y,h,w,I,C,E,f,N,x,B,Y,b,P,ee,O,se;const t=(_=e.store)!=null?_:{},n=(m=e.payments)!=null?m:{},i=(u=e.visual)!=null?u:{},s=(y=e.visual_defaults)!=null?y:{},o=(w=(h=e.security)==null?void 0:h.rate_limits)!=null?w:{},l=Array.isArray(e.currencies)?e.currencies:[],d=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",p=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(I=t.name)!=null?I:"",email:(C=t.email)!=null?C:"",phone:(E=t.phone)!=null?E:""},payments:{configured:!!n.configured},base_currency:d,display_locale:p,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(f=i.primary_color)!=null?f:"",text_color:(N=i.text_color)!=null?N:"",surface_color:(x=i.surface_color)!=null?x:"",border_color:(B=i.border_color)!=null?B:"",muted_color:(Y=i.muted_color)!=null?Y:""},visual_defaults:{primary_color:(b=s.primary_color)!=null?b:"#4f6d7a",text_color:(P=s.text_color)!=null?P:"#1f2933",surface_color:(ee=s.surface_color)!=null?ee:"#ffffff",border_color:(O=s.border_color)!=null?O:"#e4e7ec",muted_color:(se=s.muted_color)!=null?se:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(o.checkout_ip_limit))?Number(o.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(o.checkout_email_limit))?Number(o.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(o.checkout_session_limit))?Number(o.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(o.checkout_window_minutes))?Number(o.checkout_window_minutes):Number.isFinite(Number(o.checkout_window))?Math.max(0,Math.ceil(Number(o.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(o.offline_ip_limit))?Number(o.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(o.offline_email_limit))?Number(o.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(o.offline_window_minutes))?Number(o.offline_window_minutes):Number.isFinite(Number(o.offline_window))?Math.max(0,Math.ceil(Number(o.offline_window)/60)):30}},currencies:l}};function q$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var I,C;const o=bt({token:t}),l=Yt("settings"),d=(I=e==null?void 0:e.show)!=null?I:"",p=(C=e==null?void 0:e.update)!=null?C:d,_=Ve({loading:!1,saving:!1,error:"",message:"",values:Ea(n),lastUpdated:null}),m=Ye(null),u=Ae(()=>m.value?JSON.stringify(_.values)!==JSON.stringify(m.value):!1),y=()=>{m.value&&(_.values=JSON.parse(JSON.stringify(m.value)))},h=async(E=!1)=>{var B;if(!d){_.error="Settings endpoint unavailable.";return}const f="settings:data",N=E?null:Lt(f,s);if(N){l.recordCacheHit(),_.values=N.values,_.lastUpdated=N.lastUpdated,m.value=JSON.parse(JSON.stringify(_.values));return}l.recordCacheMiss(),_.loading=!0,_.error="";const x=l.startFetch();try{const Y=await o.fetchSettings({endpoint:d});_.values=Ea(Y),_.lastUpdated=new Date().toISOString(),m.value=JSON.parse(JSON.stringify(_.values)),Pt(f,{values:_.values,lastUpdated:_.lastUpdated})}catch(Y){throw _.error=(B=Y==null?void 0:Y.message)!=null?B:"Unknown error",Y}finally{l.endFetch(x),_.loading=!1}},w=async E=>{var f;if(!p)return _.error="Settings endpoint unavailable.",null;_.saving=!0,_.error="",_.message="";try{const N=await o.updateSettings({endpoint:p,data:E});return _.values=Ea(N),_.lastUpdated=new Date().toISOString(),_.message="Settings saved.",m.value=JSON.parse(JSON.stringify(_.values)),Fe("settings:data"),Pt("settings:data",{values:_.values,lastUpdated:_.lastUpdated}),_.values}catch(N){throw _.error=(f=N==null?void 0:N.message)!=null?f:"Unknown error",N}finally{_.saving=!1}};return mt(()=>{i&&h()}),{state:_,refresh:h,save:w,isDirty:u,resetDraft:y,metrics:l.metrics}}function z$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var N,x,B,Y,b,P,ee,O,se,K,oe,re,Oe,V;const o=bt({token:t}),l=Yt("taxRates"),d=(N=e==null?void 0:e.list)!=null?N:"",p=(x=e==null?void 0:e.create)!=null?x:d,_=(B=e==null?void 0:e.update)!=null?B:d,m=(Y=e==null?void 0:e.delete)!=null?Y:d,u=Ve({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(O=(ee=(b=n.pagination)==null?void 0:b.total)!=null?ee:(P=n.items)==null?void 0:P.length)!=null?O:0,limit:(K=(se=n.pagination)==null?void 0:se.limit)!=null?K:20,pages:(re=(oe=n.pagination)==null?void 0:oe.pages)!=null?re:0,current:(V=(Oe=n.pagination)==null?void 0:Oe.current)!=null?V:1},search:"",lastUpdated:null}),y=typeof AbortController!="undefined",h=Ye(null),w=()=>{const $=u.pagination.current||1,g=u.pagination.limit||20,R=u.search.trim();return`taxRates:page=${$}:limit=${g}:search=${R}`},I=async($=!1)=>{var F;if(!d){u.error="Tax endpoint unavailable.",u.items=[];return}const g=w(),R=$?null:Lt(g,s);if(R){l.recordCacheHit(),u.items=R.items,u.pagination={...u.pagination,...R.pagination},u.lastUpdated=R.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",h.value&&y&&h.value.abort();const L=y?new AbortController:null;h.value=L;const H=l.startFetch();try{const j=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:X,pagination:de}=await o.fetchTaxRates({endpoint:d,limit:u.pagination.limit,start:j,search:u.search.trim(),signal:L?L.signal:void 0});u.items=X,u.pagination={...u.pagination,...de,current:de.current&&de.current>0?de.current:1},u.lastUpdated=new Date().toISOString(),Pt(g,{items:X,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(j){if((j==null?void 0:j.name)==="AbortError")return;u.error=(F=j==null?void 0:j.message)!=null?F:"Unknown error"}finally{l.endFetch(H),y&&h.value===L&&(h.value=null),u.loading=!1}},C=()=>{u.pagination.current=1,Fe(w()),I(!0)},E=async $=>{var g;u.saving=!0,u.error="";try{const R=$.id?await o.updateTaxRate({endpoint:_,id:$.id,data:$}):await o.createTaxRate({endpoint:p,data:$});if(R){const L=u.items.findIndex(H=>H.id===R.id);L===-1?u.items.unshift(R):u.items.splice(L,1,R),Fe(w())}return R}catch(R){throw u.error=(g=R==null?void 0:R.message)!=null?g:"Unknown error",R}finally{u.saving=!1}},f=async $=>{var g;if(!Array.isArray($)||!$.length)return 0;u.saving=!0,u.error="";try{const R=await o.deleteTaxRates({endpoint:m,ids:$});return R&&(u.items=u.items.filter(L=>!$.includes(L.id)),Fe(w())),R}catch(R){throw u.error=(g=R==null?void 0:R.message)!=null?g:"Unknown error",R}finally{u.saving=!1}};return mt(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&I()}),{state:u,loadRates:I,refresh:C,saveRate:E,deleteRates:f,metrics:l.metrics}}function Q$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var N,x,B,Y,b,P,ee,O,se,K,oe,re,Oe,V;const o=bt({token:t}),l=Yt("shippingRules"),d=(N=e==null?void 0:e.list)!=null?N:"",p=(x=e==null?void 0:e.create)!=null?x:d,_=(B=e==null?void 0:e.update)!=null?B:d,m=(Y=e==null?void 0:e.delete)!=null?Y:d,u=Ve({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(O=(ee=(b=n.pagination)==null?void 0:b.total)!=null?ee:(P=n.items)==null?void 0:P.length)!=null?O:0,limit:(K=(se=n.pagination)==null?void 0:se.limit)!=null?K:20,pages:(re=(oe=n.pagination)==null?void 0:oe.pages)!=null?re:0,current:(V=(Oe=n.pagination)==null?void 0:Oe.current)!=null?V:1},search:"",lastUpdated:null}),y=typeof AbortController!="undefined",h=Ye(null),w=()=>{const $=u.pagination.current||1,g=u.pagination.limit||20,R=u.search.trim();return`shippingRules:page=${$}:limit=${g}:search=${R}`},I=async($=!1)=>{var F;if(!d){u.error="Shipping endpoint unavailable.",u.items=[];return}const g=w(),R=$?null:Lt(g,s);if(R){l.recordCacheHit(),u.items=R.items,u.pagination={...u.pagination,...R.pagination},u.lastUpdated=R.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",h.value&&y&&h.value.abort();const L=y?new AbortController:null;h.value=L;const H=l.startFetch();try{const j=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:X,pagination:de}=await o.fetchShippingRules({endpoint:d,limit:u.pagination.limit,start:j,search:u.search.trim(),signal:L?L.signal:void 0});u.items=X,u.pagination={...u.pagination,...de,current:de.current&&de.current>0?de.current:1},u.lastUpdated=new Date().toISOString(),Pt(g,{items:X,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(j){if((j==null?void 0:j.name)==="AbortError")return;u.error=(F=j==null?void 0:j.message)!=null?F:"Unknown error"}finally{l.endFetch(H),y&&h.value===L&&(h.value=null),u.loading=!1}},C=()=>{u.pagination.current=1,Fe(w()),I(!0)},E=async $=>{var g;u.saving=!0,u.error="";try{const R=$.id?await o.updateShippingRule({endpoint:_,id:$.id,data:$}):await o.createShippingRule({endpoint:p,data:$});if(R){const L=u.items.findIndex(H=>H.id===R.id);L===-1?u.items.unshift(R):u.items.splice(L,1,R),Fe(w())}return R}catch(R){throw u.error=(g=R==null?void 0:R.message)!=null?g:"Unknown error",R}finally{u.saving=!1}},f=async $=>{var g;if(!Array.isArray($)||!$.length)return 0;u.saving=!0,u.error="";try{const R=await o.deleteShippingRules({endpoint:m,ids:$});return R&&(u.items=u.items.filter(L=>!$.includes(L.id)),Fe(w())),R}catch(R){throw u.error=(g=R==null?void 0:R.message)!=null?g:"Unknown error",R}finally{u.saving=!1}};return mt(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&I()}),{state:u,loadRules:I,refresh:C,saveRule:E,deleteRules:f,metrics:l.metrics}}function Z$({endpoints:e,token:t,preload:n={},autoload:i=!0,cacheTTL:s=3e5}){var E,f,N,x,B,Y,b,P,ee,O,se;const o=bt({token:t}),l=Yt("logs"),d=(E=e==null?void 0:e.list)!=null?E:"",p=Ve({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(B=(x=(f=n.pagination)==null?void 0:f.total)!=null?x:(N=n.items)==null?void 0:N.length)!=null?B:0,limit:(b=(Y=n.pagination)==null?void 0:Y.limit)!=null?b:20,pages:(ee=(P=n.pagination)==null?void 0:P.pages)!=null?ee:0,current:(se=(O=n.pagination)==null?void 0:O.current)!=null?se:1},search:"",entity:"",lastUpdated:null}),_=typeof AbortController!="undefined",m=Ye(null),u=()=>{const K=p.pagination.current||1,oe=p.pagination.limit||20,re=p.search.trim(),Oe=p.entity.trim();return`logs:page=${K}:limit=${oe}:search=${re}:entity=${Oe}`},y=async(K=!1)=>{var $;if(!d){p.error="Logs endpoint unavailable.",p.items=[];return}const oe=u(),re=K?null:Lt(oe,s);if(re){l.recordCacheHit(),p.items=re.items,p.pagination={...p.pagination,...re.pagination},p.lastUpdated=re.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",_&&m.value&&m.value.abort();const Oe=_?new AbortController:null;m.value=Oe;const V=l.startFetch();try{const g=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:R,pagination:L}=await o.fetchLogs({endpoint:d,limit:p.pagination.limit,start:g,search:p.search.trim(),entity:p.entity,signal:Oe?Oe.signal:void 0});p.items=R,p.pagination={...p.pagination,...L,current:L.current&&L.current>0?L.current:1},p.lastUpdated=new Date().toISOString(),Pt(oe,{items:R,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(g){if((g==null?void 0:g.name)==="AbortError")return;p.error=($=g==null?void 0:g.message)!=null?$:"Unknown error"}finally{l.endFetch(V),_&&m.value===Oe&&(m.value=null),p.loading=!1}},h=()=>{p.pagination.current=1,Fe(u()),y(!0)},w=()=>{p.pagination.current=1,y()},I=K=>{const oe=typeof K=="string"?K.trim():"";p.entity!==oe&&(p.entity=oe,p.pagination.current=1,y())},C=K=>{const oe=Number(K);Number.isNaN(oe)||oe<1||oe===p.pagination.current||(p.pagination.current=oe,y(!0))};return mt(()=>{i&&(!Array.isArray(p.items)||!p.items.length)&&y()}),{state:p,loadLogs:y,refresh:h,search:w,setEntity:I,goToPage:C,metrics:l.metrics}}const hi=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function e0({endpoints:e={},token:t=""}){const n=bt({token:t}),i=Ve({loading:!1,saving:!1,error:"",config:hi(),message:""}),s=Ye(null),o=Ae(()=>s.value?JSON.stringify(i.config)!==JSON.stringify(s.value):!1),l=()=>{s.value&&(i.config=JSON.parse(JSON.stringify(s.value)))},d=async()=>{var m,u,y,h;if(e.show){i.loading=!0,i.error="";try{const w=await n.get(e.show);i.config=_((y=(u=(m=w==null?void 0:w.data)==null?void 0:m.config)!=null?u:w==null?void 0:w.config)!=null?y:{}),s.value=JSON.parse(JSON.stringify(i.config))}catch(w){i.error=(h=w.message)!=null?h:"Unable to load payment configuration."}finally{i.loading=!1}}},p=async m=>{var u,y,h,w,I,C,E;if(e.update){i.saving=!0,i.error="",i.message="";try{const f=await n.post(e.update,{config:m});i.config=_((h=(y=(u=f==null?void 0:f.data)==null?void 0:u.config)!=null?y:f==null?void 0:f.config)!=null?h:{}),i.message=(C=(I=(w=f==null?void 0:f.data)==null?void 0:w.message)!=null?I:f==null?void 0:f.message)!=null?C:"",s.value=JSON.parse(JSON.stringify(i.config))}catch(f){i.error=(E=f.message)!=null?E:"Unable to save payment configuration."}finally{i.saving=!1}}},_=m=>{var y,h,w,I;const u=hi();return{stripe:{...u.stripe,...(y=m.stripe)!=null?y:{}},paypal:{...u.paypal,...(h=m.paypal)!=null?h:{}},cod:{...u.cod,...(w=m.cod)!=null?w:{}},bank_transfer:{...u.bank_transfer,...(I=m.bank_transfer)!=null?I:{}}}};return{state:i,refresh:d,save:p,isDirty:o,resetDraft:l}}const Et=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,n);return i.searchParams.set("task",t),`${i.pathname}?${i.searchParams.toString()}`};function t0({endpoints:e={},token:t="",autoload:n=!0}){var j,X,de,Ee,be,J,_e,Te,$e,T,v,G,ae,Q,te;const i=bt({token:t}),s=(j=e==null?void 0:e.base)!=null?j:"",o=(X=e==null?void 0:e.importPlatforms)!=null?X:Et(s,"api.import.platforms"),l=(de=e==null?void 0:e.importUpload)!=null?de:Et(s,"api.import.upload"),d=(Ee=e==null?void 0:e.importDetect)!=null?Ee:Et(s,"api.import.detect"),p=(be=e==null?void 0:e.importStart)!=null?be:Et(s,"api.import.start"),_=(J=e==null?void 0:e.importProgress)!=null?J:Et(s,"api.import.progress"),m=(_e=e==null?void 0:e.importCancel)!=null?_e:Et(s,"api.import.cancel"),u=(Te=e==null?void 0:e.importJobs)!=null?Te:Et(s,"api.import.jobs"),y=($e=e==null?void 0:e.importSamples)!=null?$e:Et(s,"api.import.samples");(T=e==null?void 0:e.exportPlatforms)!=null||Et(s,"api.export.platforms");const h=(v=e==null?void 0:e.exportStart)!=null?v:Et(s,"api.export.start"),w=(G=e==null?void 0:e.exportProgress)!=null?G:Et(s,"api.export.progress"),I=(ae=e==null?void 0:e.exportDownload)!=null?ae:Et(s,"api.export.download"),C=(Q=e==null?void 0:e.exportCancel)!=null?Q:Et(s,"api.export.cancel"),E=(te=e==null?void 0:e.exportJobs)!=null?te:Et(s,"api.export.jobs"),f=Ve({loading:!1,error:"",platforms:[],importFile:null,importFileId:"",importFilename:"",importFileSize:0,importRowCount:0,importHeaders:[],importPreview:[],importDetectedPlatform:null,importSelectedPlatform:"",importMapping:{},importUploading:!1,importStarting:!1,importJobId:null,importProgress:null,importPolling:!1,exportPlatform:"native",exportStarting:!1,exportJobId:null,exportProgress:null,exportPolling:!1,importJobs:[],exportJobs:[],jobsPagination:{total:0,limit:10,pages:0,current:1},samples:[]}),N=Ye(null),x=()=>{N.value&&(clearInterval(N.value),N.value=null),f.importPolling=!1,f.exportPolling=!1},B=async()=>{var z,q,Z;if(o){f.loading=!0,f.error="";try{const W=await i.get(o);f.platforms=(q=(z=W.data)==null?void 0:z.platforms)!=null?q:[]}catch(W){f.error=(Z=W==null?void 0:W.message)!=null?Z:"Failed to load platforms"}finally{f.loading=!1}}},Y=async()=>{var z,q;if(y)try{const Z=await i.get(y);f.samples=(q=(z=Z.data)==null?void 0:z.samples)!=null?q:[]}catch(Z){f.samples=[]}},b=async z=>{var q,Z,W,ge,ce,he,ye,Ne,M,D;if(!l||!z)return null;f.importUploading=!0,f.error="",f.importFile=z;try{const ue=new FormData;ue.append("file",z);const U=(q=(await i.request(l,{method:"POST",body:ue})).data)!=null?q:{};return f.importFileId=(Z=U.file_id)!=null?Z:"",f.importFilename=(W=U.filename)!=null?W:z.name,f.importFileSize=(ge=U.size)!=null?ge:z.size,f.importRowCount=(ce=U.row_count)!=null?ce:0,f.importHeaders=(he=U.headers)!=null?he:[],f.importPreview=(ye=U.preview)!=null?ye:[],f.importDetectedPlatform=(Ne=U.detected_platform)!=null?Ne:null,f.importSelectedPlatform=(M=U.detected_platform)!=null?M:"",U}catch(ue){return f.error=(D=ue==null?void 0:ue.message)!=null?D:"Failed to upload file",null}finally{f.importUploading=!1}},P=async z=>{var q,Z,W,ge;if(!d||!(z!=null&&z.length))return null;try{const he=(q=(await i.post(d,{headers:z})).data)!=null?q:{};return f.importDetectedPlatform=(Z=he.platform)!=null?Z:null,f.importMapping=(W=he.mapping)!=null?W:{},he}catch(ce){return f.error=(ge=ce==null?void 0:ce.message)!=null?ge:"Failed to detect platform",null}},ee=async(z={})=>{var q,Z,W,ge,ce;if(!p||!f.importFileId)return f.error="No file uploaded",null;if(!f.importSelectedPlatform)return f.error="Please select a platform",null;f.importStarting=!0,f.error="";try{const ye=(q=(await i.post(p,{file_id:f.importFileId,platform:f.importSelectedPlatform,options:{...z,mapping:f.importMapping}})).data)!=null?q:{};return f.importJobId=(Z=ye.job_id)!=null?Z:null,f.importProgress={status:(W=ye.status)!=null?W:"pending",total_rows:(ge=ye.total_rows)!=null?ge:0,processed_rows:0,imported_products:0,imported_variants:0,imported_categories:0,skipped_rows:0,errors:[],warnings:[],percent:0},se(),ye}catch(he){return f.error=(ce=he==null?void 0:he.message)!=null?ce:"Failed to start import",null}finally{f.importStarting=!1}},O=async()=>{var z,q,Z,W,ge,ce,he,ye,Ne,M,D,ue;if(!(!_||!f.importJobId))try{const fe=`${_}&job_id=${f.importJobId}`,Pe=(z=(await i.get(fe)).data)!=null?z:{};f.importProgress={status:(q=Pe.status)!=null?q:"unknown",total_rows:(Z=Pe.total_rows)!=null?Z:0,processed_rows:(W=Pe.processed_rows)!=null?W:0,imported_products:(ge=Pe.imported_products)!=null?ge:0,imported_variants:(ce=Pe.imported_variants)!=null?ce:0,imported_categories:(he=Pe.imported_categories)!=null?he:0,skipped_rows:(ye=Pe.skipped_rows)!=null?ye:0,errors:(Ne=Pe.errors)!=null?Ne:[],warnings:(M=Pe.warnings)!=null?M:[],percent:(D=Pe.progress_percent)!=null?D:Pe.total_rows>0?Math.round(Pe.processed_rows/Pe.total_rows*100):0},["completed","failed","cancelled"].includes(Pe.status)&&x()}catch(fe){f.error=(ue=fe==null?void 0:fe.message)!=null?ue:"Failed to get progress",x()}},se=()=>{x(),f.importPolling=!0,O(),N.value=setInterval(O,2e3)},K=async()=>{var z;if(!(!m||!f.importJobId))try{await i.post(m,{job_id:f.importJobId}),x(),f.importProgress={...f.importProgress,status:"cancelled"}}catch(q){f.error=(z=q==null?void 0:q.message)!=null?z:"Failed to cancel import"}},oe=()=>{x(),f.importFile=null,f.importFileId="",f.importFilename="",f.importFileSize=0,f.importRowCount=0,f.importHeaders=[],f.importPreview=[],f.importDetectedPlatform=null,f.importSelectedPlatform="",f.importMapping={},f.importJobId=null,f.importProgress=null,f.error=""},re=async(z={})=>{var q,Z,W,ge,ce;if(!h)return null;f.exportStarting=!0,f.error="";try{const ye=(q=(await i.post(h,{platform:f.exportPlatform,options:z})).data)!=null?q:{};return f.exportJobId=(Z=ye.job_id)!=null?Z:null,f.exportProgress={status:(W=ye.status)!=null?W:"pending",total_rows:(ge=ye.total_rows)!=null?ge:0,processed_rows:0,percent:0},V(),ye}catch(he){return f.error=(ce=he==null?void 0:he.message)!=null?ce:"Failed to start export",null}finally{f.exportStarting=!1}},Oe=async()=>{var z,q,Z,W,ge,ce;if(!(!w||!f.exportJobId))try{const he=`${w}&job_id=${f.exportJobId}`,Ne=(z=(await i.get(he)).data)!=null?z:{};f.exportProgress={status:(q=Ne.status)!=null?q:"unknown",total_rows:(Z=Ne.total_rows)!=null?Z:0,processed_rows:(W=Ne.processed_rows)!=null?W:0,percent:Ne.total_rows>0?Math.round(Ne.processed_rows/Ne.total_rows*100):0,file_path:(ge=Ne.file_path)!=null?ge:""},["completed","failed","cancelled"].includes(Ne.status)&&x()}catch(he){f.error=(ce=he==null?void 0:he.message)!=null?ce:"Failed to get progress",x()}},V=()=>{x(),f.exportPolling=!0,Oe(),N.value=setInterval(Oe,2e3)},$=async()=>{var z;if(!(!C||!f.exportJobId))try{await i.post(C,{job_id:f.exportJobId}),x(),f.exportProgress={...f.exportProgress,status:"cancelled"}}catch(q){f.error=(z=q==null?void 0:q.message)!=null?z:"Failed to cancel export"}},g=()=>{if(!I||!f.exportJobId)return;const z=`${I}&job_id=${f.exportJobId}`;typeof window!="undefined"&&(window.location.href=z)},R=()=>{x(),f.exportPlatform="native",f.exportJobId=null,f.exportProgress=null,f.error=""},L=async()=>{var z,q;if(u)try{const Z=`${u}&type=import&limit=${f.jobsPagination.limit}`,ge=(z=(await i.get(Z)).data)!=null?z:{};f.importJobs=(q=ge.items)!=null?q:[]}catch(Z){f.importJobs=[]}},H=async()=>{var z,q;if(E)try{const Z=`${E}&type=export&limit=${f.jobsPagination.limit}`,ge=(z=(await i.get(Z)).data)!=null?z:{};f.exportJobs=(q=ge.items)!=null?q:[]}catch(Z){f.exportJobs=[]}},F=async()=>{await Promise.all([B(),Y(),L(),H()])};return mt(()=>{n&&F()}),ta(()=>{x()}),{state:f,loadPlatforms:B,loadSamples:Y,uploadFile:b,detectPlatform:P,startImport:ee,cancelImport:K,resetImport:oe,startExport:re,cancelExport:$,downloadExport:g,resetExport:R,loadImportJobs:L,loadExportJobs:H,refresh:F,stopPolling:x}}const n0={class:"nxp-ec-admin-app__shell"},s0={class:"nxp-ec-admin-app__header"},a0={class:"nxp-ec-admin-app__title"},o0={class:"nxp-ec-admin-app__lead"},i0={class:"nxp-ec-btn__progress-label"},r0={key:0,class:"nxp-ec-admin-nav"},l0=["href"],c0={key:12,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},d0={class:"nxp-ec-admin-panel__body"},u0={class:"nxp-ec-admin-panel__lead"},Wn="nxp:admin:onboarding:dismissed",p0={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var zl,Ql,Zl,ec,tc,nc,sc,ac,oc,ic,rc,lc,cc,dc,uc,pc,_c,fc,mc,hc,gc,Ec,Cc,Ac,Sc,bc,yc,Tc,Rc,Oc,xc,vc,Pc,Nc,Mc,Ic,kc,$c,wc,Dc,Lc,Yc,Uc,Xc,Fc,Gc,Vc,Hc,Bc,Kc,jc,Jc,Wc,qc,zc,Qc,Zc,ed,td,nd,sd,ad,od,id,rd,ld,cd,dd,ud,pd,_d,fd,md,hd,gd,Ed,Cd,Ad,Sd,bd,yd,Td,Rd,Od,xd,vd,Pd,Nd,Md,Id,kd,$d,wd,Dd,Ld,Yd,Ud,Xd,Fd,Gd,Vd,Hd,Bd,Kd,jd,Jd,Wd,qd,zd,Qd,Zd,eu,tu,nu,su,au,ou,iu,ru,lu,cu,du,uu,pu,_u,fu,mu,hu,gu,Eu,Cu,Au,Su,bu,yu,Tu,Ru,Ou,xu,vu,Pu,Nu,Mu,Iu,ku,$u,wu,Du,Lu,Yu,Uu,Xu,Fu,Gu,Vu,Hu,Bu,Ku,ju,Ju,Wu,qu,zu,Qu,Zu,ep,tp,np,sp,ap,op,ip,rp,lp,cp,dp,up,pp,_p,fp,mp,hp,gp,Ep,Cp,Ap,Sp,bp,yp,Tp,Rp,Op,xp,vp,Pp,Np,Mp,Ip,kp,$p,wp,Dp,Lp,Yp,Up,Xp,Fp,Gp,Vp,Hp,Bp,Kp,jp,Jp,Wp,qp,zp,Qp,Zp,e_,t_,n_,s_,a_,o_,i_,r_,l_,c_,d_;const t=e,{__:n}=G$(t.dataset),i=Ae(()=>{var k;return((k=t.dataset)==null?void 0:k.appTitleKey)||"COM_NXPEASYCART"}),s=Ae(()=>{var k;return((k=t.dataset)==null?void 0:k.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),o=(k,le)=>{if(!k||typeof k!="string")return le;try{return JSON.parse(k)}catch(Me){return le}},l=Ae(()=>{var k,le;return!!((le=(k=on==null?void 0:on.values)==null?void 0:k.show_advanced_mode)!=null&&le)}),d=Ae(()=>{var le,Me;let k=[];if(Array.isArray((le=t.config)==null?void 0:le.navItems))k=t.config.navItems.map(Be=>({id:Be.id,title:Be.title,link:Be.link}));else{const Be=o((Me=t.dataset)==null?void 0:Me.navItems,[]);k=Array.isArray(Be)?Be.map(nt=>({id:nt.id,title:nt.title,link:nt.link})):[]}return l.value||(k=k.filter(Be=>Be.id!=="logs")),k}),p=k=>{const le=d.value;if(!Array.isArray(le))return"";const Me=le.find(Be=>Be.id===k);return Me?Me.link:""},_=Ae(()=>{var k,le;return((k=t.config)==null?void 0:k.activeSection)||((le=t.dataset)==null?void 0:le.activeSection)||"dashboard"}),m=Ae(()=>{var k,le;return((k=t.config)==null?void 0:k.settingsTab)||((le=t.dataset)==null?void 0:le.settingsTab)||"general"}),u=k=>_.value===k,y=Ae(()=>{var k,le,Me,Be,nt;return Number.parseInt((nt=(Be=(le=(k=t.config)==null?void 0:k.user)==null?void 0:le.id)!=null?Be:(Me=t.dataset)==null?void 0:Me.userId)!=null?nt:0,10)||0}),h=Ae(()=>u("dashboard")),w=Ae(()=>u("products")),I=Ae(()=>u("categories")||u("products")),C=Ae(()=>u("orders")),E=Ae(()=>u("customers")),f=Ae(()=>u("coupons")),N=Ae(()=>u("settings")),x=Ae(()=>u("tax")),B=Ae(()=>u("shipping")),Y=Ae(()=>u("logs")),b=Ae(()=>u("importexport")),P={...(Ql=(zl=t.endpoints)==null?void 0:zl.products)!=null?Ql:{},list:(sc=(nc=(ec=(Zl=t.endpoints)==null?void 0:Zl.products)==null?void 0:ec.list)!=null?nc:(tc=t.dataset)==null?void 0:tc.productsEndpoint)!=null?sc:"",create:(lc=(rc=(oc=(ac=t.endpoints)==null?void 0:ac.products)==null?void 0:oc.create)!=null?rc:(ic=t.dataset)==null?void 0:ic.productsEndpointCreate)!=null?lc:"",update:(_c=(pc=(dc=(cc=t.endpoints)==null?void 0:cc.products)==null?void 0:dc.update)!=null?pc:(uc=t.dataset)==null?void 0:uc.productsEndpointUpdate)!=null?_c:"",delete:(Ec=(gc=(mc=(fc=t.endpoints)==null?void 0:fc.products)==null?void 0:mc.delete)!=null?gc:(hc=t.dataset)==null?void 0:hc.productsEndpointDelete)!=null?Ec:"",checkout:(yc=(bc=(Ac=(Cc=t.endpoints)==null?void 0:Cc.products)==null?void 0:Ac.checkout)!=null?bc:(Sc=t.dataset)==null?void 0:Sc.productsEndpointCheckout)!=null?yc:"",checkin:(vc=(xc=(Rc=(Tc=t.endpoints)==null?void 0:Tc.products)==null?void 0:Rc.checkin)!=null?xc:(Oc=t.dataset)==null?void 0:Oc.productsEndpointCheckin)!=null?vc:""},ee={...(Nc=(Pc=t.endpoints)==null?void 0:Pc.categories)!=null?Nc:{},list:(wc=($c=(Ic=(Mc=t.endpoints)==null?void 0:Mc.categories)==null?void 0:Ic.list)!=null?$c:(kc=t.dataset)==null?void 0:kc.categoriesEndpoint)!=null?wc:"",create:(Xc=(Uc=(Lc=(Dc=t.endpoints)==null?void 0:Dc.categories)==null?void 0:Lc.create)!=null?Uc:(Yc=t.dataset)==null?void 0:Yc.categoriesEndpointCreate)!=null?Xc:"",update:(Bc=(Hc=(Gc=(Fc=t.endpoints)==null?void 0:Fc.categories)==null?void 0:Gc.update)!=null?Hc:(Vc=t.dataset)==null?void 0:Vc.categoriesEndpointUpdate)!=null?Bc:"",delete:(qc=(Wc=(jc=(Kc=t.endpoints)==null?void 0:Kc.categories)==null?void 0:jc.delete)!=null?Wc:(Jc=t.dataset)==null?void 0:Jc.categoriesEndpointDelete)!=null?qc:"",checkout:(td=(ed=(Qc=(zc=t.endpoints)==null?void 0:zc.categories)==null?void 0:Qc.checkout)!=null?ed:(Zc=t.dataset)==null?void 0:Zc.categoriesEndpointCheckout)!=null?td:"",checkin:(id=(od=(sd=(nd=t.endpoints)==null?void 0:nd.categories)==null?void 0:sd.checkin)!=null?od:(ad=t.dataset)==null?void 0:ad.categoriesEndpointCheckin)!=null?id:""},O={...(ld=(rd=t.endpoints)==null?void 0:rd.orders)!=null?ld:{},list:(_d=(pd=(dd=(cd=t.endpoints)==null?void 0:cd.orders)==null?void 0:dd.list)!=null?pd:(ud=t.dataset)==null?void 0:ud.ordersEndpoint)!=null?_d:"",show:(Ed=(gd=(md=(fd=t.endpoints)==null?void 0:fd.orders)==null?void 0:md.show)!=null?gd:(hd=t.dataset)==null?void 0:hd.ordersEndpointShow)!=null?Ed:"",transition:(yd=(bd=(Ad=(Cd=t.endpoints)==null?void 0:Cd.orders)==null?void 0:Ad.transition)!=null?bd:(Sd=t.dataset)==null?void 0:Sd.ordersEndpointTransition)!=null?yd:"",bulkTransition:(vd=(xd=(Rd=(Td=t.endpoints)==null?void 0:Td.orders)==null?void 0:Rd.bulkTransition)!=null?xd:(Od=t.dataset)==null?void 0:Od.ordersEndpointBulk)!=null?vd:"",note:(kd=(Id=(Nd=(Pd=t.endpoints)==null?void 0:Pd.orders)==null?void 0:Nd.note)!=null?Id:(Md=t.dataset)==null?void 0:Md.ordersEndpointNote)!=null?kd:"",tracking:(Yd=(Ld=(wd=($d=t.endpoints)==null?void 0:$d.orders)==null?void 0:wd.tracking)!=null?Ld:(Dd=t.dataset)==null?void 0:Dd.ordersEndpointTracking)!=null?Yd:"",invoice:(Vd=(Gd=(Xd=(Ud=t.endpoints)==null?void 0:Ud.orders)==null?void 0:Xd.invoice)!=null?Gd:(Fd=t.dataset)==null?void 0:Fd.ordersEndpointInvoice)!=null?Vd:"",checkout:(Jd=(jd=(Bd=(Hd=t.endpoints)==null?void 0:Hd.orders)==null?void 0:Bd.checkout)!=null?jd:(Kd=t.dataset)==null?void 0:Kd.ordersEndpointCheckout)!=null?Jd:"",checkin:(Zd=(Qd=(qd=(Wd=t.endpoints)==null?void 0:Wd.orders)==null?void 0:qd.checkin)!=null?Qd:(zd=t.dataset)==null?void 0:zd.ordersEndpointCheckin)!=null?Zd:""},se=(ou=(eu=t.endpoints)==null?void 0:eu.customers)!=null?ou:{list:(nu=(tu=t.dataset)==null?void 0:tu.customersEndpoint)!=null?nu:"",show:(au=(su=t.dataset)==null?void 0:su.customersEndpointShow)!=null?au:""},K=(mu=(iu=t.endpoints)==null?void 0:iu.coupons)!=null?mu:{list:(lu=(ru=t.dataset)==null?void 0:ru.couponsEndpoint)!=null?lu:"",create:(du=(cu=t.dataset)==null?void 0:cu.couponsEndpointCreate)!=null?du:"",update:(pu=(uu=t.dataset)==null?void 0:uu.couponsEndpointUpdate)!=null?pu:"",delete:(fu=(_u=t.dataset)==null?void 0:_u.couponsEndpointDelete)!=null?fu:""},oe=(Ru=(hu=t.endpoints)==null?void 0:hu.tax)!=null?Ru:{list:(Eu=(gu=t.dataset)==null?void 0:gu.taxEndpoint)!=null?Eu:"",create:(Au=(Cu=t.dataset)==null?void 0:Cu.taxEndpointCreate)!=null?Au:"",update:(bu=(Su=t.dataset)==null?void 0:Su.taxEndpointUpdate)!=null?bu:"",delete:(Tu=(yu=t.dataset)==null?void 0:yu.taxEndpointDelete)!=null?Tu:""},re=(wu=(Ou=t.endpoints)==null?void 0:Ou.shipping)!=null?wu:{list:(vu=(xu=t.dataset)==null?void 0:xu.shippingEndpoint)!=null?vu:"",create:(Nu=(Pu=t.dataset)==null?void 0:Pu.shippingEndpointCreate)!=null?Nu:"",update:(Iu=(Mu=t.dataset)==null?void 0:Mu.shippingEndpointUpdate)!=null?Iu:"",delete:($u=(ku=t.dataset)==null?void 0:ku.shippingEndpointDelete)!=null?$u:""},Oe=(Vu=(Du=t.endpoints)==null?void 0:Du.digitalfiles)!=null?Vu:{list:(Yu=(Lu=t.dataset)==null?void 0:Lu.digitalfilesEndpointList)!=null?Yu:"",upload:(Xu=(Uu=t.dataset)==null?void 0:Uu.digitalfilesEndpointUpload)!=null?Xu:"",delete:(Gu=(Fu=t.dataset)==null?void 0:Fu.digitalfilesEndpointDelete)!=null?Gu:""},V=(Wu=(Hu=t.endpoints)==null?void 0:Hu.settings)!=null?Wu:{show:(Ku=(Bu=t.dataset)==null?void 0:Bu.settingsEndpointShow)!=null?Ku:"",update:(Ju=(ju=t.dataset)==null?void 0:ju.settingsEndpointUpdate)!=null?Ju:""},$=(Zu=(qu=t.endpoints)==null?void 0:qu.logs)!=null?Zu:{list:(Qu=(zu=t.dataset)==null?void 0:zu.logsEndpoint)!=null?Qu:""},g=(op=(ep=t.endpoints)==null?void 0:ep.payments)!=null?op:{show:(np=(tp=t.dataset)==null?void 0:tp.paymentsEndpointShow)!=null?np:"",update:(ap=(sp=t.dataset)==null?void 0:sp.paymentsEndpointUpdate)!=null?ap:""},R=(cp=(ip=t.endpoints)==null?void 0:ip.importExport)!=null?cp:{base:(lp=(rp=t.dataset)==null?void 0:rp.importExportEndpoint)!=null?lp:""},L=Ae(()=>{var k;return o((k=t.dataset)==null?void 0:k.orderStates,[])}),{state:H,refresh:F}=j$({endpoint:(hp=(mp=(_p=(dp=t.endpoints)==null?void 0:dp.dashboard)!=null?_p:(pp=(up=t.config)==null?void 0:up.endpoints)==null?void 0:pp.dashboard)!=null?mp:(fp=t.dataset)==null?void 0:fp.dashboardEndpoint)!=null?hp:"",token:t.csrfToken,preload:(Sp=(Ep=(gp=t.config)==null?void 0:gp.preload)==null?void 0:Ep.dashboard)!=null?Sp:{summary:o((Cp=t.dataset)==null?void 0:Cp.dashboardSummary,{}),checklist:o((Ap=t.dataset)==null?void 0:Ap.dashboardChecklist,[])},autoload:h.value}),{state:j,refresh:X,search:de,filterByCategory:Ee,setSort:be,goToPage:J,createProduct:_e,updateProduct:Te,deleteProducts:$e,checkoutProduct:T,checkinProduct:v,forceCheckinProduct:G,metrics:ae}=H$({endpoints:P,token:t.csrfToken,autoload:w.value}),{state:Q,refresh:te,search:z,goToPage:q,saveCategory:Z,deleteCategories:W,loadOptions:ge,checkoutCategory:ce,checkinCategory:he,forceCheckinCategory:ye,metrics:Ne}=B$({endpoints:ee,token:t.csrfToken,preload:(Op=(yp=(bp=t.config)==null?void 0:bp.preload)==null?void 0:yp.categories)!=null?Op:{items:o((Tp=t.dataset)==null?void 0:Tp.categoriesPreload,[]),pagination:o((Rp=t.dataset)==null?void 0:Rp.categoriesPreloadPagination,{})},autoload:I.value}),M=Ye([]),D=Ye(!1),ue=async()=>{if(!D.value){D.value=!0;try{const k=await ge();M.value=k}catch(k){console.warn("[App] Failed to load all category options:",k)}finally{D.value=!1}}},fe=Ae(()=>(M.value.length>0?M.value:Array.isArray(Q.items)?Q.items:[]).map(le=>{var Me,Be,nt;return{id:Number.parseInt((Me=le==null?void 0:le.id)!=null?Me:0,10)||0,title:String((Be=le==null?void 0:le.title)!=null?Be:"").trim(),slug:String((nt=le==null?void 0:le.slug)!=null?nt:"").trim(),parent_id:(le==null?void 0:le.parent_id)!==null&&(le==null?void 0:le.parent_id)!==void 0&&Number.parseInt(le.parent_id,10)||null}}).filter(le=>le.title!==""));qe(w,k=>{k&&M.value.length===0&&ue()},{immediate:!0});const{state:U,refresh:Pe,search:He,setFilterState:Le,viewOrder:Ue,closeOrder:Je,forceCheckinOrder:me,releaseLock:ve,transitionOrder:Re,goToPage:pe,bulkTransition:tt,toggleSelection:Ze,clearSelection:Ut,addNote:Ms,updateTracking:yn,downloadInvoice:_0,exportOrders:f0,sendEmail:m0,recordTransaction:h0,resendDownloads:g0,resetDownload:E0,metrics:C0}=K$({endpoints:O,token:t.csrfToken,states:L.value,preload:(Mp=(vp=(xp=t.config)==null?void 0:xp.preload)==null?void 0:vp.orders)!=null?Mp:{items:o((Pp=t.dataset)==null?void 0:Pp.ordersPreload,[]),pagination:o((Np=t.dataset)==null?void 0:Np.ordersPreloadPagination,{})},autoload:C.value}),{state:A0,refresh:Hl,search:S0,goToPage:b0,viewCustomer:y0,closeCustomer:T0,gdprExport:R0,gdprAnonymise:O0}=J$({endpoints:{...se,gdpr:(kp=(Ip=t.endpoints)==null?void 0:Ip.gdpr)!=null?kp:{}},token:t.csrfToken,preload:(Yp=(wp=($p=t.config)==null?void 0:$p.preload)==null?void 0:wp.customers)!=null?Yp:{items:o((Dp=t.dataset)==null?void 0:Dp.customersPreload,[]),pagination:o((Lp=t.dataset)==null?void 0:Lp.customersPreloadPagination,{})},autoload:E.value}),{state:x0,refresh:Bl,search:v0,goToPage:P0,saveCoupon:N0,deleteCoupons:M0}=W$({endpoints:(Xp=(Up=t.endpoints)==null?void 0:Up.coupons)!=null?Xp:K,token:t.csrfToken,preload:(Bp=(Gp=(Fp=t.config)==null?void 0:Fp.preload)==null?void 0:Gp.coupons)!=null?Bp:{items:o((Vp=t.dataset)==null?void 0:Vp.couponsPreload,[]),pagination:o((Hp=t.dataset)==null?void 0:Hp.couponsPreloadPagination,{})},autoload:f.value}),I0=(Wp=(jp=(Kp=t.config)==null?void 0:Kp.preload)==null?void 0:jp.settings)!=null?Wp:o((Jp=t.dataset)==null?void 0:Jp.settingsPreload,{}),{state:on,refresh:Kl,save:k0}=q$({endpoints:V,token:t.csrfToken,preload:I0,autoload:N.value}),$0=Ae(()=>{var le,Me;const k=(Me=(le=t.dataset)==null?void 0:le.baseCurrency)!=null?Me:"";return typeof k=="string"?k.trim().toUpperCase():""}),w0=Ae(()=>{var le,Me;const k=(Me=(le=on==null?void 0:on.values)==null?void 0:le.base_currency)!=null?Me:"";return typeof k=="string"?k.trim().toUpperCase():""}),qn=Ae(()=>{const k=w0.value||$0.value;return k!==""?k:"USD"}),D0=Ae(()=>{var le,Me;const k=(Me=(le=t.dataset)==null?void 0:le.mediaModalUrl)!=null?Me:"";return typeof k=="string"?k.trim():""}),L0=Ae(()=>{var le,Me,Be,nt,Ct;const k=(nt=(Be=(le=t.config)==null?void 0:le.siteRoot)!=null?Be:(Me=t.dataset)==null?void 0:Me.siteRoot)!=null?nt:"";return typeof k=="string"&&k.trim()!==""?k.trim():typeof window!="undefined"&&((Ct=window.location)!=null&&Ct.origin)?window.location.origin:""}),Y0=k=>{switch(k){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_PUBLISH_CART_MODULE":return{id:"publish-cart-module",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_DESC",titleFallback:"Publish the cart module",descriptionFallback:"Add the cart module to a template position so customers can see their shopping cart.",link:"index.php?option=com_modules&filter[module]=mod_nxpeasycart_cart"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:p("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:p("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:p("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:k||"step",titleKey:k||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:k||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:p("dashboard")||""}}},Ca=Ae(()=>(Array.isArray(H.checklist)?H.checklist:[]).map(le=>{const Me=Y0(le.label);return{id:Me.id,completed:!!le.completed,link:le.link||Me.link||"",label:le.label,titleKey:Me.titleKey,descriptionKey:Me.descriptionKey,titleFallback:Me.titleFallback,descriptionFallback:Me.descriptionFallback}})),Aa=Ae(()=>Ca.value.some(k=>!k.completed)),jl=Ae(()=>{const k=Ca.value;if(!k.length)return{completed:0,total:0,percent:0};const le=k.filter(Me=>Me.completed).length;return{completed:le,total:k.length,percent:Math.round(le/k.length*100)}}),U0=Ae(()=>{const{completed:k,total:le}=jl.value;return`${k}/${le}`}),X0=Ae(()=>{const{percent:k}=jl.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${k}%, #e9ecef ${k}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:k>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),zn=Ye(!1),F0=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Wn,"0")}catch(k){}zn.value=!0},Jl=()=>{if(zn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Wn,"1")}catch(k){}},G0=k=>{k&&typeof k.link=="string"&&k.link!==""&&(Jl(),typeof window!="undefined"&&(window.location.href=k.link))};qe(Aa,k=>{if(!k&&(zn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Wn,"1")}catch(le){}});const V0=(e_=(zp=(qp=t.config)==null?void 0:qp.preload)==null?void 0:zp.tax)!=null?e_:{items:o((Qp=t.dataset)==null?void 0:Qp.taxPreload,[]),pagination:o((Zp=t.dataset)==null?void 0:Zp.taxPreloadPagination,{})},{state:H0,refresh:Qn,saveRate:B0,deleteRates:K0}=z$({endpoints:oe,token:t.csrfToken,preload:V0,autoload:x.value||N.value}),j0=(o_=(n_=(t_=t.config)==null?void 0:t_.preload)==null?void 0:n_.shipping)!=null?o_:{items:o((s_=t.dataset)==null?void 0:s_.shippingPreload,[]),pagination:o((a_=t.dataset)==null?void 0:a_.shippingPreloadPagination,{})},{state:J0,refresh:Zn,saveRule:W0,deleteRules:q0}=Q$({endpoints:re,token:t.csrfToken,preload:j0,autoload:B.value||N.value}),z0=(d_=(r_=(i_=t.config)==null?void 0:i_.preload)==null?void 0:r_.logs)!=null?d_:{items:o((l_=t.dataset)==null?void 0:l_.logsPreload,[]),pagination:o((c_=t.dataset)==null?void 0:c_.logsPreloadPagination,{})},{state:Q0,refresh:Wl,search:Z0,setEntity:ew,goToPage:tw}=Z$({endpoints:$,token:t.csrfToken,preload:z0,autoload:Y.value}),{state:nw,refresh:Sa,save:sw}=e0({endpoints:g,token:t.csrfToken}),{state:aw,uploadFile:ow,startImport:iw,cancelImport:rw,resetImport:lw,startExport:cw,cancelExport:dw,downloadExport:uw,resetExport:pw,refresh:ql}=t0({endpoints:R,token:t.csrfToken,autoload:b.value});qe(_,(k,le)=>{switch(le==="orders"&&k!=="orders"&&(Je(),ve==null||ve()),k){case"dashboard":F();break;case"products":X(),te();break;case"categories":te();break;case"orders":Pe();break;case"customers":Hl();break;case"coupons":Bl();break;case"tax":Qn();break;case"shipping":Zn();break;case"settings":Kl(),Qn(),Zn(),Sa();break;case"logs":Wl();break;case"importexport":ql();break}}),mt(()=>{if(typeof window!="undefined"){const k=()=>({products:ae.value,categories:Ne.value,orders:C0.value,cache:fi()}),le=()=>{const Me=k();return console.group("[NXP Easy Cart] Performance Metrics"),console.table({Products:Me.products,Categories:Me.categories,Orders:Me.orders}),console.log("Cache Status:",Me.cache),console.groupEnd(),Me};window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset,getMetrics:k,logMetrics:le,clearCache:Fe,getCacheStatus:fi};try{const Me=window.localStorage.getItem(Wn);Aa.value?Me!=="1"&&(zn.value=!0):window.localStorage.setItem(Wn,"1")}catch(Me){}}N.value&&Sa()});const _w=()=>{X()},fw=()=>{de()},mw=k=>{J(k)},hw=k=>{Ee(k)},gw=k=>{be(k)},Ew=async k=>{try{await _e(k),X(),te(),Fe("dashboard"),F(!0)}catch(le){}},Cw=async({id:k,data:le})=>{try{await Te(k,le),X(),te()}catch(Me){}},Aw=async k=>{try{await $e(k),X(),te()}catch(le){}},Sw=()=>{te()},bw=()=>{z()},yw=k=>{q(k)},Tw=async k=>{try{await Z(k),te(),M.value=[],ue()}catch(le){}},Rw=async k=>{try{await W(k),te(),M.value=[],ue()}catch(le){}},Ow=()=>{F()},xw=()=>{Pe()},vw=()=>{He()},Pw=k=>{Le(k)},Nw=k=>{Ue(k)},Mw=()=>{Je()},Iw=async({id:k,state:le})=>{try{await Re(k,le)}catch(Me){}},kw=k=>{pe(k)},$w=async({ids:k,state:le})=>{try{await tt(k,le)}catch(Me){}},ww=k=>{Ze(k)},Dw=()=>{Ut()},Lw=async({id:k,message:le})=>{await Ms(k,le)},Yw=async k=>{if(!(k!=null&&k.id))return;const{id:le,...Me}=k;try{await yn(le,Me)}catch(Be){}},Uw=async k=>{!(k!=null&&k.id)||!(k!=null&&k.type)||await m0(k.id,k.type)},Xw=async k=>{if(k!=null&&k.id)try{await h0(k.id,{amountCents:k.amountCents,reference:k.reference,note:k.note})}catch(le){}},Fw=async k=>{if(k!=null&&k.id)try{await g0(k.id)}catch(le){}},Gw=async k=>{if(k!=null&&k.download_id)try{await E0(k.download_id,k.order_id)}catch(le){}},Vw=async k=>{if(!k)return;const le=await _0(k);if(!(le!=null&&le.content))return;const Me=atob(le.content),Be=new Uint8Array(Me.length);for(let rn=0;rn<Me.length;rn+=1)Be[rn]=Me.charCodeAt(rn);const nt=new Blob([Be],{type:"application/pdf"}),Ct=window.URL.createObjectURL(nt),Tt=document.createElement("a");Tt.href=Ct,Tt.download=le.filename||"invoice.pdf",document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt),setTimeout(()=>window.URL.revokeObjectURL(Ct),1e3)},Hw=async()=>{const k=await f0();if(!(k!=null&&k.content))return;const le=atob(k.content),Me=new Uint8Array(le.length);for(let Tt=0;Tt<le.length;Tt+=1)Me[Tt]=le.charCodeAt(Tt);const Be=new Blob([Me],{type:"text/csv;charset=utf-8"}),nt=window.URL.createObjectURL(Be),Ct=document.createElement("a");Ct.href=nt,Ct.download=k.filename||"orders-export.csv",document.body.appendChild(Ct),Ct.click(),document.body.removeChild(Ct),setTimeout(()=>window.URL.revokeObjectURL(nt),1e3)},Bw=()=>{Hl()},Kw=()=>{S0()},jw=k=>{b0(k)},Jw=k=>{y0(k)},Ww=()=>{T0()},qw=k=>{R0(k)},zw=k=>{O0(k)},Qw=()=>{Bl()},Zw=()=>{v0()},eD=k=>{P0(k)},tD=async k=>{try{await N0(k)}catch(le){}},nD=async k=>{try{await M0(k)}catch(le){}},sD=()=>{Kl(!0)},aD=async k=>{try{await k0(k),Fe("dashboard"),F(!0)}catch(le){}},oD=()=>{Qn()},iD=async k=>{try{await B0(k),Qn()}catch(le){}},rD=async k=>{try{await K0(k),Qn()}catch(le){}},lD=()=>{Zn()},cD=async k=>{try{await W0(k),Zn()}catch(le){}},dD=async k=>{try{await q0(k),Zn()}catch(le){}},uD=()=>{Wl()},pD=()=>{Z0()},_D=k=>{ew(k)},fD=k=>{tw(k)},mD=()=>{Sa()},hD=async k=>{await sw(k),Fe("dashboard"),F(!0)},gD=()=>{ql()},ED=async k=>{await ow(k)},CD=async()=>{await iw()},AD=async()=>{await rw()},SD=()=>{lw()},bD=async()=>{await cw()},yD=async()=>{await dw()},TD=()=>{uw()},RD=()=>{pw()};return(k,le)=>(A(),et(Wm,null,{default:io(()=>{var Me,Be,nt,Ct,Tt,rn;return[a("section",n0,[a("header",s0,[a("div",null,[a("h1",a0,c(r(n)(i.value,(Be=(Me=t.dataset)==null?void 0:Me.appTitle)!=null?Be:"NXP Easy Cart",[],"appTitle")),1),a("p",o0,c(r(n)(s.value,(Ct=(nt=t.dataset)==null?void 0:nt.appLead)!=null?Ct:"Manage your storefront from one place.",[],"appLead")),1)]),ne(a("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:xt(X0.value),onClick:F0},[Se(c(r(n)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),a("span",i0,c(U0.value),1)],4),[[Cn,Aa.value]])]),d.value.length?(A(),S("nav",r0,[(A(!0),S(xe,null,ke(d.value,Is=>(A(),S("a",{key:Is.id,href:Is.link,class:we({"is-active":Is.id===_.value})},c(Is.title),11,l0))),128))])):ie("",!0),_.value==="dashboard"?(A(),et(vh,{key:1,state:r(H),translate:r(n),onRefresh:Ow},null,8,["state","translate"])):_.value==="products"?(A(),et(DA,{key:2,state:r(j),translate:r(n),"base-currency":qn.value,"category-options":fe.value,"media-modal-url":D0.value,"digital-endpoints":r(Oe),"csrf-token":t.csrfToken,"checkout-product":r(T),"checkin-product":r(v),"force-checkin-product":r(G),"current-user-id":y.value,onCreate:Ew,onUpdate:Cw,onDelete:Aw,onRefresh:_w,onSearch:fw,onPage:mw,onFilterCategory:hw,onSort:gw},null,8,["state","translate","base-currency","category-options","media-modal-url","digital-endpoints","csrf-token","checkout-product","checkin-product","force-checkin-product","current-user-id"])):_.value==="categories"?(A(),et(YS,{key:3,state:r(Q),translate:r(n),"load-options":r(ge),"checkout-category":r(ce),"checkin-category":r(he),"force-checkin-category":r(ye),"current-user-id":y.value,onRefresh:Sw,onSearch:bw,onPage:yw,onSave:Tw,onDelete:Rw},null,8,["state","translate","load-options","checkout-category","checkin-category","force-checkin-category","current-user-id"])):_.value==="orders"?(A(),et(hT,{key:4,state:r(U),translate:r(n),"site-root":L0.value,"current-user-id":y.value,"force-checkin-order":r(me),onRefresh:xw,onSearch:vw,onFilter:Pw,onView:Nw,onClose:Mw,onTransition:Iw,onPage:kw,onBulkTransition:$w,onToggleSelection:ww,onClearSelection:Dw,onAddNote:Lw,onSaveTracking:Yw,onSendEmail:Uw,onRecordPayment:Xw,onResendDownloads:Fw,onResetDownload:Gw,onInvoice:Vw,onExport:Hw},null,8,["state","translate","site-root","current-user-id","force-checkin-order"])):_.value==="customers"?(A(),et(ER,{key:5,state:r(A0),translate:r(n),"base-currency":qn.value,onRefresh:Bw,onSearch:Kw,onPage:jw,onView:Jw,onClose:Ww,onGdprExport:qw,onGdprAnonymise:zw},null,8,["state","translate","base-currency"])):_.value==="coupons"?(A(),et(wO,{key:6,state:r(x0),translate:r(n),"base-currency":qn.value,onRefresh:Qw,onSearch:Zw,onPage:eD,onSave:tD,onDelete:nD},null,8,["state","translate","base-currency"])):_.value==="tax"?(A(),et(lM,{key:7,state:r(H0),translate:r(n),onRefresh:oD,onSave:iD,onDelete:rD},null,8,["state","translate"])):_.value==="shipping"?(A(),et(AI,{key:8,state:r(J0),translate:r(n),"base-currency":qn.value,onRefresh:lD,onSave:cD,onDelete:dD},null,8,["state","translate","base-currency"])):_.value==="settings"?(A(),et(ZN,{key:9,"settings-state":r(on),"payments-state":r(nw),translate:r(n),"base-currency":qn.value,"initial-tab":m.value,onRefreshSettings:sD,onSaveSettings:aD,onRefreshPayments:mD,onSavePayments:hD},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):_.value==="logs"&&l.value?(A(),et(sk,{key:10,state:r(Q0),translate:r(n),onRefresh:uD,onSearch:pD,onFilter:_D,onPage:fD},null,8,["state","translate"])):_.value==="importexport"?(A(),et(y$,{key:11,state:r(aw),translate:r(n),onRefresh:gD,onUploadFile:ED,onStartImport:CD,onCancelImport:AD,onResetImport:SD,onStartExport:bD,onCancelExport:yD,onDownloadExport:TD,onResetExport:RD},null,8,["state","translate"])):(A(),S("div",c0,[a("div",d0,[a("p",u0,c(r(n)(s.value,(rn=(Tt=t.dataset)==null?void 0:Tt.appLead)!=null?rn:"This section will be available soon.",[],"appLead")),1)])]))]),ze(U$,{visible:zn.value,steps:Ca.value,translate:r(n),onClose:Jl,onNavigate:G0},null,8,["visible","steps","translate"])]}),_:1}))}},Ns=document.getElementById("nxp-ec-admin-app");if(!Ns)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(gi=Ns.getAttribute("data-csrf-token"))!=null?gi:"",t=Object.assign({},Ns.dataset);let n={};if(t.config)try{n=JSON.parse(t.config)}catch(I){console.warn("[NXP Easy Cart] Failed to parse admin config payload",I)}const i={...(Ci=(Ei=n==null?void 0:n.endpoints)==null?void 0:Ei.products)!=null?Ci:{},list:(yi=(bi=(Si=(Ai=n==null?void 0:n.endpoints)==null?void 0:Ai.products)==null?void 0:Si.list)!=null?bi:t.productsEndpoint)!=null?yi:"",create:(xi=(Oi=(Ri=(Ti=n==null?void 0:n.endpoints)==null?void 0:Ti.products)==null?void 0:Ri.create)!=null?Oi:t.productsEndpointCreate)!=null?xi:"",update:(Mi=(Ni=(Pi=(vi=n==null?void 0:n.endpoints)==null?void 0:vi.products)==null?void 0:Pi.update)!=null?Ni:t.productsEndpointUpdate)!=null?Mi:"",delete:(wi=($i=(ki=(Ii=n==null?void 0:n.endpoints)==null?void 0:Ii.products)==null?void 0:ki.delete)!=null?$i:t.productsEndpointDelete)!=null?wi:"",checkout:(Ui=(Yi=(Li=(Di=n==null?void 0:n.endpoints)==null?void 0:Di.products)==null?void 0:Li.checkout)!=null?Yi:t.productsEndpointCheckout)!=null?Ui:"",checkin:(Vi=(Gi=(Fi=(Xi=n==null?void 0:n.endpoints)==null?void 0:Xi.products)==null?void 0:Fi.checkin)!=null?Gi:t.productsEndpointCheckin)!=null?Vi:""},s={...(Bi=(Hi=n==null?void 0:n.endpoints)==null?void 0:Hi.categories)!=null?Bi:{},list:(Wi=(Ji=(ji=(Ki=n==null?void 0:n.endpoints)==null?void 0:Ki.categories)==null?void 0:ji.list)!=null?Ji:t.categoriesEndpoint)!=null?Wi:"",create:(Zi=(Qi=(zi=(qi=n==null?void 0:n.endpoints)==null?void 0:qi.categories)==null?void 0:zi.create)!=null?Qi:t.categoriesEndpointCreate)!=null?Zi:"",update:(sr=(nr=(tr=(er=n==null?void 0:n.endpoints)==null?void 0:er.categories)==null?void 0:tr.update)!=null?nr:t.categoriesEndpointUpdate)!=null?sr:"",delete:(rr=(ir=(or=(ar=n==null?void 0:n.endpoints)==null?void 0:ar.categories)==null?void 0:or.delete)!=null?ir:t.categoriesEndpointDelete)!=null?rr:"",checkout:(ur=(dr=(cr=(lr=n==null?void 0:n.endpoints)==null?void 0:lr.categories)==null?void 0:cr.checkout)!=null?dr:t.categoriesEndpointCheckout)!=null?ur:"",checkin:(mr=(fr=(_r=(pr=n==null?void 0:n.endpoints)==null?void 0:pr.categories)==null?void 0:_r.checkin)!=null?fr:t.categoriesEndpointCheckin)!=null?mr:""},o={...(gr=(hr=n==null?void 0:n.endpoints)==null?void 0:hr.orders)!=null?gr:{},list:(Sr=(Ar=(Cr=(Er=n==null?void 0:n.endpoints)==null?void 0:Er.orders)==null?void 0:Cr.list)!=null?Ar:t.ordersEndpoint)!=null?Sr:"",show:(Rr=(Tr=(yr=(br=n==null?void 0:n.endpoints)==null?void 0:br.orders)==null?void 0:yr.show)!=null?Tr:t.ordersEndpointShow)!=null?Rr:"",transition:(Pr=(vr=(xr=(Or=n==null?void 0:n.endpoints)==null?void 0:Or.orders)==null?void 0:xr.transition)!=null?vr:t.ordersEndpointTransition)!=null?Pr:"",bulkTransition:(kr=(Ir=(Mr=(Nr=n==null?void 0:n.endpoints)==null?void 0:Nr.orders)==null?void 0:Mr.bulkTransition)!=null?Ir:t.ordersEndpointBulk)!=null?kr:"",note:(Lr=(Dr=(wr=($r=n==null?void 0:n.endpoints)==null?void 0:$r.orders)==null?void 0:wr.note)!=null?Dr:t.ordersEndpointNote)!=null?Lr:"",tracking:(Fr=(Xr=(Ur=(Yr=n==null?void 0:n.endpoints)==null?void 0:Yr.orders)==null?void 0:Ur.tracking)!=null?Xr:t.ordersEndpointTracking)!=null?Fr:"",invoice:(Br=(Hr=(Vr=(Gr=n==null?void 0:n.endpoints)==null?void 0:Gr.orders)==null?void 0:Vr.invoice)!=null?Hr:t.ordersEndpointInvoice)!=null?Br:"",checkout:(Wr=(Jr=(jr=(Kr=n==null?void 0:n.endpoints)==null?void 0:Kr.orders)==null?void 0:jr.checkout)!=null?Jr:t.ordersEndpointCheckout)!=null?Wr:"",checkin:(Zr=(Qr=(zr=(qr=n==null?void 0:n.endpoints)==null?void 0:qr.orders)==null?void 0:zr.checkin)!=null?Qr:t.ordersEndpointCheckin)!=null?Zr:""},l=(sl=(el=n==null?void 0:n.endpoints)==null?void 0:el.customers)!=null?sl:{list:(tl=t.customersEndpoint)!=null?tl:"",show:(nl=t.customersEndpointShow)!=null?nl:""},d=(rl=(al=n==null?void 0:n.endpoints)==null?void 0:al.gdpr)!=null?rl:{export:(ol=t.gdprEndpointExport)!=null?ol:"",anonymise:(il=t.gdprEndpointAnonymise)!=null?il:""},p=(_l=(ll=n==null?void 0:n.endpoints)==null?void 0:ll.coupons)!=null?_l:{list:(cl=t.couponsEndpoint)!=null?cl:"",create:(dl=t.couponsEndpointCreate)!=null?dl:"",update:(ul=t.couponsEndpointUpdate)!=null?ul:"",delete:(pl=t.couponsEndpointDelete)!=null?pl:""},_=(Cl=(fl=n==null?void 0:n.endpoints)==null?void 0:fl.tax)!=null?Cl:{list:(ml=t.taxEndpoint)!=null?ml:"",create:(hl=t.taxEndpointCreate)!=null?hl:"",update:(gl=t.taxEndpointUpdate)!=null?gl:"",delete:(El=t.taxEndpointDelete)!=null?El:""},m=(Rl=(Al=n==null?void 0:n.endpoints)==null?void 0:Al.shipping)!=null?Rl:{list:(Sl=t.shippingEndpoint)!=null?Sl:"",create:(bl=t.shippingEndpointCreate)!=null?bl:"",update:(yl=t.shippingEndpointUpdate)!=null?yl:"",delete:(Tl=t.shippingEndpointDelete)!=null?Tl:""},u=(Nl=(Ol=n==null?void 0:n.endpoints)==null?void 0:Ol.digitalfiles)!=null?Nl:{list:(xl=t.digitalfilesEndpointList)!=null?xl:"",upload:(vl=t.digitalfilesEndpointUpload)!=null?vl:"",delete:(Pl=t.digitalfilesEndpointDelete)!=null?Pl:""},y=($l=(Ml=n==null?void 0:n.endpoints)==null?void 0:Ml.settings)!=null?$l:{show:(Il=t.settingsEndpointShow)!=null?Il:"",update:(kl=t.settingsEndpointUpdate)!=null?kl:""},h=(Ll=(wl=n==null?void 0:n.endpoints)==null?void 0:wl.logs)!=null?Ll:{list:(Dl=t.logsEndpoint)!=null?Dl:""},w=(Xl=(Yl=n==null?void 0:n.endpoints)==null?void 0:Yl.importExport)!=null?Xl:{base:(Ul=t.importExportEndpoint)!=null?Ul:""};Fm(p0,{csrfToken:e,dataset:t,config:n,endpoints:{products:i,categories:s,orders:o,customers:l,gdpr:d,coupons:p,tax:_,shipping:m,digitalfiles:u,settings:y,logs:h,importExport:w,dashboard:(Vl=(Gl=(Fl=n==null?void 0:n.endpoints)==null?void 0:Fl.dashboard)!=null?Gl:t.dashboardEndpoint)!=null?Vl:""}}).mount(Ns)}})();
