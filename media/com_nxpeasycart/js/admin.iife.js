(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var ra,la,ca,da,ua,pa,_a,fa,ma,ha,ga,Ea,Sa,Ca,ba,Aa,Ta,ya,Oa,Ra,xa,va,Na,Pa,Ma,Ia,ka,wa,$a,La,Da,Ua,Ya,Xa,Fa,Ga,Va,Ba,Ha,Ka,ja,Ja,Wa,qa,za,Qa,Za,er,tr,nr,sr,ir,or,ar,rr,lr,cr,dr;function Ts(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const we={},en=[],Ct=()=>{},fi=()=>!1,Gn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ys=e=>e.startsWith("onUpdate:"),Qe=Object.assign,Os=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Hc=Object.prototype.hasOwnProperty,Ne=(e,t)=>Hc.call(e,t),Ce=Array.isArray,tn=e=>hn(e)==="[object Map]",nn=e=>hn(e)==="[object Set]",mi=e=>hn(e)==="[object Date]",Te=e=>typeof e=="function",Ve=e=>typeof e=="string",_t=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",hi=e=>(Le(e)||Te(e))&&Te(e.then)&&Te(e.catch),gi=Object.prototype.toString,hn=e=>gi.call(e),Kc=e=>hn(e).slice(8,-1),Ei=e=>hn(e)==="[object Object]",Rs=e=>Ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=Ts(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},jc=/-\w/g,Ut=Vn(e=>e.replace(jc,t=>t.slice(1).toUpperCase())),Jc=/\B([A-Z])/g,Yt=Vn(e=>e.replace(Jc,"-$1").toLowerCase()),Si=Vn(e=>e.charAt(0).toUpperCase()+e.slice(1)),xs=Vn(e=>e?`on${Si(e)}`:""),Xt=(e,t)=>!Object.is(e,t),Bn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ci=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},Hn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bi;const Kn=()=>bi||(bi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Ft(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=Ve(o)?Qc(o):Ft(o);if(n)for(const a in n)t[a]=n[a]}return t}else if(Ve(e)||Le(e))return e}const Wc=/;(?![^(]*\))/g,qc=/:([^]+)/,zc=/\/\*[^]*?\*\//g;function Qc(e){const t={};return e.replace(zc,"").split(Wc).forEach(s=>{if(s){const o=s.split(qc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Me(e){let t="";if(Ve(e))t=e;else if(Ce(e))for(let s=0;s<e.length;s++){const o=Me(e[s]);o&&(t+=o+" ")}else if(Le(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Zc=Ts("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ai(e){return!!e||e===""}function ed(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=En(e[o],t[o]);return s}function En(e,t){if(e===t)return!0;let s=mi(e),o=mi(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=_t(e),o=_t(t),s||o)return e===t;if(s=Ce(e),o=Ce(t),s||o)return s&&o?ed(e,t):!1;if(s=Le(e),o=Le(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const l in e){const u=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(u&&!p||!u&&p||!En(e[l],t[l]))return!1}}return String(e)===String(t)}function vs(e,t){return e.findIndex(s=>En(s,t))}const Ti=e=>!!(e&&e.__v_isRef===!0),d=e=>Ve(e)?e:e==null?"":Ce(e)||Le(e)&&(e.toString===gi||!Te(e.toString))?Ti(e)?d(e.value):JSON.stringify(e,yi,2):String(e),yi=(e,t)=>Ti(t)?yi(e,t.value):tn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],a)=>(s[Ns(o,a)+" =>"]=n,s),{})}:nn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ns(s))}:_t(t)?Ns(t):Le(t)&&!Ce(t)&&!Ei(t)?String(t):t,Ns=(e,t="")=>{var s;return _t(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class td{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function nd(){return nt}let De;const Ps=new WeakSet;class Oi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ps.has(this)&&(Ps.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ii(this),vi(this);const t=De,s=ft;De=this,ft=!0;try{return this.fn()}finally{Ni(this),De=t,ft=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ws(t);this.deps=this.depsTail=void 0,Ii(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ps.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ks(this)&&this.run()}get dirty(){return ks(this)}}let Ri=0,Sn,Cn;function xi(e,t=!1){if(e.flags|=8,t){e.next=Cn,Cn=e;return}e.next=Sn,Sn=e}function Ms(){Ri++}function Is(){if(--Ri>0)return;if(Cn){let t=Cn;for(Cn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Sn;){let t=Sn;for(Sn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function vi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ni(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),ws(o),sd(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function ks(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Pi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Pi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bn)||(e.globalVersion=bn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ks(e))))return;e.flags|=2;const t=e.dep,s=De,o=ft;De=e,ft=!0;try{vi(e);const n=e.fn(e._value);(t.version===0||Xt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{De=s,ft=o,Ni(e),e.flags&=-3}}function ws(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)ws(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function sd(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let ft=!0;const Mi=[];function bt(){Mi.push(ft),ft=!1}function At(){const e=Mi.pop();ft=e===void 0?!0:e}function Ii(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=De;De=void 0;try{t()}finally{De=s}}}let bn=0;class id{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $s{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!De||!ft||De===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==De)s=this.activeLink=new id(De,this),De.deps?(s.prevDep=De.depsTail,De.depsTail.nextDep=s,De.depsTail=s):De.deps=De.depsTail=s,ki(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=De.depsTail,s.nextDep=void 0,De.depsTail.nextDep=s,De.depsTail=s,De.deps===s&&(De.deps=o)}return s}trigger(t){this.version++,bn++,this.notify(t)}notify(t){Ms();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Is()}}}function ki(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)ki(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ls=new WeakMap,jt=Symbol(""),Ds=Symbol(""),An=Symbol("");function qe(e,t,s){if(ft&&De){let o=Ls.get(e);o||Ls.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new $s),n.map=o,n.key=s),n.track()}}function Mt(e,t,s,o,n,a){const l=Ls.get(e);if(!l){bn++;return}const u=p=>{p&&p.trigger()};if(Ms(),t==="clear")l.forEach(u);else{const p=Ce(e),S=p&&Rs(s);if(p&&s==="length"){const f=Number(o);l.forEach((c,b)=>{(b==="length"||b===An||!_t(b)&&b>=f)&&u(c)})}else switch((s!==void 0||l.has(void 0))&&u(l.get(s)),S&&u(l.get(An)),t){case"add":p?S&&u(l.get("length")):(u(l.get(jt)),tn(e)&&u(l.get(Ds)));break;case"delete":p||(u(l.get(jt)),tn(e)&&u(l.get(Ds)));break;case"set":tn(e)&&u(l.get(jt));break}}Is()}function sn(e){const t=xe(e);return t===e?t:(qe(t,"iterate",An),ut(e)?t:t.map(je))}function jn(e){return qe(e=xe(e),"iterate",An),e}const od={__proto__:null,[Symbol.iterator](){return Us(this,Symbol.iterator,je)},concat(...e){return sn(this).concat(...e.map(t=>Ce(t)?sn(t):t))},entries(){return Us(this,"entries",e=>(e[1]=je(e[1]),e))},every(e,t){return It(this,"every",e,t,void 0,arguments)},filter(e,t){return It(this,"filter",e,t,s=>s.map(je),arguments)},find(e,t){return It(this,"find",e,t,je,arguments)},findIndex(e,t){return It(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return It(this,"findLast",e,t,je,arguments)},findLastIndex(e,t){return It(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return It(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ys(this,"includes",e)},indexOf(...e){return Ys(this,"indexOf",e)},join(e){return sn(this).join(e)},lastIndexOf(...e){return Ys(this,"lastIndexOf",e)},map(e,t){return It(this,"map",e,t,void 0,arguments)},pop(){return Tn(this,"pop")},push(...e){return Tn(this,"push",e)},reduce(e,...t){return wi(this,"reduce",e,t)},reduceRight(e,...t){return wi(this,"reduceRight",e,t)},shift(){return Tn(this,"shift")},some(e,t){return It(this,"some",e,t,void 0,arguments)},splice(...e){return Tn(this,"splice",e)},toReversed(){return sn(this).toReversed()},toSorted(e){return sn(this).toSorted(e)},toSpliced(...e){return sn(this).toSpliced(...e)},unshift(...e){return Tn(this,"unshift",e)},values(){return Us(this,"values",je)}};function Us(e,t,s){const o=jn(e),n=o[t]();return o!==e&&!ut(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const ad=Array.prototype;function It(e,t,s,o,n,a){const l=jn(e),u=l!==e&&!ut(e),p=l[t];if(p!==ad[t]){const c=p.apply(e,a);return u?je(c):c}let S=s;l!==e&&(u?S=function(c,b){return s.call(this,je(c),b,e)}:s.length>2&&(S=function(c,b){return s.call(this,c,b,e)}));const f=p.call(l,S,o);return u&&n?n(f):f}function wi(e,t,s,o){const n=jn(e);let a=s;return n!==e&&(ut(e)?s.length>3&&(a=function(l,u,p){return s.call(this,l,u,p,e)}):a=function(l,u,p){return s.call(this,l,je(u),p,e)}),n[t](a,...o)}function Ys(e,t,s){const o=xe(e);qe(o,"iterate",An);const n=o[t](...s);return(n===-1||n===!1)&&Gs(s[0])?(s[0]=xe(s[0]),o[t](...s)):n}function Tn(e,t,s=[]){bt(),Ms();const o=xe(e)[t].apply(e,s);return Is(),At(),o}const rd=Ts("__proto__,__v_isRef,__isVue"),$i=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(_t));function ld(e){_t(e)||(e=String(e));const t=xe(this);return qe(t,"has",e),t.hasOwnProperty(e)}class Li{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return o===(n?a?Gi:Fi:a?Xi:Yi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=Ce(t);if(!n){let p;if(l&&(p=od[s]))return p;if(s==="hasOwnProperty")return ld}const u=Reflect.get(t,s,Je(t)?t:o);if((_t(s)?$i.has(s):rd(s))||(n||qe(t,"get",s),a))return u;if(Je(u)){const p=l&&Rs(s)?u:u.value;return n&&Le(p)?Fs(p):p}return Le(u)?n?Fs(u):$e(u):u}}class Di extends Li{constructor(t=!1){super(!1,t)}set(t,s,o,n){let a=t[s];if(!this._isShallow){const p=Gt(a);if(!ut(o)&&!Gt(o)&&(a=xe(a),o=xe(o)),!Ce(t)&&Je(a)&&!Je(o))return p||(a.value=o),!0}const l=Ce(t)&&Rs(s)?Number(s)<t.length:Ne(t,s),u=Reflect.set(t,s,o,Je(t)?t:n);return t===xe(n)&&(l?Xt(o,a)&&Mt(t,"set",s,o):Mt(t,"add",s,o)),u}deleteProperty(t,s){const o=Ne(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&Mt(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!_t(s)||!$i.has(s))&&qe(t,"has",s),o}ownKeys(t){return qe(t,"iterate",Ce(t)?"length":jt),Reflect.ownKeys(t)}}class Ui extends Li{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const cd=new Di,dd=new Ui,ud=new Di(!0),pd=new Ui(!0),Xs=e=>e,Jn=e=>Reflect.getPrototypeOf(e);function _d(e,t,s){return function(...o){const n=this.__v_raw,a=xe(n),l=tn(a),u=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,S=n[e](...o),f=s?Xs:t?Qn:je;return!t&&qe(a,"iterate",p?Ds:jt),{next(){const{value:c,done:b}=S.next();return b?{value:c,done:b}:{value:u?[f(c[0]),f(c[1])]:f(c),done:b}},[Symbol.iterator](){return this}}}}function Wn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function fd(e,t){const s={get(n){const a=this.__v_raw,l=xe(a),u=xe(n);e||(Xt(n,u)&&qe(l,"get",n),qe(l,"get",u));const{has:p}=Jn(l),S=t?Xs:e?Qn:je;if(p.call(l,n))return S(a.get(n));if(p.call(l,u))return S(a.get(u));a!==l&&a.get(n)},get size(){const n=this.__v_raw;return!e&&qe(xe(n),"iterate",jt),n.size},has(n){const a=this.__v_raw,l=xe(a),u=xe(n);return e||(Xt(n,u)&&qe(l,"has",n),qe(l,"has",u)),n===u?a.has(n):a.has(n)||a.has(u)},forEach(n,a){const l=this,u=l.__v_raw,p=xe(u),S=t?Xs:e?Qn:je;return!e&&qe(p,"iterate",jt),u.forEach((f,c)=>n.call(a,S(f),S(c),l))}};return Qe(s,e?{add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear")}:{add(n){!t&&!ut(n)&&!Gt(n)&&(n=xe(n));const a=xe(this);return Jn(a).has.call(a,n)||(a.add(n),Mt(a,"add",n,n)),this},set(n,a){!t&&!ut(a)&&!Gt(a)&&(a=xe(a));const l=xe(this),{has:u,get:p}=Jn(l);let S=u.call(l,n);S||(n=xe(n),S=u.call(l,n));const f=p.call(l,n);return l.set(n,a),S?Xt(a,f)&&Mt(l,"set",n,a):Mt(l,"add",n,a),this},delete(n){const a=xe(this),{has:l,get:u}=Jn(a);let p=l.call(a,n);p||(n=xe(n),p=l.call(a,n)),u&&u.call(a,n);const S=a.delete(n);return p&&Mt(a,"delete",n,void 0),S},clear(){const n=xe(this),a=n.size!==0,l=n.clear();return a&&Mt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=_d(n,e,t)}),s}function qn(e,t){const s=fd(e,t);return(o,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(Ne(s,n)&&n in o?s:o,n,a)}const md={get:qn(!1,!1)},hd={get:qn(!1,!0)},gd={get:qn(!0,!1)},Ed={get:qn(!0,!0)},Yi=new WeakMap,Xi=new WeakMap,Fi=new WeakMap,Gi=new WeakMap;function Sd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cd(e){return e.__v_skip||!Object.isExtensible(e)?0:Sd(Kc(e))}function $e(e){return Gt(e)?e:zn(e,!1,cd,md,Yi)}function bd(e){return zn(e,!1,ud,hd,Xi)}function Fs(e){return zn(e,!0,dd,gd,Fi)}function nv(e){return zn(e,!0,pd,Ed,Gi)}function zn(e,t,s,o,n){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=Cd(e);if(a===0)return e;const l=n.get(e);if(l)return l;const u=new Proxy(e,a===2?o:s);return n.set(e,u),u}function on(e){return Gt(e)?on(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function Gs(e){return e?!!e.__v_raw:!1}function xe(e){const t=e&&e.__v_raw;return t?xe(t):e}function Ad(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&Ci(e,"__v_skip",!0),e}const je=e=>Le(e)?$e(e):e,Qn=e=>Le(e)?Fs(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function Be(e){return Td(e,!1)}function Td(e,t){return Je(e)?e:new yd(e,t)}class yd{constructor(t,s){this.dep=new $s,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:xe(t),this._value=s?t:je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||ut(t)||Gt(t);t=o?t:xe(t),Xt(t,s)&&(this._rawValue=t,this._value=o?t:je(t),this.dep.trigger())}}function r(e){return Je(e)?e.value:e}const Od={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return Je(n)&&!Je(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function Vi(e){return on(e)?e:new Proxy(e,Od)}class Rd{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new $s(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return xi(this,!0),!0}get value(){const t=this.dep.track();return Pi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function xd(e,t,s=!1){let o,n;return Te(e)?o=e:(o=e.get,n=e.set),new Rd(o,n,s)}const Zn={},es=new WeakMap;let Jt;function vd(e,t=!1,s=Jt){if(s){let o=es.get(s);o||es.set(s,o=[]),o.push(e)}}function Nd(e,t,s=we){const{immediate:o,deep:n,once:a,scheduler:l,augmentJob:u,call:p}=s,S=L=>n?L:ut(L)||n===!1||n===0?kt(L,1):kt(L);let f,c,b,x,$=!1,w=!1;if(Je(e)?(c=()=>e.value,$=ut(e)):on(e)?(c=()=>S(e),$=!0):Ce(e)?(w=!0,$=e.some(L=>on(L)||ut(L)),c=()=>e.map(L=>{if(Je(L))return L.value;if(on(L))return S(L);if(Te(L))return p?p(L,2):L()})):Te(e)?t?c=p?()=>p(e,2):e:c=()=>{if(b){bt();try{b()}finally{At()}}const L=Jt;Jt=f;try{return p?p(e,3,[x]):e(x)}finally{Jt=L}}:c=Ct,t&&n){const L=c,C=n===!0?1/0:n;c=()=>kt(L(),C)}const I=nd(),N=()=>{f.stop(),I&&I.active&&Os(I.effects,f)};if(a&&t){const L=t;t=(...C)=>{L(...C),N()}}let D=w?new Array(e.length).fill(Zn):Zn;const K=L=>{if(!(!(f.flags&1)||!f.dirty&&!L))if(t){const C=f.run();if(n||$||(w?C.some((j,ne)=>Xt(j,D[ne])):Xt(C,D))){b&&b();const j=Jt;Jt=f;try{const ne=[C,D===Zn?void 0:w&&D[0]===Zn?[]:D,x];D=C,p?p(t,3,ne):t(...ne)}finally{Jt=j}}}else f.run()};return u&&u(K),f=new Oi(c),f.scheduler=l?()=>l(K,!1):K,x=L=>vd(L,!1,f),b=f.onStop=()=>{const L=es.get(f);if(L){if(p)p(L,4);else for(const C of L)C();es.delete(f)}},t?o?K(!0):D=f.run():l?l(K.bind(null,!0),!0):f.run(),N.pause=f.pause.bind(f),N.resume=f.resume.bind(f),N.stop=N,N}function kt(e,t=1/0,s){if(t<=0||!Le(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Je(e))kt(e.value,t,s);else if(Ce(e))for(let o=0;o<e.length;o++)kt(e[o],t,s);else if(nn(e)||tn(e))e.forEach(o=>{kt(o,t,s)});else if(Ei(e)){for(const o in e)kt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&kt(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yn=[];let Vs=!1;function sv(e,...t){if(Vs)return;Vs=!0,bt();const s=yn.length?yn[yn.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=Pd();if(o)an(o,s,11,[e+t.map(a=>{var l,u;return(u=(l=a.toString)==null?void 0:l.call(a))!=null?u:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${Yo(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,...Md(n)),console.warn(...a)}At(),Vs=!1}function Pd(){let e=yn[yn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function Md(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...Id(s))}),t}function Id({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${Yo(e.component,e.type,o)}`,a=">"+s;return e.props?[n,...kd(e.props),a]:[n+a]}function kd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...Bi(o,e[o]))}),s.length>3&&t.push(" ..."),t}function Bi(e,t,s){return Ve(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Je(t)?(t=Bi(e,xe(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Te(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=xe(t),s?t:[`${e}=`,t])}function an(e,t,s,o){try{return o?e(...o):e()}catch(n){ts(n,t,s)}}function Tt(e,t,s,o){if(Te(e)){const n=an(e,t,s,o);return n&&hi(n)&&n.catch(a=>{ts(a,t,s)}),n}if(Ce(e)){const n=[];for(let a=0;a<e.length;a++)n.push(Tt(e[a],t,s,o));return n}}function ts(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||we;if(t){let u=t.parent;const p=t.proxy,S=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const f=u.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](e,p,S)===!1)return}u=u.parent}if(a){bt(),an(a,null,10,[e,p,S]),At();return}}wd(e,s,n,o,l)}function wd(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Ze=[];let yt=-1;const rn=[];let Vt=null,ln=0;const Hi=Promise.resolve();let ns=null;function Ki(e){const t=ns||Hi;return e?t.then(this?e.bind(this):e):t}function $d(e){let t=yt+1,s=Ze.length;for(;t<s;){const o=t+s>>>1,n=Ze[o],a=On(n);a<e||a===e&&n.flags&2?t=o+1:s=o}return t}function Bs(e){if(!(e.flags&1)){const t=On(e),s=Ze[Ze.length-1];!s||!(e.flags&2)&&t>=On(s)?Ze.push(e):Ze.splice($d(t),0,e),e.flags|=1,ji()}}function ji(){ns||(ns=Hi.then(qi))}function Ld(e){Ce(e)?rn.push(...e):Vt&&e.id===-1?Vt.splice(ln+1,0,e):e.flags&1||(rn.push(e),e.flags|=1),ji()}function Ji(e,t,s=yt+1){for(;s<Ze.length;s++){const o=Ze[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ze.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Wi(e){if(rn.length){const t=[...new Set(rn)].sort((s,o)=>On(s)-On(o));if(rn.length=0,Vt){Vt.push(...t);return}for(Vt=t,ln=0;ln<Vt.length;ln++){const s=Vt[ln];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Vt=null,ln=0}}const On=e=>e.id==null?e.flags&2?-1:1/0:e.id;function qi(e){try{for(yt=0;yt<Ze.length;yt++){const t=Ze[yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),an(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yt<Ze.length;yt++){const t=Ze[yt];t&&(t.flags&=-2)}yt=-1,Ze.length=0,Wi(),ns=null,(Ze.length||rn.length)&&qi()}}let ze=null,zi=null;function ss(e){const t=ze;return ze=e,zi=e&&e.type.__scopeId||null,t}function Qi(e,t=ze,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&Io(-1);const a=ss(t);let l;try{l=e(...n)}finally{ss(a),o._d&&Io(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function te(e,t){if(ze===null)return e;const s=_s(ze),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,l,u,p=we]=t[n];a&&(Te(a)&&(a={mounted:a,updated:a}),a.deep&&kt(l),o.push({dir:a,instance:s,value:l,oldValue:void 0,arg:u,modifiers:p}))}return e}function Wt(e,t,s,o){const n=e.dirs,a=t&&t.dirs;for(let l=0;l<n.length;l++){const u=n[l];a&&(u.oldValue=a[l].value);let p=u.dir[o];p&&(bt(),Tt(p,s,8,[e.el,u,e,t]),At())}}const Dd=Symbol("_vte"),Ud=e=>e.__isTeleport,Yd=Symbol("_leaveCb");function Hs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Hs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const is=new WeakMap;function Rn(e,t,s,o,n=!1){if(Ce(e)){e.forEach(($,w)=>Rn($,t&&(Ce(t)?t[w]:t),s,o,n));return}if(cn(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Rn(e,t,s,o.component.subTree);return}const a=o.shapeFlag&4?_s(o.component):o.el,l=n?null:a,{i:u,r:p}=e,S=t&&t.r,f=u.refs===we?u.refs={}:u.refs,c=u.setupState,b=xe(c),x=c===we?fi:$=>Ne(b,$);if(S!=null&&S!==p){if(eo(t),Ve(S))f[S]=null,x(S)&&(c[S]=null);else if(Je(S)){S.value=null;const $=t;$.k&&(f[$.k]=null)}}if(Te(p))an(p,u,12,[l,f]);else{const $=Ve(p),w=Je(p);if($||w){const I=()=>{if(e.f){const N=$?x(p)?c[p]:f[p]:p.value;if(n)Ce(N)&&Os(N,a);else if(Ce(N))N.includes(a)||N.push(a);else if($)f[p]=[a],x(p)&&(c[p]=f[p]);else{const D=[a];p.value=D,e.k&&(f[e.k]=D)}}else $?(f[p]=l,x(p)&&(c[p]=l)):w&&(p.value=l,e.k&&(f[e.k]=l))};if(l){const N=()=>{I(),is.delete(e)};N.id=-1,is.set(e,N),ot(N,s)}else eo(e),I()}}}function eo(e){const t=is.get(e);t&&(t.flags|=8,is.delete(e))}Kn().requestIdleCallback,Kn().cancelIdleCallback;const cn=e=>!!e.type.__asyncLoader,to=e=>e.type.__isKeepAlive;function Xd(e,t){no(e,"a",t)}function Fd(e,t){no(e,"da",t)}function no(e,t,s=tt){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(os(t,o,s),s){let n=s.parent;for(;n&&n.parent;)to(n.parent.vnode)&&Gd(o,t,s,n),n=n.parent}}function Gd(e,t,s,o){const n=os(t,e,o,!0);io(()=>{Os(o[t],n)},s)}function os(e,t,s=tt,o=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...l)=>{bt();const u=In(s),p=Tt(t,s,e,l);return u(),At(),p});return o?n.unshift(a):n.push(a),a}}const wt=e=>(t,s=tt)=>{(!kn||e==="sp")&&os(e,(...o)=>t(...o),s)},Vd=wt("bm"),it=wt("m"),Bd=wt("bu"),Hd=wt("u"),so=wt("bum"),io=wt("um"),Kd=wt("sp"),jd=wt("rtg"),Jd=wt("rtc");function Wd(e,t=tt){os("ec",e,t)}const qd=Symbol.for("v-ndc");function Re(e,t,s,o){let n;const a=s,l=Ce(e);if(l||Ve(e)){const u=l&&on(e);let p=!1,S=!1;u&&(p=!ut(e),S=Gt(e),e=jn(e)),n=new Array(e.length);for(let f=0,c=e.length;f<c;f++)n[f]=t(p?S?Qn(je(e[f])):je(e[f]):e[f],f,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,a)}else if(Le(e))if(e[Symbol.iterator])n=Array.from(e,(u,p)=>t(u,p,void 0,a));else{const u=Object.keys(e);n=new Array(u.length);for(let p=0,S=u.length;p<S;p++){const f=u[p];n[p]=t(e[f],f,p,a)}}else n=[];return n}function zd(e,t,s={},o,n){if(ze.ce||ze.parent&&cn(ze.parent)&&ze.parent.ce){const S=Object.keys(s).length>0;return R(),pt(be,null,[He("slot",s,o)],S?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),R();const l=a&&oo(a(s)),u=s.key||l&&l.key,p=pt(be,{key:(u&&!_t(u)?u:`_${t}`)+(!l&&o?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function oo(e){return e.some(t=>ei(t)?!(t.type===$t||t.type===be&&!oo(t.children)):!0)?e:null}const Ks=e=>e?Lo(e)?_s(e):Ks(e.parent):null,xn=Qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ks(e.parent),$root:e=>Ks(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>co(e),$forceUpdate:e=>e.f||(e.f=()=>{Bs(e.update)}),$nextTick:e=>e.n||(e.n=Ki.bind(e.proxy)),$watch:e=>Su.bind(e)}),js=(e,t)=>e!==we&&!e.__isScriptSetup&&Ne(e,t),Qd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:a,accessCache:l,type:u,appContext:p}=e;let S;if(t[0]!=="$"){const x=l[t];if(x!==void 0)switch(x){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(js(o,t))return l[t]=1,o[t];if(n!==we&&Ne(n,t))return l[t]=2,n[t];if((S=e.propsOptions[0])&&Ne(S,t))return l[t]=3,a[t];if(s!==we&&Ne(s,t))return l[t]=4,s[t];Js&&(l[t]=0)}}const f=xn[t];let c,b;if(f)return t==="$attrs"&&qe(e.attrs,"get",""),f(e);if((c=u.__cssModules)&&(c=c[t]))return c;if(s!==we&&Ne(s,t))return l[t]=4,s[t];if(b=p.config.globalProperties,Ne(b,t))return b[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:a}=e;return js(n,t)?(n[t]=s,!0):o!==we&&Ne(o,t)?(o[t]=s,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:a,type:l}},u){let p,S;return!!(s[u]||e!==we&&u[0]!=="$"&&Ne(e,u)||js(t,u)||(p=a[0])&&Ne(p,u)||Ne(o,u)||Ne(xn,u)||Ne(n.config.globalProperties,u)||(S=l.__cssModules)&&S[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ne(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ao(e){return Ce(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Js=!0;function Zd(e){const t=co(e),s=e.proxy,o=e.ctx;Js=!1,t.beforeCreate&&ro(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:l,watch:u,provide:p,inject:S,created:f,beforeMount:c,mounted:b,beforeUpdate:x,updated:$,activated:w,deactivated:I,beforeDestroy:N,beforeUnmount:D,destroyed:K,unmounted:L,render:C,renderTracked:j,renderTriggered:ne,errorCaptured:de,serverPrefetch:Ee,expose:W,inheritAttrs:H,components:q,directives:B,filters:se}=t;if(S&&eu(S,o,null),l)for(const Z in l){const ie=l[Z];Te(ie)&&(o[Z]=ie.bind(s))}if(n){const Z=n.call(s,s);Le(Z)&&(e.data=$e(Z))}if(Js=!0,a)for(const Z in a){const ie=a[Z],ee=Te(ie)?ie.bind(s,s):Te(ie.get)?ie.get.bind(s,s):Ct,pe=!Te(ie)&&Te(ie.set)?ie.set.bind(s):Ct,U=ge({get:ee,set:pe});Object.defineProperty(o,Z,{enumerable:!0,configurable:!0,get:()=>U.value,set:z=>U.value=z})}if(u)for(const Z in u)lo(u[Z],o,s,Z);if(p){const Z=Te(p)?p.call(s):p;Reflect.ownKeys(Z).forEach(ie=>{au(ie,Z[ie])})}f&&ro(f,e,"c");function ue(Z,ie){Ce(ie)?ie.forEach(ee=>Z(ee.bind(s))):ie&&Z(ie.bind(s))}if(ue(Vd,c),ue(it,b),ue(Bd,x),ue(Hd,$),ue(Xd,w),ue(Fd,I),ue(Wd,de),ue(Jd,j),ue(jd,ne),ue(so,D),ue(io,L),ue(Kd,Ee),Ce(W))if(W.length){const Z=e.exposed||(e.exposed={});W.forEach(ie=>{Object.defineProperty(Z,ie,{get:()=>s[ie],set:ee=>s[ie]=ee,enumerable:!0})})}else e.exposed||(e.exposed={});C&&e.render===Ct&&(e.render=C),H!=null&&(e.inheritAttrs=H),q&&(e.components=q),B&&(e.directives=B),Ee&&Zi(e)}function eu(e,t,s=Ct){Ce(e)&&(e=Ws(e));for(const o in e){const n=e[o];let a;Le(n)?"default"in n?a=rs(n.from||o,n.default,!0):a=rs(n.from||o):a=rs(n),Je(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function ro(e,t,s){Tt(Ce(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function lo(e,t,s,o){let n=o.includes(".")?xo(s,o):()=>s[o];if(Ve(e)){const a=t[e];Te(a)&&Fe(n,a)}else if(Te(e))Fe(n,e.bind(s));else if(Le(e))if(Ce(e))e.forEach(a=>lo(a,t,s,o));else{const a=Te(e.handler)?e.handler.bind(s):t[e.handler];Te(a)&&Fe(n,a,e)}}function co(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let p;return u?p=u:!n.length&&!s&&!o?p=t:(p={},n.length&&n.forEach(S=>as(p,S,l,!0)),as(p,t,l)),Le(t)&&a.set(t,p),p}function as(e,t,s,o=!1){const{mixins:n,extends:a}=t;a&&as(e,a,s,!0),n&&n.forEach(l=>as(e,l,s,!0));for(const l in t)if(!(o&&l==="expose")){const u=tu[l]||s&&s[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const tu={data:uo,props:po,emits:po,methods:vn,computed:vn,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:vn,directives:vn,watch:su,provide:uo,inject:nu};function uo(e,t){return t?e?function(){return Qe(Te(e)?e.call(this,this):e,Te(t)?t.call(this,this):t)}:t:e}function nu(e,t){return vn(Ws(e),Ws(t))}function Ws(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function vn(e,t){return e?Qe(Object.create(null),e,t):t}function po(e,t){return e?Ce(e)&&Ce(t)?[...new Set([...e,...t])]:Qe(Object.create(null),ao(e),ao(t!=null?t:{})):t}function su(e,t){if(!e)return t;if(!t)return e;const s=Qe(Object.create(null),e);for(const o in t)s[o]=et(e[o],t[o]);return s}function _o(){return{app:null,config:{isNativeTag:fi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iu=0;function ou(e,t){return function(o,n=null){Te(o)||(o=Qe({},o)),n!=null&&!Le(n)&&(n=null);const a=_o(),l=new WeakSet,u=[];let p=!1;const S=a.app={_uid:iu++,_component:o,_props:n,_container:null,_context:a,_instance:null,version:Hu,get config(){return a.config},set config(f){},use(f,...c){return l.has(f)||(f&&Te(f.install)?(l.add(f),f.install(S,...c)):Te(f)&&(l.add(f),f(S,...c))),S},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),S},component(f,c){return c?(a.components[f]=c,S):a.components[f]},directive(f,c){return c?(a.directives[f]=c,S):a.directives[f]},mount(f,c,b){if(!p){const x=S._ceVNode||He(o,n);return x.appContext=a,b===!0?b="svg":b===!1&&(b=void 0),e(x,f,b),p=!0,S._container=f,f.__vue_app__=S,_s(x.component)}},onUnmount(f){u.push(f)},unmount(){p&&(Tt(u,S._instance,16),e(null,S._container),delete S._container.__vue_app__)},provide(f,c){return a.provides[f]=c,S},runWithContext(f){const c=dn;dn=S;try{return f()}finally{dn=c}}};return S}}let dn=null;function au(e,t){if(tt){let s=tt.provides;const o=tt.parent&&tt.parent.provides;o===s&&(s=tt.provides=Object.create(o)),s[e]=t}}function rs(e,t,s=!1){const o=Lu();if(o||dn){let n=dn?dn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Te(t)?t.call(o&&o.proxy):t}}const fo={},mo=()=>Object.create(fo),ho=e=>Object.getPrototypeOf(e)===fo;function ru(e,t,s,o=!1){const n={},a=mo();e.propsDefaults=Object.create(null),go(e,t,n,a);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=o?n:bd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function lu(e,t,s,o){const{props:n,attrs:a,vnode:{patchFlag:l}}=e,u=xe(n),[p]=e.propsOptions;let S=!1;if((o||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let c=0;c<f.length;c++){let b=f[c];if(ls(e.emitsOptions,b))continue;const x=t[b];if(p)if(Ne(a,b))x!==a[b]&&(a[b]=x,S=!0);else{const $=Ut(b);n[$]=qs(p,u,$,x,e,!1)}else x!==a[b]&&(a[b]=x,S=!0)}}}else{go(e,t,n,a)&&(S=!0);let f;for(const c in u)(!t||!Ne(t,c)&&((f=Yt(c))===c||!Ne(t,f)))&&(p?s&&(s[c]!==void 0||s[f]!==void 0)&&(n[c]=qs(p,u,c,void 0,e,!0)):delete n[c]);if(a!==u)for(const c in a)(!t||!Ne(t,c))&&(delete a[c],S=!0)}S&&Mt(e.attrs,"set","")}function go(e,t,s,o){const[n,a]=e.propsOptions;let l=!1,u;if(t)for(let p in t){if(gn(p))continue;const S=t[p];let f;n&&Ne(n,f=Ut(p))?!a||!a.includes(f)?s[f]=S:(u||(u={}))[f]=S:ls(e.emitsOptions,p)||(!(p in o)||S!==o[p])&&(o[p]=S,l=!0)}if(a){const p=xe(s),S=u||we;for(let f=0;f<a.length;f++){const c=a[f];s[c]=qs(n,p,c,S[c],e,!Ne(S,c))}}return l}function qs(e,t,s,o,n,a){const l=e[s];if(l!=null){const u=Ne(l,"default");if(u&&o===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&Te(p)){const{propsDefaults:S}=n;if(s in S)o=S[s];else{const f=In(n);o=S[s]=p.call(null,t),f()}}else o=p;n.ce&&n.ce._setProp(s,o)}l[0]&&(a&&!u?o=!1:l[1]&&(o===""||o===Yt(s))&&(o=!0))}return o}const cu=new WeakMap;function Eo(e,t,s=!1){const o=s?cu:t.propsCache,n=o.get(e);if(n)return n;const a=e.props,l={},u=[];let p=!1;if(!Te(e)){const f=c=>{p=!0;const[b,x]=Eo(c,t,!0);Qe(l,b),x&&u.push(...x)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!p)return Le(e)&&o.set(e,en),en;if(Ce(a))for(let f=0;f<a.length;f++){const c=Ut(a[f]);So(c)&&(l[c]=we)}else if(a)for(const f in a){const c=Ut(f);if(So(c)){const b=a[f],x=l[c]=Ce(b)||Te(b)?{type:b}:Qe({},b),$=x.type;let w=!1,I=!0;if(Ce($))for(let N=0;N<$.length;++N){const D=$[N],K=Te(D)&&D.name;if(K==="Boolean"){w=!0;break}else K==="String"&&(I=!1)}else w=Te($)&&$.name==="Boolean";x[0]=w,x[1]=I,(w||Ne(x,"default"))&&u.push(c)}}const S=[l,u];return Le(e)&&o.set(e,S),S}function So(e){return e[0]!=="$"&&!gn(e)}const zs=e=>e==="_"||e==="_ctx"||e==="$stable",Qs=e=>Ce(e)?e.map(Ot):[Ot(e)],du=(e,t,s)=>{if(t._n)return t;const o=Qi((...n)=>Qs(t(...n)),s);return o._c=!1,o},Co=(e,t,s)=>{const o=e._ctx;for(const n in e){if(zs(n))continue;const a=e[n];if(Te(a))t[n]=du(n,a,o);else if(a!=null){const l=Qs(a);t[n]=()=>l}}},bo=(e,t)=>{const s=Qs(t);e.slots.default=()=>s},Ao=(e,t,s)=>{for(const o in t)(s||!zs(o))&&(e[o]=t[o])},uu=(e,t,s)=>{const o=e.slots=mo();if(e.vnode.shapeFlag&32){const n=t._;n?(Ao(o,t,s),s&&Ci(o,"_",n,!0)):Co(t,o)}else t&&bo(e,t)},pu=(e,t,s)=>{const{vnode:o,slots:n}=e;let a=!0,l=we;if(o.shapeFlag&32){const u=t._;u?s&&u===1?a=!1:Ao(n,t,s):(a=!t.$stable,Co(t,n)),l=t}else t&&(bo(e,t),l={default:1});if(a)for(const u in n)!zs(u)&&l[u]==null&&delete n[u]},ot=xu;function _u(e){return fu(e)}function fu(e,t){const s=Kn();s.__VUE__=!0;const{insert:o,remove:n,patchProp:a,createElement:l,createText:u,createComment:p,setText:S,setElementText:f,parentNode:c,nextSibling:b,setScopeId:x=Ct,insertStaticContent:$}=e,w=(_,m,P,V=null,X=null,G=null,A=void 0,h=null,E=!!m.dynamicChildren)=>{if(_===m)return;_&&!Mn(_,m)&&(V=Se(_),z(_,X,G,!0),_=null),m.patchFlag===-2&&(E=!1,m.dynamicChildren=null);const{type:T,ref:y,shapeFlag:M}=m;switch(T){case cs:I(_,m,P,V);break;case $t:N(_,m,P,V);break;case ds:_==null&&D(m,P,V,A);break;case be:q(_,m,P,V,X,G,A,h,E);break;default:M&1?C(_,m,P,V,X,G,A,h,E):M&6?B(_,m,P,V,X,G,A,h,E):(M&64||M&128)&&T.process(_,m,P,V,X,G,A,h,E,O)}y!=null&&X?Rn(y,_&&_.ref,G,m||_,!m):y==null&&_&&_.ref!=null&&Rn(_.ref,null,G,_,!0)},I=(_,m,P,V)=>{if(_==null)o(m.el=u(m.children),P,V);else{const X=m.el=_.el;m.children!==_.children&&S(X,m.children)}},N=(_,m,P,V)=>{_==null?o(m.el=p(m.children||""),P,V):m.el=_.el},D=(_,m,P,V)=>{[_.el,_.anchor]=$(_.children,m,P,V,_.el,_.anchor)},K=({el:_,anchor:m},P,V)=>{let X;for(;_&&_!==m;)X=b(_),o(_,P,V),_=X;o(m,P,V)},L=({el:_,anchor:m})=>{let P;for(;_&&_!==m;)P=b(_),n(_),_=P;n(m)},C=(_,m,P,V,X,G,A,h,E)=>{m.type==="svg"?A="svg":m.type==="math"&&(A="mathml"),_==null?j(m,P,V,X,G,A,h,E):Ee(_,m,X,G,A,h,E)},j=(_,m,P,V,X,G,A,h)=>{let E,T;const{props:y,shapeFlag:M,transition:J,dirs:F}=_;if(E=_.el=l(_.type,G,y&&y.is,y),M&8?f(E,_.children):M&16&&de(_.children,E,null,V,X,Zs(_,G),A,h),F&&Wt(_,null,V,"created"),ne(E,_,_.scopeId,A,V),y){for(const le in y)le!=="value"&&!gn(le)&&a(E,le,null,y[le],G,V);"value"in y&&a(E,"value",null,y.value,G),(T=y.onVnodeBeforeMount)&&Rt(T,V,_)}F&&Wt(_,null,V,"beforeMount");const re=mu(X,J);re&&J.beforeEnter(E),o(E,m,P),((T=y&&y.onVnodeMounted)||re||F)&&ot(()=>{T&&Rt(T,V,_),re&&J.enter(E),F&&Wt(_,null,V,"mounted")},X)},ne=(_,m,P,V,X)=>{if(P&&x(_,P),V)for(let G=0;G<V.length;G++)x(_,V[G]);if(X){let G=X.subTree;if(m===G||Mo(G.type)&&(G.ssContent===m||G.ssFallback===m)){const A=X.vnode;ne(_,A,A.scopeId,A.slotScopeIds,X.parent)}}},de=(_,m,P,V,X,G,A,h,E=0)=>{for(let T=E;T<_.length;T++){const y=_[T]=h?Bt(_[T]):Ot(_[T]);w(null,y,m,P,V,X,G,A,h)}},Ee=(_,m,P,V,X,G,A)=>{const h=m.el=_.el;let{patchFlag:E,dynamicChildren:T,dirs:y}=m;E|=_.patchFlag&16;const M=_.props||we,J=m.props||we;let F;if(P&&qt(P,!1),(F=J.onVnodeBeforeUpdate)&&Rt(F,P,m,_),y&&Wt(m,_,P,"beforeUpdate"),P&&qt(P,!0),(M.innerHTML&&J.innerHTML==null||M.textContent&&J.textContent==null)&&f(h,""),T?W(_.dynamicChildren,T,h,P,V,Zs(m,X),G):A||ie(_,m,h,null,P,V,Zs(m,X),G,!1),E>0){if(E&16)H(h,M,J,P,X);else if(E&2&&M.class!==J.class&&a(h,"class",null,J.class,X),E&4&&a(h,"style",M.style,J.style,X),E&8){const re=m.dynamicProps;for(let le=0;le<re.length;le++){const he=re[le],Oe=M[he],ve=J[he];(ve!==Oe||he==="value")&&a(h,he,Oe,ve,X,P)}}E&1&&_.children!==m.children&&f(h,m.children)}else!A&&T==null&&H(h,M,J,P,X);((F=J.onVnodeUpdated)||y)&&ot(()=>{F&&Rt(F,P,m,_),y&&Wt(m,_,P,"updated")},V)},W=(_,m,P,V,X,G,A)=>{for(let h=0;h<m.length;h++){const E=_[h],T=m[h],y=E.el&&(E.type===be||!Mn(E,T)||E.shapeFlag&198)?c(E.el):P;w(E,T,y,null,V,X,G,A,!0)}},H=(_,m,P,V,X)=>{if(m!==P){if(m!==we)for(const G in m)!gn(G)&&!(G in P)&&a(_,G,m[G],null,X,V);for(const G in P){if(gn(G))continue;const A=P[G],h=m[G];A!==h&&G!=="value"&&a(_,G,h,A,X,V)}"value"in P&&a(_,"value",m.value,P.value,X)}},q=(_,m,P,V,X,G,A,h,E)=>{const T=m.el=_?_.el:u(""),y=m.anchor=_?_.anchor:u("");let{patchFlag:M,dynamicChildren:J,slotScopeIds:F}=m;F&&(h=h?h.concat(F):F),_==null?(o(T,P,V),o(y,P,V),de(m.children||[],P,y,X,G,A,h,E)):M>0&&M&64&&J&&_.dynamicChildren?(W(_.dynamicChildren,J,P,X,G,A,h),(m.key!=null||X&&m===X.subTree)&&To(_,m,!0)):ie(_,m,P,y,X,G,A,h,E)},B=(_,m,P,V,X,G,A,h,E)=>{m.slotScopeIds=h,_==null?m.shapeFlag&512?X.ctx.activate(m,P,V,A,E):se(m,P,V,X,G,A,E):fe(_,m,E)},se=(_,m,P,V,X,G,A)=>{const h=_.component=$u(_,V,X);if(to(_)&&(h.ctx.renderer=O),Du(h,!1,A),h.asyncDep){if(X&&X.registerDep(h,ue,A),!_.el){const E=h.subTree=He($t);N(null,E,m,P),_.placeholder=E.el}}else ue(h,_,m,P,X,G,A)},fe=(_,m,P)=>{const V=m.component=_.component;if(Ou(_,m,P))if(V.asyncDep&&!V.asyncResolved){Z(V,m,P);return}else V.next=m,V.update();else m.el=_.el,V.vnode=m},ue=(_,m,P,V,X,G,A)=>{const h=()=>{if(_.isMounted){let{next:M,bu:J,u:F,parent:re,vnode:le}=_;{const Ke=yo(_);if(Ke){M&&(M.el=le.el,Z(_,M,A)),Ke.asyncDep.then(()=>{_.isUnmounted||h()});return}}let he=M,Oe;qt(_,!1),M?(M.el=le.el,Z(_,M,A)):M=le,J&&Bn(J),(Oe=M.props&&M.props.onVnodeBeforeUpdate)&&Rt(Oe,re,M,le),qt(_,!0);const ve=No(_),ke=_.subTree;_.subTree=ve,w(ke,ve,c(ke.el),Se(ke),_,X,G),M.el=ve.el,he===null&&Ru(_,ve.el),F&&ot(F,X),(Oe=M.props&&M.props.onVnodeUpdated)&&ot(()=>Rt(Oe,re,M,le),X)}else{let M;const{el:J,props:F}=m,{bm:re,m:le,parent:he,root:Oe,type:ve}=_,ke=cn(m);qt(_,!1),re&&Bn(re),!ke&&(M=F&&F.onVnodeBeforeMount)&&Rt(M,he,m),qt(_,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(ve);const Ke=_.subTree=No(_);w(null,Ke,P,V,_,X,G),m.el=Ke.el}if(le&&ot(le,X),!ke&&(M=F&&F.onVnodeMounted)){const Ke=m;ot(()=>Rt(M,he,Ke),X)}(m.shapeFlag&256||he&&cn(he.vnode)&&he.vnode.shapeFlag&256)&&_.a&&ot(_.a,X),_.isMounted=!0,m=P=V=null}};_.scope.on();const E=_.effect=new Oi(h);_.scope.off();const T=_.update=E.run.bind(E),y=_.job=E.runIfDirty.bind(E);y.i=_,y.id=_.uid,E.scheduler=()=>Bs(y),qt(_,!0),T()},Z=(_,m,P)=>{m.component=_;const V=_.vnode.props;_.vnode=m,_.next=null,lu(_,m.props,V,P),pu(_,m.children,P),bt(),Ji(_),At()},ie=(_,m,P,V,X,G,A,h,E=!1)=>{const T=_&&_.children,y=_?_.shapeFlag:0,M=m.children,{patchFlag:J,shapeFlag:F}=m;if(J>0){if(J&128){pe(T,M,P,V,X,G,A,h,E);return}else if(J&256){ee(T,M,P,V,X,G,A,h,E);return}}F&8?(y&16&&_e(T,X,G),M!==T&&f(P,M)):y&16?F&16?pe(T,M,P,V,X,G,A,h,E):_e(T,X,G,!0):(y&8&&f(P,""),F&16&&de(M,P,V,X,G,A,h,E))},ee=(_,m,P,V,X,G,A,h,E)=>{_=_||en,m=m||en;const T=_.length,y=m.length,M=Math.min(T,y);let J;for(J=0;J<M;J++){const F=m[J]=E?Bt(m[J]):Ot(m[J]);w(_[J],F,P,null,X,G,A,h,E)}T>y?_e(_,X,G,!0,!1,M):de(m,P,V,X,G,A,h,E,M)},pe=(_,m,P,V,X,G,A,h,E)=>{let T=0;const y=m.length;let M=_.length-1,J=y-1;for(;T<=M&&T<=J;){const F=_[T],re=m[T]=E?Bt(m[T]):Ot(m[T]);if(Mn(F,re))w(F,re,P,null,X,G,A,h,E);else break;T++}for(;T<=M&&T<=J;){const F=_[M],re=m[J]=E?Bt(m[J]):Ot(m[J]);if(Mn(F,re))w(F,re,P,null,X,G,A,h,E);else break;M--,J--}if(T>M){if(T<=J){const F=J+1,re=F<y?m[F].el:V;for(;T<=J;)w(null,m[T]=E?Bt(m[T]):Ot(m[T]),P,re,X,G,A,h,E),T++}}else if(T>J)for(;T<=M;)z(_[T],X,G,!0),T++;else{const F=T,re=T,le=new Map;for(T=re;T<=J;T++){const Ye=m[T]=E?Bt(m[T]):Ot(m[T]);Ye.key!=null&&le.set(Ye.key,T)}let he,Oe=0;const ve=J-re+1;let ke=!1,Ke=0;const rt=new Array(ve);for(T=0;T<ve;T++)rt[T]=0;for(T=F;T<=M;T++){const Ye=_[T];if(Oe>=ve){z(Ye,X,G,!0);continue}let Xe;if(Ye.key!=null)Xe=le.get(Ye.key);else for(he=re;he<=J;he++)if(rt[he-re]===0&&Mn(Ye,m[he])){Xe=he;break}Xe===void 0?z(Ye,X,G,!0):(rt[Xe-re]=T+1,Xe>=Ke?Ke=Xe:ke=!0,w(Ye,m[Xe],P,null,X,G,A,h,E),Oe++)}const We=ke?hu(rt):en;for(he=We.length-1,T=ve-1;T>=0;T--){const Ye=re+T,Xe=m[Ye],lt=m[Ye+1],Pt=Ye+1<y?lt.el||lt.placeholder:V;rt[T]===0?w(null,Xe,P,Pt,X,G,A,h,E):ke&&(he<0||T!==We[he]?U(Xe,P,Pt,2):he--)}}},U=(_,m,P,V,X=null)=>{const{el:G,type:A,transition:h,children:E,shapeFlag:T}=_;if(T&6){U(_.component.subTree,m,P,V);return}if(T&128){_.suspense.move(m,P,V);return}if(T&64){A.move(_,m,P,O);return}if(A===be){o(G,m,P);for(let M=0;M<E.length;M++)U(E[M],m,P,V);o(_.anchor,m,P);return}if(A===ds){K(_,m,P);return}if(V!==2&&T&1&&h)if(V===0)h.beforeEnter(G),o(G,m,P),ot(()=>h.enter(G),X);else{const{leave:M,delayLeave:J,afterLeave:F}=h,re=()=>{_.ctx.isUnmounted?n(G):o(G,m,P)},le=()=>{G._isLeaving&&G[Yd](!0),M(G,()=>{re(),F&&F()})};J?J(G,re,le):le()}else o(G,m,P)},z=(_,m,P,V=!1,X=!1)=>{const{type:G,props:A,ref:h,children:E,dynamicChildren:T,shapeFlag:y,patchFlag:M,dirs:J,cacheIndex:F}=_;if(M===-2&&(X=!1),h!=null&&(bt(),Rn(h,null,P,_,!0),At()),F!=null&&(m.renderCache[F]=void 0),y&256){m.ctx.deactivate(_);return}const re=y&1&&J,le=!cn(_);let he;if(le&&(he=A&&A.onVnodeBeforeUnmount)&&Rt(he,m,_),y&6)me(_.component,P,V);else{if(y&128){_.suspense.unmount(P,V);return}re&&Wt(_,null,m,"beforeUnmount"),y&64?_.type.remove(_,m,P,O,V):T&&!T.hasOnce&&(G!==be||M>0&&M&64)?_e(T,m,P,!1,!0):(G===be&&M&384||!X&&y&16)&&_e(E,m,P),V&&Q(_)}(le&&(he=A&&A.onVnodeUnmounted)||re)&&ot(()=>{he&&Rt(he,m,_),re&&Wt(_,null,m,"unmounted")},P)},Q=_=>{const{type:m,el:P,anchor:V,transition:X}=_;if(m===be){ae(P,V);return}if(m===ds){L(_);return}const G=()=>{n(P),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(_.shapeFlag&1&&X&&!X.persisted){const{leave:A,delayLeave:h}=X,E=()=>A(P,G);h?h(_.el,G,E):E()}else G()},ae=(_,m)=>{let P;for(;_!==m;)P=b(_),n(_),_=P;n(m)},me=(_,m,P)=>{const{bum:V,scope:X,job:G,subTree:A,um:h,m:E,a:T}=_;Oo(E),Oo(T),V&&Bn(V),X.stop(),G&&(G.flags|=8,z(A,_,m,P)),h&&ot(h,m),ot(()=>{_.isUnmounted=!0},m)},_e=(_,m,P,V=!1,X=!1,G=0)=>{for(let A=G;A<_.length;A++)z(_[A],m,P,V,X)},Se=_=>{if(_.shapeFlag&6)return Se(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const m=b(_.anchor||_.el),P=m&&m[Dd];return P?b(P):m};let Pe=!1;const k=(_,m,P)=>{_==null?m._vnode&&z(m._vnode,null,null,!0):w(m._vnode||null,_,m,null,null,null,P),m._vnode=_,Pe||(Pe=!0,Ji(),Wi(),Pe=!1)},O={p:w,um:z,m:U,r:Q,mt:se,mc:de,pc:ie,pbc:W,n:Se,o:e};return{render:k,hydrate:void 0,createApp:ou(k)}}function Zs({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function mu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function To(e,t,s=!1){const o=e.children,n=t.children;if(Ce(o)&&Ce(n))for(let a=0;a<o.length;a++){const l=o[a];let u=n[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[a]=Bt(n[a]),u.el=l.el),!s&&u.patchFlag!==-2&&To(l,u)),u.type===cs&&u.patchFlag!==-1&&(u.el=l.el),u.type===$t&&!u.el&&(u.el=l.el)}}function hu(e){const t=e.slice(),s=[0];let o,n,a,l,u;const p=e.length;for(o=0;o<p;o++){const S=e[o];if(S!==0){if(n=s[s.length-1],e[n]<S){t[o]=n,s.push(o);continue}for(a=0,l=s.length-1;a<l;)u=a+l>>1,e[s[u]]<S?a=u+1:l=u;S<e[s[a]]&&(a>0&&(t[o]=s[a-1]),s[a]=o)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=t[l];return s}function yo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yo(t)}function Oo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const gu=Symbol.for("v-scx"),Eu=()=>rs(gu);function Fe(e,t,s){return Ro(e,t,s)}function Ro(e,t,s=we){const{immediate:o,deep:n,flush:a,once:l}=s,u=Qe({},s),p=t&&o||!t&&a!=="post";let S;if(kn){if(a==="sync"){const x=Eu();S=x.__watcherHandles||(x.__watcherHandles=[])}else if(!p){const x=()=>{};return x.stop=Ct,x.resume=Ct,x.pause=Ct,x}}const f=tt;u.call=(x,$,w)=>Tt(x,f,$,w);let c=!1;a==="post"?u.scheduler=x=>{ot(x,f&&f.suspense)}:a!=="sync"&&(c=!0,u.scheduler=(x,$)=>{$?x():Bs(x)}),u.augmentJob=x=>{t&&(x.flags|=4),c&&(x.flags|=2,f&&(x.id=f.uid,x.i=f))};const b=Nd(e,t,u);return kn&&(S?S.push(b):p&&b()),b}function Su(e,t,s){const o=this.proxy,n=Ve(e)?e.includes(".")?xo(o,e):()=>o[e]:e.bind(o,o);let a;Te(t)?a=t:(a=t.handler,s=t);const l=In(this),u=Ro(n,a.bind(o),s);return l(),u}function xo(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const Cu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ut(t)}Modifiers`]||e[`${Yt(t)}Modifiers`];function bu(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||we;let n=s;const a=t.startsWith("update:"),l=a&&Cu(o,t.slice(7));l&&(l.trim&&(n=s.map(f=>Ve(f)?f.trim():f)),l.number&&(n=s.map(Hn)));let u,p=o[u=xs(t)]||o[u=xs(Ut(t))];!p&&a&&(p=o[u=xs(Yt(t))]),p&&Tt(p,e,6,n);const S=o[u+"Once"];if(S){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Tt(S,e,6,n)}}const Au=new WeakMap;function vo(e,t,s=!1){const o=s?Au:t.emitsCache,n=o.get(e);if(n!==void 0)return n;const a=e.emits;let l={},u=!1;if(!Te(e)){const p=S=>{const f=vo(S,t,!0);f&&(u=!0,Qe(l,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!u?(Le(e)&&o.set(e,null),null):(Ce(a)?a.forEach(p=>l[p]=null):Qe(l,a),Le(e)&&o.set(e,l),l)}function ls(e,t){return!e||!Gn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,Yt(t))||Ne(e,t))}function iv(){}function No(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[a],slots:l,attrs:u,emit:p,render:S,renderCache:f,props:c,data:b,setupState:x,ctx:$,inheritAttrs:w}=e,I=ss(e);let N,D;try{if(s.shapeFlag&4){const L=n||o,C=L;N=Ot(S.call(C,L,f,c,x,b,$)),D=u}else{const L=t;N=Ot(L.length>1?L(c,{attrs:u,slots:l,emit:p}):L(c,null)),D=t.props?u:Tu(u)}}catch(L){Nn.length=0,ts(L,e,1),N=He($t)}let K=N;if(D&&w!==!1){const L=Object.keys(D),{shapeFlag:C}=K;L.length&&C&7&&(a&&L.some(ys)&&(D=yu(D,a)),K=un(K,D,!1,!0))}return s.dirs&&(K=un(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(s.dirs):s.dirs),s.transition&&Hs(K,s.transition),N=K,ss(I),N}const Tu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Gn(s))&&((t||(t={}))[s]=e[s]);return t},yu=(e,t)=>{const s={};for(const o in e)(!ys(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Ou(e,t,s){const{props:o,children:n,component:a}=e,{props:l,children:u,patchFlag:p}=t,S=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return o?Po(o,l,S):!!l;if(p&8){const f=t.dynamicProps;for(let c=0;c<f.length;c++){const b=f[c];if(l[b]!==o[b]&&!ls(S,b))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:o===l?!1:o?l?Po(o,l,S):!0:!!l;return!1}function Po(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const a=o[n];if(t[a]!==e[a]&&!ls(s,a))return!0}return!1}function Ru({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Mo=e=>e.__isSuspense;function xu(e,t){t&&t.pendingBranch?Ce(e)?t.effects.push(...e):t.effects.push(e):Ld(e)}const be=Symbol.for("v-fgt"),cs=Symbol.for("v-txt"),$t=Symbol.for("v-cmt"),ds=Symbol.for("v-stc"),Nn=[];let at=null;function R(e=!1){Nn.push(at=e?null:[])}function vu(){Nn.pop(),at=Nn[Nn.length-1]||null}let Pn=1;function Io(e,t=!1){Pn+=e,e<0&&at&&t&&(at.hasOnce=!0)}function ko(e){return e.dynamicChildren=Pn>0?at||en:null,vu(),Pn>0&&at&&at.push(e),e}function v(e,t,s,o,n,a){return ko(i(e,t,s,o,n,a,!0))}function pt(e,t,s,o,n){return ko(He(e,t,s,o,n,!0))}function ei(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const wo=({key:e})=>e!=null?e:null,us=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ve(e)||Je(e)||Te(e)?{i:ze,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,n=null,a=e===be?0:1,l=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wo(t),ref:t&&us(t),scopeId:zi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ze};return u?(ti(p,s),a&128&&e.normalize(p)):s&&(p.shapeFlag|=Ve(s)?8:16),Pn>0&&!l&&at&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&at.push(p),p}const He=Nu;function Nu(e,t=null,s=null,o=0,n=null,a=!1){if((!e||e===qd)&&(e=$t),ei(e)){const u=un(e,t,!0);return s&&ti(u,s),Pn>0&&!a&&at&&(u.shapeFlag&6?at[at.indexOf(e)]=u:at.push(u)),u.patchFlag=-2,u}if(Bu(e)&&(e=e.__vccOpts),t){t=Pu(t);let{class:u,style:p}=t;u&&!Ve(u)&&(t.class=Me(u)),Le(p)&&(Gs(p)&&!Ce(p)&&(p=Qe({},p)),t.style=Ft(p))}const l=Ve(e)?1:Mo(e)?128:Ud(e)?64:Le(e)?4:Te(e)?2:0;return i(e,t,s,o,n,l,a,!0)}function Pu(e){return e?Gs(e)||ho(e)?Qe({},e):e:null}function un(e,t,s=!1,o=!1){const{props:n,ref:a,patchFlag:l,children:u,transition:p}=e,S=t?Iu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:S,key:S&&wo(S),ref:t&&t.ref?s&&a?Ce(a)?a.concat(us(t)):[a,us(t)]:us(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==be?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&un(e.ssContent),ssFallback:e.ssFallback&&un(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&o&&Hs(f,p.clone(f)),f}function Ie(e=" ",t=0){return He(cs,null,e,t)}function Mu(e,t){const s=He(ds,null,e);return s.staticCount=t,s}function Ae(e="",t=!1){return t?(R(),pt($t,null,e)):He($t,null,e)}function Ot(e){return e==null||typeof e=="boolean"?He($t):Ce(e)?He(be,null,e.slice()):ei(e)?Bt(e):He(cs,null,String(e))}function Bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:un(e)}function ti(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Ce(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),ti(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ho(t)?t._ctx=ze:n===3&&ze&&(ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Te(t)?(t={default:t,_ctx:ze},s=32):(t=String(t),o&64?(s=16,t=[Ie(t)]):s=8);e.children=t,e.shapeFlag|=s}function Iu(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=Me([t.class,o.class]));else if(n==="style")t.style=Ft([t.style,o.style]);else if(Gn(n)){const a=t[n],l=o[n];l&&a!==l&&!(Ce(a)&&a.includes(l))&&(t[n]=a?[].concat(a,l):l)}else n!==""&&(t[n]=o[n])}return t}function Rt(e,t,s,o=null){Tt(e,t,7,[s,o])}const ku=_o();let wu=0;function $u(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||ku,a={uid:wu++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new td(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Eo(o,n),emitsOptions:vo(o,n),emit:null,emitted:null,propsDefaults:we,inheritAttrs:o.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=bu.bind(null,a),e.ce&&e.ce(a),a}let tt=null;const Lu=()=>tt||ze;let ps,ni;{const e=Kn(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),a=>{n.length>1?n.forEach(l=>l(a)):n[0](a)}};ps=t("__VUE_INSTANCE_SETTERS__",s=>tt=s),ni=t("__VUE_SSR_SETTERS__",s=>kn=s)}const In=e=>{const t=tt;return ps(e),e.scope.on(),()=>{e.scope.off(),ps(t)}},$o=()=>{tt&&tt.scope.off(),ps(null)};function Lo(e){return e.vnode.shapeFlag&4}let kn=!1;function Du(e,t=!1,s=!1){t&&ni(t);const{props:o,children:n}=e.vnode,a=Lo(e);ru(e,o,a,t),uu(e,n,s||t);const l=a?Uu(e,t):void 0;return t&&ni(!1),l}function Uu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Qd);const{setup:o}=s;if(o){bt();const n=e.setupContext=o.length>1?Xu(e):null,a=In(e),l=an(o,e,0,[e.props,n]),u=hi(l);if(At(),a(),(u||e.sp)&&!cn(e)&&Zi(e),u){if(l.then($o,$o),t)return l.then(p=>{Do(e,p)}).catch(p=>{ts(p,e,0)});e.asyncDep=l}else Do(e,l)}else Uo(e)}function Do(e,t,s){Te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=Vi(t)),Uo(e)}function Uo(e,t,s){const o=e.type;e.render||(e.render=o.render||Ct);{const n=In(e);bt();try{Zd(e)}finally{At(),n()}}}const Yu={get(e,t){return qe(e,"get",""),e[t]}};function Xu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Yu),slots:e.slots,emit:e.emit,expose:t}}function _s(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Vi(Ad(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in xn)return xn[s](e)},has(t,s){return s in t||s in xn}})):e.proxy}const Fu=/(?:^|[-_])\w/g,Gu=e=>e.replace(Fu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Vu(e,t=!0){return Te(e)?e.displayName||e.name:e.name||t&&e.__name}function Yo(e,t,s=!1){let o=Vu(t);if(!o&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){const n=a=>{for(const l in a)if(a[l]===t)return l};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?Gu(o):s?"App":"Anonymous"}function Bu(e){return Te(e)&&"__vccOpts"in e}const ge=(e,t)=>xd(e,t,kn),Hu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let si;const Xo=typeof window!="undefined"&&window.trustedTypes;if(Xo)try{si=Xo.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Fo=si?e=>si.createHTML(e):e=>e,Ku="http://www.w3.org/2000/svg",ju="http://www.w3.org/1998/Math/MathML",Lt=typeof document!="undefined"?document:null,Go=Lt&&Lt.createElement("template"),Ju={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?Lt.createElementNS(Ku,e):t==="mathml"?Lt.createElementNS(ju,e):s?Lt.createElement(e,{is:s}):Lt.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,a){const l=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Go.innerHTML=Fo(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const u=Go.content;if(o==="svg"||o==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Wu=Symbol("_vtc");function qu(e,t,s){const o=e[Wu];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const fs=Symbol("_vod"),Vo=Symbol("_vsh"),zu={name:"show",beforeMount(e,{value:t},{transition:s}){e[fs]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):wn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),wn(e,!0),o.enter(e)):o.leave(e,()=>{wn(e,!1)}):wn(e,t))},beforeUnmount(e,{value:t}){wn(e,t)}};function wn(e,t){e.style.display=t?e[fs]:"none",e[Vo]=!t}const Qu=Symbol(""),Zu=/(?:^|;)\s*display\s*:/;function ep(e,t,s){const o=e.style,n=Ve(s);let a=!1;if(s&&!n){if(t)if(Ve(t))for(const l of t.split(";")){const u=l.slice(0,l.indexOf(":")).trim();s[u]==null&&ms(o,u,"")}else for(const l in t)s[l]==null&&ms(o,l,"");for(const l in s)l==="display"&&(a=!0),ms(o,l,s[l])}else if(n){if(t!==s){const l=o[Qu];l&&(s+=";"+l),o.cssText=s,a=Zu.test(s)}}else t&&e.removeAttribute("style");fs in e&&(e[fs]=a?o.display:"",e[Vo]&&(o.display="none"))}const Bo=/\s*!important$/;function ms(e,t,s){if(Ce(s))s.forEach(o=>ms(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=tp(e,t);Bo.test(s)?e.setProperty(Yt(o),s.replace(Bo,""),"important"):e[o]=s}}const Ho=["Webkit","Moz","ms"],ii={};function tp(e,t){const s=ii[t];if(s)return s;let o=Ut(t);if(o!=="filter"&&o in e)return ii[t]=o;o=Si(o);for(let n=0;n<Ho.length;n++){const a=Ho[n]+o;if(a in e)return ii[t]=a}return t}const Ko="http://www.w3.org/1999/xlink";function jo(e,t,s,o,n,a=Zc(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ko,t.slice(6,t.length)):e.setAttributeNS(Ko,t,s):s==null||a&&!Ai(s)?e.removeAttribute(t):e.setAttribute(t,a?"":_t(s)?String(s):s)}function Jo(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Fo(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Ai(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{e[t]=s}catch(u){}l&&e.removeAttribute(n||t)}function Ht(e,t,s,o){e.addEventListener(t,s,o)}function np(e,t,s,o){e.removeEventListener(t,s,o)}const Wo=Symbol("_vei");function sp(e,t,s,o,n=null){const a=e[Wo]||(e[Wo]={}),l=a[t];if(o&&l)l.value=o;else{const[u,p]=ip(t);if(o){const S=a[t]=rp(o,n);Ht(e,u,S,p)}else l&&(np(e,u,l,p),a[t]=void 0)}}const qo=/(?:Once|Passive|Capture)$/;function ip(e){let t;if(qo.test(e)){t={};let o;for(;o=e.match(qo);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yt(e.slice(2)),t]}let oi=0;const op=Promise.resolve(),ap=()=>oi||(op.then(()=>oi=0),oi=Date.now());function rp(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;Tt(lp(o,s.value),t,5,[o])};return s.value=e,s.attached=ap(),s}function lp(e,t){if(Ce(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const zo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cp=(e,t,s,o,n,a)=>{const l=n==="svg";t==="class"?qu(e,o,l):t==="style"?ep(e,s,o):Gn(t)?ys(t)||sp(e,t,s,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dp(e,t,o,l))?(Jo(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jo(e,t,o,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ve(o))?Jo(e,Ut(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),jo(e,t,o,l))};function dp(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&zo(t)&&Te(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return zo(t)&&Ve(s)?!1:t in e}const pn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ce(t)?s=>Bn(t,s):t};function up(e){e.target.composing=!0}function Qo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dt=Symbol("_assign"),ce={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[Dt]=pn(n);const a=o||n.props&&n.props.type==="number";Ht(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;s&&(u=u.trim()),a&&(u=Hn(u)),e[Dt](u)}),s&&Ht(e,"change",()=>{e.value=e.value.trim()}),t||(Ht(e,"compositionstart",up),Ht(e,"compositionend",Qo),Ht(e,"change",Qo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:a}},l){if(e[Dt]=pn(l),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?Hn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===p)||(e.value=p))}},mt={deep:!0,created(e,t,s){e[Dt]=pn(s),Ht(e,"change",()=>{const o=e._modelValue,n=$n(e),a=e.checked,l=e[Dt];if(Ce(o)){const u=vs(o,n),p=u!==-1;if(a&&!p)l(o.concat(n));else if(!a&&p){const S=[...o];S.splice(u,1),l(S)}}else if(nn(o)){const u=new Set(o);a?u.add(n):u.delete(n),l(u)}else l(ta(e,a))})},mounted:Zo,beforeUpdate(e,t,s){e[Dt]=pn(s),Zo(e,t,s)}};function Zo(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(Ce(t))n=vs(t,o.props.value)>-1;else if(nn(t))n=t.has(o.props.value);else{if(t===s)return;n=En(t,ta(e,!0))}e.checked!==n&&(e.checked=n)}const ht={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=nn(t);Ht(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?Hn($n(l)):$n(l));e[Dt](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,Ki(()=>{e._assigning=!1})}),e[Dt]=pn(o)},mounted(e,{value:t}){ea(e,t)},beforeUpdate(e,t,s){e[Dt]=pn(s)},updated(e,{value:t}){e._assigning||ea(e,t)}};function ea(e,t){const s=e.multiple,o=Ce(t);if(!(s&&!o&&!nn(t))){for(let n=0,a=e.options.length;n<a;n++){const l=e.options[n],u=$n(l);if(s)if(o){const p=typeof u;p==="string"||p==="number"?l.selected=t.some(S=>String(S)===String(u)):l.selected=vs(t,u)>-1}else l.selected=t.has(u);else if(En($n(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $n(e){return"_value"in e?e._value:e.value}function ta(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const pp=["ctrl","shift","alt","meta"],_p={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>pp.some(s=>e[`${s}Key`]&&!t.includes(s))},gt=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...a)=>{for(let l=0;l<t.length;l++){const u=_p[t[l]];if(u&&u(n,t))return}return e(n,...a)})},fp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const a=Yt(n.key);if(t.some(l=>l===a||fp[l]===a))return e(n)})},mp=Qe({patchProp:cp},Ju);let na;function hp(){return na||(na=_u(mp))}const gp=(...e)=>{const t=hp().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=Sp(o);if(!n)return;const a=t._component;!Te(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,Ep(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function Ep(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Sp(e){return Ve(e)?document.querySelector(e):e}const xt=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},Cp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},bp={key:0,class:"nxp-ec-admin-error"},Ap={class:"nxp-ec-admin-error__title"},Tp={class:"nxp-ec-admin-error__body"};function yp(e,t,s,o,n,a){return R(),v("div",null,[n.error?(R(),v("div",bp,[i("h2",Ap,d(a.fallbackTitle),1),i("p",Tp,d(a.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>a.reload&&a.reload(...l))},d(a.reloadLabel),1)])):zd(e.$slots,"default",{key:1})])}const Op=xt(Cp,[["render",yp]]),Rp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},xp={class:"nxp-ec-admin-panel__header"},vp={class:"nxp-ec-admin-panel__title"},Np={class:"nxp-ec-admin-panel__lead"},Pp={class:"nxp-ec-admin-panel__actions"},Mp=["disabled"],Ip={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kp={key:1,class:"nxp-ec-dashboard"},wp={class:"nxp-ec-dashboard__metrics"},$p={class:"nxp-ec-dashboard__card"},Lp={class:"nxp-ec-dashboard__value"},Dp={class:"nxp-ec-dashboard__hint"},Up={class:"nxp-ec-dashboard__card"},Yp={class:"nxp-ec-dashboard__value"},Xp={class:"nxp-ec-dashboard__hint"},Fp={class:"nxp-ec-dashboard__card"},Gp={class:"nxp-ec-dashboard__value"},Vp={class:"nxp-ec-dashboard__hint"},Bp={class:"nxp-ec-dashboard__card"},Hp={class:"nxp-ec-dashboard__value"},Kp={class:"nxp-ec-dashboard__hint"},jp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Jp={class:"nxp-ec-dashboard__checklist-header"},Wp={id:"dashboard-checklist-heading"},qp={class:"nxp-ec-dashboard__checklist-progress"},zp={class:"nxp-ec-dashboard__checklist-list"},Qp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Zp={key:0,class:"fa-solid fa-circle-check"},e_={key:1,class:"fa-regular fa-circle"},t_={class:"nxp-ec-dashboard__checklist-label"},n_=["href","title"],s_={class:"nxp-ec-sr-only"},i_=xt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,o=s.translate,n=s.state,a=ge(()=>{var c;const f=(c=n.summary)==null?void 0:c.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),l=(f=0)=>{const c=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(c)}catch(b){return`${a.value} ${c.toFixed(2)}`}},u=ge(()=>Array.isArray(n.checklist)?n.checklist:[]),p=ge(()=>u.value.filter(f=>f.completed).length),S=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,c)=>(R(),v("section",Rp,[i("header",xp,[i("div",null,[i("h2",vp,d(r(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",Np,d(r(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Pp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:c[0]||(c[0]=b=>f.$emit("refresh")),disabled:r(n).loading},d(r(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,Mp)])]),r(n).error?(R(),v("div",Ip,d(r(n).error),1)):(R(),v("div",kp,[i("div",wp,[i("article",$p,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Lp,d(r(n).summary.products.active),1),i("p",Dp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Up,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",Yp,d(l(r(n).summary.orders.revenue_today)),1),i("p",Xp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",Fp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",Gp,d(r(n).summary.customers.total),1),i("p",Vp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Bp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Hp,d(l(r(n).summary.orders.revenue_month)),1),i("p",Kp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),i("section",jp,[i("header",Jp,[i("h3",Wp,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",qp,d(p.value)+" / "+d(u.value.length),1)]),i("ul",zp,[(R(!0),v(be,null,Re(u.value,b=>(R(),v("li",{key:b.id,class:Me({"is-complete":b.completed})},[i("span",Qp,[b.completed?(R(),v("span",Zp)):(R(),v("span",e_))]),i("span",t_,d(r(o)(b.label,S(b.label))),1),b.link?(R(),v("a",{key:0,href:b.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",s_,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,n_)):Ae("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),o_={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},a_={id:"nxp-ec-products-caption",class:"visually-hidden"},r_={scope:"col"},l_={scope:"col"},c_={scope:"col"},d_={scope:"col"},u_={scope:"col"},p_={scope:"col"},__={scope:"col"},f_={scope:"col"},m_={scope:"col",class:"nxp-ec-admin-table__actions"},h_={key:0},g_={colspan:"8",class:"nxp-ec-admin-table__empty"},E_=["data-label"],S_={class:"nxp-ec-admin-table__primary"},C_={class:"nxp-ec-products-table__title"},b_={class:"nxp-ec-products-table__slug"},A_={key:0,class:"nxp-ec-products-table__badge"},T_={class:"nxp-ec-status nxp-ec-status--featured"},y_=["data-label"],O_={key:0},R_={key:1},x_=["data-label"],v_=["data-label"],N_=["data-label"],P_={key:0},M_={key:1},I_=["data-label"],k_=["disabled","aria-pressed","title","aria-label","onClick"],w_={class:"nxp-ec-sr-only"},$_=["data-label"],L_={class:"nxp-ec-admin-table__actions"},D_=["onClick","title","aria-label"],U_={class:"nxp-ec-sr-only"},Y_=["onClick","title","aria-label"],X_={class:"nxp-ec-sr-only"},ai=1,Ln=-1,ri=0,F_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,o=ge(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,c=!1)=>{const b=Number(f);if(Number.isFinite(b))return b===Ln?Ln:b===ri?ri:ai;if(c)return Ln;if(typeof f=="string"){const x=f.trim().toLowerCase();if(x==="out_of_stock"||x==="out-of-stock"||x==="-1")return Ln;if(x==="inactive"||x==="0")return ri}return ai},a=f=>{var $;const c=n(($=f==null?void 0:f.status)!=null?$:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),b=c===ai,x=c===Ln;return{status:c,isActive:b,isOutOfStock:x,label:b?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):x?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:b?"nxp-ec-status--active":x?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:b?"fa-solid fa-circle-check":x?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},l=f=>{var w,I,N,D;const c=(I=(w=f==null?void 0:f.summary)==null?void 0:w.variants)!=null?I:{};if(c.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const b=Number.isFinite(c.price_min_cents)?c.price_min_cents:null,x=Number.isFinite(c.price_max_cents)?c.price_max_cents:null;if(b===null)return"";const $=c.currency||((D=(N=f==null?void 0:f.variants)==null?void 0:N[0])==null?void 0:D.currency)||o.value;return x===null||x===b?S(b,$):`${S(b,$)}  ${S(x,$)}`},u=f=>{var x,$;const c=($=(x=f==null?void 0:f.summary)==null?void 0:x.variants)!=null?$:{},b=Number.isFinite(c.count)?c.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return b===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(b)])},p=f=>{if(!Array.isArray(f)||!f.length)return"";const c=f.map($=>($==null?void 0:$.title)||($==null?void 0:$.slug)).filter($=>!!$);if(!c.length)return"";if(c.length<=3)return c.join(", ");const b=c.slice(0,3).join(", "),x=c.length-3;return`${b} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(x)])}`},S=(f,c)=>`${(f/100).toFixed(2)} ${c}`;return(f,c)=>(R(),v("table",o_,[i("caption",a_,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",r_,d(r(s)("JGRID_HEADING_ID","ID")),1),i("th",l_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",c_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",d_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",u_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",p_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",__,d(r(s)("JSTATUS","Status")),1),i("th",f_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",m_,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?Ae("",!0):(R(),v("tr",h_,[i("td",g_,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(R(!0),v(be,null,Re(e.items,b=>{var x,$,w,I,N,D,K,L,C,j,ne,de;return R(),v("tr",{key:b.id},[i("td",{"data-label":r(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},d(b.id),9,E_),i("td",S_,[i("div",C_,d(b.title),1),i("div",b_,d(b.slug),1),b.featured?(R(),v("div",A_,[i("span",T_,[c[0]||(c[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Ie(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):Ae("",!0)]),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[l(b)?(R(),v("span",O_,d(l(b)),1)):(R(),v("span",R_,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,y_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},d(u(b)),9,x_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[i("span",{class:Me(["nxp-ec-status",($=(x=b.summary)==null?void 0:x.variants)!=null&&$.stock_zero?"nxp-ec-status--danger":(I=(w=b.summary)==null?void 0:w.variants)!=null&&I.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(D=(N=b.summary)==null?void 0:N.variants)!=null&&D.stock_zero||((L=(K=b.summary)==null?void 0:K.variants)==null?void 0:L.stock_total)===0?(R(),v(be,{key:0},[Ie(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(R(),v(be,{key:1},[Ie(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ne=(j=(C=b.summary)==null?void 0:C.variants)==null?void 0:j.stock_total)!=null?ne:0)])),1)],64))],2)],8,v_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(de=b.categories)!=null&&de.length?(R(),v("span",P_,d(p(b.categories)),1)):(R(),v("span",M_,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,N_),i("td",{"data-label":r(s)("JSTATUS","Status")},[i("button",{type:"button",class:Me(["nxp-ec-status","nxp-ec-status-button",a(b).className]),disabled:e.saving,"aria-pressed":a(b).isActive?"true":"false",title:a(b).title,"aria-label":a(b).title,onClick:Ee=>f.$emit("toggle-active",b)},[i("i",{class:Me(a(b).icon),"aria-hidden":"true"},null,2),Ie(" "+d(a(b).label)+" ",1),i("span",w_,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,k_)],8,I_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},d(b.modified||b.created),9,$_),i("td",L_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Ee=>f.$emit("edit",b),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",U_,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,D_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Ee=>f.$emit("delete",b),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[c[2]||(c[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",X_,d(r(s)("JTRASH","Delete")),1)],8,Y_)])])}),128))])]))}},G_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},V_={class:"nxp-ec-modal__dialog"},B_={class:"nxp-ec-modal__header"},H_={class:"nxp-ec-modal__title"},K_={class:"nxp-ec-modal__header-actions"},j_=["disabled","title","aria-label"],J_={class:"nxp-ec-sr-only"},W_=["disabled","title","aria-label"],q_={class:"nxp-ec-sr-only"},z_=["aria-label"],Q_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Z_={class:"nxp-ec-form-field"},ef={class:"nxp-ec-form-label",for:"product-title"},tf={class:"nxp-ec-form-field"},nf={class:"nxp-ec-form-label",for:"product-slug"},sf=["placeholder"],of={class:"nxp-ec-form-field"},af={class:"nxp-ec-form-label",for:"product-short-desc"},rf={class:"nxp-ec-form-field"},lf={class:"nxp-ec-form-label",for:"product-long-desc"},cf={class:"nxp-ec-form-field"},df={class:"nxp-ec-form-label",for:"product-status"},uf={value:1},pf={value:-1},_f={value:0},ff={class:"nxp-ec-form-help"},mf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},hf={class:"nxp-ec-form-label",for:"product-featured"},gf={class:"nxp-ec-form-help"},Ef={class:"nxp-ec-form-field"},Sf={class:"nxp-ec-form-label",for:"product-images"},Cf={id:"product-images",class:"nxp-ec-image-list"},bf=["id","onUpdate:modelValue","placeholder"],Af={class:"nxp-ec-image-row__actions"},Tf=["onClick"],yf=["onClick","disabled"],Of=["onClick","disabled"],Rf=["onClick","aria-label"],xf={class:"nxp-ec-form-help"},vf={class:"nxp-ec-form-field"},Nf={class:"nxp-ec-form-label",for:"product-category-select"},Pf=["value"],Mf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},If=["onClick","aria-label"],kf={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},wf=["onKeydown","placeholder"],$f={class:"nxp-ec-form-help"},Lf={class:"nxp-ec-variant-section"},Df={class:"nxp-ec-variant-section__header"},Uf={class:"nxp-ec-variant-section__title"},Yf={class:"nxp-ec-form-help"},Xf={class:"nxp-ec-variant-card__header"},Ff={class:"nxp-ec-variant-card__title"},Gf=["onClick"],Vf=["onClick","disabled"],Bf={class:"nxp-ec-variant-card__grid"},Hf={class:"nxp-ec-form-field"},Kf=["for"],jf=["id","onUpdate:modelValue"],Jf={class:"nxp-ec-form-field"},Wf=["for"],qf=["id","onUpdate:modelValue","onBlur"],zf={class:"nxp-ec-form-field"},Qf=["for"],Zf=["id","onUpdate:modelValue"],em={class:"nxp-ec-form-field"},tm=["for"],nm=["id","onUpdate:modelValue"],sm={class:"nxp-ec-form-field nxp-ec-form-field--inline"},im=["for"],om=["id","onUpdate:modelValue"],am={class:"nxp-ec-variant-options"},rm={class:"nxp-ec-variant-options__header"},lm={class:"nxp-ec-variant-options__title"},cm=["onClick"],dm={class:"nxp-ec-form-help"},um=["id","onUpdate:modelValue","placeholder"],pm=["id","onUpdate:modelValue","placeholder"],_m=["onClick","aria-label"],fm={class:"nxp-ec-modal__actions"},mm=["disabled"],hm=["disabled"],sa="product-editor-form",gm=xt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=ge(()=>(s.baseCurrency||"USD").toUpperCase()),l=A=>{var h,E,T,y,M,J,F,re;if(A==null)return null;if(typeof A=="string"){const le=A.trim();return le===""?null:{id:0,title:le,slug:""}}if(typeof A=="object"){const le=Number.parseInt((E=(h=A.id)!=null?h:A.value)!=null?E:0,10)||0,he=(F=(J=(M=(y=(T=A.title)!=null?T:A.name)!=null?y:A.text)!=null?M:A.label)!=null?J:A.slug)!=null?F:"",Oe=String(he!=null?he:"").trim(),ve=String((re=A.slug)!=null?re:"").trim(),ke=A.parent_id!==null&&A.parent_id!==void 0&&Number.parseInt(A.parent_id,10)||null;return le<=0&&Oe===""?null:{id:le>0?le:0,title:Oe!==""?Oe:ve,slug:ve,parent_id:ke}}return null},u=A=>{const h=Number(A);if(Number.isFinite(h))return h===-1?-1:h===0?0:1;if(typeof A=="string"){const E=A.trim().toLowerCase();if(E==="out_of_stock"||E==="out-of-stock"||E==="-1")return-1;if(E==="inactive"||E==="0")return 0}return 1},p=$e({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),S=Be(""),f=Be(!1),c=(A,h,E=new Set)=>{if(!A||E.has(A))return 0;E.add(A);const T=h.find(y=>y.id===A);return!T||!T.parent_id?0:1+c(T.parent_id,h,E)},b=A=>{if(!A)return"";const h=Array.isArray(s.categoryOptions)?s.categoryOptions:[],E=c(A.id,h);return E===0?A.title:"".repeat(E)+" "+A.title},x=ge(()=>{const h=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(l).filter(M=>M&&M.id>0&&M.title!==""),E=new Map;h.forEach(M=>{E.set(M.id,M)}),p.categories.forEach(M=>{var J;M.id>0&&M.title&&!E.has(M.id)&&E.set(M.id,{id:M.id,title:M.title,slug:(J=M.slug)!=null?J:"",parent_id:M.parent_id!==null&&M.parent_id!==void 0?M.parent_id:null})});const T=Array.from(E.values()),y=(M=null,J=0)=>T.filter(F=>F.parent_id===M).sort((F,re)=>F.title.localeCompare(re.title)).flatMap(F=>[F,...y(F.id,J+1)]);return y()}),$=ge(()=>{const A=new Map;return x.value.forEach(h=>{var E;A.set(h.id,{title:h.title,slug:(E=h.slug)!=null?E:""})}),A}),w=ge({get:()=>p.categories.filter(h=>h&&h.id>0).map(h=>h.id),set:A=>{const h=Array.isArray(A)?A:[],E=Array.from(new Set(h.map(M=>Number.parseInt(M!=null?M:0,10)||0).filter(M=>M>0))),T=p.categories.filter(M=>!(M.id>0)),y=E.map(M=>{const J=$.value.get(M),F=p.categories.find(he=>he.id===M),re=(J==null?void 0:J.title)||(F==null?void 0:F.title)||"",le=(J==null?void 0:J.slug)||(F==null?void 0:F.slug)||"";return re===""?null:{id:M,title:re,slug:le}}).filter(M=>M!==null);p.categories.splice(0,p.categories.length,...y,...T)}}),I=ge(()=>s.product&&s.product.id?"edit":"create"),N=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),D=()=>({name:"",value:""}),K=A=>A?A.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",L=()=>{f.value=!0,p.slug=K(p.slug)},C=A=>{const E=(Array.isArray(A)?A:[]).map(l).filter(M=>M&&(M.id>0||M.title!=="")),T=new Set,y=[];E.forEach(M=>{const J=M.id>0?`id:${M.id}`:`title:${M.title.toLowerCase()}`;T.has(J)||(T.add(J),y.push(M))}),p.categories.splice(0,p.categories.length,...y)},j=A=>{p.variants.splice(0,p.variants.length,...A)},ne=A=>{p.images.splice(0,p.images.length,...A)},de=A=>Array.isArray(A)?A.map(h=>{var E,T,y;return{name:String((T=(E=h==null?void 0:h.name)!=null?E:h==null?void 0:h.key)!=null?T:"").trim(),value:String((y=h==null?void 0:h.value)!=null?y:"").trim()}}):A&&typeof A=="object"?Object.entries(A).map(([h,E])=>({name:String(h!=null?h:"").trim(),value:String(E!=null?E:"").trim()})):[],Ee=A=>!Array.isArray(A)||A.length===0?[N()]:A.map(h=>{var E,T,y,M;return{id:Number.parseInt((E=h==null?void 0:h.id)!=null?E:0,10)||0,sku:String((T=h==null?void 0:h.sku)!=null?T:"").trim(),price:(h==null?void 0:h.price)!=null?String(h.price):Number.isFinite(h==null?void 0:h.price_cents)?(h.price_cents/100).toFixed(2):"",currency:String((y=h==null?void 0:h.currency)!=null?y:a.value).toUpperCase(),stock:Number.parseInt((M=h==null?void 0:h.stock)!=null?M:0,10)||0,weight:(h==null?void 0:h.weight)!=null?String(h.weight):"",active:(h==null?void 0:h.active)!==void 0?!!h.active:!0,options:de(h==null?void 0:h.options)}}),W=A=>{var y,M,J,F;const h=A?JSON.parse(JSON.stringify(A)):{};p.title=(y=h.title)!=null?y:"",p.slug=(M=h.slug)!=null?M:"",p.short_desc=(J=h.short_desc)!=null?J:"",p.long_desc=(F=h.long_desc)!=null?F:"",p.status=u(h.status!==void 0?h.status:h.active),p.featured=h.featured!==void 0?!!h.featured:!1;const E=Array.isArray(h.images)?h.images.map(re=>String(re!=null?re:"").trim()).filter(Boolean):[];ne(E);const T=Array.isArray(h.categories)?h.categories:[];C(T),S.value="",j(Ee(h.variants)),f.value=!!p.slug};Fe(()=>s.product,A=>{W(A)},{immediate:!0}),Fe(()=>p.title,A=>{f.value||(p.slug=K(A))}),Fe(a,A=>{p.variants.forEach(h=>{h.currency=A})});const H=()=>{const A=S.value.trim();if(!A)return;const h=A.toLowerCase(),E=p.categories.slice();E.some(y=>y.title.toLowerCase()===h)||(E.push({id:0,title:A,slug:""}),p.categories.splice(0,p.categories.length,...E)),S.value=""},q=A=>{if(A<0||A>=p.categories.length)return;const h=p.categories.slice();h.splice(A,1),p.categories.splice(0,p.categories.length,...h)},B=()=>{p.variants.push(N())},se=A=>{p.variants.length<=1||p.variants.splice(A,1)},fe=A=>{const h=p.variants[A];h&&(Array.isArray(h.options)||(h.options=[]),h.options.push(D()))},ue=(A,h)=>{const E=p.variants[A];!E||!Array.isArray(E.options)||E.options.splice(h,1)},Z=(A,h)=>`${A.id||"new"}-${h}`,ie=A=>{const h=p.variants[A];if(!h)return;const E=JSON.parse(JSON.stringify(h));E.id=0,E.sku=[E.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),E.active=!0,p.variants.splice(A+1,0,E)},ee=A=>{const h=p.variants[A];if(!h)return;const E=Number.parseFloat(h.price);Number.isNaN(E)||(h.price=E.toFixed(2))};let pe=null,U=null,z=null,Q=null,ae="";const me=()=>{Array.isArray(p.images)||(p.images=[])},_e=A=>{var y,M,J;if(!A)return"";let h=String(A).trim();if(h==="")return"";try{const F=(J=(M=(y=window.Joomla)==null?void 0:y.getOptions)==null?void 0:M.call(y,"system.paths",{}))!=null?J:{},re=F.rootFull||window.location.origin,le=F.root||"/";h.startsWith(re)&&(h=h.substring(re.length)),h.startsWith(le)&&(h=h.substring(le.length))}catch(F){}const E=h.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);E&&E[1]&&(h=E[1]);const T=h.indexOf("#joomlaImage://");return T!==-1&&(h=h.substring(0,T)),h.trim()},Se=(A,{keepIndex:h=!1,appendWhenNoIndex:E=!1,targetIndex:T=null}={})=>{const y=_e(A);if(y==="")return!1;me();const M=T!==null&&T>=0?T:Q;return M==null||Number.isNaN(M)?E?(p.images.push(y),h||(Q=null,ae=""),!0):!1:(M>=p.images.length?p.images.push(y):p.images[M]=y,ae=h?y:"",h||(Q=null,ae=""),!0)},Pe=()=>{me(),p.images.push("")},k=A=>{me(),p.images.splice(A,1)},O=(A,h)=>{me();const E=p.images[A];if(E===void 0)return;const T=A+h;T<0||T>=p.images.length||(p.images.splice(A,1),p.images.splice(T,0,E))},g=A=>{var T;me();const h=(T=p.images[A])!=null?T:"";if(typeof window=="undefined")return;const E=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),h);Se(E!=null?E:"",{targetIndex:A})},_=()=>{var M,J,F,re,le,he;const A=(s.mediaModalUrl||"").trim();if(A!=="")return A;const h=(F=(J=(M=window.Joomla)==null?void 0:M.getOptions)==null?void 0:J.call(M,"media-picker",{}))!=null?F:{};if(h.modalUrl)return h.modalUrl;const E=(he=(le=(re=window.Joomla)==null?void 0:re.getOptions)==null?void 0:le.call(re,"system.paths",{}))!=null?he:{},T=E.rootFull||E.root||"";return(T?T.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},m=async()=>{var F,re,le,he,Oe,ve,ke,Ke,rt;if(pe)return pe;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(We){return null}const A=(le=(re=(F=window.Joomla)==null?void 0:F.getOptions)==null?void 0:re.call(F,"system.paths",{}))!=null?le:{},h=A.rootFull||A.root||"",E=(ve=(Oe=(he=window.Joomla)==null?void 0:he.getOptions)==null?void 0:Oe.call(he,"com_media",{}))!=null?ve:{},T=(E==null?void 0:E.file_path)||"images",y=(rt=(Ke=(ke=window.Joomla)==null?void 0:ke.getOptions)==null?void 0:Ke.call(ke,"media-picker",{}))!=null?rt:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},J=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return U=document.createElement("div"),U.className="nxp-ec-media-picker-host",U.style.display="none",U.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${h.replace(/"/g,"&quot;")}"
            root-folder="${T.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${J}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(y).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(U),pe=U.querySelector("joomla-field-media"),z=U.querySelector(".nxp-ec-media-field__input"),pe.addEventListener("change",We=>{var lt,Pt,fn,mn,Qt,Xn;const Ye=(fn=(Pt=(lt=We.detail)==null?void 0:lt.value)!=null?Pt:z==null?void 0:z.value)!=null?fn:"";let Xe=_e(Ye);if(Xe===""&&ae!==""&&(Xe=ae),Xe===""&&((mn=window.Joomla)!=null&&mn.selectedMediaFile)){const di=_e((Qt=window.Joomla.selectedMediaFile.url)!=null?Qt:""),ui=_e((Xn=window.Joomla.selectedMediaFile.path)!=null?Xn:"");Xe=di||ui}Se(Xe)}),pe.addEventListener("joomla-dialog:close",()=>{Q=null,ae=""}),z&&z.addEventListener("change",()=>{var Ye,Xe,lt,Pt;if(Q===null)return;let We=_e((Ye=z.value)!=null?Ye:"");if(We===""&&ae!==""&&(We=ae),We===""&&((Xe=window.Joomla)!=null&&Xe.selectedMediaFile)){const fn=_e((lt=window.Joomla.selectedMediaFile.url)!=null?lt:""),mn=_e((Pt=window.Joomla.selectedMediaFile.path)!=null?Pt:"");We=fn||mn}We!==""&&Se(We)}),pe},P=A=>{var M,J;const h=A==null?void 0:A.detail;if(!h||typeof h!="object")return;const E=_e((M=h.path)!=null?M:""),y=_e((J=h.url)!=null?J:"")||E;y===""||Q===null||(ae=y,Se(y,{keepIndex:!0}))};it(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",P)});const V=async A=>{var T;me();const h=await m();if(!h||typeof h.show!="function"){g(A);return}Q=A,h.setAttribute("url",_());const E=(T=p.images[A])!=null?T:"";typeof h.setValue=="function"?h.setValue(E):z&&(z.value=E);try{h.show()}catch(y){Q=null,ae="",g(A)}};so(()=>{U&&U.parentNode&&U.parentNode.removeChild(U),pe=null,U=null,z=null,Q=null,ae="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",P)});const X=()=>{var M,J;me();const A=Array.from(new Set(p.images.map(F=>String(F!=null?F:"").trim()).filter(F=>F!==""))),h=p.categories.map(F=>{var Oe,ve,ke;const re=Number.parseInt((Oe=F==null?void 0:F.id)!=null?Oe:0,10)||0,le=String((ve=F==null?void 0:F.title)!=null?ve:"").trim(),he=String((ke=F==null?void 0:F.slug)!=null?ke:"").trim();return re>0?{id:re,title:le,slug:he}:le===""?null:{id:0,title:le,slug:""}}).filter(F=>F!==null),E=p.variants.map(F=>{const re=Array.isArray(F.options)?F.options.map(Oe=>{var ve,ke;return{name:String((ve=Oe==null?void 0:Oe.name)!=null?ve:"").trim(),value:String((ke=Oe==null?void 0:Oe.value)!=null?ke:"").trim()}}).filter(Oe=>Oe.name!==""&&Oe.value!==""):[],le=Number.isFinite(Number(F.stock))?Math.max(0,parseInt(F.stock,10)):0,he=F.weight!==null&&F.weight!==""?String(F.weight).trim():null;return{id:F.id||0,sku:F.sku.trim(),price:F.price!==null&&F.price!==void 0?String(F.price).trim():"",currency:F.currency?String(F.currency).trim().toUpperCase():a.value,stock:le,weight:he,active:!!F.active,options:re}}),T=u(p.status),y={title:p.title.trim(),slug:p.slug.trim(),short_desc:(M=p.short_desc)!=null?M:"",long_desc:(J=p.long_desc)!=null?J:"",status:T,active:T,featured:!!p.featured,images:A,categories:h,variants:E};o("submit",y)},G=()=>{o("cancel")};return Fe(()=>s.saving,(A,h)=>{h&&!A&&s.errors.length===0&&I.value==="create"&&(W(null),S.value="",f.value=!1)}),(A,h)=>e.open?(R(),v("div",G_,[h[10]||(h[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",V_,[i("header",B_,[i("h2",H_,d(I.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",K_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:G,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[h[8]||(h[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",J_,d(r(n)("JCANCEL","Cancel")),1)],8,j_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:sa,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[i("i",{class:Me(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",q_,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,W_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:G,"aria-label":r(n)("JCLOSE","Close")},"  ",8,z_)])]),i("form",{id:sa,class:"nxp-ec-form",onSubmit:gt(X,["prevent"])},[e.errors.length?(R(),v("div",Q_,[(R(!0),v(be,null,Re(e.errors,(E,T)=>(R(),v("p",{key:T},d(E),1))),128))])):Ae("",!0),i("div",Z_,[i("label",ef,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),te(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[0]||(h[0]=E=>p.title=E),required:""},null,512),[[ce,p.title,void 0,{trim:!0}]])]),i("div",tf,[i("label",nf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),te(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[1]||(h[1]=E=>p.slug=E),onInput:L,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,sf),[[ce,p.slug,void 0,{trim:!0}]])]),i("div",of,[i("label",af,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),te(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":h[2]||(h[2]=E=>p.short_desc=E)},null,512),[[ce,p.short_desc]])]),i("div",rf,[i("label",lf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),te(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":h[3]||(h[3]=E=>p.long_desc=E)},null,512),[[ce,p.long_desc]])]),i("div",cf,[i("label",df,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),te(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":h[4]||(h[4]=E=>p.status=E)},[i("option",uf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",pf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",_f,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[ht,p.status,void 0,{number:!0}]]),i("p",ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",mf,[i("label",hf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),te(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":h[5]||(h[5]=E=>p.featured=E)},null,512),[[mt,p.featured]]),i("p",gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",Ef,[i("label",Sf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",Cf,[(R(!0),v(be,null,Re(p.images,(E,T)=>(R(),v("div",{key:`product-image-${T}`,class:"nxp-ec-image-row"},[te(i("input",{id:`product-image-${T}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y=>p.images[T]=y,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,bf),[[ce,p.images[T],void 0,{trim:!0}]]),i("div",Af,[i("button",{type:"button",class:"nxp-ec-btn",onClick:y=>V(T)},[h[9]||(h[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,Tf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>O(T,-1),disabled:T===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,yf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>O(T,1),disabled:T===p.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,Of),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:y=>k(T),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Rf)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:Pe},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",xf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",vf,[i("label",Nf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),te(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":h[6]||(h[6]=E=>w.value=E)},[(R(!0),v(be,null,Re(x.value,E=>(R(),v("option",{key:E.id,value:E.id},d(b(E)),9,Pf))),128))],512),[[ht,w.value]]),i("div",Mf,[(R(!0),v(be,null,Re(p.categories,(E,T)=>(R(),v("span",{key:`selected-category-${T}`,class:"nxp-ec-chip"},[Ie(d(E.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:y=>q(T),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,If)]))),128))]),i("div",kf,[te(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":h[7]||(h[7]=E=>S.value=E),onKeydown:zt(gt(H,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,wf),[[ce,S.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:H},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",$f,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",Lf,[i("header",Df,[i("h3",Uf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:B},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",Yf,[Ie(d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),a.value?(R(),v(be,{key:0},[Ie(" ("+d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[a.value]))+") ",1)],64)):Ae("",!0)]),(R(!0),v(be,null,Re(p.variants,(E,T)=>(R(),v("article",{key:Z(E,T),class:"nxp-ec-variant-card"},[i("header",Xf,[i("h4",Ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(T+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>ie(T)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Gf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:y=>se(T),disabled:p.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,Vf)]),i("div",Bf,[i("div",Hf,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${T}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Kf),te(i("input",{id:`variant-sku-${T}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y=>E.sku=y,required:""},null,8,jf),[[ce,E.sku,void 0,{trim:!0}]])]),i("div",Jf,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${T}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Wf),te(i("input",{id:`variant-price-${T}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":y=>E.price=y,onBlur:y=>ee(T),required:""},null,40,qf),[[ce,E.price,void 0,{trim:!0}]])]),i("div",zf,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${T}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Qf),te(i("input",{id:`variant-stock-${T}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":y=>E.stock=y},null,8,Zf),[[ce,E.stock,void 0,{number:!0}]])]),i("div",em,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${T}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,tm),te(i("input",{id:`variant-weight-${T}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":y=>E.weight=y},null,8,nm),[[ce,E.weight,void 0,{trim:!0}]])]),i("div",sm,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${T}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,im),te(i("input",{id:`variant-active-${T}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":y=>E.active=y},null,8,om),[[mt,E.active]])])]),i("section",am,[i("header",rm,[i("h5",lm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y=>fe(T)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,cm)]),i("p",dm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(R(!0),v(be,null,Re(E.options,(y,M)=>(R(),v("div",{key:`variant-${T}-option-${M}`,class:"nxp-ec-variant-option-row"},[te(i("input",{id:`variant-${T}-option-name-${M}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":J=>y.name=J,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,um),[[ce,y.name,void 0,{trim:!0}]]),te(i("input",{id:`variant-${T}-option-value-${M}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":J=>y.value=J,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,pm),[[ce,y.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:J=>ue(T,M),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,_m)]))),128))])]))),128))]),i("footer",fm,[i("button",{type:"button",class:"nxp-ec-btn",onClick:G,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,mm),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,hm)])],32)])])):Ae("",!0)}},[["__scopeId","data-v-ecc75f68"]]),Em={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Sm={key:1,class:"nxp-ec-skeleton__table"},Cm={key:2,class:"nxp-ec-skeleton__card"},bm={key:3,class:"nxp-ec-skeleton__circle"};function Am(e,t,s,o,n,a){return R(),v("div",{class:Me(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(R(),v("div",{key:0,class:"nxp-ec-skeleton__line",style:Ft({width:s.width})},null,4)):s.type==="table"?(R(),v("div",Sm,[(R(!0),v(be,null,Re(s.rows,l=>(R(),v("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(R(!0),v(be,null,Re(s.columns,u=>(R(),v("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(R(),v("div",Cm,[...t[0]||(t[0]=[Mu('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(R(),v("div",bm)):(R(),v("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Ft({width:s.width,height:s.height})},null,4))],2)}const Dn=xt(Em,[["render",Am],["__scopeId","data-v-c8b9a887"]]),Tm={class:"nxp-ec-admin-panel"},ym={class:"nxp-ec-admin-panel__header"},Om={class:"nxp-ec-admin-panel__title"},Rm={class:"nxp-ec-admin-panel__lead"},xm={class:"nxp-ec-admin-panel__actions"},vm=["placeholder","aria-label"],Nm=["disabled","title","aria-label"],Pm={class:"nxp-ec-sr-only"},Mm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Im={key:1,class:"nxp-ec-admin-panel__body"},km={key:2,class:"nxp-ec-admin-panel__body"},wm=["title"],Un=1,_n=-1,hs=0,$m={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=$e({mode:"create",product:null}),l=Be(!1),u=ge(()=>(s.baseCurrency||"USD").toUpperCase()),p=ge(()=>a.product),S=ge(()=>(s.mediaModalUrl||"").trim()),f=(C,j=!1)=>{const ne=Number(C);if(Number.isFinite(ne))return ne===_n?_n:ne===hs?hs:Un;if(j)return _n;if(typeof C=="string"){const de=C.trim().toLowerCase();if(de==="out_of_stock"||de==="out-of-stock"||de==="-1")return _n;if(de==="inactive"||de==="0")return hs}return Un},c=(C,j=!1)=>{const ne=f(C,j);return ne===Un?_n:ne===_n?hs:Un},b=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",status:Un,active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},x=C=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(C)),l.value=!0},$=()=>{l.value=!1,s.state.validationErrors=[]},w=async C=>{var de,Ee;const j=f((de=C.status)!=null?de:C.active,C.out_of_stock),ne={...C,status:j,active:j,featured:C.featured?1:0};a.mode==="edit"&&((Ee=a.product)!=null&&Ee.id)?o("update",{id:a.product.id,data:ne}):o("create",ne)},I=async C=>{var de;const j=(de=C==null?void 0:C.title)!=null?de:"",ne=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[j||"#"]);window.confirm(ne)&&o("delete",[C.id])},N=C=>{var q;if(!(C!=null&&C.id)||s.state.saving)return;const j=c((q=C.status)!=null?q:C.active,C.out_of_stock),ne=B=>B==null?"":String(B),de=(B,se=0)=>{const fe=Number(B);return Number.isFinite(fe)?fe:se},Ee=Array.isArray(C.variants)?C.variants.map(B=>{var ee,pe;if(!B)return null;const se=ne(B.sku).trim();if(!se)return null;let fe=de(B.price_cents,Number.NaN);if(!Number.isFinite(fe)){const U=ne(B.price),z=U?Number.parseFloat(U):NaN;fe=Number.isFinite(z)?Math.round(z*100):NaN}if(!Number.isFinite(fe))return null;const ue=ne((ee=B.currency)!=null?ee:u.value).trim().toUpperCase();if(!ue)return null;const Z=(pe=B.options)!=null?pe:null,ie=Math.max(0,Math.round(de(B.stock,0)));return{id:de(B.id,0),sku:se,price_cents:Math.round(fe),currency:ue,stock:ie,options:Z!=null?Z:null,weight:B.weight!==null&&B.weight!==void 0&&B.weight!==""?String(B.weight):null,active:B.active===void 0?!0:!!B.active}}).filter(Boolean):[];if(!Ee.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const W=Array.isArray(C.categories)?C.categories.map(B=>{if(B==null)return null;if(typeof B=="number")return B>0?{id:B,title:"",slug:""}:null;if(typeof B=="string"&&B.trim()!==""&&Number.isFinite(Number(B))){const fe=Number(B);return fe>0?{id:fe,title:"",slug:""}:null}if(typeof B=="object"){if(B.id){const ue=de(B.id,0);return ue>0?{id:ue,title:"",slug:""}:null}return de(B.id,0)<=0&&!B.title?null:{id:0,title:ne(B.title),slug:ne(B.slug)}}const se=ne(B).trim();return se?{id:0,title:se,slug:""}:null}).filter(Boolean):[],H=Array.isArray(C.images)?C.images.map(B=>ne(B).trim()).map(B=>{var Z,ie,ee;let se=B;if(!se)return"";const fe=se.indexOf("#joomlaImage://");fe!==-1&&(se=se.substring(0,fe));const ue=se.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(ue&&ue[1]&&(se=ue[1]),typeof window!="undefined")try{const pe=(ee=(ie=(Z=window.Joomla)==null?void 0:Z.getOptions)==null?void 0:ie.call(Z,"system.paths",{}))!=null?ee:{},U=pe.rootFull||window.location.origin,z=pe.root||"/";se.startsWith(U)&&(se=se.substring(U.length)),se.startsWith(z)&&(se=se.substring(z.length))}catch(pe){}return se.trim()}).filter(B=>B!==""):[];s.state.error="",o("update",{id:C.id,data:{title:ne(C.title),slug:ne(C.slug),short_desc:ne(C.short_desc),long_desc:ne(C.long_desc),status:j,active:j,featured:C.featured?1:0,images:H,variants:Ee,categories:W}})},D=()=>{o("refresh")},K=()=>{o("search")},L=C=>{if(!C)return"";try{const j=new Date(C),de=new Date-j,Ee=Math.floor(de/1e3),W=Math.floor(Ee/60),H=Math.floor(W/60);return Ee<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):W<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[W]):H<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[H]):j.toLocaleString()}catch(j){return C}};return Fe(()=>s.state.saving,(C,j)=>{j&&!C&&l.value&&!s.state.validationErrors.length&&!s.state.error&&$()}),(C,j)=>(R(),v("section",Tm,[i("header",ym,[i("div",null,[i("h2",Om,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",Rm,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",xm,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":j[0]||(j[0]=ne=>e.state.search=ne),onKeyup:zt(K,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,vm),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:D,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[j[1]||(j[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Pm,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,Nm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:b},[j[2]||(j[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(R(),v("div",Mm,d(e.state.error),1)):e.state.loading?(R(),v("div",Im,[He(Dn,{type:"table",rows:5,columns:5})])):(R(),v("div",km,[He(F_,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:x,onDelete:I,onToggleActive:N},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(L(e.state.lastUpdated)),9,wm)):Ae("",!0)])),He(gm,{open:l.value,product:p.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":S.value,onSubmit:w,onCancel:$},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Lm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Dm={class:"nxp-ec-admin-panel__header"},Um={class:"nxp-ec-admin-panel__title"},Ym={class:"nxp-ec-admin-panel__lead"},Xm={class:"nxp-ec-admin-panel__actions"},Fm=["placeholder","aria-label"],Gm=["disabled","title","aria-label"],Vm={class:"nxp-ec-sr-only"},Bm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Hm={key:1,class:"nxp-ec-admin-panel__body"},Km={key:2,class:"nxp-ec-admin-panel__body"},jm={class:"nxp-ec-admin-panel__table"},Jm={class:"nxp-ec-admin-table"},Wm={scope:"col"},qm={scope:"col"},zm={scope:"col"},Qm={scope:"col"},Zm={scope:"col"},eh={key:0},th={colspan:"6"},nh={scope:"row",class:"nxp-ec-admin-table__primary"},sh=["data-label"],ih=["data-label"],oh=["data-label"],ah=["data-label"],rh={class:"nxp-ec-admin-table__actions"},lh=["onClick","title","aria-label"],ch={class:"nxp-ec-sr-only"},dh=["disabled","onClick","title","aria-label"],uh={class:"nxp-ec-sr-only"},ph={key:0,class:"nxp-ec-admin-pagination"},_h=["disabled"],fh={class:"nxp-ec-admin-pagination__status"},mh=["disabled"],hh=["title"],gh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Eh={class:"nxp-ec-modal__dialog"},Sh={class:"nxp-ec-modal__header"},Ch={class:"nxp-ec-modal__title"},bh=["title","aria-label"],Ah={class:"nxp-ec-sr-only"},Th={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},yh={class:"nxp-ec-form-field"},Oh={class:"nxp-ec-form-label",for:"category-title"},Rh={class:"nxp-ec-form-field"},xh={class:"nxp-ec-form-label",for:"category-slug"},vh={class:"nxp-ec-form-field"},Nh={class:"nxp-ec-form-label",for:"category-parent"},Ph={value:""},Mh=["value"],Ih={class:"nxp-ec-form-field"},kh={class:"nxp-ec-form-label",for:"category-sort"},wh={class:"nxp-ec-modal__actions"},$h=["disabled"],Lh={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Be(!1),l=Be(!1),u=Be([]),p=W=>{const q=(Array.isArray(W)?W:[]).map(U=>{var z,Q,ae,me,_e;return{...U,id:Number.parseInt((z=U==null?void 0:U.id)!=null?z:0,10)||0,parent_id:(U==null?void 0:U.parent_id)!=null&&Number.parseInt(U.parent_id,10)||0,sort:Number.parseInt((Q=U==null?void 0:U.sort)!=null?Q:0,10)||0,title:String((ae=U==null?void 0:U.title)!=null?ae:"").trim(),slug:String((me=U==null?void 0:U.slug)!=null?me:"").trim(),usage:(_e=U==null?void 0:U.usage)!=null?_e:0}}).filter(U=>U.id>0||U.title!==""),B=new Set(q.map(U=>U.id));q.forEach(U=>{B.has(U.parent_id)||(U.parent_id=0)});const se=new Map,fe=new Map;q.forEach(U=>{fe.set(U.id,U);const z=U.parent_id||0;se.has(z)||se.set(z,[]),se.get(z).push(U)});const ue=U=>U.sort((z,Q)=>{var ae,me;return((ae=z.sort)!=null?ae:0)-((me=Q.sort)!=null?me:0)||z.title.localeCompare(Q.title,void 0,{sensitivity:"base"})});se.forEach(ue);const Z=new Set,ie=[],ee=(U,z,Q)=>{if(!U||Z.has(U.id)||Q.includes(U.id))return;const ae=[...Q],me=ae.map(Pe=>{var k;return(k=fe.get(Pe))==null?void 0:k.title}).filter(Boolean),_e={...U,depth:z,path:me.join(" / "),ancestors:ae,indentedTitle:z>0?`${" ".repeat(z)}${U.title}`:U.title};ie.push(_e),Z.add(U.id),(se.get(U.id)||[]).forEach(Pe=>ee(Pe,z+1,[...Q,U.id]))},pe=q.filter(U=>U.parent_id===0||!B.has(U.parent_id));return ue(pe),pe.forEach(U=>ee(U,0,[])),q.forEach(U=>{Z.has(U.id)||ee(U,0,[])}),ie},S=ge(()=>{var W,H;return p((H=(W=s.state)==null?void 0:W.items)!=null?H:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),c=$e(f()),b=ge(()=>{var H,q;const W=(q=Array.isArray(u.value)&&u.value.length?u.value:(H=s.state)==null?void 0:H.items)!=null?q:[];return p(W).filter(B=>B.id>0&&B.id!==c.id&&!(Array.isArray(B.ancestors)&&B.ancestors.includes(c.id))).map(B=>({id:B.id,title:B.title,label:B.depth>0?`${" ".repeat(B.depth)}${B.title}`:B.title}))}),x=()=>{Object.assign(c,f()),l.value=!1},$=W=>W?W.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",w=()=>{l.value=!0,c.slug=$(c.slug)};Fe(()=>c.title,W=>{l.value||(c.slug=$(W))});const I=async(W=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const H=await s.loadOptions();u.value=Array.isArray(H)?[...H]:[]}catch(H){u.value=[]}u.value=u.value.filter(H=>{var B,se;return(Number.parseInt((se=(B=H==null?void 0:H.id)!=null?B:H==null?void 0:H.value)!=null?se:0,10)||0)!==W})},N=async()=>{x(),await I(),a.value=!0},D=async W=>{var H,q,B,se;W&&(c.id=Number.parseInt((H=W.id)!=null?H:0,10)||0,c.title=String((q=W.title)!=null?q:"").trim(),c.slug=String((B=W.slug)!=null?B:"").trim(),c.parent_id=W.parent_id!=null&&Number.parseInt(W.parent_id,10)||null,c.sort=Number.parseInt((se=W.sort)!=null?se:0,10)||0,l.value=!!c.slug,await I(c.id),a.value=!0)},K=()=>{a.value=!1,x()},L=()=>{o("refresh")},C=()=>{o("search")},j=W=>{o("page",W)},ne=()=>{const W={id:c.id||void 0,title:c.title.trim(),slug:c.slug.trim(),parent_id:c.parent_id||null,sort:Number.isFinite(c.sort)?c.sort:0};o("save",W)},de=W=>{if(!W||!W.id)return;const H=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(H)||o("delete",[W.id])},Ee=W=>{if(!W)return"";try{const H=new Date(W),B=new Date-H,se=Math.floor(B/1e3),fe=Math.floor(se/60),ue=Math.floor(fe/60);return se<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):fe<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[fe]):ue<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ue]):H.toLocaleString()}catch(H){return W}};return Fe(()=>{var W;return(W=s.state)==null?void 0:W.saving},(W,H)=>{var q,B,se;H&&!W&&(((B=(q=s.state)==null?void 0:q.validationErrors)!=null?B:[]).length>0||(se=s.state)!=null&&se.error||(a.value=!1,x()))}),(W,H)=>(R(),v("section",Lm,[i("header",Dm,[i("div",null,[i("h2",Um,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",Ym,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",Xm,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":H[0]||(H[0]=q=>e.state.search=q),onKeyup:zt(C,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Fm),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:L,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[H[7]||(H[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Vm,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Gm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:N},[H[8]||(H[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(R(),v("div",Bm,d(e.state.error),1)):e.state.loading?(R(),v("div",Hm,[He(Dn,{type:"table",rows:5,columns:5})])):(R(),v("div",Km,[i("div",jm,[i("table",Jm,[i("thead",null,[i("tr",null,[i("th",Wm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",qm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Qm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),H[9]||(H[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Ae("",!0):(R(),v("tr",eh,[i("td",th,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(R(!0),v(be,null,Re(S.value,q=>{var B;return R(),v("tr",{key:q.id,class:Me({"is-active":c.id===q.id})},[i("th",nh,[i("span",{style:Ft({paddingLeft:`${q.depth*1.5}rem`})},d(q.indentedTitle),5)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},d(q.slug||""),9,sh),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},d(q.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,ih),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},d(q.sort),9,oh),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},d((B=q.usage)!=null?B:0),9,ah),i("td",rh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:se=>D(q),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[H[10]||(H[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",ch,d(r(n)("JEDIT","Edit")),1)],8,lh),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:se=>de(q),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[H[11]||(H[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",uh,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,dh)])],2)}),128))])]),e.state.pagination.pages>1?(R(),v("div",ph,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:H[1]||(H[1]=q=>j(e.state.pagination.current-1))},"  ",8,_h),i("span",fh,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:H[2]||(H[2]=q=>j(e.state.pagination.current+1))},"  ",8,mh)])):Ae("",!0)]),e.state.lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(Ee(e.state.lastUpdated)),9,hh)):Ae("",!0),a.value?(R(),v("div",gh,[i("div",{class:"nxp-ec-modal__backdrop",onClick:K}),i("div",Eh,[i("header",Sh,[i("h3",Ch,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:K,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[H[12]||(H[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Ah,d(r(n)("JCLOSE","Close")),1)],8,bh)]),i("form",{class:"nxp-ec-form",onSubmit:gt(ne,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(R(),v("div",Th,[i("ul",null,[(R(!0),v(be,null,Re(e.state.validationErrors,(q,B)=>(R(),v("li",{key:B},d(q),1))),128))])])):Ae("",!0),i("div",yh,[i("label",Oh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),te(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H[3]||(H[3]=q=>c.title=q),required:"",maxlength:"255"},null,512),[[ce,c.title,void 0,{trim:!0}]])]),i("div",Rh,[i("label",xh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),te(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H[4]||(H[4]=q=>c.slug=q),maxlength:"190",onInput:w},null,544),[[ce,c.slug,void 0,{trim:!0}]])]),i("div",vh,[i("label",Nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),te(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":H[5]||(H[5]=q=>c.parent_id=q)},[i("option",Ph,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(R(!0),v(be,null,Re(b.value,q=>(R(),v("option",{key:q.id,value:q.id},d(q.label),9,Mh))),128))],512),[[ht,c.parent_id,void 0,{number:!0}]])]),i("div",Ih,[i("label",kh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),te(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":H[6]||(H[6]=q=>c.sort=q),min:"0",step:"1"},null,512),[[ce,c.sort,void 0,{number:!0}]])]),i("footer",wh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[H[13]||(H[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,$h),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:K},[H[14]||(H[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):Ae("",!0)]))]))}},Dh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Uh={class:"nxp-ec-admin-panel__header"},Yh={class:"nxp-ec-admin-panel__title"},Xh={class:"nxp-ec-admin-panel__lead"},Fh={class:"nxp-ec-admin-panel__actions"},Gh=["placeholder","aria-label"],Vh=["aria-label"],Bh={value:""},Hh=["value"],Kh=["disabled","title","aria-label"],jh={class:"nxp-ec-sr-only"},Jh=["disabled","title","aria-label"],Wh={class:"nxp-ec-sr-only"},qh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},zh={key:1,class:"nxp-ec-admin-panel__body"},Qh={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},Zh={class:"nxp-ec-admin-panel__table"},eg={key:0,class:"nxp-ec-admin-panel__selection"},tg=["aria-label"],ng={value:""},sg=["value"],ig=["disabled"],og=["title","aria-label"],ag={class:"nxp-ec-sr-only"},rg={class:"nxp-ec-admin-table"},lg={scope:"col",class:"nxp-ec-admin-table__select"},cg={scope:"col"},dg={scope:"col"},ug={scope:"col"},pg={scope:"col"},_g={scope:"col"},fg={scope:"col",class:"nxp-ec-admin-table__actions"},mg={key:0},hg={colspan:"7"},gg={class:"nxp-ec-admin-table__select"},Eg=["checked","onChange","aria-label"],Sg={scope:"row",class:"nxp-ec-admin-table__primary"},Cg=["onClick"],bg=["data-label"],Ag={class:"nxp-ec-admin-table__meta"},Tg=["data-label"],yg=["data-label"],Og={class:"nxp-ec-badge"},Rg=["data-label"],xg={class:"nxp-ec-admin-table__actions"},vg=["onUpdate:modelValue","aria-label"],Ng=["value"],Pg=["value"],Mg=["disabled","onClick"],Ig={key:1,class:"nxp-ec-admin-pagination"},kg=["disabled"],wg={class:"nxp-ec-admin-pagination__status"},$g=["disabled"],Lg=["title"],Dg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Ug={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Yg={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Xg={class:"nxp-ec-admin-panel__sidebar-header"},Fg=["title","aria-label"],Gg={class:"nxp-ec-sr-only"},Vg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Bg={key:1,class:"nxp-ec-admin-panel__section"},Hg={class:"nxp-ec-admin-copy"},Kg=["value"],jg=["disabled"],Jg={key:0,class:"nxp-ec-admin-panel__muted"},Wg={class:"nxp-ec-admin-copy"},qg=["disabled"],zg={key:0,class:"nxp-ec-admin-panel__muted"},Qg={class:"nxp-ec-admin-panel__section"},Zg={class:"nxp-ec-admin-list"},eE={class:"nxp-ec-admin-list__title"},tE={class:"nxp-ec-admin-list__meta"},nE={class:"nxp-ec-admin-panel__section"},sE={class:"nxp-ec-admin-panel__total"},iE={class:"nxp-ec-admin-panel__section"},oE={class:"nxp-ec-admin-address"},aE={class:"nxp-ec-admin-panel__section"},rE={key:0,class:"nxp-ec-admin-address"},lE={key:1,class:"nxp-ec-admin-panel__muted"},cE={class:"nxp-ec-admin-panel__section"},dE={class:"nxp-ec-form-field"},uE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},pE={class:"nxp-ec-form-field"},_E={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},fE={class:"nxp-ec-form-field"},mE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},hE={key:0,class:"nxp-ec-form-checkbox"},gE={class:"nxp-ec-admin-form__actions"},EE=["disabled"],SE={key:2,class:"nxp-ec-admin-panel__section"},CE={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},bE=["disabled"],AE=["disabled"],TE={key:3,class:"nxp-ec-admin-panel__section"},yE={class:"nxp-ec-admin-list"},OE={class:"nxp-ec-admin-list__title"},RE={class:"nxp-ec-admin-list__meta"},xE={class:"nxp-ec-admin-panel__section"},vE=["placeholder"],NE={class:"nxp-ec-admin-form__actions"},PE=["disabled"],ME={class:"nxp-ec-admin-panel__section"},IE={key:0,class:"nxp-ec-admin-list"},kE={class:"nxp-ec-admin-list__title"},wE={class:"nxp-ec-admin-list__meta"},$E={key:1,class:"nxp-ec-admin-panel__muted"},LE=xt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=$e({}),l=Be(""),u=Be(""),p=ge(()=>u.value.trim().length>0),S=Be(""),f=$e({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),c=ge(()=>{var _;const g=(_=s.state)==null?void 0:_.selection;return!g||typeof g.values!="function"?[]:Array.from(g.values())}),b=ge(()=>c.value.length>0);Fe(c,g=>{g.length||(l.value="")}),Fe(()=>s.state.activeOrder,g=>{var _,m,P;u.value="",S.value="",f.carrier=(_=g==null?void 0:g.carrier)!=null?_:"",f.tracking_number=(m=g==null?void 0:g.tracking_number)!=null?m:"",f.tracking_url=(P=g==null?void 0:g.tracking_url)!=null?P:"",f.markFulfilled=!1},{immediate:!0}),Fe(()=>s.state.items,g=>{Array.isArray(g)&&g.forEach(_=>{!_||typeof _.id=="undefined"||a[_.id]||(a[_.id]=_.state)})},{immediate:!0});const x=(g,_)=>{const m=(Number(g)||0)/100,P=(_||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:P}).format(m)}catch(V){return`${P} ${m.toFixed(2)}`}},$=g=>{if(!g)return"";const _=new Date(g);return Number.isNaN(_.getTime())?g:_.toLocaleString()},w=g=>g===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(g)]),I=g=>{if(!g)return"";const _=`COM_NXPEASYCART_ORDERS_STATE_${String(g).toUpperCase()}`;return n(_,g)},N=g=>s.state.orderStates.filter(_=>_!==g.state),D=g=>(a[g.id]||g.state)!==g.state,K=()=>{var g;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((g=window.location)!=null&&g.origin)?window.location.origin:""},L=ge(()=>{var G,A;const g=(A=(G=s.state)==null?void 0:G.activeOrder)!=null?A:{},_=String(g.public_token||"").trim(),m=String(g.order_no||"").trim();if(!_)return"";const P=K();if(!P)return"";const V=P.endsWith("/")?"":"/",X=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:_});return m&&X.set("no",m),`${P}${V}index.php?${X.toString()}`}),C=async()=>{var g;if(L.value){try{if(!((g=navigator==null?void 0:navigator.clipboard)!=null&&g.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(L.value),S.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(_){try{const m=document.createElement("textarea");m.value=L.value,m.setAttribute("readonly",""),m.style.position="absolute",m.style.left="-9999px",document.body.appendChild(m),m.select(),document.execCommand("copy"),document.body.removeChild(m),S.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(m){S.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}S.value&&setTimeout(()=>{S.value=""},2e3)}},j=ge(()=>{var _,m,P,V,X;const g=(m=(_=s.state)==null?void 0:_.activeOrder)!=null?m:{};return f.carrier!==((P=g.carrier)!=null?P:"")||f.tracking_number!==((V=g.tracking_number)!=null?V:"")||f.tracking_url!==((X=g.tracking_url)!=null?X:"")||f.markFulfilled}),ne=g=>!g||typeof g!="object"?[]:Object.entries(g).filter(([,_])=>_!=null&&`${_}`.trim()!=="").map(([_,m])=>({key:_,value:`${m}`.trim()})),de=()=>{o("refresh")},Ee=()=>{o("export")},W=()=>{o("search")},H=()=>{o("filter",s.state.filterState)},q=g=>{o("view",g)},B=()=>{o("close")},se=g=>{const _=a[g.id]||g.state;_!==g.state&&o("transition",{id:g.id,state:_})},fe=g=>{o("page",g)},ue=g=>{var _,m,P,V;return(V=(P=(m=(_=s.state)==null?void 0:_.selection)==null?void 0:m.has)==null?void 0:P.call(m,g))!=null?V:!1},Z=g=>{o("toggle-selection",g)},ie=()=>{l.value="",o("clear-selection")},ee=()=>{!b.value||!l.value||o("bulk-transition",{ids:[...c.value],state:l.value})},pe=()=>{if(!s.state.activeOrder)return;const g=u.value.trim();g&&(o("add-note",{id:s.state.activeOrder.id,message:g}),u.value="")},U=()=>{s.state.activeOrder&&o("invoice",s.state.activeOrder.id)},z=()=>{!s.state.activeOrder||!j.value||(o("save-tracking",{id:s.state.activeOrder.id,carrier:f.carrier,tracking_number:f.tracking_number,tracking_url:f.tracking_url,mark_fulfilled:f.markFulfilled}),f.markFulfilled=!1)},Q=g=>{s.state.activeOrder&&o("send-email",{id:s.state.activeOrder.id,type:g})},ae=g=>{var P;const _=(P=s.state)==null?void 0:P.activeOrder;return _?(_.timeline||_.audit||[]).some(V=>{var X;return V.action==="order.email.sent"?((X=V.context)==null?void 0:X.type)===g:!1}):!1},me=ge(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(c.value.length)],"ordersSelectedCount")),_e=g=>{var _,m,P,V,X,G,A,h,E,T,y,M;if(!g||!g.action)return"";switch(g.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const J=I((m=(_=g.context)==null?void 0:_.from)!=null?m:""),F=I((V=(P=g.context)==null?void 0:P.to)!=null?V:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[J||((X=g.context)==null?void 0:X.from)||"",F||((G=g.context)==null?void 0:G.to)||""],"ordersTimelineState")}case"order.note":return((A=g.context)==null?void 0:A.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const J=((h=g.context)==null?void 0:h.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),F=x((T=(E=g.context)==null?void 0:E.amount_cents)!=null?T:0,(M=(y=s.state)==null?void 0:y.activeOrder)==null?void 0:M.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[J,F],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return g.action}},Se=g=>{if(!g)return"";const _=String(g.type||"").toLowerCase(),m=String(g.message||"").trim(),P=String(g.state||"").toLowerCase();return _==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):P?I(P):m||_||""},Pe=ge(()=>{var P,V,X,G;const g=[];return(Array.isArray((V=(P=s.state)==null?void 0:P.activeOrder)==null?void 0:V.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((A,h)=>{var E,T;g.push({label:Se(A),created:(E=A==null?void 0:A.at)!=null?E:"",key:`f-${h}-${(T=A==null?void 0:A.at)!=null?T:""}`})}),(Array.isArray((G=(X=s.state)==null?void 0:X.activeOrder)==null?void 0:G.timeline)?s.state.activeOrder.timeline:[]).forEach((A,h)=>{var E,T,y;g.push({label:_e(A),created:(E=A==null?void 0:A.created)!=null?E:"",key:`a-${(T=A==null?void 0:A.id)!=null?T:h}-${(y=A==null?void 0:A.created)!=null?y:""}`})}),g.filter(A=>A.label).sort((A,h)=>{const E=new Date(A.created||0).getTime();return new Date(h.created||0).getTime()-E})}),k=g=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(g.status||"").toUpperCase()}`,g.status||""),O=g=>{if(!g)return"";try{const _=new Date(g),P=new Date-_,V=Math.floor(P/1e3),X=Math.floor(V/60),G=Math.floor(X/60);return V<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):X<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[X]):G<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[G]):_.toLocaleString()}catch(_){return g}};return(g,_)=>(R(),v("section",Dh,[i("header",Uh,[i("div",null,[i("h2",Yh,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",Xh,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",Fh,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":_[0]||(_[0]=m=>e.state.search=m),onKeyup:zt(W,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Gh),[[ce,e.state.search]]),te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":_[1]||(_[1]=m=>e.state.filterState=m),onChange:H,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",Bh,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(R(!0),v(be,null,Re(e.state.orderStates,m=>(R(),v("option",{key:m,value:m},d(I(m)),9,Hh))),128))],40,Vh),[[ht,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:Ee,disabled:e.state.loading||e.state.exporting,title:r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[_[12]||(_[12]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",jh,d(r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,Kh),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:de,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[_[13]||(_[13]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Wh,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Jh)])]),e.state.error?(R(),v("div",qh,d(e.state.error),1)):e.state.loading?(R(),v("div",zh,[He(Dn,{type:"table",rows:5,columns:7})])):(R(),v("div",Qh,[i("div",Zh,[b.value?(R(),v("div",eg,[i("span",null,d(me.value),1),te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":_[2]||(_[2]=m=>l.value=m),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",ng,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(R(!0),v(be,null,Re(e.state.orderStates,m=>(R(),v("option",{key:`bulk-${m}`,value:m},d(I(m)),9,sg))),128))],8,tg),[[ht,l.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!l.value||e.state.saving,onClick:ee},[_[14]||(_[14]=i("i",{class:"fa-solid fa-check"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,ig),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:ie,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[_[15]||(_[15]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",ag,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,og)])):Ae("",!0),i("table",rg,[i("thead",null,[i("tr",null,[i("th",lg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",cg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",dg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",ug,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",pg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",_g,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",fg,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?Ae("",!0):(R(),v("tr",mg,[i("td",hg,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(R(!0),v(be,null,Re(e.state.items,m=>{var P,V,X;return R(),v("tr",{key:m.id,class:Me({"is-active":e.state.activeOrder&&e.state.activeOrder.id===m.id})},[i("td",gg,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:ue(m.id),onChange:G=>Z(m.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Eg)]),i("th",Sg,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:G=>q(m)},d(m.order_no),9,Cg)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[i("div",null,d(m.email),1),i("div",Ag,d(w((X=m.items_count)!=null?X:(V=(P=m.items)==null?void 0:P.length)!=null?V:0)),1)],8,bg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},d(x(m.total_cents,m.currency)),9,Tg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[i("span",Og,d(I(m.state)),1)],8,yg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},d($(m.modified||m.created)),9,Rg),i("td",xg,[te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":G=>a[m.id]=G,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:m.state},d(I(m.state)),9,Ng),(R(!0),v(be,null,Re(N(m),G=>(R(),v("option",{key:G,value:G},d(I(G)),9,Pg))),128))],8,vg),[[ht,a[m.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!D(m),onClick:G=>se(m)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,Mg)])],2)}),128))])]),e.state.pagination.pages>1?(R(),v("div",Ig,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:_[3]||(_[3]=m=>fe(e.state.pagination.current-1))},"  ",8,kg),i("span",wg,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:_[4]||(_[4]=m=>fe(e.state.pagination.current+1))},"  ",8,$g)])):Ae("",!0)]),e.state.lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(O(e.state.lastUpdated)),9,Lg)):Ae("",!0),e.state.activeOrder?(R(),v("div",Dg,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:B}),i("div",Ug,[i("aside",Yg,[i("header",Xg,[i("h3",null,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:B,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[_[16]||(_[16]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Gg,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,Fg)]),e.state.transitionError?(R(),v("div",Vg,d(e.state.transitionError),1)):Ae("",!0),L.value?(R(),v("section",Bg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",Hg,[i("input",{type:"text",class:"nxp-ec-form-input",value:L.value,readonly:""},null,8,Kg),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!L.value,onClick:C},[_[17]||(_[17]=i("i",{class:"fa-solid fa-link"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,jg)]),S.value?(R(),v("p",Jg,d(S.value),1)):Ae("",!0),i("div",Wg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:U},[_[18]||(_[18]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,qg),s.state.invoiceLoading?(R(),v("span",zg,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):Ae("",!0)])])):Ae("",!0),i("section",Qg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",Zg,[(R(!0),v(be,null,Re(e.state.activeOrder.items,m=>(R(),v("li",{key:m.id},[i("div",eE,[Ie(d(m.title)+" ",1),i("small",null,"("+d(m.sku)+")",1)]),i("div",tE,"  "+d(m.qty)+"  "+d(x(m.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",nE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",sE,d(x(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",iE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",oE,[(R(!0),v(be,null,Re(ne(e.state.activeOrder.billing),m=>(R(),v("span",{key:m.key},d(m.value),1))),128))])]),i("section",aE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(R(),v("address",rE,[(R(!0),v(be,null,Re(ne(e.state.activeOrder.shipping),m=>(R(),v("span",{key:m.key},d(m.value),1))),128))])):(R(),v("p",lE,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),i("section",cE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",dE,[i("label",uE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),te(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[5]||(_[5]=m=>f.carrier=m)},null,512),[[ce,f.carrier]])]),i("div",pE,[i("label",_E,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),te(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[6]||(_[6]=m=>f.tracking_number=m)},null,512),[[ce,f.tracking_number]])]),i("div",fE,[i("label",mE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),te(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":_[7]||(_[7]=m=>f.tracking_url=m)},null,512),[[ce,f.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(R(),v("label",hE,[te(i("input",{type:"checkbox","onUpdate:modelValue":_[8]||(_[8]=m=>f.markFulfilled=m)},null,512),[[mt,f.markFulfilled]]),Ie(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):Ae("",!0),i("div",gE,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!j.value||e.state.saving,onClick:z},[_[19]||(_[19]=i("i",{class:"fa-solid fa-truck"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,EE)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(R(),v("section",SE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),i("div",CE,[e.state.activeOrder.state==="fulfilled"?(R(),v("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:_[9]||(_[9]=m=>Q("shipped"))},[_[20]||(_[20]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Ie(" "+d(ae("shipped")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,bE)):Ae("",!0),e.state.activeOrder.state==="refunded"?(R(),v("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:_[10]||(_[10]=m=>Q("refunded"))},[_[21]||(_[21]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Ie(" "+d(ae("refunded")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,AE)):Ae("",!0)])])):Ae("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(R(),v("section",TE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",yE,[(R(!0),v(be,null,Re(e.state.activeOrder.transactions,m=>(R(),v("li",{key:m.id},[i("div",OE,d(m.gateway)+"  "+d(x(m.amount_cents,e.state.activeOrder.currency)),1),i("div",RE,d(k(m))+"  "+d($(m.created)),1)]))),128))])])):Ae("",!0),i("section",xE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:gt(pe,["prevent"])},[te(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":_[11]||(_[11]=m=>u.value=m),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,vE),[[ce,u.value]]),i("div",NE,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[_[22]||(_[22]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,PE)])],32)]),i("section",ME,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),Pe.value.length?(R(),v("ul",IE,[(R(!0),v(be,null,Re(Pe.value,m=>(R(),v("li",{key:m.key},[i("div",kE,d(m.label),1),i("div",wE,d($(m.created)),1)]))),128))])):(R(),v("p",$E,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):Ae("",!0)]))]))}},[["__scopeId","data-v-e0d7976b"]]),DE={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},UE={class:"nxp-ec-admin-panel__header"},YE={class:"nxp-ec-admin-panel__title"},XE={class:"nxp-ec-admin-panel__lead"},FE={class:"nxp-ec-admin-panel__actions"},GE=["placeholder","aria-label"],VE=["disabled","title","aria-label"],BE={class:"nxp-ec-sr-only"},HE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},KE={key:1,class:"nxp-ec-admin-panel__body"},jE={key:2,class:"nxp-ec-admin-panel__body"},JE={class:"nxp-ec-admin-panel__table"},WE={class:"nxp-ec-admin-table"},qE={scope:"col"},zE={scope:"col"},QE={scope:"col"},ZE={scope:"col"},eS={scope:"col"},tS={key:0},nS={colspan:"5"},sS={scope:"row",class:"nxp-ec-admin-table__primary"},iS=["onClick"],oS=["data-label"],aS=["data-label"],rS=["data-label"],lS=["data-label"],cS={key:0,class:"nxp-ec-admin-pagination"},dS=["disabled"],uS={class:"nxp-ec-admin-pagination__status"},pS=["disabled"],_S=["title"],fS={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},mS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},hS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},gS={class:"nxp-ec-admin-panel__sidebar-header"},ES=["title","aria-label"],SS={class:"nxp-ec-sr-only"},CS={class:"nxp-ec-admin-panel__section"},bS={class:"nxp-ec-admin-summary"},AS={class:"nxp-ec-admin-panel__section"},TS={class:"nxp-ec-admin-address"},yS={class:"nxp-ec-admin-panel__section"},OS={key:0,class:"nxp-ec-admin-address"},RS={key:1,class:"nxp-ec-admin-panel__muted"},xS={class:"nxp-ec-admin-panel__section"},vS={key:0,class:"nxp-ec-admin-list"},NS={class:"nxp-ec-admin-list__title"},PS={class:"nxp-ec-admin-list__meta"},MS={key:1,class:"nxp-ec-admin-panel__muted"},IS={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},kS={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},wS={class:"nxp-ec-gdpr-actions"},$S=["disabled","title"],LS=["disabled","title"],DS=xt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=(N,D)=>{const K=(Number(N)||0)/100,L=(D||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:L}).format(K)}catch(C){return`${L} ${K.toFixed(2)}`}},l=N=>{if(!N)return"";const D=new Date(N);return Number.isNaN(D.getTime())?N:D.toLocaleString()},u=N=>!N||typeof N!="object"?[]:Object.entries(N).filter(([,D])=>D!=null&&`${D}`.trim()!=="").map(([D,K])=>({key:D,value:`${K}`.trim()})),p=N=>{if(!N)return"";const D=`COM_NXPEASYCART_ORDERS_STATE_${String(N).toUpperCase()}`;return n(D,N)},S=()=>o("refresh"),f=()=>o("search"),c=N=>o("page",N),b=N=>o("view",N),x=()=>o("close"),$=N=>o("gdprExport",N),w=N=>o("gdprAnonymise",N),I=N=>{if(!N)return"";try{const D=new Date(N),L=new Date-D,C=Math.floor(L/1e3),j=Math.floor(C/60),ne=Math.floor(j/60);return C<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):j<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[j]):ne<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ne]):D.toLocaleString()}catch(D){return N}};return(N,D)=>{var K,L,C;return R(),v("section",DE,[i("header",UE,[i("div",null,[i("h2",YE,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",XE,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",FE,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=j=>e.state.search=j),onKeyup:zt(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,GE),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:S,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[D[5]||(D[5]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",BE,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,VE)])]),e.state.error?(R(),v("div",HE,d(e.state.error),1)):e.state.loading?(R(),v("div",KE,[He(Dn,{type:"table",rows:5,columns:5})])):(R(),v("div",jE,[i("div",JE,[i("table",WE,[i("thead",null,[i("tr",null,[i("th",qE,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",zE,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",QE,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",ZE,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",eS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?Ae("",!0):(R(),v("tr",tS,[i("td",nS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(R(!0),v(be,null,Re(e.state.items,j=>{var ne;return R(),v("tr",{key:j.email,class:Me({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===j.email})},[i("th",sS,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:de=>b(j)},d(j.email),9,iS)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},d(((ne=j.meta)==null?void 0:ne.name)||""),9,oS),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},d(j.orders_count),9,aS),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},d(a(j.total_spent_cents,j.currency||e.baseCurrency)),9,rS),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},d(l(j.last_order)),9,lS)],2)}),128))])]),e.state.pagination.pages>1?(R(),v("div",cS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[1]||(D[1]=j=>c(e.state.pagination.current-1))},"  ",8,dS),i("span",uS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[2]||(D[2]=j=>c(e.state.pagination.current+1))},"  ",8,pS)])):Ae("",!0)]),e.state.lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(I(e.state.lastUpdated)),9,_S)):Ae("",!0),e.state.activeCustomer?(R(),v("div",fS,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:x}),i("div",mS,[i("aside",hS,[i("header",gS,[i("h3",null,d(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:x,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[D[6]||(D[6]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",SS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,ES)]),i("section",CS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",bS,[i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,d(((K=e.state.activeCustomer.meta)==null?void 0:K.name)||""),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,d(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,d(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,d(l(e.state.activeCustomer.last_order)),1)])])]),i("section",AS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",TS,[(R(!0),v(be,null,Re(u((L=e.state.activeCustomer.meta)==null?void 0:L.billing),j=>(R(),v("span",{key:j.key},d(j.value),1))),128))])]),i("section",yS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(C=e.state.activeCustomer.meta)!=null&&C.shipping?(R(),v("address",OS,[(R(!0),v(be,null,Re(u(e.state.activeCustomer.meta.shipping),j=>(R(),v("span",{key:j.key},d(j.value),1))),128))])):(R(),v("p",RS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",xS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(R(),v("ul",vS,[(R(!0),v(be,null,Re(e.state.activeCustomer.orders,j=>(R(),v("li",{key:j.id},[i("div",NS,d(j.order_no)+"  "+d(a(j.total_cents,j.currency||e.baseCurrency)),1),i("div",PS,d(p(j.state))+"  "+d(l(j.created)),1)]))),128))])):(R(),v("p",MS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),i("section",IS,[i("h4",null,d(r(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),i("p",kS,d(r(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),i("div",wS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:D[3]||(D[3]=j=>$(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[D[7]||(D[7]=i("i",{class:"fa-solid fa-download"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,$S),i("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:D[4]||(D[4]=j=>w(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[D[8]||(D[8]=i("i",{class:"fa-solid fa-user-slash"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,LS)]),e.state.gdprMessage?(R(),v("p",{key:0,class:Me(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},d(e.state.gdprMessage),3)):Ae("",!0)])])])])):Ae("",!0)]))])}}},[["__scopeId","data-v-be2faedd"]]),US={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},YS={class:"nxp-ec-admin-panel__header"},XS={class:"nxp-ec-admin-panel__title"},FS={class:"nxp-ec-admin-panel__lead"},GS={class:"nxp-ec-admin-panel__actions"},VS=["placeholder","aria-label"],BS=["disabled","title","aria-label"],HS={class:"nxp-ec-sr-only"},KS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},jS={key:1,class:"nxp-ec-admin-panel__loading"},JS={key:2,class:"nxp-ec-admin-panel__body"},WS={class:"nxp-ec-admin-panel__table"},qS={class:"nxp-ec-admin-table"},zS={scope:"col"},QS={scope:"col"},ZS={scope:"col"},eC={scope:"col"},tC={scope:"col"},nC={scope:"col"},sC={key:0},iC={colspan:"7"},oC={scope:"row",class:"nxp-ec-admin-table__primary"},aC=["data-label"],rC=["data-label"],lC=["data-label"],cC=["data-label"],dC=["data-label"],uC={class:"nxp-ec-admin-table__actions"},pC=["onClick","title","aria-label"],_C={class:"nxp-ec-sr-only"},fC=["onClick","title","aria-label"],mC={class:"nxp-ec-sr-only"},hC={key:0,class:"nxp-ec-admin-pagination"},gC=["disabled"],EC={class:"nxp-ec-admin-pagination__status"},SC=["disabled"],CC={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},bC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},AC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},TC={class:"nxp-ec-admin-panel__sidebar-header"},yC=["title","aria-label"],OC={class:"nxp-ec-sr-only"},RC={class:"nxp-ec-form-field"},xC={class:"nxp-ec-form-label",for:"coupon-code"},vC={class:"nxp-ec-form-field"},NC={class:"nxp-ec-form-label",for:"coupon-type"},PC={value:"percent"},MC={value:"fixed"},IC={class:"nxp-ec-form-field"},kC={class:"nxp-ec-form-label",for:"coupon-value"},wC={class:"nxp-ec-form-field"},$C={class:"nxp-ec-form-label",for:"coupon-min-total"},LC={class:"nxp-ec-form-field"},DC={class:"nxp-ec-form-label",for:"coupon-start"},UC={class:"nxp-ec-form-field"},YC={class:"nxp-ec-form-label",for:"coupon-end"},XC={class:"nxp-ec-form-field"},FC={class:"nxp-ec-form-label",for:"coupon-max-uses"},GC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},VC={class:"nxp-ec-form-label",for:"coupon-active"},BC={class:"nxp-ec-modal__actions"},HC=["disabled"],KC=["disabled"],jC=["disabled"],JC=xt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=ge(()=>(s.baseCurrency||"USD").toUpperCase()),l=$e({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=ge(()=>l.open),p=()=>o("refresh"),S=()=>o("search"),f=K=>o("page",K),c=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},b=K=>{var L,C;Object.assign(l,{open:!0,id:K.id,code:K.code,type:K.type,value:K.value,min_total:(C=K.min_total)!=null?C:((L=K.min_total_cents)!=null?L:0)/100,start:K.start?K.start.substring(0,10):"",end:K.end?K.end.substring(0,10):"",max_uses:K.max_uses,active:K.active})},x=()=>{l.open=!1},$=()=>{const K={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",K)},w=K=>{const L=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(L)&&(o("delete",[K.id]),l.id===K.id&&x())},I=(K,L)=>{const C=(Number(K)||0)/100,j=(L||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:j}).format(C)}catch(ne){return`${j} ${C.toFixed(2)}`}},N=K=>K.type==="percent"?`${K.value}%`:I(K.value*100,a.value),D=K=>K==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Fe(()=>s.state.saving,(K,L)=>{L&&!K&&!s.state.error&&l.open&&x()}),(K,L)=>(R(),v("section",US,[i("header",YS,[i("div",null,[i("h2",XS,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",FS,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",GS,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":L[0]||(L[0]=C=>e.state.search=C),onKeyup:zt(S,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,VS),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[L[12]||(L[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",HS,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,BS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:c},[L[13]||(L[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(R(),v("div",KS,d(e.state.error),1)):e.state.loading?(R(),v("div",jS,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(R(),v("div",JS,[i("div",WS,[i("table",qS,[i("thead",null,[i("tr",null,[i("th",zS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",QS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",ZS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",eC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",tC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",nC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),L[14]||(L[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Ae("",!0):(R(),v("tr",sC,[i("td",iC,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(R(!0),v(be,null,Re(e.state.items,C=>(R(),v("tr",{key:C.id,class:Me({"is-active":l.id===C.id})},[i("th",oC,d(C.code),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},d(D(C.type)),9,aC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},d(N(C)),9,rC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},d(I(C.min_total_cents,a.value)),9,lC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[i("span",{class:Me(["nxp-ec-badge",{"is-active":C.active}])},[i("i",{class:Me(C.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ie(" "+d(C.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,cC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},d(C.times_used)+d(C.max_uses?` / ${C.max_uses}`:""),9,dC),i("td",uC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:j=>b(C),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[L[15]||(L[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",_C,d(r(n)("JEDIT","Edit")),1)],8,pC),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:j=>w(C),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[L[16]||(L[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",mC,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,fC)])],2))),128))])]),e.state.pagination.pages>1?(R(),v("div",hC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:L[1]||(L[1]=C=>f(e.state.pagination.current-1))},"  ",8,gC),i("span",EC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:L[2]||(L[2]=C=>f(e.state.pagination.current+1))},"  ",8,SC)])):Ae("",!0)]),u.value?(R(),v("div",CC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:x}),i("div",bC,[i("aside",AC,[i("header",TC,[i("h3",null,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:x,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[L[17]||(L[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",OC,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,yC)]),i("form",{class:"nxp-ec-form",onSubmit:gt($,["prevent"]),autocomplete:"off"},[i("div",RC,[i("label",xC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),te(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":L[3]||(L[3]=C=>l.code=C),required:"",maxlength:"64"},null,512),[[ce,l.code,void 0,{trim:!0}]])]),i("div",vC,[i("label",NC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),te(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":L[4]||(L[4]=C=>l.type=C)},[i("option",PC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",MC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[ht,l.type]])]),i("div",IC,[i("label",kC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),te(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":L[5]||(L[5]=C=>l.value=C),required:""},null,512),[[ce,l.value,void 0,{number:!0}]])]),i("div",wC,[i("label",$C,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),te(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":L[6]||(L[6]=C=>l.min_total=C)},null,512),[[ce,l.min_total,void 0,{number:!0}]])]),i("div",LC,[i("label",DC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),te(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":L[7]||(L[7]=C=>l.start=C)},null,512),[[ce,l.start]])]),i("div",UC,[i("label",YC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),te(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":L[8]||(L[8]=C=>l.end=C)},null,512),[[ce,l.end]])]),i("div",XC,[i("label",FC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),te(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":L[9]||(L[9]=C=>l.max_uses=C)},null,512),[[ce,l.max_uses,void 0,{number:!0}]])]),i("div",GC,[i("label",VC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),te(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":L[10]||(L[10]=C=>l.active=C)},null,512),[[mt,l.active]])]),i("footer",BC,[i("button",{class:"nxp-ec-btn",type:"button",onClick:x,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,HC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,KC)]),l.id?(R(),v("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:L[11]||(L[11]=C=>w(l)),disabled:e.state.saving},[L[18]||(L[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Ie(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,jC)):Ae("",!0)],32)])])])):Ae("",!0)]))]))}},[["__scopeId","data-v-21819532"]]),WC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},qC={class:"nxp-ec-admin-panel__header"},zC={class:"nxp-ec-admin-panel__title"},QC={class:"nxp-ec-admin-panel__lead"},ZC={class:"nxp-ec-settings-tabs"},eb={key:0,class:"nxp-ec-settings-panel"},tb={class:"nxp-ec-settings-panel__header"},nb=["disabled"],sb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ib={key:1,class:"nxp-ec-admin-panel__loading"},ob={class:"nxp-ec-form-field"},ab={class:"nxp-ec-form-label",for:"settings-store-name"},rb={class:"nxp-ec-form-field"},lb={class:"nxp-ec-form-label",for:"settings-store-email"},cb={class:"nxp-ec-form-field"},db={class:"nxp-ec-form-label",for:"settings-store-phone"},ub={class:"nxp-ec-form-field nxp-ec-form-field--inline"},pb={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},_b={class:"nxp-ec-form-help"},fb={class:"nxp-ec-form-field"},mb={class:"nxp-ec-form-label",for:"settings-base-currency"},hb={class:"nxp-ec-form-help"},gb={class:"nxp-ec-form-field"},Eb={class:"nxp-ec-form-label",for:"settings-category-page-size"},Sb={class:"nxp-ec-form-help"},Cb={class:"nxp-ec-form-field"},bb={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},Ab={value:"paged"},Tb={value:"infinite"},yb={class:"nxp-ec-form-help"},Ob={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Rb={class:"nxp-ec-form-label",for:"settings-payments-configured"},xb={class:"nxp-ec-form-help"},vb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Nb={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},Pb={class:"nxp-ec-form-help"},Mb={class:"nxp-ec-settings-actions"},Ib=["disabled"],kb=["disabled"],wb={key:1,class:"nxp-ec-settings-panel"},$b={class:"nxp-ec-settings-panel__header"},Lb=["disabled"],Db={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ub={class:"nxp-ec-form-help"},Yb={class:"nxp-ec-form-grid"},Xb={class:"nxp-ec-form-field"},Fb={class:"nxp-ec-form-label",for:"settings-checkout-window"},Gb={class:"nxp-ec-form-help"},Vb={class:"nxp-ec-form-field"},Bb={class:"nxp-ec-form-label",for:"settings-offline-window"},Hb={class:"nxp-ec-form-help"},Kb={class:"nxp-ec-form-grid"},jb={class:"nxp-ec-form-field"},Jb={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},Wb={class:"nxp-ec-form-field"},qb={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},zb={class:"nxp-ec-form-field"},Qb={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},Zb={class:"nxp-ec-form-grid"},eA={class:"nxp-ec-form-field"},tA={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},nA={class:"nxp-ec-form-field"},sA={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},iA={class:"nxp-ec-settings-actions"},oA=["disabled"],aA=["disabled"],rA={key:2,class:"nxp-ec-settings-panel"},lA={class:"nxp-ec-settings-panel__header"},cA=["disabled"],dA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},uA={key:1,class:"nxp-ec-settings-grid"},pA={class:"nxp-ec-settings-table"},_A={class:"nxp-ec-admin-table"},fA={scope:"col"},mA={scope:"col"},hA={scope:"col"},gA={scope:"col"},EA={scope:"col"},SA={key:0},CA={colspan:"6"},bA={scope:"row"},AA={class:"nxp-ec-admin-table__actions"},TA=["onClick","title","aria-label"],yA={class:"nxp-ec-sr-only"},OA=["onClick","title","aria-label"],RA={class:"nxp-ec-sr-only"},xA={class:"nxp-ec-form-field"},vA={class:"nxp-ec-form-label",for:"tax-country"},NA={class:"nxp-ec-form-field"},PA={class:"nxp-ec-form-label",for:"tax-region"},MA={class:"nxp-ec-form-field"},IA={class:"nxp-ec-form-label",for:"tax-rate"},kA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},wA={class:"nxp-ec-form-label",for:"tax-inclusive"},$A={class:"nxp-ec-form-field"},LA={class:"nxp-ec-form-label",for:"tax-priority"},DA={class:"nxp-ec-settings-actions"},UA=["disabled"],YA=["disabled"],XA={key:3,class:"nxp-ec-settings-panel"},FA={class:"nxp-ec-settings-panel__header"},GA=["disabled"],VA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},BA={key:1,class:"nxp-ec-settings-grid"},HA={class:"nxp-ec-settings-table"},KA={class:"nxp-ec-admin-table"},jA={scope:"col"},JA={scope:"col"},WA={scope:"col"},qA={scope:"col"},zA={scope:"col"},QA={scope:"col"},ZA={key:0},eT={colspan:"7"},tT={scope:"row"},nT={class:"nxp-ec-admin-table__actions"},sT=["onClick","title","aria-label"],iT={class:"nxp-ec-sr-only"},oT=["onClick","title","aria-label"],aT={class:"nxp-ec-sr-only"},rT={class:"nxp-ec-form-field"},lT={class:"nxp-ec-form-label",for:"shipping-name"},cT={class:"nxp-ec-form-field"},dT={class:"nxp-ec-form-label",for:"shipping-type"},uT={value:"flat"},pT={value:"free_over"},_T={class:"nxp-ec-form-field"},fT={class:"nxp-ec-form-label",for:"shipping-price"},mT={key:0,class:"nxp-ec-form-field"},hT={class:"nxp-ec-form-label",for:"shipping-threshold"},gT={class:"nxp-ec-form-field"},ET={class:"nxp-ec-form-label",for:"shipping-regions"},ST=["placeholder"],CT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},bT={class:"nxp-ec-form-label",for:"shipping-active"},AT={class:"nxp-ec-settings-actions"},TT=["disabled"],yT=["disabled"],OT={key:4,class:"nxp-ec-settings-panel"},RT={class:"nxp-ec-settings-panel__header"},xT={class:"nxp-ec-settings-actions"},vT=["disabled"],NT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},PT={key:1,class:"nxp-ec-admin-panel__loading"},MT={class:"nxp-ec-form-field"},IT={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},kT={class:"nxp-ec-form-field"},wT={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},$T={class:"nxp-ec-form-field"},LT={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},DT={class:"nxp-ec-form-help"},UT={class:"nxp-ec-form-field"},YT={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},XT={value:"test"},FT={value:"live"},GT={class:"nxp-ec-form-field"},VT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},BT={class:"nxp-ec-form-field"},HT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},KT={class:"nxp-ec-form-field"},jT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},JT={class:"nxp-ec-form-help"},WT={class:"nxp-ec-form-field"},qT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},zT={value:"sandbox"},QT={value:"live"},ZT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ey={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},ty={class:"nxp-ec-form-field"},ny={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},sy={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},oy={class:"nxp-ec-form-field"},ay={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},ry={class:"nxp-ec-form-field"},ly={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},cy=["placeholder"],dy={class:"nxp-ec-form-help"},uy={class:"nxp-ec-form-grid"},py={class:"nxp-ec-form-field"},_y={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},fy={class:"nxp-ec-form-field"},my={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},hy={class:"nxp-ec-form-field"},gy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},Ey={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Sy={class:"nxp-ec-settings-actions"},Cy=["disabled"],by=["disabled"],Ay={key:5,class:"nxp-ec-settings-panel"},Ty={class:"nxp-ec-settings-panel__header"},yy=["disabled"],Oy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ry={key:1,class:"nxp-ec-admin-panel__loading"},xy={class:"nxp-ec-form-help"},vy={class:"nxp-ec-form-help nxp-ec-form-help--muted"},Ny={class:"nxp-ec-visual-grid"},Py={class:"nxp-ec-visual-field"},My={class:"nxp-ec-form-label",for:"visual-primary-color"},Iy={class:"nxp-ec-color-input-group"},ky=["value"],wy=["placeholder"],$y={class:"nxp-ec-visual-field"},Ly={class:"nxp-ec-form-label",for:"visual-text-color"},Dy={class:"nxp-ec-color-input-group"},Uy=["value"],Yy=["placeholder"],Xy={class:"nxp-ec-visual-field"},Fy={class:"nxp-ec-form-label",for:"visual-surface-color"},Gy={class:"nxp-ec-color-input-group"},Vy=["value"],By=["placeholder"],Hy={class:"nxp-ec-visual-field"},Ky={class:"nxp-ec-form-label",for:"visual-border-color"},jy={class:"nxp-ec-color-input-group"},Jy=["value"],Wy=["placeholder"],qy={class:"nxp-ec-visual-field"},zy={class:"nxp-ec-form-label",for:"visual-muted-color"},Qy={class:"nxp-ec-color-input-group"},Zy=["value"],eO=["placeholder"],tO={class:"nxp-ec-visual-preview"},nO={type:"button",class:"nxp-ec-preview-btn"},sO={class:"nxp-ec-preview-text"},iO={class:"nxp-ec-preview-muted"},oO={class:"nxp-ec-settings-actions"},aO=["disabled"],rO=["disabled"],lO=xt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.settingsState,l=s.taxState,u=s.shippingState,p=s.paymentsState,f=Be(["general","security","tax","shipping","payments","visual"].includes(s.initialTab)?s.initialTab:"general"),c=ge(()=>{var m;const k=s.baseCurrency||"USD",O=typeof b.baseCurrency=="string"?b.baseCurrency.trim():"",g=typeof((m=a==null?void 0:a.values)==null?void 0:m.base_currency)=="string"?a.values.base_currency.trim():"";return(O!==""?O:g!==""?g:k).toUpperCase()}),b=$e({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",categoryPageSize:12,categoryPaginationMode:"paged"}),x=$e({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),$=$e({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),w=$e({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),I=$e({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),N=$e({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),D=ge(()=>{var O,g;const k=(g=(O=a.values)==null?void 0:O.visual_defaults)!=null?g:{};return{primary:k.primary_color||"#4f6d7a",text:k.text_color||"#1f2933",surface:k.surface_color||"#ffffff",border:k.border_color||"#e4e7ec",muted:k.muted_color||"#6b7280"}}),K=ge(()=>({"--nxp-ec-color-primary":N.primaryColor||D.value.primary,"--nxp-ec-color-text":N.textColor||D.value.text,"--nxp-ec-color-surface":N.surfaceColor||D.value.surface,"--nxp-ec-color-border":N.borderColor||D.value.border,"--nxp-ec-color-muted":N.mutedColor||D.value.muted})),L=(k={})=>{var P,V,X,G,A,h,E,T,y,M,J,F,re,le,he;const O=(P=k==null?void 0:k.store)!=null?P:{},g=(V=k==null?void 0:k.payments)!=null?V:{},_=(X=k==null?void 0:k.visual)!=null?X:{},m=(A=(G=k==null?void 0:k.security)==null?void 0:G.rate_limits)!=null?A:{};Object.assign(b,{storeName:(h=O.name)!=null?h:"",storeEmail:(E=O.email)!=null?E:"",storePhone:(T=O.phone)!=null?T:"",checkoutPhoneRequired:!!((y=k==null?void 0:k.checkout_phone_required)!=null&&y),paymentsConfigured:!!g.configured,autoSendOrderEmails:!!((M=k==null?void 0:k.auto_send_order_emails)!=null&&M),baseCurrency:typeof(k==null?void 0:k.base_currency)=="string"?k.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),categoryPageSize:Number.isFinite(Number(k==null?void 0:k.category_page_size))?Number(k.category_page_size):12,categoryPaginationMode:(k==null?void 0:k.category_pagination_mode)==="infinite"?"infinite":"paged"}),Object.assign(N,{primaryColor:(J=_.primary_color)!=null?J:"",textColor:(F=_.text_color)!=null?F:"",surfaceColor:(re=_.surface_color)!=null?re:"",borderColor:(le=_.border_color)!=null?le:"",mutedColor:(he=_.muted_color)!=null?he:""}),Object.assign(x,{checkoutWindowMinutes:Number.isFinite(Number(m.checkout_window_minutes))?Number(m.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(m.checkout_ip_limit))?Number(m.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(m.checkout_email_limit))?Number(m.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(m.checkout_session_limit))?Number(m.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(m.offline_window_minutes))?Number(m.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(m.offline_ip_limit))?Number(m.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(m.offline_email_limit))?Number(m.offline_email_limit):5})},C=(k={})=>{var P,V,X,G,A,h,E,T,y,M,J,F,re,le,he,Oe,ve,ke,Ke,rt,We,Ye,Xe,lt;const O=(P=k.stripe)!=null?P:{},g=(V=k.paypal)!=null?V:{},_=(X=k.cod)!=null?X:{},m=(G=k.bank_transfer)!=null?G:{};Object.assign(I.stripe,{publishable_key:(A=O.publishable_key)!=null?A:"",secret_key:(h=O.secret_key)!=null?h:"",webhook_secret:(E=O.webhook_secret)!=null?E:"",mode:(T=O.mode)!=null?T:"test"}),Object.assign(I.paypal,{client_id:(y=g.client_id)!=null?y:"",client_secret:(M=g.client_secret)!=null?M:"",webhook_id:(J=g.webhook_id)!=null?J:"",mode:(F=g.mode)!=null?F:"sandbox"}),Object.assign(I.cod,{enabled:_.enabled!==void 0?!!_.enabled:I.cod.enabled,label:(le=(re=_.label)!=null?re:I.cod.label)!=null?le:"Cash on delivery"}),Object.assign(I.bank_transfer,{enabled:m.enabled!==void 0?!!m.enabled:I.bank_transfer.enabled,label:(Oe=(he=m.label)!=null?he:I.bank_transfer.label)!=null?Oe:"Bank transfer",instructions:(ke=(ve=m.instructions)!=null?ve:I.bank_transfer.instructions)!=null?ke:"",account_name:(rt=(Ke=m.account_name)!=null?Ke:I.bank_transfer.account_name)!=null?rt:"",iban:(Ye=(We=m.iban)!=null?We:I.bank_transfer.iban)!=null?Ye:"",bic:(lt=(Xe=m.bic)!=null?Xe:I.bank_transfer.bic)!=null?lt:""})};Fe(()=>a.values,k=>{L(k!=null?k:{})},{immediate:!0});const j=()=>o("refresh-settings"),ne=()=>{const k=(b.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:b.storeName,email:b.storeEmail,phone:b.storePhone,base_currency:k},payments:{configured:b.paymentsConfigured},base_currency:k,checkout_phone_required:b.checkoutPhoneRequired,auto_send_order_emails:b.autoSendOrderEmails,category_page_size:Number.isFinite(Number(b.categoryPageSize))?Number(b.categoryPageSize):12,category_pagination_mode:b.categoryPaginationMode==="infinite"?"infinite":"paged"})},de=()=>{var k;L((k=a.values)!=null?k:{})},Ee=()=>{const k=(O,g=0)=>{const _=Number(O);return Number.isFinite(_)&&_>=0?_:g};o("save-settings",{security:{rate_limits:{checkout_window_minutes:k(x.checkoutWindowMinutes,15),checkout_ip_limit:k(x.checkoutIpLimit,10),checkout_email_limit:k(x.checkoutEmailLimit,5),checkout_session_limit:k(x.checkoutSessionLimit,15),offline_window_minutes:k(x.offlineWindowMinutes,240),offline_ip_limit:k(x.offlineIpLimit,10),offline_email_limit:k(x.offlineEmailLimit,5)}}})},W=()=>{var k;L((k=a.values)!=null?k:{})};Fe(()=>a.saving,(k,O)=>{var g;O&&!k&&!a.error&&L((g=a.values)!=null?g:{})}),Fe(()=>b.baseCurrency,k=>{if(typeof k=="string"){const O=k.replace(/[^A-Za-z]/g,"").toUpperCase();O!==k&&(b.baseCurrency=O)}}),Fe(()=>p.config,k=>{C(k!=null?k:{})},{immediate:!0}),Fe(()=>p.saving,(k,O)=>{var g;O&&!k&&!p.error&&C((g=p.config)!=null?g:{})});const H=()=>o("refresh-payments"),q=()=>{const k=JSON.parse(JSON.stringify(I));o("save-payments",k)},B=()=>{var k;C((k=p.config)!=null?k:{})},se=()=>o("refresh-settings"),fe=()=>{o("save-settings",{visual:{primary_color:N.primaryColor,text_color:N.textColor,surface_color:N.surfaceColor,border_color:N.borderColor,muted_color:N.mutedColor}})},ue=()=>{var O,g,_,m,P,V,X;const k=(g=(O=a.values)==null?void 0:O.visual)!=null?g:{};Object.assign(N,{primaryColor:(_=k.primary_color)!=null?_:"",textColor:(m=k.text_color)!=null?m:"",surfaceColor:(P=k.surface_color)!=null?P:"",borderColor:(V=k.border_color)!=null?V:"",mutedColor:(X=k.muted_color)!=null?X:""})},Z=()=>o("refresh-tax"),ie=()=>o("refresh-shipping"),ee=k=>{Object.assign($,{id:k.id,country:k.country,region:k.region,rate:k.rate,inclusive:k.inclusive,priority:k.priority})},pe=()=>{Object.assign($,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},U=()=>{o("save-tax",{id:$.id||void 0,country:$.country,region:$.region,rate:$.rate,inclusive:$.inclusive,priority:$.priority})},z=k=>{const O=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(O)&&(o("delete-tax",[k.id]),$.id===k.id&&pe())};Fe(()=>l.saving,(k,O)=>{O&&!k&&!l.error&&pe()});const Q=k=>{var O,g,_;Object.assign(w,{id:k.id,name:k.name,type:k.type,price:(g=k.price)!=null?g:((O=k.price_cents)!=null?O:0)/100,threshold:k.threshold!==null&&k.threshold!==void 0?k.threshold:((_=k.threshold_cents)!=null?_:0)/100,regions:k.regions&&k.regions.length?k.regions.join(", "):"",active:k.active})},ae=()=>{Object.assign(w,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},me=()=>{const k={id:w.id||void 0,name:w.name,type:w.type,price:w.price,threshold:w.type==="free_over"?w.threshold:0,regions:w.regions,active:w.active};o("save-shipping",k)},_e=k=>{const O=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(O)&&(o("delete-shipping",[k.id]),w.id===k.id&&ae())};Fe(()=>u.saving,(k,O)=>{O&&!k&&!u.error&&ae()});const Se=(k,O)=>{const g=(Number(k)||0)/100,_=(O||"").toUpperCase()||c.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:_}).format(g)}catch(m){return`${_} ${g.toFixed(2)}`}},Pe=k=>k==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(k,O)=>(R(),v("section",WC,[i("header",qC,[i("div",null,[i("h2",zC,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",QC,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",ZC,[i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="general"}]),onClick:O[0]||(O[0]=g=>f.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="security"}]),onClick:O[1]||(O[1]=g=>f.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="tax"}]),onClick:O[2]||(O[2]=g=>f.value="tax")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="shipping"}]),onClick:O[3]||(O[3]=g=>f.value="shipping")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="payments"}]),onClick:O[4]||(O[4]=g=>f.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="visual"}]),onClick:O[5]||(O[5]=g=>f.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),f.value==="general"?(R(),v("div",eb,[i("header",tb,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,nb)]),r(a).error?(R(),v("div",sb,d(r(a).error),1)):r(a).loading?(R(),v("div",ib,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(R(),v("form",{key:2,class:"nxp-ec-settings-form",onSubmit:gt(ne,["prevent"])},[i("div",ob,[i("label",ab,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),te(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[6]||(O[6]=g=>b.storeName=g),maxlength:"190"},null,512),[[ce,b.storeName,void 0,{trim:!0}]])]),i("div",rb,[i("label",lb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),te(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":O[7]||(O[7]=g=>b.storeEmail=g)},null,512),[[ce,b.storeEmail,void 0,{trim:!0}]])]),i("div",cb,[i("label",db,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),te(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[8]||(O[8]=g=>b.storePhone=g),maxlength:"64"},null,512),[[ce,b.storePhone,void 0,{trim:!0}]])]),i("div",ub,[i("label",pb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),te(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[9]||(O[9]=g=>b.checkoutPhoneRequired=g)},null,512),[[mt,b.checkoutPhoneRequired]]),i("p",_b,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",fb,[i("label",mb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),te(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":O[10]||(O[10]=g=>b.baseCurrency=g),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[ce,b.baseCurrency,void 0,{trim:!0}]]),i("p",hb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",gb,[i("label",Eb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),te(i("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":O[11]||(O[11]=g=>b.categoryPageSize=g)},null,512),[[ce,b.categoryPageSize,void 0,{number:!0}]]),i("p",Sb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),i("div",Cb,[i("label",bb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),te(i("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":O[12]||(O[12]=g=>b.categoryPaginationMode=g)},[i("option",Ab,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),i("option",Tb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[ht,b.categoryPaginationMode]]),i("p",yb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)]),i("div",Ob,[i("label",Rb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),te(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[13]||(O[13]=g=>b.paymentsConfigured=g)},null,512),[[mt,b.paymentsConfigured]]),i("p",xb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",vb,[i("label",Nb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),te(i("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[14]||(O[14]=g=>b.autoSendOrderEmails=g)},null,512),[[mt,b.autoSendOrderEmails]]),i("p",Pb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)]),i("div",Mb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:de,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,Ib),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,kb)])],32))])):f.value==="security"?(R(),v("div",wb,[i("header",$b,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,Lb)]),r(a).error?(R(),v("div",Db,d(r(a).error),1)):(R(),v("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:gt(Ee,["prevent"])},[i("p",Ub,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",Yb,[i("div",Xb,[i("label",Fb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),te(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[15]||(O[15]=g=>x.checkoutWindowMinutes=g)},null,512),[[ce,x.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",Gb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",Vb,[i("label",Bb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),te(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[16]||(O[16]=g=>x.offlineWindowMinutes=g)},null,512),[[ce,x.offlineWindowMinutes,void 0,{number:!0}]]),i("p",Hb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",Kb,[i("div",jb,[i("label",Jb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),te(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[17]||(O[17]=g=>x.checkoutIpLimit=g)},null,512),[[ce,x.checkoutIpLimit,void 0,{number:!0}]])]),i("div",Wb,[i("label",qb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),te(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[18]||(O[18]=g=>x.checkoutEmailLimit=g)},null,512),[[ce,x.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",zb,[i("label",Qb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),te(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[19]||(O[19]=g=>x.checkoutSessionLimit=g)},null,512),[[ce,x.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",Zb,[i("div",eA,[i("label",tA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),te(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[20]||(O[20]=g=>x.offlineIpLimit=g)},null,512),[[ce,x.offlineIpLimit,void 0,{number:!0}]])]),i("div",nA,[i("label",sA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),te(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[21]||(O[21]=g=>x.offlineEmailLimit=g)},null,512),[[ce,x.offlineEmailLimit,void 0,{number:!0}]])])]),i("div",iA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:W,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,oA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,aA)])],32))])):f.value==="tax"?(R(),v("div",rA,[i("header",lA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Z,disabled:r(l).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,cA)]),r(l).error?(R(),v("div",dA,d(r(l).error),1)):(R(),v("div",uA,[i("div",pA,[i("table",_A,[i("thead",null,[i("tr",null,[i("th",fA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",mA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",hA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",gA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",EA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),O[64]||(O[64]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(l).items.length?Ae("",!0):(R(),v("tr",SA,[i("td",CA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(R(!0),v(be,null,Re(r(l).items,g=>{var _;return R(),v("tr",{key:g.id,class:Me({"is-active":$.id===g.id})},[i("th",bA,d(g.country),1),i("td",null,d(g.region||""),1),i("td",null,d(((_=g.rate)!=null?_:0).toFixed(2))+"%",1),i("td",null,d(g.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1),i("td",null,d(g.priority),1),i("td",AA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:m=>ee(g),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[O[65]||(O[65]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",yA,d(r(n)("JEDIT","Edit")),1)],8,TA),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:m=>z(g),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[O[66]||(O[66]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",RA,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,OA)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:gt(U,["prevent"])},[i("h4",null,d($.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",xA,[i("label",vA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),te(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[22]||(O[22]=g=>$.country=g),maxlength:"2",required:""},null,512),[[ce,$.country,void 0,{trim:!0}]])]),i("div",NA,[i("label",PA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),te(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[23]||(O[23]=g=>$.region=g)},null,512),[[ce,$.region,void 0,{trim:!0}]])]),i("div",MA,[i("label",IA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),te(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[24]||(O[24]=g=>$.rate=g),required:""},null,512),[[ce,$.rate,void 0,{number:!0}]])]),i("div",kA,[i("label",wA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),te(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[25]||(O[25]=g=>$.inclusive=g)},null,512),[[mt,$.inclusive]])]),i("div",$A,[i("label",LA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),te(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":O[26]||(O[26]=g=>$.priority=g)},null,512),[[ce,$.priority,void 0,{number:!0}]])]),i("div",DA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:pe,disabled:r(l).saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,UA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(l).saving},d(r(l).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,YA)])],32)]))])):f.value==="shipping"?(R(),v("div",XA,[i("header",FA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ie,disabled:r(u).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,GA)]),r(u).error?(R(),v("div",VA,d(r(u).error),1)):(R(),v("div",BA,[i("div",HA,[i("table",KA,[i("thead",null,[i("tr",null,[i("th",jA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",JA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",WA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",qA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",zA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",QA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),O[67]||(O[67]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(u).items.length?Ae("",!0):(R(),v("tr",ZA,[i("td",eT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(R(!0),v(be,null,Re(r(u).items,g=>(R(),v("tr",{key:g.id,class:Me({"is-active":w.id===g.id})},[i("th",tT,d(g.name),1),i("td",null,d(Pe(g.type)),1),i("td",null,d(Se(g.price_cents,c.value)),1),i("td",null,d(g.type==="free_over"?Se(g.threshold_cents,c.value):""),1),i("td",null,d(g.regions&&g.regions.length?g.regions.join(", "):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,[i("span",{class:Me(["nxp-ec-badge",{"is-active":g.active}])},[i("i",{class:Me(g.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ie(" "+d(g.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)]),i("td",nT,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:_=>Q(g),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[O[68]||(O[68]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",iT,d(r(n)("JEDIT","Edit")),1)],8,sT),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:_=>_e(g),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[O[69]||(O[69]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",aT,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,oT)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:gt(me,["prevent"])},[i("h4",null,d(w.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",rT,[i("label",lT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),te(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[27]||(O[27]=g=>w.name=g),required:""},null,512),[[ce,w.name,void 0,{trim:!0}]])]),i("div",cT,[i("label",dT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),te(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":O[28]||(O[28]=g=>w.type=g)},[i("option",uT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",pT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[ht,w.type]])]),i("div",_T,[i("label",fT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),te(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[29]||(O[29]=g=>w.price=g),required:""},null,512),[[ce,w.price,void 0,{number:!0}]])]),w.type==="free_over"?(R(),v("div",mT,[i("label",hT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),te(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[30]||(O[30]=g=>w.threshold=g),required:""},null,512),[[ce,w.threshold,void 0,{number:!0}]])])):Ae("",!0),i("div",gT,[i("label",ET,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),te(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[31]||(O[31]=g=>w.regions=g),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,ST),[[ce,w.regions,void 0,{trim:!0}]])]),i("div",CT,[i("label",bT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),te(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[32]||(O[32]=g=>w.active=g)},null,512),[[mt,w.active]])]),i("div",AT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ae,disabled:r(u).saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,TT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(u).saving},d(r(u).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,yT)])],32)]))])):f.value==="payments"?(R(),v("div",OT,[i("header",RT,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",xT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:H,disabled:r(p).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,vT)])]),r(p).error?(R(),v("div",NT,d(r(p).error),1)):r(p).loading?(R(),v("div",PT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(R(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:gt(q,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",MT,[i("label",IT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),te(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[33]||(O[33]=g=>I.stripe.publishable_key=g)},null,512),[[ce,I.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",kT,[i("label",wT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),te(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":O[34]||(O[34]=g=>I.stripe.secret_key=g),autocomplete:"off"},null,512),[[ce,I.stripe.secret_key,void 0,{trim:!0}]])]),i("div",$T,[i("label",LT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),te(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":O[35]||(O[35]=g=>I.stripe.webhook_secret=g),autocomplete:"off"},null,512),[[ce,I.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",DT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",UT,[i("label",YT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),te(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":O[36]||(O[36]=g=>I.stripe.mode=g)},[i("option",XT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",FT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ht,I.stripe.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",GT,[i("label",VT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),te(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[37]||(O[37]=g=>I.paypal.client_id=g)},null,512),[[ce,I.paypal.client_id,void 0,{trim:!0}]])]),i("div",BT,[i("label",HT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),te(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":O[38]||(O[38]=g=>I.paypal.client_secret=g),autocomplete:"off"},null,512),[[ce,I.paypal.client_secret,void 0,{trim:!0}]])]),i("div",KT,[i("label",jT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),te(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[39]||(O[39]=g=>I.paypal.webhook_id=g)},null,512),[[ce,I.paypal.webhook_id,void 0,{trim:!0}]]),i("p",JT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",WT,[i("label",qT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),te(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":O[40]||(O[40]=g=>I.paypal.mode=g)},[i("option",zT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",QT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ht,I.paypal.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",ZT,[i("label",ey,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),te(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":O[41]||(O[41]=g=>I.cod.enabled=g)},null,512),[[mt,I.cod.enabled]])]),i("div",ty,[i("label",ny,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),te(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[42]||(O[42]=g=>I.cod.label=g),placeholder:"Cash on delivery"},null,512),[[ce,I.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",sy,[i("label",iy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),te(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":O[43]||(O[43]=g=>I.bank_transfer.enabled=g)},null,512),[[mt,I.bank_transfer.enabled]])]),i("div",oy,[i("label",ay,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),te(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[44]||(O[44]=g=>I.bank_transfer.label=g),placeholder:"Bank transfer"},null,512),[[ce,I.bank_transfer.label,void 0,{trim:!0}]])]),i("div",ry,[i("label",ly,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),te(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":O[45]||(O[45]=g=>I.bank_transfer.instructions=g),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,cy),[[ce,I.bank_transfer.instructions]]),i("p",dy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",uy,[i("div",py,[i("label",_y,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),te(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[46]||(O[46]=g=>I.bank_transfer.account_name=g)},null,512),[[ce,I.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",fy,[i("label",my,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),te(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[47]||(O[47]=g=>I.bank_transfer.iban=g),maxlength:"34"},null,512),[[ce,I.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",hy,[i("label",gy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),te(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[48]||(O[48]=g=>I.bank_transfer.bic=g),maxlength:"11"},null,512),[[ce,I.bank_transfer.bic,void 0,{trim:!0}]])])])]),r(p).message?(R(),v("div",Ey,d(r(p).message),1)):Ae("",!0),i("div",Sy,[i("button",{class:"nxp-ec-btn",type:"button",onClick:B,disabled:r(p).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,Cy),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(p).saving},d(r(p).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,by)])],32))])):f.value==="visual"?(R(),v("div",Ay,[i("header",Ty,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:se,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,yy)]),r(a).error?(R(),v("div",Oy,d(r(a).error),1)):r(a).loading?(R(),v("div",Ry,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(R(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:gt(fe,["prevent"])},[i("p",xy,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",vy,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",Ny,[i("div",Py,[i("label",My,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",Iy,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:N.primaryColor||D.value.primary,onInput:O[49]||(O[49]=g=>N.primaryColor=g.target.value)},null,40,ky),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[50]||(O[50]=g=>N.primaryColor=g),placeholder:D.value.primary,maxlength:"7"},null,8,wy),[[ce,N.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[51]||(O[51]=g=>N.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",$y,[i("label",Ly,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",Dy,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:N.textColor||D.value.text,onInput:O[52]||(O[52]=g=>N.textColor=g.target.value)},null,40,Uy),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[53]||(O[53]=g=>N.textColor=g),placeholder:D.value.text,maxlength:"7"},null,8,Yy),[[ce,N.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[54]||(O[54]=g=>N.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",Xy,[i("label",Fy,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",Gy,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:N.surfaceColor||D.value.surface,onInput:O[55]||(O[55]=g=>N.surfaceColor=g.target.value)},null,40,Vy),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[56]||(O[56]=g=>N.surfaceColor=g),placeholder:D.value.surface,maxlength:"7"},null,8,By),[[ce,N.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[57]||(O[57]=g=>N.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",Hy,[i("label",Ky,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",jy,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:N.borderColor||D.value.border,onInput:O[58]||(O[58]=g=>N.borderColor=g.target.value)},null,40,Jy),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[59]||(O[59]=g=>N.borderColor=g),placeholder:D.value.border,maxlength:"7"},null,8,Wy),[[ce,N.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[60]||(O[60]=g=>N.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",qy,[i("label",zy,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",Qy,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:N.mutedColor||D.value.muted,onInput:O[61]||(O[61]=g=>N.mutedColor=g.target.value)},null,40,Zy),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[62]||(O[62]=g=>N.mutedColor=g),placeholder:D.value.muted,maxlength:"7"},null,8,eO),[[ce,N.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[63]||(O[63]=g=>N.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",tO,[i("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Ft(K.value)},[i("button",nO,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",sO,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",iO,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",oO,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ue,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,aO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,rO)])],32))])):Ae("",!0)]))}},[["__scopeId","data-v-6aee5e8a"]]),cO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},dO={class:"nxp-ec-admin-panel__header"},uO={class:"nxp-ec-admin-panel__title"},pO={class:"nxp-ec-admin-panel__lead"},_O={class:"nxp-ec-admin-panel__actions"},fO=["placeholder","aria-label"],mO=["value"],hO={value:""},gO=["value"],EO=["disabled","title","aria-label"],SO={class:"nxp-ec-sr-only"},CO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bO={key:1,class:"nxp-ec-admin-panel__body"},AO={key:2,class:"nxp-ec-admin-panel__body"},TO={class:"nxp-ec-admin-panel__table"},yO={class:"nxp-ec-admin-table"},OO={scope:"col"},RO={scope:"col"},xO={scope:"col"},vO={scope:"col"},NO={scope:"col"},PO={key:0},MO={colspan:"5"},IO=["data-label"],kO=["data-label"],wO={class:"nxp-ec-log-entity"},$O={class:"nxp-ec-log-entity-id"},LO=["data-label"],DO=["data-label"],UO=["data-label"],YO={class:"nxp-ec-log-context"},XO={key:0,class:"nxp-ec-admin-pagination"},FO=["disabled"],GO={class:"nxp-ec-admin-pagination__status"},VO=["disabled"],BO=["title"],HO=xt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.state,l=ge(()=>{const I=new Set;return Array.isArray(a.items)&&a.items.forEach(N=>{N!=null&&N.entity_type&&I.add(N.entity_type)}),a.entity&&I.add(a.entity),Array.from(I).sort()}),u=()=>o("refresh"),p=()=>o("search"),S=I=>o("filter",I),f=I=>o("page",I),c=I=>{if(!I)return"";try{const N=new Date(I.replace(" ","T"));if(!Number.isNaN(N.getTime()))return N.toLocaleString()}catch(N){}return I},b=I=>{if(!I)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(I){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return I.charAt(0).toUpperCase()+I.slice(1)}},x=I=>{if(!(I!=null&&I.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const N=I.user.name||"",D=I.user.username||"";return N&&D?`${N} (${D})`:N||D||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},$=I=>{if(!I||Array.isArray(I)&&!I.length||typeof I=="object"&&!Object.keys(I).length)return"";try{return JSON.stringify(I,null,2)}catch(N){return String(I)}},w=I=>{if(!I)return"";try{const N=new Date(I),K=new Date-N,L=Math.floor(K/1e3),C=Math.floor(L/60),j=Math.floor(C/60);return L<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):C<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[C]):j<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[j]):N.toLocaleString()}catch(N){return I}};return(I,N)=>(R(),v("section",cO,[i("header",dO,[i("div",null,[i("h2",uO,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",pO,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",_O,[te(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":N[0]||(N[0]=D=>r(a).search=D),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:zt(p,["enter"])},null,40,fO),[[ce,r(a).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(a).entity,onChange:N[1]||(N[1]=D=>S(D.target.value)),"aria-label":"Entity filter"},[i("option",hO,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(R(!0),v(be,null,Re(l.value,D=>(R(),v("option",{key:D,value:D},d(b(D)),9,gO))),128))],40,mO),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(a).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[N[4]||(N[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",SO,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,EO)])]),r(a).error?(R(),v("div",CO,d(r(a).error),1)):r(a).loading?(R(),v("div",bO,[He(Dn,{type:"table",rows:5,columns:5})])):(R(),v("div",AO,[i("div",TO,[i("table",yO,[i("thead",null,[i("tr",null,[i("th",OO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",RO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",xO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",vO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",NO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(a).items.length?Ae("",!0):(R(),v("tr",PO,[i("td",MO,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(R(!0),v(be,null,Re(r(a).items,D=>(R(),v("tr",{key:D.id},[i("td",{class:"nxp-ec-admin-table__primary","data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},d(c(D.created)),9,IO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[i("span",wO,d(b(D.entity_type)),1),i("span",$O,"#"+d(D.entity_id),1)],8,kO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},d(D.action),9,LO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},d(x(D)),9,DO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[i("pre",YO,d($(D.context)),1)],8,UO)]))),128))])]),r(a).pagination.pages>1?(R(),v("div",XO,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current<=1,onClick:N[2]||(N[2]=D=>f(r(a).pagination.current-1))},"  ",8,FO),i("span",GO,d(r(a).pagination.current)+" / "+d(r(a).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current>=r(a).pagination.pages,onClick:N[3]||(N[3]=D=>f(r(a).pagination.current+1))},"  ",8,VO)])):Ae("",!0)]),r(a).lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(a).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(w(r(a).lastUpdated)),9,BO)):Ae("",!0)]))]))}},[["__scopeId","data-v-b174b9c8"]]),KO={key:0,class:"nxp-ec-onboarding"},jO={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},JO={class:"nxp-ec-onboarding__header"},WO={class:"nxp-ec-onboarding__title"},qO={class:"nxp-ec-onboarding__lead"},zO={class:"nxp-ec-onboarding__progress"},QO={class:"nxp-ec-onboarding__progress-bar"},ZO={class:"nxp-ec-onboarding__progress-label"},eR={class:"nxp-ec-onboarding__steps"},tR={class:"nxp-ec-onboarding__step-main"},nR={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},sR={key:0,class:"fa-solid fa-circle-check"},iR={key:1,class:"fa-regular fa-circle"},oR={class:"nxp-ec-onboarding__step-actions"},aR=["onClick"],rR=xt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,o=ge(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=ge(()=>`${o.value}%`),a=ge(()=>{const l=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,u)=>e.visible?(R(),v("div",KO,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>l.$emit("close"))}),i("section",jO,[i("header",JO,[i("div",null,[i("h2",WO,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",qO,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>l.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",zO,[i("div",QO,[i("span",{style:Ft({width:n.value})},null,4)]),i("span",ZO,d(a.value),1)]),i("ol",eR,[(R(!0),v(be,null,Re(e.steps,p=>(R(),v("li",{key:p.id,class:Me({"is-complete":p.completed})},[i("div",tR,[i("span",nR,[p.completed?(R(),v("span",sR)):(R(),v("span",iR))]),i("div",null,[i("h3",null,d(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,d(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",oR,[p.link?(R(),v("button",{key:0,type:"button",class:Me(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:S=>l.$emit("navigate",p)},d(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,aR)):Ae("",!0)])],2))),128))])])])):Ae("",!0)}},[["__scopeId","data-v-c2a94811"]]),lR=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let o=String(e);return t.forEach(a=>{const l=a!=null?a:"";o=o.replace("%s",String(l))}),o},cR=(e,t="",s=[])=>{var a;const o=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(n=l)}return lR(n,s)};function dR(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const l=t[n];return l!=null&&l!==""?l:a};return{__:(n,a="",l=[],u="")=>{const p=s(u,a);return cR(n,p,l)}}}class uR{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};o.headers={...o.headers,...s.headers||{}};const n=String(o.method||"GET").toUpperCase();let a=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const l=await fetch(a,o);let u=null;const p=await l.text();if(p)try{u=JSON.parse(p)}catch(S){}if(!l.ok){const S=new Error((u==null?void 0:u.message)||`Request failed with status ${l.status}`);throw S.code=l.status,S.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,S}if((u==null?void 0:u.success)===!1){const S=new Error(u.message||"Unknown API error");throw S.details=u.data||u.errors||null,S}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,o);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(o){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var b,x,$,w;const l=new URLSearchParams({limit:String(s),start:String(o)});n&&l.set("search",n);const u=`${t}&${l.toString()}`,S=(b=(await this.get(u,{signal:a})).data)!=null?b:{},f=($=(x=S.items)!=null?x:S.data)!=null?$:[],c=(w=S.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCategories({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var S,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(S=(await this.get(l,{signal:a})).data)!=null?S:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:o=0,search:n="",state:a="",signal:l}){var b,x,$,w;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,state:a||void 0}),S=(b=(await this.get(u,{signal:l})).data)!=null?b:{},f=($=(x=S.items)!=null?x:S.data)!=null?$:[],c=(w=S.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCustomers({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var c,b,x;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(c=(await this.get(l,{signal:a})).data)!=null?c:{},S=(b=p.items)!=null?b:[],f=(x=p.pagination)!=null?x:{total:0,limit:s,pages:0,current:0};return{items:S,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var S,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(S=(await this.get(l,{signal:a})).data)!=null?S:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var S,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(S=(await this.get(l,{signal:a})).data)!=null?S:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var S,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(S=(await this.get(l,{signal:a})).data)!=null?S:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:o=0,search:n="",entity:a="",signal:l}){var f,c,b;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,entity:a||void 0}),S=(f=(await this.get(u,{signal:l})).data)!=null?f:{};return{items:(c=S.items)!=null?c:[],pagination:(b=S.pagination)!=null?b:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,n;return t?(n=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:o=""}){var l,u;const n=this.mergeParams(t,{id:s||void 0,order_no:o||void 0});return(u=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.post(n,{state:o})).data)==null?void 0:l.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:o}){var l;const n={ids:s,state:o};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:o}){var a,l;return(l=(a=(await this.post(t,{id:s,message:o})).data)==null?void 0:a.order)!=null?l:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:o}){var l,u;const n={id:s||void 0,order_no:o||void 0};return(u=(l=(await this.post(t,n)).data)==null?void 0:l.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:o=""}){var l,u;const n=this.mergeParams(t,{search:s||void 0,state:o||void 0});return(u=(l=(await this.get(n)).data)==null?void 0:l.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:o}){var a,l;return(l=(a=(await this.post(t,{id:s,...o})).data)==null?void 0:a.order)!=null?l:null}async sendOrderEmail({endpoint:t,id:s,type:o}){var a,l;return(l=(a=(await this.post(t,{id:s,type:o})).data)==null?void 0:a.order)!=null?l:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async gdprExport({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.export)!=null?l:null}async gdprAnonymise({endpoint:t,email:s}){var n,a,l,u;const o=await this.post(t,{email:s});return{affected:(a=(n=o.data)==null?void 0:n.affected)!=null?a:0,message:(u=(l=o.data)==null?void 0:l.message)!=null?u:""}}mergeParams(t,s={}){const o=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||o.set(n,String(a))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const Et=e=>new uR(e),ia=typeof window!="undefined"&&window.performance;function oa(e){if(ia)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function pR(e,t,s){if(!ia)return null;try{performance.measure(e,t,s);const o=performance.getEntriesByName(e,"measure")[0];if(o)return console.log(`[NXP EC Performance] ${e}: ${o.duration.toFixed(2)}ms`),o.duration}catch(o){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,o)}return null}const gs=$e({}),_R=3e5;function fR(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function vt(e,t=_R){const s=gs[e];return s?fR(s,t)?s.data:(delete gs[e],null):null}function St(e,t){gs[e]={data:t,timestamp:Date.now()}}function Ue(e){delete gs[e]}function Nt(e){const t=Be({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return oa(l),l},endFetch:l=>{const u=`${e}-fetch-end`;oa(u);const p=pR(`${e}-fetch`,l,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const li=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function mR({endpoints:e,token:t,autoload:s=!0,cacheTTL:o=3e5}){var j,ne,de,Ee;const n=Et({token:t}),a=Nt("products"),l=(j=e==null?void 0:e.list)!=null?j:"",u=(ne=e==null?void 0:e.create)!=null?ne:li(l,"store"),p=(de=e==null?void 0:e.update)!=null?de:li(l,"update"),S=(Ee=e==null?void 0:e.delete)!=null?Ee:li(l,"delete"),f=typeof AbortController!="undefined",c=$e({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),b=Be(null),x=()=>{const W=c.pagination.current||1,H=c.pagination.limit||20,q=c.search.trim();return`products:page=${W}:limit=${H}:search=${q}`},$=async(W=!1)=>{var fe;if(!l){c.error="Products endpoint unavailable.",c.items=[];return}const H=x(),q=W?null:vt(H,o);if(q){a.recordCacheHit(),c.items=q.items,c.pagination={...c.pagination,...q.pagination},c.lastUpdated=q.lastUpdated;return}a.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],b.value&&f&&b.value.abort();const B=f?new AbortController:null;b.value=B;const se=a.startFetch();try{const{items:ue,pagination:Z}=await n.fetchProducts({endpoint:l,signal:B?B.signal:void 0,limit:c.pagination.limit,start:Math.max(0,(c.pagination.current-1)*c.pagination.limit),search:c.search.trim()});c.items=ue,c.pagination={...c.pagination,...Z,current:Z.current&&Z.current>0?Z.current:1},c.lastUpdated=new Date().toISOString(),St(H,{items:ue,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(ue){if((ue==null?void 0:ue.name)==="AbortError")return;c.error=(fe=ue==null?void 0:ue.message)!=null?fe:"Unknown error"}finally{a.endFetch(se),f&&b.value===B&&(b.value=null),c.loading=!1}},w=()=>{c.pagination.current=1,Ue(x()),$(!0)},I=()=>{c.pagination.current=1,$()},N=W=>W?typeof W=="string"?W:typeof W=="object"&&W.message?String(W.message):String(W):"",D=(W,{setValidation:H=!1}={})=>{var q;if((W==null?void 0:W.code)===422&&H){const B=Array.isArray(W.details)?W.details:[W.details].filter(Boolean);c.validationErrors=B.map(N).filter(se=>se!=="");return}c.error=(q=W==null?void 0:W.message)!=null?q:"Unknown error"},K=async W=>{if(!u)throw new Error("Create endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const H=await n.createProduct({endpoint:u,data:W});return H&&(c.items=[H,...c.items],c.pagination.total+=1,Ue(x())),H}catch(H){throw D(H,{setValidation:!0}),H}finally{c.saving=!1}},L=async(W,H)=>{if(!p)throw new Error("Update endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const q=await n.updateProduct({endpoint:p,id:W,data:H});if(q){const B=c.items.findIndex(se=>se.id===q.id);B!==-1&&c.items.splice(B,1,q),Ue(x())}return q}catch(q){throw D(q,{setValidation:!0}),q}finally{c.saving=!1}},C=async W=>{if(!S)throw new Error("Delete endpoint unavailable.");c.deleting=!0,c.validationErrors=[];try{const H=await n.deleteProducts({endpoint:S,ids:W});return H.length&&(c.items=c.items.filter(q=>!H.includes(q.id)),c.pagination.total=Math.max(0,c.pagination.total-H.length),Ue(x())),H}catch(H){throw D(H),H}finally{c.deleting=!1}};return it(()=>{s&&$()}),{state:c,loadProducts:$,refresh:w,search:I,createProduct:K,updateProduct:L,deleteProducts:C,metrics:a.metrics}}function hR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var ne,de,Ee,W,H,q,B,se,fe,ue,Z,ie,ee,pe;const a=Et({token:t}),l=Nt("categories"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.create)!=null?de:u,S=(Ee=e==null?void 0:e.update)!=null?Ee:u,f=(W=e==null?void 0:e.delete)!=null?W:u,c=$e({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(se=(B=(H=s.pagination)==null?void 0:H.total)!=null?B:(q=s.items)==null?void 0:q.length)!=null?se:0,limit:(ue=(fe=s.pagination)==null?void 0:fe.limit)!=null?ue:20,pages:(ie=(Z=s.pagination)==null?void 0:Z.pages)!=null?ie:0,current:(pe=(ee=s.pagination)==null?void 0:ee.current)!=null?pe:1},search:"",lastUpdated:null}),b=typeof AbortController!="undefined",x=Be(null),$=()=>{const U=c.pagination.current||1,z=c.pagination.limit||20,Q=c.search.trim();return`categories:page=${U}:limit=${z}:search=${Q}`},w=async(U=!1)=>{var _e;if(!u){c.error="Categories endpoint unavailable.",c.items=[];return}const z=$(),Q=U?null:vt(z,n);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],x.value&&b&&x.value.abort();const ae=b?new AbortController:null;x.value=ae;const me=l.startFetch();try{const Se=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:Pe,pagination:k}=await a.fetchCategories({endpoint:u,limit:c.pagination.limit,start:Se,search:c.search.trim(),signal:ae?ae.signal:void 0});c.items=Pe,c.pagination={...c.pagination,...k,current:k.current&&k.current>0?k.current:1},c.lastUpdated=new Date().toISOString(),St(z,{items:Pe,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Se){if((Se==null?void 0:Se.name)==="AbortError")return;c.error=(_e=Se==null?void 0:Se.message)!=null?_e:"Unknown error"}finally{l.endFetch(me),b&&x.value===ae&&(x.value=null),c.loading=!1}},I=()=>{c.pagination.current=1,Ue($()),w(!0)},N=()=>{c.pagination.current=1,w()},D=U=>{const z=Number(U);Number.isNaN(z)||z<1||z===c.pagination.current||(c.pagination.current=z,w(!0))},K=(U,{validation:z=!1}={})=>{var Q;if(z&&(U==null?void 0:U.code)===422){const ae=U.details,me=Array.isArray(ae)?ae:[ae].filter(Boolean);c.validationErrors=me.map(_e=>_e?typeof _e=="string"?_e:typeof _e=="object"&&_e.message?String(_e.message):String(_e):"").filter(Boolean);return}c.error=(Q=U==null?void 0:U.message)!=null?Q:"Unknown error"},L=async U=>{if(!p||!S)throw new Error("Category endpoints unavailable.");c.saving=!0,c.error="",c.validationErrors=[];try{let z=null;return U.id?z=await a.updateCategory({endpoint:S,id:U.id,data:U}):z=await a.createCategory({endpoint:p,data:U}),z&&(Ue($()),await w()),z}catch(z){throw K(z,{validation:!0}),z}finally{c.saving=!1}},C=async U=>{if(!Array.isArray(U)||!U.length||!f)return 0;c.deleting=!0,c.error="";try{const z=await a.deleteCategories({endpoint:f,ids:U});return z&&(Ue($()),await w()),z}catch(z){throw K(z),z}finally{c.deleting=!1}},j=async()=>{if(!u)return[];try{const{items:U}=await a.fetchCategories({endpoint:u,limit:200,start:0,search:""});return U}catch(U){return[]}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadCategories:w,refresh:I,search:N,goToPage:D,saveCategory:L,deleteCategories:C,loadOptions:j,metrics:l.metrics}}const Kt=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function gR({endpoints:e,token:t,states:s=[],preload:o={},autoload:n=!0,cacheTTL:a=3e5}){var _e,Se,Pe,k,O,g,_,m,P,V,X,G,A;const l=Et({token:t}),u=Nt("orders"),p=(_e=e==null?void 0:e.list)!=null?_e:"",S=(Se=e==null?void 0:e.show)!=null?Se:Kt(p,"show"),f=(Pe=e==null?void 0:e.transition)!=null?Pe:Kt(p,"transition"),c=(k=e==null?void 0:e.bulkTransition)!=null?k:Kt(p,"bulkTransition"),b=(O=e==null?void 0:e.note)!=null?O:Kt(p,"note"),x=(g=e==null?void 0:e.tracking)!=null?g:Kt(p,"tracking"),$=(_=e==null?void 0:e.invoice)!=null?_:Kt(p,"invoice"),w=(m=e==null?void 0:e.export)!=null?m:Kt(p,"export"),I=(P=e==null?void 0:e.sendEmail)!=null?P:Kt(p,"sendEmail"),N=typeof AbortController!="undefined",D=Be(null),K=Array.isArray(o==null?void 0:o.items)?o.items:[],L=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},C=$e({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...K],pagination:{total:(V=L.total)!=null?V:K.length,limit:(X=L.limit)!=null?X:20,pages:(G=L.pages)!=null?G:0,current:(A=L.current)!=null?A:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),j=()=>{const h=C.pagination.current||1,E=C.pagination.limit||20,T=C.search.trim(),y=C.filterState||"";return`orders:page=${h}:limit=${E}:search=${T}:state=${y}`},ne=async(h=!1)=>{var J;if(!p){C.error="Orders endpoint unavailable.",C.items=[];return}const E=j(),T=h?null:vt(E,a);if(T){u.recordCacheHit(),C.items=T.items,C.pagination={...C.pagination,...T.pagination},C.lastUpdated=T.lastUpdated;return}u.recordCacheMiss(),C.loading=!0,C.error="",D.value&&N&&D.value.abort();const y=N?new AbortController:null;D.value=y;const M=u.startFetch();try{const F=Math.max(0,(C.pagination.current-1)*C.pagination.limit),{items:re,pagination:le}=await l.fetchOrders({endpoint:p,limit:C.pagination.limit,start:F,search:C.search.trim(),state:C.filterState,signal:y?y.signal:void 0});C.items=re,C.pagination={...C.pagination,...le,current:le.current&&le.current>0?le.current:1},C.selection.clear(),C.lastUpdated=new Date().toISOString(),St(E,{items:re,pagination:C.pagination,lastUpdated:C.lastUpdated})}catch(F){if((F==null?void 0:F.name)==="AbortError")return;C.error=(J=F==null?void 0:F.message)!=null?J:"Unknown error"}finally{u.endFetch(M),N&&D.value===y&&(D.value=null),C.loading=!1}},de=()=>{C.pagination.current=1,Ue(j()),ne(!0)},Ee=()=>{C.pagination.current=1,ne()},W=h=>{C.filterState=h||"",C.pagination.current=1,ne()},H=h=>{const E=Number(h);Number.isNaN(E)||E<1||E===C.pagination.current||(C.pagination.current=E,ne(!0))},q=()=>{C.selection.clear()},B=h=>{h&&(C.selection.has(h)?C.selection.delete(h):C.selection.add(h))},se=()=>{C.pagination.current>=C.pagination.pages||(C.pagination.current+=1,ne(!0))},fe=()=>{C.pagination.current<=1||(C.pagination.current-=1,ne(!0))},ue=async(h,E="")=>{var T;if(!S)return null;try{return await l.fetchOrder({endpoint:S,id:h,orderNumber:E})}catch(y){return C.transitionError=(T=y==null?void 0:y.message)!=null?T:"Unknown error",null}},Z=async h=>{var E,T,y,M,J,F,re;if(!h){C.activeOrder=null;return}if(C.transitionError="",h.items&&h.items.length&&h.billing){C.activeOrder=h;return}try{const le=await ue(h.id,h.order_no);C.activeOrder=le||{...h,items:Array.isArray(h.items)?h.items:[],transactions:(E=h.transactions)!=null?E:[],timeline:(T=h.timeline)!=null?T:[],billing:(y=h.billing)!=null?y:{}}}catch(le){C.transitionError=(M=le==null?void 0:le.message)!=null?M:"Unknown error",C.activeOrder={...h,items:Array.isArray(h.items)?h.items:[],transactions:(J=h.transactions)!=null?J:[],timeline:(F=h.timeline)!=null?F:[],billing:(re=h.billing)!=null?re:{}}}},ie=()=>{C.transitionError="",C.activeOrder=null},ee=h=>{if(!(h!=null&&h.id))return;const E=C.items.findIndex(T=>T.id===h.id);E!==-1&&C.items.splice(E,1,h)},pe=async(h,E)=>{var T;if(!f)throw new Error("Transition endpoint unavailable.");C.saving=!0,C.transitionError="";try{const y=await l.transitionOrder({endpoint:f,id:h,state:E});return y&&(ee(y),C.activeOrder&&C.activeOrder.id===y.id&&(C.activeOrder=y),Ue(j())),y}catch(y){throw C.transitionError=(T=y==null?void 0:y.message)!=null?T:"Unknown error",y}finally{C.saving=!1}},U=async(h,E)=>{var T;if(!x)throw new Error("Tracking endpoint unavailable.");C.saving=!0,C.transitionError="";try{const y=await l.updateOrderTracking({endpoint:x,id:h,tracking:E});return y&&(ee(y),C.activeOrder&&C.activeOrder.id===y.id&&(C.activeOrder=y),Ue(j())),y}catch(y){throw C.transitionError=(T=y==null?void 0:y.message)!=null?T:"Unknown error",y}finally{C.saving=!1}},z=async(h,E="")=>{var T;if(!$)throw new Error("Invoice endpoint unavailable.");C.invoiceLoading=!0,C.transitionError="";try{const y=await l.fetchOrderInvoice({endpoint:$,id:h,orderNumber:E});if(!y)throw new Error("Invoice not available.");return y}catch(y){throw C.transitionError=(T=y==null?void 0:y.message)!=null?T:"Unknown error",y}finally{C.invoiceLoading=!1}},Q=async()=>{var h;if(!w)throw new Error("Export endpoint unavailable.");C.exporting=!0,C.error="";try{const E=await l.exportOrders({endpoint:w,search:C.search.trim(),state:C.filterState});if(!E)throw new Error("Export not available.");return E}catch(E){throw C.error=(h=E==null?void 0:E.message)!=null?h:"Export failed",E}finally{C.exporting=!1}},ae=async(h,E)=>{var T;if(!I)throw new Error("Send email endpoint unavailable.");C.saving=!0,C.transitionError="";try{const y=await l.sendOrderEmail({endpoint:I,id:h,type:E});return y&&(ee(y),C.activeOrder&&C.activeOrder.id===y.id&&(C.activeOrder=y),Ue(j())),y}catch(y){throw C.transitionError=(T=y==null?void 0:y.message)!=null?T:"Failed to send email",y}finally{C.saving=!1}},me=async(h,E)=>{var T;if(!c)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(h)||!h.length)return{updated:[]};C.saving=!0;try{const y=await l.bulkTransitionOrders({endpoint:c,ids:h,state:E}),M=Array.isArray(y.updated)?y.updated:[];return M.forEach(J=>{ee(J),C.activeOrder&&C.activeOrder.id===J.id&&(C.activeOrder=J)}),q(),{updated:M}}catch(y){throw C.transitionError=(T=y==null?void 0:y.message)!=null?T:"Unknown error",y}finally{C.saving=!1}};return it(()=>{n&&ne()}),{state:C,loadOrders:ne,refresh:de,search:Ee,setFilterState:W,goToPage:H,nextPage:se,previousPage:fe,viewOrder:Z,closeOrder:ie,transitionOrder:pe,bulkTransition:me,updateTracking:U,downloadInvoice:z,exportOrders:Q,sendEmail:ae,toggleSelection:B,clearSelection:q,metrics:u.metrics,addNote:async(h,E)=>{var T;if(!b)throw new Error("Note endpoint unavailable.");if(!h||!E||!E.trim())return null;C.transitionError="",C.saving=!0;try{const y=await l.addOrderNote({endpoint:b,id:h,message:E});return y&&(ee(y),C.activeOrder&&C.activeOrder.id===y.id&&(C.activeOrder=y)),y}catch(y){throw C.transitionError=(T=y==null?void 0:y.message)!=null?T:"Unknown error",y}finally{C.saving=!1}}}}function ER({endpoint:e="",token:t="",preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var f,c,b;const a=Et({token:t}),l=Nt("dashboard"),u=$e({loading:!1,error:"",summary:(b=s.summary)!=null?b:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(c=(f=s.summary)==null?void 0:f.currency)!=null?c:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",S=async(x=!1)=>{var N,D;if(!e)return;const $=p(),w=x?null:vt($,n);if(w){l.recordCacheHit(),u.summary=w.summary,u.checklist=w.checklist,u.lastUpdated=w.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="";const I=l.startFetch();try{const K=await a.fetchDashboard({endpoint:e});u.summary=(N=K.summary)!=null?N:u.summary,u.checklist=Array.isArray(K.checklist)?K.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),St($,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(K){u.error=(D=K==null?void 0:K.message)!=null?D:"Unknown error"}finally{l.endFetch(I),u.loading=!1}};return it(()=>{o&&(!Array.isArray(u.checklist)||!u.checklist.length)&&S()}),{state:u,refresh:S,metrics:l.metrics}}function SR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var ne,de,Ee,W,H,q,B,se,fe,ue,Z,ie,ee,pe,U,z,Q;const a=Et({token:t}),l=Nt("customers"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.show)!=null?de:"",S=(W=(Ee=e==null?void 0:e.gdpr)==null?void 0:Ee.export)!=null?W:"",f=(q=(H=e==null?void 0:e.gdpr)==null?void 0:H.anonymise)!=null?q:"",c=$e({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ue=(fe=(B=s.pagination)==null?void 0:B.total)!=null?fe:(se=s.items)==null?void 0:se.length)!=null?ue:0,limit:(ie=(Z=s.pagination)==null?void 0:Z.limit)!=null?ie:20,pages:(pe=(ee=s.pagination)==null?void 0:ee.pages)!=null?pe:0,current:(z=(U=s.pagination)==null?void 0:U.current)!=null?z:1},search:"",activeCustomer:(Q=s.active)!=null?Q:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),b=typeof AbortController!="undefined",x=Be(null),$=()=>{const ae=c.pagination.current||1,me=c.pagination.limit||20,_e=c.search.trim();return`customers:page=${ae}:limit=${me}:search=${_e}`},w=async(ae=!1)=>{var k;if(!u){c.error="Customers endpoint unavailable.",c.items=[];return}const me=$(),_e=ae?null:vt(me,n);if(_e){l.recordCacheHit(),c.items=_e.items,c.pagination={...c.pagination,..._e.pagination},c.lastUpdated=_e.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",x.value&&b&&x.value.abort();const Se=b?new AbortController:null;x.value=Se;const Pe=l.startFetch();try{const O=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:g,pagination:_}=await a.fetchCustomers({endpoint:u,limit:c.pagination.limit,start:O,search:c.search.trim(),signal:Se?Se.signal:void 0});c.items=g,c.pagination={...c.pagination,..._,current:_.current&&_.current>0?_.current:1},c.lastUpdated=new Date().toISOString(),St(me,{items:g,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(O){if((O==null?void 0:O.name)==="AbortError")return;c.error=(k=O==null?void 0:O.message)!=null?k:"Unknown error"}finally{l.endFetch(Pe),b&&x.value===Se&&(x.value=null),c.loading=!1}},I=()=>{c.pagination.current=1,Ue($()),w(!0)},N=()=>{c.pagination.current=1,w()},D=ae=>{const me=Number(ae);Number.isNaN(me)||me<1||me===c.pagination.current||(c.pagination.current=me,w(!0))},K=async ae=>{var me;if(!p||!(ae!=null&&ae.email)){c.activeCustomer=ae||null;return}try{const _e=await a.fetchCustomer({endpoint:p,email:ae.email});c.activeCustomer=_e||ae}catch(_e){c.error=(me=_e==null?void 0:_e.message)!=null?me:"Unknown error"}},L=()=>{c.activeCustomer=null,c.gdprMessage="",c.gdprSuccess=!1},C=async ae=>{var me;if(!S||!ae){c.gdprMessage="GDPR export endpoint unavailable.",c.gdprSuccess=!1;return}c.gdprLoading=!0,c.gdprMessage="";try{const _e=await a.gdprExport({endpoint:S,email:ae});if(!_e)throw new Error("No data returned");const Se=new Blob([JSON.stringify(_e,null,2)],{type:"application/json"}),Pe=URL.createObjectURL(Se),k=document.createElement("a");k.href=Pe,k.download=`gdpr-export-${ae.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(Pe),c.gdprMessage="Data exported successfully.",c.gdprSuccess=!0}catch(_e){c.gdprMessage=(me=_e==null?void 0:_e.message)!=null?me:"Export failed",c.gdprSuccess=!1}finally{c.gdprLoading=!1}},j=async ae=>{var _e;if(!f||!ae){c.gdprMessage="GDPR anonymise endpoint unavailable.",c.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${ae}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){c.gdprLoading=!0,c.gdprMessage="";try{const Se=await a.gdprAnonymise({endpoint:f,email:ae});c.gdprMessage=Se.message||`Anonymised ${Se.affected} order(s).`,c.gdprSuccess=!0,Ue($()),w(!0),setTimeout(()=>{c.activeCustomer=null,c.gdprMessage=""},2e3)}catch(Se){c.gdprMessage=(_e=Se==null?void 0:Se.message)!=null?_e:"Anonymisation failed",c.gdprSuccess=!1}finally{c.gdprLoading=!1}}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadCustomers:w,refresh:I,search:N,goToPage:D,viewCustomer:K,closeCustomer:L,gdprExport:C,gdprAnonymise:j,metrics:l.metrics}}function CR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var ne,de,Ee,W,H,q,B,se,fe,ue,Z,ie,ee,pe;const a=Et({token:t}),l=Nt("coupons"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.create)!=null?de:u,S=(Ee=e==null?void 0:e.update)!=null?Ee:u,f=(W=e==null?void 0:e.delete)!=null?W:u,c=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(se=(B=(H=s.pagination)==null?void 0:H.total)!=null?B:(q=s.items)==null?void 0:q.length)!=null?se:0,limit:(ue=(fe=s.pagination)==null?void 0:fe.limit)!=null?ue:20,pages:(ie=(Z=s.pagination)==null?void 0:Z.pages)!=null?ie:0,current:(pe=(ee=s.pagination)==null?void 0:ee.current)!=null?pe:1},search:"",activeCoupon:null,lastUpdated:null}),b=typeof AbortController!="undefined",x=Be(null),$=()=>{const U=c.pagination.current||1,z=c.pagination.limit||20,Q=c.search.trim();return`coupons:page=${U}:limit=${z}:search=${Q}`},w=async(U=!1)=>{var _e;if(!u){c.error="Coupons endpoint unavailable.",c.items=[];return}const z=$(),Q=U?null:vt(z,n);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",x.value&&b&&x.value.abort();const ae=b?new AbortController:null;x.value=ae;const me=l.startFetch();try{const Se=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:Pe,pagination:k}=await a.fetchCoupons({endpoint:u,limit:c.pagination.limit,start:Se,search:c.search.trim(),signal:ae?ae.signal:void 0});c.items=Pe,c.pagination={...c.pagination,...k,current:k.current&&k.current>0?k.current:1},c.lastUpdated=new Date().toISOString(),St(z,{items:Pe,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Se){if((Se==null?void 0:Se.name)==="AbortError")return;c.error=(_e=Se==null?void 0:Se.message)!=null?_e:"Unknown error"}finally{l.endFetch(me),b&&x.value===ae&&(x.value=null),c.loading=!1}},I=()=>{c.pagination.current=1,Ue($()),w(!0)},N=()=>{c.pagination.current=1,w()},D=U=>{const z=Number(U);Number.isNaN(z)||z<1||z===c.pagination.current||(c.pagination.current=z,w(!0))},K=U=>{c.activeCoupon=U},L=U=>{const z=c.items.findIndex(Q=>Q.id===U.id);z===-1?c.items.unshift(U):c.items.splice(z,1,U)},C=async U=>{var z;c.saving=!0,c.error="";try{let Q=null;return U.id?Q=await a.updateCoupon({endpoint:S,id:U.id,data:U}):Q=await a.createCoupon({endpoint:p,data:U}),Q&&(L(Q),c.activeCoupon&&c.activeCoupon.id===Q.id&&(c.activeCoupon=Q),Ue($())),Q}catch(Q){throw c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error",Q}finally{c.saving=!1}},j=async U=>{var z;if(!Array.isArray(U)||!U.length)return 0;c.saving=!0,c.error="";try{const Q=await a.deleteCoupons({endpoint:f,ids:U});return Q&&(c.items=c.items.filter(ae=>!U.includes(ae.id)),c.activeCoupon&&U.includes(c.activeCoupon.id)&&(c.activeCoupon=null),Ue($())),Q}catch(Q){throw c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error",Q}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadCoupons:w,refresh:I,search:N,goToPage:D,setActive:K,saveCoupon:C,deleteCoupons:j,metrics:l.metrics}}const ci=(e={})=>{var u,p,S,f,c,b,x,$,w,I,N,D,K,L,C,j,ne,de,Ee;const t=(u=e.store)!=null?u:{},s=(p=e.payments)!=null?p:{},o=(S=e.visual)!=null?S:{},n=(f=e.visual_defaults)!=null?f:{},a=(b=(c=e.security)==null?void 0:c.rate_limits)!=null?b:{},l=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"";return{store:{name:(x=t.name)!=null?x:"",email:($=t.email)!=null?$:"",phone:(w=t.phone)!=null?w:""},payments:{configured:!!s.configured},base_currency:l,checkout_phone_required:!!e.checkout_phone_required,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",visual:{primary_color:(I=o.primary_color)!=null?I:"",text_color:(N=o.text_color)!=null?N:"",surface_color:(D=o.surface_color)!=null?D:"",border_color:(K=o.border_color)!=null?K:"",muted_color:(L=o.muted_color)!=null?L:""},visual_defaults:{primary_color:(C=n.primary_color)!=null?C:"#4f6d7a",text_color:(j=n.text_color)!=null?j:"#1f2933",surface_color:(ne=n.surface_color)!=null?ne:"#ffffff",border_color:(de=n.border_color)!=null?de:"#e4e7ec",muted_color:(Ee=n.muted_color)!=null?Ee:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(a.checkout_ip_limit))?Number(a.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(a.checkout_email_limit))?Number(a.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(a.checkout_session_limit))?Number(a.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(a.checkout_window_minutes))?Number(a.checkout_window_minutes):Number.isFinite(Number(a.checkout_window))?Math.max(0,Math.ceil(Number(a.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(a.offline_ip_limit))?Number(a.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(a.offline_email_limit))?Number(a.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(a.offline_window_minutes))?Number(a.offline_window_minutes):Number.isFinite(Number(a.offline_window))?Math.max(0,Math.ceil(Number(a.offline_window)/60)):30}}}};function bR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var b,x;const a=Et({token:t}),l=Nt("settings"),u=(b=e==null?void 0:e.show)!=null?b:"",p=(x=e==null?void 0:e.update)!=null?x:u,S=$e({loading:!1,saving:!1,error:"",values:ci(s),lastUpdated:null}),f=async($=!1)=>{var D;if(!u){S.error="Settings endpoint unavailable.";return}const w="settings:data",I=$?null:vt(w,n);if(I){l.recordCacheHit(),S.values=I.values,S.lastUpdated=I.lastUpdated;return}l.recordCacheMiss(),S.loading=!0,S.error="";const N=l.startFetch();try{const K=await a.fetchSettings({endpoint:u});S.values=ci(K),S.lastUpdated=new Date().toISOString(),St(w,{values:S.values,lastUpdated:S.lastUpdated})}catch(K){throw S.error=(D=K==null?void 0:K.message)!=null?D:"Unknown error",K}finally{l.endFetch(N),S.loading=!1}},c=async $=>{var w;if(!p)return S.error="Settings endpoint unavailable.",null;S.saving=!0,S.error="";try{const I=await a.updateSettings({endpoint:p,data:$});return S.values=ci(I),S.lastUpdated=new Date().toISOString(),Ue("settings:data"),St("settings:data",{values:S.values,lastUpdated:S.lastUpdated}),S.values}catch(I){throw S.error=(w=I==null?void 0:I.message)!=null?w:"Unknown error",I}finally{S.saving=!1}};return it(()=>{o&&(!s||!s.store)&&f()}),{state:S,refresh:f,save:c,metrics:l.metrics}}function AR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var K,L,C,j,ne,de,Ee,W,H,q,B,se,fe,ue;const a=Et({token:t}),l=Nt("taxRates"),u=(K=e==null?void 0:e.list)!=null?K:"",p=(L=e==null?void 0:e.create)!=null?L:u,S=(C=e==null?void 0:e.update)!=null?C:u,f=(j=e==null?void 0:e.delete)!=null?j:u,c=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(W=(Ee=(ne=s.pagination)==null?void 0:ne.total)!=null?Ee:(de=s.items)==null?void 0:de.length)!=null?W:0,limit:(q=(H=s.pagination)==null?void 0:H.limit)!=null?q:20,pages:(se=(B=s.pagination)==null?void 0:B.pages)!=null?se:0,current:(ue=(fe=s.pagination)==null?void 0:fe.current)!=null?ue:1},search:"",lastUpdated:null}),b=typeof AbortController!="undefined",x=Be(null),$=()=>{const Z=c.pagination.current||1,ie=c.pagination.limit||20,ee=c.search.trim();return`taxRates:page=${Z}:limit=${ie}:search=${ee}`},w=async(Z=!1)=>{var z;if(!u){c.error="Tax endpoint unavailable.",c.items=[];return}const ie=$(),ee=Z?null:vt(ie,n);if(ee){l.recordCacheHit(),c.items=ee.items,c.pagination={...c.pagination,...ee.pagination},c.lastUpdated=ee.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",x.value&&b&&x.value.abort();const pe=b?new AbortController:null;x.value=pe;const U=l.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:ae,pagination:me}=await a.fetchTaxRates({endpoint:u,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:pe?pe.signal:void 0});c.items=ae,c.pagination={...c.pagination,...me,current:me.current&&me.current>0?me.current:1},c.lastUpdated=new Date().toISOString(),St(ie,{items:ae,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error"}finally{l.endFetch(U),b&&x.value===pe&&(x.value=null),c.loading=!1}},I=()=>{c.pagination.current=1,Ue($()),w(!0)},N=async Z=>{var ie;c.saving=!0,c.error="";try{const ee=Z.id?await a.updateTaxRate({endpoint:S,id:Z.id,data:Z}):await a.createTaxRate({endpoint:p,data:Z});if(ee){const pe=c.items.findIndex(U=>U.id===ee.id);pe===-1?c.items.unshift(ee):c.items.splice(pe,1,ee),Ue($())}return ee}catch(ee){throw c.error=(ie=ee==null?void 0:ee.message)!=null?ie:"Unknown error",ee}finally{c.saving=!1}},D=async Z=>{var ie;if(!Array.isArray(Z)||!Z.length)return 0;c.saving=!0,c.error="";try{const ee=await a.deleteTaxRates({endpoint:f,ids:Z});return ee&&(c.items=c.items.filter(pe=>!Z.includes(pe.id)),Ue($())),ee}catch(ee){throw c.error=(ie=ee==null?void 0:ee.message)!=null?ie:"Unknown error",ee}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadRates:w,refresh:I,saveRate:N,deleteRates:D,metrics:l.metrics}}function TR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var K,L,C,j,ne,de,Ee,W,H,q,B,se,fe,ue;const a=Et({token:t}),l=Nt("shippingRules"),u=(K=e==null?void 0:e.list)!=null?K:"",p=(L=e==null?void 0:e.create)!=null?L:u,S=(C=e==null?void 0:e.update)!=null?C:u,f=(j=e==null?void 0:e.delete)!=null?j:u,c=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(W=(Ee=(ne=s.pagination)==null?void 0:ne.total)!=null?Ee:(de=s.items)==null?void 0:de.length)!=null?W:0,limit:(q=(H=s.pagination)==null?void 0:H.limit)!=null?q:20,pages:(se=(B=s.pagination)==null?void 0:B.pages)!=null?se:0,current:(ue=(fe=s.pagination)==null?void 0:fe.current)!=null?ue:1},search:"",lastUpdated:null}),b=typeof AbortController!="undefined",x=Be(null),$=()=>{const Z=c.pagination.current||1,ie=c.pagination.limit||20,ee=c.search.trim();return`shippingRules:page=${Z}:limit=${ie}:search=${ee}`},w=async(Z=!1)=>{var z;if(!u){c.error="Shipping endpoint unavailable.",c.items=[];return}const ie=$(),ee=Z?null:vt(ie,n);if(ee){l.recordCacheHit(),c.items=ee.items,c.pagination={...c.pagination,...ee.pagination},c.lastUpdated=ee.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",x.value&&b&&x.value.abort();const pe=b?new AbortController:null;x.value=pe;const U=l.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:ae,pagination:me}=await a.fetchShippingRules({endpoint:u,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:pe?pe.signal:void 0});c.items=ae,c.pagination={...c.pagination,...me,current:me.current&&me.current>0?me.current:1},c.lastUpdated=new Date().toISOString(),St(ie,{items:ae,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error"}finally{l.endFetch(U),b&&x.value===pe&&(x.value=null),c.loading=!1}},I=()=>{c.pagination.current=1,Ue($()),w(!0)},N=async Z=>{var ie;c.saving=!0,c.error="";try{const ee=Z.id?await a.updateShippingRule({endpoint:S,id:Z.id,data:Z}):await a.createShippingRule({endpoint:p,data:Z});if(ee){const pe=c.items.findIndex(U=>U.id===ee.id);pe===-1?c.items.unshift(ee):c.items.splice(pe,1,ee),Ue($())}return ee}catch(ee){throw c.error=(ie=ee==null?void 0:ee.message)!=null?ie:"Unknown error",ee}finally{c.saving=!1}},D=async Z=>{var ie;if(!Array.isArray(Z)||!Z.length)return 0;c.saving=!0,c.error="";try{const ee=await a.deleteShippingRules({endpoint:f,ids:Z});return ee&&(c.items=c.items.filter(pe=>!Z.includes(pe.id)),Ue($())),ee}catch(ee){throw c.error=(ie=ee==null?void 0:ee.message)!=null?ie:"Unknown error",ee}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadRules:w,refresh:I,saveRule:N,deleteRules:D,metrics:l.metrics}}function yR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var N,D,K,L,C,j,ne,de,Ee,W,H;const a=Et({token:t}),l=Nt("logs"),u=(N=e==null?void 0:e.list)!=null?N:"",p=$e({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(C=(L=(D=s.pagination)==null?void 0:D.total)!=null?L:(K=s.items)==null?void 0:K.length)!=null?C:0,limit:(ne=(j=s.pagination)==null?void 0:j.limit)!=null?ne:20,pages:(Ee=(de=s.pagination)==null?void 0:de.pages)!=null?Ee:0,current:(H=(W=s.pagination)==null?void 0:W.current)!=null?H:1},search:"",entity:"",lastUpdated:null}),S=typeof AbortController!="undefined",f=Be(null),c=()=>{const q=p.pagination.current||1,B=p.pagination.limit||20,se=p.search.trim(),fe=p.entity.trim();return`logs:page=${q}:limit=${B}:search=${se}:entity=${fe}`},b=async(q=!1)=>{var Z;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const B=c(),se=q?null:vt(B,n);if(se){l.recordCacheHit(),p.items=se.items,p.pagination={...p.pagination,...se.pagination},p.lastUpdated=se.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",S&&f.value&&f.value.abort();const fe=S?new AbortController:null;f.value=fe;const ue=l.startFetch();try{const ie=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:ee,pagination:pe}=await a.fetchLogs({endpoint:u,limit:p.pagination.limit,start:ie,search:p.search.trim(),entity:p.entity,signal:fe?fe.signal:void 0});p.items=ee,p.pagination={...p.pagination,...pe,current:pe.current&&pe.current>0?pe.current:1},p.lastUpdated=new Date().toISOString(),St(B,{items:ee,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(ie){if((ie==null?void 0:ie.name)==="AbortError")return;p.error=(Z=ie==null?void 0:ie.message)!=null?Z:"Unknown error"}finally{l.endFetch(ue),S&&f.value===fe&&(f.value=null),p.loading=!1}},x=()=>{p.pagination.current=1,Ue(c()),b(!0)},$=()=>{p.pagination.current=1,b()},w=q=>{const B=typeof q=="string"?q.trim():"";p.entity!==B&&(p.entity=B,p.pagination.current=1,b())},I=q=>{const B=Number(q);Number.isNaN(B)||B<1||B===p.pagination.current||(p.pagination.current=B,b(!0))};return it(()=>{o&&(!Array.isArray(p.items)||!p.items.length)&&b()}),{state:p,loadLogs:b,refresh:x,search:$,setEntity:w,goToPage:I,metrics:l.metrics}}const aa=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function OR({endpoints:e={},token:t=""}){const s=Et({token:t}),o=$e({loading:!1,saving:!1,error:"",config:aa(),message:""}),n=async()=>{var u,p,S,f;if(e.show){o.loading=!0,o.error="";try{const c=await s.get(e.show);o.config=l((S=(p=(u=c==null?void 0:c.data)==null?void 0:u.config)!=null?p:c==null?void 0:c.config)!=null?S:{})}catch(c){o.error=(f=c.message)!=null?f:"Unable to load payment configuration."}finally{o.loading=!1}}},a=async u=>{var p,S,f,c,b,x,$;if(e.update){o.saving=!0,o.error="",o.message="";try{const w=await s.post(e.update,{config:u});o.config=l((f=(S=(p=w==null?void 0:w.data)==null?void 0:p.config)!=null?S:w==null?void 0:w.config)!=null?f:{}),o.message=(x=(b=(c=w==null?void 0:w.data)==null?void 0:c.message)!=null?b:w==null?void 0:w.message)!=null?x:""}catch(w){o.error=($=w.message)!=null?$:"Unable to save payment configuration."}finally{o.saving=!1}}},l=u=>{var S,f,c,b;const p=aa();return{stripe:{...p.stripe,...(S=u.stripe)!=null?S:{}},paypal:{...p.paypal,...(f=u.paypal)!=null?f:{}},cod:{...p.cod,...(c=u.cod)!=null?c:{}},bank_transfer:{...p.bank_transfer,...(b=u.bank_transfer)!=null?b:{}}}};return{state:o,refresh:n,save:a}}const RR={class:"nxp-ec-admin-app__shell"},xR={class:"nxp-ec-admin-app__header"},vR={class:"nxp-ec-admin-app__title"},NR={class:"nxp-ec-admin-app__lead"},PR={key:0,class:"nxp-ec-admin-nav"},MR=["href"],IR={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},kR={class:"nxp-ec-admin-panel__body"},wR={class:"nxp-ec-admin-panel__lead"},Yn="nxp:admin:onboarding:dismissed",$R={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var fr,mr,hr,gr,Er,Sr,Cr,br,Ar,Tr,yr,Or,Rr,xr,vr,Nr,Pr,Mr,Ir,kr,wr,$r,Lr,Dr,Ur,Yr,Xr,Fr,Gr,Vr,Br,Hr,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,ol,al,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Sl,Cl,bl,Al,Tl,yl,Ol,Rl,xl,vl,Nl,Pl,Ml,Il,kl,wl,$l,Ll,Dl,Ul,Yl,Xl,Fl,Gl,Vl,Bl,Hl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,oc,ac,rc,lc,cc,dc,uc,pc,_c,fc,mc,hc,gc,Ec,Sc,Cc,bc,Ac,Tc,yc,Oc,Rc,xc,vc,Nc,Pc,Mc,Ic,kc,wc,$c,Lc,Dc,Uc,Yc,Xc,Fc,Gc,Vc,Bc;const t=e,{__:s}=dR(t.dataset),o=ge(()=>{var Y;return((Y=t.dataset)==null?void 0:Y.appTitleKey)||"COM_NXPEASYCART"}),n=ge(()=>{var Y;return((Y=t.dataset)==null?void 0:Y.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(Y,oe)=>{if(!Y||typeof Y!="string")return oe;try{return JSON.parse(Y)}catch(ye){return oe}},l=ge(()=>{var oe,ye;if(Array.isArray((oe=t.config)==null?void 0:oe.navItems))return t.config.navItems.map(Ge=>({id:Ge.id,title:Ge.title,link:Ge.link}));const Y=a((ye=t.dataset)==null?void 0:ye.navItems,[]);return Array.isArray(Y)?Y.map(Ge=>({id:Ge.id,title:Ge.title,link:Ge.link})):[]}),u=Y=>{const oe=l.value;if(!Array.isArray(oe))return"";const ye=oe.find(Ge=>Ge.id===Y);return ye?ye.link:""},p=ge(()=>{var Y,oe;return((Y=t.config)==null?void 0:Y.activeSection)||((oe=t.dataset)==null?void 0:oe.activeSection)||"dashboard"}),S=ge(()=>{var Y,oe;return((Y=t.config)==null?void 0:Y.settingsTab)||((oe=t.dataset)==null?void 0:oe.settingsTab)||"general"}),f=Y=>p.value===Y,c=ge(()=>f("dashboard")),b=ge(()=>f("products")),x=ge(()=>f("categories")||f("products")),$=ge(()=>f("orders")),w=ge(()=>f("customers")),I=ge(()=>f("coupons")),N=ge(()=>f("settings")),D=ge(()=>f("logs")),K=(Tr=(fr=t.endpoints)==null?void 0:fr.products)!=null?Tr:{list:(hr=(mr=t.dataset)==null?void 0:mr.productsEndpoint)!=null?hr:"",create:(Er=(gr=t.dataset)==null?void 0:gr.productsEndpointCreate)!=null?Er:"",update:(Cr=(Sr=t.dataset)==null?void 0:Sr.productsEndpointUpdate)!=null?Cr:"",delete:(Ar=(br=t.dataset)==null?void 0:br.productsEndpointDelete)!=null?Ar:""},L=(kr=(yr=t.endpoints)==null?void 0:yr.categories)!=null?kr:{list:(Rr=(Or=t.dataset)==null?void 0:Or.categoriesEndpoint)!=null?Rr:"",create:(vr=(xr=t.dataset)==null?void 0:xr.categoriesEndpointCreate)!=null?vr:"",update:(Pr=(Nr=t.dataset)==null?void 0:Nr.categoriesEndpointUpdate)!=null?Pr:"",delete:(Ir=(Mr=t.dataset)==null?void 0:Mr.categoriesEndpointDelete)!=null?Ir:""},C=(Hr=(wr=t.endpoints)==null?void 0:wr.orders)!=null?Hr:{list:(Lr=($r=t.dataset)==null?void 0:$r.ordersEndpoint)!=null?Lr:"",show:(Ur=(Dr=t.dataset)==null?void 0:Dr.ordersEndpointShow)!=null?Ur:"",transition:(Xr=(Yr=t.dataset)==null?void 0:Yr.ordersEndpointTransition)!=null?Xr:"",bulkTransition:(Gr=(Fr=t.dataset)==null?void 0:Fr.ordersEndpointBulk)!=null?Gr:"",note:(Br=(Vr=t.dataset)==null?void 0:Vr.ordersEndpointNote)!=null?Br:""},j=(zr=(Kr=t.endpoints)==null?void 0:Kr.customers)!=null?zr:{list:(Jr=(jr=t.dataset)==null?void 0:jr.customersEndpoint)!=null?Jr:"",show:(qr=(Wr=t.dataset)==null?void 0:Wr.customersEndpointShow)!=null?qr:""},ne=(rl=(Qr=t.endpoints)==null?void 0:Qr.coupons)!=null?rl:{list:(el=(Zr=t.dataset)==null?void 0:Zr.couponsEndpoint)!=null?el:"",create:(nl=(tl=t.dataset)==null?void 0:tl.couponsEndpointCreate)!=null?nl:"",update:(il=(sl=t.dataset)==null?void 0:sl.couponsEndpointUpdate)!=null?il:"",delete:(al=(ol=t.dataset)==null?void 0:ol.couponsEndpointDelete)!=null?al:""},de=(gl=(ll=t.endpoints)==null?void 0:ll.tax)!=null?gl:{list:(dl=(cl=t.dataset)==null?void 0:cl.taxEndpoint)!=null?dl:"",create:(pl=(ul=t.dataset)==null?void 0:ul.taxEndpointCreate)!=null?pl:"",update:(fl=(_l=t.dataset)==null?void 0:_l.taxEndpointUpdate)!=null?fl:"",delete:(hl=(ml=t.dataset)==null?void 0:ml.taxEndpointDelete)!=null?hl:""},Ee=(xl=(El=t.endpoints)==null?void 0:El.shipping)!=null?xl:{list:(Cl=(Sl=t.dataset)==null?void 0:Sl.shippingEndpoint)!=null?Cl:"",create:(Al=(bl=t.dataset)==null?void 0:bl.shippingEndpointCreate)!=null?Al:"",update:(yl=(Tl=t.dataset)==null?void 0:Tl.shippingEndpointUpdate)!=null?yl:"",delete:(Rl=(Ol=t.dataset)==null?void 0:Ol.shippingEndpointDelete)!=null?Rl:""},W=(kl=(vl=t.endpoints)==null?void 0:vl.settings)!=null?kl:{show:(Pl=(Nl=t.dataset)==null?void 0:Nl.settingsEndpointShow)!=null?Pl:"",update:(Il=(Ml=t.dataset)==null?void 0:Ml.settingsEndpointUpdate)!=null?Il:""},H=(Dl=(wl=t.endpoints)==null?void 0:wl.logs)!=null?Dl:{list:(Ll=($l=t.dataset)==null?void 0:$l.logsEndpoint)!=null?Ll:""},q=(Vl=(Ul=t.endpoints)==null?void 0:Ul.payments)!=null?Vl:{show:(Xl=(Yl=t.dataset)==null?void 0:Yl.paymentsEndpointShow)!=null?Xl:"",update:(Gl=(Fl=t.dataset)==null?void 0:Fl.paymentsEndpointUpdate)!=null?Gl:""},B=ge(()=>{var Y;return a((Y=t.dataset)==null?void 0:Y.orderStates,[])}),{state:se,refresh:fe}=ER({endpoint:(ql=(Wl=(jl=(Bl=t.endpoints)==null?void 0:Bl.dashboard)!=null?jl:(Kl=(Hl=t.config)==null?void 0:Hl.endpoints)==null?void 0:Kl.dashboard)!=null?Wl:(Jl=t.dataset)==null?void 0:Jl.dashboardEndpoint)!=null?ql:"",token:t.csrfToken,preload:(tc=(Ql=(zl=t.config)==null?void 0:zl.preload)==null?void 0:Ql.dashboard)!=null?tc:{summary:a((Zl=t.dataset)==null?void 0:Zl.dashboardSummary,{}),checklist:a((ec=t.dataset)==null?void 0:ec.dashboardChecklist,[])},autoload:c.value}),{state:ue,refresh:Z,search:ie,createProduct:ee,updateProduct:pe,deleteProducts:U}=mR({endpoints:K,token:t.csrfToken,autoload:b.value}),{state:z,refresh:Q,search:ae,goToPage:me,saveCategory:_e,deleteCategories:Se,loadOptions:Pe}=hR({endpoints:L,token:t.csrfToken,preload:(ac=(sc=(nc=t.config)==null?void 0:nc.preload)==null?void 0:sc.categories)!=null?ac:{items:a((ic=t.dataset)==null?void 0:ic.categoriesPreload,[]),pagination:a((oc=t.dataset)==null?void 0:oc.categoriesPreloadPagination,{})},autoload:x.value}),k=ge(()=>(Array.isArray(z.items)?z.items:[]).map(oe=>{var ye,Ge,ct;return{id:Number.parseInt((ye=oe==null?void 0:oe.id)!=null?ye:0,10)||0,title:String((Ge=oe==null?void 0:oe.title)!=null?Ge:"").trim(),slug:String((ct=oe==null?void 0:oe.slug)!=null?ct:"").trim(),parent_id:(oe==null?void 0:oe.parent_id)!==null&&(oe==null?void 0:oe.parent_id)!==void 0&&Number.parseInt(oe.parent_id,10)||null}}).filter(oe=>oe.title!=="")),{state:O,refresh:g,search:_,setFilterState:m,viewOrder:P,closeOrder:V,transitionOrder:X,goToPage:G,bulkTransition:A,toggleSelection:h,clearSelection:E,addNote:T,updateTracking:y,downloadInvoice:M,exportOrders:J,sendEmail:F}=gR({endpoints:C,token:t.csrfToken,states:B.value,preload:(uc=(lc=(rc=t.config)==null?void 0:rc.preload)==null?void 0:lc.orders)!=null?uc:{items:a((cc=t.dataset)==null?void 0:cc.ordersPreload,[]),pagination:a((dc=t.dataset)==null?void 0:dc.ordersPreloadPagination,{})},autoload:$.value}),{state:re,refresh:le,search:he,goToPage:Oe,viewCustomer:ve,closeCustomer:ke,gdprExport:Ke,gdprAnonymise:rt}=SR({endpoints:{...j,gdpr:(_c=(pc=t.endpoints)==null?void 0:pc.gdpr)!=null?_c:{}},token:t.csrfToken,preload:(Ec=(mc=(fc=t.config)==null?void 0:fc.preload)==null?void 0:mc.customers)!=null?Ec:{items:a((hc=t.dataset)==null?void 0:hc.customersPreload,[]),pagination:a((gc=t.dataset)==null?void 0:gc.customersPreloadPagination,{})},autoload:w.value}),{state:We,refresh:Ye,search:Xe,goToPage:lt,saveCoupon:Pt,deleteCoupons:fn}=CR({endpoints:(Cc=(Sc=t.endpoints)==null?void 0:Sc.coupons)!=null?Cc:ne,token:t.csrfToken,preload:(Oc=(Ac=(bc=t.config)==null?void 0:bc.preload)==null?void 0:Ac.coupons)!=null?Oc:{items:a((Tc=t.dataset)==null?void 0:Tc.couponsPreload,[]),pagination:a((yc=t.dataset)==null?void 0:yc.couponsPreloadPagination,{})},autoload:I.value}),mn=(Nc=(xc=(Rc=t.config)==null?void 0:Rc.preload)==null?void 0:xc.settings)!=null?Nc:a((vc=t.dataset)==null?void 0:vc.settingsPreload,{}),{state:Qt,refresh:Xn,save:di}=bR({endpoints:W,token:t.csrfToken,preload:mn,autoload:N.value}),ui=ge(()=>{var oe,ye;const Y=(ye=(oe=t.dataset)==null?void 0:oe.baseCurrency)!=null?ye:"";return typeof Y=="string"?Y.trim().toUpperCase():""}),LR=ge(()=>{var oe,ye;const Y=(ye=(oe=Qt==null?void 0:Qt.values)==null?void 0:oe.base_currency)!=null?ye:"";return typeof Y=="string"?Y.trim().toUpperCase():""}),Ss=ge(()=>{const Y=LR.value||ui.value;return Y!==""?Y:"USD"}),DR=ge(()=>{var oe,ye;const Y=(ye=(oe=t.dataset)==null?void 0:oe.mediaModalUrl)!=null?ye:"";return typeof Y=="string"?Y.trim():""}),UR=ge(()=>{var oe,ye,Ge,ct,st;const Y=(ct=(Ge=(oe=t.config)==null?void 0:oe.siteRoot)!=null?Ge:(ye=t.dataset)==null?void 0:ye.siteRoot)!=null?ct:"";return typeof Y=="string"&&Y.trim()!==""?Y.trim():typeof window!="undefined"&&((st=window.location)!=null&&st.origin)?window.location.origin:""}),YR=Y=>{switch(Y){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:u("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:u("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:u("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:Y||"step",titleKey:Y||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:Y||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:u("dashboard")||""}}},ur=ge(()=>(Array.isArray(se.checklist)?se.checklist:[]).map(oe=>{const ye=YR(oe.label);return{id:ye.id,completed:!!oe.completed,link:oe.link||ye.link||"",label:oe.label,titleKey:ye.titleKey,descriptionKey:ye.descriptionKey,titleFallback:ye.titleFallback,descriptionFallback:ye.descriptionFallback}})),pi=ge(()=>ur.value.some(Y=>!Y.completed)),Fn=Be(!1),XR=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Yn,"0")}catch(Y){}Fn.value=!0},pr=()=>{if(Fn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Yn,"1")}catch(Y){}},FR=Y=>{Y&&typeof Y.link=="string"&&Y.link!==""&&(pr(),typeof window!="undefined"&&(window.location.href=Y.link))};Fe(pi,Y=>{if(!Y&&(Fn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Yn,"1")}catch(oe){}});const GR=(wc=(Mc=(Pc=t.config)==null?void 0:Pc.preload)==null?void 0:Mc.tax)!=null?wc:{items:a((Ic=t.dataset)==null?void 0:Ic.taxPreload,[]),pagination:a((kc=t.dataset)==null?void 0:kc.taxPreloadPagination,{})},{state:VR,refresh:Cs,saveRate:BR,deleteRates:HR}=AR({endpoints:de,token:t.csrfToken,preload:GR,autoload:N.value}),KR=(Yc=(Lc=($c=t.config)==null?void 0:$c.preload)==null?void 0:Lc.shipping)!=null?Yc:{items:a((Dc=t.dataset)==null?void 0:Dc.shippingPreload,[]),pagination:a((Uc=t.dataset)==null?void 0:Uc.shippingPreloadPagination,{})},{state:jR,refresh:bs,saveRule:JR,deleteRules:WR}=TR({endpoints:Ee,token:t.csrfToken,preload:KR,autoload:N.value}),qR=(Bc=(Fc=(Xc=t.config)==null?void 0:Xc.preload)==null?void 0:Fc.logs)!=null?Bc:{items:a((Gc=t.dataset)==null?void 0:Gc.logsPreload,[]),pagination:a((Vc=t.dataset)==null?void 0:Vc.logsPreloadPagination,{})},{state:zR,refresh:_r,search:QR,setEntity:ZR,goToPage:ex}=yR({endpoints:H,token:t.csrfToken,preload:qR,autoload:D.value}),{state:tx,refresh:_i,save:nx}=OR({endpoints:q,token:t.csrfToken});Fe(p,Y=>{switch(Y){case"dashboard":fe();break;case"products":Z(),Q();break;case"categories":Q();break;case"orders":g();break;case"customers":le();break;case"coupons":Ye();break;case"settings":Xn(),Cs(),bs(),_i();break;case"logs":_r();break}}),it(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const Y=window.localStorage.getItem(Yn);pi.value?Y!=="1"&&(Fn.value=!0):window.localStorage.setItem(Yn,"1")}catch(Y){}}N.value&&_i()});const sx=()=>{Z()},ix=()=>{ie()},ox=async Y=>{try{await ee(Y),Z(),Q()}catch(oe){}},ax=async({id:Y,data:oe})=>{try{await pe(Y,oe),Z(),Q()}catch(ye){}},rx=async Y=>{try{await U(Y),Z(),Q()}catch(oe){}},lx=()=>{Q()},cx=()=>{ae()},dx=Y=>{me(Y)},ux=async Y=>{try{await _e(Y),Q()}catch(oe){}},px=async Y=>{try{await Se(Y),Q()}catch(oe){}},_x=()=>{fe()},fx=()=>{g()},mx=()=>{_()},hx=Y=>{m(Y)},gx=Y=>{P(Y)},Ex=()=>{V()},Sx=async({id:Y,state:oe})=>{await X(Y,oe)},Cx=Y=>{G(Y)},bx=async({ids:Y,state:oe})=>{await A(Y,oe)},Ax=Y=>{h(Y)},Tx=()=>{E()},yx=async({id:Y,message:oe})=>{await T(Y,oe)},Ox=async Y=>{if(!(Y!=null&&Y.id))return;const{id:oe,...ye}=Y;await y(oe,ye)},Rx=async Y=>{!(Y!=null&&Y.id)||!(Y!=null&&Y.type)||await F(Y.id,Y.type)},xx=async Y=>{if(!Y)return;const oe=await M(Y);if(!(oe!=null&&oe.content))return;const ye=atob(oe.content),Ge=new Uint8Array(ye.length);for(let Zt=0;Zt<ye.length;Zt+=1)Ge[Zt]=ye.charCodeAt(Zt);const ct=new Blob([Ge],{type:"application/pdf"}),st=window.URL.createObjectURL(ct),dt=document.createElement("a");dt.href=st,dt.download=oe.filename||"invoice.pdf",document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),setTimeout(()=>window.URL.revokeObjectURL(st),1e3)},vx=async()=>{const Y=await J();if(!(Y!=null&&Y.content))return;const oe=atob(Y.content),ye=new Uint8Array(oe.length);for(let dt=0;dt<oe.length;dt+=1)ye[dt]=oe.charCodeAt(dt);const Ge=new Blob([ye],{type:"text/csv;charset=utf-8"}),ct=window.URL.createObjectURL(Ge),st=document.createElement("a");st.href=ct,st.download=Y.filename||"orders-export.csv",document.body.appendChild(st),st.click(),document.body.removeChild(st),setTimeout(()=>window.URL.revokeObjectURL(ct),1e3)},Nx=()=>{le()},Px=()=>{he()},Mx=Y=>{Oe(Y)},Ix=Y=>{ve(Y)},kx=()=>{ke()},wx=Y=>{Ke(Y)},$x=Y=>{rt(Y)},Lx=()=>{Ye()},Dx=()=>{Xe()},Ux=Y=>{lt(Y)},Yx=async Y=>{try{await Pt(Y)}catch(oe){}},Xx=async Y=>{try{await fn(Y)}catch(oe){}},Fx=()=>{Xn()},Gx=async Y=>{try{await di(Y)}catch(oe){}},Vx=()=>{Cs()},Bx=async Y=>{try{await BR(Y),Cs()}catch(oe){}},Hx=async Y=>{try{await HR(Y),Cs()}catch(oe){}},Kx=()=>{bs()},jx=async Y=>{try{await JR(Y),bs()}catch(oe){}},Jx=async Y=>{try{await WR(Y),bs()}catch(oe){}},Wx=()=>{_r()},qx=()=>{QR()},zx=Y=>{ZR(Y)},Qx=Y=>{ex(Y)},Zx=()=>{_i()},ev=async Y=>{await nx(Y)};return(Y,oe)=>(R(),pt(Op,null,{default:Qi(()=>{var ye,Ge,ct,st,dt,Zt;return[i("section",RR,[i("header",xR,[i("div",null,[i("h1",vR,d(r(s)(o.value,(Ge=(ye=t.dataset)==null?void 0:ye.appTitle)!=null?Ge:"NXP Easy Cart",[],"appTitle")),1),i("p",NR,d(r(s)(n.value,(st=(ct=t.dataset)==null?void 0:ct.appLead)!=null?st:"Manage your storefront from one place.",[],"appLead")),1)]),te(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:XR},d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[zu,pi.value]])]),l.value.length?(R(),v("nav",PR,[(R(!0),v(be,null,Re(l.value,As=>(R(),v("a",{key:As.id,href:As.link,class:Me({"is-active":As.id===p.value})},d(As.title),11,MR))),128))])):Ae("",!0),p.value==="dashboard"?(R(),pt(i_,{key:1,state:r(se),translate:r(s),onRefresh:_x},null,8,["state","translate"])):p.value==="products"?(R(),pt($m,{key:2,state:r(ue),translate:r(s),"base-currency":Ss.value,"category-options":k.value,"media-modal-url":DR.value,onCreate:ox,onUpdate:ax,onDelete:rx,onRefresh:sx,onSearch:ix},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(R(),pt(Lh,{key:3,state:r(z),translate:r(s),"load-options":r(Pe),onRefresh:lx,onSearch:cx,onPage:dx,onSave:ux,onDelete:px},null,8,["state","translate","load-options"])):p.value==="orders"?(R(),pt(LE,{key:4,state:r(O),translate:r(s),"site-root":UR.value,onRefresh:fx,onSearch:mx,onFilter:hx,onView:gx,onClose:Ex,onTransition:Sx,onPage:Cx,onBulkTransition:bx,onToggleSelection:Ax,onClearSelection:Tx,onAddNote:yx,onSaveTracking:Ox,onSendEmail:Rx,onInvoice:xx,onExport:vx},null,8,["state","translate","site-root"])):p.value==="customers"?(R(),pt(DS,{key:5,state:r(re),translate:r(s),"base-currency":Ss.value,onRefresh:Nx,onSearch:Px,onPage:Mx,onView:Ix,onClose:kx,onGdprExport:wx,onGdprAnonymise:$x},null,8,["state","translate","base-currency"])):p.value==="coupons"?(R(),pt(JC,{key:6,state:r(We),translate:r(s),"base-currency":Ss.value,onRefresh:Lx,onSearch:Dx,onPage:Ux,onSave:Yx,onDelete:Xx},null,8,["state","translate","base-currency"])):p.value==="settings"?(R(),pt(lO,{key:7,"settings-state":r(Qt),"tax-state":r(VR),"shipping-state":r(jR),"payments-state":r(tx),translate:r(s),"base-currency":Ss.value,"initial-tab":S.value,onRefreshSettings:Fx,onSaveSettings:Gx,onRefreshTax:Vx,onSaveTax:Bx,onDeleteTax:Hx,onRefreshShipping:Kx,onSaveShipping:jx,onDeleteShipping:Jx,onRefreshPayments:Zx,onSavePayments:ev},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency","initial-tab"])):p.value==="logs"?(R(),pt(HO,{key:8,state:r(zR),translate:r(s),onRefresh:Wx,onSearch:qx,onFilter:zx,onPage:Qx},null,8,["state","translate"])):(R(),v("div",IR,[i("div",kR,[i("p",wR,d(r(s)(n.value,(Zt=(dt=t.dataset)==null?void 0:dt.appLead)!=null?Zt:"This section will be available soon.",[],"appLead")),1)])]))]),He(rR,{visible:Fn.value,steps:ur.value,translate:r(s),onClose:pr,onNavigate:FR},null,8,["visible","steps","translate"])]}),_:1}))}},Es=document.getElementById("nxp-ec-admin-app");if(!Es)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(ra=Es.getAttribute("data-csrf-token"))!=null?ra:"",t=Object.assign({},Es.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(x){console.warn("[NXP Easy Cart] Failed to parse admin config payload",x)}const o=(_a=(la=s==null?void 0:s.endpoints)==null?void 0:la.products)!=null?_a:{list:(ca=t.productsEndpoint)!=null?ca:"",create:(da=t.productsEndpointCreate)!=null?da:"",update:(ua=t.productsEndpointUpdate)!=null?ua:"",delete:(pa=t.productsEndpointDelete)!=null?pa:""},n=(Sa=(fa=s==null?void 0:s.endpoints)==null?void 0:fa.categories)!=null?Sa:{list:(ma=t.categoriesEndpoint)!=null?ma:"",create:(ha=t.categoriesEndpointCreate)!=null?ha:"",update:(ga=t.categoriesEndpointUpdate)!=null?ga:"",delete:(Ea=t.categoriesEndpointDelete)!=null?Ea:""},a=(va=(Ca=s==null?void 0:s.endpoints)==null?void 0:Ca.orders)!=null?va:{list:(ba=t.ordersEndpoint)!=null?ba:"",show:(Aa=t.ordersEndpointShow)!=null?Aa:"",transition:(Ta=t.ordersEndpointTransition)!=null?Ta:"",bulkTransition:(ya=t.ordersEndpointBulk)!=null?ya:"",note:(Oa=t.ordersEndpointNote)!=null?Oa:"",tracking:(Ra=t.ordersEndpointTracking)!=null?Ra:"",invoice:(xa=t.ordersEndpointInvoice)!=null?xa:""},l=(Ia=(Na=s==null?void 0:s.endpoints)==null?void 0:Na.customers)!=null?Ia:{list:(Pa=t.customersEndpoint)!=null?Pa:"",show:(Ma=t.customersEndpointShow)!=null?Ma:""},u=(La=(ka=s==null?void 0:s.endpoints)==null?void 0:ka.gdpr)!=null?La:{export:(wa=t.gdprEndpointExport)!=null?wa:"",anonymise:($a=t.gdprEndpointAnonymise)!=null?$a:""},p=(Ga=(Da=s==null?void 0:s.endpoints)==null?void 0:Da.coupons)!=null?Ga:{list:(Ua=t.couponsEndpoint)!=null?Ua:"",create:(Ya=t.couponsEndpointCreate)!=null?Ya:"",update:(Xa=t.couponsEndpointUpdate)!=null?Xa:"",delete:(Fa=t.couponsEndpointDelete)!=null?Fa:""},S=(Ja=(Va=s==null?void 0:s.endpoints)==null?void 0:Va.tax)!=null?Ja:{list:(Ba=t.taxEndpoint)!=null?Ba:"",create:(Ha=t.taxEndpointCreate)!=null?Ha:"",update:(Ka=t.taxEndpointUpdate)!=null?Ka:"",delete:(ja=t.taxEndpointDelete)!=null?ja:""},f=(er=(Wa=s==null?void 0:s.endpoints)==null?void 0:Wa.shipping)!=null?er:{list:(qa=t.shippingEndpoint)!=null?qa:"",create:(za=t.shippingEndpointCreate)!=null?za:"",update:(Qa=t.shippingEndpointUpdate)!=null?Qa:"",delete:(Za=t.shippingEndpointDelete)!=null?Za:""},c=(ir=(tr=s==null?void 0:s.endpoints)==null?void 0:tr.settings)!=null?ir:{show:(nr=t.settingsEndpointShow)!=null?nr:"",update:(sr=t.settingsEndpointUpdate)!=null?sr:""},b=(rr=(or=s==null?void 0:s.endpoints)==null?void 0:or.logs)!=null?rr:{list:(ar=t.logsEndpoint)!=null?ar:""};gp($R,{csrfToken:e,dataset:t,config:s,endpoints:{products:o,categories:n,orders:a,customers:l,gdpr:u,coupons:p,tax:S,shipping:f,settings:c,logs:b,dashboard:(dr=(cr=(lr=s==null?void 0:s.endpoints)==null?void 0:lr.dashboard)!=null?cr:t.dashboardEndpoint)!=null?dr:""}}).mount(Es)}})();
