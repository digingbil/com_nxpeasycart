(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Ji,qi,Wi,zi,Qi,Zi,ea,ta,sa,na,oa,ia,aa,ra,la,ca,da,ua,pa,_a,fa,ha,ma,ga,Ca,Sa,Ea,Aa,ba,ya,Ta,va,Oa,Ra,xa,Pa,Na,Ma,Ia,$a,wa,ka,Da,Ua,La,Ya,Xa,Fa,Va,Ga,Ha,Ba;function pn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const xe={},qt=[],_t=()=>{},to=()=>!1,Ms=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),_n=e=>e.startsWith("onUpdate:"),ze=Object.assign,fn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Rc=Object.prototype.hasOwnProperty,Oe=(e,t)=>Rc.call(e,t),me=Array.isArray,Wt=e=>rs(e)==="[object Map]",zt=e=>rs(e)==="[object Set]",so=e=>rs(e)==="[object Date]",Ee=e=>typeof e=="function",De=e=>typeof e=="string",ct=e=>typeof e=="symbol",Pe=e=>e!==null&&typeof e=="object",no=e=>(Pe(e)||Ee(e))&&Ee(e.then)&&Ee(e.catch),oo=Object.prototype.toString,rs=e=>oo.call(e),xc=e=>rs(e).slice(8,-1),io=e=>rs(e)==="[object Object]",hn=e=>De(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ls=pn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Is=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Pc=/-\w/g,$t=Is(e=>e.replace(Pc,t=>t.slice(1).toUpperCase())),Nc=/\B([A-Z])/g,wt=Is(e=>e.replace(Nc,"-$1").toLowerCase()),ao=Is(e=>e.charAt(0).toUpperCase()+e.slice(1)),mn=Is(e=>e?`on${ao(e)}`:""),kt=(e,t)=>!Object.is(e,t),$s=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ro=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},ws=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let lo;const ks=()=>lo||(lo=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Dt(e){if(me(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=De(o)?wc(o):Dt(o);if(n)for(const a in n)t[a]=n[a]}return t}else if(De(e)||Pe(e))return e}const Mc=/;(?![^(]*\))/g,Ic=/:([^]+)/,$c=/\/\*[^]*?\*\//g;function wc(e){const t={};return e.replace($c,"").split(Mc).forEach(s=>{if(s){const o=s.split(Ic);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Ne(e){let t="";if(De(e))t=e;else if(me(e))for(let s=0;s<e.length;s++){const o=Ne(e[s]);o&&(t+=o+" ")}else if(Pe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const kc=pn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function co(e){return!!e||e===""}function Dc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=cs(e[o],t[o]);return s}function cs(e,t){if(e===t)return!0;let s=so(e),o=so(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=ct(e),o=ct(t),s||o)return e===t;if(s=me(e),o=me(t),s||o)return s&&o?Dc(e,t):!1;if(s=Pe(e),o=Pe(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const l in e){const r=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(r&&!p||!r&&p||!cs(e[l],t[l]))return!1}}return String(e)===String(t)}function gn(e,t){return e.findIndex(s=>cs(s,t))}const uo=e=>!!(e&&e.__v_isRef===!0),u=e=>De(e)?e:e==null?"":me(e)||Pe(e)&&(e.toString===oo||!Ee(e.toString))?uo(e)?u(e.value):JSON.stringify(e,po,2):String(e),po=(e,t)=>uo(t)?po(e,t.value):Wt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],a)=>(s[Cn(o,a)+" =>"]=n,s),{})}:zt(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Cn(s))}:ct(t)?Cn(t):Pe(t)&&!me(t)&&!io(t)?String(t):t,Cn=(e,t="")=>{var s;return ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let st;class Uc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=st,!t&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=st;try{return st=this,t()}finally{st=s}}}on(){++this._on===1&&(this.prevScope=st,st=this)}off(){this._on>0&&--this._on===0&&(st=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Lc(){return st}let Me;const Sn=new WeakSet;class _o{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Sn.has(this)&&(Sn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ho(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Eo(this),mo(this);const t=Me,s=dt;Me=this,dt=!0;try{return this.fn()}finally{go(this),Me=t,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)yn(t);this.deps=this.depsTail=void 0,Eo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Sn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bn(this)&&this.run()}get dirty(){return bn(this)}}let fo=0,ds,us;function ho(e,t=!1){if(e.flags|=8,t){e.next=us,us=e;return}e.next=ds,ds=e}function En(){fo++}function An(){if(--fo>0)return;if(us){let t=us;for(us=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;ds;){let t=ds;for(ds=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function mo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function go(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),yn(o),Yc(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function bn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Co(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Co(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ps)||(e.globalVersion=ps,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!bn(e))))return;e.flags|=2;const t=e.dep,s=Me,o=dt;Me=e,dt=!0;try{mo(e);const n=e.fn(e._value);(t.version===0||kt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Me=s,dt=o,go(e),e.flags&=-3}}function yn(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)yn(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Yc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let dt=!0;const So=[];function ft(){So.push(dt),dt=!1}function ht(){const e=So.pop();dt=e===void 0?!0:e}function Eo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Me;Me=void 0;try{t()}finally{Me=s}}}let ps=0;class Xc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Tn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Me||!dt||Me===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Me)s=this.activeLink=new Xc(Me,this),Me.deps?(s.prevDep=Me.depsTail,Me.depsTail.nextDep=s,Me.depsTail=s):Me.deps=Me.depsTail=s,Ao(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=Me.depsTail,s.nextDep=void 0,Me.depsTail.nextDep=s,Me.depsTail=s,Me.deps===s&&(Me.deps=o)}return s}trigger(t){this.version++,ps++,this.notify(t)}notify(t){En();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{An()}}}function Ao(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)Ao(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const vn=new WeakMap,Ft=Symbol(""),On=Symbol(""),_s=Symbol("");function Ke(e,t,s){if(dt&&Me){let o=vn.get(e);o||vn.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new Tn),n.map=o,n.key=s),n.track()}}function Tt(e,t,s,o,n,a){const l=vn.get(e);if(!l){ps++;return}const r=p=>{p&&p.trigger()};if(En(),t==="clear")l.forEach(r);else{const p=me(e),_=p&&hn(s);if(p&&s==="length"){const f=Number(o);l.forEach((d,A)=>{(A==="length"||A===_s||!ct(A)&&A>=f)&&r(d)})}else switch((s!==void 0||l.has(void 0))&&r(l.get(s)),_&&r(l.get(_s)),t){case"add":p?_&&r(l.get("length")):(r(l.get(Ft)),Wt(e)&&r(l.get(On)));break;case"delete":p||(r(l.get(Ft)),Wt(e)&&r(l.get(On)));break;case"set":Wt(e)&&r(l.get(Ft));break}}An()}function Qt(e){const t=ve(e);return t===e?t:(Ke(t,"iterate",_s),rt(e)?t:t.map(Ge))}function Ds(e){return Ke(e=ve(e),"iterate",_s),e}const Fc={__proto__:null,[Symbol.iterator](){return Rn(this,Symbol.iterator,Ge)},concat(...e){return Qt(this).concat(...e.map(t=>me(t)?Qt(t):t))},entries(){return Rn(this,"entries",e=>(e[1]=Ge(e[1]),e))},every(e,t){return vt(this,"every",e,t,void 0,arguments)},filter(e,t){return vt(this,"filter",e,t,s=>s.map(Ge),arguments)},find(e,t){return vt(this,"find",e,t,Ge,arguments)},findIndex(e,t){return vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return vt(this,"findLast",e,t,Ge,arguments)},findLastIndex(e,t){return vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return xn(this,"includes",e)},indexOf(...e){return xn(this,"indexOf",e)},join(e){return Qt(this).join(e)},lastIndexOf(...e){return xn(this,"lastIndexOf",e)},map(e,t){return vt(this,"map",e,t,void 0,arguments)},pop(){return fs(this,"pop")},push(...e){return fs(this,"push",e)},reduce(e,...t){return bo(this,"reduce",e,t)},reduceRight(e,...t){return bo(this,"reduceRight",e,t)},shift(){return fs(this,"shift")},some(e,t){return vt(this,"some",e,t,void 0,arguments)},splice(...e){return fs(this,"splice",e)},toReversed(){return Qt(this).toReversed()},toSorted(e){return Qt(this).toSorted(e)},toSpliced(...e){return Qt(this).toSpliced(...e)},unshift(...e){return fs(this,"unshift",e)},values(){return Rn(this,"values",Ge)}};function Rn(e,t,s){const o=Ds(e),n=o[t]();return o!==e&&!rt(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const Vc=Array.prototype;function vt(e,t,s,o,n,a){const l=Ds(e),r=l!==e&&!rt(e),p=l[t];if(p!==Vc[t]){const d=p.apply(e,a);return r?Ge(d):d}let _=s;l!==e&&(r?_=function(d,A){return s.call(this,Ge(d),A,e)}:s.length>2&&(_=function(d,A){return s.call(this,d,A,e)}));const f=p.call(l,_,o);return r&&n?n(f):f}function bo(e,t,s,o){const n=Ds(e);let a=s;return n!==e&&(rt(e)?s.length>3&&(a=function(l,r,p){return s.call(this,l,r,p,e)}):a=function(l,r,p){return s.call(this,l,Ge(r),p,e)}),n[t](a,...o)}function xn(e,t,s){const o=ve(e);Ke(o,"iterate",_s);const n=o[t](...s);return(n===-1||n===!1)&&Mn(s[0])?(s[0]=ve(s[0]),o[t](...s)):n}function fs(e,t,s=[]){ft(),En();const o=ve(e)[t].apply(e,s);return An(),ht(),o}const Gc=pn("__proto__,__v_isRef,__isVue"),yo=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ct));function Hc(e){ct(e)||(e=String(e));const t=ve(this);return Ke(t,"has",e),t.hasOwnProperty(e)}class To{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return o===(n?a?No:Po:a?xo:Ro).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=me(t);if(!n){let p;if(l&&(p=Fc[s]))return p;if(s==="hasOwnProperty")return Hc}const r=Reflect.get(t,s,He(t)?t:o);if((ct(s)?yo.has(s):Gc(s))||(n||Ke(t,"get",s),a))return r;if(He(r)){const p=l&&hn(s)?r:r.value;return n&&Pe(p)?Nn(p):p}return Pe(r)?n?Nn(r):Ie(r):r}}class vo extends To{constructor(t=!1){super(!1,t)}set(t,s,o,n){let a=t[s];if(!this._isShallow){const p=Ut(a);if(!rt(o)&&!Ut(o)&&(a=ve(a),o=ve(o)),!me(t)&&He(a)&&!He(o))return p||(a.value=o),!0}const l=me(t)&&hn(s)?Number(s)<t.length:Oe(t,s),r=Reflect.set(t,s,o,He(t)?t:n);return t===ve(n)&&(l?kt(o,a)&&Tt(t,"set",s,o):Tt(t,"add",s,o)),r}deleteProperty(t,s){const o=Oe(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&Tt(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!ct(s)||!yo.has(s))&&Ke(t,"has",s),o}ownKeys(t){return Ke(t,"iterate",me(t)?"length":Ft),Reflect.ownKeys(t)}}class Oo extends To{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Bc=new vo,jc=new Oo,Kc=new vo(!0),Jc=new Oo(!0),Pn=e=>e,Us=e=>Reflect.getPrototypeOf(e);function qc(e,t,s){return function(...o){const n=this.__v_raw,a=ve(n),l=Wt(a),r=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,_=n[e](...o),f=s?Pn:t?Fs:Ge;return!t&&Ke(a,"iterate",p?On:Ft),{next(){const{value:d,done:A}=_.next();return A?{value:d,done:A}:{value:r?[f(d[0]),f(d[1])]:f(d),done:A}},[Symbol.iterator](){return this}}}}function Ls(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Wc(e,t){const s={get(n){const a=this.__v_raw,l=ve(a),r=ve(n);e||(kt(n,r)&&Ke(l,"get",n),Ke(l,"get",r));const{has:p}=Us(l),_=t?Pn:e?Fs:Ge;if(p.call(l,n))return _(a.get(n));if(p.call(l,r))return _(a.get(r));a!==l&&a.get(n)},get size(){const n=this.__v_raw;return!e&&Ke(ve(n),"iterate",Ft),n.size},has(n){const a=this.__v_raw,l=ve(a),r=ve(n);return e||(kt(n,r)&&Ke(l,"has",n),Ke(l,"has",r)),n===r?a.has(n):a.has(n)||a.has(r)},forEach(n,a){const l=this,r=l.__v_raw,p=ve(r),_=t?Pn:e?Fs:Ge;return!e&&Ke(p,"iterate",Ft),r.forEach((f,d)=>n.call(a,_(f),_(d),l))}};return ze(s,e?{add:Ls("add"),set:Ls("set"),delete:Ls("delete"),clear:Ls("clear")}:{add(n){!t&&!rt(n)&&!Ut(n)&&(n=ve(n));const a=ve(this);return Us(a).has.call(a,n)||(a.add(n),Tt(a,"add",n,n)),this},set(n,a){!t&&!rt(a)&&!Ut(a)&&(a=ve(a));const l=ve(this),{has:r,get:p}=Us(l);let _=r.call(l,n);_||(n=ve(n),_=r.call(l,n));const f=p.call(l,n);return l.set(n,a),_?kt(a,f)&&Tt(l,"set",n,a):Tt(l,"add",n,a),this},delete(n){const a=ve(this),{has:l,get:r}=Us(a);let p=l.call(a,n);p||(n=ve(n),p=l.call(a,n)),r&&r.call(a,n);const _=a.delete(n);return p&&Tt(a,"delete",n,void 0),_},clear(){const n=ve(this),a=n.size!==0,l=n.clear();return a&&Tt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=qc(n,e,t)}),s}function Ys(e,t){const s=Wc(e,t);return(o,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(Oe(s,n)&&n in o?s:o,n,a)}const zc={get:Ys(!1,!1)},Qc={get:Ys(!1,!0)},Zc={get:Ys(!0,!1)},ed={get:Ys(!0,!0)},Ro=new WeakMap,xo=new WeakMap,Po=new WeakMap,No=new WeakMap;function td(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sd(e){return e.__v_skip||!Object.isExtensible(e)?0:td(xc(e))}function Ie(e){return Ut(e)?e:Xs(e,!1,Bc,zc,Ro)}function nd(e){return Xs(e,!1,Kc,Qc,xo)}function Nn(e){return Xs(e,!0,jc,Zc,Po)}function hv(e){return Xs(e,!0,Jc,ed,No)}function Xs(e,t,s,o,n){if(!Pe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=sd(e);if(a===0)return e;const l=n.get(e);if(l)return l;const r=new Proxy(e,a===2?o:s);return n.set(e,r),r}function Zt(e){return Ut(e)?Zt(e.__v_raw):!!(e&&e.__v_isReactive)}function Ut(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function Mn(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function od(e){return!Oe(e,"__v_skip")&&Object.isExtensible(e)&&ro(e,"__v_skip",!0),e}const Ge=e=>Pe(e)?Ie(e):e,Fs=e=>Pe(e)?Nn(e):e;function He(e){return e?e.__v_isRef===!0:!1}function Le(e){return id(e,!1)}function id(e,t){return He(e)?e:new ad(e,t)}class ad{constructor(t,s){this.dep=new Tn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ve(t),this._value=s?t:Ge(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||rt(t)||Ut(t);t=o?t:ve(t),kt(t,s)&&(this._rawValue=t,this._value=o?t:Ge(t),this.dep.trigger())}}function c(e){return He(e)?e.value:e}const rd={get:(e,t,s)=>t==="__v_raw"?e:c(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return He(n)&&!He(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function Mo(e){return Zt(e)?e:new Proxy(e,rd)}class ld{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Tn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ps-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&Me!==this)return ho(this,!0),!0}get value(){const t=this.dep.track();return Co(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function cd(e,t,s=!1){let o,n;return Ee(e)?o=e:(o=e.get,n=e.set),new ld(o,n,s)}const Vs={},Gs=new WeakMap;let Vt;function dd(e,t=!1,s=Vt){if(s){let o=Gs.get(s);o||Gs.set(s,o=[]),o.push(e)}}function ud(e,t,s=xe){const{immediate:o,deep:n,once:a,scheduler:l,augmentJob:r,call:p}=s,_=b=>n?b:rt(b)||n===!1||n===0?Ot(b,1):Ot(b);let f,d,A,P,Y=!1,v=!1;if(He(e)?(d=()=>e.value,Y=rt(e)):Zt(e)?(d=()=>_(e),Y=!0):me(e)?(v=!0,Y=e.some(b=>Zt(b)||rt(b)),d=()=>e.map(b=>{if(He(b))return b.value;if(Zt(b))return _(b);if(Ee(b))return p?p(b,2):b()})):Ee(e)?t?d=p?()=>p(e,2):e:d=()=>{if(A){ft();try{A()}finally{ht()}}const b=Vt;Vt=f;try{return p?p(e,3,[P]):e(P)}finally{Vt=b}}:d=_t,t&&n){const b=d,B=n===!0?1/0:n;d=()=>Ot(b(),B)}const D=Lc(),T=()=>{f.stop(),D&&D.active&&fn(D.effects,f)};if(a&&t){const b=t;t=(...B)=>{b(...B),T()}}let W=v?new Array(e.length).fill(Vs):Vs;const I=b=>{if(!(!(f.flags&1)||!f.dirty&&!b))if(t){const B=f.run();if(n||Y||(v?B.some((le,fe)=>kt(le,W[fe])):kt(B,W))){A&&A();const le=Vt;Vt=f;try{const fe=[B,W===Vs?void 0:v&&W[0]===Vs?[]:W,P];W=B,p?p(t,3,fe):t(...fe)}finally{Vt=le}}}else f.run()};return r&&r(I),f=new _o(d),f.scheduler=l?()=>l(I,!1):I,P=b=>dd(b,!1,f),A=f.onStop=()=>{const b=Gs.get(f);if(b){if(p)p(b,4);else for(const B of b)B();Gs.delete(f)}},t?o?I(!0):W=f.run():l?l(I.bind(null,!0),!0):f.run(),T.pause=f.pause.bind(f),T.resume=f.resume.bind(f),T.stop=T,T}function Ot(e,t=1/0,s){if(t<=0||!Pe(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,He(e))Ot(e.value,t,s);else if(me(e))for(let o=0;o<e.length;o++)Ot(e[o],t,s);else if(zt(e)||Wt(e))e.forEach(o=>{Ot(o,t,s)});else if(io(e)){for(const o in e)Ot(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Ot(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const hs=[];let In=!1;function mv(e,...t){if(In)return;In=!0,ft();const s=hs.length?hs[hs.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=pd();if(o)es(o,s,11,[e+t.map(a=>{var l,r;return(r=(l=a.toString)==null?void 0:l.call(a))!=null?r:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${Oi(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,..._d(n)),console.warn(...a)}ht(),In=!1}function pd(){let e=hs[hs.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function _d(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...fd(s))}),t}function fd({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${Oi(e.component,e.type,o)}`,a=">"+s;return e.props?[n,...hd(e.props),a]:[n+a]}function hd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...Io(o,e[o]))}),s.length>3&&t.push(" ..."),t}function Io(e,t,s){return De(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:He(t)?(t=Io(e,ve(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Ee(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ve(t),s?t:[`${e}=`,t])}function es(e,t,s,o){try{return o?e(...o):e()}catch(n){Hs(n,t,s)}}function mt(e,t,s,o){if(Ee(e)){const n=es(e,t,s,o);return n&&no(n)&&n.catch(a=>{Hs(a,t,s)}),n}if(me(e)){const n=[];for(let a=0;a<e.length;a++)n.push(mt(e[a],t,s,o));return n}}function Hs(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||xe;if(t){let r=t.parent;const p=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;r;){const f=r.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](e,p,_)===!1)return}r=r.parent}if(a){ft(),es(a,null,10,[e,p,_]),ht();return}}md(e,s,n,o,l)}function md(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Qe=[];let gt=-1;const ts=[];let Lt=null,ss=0;const $o=Promise.resolve();let Bs=null;function wo(e){const t=Bs||$o;return e?t.then(this?e.bind(this):e):t}function gd(e){let t=gt+1,s=Qe.length;for(;t<s;){const o=t+s>>>1,n=Qe[o],a=ms(n);a<e||a===e&&n.flags&2?t=o+1:s=o}return t}function $n(e){if(!(e.flags&1)){const t=ms(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=ms(s)?Qe.push(e):Qe.splice(gd(t),0,e),e.flags|=1,ko()}}function ko(){Bs||(Bs=$o.then(Lo))}function Cd(e){me(e)?ts.push(...e):Lt&&e.id===-1?Lt.splice(ss+1,0,e):e.flags&1||(ts.push(e),e.flags|=1),ko()}function Do(e,t,s=gt+1){for(;s<Qe.length;s++){const o=Qe[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Qe.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Uo(e){if(ts.length){const t=[...new Set(ts)].sort((s,o)=>ms(s)-ms(o));if(ts.length=0,Lt){Lt.push(...t);return}for(Lt=t,ss=0;ss<Lt.length;ss++){const s=Lt[ss];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Lt=null,ss=0}}const ms=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Lo(e){try{for(gt=0;gt<Qe.length;gt++){const t=Qe[gt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),es(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;gt<Qe.length;gt++){const t=Qe[gt];t&&(t.flags&=-2)}gt=-1,Qe.length=0,Uo(),Bs=null,(Qe.length||ts.length)&&Lo()}}let Je=null,Yo=null;function js(e){const t=Je;return Je=e,Yo=e&&e.type.__scopeId||null,t}function Xo(e,t=Je,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&Si(-1);const a=js(t);let l;try{l=e(...n)}finally{js(a),o._d&&Si(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function ie(e,t){if(Je===null)return e;const s=sn(Je),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,l,r,p=xe]=t[n];a&&(Ee(a)&&(a={mounted:a,updated:a}),a.deep&&Ot(l),o.push({dir:a,instance:s,value:l,oldValue:void 0,arg:r,modifiers:p}))}return e}function Gt(e,t,s,o){const n=e.dirs,a=t&&t.dirs;for(let l=0;l<n.length;l++){const r=n[l];a&&(r.oldValue=a[l].value);let p=r.dir[o];p&&(ft(),mt(p,s,8,[e.el,r,e,t]),ht())}}const Sd=Symbol("_vte"),Ed=e=>e.__isTeleport,Ad=Symbol("_leaveCb");function wn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,wn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Fo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ks=new WeakMap;function gs(e,t,s,o,n=!1){if(me(e)){e.forEach((Y,v)=>gs(Y,t&&(me(t)?t[v]:t),s,o,n));return}if(ns(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&gs(e,t,s,o.component.subTree);return}const a=o.shapeFlag&4?sn(o.component):o.el,l=n?null:a,{i:r,r:p}=e,_=t&&t.r,f=r.refs===xe?r.refs={}:r.refs,d=r.setupState,A=ve(d),P=d===xe?to:Y=>Oe(A,Y);if(_!=null&&_!==p){if(Vo(t),De(_))f[_]=null,P(_)&&(d[_]=null);else if(He(_)){_.value=null;const Y=t;Y.k&&(f[Y.k]=null)}}if(Ee(p))es(p,r,12,[l,f]);else{const Y=De(p),v=He(p);if(Y||v){const D=()=>{if(e.f){const T=Y?P(p)?d[p]:f[p]:p.value;if(n)me(T)&&fn(T,a);else if(me(T))T.includes(a)||T.push(a);else if(Y)f[p]=[a],P(p)&&(d[p]=f[p]);else{const W=[a];p.value=W,e.k&&(f[e.k]=W)}}else Y?(f[p]=l,P(p)&&(d[p]=l)):v&&(p.value=l,e.k&&(f[e.k]=l))};if(l){const T=()=>{D(),Ks.delete(e)};T.id=-1,Ks.set(e,T),ot(T,s)}else Vo(e),D()}}}function Vo(e){const t=Ks.get(e);t&&(t.flags|=8,Ks.delete(e))}ks().requestIdleCallback,ks().cancelIdleCallback;const ns=e=>!!e.type.__asyncLoader,Go=e=>e.type.__isKeepAlive;function bd(e,t){Ho(e,"a",t)}function yd(e,t){Ho(e,"da",t)}function Ho(e,t,s=et){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Js(t,o,s),s){let n=s.parent;for(;n&&n.parent;)Go(n.parent.vnode)&&Td(o,t,s,n),n=n.parent}}function Td(e,t,s,o){const n=Js(t,e,o,!0);jo(()=>{fn(o[t],n)},s)}function Js(e,t,s=et,o=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...l)=>{ft();const r=ys(s),p=mt(t,s,e,l);return r(),ht(),p});return o?n.unshift(a):n.push(a),a}}const Rt=e=>(t,s=et)=>{(!Ts||e==="sp")&&Js(e,(...o)=>t(...o),s)},vd=Rt("bm"),nt=Rt("m"),Od=Rt("bu"),Rd=Rt("u"),Bo=Rt("bum"),jo=Rt("um"),xd=Rt("sp"),Pd=Rt("rtg"),Nd=Rt("rtc");function Md(e,t=et){Js("ec",e,t)}const Id=Symbol.for("v-ndc");function Te(e,t,s,o){let n;const a=s,l=me(e);if(l||De(e)){const r=l&&Zt(e);let p=!1,_=!1;r&&(p=!rt(e),_=Ut(e),e=Ds(e)),n=new Array(e.length);for(let f=0,d=e.length;f<d;f++)n[f]=t(p?_?Fs(Ge(e[f])):Ge(e[f]):e[f],f,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,void 0,a)}else if(Pe(e))if(e[Symbol.iterator])n=Array.from(e,(r,p)=>t(r,p,void 0,a));else{const r=Object.keys(e);n=new Array(r.length);for(let p=0,_=r.length;p<_;p++){const f=r[p];n[p]=t(e[f],f,p,a)}}else n=[];return n}function $d(e,t,s={},o,n){if(Je.ce||Je.parent&&ns(Je.parent)&&Je.parent.ce){const _=Object.keys(s).length>0;return y(),lt(Se,null,[Ye("slot",s,o)],_?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),y();const l=a&&Ko(a(s)),r=s.key||l&&l.key,p=lt(Se,{key:(r&&!ct(r)?r:`_${t}`)+(!l&&o?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function Ko(e){return e.some(t=>Gn(t)?!(t.type===xt||t.type===Se&&!Ko(t.children)):!0)?e:null}const kn=e=>e?yi(e)?sn(e):kn(e.parent):null,Cs=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>kn(e.parent),$root:e=>kn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>zo(e),$forceUpdate:e=>e.f||(e.f=()=>{$n(e.update)}),$nextTick:e=>e.n||(e.n=wo.bind(e.proxy)),$watch:e=>tu.bind(e)}),Dn=(e,t)=>e!==xe&&!e.__isScriptSetup&&Oe(e,t),wd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:a,accessCache:l,type:r,appContext:p}=e;let _;if(t[0]!=="$"){const P=l[t];if(P!==void 0)switch(P){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(Dn(o,t))return l[t]=1,o[t];if(n!==xe&&Oe(n,t))return l[t]=2,n[t];if((_=e.propsOptions[0])&&Oe(_,t))return l[t]=3,a[t];if(s!==xe&&Oe(s,t))return l[t]=4,s[t];Un&&(l[t]=0)}}const f=Cs[t];let d,A;if(f)return t==="$attrs"&&Ke(e.attrs,"get",""),f(e);if((d=r.__cssModules)&&(d=d[t]))return d;if(s!==xe&&Oe(s,t))return l[t]=4,s[t];if(A=p.config.globalProperties,Oe(A,t))return A[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:a}=e;return Dn(n,t)?(n[t]=s,!0):o!==xe&&Oe(o,t)?(o[t]=s,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:a,type:l}},r){let p,_;return!!(s[r]||e!==xe&&r[0]!=="$"&&Oe(e,r)||Dn(t,r)||(p=a[0])&&Oe(p,r)||Oe(o,r)||Oe(Cs,r)||Oe(n.config.globalProperties,r)||(_=l.__cssModules)&&_[r])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Oe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Jo(e){return me(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Un=!0;function kd(e){const t=zo(e),s=e.proxy,o=e.ctx;Un=!1,t.beforeCreate&&qo(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:l,watch:r,provide:p,inject:_,created:f,beforeMount:d,mounted:A,beforeUpdate:P,updated:Y,activated:v,deactivated:D,beforeDestroy:T,beforeUnmount:W,destroyed:I,unmounted:b,render:B,renderTracked:le,renderTriggered:fe,errorCaptured:he,serverPrefetch:Z,expose:G,inheritAttrs:F,components:j,directives:Q,filters:ae}=t;if(_&&Dd(_,o,null),l)for(const q in l){const O=l[q];Ee(O)&&(o[q]=O.bind(s))}if(n){const q=n.call(s,s);Pe(q)&&(e.data=Ie(q))}if(Un=!0,a)for(const q in a){const O=a[q],k=Ee(O)?O.bind(s,s):Ee(O.get)?O.get.bind(s,s):_t,X=!Ee(O)&&Ee(O.set)?O.set.bind(s):_t,w=Ce({get:k,set:X});Object.defineProperty(o,q,{enumerable:!0,configurable:!0,get:()=>w.value,set:H=>w.value=H})}if(r)for(const q in r)Wo(r[q],o,s,q);if(p){const q=Ee(p)?p.call(s):p;Reflect.ownKeys(q).forEach(O=>{Vd(O,q[O])})}f&&qo(f,e,"c");function te(q,O){me(O)?O.forEach(k=>q(k.bind(s))):O&&q(O.bind(s))}if(te(vd,d),te(nt,A),te(Od,P),te(Rd,Y),te(bd,v),te(yd,D),te(Md,he),te(Nd,le),te(Pd,fe),te(Bo,W),te(jo,b),te(xd,Z),me(G))if(G.length){const q=e.exposed||(e.exposed={});G.forEach(O=>{Object.defineProperty(q,O,{get:()=>s[O],set:k=>s[O]=k,enumerable:!0})})}else e.exposed||(e.exposed={});B&&e.render===_t&&(e.render=B),F!=null&&(e.inheritAttrs=F),j&&(e.components=j),Q&&(e.directives=Q),Z&&Fo(e)}function Dd(e,t,s=_t){me(e)&&(e=Ln(e));for(const o in e){const n=e[o];let a;Pe(n)?"default"in n?a=Ws(n.from||o,n.default,!0):a=Ws(n.from||o):a=Ws(n),He(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function qo(e,t,s){mt(me(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function Wo(e,t,s,o){let n=o.includes(".")?fi(s,o):()=>s[o];if(De(e)){const a=t[e];Ee(a)&&$e(n,a)}else if(Ee(e))$e(n,e.bind(s));else if(Pe(e))if(me(e))e.forEach(a=>Wo(a,t,s,o));else{const a=Ee(e.handler)?e.handler.bind(s):t[e.handler];Ee(a)&&$e(n,a,e)}}function zo(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,r=a.get(t);let p;return r?p=r:!n.length&&!s&&!o?p=t:(p={},n.length&&n.forEach(_=>qs(p,_,l,!0)),qs(p,t,l)),Pe(t)&&a.set(t,p),p}function qs(e,t,s,o=!1){const{mixins:n,extends:a}=t;a&&qs(e,a,s,!0),n&&n.forEach(l=>qs(e,l,s,!0));for(const l in t)if(!(o&&l==="expose")){const r=Ud[l]||s&&s[l];e[l]=r?r(e[l],t[l]):t[l]}return e}const Ud={data:Qo,props:Zo,emits:Zo,methods:Ss,computed:Ss,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:Ss,directives:Ss,watch:Yd,provide:Qo,inject:Ld};function Qo(e,t){return t?e?function(){return ze(Ee(e)?e.call(this,this):e,Ee(t)?t.call(this,this):t)}:t:e}function Ld(e,t){return Ss(Ln(e),Ln(t))}function Ln(e){if(me(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function Ss(e,t){return e?ze(Object.create(null),e,t):t}function Zo(e,t){return e?me(e)&&me(t)?[...new Set([...e,...t])]:ze(Object.create(null),Jo(e),Jo(t!=null?t:{})):t}function Yd(e,t){if(!e)return t;if(!t)return e;const s=ze(Object.create(null),e);for(const o in t)s[o]=Ze(e[o],t[o]);return s}function ei(){return{app:null,config:{isNativeTag:to,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xd=0;function Fd(e,t){return function(o,n=null){Ee(o)||(o=ze({},o)),n!=null&&!Pe(n)&&(n=null);const a=ei(),l=new WeakSet,r=[];let p=!1;const _=a.app={_uid:Xd++,_component:o,_props:n,_container:null,_context:a,_instance:null,version:Ru,get config(){return a.config},set config(f){},use(f,...d){return l.has(f)||(f&&Ee(f.install)?(l.add(f),f.install(_,...d)):Ee(f)&&(l.add(f),f(_,...d))),_},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),_},component(f,d){return d?(a.components[f]=d,_):a.components[f]},directive(f,d){return d?(a.directives[f]=d,_):a.directives[f]},mount(f,d,A){if(!p){const P=_._ceVNode||Ye(o,n);return P.appContext=a,A===!0?A="svg":A===!1&&(A=void 0),e(P,f,A),p=!0,_._container=f,f.__vue_app__=_,sn(P.component)}},onUnmount(f){r.push(f)},unmount(){p&&(mt(r,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(f,d){return a.provides[f]=d,_},runWithContext(f){const d=os;os=_;try{return f()}finally{os=d}}};return _}}let os=null;function Vd(e,t){if(et){let s=et.provides;const o=et.parent&&et.parent.provides;o===s&&(s=et.provides=Object.create(o)),s[e]=t}}function Ws(e,t,s=!1){const o=Cu();if(o||os){let n=os?os._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ee(t)?t.call(o&&o.proxy):t}}const ti={},si=()=>Object.create(ti),ni=e=>Object.getPrototypeOf(e)===ti;function Gd(e,t,s,o=!1){const n={},a=si();e.propsDefaults=Object.create(null),oi(e,t,n,a);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=o?n:nd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function Hd(e,t,s,o){const{props:n,attrs:a,vnode:{patchFlag:l}}=e,r=ve(n),[p]=e.propsOptions;let _=!1;if((o||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let d=0;d<f.length;d++){let A=f[d];if(zs(e.emitsOptions,A))continue;const P=t[A];if(p)if(Oe(a,A))P!==a[A]&&(a[A]=P,_=!0);else{const Y=$t(A);n[Y]=Yn(p,r,Y,P,e,!1)}else P!==a[A]&&(a[A]=P,_=!0)}}}else{oi(e,t,n,a)&&(_=!0);let f;for(const d in r)(!t||!Oe(t,d)&&((f=wt(d))===d||!Oe(t,f)))&&(p?s&&(s[d]!==void 0||s[f]!==void 0)&&(n[d]=Yn(p,r,d,void 0,e,!0)):delete n[d]);if(a!==r)for(const d in a)(!t||!Oe(t,d))&&(delete a[d],_=!0)}_&&Tt(e.attrs,"set","")}function oi(e,t,s,o){const[n,a]=e.propsOptions;let l=!1,r;if(t)for(let p in t){if(ls(p))continue;const _=t[p];let f;n&&Oe(n,f=$t(p))?!a||!a.includes(f)?s[f]=_:(r||(r={}))[f]=_:zs(e.emitsOptions,p)||(!(p in o)||_!==o[p])&&(o[p]=_,l=!0)}if(a){const p=ve(s),_=r||xe;for(let f=0;f<a.length;f++){const d=a[f];s[d]=Yn(n,p,d,_[d],e,!Oe(_,d))}}return l}function Yn(e,t,s,o,n,a){const l=e[s];if(l!=null){const r=Oe(l,"default");if(r&&o===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&Ee(p)){const{propsDefaults:_}=n;if(s in _)o=_[s];else{const f=ys(n);o=_[s]=p.call(null,t),f()}}else o=p;n.ce&&n.ce._setProp(s,o)}l[0]&&(a&&!r?o=!1:l[1]&&(o===""||o===wt(s))&&(o=!0))}return o}const Bd=new WeakMap;function ii(e,t,s=!1){const o=s?Bd:t.propsCache,n=o.get(e);if(n)return n;const a=e.props,l={},r=[];let p=!1;if(!Ee(e)){const f=d=>{p=!0;const[A,P]=ii(d,t,!0);ze(l,A),P&&r.push(...P)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!p)return Pe(e)&&o.set(e,qt),qt;if(me(a))for(let f=0;f<a.length;f++){const d=$t(a[f]);ai(d)&&(l[d]=xe)}else if(a)for(const f in a){const d=$t(f);if(ai(d)){const A=a[f],P=l[d]=me(A)||Ee(A)?{type:A}:ze({},A),Y=P.type;let v=!1,D=!0;if(me(Y))for(let T=0;T<Y.length;++T){const W=Y[T],I=Ee(W)&&W.name;if(I==="Boolean"){v=!0;break}else I==="String"&&(D=!1)}else v=Ee(Y)&&Y.name==="Boolean";P[0]=v,P[1]=D,(v||Oe(P,"default"))&&r.push(d)}}const _=[l,r];return Pe(e)&&o.set(e,_),_}function ai(e){return e[0]!=="$"&&!ls(e)}const Xn=e=>e==="_"||e==="_ctx"||e==="$stable",Fn=e=>me(e)?e.map(Ct):[Ct(e)],jd=(e,t,s)=>{if(t._n)return t;const o=Xo((...n)=>Fn(t(...n)),s);return o._c=!1,o},ri=(e,t,s)=>{const o=e._ctx;for(const n in e){if(Xn(n))continue;const a=e[n];if(Ee(a))t[n]=jd(n,a,o);else if(a!=null){const l=Fn(a);t[n]=()=>l}}},li=(e,t)=>{const s=Fn(t);e.slots.default=()=>s},ci=(e,t,s)=>{for(const o in t)(s||!Xn(o))&&(e[o]=t[o])},Kd=(e,t,s)=>{const o=e.slots=si();if(e.vnode.shapeFlag&32){const n=t._;n?(ci(o,t,s),s&&ro(o,"_",n,!0)):ri(t,o)}else t&&li(e,t)},Jd=(e,t,s)=>{const{vnode:o,slots:n}=e;let a=!0,l=xe;if(o.shapeFlag&32){const r=t._;r?s&&r===1?a=!1:ci(n,t,s):(a=!t.$stable,ri(t,n)),l=t}else t&&(li(e,t),l={default:1});if(a)for(const r in n)!Xn(r)&&l[r]==null&&delete n[r]},ot=cu;function qd(e){return Wd(e)}function Wd(e,t){const s=ks();s.__VUE__=!0;const{insert:o,remove:n,patchProp:a,createElement:l,createText:r,createComment:p,setText:_,setElementText:f,parentNode:d,nextSibling:A,setScopeId:P=_t,insertStaticContent:Y}=e,v=(m,E,L,C=null,h=null,g=null,R=void 0,$=null,U=!!E.dynamicChildren)=>{if(m===E)return;m&&!bs(m,E)&&(C=S(m),H(m,h,g,!0),m=null),E.patchFlag===-2&&(U=!1,E.dynamicChildren=null);const{type:M,ref:ee,shapeFlag:z}=E;switch(M){case Qs:D(m,E,L,C);break;case xt:T(m,E,L,C);break;case Zs:m==null&&W(E,L,C,R);break;case Se:j(m,E,L,C,h,g,R,$,U);break;default:z&1?B(m,E,L,C,h,g,R,$,U):z&6?Q(m,E,L,C,h,g,R,$,U):(z&64||z&128)&&M.process(m,E,L,C,h,g,R,$,U,re)}ee!=null&&h?gs(ee,m&&m.ref,g,E||m,!E):ee==null&&m&&m.ref!=null&&gs(m.ref,null,g,m,!0)},D=(m,E,L,C)=>{if(m==null)o(E.el=r(E.children),L,C);else{const h=E.el=m.el;E.children!==m.children&&_(h,E.children)}},T=(m,E,L,C)=>{m==null?o(E.el=p(E.children||""),L,C):E.el=m.el},W=(m,E,L,C)=>{[m.el,m.anchor]=Y(m.children,E,L,C,m.el,m.anchor)},I=({el:m,anchor:E},L,C)=>{let h;for(;m&&m!==E;)h=A(m),o(m,L,C),m=h;o(E,L,C)},b=({el:m,anchor:E})=>{let L;for(;m&&m!==E;)L=A(m),n(m),m=L;n(E)},B=(m,E,L,C,h,g,R,$,U)=>{E.type==="svg"?R="svg":E.type==="math"&&(R="mathml"),m==null?le(E,L,C,h,g,R,$,U):Z(m,E,h,g,R,$,U)},le=(m,E,L,C,h,g,R,$)=>{let U,M;const{props:ee,shapeFlag:z,transition:se,dirs:ne}=m;if(U=m.el=l(m.type,g,ee&&ee.is,ee),z&8?f(U,m.children):z&16&&he(m.children,U,null,C,h,Vn(m,g),R,$),ne&&Gt(m,null,C,"created"),fe(U,m,m.scopeId,R,C),ee){for(const Ae in ee)Ae!=="value"&&!ls(Ae)&&a(U,Ae,null,ee[Ae],g,C);"value"in ee&&a(U,"value",null,ee.value,g),(M=ee.onVnodeBeforeMount)&&St(M,C,m)}ne&&Gt(m,null,C,"beforeMount");const ge=zd(h,se);ge&&se.beforeEnter(U),o(U,E,L),((M=ee&&ee.onVnodeMounted)||ge||ne)&&ot(()=>{M&&St(M,C,m),ge&&se.enter(U),ne&&Gt(m,null,C,"mounted")},h)},fe=(m,E,L,C,h)=>{if(L&&P(m,L),C)for(let g=0;g<C.length;g++)P(m,C[g]);if(h){let g=h.subTree;if(E===g||Ci(g.type)&&(g.ssContent===E||g.ssFallback===E)){const R=h.vnode;fe(m,R,R.scopeId,R.slotScopeIds,h.parent)}}},he=(m,E,L,C,h,g,R,$,U=0)=>{for(let M=U;M<m.length;M++){const ee=m[M]=$?Yt(m[M]):Ct(m[M]);v(null,ee,E,L,C,h,g,R,$)}},Z=(m,E,L,C,h,g,R)=>{const $=E.el=m.el;let{patchFlag:U,dynamicChildren:M,dirs:ee}=E;U|=m.patchFlag&16;const z=m.props||xe,se=E.props||xe;let ne;if(L&&Ht(L,!1),(ne=se.onVnodeBeforeUpdate)&&St(ne,L,E,m),ee&&Gt(E,m,L,"beforeUpdate"),L&&Ht(L,!0),(z.innerHTML&&se.innerHTML==null||z.textContent&&se.textContent==null)&&f($,""),M?G(m.dynamicChildren,M,$,L,C,Vn(E,h),g):R||O(m,E,$,null,L,C,Vn(E,h),g,!1),U>0){if(U&16)F($,z,se,L,h);else if(U&2&&z.class!==se.class&&a($,"class",null,se.class,h),U&4&&a($,"style",z.style,se.style,h),U&8){const ge=E.dynamicProps;for(let Ae=0;Ae<ge.length;Ae++){const ye=ge[Ae],Fe=z[ye],Ve=se[ye];(Ve!==Fe||ye==="value")&&a($,ye,Fe,Ve,h,L)}}U&1&&m.children!==E.children&&f($,E.children)}else!R&&M==null&&F($,z,se,L,h);((ne=se.onVnodeUpdated)||ee)&&ot(()=>{ne&&St(ne,L,E,m),ee&&Gt(E,m,L,"updated")},C)},G=(m,E,L,C,h,g,R)=>{for(let $=0;$<E.length;$++){const U=m[$],M=E[$],ee=U.el&&(U.type===Se||!bs(U,M)||U.shapeFlag&198)?d(U.el):L;v(U,M,ee,null,C,h,g,R,!0)}},F=(m,E,L,C,h)=>{if(E!==L){if(E!==xe)for(const g in E)!ls(g)&&!(g in L)&&a(m,g,E[g],null,h,C);for(const g in L){if(ls(g))continue;const R=L[g],$=E[g];R!==$&&g!=="value"&&a(m,g,$,R,h,C)}"value"in L&&a(m,"value",E.value,L.value,h)}},j=(m,E,L,C,h,g,R,$,U)=>{const M=E.el=m?m.el:r(""),ee=E.anchor=m?m.anchor:r("");let{patchFlag:z,dynamicChildren:se,slotScopeIds:ne}=E;ne&&($=$?$.concat(ne):ne),m==null?(o(M,L,C),o(ee,L,C),he(E.children||[],L,ee,h,g,R,$,U)):z>0&&z&64&&se&&m.dynamicChildren?(G(m.dynamicChildren,se,L,h,g,R,$),(E.key!=null||h&&E===h.subTree)&&di(m,E,!0)):O(m,E,L,ee,h,g,R,$,U)},Q=(m,E,L,C,h,g,R,$,U)=>{E.slotScopeIds=$,m==null?E.shapeFlag&512?h.ctx.activate(E,L,C,R,U):ae(E,L,C,h,g,R,U):pe(m,E,U)},ae=(m,E,L,C,h,g,R)=>{const $=m.component=gu(m,C,h);if(Go(m)&&($.ctx.renderer=re),Su($,!1,R),$.asyncDep){if(h&&h.registerDep($,te,R),!m.el){const U=$.subTree=Ye(xt);T(null,U,E,L),m.placeholder=U.el}}else te($,m,E,L,h,g,R)},pe=(m,E,L)=>{const C=E.component=m.component;if(ru(m,E,L))if(C.asyncDep&&!C.asyncResolved){q(C,E,L);return}else C.next=E,C.update();else E.el=m.el,C.vnode=E},te=(m,E,L,C,h,g,R)=>{const $=()=>{if(m.isMounted){let{next:z,bu:se,u:ne,parent:ge,vnode:Ae}=m;{const Be=ui(m);if(Be){z&&(z.el=Ae.el,q(m,z,R)),Be.asyncDep.then(()=>{m.isUnmounted||$()});return}}let ye=z,Fe;Ht(m,!1),z?(z.el=Ae.el,q(m,z,R)):z=Ae,se&&$s(se),(Fe=z.props&&z.props.onVnodeBeforeUpdate)&&St(Fe,ge,z,Ae),Ht(m,!0);const Ve=mi(m),we=m.subTree;m.subTree=Ve,v(we,Ve,d(we.el),S(we),m,h,g),z.el=Ve.el,ye===null&&lu(m,Ve.el),ne&&ot(ne,h),(Fe=z.props&&z.props.onVnodeUpdated)&&ot(()=>St(Fe,ge,z,Ae),h)}else{let z;const{el:se,props:ne}=E,{bm:ge,m:Ae,parent:ye,root:Fe,type:Ve}=m,we=ns(E);Ht(m,!1),ge&&$s(ge),!we&&(z=ne&&ne.onVnodeBeforeMount)&&St(z,ye,E),Ht(m,!0);{Fe.ce&&Fe.ce._def.shadowRoot!==!1&&Fe.ce._injectChildStyle(Ve);const Be=m.subTree=mi(m);v(null,Be,L,C,m,h,g),E.el=Be.el}if(Ae&&ot(Ae,h),!we&&(z=ne&&ne.onVnodeMounted)){const Be=E;ot(()=>St(z,ye,Be),h)}(E.shapeFlag&256||ye&&ns(ye.vnode)&&ye.vnode.shapeFlag&256)&&m.a&&ot(m.a,h),m.isMounted=!0,E=L=C=null}};m.scope.on();const U=m.effect=new _o($);m.scope.off();const M=m.update=U.run.bind(U),ee=m.job=U.runIfDirty.bind(U);ee.i=m,ee.id=m.uid,U.scheduler=()=>$n(ee),Ht(m,!0),M()},q=(m,E,L)=>{E.component=m;const C=m.vnode.props;m.vnode=E,m.next=null,Hd(m,E.props,C,L),Jd(m,E.children,L),ft(),Do(m),ht()},O=(m,E,L,C,h,g,R,$,U=!1)=>{const M=m&&m.children,ee=m?m.shapeFlag:0,z=E.children,{patchFlag:se,shapeFlag:ne}=E;if(se>0){if(se&128){X(M,z,L,C,h,g,R,$,U);return}else if(se&256){k(M,z,L,C,h,g,R,$,U);return}}ne&8?(ee&16&&N(M,h,g),z!==M&&f(L,z)):ee&16?ne&16?X(M,z,L,C,h,g,R,$,U):N(M,h,g,!0):(ee&8&&f(L,""),ne&16&&he(z,L,C,h,g,R,$,U))},k=(m,E,L,C,h,g,R,$,U)=>{m=m||qt,E=E||qt;const M=m.length,ee=E.length,z=Math.min(M,ee);let se;for(se=0;se<z;se++){const ne=E[se]=U?Yt(E[se]):Ct(E[se]);v(m[se],ne,L,null,h,g,R,$,U)}M>ee?N(m,h,g,!0,!1,z):he(E,L,C,h,g,R,$,U,z)},X=(m,E,L,C,h,g,R,$,U)=>{let M=0;const ee=E.length;let z=m.length-1,se=ee-1;for(;M<=z&&M<=se;){const ne=m[M],ge=E[M]=U?Yt(E[M]):Ct(E[M]);if(bs(ne,ge))v(ne,ge,L,null,h,g,R,$,U);else break;M++}for(;M<=z&&M<=se;){const ne=m[z],ge=E[se]=U?Yt(E[se]):Ct(E[se]);if(bs(ne,ge))v(ne,ge,L,null,h,g,R,$,U);else break;z--,se--}if(M>z){if(M<=se){const ne=se+1,ge=ne<ee?E[ne].el:C;for(;M<=se;)v(null,E[M]=U?Yt(E[M]):Ct(E[M]),L,ge,h,g,R,$,U),M++}}else if(M>se)for(;M<=z;)H(m[M],h,g,!0),M++;else{const ne=M,ge=M,Ae=new Map;for(M=ge;M<=se;M++){const ke=E[M]=U?Yt(E[M]):Ct(E[M]);ke.key!=null&&Ae.set(ke.key,M)}let ye,Fe=0;const Ve=se-ge+1;let we=!1,Be=0;const We=new Array(Ve);for(M=0;M<Ve;M++)We[M]=0;for(M=ne;M<=z;M++){const ke=m[M];if(Fe>=Ve){H(ke,h,g,!0);continue}let je;if(ke.key!=null)je=Ae.get(ke.key);else for(ye=ge;ye<=se;ye++)if(We[ye-ge]===0&&bs(ke,E[ye])){je=ye;break}je===void 0?H(ke,h,g,!0):(We[je-ge]=M+1,je>=Be?Be=je:we=!0,v(ke,E[je],L,null,h,g,R,$,U),Fe++)}const at=we?Qd(We):qt;for(ye=at.length-1,M=Ve-1;M>=0;M--){const ke=ge+M,je=E[ke],It=E[ke+1],Kt=ke+1<ee?It.el||It.placeholder:C;We[M]===0?v(null,je,L,Kt,h,g,R,$,U):we&&(ye<0||M!==at[ye]?w(je,L,Kt,2):ye--)}}},w=(m,E,L,C,h=null)=>{const{el:g,type:R,transition:$,children:U,shapeFlag:M}=m;if(M&6){w(m.component.subTree,E,L,C);return}if(M&128){m.suspense.move(E,L,C);return}if(M&64){R.move(m,E,L,re);return}if(R===Se){o(g,E,L);for(let z=0;z<U.length;z++)w(U[z],E,L,C);o(m.anchor,E,L);return}if(R===Zs){I(m,E,L);return}if(C!==2&&M&1&&$)if(C===0)$.beforeEnter(g),o(g,E,L),ot(()=>$.enter(g),h);else{const{leave:z,delayLeave:se,afterLeave:ne}=$,ge=()=>{m.ctx.isUnmounted?n(g):o(g,E,L)},Ae=()=>{g._isLeaving&&g[Ad](!0),z(g,()=>{ge(),ne&&ne()})};se?se(g,ge,Ae):Ae()}else o(g,E,L)},H=(m,E,L,C=!1,h=!1)=>{const{type:g,props:R,ref:$,children:U,dynamicChildren:M,shapeFlag:ee,patchFlag:z,dirs:se,cacheIndex:ne}=m;if(z===-2&&(h=!1),$!=null&&(ft(),gs($,null,L,m,!0),ht()),ne!=null&&(E.renderCache[ne]=void 0),ee&256){E.ctx.deactivate(m);return}const ge=ee&1&&se,Ae=!ns(m);let ye;if(Ae&&(ye=R&&R.onVnodeBeforeUnmount)&&St(ye,E,m),ee&6)V(m.component,L,C);else{if(ee&128){m.suspense.unmount(L,C);return}ge&&Gt(m,null,E,"beforeUnmount"),ee&64?m.type.remove(m,E,L,re,C):M&&!M.hasOnce&&(g!==Se||z>0&&z&64)?N(M,E,L,!1,!0):(g===Se&&z&384||!h&&ee&16)&&N(U,E,L),C&&J(m)}(Ae&&(ye=R&&R.onVnodeUnmounted)||ge)&&ot(()=>{ye&&St(ye,E,m),ge&&Gt(m,null,E,"unmounted")},L)},J=m=>{const{type:E,el:L,anchor:C,transition:h}=m;if(E===Se){ue(L,C);return}if(E===Zs){b(m);return}const g=()=>{n(L),h&&!h.persisted&&h.afterLeave&&h.afterLeave()};if(m.shapeFlag&1&&h&&!h.persisted){const{leave:R,delayLeave:$}=h,U=()=>R(L,g);$?$(m.el,g,U):U()}else g()},ue=(m,E)=>{let L;for(;m!==E;)L=A(m),n(m),m=L;n(E)},V=(m,E,L)=>{const{bum:C,scope:h,job:g,subTree:R,um:$,m:U,a:M}=m;pi(U),pi(M),C&&$s(C),h.stop(),g&&(g.flags|=8,H(R,m,E,L)),$&&ot($,E),ot(()=>{m.isUnmounted=!0},E)},N=(m,E,L,C=!1,h=!1,g=0)=>{for(let R=g;R<m.length;R++)H(m[R],E,L,C,h)},S=m=>{if(m.shapeFlag&6)return S(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const E=A(m.anchor||m.el),L=E&&E[Sd];return L?A(L):E};let oe=!1;const ce=(m,E,L)=>{m==null?E._vnode&&H(E._vnode,null,null,!0):v(E._vnode||null,m,E,null,null,null,L),E._vnode=m,oe||(oe=!0,Do(),Uo(),oe=!1)},re={p:v,um:H,m:w,r:J,mt:ae,mc:he,pc:O,pbc:G,n:S,o:e};return{render:ce,hydrate:void 0,createApp:Fd(ce)}}function Vn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Ht({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zd(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function di(e,t,s=!1){const o=e.children,n=t.children;if(me(o)&&me(n))for(let a=0;a<o.length;a++){const l=o[a];let r=n[a];r.shapeFlag&1&&!r.dynamicChildren&&((r.patchFlag<=0||r.patchFlag===32)&&(r=n[a]=Yt(n[a]),r.el=l.el),!s&&r.patchFlag!==-2&&di(l,r)),r.type===Qs&&r.patchFlag!==-1&&(r.el=l.el),r.type===xt&&!r.el&&(r.el=l.el)}}function Qd(e){const t=e.slice(),s=[0];let o,n,a,l,r;const p=e.length;for(o=0;o<p;o++){const _=e[o];if(_!==0){if(n=s[s.length-1],e[n]<_){t[o]=n,s.push(o);continue}for(a=0,l=s.length-1;a<l;)r=a+l>>1,e[s[r]]<_?a=r+1:l=r;_<e[s[a]]&&(a>0&&(t[o]=s[a-1]),s[a]=o)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=t[l];return s}function ui(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ui(t)}function pi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Zd=Symbol.for("v-scx"),eu=()=>Ws(Zd);function $e(e,t,s){return _i(e,t,s)}function _i(e,t,s=xe){const{immediate:o,deep:n,flush:a,once:l}=s,r=ze({},s),p=t&&o||!t&&a!=="post";let _;if(Ts){if(a==="sync"){const P=eu();_=P.__watcherHandles||(P.__watcherHandles=[])}else if(!p){const P=()=>{};return P.stop=_t,P.resume=_t,P.pause=_t,P}}const f=et;r.call=(P,Y,v)=>mt(P,f,Y,v);let d=!1;a==="post"?r.scheduler=P=>{ot(P,f&&f.suspense)}:a!=="sync"&&(d=!0,r.scheduler=(P,Y)=>{Y?P():$n(P)}),r.augmentJob=P=>{t&&(P.flags|=4),d&&(P.flags|=2,f&&(P.id=f.uid,P.i=f))};const A=ud(e,t,r);return Ts&&(_?_.push(A):p&&A()),A}function tu(e,t,s){const o=this.proxy,n=De(e)?e.includes(".")?fi(o,e):()=>o[e]:e.bind(o,o);let a;Ee(t)?a=t:(a=t.handler,s=t);const l=ys(this),r=_i(n,a.bind(o),s);return l(),r}function fi(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const su=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${$t(t)}Modifiers`]||e[`${wt(t)}Modifiers`];function nu(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||xe;let n=s;const a=t.startsWith("update:"),l=a&&su(o,t.slice(7));l&&(l.trim&&(n=s.map(f=>De(f)?f.trim():f)),l.number&&(n=s.map(ws)));let r,p=o[r=mn(t)]||o[r=mn($t(t))];!p&&a&&(p=o[r=mn(wt(t))]),p&&mt(p,e,6,n);const _=o[r+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[r])return;e.emitted[r]=!0,mt(_,e,6,n)}}const ou=new WeakMap;function hi(e,t,s=!1){const o=s?ou:t.emitsCache,n=o.get(e);if(n!==void 0)return n;const a=e.emits;let l={},r=!1;if(!Ee(e)){const p=_=>{const f=hi(_,t,!0);f&&(r=!0,ze(l,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!r?(Pe(e)&&o.set(e,null),null):(me(a)?a.forEach(p=>l[p]=null):ze(l,a),Pe(e)&&o.set(e,l),l)}function zs(e,t){return!e||!Ms(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,wt(t))||Oe(e,t))}function gv(){}function mi(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[a],slots:l,attrs:r,emit:p,render:_,renderCache:f,props:d,data:A,setupState:P,ctx:Y,inheritAttrs:v}=e,D=js(e);let T,W;try{if(s.shapeFlag&4){const b=n||o,B=b;T=Ct(_.call(B,b,f,d,P,A,Y)),W=r}else{const b=t;T=Ct(b.length>1?b(d,{attrs:r,slots:l,emit:p}):b(d,null)),W=t.props?r:iu(r)}}catch(b){Es.length=0,Hs(b,e,1),T=Ye(xt)}let I=T;if(W&&v!==!1){const b=Object.keys(W),{shapeFlag:B}=I;b.length&&B&7&&(a&&b.some(_n)&&(W=au(W,a)),I=is(I,W,!1,!0))}return s.dirs&&(I=is(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(s.dirs):s.dirs),s.transition&&wn(I,s.transition),T=I,js(D),T}const iu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ms(s))&&((t||(t={}))[s]=e[s]);return t},au=(e,t)=>{const s={};for(const o in e)(!_n(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function ru(e,t,s){const{props:o,children:n,component:a}=e,{props:l,children:r,patchFlag:p}=t,_=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return o?gi(o,l,_):!!l;if(p&8){const f=t.dynamicProps;for(let d=0;d<f.length;d++){const A=f[d];if(l[A]!==o[A]&&!zs(_,A))return!0}}}else return(n||r)&&(!r||!r.$stable)?!0:o===l?!1:o?l?gi(o,l,_):!0:!!l;return!1}function gi(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const a=o[n];if(t[a]!==e[a]&&!zs(s,a))return!0}return!1}function lu({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ci=e=>e.__isSuspense;function cu(e,t){t&&t.pendingBranch?me(e)?t.effects.push(...e):t.effects.push(e):Cd(e)}const Se=Symbol.for("v-fgt"),Qs=Symbol.for("v-txt"),xt=Symbol.for("v-cmt"),Zs=Symbol.for("v-stc"),Es=[];let it=null;function y(e=!1){Es.push(it=e?null:[])}function du(){Es.pop(),it=Es[Es.length-1]||null}let As=1;function Si(e,t=!1){As+=e,e<0&&it&&t&&(it.hasOnce=!0)}function Ei(e){return e.dynamicChildren=As>0?it||qt:null,du(),As>0&&it&&it.push(e),e}function x(e,t,s,o,n,a){return Ei(i(e,t,s,o,n,a,!0))}function lt(e,t,s,o,n){return Ei(Ye(e,t,s,o,n,!0))}function Gn(e){return e?e.__v_isVNode===!0:!1}function bs(e,t){return e.type===t.type&&e.key===t.key}const Ai=({key:e})=>e!=null?e:null,en=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?De(e)||He(e)||Ee(e)?{i:Je,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,n=null,a=e===Se?0:1,l=!1,r=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ai(t),ref:t&&en(t),scopeId:Yo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Je};return r?(Hn(p,s),a&128&&e.normalize(p)):s&&(p.shapeFlag|=De(s)?8:16),As>0&&!l&&it&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&it.push(p),p}const Ye=uu;function uu(e,t=null,s=null,o=0,n=null,a=!1){if((!e||e===Id)&&(e=xt),Gn(e)){const r=is(e,t,!0);return s&&Hn(r,s),As>0&&!a&&it&&(r.shapeFlag&6?it[it.indexOf(e)]=r:it.push(r)),r.patchFlag=-2,r}if(Ou(e)&&(e=e.__vccOpts),t){t=pu(t);let{class:r,style:p}=t;r&&!De(r)&&(t.class=Ne(r)),Pe(p)&&(Mn(p)&&!me(p)&&(p=ze({},p)),t.style=Dt(p))}const l=De(e)?1:Ci(e)?128:Ed(e)?64:Pe(e)?4:Ee(e)?2:0;return i(e,t,s,o,n,l,a,!0)}function pu(e){return e?Mn(e)||ni(e)?ze({},e):e:null}function is(e,t,s=!1,o=!1){const{props:n,ref:a,patchFlag:l,children:r,transition:p}=e,_=t?fu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&Ai(_),ref:t&&t.ref?s&&a?me(a)?a.concat(en(t)):[a,en(t)]:en(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:r,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&is(e.ssContent),ssFallback:e.ssFallback&&is(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&o&&wn(f,p.clone(f)),f}function qe(e=" ",t=0){return Ye(Qs,null,e,t)}function _u(e,t){const s=Ye(Zs,null,e);return s.staticCount=t,s}function be(e="",t=!1){return t?(y(),lt(xt,null,e)):Ye(xt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?Ye(xt):me(e)?Ye(Se,null,e.slice()):Gn(e)?Yt(e):Ye(Qs,null,String(e))}function Yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:is(e)}function Hn(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(me(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),Hn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ni(t)?t._ctx=Je:n===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ee(t)?(t={default:t,_ctx:Je},s=32):(t=String(t),o&64?(s=16,t=[qe(t)]):s=8);e.children=t,e.shapeFlag|=s}function fu(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=Ne([t.class,o.class]));else if(n==="style")t.style=Dt([t.style,o.style]);else if(Ms(n)){const a=t[n],l=o[n];l&&a!==l&&!(me(a)&&a.includes(l))&&(t[n]=a?[].concat(a,l):l)}else n!==""&&(t[n]=o[n])}return t}function St(e,t,s,o=null){mt(e,t,7,[s,o])}const hu=ei();let mu=0;function gu(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||hu,a={uid:mu++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Uc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ii(o,n),emitsOptions:hi(o,n),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:o.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=nu.bind(null,a),e.ce&&e.ce(a),a}let et=null;const Cu=()=>et||Je;let tn,Bn;{const e=ks(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),a=>{n.length>1?n.forEach(l=>l(a)):n[0](a)}};tn=t("__VUE_INSTANCE_SETTERS__",s=>et=s),Bn=t("__VUE_SSR_SETTERS__",s=>Ts=s)}const ys=e=>{const t=et;return tn(e),e.scope.on(),()=>{e.scope.off(),tn(t)}},bi=()=>{et&&et.scope.off(),tn(null)};function yi(e){return e.vnode.shapeFlag&4}let Ts=!1;function Su(e,t=!1,s=!1){t&&Bn(t);const{props:o,children:n}=e.vnode,a=yi(e);Gd(e,o,a,t),Kd(e,n,s||t);const l=a?Eu(e,t):void 0;return t&&Bn(!1),l}function Eu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wd);const{setup:o}=s;if(o){ft();const n=e.setupContext=o.length>1?bu(e):null,a=ys(e),l=es(o,e,0,[e.props,n]),r=no(l);if(ht(),a(),(r||e.sp)&&!ns(e)&&Fo(e),r){if(l.then(bi,bi),t)return l.then(p=>{Ti(e,p)}).catch(p=>{Hs(p,e,0)});e.asyncDep=l}else Ti(e,l)}else vi(e)}function Ti(e,t,s){Ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Pe(t)&&(e.setupState=Mo(t)),vi(e)}function vi(e,t,s){const o=e.type;e.render||(e.render=o.render||_t);{const n=ys(e);ft();try{kd(e)}finally{ht(),n()}}}const Au={get(e,t){return Ke(e,"get",""),e[t]}};function bu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Au),slots:e.slots,emit:e.emit,expose:t}}function sn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Mo(od(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Cs)return Cs[s](e)},has(t,s){return s in t||s in Cs}})):e.proxy}const yu=/(?:^|[-_])\w/g,Tu=e=>e.replace(yu,t=>t.toUpperCase()).replace(/[-_]/g,"");function vu(e,t=!0){return Ee(e)?e.displayName||e.name:e.name||t&&e.__name}function Oi(e,t,s=!1){let o=vu(t);if(!o&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){const n=a=>{for(const l in a)if(a[l]===t)return l};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?Tu(o):s?"App":"Anonymous"}function Ou(e){return Ee(e)&&"__vccOpts"in e}const Ce=(e,t)=>cd(e,t,Ts),Ru="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jn;const Ri=typeof window!="undefined"&&window.trustedTypes;if(Ri)try{jn=Ri.createPolicy("vue",{createHTML:e=>e})}catch(e){}const xi=jn?e=>jn.createHTML(e):e=>e,xu="http://www.w3.org/2000/svg",Pu="http://www.w3.org/1998/Math/MathML",Pt=typeof document!="undefined"?document:null,Pi=Pt&&Pt.createElement("template"),Nu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?Pt.createElementNS(xu,e):t==="mathml"?Pt.createElementNS(Pu,e):s?Pt.createElement(e,{is:s}):Pt.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>Pt.createTextNode(e),createComment:e=>Pt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Pt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,a){const l=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Pi.innerHTML=xi(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const r=Pi.content;if(o==="svg"||o==="mathml"){const p=r.firstChild;for(;p.firstChild;)r.appendChild(p.firstChild);r.removeChild(p)}t.insertBefore(r,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Mu=Symbol("_vtc");function Iu(e,t,s){const o=e[Mu];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const nn=Symbol("_vod"),Ni=Symbol("_vsh"),$u={name:"show",beforeMount(e,{value:t},{transition:s}){e[nn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):vs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),vs(e,!0),o.enter(e)):o.leave(e,()=>{vs(e,!1)}):vs(e,t))},beforeUnmount(e,{value:t}){vs(e,t)}};function vs(e,t){e.style.display=t?e[nn]:"none",e[Ni]=!t}const wu=Symbol(""),ku=/(?:^|;)\s*display\s*:/;function Du(e,t,s){const o=e.style,n=De(s);let a=!1;if(s&&!n){if(t)if(De(t))for(const l of t.split(";")){const r=l.slice(0,l.indexOf(":")).trim();s[r]==null&&on(o,r,"")}else for(const l in t)s[l]==null&&on(o,l,"");for(const l in s)l==="display"&&(a=!0),on(o,l,s[l])}else if(n){if(t!==s){const l=o[wu];l&&(s+=";"+l),o.cssText=s,a=ku.test(s)}}else t&&e.removeAttribute("style");nn in e&&(e[nn]=a?o.display:"",e[Ni]&&(o.display="none"))}const Mi=/\s*!important$/;function on(e,t,s){if(me(s))s.forEach(o=>on(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=Uu(e,t);Mi.test(s)?e.setProperty(wt(o),s.replace(Mi,""),"important"):e[o]=s}}const Ii=["Webkit","Moz","ms"],Kn={};function Uu(e,t){const s=Kn[t];if(s)return s;let o=$t(t);if(o!=="filter"&&o in e)return Kn[t]=o;o=ao(o);for(let n=0;n<Ii.length;n++){const a=Ii[n]+o;if(a in e)return Kn[t]=a}return t}const $i="http://www.w3.org/1999/xlink";function wi(e,t,s,o,n,a=kc(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS($i,t.slice(6,t.length)):e.setAttributeNS($i,t,s):s==null||a&&!co(s)?e.removeAttribute(t):e.setAttribute(t,a?"":ct(s)?String(s):s)}function ki(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?xi(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const r=a==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(r!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const r=typeof e[t];r==="boolean"?s=co(s):s==null&&r==="string"?(s="",l=!0):r==="number"&&(s=0,l=!0)}try{e[t]=s}catch(r){}l&&e.removeAttribute(n||t)}function Xt(e,t,s,o){e.addEventListener(t,s,o)}function Lu(e,t,s,o){e.removeEventListener(t,s,o)}const Di=Symbol("_vei");function Yu(e,t,s,o,n=null){const a=e[Di]||(e[Di]={}),l=a[t];if(o&&l)l.value=o;else{const[r,p]=Xu(t);if(o){const _=a[t]=Gu(o,n);Xt(e,r,_,p)}else l&&(Lu(e,r,l,p),a[t]=void 0)}}const Ui=/(?:Once|Passive|Capture)$/;function Xu(e){let t;if(Ui.test(e)){t={};let o;for(;o=e.match(Ui);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):wt(e.slice(2)),t]}let Jn=0;const Fu=Promise.resolve(),Vu=()=>Jn||(Fu.then(()=>Jn=0),Jn=Date.now());function Gu(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;mt(Hu(o,s.value),t,5,[o])};return s.value=e,s.attached=Vu(),s}function Hu(e,t){if(me(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const Li=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Bu=(e,t,s,o,n,a)=>{const l=n==="svg";t==="class"?Iu(e,o,l):t==="style"?Du(e,s,o):Ms(t)?_n(t)||Yu(e,t,s,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ju(e,t,o,l))?(ki(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&wi(e,t,o,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!De(o))?ki(e,$t(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),wi(e,t,o,l))};function ju(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Li(t)&&Ee(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Li(t)&&De(s)?!1:t in e}const as=e=>{const t=e.props["onUpdate:modelValue"]||!1;return me(t)?s=>$s(t,s):t};function Ku(e){e.target.composing=!0}function Yi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Nt=Symbol("_assign"),_e={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[Nt]=as(n);const a=o||n.props&&n.props.type==="number";Xt(e,t?"change":"input",l=>{if(l.target.composing)return;let r=e.value;s&&(r=r.trim()),a&&(r=ws(r)),e[Nt](r)}),s&&Xt(e,"change",()=>{e.value=e.value.trim()}),t||(Xt(e,"compositionstart",Ku),Xt(e,"compositionend",Yi),Xt(e,"change",Yi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:a}},l){if(e[Nt]=as(l),e.composing)return;const r=(a||e.type==="number")&&!/^0\d/.test(e.value)?ws(e.value):e.value,p=t==null?"":t;r!==p&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===p)||(e.value=p))}},Bt={deep:!0,created(e,t,s){e[Nt]=as(s),Xt(e,"change",()=>{const o=e._modelValue,n=Os(e),a=e.checked,l=e[Nt];if(me(o)){const r=gn(o,n),p=r!==-1;if(a&&!p)l(o.concat(n));else if(!a&&p){const _=[...o];_.splice(r,1),l(_)}}else if(zt(o)){const r=new Set(o);a?r.add(n):r.delete(n),l(r)}else l(Vi(e,a))})},mounted:Xi,beforeUpdate(e,t,s){e[Nt]=as(s),Xi(e,t,s)}};function Xi(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(me(t))n=gn(t,o.props.value)>-1;else if(zt(t))n=t.has(o.props.value);else{if(t===s)return;n=cs(t,Vi(e,!0))}e.checked!==n&&(e.checked=n)}const Mt={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=zt(t);Xt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?ws(Os(l)):Os(l));e[Nt](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,wo(()=>{e._assigning=!1})}),e[Nt]=as(o)},mounted(e,{value:t}){Fi(e,t)},beforeUpdate(e,t,s){e[Nt]=as(s)},updated(e,{value:t}){e._assigning||Fi(e,t)}};function Fi(e,t){const s=e.multiple,o=me(t);if(!(s&&!o&&!zt(t))){for(let n=0,a=e.options.length;n<a;n++){const l=e.options[n],r=Os(l);if(s)if(o){const p=typeof r;p==="string"||p==="number"?l.selected=t.some(_=>String(_)===String(r)):l.selected=gn(t,r)>-1}else l.selected=t.has(r);else if(cs(Os(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Os(e){return"_value"in e?e._value:e.value}function Vi(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Ju=["ctrl","shift","alt","meta"],qu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ju.some(s=>e[`${s}Key`]&&!t.includes(s))},Et=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...a)=>{for(let l=0;l<t.length;l++){const r=qu[t[l]];if(r&&r(n,t))return}return e(n,...a)})},Wu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const a=wt(n.key);if(t.some(l=>l===a||Wu[l]===a))return e(n)})},zu=ze({patchProp:Bu},Nu);let Gi;function Qu(){return Gi||(Gi=qd(zu))}const Zu=(...e)=>{const t=Qu().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=tp(o);if(!n)return;const a=t._component;!Ee(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,ep(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function ep(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function tp(e){return De(e)?document.querySelector(e):e}const At=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},sp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},np={key:0,class:"nxp-ec-admin-error"},op={class:"nxp-ec-admin-error__title"},ip={class:"nxp-ec-admin-error__body"};function ap(e,t,s,o,n,a){return y(),x("div",null,[n.error?(y(),x("div",np,[i("h2",op,u(a.fallbackTitle),1),i("p",ip,u(a.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>a.reload&&a.reload(...l))},u(a.reloadLabel),1)])):$d(e.$slots,"default",{key:1})])}const rp=At(sp,[["render",ap]]),lp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},cp={class:"nxp-ec-admin-panel__header"},dp={class:"nxp-ec-admin-panel__title"},up={class:"nxp-ec-admin-panel__lead"},pp={class:"nxp-ec-admin-panel__actions"},_p=["disabled"],fp={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hp={key:1,class:"nxp-ec-dashboard"},mp={class:"nxp-ec-dashboard__metrics"},gp={class:"nxp-ec-dashboard__card"},Cp={class:"nxp-ec-dashboard__value"},Sp={class:"nxp-ec-dashboard__hint"},Ep={class:"nxp-ec-dashboard__card"},Ap={class:"nxp-ec-dashboard__value"},bp={class:"nxp-ec-dashboard__hint"},yp={class:"nxp-ec-dashboard__card"},Tp={class:"nxp-ec-dashboard__value"},vp={class:"nxp-ec-dashboard__hint"},Op={class:"nxp-ec-dashboard__card"},Rp={class:"nxp-ec-dashboard__value"},xp={class:"nxp-ec-dashboard__hint"},Pp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Np={class:"nxp-ec-dashboard__checklist-header"},Mp={id:"dashboard-checklist-heading"},Ip={class:"nxp-ec-dashboard__checklist-progress"},$p={class:"nxp-ec-dashboard__checklist-list"},wp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},kp={key:0,class:"fa-solid fa-circle-check"},Dp={key:1,class:"fa-regular fa-circle"},Up={class:"nxp-ec-dashboard__checklist-label"},Lp=["href","title"],Yp={class:"nxp-ec-sr-only"},Xp=At({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,o=s.translate,n=s.state,a=Ce(()=>{var d;const f=(d=n.summary)==null?void 0:d.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),l=(f=0)=>{const d=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(d)}catch(A){return`${a.value} ${d.toFixed(2)}`}},r=Ce(()=>Array.isArray(n.checklist)?n.checklist:[]),p=Ce(()=>r.value.filter(f=>f.completed).length),_=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,d)=>(y(),x("section",lp,[i("header",cp,[i("div",null,[i("h2",dp,u(c(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",up,u(c(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",pp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:d[0]||(d[0]=A=>f.$emit("refresh")),disabled:c(n).loading},u(c(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,_p)])]),c(n).error?(y(),x("div",fp,u(c(n).error),1)):(y(),x("div",hp,[i("div",mp,[i("article",gp,[i("h3",null,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Cp,u(c(n).summary.products.active),1),i("p",Sp,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(c(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Ep,[i("h3",null,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",Ap,u(l(c(n).summary.orders.revenue_today)),1),i("p",bp,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(c(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",yp,[i("h3",null,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",Tp,u(c(n).summary.customers.total),1),i("p",vp,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Op,[i("h3",null,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Rp,u(l(c(n).summary.orders.revenue_month)),1),i("p",xp,u(c(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),i("section",Pp,[i("header",Np,[i("h3",Mp,u(c(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Ip,u(p.value)+" / "+u(r.value.length),1)]),i("ul",$p,[(y(!0),x(Se,null,Te(r.value,A=>(y(),x("li",{key:A.id,class:Ne({"is-complete":A.completed})},[i("span",wp,[A.completed?(y(),x("span",kp)):(y(),x("span",Dp))]),i("span",Up,u(c(o)(A.label,_(A.label))),1),A.link?(y(),x("a",{key:0,href:A.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:c(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[d[1]||(d[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",Yp,u(c(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Lp)):be("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-c78e71ec"]]),Fp={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Vp={id:"nxp-ec-products-caption",class:"visually-hidden"},Gp={scope:"col"},Hp={scope:"col"},Bp={scope:"col"},jp={scope:"col"},Kp={scope:"col"},Jp={scope:"col"},qp={scope:"col"},Wp={scope:"col",class:"nxp-ec-admin-table__actions"},zp={key:0},Qp={colspan:"8",class:"nxp-ec-admin-table__empty"},Zp={class:"nxp-ec-products-table__title"},e_={class:"nxp-ec-products-table__slug"},t_={key:0,class:"nxp-ec-products-table__badge"},s_={class:"nxp-ec-status nxp-ec-status--featured"},n_={key:0},o_={key:1},i_={key:0},a_={key:1},r_=["disabled","aria-pressed","title","aria-label","onClick"],l_={class:"nxp-ec-sr-only"},c_={class:"nxp-ec-admin-table__actions"},d_=["onClick","title","aria-label"],u_={class:"nxp-ec-sr-only"},p_=["onClick","title","aria-label"],__={class:"nxp-ec-sr-only"},f_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,o=Ce(()=>(t.baseCurrency||"USD").toUpperCase()),n=p=>{var P,Y,v,D;const _=(Y=(P=p==null?void 0:p.summary)==null?void 0:P.variants)!=null?Y:{};if(_.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const f=Number.isFinite(_.price_min_cents)?_.price_min_cents:null,d=Number.isFinite(_.price_max_cents)?_.price_max_cents:null;if(f===null)return"";const A=_.currency||((D=(v=p==null?void 0:p.variants)==null?void 0:v[0])==null?void 0:D.currency)||o.value;return d===null||d===f?r(f,A):`${r(f,A)}  ${r(d,A)}`},a=p=>{var d,A;const _=(A=(d=p==null?void 0:p.summary)==null?void 0:d.variants)!=null?A:{},f=Number.isFinite(_.count)?_.count:Array.isArray(p==null?void 0:p.variants)?p.variants.length:0;return f===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(f)])},l=p=>{if(!Array.isArray(p)||!p.length)return"";const _=p.map(A=>(A==null?void 0:A.title)||(A==null?void 0:A.slug)).filter(A=>!!A);if(!_.length)return"";if(_.length<=3)return _.join(", ");const f=_.slice(0,3).join(", "),d=_.length-3;return`${f} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(d)])}`},r=(p,_)=>`${(p/100).toFixed(2)} ${_}`;return(p,_)=>(y(),x("table",Fp,[i("caption",Vp,u(c(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",Gp,u(c(s)("JGRID_HEADING_ID","ID")),1),i("th",Hp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",Bp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",jp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",Kp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",Jp,u(c(s)("JSTATUS","Status")),1),i("th",qp,u(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",Wp,u(c(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?be("",!0):(y(),x("tr",zp,[i("td",Qp,u(c(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(y(!0),x(Se,null,Te(e.items,f=>{var d;return y(),x("tr",{key:f.id},[i("td",null,u(f.id),1),i("td",null,[i("div",Zp,u(f.title),1),i("div",e_,u(f.slug),1),f.featured?(y(),x("div",t_,[i("span",s_,[_[0]||(_[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),qe(" "+u(c(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):be("",!0)]),i("td",null,[n(f)?(y(),x("span",n_,u(n(f)),1)):(y(),x("span",o_,u(c(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))]),i("td",null,u(a(f)),1),i("td",null,[(d=f.categories)!=null&&d.length?(y(),x("span",i_,u(l(f.categories)),1)):(y(),x("span",a_,u(c(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))]),i("td",null,[i("button",{type:"button",class:Ne(["nxp-ec-status","nxp-ec-status-button",f.active?"nxp-ec-status--active":"nxp-ec-status--inactive"]),disabled:e.saving,"aria-pressed":f.active?"true":"false",title:f.active?c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_DEACTIVATE","Deactivate product",[],"productsStatusDeactivate"):c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_ACTIVATE","Activate product",[],"productsStatusActivate"),"aria-label":f.active?c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_DEACTIVATE","Deactivate product",[],"productsStatusDeactivate"):c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_ACTIVATE","Activate product",[],"productsStatusActivate"),onClick:A=>p.$emit("toggle-active",f)},[i("i",{class:Ne(f.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),qe(" "+u(f.active?c(s)("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):c(s)("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"))+" ",1),i("span",l_,u(c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,r_)]),i("td",null,u(f.modified||f.created),1),i("td",c_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:A=>p.$emit("edit",f),title:c(s)("JGLOBAL_EDIT","Edit"),"aria-label":c(s)("JGLOBAL_EDIT","Edit")},[_[1]||(_[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",u_,u(c(s)("JGLOBAL_EDIT","Edit")),1)],8,d_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:A=>p.$emit("delete",f),title:c(s)("JTRASH","Delete"),"aria-label":c(s)("JTRASH","Delete")},[_[2]||(_[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",__,u(c(s)("JTRASH","Delete")),1)],8,p_)])])}),128))])]))}},h_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},m_={class:"nxp-ec-modal__dialog"},g_={class:"nxp-ec-modal__header"},C_={class:"nxp-ec-modal__title"},S_={class:"nxp-ec-modal__header-actions"},E_=["disabled","title","aria-label"],A_={class:"nxp-ec-sr-only"},b_=["disabled","title","aria-label"],y_={class:"nxp-ec-sr-only"},T_=["aria-label"],v_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},O_={class:"nxp-ec-form-field"},R_={class:"nxp-ec-form-label",for:"product-title"},x_={class:"nxp-ec-form-field"},P_={class:"nxp-ec-form-label",for:"product-slug"},N_=["placeholder"],M_={class:"nxp-ec-form-field"},I_={class:"nxp-ec-form-label",for:"product-short-desc"},$_={class:"nxp-ec-form-field"},w_={class:"nxp-ec-form-label",for:"product-long-desc"},k_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},D_={class:"nxp-ec-form-label",for:"product-active"},U_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},L_={class:"nxp-ec-form-label",for:"product-featured"},Y_={class:"nxp-ec-form-help"},X_={class:"nxp-ec-form-field"},F_={class:"nxp-ec-form-label",for:"product-images"},V_={id:"product-images",class:"nxp-ec-image-list"},G_=["id","onUpdate:modelValue","placeholder"],H_={class:"nxp-ec-image-row__actions"},B_=["onClick"],j_=["onClick","disabled"],K_=["onClick","disabled"],J_=["onClick","aria-label"],q_={class:"nxp-ec-form-help"},W_={class:"nxp-ec-form-field"},z_={class:"nxp-ec-form-label",for:"product-category-select"},Q_=["value"],Z_={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},ef=["onClick","aria-label"],tf={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},sf=["onKeydown","placeholder"],nf={class:"nxp-ec-form-help"},of={class:"nxp-ec-variant-section"},af={class:"nxp-ec-variant-section__header"},rf={class:"nxp-ec-variant-section__title"},lf={class:"nxp-ec-form-help"},cf={class:"nxp-ec-variant-card__header"},df={class:"nxp-ec-variant-card__title"},uf=["onClick"],pf=["onClick","disabled"],_f={class:"nxp-ec-variant-card__grid"},ff={class:"nxp-ec-form-field"},hf=["for"],mf=["id","onUpdate:modelValue"],gf={class:"nxp-ec-form-field"},Cf=["for"],Sf=["id","onUpdate:modelValue","onBlur"],Ef={class:"nxp-ec-form-field"},Af=["for"],bf=["id","onUpdate:modelValue"],yf={class:"nxp-ec-form-help"},Tf={class:"nxp-ec-form-field"},vf=["for"],Of=["id","onUpdate:modelValue"],Rf={class:"nxp-ec-form-field"},xf=["for"],Pf=["id","onUpdate:modelValue"],Nf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Mf=["for"],If=["id","onUpdate:modelValue"],$f={class:"nxp-ec-variant-options"},wf={class:"nxp-ec-variant-options__header"},kf={class:"nxp-ec-variant-options__title"},Df=["onClick"],Uf={class:"nxp-ec-form-help"},Lf=["id","onUpdate:modelValue","placeholder"],Yf=["id","onUpdate:modelValue","placeholder"],Xf=["onClick","aria-label"],Ff={class:"nxp-ec-modal__actions"},Vf=["disabled"],Gf=["disabled"],Hi="product-editor-form",Hf=At({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),l=C=>{var h,g,R,$,U,M,ee,z;if(C==null)return null;if(typeof C=="string"){const se=C.trim();return se===""?null:{id:0,title:se,slug:""}}if(typeof C=="object"){const se=Number.parseInt((g=(h=C.id)!=null?h:C.value)!=null?g:0,10)||0,ne=(ee=(M=(U=($=(R=C.title)!=null?R:C.name)!=null?$:C.text)!=null?U:C.label)!=null?M:C.slug)!=null?ee:"",ge=String(ne!=null?ne:"").trim(),Ae=String((z=C.slug)!=null?z:"").trim();return se<=0&&ge===""?null:{id:se>0?se:0,title:ge!==""?ge:Ae,slug:Ae}}return null},r=Ie({title:"",slug:"",short_desc:"",long_desc:"",active:!0,featured:!1,images:[],categories:[],variants:[]}),p=Le(""),_=Le(!1),f=Ce(()=>{const h=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(l).filter(R=>R&&R.id>0&&R.title!==""),g=new Map;return h.forEach(R=>{g.set(R.id,R)}),r.categories.forEach(R=>{var $;R.id>0&&R.title&&!g.has(R.id)&&g.set(R.id,{id:R.id,title:R.title,slug:($=R.slug)!=null?$:""})}),Array.from(g.values()).sort((R,$)=>R.title.localeCompare($.title))}),d=Ce(()=>{const C=new Map;return f.value.forEach(h=>{var g;C.set(h.id,{title:h.title,slug:(g=h.slug)!=null?g:""})}),C}),A=Ce({get:()=>r.categories.filter(C=>C.id>0).map(C=>C.id),set:C=>{const h=Array.isArray(C)?C:[],g=Array.from(new Set(h.map(U=>Number.parseInt(U!=null?U:0,10)||0).filter(U=>U>0))),R=r.categories.filter(U=>!(U.id>0)),$=g.map(U=>{const M=d.value.get(U),ee=r.categories.find(ne=>ne.id===U),z=(M==null?void 0:M.title)||(ee==null?void 0:ee.title)||"",se=(M==null?void 0:M.slug)||(ee==null?void 0:ee.slug)||"";return z===""?null:{id:U,title:z,slug:se}}).filter(U=>U!==null);r.categories.splice(0,r.categories.length,...$,...R)}}),P=Ce(()=>s.product&&s.product.id?"edit":"create"),Y=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),v=()=>({name:"",value:""}),D=C=>C?C.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",T=()=>{_.value=!0,r.slug=D(r.slug)},W=C=>{const g=(Array.isArray(C)?C:[]).map(l).filter(U=>U&&(U.id>0||U.title!=="")),R=new Set,$=[];g.forEach(U=>{const M=U.id>0?`id:${U.id}`:`title:${U.title.toLowerCase()}`;R.has(M)||(R.add(M),$.push(U))}),r.categories.splice(0,r.categories.length,...$)},I=C=>{r.variants.splice(0,r.variants.length,...C)},b=C=>{r.images.splice(0,r.images.length,...C)},B=C=>Array.isArray(C)?C.map(h=>{var g,R,$;return{name:String((R=(g=h==null?void 0:h.name)!=null?g:h==null?void 0:h.key)!=null?R:"").trim(),value:String(($=h==null?void 0:h.value)!=null?$:"").trim()}}):C&&typeof C=="object"?Object.entries(C).map(([h,g])=>({name:String(h!=null?h:"").trim(),value:String(g!=null?g:"").trim()})):[],le=C=>!Array.isArray(C)||C.length===0?[Y()]:C.map(h=>{var g,R,$,U;return{id:Number.parseInt((g=h==null?void 0:h.id)!=null?g:0,10)||0,sku:String((R=h==null?void 0:h.sku)!=null?R:"").trim(),price:(h==null?void 0:h.price)!=null?String(h.price):Number.isFinite(h==null?void 0:h.price_cents)?(h.price_cents/100).toFixed(2):"",currency:String(($=h==null?void 0:h.currency)!=null?$:a.value).toUpperCase(),stock:Number.parseInt((U=h==null?void 0:h.stock)!=null?U:0,10)||0,weight:(h==null?void 0:h.weight)!=null?String(h.weight):"",active:(h==null?void 0:h.active)!==void 0?!!h.active:!0,options:B(h==null?void 0:h.options)}}),fe=C=>{var $,U,M,ee;const h=C?JSON.parse(JSON.stringify(C)):{};r.title=($=h.title)!=null?$:"",r.slug=(U=h.slug)!=null?U:"",r.short_desc=(M=h.short_desc)!=null?M:"",r.long_desc=(ee=h.long_desc)!=null?ee:"",r.active=h.active!==void 0?!!h.active:!0,r.featured=h.featured!==void 0?!!h.featured:!1;const g=Array.isArray(h.images)?h.images.map(z=>String(z!=null?z:"").trim()).filter(Boolean):[];b(g);const R=Array.isArray(h.categories)?h.categories:[];W(R),p.value="",I(le(h.variants)),_.value=!!r.slug};$e(()=>s.product,C=>{fe(C)},{immediate:!0}),$e(()=>r.title,C=>{_.value||(r.slug=D(C))}),$e(a,C=>{r.variants.forEach(h=>{h.currency=C})});const he=()=>{const C=p.value.trim();if(!C)return;const h=C.toLowerCase(),g=r.categories.slice();g.some($=>$.title.toLowerCase()===h)||(g.push({id:0,title:C,slug:""}),r.categories.splice(0,r.categories.length,...g)),p.value=""},Z=C=>{if(C<0||C>=r.categories.length)return;const h=r.categories.slice();h.splice(C,1),r.categories.splice(0,r.categories.length,...h)},G=()=>{r.variants.push(Y())},F=C=>{r.variants.length<=1||r.variants.splice(C,1)},j=C=>{const h=r.variants[C];h&&(Array.isArray(h.options)||(h.options=[]),h.options.push(v()))},Q=(C,h)=>{const g=r.variants[C];!g||!Array.isArray(g.options)||g.options.splice(h,1)},ae=(C,h)=>`${C.id||"new"}-${h}`,pe=C=>{const h=r.variants[C];if(!h)return;const g=JSON.parse(JSON.stringify(h));g.id=0,g.sku=[g.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),g.active=!0,r.variants.splice(C+1,0,g)},te=C=>{const h=r.variants[C];if(!h)return;const g=Number.parseFloat(h.price);Number.isNaN(g)||(h.price=g.toFixed(2))};let q=null,O=null,k=null,X=null,w="";const H=()=>{Array.isArray(r.images)||(r.images=[])},J=C=>{var $,U,M;if(!C)return"";let h=String(C).trim();if(h==="")return"";try{const ee=(M=(U=($=window.Joomla)==null?void 0:$.getOptions)==null?void 0:U.call($,"system.paths",{}))!=null?M:{},z=ee.rootFull||window.location.origin,se=ee.root||"/";h.startsWith(z)&&(h=h.substring(z.length)),h.startsWith(se)&&(h=h.substring(se.length))}catch(ee){}const g=h.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);g&&g[1]&&(h=g[1]);const R=h.indexOf("#joomlaImage://");return R!==-1&&(h=h.substring(0,R)),h.trim()},ue=(C,{keepIndex:h=!1,appendWhenNoIndex:g=!1,targetIndex:R=null}={})=>{const $=J(C);if($==="")return!1;H();const U=R!==null&&R>=0?R:X;return U==null||Number.isNaN(U)?g?(r.images.push($),h||(X=null,w=""),!0):!1:(U>=r.images.length?r.images.push($):r.images[U]=$,w=h?$:"",h||(X=null,w=""),!0)},V=()=>{H(),r.images.push("")},N=C=>{H(),r.images.splice(C,1)},S=(C,h)=>{H();const g=r.images[C];if(g===void 0)return;const R=C+h;R<0||R>=r.images.length||(r.images.splice(C,1),r.images.splice(R,0,g))},oe=C=>{var R;H();const h=(R=r.images[C])!=null?R:"";if(typeof window=="undefined")return;const g=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),h);ue(g!=null?g:"",{targetIndex:C})},ce=()=>{var U,M,ee,z,se,ne;const C=(s.mediaModalUrl||"").trim();if(C!=="")return C;const h=(ee=(M=(U=window.Joomla)==null?void 0:U.getOptions)==null?void 0:M.call(U,"media-picker",{}))!=null?ee:{};if(h.modalUrl)return h.modalUrl;const g=(ne=(se=(z=window.Joomla)==null?void 0:z.getOptions)==null?void 0:se.call(z,"system.paths",{}))!=null?ne:{},R=g.rootFull||g.root||"";return(R?R.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},re=async()=>{var ee,z,se,ne,ge,Ae,ye,Fe,Ve;if(q)return q;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(we){return null}const C=(se=(z=(ee=window.Joomla)==null?void 0:ee.getOptions)==null?void 0:z.call(ee,"system.paths",{}))!=null?se:{},h=C.rootFull||C.root||"",g=(Ae=(ge=(ne=window.Joomla)==null?void 0:ne.getOptions)==null?void 0:ge.call(ne,"com_media",{}))!=null?Ae:{},R=(g==null?void 0:g.file_path)||"images",$=(Ve=(Fe=(ye=window.Joomla)==null?void 0:ye.getOptions)==null?void 0:Fe.call(ye,"media-picker",{}))!=null?Ve:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},M=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return O=document.createElement("div"),O.className="nxp-ec-media-picker-host",O.style.display="none",O.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${h.replace(/"/g,"&quot;")}"
            root-folder="${R.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${M}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify($).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(O),q=O.querySelector("joomla-field-media"),k=O.querySelector(".nxp-ec-media-field__input"),q.addEventListener("change",we=>{var at,ke,je,It,Kt,Jt;const Be=(je=(ke=(at=we.detail)==null?void 0:at.value)!=null?ke:k==null?void 0:k.value)!=null?je:"";let We=J(Be);if(We===""&&w!==""&&(We=w),We===""&&((It=window.Joomla)!=null&&It.selectedMediaFile)){const zn=J((Kt=window.Joomla.selectedMediaFile.url)!=null?Kt:""),Qn=J((Jt=window.Joomla.selectedMediaFile.path)!=null?Jt:"");We=zn||Qn}ue(We)}),q.addEventListener("joomla-dialog:close",()=>{X=null,w=""}),k&&k.addEventListener("change",()=>{var Be,We,at,ke;if(X===null)return;let we=J((Be=k.value)!=null?Be:"");if(we===""&&w!==""&&(we=w),we===""&&((We=window.Joomla)!=null&&We.selectedMediaFile)){const je=J((at=window.Joomla.selectedMediaFile.url)!=null?at:""),It=J((ke=window.Joomla.selectedMediaFile.path)!=null?ke:"");we=je||It}we!==""&&ue(we)}),q},Xe=C=>{var U,M;const h=C==null?void 0:C.detail;if(!h||typeof h!="object")return;const g=J((U=h.path)!=null?U:""),$=J((M=h.url)!=null?M:"")||g;$===""||X===null||(w=$,ue($,{keepIndex:!0}))};nt(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",Xe)});const m=async C=>{var R;H();const h=await re();if(!h||typeof h.show!="function"){oe(C);return}X=C,h.setAttribute("url",ce());const g=(R=r.images[C])!=null?R:"";typeof h.setValue=="function"?h.setValue(g):k&&(k.value=g);try{h.show()}catch($){X=null,w="",oe(C)}};Bo(()=>{O&&O.parentNode&&O.parentNode.removeChild(O),q=null,O=null,k=null,X=null,w="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",Xe)});const E=()=>{var $,U;H();const C=Array.from(new Set(r.images.map(M=>String(M!=null?M:"").trim()).filter(M=>M!==""))),h=r.categories.map(M=>{var ne,ge,Ae;const ee=Number.parseInt((ne=M==null?void 0:M.id)!=null?ne:0,10)||0,z=String((ge=M==null?void 0:M.title)!=null?ge:"").trim(),se=String((Ae=M==null?void 0:M.slug)!=null?Ae:"").trim();return ee>0?{id:ee,title:z,slug:se}:z===""?null:{id:0,title:z,slug:""}}).filter(M=>M!==null),g=r.variants.map(M=>{const ee=Array.isArray(M.options)?M.options.map(ne=>{var ge,Ae;return{name:String((ge=ne==null?void 0:ne.name)!=null?ge:"").trim(),value:String((Ae=ne==null?void 0:ne.value)!=null?Ae:"").trim()}}).filter(ne=>ne.name!==""&&ne.value!==""):[],z=Number.isFinite(Number(M.stock))?Math.max(0,parseInt(M.stock,10)):0,se=M.weight!==null&&M.weight!==""?String(M.weight).trim():null;return{id:M.id||0,sku:M.sku.trim(),price:M.price!==null&&M.price!==void 0?String(M.price).trim():"",currency:M.currency?String(M.currency).trim().toUpperCase():a.value,stock:z,weight:se,active:!!M.active,options:ee}}),R={title:r.title.trim(),slug:r.slug.trim(),short_desc:($=r.short_desc)!=null?$:"",long_desc:(U=r.long_desc)!=null?U:"",active:!!r.active,featured:!!r.featured,images:C,categories:h,variants:g};o("submit",R)},L=()=>{o("cancel")};return $e(()=>s.saving,(C,h)=>{h&&!C&&s.errors.length===0&&P.value==="create"&&(fe(null),p.value="",_.value=!1)}),(C,h)=>e.open?(y(),x("div",h_,[h[10]||(h[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",m_,[i("header",g_,[i("h2",C_,u(P.value==="edit"?c(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):c(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",S_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:L,disabled:e.saving,title:c(n)("JCANCEL","Cancel"),"aria-label":c(n)("JCANCEL","Cancel")},[h[8]||(h[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",A_,u(c(n)("JCANCEL","Cancel")),1)],8,E_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:Hi,title:e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save"),"aria-label":e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save")},[i("i",{class:Ne(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",y_,u(e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save")),1)],8,b_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:L,"aria-label":c(n)("JCLOSE","Close")},"  ",8,T_)])]),i("form",{id:Hi,class:"nxp-ec-form",onSubmit:Et(E,["prevent"])},[e.errors.length?(y(),x("div",v_,[(y(!0),x(Se,null,Te(e.errors,(g,R)=>(y(),x("p",{key:R},u(g),1))),128))])):be("",!0),i("div",O_,[i("label",R_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),ie(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[0]||(h[0]=g=>r.title=g),required:""},null,512),[[_e,r.title,void 0,{trim:!0}]])]),i("div",x_,[i("label",P_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),ie(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[1]||(h[1]=g=>r.slug=g),onInput:T,placeholder:c(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,N_),[[_e,r.slug,void 0,{trim:!0}]])]),i("div",M_,[i("label",I_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),ie(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":h[2]||(h[2]=g=>r.short_desc=g)},null,512),[[_e,r.short_desc]])]),i("div",$_,[i("label",w_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),ie(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":h[3]||(h[3]=g=>r.long_desc=g)},null,512),[[_e,r.long_desc]])]),i("div",k_,[i("label",D_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_ACTIVE","Published")),1),ie(i("input",{id:"product-active",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":h[4]||(h[4]=g=>r.active=g)},null,512),[[Bt,r.active]])]),i("div",U_,[i("label",L_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),ie(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":h[5]||(h[5]=g=>r.featured=g)},null,512),[[Bt,r.featured]]),i("p",Y_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",X_,[i("label",F_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",V_,[(y(!0),x(Se,null,Te(r.images,(g,R)=>(y(),x("div",{key:`product-image-${R}`,class:"nxp-ec-image-row"},[ie(i("input",{id:`product-image-${R}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$=>r.images[R]=$,placeholder:c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,G_),[[_e,r.images[R],void 0,{trim:!0}]]),i("div",H_,[i("button",{type:"button",class:"nxp-ec-btn",onClick:$=>m(R)},[h[9]||(h[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),qe(" "+u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,B_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>S(R,-1),disabled:R===0},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,j_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>S(R,1),disabled:R===r.images.length-1},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,K_),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:$=>N(R),"aria-label":c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),9,J_)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:V},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",q_,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",W_,[i("label",z_,u(c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),ie(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":h[6]||(h[6]=g=>A.value=g)},[(y(!0),x(Se,null,Te(f.value,g=>(y(),x("option",{key:g.id,value:g.id},u(g.title),9,Q_))),128))],512),[[Mt,A.value]]),i("div",Z_,[(y(!0),x(Se,null,Te(r.categories,(g,R)=>(y(),x("span",{key:`selected-category-${R}`,class:"nxp-ec-chip"},[qe(u(g.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:$=>Z(R),"aria-label":c(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,ef)]))),128))]),i("div",tf,[ie(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":h[7]||(h[7]=g=>p.value=g),onKeydown:jt(Et(he,["prevent"]),["enter"]),placeholder:c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,sf),[[_e,p.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:he},u(c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",nf,u(c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",of,[i("header",af,[i("h3",rf,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:G},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",lf,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price and currency.")),1),(y(!0),x(Se,null,Te(r.variants,(g,R)=>(y(),x("article",{key:ae(g,R),class:"nxp-ec-variant-card"},[i("header",cf,[i("h4",df,u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(R+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>pe(R)},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,uf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:$=>F(R),disabled:r.variants.length<=1},u(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,pf)]),i("div",_f,[i("div",ff,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${R}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,hf),ie(i("input",{id:`variant-sku-${R}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$=>g.sku=$,required:""},null,8,mf),[[_e,g.sku,void 0,{trim:!0}]])]),i("div",gf,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${R}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Cf),ie(i("input",{id:`variant-price-${R}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$=>g.price=$,onBlur:$=>te(R),required:""},null,40,Sf),[[_e,g.price,void 0,{trim:!0}]])]),i("div",Ef,[i("label",{class:"nxp-ec-form-label",for:`variant-currency-${R}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY","Currency")),9,Af),ie(i("input",{id:`variant-currency-${R}`,class:"nxp-ec-form-input",type:"text",maxlength:"3","onUpdate:modelValue":$=>g.currency=$,readonly:"","aria-readonly":"true"},null,8,bf),[[_e,g.currency,void 0,{trim:!0}]]),i("p",yf,u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_HELP","Variants inherit the store base currency (%s).",[a.value])),1)]),i("div",Tf,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${R}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,vf),ie(i("input",{id:`variant-stock-${R}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":$=>g.stock=$},null,8,Of),[[_e,g.stock,void 0,{number:!0}]])]),i("div",Rf,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${R}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,xf),ie(i("input",{id:`variant-weight-${R}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":$=>g.weight=$},null,8,Pf),[[_e,g.weight,void 0,{trim:!0}]])]),i("div",Nf,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${R}`},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,Mf),ie(i("input",{id:`variant-active-${R}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":$=>g.active=$},null,8,If),[[Bt,g.active]])])]),i("section",$f,[i("header",wf,[i("h5",kf,u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:$=>j(R)},u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,Df)]),i("p",Uf,u(c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(y(!0),x(Se,null,Te(g.options,($,U)=>(y(),x("div",{key:`variant-${R}-option-${U}`,class:"nxp-ec-variant-option-row"},[ie(i("input",{id:`variant-${R}-option-name-${U}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M=>$.name=M,placeholder:c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,Lf),[[_e,$.name,void 0,{trim:!0}]]),ie(i("input",{id:`variant-${R}-option-value-${U}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M=>$.value=M,placeholder:c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,Yf),[[_e,$.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:M=>Q(R,U),"aria-label":c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Xf)]))),128))])]))),128))]),i("footer",Ff,[i("button",{type:"button",class:"nxp-ec-btn",onClick:L,disabled:e.saving},u(c(n)("JCANCEL","Cancel")),9,Vf),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},u(e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save")),9,Gf)])],32)])])):be("",!0)}},[["__scopeId","data-v-0de525bf"]]),Bf={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},jf={key:1,class:"nxp-ec-skeleton__table"},Kf={key:2,class:"nxp-ec-skeleton__card"},Jf={key:3,class:"nxp-ec-skeleton__circle"};function qf(e,t,s,o,n,a){return y(),x("div",{class:Ne(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(y(),x("div",{key:0,class:"nxp-ec-skeleton__line",style:Dt({width:s.width})},null,4)):s.type==="table"?(y(),x("div",jf,[(y(!0),x(Se,null,Te(s.rows,l=>(y(),x("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(y(!0),x(Se,null,Te(s.columns,r=>(y(),x("div",{key:r,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(y(),x("div",Kf,[...t[0]||(t[0]=[_u('<div class="nxp-ec-skeleton__card-header" data-v-c59f3790></div><div class="nxp-ec-skeleton__card-body" data-v-c59f3790><div class="nxp-ec-skeleton__line" data-v-c59f3790></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c59f3790></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c59f3790></div></div>',2)])])):s.type==="circle"?(y(),x("div",Jf)):(y(),x("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Dt({width:s.width,height:s.height})},null,4))],2)}const Rs=At(Bf,[["render",qf],["__scopeId","data-v-c59f3790"]]),Wf={class:"nxp-ec-admin-panel"},zf={class:"nxp-ec-admin-panel__header"},Qf={class:"nxp-ec-admin-panel__title"},Zf={class:"nxp-ec-admin-panel__lead"},eh={class:"nxp-ec-admin-panel__actions"},th=["placeholder","aria-label"],sh=["disabled","title","aria-label"],nh={class:"nxp-ec-sr-only"},oh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ih={key:1,class:"nxp-ec-admin-panel__body"},ah={key:2,class:"nxp-ec-admin-panel__body"},rh=["title"],lh={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ie({mode:"create",product:null}),l=Le(!1),r=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),p=Ce(()=>a.product),_=Ce(()=>(s.mediaModalUrl||"").trim()),f=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},d=I=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(I)),l.value=!0},A=()=>{l.value=!1,s.state.validationErrors=[]},P=async I=>{var B;const b={...I,active:I.active?1:0,featured:I.featured?1:0};a.mode==="edit"&&((B=a.product)!=null&&B.id)?o("update",{id:a.product.id,data:b}):o("create",b)},Y=async I=>{var le;const b=(le=I==null?void 0:I.title)!=null?le:"",B=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[b||"#"]);window.confirm(B)&&o("delete",[I.id])},v=I=>{if(!(I!=null&&I.id)||s.state.saving)return;const b=Z=>Z==null?"":String(Z),B=(Z,G=0)=>{const F=Number(Z);return Number.isFinite(F)?F:G},le=Array.isArray(I.variants)?I.variants.map(Z=>{var pe,te;if(!Z)return null;const G=b(Z.sku).trim();if(!G)return null;let F=B(Z.price_cents,Number.NaN);if(!Number.isFinite(F)){const q=b(Z.price),O=q?Number.parseFloat(q):NaN;F=Number.isFinite(O)?Math.round(O*100):NaN}if(!Number.isFinite(F))return null;const j=b((pe=Z.currency)!=null?pe:r.value).trim().toUpperCase();if(!j)return null;const Q=(te=Z.options)!=null?te:null,ae=Math.max(0,Math.round(B(Z.stock,0)));return{id:B(Z.id,0),sku:G,price_cents:Math.round(F),currency:j,stock:ae,options:Q!=null?Q:null,weight:Z.weight!==null&&Z.weight!==void 0&&Z.weight!==""?String(Z.weight):null,active:Z.active===void 0?!0:!!Z.active}}).filter(Boolean):[];if(!le.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const fe=Array.isArray(I.categories)?I.categories.map(Z=>{if(Z==null)return null;if(typeof Z=="number")return Z>0?{id:Z,title:"",slug:""}:null;if(typeof Z=="string"&&Z.trim()!==""&&Number.isFinite(Number(Z))){const F=Number(Z);return F>0?{id:F,title:"",slug:""}:null}if(typeof Z=="object"){if(Z.id){const j=B(Z.id,0);return j>0?{id:j,title:"",slug:""}:null}return B(Z.id,0)<=0&&!Z.title?null:{id:0,title:b(Z.title),slug:b(Z.slug)}}const G=b(Z).trim();return G?{id:0,title:G,slug:""}:null}).filter(Boolean):[],he=Array.isArray(I.images)?I.images.map(Z=>b(Z).trim()).map(Z=>{var Q,ae,pe;let G=Z;if(!G)return"";const F=G.indexOf("#joomlaImage://");F!==-1&&(G=G.substring(0,F));const j=G.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(j&&j[1]&&(G=j[1]),typeof window!="undefined")try{const te=(pe=(ae=(Q=window.Joomla)==null?void 0:Q.getOptions)==null?void 0:ae.call(Q,"system.paths",{}))!=null?pe:{},q=te.rootFull||window.location.origin,O=te.root||"/";G.startsWith(q)&&(G=G.substring(q.length)),G.startsWith(O)&&(G=G.substring(O.length))}catch(te){}return G.trim()}).filter(Z=>Z!==""):[];s.state.error="",o("update",{id:I.id,data:{title:b(I.title),slug:b(I.slug),short_desc:b(I.short_desc),long_desc:b(I.long_desc),active:I.active?0:1,featured:I.featured?1:0,images:he,variants:le,categories:fe}})},D=()=>{o("refresh")},T=()=>{o("search")},W=I=>{if(!I)return"";try{const b=new Date(I),le=new Date-b,fe=Math.floor(le/1e3),he=Math.floor(fe/60),Z=Math.floor(he/60);return fe<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):he<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[he]):Z<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Z]):b.toLocaleString()}catch(b){return I}};return $e(()=>s.state.saving,(I,b)=>{b&&!I&&l.value&&!s.state.validationErrors.length&&!s.state.error&&A()}),(I,b)=>(y(),x("section",Wf,[i("header",zf,[i("div",null,[i("h2",Qf,u(c(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",Zf,u(c(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",eh,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":b[0]||(b[0]=B=>e.state.search=B),onKeyup:jt(T,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,th),[[_e,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:D,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":c(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[b[1]||(b[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",nh,u(c(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,sh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:f},[b[2]||(b[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),qe(" "+u(c(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(y(),x("div",oh,u(e.state.error),1)):e.state.loading?(y(),x("div",ih,[Ye(Rs,{type:"table",rows:5,columns:5})])):(y(),x("div",ah,[Ye(f_,{items:e.state.items,translate:c(n),"base-currency":r.value,saving:e.state.saving,onEdit:d,onDelete:Y,onToggleActive:v},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(W(e.state.lastUpdated)),9,rh)):be("",!0)])),Ye(Hf,{open:l.value,product:p.value,saving:e.state.saving,"base-currency":r.value,translate:c(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":_.value,onSubmit:P,onCancel:A},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},ch={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},dh={class:"nxp-ec-admin-panel__header"},uh={class:"nxp-ec-admin-panel__title"},ph={class:"nxp-ec-admin-panel__lead"},_h={class:"nxp-ec-admin-panel__actions"},fh=["placeholder","aria-label"],hh=["disabled","title","aria-label"],mh={class:"nxp-ec-sr-only"},gh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ch={key:1,class:"nxp-ec-admin-panel__body"},Sh={key:2,class:"nxp-ec-admin-panel__body"},Eh={class:"nxp-ec-admin-panel__table"},Ah={class:"nxp-ec-admin-table"},bh={scope:"col"},yh={scope:"col"},Th={scope:"col"},vh={scope:"col"},Oh={scope:"col"},Rh={key:0},xh={colspan:"6"},Ph={scope:"row"},Nh={class:"nxp-ec-admin-table__actions"},Mh=["onClick","title","aria-label"],Ih={class:"nxp-ec-sr-only"},$h=["disabled","onClick","title","aria-label"],wh={class:"nxp-ec-sr-only"},kh={key:0,class:"nxp-ec-admin-pagination"},Dh=["disabled"],Uh={class:"nxp-ec-admin-pagination__status"},Lh=["disabled"],Yh=["title"],Xh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Fh={class:"nxp-ec-modal__dialog"},Vh={class:"nxp-ec-modal__header"},Gh={class:"nxp-ec-modal__title"},Hh=["title","aria-label"],Bh={class:"nxp-ec-sr-only"},jh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Kh={class:"nxp-ec-form-field"},Jh={class:"nxp-ec-form-label",for:"category-title"},qh={class:"nxp-ec-form-field"},Wh={class:"nxp-ec-form-label",for:"category-slug"},zh={class:"nxp-ec-form-field"},Qh={class:"nxp-ec-form-label",for:"category-parent"},Zh={value:""},em=["value"],tm={class:"nxp-ec-form-field"},sm={class:"nxp-ec-form-label",for:"category-sort"},nm={class:"nxp-ec-modal__actions"},om=["disabled"],im={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Le(!1),l=Le(!1),r=Le([]),p=G=>{const j=(Array.isArray(G)?G:[]).map(w=>{var H,J,ue,V,N;return{...w,id:Number.parseInt((H=w==null?void 0:w.id)!=null?H:0,10)||0,parent_id:(w==null?void 0:w.parent_id)!=null&&Number.parseInt(w.parent_id,10)||0,sort:Number.parseInt((J=w==null?void 0:w.sort)!=null?J:0,10)||0,title:String((ue=w==null?void 0:w.title)!=null?ue:"").trim(),slug:String((V=w==null?void 0:w.slug)!=null?V:"").trim(),usage:(N=w==null?void 0:w.usage)!=null?N:0}}).filter(w=>w.id>0||w.title!==""),Q=new Set(j.map(w=>w.id));j.forEach(w=>{Q.has(w.parent_id)||(w.parent_id=0)});const ae=new Map,pe=new Map;j.forEach(w=>{pe.set(w.id,w);const H=w.parent_id||0;ae.has(H)||ae.set(H,[]),ae.get(H).push(w)});const te=w=>w.sort((H,J)=>{var ue,V;return((ue=H.sort)!=null?ue:0)-((V=J.sort)!=null?V:0)||H.title.localeCompare(J.title,void 0,{sensitivity:"base"})});ae.forEach(te);const q=new Set,O=[],k=(w,H,J)=>{if(!w||q.has(w.id)||J.includes(w.id))return;const ue=[...J],V=ue.map(oe=>{var ce;return(ce=pe.get(oe))==null?void 0:ce.title}).filter(Boolean),N={...w,depth:H,path:V.join(" / "),ancestors:ue,indentedTitle:H>0?`${" ".repeat(H)}${w.title}`:w.title};O.push(N),q.add(w.id),(ae.get(w.id)||[]).forEach(oe=>k(oe,H+1,[...J,w.id]))},X=j.filter(w=>w.parent_id===0||!Q.has(w.parent_id));return te(X),X.forEach(w=>k(w,0,[])),j.forEach(w=>{q.has(w.id)||k(w,0,[])}),O},_=Ce(()=>{var G,F;return p((F=(G=s.state)==null?void 0:G.items)!=null?F:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),d=Ie(f()),A=Ce(()=>{var F,j;const G=(j=Array.isArray(r.value)&&r.value.length?r.value:(F=s.state)==null?void 0:F.items)!=null?j:[];return p(G).filter(Q=>Q.id>0&&Q.id!==d.id&&!(Array.isArray(Q.ancestors)&&Q.ancestors.includes(d.id))).map(Q=>({id:Q.id,title:Q.title,label:Q.depth>0?`${" ".repeat(Q.depth)}${Q.title}`:Q.title}))}),P=()=>{Object.assign(d,f()),l.value=!1},Y=G=>G?G.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",v=()=>{l.value=!0,d.slug=Y(d.slug)};$e(()=>d.title,G=>{l.value||(d.slug=Y(G))});const D=async(G=0)=>{if(typeof s.loadOptions!="function"){r.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const F=await s.loadOptions();r.value=Array.isArray(F)?[...F]:[]}catch(F){r.value=[]}r.value=r.value.filter(F=>{var Q,ae;return(Number.parseInt((ae=(Q=F==null?void 0:F.id)!=null?Q:F==null?void 0:F.value)!=null?ae:0,10)||0)!==G})},T=async()=>{P(),await D(),a.value=!0},W=async G=>{var F,j,Q,ae;G&&(d.id=Number.parseInt((F=G.id)!=null?F:0,10)||0,d.title=String((j=G.title)!=null?j:"").trim(),d.slug=String((Q=G.slug)!=null?Q:"").trim(),d.parent_id=G.parent_id!=null&&Number.parseInt(G.parent_id,10)||null,d.sort=Number.parseInt((ae=G.sort)!=null?ae:0,10)||0,l.value=!!d.slug,await D(d.id),a.value=!0)},I=()=>{a.value=!1,P()},b=()=>{o("refresh")},B=()=>{o("search")},le=G=>{o("page",G)},fe=()=>{const G={id:d.id||void 0,title:d.title.trim(),slug:d.slug.trim(),parent_id:d.parent_id||null,sort:Number.isFinite(d.sort)?d.sort:0};o("save",G)},he=G=>{if(!G||!G.id)return;const F=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(F)||o("delete",[G.id])},Z=G=>{if(!G)return"";try{const F=new Date(G),Q=new Date-F,ae=Math.floor(Q/1e3),pe=Math.floor(ae/60),te=Math.floor(pe/60);return ae<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):pe<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[pe]):te<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[te]):F.toLocaleString()}catch(F){return G}};return $e(()=>{var G;return(G=s.state)==null?void 0:G.saving},(G,F)=>{var j,Q,ae;F&&!G&&(((Q=(j=s.state)==null?void 0:j.validationErrors)!=null?Q:[]).length>0||(ae=s.state)!=null&&ae.error||(a.value=!1,P()))}),(G,F)=>(y(),x("section",ch,[i("header",dh,[i("div",null,[i("h2",uh,u(c(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",ph,u(c(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",_h,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":F[0]||(F[0]=j=>e.state.search=j),onKeyup:jt(B,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,fh),[[_e,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:b,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":c(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[F[7]||(F[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",mh,u(c(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,hh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:T},[F[8]||(F[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),qe(" "+u(c(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(y(),x("div",gh,u(e.state.error),1)):e.state.loading?(y(),x("div",Ch,[Ye(Rs,{type:"table",rows:5,columns:5})])):(y(),x("div",Sh,[i("div",Eh,[i("table",Ah,[i("thead",null,[i("tr",null,[i("th",bh,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",yh,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",Th,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",vh,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Oh,u(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),F[9]||(F[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?be("",!0):(y(),x("tr",Rh,[i("td",xh,u(c(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(y(!0),x(Se,null,Te(_.value,j=>{var Q;return y(),x("tr",{key:j.id,class:Ne({"is-active":d.id===j.id})},[i("th",Ph,[i("span",{style:Dt({paddingLeft:`${j.depth*1.5}rem`})},u(j.indentedTitle),5)]),i("td",null,u(j.slug||""),1),i("td",null,u(j.path||c(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),i("td",null,u(j.sort),1),i("td",null,u((Q=j.usage)!=null?Q:0),1),i("td",Nh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ae=>W(j),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[F[10]||(F[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",Ih,u(c(n)("JEDIT","Edit")),1)],8,Mh),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:ae=>he(j),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[F[11]||(F[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",wh,u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,$h)])],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",kh,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:F[1]||(F[1]=j=>le(e.state.pagination.current-1))},"  ",8,Dh),i("span",Uh,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:F[2]||(F[2]=j=>le(e.state.pagination.current+1))},"  ",8,Lh)])):be("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(Z(e.state.lastUpdated)),9,Yh)):be("",!0),a.value?(y(),x("div",Xh,[i("div",{class:"nxp-ec-modal__backdrop",onClick:I}),i("div",Fh,[i("header",Vh,[i("h3",Gh,u(d.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:I,title:c(n)("JCLOSE","Close"),"aria-label":c(n)("JCLOSE","Close")},[F[12]||(F[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Bh,u(c(n)("JCLOSE","Close")),1)],8,Hh)]),i("form",{class:"nxp-ec-form",onSubmit:Et(fe,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(y(),x("div",jh,[i("ul",null,[(y(!0),x(Se,null,Te(e.state.validationErrors,(j,Q)=>(y(),x("li",{key:Q},u(j),1))),128))])])):be("",!0),i("div",Kh,[i("label",Jh,u(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),ie(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F[3]||(F[3]=j=>d.title=j),required:"",maxlength:"255"},null,512),[[_e,d.title,void 0,{trim:!0}]])]),i("div",qh,[i("label",Wh,u(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),ie(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F[4]||(F[4]=j=>d.slug=j),maxlength:"190",onInput:v},null,544),[[_e,d.slug,void 0,{trim:!0}]])]),i("div",zh,[i("label",Qh,u(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),ie(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":F[5]||(F[5]=j=>d.parent_id=j)},[i("option",Zh,u(c(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(y(!0),x(Se,null,Te(A.value,j=>(y(),x("option",{key:j.id,value:j.id},u(j.label),9,em))),128))],512),[[Mt,d.parent_id,void 0,{number:!0}]])]),i("div",tm,[i("label",sm,u(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),ie(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":F[6]||(F[6]=j=>d.sort=j),min:"0",step:"1"},null,512),[[_e,d.sort,void 0,{number:!0}]])]),i("footer",nm,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[F[13]||(F[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),qe(" "+u(c(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,om),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:I},[F[14]||(F[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),qe(" "+u(c(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):be("",!0)]))]))}},am={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},rm={class:"nxp-ec-admin-panel__header"},lm={class:"nxp-ec-admin-panel__title"},cm={class:"nxp-ec-admin-panel__lead"},dm={class:"nxp-ec-admin-panel__actions"},um=["placeholder","aria-label"],pm=["aria-label"],_m={value:""},fm=["value"],hm=["disabled","title","aria-label"],mm={class:"nxp-ec-sr-only"},gm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Cm={key:1,class:"nxp-ec-admin-panel__body"},Sm={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},Em={class:"nxp-ec-admin-panel__table"},Am={key:0,class:"nxp-ec-admin-panel__selection"},bm=["aria-label"],ym={value:""},Tm=["value"],vm=["disabled"],Om=["title","aria-label"],Rm={class:"nxp-ec-sr-only"},xm={class:"nxp-ec-admin-table"},Pm={scope:"col",class:"nxp-ec-admin-table__select"},Nm={scope:"col"},Mm={scope:"col"},Im={scope:"col"},$m={scope:"col"},wm={scope:"col"},km={scope:"col",class:"nxp-ec-admin-table__actions"},Dm={key:0},Um={colspan:"7"},Lm={class:"nxp-ec-admin-table__select"},Ym=["checked","onChange","aria-label"],Xm={scope:"row"},Fm=["onClick"],Vm={class:"nxp-ec-admin-table__meta"},Gm={class:"nxp-ec-badge"},Hm={class:"nxp-ec-admin-table__actions"},Bm=["onUpdate:modelValue","aria-label"],jm=["value"],Km=["value"],Jm=["disabled","onClick"],qm={key:1,class:"nxp-ec-admin-pagination"},Wm=["disabled"],zm={class:"nxp-ec-admin-pagination__status"},Qm=["disabled"],Zm=["title"],eg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},tg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},sg={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},ng={class:"nxp-ec-admin-panel__sidebar-header"},og=["title","aria-label"],ig={class:"nxp-ec-sr-only"},ag={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},rg={class:"nxp-ec-admin-panel__section"},lg={class:"nxp-ec-admin-list"},cg={class:"nxp-ec-admin-list__title"},dg={class:"nxp-ec-admin-list__meta"},ug={class:"nxp-ec-admin-panel__section"},pg={class:"nxp-ec-admin-panel__total"},_g={class:"nxp-ec-admin-panel__section"},fg={class:"nxp-ec-admin-address"},hg={class:"nxp-ec-admin-panel__section"},mg={key:0,class:"nxp-ec-admin-address"},gg={key:1,class:"nxp-ec-admin-panel__muted"},Cg={key:1,class:"nxp-ec-admin-panel__section"},Sg={class:"nxp-ec-admin-list"},Eg={class:"nxp-ec-admin-list__title"},Ag={class:"nxp-ec-admin-list__meta"},bg={class:"nxp-ec-admin-panel__section"},yg=["placeholder"],Tg={class:"nxp-ec-admin-form__actions"},vg=["disabled"],Og={class:"nxp-ec-admin-panel__section"},Rg={key:0,class:"nxp-ec-admin-list"},xg={class:"nxp-ec-admin-list__title"},Pg={class:"nxp-ec-admin-list__meta"},Ng={key:1,class:"nxp-ec-admin-panel__muted"},Mg=At({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ie({}),l=Le(""),r=Le(""),p=Ce(()=>r.value.trim().length>0),_=Ce(()=>{var k;const O=(k=s.state)==null?void 0:k.selection;return!O||typeof O.values!="function"?[]:Array.from(O.values())}),f=Ce(()=>_.value.length>0);$e(_,O=>{O.length||(l.value="")}),$e(()=>{var O;return(O=s.state.activeOrder)==null?void 0:O.id},()=>{r.value=""}),$e(()=>s.state.items,O=>{Array.isArray(O)&&O.forEach(k=>{!k||typeof k.id=="undefined"||a[k.id]||(a[k.id]=k.state)})},{immediate:!0});const d=(O,k)=>{const X=(Number(O)||0)/100,w=(k||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:w}).format(X)}catch(H){return`${w} ${X.toFixed(2)}`}},A=O=>{if(!O)return"";const k=new Date(O);return Number.isNaN(k.getTime())?O:k.toLocaleString()},P=O=>O===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(O)]),Y=O=>{if(!O)return"";const k=`COM_NXPEASYCART_ORDERS_STATE_${String(O).toUpperCase()}`;return n(k,O)},v=O=>s.state.orderStates.filter(k=>k!==O.state),D=O=>(a[O.id]||O.state)!==O.state,T=O=>!O||typeof O!="object"?[]:Object.entries(O).filter(([,k])=>k!=null&&`${k}`.trim()!=="").map(([k,X])=>({key:k,value:`${X}`.trim()})),W=()=>{o("refresh")},I=()=>{o("search")},b=()=>{o("filter",s.state.filterState)},B=O=>{o("view",O)},le=()=>{o("close")},fe=O=>{const k=a[O.id]||O.state;k!==O.state&&o("transition",{id:O.id,state:k})},he=O=>{o("page",O)},Z=O=>{var k,X,w,H;return(H=(w=(X=(k=s.state)==null?void 0:k.selection)==null?void 0:X.has)==null?void 0:w.call(X,O))!=null?H:!1},G=O=>{o("toggle-selection",O)},F=()=>{l.value="",o("clear-selection")},j=()=>{!f.value||!l.value||o("bulk-transition",{ids:[..._.value],state:l.value})},Q=()=>{if(!s.state.activeOrder)return;const O=r.value.trim();O&&(o("add-note",{id:s.state.activeOrder.id,message:O}),r.value="")},ae=Ce(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(_.value.length)],"ordersSelectedCount")),pe=O=>{var k,X,w,H,J,ue,V,N,S,oe;if(!O||!O.action)return"";switch(O.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const ce=Y((X=(k=O.context)==null?void 0:k.from)!=null?X:""),re=Y((H=(w=O.context)==null?void 0:w.to)!=null?H:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[ce||((J=O.context)==null?void 0:J.from)||"",re||((ue=O.context)==null?void 0:ue.to)||""],"ordersTimelineState")}case"order.note":return((V=O.context)==null?void 0:V.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const ce=((N=O.context)==null?void 0:N.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),re=d((oe=(S=O.context)==null?void 0:S.amount_cents)!=null?oe:0,state.activeOrder.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[ce,re],"ordersTimelinePaymentRecorded")}default:return O.action}},te=O=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(O.status||"").toUpperCase()}`,O.status||""),q=O=>{if(!O)return"";try{const k=new Date(O),w=new Date-k,H=Math.floor(w/1e3),J=Math.floor(H/60),ue=Math.floor(J/60);return H<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):J<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[J]):ue<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ue]):k.toLocaleString()}catch(k){return O}};return(O,k)=>(y(),x("section",am,[i("header",rm,[i("div",null,[i("h2",lm,u(c(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",cm,u(c(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",dm,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":k[0]||(k[0]=X=>e.state.search=X),onKeyup:jt(I,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,um),[[_e,e.state.search]]),ie(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":k[1]||(k[1]=X=>e.state.filterState=X),onChange:b,"aria-label":c(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",_m,"  "+u(c(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(y(!0),x(Se,null,Te(e.state.orderStates,X=>(y(),x("option",{key:X,value:X},u(Y(X)),9,fm))),128))],40,pm),[[Mt,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:W,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[k[6]||(k[6]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",mm,u(c(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,hm)])]),e.state.error?(y(),x("div",gm,u(e.state.error),1)):e.state.loading?(y(),x("div",Cm,[Ye(Rs,{type:"table",rows:5,columns:7})])):(y(),x("div",Sm,[i("div",Em,[f.value?(y(),x("div",Am,[i("span",null,u(ae.value),1),ie(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":k[2]||(k[2]=X=>l.value=X),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",ym,u(c(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(y(!0),x(Se,null,Te(e.state.orderStates,X=>(y(),x("option",{key:`bulk-${X}`,value:X},u(Y(X)),9,Tm))),128))],8,bm),[[Mt,l.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!l.value||e.state.saving,onClick:j},[k[7]||(k[7]=i("i",{class:"fa-solid fa-check"},null,-1)),qe(" "+u(c(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,vm),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:F,title:c(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[k[8]||(k[8]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",Rm,u(c(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,Om)])):be("",!0),i("table",xm,[i("thead",null,[i("tr",null,[i("th",Pm,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",Nm,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",Mm,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",Im,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",$m,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",wm,u(c(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",km,u(c(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?be("",!0):(y(),x("tr",Dm,[i("td",Um,u(c(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(y(!0),x(Se,null,Te(e.state.items,X=>{var w,H;return y(),x("tr",{key:X.id,class:Ne({"is-active":e.state.activeOrder&&e.state.activeOrder.id===X.id})},[i("td",Lm,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:Z(X.id),onChange:J=>G(X.id),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Ym)]),i("th",Xm,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:J=>B(X)},u(X.order_no),9,Fm)]),i("td",null,[i("div",null,u(X.email),1),i("div",Vm,u(P((H=(w=X.items)==null?void 0:w.length)!=null?H:0)),1)]),i("td",null,u(d(X.total_cents,X.currency)),1),i("td",null,[i("span",Gm,u(Y(X.state)),1)]),i("td",null,u(A(X.modified||X.created)),1),i("td",Hm,[ie(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":J=>a[X.id]=J,"aria-label":c(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:X.state},u(Y(X.state)),9,jm),(y(!0),x(Se,null,Te(v(X),J=>(y(),x("option",{key:J,value:J},u(Y(J)),9,Km))),128))],8,Bm),[[Mt,a[X.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!D(X),onClick:J=>fe(X)},u(c(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,Jm)])],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",qm,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:k[3]||(k[3]=X=>he(e.state.pagination.current-1))},"  ",8,Wm),i("span",zm,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:k[4]||(k[4]=X=>he(e.state.pagination.current+1))},"  ",8,Qm)])):be("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(q(e.state.lastUpdated)),9,Zm)):be("",!0),e.state.activeOrder?(y(),x("div",eg,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:le}),i("div",tg,[i("aside",sg,[i("header",ng,[i("h3",null,u(c(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+u(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:le,title:c(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[k[9]||(k[9]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",ig,u(c(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,og)]),e.state.transitionError?(y(),x("div",ag,u(e.state.transitionError),1)):be("",!0),i("section",rg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",lg,[(y(!0),x(Se,null,Te(e.state.activeOrder.items,X=>(y(),x("li",{key:X.id},[i("div",cg,[qe(u(X.title)+" ",1),i("small",null,"("+u(X.sku)+")",1)]),i("div",dg,"  "+u(X.qty)+"  "+u(d(X.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",ug,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",pg,u(d(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",_g,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",fg,[(y(!0),x(Se,null,Te(T(e.state.activeOrder.billing),X=>(y(),x("span",{key:X.key},u(X.value),1))),128))])]),i("section",hg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(y(),x("address",mg,[(y(!0),x(Se,null,Te(T(e.state.activeOrder.shipping),X=>(y(),x("span",{key:X.key},u(X.value),1))),128))])):(y(),x("p",gg,u(c(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(y(),x("section",Cg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",Sg,[(y(!0),x(Se,null,Te(e.state.activeOrder.transactions,X=>(y(),x("li",{key:X.id},[i("div",Eg,u(X.gateway)+"  "+u(d(X.amount_cents,e.state.activeOrder.currency)),1),i("div",Ag,u(te(X))+"  "+u(A(X.created)),1)]))),128))])])):be("",!0),i("section",bg,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:Et(Q,["prevent"])},[ie(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":k[5]||(k[5]=X=>r.value=X),placeholder:c(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,yg),[[_e,r.value]]),i("div",Tg,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[k[10]||(k[10]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),qe(" "+u(c(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,vg)])],32)]),i("section",Og,[i("h4",null,u(c(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),e.state.activeOrder.timeline&&e.state.activeOrder.timeline.length?(y(),x("ul",Rg,[(y(!0),x(Se,null,Te(e.state.activeOrder.timeline,X=>(y(),x("li",{key:X.id},[i("div",xg,u(pe(X)),1),i("div",Pg,u(A(X.created)),1)]))),128))])):(y(),x("p",Ng,u(c(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):be("",!0)]))]))}},[["__scopeId","data-v-12bcaf10"]]),Ig={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},$g={class:"nxp-ec-admin-panel__header"},wg={class:"nxp-ec-admin-panel__title"},kg={class:"nxp-ec-admin-panel__lead"},Dg={class:"nxp-ec-admin-panel__actions"},Ug=["placeholder","aria-label"],Lg=["disabled","title","aria-label"],Yg={class:"nxp-ec-sr-only"},Xg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Fg={key:1,class:"nxp-ec-admin-panel__body"},Vg={key:2,class:"nxp-ec-admin-panel__body"},Gg={class:"nxp-ec-admin-panel__table"},Hg={class:"nxp-ec-admin-table"},Bg={scope:"col"},jg={scope:"col"},Kg={scope:"col"},Jg={scope:"col"},qg={scope:"col"},Wg={key:0},zg={colspan:"5"},Qg={scope:"row"},Zg=["onClick"],eC={key:0,class:"nxp-ec-admin-pagination"},tC=["disabled"],sC={class:"nxp-ec-admin-pagination__status"},nC=["disabled"],oC=["title"],iC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},aC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},rC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},lC={class:"nxp-ec-admin-panel__sidebar-header"},cC=["title","aria-label"],dC={class:"nxp-ec-sr-only"},uC={class:"nxp-ec-admin-panel__section"},pC={class:"nxp-ec-admin-summary"},_C={class:"nxp-ec-admin-panel__section"},fC={class:"nxp-ec-admin-address"},hC={class:"nxp-ec-admin-panel__section"},mC={key:0,class:"nxp-ec-admin-address"},gC={key:1,class:"nxp-ec-admin-panel__muted"},CC={class:"nxp-ec-admin-panel__section"},SC={key:0,class:"nxp-ec-admin-list"},EC={class:"nxp-ec-admin-list__title"},AC={class:"nxp-ec-admin-list__meta"},bC={key:1,class:"nxp-ec-admin-panel__muted"},yC=At({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=(v,D)=>{const T=(Number(v)||0)/100,W=(D||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:W}).format(T)}catch(I){return`${W} ${T.toFixed(2)}`}},l=v=>{if(!v)return"";const D=new Date(v);return Number.isNaN(D.getTime())?v:D.toLocaleString()},r=v=>!v||typeof v!="object"?[]:Object.entries(v).filter(([,D])=>D!=null&&`${D}`.trim()!=="").map(([D,T])=>({key:D,value:`${T}`.trim()})),p=v=>{if(!v)return"";const D=`COM_NXPEASYCART_ORDERS_STATE_${String(v).toUpperCase()}`;return n(D,v)},_=()=>o("refresh"),f=()=>o("search"),d=v=>o("page",v),A=v=>o("view",v),P=()=>o("close"),Y=v=>{if(!v)return"";try{const D=new Date(v),W=new Date-D,I=Math.floor(W/1e3),b=Math.floor(I/60),B=Math.floor(b/60);return I<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):b<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[b]):B<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[B]):D.toLocaleString()}catch(D){return v}};return(v,D)=>{var T,W,I;return y(),x("section",Ig,[i("header",$g,[i("div",null,[i("h2",wg,u(c(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",kg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",Dg,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=b=>e.state.search=b),onKeyup:jt(f,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,Ug),[[_e,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":c(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[D[3]||(D[3]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Yg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,Lg)])]),e.state.error?(y(),x("div",Xg,u(e.state.error),1)):e.state.loading?(y(),x("div",Fg,[Ye(Rs,{type:"table",rows:5,columns:5})])):(y(),x("div",Vg,[i("div",Gg,[i("table",Hg,[i("thead",null,[i("tr",null,[i("th",Bg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",jg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",Kg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",Jg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",qg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?be("",!0):(y(),x("tr",Wg,[i("td",zg,u(c(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(y(!0),x(Se,null,Te(e.state.items,b=>{var B;return y(),x("tr",{key:b.email,class:Ne({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===b.email})},[i("th",Qg,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:le=>A(b)},u(b.email),9,Zg)]),i("td",null,u(((B=b.meta)==null?void 0:B.name)||""),1),i("td",null,u(b.orders_count),1),i("td",null,u(a(b.total_spent_cents,b.currency||e.baseCurrency)),1),i("td",null,u(l(b.last_order)),1)],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",eC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[1]||(D[1]=b=>d(e.state.pagination.current-1))},"  ",8,tC),i("span",sC,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[2]||(D[2]=b=>d(e.state.pagination.current+1))},"  ",8,nC)])):be("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(Y(e.state.lastUpdated)),9,oC)):be("",!0),e.state.activeCustomer?(y(),x("div",iC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:P}),i("div",aC,[i("aside",rC,[i("header",lC,[i("h3",null,u(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:P,title:c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[D[4]||(D[4]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",dC,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,cC)]),i("section",uC,[i("h4",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",pC,[i("div",null,[i("dt",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,u(((T=e.state.activeCustomer.meta)==null?void 0:T.name)||""),1)]),i("div",null,[i("dt",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,u(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,u(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,u(l(e.state.activeCustomer.last_order)),1)])])]),i("section",_C,[i("h4",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",fC,[(y(!0),x(Se,null,Te(r((W=e.state.activeCustomer.meta)==null?void 0:W.billing),b=>(y(),x("span",{key:b.key},u(b.value),1))),128))])]),i("section",hC,[i("h4",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(I=e.state.activeCustomer.meta)!=null&&I.shipping?(y(),x("address",mC,[(y(!0),x(Se,null,Te(r(e.state.activeCustomer.meta.shipping),b=>(y(),x("span",{key:b.key},u(b.value),1))),128))])):(y(),x("p",gC,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",CC,[i("h4",null,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(y(),x("ul",SC,[(y(!0),x(Se,null,Te(e.state.activeCustomer.orders,b=>(y(),x("li",{key:b.id},[i("div",EC,u(b.order_no)+"  "+u(a(b.total_cents,b.currency||e.baseCurrency)),1),i("div",AC,u(p(b.state))+"  "+u(l(b.created)),1)]))),128))])):(y(),x("p",bC,u(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))])])])])):be("",!0)]))])}}},[["__scopeId","data-v-4fa39d6b"]]),TC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},vC={class:"nxp-ec-admin-panel__header"},OC={class:"nxp-ec-admin-panel__title"},RC={class:"nxp-ec-admin-panel__lead"},xC={class:"nxp-ec-admin-panel__actions"},PC=["placeholder","aria-label"],NC=["disabled","title","aria-label"],MC={class:"nxp-ec-sr-only"},IC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},$C={key:1,class:"nxp-ec-admin-panel__loading"},wC={key:2,class:"nxp-ec-admin-panel__body"},kC={class:"nxp-ec-admin-panel__table"},DC={class:"nxp-ec-admin-table"},UC={scope:"col"},LC={scope:"col"},YC={scope:"col"},XC={scope:"col"},FC={scope:"col"},VC={scope:"col"},GC={key:0},HC={colspan:"7"},BC={scope:"row"},jC={class:"nxp-ec-admin-table__actions"},KC=["onClick","title","aria-label"],JC={class:"nxp-ec-sr-only"},qC=["onClick","title","aria-label"],WC={class:"nxp-ec-sr-only"},zC={key:0,class:"nxp-ec-admin-pagination"},QC=["disabled"],ZC={class:"nxp-ec-admin-pagination__status"},eS=["disabled"],tS={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},sS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},nS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},oS={class:"nxp-ec-admin-panel__sidebar-header"},iS=["title","aria-label"],aS={class:"nxp-ec-sr-only"},rS={class:"nxp-ec-form-field"},lS={class:"nxp-ec-form-label",for:"coupon-code"},cS={class:"nxp-ec-form-field"},dS={class:"nxp-ec-form-label",for:"coupon-type"},uS={value:"percent"},pS={value:"fixed"},_S={class:"nxp-ec-form-field"},fS={class:"nxp-ec-form-label",for:"coupon-value"},hS={class:"nxp-ec-form-field"},mS={class:"nxp-ec-form-label",for:"coupon-min-total"},gS={class:"nxp-ec-form-field"},CS={class:"nxp-ec-form-label",for:"coupon-start"},SS={class:"nxp-ec-form-field"},ES={class:"nxp-ec-form-label",for:"coupon-end"},AS={class:"nxp-ec-form-field"},bS={class:"nxp-ec-form-label",for:"coupon-max-uses"},yS={class:"nxp-ec-form-field nxp-ec-form-field--inline"},TS={class:"nxp-ec-form-label",for:"coupon-active"},vS={class:"nxp-ec-modal__actions"},OS=["disabled"],RS=["disabled"],xS=["disabled"],PS=At({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),l=Ie({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),r=Ce(()=>l.open),p=()=>o("refresh"),_=()=>o("search"),f=I=>o("page",I),d=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},A=I=>{var b,B;Object.assign(l,{open:!0,id:I.id,code:I.code,type:I.type,value:I.value,min_total:(B=I.min_total)!=null?B:((b=I.min_total_cents)!=null?b:0)/100,start:I.start?I.start.substring(0,10):"",end:I.end?I.end.substring(0,10):"",max_uses:I.max_uses,active:I.active})},P=()=>{l.open=!1},Y=()=>{const I={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",I)},v=I=>{const b=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(b)&&(o("delete",[I.id]),l.id===I.id&&P())},D=(I,b)=>{const B=(Number(I)||0)/100,le=(b||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:le}).format(B)}catch(fe){return`${le} ${B.toFixed(2)}`}},T=I=>I.type==="percent"?`${I.value}%`:D(I.value*100,a.value),W=I=>I==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return $e(()=>s.state.saving,(I,b)=>{b&&!I&&!s.state.error&&l.open&&P()}),(I,b)=>(y(),x("section",TC,[i("header",vC,[i("div",null,[i("h2",OC,u(c(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",RC,u(c(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",xC,[ie(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":b[0]||(b[0]=B=>e.state.search=B),onKeyup:jt(_,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,PC),[[_e,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[b[12]||(b[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",MC,u(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,NC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:d},[b[13]||(b[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),qe(" "+u(c(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(y(),x("div",IC,u(e.state.error),1)):e.state.loading?(y(),x("div",$C,u(c(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(y(),x("div",wC,[i("div",kC,[i("table",DC,[i("thead",null,[i("tr",null,[i("th",UC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",LC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",YC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",XC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",FC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",VC,u(c(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),b[14]||(b[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?be("",!0):(y(),x("tr",GC,[i("td",HC,u(c(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(y(!0),x(Se,null,Te(e.state.items,B=>(y(),x("tr",{key:B.id,class:Ne({"is-active":l.id===B.id})},[i("th",BC,u(B.code),1),i("td",null,u(W(B.type)),1),i("td",null,u(T(B)),1),i("td",null,u(D(B.min_total_cents,a.value)),1),i("td",null,[i("span",{class:Ne(["nxp-ec-badge",{"is-active":B.active}])},[i("i",{class:Ne(B.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),qe(" "+u(B.active?c(n)("JYES","Yes"):c(n)("JNO","No")),1)],2)]),i("td",null,u(B.times_used)+u(B.max_uses?` / ${B.max_uses}`:""),1),i("td",jC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:le=>A(B),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[b[15]||(b[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",JC,u(c(n)("JEDIT","Edit")),1)],8,KC),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:le=>v(B),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[b[16]||(b[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",WC,u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,qC)])],2))),128))])]),e.state.pagination.pages>1?(y(),x("div",zC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:b[1]||(b[1]=B=>f(e.state.pagination.current-1))},"  ",8,QC),i("span",ZC,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:b[2]||(b[2]=B=>f(e.state.pagination.current+1))},"  ",8,eS)])):be("",!0)]),r.value?(y(),x("div",tS,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:P}),i("div",sS,[i("aside",nS,[i("header",oS,[i("h3",null,u(l.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:P,title:c(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[b[17]||(b[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",aS,u(c(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,iS)]),i("form",{class:"nxp-ec-form",onSubmit:Et(Y,["prevent"]),autocomplete:"off"},[i("div",rS,[i("label",lS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),ie(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":b[3]||(b[3]=B=>l.code=B),required:"",maxlength:"64"},null,512),[[_e,l.code,void 0,{trim:!0}]])]),i("div",cS,[i("label",dS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),ie(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":b[4]||(b[4]=B=>l.type=B)},[i("option",uS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",pS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[Mt,l.type]])]),i("div",_S,[i("label",fS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),ie(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":b[5]||(b[5]=B=>l.value=B),required:""},null,512),[[_e,l.value,void 0,{number:!0}]])]),i("div",hS,[i("label",mS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),ie(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":b[6]||(b[6]=B=>l.min_total=B)},null,512),[[_e,l.min_total,void 0,{number:!0}]])]),i("div",gS,[i("label",CS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),ie(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":b[7]||(b[7]=B=>l.start=B)},null,512),[[_e,l.start]])]),i("div",SS,[i("label",ES,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),ie(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":b[8]||(b[8]=B=>l.end=B)},null,512),[[_e,l.end]])]),i("div",AS,[i("label",bS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),ie(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":b[9]||(b[9]=B=>l.max_uses=B)},null,512),[[_e,l.max_uses,void 0,{number:!0}]])]),i("div",yS,[i("label",TS,u(c(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),ie(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":b[10]||(b[10]=B=>l.active=B)},null,512),[[Bt,l.active]])]),i("footer",vS,[i("button",{class:"nxp-ec-btn",type:"button",onClick:P,disabled:e.state.saving},u(c(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,OS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},u(e.state.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,RS)]),l.id?(y(),x("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:b[11]||(b[11]=B=>v(l)),disabled:e.state.saving},[b[18]||(b[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),qe(" "+u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,xS)):be("",!0)],32)])])])):be("",!0)]))]))}},[["__scopeId","data-v-f3fb8685"]]),NS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},MS={class:"nxp-ec-admin-panel__header"},IS={class:"nxp-ec-admin-panel__title"},$S={class:"nxp-ec-admin-panel__lead"},wS={class:"nxp-ec-settings-tabs"},kS={key:0,class:"nxp-ec-settings-panel"},DS={class:"nxp-ec-settings-panel__header"},US=["disabled"],LS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},YS={key:1,class:"nxp-ec-admin-panel__loading"},XS={class:"nxp-ec-form-field"},FS={class:"nxp-ec-form-label",for:"settings-store-name"},VS={class:"nxp-ec-form-field"},GS={class:"nxp-ec-form-label",for:"settings-store-email"},HS={class:"nxp-ec-form-field"},BS={class:"nxp-ec-form-label",for:"settings-store-phone"},jS={class:"nxp-ec-form-field"},KS={class:"nxp-ec-form-label",for:"settings-base-currency"},JS={class:"nxp-ec-form-help"},qS={class:"nxp-ec-form-field nxp-ec-form-field--inline"},WS={class:"nxp-ec-form-label",for:"settings-payments-configured"},zS={class:"nxp-ec-form-help"},QS={class:"nxp-ec-settings-actions"},ZS=["disabled"],eE=["disabled"],tE={key:1,class:"nxp-ec-settings-panel"},sE={class:"nxp-ec-settings-panel__header"},nE=["disabled"],oE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},iE={key:1,class:"nxp-ec-settings-grid"},aE={class:"nxp-ec-settings-table"},rE={class:"nxp-ec-admin-table"},lE={scope:"col"},cE={scope:"col"},dE={scope:"col"},uE={scope:"col"},pE={scope:"col"},_E={key:0},fE={colspan:"6"},hE={scope:"row"},mE={class:"nxp-ec-admin-table__actions"},gE=["onClick","title","aria-label"],CE={class:"nxp-ec-sr-only"},SE=["onClick","title","aria-label"],EE={class:"nxp-ec-sr-only"},AE={class:"nxp-ec-form-field"},bE={class:"nxp-ec-form-label",for:"tax-country"},yE={class:"nxp-ec-form-field"},TE={class:"nxp-ec-form-label",for:"tax-region"},vE={class:"nxp-ec-form-field"},OE={class:"nxp-ec-form-label",for:"tax-rate"},RE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},xE={class:"nxp-ec-form-label",for:"tax-inclusive"},PE={class:"nxp-ec-form-field"},NE={class:"nxp-ec-form-label",for:"tax-priority"},ME={class:"nxp-ec-settings-actions"},IE=["disabled"],$E=["disabled"],wE={key:2,class:"nxp-ec-settings-panel"},kE={class:"nxp-ec-settings-panel__header"},DE=["disabled"],UE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},LE={key:1,class:"nxp-ec-settings-grid"},YE={class:"nxp-ec-settings-table"},XE={class:"nxp-ec-admin-table"},FE={scope:"col"},VE={scope:"col"},GE={scope:"col"},HE={scope:"col"},BE={scope:"col"},jE={scope:"col"},KE={key:0},JE={colspan:"7"},qE={scope:"row"},WE={class:"nxp-ec-admin-table__actions"},zE=["onClick","title","aria-label"],QE={class:"nxp-ec-sr-only"},ZE=["onClick","title","aria-label"],eA={class:"nxp-ec-sr-only"},tA={class:"nxp-ec-form-field"},sA={class:"nxp-ec-form-label",for:"shipping-name"},nA={class:"nxp-ec-form-field"},oA={class:"nxp-ec-form-label",for:"shipping-type"},iA={value:"flat"},aA={value:"free_over"},rA={class:"nxp-ec-form-field"},lA={class:"nxp-ec-form-label",for:"shipping-price"},cA={key:0,class:"nxp-ec-form-field"},dA={class:"nxp-ec-form-label",for:"shipping-threshold"},uA={class:"nxp-ec-form-field"},pA={class:"nxp-ec-form-label",for:"shipping-regions"},_A=["placeholder"],fA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},hA={class:"nxp-ec-form-label",for:"shipping-active"},mA={class:"nxp-ec-settings-actions"},gA=["disabled"],CA=["disabled"],SA={key:3,class:"nxp-ec-settings-panel"},EA={class:"nxp-ec-settings-panel__header"},AA={class:"nxp-ec-settings-actions"},bA=["disabled"],yA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},TA={key:1,class:"nxp-ec-admin-panel__loading"},vA={class:"nxp-ec-form-field"},OA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},RA={class:"nxp-ec-form-field"},xA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},PA={class:"nxp-ec-form-field"},NA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},MA={class:"nxp-ec-form-help"},IA={class:"nxp-ec-form-field"},$A={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},wA={value:"test"},kA={value:"live"},DA={class:"nxp-ec-form-field"},UA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},LA={class:"nxp-ec-form-field"},YA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},XA={class:"nxp-ec-form-field"},FA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},VA={class:"nxp-ec-form-help"},GA={class:"nxp-ec-form-field"},HA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},BA={value:"sandbox"},jA={value:"live"},KA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},JA={class:"nxp-ec-settings-actions"},qA=["disabled"],WA=["disabled"],zA={key:4,class:"nxp-ec-settings-panel"},QA={class:"nxp-ec-settings-panel__header"},ZA=["disabled"],eb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},tb={key:1,class:"nxp-ec-admin-panel__loading"},sb={class:"nxp-ec-form-help"},nb={class:"nxp-ec-visual-grid"},ob={class:"nxp-ec-visual-field"},ib={class:"nxp-ec-form-label",for:"visual-primary-color"},ab={class:"nxp-ec-color-input-group"},rb=["value"],lb=["placeholder"],cb={class:"nxp-ec-visual-field"},db={class:"nxp-ec-form-label",for:"visual-text-color"},ub={class:"nxp-ec-color-input-group"},pb=["value"],_b=["placeholder"],fb={class:"nxp-ec-visual-field"},hb={class:"nxp-ec-form-label",for:"visual-surface-color"},mb={class:"nxp-ec-color-input-group"},gb=["value"],Cb=["placeholder"],Sb={class:"nxp-ec-visual-field"},Eb={class:"nxp-ec-form-label",for:"visual-border-color"},Ab={class:"nxp-ec-color-input-group"},bb=["value"],yb=["placeholder"],Tb={class:"nxp-ec-visual-field"},vb={class:"nxp-ec-form-label",for:"visual-muted-color"},Ob={class:"nxp-ec-color-input-group"},Rb=["value"],xb=["placeholder"],Pb={class:"nxp-ec-visual-preview"},Nb={type:"button",class:"nxp-ec-preview-btn"},Mb={class:"nxp-ec-preview-text"},Ib={class:"nxp-ec-preview-muted"},$b={class:"nxp-ec-settings-actions"},wb=["disabled"],kb=["disabled"],Db=At({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.settingsState,l=s.taxState,r=s.shippingState,p=s.paymentsState,_=Le("general"),f=Ce(()=>{var ce;const V=s.baseCurrency||"USD",N=typeof d.baseCurrency=="string"?d.baseCurrency.trim():"",S=typeof((ce=a==null?void 0:a.values)==null?void 0:ce.base_currency)=="string"?a.values.base_currency.trim():"";return(N!==""?N:S!==""?S:V).toUpperCase()}),d=Ie({storeName:"",storeEmail:"",storePhone:"",paymentsConfigured:!1,baseCurrency:""}),A=Ie({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),P=Ie({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),Y=Ie({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"}}),v=Ie({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),D=Ce(()=>{var N,S;const V=(S=(N=a.values)==null?void 0:N.visual_defaults)!=null?S:{};return{primary:V.primary_color||"#4f6d7a",text:V.text_color||"#1f2933",surface:V.surface_color||"#ffffff",border:V.border_color||"#e4e7ec",muted:V.muted_color||"#6b7280"}}),T=Ce(()=>({"--nxp-ec-color-primary":v.primaryColor||D.value.primary,"--nxp-ec-color-text":v.textColor||D.value.text,"--nxp-ec-color-surface":v.surfaceColor||D.value.surface,"--nxp-ec-color-border":v.borderColor||D.value.border,"--nxp-ec-color-muted":v.mutedColor||D.value.muted})),W=(V={})=>{var ce,re,Xe,m,E,L,C,h,g,R,$;const N=(ce=V==null?void 0:V.store)!=null?ce:{},S=(re=V==null?void 0:V.payments)!=null?re:{},oe=(Xe=V==null?void 0:V.visual)!=null?Xe:{};Object.assign(d,{storeName:(m=N.name)!=null?m:"",storeEmail:(E=N.email)!=null?E:"",storePhone:(L=N.phone)!=null?L:"",paymentsConfigured:!!S.configured,baseCurrency:typeof(V==null?void 0:V.base_currency)=="string"?V.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase()}),Object.assign(v,{primaryColor:(C=oe.primary_color)!=null?C:"",textColor:(h=oe.text_color)!=null?h:"",surfaceColor:(g=oe.surface_color)!=null?g:"",borderColor:(R=oe.border_color)!=null?R:"",mutedColor:($=oe.muted_color)!=null?$:""})},I=(V={})=>{var oe,ce,re,Xe,m,E,L,C,h,g;const N=(oe=V.stripe)!=null?oe:{},S=(ce=V.paypal)!=null?ce:{};Object.assign(Y.stripe,{publishable_key:(re=N.publishable_key)!=null?re:"",secret_key:(Xe=N.secret_key)!=null?Xe:"",webhook_secret:(m=N.webhook_secret)!=null?m:"",mode:(E=N.mode)!=null?E:"test"}),Object.assign(Y.paypal,{client_id:(L=S.client_id)!=null?L:"",client_secret:(C=S.client_secret)!=null?C:"",webhook_id:(h=S.webhook_id)!=null?h:"",mode:(g=S.mode)!=null?g:"sandbox"})};$e(()=>a.values,V=>{W(V!=null?V:{})},{immediate:!0});const b=()=>o("refresh-settings"),B=()=>{const V=(d.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:d.storeName,email:d.storeEmail,phone:d.storePhone,base_currency:V},payments:{configured:d.paymentsConfigured},base_currency:V})},le=()=>{var V;W((V=a.values)!=null?V:{})};$e(()=>a.saving,(V,N)=>{var S;N&&!V&&!a.error&&W((S=a.values)!=null?S:{})}),$e(()=>d.baseCurrency,V=>{if(typeof V=="string"){const N=V.replace(/[^A-Za-z]/g,"").toUpperCase();N!==V&&(d.baseCurrency=N)}}),$e(()=>p.config,V=>{I(V!=null?V:{})},{immediate:!0}),$e(()=>p.saving,(V,N)=>{var S;N&&!V&&!p.error&&I((S=p.config)!=null?S:{})});const fe=()=>o("refresh-payments"),he=()=>{const V=JSON.parse(JSON.stringify(Y));o("save-payments",V)},Z=()=>{var V;I((V=p.config)!=null?V:{})},G=()=>o("refresh-settings"),F=()=>{o("save-settings",{visual:{primary_color:v.primaryColor,text_color:v.textColor,surface_color:v.surfaceColor,border_color:v.borderColor,muted_color:v.mutedColor}})},j=()=>{var N,S,oe,ce,re,Xe,m;const V=(S=(N=a.values)==null?void 0:N.visual)!=null?S:{};Object.assign(v,{primaryColor:(oe=V.primary_color)!=null?oe:"",textColor:(ce=V.text_color)!=null?ce:"",surfaceColor:(re=V.surface_color)!=null?re:"",borderColor:(Xe=V.border_color)!=null?Xe:"",mutedColor:(m=V.muted_color)!=null?m:""})},Q=()=>o("refresh-tax"),ae=()=>o("refresh-shipping"),pe=V=>{Object.assign(A,{id:V.id,country:V.country,region:V.region,rate:V.rate,inclusive:V.inclusive,priority:V.priority})},te=()=>{Object.assign(A,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},q=()=>{o("save-tax",{id:A.id||void 0,country:A.country,region:A.region,rate:A.rate,inclusive:A.inclusive,priority:A.priority})},O=V=>{const N=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(N)&&(o("delete-tax",[V.id]),A.id===V.id&&te())};$e(()=>l.saving,(V,N)=>{N&&!V&&!l.error&&te()});const k=V=>{var N,S,oe;Object.assign(P,{id:V.id,name:V.name,type:V.type,price:(S=V.price)!=null?S:((N=V.price_cents)!=null?N:0)/100,threshold:V.threshold!==null&&V.threshold!==void 0?V.threshold:((oe=V.threshold_cents)!=null?oe:0)/100,regions:V.regions&&V.regions.length?V.regions.join(", "):"",active:V.active})},X=()=>{Object.assign(P,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},w=()=>{const V={id:P.id||void 0,name:P.name,type:P.type,price:P.price,threshold:P.type==="free_over"?P.threshold:0,regions:P.regions,active:P.active};o("save-shipping",V)},H=V=>{const N=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(N)&&(o("delete-shipping",[V.id]),P.id===V.id&&X())};$e(()=>r.saving,(V,N)=>{N&&!V&&!r.error&&X()});const J=(V,N)=>{const S=(Number(V)||0)/100,oe=(N||"").toUpperCase()||f.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:oe}).format(S)}catch(ce){return`${oe} ${S.toFixed(2)}`}},ue=V=>V==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(V,N)=>(y(),x("section",NS,[i("header",MS,[i("div",null,[i("h2",IS,u(c(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",$S,u(c(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",wS,[i("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:N[0]||(N[0]=S=>_.value="general")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="tax"}]),onClick:N[1]||(N[1]=S=>_.value="tax")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="shipping"}]),onClick:N[2]||(N[2]=S=>_.value="shipping")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:N[3]||(N[3]=S=>_.value="payments")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:N[4]||(N[4]=S=>_.value="visual")},u(c(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(y(),x("div",kS,[i("header",DS,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:b,disabled:c(a).loading},u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,US)]),c(a).error?(y(),x("div",LS,u(c(a).error),1)):c(a).loading?(y(),x("div",YS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form",onSubmit:Et(B,["prevent"])},[i("div",XS,[i("label",FS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),ie(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[5]||(N[5]=S=>d.storeName=S),maxlength:"190"},null,512),[[_e,d.storeName,void 0,{trim:!0}]])]),i("div",VS,[i("label",GS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),ie(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":N[6]||(N[6]=S=>d.storeEmail=S)},null,512),[[_e,d.storeEmail,void 0,{trim:!0}]])]),i("div",HS,[i("label",BS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),ie(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[7]||(N[7]=S=>d.storePhone=S),maxlength:"64"},null,512),[[_e,d.storePhone,void 0,{trim:!0}]])]),i("div",jS,[i("label",KS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),ie(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":N[8]||(N[8]=S=>d.baseCurrency=S),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[_e,d.baseCurrency,void 0,{trim:!0}]]),i("p",JS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",qS,[i("label",WS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),ie(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":N[9]||(N[9]=S=>d.paymentsConfigured=S)},null,512),[[Bt,d.paymentsConfigured]]),i("p",zS,u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",QS,[i("button",{class:"nxp-ec-btn",type:"button",onClick:le,disabled:c(a).saving},u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,ZS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(a).saving},u(c(a).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,eE)])],32))])):_.value==="tax"?(y(),x("div",tE,[i("header",sE,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Q,disabled:c(l).loading},u(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,nE)]),c(l).error?(y(),x("div",oE,u(c(l).error),1)):(y(),x("div",iE,[i("div",aE,[i("table",rE,[i("thead",null,[i("tr",null,[i("th",lE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",cE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",dE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",uE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",pE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),N[44]||(N[44]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[c(l).items.length?be("",!0):(y(),x("tr",_E,[i("td",fE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(y(!0),x(Se,null,Te(c(l).items,S=>{var oe;return y(),x("tr",{key:S.id,class:Ne({"is-active":A.id===S.id})},[i("th",hE,u(S.country),1),i("td",null,u(S.region||""),1),i("td",null,u(((oe=S.rate)!=null?oe:0).toFixed(2))+"%",1),i("td",null,u(S.inclusive?c(n)("JYES","Yes"):c(n)("JNO","No")),1),i("td",null,u(S.priority),1),i("td",mE,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ce=>pe(S),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[N[45]||(N[45]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",CE,u(c(n)("JEDIT","Edit")),1)],8,gE),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ce=>O(S),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[N[46]||(N[46]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",EE,u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,SE)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:Et(q,["prevent"])},[i("h4",null,u(A.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",AE,[i("label",bE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),ie(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[10]||(N[10]=S=>A.country=S),maxlength:"2",required:""},null,512),[[_e,A.country,void 0,{trim:!0}]])]),i("div",yE,[i("label",TE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),ie(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[11]||(N[11]=S=>A.region=S)},null,512),[[_e,A.region,void 0,{trim:!0}]])]),i("div",vE,[i("label",OE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),ie(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":N[12]||(N[12]=S=>A.rate=S),required:""},null,512),[[_e,A.rate,void 0,{number:!0}]])]),i("div",RE,[i("label",xE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),ie(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":N[13]||(N[13]=S=>A.inclusive=S)},null,512),[[Bt,A.inclusive]])]),i("div",PE,[i("label",NE,u(c(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),ie(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":N[14]||(N[14]=S=>A.priority=S)},null,512),[[_e,A.priority,void 0,{number:!0}]])]),i("div",ME,[i("button",{class:"nxp-ec-btn",type:"button",onClick:te,disabled:c(l).saving},u(c(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,IE),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(l).saving},u(c(l).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,$E)])],32)]))])):_.value==="shipping"?(y(),x("div",wE,[i("header",kE,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ae,disabled:c(r).loading},u(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,DE)]),c(r).error?(y(),x("div",UE,u(c(r).error),1)):(y(),x("div",LE,[i("div",YE,[i("table",XE,[i("thead",null,[i("tr",null,[i("th",FE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",VE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",GE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",HE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",BE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",jE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),N[47]||(N[47]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[c(r).items.length?be("",!0):(y(),x("tr",KE,[i("td",JE,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(y(!0),x(Se,null,Te(c(r).items,S=>(y(),x("tr",{key:S.id,class:Ne({"is-active":P.id===S.id})},[i("th",qE,u(S.name),1),i("td",null,u(ue(S.type)),1),i("td",null,u(J(S.price_cents,f.value)),1),i("td",null,u(S.type==="free_over"?J(S.threshold_cents,f.value):""),1),i("td",null,u(S.regions&&S.regions.length?S.regions.join(", "):c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,[i("span",{class:Ne(["nxp-ec-badge",{"is-active":S.active}])},[i("i",{class:Ne(S.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),qe(" "+u(S.active?c(n)("JYES","Yes"):c(n)("JNO","No")),1)],2)]),i("td",WE,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:oe=>k(S),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[N[48]||(N[48]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",QE,u(c(n)("JEDIT","Edit")),1)],8,zE),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:oe=>H(S),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[N[49]||(N[49]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",eA,u(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,ZE)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:Et(w,["prevent"])},[i("h4",null,u(P.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",tA,[i("label",sA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),ie(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[15]||(N[15]=S=>P.name=S),required:""},null,512),[[_e,P.name,void 0,{trim:!0}]])]),i("div",nA,[i("label",oA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),ie(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":N[16]||(N[16]=S=>P.type=S)},[i("option",iA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",aA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[Mt,P.type]])]),i("div",rA,[i("label",lA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),ie(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":N[17]||(N[17]=S=>P.price=S),required:""},null,512),[[_e,P.price,void 0,{number:!0}]])]),P.type==="free_over"?(y(),x("div",cA,[i("label",dA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),ie(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":N[18]||(N[18]=S=>P.threshold=S),required:""},null,512),[[_e,P.threshold,void 0,{number:!0}]])])):be("",!0),i("div",uA,[i("label",pA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),ie(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[19]||(N[19]=S=>P.regions=S),placeholder:c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,_A),[[_e,P.regions,void 0,{trim:!0}]])]),i("div",fA,[i("label",hA,u(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),ie(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":N[20]||(N[20]=S=>P.active=S)},null,512),[[Bt,P.active]])]),i("div",mA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:X,disabled:c(r).saving},u(c(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,gA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(r).saving},u(c(r).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,CA)])],32)]))])):_.value==="payments"?(y(),x("div",SA,[i("header",EA,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",AA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:fe,disabled:c(p).loading},u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,bA)])]),c(p).error?(y(),x("div",yA,u(c(p).error),1)):c(p).loading?(y(),x("div",TA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:Et(he,["prevent"])},[i("fieldset",null,[i("legend",null,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",vA,[i("label",OA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),ie(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[21]||(N[21]=S=>Y.stripe.publishable_key=S)},null,512),[[_e,Y.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",RA,[i("label",xA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),ie(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":N[22]||(N[22]=S=>Y.stripe.secret_key=S),autocomplete:"off"},null,512),[[_e,Y.stripe.secret_key,void 0,{trim:!0}]])]),i("div",PA,[i("label",NA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),ie(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":N[23]||(N[23]=S=>Y.stripe.webhook_secret=S),autocomplete:"off"},null,512),[[_e,Y.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",MA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",IA,[i("label",$A,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ie(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":N[24]||(N[24]=S=>Y.stripe.mode=S)},[i("option",wA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",kA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Mt,Y.stripe.mode]])])]),i("fieldset",null,[i("legend",null,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",DA,[i("label",UA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),ie(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[25]||(N[25]=S=>Y.paypal.client_id=S)},null,512),[[_e,Y.paypal.client_id,void 0,{trim:!0}]])]),i("div",LA,[i("label",YA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),ie(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":N[26]||(N[26]=S=>Y.paypal.client_secret=S),autocomplete:"off"},null,512),[[_e,Y.paypal.client_secret,void 0,{trim:!0}]])]),i("div",XA,[i("label",FA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),ie(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[27]||(N[27]=S=>Y.paypal.webhook_id=S)},null,512),[[_e,Y.paypal.webhook_id,void 0,{trim:!0}]]),i("p",VA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",GA,[i("label",HA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ie(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":N[28]||(N[28]=S=>Y.paypal.mode=S)},[i("option",BA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",jA,u(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Mt,Y.paypal.mode]])])]),c(p).message?(y(),x("div",KA,u(c(p).message),1)):be("",!0),i("div",JA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Z,disabled:c(p).saving},u(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,qA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(p).saving},u(c(p).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,WA)])],32))])):_.value==="visual"?(y(),x("div",zA,[i("header",QA,[i("h3",null,u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:G,disabled:c(a).loading},u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,ZA)]),c(a).error?(y(),x("div",eb,u(c(a).error),1)):c(a).loading?(y(),x("div",tb,u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:Et(F,["prevent"])},[i("p",sb,u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("div",nb,[i("div",ob,[i("label",ib,u(c(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",ab,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:v.primaryColor||D.value.primary,onInput:N[29]||(N[29]=S=>v.primaryColor=S.target.value)},null,40,rb),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[30]||(N[30]=S=>v.primaryColor=S),placeholder:D.value.primary,maxlength:"7"},null,8,lb),[[_e,v.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:N[31]||(N[31]=S=>v.primaryColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",cb,[i("label",db,u(c(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",ub,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:v.textColor||D.value.text,onInput:N[32]||(N[32]=S=>v.textColor=S.target.value)},null,40,pb),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[33]||(N[33]=S=>v.textColor=S),placeholder:D.value.text,maxlength:"7"},null,8,_b),[[_e,v.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:N[34]||(N[34]=S=>v.textColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",fb,[i("label",hb,u(c(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",mb,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:v.surfaceColor||D.value.surface,onInput:N[35]||(N[35]=S=>v.surfaceColor=S.target.value)},null,40,gb),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[36]||(N[36]=S=>v.surfaceColor=S),placeholder:D.value.surface,maxlength:"7"},null,8,Cb),[[_e,v.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:N[37]||(N[37]=S=>v.surfaceColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",Sb,[i("label",Eb,u(c(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",Ab,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:v.borderColor||D.value.border,onInput:N[38]||(N[38]=S=>v.borderColor=S.target.value)},null,40,bb),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[39]||(N[39]=S=>v.borderColor=S),placeholder:D.value.border,maxlength:"7"},null,8,yb),[[_e,v.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:N[40]||(N[40]=S=>v.borderColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",Tb,[i("label",vb,u(c(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",Ob,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:v.mutedColor||D.value.muted,onInput:N[41]||(N[41]=S=>v.mutedColor=S.target.value)},null,40,Rb),ie(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[42]||(N[42]=S=>v.mutedColor=S),placeholder:D.value.muted,maxlength:"7"},null,8,xb),[[_e,v.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:N[43]||(N[43]=S=>v.mutedColor="")},u(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",Pb,[i("h4",null,u(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Dt(T.value)},[i("button",Nb,u(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",Mb,u(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",Ib,u(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",$b,[i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:c(a).saving},u(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,wb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(a).saving},u(c(a).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,kb)])],32))])):be("",!0)]))}},[["__scopeId","data-v-d656ae40"]]),Ub={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},Lb={class:"nxp-ec-admin-panel__header"},Yb={class:"nxp-ec-admin-panel__title"},Xb={class:"nxp-ec-admin-panel__lead"},Fb={class:"nxp-ec-admin-panel__actions"},Vb=["placeholder","aria-label"],Gb=["value"],Hb={value:""},Bb=["value"],jb=["disabled","title","aria-label"],Kb={class:"nxp-ec-sr-only"},Jb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qb={key:1,class:"nxp-ec-admin-panel__body"},Wb={key:2,class:"nxp-ec-admin-panel__body"},zb={class:"nxp-ec-admin-panel__table"},Qb={class:"nxp-ec-admin-table"},Zb={scope:"col"},ey={scope:"col"},ty={scope:"col"},sy={scope:"col"},ny={scope:"col"},oy={key:0},iy={colspan:"5"},ay={class:"nxp-ec-log-entity"},ry={class:"nxp-ec-log-entity-id"},ly={class:"nxp-ec-log-context"},cy={key:0,class:"nxp-ec-admin-pagination"},dy=["disabled"],uy={class:"nxp-ec-admin-pagination__status"},py=["disabled"],_y=["title"],fy=At({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.state,l=Ce(()=>{const D=new Set;return Array.isArray(a.items)&&a.items.forEach(T=>{T!=null&&T.entity_type&&D.add(T.entity_type)}),a.entity&&D.add(a.entity),Array.from(D).sort()}),r=()=>o("refresh"),p=()=>o("search"),_=D=>o("filter",D),f=D=>o("page",D),d=D=>{if(!D)return"";try{const T=new Date(D.replace(" ","T"));if(!Number.isNaN(T.getTime()))return T.toLocaleString()}catch(T){}return D},A=D=>{if(!D)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(D){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return D.charAt(0).toUpperCase()+D.slice(1)}},P=D=>{if(!(D!=null&&D.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const T=D.user.name||"",W=D.user.username||"";return T&&W?`${T} (${W})`:T||W||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},Y=D=>{if(!D||Array.isArray(D)&&!D.length||typeof D=="object"&&!Object.keys(D).length)return"";try{return JSON.stringify(D,null,2)}catch(T){return String(D)}},v=D=>{if(!D)return"";try{const T=new Date(D),I=new Date-T,b=Math.floor(I/1e3),B=Math.floor(b/60),le=Math.floor(B/60);return b<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):B<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[B]):le<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[le]):T.toLocaleString()}catch(T){return D}};return(D,T)=>(y(),x("section",Ub,[i("header",Lb,[i("div",null,[i("h2",Yb,u(c(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",Xb,u(c(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",Fb,[ie(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":T[0]||(T[0]=W=>c(a).search=W),placeholder:c(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":c(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:jt(p,["enter"])},null,40,Vb),[[_e,c(a).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:c(a).entity,onChange:T[1]||(T[1]=W=>_(W.target.value)),"aria-label":"Entity filter"},[i("option",Hb,u(c(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(y(!0),x(Se,null,Te(l.value,W=>(y(),x("option",{key:W,value:W},u(A(W)),9,Bb))),128))],40,Gb),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:r,disabled:c(a).loading,title:c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[T[4]||(T[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Kb,u(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,jb)])]),c(a).error?(y(),x("div",Jb,u(c(a).error),1)):c(a).loading?(y(),x("div",qb,[Ye(Rs,{type:"table",rows:5,columns:5})])):(y(),x("div",Wb,[i("div",zb,[i("table",Qb,[i("thead",null,[i("tr",null,[i("th",Zb,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",ey,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",ty,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",sy,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",ny,u(c(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[c(a).items.length?be("",!0):(y(),x("tr",oy,[i("td",iy,u(c(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(y(!0),x(Se,null,Te(c(a).items,W=>(y(),x("tr",{key:W.id},[i("td",null,u(d(W.created)),1),i("td",null,[i("span",ay,u(A(W.entity_type)),1),i("span",ry,"#"+u(W.entity_id),1)]),i("td",null,u(W.action),1),i("td",null,u(P(W)),1),i("td",null,[i("pre",ly,u(Y(W.context)),1)])]))),128))])]),c(a).pagination.pages>1?(y(),x("div",cy,[i("button",{class:"nxp-ec-btn",type:"button",disabled:c(a).pagination.current<=1,onClick:T[2]||(T[2]=W=>f(c(a).pagination.current-1))},"  ",8,dy),i("span",uy,u(c(a).pagination.current)+" / "+u(c(a).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:c(a).pagination.current>=c(a).pagination.pages,onClick:T[3]||(T[3]=W=>f(c(a).pagination.current+1))},"  ",8,py)])):be("",!0)]),c(a).lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:c(a).lastUpdated},u(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(v(c(a).lastUpdated)),9,_y)):be("",!0)]))]))}},[["__scopeId","data-v-0f086c0e"]]),hy={key:0,class:"nxp-ec-onboarding"},my={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},gy={class:"nxp-ec-onboarding__header"},Cy={class:"nxp-ec-onboarding__title"},Sy={class:"nxp-ec-onboarding__lead"},Ey={class:"nxp-ec-onboarding__progress"},Ay={class:"nxp-ec-onboarding__progress-bar"},by={class:"nxp-ec-onboarding__progress-label"},yy={class:"nxp-ec-onboarding__steps"},Ty={class:"nxp-ec-onboarding__step-main"},vy={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},Oy={key:0,class:"fa-solid fa-circle-check"},Ry={key:1,class:"fa-regular fa-circle"},xy={class:"nxp-ec-onboarding__step-actions"},Py=["onClick"],Ny=At({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,o=Ce(()=>t.steps.length?t.steps.filter(r=>r.completed).length/t.steps.length*100:0),n=Ce(()=>`${o.value}%`),a=Ce(()=>{const l=t.steps.filter(r=>r.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,r)=>e.visible?(y(),x("div",hy,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:r[0]||(r[0]=p=>l.$emit("close"))}),i("section",my,[i("header",gy,[i("div",null,[i("h2",Cy,u(c(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",Sy,u(c(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:r[1]||(r[1]=p=>l.$emit("close"))},u(c(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",Ey,[i("div",Ay,[i("span",{style:Dt({width:n.value})},null,4)]),i("span",by,u(a.value),1)]),i("ol",yy,[(y(!0),x(Se,null,Te(e.steps,p=>(y(),x("li",{key:p.id,class:Ne({"is-complete":p.completed})},[i("div",Ty,[i("span",vy,[p.completed?(y(),x("span",Oy)):(y(),x("span",Ry))]),i("div",null,[i("h3",null,u(c(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,u(c(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",xy,[p.link?(y(),x("button",{key:0,type:"button",class:Ne(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:_=>l.$emit("navigate",p)},u(p.completed?c(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):c(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,Py)):be("",!0)])],2))),128))])])])):be("",!0)}},[["__scopeId","data-v-485ff468"]]),My=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let o=String(e);return t.forEach(a=>{const l=a!=null?a:"";o=o.replace("%s",String(l))}),o},Iy=(e,t="",s=[])=>{var a;const o=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(n=l)}return My(n,s)};function $y(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const l=t[n];return l!=null&&l!==""?l:a};return{__:(n,a="",l=[],r="")=>{const p=s(r,a);return Iy(n,p,l)}}}class wy{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};o.headers={...o.headers,...s.headers||{}};const n=String(o.method||"GET").toUpperCase();let a=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const l=await fetch(a,o);let r=null;const p=await l.text();if(p)try{r=JSON.parse(p)}catch(_){}if(!l.ok){const _=new Error((r==null?void 0:r.message)||`Request failed with status ${l.status}`);throw _.code=l.status,_.details=(r==null?void 0:r.data)||(r==null?void 0:r.errors)||null,_}if((r==null?void 0:r.success)===!1){const _=new Error(r.message||"Unknown API error");throw _.details=r.data||r.errors||null,_}return r!=null?r:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,o);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(o){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var A,P,Y,v;const l=new URLSearchParams({limit:String(s),start:String(o)});n&&l.set("search",n);const r=`${t}&${l.toString()}`,_=(A=(await this.get(r,{signal:a})).data)!=null?A:{},f=(Y=(P=_.items)!=null?P:_.data)!=null?Y:[],d=(v=_.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:d}}async fetchCategories({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,d;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:o=0,search:n="",state:a="",signal:l}){var A,P,Y,v;const r=this.mergeParams(t,{limit:s,start:o,search:n||void 0,state:a||void 0}),_=(A=(await this.get(r,{signal:l})).data)!=null?A:{},f=(Y=(P=_.items)!=null?P:_.data)!=null?Y:[],d=(v=_.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:d}}async fetchCustomers({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var d,A,P;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(d=(await this.get(l,{signal:a})).data)!=null?d:{},_=(A=p.items)!=null?A:[],f=(P=p.pagination)!=null?P:{total:0,limit:s,pages:0,current:0};return{items:_,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,d;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.coupon)!=null?r:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,d;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.rate)!=null?r:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,d;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.rule)!=null?r:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:o=0,search:n="",entity:a="",signal:l}){var f,d,A;const r=this.mergeParams(t,{limit:s,start:o,search:n||void 0,entity:a||void 0}),_=(f=(await this.get(r,{signal:l})).data)!=null?f:{};return{items:(d=_.items)!=null?d:[],pagination:(A=_.pagination)!=null?A:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,n;return t?(n=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:o=""}){var l,r;const n=this.mergeParams(t,{id:s||void 0,order_no:o||void 0});return(r=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?r:null}async transitionOrder({endpoint:t,id:s,state:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.post(n,{state:o})).data)==null?void 0:l.order)!=null?r:null}async bulkTransitionOrders({endpoint:t,ids:s,state:o}){var l;const n={ids:s,state:o};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:o}){var a,l;return(l=(a=(await this.post(t,{id:s,message:o})).data)==null?void 0:a.order)!=null?l:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?r:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:o}){var l,r;const n=this.mergeParams(t,{id:s});return(r=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?r:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}mergeParams(t,s={}){const o=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||o.set(n,String(a))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const ut=e=>new wy(e),Bi=typeof window!="undefined"&&window.performance;function ji(e){if(Bi)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function ky(e,t,s){if(!Bi)return null;try{performance.measure(e,t,s);const o=performance.getEntriesByName(e,"measure")[0];if(o)return console.log(`[NXP EC Performance] ${e}: ${o.duration.toFixed(2)}ms`),o.duration}catch(o){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,o)}return null}const an=Ie({}),Dy=3e5;function Uy(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function bt(e,t=Dy){const s=an[e];return s?Uy(s,t)?s.data:(delete an[e],null):null}function pt(e,t){an[e]={data:t,timestamp:Date.now()}}function Ue(e){delete an[e]}function yt(e){const t=Le({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return ji(l),l},endFetch:l=>{const r=`${e}-fetch-end`;ji(r);const p=ky(`${e}-fetch`,l,r);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const qn=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function Ly({endpoints:e,token:t,autoload:s=!0,cacheTTL:o=3e5}){var le,fe,he,Z;const n=ut({token:t}),a=yt("products"),l=(le=e==null?void 0:e.list)!=null?le:"",r=(fe=e==null?void 0:e.create)!=null?fe:qn(l,"store"),p=(he=e==null?void 0:e.update)!=null?he:qn(l,"update"),_=(Z=e==null?void 0:e.delete)!=null?Z:qn(l,"delete"),f=typeof AbortController!="undefined",d=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),A=Le(null),P=()=>{const G=d.pagination.current||1,F=d.pagination.limit||20,j=d.search.trim();return`products:page=${G}:limit=${F}:search=${j}`},Y=async(G=!1)=>{var pe;if(!l){d.error="Products endpoint unavailable.",d.items=[];return}const F=P(),j=G?null:bt(F,o);if(j){a.recordCacheHit(),d.items=j.items,d.pagination={...d.pagination,...j.pagination},d.lastUpdated=j.lastUpdated;return}a.recordCacheMiss(),d.loading=!0,d.error="",d.validationErrors=[],A.value&&f&&A.value.abort();const Q=f?new AbortController:null;A.value=Q;const ae=a.startFetch();try{const{items:te,pagination:q}=await n.fetchProducts({endpoint:l,signal:Q?Q.signal:void 0,limit:d.pagination.limit,start:Math.max(0,(d.pagination.current-1)*d.pagination.limit),search:d.search.trim()});d.items=te,d.pagination={...d.pagination,...q,current:q.current&&q.current>0?q.current:1},d.lastUpdated=new Date().toISOString(),pt(F,{items:te,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;d.error=(pe=te==null?void 0:te.message)!=null?pe:"Unknown error"}finally{a.endFetch(ae),f&&A.value===Q&&(A.value=null),d.loading=!1}},v=()=>{d.pagination.current=1,Ue(P()),Y(!0)},D=()=>{d.pagination.current=1,Y()},T=G=>G?typeof G=="string"?G:typeof G=="object"&&G.message?String(G.message):String(G):"",W=(G,{setValidation:F=!1}={})=>{var j;if((G==null?void 0:G.code)===422&&F){const Q=Array.isArray(G.details)?G.details:[G.details].filter(Boolean);d.validationErrors=Q.map(T).filter(ae=>ae!=="");return}d.error=(j=G==null?void 0:G.message)!=null?j:"Unknown error"},I=async G=>{if(!r)throw new Error("Create endpoint unavailable.");d.saving=!0,d.validationErrors=[];try{const F=await n.createProduct({endpoint:r,data:G});return F&&(d.items=[F,...d.items],d.pagination.total+=1,Ue(P())),F}catch(F){throw W(F,{setValidation:!0}),F}finally{d.saving=!1}},b=async(G,F)=>{if(!p)throw new Error("Update endpoint unavailable.");d.saving=!0,d.validationErrors=[];try{const j=await n.updateProduct({endpoint:p,id:G,data:F});if(j){const Q=d.items.findIndex(ae=>ae.id===j.id);Q!==-1&&d.items.splice(Q,1,j),Ue(P())}return j}catch(j){throw W(j,{setValidation:!0}),j}finally{d.saving=!1}},B=async G=>{if(!_)throw new Error("Delete endpoint unavailable.");d.deleting=!0,d.validationErrors=[];try{const F=await n.deleteProducts({endpoint:_,ids:G});return F.length&&(d.items=d.items.filter(j=>!F.includes(j.id)),d.pagination.total=Math.max(0,d.pagination.total-F.length),Ue(P())),F}catch(F){throw W(F),F}finally{d.deleting=!1}};return nt(()=>{s&&Y()}),{state:d,loadProducts:Y,refresh:v,search:D,createProduct:I,updateProduct:b,deleteProducts:B,metrics:a.metrics}}function Yy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var fe,he,Z,G,F,j,Q,ae,pe,te,q,O,k,X;const a=ut({token:t}),l=yt("categories"),r=(fe=e==null?void 0:e.list)!=null?fe:"",p=(he=e==null?void 0:e.create)!=null?he:r,_=(Z=e==null?void 0:e.update)!=null?Z:r,f=(G=e==null?void 0:e.delete)!=null?G:r,d=Ie({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(ae=(Q=(F=s.pagination)==null?void 0:F.total)!=null?Q:(j=s.items)==null?void 0:j.length)!=null?ae:0,limit:(te=(pe=s.pagination)==null?void 0:pe.limit)!=null?te:20,pages:(O=(q=s.pagination)==null?void 0:q.pages)!=null?O:0,current:(X=(k=s.pagination)==null?void 0:k.current)!=null?X:1},search:"",lastUpdated:null}),A=typeof AbortController!="undefined",P=Le(null),Y=()=>{const w=d.pagination.current||1,H=d.pagination.limit||20,J=d.search.trim();return`categories:page=${w}:limit=${H}:search=${J}`},v=async(w=!1)=>{var N;if(!r){d.error="Categories endpoint unavailable.",d.items=[];return}const H=Y(),J=w?null:bt(H,n);if(J){l.recordCacheHit(),d.items=J.items,d.pagination={...d.pagination,...J.pagination},d.lastUpdated=J.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="",d.validationErrors=[],P.value&&A&&P.value.abort();const ue=A?new AbortController:null;P.value=ue;const V=l.startFetch();try{const S=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:oe,pagination:ce}=await a.fetchCategories({endpoint:r,limit:d.pagination.limit,start:S,search:d.search.trim(),signal:ue?ue.signal:void 0});d.items=oe,d.pagination={...d.pagination,...ce,current:ce.current&&ce.current>0?ce.current:1},d.lastUpdated=new Date().toISOString(),pt(H,{items:oe,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(S){if((S==null?void 0:S.name)==="AbortError")return;d.error=(N=S==null?void 0:S.message)!=null?N:"Unknown error"}finally{l.endFetch(V),A&&P.value===ue&&(P.value=null),d.loading=!1}},D=()=>{d.pagination.current=1,Ue(Y()),v(!0)},T=()=>{d.pagination.current=1,v()},W=w=>{const H=Number(w);Number.isNaN(H)||H<1||H===d.pagination.current||(d.pagination.current=H,v())},I=(w,{validation:H=!1}={})=>{var J;if(H&&(w==null?void 0:w.code)===422){const ue=w.details,V=Array.isArray(ue)?ue:[ue].filter(Boolean);d.validationErrors=V.map(N=>N?typeof N=="string"?N:typeof N=="object"&&N.message?String(N.message):String(N):"").filter(Boolean);return}d.error=(J=w==null?void 0:w.message)!=null?J:"Unknown error"},b=async w=>{if(!p||!_)throw new Error("Category endpoints unavailable.");d.saving=!0,d.error="",d.validationErrors=[];try{let H=null;return w.id?H=await a.updateCategory({endpoint:_,id:w.id,data:w}):H=await a.createCategory({endpoint:p,data:w}),H&&(Ue(Y()),await v()),H}catch(H){throw I(H,{validation:!0}),H}finally{d.saving=!1}},B=async w=>{if(!Array.isArray(w)||!w.length||!f)return 0;d.deleting=!0,d.error="";try{const H=await a.deleteCategories({endpoint:f,ids:w});return H&&(Ue(Y()),await v()),H}catch(H){throw I(H),H}finally{d.deleting=!1}},le=async()=>{if(!r)return[];try{const{items:w}=await a.fetchCategories({endpoint:r,limit:200,start:0,search:""});return w}catch(w){return[]}};return nt(()=>{o&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadCategories:v,refresh:D,search:T,goToPage:W,saveCategory:b,deleteCategories:B,loadOptions:le,metrics:l.metrics}}const rn=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function Xy({endpoints:e,token:t,states:s=[],preload:o={},autoload:n=!0,cacheTTL:a=3e5}){var O,k,X,w,H,J,ue,V,N;const l=ut({token:t}),r=yt("orders"),p=(O=e==null?void 0:e.list)!=null?O:"",_=(k=e==null?void 0:e.show)!=null?k:rn(p,"show"),f=(X=e==null?void 0:e.transition)!=null?X:rn(p,"transition"),d=(w=e==null?void 0:e.bulkTransition)!=null?w:rn(p,"bulkTransition"),A=(H=e==null?void 0:e.note)!=null?H:rn(p,"note"),P=typeof AbortController!="undefined",Y=Le(null),v=Array.isArray(o==null?void 0:o.items)?o.items:[],D=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},T=Ie({loading:!1,saving:!1,error:"",transitionError:"",items:[...v],pagination:{total:(J=D.total)!=null?J:v.length,limit:(ue=D.limit)!=null?ue:20,pages:(V=D.pages)!=null?V:0,current:(N=D.current)!=null?N:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null}),W=()=>{const S=T.pagination.current||1,oe=T.pagination.limit||20,ce=T.search.trim(),re=T.filterState||"";return`orders:page=${S}:limit=${oe}:search=${ce}:state=${re}`},I=async(S=!1)=>{var m;if(!p){T.error="Orders endpoint unavailable.",T.items=[];return}const oe=W(),ce=S?null:bt(oe,a);if(ce){r.recordCacheHit(),T.items=ce.items,T.pagination={...T.pagination,...ce.pagination},T.lastUpdated=ce.lastUpdated;return}r.recordCacheMiss(),T.loading=!0,T.error="",Y.value&&P&&Y.value.abort();const re=P?new AbortController:null;Y.value=re;const Xe=r.startFetch();try{const E=Math.max(0,(T.pagination.current-1)*T.pagination.limit),{items:L,pagination:C}=await l.fetchOrders({endpoint:p,limit:T.pagination.limit,start:E,search:T.search.trim(),state:T.filterState,signal:re?re.signal:void 0});T.items=L,T.pagination={...T.pagination,...C,current:C.current&&C.current>0?C.current:1},T.selection.clear(),T.lastUpdated=new Date().toISOString(),pt(oe,{items:L,pagination:T.pagination,lastUpdated:T.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;T.error=(m=E==null?void 0:E.message)!=null?m:"Unknown error"}finally{r.endFetch(Xe),P&&Y.value===re&&(Y.value=null),T.loading=!1}},b=()=>{T.pagination.current=1,Ue(W()),I(!0)},B=()=>{T.pagination.current=1,I()},le=S=>{T.filterState=S||"",T.pagination.current=1,I()},fe=S=>{const oe=Number(S);Number.isNaN(oe)||oe<1||oe===T.pagination.current||(T.pagination.current=oe,I())},he=()=>{T.selection.clear()},Z=S=>{S&&(T.selection.has(S)?T.selection.delete(S):T.selection.add(S))},G=()=>{T.pagination.current>=T.pagination.pages||(T.pagination.current+=1,I())},F=()=>{T.pagination.current<=1||(T.pagination.current-=1,I())},j=async(S,oe="")=>{var ce;if(!_)return null;try{return await l.fetchOrder({endpoint:_,id:S,orderNumber:oe})}catch(re){return T.transitionError=(ce=re==null?void 0:re.message)!=null?ce:"Unknown error",null}},Q=async S=>{if(!S){T.activeOrder=null;return}if(T.transitionError="",S.items&&S.items.length&&S.billing){T.activeOrder=S;return}const oe=await j(S.id,S.order_no);T.activeOrder=oe||S},ae=()=>{T.transitionError="",T.activeOrder=null},pe=S=>{if(!(S!=null&&S.id))return;const oe=T.items.findIndex(ce=>ce.id===S.id);oe!==-1&&T.items.splice(oe,1,S)},te=async(S,oe)=>{var ce;if(!f)throw new Error("Transition endpoint unavailable.");T.saving=!0,T.transitionError="";try{const re=await l.transitionOrder({endpoint:f,id:S,state:oe});return re&&(pe(re),T.activeOrder&&T.activeOrder.id===re.id&&(T.activeOrder=re),Ue(W())),re}catch(re){throw T.transitionError=(ce=re==null?void 0:re.message)!=null?ce:"Unknown error",re}finally{T.saving=!1}},q=async(S,oe)=>{var ce;if(!d)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(S)||!S.length)return{updated:[]};T.saving=!0;try{const re=await l.bulkTransitionOrders({endpoint:d,ids:S,state:oe}),Xe=Array.isArray(re.updated)?re.updated:[];return Xe.forEach(m=>{pe(m),T.activeOrder&&T.activeOrder.id===m.id&&(T.activeOrder=m)}),he(),{updated:Xe}}catch(re){throw T.transitionError=(ce=re==null?void 0:re.message)!=null?ce:"Unknown error",re}finally{T.saving=!1}};return nt(()=>{n&&I()}),{state:T,loadOrders:I,refresh:b,search:B,setFilterState:le,goToPage:fe,nextPage:G,previousPage:F,viewOrder:Q,closeOrder:ae,transitionOrder:te,bulkTransition:q,toggleSelection:Z,clearSelection:he,metrics:r.metrics,addNote:async(S,oe)=>{var ce;if(!A)throw new Error("Note endpoint unavailable.");if(!S||!oe||!oe.trim())return null;T.transitionError="",T.saving=!0;try{const re=await l.addOrderNote({endpoint:A,id:S,message:oe});return re&&(pe(re),T.activeOrder&&T.activeOrder.id===re.id&&(T.activeOrder=re)),re}catch(re){throw T.transitionError=(ce=re==null?void 0:re.message)!=null?ce:"Unknown error",re}finally{T.saving=!1}}}}function Fy({endpoint:e="",token:t="",preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var f,d,A;const a=ut({token:t}),l=yt("dashboard"),r=Ie({loading:!1,error:"",summary:(A=s.summary)!=null?A:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(d=(f=s.summary)==null?void 0:f.currency)!=null?d:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",_=async(P=!1)=>{var T,W;if(!e)return;const Y=p(),v=P?null:bt(Y,n);if(v){l.recordCacheHit(),r.summary=v.summary,r.checklist=v.checklist,r.lastUpdated=v.lastUpdated;return}l.recordCacheMiss(),r.loading=!0,r.error="";const D=l.startFetch();try{const I=await a.fetchDashboard({endpoint:e});r.summary=(T=I.summary)!=null?T:r.summary,r.checklist=Array.isArray(I.checklist)?I.checklist:r.checklist,r.lastUpdated=new Date().toISOString(),pt(Y,{summary:r.summary,checklist:r.checklist,lastUpdated:r.lastUpdated})}catch(I){r.error=(W=I==null?void 0:I.message)!=null?W:"Unknown error"}finally{l.endFetch(D),r.loading=!1}};return nt(()=>{o&&(!Array.isArray(r.checklist)||!r.checklist.length)&&_()}),{state:r,refresh:_,metrics:l.metrics}}function Vy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var I,b,B,le,fe,he,Z,G,F,j,Q,ae,pe;const a=ut({token:t}),l=yt("customers"),r=(I=e==null?void 0:e.list)!=null?I:"",p=(b=e==null?void 0:e.show)!=null?b:"",_=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(he=(fe=(B=s.pagination)==null?void 0:B.total)!=null?fe:(le=s.items)==null?void 0:le.length)!=null?he:0,limit:(G=(Z=s.pagination)==null?void 0:Z.limit)!=null?G:20,pages:(j=(F=s.pagination)==null?void 0:F.pages)!=null?j:0,current:(ae=(Q=s.pagination)==null?void 0:Q.current)!=null?ae:1},search:"",activeCustomer:(pe=s.active)!=null?pe:null,lastUpdated:null}),f=typeof AbortController!="undefined",d=Le(null),A=()=>{const te=_.pagination.current||1,q=_.pagination.limit||20,O=_.search.trim();return`customers:page=${te}:limit=${q}:search=${O}`},P=async(te=!1)=>{var w;if(!r){_.error="Customers endpoint unavailable.",_.items=[];return}const q=A(),O=te?null:bt(q,n);if(O){l.recordCacheHit(),_.items=O.items,_.pagination={..._.pagination,...O.pagination},_.lastUpdated=O.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="",d.value&&f&&d.value.abort();const k=f?new AbortController:null;d.value=k;const X=l.startFetch();try{const H=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:J,pagination:ue}=await a.fetchCustomers({endpoint:r,limit:_.pagination.limit,start:H,search:_.search.trim(),signal:k?k.signal:void 0});_.items=J,_.pagination={..._.pagination,...ue,current:ue.current&&ue.current>0?ue.current:1},_.lastUpdated=new Date().toISOString(),pt(q,{items:J,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(H){if((H==null?void 0:H.name)==="AbortError")return;_.error=(w=H==null?void 0:H.message)!=null?w:"Unknown error"}finally{l.endFetch(X),f&&d.value===k&&(d.value=null),_.loading=!1}},Y=()=>{_.pagination.current=1,Ue(A()),P(!0)},v=()=>{_.pagination.current=1,P()},D=te=>{const q=Number(te);Number.isNaN(q)||q<1||q===_.pagination.current||(_.pagination.current=q,P())},T=async te=>{var q;if(!p||!(te!=null&&te.email)){_.activeCustomer=te||null;return}try{const O=await a.fetchCustomer({endpoint:p,email:te.email});_.activeCustomer=O||te}catch(O){_.error=(q=O==null?void 0:O.message)!=null?q:"Unknown error"}},W=()=>{_.activeCustomer=null};return nt(()=>{o&&(!Array.isArray(_.items)||!_.items.length)&&P()}),{state:_,loadCustomers:P,refresh:Y,search:v,goToPage:D,viewCustomer:T,closeCustomer:W,metrics:l.metrics}}function Gy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var fe,he,Z,G,F,j,Q,ae,pe,te,q,O,k,X;const a=ut({token:t}),l=yt("coupons"),r=(fe=e==null?void 0:e.list)!=null?fe:"",p=(he=e==null?void 0:e.create)!=null?he:r,_=(Z=e==null?void 0:e.update)!=null?Z:r,f=(G=e==null?void 0:e.delete)!=null?G:r,d=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ae=(Q=(F=s.pagination)==null?void 0:F.total)!=null?Q:(j=s.items)==null?void 0:j.length)!=null?ae:0,limit:(te=(pe=s.pagination)==null?void 0:pe.limit)!=null?te:20,pages:(O=(q=s.pagination)==null?void 0:q.pages)!=null?O:0,current:(X=(k=s.pagination)==null?void 0:k.current)!=null?X:1},search:"",activeCoupon:null,lastUpdated:null}),A=typeof AbortController!="undefined",P=Le(null),Y=()=>{const w=d.pagination.current||1,H=d.pagination.limit||20,J=d.search.trim();return`coupons:page=${w}:limit=${H}:search=${J}`},v=async(w=!1)=>{var N;if(!r){d.error="Coupons endpoint unavailable.",d.items=[];return}const H=Y(),J=w?null:bt(H,n);if(J){l.recordCacheHit(),d.items=J.items,d.pagination={...d.pagination,...J.pagination},d.lastUpdated=J.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="",P.value&&A&&P.value.abort();const ue=A?new AbortController:null;P.value=ue;const V=l.startFetch();try{const S=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:oe,pagination:ce}=await a.fetchCoupons({endpoint:r,limit:d.pagination.limit,start:S,search:d.search.trim(),signal:ue?ue.signal:void 0});d.items=oe,d.pagination={...d.pagination,...ce,current:ce.current&&ce.current>0?ce.current:1},d.lastUpdated=new Date().toISOString(),pt(H,{items:oe,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(S){if((S==null?void 0:S.name)==="AbortError")return;d.error=(N=S==null?void 0:S.message)!=null?N:"Unknown error"}finally{l.endFetch(V),A&&P.value===ue&&(P.value=null),d.loading=!1}},D=()=>{d.pagination.current=1,Ue(Y()),v(!0)},T=()=>{d.pagination.current=1,v()},W=w=>{const H=Number(w);Number.isNaN(H)||H<1||H===d.pagination.current||(d.pagination.current=H,v())},I=w=>{d.activeCoupon=w},b=w=>{const H=d.items.findIndex(J=>J.id===w.id);H===-1?d.items.unshift(w):d.items.splice(H,1,w)},B=async w=>{var H;d.saving=!0,d.error="";try{let J=null;return w.id?J=await a.updateCoupon({endpoint:_,id:w.id,data:w}):J=await a.createCoupon({endpoint:p,data:w}),J&&(b(J),d.activeCoupon&&d.activeCoupon.id===J.id&&(d.activeCoupon=J),Ue(Y())),J}catch(J){throw d.error=(H=J==null?void 0:J.message)!=null?H:"Unknown error",J}finally{d.saving=!1}},le=async w=>{var H;if(!Array.isArray(w)||!w.length)return 0;d.saving=!0,d.error="";try{const J=await a.deleteCoupons({endpoint:f,ids:w});return J&&(d.items=d.items.filter(ue=>!w.includes(ue.id)),d.activeCoupon&&w.includes(d.activeCoupon.id)&&(d.activeCoupon=null),Ue(Y())),J}catch(J){throw d.error=(H=J==null?void 0:J.message)!=null?H:"Unknown error",J}finally{d.saving=!1}};return nt(()=>{o&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadCoupons:v,refresh:D,search:T,goToPage:W,setActive:I,saveCoupon:B,deleteCoupons:le,metrics:l.metrics}}const Wn=(e={})=>{var l,r,p,_,f,d,A,P,Y,v,D,T,W,I,b,B,le;const t=(l=e.store)!=null?l:{},s=(r=e.payments)!=null?r:{},o=(p=e.visual)!=null?p:{},n=(_=e.visual_defaults)!=null?_:{},a=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"USD";return{store:{name:(f=t.name)!=null?f:"",email:(d=t.email)!=null?d:"",phone:(A=t.phone)!=null?A:""},payments:{configured:!!s.configured},base_currency:a,visual:{primary_color:(P=o.primary_color)!=null?P:"",text_color:(Y=o.text_color)!=null?Y:"",surface_color:(v=o.surface_color)!=null?v:"",border_color:(D=o.border_color)!=null?D:"",muted_color:(T=o.muted_color)!=null?T:""},visual_defaults:{primary_color:(W=n.primary_color)!=null?W:"#4f6d7a",text_color:(I=n.text_color)!=null?I:"#1f2933",surface_color:(b=n.surface_color)!=null?b:"#ffffff",border_color:(B=n.border_color)!=null?B:"#e4e7ec",muted_color:(le=n.muted_color)!=null?le:"#6b7280"}}};function Hy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var A,P;const a=ut({token:t}),l=yt("settings"),r=(A=e==null?void 0:e.show)!=null?A:"",p=(P=e==null?void 0:e.update)!=null?P:r,_=Ie({loading:!1,saving:!1,error:"",values:Wn(s),lastUpdated:null}),f=async(Y=!1)=>{var W;if(!r){_.error="Settings endpoint unavailable.";return}const v="settings:data",D=Y?null:bt(v,n);if(D){l.recordCacheHit(),_.values=D.values,_.lastUpdated=D.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="";const T=l.startFetch();try{const I=await a.fetchSettings({endpoint:r});_.values=Wn(I),_.lastUpdated=new Date().toISOString(),pt(v,{values:_.values,lastUpdated:_.lastUpdated})}catch(I){throw _.error=(W=I==null?void 0:I.message)!=null?W:"Unknown error",I}finally{l.endFetch(T),_.loading=!1}},d=async Y=>{var v;if(!p)return _.error="Settings endpoint unavailable.",null;_.saving=!0,_.error="";try{const D=await a.updateSettings({endpoint:p,data:Y});return _.values=Wn(D),_.lastUpdated=new Date().toISOString(),Ue("settings:data"),pt("settings:data",{values:_.values,lastUpdated:_.lastUpdated}),_.values}catch(D){throw _.error=(v=D==null?void 0:D.message)!=null?v:"Unknown error",D}finally{_.saving=!1}};return nt(()=>{o&&(!s||!s.store)&&f()}),{state:_,refresh:f,save:d,metrics:l.metrics}}function By({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var I,b,B,le,fe,he,Z,G,F,j,Q,ae,pe,te;const a=ut({token:t}),l=yt("taxRates"),r=(I=e==null?void 0:e.list)!=null?I:"",p=(b=e==null?void 0:e.create)!=null?b:r,_=(B=e==null?void 0:e.update)!=null?B:r,f=(le=e==null?void 0:e.delete)!=null?le:r,d=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(G=(Z=(fe=s.pagination)==null?void 0:fe.total)!=null?Z:(he=s.items)==null?void 0:he.length)!=null?G:0,limit:(j=(F=s.pagination)==null?void 0:F.limit)!=null?j:20,pages:(ae=(Q=s.pagination)==null?void 0:Q.pages)!=null?ae:0,current:(te=(pe=s.pagination)==null?void 0:pe.current)!=null?te:1},search:"",lastUpdated:null}),A=typeof AbortController!="undefined",P=Le(null),Y=()=>{const q=d.pagination.current||1,O=d.pagination.limit||20,k=d.search.trim();return`taxRates:page=${q}:limit=${O}:search=${k}`},v=async(q=!1)=>{var H;if(!r){d.error="Tax endpoint unavailable.",d.items=[];return}const O=Y(),k=q?null:bt(O,n);if(k){l.recordCacheHit(),d.items=k.items,d.pagination={...d.pagination,...k.pagination},d.lastUpdated=k.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="",P.value&&A&&P.value.abort();const X=A?new AbortController:null;P.value=X;const w=l.startFetch();try{const J=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:ue,pagination:V}=await a.fetchTaxRates({endpoint:r,limit:d.pagination.limit,start:J,search:d.search.trim(),signal:X?X.signal:void 0});d.items=ue,d.pagination={...d.pagination,...V,current:V.current&&V.current>0?V.current:1},d.lastUpdated=new Date().toISOString(),pt(O,{items:ue,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(J){if((J==null?void 0:J.name)==="AbortError")return;d.error=(H=J==null?void 0:J.message)!=null?H:"Unknown error"}finally{l.endFetch(w),A&&P.value===X&&(P.value=null),d.loading=!1}},D=()=>{d.pagination.current=1,Ue(Y()),v(!0)},T=async q=>{var O;d.saving=!0,d.error="";try{const k=q.id?await a.updateTaxRate({endpoint:_,id:q.id,data:q}):await a.createTaxRate({endpoint:p,data:q});if(k){const X=d.items.findIndex(w=>w.id===k.id);X===-1?d.items.unshift(k):d.items.splice(X,1,k),Ue(Y())}return k}catch(k){throw d.error=(O=k==null?void 0:k.message)!=null?O:"Unknown error",k}finally{d.saving=!1}},W=async q=>{var O;if(!Array.isArray(q)||!q.length)return 0;d.saving=!0,d.error="";try{const k=await a.deleteTaxRates({endpoint:f,ids:q});return k&&(d.items=d.items.filter(X=>!q.includes(X.id)),Ue(Y())),k}catch(k){throw d.error=(O=k==null?void 0:k.message)!=null?O:"Unknown error",k}finally{d.saving=!1}};return nt(()=>{o&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadRates:v,refresh:D,saveRate:T,deleteRates:W,metrics:l.metrics}}function jy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var I,b,B,le,fe,he,Z,G,F,j,Q,ae,pe,te;const a=ut({token:t}),l=yt("shippingRules"),r=(I=e==null?void 0:e.list)!=null?I:"",p=(b=e==null?void 0:e.create)!=null?b:r,_=(B=e==null?void 0:e.update)!=null?B:r,f=(le=e==null?void 0:e.delete)!=null?le:r,d=Ie({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(G=(Z=(fe=s.pagination)==null?void 0:fe.total)!=null?Z:(he=s.items)==null?void 0:he.length)!=null?G:0,limit:(j=(F=s.pagination)==null?void 0:F.limit)!=null?j:20,pages:(ae=(Q=s.pagination)==null?void 0:Q.pages)!=null?ae:0,current:(te=(pe=s.pagination)==null?void 0:pe.current)!=null?te:1},search:"",lastUpdated:null}),A=typeof AbortController!="undefined",P=Le(null),Y=()=>{const q=d.pagination.current||1,O=d.pagination.limit||20,k=d.search.trim();return`shippingRules:page=${q}:limit=${O}:search=${k}`},v=async(q=!1)=>{var H;if(!r){d.error="Shipping endpoint unavailable.",d.items=[];return}const O=Y(),k=q?null:bt(O,n);if(k){l.recordCacheHit(),d.items=k.items,d.pagination={...d.pagination,...k.pagination},d.lastUpdated=k.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="",P.value&&A&&P.value.abort();const X=A?new AbortController:null;P.value=X;const w=l.startFetch();try{const J=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:ue,pagination:V}=await a.fetchShippingRules({endpoint:r,limit:d.pagination.limit,start:J,search:d.search.trim(),signal:X?X.signal:void 0});d.items=ue,d.pagination={...d.pagination,...V,current:V.current&&V.current>0?V.current:1},d.lastUpdated=new Date().toISOString(),pt(O,{items:ue,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(J){if((J==null?void 0:J.name)==="AbortError")return;d.error=(H=J==null?void 0:J.message)!=null?H:"Unknown error"}finally{l.endFetch(w),A&&P.value===X&&(P.value=null),d.loading=!1}},D=()=>{d.pagination.current=1,Ue(Y()),v(!0)},T=async q=>{var O;d.saving=!0,d.error="";try{const k=q.id?await a.updateShippingRule({endpoint:_,id:q.id,data:q}):await a.createShippingRule({endpoint:p,data:q});if(k){const X=d.items.findIndex(w=>w.id===k.id);X===-1?d.items.unshift(k):d.items.splice(X,1,k),Ue(Y())}return k}catch(k){throw d.error=(O=k==null?void 0:k.message)!=null?O:"Unknown error",k}finally{d.saving=!1}},W=async q=>{var O;if(!Array.isArray(q)||!q.length)return 0;d.saving=!0,d.error="";try{const k=await a.deleteShippingRules({endpoint:f,ids:q});return k&&(d.items=d.items.filter(X=>!q.includes(X.id)),Ue(Y())),k}catch(k){throw d.error=(O=k==null?void 0:k.message)!=null?O:"Unknown error",k}finally{d.saving=!1}};return nt(()=>{o&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadRules:v,refresh:D,saveRule:T,deleteRules:W,metrics:l.metrics}}function Ky({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var T,W,I,b,B,le,fe,he,Z,G,F;const a=ut({token:t}),l=yt("logs"),r=(T=e==null?void 0:e.list)!=null?T:"",p=Ie({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(B=(b=(W=s.pagination)==null?void 0:W.total)!=null?b:(I=s.items)==null?void 0:I.length)!=null?B:0,limit:(fe=(le=s.pagination)==null?void 0:le.limit)!=null?fe:20,pages:(Z=(he=s.pagination)==null?void 0:he.pages)!=null?Z:0,current:(F=(G=s.pagination)==null?void 0:G.current)!=null?F:1},search:"",entity:"",lastUpdated:null}),_=typeof AbortController!="undefined",f=Le(null),d=()=>{const j=p.pagination.current||1,Q=p.pagination.limit||20,ae=p.search.trim(),pe=p.entity.trim();return`logs:page=${j}:limit=${Q}:search=${ae}:entity=${pe}`},A=async(j=!1)=>{var q;if(!r){p.error="Logs endpoint unavailable.",p.items=[];return}const Q=d(),ae=j?null:bt(Q,n);if(ae){l.recordCacheHit(),p.items=ae.items,p.pagination={...p.pagination,...ae.pagination},p.lastUpdated=ae.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",_&&f.value&&f.value.abort();const pe=_?new AbortController:null;f.value=pe;const te=l.startFetch();try{const O=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:k,pagination:X}=await a.fetchLogs({endpoint:r,limit:p.pagination.limit,start:O,search:p.search.trim(),entity:p.entity,signal:pe?pe.signal:void 0});p.items=k,p.pagination={...p.pagination,...X,current:X.current&&X.current>0?X.current:1},p.lastUpdated=new Date().toISOString(),pt(Q,{items:k,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(O){if((O==null?void 0:O.name)==="AbortError")return;p.error=(q=O==null?void 0:O.message)!=null?q:"Unknown error"}finally{l.endFetch(te),_&&f.value===pe&&(f.value=null),p.loading=!1}},P=()=>{p.pagination.current=1,Ue(d()),A(!0)},Y=()=>{p.pagination.current=1,A()},v=j=>{const Q=typeof j=="string"?j.trim():"";p.entity!==Q&&(p.entity=Q,p.pagination.current=1,A())},D=j=>{const Q=Number(j);Number.isNaN(Q)||Q<1||Q===p.pagination.current||(p.pagination.current=Q,A())};return nt(()=>{o&&(!Array.isArray(p.items)||!p.items.length)&&A()}),{state:p,loadLogs:A,refresh:P,search:Y,setEntity:v,goToPage:D,metrics:l.metrics}}const Ki=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"}});function Jy({endpoints:e={},token:t=""}){const s=ut({token:t}),o=Ie({loading:!1,saving:!1,error:"",config:Ki(),message:""}),n=async()=>{var r,p,_,f;if(e.show){o.loading=!0,o.error="";try{const d=await s.get(e.show);o.config=l((_=(p=(r=d==null?void 0:d.data)==null?void 0:r.config)!=null?p:d==null?void 0:d.config)!=null?_:{})}catch(d){o.error=(f=d.message)!=null?f:"Unable to load payment configuration."}finally{o.loading=!1}}},a=async r=>{var p,_,f,d,A,P,Y;if(e.update){o.saving=!0,o.error="",o.message="";try{const v=await s.post(e.update,{config:r});o.config=l((f=(_=(p=v==null?void 0:v.data)==null?void 0:p.config)!=null?_:v==null?void 0:v.config)!=null?f:{}),o.message=(P=(A=(d=v==null?void 0:v.data)==null?void 0:d.message)!=null?A:v==null?void 0:v.message)!=null?P:""}catch(v){o.error=(Y=v.message)!=null?Y:"Unable to save payment configuration."}finally{o.saving=!1}}},l=r=>{var _,f;const p=Ki();return{stripe:{...p.stripe,...(_=r.stripe)!=null?_:{}},paypal:{...p.paypal,...(f=r.paypal)!=null?f:{}}}};return{state:o,refresh:n,save:a}}const qy={class:"nxp-ec-admin-app__shell"},Wy={class:"nxp-ec-admin-app__header"},zy={class:"nxp-ec-admin-app__title"},Qy={class:"nxp-ec-admin-app__lead"},Zy={key:0,class:"nxp-ec-admin-nav"},eT=["href"],tT={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},sT={class:"nxp-ec-admin-panel__body"},nT={class:"nxp-ec-admin-panel__lead"},xs="nxp:admin:onboarding:dismissed",oT={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var qa,Wa,za,Qa,Za,er,tr,sr,nr,or,ir,ar,rr,lr,cr,dr,ur,pr,_r,fr,hr,mr,gr,Cr,Sr,Er,Ar,br,yr,Tr,vr,Or,Rr,xr,Pr,Nr,Mr,Ir,$r,wr,kr,Dr,Ur,Lr,Yr,Xr,Fr,Vr,Gr,Hr,Br,jr,Kr,Jr,qr,Wr,zr,Qr,Zr,el,tl,sl,nl,ol,il,al,rl,ll,cl,dl,ul,pl,_l,fl,hl,ml,gl,Cl,Sl,El,Al,bl,yl,Tl,vl,Ol,Rl,xl,Pl,Nl,Ml,Il,$l,wl,kl,Dl,Ul,Ll,Yl,Xl,Fl,Vl,Gl,Hl,Bl,jl,Kl,Jl,ql,Wl,zl,Ql,Zl,ec,tc,sc,nc,oc,ic,ac,rc,lc,cc,dc,uc,pc,_c,fc,hc,mc,gc,Cc,Sc,Ec,Ac,bc,yc;const t=e,{__:s}=$y(t.dataset),o=Ce(()=>{var K;return((K=t.dataset)==null?void 0:K.appTitleKey)||"COM_NXPEASYCART"}),n=Ce(()=>{var K;return((K=t.dataset)==null?void 0:K.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(K,de)=>{if(!K||typeof K!="string")return de;try{return JSON.parse(K)}catch(Re){return de}},l=Ce(()=>{var de,Re;if(Array.isArray((de=t.config)==null?void 0:de.navItems))return t.config.navItems.map(tt=>({id:tt.id,title:tt.title,link:tt.link}));const K=a((Re=t.dataset)==null?void 0:Re.navItems,[]);return Array.isArray(K)?K.map(tt=>({id:tt.id,title:tt.title,link:tt.link})):[]}),r=K=>{const de=l.value;if(!Array.isArray(de))return"";const Re=de.find(tt=>tt.id===K);return Re?Re.link:""},p=Ce(()=>{var K,de;return((K=t.config)==null?void 0:K.activeSection)||((de=t.dataset)==null?void 0:de.activeSection)||"dashboard"}),_=K=>p.value===K,f=Ce(()=>_("dashboard")),d=Ce(()=>_("products")),A=Ce(()=>_("categories")||_("products")),P=Ce(()=>_("orders")),Y=Ce(()=>_("customers")),v=Ce(()=>_("coupons")),D=Ce(()=>_("settings")),T=Ce(()=>_("logs")),W=(or=(qa=t.endpoints)==null?void 0:qa.products)!=null?or:{list:(za=(Wa=t.dataset)==null?void 0:Wa.productsEndpoint)!=null?za:"",create:(Za=(Qa=t.dataset)==null?void 0:Qa.productsEndpointCreate)!=null?Za:"",update:(tr=(er=t.dataset)==null?void 0:er.productsEndpointUpdate)!=null?tr:"",delete:(nr=(sr=t.dataset)==null?void 0:sr.productsEndpointDelete)!=null?nr:""},I=(fr=(ir=t.endpoints)==null?void 0:ir.categories)!=null?fr:{list:(rr=(ar=t.dataset)==null?void 0:ar.categoriesEndpoint)!=null?rr:"",create:(cr=(lr=t.dataset)==null?void 0:lr.categoriesEndpointCreate)!=null?cr:"",update:(ur=(dr=t.dataset)==null?void 0:dr.categoriesEndpointUpdate)!=null?ur:"",delete:(_r=(pr=t.dataset)==null?void 0:pr.categoriesEndpointDelete)!=null?_r:""},b=(Or=(hr=t.endpoints)==null?void 0:hr.orders)!=null?Or:{list:(gr=(mr=t.dataset)==null?void 0:mr.ordersEndpoint)!=null?gr:"",show:(Sr=(Cr=t.dataset)==null?void 0:Cr.ordersEndpointShow)!=null?Sr:"",transition:(Ar=(Er=t.dataset)==null?void 0:Er.ordersEndpointTransition)!=null?Ar:"",bulkTransition:(yr=(br=t.dataset)==null?void 0:br.ordersEndpointBulk)!=null?yr:"",note:(vr=(Tr=t.dataset)==null?void 0:Tr.ordersEndpointNote)!=null?vr:""},B=(Ir=(Rr=t.endpoints)==null?void 0:Rr.customers)!=null?Ir:{list:(Pr=(xr=t.dataset)==null?void 0:xr.customersEndpoint)!=null?Pr:"",show:(Mr=(Nr=t.dataset)==null?void 0:Nr.customersEndpointShow)!=null?Mr:""},le=(Vr=($r=t.endpoints)==null?void 0:$r.coupons)!=null?Vr:{list:(kr=(wr=t.dataset)==null?void 0:wr.couponsEndpoint)!=null?kr:"",create:(Ur=(Dr=t.dataset)==null?void 0:Dr.couponsEndpointCreate)!=null?Ur:"",update:(Yr=(Lr=t.dataset)==null?void 0:Lr.couponsEndpointUpdate)!=null?Yr:"",delete:(Fr=(Xr=t.dataset)==null?void 0:Xr.couponsEndpointDelete)!=null?Fr:""},fe=(Qr=(Gr=t.endpoints)==null?void 0:Gr.tax)!=null?Qr:{list:(Br=(Hr=t.dataset)==null?void 0:Hr.taxEndpoint)!=null?Br:"",create:(Kr=(jr=t.dataset)==null?void 0:jr.taxEndpointCreate)!=null?Kr:"",update:(qr=(Jr=t.dataset)==null?void 0:Jr.taxEndpointUpdate)!=null?qr:"",delete:(zr=(Wr=t.dataset)==null?void 0:Wr.taxEndpointDelete)!=null?zr:""},he=(ll=(Zr=t.endpoints)==null?void 0:Zr.shipping)!=null?ll:{list:(tl=(el=t.dataset)==null?void 0:el.shippingEndpoint)!=null?tl:"",create:(nl=(sl=t.dataset)==null?void 0:sl.shippingEndpointCreate)!=null?nl:"",update:(il=(ol=t.dataset)==null?void 0:ol.shippingEndpointUpdate)!=null?il:"",delete:(rl=(al=t.dataset)==null?void 0:al.shippingEndpointDelete)!=null?rl:""},Z=(fl=(cl=t.endpoints)==null?void 0:cl.settings)!=null?fl:{show:(ul=(dl=t.dataset)==null?void 0:dl.settingsEndpointShow)!=null?ul:"",update:(_l=(pl=t.dataset)==null?void 0:pl.settingsEndpointUpdate)!=null?_l:""},G=(Cl=(hl=t.endpoints)==null?void 0:hl.logs)!=null?Cl:{list:(gl=(ml=t.dataset)==null?void 0:ml.logsEndpoint)!=null?gl:""},F=(Tl=(Sl=t.endpoints)==null?void 0:Sl.payments)!=null?Tl:{show:(Al=(El=t.dataset)==null?void 0:El.paymentsEndpointShow)!=null?Al:"",update:(yl=(bl=t.dataset)==null?void 0:bl.paymentsEndpointUpdate)!=null?yl:""},j=Ce(()=>{var K;return a((K=t.dataset)==null?void 0:K.orderStates,[])}),{state:Q,refresh:ae}=Fy({endpoint:(Ml=(Nl=(xl=(vl=t.endpoints)==null?void 0:vl.dashboard)!=null?xl:(Rl=(Ol=t.config)==null?void 0:Ol.endpoints)==null?void 0:Rl.dashboard)!=null?Nl:(Pl=t.dataset)==null?void 0:Pl.dashboardEndpoint)!=null?Ml:"",token:t.csrfToken,preload:(Dl=($l=(Il=t.config)==null?void 0:Il.preload)==null?void 0:$l.dashboard)!=null?Dl:{summary:a((wl=t.dataset)==null?void 0:wl.dashboardSummary,{}),checklist:a((kl=t.dataset)==null?void 0:kl.dashboardChecklist,[])},autoload:f.value}),{state:pe,refresh:te,search:q,createProduct:O,updateProduct:k,deleteProducts:X}=Ly({endpoints:W,token:t.csrfToken,autoload:d.value}),{state:w,refresh:H,search:J,goToPage:ue,saveCategory:V,deleteCategories:N,loadOptions:S}=Yy({endpoints:I,token:t.csrfToken,preload:(Fl=(Ll=(Ul=t.config)==null?void 0:Ul.preload)==null?void 0:Ll.categories)!=null?Fl:{items:a((Yl=t.dataset)==null?void 0:Yl.categoriesPreload,[]),pagination:a((Xl=t.dataset)==null?void 0:Xl.categoriesPreloadPagination,{})},autoload:A.value}),oe=Ce(()=>(Array.isArray(w.items)?w.items:[]).map(de=>{var Re,tt,Ns;return{id:Number.parseInt((Re=de==null?void 0:de.id)!=null?Re:0,10)||0,title:String((tt=de==null?void 0:de.title)!=null?tt:"").trim(),slug:String((Ns=de==null?void 0:de.slug)!=null?Ns:"").trim()}}).filter(de=>de.title!=="")),{state:ce,refresh:re,search:Xe,setFilterState:m,viewOrder:E,closeOrder:L,transitionOrder:C,goToPage:h,bulkTransition:g,toggleSelection:R,clearSelection:$,addNote:U}=Xy({endpoints:b,token:t.csrfToken,states:j.value,preload:(jl=(Gl=(Vl=t.config)==null?void 0:Vl.preload)==null?void 0:Gl.orders)!=null?jl:{items:a((Hl=t.dataset)==null?void 0:Hl.ordersPreload,[]),pagination:a((Bl=t.dataset)==null?void 0:Bl.ordersPreloadPagination,{})},autoload:P.value}),{state:M,refresh:ee,search:z,goToPage:se,viewCustomer:ne,closeCustomer:ge}=Vy({endpoints:B,token:t.csrfToken,preload:(zl=(Jl=(Kl=t.config)==null?void 0:Kl.preload)==null?void 0:Jl.customers)!=null?zl:{items:a((ql=t.dataset)==null?void 0:ql.customersPreload,[]),pagination:a((Wl=t.dataset)==null?void 0:Wl.customersPreloadPagination,{})},autoload:Y.value}),{state:Ae,refresh:ye,search:Fe,goToPage:Ve,saveCoupon:we,deleteCoupons:Be}=Gy({endpoints:(Zl=(Ql=t.endpoints)==null?void 0:Ql.coupons)!=null?Zl:le,token:t.csrfToken,preload:(oc=(tc=(ec=t.config)==null?void 0:ec.preload)==null?void 0:tc.coupons)!=null?oc:{items:a((sc=t.dataset)==null?void 0:sc.couponsPreload,[]),pagination:a((nc=t.dataset)==null?void 0:nc.couponsPreloadPagination,{})},autoload:v.value}),We=(lc=(ac=(ic=t.config)==null?void 0:ic.preload)==null?void 0:ac.settings)!=null?lc:a((rc=t.dataset)==null?void 0:rc.settingsPreload,{}),{state:at,refresh:ke,save:je}=Hy({endpoints:Z,token:t.csrfToken,preload:We,autoload:D.value}),It=Ce(()=>{var de,Re;const K=(Re=(de=t.dataset)==null?void 0:de.baseCurrency)!=null?Re:"";return typeof K=="string"?K.trim().toUpperCase():""}),Kt=Ce(()=>{var de,Re;const K=(Re=(de=at==null?void 0:at.values)==null?void 0:de.base_currency)!=null?Re:"";return typeof K=="string"?K.trim().toUpperCase():""}),Jt=Ce(()=>{const K=Kt.value||It.value;return K!==""?K:"USD"}),zn=Ce(()=>{var de,Re;const K=(Re=(de=t.dataset)==null?void 0:de.mediaModalUrl)!=null?Re:"";return typeof K=="string"?K.trim():""}),Qn=K=>{switch(K){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:r("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:r("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:r("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:r("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:r("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:K||"step",titleKey:K||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:K||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:r("dashboard")||""}}},ja=Ce(()=>(Array.isArray(Q.checklist)?Q.checklist:[]).map(de=>{const Re=Qn(de.label);return{id:Re.id,completed:!!de.completed,link:de.link||Re.link||"",label:de.label,titleKey:Re.titleKey,descriptionKey:Re.descriptionKey,titleFallback:Re.titleFallback,descriptionFallback:Re.descriptionFallback}})),Zn=Ce(()=>ja.value.some(K=>!K.completed)),Ps=Le(!1),iT=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(xs,"0")}catch(K){}Ps.value=!0},Ka=()=>{if(Ps.value=!1,typeof window!="undefined")try{window.localStorage.setItem(xs,"1")}catch(K){}},aT=K=>{K&&typeof K.link=="string"&&K.link!==""&&(Ka(),typeof window!="undefined"&&(window.location.href=K.link))};$e(Zn,K=>{if(!K&&(Ps.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(xs,"1")}catch(de){}});const rT=(_c=(dc=(cc=t.config)==null?void 0:cc.preload)==null?void 0:dc.tax)!=null?_c:{items:a((uc=t.dataset)==null?void 0:uc.taxPreload,[]),pagination:a((pc=t.dataset)==null?void 0:pc.taxPreloadPagination,{})},{state:lT,refresh:cn,saveRate:cT,deleteRates:dT}=By({endpoints:fe,token:t.csrfToken,preload:rT,autoload:D.value}),uT=(Cc=(hc=(fc=t.config)==null?void 0:fc.preload)==null?void 0:hc.shipping)!=null?Cc:{items:a((mc=t.dataset)==null?void 0:mc.shippingPreload,[]),pagination:a((gc=t.dataset)==null?void 0:gc.shippingPreloadPagination,{})},{state:pT,refresh:dn,saveRule:_T,deleteRules:fT}=jy({endpoints:he,token:t.csrfToken,preload:uT,autoload:D.value}),hT=(yc=(Ec=(Sc=t.config)==null?void 0:Sc.preload)==null?void 0:Ec.logs)!=null?yc:{items:a((Ac=t.dataset)==null?void 0:Ac.logsPreload,[]),pagination:a((bc=t.dataset)==null?void 0:bc.logsPreloadPagination,{})},{state:mT,refresh:Ja,search:gT,setEntity:CT,goToPage:ST}=Ky({endpoints:G,token:t.csrfToken,preload:hT,autoload:T.value}),{state:ET,refresh:eo,save:AT}=Jy({endpoints:F,token:t.csrfToken});$e(p,K=>{switch(K){case"dashboard":ae();break;case"products":te(),H();break;case"categories":H();break;case"orders":re();break;case"customers":ee();break;case"coupons":ye();break;case"settings":ke(),cn(),dn(),eo();break;case"logs":Ja();break}}),nt(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const K=window.localStorage.getItem(xs);Zn.value?K!=="1"&&(Ps.value=!0):window.localStorage.setItem(xs,"1")}catch(K){}}D.value&&eo()});const bT=()=>{te()},yT=()=>{q()},TT=async K=>{try{await O(K),te(),H()}catch(de){}},vT=async({id:K,data:de})=>{try{await k(K,de),te(),H()}catch(Re){}},OT=async K=>{try{await X(K),te(),H()}catch(de){}},RT=()=>{H()},xT=()=>{J()},PT=K=>{ue(K)},NT=async K=>{try{await V(K),H()}catch(de){}},MT=async K=>{try{await N(K),H()}catch(de){}},IT=()=>{ae()},$T=()=>{re()},wT=()=>{Xe()},kT=K=>{m(K)},DT=K=>{E(K)},UT=()=>{L()},LT=async({id:K,state:de})=>{await C(K,de)},YT=K=>{h(K)},XT=async({ids:K,state:de})=>{await g(K,de)},FT=K=>{R(K)},VT=()=>{$()},GT=async({id:K,message:de})=>{await U(K,de)},HT=()=>{ee()},BT=()=>{z()},jT=K=>{se(K)},KT=K=>{ne(K)},JT=()=>{ge()},qT=()=>{ye()},WT=()=>{Fe()},zT=K=>{Ve(K)},QT=async K=>{try{await we(K)}catch(de){}},ZT=async K=>{try{await Be(K)}catch(de){}},ev=()=>{ke()},tv=async K=>{try{await je(K)}catch(de){}},sv=()=>{cn()},nv=async K=>{try{await cT(K),cn()}catch(de){}},ov=async K=>{try{await dT(K),cn()}catch(de){}},iv=()=>{dn()},av=async K=>{try{await _T(K),dn()}catch(de){}},rv=async K=>{try{await fT(K),dn()}catch(de){}},lv=()=>{Ja()},cv=()=>{gT()},dv=K=>{CT(K)},uv=K=>{ST(K)},pv=()=>{eo()},_v=async K=>{await AT(K)};return(K,de)=>(y(),lt(rp,null,{default:Xo(()=>{var Re,tt,Ns,Tc,vc,Oc;return[i("section",qy,[i("header",Wy,[i("div",null,[i("h1",zy,u(c(s)(o.value,(tt=(Re=t.dataset)==null?void 0:Re.appTitle)!=null?tt:"NXP Easy Cart",[],"appTitle")),1),i("p",Qy,u(c(s)(n.value,(Tc=(Ns=t.dataset)==null?void 0:Ns.appLead)!=null?Tc:"Manage your storefront from one place.",[],"appLead")),1)]),ie(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:iT},u(c(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[$u,Zn.value]])]),l.value.length?(y(),x("nav",Zy,[(y(!0),x(Se,null,Te(l.value,un=>(y(),x("a",{key:un.id,href:un.link,class:Ne({"is-active":un.id===p.value})},u(un.title),11,eT))),128))])):be("",!0),p.value==="dashboard"?(y(),lt(Xp,{key:1,state:c(Q),translate:c(s),onRefresh:IT},null,8,["state","translate"])):p.value==="products"?(y(),lt(lh,{key:2,state:c(pe),translate:c(s),"base-currency":Jt.value,"category-options":oe.value,"media-modal-url":zn.value,onCreate:TT,onUpdate:vT,onDelete:OT,onRefresh:bT,onSearch:yT},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(y(),lt(im,{key:3,state:c(w),translate:c(s),"load-options":c(S),onRefresh:RT,onSearch:xT,onPage:PT,onSave:NT,onDelete:MT},null,8,["state","translate","load-options"])):p.value==="orders"?(y(),lt(Mg,{key:4,state:c(ce),translate:c(s),onRefresh:$T,onSearch:wT,onFilter:kT,onView:DT,onClose:UT,onTransition:LT,onPage:YT,onBulkTransition:XT,onToggleSelection:FT,onClearSelection:VT,onAddNote:GT},null,8,["state","translate"])):p.value==="customers"?(y(),lt(yC,{key:5,state:c(M),translate:c(s),"base-currency":Jt.value,onRefresh:HT,onSearch:BT,onPage:jT,onView:KT,onClose:JT},null,8,["state","translate","base-currency"])):p.value==="coupons"?(y(),lt(PS,{key:6,state:c(Ae),translate:c(s),"base-currency":Jt.value,onRefresh:qT,onSearch:WT,onPage:zT,onSave:QT,onDelete:ZT},null,8,["state","translate","base-currency"])):p.value==="settings"?(y(),lt(Db,{key:7,"settings-state":c(at),"tax-state":c(lT),"shipping-state":c(pT),"payments-state":c(ET),translate:c(s),"base-currency":Jt.value,onRefreshSettings:ev,onSaveSettings:tv,onRefreshTax:sv,onSaveTax:nv,onDeleteTax:ov,onRefreshShipping:iv,onSaveShipping:av,onDeleteShipping:rv,onRefreshPayments:pv,onSavePayments:_v},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency"])):p.value==="logs"?(y(),lt(fy,{key:8,state:c(mT),translate:c(s),onRefresh:lv,onSearch:cv,onFilter:dv,onPage:uv},null,8,["state","translate"])):(y(),x("div",tT,[i("div",sT,[i("p",nT,u(c(s)(n.value,(Oc=(vc=t.dataset)==null?void 0:vc.appLead)!=null?Oc:"This section will be available soon.",[],"appLead")),1)])]))]),Ye(Ny,{visible:Ps.value,steps:ja.value,translate:c(s),onClose:Ka,onNavigate:aT},null,8,["visible","steps","translate"])]}),_:1}))}},ln=document.getElementById("nxp-ec-admin-app");if(!ln)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(Ji=ln.getAttribute("data-csrf-token"))!=null?Ji:"",t=Object.assign({},ln.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(A){console.warn("[NXP Easy Cart] Failed to parse admin config payload",A)}const o=(ea=(qi=s==null?void 0:s.endpoints)==null?void 0:qi.products)!=null?ea:{list:(Wi=t.productsEndpoint)!=null?Wi:"",create:(zi=t.productsEndpointCreate)!=null?zi:"",update:(Qi=t.productsEndpointUpdate)!=null?Qi:"",delete:(Zi=t.productsEndpointDelete)!=null?Zi:""},n=(aa=(ta=s==null?void 0:s.endpoints)==null?void 0:ta.categories)!=null?aa:{list:(sa=t.categoriesEndpoint)!=null?sa:"",create:(na=t.categoriesEndpointCreate)!=null?na:"",update:(oa=t.categoriesEndpointUpdate)!=null?oa:"",delete:(ia=t.categoriesEndpointDelete)!=null?ia:""},a=(_a=(ra=s==null?void 0:s.endpoints)==null?void 0:ra.orders)!=null?_a:{list:(la=t.ordersEndpoint)!=null?la:"",show:(ca=t.ordersEndpointShow)!=null?ca:"",transition:(da=t.ordersEndpointTransition)!=null?da:"",bulkTransition:(ua=t.ordersEndpointBulk)!=null?ua:"",note:(pa=t.ordersEndpointNote)!=null?pa:""},l=(ga=(fa=s==null?void 0:s.endpoints)==null?void 0:fa.customers)!=null?ga:{list:(ha=t.customersEndpoint)!=null?ha:"",show:(ma=t.customersEndpointShow)!=null?ma:""},r=(ya=(Ca=s==null?void 0:s.endpoints)==null?void 0:Ca.coupons)!=null?ya:{list:(Sa=t.couponsEndpoint)!=null?Sa:"",create:(Ea=t.couponsEndpointCreate)!=null?Ea:"",update:(Aa=t.couponsEndpointUpdate)!=null?Aa:"",delete:(ba=t.couponsEndpointDelete)!=null?ba:""},p=(Pa=(Ta=s==null?void 0:s.endpoints)==null?void 0:Ta.tax)!=null?Pa:{list:(va=t.taxEndpoint)!=null?va:"",create:(Oa=t.taxEndpointCreate)!=null?Oa:"",update:(Ra=t.taxEndpointUpdate)!=null?Ra:"",delete:(xa=t.taxEndpointDelete)!=null?xa:""},_=(ka=(Na=s==null?void 0:s.endpoints)==null?void 0:Na.shipping)!=null?ka:{list:(Ma=t.shippingEndpoint)!=null?Ma:"",create:(Ia=t.shippingEndpointCreate)!=null?Ia:"",update:($a=t.shippingEndpointUpdate)!=null?$a:"",delete:(wa=t.shippingEndpointDelete)!=null?wa:""},f=(Ya=(Da=s==null?void 0:s.endpoints)==null?void 0:Da.settings)!=null?Ya:{show:(Ua=t.settingsEndpointShow)!=null?Ua:"",update:(La=t.settingsEndpointUpdate)!=null?La:""},d=(Va=(Xa=s==null?void 0:s.endpoints)==null?void 0:Xa.logs)!=null?Va:{list:(Fa=t.logsEndpoint)!=null?Fa:""};Zu(oT,{csrfToken:e,dataset:t,config:s,endpoints:{products:o,categories:n,orders:a,customers:l,coupons:r,tax:p,shipping:_,settings:f,logs:d,dashboard:(Ba=(Ha=(Ga=s==null?void 0:s.endpoints)==null?void 0:Ga.dashboard)!=null?Ha:t.dashboardEndpoint)!=null?Ba:""}}).mount(ln)}})();
