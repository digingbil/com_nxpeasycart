(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var ta,na,sa,ia,oa,aa,ra,la,ca,da,ua,pa,_a,fa,ha,ma,ga,Sa,Ca,Ea,ba,Aa,Ta,ya,Oa,Ra,va,xa,Na,Pa,Ma,Ia,ka,wa,$a,Ua,Da,La,Ya,Xa,Fa,Ga,Va,Ha,Ba,Ka,ja,Ja,Wa,qa,za,Qa;function Es(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const ke={},qt=[],ft=()=>{},li=()=>!1,Ln=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),bs=e=>e.startsWith("onUpdate:"),ze=Object.assign,As=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},kc=Object.prototype.hasOwnProperty,Ne=(e,t)=>kc.call(e,t),ge=Array.isArray,zt=e=>un(e)==="[object Map]",Qt=e=>un(e)==="[object Set]",ci=e=>un(e)==="[object Date]",Ae=e=>typeof e=="function",Xe=e=>typeof e=="string",ct=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",di=e=>(we(e)||Ae(e))&&Ae(e.then)&&Ae(e.catch),ui=Object.prototype.toString,un=e=>ui.call(e),wc=e=>un(e).slice(8,-1),pi=e=>un(e)==="[object Object]",Ts=e=>Xe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pn=Es(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Yn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},$c=/-\w/g,Ut=Yn(e=>e.replace($c,t=>t.slice(1).toUpperCase())),Uc=/\B([A-Z])/g,Dt=Yn(e=>e.replace(Uc,"-$1").toLowerCase()),_i=Yn(e=>e.charAt(0).toUpperCase()+e.slice(1)),ys=Yn(e=>e?`on${_i(e)}`:""),Lt=(e,t)=>!Object.is(e,t),Xn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},fi=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},Fn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let hi;const Gn=()=>hi||(hi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Yt(e){if(ge(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=Xe(o)?Xc(o):Yt(o);if(n)for(const a in n)t[a]=n[a]}return t}else if(Xe(e)||we(e))return e}const Dc=/;(?![^(]*\))/g,Lc=/:([^]+)/,Yc=/\/\*[^]*?\*\//g;function Xc(e){const t={};return e.replace(Yc,"").split(Dc).forEach(s=>{if(s){const o=s.split(Lc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Me(e){let t="";if(Xe(e))t=e;else if(ge(e))for(let s=0;s<e.length;s++){const o=Me(e[s]);o&&(t+=o+" ")}else if(we(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Fc=Es("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function mi(e){return!!e||e===""}function Gc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=_n(e[o],t[o]);return s}function _n(e,t){if(e===t)return!0;let s=ci(e),o=ci(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=ct(e),o=ct(t),s||o)return e===t;if(s=ge(e),o=ge(t),s||o)return s&&o?Gc(e,t):!1;if(s=we(e),o=we(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const l in e){const d=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(d&&!p||!d&&p||!_n(e[l],t[l]))return!1}}return String(e)===String(t)}function Os(e,t){return e.findIndex(s=>_n(s,t))}const gi=e=>!!(e&&e.__v_isRef===!0),u=e=>Xe(e)?e:e==null?"":ge(e)||we(e)&&(e.toString===ui||!Ae(e.toString))?gi(e)?u(e.value):JSON.stringify(e,Si,2):String(e),Si=(e,t)=>gi(t)?Si(e,t.value):zt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],a)=>(s[Rs(o,a)+" =>"]=n,s),{})}:Qt(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Rs(s))}:ct(t)?Rs(t):we(t)&&!ge(t)&&!pi(t)?String(t):t,Rs=(e,t="")=>{var s;return ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class Vc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Hc(){return nt}let $e;const vs=new WeakSet;class Ci{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vs.has(this)&&(vs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ri(this),Ai(this);const t=$e,s=dt;$e=this,dt=!0;try{return this.fn()}finally{Ti(this),$e=t,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ms(t);this.deps=this.depsTail=void 0,Ri(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ps(this)&&this.run()}get dirty(){return Ps(this)}}let Ei=0,fn,hn;function bi(e,t=!1){if(e.flags|=8,t){e.next=hn,hn=e;return}e.next=fn,fn=e}function xs(){Ei++}function Ns(){if(--Ei>0)return;if(hn){let t=hn;for(hn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;fn;){let t=fn;for(fn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function Ai(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ti(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),Ms(o),Bc(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function Ps(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(yi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function yi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===mn)||(e.globalVersion=mn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ps(e))))return;e.flags|=2;const t=e.dep,s=$e,o=dt;$e=e,dt=!0;try{Ai(e);const n=e.fn(e._value);(t.version===0||Lt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{$e=s,dt=o,Ti(e),e.flags&=-3}}function Ms(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)Ms(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Bc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let dt=!0;const Oi=[];function ht(){Oi.push(dt),dt=!1}function mt(){const e=Oi.pop();dt=e===void 0?!0:e}function Ri(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=$e;$e=void 0;try{t()}finally{$e=s}}}let mn=0;class Kc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Is{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!$e||!dt||$e===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==$e)s=this.activeLink=new Kc($e,this),$e.deps?(s.prevDep=$e.depsTail,$e.depsTail.nextDep=s,$e.depsTail=s):$e.deps=$e.depsTail=s,vi(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=$e.depsTail,s.nextDep=void 0,$e.depsTail.nextDep=s,$e.depsTail=s,$e.deps===s&&($e.deps=o)}return s}trigger(t){this.version++,mn++,this.notify(t)}notify(t){xs();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ns()}}}function vi(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)vi(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ks=new WeakMap,Ht=Symbol(""),ws=Symbol(""),gn=Symbol("");function We(e,t,s){if(dt&&$e){let o=ks.get(e);o||ks.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new Is),n.map=o,n.key=s),n.track()}}function vt(e,t,s,o,n,a){const l=ks.get(e);if(!l){mn++;return}const d=p=>{p&&p.trigger()};if(xs(),t==="clear")l.forEach(d);else{const p=ge(e),_=p&&Ts(s);if(p&&s==="length"){const f=Number(o);l.forEach((c,g)=>{(g==="length"||g===gn||!ct(g)&&g>=f)&&d(c)})}else switch((s!==void 0||l.has(void 0))&&d(l.get(s)),_&&d(l.get(gn)),t){case"add":p?_&&d(l.get("length")):(d(l.get(Ht)),zt(e)&&d(l.get(ws)));break;case"delete":p||(d(l.get(Ht)),zt(e)&&d(l.get(ws)));break;case"set":zt(e)&&d(l.get(Ht));break}}Ns()}function Zt(e){const t=ve(e);return t===e?t:(We(t,"iterate",gn),rt(e)?t:t.map(je))}function Vn(e){return We(e=ve(e),"iterate",gn),e}const jc={__proto__:null,[Symbol.iterator](){return $s(this,Symbol.iterator,je)},concat(...e){return Zt(this).concat(...e.map(t=>ge(t)?Zt(t):t))},entries(){return $s(this,"entries",e=>(e[1]=je(e[1]),e))},every(e,t){return xt(this,"every",e,t,void 0,arguments)},filter(e,t){return xt(this,"filter",e,t,s=>s.map(je),arguments)},find(e,t){return xt(this,"find",e,t,je,arguments)},findIndex(e,t){return xt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xt(this,"findLast",e,t,je,arguments)},findLastIndex(e,t){return xt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Us(this,"includes",e)},indexOf(...e){return Us(this,"indexOf",e)},join(e){return Zt(this).join(e)},lastIndexOf(...e){return Us(this,"lastIndexOf",e)},map(e,t){return xt(this,"map",e,t,void 0,arguments)},pop(){return Sn(this,"pop")},push(...e){return Sn(this,"push",e)},reduce(e,...t){return xi(this,"reduce",e,t)},reduceRight(e,...t){return xi(this,"reduceRight",e,t)},shift(){return Sn(this,"shift")},some(e,t){return xt(this,"some",e,t,void 0,arguments)},splice(...e){return Sn(this,"splice",e)},toReversed(){return Zt(this).toReversed()},toSorted(e){return Zt(this).toSorted(e)},toSpliced(...e){return Zt(this).toSpliced(...e)},unshift(...e){return Sn(this,"unshift",e)},values(){return $s(this,"values",je)}};function $s(e,t,s){const o=Vn(e),n=o[t]();return o!==e&&!rt(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const Jc=Array.prototype;function xt(e,t,s,o,n,a){const l=Vn(e),d=l!==e&&!rt(e),p=l[t];if(p!==Jc[t]){const c=p.apply(e,a);return d?je(c):c}let _=s;l!==e&&(d?_=function(c,g){return s.call(this,je(c),g,e)}:s.length>2&&(_=function(c,g){return s.call(this,c,g,e)}));const f=p.call(l,_,o);return d&&n?n(f):f}function xi(e,t,s,o){const n=Vn(e);let a=s;return n!==e&&(rt(e)?s.length>3&&(a=function(l,d,p){return s.call(this,l,d,p,e)}):a=function(l,d,p){return s.call(this,l,je(d),p,e)}),n[t](a,...o)}function Us(e,t,s){const o=ve(e);We(o,"iterate",gn);const n=o[t](...s);return(n===-1||n===!1)&&Ys(s[0])?(s[0]=ve(s[0]),o[t](...s)):n}function Sn(e,t,s=[]){ht(),xs();const o=ve(e)[t].apply(e,s);return Ns(),mt(),o}const Wc=Es("__proto__,__v_isRef,__isVue"),Ni=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ct));function qc(e){ct(e)||(e=String(e));const t=ve(this);return We(t,"has",e),t.hasOwnProperty(e)}class Pi{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return o===(n?a?Ui:$i:a?wi:ki).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=ge(t);if(!n){let p;if(l&&(p=jc[s]))return p;if(s==="hasOwnProperty")return qc}const d=Reflect.get(t,s,Je(t)?t:o);if((ct(s)?Ni.has(s):Wc(s))||(n||We(t,"get",s),a))return d;if(Je(d)){const p=l&&Ts(s)?d:d.value;return n&&we(p)?Ls(p):p}return we(d)?n?Ls(d):Ue(d):d}}class Mi extends Pi{constructor(t=!1){super(!1,t)}set(t,s,o,n){let a=t[s];if(!this._isShallow){const p=Xt(a);if(!rt(o)&&!Xt(o)&&(a=ve(a),o=ve(o)),!ge(t)&&Je(a)&&!Je(o))return p||(a.value=o),!0}const l=ge(t)&&Ts(s)?Number(s)<t.length:Ne(t,s),d=Reflect.set(t,s,o,Je(t)?t:n);return t===ve(n)&&(l?Lt(o,a)&&vt(t,"set",s,o):vt(t,"add",s,o)),d}deleteProperty(t,s){const o=Ne(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&vt(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!ct(s)||!Ni.has(s))&&We(t,"has",s),o}ownKeys(t){return We(t,"iterate",ge(t)?"length":Ht),Reflect.ownKeys(t)}}class Ii extends Pi{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const zc=new Mi,Qc=new Ii,Zc=new Mi(!0),ed=new Ii(!0),Ds=e=>e,Hn=e=>Reflect.getPrototypeOf(e);function td(e,t,s){return function(...o){const n=this.__v_raw,a=ve(n),l=zt(a),d=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,_=n[e](...o),f=s?Ds:t?Jn:je;return!t&&We(a,"iterate",p?ws:Ht),{next(){const{value:c,done:g}=_.next();return g?{value:c,done:g}:{value:d?[f(c[0]),f(c[1])]:f(c),done:g}},[Symbol.iterator](){return this}}}}function Bn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function nd(e,t){const s={get(n){const a=this.__v_raw,l=ve(a),d=ve(n);e||(Lt(n,d)&&We(l,"get",n),We(l,"get",d));const{has:p}=Hn(l),_=t?Ds:e?Jn:je;if(p.call(l,n))return _(a.get(n));if(p.call(l,d))return _(a.get(d));a!==l&&a.get(n)},get size(){const n=this.__v_raw;return!e&&We(ve(n),"iterate",Ht),n.size},has(n){const a=this.__v_raw,l=ve(a),d=ve(n);return e||(Lt(n,d)&&We(l,"has",n),We(l,"has",d)),n===d?a.has(n):a.has(n)||a.has(d)},forEach(n,a){const l=this,d=l.__v_raw,p=ve(d),_=t?Ds:e?Jn:je;return!e&&We(p,"iterate",Ht),d.forEach((f,c)=>n.call(a,_(f),_(c),l))}};return ze(s,e?{add:Bn("add"),set:Bn("set"),delete:Bn("delete"),clear:Bn("clear")}:{add(n){!t&&!rt(n)&&!Xt(n)&&(n=ve(n));const a=ve(this);return Hn(a).has.call(a,n)||(a.add(n),vt(a,"add",n,n)),this},set(n,a){!t&&!rt(a)&&!Xt(a)&&(a=ve(a));const l=ve(this),{has:d,get:p}=Hn(l);let _=d.call(l,n);_||(n=ve(n),_=d.call(l,n));const f=p.call(l,n);return l.set(n,a),_?Lt(a,f)&&vt(l,"set",n,a):vt(l,"add",n,a),this},delete(n){const a=ve(this),{has:l,get:d}=Hn(a);let p=l.call(a,n);p||(n=ve(n),p=l.call(a,n)),d&&d.call(a,n);const _=a.delete(n);return p&&vt(a,"delete",n,void 0),_},clear(){const n=ve(this),a=n.size!==0,l=n.clear();return a&&vt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=td(n,e,t)}),s}function Kn(e,t){const s=nd(e,t);return(o,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(Ne(s,n)&&n in o?s:o,n,a)}const sd={get:Kn(!1,!1)},id={get:Kn(!1,!0)},od={get:Kn(!0,!1)},ad={get:Kn(!0,!0)},ki=new WeakMap,wi=new WeakMap,$i=new WeakMap,Ui=new WeakMap;function rd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ld(e){return e.__v_skip||!Object.isExtensible(e)?0:rd(wc(e))}function Ue(e){return Xt(e)?e:jn(e,!1,zc,sd,ki)}function cd(e){return jn(e,!1,Zc,id,wi)}function Ls(e){return jn(e,!0,Qc,od,$i)}function bR(e){return jn(e,!0,ed,ad,Ui)}function jn(e,t,s,o,n){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=ld(e);if(a===0)return e;const l=n.get(e);if(l)return l;const d=new Proxy(e,a===2?o:s);return n.set(e,d),d}function en(e){return Xt(e)?en(e.__v_raw):!!(e&&e.__v_isReactive)}function Xt(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function Ys(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function dd(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&fi(e,"__v_skip",!0),e}const je=e=>we(e)?Ue(e):e,Jn=e=>we(e)?Ls(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function Ve(e){return ud(e,!1)}function ud(e,t){return Je(e)?e:new pd(e,t)}class pd{constructor(t,s){this.dep=new Is,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:ve(t),this._value=s?t:je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||rt(t)||Xt(t);t=o?t:ve(t),Lt(t,s)&&(this._rawValue=t,this._value=o?t:je(t),this.dep.trigger())}}function r(e){return Je(e)?e.value:e}const _d={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return Je(n)&&!Je(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function Di(e){return en(e)?e:new Proxy(e,_d)}class fd{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Is(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=mn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&$e!==this)return bi(this,!0),!0}get value(){const t=this.dep.track();return yi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function hd(e,t,s=!1){let o,n;return Ae(e)?o=e:(o=e.get,n=e.set),new fd(o,n,s)}const Wn={},qn=new WeakMap;let Bt;function md(e,t=!1,s=Bt){if(s){let o=qn.get(s);o||qn.set(s,o=[]),o.push(e)}}function gd(e,t,s=ke){const{immediate:o,deep:n,once:a,scheduler:l,augmentJob:d,call:p}=s,_=P=>n?P:rt(P)||n===!1||n===0?Nt(P,1):Nt(P);let f,c,g,v,k=!1,O=!1;if(Je(e)?(c=()=>e.value,k=rt(e)):en(e)?(c=()=>_(e),k=!0):ge(e)?(O=!0,k=e.some(P=>en(P)||rt(P)),c=()=>e.map(P=>{if(Je(P))return P.value;if(en(P))return _(P);if(Ae(P))return p?p(P,2):P()})):Ae(e)?t?c=p?()=>p(e,2):e:c=()=>{if(g){ht();try{g()}finally{mt()}}const P=Bt;Bt=f;try{return p?p(e,3,[v]):e(v)}finally{Bt=P}}:c=ft,t&&n){const P=c,U=n===!0?1/0:n;c=()=>Nt(P(),U)}const N=Hc(),T=()=>{f.stop(),N&&N.active&&As(N.effects,f)};if(a&&t){const P=t;t=(...U)=>{P(...U),T()}}let z=O?new Array(e.length).fill(Wn):Wn;const G=P=>{if(!(!(f.flags&1)||!f.dirty&&!P))if(t){const U=f.run();if(n||k||(O?U.some((ae,re)=>Lt(ae,z[re])):Lt(U,z))){g&&g();const ae=Bt;Bt=f;try{const re=[U,z===Wn?void 0:O&&z[0]===Wn?[]:z,v];z=U,p?p(t,3,re):t(...re)}finally{Bt=ae}}}else f.run()};return d&&d(G),f=new Ci(c),f.scheduler=l?()=>l(G,!1):G,v=P=>md(P,!1,f),g=f.onStop=()=>{const P=qn.get(f);if(P){if(p)p(P,4);else for(const U of P)U();qn.delete(f)}},t?o?G(!0):z=f.run():l?l(G.bind(null,!0),!0):f.run(),T.pause=f.pause.bind(f),T.resume=f.resume.bind(f),T.stop=T,T}function Nt(e,t=1/0,s){if(t<=0||!we(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Je(e))Nt(e.value,t,s);else if(ge(e))for(let o=0;o<e.length;o++)Nt(e[o],t,s);else if(Qt(e)||zt(e))e.forEach(o=>{Nt(o,t,s)});else if(pi(e)){for(const o in e)Nt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Nt(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Cn=[];let Xs=!1;function AR(e,...t){if(Xs)return;Xs=!0,ht();const s=Cn.length?Cn[Cn.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=Sd();if(o)tn(o,s,11,[e+t.map(a=>{var l,d;return(d=(l=a.toString)==null?void 0:l.call(a))!=null?d:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${ko(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,...Cd(n)),console.warn(...a)}mt(),Xs=!1}function Sd(){let e=Cn[Cn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function Cd(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...Ed(s))}),t}function Ed({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${ko(e.component,e.type,o)}`,a=">"+s;return e.props?[n,...bd(e.props),a]:[n+a]}function bd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...Li(o,e[o]))}),s.length>3&&t.push(" ..."),t}function Li(e,t,s){return Xe(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Je(t)?(t=Li(e,ve(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Ae(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=ve(t),s?t:[`${e}=`,t])}function tn(e,t,s,o){try{return o?e(...o):e()}catch(n){zn(n,t,s)}}function gt(e,t,s,o){if(Ae(e)){const n=tn(e,t,s,o);return n&&di(n)&&n.catch(a=>{zn(a,t,s)}),n}if(ge(e)){const n=[];for(let a=0;a<e.length;a++)n.push(gt(e[a],t,s,o));return n}}function zn(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||ke;if(t){let d=t.parent;const p=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;d;){const f=d.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](e,p,_)===!1)return}d=d.parent}if(a){ht(),tn(a,null,10,[e,p,_]),mt();return}}Ad(e,s,n,o,l)}function Ad(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Qe=[];let St=-1;const nn=[];let Ft=null,sn=0;const Yi=Promise.resolve();let Qn=null;function Xi(e){const t=Qn||Yi;return e?t.then(this?e.bind(this):e):t}function Td(e){let t=St+1,s=Qe.length;for(;t<s;){const o=t+s>>>1,n=Qe[o],a=En(n);a<e||a===e&&n.flags&2?t=o+1:s=o}return t}function Fs(e){if(!(e.flags&1)){const t=En(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=En(s)?Qe.push(e):Qe.splice(Td(t),0,e),e.flags|=1,Fi()}}function Fi(){Qn||(Qn=Yi.then(Hi))}function yd(e){ge(e)?nn.push(...e):Ft&&e.id===-1?Ft.splice(sn+1,0,e):e.flags&1||(nn.push(e),e.flags|=1),Fi()}function Gi(e,t,s=St+1){for(;s<Qe.length;s++){const o=Qe[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Qe.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Vi(e){if(nn.length){const t=[...new Set(nn)].sort((s,o)=>En(s)-En(o));if(nn.length=0,Ft){Ft.push(...t);return}for(Ft=t,sn=0;sn<Ft.length;sn++){const s=Ft[sn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ft=null,sn=0}}const En=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Hi(e){try{for(St=0;St<Qe.length;St++){const t=Qe[St];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),tn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;St<Qe.length;St++){const t=Qe[St];t&&(t.flags&=-2)}St=-1,Qe.length=0,Vi(),Qn=null,(Qe.length||nn.length)&&Hi()}}let qe=null,Bi=null;function Zn(e){const t=qe;return qe=e,Bi=e&&e.type.__scopeId||null,t}function Ki(e,t=qe,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&Ro(-1);const a=Zn(t);let l;try{l=e(...n)}finally{Zn(a),o._d&&Ro(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function ne(e,t){if(qe===null)return e;const s=cs(qe),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,l,d,p=ke]=t[n];a&&(Ae(a)&&(a={mounted:a,updated:a}),a.deep&&Nt(l),o.push({dir:a,instance:s,value:l,oldValue:void 0,arg:d,modifiers:p}))}return e}function Kt(e,t,s,o){const n=e.dirs,a=t&&t.dirs;for(let l=0;l<n.length;l++){const d=n[l];a&&(d.oldValue=a[l].value);let p=d.dir[o];p&&(ht(),gt(p,s,8,[e.el,d,e,t]),mt())}}const Od=Symbol("_vte"),Rd=e=>e.__isTeleport,vd=Symbol("_leaveCb");function Gs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Gs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ji(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const es=new WeakMap;function bn(e,t,s,o,n=!1){if(ge(e)){e.forEach((k,O)=>bn(k,t&&(ge(t)?t[O]:t),s,o,n));return}if(on(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&bn(e,t,s,o.component.subTree);return}const a=o.shapeFlag&4?cs(o.component):o.el,l=n?null:a,{i:d,r:p}=e,_=t&&t.r,f=d.refs===ke?d.refs={}:d.refs,c=d.setupState,g=ve(c),v=c===ke?li:k=>Ne(g,k);if(_!=null&&_!==p){if(Ji(t),Xe(_))f[_]=null,v(_)&&(c[_]=null);else if(Je(_)){_.value=null;const k=t;k.k&&(f[k.k]=null)}}if(Ae(p))tn(p,d,12,[l,f]);else{const k=Xe(p),O=Je(p);if(k||O){const N=()=>{if(e.f){const T=k?v(p)?c[p]:f[p]:p.value;if(n)ge(T)&&As(T,a);else if(ge(T))T.includes(a)||T.push(a);else if(k)f[p]=[a],v(p)&&(c[p]=f[p]);else{const z=[a];p.value=z,e.k&&(f[e.k]=z)}}else k?(f[p]=l,v(p)&&(c[p]=l)):O&&(p.value=l,e.k&&(f[e.k]=l))};if(l){const T=()=>{N(),es.delete(e)};T.id=-1,es.set(e,T),it(T,s)}else Ji(e),N()}}}function Ji(e){const t=es.get(e);t&&(t.flags|=8,es.delete(e))}Gn().requestIdleCallback,Gn().cancelIdleCallback;const on=e=>!!e.type.__asyncLoader,Wi=e=>e.type.__isKeepAlive;function xd(e,t){qi(e,"a",t)}function Nd(e,t){qi(e,"da",t)}function qi(e,t,s=et){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(ts(t,o,s),s){let n=s.parent;for(;n&&n.parent;)Wi(n.parent.vnode)&&Pd(o,t,s,n),n=n.parent}}function Pd(e,t,s,o){const n=ts(t,e,o,!0);Qi(()=>{As(o[t],n)},s)}function ts(e,t,s=et,o=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...l)=>{ht();const d=vn(s),p=gt(t,s,e,l);return d(),mt(),p});return o?n.unshift(a):n.push(a),a}}const Pt=e=>(t,s=et)=>{(!xn||e==="sp")&&ts(e,(...o)=>t(...o),s)},Md=Pt("bm"),st=Pt("m"),Id=Pt("bu"),kd=Pt("u"),zi=Pt("bum"),Qi=Pt("um"),wd=Pt("sp"),$d=Pt("rtg"),Ud=Pt("rtc");function Dd(e,t=et){ts("ec",e,t)}const Ld=Symbol.for("v-ndc");function Re(e,t,s,o){let n;const a=s,l=ge(e);if(l||Xe(e)){const d=l&&en(e);let p=!1,_=!1;d&&(p=!rt(e),_=Xt(e),e=Vn(e)),n=new Array(e.length);for(let f=0,c=e.length;f<c;f++)n[f]=t(p?_?Jn(je(e[f])):je(e[f]):e[f],f,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let d=0;d<e;d++)n[d]=t(d+1,d,void 0,a)}else if(we(e))if(e[Symbol.iterator])n=Array.from(e,(d,p)=>t(d,p,void 0,a));else{const d=Object.keys(e);n=new Array(d.length);for(let p=0,_=d.length;p<_;p++){const f=d[p];n[p]=t(e[f],f,p,a)}}else n=[];return n}function Yd(e,t,s={},o,n){if(qe.ce||qe.parent&&on(qe.parent)&&qe.parent.ce){const _=Object.keys(s).length>0;return y(),lt(Ce,null,[He("slot",s,o)],_?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),y();const l=a&&Zi(a(s)),d=s.key||l&&l.key,p=lt(Ce,{key:(d&&!ct(d)?d:`_${t}`)+(!l&&o?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function Zi(e){return e.some(t=>zs(t)?!(t.type===Mt||t.type===Ce&&!Zi(t.children)):!0)?e:null}const Vs=e=>e?Po(e)?cs(e):Vs(e.parent):null,An=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Vs(e.parent),$root:e=>Vs(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>so(e),$forceUpdate:e=>e.f||(e.f=()=>{Fs(e.update)}),$nextTick:e=>e.n||(e.n=Xi.bind(e.proxy)),$watch:e=>ru.bind(e)}),Hs=(e,t)=>e!==ke&&!e.__isScriptSetup&&Ne(e,t),Xd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:a,accessCache:l,type:d,appContext:p}=e;let _;if(t[0]!=="$"){const v=l[t];if(v!==void 0)switch(v){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(Hs(o,t))return l[t]=1,o[t];if(n!==ke&&Ne(n,t))return l[t]=2,n[t];if((_=e.propsOptions[0])&&Ne(_,t))return l[t]=3,a[t];if(s!==ke&&Ne(s,t))return l[t]=4,s[t];Bs&&(l[t]=0)}}const f=An[t];let c,g;if(f)return t==="$attrs"&&We(e.attrs,"get",""),f(e);if((c=d.__cssModules)&&(c=c[t]))return c;if(s!==ke&&Ne(s,t))return l[t]=4,s[t];if(g=p.config.globalProperties,Ne(g,t))return g[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:a}=e;return Hs(n,t)?(n[t]=s,!0):o!==ke&&Ne(o,t)?(o[t]=s,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:a,type:l}},d){let p,_;return!!(s[d]||e!==ke&&d[0]!=="$"&&Ne(e,d)||Hs(t,d)||(p=a[0])&&Ne(p,d)||Ne(o,d)||Ne(An,d)||Ne(n.config.globalProperties,d)||(_=l.__cssModules)&&_[d])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ne(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function eo(e){return ge(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Bs=!0;function Fd(e){const t=so(e),s=e.proxy,o=e.ctx;Bs=!1,t.beforeCreate&&to(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:l,watch:d,provide:p,inject:_,created:f,beforeMount:c,mounted:g,beforeUpdate:v,updated:k,activated:O,deactivated:N,beforeDestroy:T,beforeUnmount:z,destroyed:G,unmounted:P,render:U,renderTracked:ae,renderTriggered:re,errorCaptured:de,serverPrefetch:me,expose:j,inheritAttrs:H,components:Q,directives:F,filters:ie}=t;if(_&&Gd(_,o,null),l)for(const ee in l){const M=l[ee];Ae(M)&&(o[ee]=M.bind(s))}if(n){const ee=n.call(s,s);we(ee)&&(e.data=Ue(ee))}if(Bs=!0,a)for(const ee in a){const M=a[ee],D=Ae(M)?M.bind(s,s):Ae(M.get)?M.get.bind(s,s):ft,Y=!Ae(M)&&Ae(M.set)?M.set.bind(s):ft,I=Se({get:D,set:Y});Object.defineProperty(o,ee,{enumerable:!0,configurable:!0,get:()=>I.value,set:V=>I.value=V})}if(d)for(const ee in d)no(d[ee],o,s,ee);if(p){const ee=Ae(p)?p.call(s):p;Reflect.ownKeys(ee).forEach(M=>{Jd(M,ee[M])})}f&&to(f,e,"c");function oe(ee,M){ge(M)?M.forEach(D=>ee(D.bind(s))):M&&ee(M.bind(s))}if(oe(Md,c),oe(st,g),oe(Id,v),oe(kd,k),oe(xd,O),oe(Nd,N),oe(Dd,de),oe(Ud,ae),oe($d,re),oe(zi,z),oe(Qi,P),oe(wd,me),ge(j))if(j.length){const ee=e.exposed||(e.exposed={});j.forEach(M=>{Object.defineProperty(ee,M,{get:()=>s[M],set:D=>s[M]=D,enumerable:!0})})}else e.exposed||(e.exposed={});U&&e.render===ft&&(e.render=U),H!=null&&(e.inheritAttrs=H),Q&&(e.components=Q),F&&(e.directives=F),me&&ji(e)}function Gd(e,t,s=ft){ge(e)&&(e=Ks(e));for(const o in e){const n=e[o];let a;we(n)?"default"in n?a=ss(n.from||o,n.default,!0):a=ss(n.from||o):a=ss(n),Je(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function to(e,t,s){gt(ge(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function no(e,t,s,o){let n=o.includes(".")?bo(s,o):()=>s[o];if(Xe(e)){const a=t[e];Ae(a)&&Ye(n,a)}else if(Ae(e))Ye(n,e.bind(s));else if(we(e))if(ge(e))e.forEach(a=>no(a,t,s,o));else{const a=Ae(e.handler)?e.handler.bind(s):t[e.handler];Ae(a)&&Ye(n,a,e)}}function so(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,d=a.get(t);let p;return d?p=d:!n.length&&!s&&!o?p=t:(p={},n.length&&n.forEach(_=>ns(p,_,l,!0)),ns(p,t,l)),we(t)&&a.set(t,p),p}function ns(e,t,s,o=!1){const{mixins:n,extends:a}=t;a&&ns(e,a,s,!0),n&&n.forEach(l=>ns(e,l,s,!0));for(const l in t)if(!(o&&l==="expose")){const d=Vd[l]||s&&s[l];e[l]=d?d(e[l],t[l]):t[l]}return e}const Vd={data:io,props:oo,emits:oo,methods:Tn,computed:Tn,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:Tn,directives:Tn,watch:Bd,provide:io,inject:Hd};function io(e,t){return t?e?function(){return ze(Ae(e)?e.call(this,this):e,Ae(t)?t.call(this,this):t)}:t:e}function Hd(e,t){return Tn(Ks(e),Ks(t))}function Ks(e){if(ge(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function Tn(e,t){return e?ze(Object.create(null),e,t):t}function oo(e,t){return e?ge(e)&&ge(t)?[...new Set([...e,...t])]:ze(Object.create(null),eo(e),eo(t!=null?t:{})):t}function Bd(e,t){if(!e)return t;if(!t)return e;const s=ze(Object.create(null),e);for(const o in t)s[o]=Ze(e[o],t[o]);return s}function ao(){return{app:null,config:{isNativeTag:li,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kd=0;function jd(e,t){return function(o,n=null){Ae(o)||(o=ze({},o)),n!=null&&!we(n)&&(n=null);const a=ao(),l=new WeakSet,d=[];let p=!1;const _=a.app={_uid:Kd++,_component:o,_props:n,_container:null,_context:a,_instance:null,version:ku,get config(){return a.config},set config(f){},use(f,...c){return l.has(f)||(f&&Ae(f.install)?(l.add(f),f.install(_,...c)):Ae(f)&&(l.add(f),f(_,...c))),_},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),_},component(f,c){return c?(a.components[f]=c,_):a.components[f]},directive(f,c){return c?(a.directives[f]=c,_):a.directives[f]},mount(f,c,g){if(!p){const v=_._ceVNode||He(o,n);return v.appContext=a,g===!0?g="svg":g===!1&&(g=void 0),e(v,f,g),p=!0,_._container=f,f.__vue_app__=_,cs(v.component)}},onUnmount(f){d.push(f)},unmount(){p&&(gt(d,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(f,c){return a.provides[f]=c,_},runWithContext(f){const c=an;an=_;try{return f()}finally{an=c}}};return _}}let an=null;function Jd(e,t){if(et){let s=et.provides;const o=et.parent&&et.parent.provides;o===s&&(s=et.provides=Object.create(o)),s[e]=t}}function ss(e,t,s=!1){const o=yu();if(o||an){let n=an?an._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ae(t)?t.call(o&&o.proxy):t}}const ro={},lo=()=>Object.create(ro),co=e=>Object.getPrototypeOf(e)===ro;function Wd(e,t,s,o=!1){const n={},a=lo();e.propsDefaults=Object.create(null),uo(e,t,n,a);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=o?n:cd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function qd(e,t,s,o){const{props:n,attrs:a,vnode:{patchFlag:l}}=e,d=ve(n),[p]=e.propsOptions;let _=!1;if((o||l>0)&&!(l&16)){if(l&8){const f=e.vnode.dynamicProps;for(let c=0;c<f.length;c++){let g=f[c];if(is(e.emitsOptions,g))continue;const v=t[g];if(p)if(Ne(a,g))v!==a[g]&&(a[g]=v,_=!0);else{const k=Ut(g);n[k]=js(p,d,k,v,e,!1)}else v!==a[g]&&(a[g]=v,_=!0)}}}else{uo(e,t,n,a)&&(_=!0);let f;for(const c in d)(!t||!Ne(t,c)&&((f=Dt(c))===c||!Ne(t,f)))&&(p?s&&(s[c]!==void 0||s[f]!==void 0)&&(n[c]=js(p,d,c,void 0,e,!0)):delete n[c]);if(a!==d)for(const c in a)(!t||!Ne(t,c))&&(delete a[c],_=!0)}_&&vt(e.attrs,"set","")}function uo(e,t,s,o){const[n,a]=e.propsOptions;let l=!1,d;if(t)for(let p in t){if(pn(p))continue;const _=t[p];let f;n&&Ne(n,f=Ut(p))?!a||!a.includes(f)?s[f]=_:(d||(d={}))[f]=_:is(e.emitsOptions,p)||(!(p in o)||_!==o[p])&&(o[p]=_,l=!0)}if(a){const p=ve(s),_=d||ke;for(let f=0;f<a.length;f++){const c=a[f];s[c]=js(n,p,c,_[c],e,!Ne(_,c))}}return l}function js(e,t,s,o,n,a){const l=e[s];if(l!=null){const d=Ne(l,"default");if(d&&o===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&Ae(p)){const{propsDefaults:_}=n;if(s in _)o=_[s];else{const f=vn(n);o=_[s]=p.call(null,t),f()}}else o=p;n.ce&&n.ce._setProp(s,o)}l[0]&&(a&&!d?o=!1:l[1]&&(o===""||o===Dt(s))&&(o=!0))}return o}const zd=new WeakMap;function po(e,t,s=!1){const o=s?zd:t.propsCache,n=o.get(e);if(n)return n;const a=e.props,l={},d=[];let p=!1;if(!Ae(e)){const f=c=>{p=!0;const[g,v]=po(c,t,!0);ze(l,g),v&&d.push(...v)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!p)return we(e)&&o.set(e,qt),qt;if(ge(a))for(let f=0;f<a.length;f++){const c=Ut(a[f]);_o(c)&&(l[c]=ke)}else if(a)for(const f in a){const c=Ut(f);if(_o(c)){const g=a[f],v=l[c]=ge(g)||Ae(g)?{type:g}:ze({},g),k=v.type;let O=!1,N=!0;if(ge(k))for(let T=0;T<k.length;++T){const z=k[T],G=Ae(z)&&z.name;if(G==="Boolean"){O=!0;break}else G==="String"&&(N=!1)}else O=Ae(k)&&k.name==="Boolean";v[0]=O,v[1]=N,(O||Ne(v,"default"))&&d.push(c)}}const _=[l,d];return we(e)&&o.set(e,_),_}function _o(e){return e[0]!=="$"&&!pn(e)}const Js=e=>e==="_"||e==="_ctx"||e==="$stable",Ws=e=>ge(e)?e.map(Ct):[Ct(e)],Qd=(e,t,s)=>{if(t._n)return t;const o=Ki((...n)=>Ws(t(...n)),s);return o._c=!1,o},fo=(e,t,s)=>{const o=e._ctx;for(const n in e){if(Js(n))continue;const a=e[n];if(Ae(a))t[n]=Qd(n,a,o);else if(a!=null){const l=Ws(a);t[n]=()=>l}}},ho=(e,t)=>{const s=Ws(t);e.slots.default=()=>s},mo=(e,t,s)=>{for(const o in t)(s||!Js(o))&&(e[o]=t[o])},Zd=(e,t,s)=>{const o=e.slots=lo();if(e.vnode.shapeFlag&32){const n=t._;n?(mo(o,t,s),s&&fi(o,"_",n,!0)):fo(t,o)}else t&&ho(e,t)},eu=(e,t,s)=>{const{vnode:o,slots:n}=e;let a=!0,l=ke;if(o.shapeFlag&32){const d=t._;d?s&&d===1?a=!1:mo(n,t,s):(a=!t.$stable,fo(t,n)),l=t}else t&&(ho(e,t),l={default:1});if(a)for(const d in n)!Js(d)&&l[d]==null&&delete n[d]},it=hu;function tu(e){return nu(e)}function nu(e,t){const s=Gn();s.__VUE__=!0;const{insert:o,remove:n,patchProp:a,createElement:l,createText:d,createComment:p,setText:_,setElementText:f,parentNode:c,nextSibling:g,setScopeId:v=ft,insertStaticContent:k}=e,O=(h,A,L,K=null,q=null,J=null,b=void 0,m=null,E=!!A.dynamicChildren)=>{if(h===A)return;h&&!Rn(h,A)&&(K=se(h),V(h,q,J,!0),h=null),A.patchFlag===-2&&(E=!1,A.dynamicChildren=null);const{type:R,ref:X,shapeFlag:$}=A;switch(R){case os:N(h,A,L,K);break;case Mt:T(h,A,L,K);break;case as:h==null&&z(A,L,K,b);break;case Ce:Q(h,A,L,K,q,J,b,m,E);break;default:$&1?U(h,A,L,K,q,J,b,m,E):$&6?F(h,A,L,K,q,J,b,m,E):($&64||$&128)&&R.process(h,A,L,K,q,J,b,m,E,S)}X!=null&&q?bn(X,h&&h.ref,J,A||h,!A):X==null&&h&&h.ref!=null&&bn(h.ref,null,J,h,!0)},N=(h,A,L,K)=>{if(h==null)o(A.el=d(A.children),L,K);else{const q=A.el=h.el;A.children!==h.children&&_(q,A.children)}},T=(h,A,L,K)=>{h==null?o(A.el=p(A.children||""),L,K):A.el=h.el},z=(h,A,L,K)=>{[h.el,h.anchor]=k(h.children,A,L,K,h.el,h.anchor)},G=({el:h,anchor:A},L,K)=>{let q;for(;h&&h!==A;)q=g(h),o(h,L,K),h=q;o(A,L,K)},P=({el:h,anchor:A})=>{let L;for(;h&&h!==A;)L=g(h),n(h),h=L;n(A)},U=(h,A,L,K,q,J,b,m,E)=>{A.type==="svg"?b="svg":A.type==="math"&&(b="mathml"),h==null?ae(A,L,K,q,J,b,m,E):me(h,A,q,J,b,m,E)},ae=(h,A,L,K,q,J,b,m)=>{let E,R;const{props:X,shapeFlag:$,transition:te,dirs:B}=h;if(E=h.el=l(h.type,J,X&&X.is,X),$&8?f(E,h.children):$&16&&de(h.children,E,null,K,q,qs(h,J),b,m),B&&Kt(h,null,K,"created"),re(E,h,h.scopeId,b,K),X){for(const fe in X)fe!=="value"&&!pn(fe)&&a(E,fe,null,X[fe],J,K);"value"in X&&a(E,"value",null,X.value,J),(R=X.onVnodeBeforeMount)&&Et(R,K,h)}B&&Kt(h,null,K,"beforeMount");const ce=su(q,te);ce&&te.beforeEnter(E),o(E,A,L),((R=X&&X.onVnodeMounted)||ce||B)&&it(()=>{R&&Et(R,K,h),ce&&te.enter(E),B&&Kt(h,null,K,"mounted")},q)},re=(h,A,L,K,q)=>{if(L&&v(h,L),K)for(let J=0;J<K.length;J++)v(h,K[J]);if(q){let J=q.subTree;if(A===J||Oo(J.type)&&(J.ssContent===A||J.ssFallback===A)){const b=q.vnode;re(h,b,b.scopeId,b.slotScopeIds,q.parent)}}},de=(h,A,L,K,q,J,b,m,E=0)=>{for(let R=E;R<h.length;R++){const X=h[R]=m?Gt(h[R]):Ct(h[R]);O(null,X,A,L,K,q,J,b,m)}},me=(h,A,L,K,q,J,b)=>{const m=A.el=h.el;let{patchFlag:E,dynamicChildren:R,dirs:X}=A;E|=h.patchFlag&16;const $=h.props||ke,te=A.props||ke;let B;if(L&&jt(L,!1),(B=te.onVnodeBeforeUpdate)&&Et(B,L,A,h),X&&Kt(A,h,L,"beforeUpdate"),L&&jt(L,!0),($.innerHTML&&te.innerHTML==null||$.textContent&&te.textContent==null)&&f(m,""),R?j(h.dynamicChildren,R,m,L,K,qs(A,q),J):b||M(h,A,m,null,L,K,qs(A,q),J,!1),E>0){if(E&16)H(m,$,te,L,q);else if(E&2&&$.class!==te.class&&a(m,"class",null,te.class,q),E&4&&a(m,"style",$.style,te.style,q),E&8){const ce=A.dynamicProps;for(let fe=0;fe<ce.length;fe++){const he=ce[fe],ye=$[he],xe=te[he];(xe!==ye||he==="value")&&a(m,he,ye,xe,q,L)}}E&1&&h.children!==A.children&&f(m,A.children)}else!b&&R==null&&H(m,$,te,L,q);((B=te.onVnodeUpdated)||X)&&it(()=>{B&&Et(B,L,A,h),X&&Kt(A,h,L,"updated")},K)},j=(h,A,L,K,q,J,b)=>{for(let m=0;m<A.length;m++){const E=h[m],R=A[m],X=E.el&&(E.type===Ce||!Rn(E,R)||E.shapeFlag&198)?c(E.el):L;O(E,R,X,null,K,q,J,b,!0)}},H=(h,A,L,K,q)=>{if(A!==L){if(A!==ke)for(const J in A)!pn(J)&&!(J in L)&&a(h,J,A[J],null,q,K);for(const J in L){if(pn(J))continue;const b=L[J],m=A[J];b!==m&&J!=="value"&&a(h,J,m,b,q,K)}"value"in L&&a(h,"value",A.value,L.value,q)}},Q=(h,A,L,K,q,J,b,m,E)=>{const R=A.el=h?h.el:d(""),X=A.anchor=h?h.anchor:d("");let{patchFlag:$,dynamicChildren:te,slotScopeIds:B}=A;B&&(m=m?m.concat(B):B),h==null?(o(R,L,K),o(X,L,K),de(A.children||[],L,X,q,J,b,m,E)):$>0&&$&64&&te&&h.dynamicChildren?(j(h.dynamicChildren,te,L,q,J,b,m),(A.key!=null||q&&A===q.subTree)&&go(h,A,!0)):M(h,A,L,X,q,J,b,m,E)},F=(h,A,L,K,q,J,b,m,E)=>{A.slotScopeIds=m,h==null?A.shapeFlag&512?q.ctx.activate(A,L,K,b,E):ie(A,L,K,q,J,b,E):_e(h,A,E)},ie=(h,A,L,K,q,J,b)=>{const m=h.component=Tu(h,K,q);if(Wi(h)&&(m.ctx.renderer=S),Ou(m,!1,b),m.asyncDep){if(q&&q.registerDep(m,oe,b),!h.el){const E=m.subTree=He(Mt);T(null,E,A,L),h.placeholder=E.el}}else oe(m,h,A,L,q,J,b)},_e=(h,A,L)=>{const K=A.component=h.component;if(_u(h,A,L))if(K.asyncDep&&!K.asyncResolved){ee(K,A,L);return}else K.next=A,K.update();else A.el=h.el,K.vnode=A},oe=(h,A,L,K,q,J,b)=>{const m=()=>{if(h.isMounted){let{next:$,bu:te,u:B,parent:ce,vnode:fe}=h;{const Ke=So(h);if(Ke){$&&($.el=fe.el,ee(h,$,b)),Ke.asyncDep.then(()=>{h.isUnmounted||m()});return}}let he=$,ye;jt(h,!1),$?($.el=fe.el,ee(h,$,b)):$=fe,te&&Xn(te),(ye=$.props&&$.props.onVnodeBeforeUpdate)&&Et(ye,ce,$,fe),jt(h,!0);const xe=To(h),Ie=h.subTree;h.subTree=xe,O(Ie,xe,c(Ie.el),se(Ie),h,q,J),$.el=xe.el,he===null&&fu(h,xe.el),B&&it(B,q),(ye=$.props&&$.props.onVnodeUpdated)&&it(()=>Et(ye,ce,$,fe),q)}else{let $;const{el:te,props:B}=A,{bm:ce,m:fe,parent:he,root:ye,type:xe}=h,Ie=on(A);jt(h,!1),ce&&Xn(ce),!Ie&&($=B&&B.onVnodeBeforeMount)&&Et($,he,A),jt(h,!0);{ye.ce&&ye.ce._def.shadowRoot!==!1&&ye.ce._injectChildStyle(xe);const Ke=h.subTree=To(h);O(null,Ke,L,K,h,q,J),A.el=Ke.el}if(fe&&it(fe,q),!Ie&&($=B&&B.onVnodeMounted)){const Ke=A;it(()=>Et($,he,Ke),q)}(A.shapeFlag&256||he&&on(he.vnode)&&he.vnode.shapeFlag&256)&&h.a&&it(h.a,q),h.isMounted=!0,A=L=K=null}};h.scope.on();const E=h.effect=new Ci(m);h.scope.off();const R=h.update=E.run.bind(E),X=h.job=E.runIfDirty.bind(E);X.i=h,X.id=h.uid,E.scheduler=()=>Fs(X),jt(h,!0),R()},ee=(h,A,L)=>{A.component=h;const K=h.vnode.props;h.vnode=A,h.next=null,qd(h,A.props,K,L),eu(h,A.children,L),ht(),Gi(h),mt()},M=(h,A,L,K,q,J,b,m,E=!1)=>{const R=h&&h.children,X=h?h.shapeFlag:0,$=A.children,{patchFlag:te,shapeFlag:B}=A;if(te>0){if(te&128){Y(R,$,L,K,q,J,b,m,E);return}else if(te&256){D(R,$,L,K,q,J,b,m,E);return}}B&8?(X&16&&be(R,q,J),$!==R&&f(L,$)):X&16?B&16?Y(R,$,L,K,q,J,b,m,E):be(R,q,J,!0):(X&8&&f(L,""),B&16&&de($,L,K,q,J,b,m,E))},D=(h,A,L,K,q,J,b,m,E)=>{h=h||qt,A=A||qt;const R=h.length,X=A.length,$=Math.min(R,X);let te;for(te=0;te<$;te++){const B=A[te]=E?Gt(A[te]):Ct(A[te]);O(h[te],B,L,null,q,J,b,m,E)}R>X?be(h,q,J,!0,!1,$):de(A,L,K,q,J,b,m,E,$)},Y=(h,A,L,K,q,J,b,m,E)=>{let R=0;const X=A.length;let $=h.length-1,te=X-1;for(;R<=$&&R<=te;){const B=h[R],ce=A[R]=E?Gt(A[R]):Ct(A[R]);if(Rn(B,ce))O(B,ce,L,null,q,J,b,m,E);else break;R++}for(;R<=$&&R<=te;){const B=h[$],ce=A[te]=E?Gt(A[te]):Ct(A[te]);if(Rn(B,ce))O(B,ce,L,null,q,J,b,m,E);else break;$--,te--}if(R>$){if(R<=te){const B=te+1,ce=B<X?A[B].el:K;for(;R<=te;)O(null,A[R]=E?Gt(A[R]):Ct(A[R]),L,ce,q,J,b,m,E),R++}}else if(R>te)for(;R<=$;)V(h[R],q,J,!0),R++;else{const B=R,ce=R,fe=new Map;for(R=ce;R<=te;R++){const De=A[R]=E?Gt(A[R]):Ct(A[R]);De.key!=null&&fe.set(De.key,R)}let he,ye=0;const xe=te-ce+1;let Ie=!1,Ke=0;const at=new Array(xe);for(R=0;R<xe;R++)at[R]=0;for(R=B;R<=$;R++){const De=h[R];if(ye>=xe){V(De,q,J,!0);continue}let Le;if(De.key!=null)Le=fe.get(De.key);else for(he=ce;he<=te;he++)if(at[he-ce]===0&&Rn(De,A[he])){Le=he;break}Le===void 0?V(De,q,J,!0):(at[Le-ce]=R+1,Le>=Ke?Ke=Le:Ie=!0,O(De,A[Le],L,null,q,J,b,m,E),ye++)}const Ge=Ie?iu(at):qt;for(he=Ge.length-1,R=xe-1;R>=0;R--){const De=ce+R,Le=A[De],Ot=A[De+1],Rt=De+1<X?Ot.el||Ot.placeholder:K;at[R]===0?O(null,Le,L,Rt,q,J,b,m,E):Ie&&(he<0||R!==Ge[he]?I(Le,L,Rt,2):he--)}}},I=(h,A,L,K,q=null)=>{const{el:J,type:b,transition:m,children:E,shapeFlag:R}=h;if(R&6){I(h.component.subTree,A,L,K);return}if(R&128){h.suspense.move(A,L,K);return}if(R&64){b.move(h,A,L,S);return}if(b===Ce){o(J,A,L);for(let $=0;$<E.length;$++)I(E[$],A,L,K);o(h.anchor,A,L);return}if(b===as){G(h,A,L);return}if(K!==2&&R&1&&m)if(K===0)m.beforeEnter(J),o(J,A,L),it(()=>m.enter(J),q);else{const{leave:$,delayLeave:te,afterLeave:B}=m,ce=()=>{h.ctx.isUnmounted?n(J):o(J,A,L)},fe=()=>{J._isLeaving&&J[vd](!0),$(J,()=>{ce(),B&&B()})};te?te(J,ce,fe):fe()}else o(J,A,L)},V=(h,A,L,K=!1,q=!1)=>{const{type:J,props:b,ref:m,children:E,dynamicChildren:R,shapeFlag:X,patchFlag:$,dirs:te,cacheIndex:B}=h;if($===-2&&(q=!1),m!=null&&(ht(),bn(m,null,L,h,!0),mt()),B!=null&&(A.renderCache[B]=void 0),X&256){A.ctx.deactivate(h);return}const ce=X&1&&te,fe=!on(h);let he;if(fe&&(he=b&&b.onVnodeBeforeUnmount)&&Et(he,A,h),X&6)Te(h.component,L,K);else{if(X&128){h.suspense.unmount(L,K);return}ce&&Kt(h,null,A,"beforeUnmount"),X&64?h.type.remove(h,A,L,S,K):R&&!R.hasOnce&&(J!==Ce||$>0&&$&64)?be(R,A,L,!1,!0):(J===Ce&&$&384||!q&&X&16)&&be(E,A,L),K&&Z(h)}(fe&&(he=b&&b.onVnodeUnmounted)||ce)&&it(()=>{he&&Et(he,A,h),ce&&Kt(h,null,A,"unmounted")},L)},Z=h=>{const{type:A,el:L,anchor:K,transition:q}=h;if(A===Ce){le(L,K);return}if(A===as){P(h);return}const J=()=>{n(L),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(h.shapeFlag&1&&q&&!q.persisted){const{leave:b,delayLeave:m}=q,E=()=>b(L,J);m?m(h.el,J,E):E()}else J()},le=(h,A)=>{let L;for(;h!==A;)L=g(h),n(h),h=L;n(A)},Te=(h,A,L)=>{const{bum:K,scope:q,job:J,subTree:b,um:m,m:E,a:R}=h;Co(E),Co(R),K&&Xn(K),q.stop(),J&&(J.flags|=8,V(b,h,A,L)),m&&it(m,A),it(()=>{h.isUnmounted=!0},A)},be=(h,A,L,K=!1,q=!1,J=0)=>{for(let b=J;b<h.length;b++)V(h[b],A,L,K,q)},se=h=>{if(h.shapeFlag&6)return se(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const A=g(h.anchor||h.el),L=A&&A[Od];return L?g(L):A};let w=!1;const C=(h,A,L)=>{h==null?A._vnode&&V(A._vnode,null,null,!0):O(A._vnode||null,h,A,null,null,null,L),A._vnode=h,w||(w=!0,Gi(),Vi(),w=!1)},S={p:O,um:V,m:I,r:Z,mt:ie,mc:de,pc:M,pbc:j,n:se,o:e};return{render:C,hydrate:void 0,createApp:jd(C)}}function qs({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function jt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function su(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function go(e,t,s=!1){const o=e.children,n=t.children;if(ge(o)&&ge(n))for(let a=0;a<o.length;a++){const l=o[a];let d=n[a];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=n[a]=Gt(n[a]),d.el=l.el),!s&&d.patchFlag!==-2&&go(l,d)),d.type===os&&d.patchFlag!==-1&&(d.el=l.el),d.type===Mt&&!d.el&&(d.el=l.el)}}function iu(e){const t=e.slice(),s=[0];let o,n,a,l,d;const p=e.length;for(o=0;o<p;o++){const _=e[o];if(_!==0){if(n=s[s.length-1],e[n]<_){t[o]=n,s.push(o);continue}for(a=0,l=s.length-1;a<l;)d=a+l>>1,e[s[d]]<_?a=d+1:l=d;_<e[s[a]]&&(a>0&&(t[o]=s[a-1]),s[a]=o)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=t[l];return s}function So(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:So(t)}function Co(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ou=Symbol.for("v-scx"),au=()=>ss(ou);function Ye(e,t,s){return Eo(e,t,s)}function Eo(e,t,s=ke){const{immediate:o,deep:n,flush:a,once:l}=s,d=ze({},s),p=t&&o||!t&&a!=="post";let _;if(xn){if(a==="sync"){const v=au();_=v.__watcherHandles||(v.__watcherHandles=[])}else if(!p){const v=()=>{};return v.stop=ft,v.resume=ft,v.pause=ft,v}}const f=et;d.call=(v,k,O)=>gt(v,f,k,O);let c=!1;a==="post"?d.scheduler=v=>{it(v,f&&f.suspense)}:a!=="sync"&&(c=!0,d.scheduler=(v,k)=>{k?v():Fs(v)}),d.augmentJob=v=>{t&&(v.flags|=4),c&&(v.flags|=2,f&&(v.id=f.uid,v.i=f))};const g=gd(e,t,d);return xn&&(_?_.push(g):p&&g()),g}function ru(e,t,s){const o=this.proxy,n=Xe(e)?e.includes(".")?bo(o,e):()=>o[e]:e.bind(o,o);let a;Ae(t)?a=t:(a=t.handler,s=t);const l=vn(this),d=Eo(n,a.bind(o),s);return l(),d}function bo(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const lu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ut(t)}Modifiers`]||e[`${Dt(t)}Modifiers`];function cu(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||ke;let n=s;const a=t.startsWith("update:"),l=a&&lu(o,t.slice(7));l&&(l.trim&&(n=s.map(f=>Xe(f)?f.trim():f)),l.number&&(n=s.map(Fn)));let d,p=o[d=ys(t)]||o[d=ys(Ut(t))];!p&&a&&(p=o[d=ys(Dt(t))]),p&&gt(p,e,6,n);const _=o[d+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,gt(_,e,6,n)}}const du=new WeakMap;function Ao(e,t,s=!1){const o=s?du:t.emitsCache,n=o.get(e);if(n!==void 0)return n;const a=e.emits;let l={},d=!1;if(!Ae(e)){const p=_=>{const f=Ao(_,t,!0);f&&(d=!0,ze(l,f))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!d?(we(e)&&o.set(e,null),null):(ge(a)?a.forEach(p=>l[p]=null):ze(l,a),we(e)&&o.set(e,l),l)}function is(e,t){return!e||!Ln(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,Dt(t))||Ne(e,t))}function TR(){}function To(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[a],slots:l,attrs:d,emit:p,render:_,renderCache:f,props:c,data:g,setupState:v,ctx:k,inheritAttrs:O}=e,N=Zn(e);let T,z;try{if(s.shapeFlag&4){const P=n||o,U=P;T=Ct(_.call(U,P,f,c,v,g,k)),z=d}else{const P=t;T=Ct(P.length>1?P(c,{attrs:d,slots:l,emit:p}):P(c,null)),z=t.props?d:uu(d)}}catch(P){yn.length=0,zn(P,e,1),T=He(Mt)}let G=T;if(z&&O!==!1){const P=Object.keys(z),{shapeFlag:U}=G;P.length&&U&7&&(a&&P.some(bs)&&(z=pu(z,a)),G=rn(G,z,!1,!0))}return s.dirs&&(G=rn(G,null,!1,!0),G.dirs=G.dirs?G.dirs.concat(s.dirs):s.dirs),s.transition&&Gs(G,s.transition),T=G,Zn(N),T}const uu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ln(s))&&((t||(t={}))[s]=e[s]);return t},pu=(e,t)=>{const s={};for(const o in e)(!bs(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function _u(e,t,s){const{props:o,children:n,component:a}=e,{props:l,children:d,patchFlag:p}=t,_=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return o?yo(o,l,_):!!l;if(p&8){const f=t.dynamicProps;for(let c=0;c<f.length;c++){const g=f[c];if(l[g]!==o[g]&&!is(_,g))return!0}}}else return(n||d)&&(!d||!d.$stable)?!0:o===l?!1:o?l?yo(o,l,_):!0:!!l;return!1}function yo(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const a=o[n];if(t[a]!==e[a]&&!is(s,a))return!0}return!1}function fu({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Oo=e=>e.__isSuspense;function hu(e,t){t&&t.pendingBranch?ge(e)?t.effects.push(...e):t.effects.push(e):yd(e)}const Ce=Symbol.for("v-fgt"),os=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),as=Symbol.for("v-stc"),yn=[];let ot=null;function y(e=!1){yn.push(ot=e?null:[])}function mu(){yn.pop(),ot=yn[yn.length-1]||null}let On=1;function Ro(e,t=!1){On+=e,e<0&&ot&&t&&(ot.hasOnce=!0)}function vo(e){return e.dynamicChildren=On>0?ot||qt:null,mu(),On>0&&ot&&ot.push(e),e}function x(e,t,s,o,n,a){return vo(i(e,t,s,o,n,a,!0))}function lt(e,t,s,o,n){return vo(He(e,t,s,o,n,!0))}function zs(e){return e?e.__v_isVNode===!0:!1}function Rn(e,t){return e.type===t.type&&e.key===t.key}const xo=({key:e})=>e!=null?e:null,rs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Xe(e)||Je(e)||Ae(e)?{i:qe,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,n=null,a=e===Ce?0:1,l=!1,d=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xo(t),ref:t&&rs(t),scopeId:Bi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return d?(Qs(p,s),a&128&&e.normalize(p)):s&&(p.shapeFlag|=Xe(s)?8:16),On>0&&!l&&ot&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&ot.push(p),p}const He=gu;function gu(e,t=null,s=null,o=0,n=null,a=!1){if((!e||e===Ld)&&(e=Mt),zs(e)){const d=rn(e,t,!0);return s&&Qs(d,s),On>0&&!a&&ot&&(d.shapeFlag&6?ot[ot.indexOf(e)]=d:ot.push(d)),d.patchFlag=-2,d}if(Iu(e)&&(e=e.__vccOpts),t){t=Su(t);let{class:d,style:p}=t;d&&!Xe(d)&&(t.class=Me(d)),we(p)&&(Ys(p)&&!ge(p)&&(p=ze({},p)),t.style=Yt(p))}const l=Xe(e)?1:Oo(e)?128:Rd(e)?64:we(e)?4:Ae(e)?2:0;return i(e,t,s,o,n,l,a,!0)}function Su(e){return e?Ys(e)||co(e)?ze({},e):e:null}function rn(e,t,s=!1,o=!1){const{props:n,ref:a,patchFlag:l,children:d,transition:p}=e,_=t?Eu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&xo(_),ref:t&&t.ref?s&&a?ge(a)?a.concat(rs(t)):[a,rs(t)]:rs(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ce?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rn(e.ssContent),ssFallback:e.ssFallback&&rn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&o&&Gs(f,p.clone(f)),f}function Be(e=" ",t=0){return He(os,null,e,t)}function Cu(e,t){const s=He(as,null,e);return s.staticCount=t,s}function Oe(e="",t=!1){return t?(y(),lt(Mt,null,e)):He(Mt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?He(Mt):ge(e)?He(Ce,null,e.slice()):zs(e)?Gt(e):He(os,null,String(e))}function Gt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rn(e)}function Qs(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ge(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),Qs(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!co(t)?t._ctx=qe:n===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ae(t)?(t={default:t,_ctx:qe},s=32):(t=String(t),o&64?(s=16,t=[Be(t)]):s=8);e.children=t,e.shapeFlag|=s}function Eu(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=Me([t.class,o.class]));else if(n==="style")t.style=Yt([t.style,o.style]);else if(Ln(n)){const a=t[n],l=o[n];l&&a!==l&&!(ge(a)&&a.includes(l))&&(t[n]=a?[].concat(a,l):l)}else n!==""&&(t[n]=o[n])}return t}function Et(e,t,s,o=null){gt(e,t,7,[s,o])}const bu=ao();let Au=0;function Tu(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||bu,a={uid:Au++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Vc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:po(o,n),emitsOptions:Ao(o,n),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:o.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=cu.bind(null,a),e.ce&&e.ce(a),a}let et=null;const yu=()=>et||qe;let ls,Zs;{const e=Gn(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),a=>{n.length>1?n.forEach(l=>l(a)):n[0](a)}};ls=t("__VUE_INSTANCE_SETTERS__",s=>et=s),Zs=t("__VUE_SSR_SETTERS__",s=>xn=s)}const vn=e=>{const t=et;return ls(e),e.scope.on(),()=>{e.scope.off(),ls(t)}},No=()=>{et&&et.scope.off(),ls(null)};function Po(e){return e.vnode.shapeFlag&4}let xn=!1;function Ou(e,t=!1,s=!1){t&&Zs(t);const{props:o,children:n}=e.vnode,a=Po(e);Wd(e,o,a,t),Zd(e,n,s||t);const l=a?Ru(e,t):void 0;return t&&Zs(!1),l}function Ru(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xd);const{setup:o}=s;if(o){ht();const n=e.setupContext=o.length>1?xu(e):null,a=vn(e),l=tn(o,e,0,[e.props,n]),d=di(l);if(mt(),a(),(d||e.sp)&&!on(e)&&ji(e),d){if(l.then(No,No),t)return l.then(p=>{Mo(e,p)}).catch(p=>{zn(p,e,0)});e.asyncDep=l}else Mo(e,l)}else Io(e)}function Mo(e,t,s){Ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=Di(t)),Io(e)}function Io(e,t,s){const o=e.type;e.render||(e.render=o.render||ft);{const n=vn(e);ht();try{Fd(e)}finally{mt(),n()}}}const vu={get(e,t){return We(e,"get",""),e[t]}};function xu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,vu),slots:e.slots,emit:e.emit,expose:t}}function cs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Di(dd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in An)return An[s](e)},has(t,s){return s in t||s in An}})):e.proxy}const Nu=/(?:^|[-_])\w/g,Pu=e=>e.replace(Nu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Mu(e,t=!0){return Ae(e)?e.displayName||e.name:e.name||t&&e.__name}function ko(e,t,s=!1){let o=Mu(t);if(!o&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){const n=a=>{for(const l in a)if(a[l]===t)return l};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?Pu(o):s?"App":"Anonymous"}function Iu(e){return Ae(e)&&"__vccOpts"in e}const Se=(e,t)=>hd(e,t,xn),ku="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ei;const wo=typeof window!="undefined"&&window.trustedTypes;if(wo)try{ei=wo.createPolicy("vue",{createHTML:e=>e})}catch(e){}const $o=ei?e=>ei.createHTML(e):e=>e,wu="http://www.w3.org/2000/svg",$u="http://www.w3.org/1998/Math/MathML",It=typeof document!="undefined"?document:null,Uo=It&&It.createElement("template"),Uu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?It.createElementNS(wu,e):t==="mathml"?It.createElementNS($u,e):s?It.createElement(e,{is:s}):It.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>It.createTextNode(e),createComment:e=>It.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>It.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,a){const l=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Uo.innerHTML=$o(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const d=Uo.content;if(o==="svg"||o==="mathml"){const p=d.firstChild;for(;p.firstChild;)d.appendChild(p.firstChild);d.removeChild(p)}t.insertBefore(d,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Du=Symbol("_vtc");function Lu(e,t,s){const o=e[Du];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const ds=Symbol("_vod"),Do=Symbol("_vsh"),Yu={name:"show",beforeMount(e,{value:t},{transition:s}){e[ds]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Nn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),Nn(e,!0),o.enter(e)):o.leave(e,()=>{Nn(e,!1)}):Nn(e,t))},beforeUnmount(e,{value:t}){Nn(e,t)}};function Nn(e,t){e.style.display=t?e[ds]:"none",e[Do]=!t}const Xu=Symbol(""),Fu=/(?:^|;)\s*display\s*:/;function Gu(e,t,s){const o=e.style,n=Xe(s);let a=!1;if(s&&!n){if(t)if(Xe(t))for(const l of t.split(";")){const d=l.slice(0,l.indexOf(":")).trim();s[d]==null&&us(o,d,"")}else for(const l in t)s[l]==null&&us(o,l,"");for(const l in s)l==="display"&&(a=!0),us(o,l,s[l])}else if(n){if(t!==s){const l=o[Xu];l&&(s+=";"+l),o.cssText=s,a=Fu.test(s)}}else t&&e.removeAttribute("style");ds in e&&(e[ds]=a?o.display:"",e[Do]&&(o.display="none"))}const Lo=/\s*!important$/;function us(e,t,s){if(ge(s))s.forEach(o=>us(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=Vu(e,t);Lo.test(s)?e.setProperty(Dt(o),s.replace(Lo,""),"important"):e[o]=s}}const Yo=["Webkit","Moz","ms"],ti={};function Vu(e,t){const s=ti[t];if(s)return s;let o=Ut(t);if(o!=="filter"&&o in e)return ti[t]=o;o=_i(o);for(let n=0;n<Yo.length;n++){const a=Yo[n]+o;if(a in e)return ti[t]=a}return t}const Xo="http://www.w3.org/1999/xlink";function Fo(e,t,s,o,n,a=Fc(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Xo,t.slice(6,t.length)):e.setAttributeNS(Xo,t,s):s==null||a&&!mi(s)?e.removeAttribute(t):e.setAttribute(t,a?"":ct(s)?String(s):s)}function Go(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?$o(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const d=a==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(d!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const d=typeof e[t];d==="boolean"?s=mi(s):s==null&&d==="string"?(s="",l=!0):d==="number"&&(s=0,l=!0)}try{e[t]=s}catch(d){}l&&e.removeAttribute(n||t)}function Vt(e,t,s,o){e.addEventListener(t,s,o)}function Hu(e,t,s,o){e.removeEventListener(t,s,o)}const Vo=Symbol("_vei");function Bu(e,t,s,o,n=null){const a=e[Vo]||(e[Vo]={}),l=a[t];if(o&&l)l.value=o;else{const[d,p]=Ku(t);if(o){const _=a[t]=Wu(o,n);Vt(e,d,_,p)}else l&&(Hu(e,d,l,p),a[t]=void 0)}}const Ho=/(?:Once|Passive|Capture)$/;function Ku(e){let t;if(Ho.test(e)){t={};let o;for(;o=e.match(Ho);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dt(e.slice(2)),t]}let ni=0;const ju=Promise.resolve(),Ju=()=>ni||(ju.then(()=>ni=0),ni=Date.now());function Wu(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;gt(qu(o,s.value),t,5,[o])};return s.value=e,s.attached=Ju(),s}function qu(e,t){if(ge(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const Bo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zu=(e,t,s,o,n,a)=>{const l=n==="svg";t==="class"?Lu(e,o,l):t==="style"?Gu(e,s,o):Ln(t)?bs(t)||Bu(e,t,s,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qu(e,t,o,l))?(Go(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Fo(e,t,o,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Xe(o))?Go(e,Ut(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Fo(e,t,o,l))};function Qu(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&Bo(t)&&Ae(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Bo(t)&&Xe(s)?!1:t in e}const ln=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ge(t)?s=>Xn(t,s):t};function Zu(e){e.target.composing=!0}function Ko(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const kt=Symbol("_assign"),ue={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[kt]=ln(n);const a=o||n.props&&n.props.type==="number";Vt(e,t?"change":"input",l=>{if(l.target.composing)return;let d=e.value;s&&(d=d.trim()),a&&(d=Fn(d)),e[kt](d)}),s&&Vt(e,"change",()=>{e.value=e.value.trim()}),t||(Vt(e,"compositionstart",Zu),Vt(e,"compositionend",Ko),Vt(e,"change",Ko))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:a}},l){if(e[kt]=ln(l),e.composing)return;const d=(a||e.type==="number")&&!/^0\d/.test(e.value)?Fn(e.value):e.value,p=t==null?"":t;d!==p&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===p)||(e.value=p))}},wt={deep:!0,created(e,t,s){e[kt]=ln(s),Vt(e,"change",()=>{const o=e._modelValue,n=Pn(e),a=e.checked,l=e[kt];if(ge(o)){const d=Os(o,n),p=d!==-1;if(a&&!p)l(o.concat(n));else if(!a&&p){const _=[...o];_.splice(d,1),l(_)}}else if(Qt(o)){const d=new Set(o);a?d.add(n):d.delete(n),l(d)}else l(Wo(e,a))})},mounted:jo,beforeUpdate(e,t,s){e[kt]=ln(s),jo(e,t,s)}};function jo(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(ge(t))n=Os(t,o.props.value)>-1;else if(Qt(t))n=t.has(o.props.value);else{if(t===s)return;n=_n(t,Wo(e,!0))}e.checked!==n&&(e.checked=n)}const bt={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=Qt(t);Vt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?Fn(Pn(l)):Pn(l));e[kt](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,Xi(()=>{e._assigning=!1})}),e[kt]=ln(o)},mounted(e,{value:t}){Jo(e,t)},beforeUpdate(e,t,s){e[kt]=ln(s)},updated(e,{value:t}){e._assigning||Jo(e,t)}};function Jo(e,t){const s=e.multiple,o=ge(t);if(!(s&&!o&&!Qt(t))){for(let n=0,a=e.options.length;n<a;n++){const l=e.options[n],d=Pn(l);if(s)if(o){const p=typeof d;p==="string"||p==="number"?l.selected=t.some(_=>String(_)===String(d)):l.selected=Os(t,d)>-1}else l.selected=t.has(d);else if(_n(Pn(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Pn(e){return"_value"in e?e._value:e.value}function Wo(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const ep=["ctrl","shift","alt","meta"],tp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ep.some(s=>e[`${s}Key`]&&!t.includes(s))},ut=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...a)=>{for(let l=0;l<t.length;l++){const d=tp[t[l]];if(d&&d(n,t))return}return e(n,...a)})},np={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Jt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const a=Dt(n.key);if(t.some(l=>l===a||np[l]===a))return e(n)})},sp=ze({patchProp:zu},Uu);let qo;function ip(){return qo||(qo=tu(sp))}const op=(...e)=>{const t=ip().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=rp(o);if(!n)return;const a=t._component;!Ae(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,ap(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function ap(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function rp(e){return Xe(e)?document.querySelector(e):e}const At=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},lp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},cp={key:0,class:"nxp-ec-admin-error"},dp={class:"nxp-ec-admin-error__title"},up={class:"nxp-ec-admin-error__body"};function pp(e,t,s,o,n,a){return y(),x("div",null,[n.error?(y(),x("div",cp,[i("h2",dp,u(a.fallbackTitle),1),i("p",up,u(a.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>a.reload&&a.reload(...l))},u(a.reloadLabel),1)])):Yd(e.$slots,"default",{key:1})])}const _p=At(lp,[["render",pp]]),fp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},hp={class:"nxp-ec-admin-panel__header"},mp={class:"nxp-ec-admin-panel__title"},gp={class:"nxp-ec-admin-panel__lead"},Sp={class:"nxp-ec-admin-panel__actions"},Cp=["disabled"],Ep={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bp={key:1,class:"nxp-ec-dashboard"},Ap={class:"nxp-ec-dashboard__metrics"},Tp={class:"nxp-ec-dashboard__card"},yp={class:"nxp-ec-dashboard__value"},Op={class:"nxp-ec-dashboard__hint"},Rp={class:"nxp-ec-dashboard__card"},vp={class:"nxp-ec-dashboard__value"},xp={class:"nxp-ec-dashboard__hint"},Np={class:"nxp-ec-dashboard__card"},Pp={class:"nxp-ec-dashboard__value"},Mp={class:"nxp-ec-dashboard__hint"},Ip={class:"nxp-ec-dashboard__card"},kp={class:"nxp-ec-dashboard__value"},wp={class:"nxp-ec-dashboard__hint"},$p={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Up={class:"nxp-ec-dashboard__checklist-header"},Dp={id:"dashboard-checklist-heading"},Lp={class:"nxp-ec-dashboard__checklist-progress"},Yp={class:"nxp-ec-dashboard__checklist-list"},Xp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Fp={key:0,class:"fa-solid fa-circle-check"},Gp={key:1,class:"fa-regular fa-circle"},Vp={class:"nxp-ec-dashboard__checklist-label"},Hp=["href","title"],Bp={class:"nxp-ec-sr-only"},Kp=At({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,o=s.translate,n=s.state,a=Se(()=>{var c;const f=(c=n.summary)==null?void 0:c.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),l=(f=0)=>{const c=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(c)}catch(g){return`${a.value} ${c.toFixed(2)}`}},d=Se(()=>Array.isArray(n.checklist)?n.checklist:[]),p=Se(()=>d.value.filter(f=>f.completed).length),_=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,c)=>(y(),x("section",fp,[i("header",hp,[i("div",null,[i("h2",mp,u(r(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",gp,u(r(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Sp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:c[0]||(c[0]=g=>f.$emit("refresh")),disabled:r(n).loading},u(r(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,Cp)])]),r(n).error?(y(),x("div",Ep,u(r(n).error),1)):(y(),x("div",bp,[i("div",Ap,[i("article",Tp,[i("h3",null,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",yp,u(r(n).summary.products.active),1),i("p",Op,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Rp,[i("h3",null,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",vp,u(l(r(n).summary.orders.revenue_today)),1),i("p",xp,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",Np,[i("h3",null,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",Pp,u(r(n).summary.customers.total),1),i("p",Mp,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Ip,[i("h3",null,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",kp,u(l(r(n).summary.orders.revenue_month)),1),i("p",wp,u(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),i("section",$p,[i("header",Up,[i("h3",Dp,u(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Lp,u(p.value)+" / "+u(d.value.length),1)]),i("ul",Yp,[(y(!0),x(Ce,null,Re(d.value,g=>(y(),x("li",{key:g.id,class:Me({"is-complete":g.completed})},[i("span",Xp,[g.completed?(y(),x("span",Fp)):(y(),x("span",Gp))]),i("span",Vp,u(r(o)(g.label,_(g.label))),1),g.link?(y(),x("a",{key:0,href:g.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",Bp,u(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Hp)):Oe("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-59cce8c1"]]),jp={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Jp={id:"nxp-ec-products-caption",class:"visually-hidden"},Wp={scope:"col"},qp={scope:"col"},zp={scope:"col"},Qp={scope:"col"},Zp={scope:"col"},e_={scope:"col"},t_={scope:"col"},n_={scope:"col"},s_={scope:"col",class:"nxp-ec-admin-table__actions"},i_={key:0},o_={colspan:"8",class:"nxp-ec-admin-table__empty"},a_={class:"nxp-ec-products-table__title"},r_={class:"nxp-ec-products-table__slug"},l_={key:0,class:"nxp-ec-products-table__badge"},c_={class:"nxp-ec-status nxp-ec-status--featured"},d_={key:0},u_={key:1},p_={key:0},__={key:1},f_=["disabled","aria-pressed","title","aria-label","onClick"],h_={class:"nxp-ec-sr-only"},m_={class:"nxp-ec-admin-table__actions"},g_=["onClick","title","aria-label"],S_={class:"nxp-ec-sr-only"},C_=["onClick","title","aria-label"],E_={class:"nxp-ec-sr-only"},si=1,Mn=-1,ii=0,b_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,o=Se(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,c=!1)=>{const g=Number(f);if(Number.isFinite(g))return g===Mn?Mn:g===ii?ii:si;if(c)return Mn;if(typeof f=="string"){const v=f.trim().toLowerCase();if(v==="out_of_stock"||v==="out-of-stock"||v==="-1")return Mn;if(v==="inactive"||v==="0")return ii}return si},a=f=>{var k;const c=n((k=f==null?void 0:f.status)!=null?k:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),g=c===si,v=c===Mn;return{status:c,isActive:g,isOutOfStock:v,label:g?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):v?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:g?"nxp-ec-status--active":v?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:g?"fa-solid fa-circle-check":v?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},l=f=>{var O,N,T,z;const c=(N=(O=f==null?void 0:f.summary)==null?void 0:O.variants)!=null?N:{};if(c.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const g=Number.isFinite(c.price_min_cents)?c.price_min_cents:null,v=Number.isFinite(c.price_max_cents)?c.price_max_cents:null;if(g===null)return"";const k=c.currency||((z=(T=f==null?void 0:f.variants)==null?void 0:T[0])==null?void 0:z.currency)||o.value;return v===null||v===g?_(g,k):`${_(g,k)}  ${_(v,k)}`},d=f=>{var v,k;const c=(k=(v=f==null?void 0:f.summary)==null?void 0:v.variants)!=null?k:{},g=Number.isFinite(c.count)?c.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return g===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(g)])},p=f=>{if(!Array.isArray(f)||!f.length)return"";const c=f.map(k=>(k==null?void 0:k.title)||(k==null?void 0:k.slug)).filter(k=>!!k);if(!c.length)return"";if(c.length<=3)return c.join(", ");const g=c.slice(0,3).join(", "),v=c.length-3;return`${g} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(v)])}`},_=(f,c)=>`${(f/100).toFixed(2)} ${c}`;return(f,c)=>(y(),x("table",jp,[i("caption",Jp,u(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",Wp,u(r(s)("JGRID_HEADING_ID","ID")),1),i("th",qp,u(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",zp,u(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",Qp,u(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",Zp,u(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",e_,u(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",t_,u(r(s)("JSTATUS","Status")),1),i("th",n_,u(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",s_,u(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?Oe("",!0):(y(),x("tr",i_,[i("td",o_,u(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(y(!0),x(Ce,null,Re(e.items,g=>{var v,k,O,N,T,z,G,P,U,ae,re,de;return y(),x("tr",{key:g.id},[i("td",null,u(g.id),1),i("td",null,[i("div",a_,u(g.title),1),i("div",r_,u(g.slug),1),g.featured?(y(),x("div",l_,[i("span",c_,[c[0]||(c[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Be(" "+u(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):Oe("",!0)]),i("td",null,[l(g)?(y(),x("span",d_,u(l(g)),1)):(y(),x("span",u_,u(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))]),i("td",null,u(d(g)),1),i("td",null,[i("span",{class:Me(["nxp-ec-status",(k=(v=g.summary)==null?void 0:v.variants)!=null&&k.stock_zero?"nxp-ec-status--danger":(N=(O=g.summary)==null?void 0:O.variants)!=null&&N.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(z=(T=g.summary)==null?void 0:T.variants)!=null&&z.stock_zero||((P=(G=g.summary)==null?void 0:G.variants)==null?void 0:P.stock_total)===0?(y(),x(Ce,{key:0},[Be(u(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(y(),x(Ce,{key:1},[Be(u(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((re=(ae=(U=g.summary)==null?void 0:U.variants)==null?void 0:ae.stock_total)!=null?re:0)])),1)],64))],2)]),i("td",null,[(de=g.categories)!=null&&de.length?(y(),x("span",p_,u(p(g.categories)),1)):(y(),x("span",__,u(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))]),i("td",null,[i("button",{type:"button",class:Me(["nxp-ec-status","nxp-ec-status-button",a(g).className]),disabled:e.saving,"aria-pressed":a(g).isActive?"true":"false",title:a(g).title,"aria-label":a(g).title,onClick:me=>f.$emit("toggle-active",g)},[i("i",{class:Me(a(g).icon),"aria-hidden":"true"},null,2),Be(" "+u(a(g).label)+" ",1),i("span",h_,u(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,f_)]),i("td",null,u(g.modified||g.created),1),i("td",m_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:me=>f.$emit("edit",g),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",S_,u(r(s)("JGLOBAL_EDIT","Edit")),1)],8,g_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:me=>f.$emit("delete",g),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[c[2]||(c[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",E_,u(r(s)("JTRASH","Delete")),1)],8,C_)])])}),128))])]))}},A_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},T_={class:"nxp-ec-modal__dialog"},y_={class:"nxp-ec-modal__header"},O_={class:"nxp-ec-modal__title"},R_={class:"nxp-ec-modal__header-actions"},v_=["disabled","title","aria-label"],x_={class:"nxp-ec-sr-only"},N_=["disabled","title","aria-label"],P_={class:"nxp-ec-sr-only"},M_=["aria-label"],I_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},k_={class:"nxp-ec-form-field"},w_={class:"nxp-ec-form-label",for:"product-title"},$_={class:"nxp-ec-form-field"},U_={class:"nxp-ec-form-label",for:"product-slug"},D_=["placeholder"],L_={class:"nxp-ec-form-field"},Y_={class:"nxp-ec-form-label",for:"product-short-desc"},X_={class:"nxp-ec-form-field"},F_={class:"nxp-ec-form-label",for:"product-long-desc"},G_={class:"nxp-ec-form-field"},V_={class:"nxp-ec-form-label",for:"product-status"},H_={value:1},B_={value:-1},K_={value:0},j_={class:"nxp-ec-form-help"},J_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},W_={class:"nxp-ec-form-label",for:"product-featured"},q_={class:"nxp-ec-form-help"},z_={class:"nxp-ec-form-field"},Q_={class:"nxp-ec-form-label",for:"product-images"},Z_={id:"product-images",class:"nxp-ec-image-list"},ef=["id","onUpdate:modelValue","placeholder"],tf={class:"nxp-ec-image-row__actions"},nf=["onClick"],sf=["onClick","disabled"],of=["onClick","disabled"],af=["onClick","aria-label"],rf={class:"nxp-ec-form-help"},lf={class:"nxp-ec-form-field"},cf={class:"nxp-ec-form-label",for:"product-category-select"},df=["value"],uf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},pf=["onClick","aria-label"],_f={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},ff=["onKeydown","placeholder"],hf={class:"nxp-ec-form-help"},mf={class:"nxp-ec-variant-section"},gf={class:"nxp-ec-variant-section__header"},Sf={class:"nxp-ec-variant-section__title"},Cf={class:"nxp-ec-form-help"},Ef={class:"nxp-ec-variant-card__header"},bf={class:"nxp-ec-variant-card__title"},Af=["onClick"],Tf=["onClick","disabled"],yf={class:"nxp-ec-variant-card__grid"},Of={class:"nxp-ec-form-field"},Rf=["for"],vf=["id","onUpdate:modelValue"],xf={class:"nxp-ec-form-field"},Nf=["for"],Pf=["id","onUpdate:modelValue","onBlur"],Mf={class:"nxp-ec-form-field"},If=["for"],kf=["id","onUpdate:modelValue"],wf={class:"nxp-ec-form-help"},$f={class:"nxp-ec-form-field"},Uf=["for"],Df=["id","onUpdate:modelValue"],Lf={class:"nxp-ec-form-field"},Yf=["for"],Xf=["id","onUpdate:modelValue"],Ff={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Gf=["for"],Vf=["id","onUpdate:modelValue"],Hf={class:"nxp-ec-variant-options"},Bf={class:"nxp-ec-variant-options__header"},Kf={class:"nxp-ec-variant-options__title"},jf=["onClick"],Jf={class:"nxp-ec-form-help"},Wf=["id","onUpdate:modelValue","placeholder"],qf=["id","onUpdate:modelValue","placeholder"],zf=["onClick","aria-label"],Qf={class:"nxp-ec-modal__actions"},Zf=["disabled"],eh=["disabled"],zo="product-editor-form",th=At({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Se(()=>(s.baseCurrency||"USD").toUpperCase()),l=b=>{var m,E,R,X,$,te,B,ce;if(b==null)return null;if(typeof b=="string"){const fe=b.trim();return fe===""?null:{id:0,title:fe,slug:""}}if(typeof b=="object"){const fe=Number.parseInt((E=(m=b.id)!=null?m:b.value)!=null?E:0,10)||0,he=(B=(te=($=(X=(R=b.title)!=null?R:b.name)!=null?X:b.text)!=null?$:b.label)!=null?te:b.slug)!=null?B:"",ye=String(he!=null?he:"").trim(),xe=String((ce=b.slug)!=null?ce:"").trim(),Ie=b.parent_id!==null&&b.parent_id!==void 0&&Number.parseInt(b.parent_id,10)||null;return fe<=0&&ye===""?null:{id:fe>0?fe:0,title:ye!==""?ye:xe,slug:xe,parent_id:Ie}}return null},d=b=>{const m=Number(b);if(Number.isFinite(m))return m===-1?-1:m===0?0:1;if(typeof b=="string"){const E=b.trim().toLowerCase();if(E==="out_of_stock"||E==="out-of-stock"||E==="-1")return-1;if(E==="inactive"||E==="0")return 0}return 1},p=Ue({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),_=Ve(""),f=Ve(!1),c=(b,m,E=new Set)=>{if(!b||E.has(b))return 0;E.add(b);const R=m.find(X=>X.id===b);return!R||!R.parent_id?0:1+c(R.parent_id,m,E)},g=b=>{if(!b)return"";const m=Array.isArray(s.categoryOptions)?s.categoryOptions:[],E=c(b.id,m);return(b.id===6||b.id===8)&&console.log("[ProductEditor] Category with parent_id:",{categoryId:b.id,categoryTitle:b.title,hasParentId:b.parent_id!==void 0&&b.parent_id!==null,parentId:b.parent_id,calculatedDepth:E,totalCategoriesProvided:m.length}),E===0?b.title:"".repeat(E)+" "+b.title},v=Se(()=>{const m=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(l).filter($=>$&&$.id>0&&$.title!==""),E=new Map;m.forEach($=>{E.set($.id,$)}),p.categories.forEach($=>{var te;$.id>0&&$.title&&!E.has($.id)&&E.set($.id,{id:$.id,title:$.title,slug:(te=$.slug)!=null?te:"",parent_id:$.parent_id!==null&&$.parent_id!==void 0?$.parent_id:null})});const R=Array.from(E.values()),X=($=null,te=0)=>R.filter(B=>B.parent_id===$).sort((B,ce)=>B.title.localeCompare(ce.title)).flatMap(B=>[B,...X(B.id,te+1)]);return X()}),k=Se(()=>{const b=new Map;return v.value.forEach(m=>{var E;b.set(m.id,{title:m.title,slug:(E=m.slug)!=null?E:""})}),b}),O=Se({get:()=>p.categories.filter(m=>m&&m.id>0).map(m=>m.id),set:b=>{const m=Array.isArray(b)?b:[],E=Array.from(new Set(m.map($=>Number.parseInt($!=null?$:0,10)||0).filter($=>$>0))),R=p.categories.filter($=>!($.id>0)),X=E.map($=>{const te=k.value.get($),B=p.categories.find(he=>he.id===$),ce=(te==null?void 0:te.title)||(B==null?void 0:B.title)||"",fe=(te==null?void 0:te.slug)||(B==null?void 0:B.slug)||"";return ce===""?null:{id:$,title:ce,slug:fe}}).filter($=>$!==null);p.categories.splice(0,p.categories.length,...X,...R)}}),N=Se(()=>s.product&&s.product.id?"edit":"create"),T=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),z=()=>({name:"",value:""}),G=b=>b?b.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",P=()=>{f.value=!0,p.slug=G(p.slug)},U=b=>{const E=(Array.isArray(b)?b:[]).map(l).filter($=>$&&($.id>0||$.title!=="")),R=new Set,X=[];E.forEach($=>{const te=$.id>0?`id:${$.id}`:`title:${$.title.toLowerCase()}`;R.has(te)||(R.add(te),X.push($))}),p.categories.splice(0,p.categories.length,...X)},ae=b=>{p.variants.splice(0,p.variants.length,...b)},re=b=>{p.images.splice(0,p.images.length,...b)},de=b=>Array.isArray(b)?b.map(m=>{var E,R,X;return{name:String((R=(E=m==null?void 0:m.name)!=null?E:m==null?void 0:m.key)!=null?R:"").trim(),value:String((X=m==null?void 0:m.value)!=null?X:"").trim()}}):b&&typeof b=="object"?Object.entries(b).map(([m,E])=>({name:String(m!=null?m:"").trim(),value:String(E!=null?E:"").trim()})):[],me=b=>!Array.isArray(b)||b.length===0?[T()]:b.map(m=>{var E,R,X,$;return{id:Number.parseInt((E=m==null?void 0:m.id)!=null?E:0,10)||0,sku:String((R=m==null?void 0:m.sku)!=null?R:"").trim(),price:(m==null?void 0:m.price)!=null?String(m.price):Number.isFinite(m==null?void 0:m.price_cents)?(m.price_cents/100).toFixed(2):"",currency:String((X=m==null?void 0:m.currency)!=null?X:a.value).toUpperCase(),stock:Number.parseInt(($=m==null?void 0:m.stock)!=null?$:0,10)||0,weight:(m==null?void 0:m.weight)!=null?String(m.weight):"",active:(m==null?void 0:m.active)!==void 0?!!m.active:!0,options:de(m==null?void 0:m.options)}}),j=b=>{var X,$,te,B;const m=b?JSON.parse(JSON.stringify(b)):{};p.title=(X=m.title)!=null?X:"",p.slug=($=m.slug)!=null?$:"",p.short_desc=(te=m.short_desc)!=null?te:"",p.long_desc=(B=m.long_desc)!=null?B:"",p.status=d(m.status!==void 0?m.status:m.active),p.featured=m.featured!==void 0?!!m.featured:!1;const E=Array.isArray(m.images)?m.images.map(ce=>String(ce!=null?ce:"").trim()).filter(Boolean):[];re(E);const R=Array.isArray(m.categories)?m.categories:[];U(R),_.value="",ae(me(m.variants)),f.value=!!p.slug};Ye(()=>s.product,b=>{j(b)},{immediate:!0}),Ye(()=>p.title,b=>{f.value||(p.slug=G(b))}),Ye(a,b=>{p.variants.forEach(m=>{m.currency=b})});const H=()=>{const b=_.value.trim();if(!b)return;const m=b.toLowerCase(),E=p.categories.slice();E.some(X=>X.title.toLowerCase()===m)||(E.push({id:0,title:b,slug:""}),p.categories.splice(0,p.categories.length,...E)),_.value=""},Q=b=>{if(b<0||b>=p.categories.length)return;const m=p.categories.slice();m.splice(b,1),p.categories.splice(0,p.categories.length,...m)},F=()=>{p.variants.push(T())},ie=b=>{p.variants.length<=1||p.variants.splice(b,1)},_e=b=>{const m=p.variants[b];m&&(Array.isArray(m.options)||(m.options=[]),m.options.push(z()))},oe=(b,m)=>{const E=p.variants[b];!E||!Array.isArray(E.options)||E.options.splice(m,1)},ee=(b,m)=>`${b.id||"new"}-${m}`,M=b=>{const m=p.variants[b];if(!m)return;const E=JSON.parse(JSON.stringify(m));E.id=0,E.sku=[E.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),E.active=!0,p.variants.splice(b+1,0,E)},D=b=>{const m=p.variants[b];if(!m)return;const E=Number.parseFloat(m.price);Number.isNaN(E)||(m.price=E.toFixed(2))};let Y=null,I=null,V=null,Z=null,le="";const Te=()=>{Array.isArray(p.images)||(p.images=[])},be=b=>{var X,$,te;if(!b)return"";let m=String(b).trim();if(m==="")return"";try{const B=(te=($=(X=window.Joomla)==null?void 0:X.getOptions)==null?void 0:$.call(X,"system.paths",{}))!=null?te:{},ce=B.rootFull||window.location.origin,fe=B.root||"/";m.startsWith(ce)&&(m=m.substring(ce.length)),m.startsWith(fe)&&(m=m.substring(fe.length))}catch(B){}const E=m.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);E&&E[1]&&(m=E[1]);const R=m.indexOf("#joomlaImage://");return R!==-1&&(m=m.substring(0,R)),m.trim()},se=(b,{keepIndex:m=!1,appendWhenNoIndex:E=!1,targetIndex:R=null}={})=>{const X=be(b);if(X==="")return!1;Te();const $=R!==null&&R>=0?R:Z;return $==null||Number.isNaN($)?E?(p.images.push(X),m||(Z=null,le=""),!0):!1:($>=p.images.length?p.images.push(X):p.images[$]=X,le=m?X:"",m||(Z=null,le=""),!0)},w=()=>{Te(),p.images.push("")},C=b=>{Te(),p.images.splice(b,1)},S=(b,m)=>{Te();const E=p.images[b];if(E===void 0)return;const R=b+m;R<0||R>=p.images.length||(p.images.splice(b,1),p.images.splice(R,0,E))},Ee=b=>{var R;Te();const m=(R=p.images[b])!=null?R:"";if(typeof window=="undefined")return;const E=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),m);se(E!=null?E:"",{targetIndex:b})},h=()=>{var $,te,B,ce,fe,he;const b=(s.mediaModalUrl||"").trim();if(b!=="")return b;const m=(B=(te=($=window.Joomla)==null?void 0:$.getOptions)==null?void 0:te.call($,"media-picker",{}))!=null?B:{};if(m.modalUrl)return m.modalUrl;const E=(he=(fe=(ce=window.Joomla)==null?void 0:ce.getOptions)==null?void 0:fe.call(ce,"system.paths",{}))!=null?he:{},R=E.rootFull||E.root||"";return(R?R.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},A=async()=>{var B,ce,fe,he,ye,xe,Ie,Ke,at;if(Y)return Y;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(Ge){return null}const b=(fe=(ce=(B=window.Joomla)==null?void 0:B.getOptions)==null?void 0:ce.call(B,"system.paths",{}))!=null?fe:{},m=b.rootFull||b.root||"",E=(xe=(ye=(he=window.Joomla)==null?void 0:he.getOptions)==null?void 0:ye.call(he,"com_media",{}))!=null?xe:{},R=(E==null?void 0:E.file_path)||"images",X=(at=(Ke=(Ie=window.Joomla)==null?void 0:Ie.getOptions)==null?void 0:Ke.call(Ie,"media-picker",{}))!=null?at:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},te=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return I=document.createElement("div"),I.className="nxp-ec-media-picker-host",I.style.display="none",I.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${m.replace(/"/g,"&quot;")}"
            root-folder="${R.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${te}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(X).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(I),Y=I.querySelector("joomla-field-media"),V=I.querySelector(".nxp-ec-media-field__input"),Y.addEventListener("change",Ge=>{var Ot,Rt,$t,dn,ms,$n;const De=($t=(Rt=(Ot=Ge.detail)==null?void 0:Ot.value)!=null?Rt:V==null?void 0:V.value)!=null?$t:"";let Le=be(De);if(Le===""&&le!==""&&(Le=le),Le===""&&((dn=window.Joomla)!=null&&dn.selectedMediaFile)){const Un=be((ms=window.Joomla.selectedMediaFile.url)!=null?ms:""),Wt=be(($n=window.Joomla.selectedMediaFile.path)!=null?$n:"");Le=Un||Wt}se(Le)}),Y.addEventListener("joomla-dialog:close",()=>{Z=null,le=""}),V&&V.addEventListener("change",()=>{var De,Le,Ot,Rt;if(Z===null)return;let Ge=be((De=V.value)!=null?De:"");if(Ge===""&&le!==""&&(Ge=le),Ge===""&&((Le=window.Joomla)!=null&&Le.selectedMediaFile)){const $t=be((Ot=window.Joomla.selectedMediaFile.url)!=null?Ot:""),dn=be((Rt=window.Joomla.selectedMediaFile.path)!=null?Rt:"");Ge=$t||dn}Ge!==""&&se(Ge)}),Y},L=b=>{var $,te;const m=b==null?void 0:b.detail;if(!m||typeof m!="object")return;const E=be(($=m.path)!=null?$:""),X=be((te=m.url)!=null?te:"")||E;X===""||Z===null||(le=X,se(X,{keepIndex:!0}))};st(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",L)});const K=async b=>{var R;Te();const m=await A();if(!m||typeof m.show!="function"){Ee(b);return}Z=b,m.setAttribute("url",h());const E=(R=p.images[b])!=null?R:"";typeof m.setValue=="function"?m.setValue(E):V&&(V.value=E);try{m.show()}catch(X){Z=null,le="",Ee(b)}};zi(()=>{I&&I.parentNode&&I.parentNode.removeChild(I),Y=null,I=null,V=null,Z=null,le="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",L)});const q=()=>{var $,te;Te();const b=Array.from(new Set(p.images.map(B=>String(B!=null?B:"").trim()).filter(B=>B!==""))),m=p.categories.map(B=>{var ye,xe,Ie;const ce=Number.parseInt((ye=B==null?void 0:B.id)!=null?ye:0,10)||0,fe=String((xe=B==null?void 0:B.title)!=null?xe:"").trim(),he=String((Ie=B==null?void 0:B.slug)!=null?Ie:"").trim();return ce>0?{id:ce,title:fe,slug:he}:fe===""?null:{id:0,title:fe,slug:""}}).filter(B=>B!==null),E=p.variants.map(B=>{const ce=Array.isArray(B.options)?B.options.map(ye=>{var xe,Ie;return{name:String((xe=ye==null?void 0:ye.name)!=null?xe:"").trim(),value:String((Ie=ye==null?void 0:ye.value)!=null?Ie:"").trim()}}).filter(ye=>ye.name!==""&&ye.value!==""):[],fe=Number.isFinite(Number(B.stock))?Math.max(0,parseInt(B.stock,10)):0,he=B.weight!==null&&B.weight!==""?String(B.weight).trim():null;return{id:B.id||0,sku:B.sku.trim(),price:B.price!==null&&B.price!==void 0?String(B.price).trim():"",currency:B.currency?String(B.currency).trim().toUpperCase():a.value,stock:fe,weight:he,active:!!B.active,options:ce}}),R=d(p.status),X={title:p.title.trim(),slug:p.slug.trim(),short_desc:($=p.short_desc)!=null?$:"",long_desc:(te=p.long_desc)!=null?te:"",status:R,active:R,featured:!!p.featured,images:b,categories:m,variants:E};o("submit",X)},J=()=>{o("cancel")};return Ye(()=>s.saving,(b,m)=>{m&&!b&&s.errors.length===0&&N.value==="create"&&(j(null),_.value="",f.value=!1)}),(b,m)=>e.open?(y(),x("div",A_,[m[10]||(m[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",T_,[i("header",y_,[i("h2",O_,u(N.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",R_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:J,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[m[8]||(m[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",x_,u(r(n)("JCANCEL","Cancel")),1)],8,v_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:zo,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[i("i",{class:Me(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",P_,u(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,N_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:J,"aria-label":r(n)("JCLOSE","Close")},"  ",8,M_)])]),i("form",{id:zo,class:"nxp-ec-form",onSubmit:ut(q,["prevent"])},[e.errors.length?(y(),x("div",I_,[(y(!0),x(Ce,null,Re(e.errors,(E,R)=>(y(),x("p",{key:R},u(E),1))),128))])):Oe("",!0),i("div",k_,[i("label",w_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),ne(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[0]||(m[0]=E=>p.title=E),required:""},null,512),[[ue,p.title,void 0,{trim:!0}]])]),i("div",$_,[i("label",U_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),ne(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[1]||(m[1]=E=>p.slug=E),onInput:P,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,D_),[[ue,p.slug,void 0,{trim:!0}]])]),i("div",L_,[i("label",Y_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),ne(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":m[2]||(m[2]=E=>p.short_desc=E)},null,512),[[ue,p.short_desc]])]),i("div",X_,[i("label",F_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),ne(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":m[3]||(m[3]=E=>p.long_desc=E)},null,512),[[ue,p.long_desc]])]),i("div",G_,[i("label",V_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),ne(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":m[4]||(m[4]=E=>p.status=E)},[i("option",H_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",B_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",K_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[bt,p.status,void 0,{number:!0}]]),i("p",j_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",J_,[i("label",W_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),ne(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":m[5]||(m[5]=E=>p.featured=E)},null,512),[[wt,p.featured]]),i("p",q_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",z_,[i("label",Q_,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",Z_,[(y(!0),x(Ce,null,Re(p.images,(E,R)=>(y(),x("div",{key:`product-image-${R}`,class:"nxp-ec-image-row"},[ne(i("input",{id:`product-image-${R}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":X=>p.images[R]=X,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,ef),[[ue,p.images[R],void 0,{trim:!0}]]),i("div",tf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:X=>K(R)},[m[9]||(m[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,nf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:X=>S(R,-1),disabled:R===0},u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,sf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:X=>S(R,1),disabled:R===p.images.length-1},u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,of),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:X=>C(R),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},u(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,af)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:w},u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",rf,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",lf,[i("label",cf,u(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),ne(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":m[6]||(m[6]=E=>O.value=E)},[(y(!0),x(Ce,null,Re(v.value,E=>(y(),x("option",{key:E.id,value:E.id},u(g(E)),9,df))),128))],512),[[bt,O.value]]),i("div",uf,[(y(!0),x(Ce,null,Re(p.categories,(E,R)=>(y(),x("span",{key:`selected-category-${R}`,class:"nxp-ec-chip"},[Be(u(E.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:X=>Q(R),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,pf)]))),128))]),i("div",_f,[ne(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":m[7]||(m[7]=E=>_.value=E),onKeydown:Jt(ut(H,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,ff),[[ue,_.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:H},u(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",hf,u(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",mf,[i("header",gf,[i("h3",Sf,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:F},u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",Cf,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price and currency.")),1),(y(!0),x(Ce,null,Re(p.variants,(E,R)=>(y(),x("article",{key:ee(E,R),class:"nxp-ec-variant-card"},[i("header",Ef,[i("h4",bf,u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(R+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:X=>M(R)},u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Af),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:X=>ie(R),disabled:p.variants.length<=1},u(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,Tf)]),i("div",yf,[i("div",Of,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${R}`},u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Rf),ne(i("input",{id:`variant-sku-${R}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":X=>E.sku=X,required:""},null,8,vf),[[ue,E.sku,void 0,{trim:!0}]])]),i("div",xf,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${R}`},u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Nf),ne(i("input",{id:`variant-price-${R}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":X=>E.price=X,onBlur:X=>D(R),required:""},null,40,Pf),[[ue,E.price,void 0,{trim:!0}]])]),i("div",Mf,[i("label",{class:"nxp-ec-form-label",for:`variant-currency-${R}`},u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY","Currency")),9,If),ne(i("input",{id:`variant-currency-${R}`,class:"nxp-ec-form-input",type:"text",maxlength:"3","onUpdate:modelValue":X=>E.currency=X,readonly:"","aria-readonly":"true"},null,8,kf),[[ue,E.currency,void 0,{trim:!0}]]),i("p",wf,u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_HELP","Variants inherit the store base currency (%s).",[a.value])),1)]),i("div",$f,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${R}`},u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Uf),ne(i("input",{id:`variant-stock-${R}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":X=>E.stock=X},null,8,Df),[[ue,E.stock,void 0,{number:!0}]])]),i("div",Lf,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${R}`},u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,Yf),ne(i("input",{id:`variant-weight-${R}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":X=>E.weight=X},null,8,Xf),[[ue,E.weight,void 0,{trim:!0}]])]),i("div",Ff,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${R}`},u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,Gf),ne(i("input",{id:`variant-active-${R}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":X=>E.active=X},null,8,Vf),[[wt,E.active]])])]),i("section",Hf,[i("header",Bf,[i("h5",Kf,u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:X=>_e(R)},u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,jf)]),i("p",Jf,u(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(y(!0),x(Ce,null,Re(E.options,(X,$)=>(y(),x("div",{key:`variant-${R}-option-${$}`,class:"nxp-ec-variant-option-row"},[ne(i("input",{id:`variant-${R}-option-name-${$}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":te=>X.name=te,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,Wf),[[ue,X.name,void 0,{trim:!0}]]),ne(i("input",{id:`variant-${R}-option-value-${$}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":te=>X.value=te,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,qf),[[ue,X.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:te=>oe(R,$),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},u(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,zf)]))),128))])]))),128))]),i("footer",Qf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:J,disabled:e.saving},u(r(n)("JCANCEL","Cancel")),9,Zf),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},u(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,eh)])],32)])])):Oe("",!0)}},[["__scopeId","data-v-ea3cadc5"]]),nh={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},sh={key:1,class:"nxp-ec-skeleton__table"},ih={key:2,class:"nxp-ec-skeleton__card"},oh={key:3,class:"nxp-ec-skeleton__circle"};function ah(e,t,s,o,n,a){return y(),x("div",{class:Me(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(y(),x("div",{key:0,class:"nxp-ec-skeleton__line",style:Yt({width:s.width})},null,4)):s.type==="table"?(y(),x("div",sh,[(y(!0),x(Ce,null,Re(s.rows,l=>(y(),x("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(y(!0),x(Ce,null,Re(s.columns,d=>(y(),x("div",{key:d,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(y(),x("div",ih,[...t[0]||(t[0]=[Cu('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(y(),x("div",oh)):(y(),x("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Yt({width:s.width,height:s.height})},null,4))],2)}const In=At(nh,[["render",ah],["__scopeId","data-v-c8b9a887"]]),rh={class:"nxp-ec-admin-panel"},lh={class:"nxp-ec-admin-panel__header"},ch={class:"nxp-ec-admin-panel__title"},dh={class:"nxp-ec-admin-panel__lead"},uh={class:"nxp-ec-admin-panel__actions"},ph=["placeholder","aria-label"],_h=["disabled","title","aria-label"],fh={class:"nxp-ec-sr-only"},hh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mh={key:1,class:"nxp-ec-admin-panel__body"},gh={key:2,class:"nxp-ec-admin-panel__body"},Sh=["title"],kn=1,cn=-1,ps=0,Ch={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ue({mode:"create",product:null}),l=Ve(!1),d=Se(()=>(s.baseCurrency||"USD").toUpperCase()),p=Se(()=>a.product),_=Se(()=>(s.mediaModalUrl||"").trim()),f=(U,ae=!1)=>{const re=Number(U);if(Number.isFinite(re))return re===cn?cn:re===ps?ps:kn;if(ae)return cn;if(typeof U=="string"){const de=U.trim().toLowerCase();if(de==="out_of_stock"||de==="out-of-stock"||de==="-1")return cn;if(de==="inactive"||de==="0")return ps}return kn},c=(U,ae=!1)=>{const re=f(U,ae);return re===kn?cn:re===cn?ps:kn},g=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",status:kn,active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},v=U=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(U)),l.value=!0},k=()=>{l.value=!1,s.state.validationErrors=[]},O=async U=>{var de,me;const ae=f((de=U.status)!=null?de:U.active,U.out_of_stock),re={...U,status:ae,active:ae,featured:U.featured?1:0};a.mode==="edit"&&((me=a.product)!=null&&me.id)?o("update",{id:a.product.id,data:re}):o("create",re)},N=async U=>{var de;const ae=(de=U==null?void 0:U.title)!=null?de:"",re=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[ae||"#"]);window.confirm(re)&&o("delete",[U.id])},T=U=>{var Q;if(!(U!=null&&U.id)||s.state.saving)return;const ae=c((Q=U.status)!=null?Q:U.active,U.out_of_stock),re=F=>F==null?"":String(F),de=(F,ie=0)=>{const _e=Number(F);return Number.isFinite(_e)?_e:ie},me=Array.isArray(U.variants)?U.variants.map(F=>{var D,Y;if(!F)return null;const ie=re(F.sku).trim();if(!ie)return null;let _e=de(F.price_cents,Number.NaN);if(!Number.isFinite(_e)){const I=re(F.price),V=I?Number.parseFloat(I):NaN;_e=Number.isFinite(V)?Math.round(V*100):NaN}if(!Number.isFinite(_e))return null;const oe=re((D=F.currency)!=null?D:d.value).trim().toUpperCase();if(!oe)return null;const ee=(Y=F.options)!=null?Y:null,M=Math.max(0,Math.round(de(F.stock,0)));return{id:de(F.id,0),sku:ie,price_cents:Math.round(_e),currency:oe,stock:M,options:ee!=null?ee:null,weight:F.weight!==null&&F.weight!==void 0&&F.weight!==""?String(F.weight):null,active:F.active===void 0?!0:!!F.active}}).filter(Boolean):[];if(!me.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const j=Array.isArray(U.categories)?U.categories.map(F=>{if(F==null)return null;if(typeof F=="number")return F>0?{id:F,title:"",slug:""}:null;if(typeof F=="string"&&F.trim()!==""&&Number.isFinite(Number(F))){const _e=Number(F);return _e>0?{id:_e,title:"",slug:""}:null}if(typeof F=="object"){if(F.id){const oe=de(F.id,0);return oe>0?{id:oe,title:"",slug:""}:null}return de(F.id,0)<=0&&!F.title?null:{id:0,title:re(F.title),slug:re(F.slug)}}const ie=re(F).trim();return ie?{id:0,title:ie,slug:""}:null}).filter(Boolean):[],H=Array.isArray(U.images)?U.images.map(F=>re(F).trim()).map(F=>{var ee,M,D;let ie=F;if(!ie)return"";const _e=ie.indexOf("#joomlaImage://");_e!==-1&&(ie=ie.substring(0,_e));const oe=ie.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(oe&&oe[1]&&(ie=oe[1]),typeof window!="undefined")try{const Y=(D=(M=(ee=window.Joomla)==null?void 0:ee.getOptions)==null?void 0:M.call(ee,"system.paths",{}))!=null?D:{},I=Y.rootFull||window.location.origin,V=Y.root||"/";ie.startsWith(I)&&(ie=ie.substring(I.length)),ie.startsWith(V)&&(ie=ie.substring(V.length))}catch(Y){}return ie.trim()}).filter(F=>F!==""):[];s.state.error="",o("update",{id:U.id,data:{title:re(U.title),slug:re(U.slug),short_desc:re(U.short_desc),long_desc:re(U.long_desc),status:ae,active:ae,featured:U.featured?1:0,images:H,variants:me,categories:j}})},z=()=>{o("refresh")},G=()=>{o("search")},P=U=>{if(!U)return"";try{const ae=new Date(U),de=new Date-ae,me=Math.floor(de/1e3),j=Math.floor(me/60),H=Math.floor(j/60);return me<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):j<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[j]):H<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[H]):ae.toLocaleString()}catch(ae){return U}};return Ye(()=>s.state.saving,(U,ae)=>{ae&&!U&&l.value&&!s.state.validationErrors.length&&!s.state.error&&k()}),(U,ae)=>(y(),x("section",rh,[i("header",lh,[i("div",null,[i("h2",ch,u(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",dh,u(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",uh,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":ae[0]||(ae[0]=re=>e.state.search=re),onKeyup:Jt(G,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,ph),[[ue,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:z,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[ae[1]||(ae[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",fh,u(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,_h),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:g},[ae[2]||(ae[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(y(),x("div",hh,u(e.state.error),1)):e.state.loading?(y(),x("div",mh,[He(In,{type:"table",rows:5,columns:5})])):(y(),x("div",gh,[He(b_,{items:e.state.items,translate:r(n),"base-currency":d.value,saving:e.state.saving,onEdit:v,onDelete:N,onToggleActive:T},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(P(e.state.lastUpdated)),9,Sh)):Oe("",!0)])),He(th,{open:l.value,product:p.value,saving:e.state.saving,"base-currency":d.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":_.value,onSubmit:O,onCancel:k},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Eh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},bh={class:"nxp-ec-admin-panel__header"},Ah={class:"nxp-ec-admin-panel__title"},Th={class:"nxp-ec-admin-panel__lead"},yh={class:"nxp-ec-admin-panel__actions"},Oh=["placeholder","aria-label"],Rh=["disabled","title","aria-label"],vh={class:"nxp-ec-sr-only"},xh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Nh={key:1,class:"nxp-ec-admin-panel__body"},Ph={key:2,class:"nxp-ec-admin-panel__body"},Mh={class:"nxp-ec-admin-panel__table"},Ih={class:"nxp-ec-admin-table"},kh={scope:"col"},wh={scope:"col"},$h={scope:"col"},Uh={scope:"col"},Dh={scope:"col"},Lh={key:0},Yh={colspan:"6"},Xh={scope:"row"},Fh={class:"nxp-ec-admin-table__actions"},Gh=["onClick","title","aria-label"],Vh={class:"nxp-ec-sr-only"},Hh=["disabled","onClick","title","aria-label"],Bh={class:"nxp-ec-sr-only"},Kh={key:0,class:"nxp-ec-admin-pagination"},jh=["disabled"],Jh={class:"nxp-ec-admin-pagination__status"},Wh=["disabled"],qh=["title"],zh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Qh={class:"nxp-ec-modal__dialog"},Zh={class:"nxp-ec-modal__header"},em={class:"nxp-ec-modal__title"},tm=["title","aria-label"],nm={class:"nxp-ec-sr-only"},sm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},im={class:"nxp-ec-form-field"},om={class:"nxp-ec-form-label",for:"category-title"},am={class:"nxp-ec-form-field"},rm={class:"nxp-ec-form-label",for:"category-slug"},lm={class:"nxp-ec-form-field"},cm={class:"nxp-ec-form-label",for:"category-parent"},dm={value:""},um=["value"],pm={class:"nxp-ec-form-field"},_m={class:"nxp-ec-form-label",for:"category-sort"},fm={class:"nxp-ec-modal__actions"},hm=["disabled"],mm={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ve(!1),l=Ve(!1),d=Ve([]),p=j=>{const Q=(Array.isArray(j)?j:[]).map(I=>{var V,Z,le,Te,be;return{...I,id:Number.parseInt((V=I==null?void 0:I.id)!=null?V:0,10)||0,parent_id:(I==null?void 0:I.parent_id)!=null&&Number.parseInt(I.parent_id,10)||0,sort:Number.parseInt((Z=I==null?void 0:I.sort)!=null?Z:0,10)||0,title:String((le=I==null?void 0:I.title)!=null?le:"").trim(),slug:String((Te=I==null?void 0:I.slug)!=null?Te:"").trim(),usage:(be=I==null?void 0:I.usage)!=null?be:0}}).filter(I=>I.id>0||I.title!==""),F=new Set(Q.map(I=>I.id));Q.forEach(I=>{F.has(I.parent_id)||(I.parent_id=0)});const ie=new Map,_e=new Map;Q.forEach(I=>{_e.set(I.id,I);const V=I.parent_id||0;ie.has(V)||ie.set(V,[]),ie.get(V).push(I)});const oe=I=>I.sort((V,Z)=>{var le,Te;return((le=V.sort)!=null?le:0)-((Te=Z.sort)!=null?Te:0)||V.title.localeCompare(Z.title,void 0,{sensitivity:"base"})});ie.forEach(oe);const ee=new Set,M=[],D=(I,V,Z)=>{if(!I||ee.has(I.id)||Z.includes(I.id))return;const le=[...Z],Te=le.map(w=>{var C;return(C=_e.get(w))==null?void 0:C.title}).filter(Boolean),be={...I,depth:V,path:Te.join(" / "),ancestors:le,indentedTitle:V>0?`${" ".repeat(V)}${I.title}`:I.title};M.push(be),ee.add(I.id),(ie.get(I.id)||[]).forEach(w=>D(w,V+1,[...Z,I.id]))},Y=Q.filter(I=>I.parent_id===0||!F.has(I.parent_id));return oe(Y),Y.forEach(I=>D(I,0,[])),Q.forEach(I=>{ee.has(I.id)||D(I,0,[])}),M},_=Se(()=>{var j,H;return p((H=(j=s.state)==null?void 0:j.items)!=null?H:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),c=Ue(f()),g=Se(()=>{var H,Q;const j=(Q=Array.isArray(d.value)&&d.value.length?d.value:(H=s.state)==null?void 0:H.items)!=null?Q:[];return p(j).filter(F=>F.id>0&&F.id!==c.id&&!(Array.isArray(F.ancestors)&&F.ancestors.includes(c.id))).map(F=>({id:F.id,title:F.title,label:F.depth>0?`${" ".repeat(F.depth)}${F.title}`:F.title}))}),v=()=>{Object.assign(c,f()),l.value=!1},k=j=>j?j.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",O=()=>{l.value=!0,c.slug=k(c.slug)};Ye(()=>c.title,j=>{l.value||(c.slug=k(j))});const N=async(j=0)=>{if(typeof s.loadOptions!="function"){d.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const H=await s.loadOptions();d.value=Array.isArray(H)?[...H]:[]}catch(H){d.value=[]}d.value=d.value.filter(H=>{var F,ie;return(Number.parseInt((ie=(F=H==null?void 0:H.id)!=null?F:H==null?void 0:H.value)!=null?ie:0,10)||0)!==j})},T=async()=>{v(),await N(),a.value=!0},z=async j=>{var H,Q,F,ie;j&&(c.id=Number.parseInt((H=j.id)!=null?H:0,10)||0,c.title=String((Q=j.title)!=null?Q:"").trim(),c.slug=String((F=j.slug)!=null?F:"").trim(),c.parent_id=j.parent_id!=null&&Number.parseInt(j.parent_id,10)||null,c.sort=Number.parseInt((ie=j.sort)!=null?ie:0,10)||0,l.value=!!c.slug,await N(c.id),a.value=!0)},G=()=>{a.value=!1,v()},P=()=>{o("refresh")},U=()=>{o("search")},ae=j=>{o("page",j)},re=()=>{const j={id:c.id||void 0,title:c.title.trim(),slug:c.slug.trim(),parent_id:c.parent_id||null,sort:Number.isFinite(c.sort)?c.sort:0};o("save",j)},de=j=>{if(!j||!j.id)return;const H=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(H)||o("delete",[j.id])},me=j=>{if(!j)return"";try{const H=new Date(j),F=new Date-H,ie=Math.floor(F/1e3),_e=Math.floor(ie/60),oe=Math.floor(_e/60);return ie<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):_e<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[_e]):oe<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[oe]):H.toLocaleString()}catch(H){return j}};return Ye(()=>{var j;return(j=s.state)==null?void 0:j.saving},(j,H)=>{var Q,F,ie;H&&!j&&(((F=(Q=s.state)==null?void 0:Q.validationErrors)!=null?F:[]).length>0||(ie=s.state)!=null&&ie.error||(a.value=!1,v()))}),(j,H)=>(y(),x("section",Eh,[i("header",bh,[i("div",null,[i("h2",Ah,u(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",Th,u(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",yh,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":H[0]||(H[0]=Q=>e.state.search=Q),onKeyup:Jt(U,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Oh),[[ue,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:P,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[H[7]||(H[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",vh,u(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Rh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:T},[H[8]||(H[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(y(),x("div",xh,u(e.state.error),1)):e.state.loading?(y(),x("div",Nh,[He(In,{type:"table",rows:5,columns:5})])):(y(),x("div",Ph,[i("div",Mh,[i("table",Ih,[i("thead",null,[i("tr",null,[i("th",kh,u(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",wh,u(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",$h,u(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Uh,u(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Dh,u(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),H[9]||(H[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Oe("",!0):(y(),x("tr",Lh,[i("td",Yh,u(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(y(!0),x(Ce,null,Re(_.value,Q=>{var F;return y(),x("tr",{key:Q.id,class:Me({"is-active":c.id===Q.id})},[i("th",Xh,[i("span",{style:Yt({paddingLeft:`${Q.depth*1.5}rem`})},u(Q.indentedTitle),5)]),i("td",null,u(Q.slug||""),1),i("td",null,u(Q.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),i("td",null,u(Q.sort),1),i("td",null,u((F=Q.usage)!=null?F:0),1),i("td",Fh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ie=>z(Q),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[H[10]||(H[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",Vh,u(r(n)("JEDIT","Edit")),1)],8,Gh),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:ie=>de(Q),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[H[11]||(H[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",Bh,u(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Hh)])],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",Kh,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:H[1]||(H[1]=Q=>ae(e.state.pagination.current-1))},"  ",8,jh),i("span",Jh,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:H[2]||(H[2]=Q=>ae(e.state.pagination.current+1))},"  ",8,Wh)])):Oe("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(me(e.state.lastUpdated)),9,qh)):Oe("",!0),a.value?(y(),x("div",zh,[i("div",{class:"nxp-ec-modal__backdrop",onClick:G}),i("div",Qh,[i("header",Zh,[i("h3",em,u(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:G,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[H[12]||(H[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",nm,u(r(n)("JCLOSE","Close")),1)],8,tm)]),i("form",{class:"nxp-ec-form",onSubmit:ut(re,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(y(),x("div",sm,[i("ul",null,[(y(!0),x(Ce,null,Re(e.state.validationErrors,(Q,F)=>(y(),x("li",{key:F},u(Q),1))),128))])])):Oe("",!0),i("div",im,[i("label",om,u(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),ne(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H[3]||(H[3]=Q=>c.title=Q),required:"",maxlength:"255"},null,512),[[ue,c.title,void 0,{trim:!0}]])]),i("div",am,[i("label",rm,u(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),ne(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":H[4]||(H[4]=Q=>c.slug=Q),maxlength:"190",onInput:O},null,544),[[ue,c.slug,void 0,{trim:!0}]])]),i("div",lm,[i("label",cm,u(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),ne(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":H[5]||(H[5]=Q=>c.parent_id=Q)},[i("option",dm,u(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(y(!0),x(Ce,null,Re(g.value,Q=>(y(),x("option",{key:Q.id,value:Q.id},u(Q.label),9,um))),128))],512),[[bt,c.parent_id,void 0,{number:!0}]])]),i("div",pm,[i("label",_m,u(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),ne(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":H[6]||(H[6]=Q=>c.sort=Q),min:"0",step:"1"},null,512),[[ue,c.sort,void 0,{number:!0}]])]),i("footer",fm,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[H[13]||(H[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,hm),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:G},[H[14]||(H[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):Oe("",!0)]))]))}},gm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Sm={class:"nxp-ec-admin-panel__header"},Cm={class:"nxp-ec-admin-panel__title"},Em={class:"nxp-ec-admin-panel__lead"},bm={class:"nxp-ec-admin-panel__actions"},Am=["placeholder","aria-label"],Tm=["aria-label"],ym={value:""},Om=["value"],Rm=["disabled","title","aria-label"],vm={class:"nxp-ec-sr-only"},xm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Nm={key:1,class:"nxp-ec-admin-panel__body"},Pm={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},Mm={class:"nxp-ec-admin-panel__table"},Im={key:0,class:"nxp-ec-admin-panel__selection"},km=["aria-label"],wm={value:""},$m=["value"],Um=["disabled"],Dm=["title","aria-label"],Lm={class:"nxp-ec-sr-only"},Ym={class:"nxp-ec-admin-table"},Xm={scope:"col",class:"nxp-ec-admin-table__select"},Fm={scope:"col"},Gm={scope:"col"},Vm={scope:"col"},Hm={scope:"col"},Bm={scope:"col"},Km={scope:"col",class:"nxp-ec-admin-table__actions"},jm={key:0},Jm={colspan:"7"},Wm={class:"nxp-ec-admin-table__select"},qm=["checked","onChange","aria-label"],zm={scope:"row"},Qm=["onClick"],Zm={class:"nxp-ec-admin-table__meta"},eg={class:"nxp-ec-badge"},tg={class:"nxp-ec-admin-table__actions"},ng=["onUpdate:modelValue","aria-label"],sg=["value"],ig=["value"],og=["disabled","onClick"],ag={key:1,class:"nxp-ec-admin-pagination"},rg=["disabled"],lg={class:"nxp-ec-admin-pagination__status"},cg=["disabled"],dg=["title"],ug={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},pg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},_g={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},fg={class:"nxp-ec-admin-panel__sidebar-header"},hg=["title","aria-label"],mg={class:"nxp-ec-sr-only"},gg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Sg={class:"nxp-ec-admin-panel__section"},Cg={class:"nxp-ec-admin-list"},Eg={class:"nxp-ec-admin-list__title"},bg={class:"nxp-ec-admin-list__meta"},Ag={class:"nxp-ec-admin-panel__section"},Tg={class:"nxp-ec-admin-panel__total"},yg={class:"nxp-ec-admin-panel__section"},Og={class:"nxp-ec-admin-address"},Rg={class:"nxp-ec-admin-panel__section"},vg={key:0,class:"nxp-ec-admin-address"},xg={key:1,class:"nxp-ec-admin-panel__muted"},Ng={key:1,class:"nxp-ec-admin-panel__section"},Pg={class:"nxp-ec-admin-list"},Mg={class:"nxp-ec-admin-list__title"},Ig={class:"nxp-ec-admin-list__meta"},kg={class:"nxp-ec-admin-panel__section"},wg=["placeholder"],$g={class:"nxp-ec-admin-form__actions"},Ug=["disabled"],Dg={class:"nxp-ec-admin-panel__section"},Lg={key:0,class:"nxp-ec-admin-list"},Yg={class:"nxp-ec-admin-list__title"},Xg={class:"nxp-ec-admin-list__meta"},Fg={key:1,class:"nxp-ec-admin-panel__muted"},Gg=At({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ue({}),l=Ve(""),d=Ve(""),p=Se(()=>d.value.trim().length>0),_=Se(()=>{var D;const M=(D=s.state)==null?void 0:D.selection;return!M||typeof M.values!="function"?[]:Array.from(M.values())}),f=Se(()=>_.value.length>0);Ye(_,M=>{M.length||(l.value="")}),Ye(()=>{var M;return(M=s.state.activeOrder)==null?void 0:M.id},()=>{d.value=""}),Ye(()=>s.state.items,M=>{Array.isArray(M)&&M.forEach(D=>{!D||typeof D.id=="undefined"||a[D.id]||(a[D.id]=D.state)})},{immediate:!0});const c=(M,D)=>{const Y=(Number(M)||0)/100,I=(D||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:I}).format(Y)}catch(V){return`${I} ${Y.toFixed(2)}`}},g=M=>{if(!M)return"";const D=new Date(M);return Number.isNaN(D.getTime())?M:D.toLocaleString()},v=M=>M===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(M)]),k=M=>{if(!M)return"";const D=`COM_NXPEASYCART_ORDERS_STATE_${String(M).toUpperCase()}`;return n(D,M)},O=M=>s.state.orderStates.filter(D=>D!==M.state),N=M=>(a[M.id]||M.state)!==M.state,T=M=>!M||typeof M!="object"?[]:Object.entries(M).filter(([,D])=>D!=null&&`${D}`.trim()!=="").map(([D,Y])=>({key:D,value:`${Y}`.trim()})),z=()=>{o("refresh")},G=()=>{o("search")},P=()=>{o("filter",s.state.filterState)},U=M=>{o("view",M)},ae=()=>{o("close")},re=M=>{const D=a[M.id]||M.state;D!==M.state&&o("transition",{id:M.id,state:D})},de=M=>{o("page",M)},me=M=>{var D,Y,I,V;return(V=(I=(Y=(D=s.state)==null?void 0:D.selection)==null?void 0:Y.has)==null?void 0:I.call(Y,M))!=null?V:!1},j=M=>{o("toggle-selection",M)},H=()=>{l.value="",o("clear-selection")},Q=()=>{!f.value||!l.value||o("bulk-transition",{ids:[..._.value],state:l.value})},F=()=>{if(!s.state.activeOrder)return;const M=d.value.trim();M&&(o("add-note",{id:s.state.activeOrder.id,message:M}),d.value="")},ie=Se(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(_.value.length)],"ordersSelectedCount")),_e=M=>{var D,Y,I,V,Z,le,Te,be,se,w,C,S;if(!M||!M.action)return"";switch(M.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const Ee=k((Y=(D=M.context)==null?void 0:D.from)!=null?Y:""),h=k((V=(I=M.context)==null?void 0:I.to)!=null?V:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[Ee||((Z=M.context)==null?void 0:Z.from)||"",h||((le=M.context)==null?void 0:le.to)||""],"ordersTimelineState")}case"order.note":return((Te=M.context)==null?void 0:Te.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const Ee=((be=M.context)==null?void 0:be.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),h=c((w=(se=M.context)==null?void 0:se.amount_cents)!=null?w:0,(S=(C=s.state)==null?void 0:C.activeOrder)==null?void 0:S.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[Ee,h],"ordersTimelinePaymentRecorded")}default:return M.action}},oe=M=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(M.status||"").toUpperCase()}`,M.status||""),ee=M=>{if(!M)return"";try{const D=new Date(M),I=new Date-D,V=Math.floor(I/1e3),Z=Math.floor(V/60),le=Math.floor(Z/60);return V<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Z<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Z]):le<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[le]):D.toLocaleString()}catch(D){return M}};return(M,D)=>(y(),x("section",gm,[i("header",Sm,[i("div",null,[i("h2",Cm,u(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",Em,u(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",bm,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=Y=>e.state.search=Y),onKeyup:Jt(G,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Am),[[ue,e.state.search]]),ne(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":D[1]||(D[1]=Y=>e.state.filterState=Y),onChange:P,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",ym,"  "+u(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(y(!0),x(Ce,null,Re(e.state.orderStates,Y=>(y(),x("option",{key:Y,value:Y},u(k(Y)),9,Om))),128))],40,Tm),[[bt,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:z,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[D[6]||(D[6]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",vm,u(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Rm)])]),e.state.error?(y(),x("div",xm,u(e.state.error),1)):e.state.loading?(y(),x("div",Nm,[He(In,{type:"table",rows:5,columns:7})])):(y(),x("div",Pm,[i("div",Mm,[f.value?(y(),x("div",Im,[i("span",null,u(ie.value),1),ne(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":D[2]||(D[2]=Y=>l.value=Y),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",wm,u(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(y(!0),x(Ce,null,Re(e.state.orderStates,Y=>(y(),x("option",{key:`bulk-${Y}`,value:Y},u(k(Y)),9,$m))),128))],8,km),[[bt,l.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!l.value||e.state.saving,onClick:Q},[D[7]||(D[7]=i("i",{class:"fa-solid fa-check"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,Um),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:H,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[D[8]||(D[8]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",Lm,u(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,Dm)])):Oe("",!0),i("table",Ym,[i("thead",null,[i("tr",null,[i("th",Xm,u(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",Fm,u(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",Gm,u(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",Vm,u(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",Hm,u(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",Bm,u(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",Km,u(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?Oe("",!0):(y(),x("tr",jm,[i("td",Jm,u(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(y(!0),x(Ce,null,Re(e.state.items,Y=>{var I,V,Z;return y(),x("tr",{key:Y.id,class:Me({"is-active":e.state.activeOrder&&e.state.activeOrder.id===Y.id})},[i("td",Wm,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:me(Y.id),onChange:le=>j(Y.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,qm)]),i("th",zm,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:le=>U(Y)},u(Y.order_no),9,Qm)]),i("td",null,[i("div",null,u(Y.email),1),i("div",Zm,u(v((Z=Y.items_count)!=null?Z:(V=(I=Y.items)==null?void 0:I.length)!=null?V:0)),1)]),i("td",null,u(c(Y.total_cents,Y.currency)),1),i("td",null,[i("span",eg,u(k(Y.state)),1)]),i("td",null,u(g(Y.modified||Y.created)),1),i("td",tg,[ne(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":le=>a[Y.id]=le,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:Y.state},u(k(Y.state)),9,sg),(y(!0),x(Ce,null,Re(O(Y),le=>(y(),x("option",{key:le,value:le},u(k(le)),9,ig))),128))],8,ng),[[bt,a[Y.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!N(Y),onClick:le=>re(Y)},u(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,og)])],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",ag,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[3]||(D[3]=Y=>de(e.state.pagination.current-1))},"  ",8,rg),i("span",lg,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[4]||(D[4]=Y=>de(e.state.pagination.current+1))},"  ",8,cg)])):Oe("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(ee(e.state.lastUpdated)),9,dg)):Oe("",!0),e.state.activeOrder?(y(),x("div",ug,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:ae}),i("div",pg,[i("aside",_g,[i("header",fg,[i("h3",null,u(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+u(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:ae,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[D[9]||(D[9]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",mg,u(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,hg)]),e.state.transitionError?(y(),x("div",gg,u(e.state.transitionError),1)):Oe("",!0),i("section",Sg,[i("h4",null,u(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",Cg,[(y(!0),x(Ce,null,Re(e.state.activeOrder.items,Y=>(y(),x("li",{key:Y.id},[i("div",Eg,[Be(u(Y.title)+" ",1),i("small",null,"("+u(Y.sku)+")",1)]),i("div",bg,"  "+u(Y.qty)+"  "+u(c(Y.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",Ag,[i("h4",null,u(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",Tg,u(c(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",yg,[i("h4",null,u(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",Og,[(y(!0),x(Ce,null,Re(T(e.state.activeOrder.billing),Y=>(y(),x("span",{key:Y.key},u(Y.value),1))),128))])]),i("section",Rg,[i("h4",null,u(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(y(),x("address",vg,[(y(!0),x(Ce,null,Re(T(e.state.activeOrder.shipping),Y=>(y(),x("span",{key:Y.key},u(Y.value),1))),128))])):(y(),x("p",xg,u(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(y(),x("section",Ng,[i("h4",null,u(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",Pg,[(y(!0),x(Ce,null,Re(e.state.activeOrder.transactions,Y=>(y(),x("li",{key:Y.id},[i("div",Mg,u(Y.gateway)+"  "+u(c(Y.amount_cents,e.state.activeOrder.currency)),1),i("div",Ig,u(oe(Y))+"  "+u(g(Y.created)),1)]))),128))])])):Oe("",!0),i("section",kg,[i("h4",null,u(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:ut(F,["prevent"])},[ne(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":D[5]||(D[5]=Y=>d.value=Y),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,wg),[[ue,d.value]]),i("div",$g,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[D[10]||(D[10]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,Ug)])],32)]),i("section",Dg,[i("h4",null,u(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),e.state.activeOrder.timeline&&e.state.activeOrder.timeline.length?(y(),x("ul",Lg,[(y(!0),x(Ce,null,Re(e.state.activeOrder.timeline,Y=>(y(),x("li",{key:Y.id},[i("div",Yg,u(_e(Y)),1),i("div",Xg,u(g(Y.created)),1)]))),128))])):(y(),x("p",Fg,u(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):Oe("",!0)]))]))}},[["__scopeId","data-v-f2999fa9"]]),Vg={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},Hg={class:"nxp-ec-admin-panel__header"},Bg={class:"nxp-ec-admin-panel__title"},Kg={class:"nxp-ec-admin-panel__lead"},jg={class:"nxp-ec-admin-panel__actions"},Jg=["placeholder","aria-label"],Wg=["disabled","title","aria-label"],qg={class:"nxp-ec-sr-only"},zg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Qg={key:1,class:"nxp-ec-admin-panel__body"},Zg={key:2,class:"nxp-ec-admin-panel__body"},eS={class:"nxp-ec-admin-panel__table"},tS={class:"nxp-ec-admin-table"},nS={scope:"col"},sS={scope:"col"},iS={scope:"col"},oS={scope:"col"},aS={scope:"col"},rS={key:0},lS={colspan:"5"},cS={scope:"row"},dS=["onClick"],uS={key:0,class:"nxp-ec-admin-pagination"},pS=["disabled"],_S={class:"nxp-ec-admin-pagination__status"},fS=["disabled"],hS=["title"],mS={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},gS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},SS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},CS={class:"nxp-ec-admin-panel__sidebar-header"},ES=["title","aria-label"],bS={class:"nxp-ec-sr-only"},AS={class:"nxp-ec-admin-panel__section"},TS={class:"nxp-ec-admin-summary"},yS={class:"nxp-ec-admin-panel__section"},OS={class:"nxp-ec-admin-address"},RS={class:"nxp-ec-admin-panel__section"},vS={key:0,class:"nxp-ec-admin-address"},xS={key:1,class:"nxp-ec-admin-panel__muted"},NS={class:"nxp-ec-admin-panel__section"},PS={key:0,class:"nxp-ec-admin-list"},MS={class:"nxp-ec-admin-list__title"},IS={class:"nxp-ec-admin-list__meta"},kS={key:1,class:"nxp-ec-admin-panel__muted"},wS=At({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=(O,N)=>{const T=(Number(O)||0)/100,z=(N||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:z}).format(T)}catch(G){return`${z} ${T.toFixed(2)}`}},l=O=>{if(!O)return"";const N=new Date(O);return Number.isNaN(N.getTime())?O:N.toLocaleString()},d=O=>!O||typeof O!="object"?[]:Object.entries(O).filter(([,N])=>N!=null&&`${N}`.trim()!=="").map(([N,T])=>({key:N,value:`${T}`.trim()})),p=O=>{if(!O)return"";const N=`COM_NXPEASYCART_ORDERS_STATE_${String(O).toUpperCase()}`;return n(N,O)},_=()=>o("refresh"),f=()=>o("search"),c=O=>o("page",O),g=O=>o("view",O),v=()=>o("close"),k=O=>{if(!O)return"";try{const N=new Date(O),z=new Date-N,G=Math.floor(z/1e3),P=Math.floor(G/60),U=Math.floor(P/60);return G<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):P<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[P]):U<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[U]):N.toLocaleString()}catch(N){return O}};return(O,N)=>{var T,z,G;return y(),x("section",Vg,[i("header",Hg,[i("div",null,[i("h2",Bg,u(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",Kg,u(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",jg,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":N[0]||(N[0]=P=>e.state.search=P),onKeyup:Jt(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,Jg),[[ue,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[N[3]||(N[3]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",qg,u(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,Wg)])]),e.state.error?(y(),x("div",zg,u(e.state.error),1)):e.state.loading?(y(),x("div",Qg,[He(In,{type:"table",rows:5,columns:5})])):(y(),x("div",Zg,[i("div",eS,[i("table",tS,[i("thead",null,[i("tr",null,[i("th",nS,u(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",sS,u(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",iS,u(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",oS,u(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",aS,u(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?Oe("",!0):(y(),x("tr",rS,[i("td",lS,u(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(y(!0),x(Ce,null,Re(e.state.items,P=>{var U;return y(),x("tr",{key:P.email,class:Me({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===P.email})},[i("th",cS,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:ae=>g(P)},u(P.email),9,dS)]),i("td",null,u(((U=P.meta)==null?void 0:U.name)||""),1),i("td",null,u(P.orders_count),1),i("td",null,u(a(P.total_spent_cents,P.currency||e.baseCurrency)),1),i("td",null,u(l(P.last_order)),1)],2)}),128))])]),e.state.pagination.pages>1?(y(),x("div",uS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:N[1]||(N[1]=P=>c(e.state.pagination.current-1))},"  ",8,pS),i("span",_S,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:N[2]||(N[2]=P=>c(e.state.pagination.current+1))},"  ",8,fS)])):Oe("",!0)]),e.state.lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},u(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(k(e.state.lastUpdated)),9,hS)):Oe("",!0),e.state.activeCustomer?(y(),x("div",mS,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:v}),i("div",gS,[i("aside",SS,[i("header",CS,[i("h3",null,u(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:v,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[N[4]||(N[4]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",bS,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,ES)]),i("section",AS,[i("h4",null,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",TS,[i("div",null,[i("dt",null,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,u(((T=e.state.activeCustomer.meta)==null?void 0:T.name)||""),1)]),i("div",null,[i("dt",null,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,u(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,u(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,u(l(e.state.activeCustomer.last_order)),1)])])]),i("section",yS,[i("h4",null,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",OS,[(y(!0),x(Ce,null,Re(d((z=e.state.activeCustomer.meta)==null?void 0:z.billing),P=>(y(),x("span",{key:P.key},u(P.value),1))),128))])]),i("section",RS,[i("h4",null,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(G=e.state.activeCustomer.meta)!=null&&G.shipping?(y(),x("address",vS,[(y(!0),x(Ce,null,Re(d(e.state.activeCustomer.meta.shipping),P=>(y(),x("span",{key:P.key},u(P.value),1))),128))])):(y(),x("p",xS,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",NS,[i("h4",null,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(y(),x("ul",PS,[(y(!0),x(Ce,null,Re(e.state.activeCustomer.orders,P=>(y(),x("li",{key:P.id},[i("div",MS,u(P.order_no)+"  "+u(a(P.total_cents,P.currency||e.baseCurrency)),1),i("div",IS,u(p(P.state))+"  "+u(l(P.created)),1)]))),128))])):(y(),x("p",kS,u(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))])])])])):Oe("",!0)]))])}}},[["__scopeId","data-v-f2676e0d"]]),$S={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},US={class:"nxp-ec-admin-panel__header"},DS={class:"nxp-ec-admin-panel__title"},LS={class:"nxp-ec-admin-panel__lead"},YS={class:"nxp-ec-admin-panel__actions"},XS=["placeholder","aria-label"],FS=["disabled","title","aria-label"],GS={class:"nxp-ec-sr-only"},VS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},HS={key:1,class:"nxp-ec-admin-panel__loading"},BS={key:2,class:"nxp-ec-admin-panel__body"},KS={class:"nxp-ec-admin-panel__table"},jS={class:"nxp-ec-admin-table"},JS={scope:"col"},WS={scope:"col"},qS={scope:"col"},zS={scope:"col"},QS={scope:"col"},ZS={scope:"col"},eC={key:0},tC={colspan:"7"},nC={scope:"row"},sC={class:"nxp-ec-admin-table__actions"},iC=["onClick","title","aria-label"],oC={class:"nxp-ec-sr-only"},aC=["onClick","title","aria-label"],rC={class:"nxp-ec-sr-only"},lC={key:0,class:"nxp-ec-admin-pagination"},cC=["disabled"],dC={class:"nxp-ec-admin-pagination__status"},uC=["disabled"],pC={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},_C={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},fC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},hC={class:"nxp-ec-admin-panel__sidebar-header"},mC=["title","aria-label"],gC={class:"nxp-ec-sr-only"},SC={class:"nxp-ec-form-field"},CC={class:"nxp-ec-form-label",for:"coupon-code"},EC={class:"nxp-ec-form-field"},bC={class:"nxp-ec-form-label",for:"coupon-type"},AC={value:"percent"},TC={value:"fixed"},yC={class:"nxp-ec-form-field"},OC={class:"nxp-ec-form-label",for:"coupon-value"},RC={class:"nxp-ec-form-field"},vC={class:"nxp-ec-form-label",for:"coupon-min-total"},xC={class:"nxp-ec-form-field"},NC={class:"nxp-ec-form-label",for:"coupon-start"},PC={class:"nxp-ec-form-field"},MC={class:"nxp-ec-form-label",for:"coupon-end"},IC={class:"nxp-ec-form-field"},kC={class:"nxp-ec-form-label",for:"coupon-max-uses"},wC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$C={class:"nxp-ec-form-label",for:"coupon-active"},UC={class:"nxp-ec-modal__actions"},DC=["disabled"],LC=["disabled"],YC=["disabled"],XC=At({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Se(()=>(s.baseCurrency||"USD").toUpperCase()),l=Ue({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),d=Se(()=>l.open),p=()=>o("refresh"),_=()=>o("search"),f=G=>o("page",G),c=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},g=G=>{var P,U;Object.assign(l,{open:!0,id:G.id,code:G.code,type:G.type,value:G.value,min_total:(U=G.min_total)!=null?U:((P=G.min_total_cents)!=null?P:0)/100,start:G.start?G.start.substring(0,10):"",end:G.end?G.end.substring(0,10):"",max_uses:G.max_uses,active:G.active})},v=()=>{l.open=!1},k=()=>{const G={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",G)},O=G=>{const P=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(P)&&(o("delete",[G.id]),l.id===G.id&&v())},N=(G,P)=>{const U=(Number(G)||0)/100,ae=(P||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ae}).format(U)}catch(re){return`${ae} ${U.toFixed(2)}`}},T=G=>G.type==="percent"?`${G.value}%`:N(G.value*100,a.value),z=G=>G==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Ye(()=>s.state.saving,(G,P)=>{P&&!G&&!s.state.error&&l.open&&v()}),(G,P)=>(y(),x("section",$S,[i("header",US,[i("div",null,[i("h2",DS,u(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",LS,u(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",YS,[ne(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":P[0]||(P[0]=U=>e.state.search=U),onKeyup:Jt(_,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,XS),[[ue,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[P[12]||(P[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",GS,u(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,FS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:c},[P[13]||(P[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(y(),x("div",VS,u(e.state.error),1)):e.state.loading?(y(),x("div",HS,u(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(y(),x("div",BS,[i("div",KS,[i("table",jS,[i("thead",null,[i("tr",null,[i("th",JS,u(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",WS,u(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",qS,u(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",zS,u(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",QS,u(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",ZS,u(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),P[14]||(P[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Oe("",!0):(y(),x("tr",eC,[i("td",tC,u(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(y(!0),x(Ce,null,Re(e.state.items,U=>(y(),x("tr",{key:U.id,class:Me({"is-active":l.id===U.id})},[i("th",nC,u(U.code),1),i("td",null,u(z(U.type)),1),i("td",null,u(T(U)),1),i("td",null,u(N(U.min_total_cents,a.value)),1),i("td",null,[i("span",{class:Me(["nxp-ec-badge",{"is-active":U.active}])},[i("i",{class:Me(U.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Be(" "+u(U.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)]),i("td",null,u(U.times_used)+u(U.max_uses?` / ${U.max_uses}`:""),1),i("td",sC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ae=>g(U),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[P[15]||(P[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",oC,u(r(n)("JEDIT","Edit")),1)],8,iC),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ae=>O(U),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[P[16]||(P[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",rC,u(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,aC)])],2))),128))])]),e.state.pagination.pages>1?(y(),x("div",lC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:P[1]||(P[1]=U=>f(e.state.pagination.current-1))},"  ",8,cC),i("span",dC,u(e.state.pagination.current)+" / "+u(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:P[2]||(P[2]=U=>f(e.state.pagination.current+1))},"  ",8,uC)])):Oe("",!0)]),d.value?(y(),x("div",pC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:v}),i("div",_C,[i("aside",fC,[i("header",hC,[i("h3",null,u(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:v,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[P[17]||(P[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",gC,u(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,mC)]),i("form",{class:"nxp-ec-form",onSubmit:ut(k,["prevent"]),autocomplete:"off"},[i("div",SC,[i("label",CC,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),ne(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":P[3]||(P[3]=U=>l.code=U),required:"",maxlength:"64"},null,512),[[ue,l.code,void 0,{trim:!0}]])]),i("div",EC,[i("label",bC,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),ne(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":P[4]||(P[4]=U=>l.type=U)},[i("option",AC,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",TC,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[bt,l.type]])]),i("div",yC,[i("label",OC,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),ne(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":P[5]||(P[5]=U=>l.value=U),required:""},null,512),[[ue,l.value,void 0,{number:!0}]])]),i("div",RC,[i("label",vC,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),ne(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":P[6]||(P[6]=U=>l.min_total=U)},null,512),[[ue,l.min_total,void 0,{number:!0}]])]),i("div",xC,[i("label",NC,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),ne(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":P[7]||(P[7]=U=>l.start=U)},null,512),[[ue,l.start]])]),i("div",PC,[i("label",MC,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),ne(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":P[8]||(P[8]=U=>l.end=U)},null,512),[[ue,l.end]])]),i("div",IC,[i("label",kC,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),ne(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":P[9]||(P[9]=U=>l.max_uses=U)},null,512),[[ue,l.max_uses,void 0,{number:!0}]])]),i("div",wC,[i("label",$C,u(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),ne(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":P[10]||(P[10]=U=>l.active=U)},null,512),[[wt,l.active]])]),i("footer",UC,[i("button",{class:"nxp-ec-btn",type:"button",onClick:v,disabled:e.state.saving},u(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,DC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},u(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,LC)]),l.id?(y(),x("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:P[11]||(P[11]=U=>O(l)),disabled:e.state.saving},[P[18]||(P[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Be(" "+u(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,YC)):Oe("",!0)],32)])])])):Oe("",!0)]))]))}},[["__scopeId","data-v-f3fb8685"]]),FC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},GC={class:"nxp-ec-admin-panel__header"},VC={class:"nxp-ec-admin-panel__title"},HC={class:"nxp-ec-admin-panel__lead"},BC={class:"nxp-ec-settings-tabs"},KC={key:0,class:"nxp-ec-settings-panel"},jC={class:"nxp-ec-settings-panel__header"},JC=["disabled"],WC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qC={key:1,class:"nxp-ec-admin-panel__loading"},zC={class:"nxp-ec-form-field"},QC={class:"nxp-ec-form-label",for:"settings-store-name"},ZC={class:"nxp-ec-form-field"},eE={class:"nxp-ec-form-label",for:"settings-store-email"},tE={class:"nxp-ec-form-field"},nE={class:"nxp-ec-form-label",for:"settings-store-phone"},sE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iE={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},oE={class:"nxp-ec-form-help"},aE={class:"nxp-ec-form-field"},rE={class:"nxp-ec-form-label",for:"settings-base-currency"},lE={class:"nxp-ec-form-help"},cE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},dE={class:"nxp-ec-form-label",for:"settings-payments-configured"},uE={class:"nxp-ec-form-help"},pE={class:"nxp-ec-settings-actions"},_E=["disabled"],fE=["disabled"],hE={key:1,class:"nxp-ec-settings-panel"},mE={class:"nxp-ec-settings-panel__header"},gE=["disabled"],SE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},CE={class:"nxp-ec-form-help"},EE={class:"nxp-ec-form-grid"},bE={class:"nxp-ec-form-field"},AE={class:"nxp-ec-form-label",for:"settings-checkout-window"},TE={class:"nxp-ec-form-help"},yE={class:"nxp-ec-form-field"},OE={class:"nxp-ec-form-label",for:"settings-offline-window"},RE={class:"nxp-ec-form-help"},vE={class:"nxp-ec-form-grid"},xE={class:"nxp-ec-form-field"},NE={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},PE={class:"nxp-ec-form-field"},ME={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},IE={class:"nxp-ec-form-field"},kE={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},wE={class:"nxp-ec-form-grid"},$E={class:"nxp-ec-form-field"},UE={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},DE={class:"nxp-ec-form-field"},LE={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},YE={class:"nxp-ec-settings-actions"},XE=["disabled"],FE=["disabled"],GE={key:2,class:"nxp-ec-settings-panel"},VE={class:"nxp-ec-settings-panel__header"},HE=["disabled"],BE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},KE={key:1,class:"nxp-ec-settings-grid"},jE={class:"nxp-ec-settings-table"},JE={class:"nxp-ec-admin-table"},WE={scope:"col"},qE={scope:"col"},zE={scope:"col"},QE={scope:"col"},ZE={scope:"col"},eb={key:0},tb={colspan:"6"},nb={scope:"row"},sb={class:"nxp-ec-admin-table__actions"},ib=["onClick","title","aria-label"],ob={class:"nxp-ec-sr-only"},ab=["onClick","title","aria-label"],rb={class:"nxp-ec-sr-only"},lb={class:"nxp-ec-form-field"},cb={class:"nxp-ec-form-label",for:"tax-country"},db={class:"nxp-ec-form-field"},ub={class:"nxp-ec-form-label",for:"tax-region"},pb={class:"nxp-ec-form-field"},_b={class:"nxp-ec-form-label",for:"tax-rate"},fb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},hb={class:"nxp-ec-form-label",for:"tax-inclusive"},mb={class:"nxp-ec-form-field"},gb={class:"nxp-ec-form-label",for:"tax-priority"},Sb={class:"nxp-ec-settings-actions"},Cb=["disabled"],Eb=["disabled"],bb={key:3,class:"nxp-ec-settings-panel"},Ab={class:"nxp-ec-settings-panel__header"},Tb=["disabled"],yb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ob={key:1,class:"nxp-ec-settings-grid"},Rb={class:"nxp-ec-settings-table"},vb={class:"nxp-ec-admin-table"},xb={scope:"col"},Nb={scope:"col"},Pb={scope:"col"},Mb={scope:"col"},Ib={scope:"col"},kb={scope:"col"},wb={key:0},$b={colspan:"7"},Ub={scope:"row"},Db={class:"nxp-ec-admin-table__actions"},Lb=["onClick","title","aria-label"],Yb={class:"nxp-ec-sr-only"},Xb=["onClick","title","aria-label"],Fb={class:"nxp-ec-sr-only"},Gb={class:"nxp-ec-form-field"},Vb={class:"nxp-ec-form-label",for:"shipping-name"},Hb={class:"nxp-ec-form-field"},Bb={class:"nxp-ec-form-label",for:"shipping-type"},Kb={value:"flat"},jb={value:"free_over"},Jb={class:"nxp-ec-form-field"},Wb={class:"nxp-ec-form-label",for:"shipping-price"},qb={key:0,class:"nxp-ec-form-field"},zb={class:"nxp-ec-form-label",for:"shipping-threshold"},Qb={class:"nxp-ec-form-field"},Zb={class:"nxp-ec-form-label",for:"shipping-regions"},eA=["placeholder"],tA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},nA={class:"nxp-ec-form-label",for:"shipping-active"},sA={class:"nxp-ec-settings-actions"},iA=["disabled"],oA=["disabled"],aA={key:4,class:"nxp-ec-settings-panel"},rA={class:"nxp-ec-settings-panel__header"},lA={class:"nxp-ec-settings-actions"},cA=["disabled"],dA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},uA={key:1,class:"nxp-ec-admin-panel__loading"},pA={class:"nxp-ec-form-field"},_A={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},fA={class:"nxp-ec-form-field"},hA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},mA={class:"nxp-ec-form-field"},gA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},SA={class:"nxp-ec-form-help"},CA={class:"nxp-ec-form-field"},EA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},bA={value:"test"},AA={value:"live"},TA={class:"nxp-ec-form-field"},yA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},OA={class:"nxp-ec-form-field"},RA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},vA={class:"nxp-ec-form-field"},xA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},NA={class:"nxp-ec-form-help"},PA={class:"nxp-ec-form-field"},MA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},IA={value:"sandbox"},kA={value:"live"},wA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$A={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},UA={class:"nxp-ec-form-field"},DA={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},LA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},YA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},XA={class:"nxp-ec-form-field"},FA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},GA={class:"nxp-ec-form-field"},VA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},HA=["placeholder"],BA={class:"nxp-ec-form-help"},KA={class:"nxp-ec-form-grid"},jA={class:"nxp-ec-form-field"},JA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},WA={class:"nxp-ec-form-field"},qA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},zA={class:"nxp-ec-form-field"},QA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},ZA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},eT={class:"nxp-ec-settings-actions"},tT=["disabled"],nT=["disabled"],sT={key:5,class:"nxp-ec-settings-panel"},iT={class:"nxp-ec-settings-panel__header"},oT=["disabled"],aT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},rT={key:1,class:"nxp-ec-admin-panel__loading"},lT={class:"nxp-ec-form-help"},cT={class:"nxp-ec-visual-grid"},dT={class:"nxp-ec-visual-field"},uT={class:"nxp-ec-form-label",for:"visual-primary-color"},pT={class:"nxp-ec-color-input-group"},_T=["value"],fT=["placeholder"],hT={class:"nxp-ec-visual-field"},mT={class:"nxp-ec-form-label",for:"visual-text-color"},gT={class:"nxp-ec-color-input-group"},ST=["value"],CT=["placeholder"],ET={class:"nxp-ec-visual-field"},bT={class:"nxp-ec-form-label",for:"visual-surface-color"},AT={class:"nxp-ec-color-input-group"},TT=["value"],yT=["placeholder"],OT={class:"nxp-ec-visual-field"},RT={class:"nxp-ec-form-label",for:"visual-border-color"},vT={class:"nxp-ec-color-input-group"},xT=["value"],NT=["placeholder"],PT={class:"nxp-ec-visual-field"},MT={class:"nxp-ec-form-label",for:"visual-muted-color"},IT={class:"nxp-ec-color-input-group"},kT=["value"],wT=["placeholder"],$T={class:"nxp-ec-visual-preview"},UT={type:"button",class:"nxp-ec-preview-btn"},DT={class:"nxp-ec-preview-text"},LT={class:"nxp-ec-preview-muted"},YT={class:"nxp-ec-settings-actions"},XT=["disabled"],FT=["disabled"],GT=At({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.settingsState,l=s.taxState,d=s.shippingState,p=s.paymentsState,_=Ve("general"),f=Se(()=>{var h;const w=s.baseCurrency||"USD",C=typeof c.baseCurrency=="string"?c.baseCurrency.trim():"",S=typeof((h=a==null?void 0:a.values)==null?void 0:h.base_currency)=="string"?a.values.base_currency.trim():"";return(C!==""?C:S!==""?S:w).toUpperCase()}),c=Ue({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,baseCurrency:""}),g=Ue({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),v=Ue({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),k=Ue({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),O=Ue({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),N=Ue({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),T=Se(()=>{var C,S;const w=(S=(C=a.values)==null?void 0:C.visual_defaults)!=null?S:{};return{primary:w.primary_color||"#4f6d7a",text:w.text_color||"#1f2933",surface:w.surface_color||"#ffffff",border:w.border_color||"#e4e7ec",muted:w.muted_color||"#6b7280"}}),z=Se(()=>({"--nxp-ec-color-primary":N.primaryColor||T.value.primary,"--nxp-ec-color-text":N.textColor||T.value.text,"--nxp-ec-color-surface":N.surfaceColor||T.value.surface,"--nxp-ec-color-border":N.borderColor||T.value.border,"--nxp-ec-color-muted":N.mutedColor||T.value.muted})),G=(w={})=>{var A,L,K,q,J,b,m,E,R,X,$,te,B,ce;const C=(A=w==null?void 0:w.store)!=null?A:{},S=(L=w==null?void 0:w.payments)!=null?L:{},Ee=(K=w==null?void 0:w.visual)!=null?K:{},h=(J=(q=w==null?void 0:w.security)==null?void 0:q.rate_limits)!=null?J:{};Object.assign(c,{storeName:(b=C.name)!=null?b:"",storeEmail:(m=C.email)!=null?m:"",storePhone:(E=C.phone)!=null?E:"",checkoutPhoneRequired:!!((R=w==null?void 0:w.checkout_phone_required)!=null&&R),paymentsConfigured:!!S.configured,baseCurrency:typeof(w==null?void 0:w.base_currency)=="string"?w.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase()}),Object.assign(N,{primaryColor:(X=Ee.primary_color)!=null?X:"",textColor:($=Ee.text_color)!=null?$:"",surfaceColor:(te=Ee.surface_color)!=null?te:"",borderColor:(B=Ee.border_color)!=null?B:"",mutedColor:(ce=Ee.muted_color)!=null?ce:""}),Object.assign(g,{checkoutWindowMinutes:Number.isFinite(Number(h.checkout_window_minutes))?Number(h.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(h.checkout_ip_limit))?Number(h.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(h.checkout_email_limit))?Number(h.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(h.checkout_session_limit))?Number(h.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(h.offline_window_minutes))?Number(h.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(h.offline_ip_limit))?Number(h.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(h.offline_email_limit))?Number(h.offline_email_limit):5})},P=(w={})=>{var A,L,K,q,J,b,m,E,R,X,$,te,B,ce,fe,he,ye,xe,Ie,Ke,at,Ge,De,Le;const C=(A=w.stripe)!=null?A:{},S=(L=w.paypal)!=null?L:{},Ee=(K=w.cod)!=null?K:{},h=(q=w.bank_transfer)!=null?q:{};Object.assign(O.stripe,{publishable_key:(J=C.publishable_key)!=null?J:"",secret_key:(b=C.secret_key)!=null?b:"",webhook_secret:(m=C.webhook_secret)!=null?m:"",mode:(E=C.mode)!=null?E:"test"}),Object.assign(O.paypal,{client_id:(R=S.client_id)!=null?R:"",client_secret:(X=S.client_secret)!=null?X:"",webhook_id:($=S.webhook_id)!=null?$:"",mode:(te=S.mode)!=null?te:"sandbox"}),Object.assign(O.cod,{enabled:Ee.enabled!==void 0?!!Ee.enabled:O.cod.enabled,label:(ce=(B=Ee.label)!=null?B:O.cod.label)!=null?ce:"Cash on delivery"}),Object.assign(O.bank_transfer,{enabled:h.enabled!==void 0?!!h.enabled:O.bank_transfer.enabled,label:(he=(fe=h.label)!=null?fe:O.bank_transfer.label)!=null?he:"Bank transfer",instructions:(xe=(ye=h.instructions)!=null?ye:O.bank_transfer.instructions)!=null?xe:"",account_name:(Ke=(Ie=h.account_name)!=null?Ie:O.bank_transfer.account_name)!=null?Ke:"",iban:(Ge=(at=h.iban)!=null?at:O.bank_transfer.iban)!=null?Ge:"",bic:(Le=(De=h.bic)!=null?De:O.bank_transfer.bic)!=null?Le:""})};Ye(()=>a.values,w=>{G(w!=null?w:{})},{immediate:!0});const U=()=>o("refresh-settings"),ae=()=>{const w=(c.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:c.storeName,email:c.storeEmail,phone:c.storePhone,base_currency:w},payments:{configured:c.paymentsConfigured},base_currency:w,checkout_phone_required:c.checkoutPhoneRequired})},re=()=>{var w;G((w=a.values)!=null?w:{})},de=()=>{const w=(C,S=0)=>{const Ee=Number(C);return Number.isFinite(Ee)&&Ee>=0?Ee:S};o("save-settings",{security:{rate_limits:{checkout_window_minutes:w(g.checkoutWindowMinutes,15),checkout_ip_limit:w(g.checkoutIpLimit,10),checkout_email_limit:w(g.checkoutEmailLimit,5),checkout_session_limit:w(g.checkoutSessionLimit,15),offline_window_minutes:w(g.offlineWindowMinutes,240),offline_ip_limit:w(g.offlineIpLimit,10),offline_email_limit:w(g.offlineEmailLimit,5)}}})},me=()=>{var w;G((w=a.values)!=null?w:{})};Ye(()=>a.saving,(w,C)=>{var S;C&&!w&&!a.error&&G((S=a.values)!=null?S:{})}),Ye(()=>c.baseCurrency,w=>{if(typeof w=="string"){const C=w.replace(/[^A-Za-z]/g,"").toUpperCase();C!==w&&(c.baseCurrency=C)}}),Ye(()=>p.config,w=>{P(w!=null?w:{})},{immediate:!0}),Ye(()=>p.saving,(w,C)=>{var S;C&&!w&&!p.error&&P((S=p.config)!=null?S:{})});const j=()=>o("refresh-payments"),H=()=>{const w=JSON.parse(JSON.stringify(O));o("save-payments",w)},Q=()=>{var w;P((w=p.config)!=null?w:{})},F=()=>o("refresh-settings"),ie=()=>{o("save-settings",{visual:{primary_color:N.primaryColor,text_color:N.textColor,surface_color:N.surfaceColor,border_color:N.borderColor,muted_color:N.mutedColor}})},_e=()=>{var C,S,Ee,h,A,L,K;const w=(S=(C=a.values)==null?void 0:C.visual)!=null?S:{};Object.assign(N,{primaryColor:(Ee=w.primary_color)!=null?Ee:"",textColor:(h=w.text_color)!=null?h:"",surfaceColor:(A=w.surface_color)!=null?A:"",borderColor:(L=w.border_color)!=null?L:"",mutedColor:(K=w.muted_color)!=null?K:""})},oe=()=>o("refresh-tax"),ee=()=>o("refresh-shipping"),M=w=>{Object.assign(v,{id:w.id,country:w.country,region:w.region,rate:w.rate,inclusive:w.inclusive,priority:w.priority})},D=()=>{Object.assign(v,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},Y=()=>{o("save-tax",{id:v.id||void 0,country:v.country,region:v.region,rate:v.rate,inclusive:v.inclusive,priority:v.priority})},I=w=>{const C=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(C)&&(o("delete-tax",[w.id]),v.id===w.id&&D())};Ye(()=>l.saving,(w,C)=>{C&&!w&&!l.error&&D()});const V=w=>{var C,S,Ee;Object.assign(k,{id:w.id,name:w.name,type:w.type,price:(S=w.price)!=null?S:((C=w.price_cents)!=null?C:0)/100,threshold:w.threshold!==null&&w.threshold!==void 0?w.threshold:((Ee=w.threshold_cents)!=null?Ee:0)/100,regions:w.regions&&w.regions.length?w.regions.join(", "):"",active:w.active})},Z=()=>{Object.assign(k,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},le=()=>{const w={id:k.id||void 0,name:k.name,type:k.type,price:k.price,threshold:k.type==="free_over"?k.threshold:0,regions:k.regions,active:k.active};o("save-shipping",w)},Te=w=>{const C=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(C)&&(o("delete-shipping",[w.id]),k.id===w.id&&Z())};Ye(()=>d.saving,(w,C)=>{C&&!w&&!d.error&&Z()});const be=(w,C)=>{const S=(Number(w)||0)/100,Ee=(C||"").toUpperCase()||f.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:Ee}).format(S)}catch(h){return`${Ee} ${S.toFixed(2)}`}},se=w=>w==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(w,C)=>(y(),x("section",FC,[i("header",GC,[i("div",null,[i("h2",VC,u(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",HC,u(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",BC,[i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:C[0]||(C[0]=S=>_.value="general")},u(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":_.value==="security"}]),onClick:C[1]||(C[1]=S=>_.value="security")},u(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":_.value==="tax"}]),onClick:C[2]||(C[2]=S=>_.value="tax")},u(r(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":_.value==="shipping"}]),onClick:C[3]||(C[3]=S=>_.value="shipping")},u(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:C[4]||(C[4]=S=>_.value="payments")},u(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:C[5]||(C[5]=S=>_.value="visual")},u(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(y(),x("div",KC,[i("header",jC,[i("h3",null,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:U,disabled:r(a).loading},u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,JC)]),r(a).error?(y(),x("div",WC,u(r(a).error),1)):r(a).loading?(y(),x("div",qC,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form",onSubmit:ut(ae,["prevent"])},[i("div",zC,[i("label",QC,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),ne(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[6]||(C[6]=S=>c.storeName=S),maxlength:"190"},null,512),[[ue,c.storeName,void 0,{trim:!0}]])]),i("div",ZC,[i("label",eE,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),ne(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":C[7]||(C[7]=S=>c.storeEmail=S)},null,512),[[ue,c.storeEmail,void 0,{trim:!0}]])]),i("div",tE,[i("label",nE,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),ne(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[8]||(C[8]=S=>c.storePhone=S),maxlength:"64"},null,512),[[ue,c.storePhone,void 0,{trim:!0}]])]),i("div",sE,[i("label",iE,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),ne(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[9]||(C[9]=S=>c.checkoutPhoneRequired=S)},null,512),[[wt,c.checkoutPhoneRequired]]),i("p",oE,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",aE,[i("label",rE,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),ne(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":C[10]||(C[10]=S=>c.baseCurrency=S),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[ue,c.baseCurrency,void 0,{trim:!0}]]),i("p",lE,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",cE,[i("label",dE,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),ne(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[11]||(C[11]=S=>c.paymentsConfigured=S)},null,512),[[wt,c.paymentsConfigured]]),i("p",uE,u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",pE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:re,disabled:r(a).saving},u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,_E),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},u(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,fE)])],32))])):_.value==="security"?(y(),x("div",hE,[i("header",mE,[i("h3",null,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:U,disabled:r(a).loading},u(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,gE)]),r(a).error?(y(),x("div",SE,u(r(a).error),1)):(y(),x("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:ut(de,["prevent"])},[i("p",CE,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",EE,[i("div",bE,[i("label",AE,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),ne(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[12]||(C[12]=S=>g.checkoutWindowMinutes=S)},null,512),[[ue,g.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",TE,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",yE,[i("label",OE,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),ne(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[13]||(C[13]=S=>g.offlineWindowMinutes=S)},null,512),[[ue,g.offlineWindowMinutes,void 0,{number:!0}]]),i("p",RE,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",vE,[i("div",xE,[i("label",NE,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),ne(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[14]||(C[14]=S=>g.checkoutIpLimit=S)},null,512),[[ue,g.checkoutIpLimit,void 0,{number:!0}]])]),i("div",PE,[i("label",ME,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),ne(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[15]||(C[15]=S=>g.checkoutEmailLimit=S)},null,512),[[ue,g.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",IE,[i("label",kE,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),ne(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[16]||(C[16]=S=>g.checkoutSessionLimit=S)},null,512),[[ue,g.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",wE,[i("div",$E,[i("label",UE,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),ne(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[17]||(C[17]=S=>g.offlineIpLimit=S)},null,512),[[ue,g.offlineIpLimit,void 0,{number:!0}]])]),i("div",DE,[i("label",LE,u(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),ne(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[18]||(C[18]=S=>g.offlineEmailLimit=S)},null,512),[[ue,g.offlineEmailLimit,void 0,{number:!0}]])])]),i("div",YE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:me,disabled:r(a).saving},u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,XE),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},u(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,FE)])],32))])):_.value==="tax"?(y(),x("div",GE,[i("header",VE,[i("h3",null,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:oe,disabled:r(l).loading},u(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,HE)]),r(l).error?(y(),x("div",BE,u(r(l).error),1)):(y(),x("div",KE,[i("div",jE,[i("table",JE,[i("thead",null,[i("tr",null,[i("th",WE,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",qE,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",zE,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",QE,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",ZE,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),C[61]||(C[61]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(l).items.length?Oe("",!0):(y(),x("tr",eb,[i("td",tb,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(y(!0),x(Ce,null,Re(r(l).items,S=>{var Ee;return y(),x("tr",{key:S.id,class:Me({"is-active":v.id===S.id})},[i("th",nb,u(S.country),1),i("td",null,u(S.region||""),1),i("td",null,u(((Ee=S.rate)!=null?Ee:0).toFixed(2))+"%",1),i("td",null,u(S.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1),i("td",null,u(S.priority),1),i("td",sb,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:h=>M(S),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[C[62]||(C[62]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",ob,u(r(n)("JEDIT","Edit")),1)],8,ib),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:h=>I(S),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[C[63]||(C[63]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",rb,u(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,ab)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ut(Y,["prevent"])},[i("h4",null,u(v.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",lb,[i("label",cb,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),ne(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[19]||(C[19]=S=>v.country=S),maxlength:"2",required:""},null,512),[[ue,v.country,void 0,{trim:!0}]])]),i("div",db,[i("label",ub,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),ne(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[20]||(C[20]=S=>v.region=S)},null,512),[[ue,v.region,void 0,{trim:!0}]])]),i("div",pb,[i("label",_b,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),ne(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":C[21]||(C[21]=S=>v.rate=S),required:""},null,512),[[ue,v.rate,void 0,{number:!0}]])]),i("div",fb,[i("label",hb,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),ne(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[22]||(C[22]=S=>v.inclusive=S)},null,512),[[wt,v.inclusive]])]),i("div",mb,[i("label",gb,u(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),ne(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":C[23]||(C[23]=S=>v.priority=S)},null,512),[[ue,v.priority,void 0,{number:!0}]])]),i("div",Sb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:D,disabled:r(l).saving},u(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,Cb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(l).saving},u(r(l).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,Eb)])],32)]))])):_.value==="shipping"?(y(),x("div",bb,[i("header",Ab,[i("h3",null,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ee,disabled:r(d).loading},u(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,Tb)]),r(d).error?(y(),x("div",yb,u(r(d).error),1)):(y(),x("div",Ob,[i("div",Rb,[i("table",vb,[i("thead",null,[i("tr",null,[i("th",xb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",Nb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",Pb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",Mb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",Ib,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",kb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),C[64]||(C[64]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(d).items.length?Oe("",!0):(y(),x("tr",wb,[i("td",$b,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(y(!0),x(Ce,null,Re(r(d).items,S=>(y(),x("tr",{key:S.id,class:Me({"is-active":k.id===S.id})},[i("th",Ub,u(S.name),1),i("td",null,u(se(S.type)),1),i("td",null,u(be(S.price_cents,f.value)),1),i("td",null,u(S.type==="free_over"?be(S.threshold_cents,f.value):""),1),i("td",null,u(S.regions&&S.regions.length?S.regions.join(", "):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,[i("span",{class:Me(["nxp-ec-badge",{"is-active":S.active}])},[i("i",{class:Me(S.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Be(" "+u(S.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)]),i("td",Db,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Ee=>V(S),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[C[65]||(C[65]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",Yb,u(r(n)("JEDIT","Edit")),1)],8,Lb),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Ee=>Te(S),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[C[66]||(C[66]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",Fb,u(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Xb)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ut(le,["prevent"])},[i("h4",null,u(k.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",Gb,[i("label",Vb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),ne(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[24]||(C[24]=S=>k.name=S),required:""},null,512),[[ue,k.name,void 0,{trim:!0}]])]),i("div",Hb,[i("label",Bb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),ne(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":C[25]||(C[25]=S=>k.type=S)},[i("option",Kb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",jb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[bt,k.type]])]),i("div",Jb,[i("label",Wb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),ne(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":C[26]||(C[26]=S=>k.price=S),required:""},null,512),[[ue,k.price,void 0,{number:!0}]])]),k.type==="free_over"?(y(),x("div",qb,[i("label",zb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),ne(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":C[27]||(C[27]=S=>k.threshold=S),required:""},null,512),[[ue,k.threshold,void 0,{number:!0}]])])):Oe("",!0),i("div",Qb,[i("label",Zb,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),ne(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[28]||(C[28]=S=>k.regions=S),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,eA),[[ue,k.regions,void 0,{trim:!0}]])]),i("div",tA,[i("label",nA,u(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),ne(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[29]||(C[29]=S=>k.active=S)},null,512),[[wt,k.active]])]),i("div",sA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Z,disabled:r(d).saving},u(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,iA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(d).saving},u(r(d).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,oA)])],32)]))])):_.value==="payments"?(y(),x("div",aA,[i("header",rA,[i("h3",null,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",lA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(p).loading},u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,cA)])]),r(p).error?(y(),x("div",dA,u(r(p).error),1)):r(p).loading?(y(),x("div",uA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:ut(H,["prevent"])},[i("fieldset",null,[i("legend",null,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",pA,[i("label",_A,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),ne(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[30]||(C[30]=S=>O.stripe.publishable_key=S)},null,512),[[ue,O.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",fA,[i("label",hA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),ne(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[31]||(C[31]=S=>O.stripe.secret_key=S),autocomplete:"off"},null,512),[[ue,O.stripe.secret_key,void 0,{trim:!0}]])]),i("div",mA,[i("label",gA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),ne(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[32]||(C[32]=S=>O.stripe.webhook_secret=S),autocomplete:"off"},null,512),[[ue,O.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",SA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",CA,[i("label",EA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ne(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":C[33]||(C[33]=S=>O.stripe.mode=S)},[i("option",bA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",AA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[bt,O.stripe.mode]])])]),i("fieldset",null,[i("legend",null,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",TA,[i("label",yA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),ne(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[34]||(C[34]=S=>O.paypal.client_id=S)},null,512),[[ue,O.paypal.client_id,void 0,{trim:!0}]])]),i("div",OA,[i("label",RA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),ne(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[35]||(C[35]=S=>O.paypal.client_secret=S),autocomplete:"off"},null,512),[[ue,O.paypal.client_secret,void 0,{trim:!0}]])]),i("div",vA,[i("label",xA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),ne(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[36]||(C[36]=S=>O.paypal.webhook_id=S)},null,512),[[ue,O.paypal.webhook_id,void 0,{trim:!0}]]),i("p",NA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",PA,[i("label",MA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ne(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":C[37]||(C[37]=S=>O.paypal.mode=S)},[i("option",IA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",kA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[bt,O.paypal.mode]])])]),i("fieldset",null,[i("legend",null,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",wA,[i("label",$A,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),ne(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":C[38]||(C[38]=S=>O.cod.enabled=S)},null,512),[[wt,O.cod.enabled]])]),i("div",UA,[i("label",DA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),ne(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[39]||(C[39]=S=>O.cod.label=S),placeholder:"Cash on delivery"},null,512),[[ue,O.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",LA,[i("label",YA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),ne(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":C[40]||(C[40]=S=>O.bank_transfer.enabled=S)},null,512),[[wt,O.bank_transfer.enabled]])]),i("div",XA,[i("label",FA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),ne(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[41]||(C[41]=S=>O.bank_transfer.label=S),placeholder:"Bank transfer"},null,512),[[ue,O.bank_transfer.label,void 0,{trim:!0}]])]),i("div",GA,[i("label",VA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),ne(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":C[42]||(C[42]=S=>O.bank_transfer.instructions=S),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,HA),[[ue,O.bank_transfer.instructions]]),i("p",BA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",KA,[i("div",jA,[i("label",JA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),ne(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[43]||(C[43]=S=>O.bank_transfer.account_name=S)},null,512),[[ue,O.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",WA,[i("label",qA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),ne(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[44]||(C[44]=S=>O.bank_transfer.iban=S),maxlength:"34"},null,512),[[ue,O.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",zA,[i("label",QA,u(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),ne(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[45]||(C[45]=S=>O.bank_transfer.bic=S),maxlength:"11"},null,512),[[ue,O.bank_transfer.bic,void 0,{trim:!0}]])])])]),r(p).message?(y(),x("div",ZA,u(r(p).message),1)):Oe("",!0),i("div",eT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Q,disabled:r(p).saving},u(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,tT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(p).saving},u(r(p).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,nT)])],32))])):_.value==="visual"?(y(),x("div",sT,[i("header",iT,[i("h3",null,u(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:F,disabled:r(a).loading},u(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,oT)]),r(a).error?(y(),x("div",aT,u(r(a).error),1)):r(a).loading?(y(),x("div",rT,u(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(y(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:ut(ie,["prevent"])},[i("p",lT,u(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("div",cT,[i("div",dT,[i("label",uT,u(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",pT,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:N.primaryColor||T.value.primary,onInput:C[46]||(C[46]=S=>N.primaryColor=S.target.value)},null,40,_T),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[47]||(C[47]=S=>N.primaryColor=S),placeholder:T.value.primary,maxlength:"7"},null,8,fT),[[ue,N.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[48]||(C[48]=S=>N.primaryColor="")},u(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",hT,[i("label",mT,u(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",gT,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:N.textColor||T.value.text,onInput:C[49]||(C[49]=S=>N.textColor=S.target.value)},null,40,ST),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[50]||(C[50]=S=>N.textColor=S),placeholder:T.value.text,maxlength:"7"},null,8,CT),[[ue,N.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[51]||(C[51]=S=>N.textColor="")},u(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",ET,[i("label",bT,u(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",AT,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:N.surfaceColor||T.value.surface,onInput:C[52]||(C[52]=S=>N.surfaceColor=S.target.value)},null,40,TT),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[53]||(C[53]=S=>N.surfaceColor=S),placeholder:T.value.surface,maxlength:"7"},null,8,yT),[[ue,N.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[54]||(C[54]=S=>N.surfaceColor="")},u(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",OT,[i("label",RT,u(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",vT,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:N.borderColor||T.value.border,onInput:C[55]||(C[55]=S=>N.borderColor=S.target.value)},null,40,xT),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[56]||(C[56]=S=>N.borderColor=S),placeholder:T.value.border,maxlength:"7"},null,8,NT),[[ue,N.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[57]||(C[57]=S=>N.borderColor="")},u(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",PT,[i("label",MT,u(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",IT,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:N.mutedColor||T.value.muted,onInput:C[58]||(C[58]=S=>N.mutedColor=S.target.value)},null,40,kT),ne(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[59]||(C[59]=S=>N.mutedColor=S),placeholder:T.value.muted,maxlength:"7"},null,8,wT),[[ue,N.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[60]||(C[60]=S=>N.mutedColor="")},u(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",$T,[i("h4",null,u(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Yt(z.value)},[i("button",UT,u(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",DT,u(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",LT,u(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",YT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:_e,disabled:r(a).saving},u(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,XT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},u(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,FT)])],32))])):Oe("",!0)]))}},[["__scopeId","data-v-d9ab07cf"]]),VT={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},HT={class:"nxp-ec-admin-panel__header"},BT={class:"nxp-ec-admin-panel__title"},KT={class:"nxp-ec-admin-panel__lead"},jT={class:"nxp-ec-admin-panel__actions"},JT=["placeholder","aria-label"],WT=["value"],qT={value:""},zT=["value"],QT=["disabled","title","aria-label"],ZT={class:"nxp-ec-sr-only"},ey={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ty={key:1,class:"nxp-ec-admin-panel__body"},ny={key:2,class:"nxp-ec-admin-panel__body"},sy={class:"nxp-ec-admin-panel__table"},iy={class:"nxp-ec-admin-table"},oy={scope:"col"},ay={scope:"col"},ry={scope:"col"},ly={scope:"col"},cy={scope:"col"},dy={key:0},uy={colspan:"5"},py={class:"nxp-ec-log-entity"},_y={class:"nxp-ec-log-entity-id"},fy={class:"nxp-ec-log-context"},hy={key:0,class:"nxp-ec-admin-pagination"},my=["disabled"],gy={class:"nxp-ec-admin-pagination__status"},Sy=["disabled"],Cy=["title"],Ey=At({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.state,l=Se(()=>{const N=new Set;return Array.isArray(a.items)&&a.items.forEach(T=>{T!=null&&T.entity_type&&N.add(T.entity_type)}),a.entity&&N.add(a.entity),Array.from(N).sort()}),d=()=>o("refresh"),p=()=>o("search"),_=N=>o("filter",N),f=N=>o("page",N),c=N=>{if(!N)return"";try{const T=new Date(N.replace(" ","T"));if(!Number.isNaN(T.getTime()))return T.toLocaleString()}catch(T){}return N},g=N=>{if(!N)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(N){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return N.charAt(0).toUpperCase()+N.slice(1)}},v=N=>{if(!(N!=null&&N.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const T=N.user.name||"",z=N.user.username||"";return T&&z?`${T} (${z})`:T||z||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},k=N=>{if(!N||Array.isArray(N)&&!N.length||typeof N=="object"&&!Object.keys(N).length)return"";try{return JSON.stringify(N,null,2)}catch(T){return String(N)}},O=N=>{if(!N)return"";try{const T=new Date(N),G=new Date-T,P=Math.floor(G/1e3),U=Math.floor(P/60),ae=Math.floor(U/60);return P<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):U<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[U]):ae<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ae]):T.toLocaleString()}catch(T){return N}};return(N,T)=>(y(),x("section",VT,[i("header",HT,[i("div",null,[i("h2",BT,u(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",KT,u(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",jT,[ne(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":T[0]||(T[0]=z=>r(a).search=z),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:Jt(p,["enter"])},null,40,JT),[[ue,r(a).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(a).entity,onChange:T[1]||(T[1]=z=>_(z.target.value)),"aria-label":"Entity filter"},[i("option",qT,u(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(y(!0),x(Ce,null,Re(l.value,z=>(y(),x("option",{key:z,value:z},u(g(z)),9,zT))),128))],40,WT),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:r(a).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[T[4]||(T[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",ZT,u(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,QT)])]),r(a).error?(y(),x("div",ey,u(r(a).error),1)):r(a).loading?(y(),x("div",ty,[He(In,{type:"table",rows:5,columns:5})])):(y(),x("div",ny,[i("div",sy,[i("table",iy,[i("thead",null,[i("tr",null,[i("th",oy,u(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",ay,u(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",ry,u(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",ly,u(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",cy,u(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(a).items.length?Oe("",!0):(y(),x("tr",dy,[i("td",uy,u(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(y(!0),x(Ce,null,Re(r(a).items,z=>(y(),x("tr",{key:z.id},[i("td",null,u(c(z.created)),1),i("td",null,[i("span",py,u(g(z.entity_type)),1),i("span",_y,"#"+u(z.entity_id),1)]),i("td",null,u(z.action),1),i("td",null,u(v(z)),1),i("td",null,[i("pre",fy,u(k(z.context)),1)])]))),128))])]),r(a).pagination.pages>1?(y(),x("div",hy,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current<=1,onClick:T[2]||(T[2]=z=>f(r(a).pagination.current-1))},"  ",8,my),i("span",gy,u(r(a).pagination.current)+" / "+u(r(a).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current>=r(a).pagination.pages,onClick:T[3]||(T[3]=z=>f(r(a).pagination.current+1))},"  ",8,Sy)])):Oe("",!0)]),r(a).lastUpdated?(y(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(a).lastUpdated},u(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+u(O(r(a).lastUpdated)),9,Cy)):Oe("",!0)]))]))}},[["__scopeId","data-v-3275d875"]]),by={key:0,class:"nxp-ec-onboarding"},Ay={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},Ty={class:"nxp-ec-onboarding__header"},yy={class:"nxp-ec-onboarding__title"},Oy={class:"nxp-ec-onboarding__lead"},Ry={class:"nxp-ec-onboarding__progress"},vy={class:"nxp-ec-onboarding__progress-bar"},xy={class:"nxp-ec-onboarding__progress-label"},Ny={class:"nxp-ec-onboarding__steps"},Py={class:"nxp-ec-onboarding__step-main"},My={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},Iy={key:0,class:"fa-solid fa-circle-check"},ky={key:1,class:"fa-regular fa-circle"},wy={class:"nxp-ec-onboarding__step-actions"},$y=["onClick"],Uy=At({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,o=Se(()=>t.steps.length?t.steps.filter(d=>d.completed).length/t.steps.length*100:0),n=Se(()=>`${o.value}%`),a=Se(()=>{const l=t.steps.filter(d=>d.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,d)=>e.visible?(y(),x("div",by,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:d[0]||(d[0]=p=>l.$emit("close"))}),i("section",Ay,[i("header",Ty,[i("div",null,[i("h2",yy,u(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",Oy,u(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:d[1]||(d[1]=p=>l.$emit("close"))},u(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",Ry,[i("div",vy,[i("span",{style:Yt({width:n.value})},null,4)]),i("span",xy,u(a.value),1)]),i("ol",Ny,[(y(!0),x(Ce,null,Re(e.steps,p=>(y(),x("li",{key:p.id,class:Me({"is-complete":p.completed})},[i("div",Py,[i("span",My,[p.completed?(y(),x("span",Iy)):(y(),x("span",ky))]),i("div",null,[i("h3",null,u(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,u(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",wy,[p.link?(y(),x("button",{key:0,type:"button",class:Me(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:_=>l.$emit("navigate",p)},u(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,$y)):Oe("",!0)])],2))),128))])])])):Oe("",!0)}},[["__scopeId","data-v-97d3dc8b"]]),Dy=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let o=String(e);return t.forEach(a=>{const l=a!=null?a:"";o=o.replace("%s",String(l))}),o},Ly=(e,t="",s=[])=>{var a;const o=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(n=l)}return Dy(n,s)};function Yy(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const l=t[n];return l!=null&&l!==""?l:a};return{__:(n,a="",l=[],d="")=>{const p=s(d,a);return Ly(n,p,l)}}}class Xy{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};o.headers={...o.headers,...s.headers||{}};const n=String(o.method||"GET").toUpperCase();let a=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const l=await fetch(a,o);let d=null;const p=await l.text();if(p)try{d=JSON.parse(p)}catch(_){}if(!l.ok){const _=new Error((d==null?void 0:d.message)||`Request failed with status ${l.status}`);throw _.code=l.status,_.details=(d==null?void 0:d.data)||(d==null?void 0:d.errors)||null,_}if((d==null?void 0:d.success)===!1){const _=new Error(d.message||"Unknown API error");throw _.details=d.data||d.errors||null,_}return d!=null?d:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,o);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(o){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var g,v,k,O;const l=new URLSearchParams({limit:String(s),start:String(o)});n&&l.set("search",n);const d=`${t}&${l.toString()}`,_=(g=(await this.get(d,{signal:a})).data)!=null?g:{},f=(k=(v=_.items)!=null?v:_.data)!=null?k:[],c=(O=_.pagination)!=null?O:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCategories({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:o=0,search:n="",state:a="",signal:l}){var g,v,k,O;const d=this.mergeParams(t,{limit:s,start:o,search:n||void 0,state:a||void 0}),_=(g=(await this.get(d,{signal:l})).data)!=null?g:{},f=(k=(v=_.items)!=null?v:_.data)!=null?k:[],c=(O=_.pagination)!=null?O:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCustomers({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var c,g,v;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(c=(await this.get(l,{signal:a})).data)!=null?c:{},_=(g=p.items)!=null?g:[],f=(v=p.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:_,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:o}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,o)).data)==null?void 0:l.coupon)!=null?d:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:o}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,o)).data)==null?void 0:l.rate)!=null?d:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var _,f,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(_=(await this.get(l,{signal:a})).data)!=null?_:{};return{items:(f=p.items)!=null?f:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:o}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,o)).data)==null?void 0:l.rule)!=null?d:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:o=0,search:n="",entity:a="",signal:l}){var f,c,g;const d=this.mergeParams(t,{limit:s,start:o,search:n||void 0,entity:a||void 0}),_=(f=(await this.get(d,{signal:l})).data)!=null?f:{};return{items:(c=_.items)!=null?c:[],pagination:(g=_.pagination)!=null?g:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,n;return t?(n=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:o=""}){var l,d;const n=this.mergeParams(t,{id:s||void 0,order_no:o||void 0});return(d=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?d:null}async transitionOrder({endpoint:t,id:s,state:o}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.post(n,{state:o})).data)==null?void 0:l.order)!=null?d:null}async bulkTransitionOrders({endpoint:t,ids:s,state:o}){var l;const n={ids:s,state:o};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:o}){var a,l;return(l=(a=(await this.post(t,{id:s,message:o})).data)==null?void 0:a.order)!=null?l:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:o}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?d:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:o}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?d:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}mergeParams(t,s={}){const o=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||o.set(n,String(a))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const pt=e=>new Xy(e),Qo=typeof window!="undefined"&&window.performance;function Zo(e){if(Qo)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function Fy(e,t,s){if(!Qo)return null;try{performance.measure(e,t,s);const o=performance.getEntriesByName(e,"measure")[0];if(o)return console.log(`[NXP EC Performance] ${e}: ${o.duration.toFixed(2)}ms`),o.duration}catch(o){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,o)}return null}const _s=Ue({}),Gy=3e5;function Vy(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Tt(e,t=Gy){const s=_s[e];return s?Vy(s,t)?s.data:(delete _s[e],null):null}function _t(e,t){_s[e]={data:t,timestamp:Date.now()}}function Fe(e){delete _s[e]}function yt(e){const t=Ve({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return Zo(l),l},endFetch:l=>{const d=`${e}-fetch-end`;Zo(d);const p=Fy(`${e}-fetch`,l,d);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const oi=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function Hy({endpoints:e,token:t,autoload:s=!0,cacheTTL:o=3e5}){var ae,re,de,me;const n=pt({token:t}),a=yt("products"),l=(ae=e==null?void 0:e.list)!=null?ae:"",d=(re=e==null?void 0:e.create)!=null?re:oi(l,"store"),p=(de=e==null?void 0:e.update)!=null?de:oi(l,"update"),_=(me=e==null?void 0:e.delete)!=null?me:oi(l,"delete"),f=typeof AbortController!="undefined",c=Ue({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),g=Ve(null),v=()=>{const j=c.pagination.current||1,H=c.pagination.limit||20,Q=c.search.trim();return`products:page=${j}:limit=${H}:search=${Q}`},k=async(j=!1)=>{var _e;if(!l){c.error="Products endpoint unavailable.",c.items=[];return}const H=v(),Q=j?null:Tt(H,o);if(Q){a.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}a.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],g.value&&f&&g.value.abort();const F=f?new AbortController:null;g.value=F;const ie=a.startFetch();try{const{items:oe,pagination:ee}=await n.fetchProducts({endpoint:l,signal:F?F.signal:void 0,limit:c.pagination.limit,start:Math.max(0,(c.pagination.current-1)*c.pagination.limit),search:c.search.trim()});c.items=oe,c.pagination={...c.pagination,...ee,current:ee.current&&ee.current>0?ee.current:1},c.lastUpdated=new Date().toISOString(),_t(H,{items:oe,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(oe){if((oe==null?void 0:oe.name)==="AbortError")return;c.error=(_e=oe==null?void 0:oe.message)!=null?_e:"Unknown error"}finally{a.endFetch(ie),f&&g.value===F&&(g.value=null),c.loading=!1}},O=()=>{c.pagination.current=1,Fe(v()),k(!0)},N=()=>{c.pagination.current=1,k()},T=j=>j?typeof j=="string"?j:typeof j=="object"&&j.message?String(j.message):String(j):"",z=(j,{setValidation:H=!1}={})=>{var Q;if((j==null?void 0:j.code)===422&&H){const F=Array.isArray(j.details)?j.details:[j.details].filter(Boolean);c.validationErrors=F.map(T).filter(ie=>ie!=="");return}c.error=(Q=j==null?void 0:j.message)!=null?Q:"Unknown error"},G=async j=>{if(!d)throw new Error("Create endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const H=await n.createProduct({endpoint:d,data:j});return H&&(c.items=[H,...c.items],c.pagination.total+=1,Fe(v())),H}catch(H){throw z(H,{setValidation:!0}),H}finally{c.saving=!1}},P=async(j,H)=>{if(!p)throw new Error("Update endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const Q=await n.updateProduct({endpoint:p,id:j,data:H});if(Q){const F=c.items.findIndex(ie=>ie.id===Q.id);F!==-1&&c.items.splice(F,1,Q),Fe(v())}return Q}catch(Q){throw z(Q,{setValidation:!0}),Q}finally{c.saving=!1}},U=async j=>{if(!_)throw new Error("Delete endpoint unavailable.");c.deleting=!0,c.validationErrors=[];try{const H=await n.deleteProducts({endpoint:_,ids:j});return H.length&&(c.items=c.items.filter(Q=>!H.includes(Q.id)),c.pagination.total=Math.max(0,c.pagination.total-H.length),Fe(v())),H}catch(H){throw z(H),H}finally{c.deleting=!1}};return st(()=>{s&&k()}),{state:c,loadProducts:k,refresh:O,search:N,createProduct:G,updateProduct:P,deleteProducts:U,metrics:a.metrics}}function By({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var re,de,me,j,H,Q,F,ie,_e,oe,ee,M,D,Y;const a=pt({token:t}),l=yt("categories"),d=(re=e==null?void 0:e.list)!=null?re:"",p=(de=e==null?void 0:e.create)!=null?de:d,_=(me=e==null?void 0:e.update)!=null?me:d,f=(j=e==null?void 0:e.delete)!=null?j:d,c=Ue({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(ie=(F=(H=s.pagination)==null?void 0:H.total)!=null?F:(Q=s.items)==null?void 0:Q.length)!=null?ie:0,limit:(oe=(_e=s.pagination)==null?void 0:_e.limit)!=null?oe:20,pages:(M=(ee=s.pagination)==null?void 0:ee.pages)!=null?M:0,current:(Y=(D=s.pagination)==null?void 0:D.current)!=null?Y:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",v=Ve(null),k=()=>{const I=c.pagination.current||1,V=c.pagination.limit||20,Z=c.search.trim();return`categories:page=${I}:limit=${V}:search=${Z}`},O=async(I=!1)=>{var be;if(!d){c.error="Categories endpoint unavailable.",c.items=[];return}const V=k(),Z=I?null:Tt(V,n);if(Z){l.recordCacheHit(),c.items=Z.items,c.pagination={...c.pagination,...Z.pagination},c.lastUpdated=Z.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],v.value&&g&&v.value.abort();const le=g?new AbortController:null;v.value=le;const Te=l.startFetch();try{const se=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:w,pagination:C}=await a.fetchCategories({endpoint:d,limit:c.pagination.limit,start:se,search:c.search.trim(),signal:le?le.signal:void 0});c.items=w,c.pagination={...c.pagination,...C,current:C.current&&C.current>0?C.current:1},c.lastUpdated=new Date().toISOString(),_t(V,{items:w,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(se){if((se==null?void 0:se.name)==="AbortError")return;c.error=(be=se==null?void 0:se.message)!=null?be:"Unknown error"}finally{l.endFetch(Te),g&&v.value===le&&(v.value=null),c.loading=!1}},N=()=>{c.pagination.current=1,Fe(k()),O(!0)},T=()=>{c.pagination.current=1,O()},z=I=>{const V=Number(I);Number.isNaN(V)||V<1||V===c.pagination.current||(c.pagination.current=V,O())},G=(I,{validation:V=!1}={})=>{var Z;if(V&&(I==null?void 0:I.code)===422){const le=I.details,Te=Array.isArray(le)?le:[le].filter(Boolean);c.validationErrors=Te.map(be=>be?typeof be=="string"?be:typeof be=="object"&&be.message?String(be.message):String(be):"").filter(Boolean);return}c.error=(Z=I==null?void 0:I.message)!=null?Z:"Unknown error"},P=async I=>{if(!p||!_)throw new Error("Category endpoints unavailable.");c.saving=!0,c.error="",c.validationErrors=[];try{let V=null;return I.id?V=await a.updateCategory({endpoint:_,id:I.id,data:I}):V=await a.createCategory({endpoint:p,data:I}),V&&(Fe(k()),await O()),V}catch(V){throw G(V,{validation:!0}),V}finally{c.saving=!1}},U=async I=>{if(!Array.isArray(I)||!I.length||!f)return 0;c.deleting=!0,c.error="";try{const V=await a.deleteCategories({endpoint:f,ids:I});return V&&(Fe(k()),await O()),V}catch(V){throw G(V),V}finally{c.deleting=!1}},ae=async()=>{if(!d)return[];try{const{items:I}=await a.fetchCategories({endpoint:d,limit:200,start:0,search:""});return I}catch(I){return[]}};return st(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&O()}),{state:c,loadCategories:O,refresh:N,search:T,goToPage:z,saveCategory:P,deleteCategories:U,loadOptions:ae,metrics:l.metrics}}const fs=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function Ky({endpoints:e,token:t,states:s=[],preload:o={},autoload:n=!0,cacheTTL:a=3e5}){var M,D,Y,I,V,Z,le,Te,be;const l=pt({token:t}),d=yt("orders"),p=(M=e==null?void 0:e.list)!=null?M:"",_=(D=e==null?void 0:e.show)!=null?D:fs(p,"show"),f=(Y=e==null?void 0:e.transition)!=null?Y:fs(p,"transition"),c=(I=e==null?void 0:e.bulkTransition)!=null?I:fs(p,"bulkTransition"),g=(V=e==null?void 0:e.note)!=null?V:fs(p,"note"),v=typeof AbortController!="undefined",k=Ve(null),O=Array.isArray(o==null?void 0:o.items)?o.items:[],N=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},T=Ue({loading:!1,saving:!1,error:"",transitionError:"",items:[...O],pagination:{total:(Z=N.total)!=null?Z:O.length,limit:(le=N.limit)!=null?le:20,pages:(Te=N.pages)!=null?Te:0,current:(be=N.current)!=null?be:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null}),z=()=>{const se=T.pagination.current||1,w=T.pagination.limit||20,C=T.search.trim(),S=T.filterState||"";return`orders:page=${se}:limit=${w}:search=${C}:state=${S}`},G=async(se=!1)=>{var h;if(!p){T.error="Orders endpoint unavailable.",T.items=[];return}const w=z(),C=se?null:Tt(w,a);if(C){d.recordCacheHit(),T.items=C.items,T.pagination={...T.pagination,...C.pagination},T.lastUpdated=C.lastUpdated;return}d.recordCacheMiss(),T.loading=!0,T.error="",k.value&&v&&k.value.abort();const S=v?new AbortController:null;k.value=S;const Ee=d.startFetch();try{const A=Math.max(0,(T.pagination.current-1)*T.pagination.limit),{items:L,pagination:K}=await l.fetchOrders({endpoint:p,limit:T.pagination.limit,start:A,search:T.search.trim(),state:T.filterState,signal:S?S.signal:void 0});T.items=L,T.pagination={...T.pagination,...K,current:K.current&&K.current>0?K.current:1},T.selection.clear(),T.lastUpdated=new Date().toISOString(),_t(w,{items:L,pagination:T.pagination,lastUpdated:T.lastUpdated})}catch(A){if((A==null?void 0:A.name)==="AbortError")return;T.error=(h=A==null?void 0:A.message)!=null?h:"Unknown error"}finally{d.endFetch(Ee),v&&k.value===S&&(k.value=null),T.loading=!1}},P=()=>{T.pagination.current=1,Fe(z()),G(!0)},U=()=>{T.pagination.current=1,G()},ae=se=>{T.filterState=se||"",T.pagination.current=1,G()},re=se=>{const w=Number(se);Number.isNaN(w)||w<1||w===T.pagination.current||(T.pagination.current=w,G())},de=()=>{T.selection.clear()},me=se=>{se&&(T.selection.has(se)?T.selection.delete(se):T.selection.add(se))},j=()=>{T.pagination.current>=T.pagination.pages||(T.pagination.current+=1,G())},H=()=>{T.pagination.current<=1||(T.pagination.current-=1,G())},Q=async(se,w="")=>{var C;if(!_)return null;try{return await l.fetchOrder({endpoint:_,id:se,orderNumber:w})}catch(S){return T.transitionError=(C=S==null?void 0:S.message)!=null?C:"Unknown error",null}},F=async se=>{var w,C,S,Ee,h,A,L;if(!se){T.activeOrder=null;return}if(T.transitionError="",se.items&&se.items.length&&se.billing){T.activeOrder=se;return}try{const K=await Q(se.id,se.order_no);T.activeOrder=K||{...se,items:Array.isArray(se.items)?se.items:[],transactions:(w=se.transactions)!=null?w:[],timeline:(C=se.timeline)!=null?C:[],billing:(S=se.billing)!=null?S:{}}}catch(K){T.transitionError=(Ee=K==null?void 0:K.message)!=null?Ee:"Unknown error",T.activeOrder={...se,items:Array.isArray(se.items)?se.items:[],transactions:(h=se.transactions)!=null?h:[],timeline:(A=se.timeline)!=null?A:[],billing:(L=se.billing)!=null?L:{}}}},ie=()=>{T.transitionError="",T.activeOrder=null},_e=se=>{if(!(se!=null&&se.id))return;const w=T.items.findIndex(C=>C.id===se.id);w!==-1&&T.items.splice(w,1,se)},oe=async(se,w)=>{var C;if(!f)throw new Error("Transition endpoint unavailable.");T.saving=!0,T.transitionError="";try{const S=await l.transitionOrder({endpoint:f,id:se,state:w});return S&&(_e(S),T.activeOrder&&T.activeOrder.id===S.id&&(T.activeOrder=S),Fe(z())),S}catch(S){throw T.transitionError=(C=S==null?void 0:S.message)!=null?C:"Unknown error",S}finally{T.saving=!1}},ee=async(se,w)=>{var C;if(!c)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(se)||!se.length)return{updated:[]};T.saving=!0;try{const S=await l.bulkTransitionOrders({endpoint:c,ids:se,state:w}),Ee=Array.isArray(S.updated)?S.updated:[];return Ee.forEach(h=>{_e(h),T.activeOrder&&T.activeOrder.id===h.id&&(T.activeOrder=h)}),de(),{updated:Ee}}catch(S){throw T.transitionError=(C=S==null?void 0:S.message)!=null?C:"Unknown error",S}finally{T.saving=!1}};return st(()=>{n&&G()}),{state:T,loadOrders:G,refresh:P,search:U,setFilterState:ae,goToPage:re,nextPage:j,previousPage:H,viewOrder:F,closeOrder:ie,transitionOrder:oe,bulkTransition:ee,toggleSelection:me,clearSelection:de,metrics:d.metrics,addNote:async(se,w)=>{var C;if(!g)throw new Error("Note endpoint unavailable.");if(!se||!w||!w.trim())return null;T.transitionError="",T.saving=!0;try{const S=await l.addOrderNote({endpoint:g,id:se,message:w});return S&&(_e(S),T.activeOrder&&T.activeOrder.id===S.id&&(T.activeOrder=S)),S}catch(S){throw T.transitionError=(C=S==null?void 0:S.message)!=null?C:"Unknown error",S}finally{T.saving=!1}}}}function jy({endpoint:e="",token:t="",preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var f,c,g;const a=pt({token:t}),l=yt("dashboard"),d=Ue({loading:!1,error:"",summary:(g=s.summary)!=null?g:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(c=(f=s.summary)==null?void 0:f.currency)!=null?c:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",_=async(v=!1)=>{var T,z;if(!e)return;const k=p(),O=v?null:Tt(k,n);if(O){l.recordCacheHit(),d.summary=O.summary,d.checklist=O.checklist,d.lastUpdated=O.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="";const N=l.startFetch();try{const G=await a.fetchDashboard({endpoint:e});d.summary=(T=G.summary)!=null?T:d.summary,d.checklist=Array.isArray(G.checklist)?G.checklist:d.checklist,d.lastUpdated=new Date().toISOString(),_t(k,{summary:d.summary,checklist:d.checklist,lastUpdated:d.lastUpdated})}catch(G){d.error=(z=G==null?void 0:G.message)!=null?z:"Unknown error"}finally{l.endFetch(N),d.loading=!1}};return st(()=>{o&&(!Array.isArray(d.checklist)||!d.checklist.length)&&_()}),{state:d,refresh:_,metrics:l.metrics}}function Jy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var G,P,U,ae,re,de,me,j,H,Q,F,ie,_e;const a=pt({token:t}),l=yt("customers"),d=(G=e==null?void 0:e.list)!=null?G:"",p=(P=e==null?void 0:e.show)!=null?P:"",_=Ue({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(de=(re=(U=s.pagination)==null?void 0:U.total)!=null?re:(ae=s.items)==null?void 0:ae.length)!=null?de:0,limit:(j=(me=s.pagination)==null?void 0:me.limit)!=null?j:20,pages:(Q=(H=s.pagination)==null?void 0:H.pages)!=null?Q:0,current:(ie=(F=s.pagination)==null?void 0:F.current)!=null?ie:1},search:"",activeCustomer:(_e=s.active)!=null?_e:null,lastUpdated:null}),f=typeof AbortController!="undefined",c=Ve(null),g=()=>{const oe=_.pagination.current||1,ee=_.pagination.limit||20,M=_.search.trim();return`customers:page=${oe}:limit=${ee}:search=${M}`},v=async(oe=!1)=>{var I;if(!d){_.error="Customers endpoint unavailable.",_.items=[];return}const ee=g(),M=oe?null:Tt(ee,n);if(M){l.recordCacheHit(),_.items=M.items,_.pagination={..._.pagination,...M.pagination},_.lastUpdated=M.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="",c.value&&f&&c.value.abort();const D=f?new AbortController:null;c.value=D;const Y=l.startFetch();try{const V=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:Z,pagination:le}=await a.fetchCustomers({endpoint:d,limit:_.pagination.limit,start:V,search:_.search.trim(),signal:D?D.signal:void 0});_.items=Z,_.pagination={..._.pagination,...le,current:le.current&&le.current>0?le.current:1},_.lastUpdated=new Date().toISOString(),_t(ee,{items:Z,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(V){if((V==null?void 0:V.name)==="AbortError")return;_.error=(I=V==null?void 0:V.message)!=null?I:"Unknown error"}finally{l.endFetch(Y),f&&c.value===D&&(c.value=null),_.loading=!1}},k=()=>{_.pagination.current=1,Fe(g()),v(!0)},O=()=>{_.pagination.current=1,v()},N=oe=>{const ee=Number(oe);Number.isNaN(ee)||ee<1||ee===_.pagination.current||(_.pagination.current=ee,v())},T=async oe=>{var ee;if(!p||!(oe!=null&&oe.email)){_.activeCustomer=oe||null;return}try{const M=await a.fetchCustomer({endpoint:p,email:oe.email});_.activeCustomer=M||oe}catch(M){_.error=(ee=M==null?void 0:M.message)!=null?ee:"Unknown error"}},z=()=>{_.activeCustomer=null};return st(()=>{o&&(!Array.isArray(_.items)||!_.items.length)&&v()}),{state:_,loadCustomers:v,refresh:k,search:O,goToPage:N,viewCustomer:T,closeCustomer:z,metrics:l.metrics}}function Wy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var re,de,me,j,H,Q,F,ie,_e,oe,ee,M,D,Y;const a=pt({token:t}),l=yt("coupons"),d=(re=e==null?void 0:e.list)!=null?re:"",p=(de=e==null?void 0:e.create)!=null?de:d,_=(me=e==null?void 0:e.update)!=null?me:d,f=(j=e==null?void 0:e.delete)!=null?j:d,c=Ue({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ie=(F=(H=s.pagination)==null?void 0:H.total)!=null?F:(Q=s.items)==null?void 0:Q.length)!=null?ie:0,limit:(oe=(_e=s.pagination)==null?void 0:_e.limit)!=null?oe:20,pages:(M=(ee=s.pagination)==null?void 0:ee.pages)!=null?M:0,current:(Y=(D=s.pagination)==null?void 0:D.current)!=null?Y:1},search:"",activeCoupon:null,lastUpdated:null}),g=typeof AbortController!="undefined",v=Ve(null),k=()=>{const I=c.pagination.current||1,V=c.pagination.limit||20,Z=c.search.trim();return`coupons:page=${I}:limit=${V}:search=${Z}`},O=async(I=!1)=>{var be;if(!d){c.error="Coupons endpoint unavailable.",c.items=[];return}const V=k(),Z=I?null:Tt(V,n);if(Z){l.recordCacheHit(),c.items=Z.items,c.pagination={...c.pagination,...Z.pagination},c.lastUpdated=Z.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",v.value&&g&&v.value.abort();const le=g?new AbortController:null;v.value=le;const Te=l.startFetch();try{const se=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:w,pagination:C}=await a.fetchCoupons({endpoint:d,limit:c.pagination.limit,start:se,search:c.search.trim(),signal:le?le.signal:void 0});c.items=w,c.pagination={...c.pagination,...C,current:C.current&&C.current>0?C.current:1},c.lastUpdated=new Date().toISOString(),_t(V,{items:w,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(se){if((se==null?void 0:se.name)==="AbortError")return;c.error=(be=se==null?void 0:se.message)!=null?be:"Unknown error"}finally{l.endFetch(Te),g&&v.value===le&&(v.value=null),c.loading=!1}},N=()=>{c.pagination.current=1,Fe(k()),O(!0)},T=()=>{c.pagination.current=1,O()},z=I=>{const V=Number(I);Number.isNaN(V)||V<1||V===c.pagination.current||(c.pagination.current=V,O())},G=I=>{c.activeCoupon=I},P=I=>{const V=c.items.findIndex(Z=>Z.id===I.id);V===-1?c.items.unshift(I):c.items.splice(V,1,I)},U=async I=>{var V;c.saving=!0,c.error="";try{let Z=null;return I.id?Z=await a.updateCoupon({endpoint:_,id:I.id,data:I}):Z=await a.createCoupon({endpoint:p,data:I}),Z&&(P(Z),c.activeCoupon&&c.activeCoupon.id===Z.id&&(c.activeCoupon=Z),Fe(k())),Z}catch(Z){throw c.error=(V=Z==null?void 0:Z.message)!=null?V:"Unknown error",Z}finally{c.saving=!1}},ae=async I=>{var V;if(!Array.isArray(I)||!I.length)return 0;c.saving=!0,c.error="";try{const Z=await a.deleteCoupons({endpoint:f,ids:I});return Z&&(c.items=c.items.filter(le=>!I.includes(le.id)),c.activeCoupon&&I.includes(c.activeCoupon.id)&&(c.activeCoupon=null),Fe(k())),Z}catch(Z){throw c.error=(V=Z==null?void 0:Z.message)!=null?V:"Unknown error",Z}finally{c.saving=!1}};return st(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&O()}),{state:c,loadCoupons:O,refresh:N,search:T,goToPage:z,setActive:G,saveCoupon:U,deleteCoupons:ae,metrics:l.metrics}}const ai=(e={})=>{var d,p,_,f,c,g,v,k,O,N,T,z,G,P,U,ae,re,de,me;const t=(d=e.store)!=null?d:{},s=(p=e.payments)!=null?p:{},o=(_=e.visual)!=null?_:{},n=(f=e.visual_defaults)!=null?f:{},a=(g=(c=e.security)==null?void 0:c.rate_limits)!=null?g:{},l=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"USD";return{store:{name:(v=t.name)!=null?v:"",email:(k=t.email)!=null?k:"",phone:(O=t.phone)!=null?O:""},payments:{configured:!!s.configured},base_currency:l,checkout_phone_required:!!e.checkout_phone_required,visual:{primary_color:(N=o.primary_color)!=null?N:"",text_color:(T=o.text_color)!=null?T:"",surface_color:(z=o.surface_color)!=null?z:"",border_color:(G=o.border_color)!=null?G:"",muted_color:(P=o.muted_color)!=null?P:""},visual_defaults:{primary_color:(U=n.primary_color)!=null?U:"#4f6d7a",text_color:(ae=n.text_color)!=null?ae:"#1f2933",surface_color:(re=n.surface_color)!=null?re:"#ffffff",border_color:(de=n.border_color)!=null?de:"#e4e7ec",muted_color:(me=n.muted_color)!=null?me:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(a.checkout_ip_limit))?Number(a.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(a.checkout_email_limit))?Number(a.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(a.checkout_session_limit))?Number(a.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(a.checkout_window_minutes))?Number(a.checkout_window_minutes):Number.isFinite(Number(a.checkout_window))?Math.max(0,Math.ceil(Number(a.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(a.offline_ip_limit))?Number(a.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(a.offline_email_limit))?Number(a.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(a.offline_window_minutes))?Number(a.offline_window_minutes):Number.isFinite(Number(a.offline_window))?Math.max(0,Math.ceil(Number(a.offline_window)/60)):30}}}};function qy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var g,v;const a=pt({token:t}),l=yt("settings"),d=(g=e==null?void 0:e.show)!=null?g:"",p=(v=e==null?void 0:e.update)!=null?v:d,_=Ue({loading:!1,saving:!1,error:"",values:ai(s),lastUpdated:null}),f=async(k=!1)=>{var z;if(!d){_.error="Settings endpoint unavailable.";return}const O="settings:data",N=k?null:Tt(O,n);if(N){l.recordCacheHit(),_.values=N.values,_.lastUpdated=N.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="";const T=l.startFetch();try{const G=await a.fetchSettings({endpoint:d});_.values=ai(G),_.lastUpdated=new Date().toISOString(),_t(O,{values:_.values,lastUpdated:_.lastUpdated})}catch(G){throw _.error=(z=G==null?void 0:G.message)!=null?z:"Unknown error",G}finally{l.endFetch(T),_.loading=!1}},c=async k=>{var O;if(!p)return _.error="Settings endpoint unavailable.",null;_.saving=!0,_.error="";try{const N=await a.updateSettings({endpoint:p,data:k});return _.values=ai(N),_.lastUpdated=new Date().toISOString(),Fe("settings:data"),_t("settings:data",{values:_.values,lastUpdated:_.lastUpdated}),_.values}catch(N){throw _.error=(O=N==null?void 0:N.message)!=null?O:"Unknown error",N}finally{_.saving=!1}};return st(()=>{o&&(!s||!s.store)&&f()}),{state:_,refresh:f,save:c,metrics:l.metrics}}function zy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var G,P,U,ae,re,de,me,j,H,Q,F,ie,_e,oe;const a=pt({token:t}),l=yt("taxRates"),d=(G=e==null?void 0:e.list)!=null?G:"",p=(P=e==null?void 0:e.create)!=null?P:d,_=(U=e==null?void 0:e.update)!=null?U:d,f=(ae=e==null?void 0:e.delete)!=null?ae:d,c=Ue({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(j=(me=(re=s.pagination)==null?void 0:re.total)!=null?me:(de=s.items)==null?void 0:de.length)!=null?j:0,limit:(Q=(H=s.pagination)==null?void 0:H.limit)!=null?Q:20,pages:(ie=(F=s.pagination)==null?void 0:F.pages)!=null?ie:0,current:(oe=(_e=s.pagination)==null?void 0:_e.current)!=null?oe:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",v=Ve(null),k=()=>{const ee=c.pagination.current||1,M=c.pagination.limit||20,D=c.search.trim();return`taxRates:page=${ee}:limit=${M}:search=${D}`},O=async(ee=!1)=>{var V;if(!d){c.error="Tax endpoint unavailable.",c.items=[];return}const M=k(),D=ee?null:Tt(M,n);if(D){l.recordCacheHit(),c.items=D.items,c.pagination={...c.pagination,...D.pagination},c.lastUpdated=D.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",v.value&&g&&v.value.abort();const Y=g?new AbortController:null;v.value=Y;const I=l.startFetch();try{const Z=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:le,pagination:Te}=await a.fetchTaxRates({endpoint:d,limit:c.pagination.limit,start:Z,search:c.search.trim(),signal:Y?Y.signal:void 0});c.items=le,c.pagination={...c.pagination,...Te,current:Te.current&&Te.current>0?Te.current:1},c.lastUpdated=new Date().toISOString(),_t(M,{items:le,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Z){if((Z==null?void 0:Z.name)==="AbortError")return;c.error=(V=Z==null?void 0:Z.message)!=null?V:"Unknown error"}finally{l.endFetch(I),g&&v.value===Y&&(v.value=null),c.loading=!1}},N=()=>{c.pagination.current=1,Fe(k()),O(!0)},T=async ee=>{var M;c.saving=!0,c.error="";try{const D=ee.id?await a.updateTaxRate({endpoint:_,id:ee.id,data:ee}):await a.createTaxRate({endpoint:p,data:ee});if(D){const Y=c.items.findIndex(I=>I.id===D.id);Y===-1?c.items.unshift(D):c.items.splice(Y,1,D),Fe(k())}return D}catch(D){throw c.error=(M=D==null?void 0:D.message)!=null?M:"Unknown error",D}finally{c.saving=!1}},z=async ee=>{var M;if(!Array.isArray(ee)||!ee.length)return 0;c.saving=!0,c.error="";try{const D=await a.deleteTaxRates({endpoint:f,ids:ee});return D&&(c.items=c.items.filter(Y=>!ee.includes(Y.id)),Fe(k())),D}catch(D){throw c.error=(M=D==null?void 0:D.message)!=null?M:"Unknown error",D}finally{c.saving=!1}};return st(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&O()}),{state:c,loadRates:O,refresh:N,saveRate:T,deleteRates:z,metrics:l.metrics}}function Qy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var G,P,U,ae,re,de,me,j,H,Q,F,ie,_e,oe;const a=pt({token:t}),l=yt("shippingRules"),d=(G=e==null?void 0:e.list)!=null?G:"",p=(P=e==null?void 0:e.create)!=null?P:d,_=(U=e==null?void 0:e.update)!=null?U:d,f=(ae=e==null?void 0:e.delete)!=null?ae:d,c=Ue({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(j=(me=(re=s.pagination)==null?void 0:re.total)!=null?me:(de=s.items)==null?void 0:de.length)!=null?j:0,limit:(Q=(H=s.pagination)==null?void 0:H.limit)!=null?Q:20,pages:(ie=(F=s.pagination)==null?void 0:F.pages)!=null?ie:0,current:(oe=(_e=s.pagination)==null?void 0:_e.current)!=null?oe:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",v=Ve(null),k=()=>{const ee=c.pagination.current||1,M=c.pagination.limit||20,D=c.search.trim();return`shippingRules:page=${ee}:limit=${M}:search=${D}`},O=async(ee=!1)=>{var V;if(!d){c.error="Shipping endpoint unavailable.",c.items=[];return}const M=k(),D=ee?null:Tt(M,n);if(D){l.recordCacheHit(),c.items=D.items,c.pagination={...c.pagination,...D.pagination},c.lastUpdated=D.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",v.value&&g&&v.value.abort();const Y=g?new AbortController:null;v.value=Y;const I=l.startFetch();try{const Z=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:le,pagination:Te}=await a.fetchShippingRules({endpoint:d,limit:c.pagination.limit,start:Z,search:c.search.trim(),signal:Y?Y.signal:void 0});c.items=le,c.pagination={...c.pagination,...Te,current:Te.current&&Te.current>0?Te.current:1},c.lastUpdated=new Date().toISOString(),_t(M,{items:le,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Z){if((Z==null?void 0:Z.name)==="AbortError")return;c.error=(V=Z==null?void 0:Z.message)!=null?V:"Unknown error"}finally{l.endFetch(I),g&&v.value===Y&&(v.value=null),c.loading=!1}},N=()=>{c.pagination.current=1,Fe(k()),O(!0)},T=async ee=>{var M;c.saving=!0,c.error="";try{const D=ee.id?await a.updateShippingRule({endpoint:_,id:ee.id,data:ee}):await a.createShippingRule({endpoint:p,data:ee});if(D){const Y=c.items.findIndex(I=>I.id===D.id);Y===-1?c.items.unshift(D):c.items.splice(Y,1,D),Fe(k())}return D}catch(D){throw c.error=(M=D==null?void 0:D.message)!=null?M:"Unknown error",D}finally{c.saving=!1}},z=async ee=>{var M;if(!Array.isArray(ee)||!ee.length)return 0;c.saving=!0,c.error="";try{const D=await a.deleteShippingRules({endpoint:f,ids:ee});return D&&(c.items=c.items.filter(Y=>!ee.includes(Y.id)),Fe(k())),D}catch(D){throw c.error=(M=D==null?void 0:D.message)!=null?M:"Unknown error",D}finally{c.saving=!1}};return st(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&O()}),{state:c,loadRules:O,refresh:N,saveRule:T,deleteRules:z,metrics:l.metrics}}function Zy({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var T,z,G,P,U,ae,re,de,me,j,H;const a=pt({token:t}),l=yt("logs"),d=(T=e==null?void 0:e.list)!=null?T:"",p=Ue({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(U=(P=(z=s.pagination)==null?void 0:z.total)!=null?P:(G=s.items)==null?void 0:G.length)!=null?U:0,limit:(re=(ae=s.pagination)==null?void 0:ae.limit)!=null?re:20,pages:(me=(de=s.pagination)==null?void 0:de.pages)!=null?me:0,current:(H=(j=s.pagination)==null?void 0:j.current)!=null?H:1},search:"",entity:"",lastUpdated:null}),_=typeof AbortController!="undefined",f=Ve(null),c=()=>{const Q=p.pagination.current||1,F=p.pagination.limit||20,ie=p.search.trim(),_e=p.entity.trim();return`logs:page=${Q}:limit=${F}:search=${ie}:entity=${_e}`},g=async(Q=!1)=>{var ee;if(!d){p.error="Logs endpoint unavailable.",p.items=[];return}const F=c(),ie=Q?null:Tt(F,n);if(ie){l.recordCacheHit(),p.items=ie.items,p.pagination={...p.pagination,...ie.pagination},p.lastUpdated=ie.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",_&&f.value&&f.value.abort();const _e=_?new AbortController:null;f.value=_e;const oe=l.startFetch();try{const M=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:D,pagination:Y}=await a.fetchLogs({endpoint:d,limit:p.pagination.limit,start:M,search:p.search.trim(),entity:p.entity,signal:_e?_e.signal:void 0});p.items=D,p.pagination={...p.pagination,...Y,current:Y.current&&Y.current>0?Y.current:1},p.lastUpdated=new Date().toISOString(),_t(F,{items:D,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(M){if((M==null?void 0:M.name)==="AbortError")return;p.error=(ee=M==null?void 0:M.message)!=null?ee:"Unknown error"}finally{l.endFetch(oe),_&&f.value===_e&&(f.value=null),p.loading=!1}},v=()=>{p.pagination.current=1,Fe(c()),g(!0)},k=()=>{p.pagination.current=1,g()},O=Q=>{const F=typeof Q=="string"?Q.trim():"";p.entity!==F&&(p.entity=F,p.pagination.current=1,g())},N=Q=>{const F=Number(Q);Number.isNaN(F)||F<1||F===p.pagination.current||(p.pagination.current=F,g())};return st(()=>{o&&(!Array.isArray(p.items)||!p.items.length)&&g()}),{state:p,loadLogs:g,refresh:v,search:k,setEntity:O,goToPage:N,metrics:l.metrics}}const ea=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function eO({endpoints:e={},token:t=""}){const s=pt({token:t}),o=Ue({loading:!1,saving:!1,error:"",config:ea(),message:""}),n=async()=>{var d,p,_,f;if(e.show){o.loading=!0,o.error="";try{const c=await s.get(e.show);o.config=l((_=(p=(d=c==null?void 0:c.data)==null?void 0:d.config)!=null?p:c==null?void 0:c.config)!=null?_:{})}catch(c){o.error=(f=c.message)!=null?f:"Unable to load payment configuration."}finally{o.loading=!1}}},a=async d=>{var p,_,f,c,g,v,k;if(e.update){o.saving=!0,o.error="",o.message="";try{const O=await s.post(e.update,{config:d});o.config=l((f=(_=(p=O==null?void 0:O.data)==null?void 0:p.config)!=null?_:O==null?void 0:O.config)!=null?f:{}),o.message=(v=(g=(c=O==null?void 0:O.data)==null?void 0:c.message)!=null?g:O==null?void 0:O.message)!=null?v:""}catch(O){o.error=(k=O.message)!=null?k:"Unable to save payment configuration."}finally{o.saving=!1}}},l=d=>{var _,f,c,g;const p=ea();return{stripe:{...p.stripe,...(_=d.stripe)!=null?_:{}},paypal:{...p.paypal,...(f=d.paypal)!=null?f:{}},cod:{...p.cod,...(c=d.cod)!=null?c:{}},bank_transfer:{...p.bank_transfer,...(g=d.bank_transfer)!=null?g:{}}}};return{state:o,refresh:n,save:a}}const tO={class:"nxp-ec-admin-app__shell"},nO={class:"nxp-ec-admin-app__header"},sO={class:"nxp-ec-admin-app__title"},iO={class:"nxp-ec-admin-app__lead"},oO={key:0,class:"nxp-ec-admin-nav"},aO=["href"],rO={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},lO={class:"nxp-ec-admin-panel__body"},cO={class:"nxp-ec-admin-panel__lead"},wn="nxp:admin:onboarding:dismissed",dO={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var tr,nr,sr,ir,or,ar,rr,lr,cr,dr,ur,pr,_r,fr,hr,mr,gr,Sr,Cr,Er,br,Ar,Tr,yr,Or,Rr,vr,xr,Nr,Pr,Mr,Ir,kr,wr,$r,Ur,Dr,Lr,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,ol,al,rl,ll,cl,dl,ul,pl,_l,fl,hl,ml,gl,Sl,Cl,El,bl,Al,Tl,yl,Ol,Rl,vl,xl,Nl,Pl,Ml,Il,kl,wl,$l,Ul,Dl,Ll,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,oc,ac,rc,lc,cc,dc,uc,pc,_c,fc,hc,mc,gc,Sc,Cc,Ec,bc,Ac,Tc,yc,Oc,Rc,vc,xc,Nc;const t=e,{__:s}=Yy(t.dataset),o=Se(()=>{var W;return((W=t.dataset)==null?void 0:W.appTitleKey)||"COM_NXPEASYCART"}),n=Se(()=>{var W;return((W=t.dataset)==null?void 0:W.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(W,pe)=>{if(!W||typeof W!="string")return pe;try{return JSON.parse(W)}catch(Pe){return pe}},l=Se(()=>{var pe,Pe;if(Array.isArray((pe=t.config)==null?void 0:pe.navItems))return t.config.navItems.map(tt=>({id:tt.id,title:tt.title,link:tt.link}));const W=a((Pe=t.dataset)==null?void 0:Pe.navItems,[]);return Array.isArray(W)?W.map(tt=>({id:tt.id,title:tt.title,link:tt.link})):[]}),d=W=>{const pe=l.value;if(!Array.isArray(pe))return"";const Pe=pe.find(tt=>tt.id===W);return Pe?Pe.link:""},p=Se(()=>{var W,pe;return((W=t.config)==null?void 0:W.activeSection)||((pe=t.dataset)==null?void 0:pe.activeSection)||"dashboard"}),_=W=>p.value===W,f=Se(()=>_("dashboard")),c=Se(()=>_("products")),g=Se(()=>_("categories")||_("products")),v=Se(()=>_("orders")),k=Se(()=>_("customers")),O=Se(()=>_("coupons")),N=Se(()=>_("settings")),T=Se(()=>_("logs")),z=(dr=(tr=t.endpoints)==null?void 0:tr.products)!=null?dr:{list:(sr=(nr=t.dataset)==null?void 0:nr.productsEndpoint)!=null?sr:"",create:(or=(ir=t.dataset)==null?void 0:ir.productsEndpointCreate)!=null?or:"",update:(rr=(ar=t.dataset)==null?void 0:ar.productsEndpointUpdate)!=null?rr:"",delete:(cr=(lr=t.dataset)==null?void 0:lr.productsEndpointDelete)!=null?cr:""},G=(Er=(ur=t.endpoints)==null?void 0:ur.categories)!=null?Er:{list:(_r=(pr=t.dataset)==null?void 0:pr.categoriesEndpoint)!=null?_r:"",create:(hr=(fr=t.dataset)==null?void 0:fr.categoriesEndpointCreate)!=null?hr:"",update:(gr=(mr=t.dataset)==null?void 0:mr.categoriesEndpointUpdate)!=null?gr:"",delete:(Cr=(Sr=t.dataset)==null?void 0:Sr.categoriesEndpointDelete)!=null?Cr:""},P=(Ir=(br=t.endpoints)==null?void 0:br.orders)!=null?Ir:{list:(Tr=(Ar=t.dataset)==null?void 0:Ar.ordersEndpoint)!=null?Tr:"",show:(Or=(yr=t.dataset)==null?void 0:yr.ordersEndpointShow)!=null?Or:"",transition:(vr=(Rr=t.dataset)==null?void 0:Rr.ordersEndpointTransition)!=null?vr:"",bulkTransition:(Nr=(xr=t.dataset)==null?void 0:xr.ordersEndpointBulk)!=null?Nr:"",note:(Mr=(Pr=t.dataset)==null?void 0:Pr.ordersEndpointNote)!=null?Mr:""},U=(Lr=(kr=t.endpoints)==null?void 0:kr.customers)!=null?Lr:{list:($r=(wr=t.dataset)==null?void 0:wr.customersEndpoint)!=null?$r:"",show:(Dr=(Ur=t.dataset)==null?void 0:Ur.customersEndpointShow)!=null?Dr:""},ae=(Jr=(Yr=t.endpoints)==null?void 0:Yr.coupons)!=null?Jr:{list:(Fr=(Xr=t.dataset)==null?void 0:Xr.couponsEndpoint)!=null?Fr:"",create:(Vr=(Gr=t.dataset)==null?void 0:Gr.couponsEndpointCreate)!=null?Vr:"",update:(Br=(Hr=t.dataset)==null?void 0:Hr.couponsEndpointUpdate)!=null?Br:"",delete:(jr=(Kr=t.dataset)==null?void 0:Kr.couponsEndpointDelete)!=null?jr:""},re=(il=(Wr=t.endpoints)==null?void 0:Wr.tax)!=null?il:{list:(zr=(qr=t.dataset)==null?void 0:qr.taxEndpoint)!=null?zr:"",create:(Zr=(Qr=t.dataset)==null?void 0:Qr.taxEndpointCreate)!=null?Zr:"",update:(tl=(el=t.dataset)==null?void 0:el.taxEndpointUpdate)!=null?tl:"",delete:(sl=(nl=t.dataset)==null?void 0:nl.taxEndpointDelete)!=null?sl:""},de=(fl=(ol=t.endpoints)==null?void 0:ol.shipping)!=null?fl:{list:(rl=(al=t.dataset)==null?void 0:al.shippingEndpoint)!=null?rl:"",create:(cl=(ll=t.dataset)==null?void 0:ll.shippingEndpointCreate)!=null?cl:"",update:(ul=(dl=t.dataset)==null?void 0:dl.shippingEndpointUpdate)!=null?ul:"",delete:(_l=(pl=t.dataset)==null?void 0:pl.shippingEndpointDelete)!=null?_l:""},me=(El=(hl=t.endpoints)==null?void 0:hl.settings)!=null?El:{show:(gl=(ml=t.dataset)==null?void 0:ml.settingsEndpointShow)!=null?gl:"",update:(Cl=(Sl=t.dataset)==null?void 0:Sl.settingsEndpointUpdate)!=null?Cl:""},j=(yl=(bl=t.endpoints)==null?void 0:bl.logs)!=null?yl:{list:(Tl=(Al=t.dataset)==null?void 0:Al.logsEndpoint)!=null?Tl:""},H=(Pl=(Ol=t.endpoints)==null?void 0:Ol.payments)!=null?Pl:{show:(vl=(Rl=t.dataset)==null?void 0:Rl.paymentsEndpointShow)!=null?vl:"",update:(Nl=(xl=t.dataset)==null?void 0:xl.paymentsEndpointUpdate)!=null?Nl:""},Q=Se(()=>{var W;return a((W=t.dataset)==null?void 0:W.orderStates,[])}),{state:F,refresh:ie}=jy({endpoint:(Dl=(Ul=(wl=(Ml=t.endpoints)==null?void 0:Ml.dashboard)!=null?wl:(kl=(Il=t.config)==null?void 0:Il.endpoints)==null?void 0:kl.dashboard)!=null?Ul:($l=t.dataset)==null?void 0:$l.dashboardEndpoint)!=null?Dl:"",token:t.csrfToken,preload:(Gl=(Yl=(Ll=t.config)==null?void 0:Ll.preload)==null?void 0:Yl.dashboard)!=null?Gl:{summary:a((Xl=t.dataset)==null?void 0:Xl.dashboardSummary,{}),checklist:a((Fl=t.dataset)==null?void 0:Fl.dashboardChecklist,[])},autoload:f.value}),{state:_e,refresh:oe,search:ee,createProduct:M,updateProduct:D,deleteProducts:Y}=Hy({endpoints:z,token:t.csrfToken,autoload:c.value}),{state:I,refresh:V,search:Z,goToPage:le,saveCategory:Te,deleteCategories:be,loadOptions:se}=By({endpoints:G,token:t.csrfToken,preload:(jl=(Hl=(Vl=t.config)==null?void 0:Vl.preload)==null?void 0:Hl.categories)!=null?jl:{items:a((Bl=t.dataset)==null?void 0:Bl.categoriesPreload,[]),pagination:a((Kl=t.dataset)==null?void 0:Kl.categoriesPreloadPagination,{})},autoload:g.value}),w=Se(()=>(Array.isArray(I.items)?I.items:[]).map(pe=>{var Pe,tt,Dn;return{id:Number.parseInt((Pe=pe==null?void 0:pe.id)!=null?Pe:0,10)||0,title:String((tt=pe==null?void 0:pe.title)!=null?tt:"").trim(),slug:String((Dn=pe==null?void 0:pe.slug)!=null?Dn:"").trim(),parent_id:(pe==null?void 0:pe.parent_id)!==null&&(pe==null?void 0:pe.parent_id)!==void 0&&Number.parseInt(pe.parent_id,10)||null}}).filter(pe=>pe.title!=="")),{state:C,refresh:S,search:Ee,setFilterState:h,viewOrder:A,closeOrder:L,transitionOrder:K,goToPage:q,bulkTransition:J,toggleSelection:b,clearSelection:m,addNote:E}=Ky({endpoints:P,token:t.csrfToken,states:Q.value,preload:(Ql=(Wl=(Jl=t.config)==null?void 0:Jl.preload)==null?void 0:Wl.orders)!=null?Ql:{items:a((ql=t.dataset)==null?void 0:ql.ordersPreload,[]),pagination:a((zl=t.dataset)==null?void 0:zl.ordersPreloadPagination,{})},autoload:v.value}),{state:R,refresh:X,search:$,goToPage:te,viewCustomer:B,closeCustomer:ce}=Jy({endpoints:U,token:t.csrfToken,preload:(sc=(ec=(Zl=t.config)==null?void 0:Zl.preload)==null?void 0:ec.customers)!=null?sc:{items:a((tc=t.dataset)==null?void 0:tc.customersPreload,[]),pagination:a((nc=t.dataset)==null?void 0:nc.customersPreloadPagination,{})},autoload:k.value}),{state:fe,refresh:he,search:ye,goToPage:xe,saveCoupon:Ie,deleteCoupons:Ke}=Wy({endpoints:(oc=(ic=t.endpoints)==null?void 0:ic.coupons)!=null?oc:ae,token:t.csrfToken,preload:(dc=(rc=(ac=t.config)==null?void 0:ac.preload)==null?void 0:rc.coupons)!=null?dc:{items:a((lc=t.dataset)==null?void 0:lc.couponsPreload,[]),pagination:a((cc=t.dataset)==null?void 0:cc.couponsPreloadPagination,{})},autoload:O.value}),at=(fc=(pc=(uc=t.config)==null?void 0:uc.preload)==null?void 0:pc.settings)!=null?fc:a((_c=t.dataset)==null?void 0:_c.settingsPreload,{}),{state:Ge,refresh:De,save:Le}=qy({endpoints:me,token:t.csrfToken,preload:at,autoload:N.value}),Ot=Se(()=>{var pe,Pe;const W=(Pe=(pe=t.dataset)==null?void 0:pe.baseCurrency)!=null?Pe:"";return typeof W=="string"?W.trim().toUpperCase():""}),Rt=Se(()=>{var pe,Pe;const W=(Pe=(pe=Ge==null?void 0:Ge.values)==null?void 0:pe.base_currency)!=null?Pe:"";return typeof W=="string"?W.trim().toUpperCase():""}),$t=Se(()=>{const W=Rt.value||Ot.value;return W!==""?W:"USD"}),dn=Se(()=>{var pe,Pe;const W=(Pe=(pe=t.dataset)==null?void 0:pe.mediaModalUrl)!=null?Pe:"";return typeof W=="string"?W.trim():""}),ms=W=>{switch(W){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:d("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:d("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:d("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:d("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:d("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:W||"step",titleKey:W||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:W||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:d("dashboard")||""}}},$n=Se(()=>(Array.isArray(F.checklist)?F.checklist:[]).map(pe=>{const Pe=ms(pe.label);return{id:Pe.id,completed:!!pe.completed,link:pe.link||Pe.link||"",label:pe.label,titleKey:Pe.titleKey,descriptionKey:Pe.descriptionKey,titleFallback:Pe.titleFallback,descriptionFallback:Pe.descriptionFallback}})),Un=Se(()=>$n.value.some(W=>!W.completed)),Wt=Ve(!1),uO=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(wn,"0")}catch(W){}Wt.value=!0},Za=()=>{if(Wt.value=!1,typeof window!="undefined")try{window.localStorage.setItem(wn,"1")}catch(W){}},pO=W=>{W&&typeof W.link=="string"&&W.link!==""&&(Za(),typeof window!="undefined"&&(window.location.href=W.link))};Ye(Un,W=>{if(!W&&(Wt.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(wn,"1")}catch(pe){}});const _O=(Cc=(mc=(hc=t.config)==null?void 0:hc.preload)==null?void 0:mc.tax)!=null?Cc:{items:a((gc=t.dataset)==null?void 0:gc.taxPreload,[]),pagination:a((Sc=t.dataset)==null?void 0:Sc.taxPreloadPagination,{})},{state:fO,refresh:gs,saveRate:hO,deleteRates:mO}=zy({endpoints:re,token:t.csrfToken,preload:_O,autoload:N.value}),gO=(yc=(bc=(Ec=t.config)==null?void 0:Ec.preload)==null?void 0:bc.shipping)!=null?yc:{items:a((Ac=t.dataset)==null?void 0:Ac.shippingPreload,[]),pagination:a((Tc=t.dataset)==null?void 0:Tc.shippingPreloadPagination,{})},{state:SO,refresh:Ss,saveRule:CO,deleteRules:EO}=Qy({endpoints:de,token:t.csrfToken,preload:gO,autoload:N.value}),bO=(Nc=(Rc=(Oc=t.config)==null?void 0:Oc.preload)==null?void 0:Rc.logs)!=null?Nc:{items:a((vc=t.dataset)==null?void 0:vc.logsPreload,[]),pagination:a((xc=t.dataset)==null?void 0:xc.logsPreloadPagination,{})},{state:AO,refresh:er,search:TO,setEntity:yO,goToPage:OO}=Zy({endpoints:j,token:t.csrfToken,preload:bO,autoload:T.value}),{state:RO,refresh:ri,save:vO}=eO({endpoints:H,token:t.csrfToken});Ye(p,W=>{switch(W){case"dashboard":ie();break;case"products":oe(),V();break;case"categories":V();break;case"orders":S();break;case"customers":X();break;case"coupons":he();break;case"settings":De(),gs(),Ss(),ri();break;case"logs":er();break}}),st(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const W=window.localStorage.getItem(wn);Un.value?W!=="1"&&(Wt.value=!0):window.localStorage.setItem(wn,"1")}catch(W){}}N.value&&ri()});const xO=()=>{oe()},NO=()=>{ee()},PO=async W=>{try{await M(W),oe(),V()}catch(pe){}},MO=async({id:W,data:pe})=>{try{await D(W,pe),oe(),V()}catch(Pe){}},IO=async W=>{try{await Y(W),oe(),V()}catch(pe){}},kO=()=>{V()},wO=()=>{Z()},$O=W=>{le(W)},UO=async W=>{try{await Te(W),V()}catch(pe){}},DO=async W=>{try{await be(W),V()}catch(pe){}},LO=()=>{ie()},YO=()=>{S()},XO=()=>{Ee()},FO=W=>{h(W)},GO=W=>{A(W)},VO=()=>{L()},HO=async({id:W,state:pe})=>{await K(W,pe)},BO=W=>{q(W)},KO=async({ids:W,state:pe})=>{await J(W,pe)},jO=W=>{b(W)},JO=()=>{m()},WO=async({id:W,message:pe})=>{await E(W,pe)},qO=()=>{X()},zO=()=>{$()},QO=W=>{te(W)},ZO=W=>{B(W)},eR=()=>{ce()},tR=()=>{he()},nR=()=>{ye()},sR=W=>{xe(W)},iR=async W=>{try{await Ie(W)}catch(pe){}},oR=async W=>{try{await Ke(W)}catch(pe){}},aR=()=>{De()},rR=async W=>{try{await Le(W)}catch(pe){}},lR=()=>{gs()},cR=async W=>{try{await hO(W),gs()}catch(pe){}},dR=async W=>{try{await mO(W),gs()}catch(pe){}},uR=()=>{Ss()},pR=async W=>{try{await CO(W),Ss()}catch(pe){}},_R=async W=>{try{await EO(W),Ss()}catch(pe){}},fR=()=>{er()},hR=()=>{TO()},mR=W=>{yO(W)},gR=W=>{OO(W)},SR=()=>{ri()},CR=async W=>{await vO(W)};return(W,pe)=>(y(),lt(_p,null,{default:Ki(()=>{var Pe,tt,Dn,Pc,Mc,Ic;return[i("section",tO,[i("header",nO,[i("div",null,[i("h1",sO,u(r(s)(o.value,(tt=(Pe=t.dataset)==null?void 0:Pe.appTitle)!=null?tt:"NXP Easy Cart",[],"appTitle")),1),i("p",iO,u(r(s)(n.value,(Pc=(Dn=t.dataset)==null?void 0:Dn.appLead)!=null?Pc:"Manage your storefront from one place.",[],"appLead")),1)]),ne(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:uO},u(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[Yu,Un.value]])]),l.value.length?(y(),x("nav",oO,[(y(!0),x(Ce,null,Re(l.value,Cs=>(y(),x("a",{key:Cs.id,href:Cs.link,class:Me({"is-active":Cs.id===p.value})},u(Cs.title),11,aO))),128))])):Oe("",!0),p.value==="dashboard"?(y(),lt(Kp,{key:1,state:r(F),translate:r(s),onRefresh:LO},null,8,["state","translate"])):p.value==="products"?(y(),lt(Ch,{key:2,state:r(_e),translate:r(s),"base-currency":$t.value,"category-options":w.value,"media-modal-url":dn.value,onCreate:PO,onUpdate:MO,onDelete:IO,onRefresh:xO,onSearch:NO},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(y(),lt(mm,{key:3,state:r(I),translate:r(s),"load-options":r(se),onRefresh:kO,onSearch:wO,onPage:$O,onSave:UO,onDelete:DO},null,8,["state","translate","load-options"])):p.value==="orders"?(y(),lt(Gg,{key:4,state:r(C),translate:r(s),onRefresh:YO,onSearch:XO,onFilter:FO,onView:GO,onClose:VO,onTransition:HO,onPage:BO,onBulkTransition:KO,onToggleSelection:jO,onClearSelection:JO,onAddNote:WO},null,8,["state","translate"])):p.value==="customers"?(y(),lt(wS,{key:5,state:r(R),translate:r(s),"base-currency":$t.value,onRefresh:qO,onSearch:zO,onPage:QO,onView:ZO,onClose:eR},null,8,["state","translate","base-currency"])):p.value==="coupons"?(y(),lt(XC,{key:6,state:r(fe),translate:r(s),"base-currency":$t.value,onRefresh:tR,onSearch:nR,onPage:sR,onSave:iR,onDelete:oR},null,8,["state","translate","base-currency"])):p.value==="settings"?(y(),lt(GT,{key:7,"settings-state":r(Ge),"tax-state":r(fO),"shipping-state":r(SO),"payments-state":r(RO),translate:r(s),"base-currency":$t.value,onRefreshSettings:aR,onSaveSettings:rR,onRefreshTax:lR,onSaveTax:cR,onDeleteTax:dR,onRefreshShipping:uR,onSaveShipping:pR,onDeleteShipping:_R,onRefreshPayments:SR,onSavePayments:CR},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency"])):p.value==="logs"?(y(),lt(Ey,{key:8,state:r(AO),translate:r(s),onRefresh:fR,onSearch:hR,onFilter:mR,onPage:gR},null,8,["state","translate"])):(y(),x("div",rO,[i("div",lO,[i("p",cO,u(r(s)(n.value,(Ic=(Mc=t.dataset)==null?void 0:Mc.appLead)!=null?Ic:"This section will be available soon.",[],"appLead")),1)])]))]),He(Uy,{visible:Wt.value,steps:$n.value,translate:r(s),onClose:Za,onNavigate:pO},null,8,["visible","steps","translate"])]}),_:1}))}},hs=document.getElementById("nxp-ec-admin-app");if(!hs)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(ta=hs.getAttribute("data-csrf-token"))!=null?ta:"",t=Object.assign({},hs.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(g){console.warn("[NXP Easy Cart] Failed to parse admin config payload",g)}const o=(ra=(na=s==null?void 0:s.endpoints)==null?void 0:na.products)!=null?ra:{list:(sa=t.productsEndpoint)!=null?sa:"",create:(ia=t.productsEndpointCreate)!=null?ia:"",update:(oa=t.productsEndpointUpdate)!=null?oa:"",delete:(aa=t.productsEndpointDelete)!=null?aa:""},n=(_a=(la=s==null?void 0:s.endpoints)==null?void 0:la.categories)!=null?_a:{list:(ca=t.categoriesEndpoint)!=null?ca:"",create:(da=t.categoriesEndpointCreate)!=null?da:"",update:(ua=t.categoriesEndpointUpdate)!=null?ua:"",delete:(pa=t.categoriesEndpointDelete)!=null?pa:""},a=(Ea=(fa=s==null?void 0:s.endpoints)==null?void 0:fa.orders)!=null?Ea:{list:(ha=t.ordersEndpoint)!=null?ha:"",show:(ma=t.ordersEndpointShow)!=null?ma:"",transition:(ga=t.ordersEndpointTransition)!=null?ga:"",bulkTransition:(Sa=t.ordersEndpointBulk)!=null?Sa:"",note:(Ca=t.ordersEndpointNote)!=null?Ca:""},l=(ya=(ba=s==null?void 0:s.endpoints)==null?void 0:ba.customers)!=null?ya:{list:(Aa=t.customersEndpoint)!=null?Aa:"",show:(Ta=t.customersEndpointShow)!=null?Ta:""},d=(Pa=(Oa=s==null?void 0:s.endpoints)==null?void 0:Oa.coupons)!=null?Pa:{list:(Ra=t.couponsEndpoint)!=null?Ra:"",create:(va=t.couponsEndpointCreate)!=null?va:"",update:(xa=t.couponsEndpointUpdate)!=null?xa:"",delete:(Na=t.couponsEndpointDelete)!=null?Na:""},p=(Ua=(Ma=s==null?void 0:s.endpoints)==null?void 0:Ma.tax)!=null?Ua:{list:(Ia=t.taxEndpoint)!=null?Ia:"",create:(ka=t.taxEndpointCreate)!=null?ka:"",update:(wa=t.taxEndpointUpdate)!=null?wa:"",delete:($a=t.taxEndpointDelete)!=null?$a:""},_=(Ga=(Da=s==null?void 0:s.endpoints)==null?void 0:Da.shipping)!=null?Ga:{list:(La=t.shippingEndpoint)!=null?La:"",create:(Ya=t.shippingEndpointCreate)!=null?Ya:"",update:(Xa=t.shippingEndpointUpdate)!=null?Xa:"",delete:(Fa=t.shippingEndpointDelete)!=null?Fa:""},f=(Ka=(Va=s==null?void 0:s.endpoints)==null?void 0:Va.settings)!=null?Ka:{show:(Ha=t.settingsEndpointShow)!=null?Ha:"",update:(Ba=t.settingsEndpointUpdate)!=null?Ba:""},c=(Wa=(ja=s==null?void 0:s.endpoints)==null?void 0:ja.logs)!=null?Wa:{list:(Ja=t.logsEndpoint)!=null?Ja:""};op(dO,{csrfToken:e,dataset:t,config:s,endpoints:{products:o,categories:n,orders:a,customers:l,coupons:d,tax:p,shipping:_,settings:f,logs:c,dashboard:(Qa=(za=(qa=s==null?void 0:s.endpoints)==null?void 0:qa.dashboard)!=null?za:t.dashboardEndpoint)!=null?Qa:""}}).mount(hs)}})();
