(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var $i,Di,Li,Yi,Ui,Xi,Fi,Gi,Vi,Hi,Bi,Ki,ji,Ji,Wi,qi,zi,Qi,Zi,er,tr,sr,nr,or,ar,ir,rr,lr,cr,dr,ur,pr,_r,fr,mr,hr,gr,Er,Cr,Ar,Sr,br,Tr,yr,Rr,Or,xr,Pr,Nr,vr,Mr,Ir,kr,wr,$r,Dr,Lr,Yr,Ur,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,sl,nl,ol,al,il,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Cl,Al,Sl,bl,Tl,yl,Rl,Ol,xl,Pl,Nl,vl,Ml,Il,kl,wl,$l,Dl,Ll,Yl,Ul,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,sc,nc,oc,ac,ic,rc;function Wn(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const tt={},Ss=[],Vt=()=>{},Fo=()=>!1,hn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),qn=e=>e.startsWith("onUpdate:"),mt=Object.assign,zn=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},O_=Object.prototype.hasOwnProperty,ze=(e,t)=>O_.call(e,t),Ye=Array.isArray,bs=e=>Us(e)==="[object Map]",Ts=e=>Us(e)==="[object Set]",Go=e=>Us(e)==="[object Date]",Fe=e=>typeof e=="function",it=e=>typeof e=="string",Yt=e=>typeof e=="symbol",st=e=>e!==null&&typeof e=="object",Vo=e=>(st(e)||Fe(e))&&Fe(e.then)&&Fe(e.catch),Ho=Object.prototype.toString,Us=e=>Ho.call(e),x_=e=>Us(e).slice(8,-1),Bo=e=>Us(e)==="[object Object]",Qn=e=>it(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xs=Wn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},P_=/-\w/g,rs=gn(e=>e.replace(P_,t=>t.slice(1).toUpperCase())),N_=/\B([A-Z])/g,ls=gn(e=>e.replace(N_,"-$1").toLowerCase()),Ko=gn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Zn=gn(e=>e?`on${Ko(e)}`:""),cs=(e,t)=>!Object.is(e,t),En=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},jo=(e,t,n,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:n})},Cn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Jo;const An=()=>Jo||(Jo=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Ut(e){if(Ye(e)){const t={};for(let n=0;n<e.length;n++){const a=e[n],s=it(a)?k_(a):Ut(a);if(s)for(const r in s)t[r]=s[r]}return t}else if(it(e)||st(e))return e}const v_=/;(?![^(]*\))/g,M_=/:([^]+)/,I_=/\/\*[^]*?\*\//g;function k_(e){const t={};return e.replace(I_,"").split(v_).forEach(n=>{if(n){const a=n.split(M_);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Ve(e){let t="";if(it(e))t=e;else if(Ye(e))for(let n=0;n<e.length;n++){const a=Ve(e[n]);a&&(t+=a+" ")}else if(st(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const w_=Wn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Wo(e){return!!e||e===""}function $_(e,t){if(e.length!==t.length)return!1;let n=!0;for(let a=0;n&&a<e.length;a++)n=Fs(e[a],t[a]);return n}function Fs(e,t){if(e===t)return!0;let n=Go(e),a=Go(t);if(n||a)return n&&a?e.getTime()===t.getTime():!1;if(n=Yt(e),a=Yt(t),n||a)return e===t;if(n=Ye(e),a=Ye(t),n||a)return n&&a?$_(e,t):!1;if(n=st(e),a=st(t),n||a){if(!n||!a)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const c in e){const u=e.hasOwnProperty(c),p=t.hasOwnProperty(c);if(u&&!p||!u&&p||!Fs(e[c],t[c]))return!1}}return String(e)===String(t)}function eo(e,t){return e.findIndex(n=>Fs(n,t))}const qo=e=>!!(e&&e.__v_isRef===!0),l=e=>it(e)?e:e==null?"":Ye(e)||st(e)&&(e.toString===Ho||!Fe(e.toString))?qo(e)?l(e.value):JSON.stringify(e,zo,2):String(e),zo=(e,t)=>qo(t)?zo(e,t.value):bs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[a,s],r)=>(n[to(a,r)+" =>"]=s,n),{})}:Ts(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>to(n))}:Yt(t)?to(t):st(t)&&!Ye(t)&&!Bo(t)?String(t):t,to=(e,t="")=>{var n;return Yt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let At;class D_{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=At,!t&&At&&(this.index=(At.scopes||(At.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=At;try{return At=this,t()}finally{At=n}}}on(){++this._on===1&&(this.prevScope=At,At=this)}off(){this._on>0&&--this._on===0&&(At=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,a;for(n=0,a=this.effects.length;n<a;n++)this.effects[n].stop();for(this.effects.length=0,n=0,a=this.cleanups.length;n<a;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,a=this.scopes.length;n<a;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function L_(){return At}let nt;const so=new WeakSet;class Qo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,At&&At.active&&At.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,so.has(this)&&(so.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ea(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,aa(this),ta(this);const t=nt,n=Xt;nt=this,Xt=!0;try{return this.fn()}finally{sa(this),nt=t,Xt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)io(t);this.deps=this.depsTail=void 0,aa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?so.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ao(this)&&this.run()}get dirty(){return ao(this)}}let Zo=0,Gs,Vs;function ea(e,t=!1){if(e.flags|=8,t){e.next=Vs,Vs=e;return}e.next=Gs,Gs=e}function no(){Zo++}function oo(){if(--Zo>0)return;if(Vs){let t=Vs;for(Vs=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Gs;){let t=Gs;for(Gs=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=n}}if(e)throw e}function ta(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function sa(e){let t,n=e.depsTail,a=n;for(;a;){const s=a.prevDep;a.version===-1?(a===n&&(n=s),io(a),Y_(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=s}e.deps=t,e.depsTail=n}function ao(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(na(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function na(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hs)||(e.globalVersion=Hs,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ao(e))))return;e.flags|=2;const t=e.dep,n=nt,a=Xt;nt=e,Xt=!0;try{ta(e);const s=e.fn(e._value);(t.version===0||cs(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{nt=n,Xt=a,sa(e),e.flags&=-3}}function io(e,t=!1){const{dep:n,prevSub:a,nextSub:s}=e;if(a&&(a.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=a,e.nextSub=void 0),n.subs===e&&(n.subs=a,!a&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)io(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Y_(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Xt=!0;const oa=[];function Ht(){oa.push(Xt),Xt=!1}function Bt(){const e=oa.pop();Xt=e===void 0?!0:e}function aa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=nt;nt=void 0;try{t()}finally{nt=n}}}let Hs=0;class U_{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ro{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!nt||!Xt||nt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==nt)n=this.activeLink=new U_(nt,this),nt.deps?(n.prevDep=nt.depsTail,nt.depsTail.nextDep=n,nt.depsTail=n):nt.deps=nt.depsTail=n,ia(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const a=n.nextDep;a.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=a),n.prevDep=nt.depsTail,n.nextDep=void 0,nt.depsTail.nextDep=n,nt.depsTail=n,nt.deps===n&&(nt.deps=a)}return n}trigger(t){this.version++,Hs++,this.notify(t)}notify(t){no();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{oo()}}}function ia(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)ia(a)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const lo=new WeakMap,fs=Symbol(""),co=Symbol(""),Bs=Symbol("");function pt(e,t,n){if(Xt&&nt){let a=lo.get(e);a||lo.set(e,a=new Map);let s=a.get(n);s||(a.set(n,s=new ro),s.map=a,s.key=n),s.track()}}function Zt(e,t,n,a,s,r){const c=lo.get(e);if(!c){Hs++;return}const u=p=>{p&&p.trigger()};if(no(),t==="clear")c.forEach(u);else{const p=Ye(e),f=p&&Qn(n);if(p&&n==="length"){const C=Number(a);c.forEach((d,R)=>{(R==="length"||R===Bs||!Yt(R)&&R>=C)&&u(d)})}else switch((n!==void 0||c.has(void 0))&&u(c.get(n)),f&&u(c.get(Bs)),t){case"add":p?f&&u(c.get("length")):(u(c.get(fs)),bs(e)&&u(c.get(co)));break;case"delete":p||(u(c.get(fs)),bs(e)&&u(c.get(co)));break;case"set":bs(e)&&u(c.get(fs));break}}oo()}function ys(e){const t=We(e);return t===e?t:(pt(t,"iterate",Bs),Dt(e)?t:t.map(ct))}function Sn(e){return pt(e=We(e),"iterate",Bs),e}const X_={__proto__:null,[Symbol.iterator](){return uo(this,Symbol.iterator,ct)},concat(...e){return ys(this).concat(...e.map(t=>Ye(t)?ys(t):t))},entries(){return uo(this,"entries",e=>(e[1]=ct(e[1]),e))},every(e,t){return es(this,"every",e,t,void 0,arguments)},filter(e,t){return es(this,"filter",e,t,n=>n.map(ct),arguments)},find(e,t){return es(this,"find",e,t,ct,arguments)},findIndex(e,t){return es(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return es(this,"findLast",e,t,ct,arguments)},findLastIndex(e,t){return es(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return es(this,"forEach",e,t,void 0,arguments)},includes(...e){return po(this,"includes",e)},indexOf(...e){return po(this,"indexOf",e)},join(e){return ys(this).join(e)},lastIndexOf(...e){return po(this,"lastIndexOf",e)},map(e,t){return es(this,"map",e,t,void 0,arguments)},pop(){return Ks(this,"pop")},push(...e){return Ks(this,"push",e)},reduce(e,...t){return ra(this,"reduce",e,t)},reduceRight(e,...t){return ra(this,"reduceRight",e,t)},shift(){return Ks(this,"shift")},some(e,t){return es(this,"some",e,t,void 0,arguments)},splice(...e){return Ks(this,"splice",e)},toReversed(){return ys(this).toReversed()},toSorted(e){return ys(this).toSorted(e)},toSpliced(...e){return ys(this).toSpliced(...e)},unshift(...e){return Ks(this,"unshift",e)},values(){return uo(this,"values",ct)}};function uo(e,t,n){const a=Sn(e),s=a[t]();return a!==e&&!Dt(e)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.done||(r.value=n(r.value)),r}),s}const F_=Array.prototype;function es(e,t,n,a,s,r){const c=Sn(e),u=c!==e&&!Dt(e),p=c[t];if(p!==F_[t]){const d=p.apply(e,r);return u?ct(d):d}let f=n;c!==e&&(u?f=function(d,R){return n.call(this,ct(d),R,e)}:n.length>2&&(f=function(d,R){return n.call(this,d,R,e)}));const C=p.call(c,f,a);return u&&s?s(C):C}function ra(e,t,n,a){const s=Sn(e);let r=n;return s!==e&&(Dt(e)?n.length>3&&(r=function(c,u,p){return n.call(this,c,u,p,e)}):r=function(c,u,p){return n.call(this,c,ct(u),p,e)}),s[t](r,...a)}function po(e,t,n){const a=We(e);pt(a,"iterate",Bs);const s=a[t](...n);return(s===-1||s===!1)&&mo(n[0])?(n[0]=We(n[0]),a[t](...n)):s}function Ks(e,t,n=[]){Ht(),no();const a=We(e)[t].apply(e,n);return oo(),Bt(),a}const G_=Wn("__proto__,__v_isRef,__isVue"),la=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Yt));function V_(e){Yt(e)||(e=String(e));const t=We(this);return pt(t,"has",e),t.hasOwnProperty(e)}class ca{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,a){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return a===(s?r?ma:fa:r?_a:pa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const c=Ye(t);if(!s){let p;if(c&&(p=X_[n]))return p;if(n==="hasOwnProperty")return V_}const u=Reflect.get(t,n,dt(t)?t:a);if((Yt(n)?la.has(n):G_(n))||(s||pt(t,"get",n),r))return u;if(dt(u)){const p=c&&Qn(n)?u:u.value;return s&&st(p)?fo(p):p}return st(u)?s?fo(u):Qe(u):u}}class da extends ca{constructor(t=!1){super(!1,t)}set(t,n,a,s){let r=t[n];if(!this._isShallow){const p=ds(r);if(!Dt(a)&&!ds(a)&&(r=We(r),a=We(a)),!Ye(t)&&dt(r)&&!dt(a))return p||(r.value=a),!0}const c=Ye(t)&&Qn(n)?Number(n)<t.length:ze(t,n),u=Reflect.set(t,n,a,dt(t)?t:s);return t===We(s)&&(c?cs(a,r)&&Zt(t,"set",n,a):Zt(t,"add",n,a)),u}deleteProperty(t,n){const a=ze(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&a&&Zt(t,"delete",n,void 0),s}has(t,n){const a=Reflect.has(t,n);return(!Yt(n)||!la.has(n))&&pt(t,"has",n),a}ownKeys(t){return pt(t,"iterate",Ye(t)?"length":fs),Reflect.ownKeys(t)}}class ua extends ca{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const H_=new da,B_=new ua,K_=new da(!0),j_=new ua(!0),_o=e=>e,bn=e=>Reflect.getPrototypeOf(e);function J_(e,t,n){return function(...a){const s=this.__v_raw,r=We(s),c=bs(r),u=e==="entries"||e===Symbol.iterator&&c,p=e==="keys"&&c,f=s[e](...a),C=n?_o:t?On:ct;return!t&&pt(r,"iterate",p?co:fs),{next(){const{value:d,done:R}=f.next();return R?{value:d,done:R}:{value:u?[C(d[0]),C(d[1])]:C(d),done:R}},[Symbol.iterator](){return this}}}}function Tn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function W_(e,t){const n={get(s){const r=this.__v_raw,c=We(r),u=We(s);e||(cs(s,u)&&pt(c,"get",s),pt(c,"get",u));const{has:p}=bn(c),f=t?_o:e?On:ct;if(p.call(c,s))return f(r.get(s));if(p.call(c,u))return f(r.get(u));r!==c&&r.get(s)},get size(){const s=this.__v_raw;return!e&&pt(We(s),"iterate",fs),s.size},has(s){const r=this.__v_raw,c=We(r),u=We(s);return e||(cs(s,u)&&pt(c,"has",s),pt(c,"has",u)),s===u?r.has(s):r.has(s)||r.has(u)},forEach(s,r){const c=this,u=c.__v_raw,p=We(u),f=t?_o:e?On:ct;return!e&&pt(p,"iterate",fs),u.forEach((C,d)=>s.call(r,f(C),f(d),c))}};return mt(n,e?{add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear")}:{add(s){!t&&!Dt(s)&&!ds(s)&&(s=We(s));const r=We(this);return bn(r).has.call(r,s)||(r.add(s),Zt(r,"add",s,s)),this},set(s,r){!t&&!Dt(r)&&!ds(r)&&(r=We(r));const c=We(this),{has:u,get:p}=bn(c);let f=u.call(c,s);f||(s=We(s),f=u.call(c,s));const C=p.call(c,s);return c.set(s,r),f?cs(r,C)&&Zt(c,"set",s,r):Zt(c,"add",s,r),this},delete(s){const r=We(this),{has:c,get:u}=bn(r);let p=c.call(r,s);p||(s=We(s),p=c.call(r,s)),u&&u.call(r,s);const f=r.delete(s);return p&&Zt(r,"delete",s,void 0),f},clear(){const s=We(this),r=s.size!==0,c=s.clear();return r&&Zt(s,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=J_(s,e,t)}),n}function yn(e,t){const n=W_(e,t);return(a,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?a:Reflect.get(ze(n,s)&&s in a?n:a,s,r)}const q_={get:yn(!1,!1)},z_={get:yn(!1,!0)},Q_={get:yn(!0,!1)},Z_={get:yn(!0,!0)},pa=new WeakMap,_a=new WeakMap,fa=new WeakMap,ma=new WeakMap;function ef(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tf(e){return e.__v_skip||!Object.isExtensible(e)?0:ef(x_(e))}function Qe(e){return ds(e)?e:Rn(e,!1,H_,q_,pa)}function sf(e){return Rn(e,!1,K_,z_,_a)}function fo(e){return Rn(e,!0,B_,Q_,fa)}function R$(e){return Rn(e,!0,j_,Z_,ma)}function Rn(e,t,n,a,s){if(!st(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=tf(e);if(r===0)return e;const c=s.get(e);if(c)return c;const u=new Proxy(e,r===2?a:n);return s.set(e,u),u}function Rs(e){return ds(e)?Rs(e.__v_raw):!!(e&&e.__v_isReactive)}function ds(e){return!!(e&&e.__v_isReadonly)}function Dt(e){return!!(e&&e.__v_isShallow)}function mo(e){return e?!!e.__v_raw:!1}function We(e){const t=e&&e.__v_raw;return t?We(t):e}function nf(e){return!ze(e,"__v_skip")&&Object.isExtensible(e)&&jo(e,"__v_skip",!0),e}const ct=e=>st(e)?Qe(e):e,On=e=>st(e)?fo(e):e;function dt(e){return e?e.__v_isRef===!0:!1}function qe(e){return of(e,!1)}function of(e,t){return dt(e)?e:new af(e,t)}class af{constructor(t,n){this.dep=new ro,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:We(t),this._value=n?t:ct(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,a=this.__v_isShallow||Dt(t)||ds(t);t=a?t:We(t),cs(t,n)&&(this._rawValue=t,this._value=a?t:ct(t),this.dep.trigger())}}function i(e){return dt(e)?e.value:e}const rf={get:(e,t,n)=>t==="__v_raw"?e:i(Reflect.get(e,t,n)),set:(e,t,n,a)=>{const s=e[t];return dt(s)&&!dt(n)?(s.value=n,!0):Reflect.set(e,t,n,a)}};function ha(e){return Rs(e)?e:new Proxy(e,rf)}class lf{constructor(t,n,a){this.fn=t,this.setter=n,this._value=void 0,this.dep=new ro(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&nt!==this)return ea(this,!0),!0}get value(){const t=this.dep.track();return na(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function cf(e,t,n=!1){let a,s;return Fe(e)?a=e:(a=e.get,s=e.set),new lf(a,s,n)}const xn={},Pn=new WeakMap;let ms;function df(e,t=!1,n=ms){if(n){let a=Pn.get(n);a||Pn.set(n,a=[]),a.push(e)}}function uf(e,t,n=tt){const{immediate:a,deep:s,once:r,scheduler:c,augmentJob:u,call:p}=n,f=$=>s?$:Dt($)||s===!1||s===0?ts($,1):ts($);let C,d,R,h,k=!1,v=!1;if(dt(e)?(d=()=>e.value,k=Dt(e)):Rs(e)?(d=()=>f(e),k=!0):Ye(e)?(v=!0,k=e.some($=>Rs($)||Dt($)),d=()=>e.map($=>{if(dt($))return $.value;if(Rs($))return f($);if(Fe($))return p?p($,2):$()})):Fe(e)?t?d=p?()=>p(e,2):e:d=()=>{if(R){Ht();try{R()}finally{Bt()}}const $=ms;ms=C;try{return p?p(e,3,[h]):e(h)}finally{ms=$}}:d=Vt,t&&s){const $=d,K=s===!0?1/0:s;d=()=>ts($(),K)}const x=L_(),b=()=>{C.stop(),x&&x.active&&zn(x.effects,C)};if(r&&t){const $=t;t=(...K)=>{$(...K),b()}}let m=v?new Array(e.length).fill(xn):xn;const Y=$=>{if(!(!(C.flags&1)||!C.dirty&&!$))if(t){const K=C.run();if(s||k||(v?K.some((z,ee)=>cs(z,m[ee])):cs(K,m))){R&&R();const z=ms;ms=C;try{const ee=[K,m===xn?void 0:v&&m[0]===xn?[]:m,h];m=K,p?p(t,3,ee):t(...ee)}finally{ms=z}}}else C.run()};return u&&u(Y),C=new Qo(d),C.scheduler=c?()=>c(Y,!1):Y,h=$=>df($,!1,C),R=C.onStop=()=>{const $=Pn.get(C);if($){if(p)p($,4);else for(const K of $)K();Pn.delete(C)}},t?a?Y(!0):m=C.run():c?c(Y.bind(null,!0),!0):C.run(),b.pause=C.pause.bind(C),b.resume=C.resume.bind(C),b.stop=b,b}function ts(e,t=1/0,n){if(t<=0||!st(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,dt(e))ts(e.value,t,n);else if(Ye(e))for(let a=0;a<e.length;a++)ts(e[a],t,n);else if(Ts(e)||bs(e))e.forEach(a=>{ts(a,t,n)});else if(Bo(e)){for(const a in e)ts(e[a],t,n);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&ts(e[a],t,n)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const js=[];let ho=!1;function O$(e,...t){if(ho)return;ho=!0,Ht();const n=js.length?js[js.length-1].component:null,a=n&&n.appContext.config.warnHandler,s=pf();if(a)Os(a,n,11,[e+t.map(r=>{var c,u;return(u=(c=r.toString)==null?void 0:c.call(r))!=null?u:JSON.stringify(r)}).join(""),n&&n.proxy,s.map(({vnode:r})=>`at <${ci(n,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${e}`,...t];s.length&&r.push(`
`,..._f(s)),console.warn(...r)}Bt(),ho=!1}function pf(){let e=js[js.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function _f(e){const t=[];return e.forEach((n,a)=>{t.push(...a===0?[]:[`
`],...ff(n))}),t}function ff({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,s=` at <${ci(e.component,e.type,a)}`,r=">"+n;return e.props?[s,...mf(e.props),r]:[s+r]}function mf(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(a=>{t.push(...ga(a,e[a]))}),n.length>3&&t.push(" ..."),t}function ga(e,t,n){return it(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:dt(t)?(t=ga(e,We(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):Fe(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=We(t),n?t:[`${e}=`,t])}function Os(e,t,n,a){try{return a?e(...a):e()}catch(s){Nn(s,t,n)}}function Kt(e,t,n,a){if(Fe(e)){const s=Os(e,t,n,a);return s&&Vo(s)&&s.catch(r=>{Nn(r,t,n)}),s}if(Ye(e)){const s=[];for(let r=0;r<e.length;r++)s.push(Kt(e[r],t,n,a));return s}}function Nn(e,t,n,a=!0){const s=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||tt;if(t){let u=t.parent;const p=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const C=u.ec;if(C){for(let d=0;d<C.length;d++)if(C[d](e,p,f)===!1)return}u=u.parent}if(r){Ht(),Os(r,null,10,[e,p,f]),Bt();return}}hf(e,n,s,a,c)}function hf(e,t,n,a=!0,s=!1){if(s)throw e;console.error(e)}const ht=[];let jt=-1;const xs=[];let us=null,Ps=0;const Ea=Promise.resolve();let vn=null;function Ca(e){const t=vn||Ea;return e?t.then(this?e.bind(this):e):t}function gf(e){let t=jt+1,n=ht.length;for(;t<n;){const a=t+n>>>1,s=ht[a],r=Js(s);r<e||r===e&&s.flags&2?t=a+1:n=a}return t}function go(e){if(!(e.flags&1)){const t=Js(e),n=ht[ht.length-1];!n||!(e.flags&2)&&t>=Js(n)?ht.push(e):ht.splice(gf(t),0,e),e.flags|=1,Aa()}}function Aa(){vn||(vn=Ea.then(Ta))}function Ef(e){Ye(e)?xs.push(...e):us&&e.id===-1?us.splice(Ps+1,0,e):e.flags&1||(xs.push(e),e.flags|=1),Aa()}function Sa(e,t,n=jt+1){for(;n<ht.length;n++){const a=ht[n];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;ht.splice(n,1),n--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function ba(e){if(xs.length){const t=[...new Set(xs)].sort((n,a)=>Js(n)-Js(a));if(xs.length=0,us){us.push(...t);return}for(us=t,Ps=0;Ps<us.length;Ps++){const n=us[Ps];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}us=null,Ps=0}}const Js=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ta(e){try{for(jt=0;jt<ht.length;jt++){const t=ht[jt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Os(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;jt<ht.length;jt++){const t=ht[jt];t&&(t.flags&=-2)}jt=-1,ht.length=0,ba(),vn=null,(ht.length||xs.length)&&Ta()}}let _t=null,ya=null;function Mn(e){const t=_t;return _t=e,ya=e&&e.type.__scopeId||null,t}function Ra(e,t=_t,n){if(!t||e._n)return e;const a=(...s)=>{a._d&&si(-1);const r=Mn(t);let c;try{c=e(...s)}finally{Mn(r),a._d&&si(1)}return c};return a._n=!0,a._c=!0,a._d=!0,a}function se(e,t){if(_t===null)return e;const n=Fn(_t),a=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[r,c,u,p=tt]=t[s];r&&(Fe(r)&&(r={mounted:r,updated:r}),r.deep&&ts(c),a.push({dir:r,instance:n,value:c,oldValue:void 0,arg:u,modifiers:p}))}return e}function hs(e,t,n,a){const s=e.dirs,r=t&&t.dirs;for(let c=0;c<s.length;c++){const u=s[c];r&&(u.oldValue=r[c].value);let p=u.dir[a];p&&(Ht(),Kt(p,n,8,[e.el,u,e,t]),Bt())}}const Cf=Symbol("_vte"),Af=e=>e.__isTeleport,Sf=Symbol("_leaveCb");function Eo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Eo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Oa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const In=new WeakMap;function Ws(e,t,n,a,s=!1){if(Ye(e)){e.forEach((k,v)=>Ws(k,t&&(Ye(t)?t[v]:t),n,a,s));return}if(Ns(a)&&!s){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Ws(e,t,n,a.component.subTree);return}const r=a.shapeFlag&4?Fn(a.component):a.el,c=s?null:r,{i:u,r:p}=e,f=t&&t.r,C=u.refs===tt?u.refs={}:u.refs,d=u.setupState,R=We(d),h=d===tt?Fo:k=>ze(R,k);if(f!=null&&f!==p){if(xa(t),it(f))C[f]=null,h(f)&&(d[f]=null);else if(dt(f)){f.value=null;const k=t;k.k&&(C[k.k]=null)}}if(Fe(p))Os(p,u,12,[c,C]);else{const k=it(p),v=dt(p);if(k||v){const x=()=>{if(e.f){const b=k?h(p)?d[p]:C[p]:p.value;if(s)Ye(b)&&zn(b,r);else if(Ye(b))b.includes(r)||b.push(r);else if(k)C[p]=[r],h(p)&&(d[p]=C[p]);else{const m=[r];p.value=m,e.k&&(C[e.k]=m)}}else k?(C[p]=c,h(p)&&(d[p]=c)):v&&(p.value=c,e.k&&(C[e.k]=c))};if(c){const b=()=>{x(),In.delete(e)};b.id=-1,In.set(e,b),Nt(b,n)}else xa(e),x()}}}function xa(e){const t=In.get(e);t&&(t.flags|=8,In.delete(e))}An().requestIdleCallback,An().cancelIdleCallback;const Ns=e=>!!e.type.__asyncLoader,Pa=e=>e.type.__isKeepAlive;function bf(e,t){Na(e,"a",t)}function Tf(e,t){Na(e,"da",t)}function Na(e,t,n=Ct){const a=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(kn(t,a,n),n){let s=n.parent;for(;s&&s.parent;)Pa(s.parent.vnode)&&yf(a,t,n,s),s=s.parent}}function yf(e,t,n,a){const s=kn(t,e,a,!0);Co(()=>{zn(a[t],s)},n)}function kn(e,t,n=Ct,a=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...c)=>{Ht();const u=sn(n),p=Kt(t,n,e,c);return u(),Bt(),p});return a?s.unshift(r):s.push(r),r}}const ss=e=>(t,n=Ct)=>{(!nn||e==="sp")&&kn(e,(...a)=>t(...a),n)},Rf=ss("bm"),St=ss("m"),Of=ss("bu"),xf=ss("u"),qs=ss("bum"),Co=ss("um"),Pf=ss("sp"),Nf=ss("rtg"),vf=ss("rtc");function Mf(e,t=Ct){kn("ec",e,t)}const If=Symbol.for("v-ndc");function Ue(e,t,n,a){let s;const r=n,c=Ye(e);if(c||it(e)){const u=c&&Rs(e);let p=!1,f=!1;u&&(p=!Dt(e),f=ds(e),e=Sn(e)),s=new Array(e.length);for(let C=0,d=e.length;C<d;C++)s[C]=t(p?f?On(ct(e[C])):ct(e[C]):e[C],C,void 0,r)}else if(typeof e=="number"){s=new Array(e);for(let u=0;u<e;u++)s[u]=t(u+1,u,void 0,r)}else if(st(e))if(e[Symbol.iterator])s=Array.from(e,(u,p)=>t(u,p,void 0,r));else{const u=Object.keys(e);s=new Array(u.length);for(let p=0,f=u.length;p<f;p++){const C=u[p];s[p]=t(e[C],C,p,r)}}else s=[];return s}function kf(e,t,n={},a,s){if(_t.ce||_t.parent&&Ns(_t.parent)&&_t.parent.ce){const f=Object.keys(n).length>0;return E(),Et(Ie,null,[lt("slot",n,a)],f?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),E();const c=r&&va(r(n)),u=n.key||c&&c.key,p=Et(Ie,{key:(u&&!Yt(u)?u:`_${t}`)+(!c&&a?"_fb":"")},c||[],c&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),r&&r._c&&(r._d=!0),p}function va(e){return e.some(t=>Po(t)?!(t.type===ns||t.type===Ie&&!va(t.children)):!0)?e:null}const Ao=e=>e?ii(e)?Fn(e):Ao(e.parent):null,zs=mt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ao(e.parent),$root:e=>Ao(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>wa(e),$forceUpdate:e=>e.f||(e.f=()=>{go(e.update)}),$nextTick:e=>e.n||(e.n=Ca.bind(e.proxy)),$watch:e=>tm.bind(e)}),So=(e,t)=>e!==tt&&!e.__isScriptSetup&&ze(e,t),wf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:a,data:s,props:r,accessCache:c,type:u,appContext:p}=e;let f;if(t[0]!=="$"){const h=c[t];if(h!==void 0)switch(h){case 1:return a[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(So(a,t))return c[t]=1,a[t];if(s!==tt&&ze(s,t))return c[t]=2,s[t];if((f=e.propsOptions[0])&&ze(f,t))return c[t]=3,r[t];if(n!==tt&&ze(n,t))return c[t]=4,n[t];bo&&(c[t]=0)}}const C=zs[t];let d,R;if(C)return t==="$attrs"&&pt(e.attrs,"get",""),C(e);if((d=u.__cssModules)&&(d=d[t]))return d;if(n!==tt&&ze(n,t))return c[t]=4,n[t];if(R=p.config.globalProperties,ze(R,t))return R[t]},set({_:e},t,n){const{data:a,setupState:s,ctx:r}=e;return So(s,t)?(s[t]=n,!0):a!==tt&&ze(a,t)?(a[t]=n,!0):ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:a,appContext:s,propsOptions:r,type:c}},u){let p,f;return!!(n[u]||e!==tt&&u[0]!=="$"&&ze(e,u)||So(t,u)||(p=r[0])&&ze(p,u)||ze(a,u)||ze(zs,u)||ze(s.config.globalProperties,u)||(f=c.__cssModules)&&f[u])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ma(e){return Ye(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let bo=!0;function $f(e){const t=wa(e),n=e.proxy,a=e.ctx;bo=!1,t.beforeCreate&&Ia(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:c,watch:u,provide:p,inject:f,created:C,beforeMount:d,mounted:R,beforeUpdate:h,updated:k,activated:v,deactivated:x,beforeDestroy:b,beforeUnmount:m,destroyed:Y,unmounted:$,render:K,renderTracked:z,renderTriggered:ee,errorCaptured:Re,serverPrefetch:ke,expose:M,inheritAttrs:De,components:$e,directives:ve,filters:oe}=t;if(f&&Df(f,a,null),c)for(const D in c){const I=c[D];Fe(I)&&(a[D]=I.bind(n))}if(s){const D=s.call(n,n);st(D)&&(e.data=Qe(D))}if(bo=!0,r)for(const D in r){const I=r[D],U=Fe(I)?I.bind(n,n):Fe(I.get)?I.get.bind(n,n):Vt,Q=!Fe(I)&&Fe(I.set)?I.set.bind(n):Vt,y=be({get:U,set:Q});Object.defineProperty(a,D,{enumerable:!0,configurable:!0,get:()=>y.value,set:g=>y.value=g})}if(u)for(const D in u)ka(u[D],a,n,D);if(p){const D=Fe(p)?p.call(n):p;Reflect.ownKeys(D).forEach(I=>{Gf(I,D[I])})}C&&Ia(C,e,"c");function Ce(D,I){Ye(I)?I.forEach(U=>D(U.bind(n))):I&&D(I.bind(n))}if(Ce(Rf,d),Ce(St,R),Ce(Of,h),Ce(xf,k),Ce(bf,v),Ce(Tf,x),Ce(Mf,Re),Ce(vf,z),Ce(Nf,ee),Ce(qs,m),Ce(Co,$),Ce(Pf,ke),Ye(M))if(M.length){const D=e.exposed||(e.exposed={});M.forEach(I=>{Object.defineProperty(D,I,{get:()=>n[I],set:U=>n[I]=U,enumerable:!0})})}else e.exposed||(e.exposed={});K&&e.render===Vt&&(e.render=K),De!=null&&(e.inheritAttrs=De),$e&&(e.components=$e),ve&&(e.directives=ve),ke&&Oa(e)}function Df(e,t,n=Vt){Ye(e)&&(e=To(e));for(const a in e){const s=e[a];let r;st(s)?"default"in s?r=$n(s.from||a,s.default,!0):r=$n(s.from||a):r=$n(s),dt(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:c=>r.value=c}):t[a]=r}}function Ia(e,t,n){Kt(Ye(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,n)}function ka(e,t,n,a){let s=a.includes(".")?za(n,a):()=>n[a];if(it(e)){const r=t[e];Fe(r)&&ot(s,r)}else if(Fe(e))ot(s,e.bind(n));else if(st(e))if(Ye(e))e.forEach(r=>ka(r,t,n,a));else{const r=Fe(e.handler)?e.handler.bind(n):t[e.handler];Fe(r)&&ot(s,r,e)}}function wa(e){const t=e.type,{mixins:n,extends:a}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:c}}=e.appContext,u=r.get(t);let p;return u?p=u:!s.length&&!n&&!a?p=t:(p={},s.length&&s.forEach(f=>wn(p,f,c,!0)),wn(p,t,c)),st(t)&&r.set(t,p),p}function wn(e,t,n,a=!1){const{mixins:s,extends:r}=t;r&&wn(e,r,n,!0),s&&s.forEach(c=>wn(e,c,n,!0));for(const c in t)if(!(a&&c==="expose")){const u=Lf[c]||n&&n[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const Lf={data:$a,props:Da,emits:Da,methods:Qs,computed:Qs,beforeCreate:gt,created:gt,beforeMount:gt,mounted:gt,beforeUpdate:gt,updated:gt,beforeDestroy:gt,beforeUnmount:gt,destroyed:gt,unmounted:gt,activated:gt,deactivated:gt,errorCaptured:gt,serverPrefetch:gt,components:Qs,directives:Qs,watch:Uf,provide:$a,inject:Yf};function $a(e,t){return t?e?function(){return mt(Fe(e)?e.call(this,this):e,Fe(t)?t.call(this,this):t)}:t:e}function Yf(e,t){return Qs(To(e),To(t))}function To(e){if(Ye(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gt(e,t){return e?[...new Set([].concat(e,t))]:t}function Qs(e,t){return e?mt(Object.create(null),e,t):t}function Da(e,t){return e?Ye(e)&&Ye(t)?[...new Set([...e,...t])]:mt(Object.create(null),Ma(e),Ma(t!=null?t:{})):t}function Uf(e,t){if(!e)return t;if(!t)return e;const n=mt(Object.create(null),e);for(const a in t)n[a]=gt(e[a],t[a]);return n}function La(){return{app:null,config:{isNativeTag:Fo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xf=0;function Ff(e,t){return function(a,s=null){Fe(a)||(a=mt({},a)),s!=null&&!st(s)&&(s=null);const r=La(),c=new WeakSet,u=[];let p=!1;const f=r.app={_uid:Xf++,_component:a,_props:s,_container:null,_context:r,_instance:null,version:xm,get config(){return r.config},set config(C){},use(C,...d){return c.has(C)||(C&&Fe(C.install)?(c.add(C),C.install(f,...d)):Fe(C)&&(c.add(C),C(f,...d))),f},mixin(C){return r.mixins.includes(C)||r.mixins.push(C),f},component(C,d){return d?(r.components[C]=d,f):r.components[C]},directive(C,d){return d?(r.directives[C]=d,f):r.directives[C]},mount(C,d,R){if(!p){const h=f._ceVNode||lt(a,s);return h.appContext=r,R===!0?R="svg":R===!1&&(R=void 0),e(h,C,R),p=!0,f._container=C,C.__vue_app__=f,Fn(h.component)}},onUnmount(C){u.push(C)},unmount(){p&&(Kt(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(C,d){return r.provides[C]=d,f},runWithContext(C){const d=vs;vs=f;try{return C()}finally{vs=d}}};return f}}let vs=null;function Gf(e,t){if(Ct){let n=Ct.provides;const a=Ct.parent&&Ct.parent.provides;a===n&&(n=Ct.provides=Object.create(a)),n[e]=t}}function $n(e,t,n=!1){const a=Em();if(a||vs){let s=vs?vs._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Fe(t)?t.call(a&&a.proxy):t}}const Ya={},Ua=()=>Object.create(Ya),Xa=e=>Object.getPrototypeOf(e)===Ya;function Vf(e,t,n,a=!1){const s={},r=Ua();e.propsDefaults=Object.create(null),Fa(e,t,s,r);for(const c in e.propsOptions[0])c in s||(s[c]=void 0);n?e.props=a?s:sf(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function Hf(e,t,n,a){const{props:s,attrs:r,vnode:{patchFlag:c}}=e,u=We(s),[p]=e.propsOptions;let f=!1;if((a||c>0)&&!(c&16)){if(c&8){const C=e.vnode.dynamicProps;for(let d=0;d<C.length;d++){let R=C[d];if(Dn(e.emitsOptions,R))continue;const h=t[R];if(p)if(ze(r,R))h!==r[R]&&(r[R]=h,f=!0);else{const k=rs(R);s[k]=yo(p,u,k,h,e,!1)}else h!==r[R]&&(r[R]=h,f=!0)}}}else{Fa(e,t,s,r)&&(f=!0);let C;for(const d in u)(!t||!ze(t,d)&&((C=ls(d))===d||!ze(t,C)))&&(p?n&&(n[d]!==void 0||n[C]!==void 0)&&(s[d]=yo(p,u,d,void 0,e,!0)):delete s[d]);if(r!==u)for(const d in r)(!t||!ze(t,d))&&(delete r[d],f=!0)}f&&Zt(e.attrs,"set","")}function Fa(e,t,n,a){const[s,r]=e.propsOptions;let c=!1,u;if(t)for(let p in t){if(Xs(p))continue;const f=t[p];let C;s&&ze(s,C=rs(p))?!r||!r.includes(C)?n[C]=f:(u||(u={}))[C]=f:Dn(e.emitsOptions,p)||(!(p in a)||f!==a[p])&&(a[p]=f,c=!0)}if(r){const p=We(n),f=u||tt;for(let C=0;C<r.length;C++){const d=r[C];n[d]=yo(s,p,d,f[d],e,!ze(f,d))}}return c}function yo(e,t,n,a,s,r){const c=e[n];if(c!=null){const u=ze(c,"default");if(u&&a===void 0){const p=c.default;if(c.type!==Function&&!c.skipFactory&&Fe(p)){const{propsDefaults:f}=s;if(n in f)a=f[n];else{const C=sn(s);a=f[n]=p.call(null,t),C()}}else a=p;s.ce&&s.ce._setProp(n,a)}c[0]&&(r&&!u?a=!1:c[1]&&(a===""||a===ls(n))&&(a=!0))}return a}const Bf=new WeakMap;function Ga(e,t,n=!1){const a=n?Bf:t.propsCache,s=a.get(e);if(s)return s;const r=e.props,c={},u=[];let p=!1;if(!Fe(e)){const C=d=>{p=!0;const[R,h]=Ga(d,t,!0);mt(c,R),h&&u.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(C),e.extends&&C(e.extends),e.mixins&&e.mixins.forEach(C)}if(!r&&!p)return st(e)&&a.set(e,Ss),Ss;if(Ye(r))for(let C=0;C<r.length;C++){const d=rs(r[C]);Va(d)&&(c[d]=tt)}else if(r)for(const C in r){const d=rs(C);if(Va(d)){const R=r[C],h=c[d]=Ye(R)||Fe(R)?{type:R}:mt({},R),k=h.type;let v=!1,x=!0;if(Ye(k))for(let b=0;b<k.length;++b){const m=k[b],Y=Fe(m)&&m.name;if(Y==="Boolean"){v=!0;break}else Y==="String"&&(x=!1)}else v=Fe(k)&&k.name==="Boolean";h[0]=v,h[1]=x,(v||ze(h,"default"))&&u.push(d)}}const f=[c,u];return st(e)&&a.set(e,f),f}function Va(e){return e[0]!=="$"&&!Xs(e)}const Ro=e=>e==="_"||e==="_ctx"||e==="$stable",Oo=e=>Ye(e)?e.map(Jt):[Jt(e)],Kf=(e,t,n)=>{if(t._n)return t;const a=Ra((...s)=>Oo(t(...s)),n);return a._c=!1,a},Ha=(e,t,n)=>{const a=e._ctx;for(const s in e){if(Ro(s))continue;const r=e[s];if(Fe(r))t[s]=Kf(s,r,a);else if(r!=null){const c=Oo(r);t[s]=()=>c}}},Ba=(e,t)=>{const n=Oo(t);e.slots.default=()=>n},Ka=(e,t,n)=>{for(const a in t)(n||!Ro(a))&&(e[a]=t[a])},jf=(e,t,n)=>{const a=e.slots=Ua();if(e.vnode.shapeFlag&32){const s=t._;s?(Ka(a,t,n),n&&jo(a,"_",s,!0)):Ha(t,a)}else t&&Ba(e,t)},Jf=(e,t,n)=>{const{vnode:a,slots:s}=e;let r=!0,c=tt;if(a.shapeFlag&32){const u=t._;u?n&&u===1?r=!1:Ka(s,t,n):(r=!t.$stable,Ha(t,s)),c=t}else t&&(Ba(e,t),c={default:1});if(r)for(const u in s)!Ro(u)&&c[u]==null&&delete s[u]},Nt=cm;function Wf(e){return qf(e)}function qf(e,t){const n=An();n.__VUE__=!0;const{insert:a,remove:s,patchProp:r,createElement:c,createText:u,createComment:p,setText:f,setElementText:C,parentNode:d,nextSibling:R,setScopeId:h=Vt,insertStaticContent:k}=e,v=(T,N,G,ne=null,te=null,ae=null,q=void 0,j=null,Z=!!N.dynamicChildren)=>{if(T===N)return;T&&!tn(T,N)&&(ne=Pe(T),g(T,te,ae,!0),T=null),N.patchFlag===-2&&(Z=!1,N.dynamicChildren=null);const{type:H,ref:pe,shapeFlag:ie}=N;switch(H){case Ln:x(T,N,G,ne);break;case ns:b(T,N,G,ne);break;case Yn:T==null&&m(N,G,ne,q);break;case Ie:$e(T,N,G,ne,te,ae,q,j,Z);break;default:ie&1?K(T,N,G,ne,te,ae,q,j,Z):ie&6?ve(T,N,G,ne,te,ae,q,j,Z):(ie&64||ie&128)&&H.process(T,N,G,ne,te,ae,q,j,Z,Me)}pe!=null&&te?Ws(pe,T&&T.ref,ae,N||T,!N):pe==null&&T&&T.ref!=null&&Ws(T.ref,null,ae,T,!0)},x=(T,N,G,ne)=>{if(T==null)a(N.el=u(N.children),G,ne);else{const te=N.el=T.el;N.children!==T.children&&f(te,N.children)}},b=(T,N,G,ne)=>{T==null?a(N.el=p(N.children||""),G,ne):N.el=T.el},m=(T,N,G,ne)=>{[T.el,T.anchor]=k(T.children,N,G,ne,T.el,T.anchor)},Y=({el:T,anchor:N},G,ne)=>{let te;for(;T&&T!==N;)te=R(T),a(T,G,ne),T=te;a(N,G,ne)},$=({el:T,anchor:N})=>{let G;for(;T&&T!==N;)G=R(T),s(T),T=G;s(N)},K=(T,N,G,ne,te,ae,q,j,Z)=>{N.type==="svg"?q="svg":N.type==="math"&&(q="mathml"),T==null?z(N,G,ne,te,ae,q,j,Z):ke(T,N,te,ae,q,j,Z)},z=(T,N,G,ne,te,ae,q,j)=>{let Z,H;const{props:pe,shapeFlag:ie,transition:ce,dirs:Ee}=T;if(Z=T.el=c(T.type,ae,pe&&pe.is,pe),ie&8?C(Z,T.children):ie&16&&Re(T.children,Z,null,ne,te,xo(T,ae),q,j),Ee&&hs(T,null,ne,"created"),ee(Z,T,T.scopeId,q,ne),pe){for(const P in pe)P!=="value"&&!Xs(P)&&r(Z,P,null,pe[P],ae,ne);"value"in pe&&r(Z,"value",null,pe.value,ae),(H=pe.onVnodeBeforeMount)&&Wt(H,ne,T)}Ee&&hs(T,null,ne,"beforeMount");const Oe=zf(te,ce);Oe&&ce.beforeEnter(Z),a(Z,N,G),((H=pe&&pe.onVnodeMounted)||Oe||Ee)&&Nt(()=>{H&&Wt(H,ne,T),Oe&&ce.enter(Z),Ee&&hs(T,null,ne,"mounted")},te)},ee=(T,N,G,ne,te)=>{if(G&&h(T,G),ne)for(let ae=0;ae<ne.length;ae++)h(T,ne[ae]);if(te){let ae=te.subTree;if(N===ae||ti(ae.type)&&(ae.ssContent===N||ae.ssFallback===N)){const q=te.vnode;ee(T,q,q.scopeId,q.slotScopeIds,te.parent)}}},Re=(T,N,G,ne,te,ae,q,j,Z=0)=>{for(let H=Z;H<T.length;H++){const pe=T[H]=j?ps(T[H]):Jt(T[H]);v(null,pe,N,G,ne,te,ae,q,j)}},ke=(T,N,G,ne,te,ae,q)=>{const j=N.el=T.el;let{patchFlag:Z,dynamicChildren:H,dirs:pe}=N;Z|=T.patchFlag&16;const ie=T.props||tt,ce=N.props||tt;let Ee;if(G&&gs(G,!1),(Ee=ce.onVnodeBeforeUpdate)&&Wt(Ee,G,N,T),pe&&hs(N,T,G,"beforeUpdate"),G&&gs(G,!0),(ie.innerHTML&&ce.innerHTML==null||ie.textContent&&ce.textContent==null)&&C(j,""),H?M(T.dynamicChildren,H,j,G,ne,xo(N,te),ae):q||I(T,N,j,null,G,ne,xo(N,te),ae,!1),Z>0){if(Z&16)De(j,ie,ce,G,te);else if(Z&2&&ie.class!==ce.class&&r(j,"class",null,ce.class,te),Z&4&&r(j,"style",ie.style,ce.style,te),Z&8){const Oe=N.dynamicProps;for(let P=0;P<Oe.length;P++){const L=Oe[P],_e=ie[L],me=ce[L];(me!==_e||L==="value")&&r(j,L,_e,me,te,G)}}Z&1&&T.children!==N.children&&C(j,N.children)}else!q&&H==null&&De(j,ie,ce,G,te);((Ee=ce.onVnodeUpdated)||pe)&&Nt(()=>{Ee&&Wt(Ee,G,N,T),pe&&hs(N,T,G,"updated")},ne)},M=(T,N,G,ne,te,ae,q)=>{for(let j=0;j<N.length;j++){const Z=T[j],H=N[j],pe=Z.el&&(Z.type===Ie||!tn(Z,H)||Z.shapeFlag&198)?d(Z.el):G;v(Z,H,pe,null,ne,te,ae,q,!0)}},De=(T,N,G,ne,te)=>{if(N!==G){if(N!==tt)for(const ae in N)!Xs(ae)&&!(ae in G)&&r(T,ae,N[ae],null,te,ne);for(const ae in G){if(Xs(ae))continue;const q=G[ae],j=N[ae];q!==j&&ae!=="value"&&r(T,ae,j,q,te,ne)}"value"in G&&r(T,"value",N.value,G.value,te)}},$e=(T,N,G,ne,te,ae,q,j,Z)=>{const H=N.el=T?T.el:u(""),pe=N.anchor=T?T.anchor:u("");let{patchFlag:ie,dynamicChildren:ce,slotScopeIds:Ee}=N;Ee&&(j=j?j.concat(Ee):Ee),T==null?(a(H,G,ne),a(pe,G,ne),Re(N.children||[],G,pe,te,ae,q,j,Z)):ie>0&&ie&64&&ce&&T.dynamicChildren?(M(T.dynamicChildren,ce,G,te,ae,q,j),(N.key!=null||te&&N===te.subTree)&&ja(T,N,!0)):I(T,N,G,pe,te,ae,q,j,Z)},ve=(T,N,G,ne,te,ae,q,j,Z)=>{N.slotScopeIds=j,T==null?N.shapeFlag&512?te.ctx.activate(N,G,ne,q,Z):oe(N,G,ne,te,ae,q,Z):Se(T,N,Z)},oe=(T,N,G,ne,te,ae,q)=>{const j=T.component=gm(T,ne,te);if(Pa(T)&&(j.ctx.renderer=Me),Cm(j,!1,q),j.asyncDep){if(te&&te.registerDep(j,Ce,q),!T.el){const Z=j.subTree=lt(ns);b(null,Z,N,G),T.placeholder=Z.el}}else Ce(j,T,N,G,te,ae,q)},Se=(T,N,G)=>{const ne=N.component=T.component;if(rm(T,N,G))if(ne.asyncDep&&!ne.asyncResolved){D(ne,N,G);return}else ne.next=N,ne.update();else N.el=T.el,ne.vnode=N},Ce=(T,N,G,ne,te,ae,q)=>{const j=()=>{if(T.isMounted){let{next:ie,bu:ce,u:Ee,parent:Oe,vnode:P}=T;{const Ne=Ja(T);if(Ne){ie&&(ie.el=P.el,D(T,ie,q)),Ne.asyncDep.then(()=>{T.isUnmounted||j()});return}}let L=ie,_e;gs(T,!1),ie?(ie.el=P.el,D(T,ie,q)):ie=P,ce&&En(ce),(_e=ie.props&&ie.props.onVnodeBeforeUpdate)&&Wt(_e,Oe,ie,P),gs(T,!0);const me=Za(T),X=T.subTree;T.subTree=me,v(X,me,d(X.el),Pe(X),T,te,ae),ie.el=me.el,L===null&&lm(T,me.el),Ee&&Nt(Ee,te),(_e=ie.props&&ie.props.onVnodeUpdated)&&Nt(()=>Wt(_e,Oe,ie,P),te)}else{let ie;const{el:ce,props:Ee}=N,{bm:Oe,m:P,parent:L,root:_e,type:me}=T,X=Ns(N);gs(T,!1),Oe&&En(Oe),!X&&(ie=Ee&&Ee.onVnodeBeforeMount)&&Wt(ie,L,N),gs(T,!0);{_e.ce&&_e.ce._def.shadowRoot!==!1&&_e.ce._injectChildStyle(me);const Ne=T.subTree=Za(T);v(null,Ne,G,ne,T,te,ae),N.el=Ne.el}if(P&&Nt(P,te),!X&&(ie=Ee&&Ee.onVnodeMounted)){const Ne=N;Nt(()=>Wt(ie,L,Ne),te)}(N.shapeFlag&256||L&&Ns(L.vnode)&&L.vnode.shapeFlag&256)&&T.a&&Nt(T.a,te),T.isMounted=!0,N=G=ne=null}};T.scope.on();const Z=T.effect=new Qo(j);T.scope.off();const H=T.update=Z.run.bind(Z),pe=T.job=Z.runIfDirty.bind(Z);pe.i=T,pe.id=T.uid,Z.scheduler=()=>go(pe),gs(T,!0),H()},D=(T,N,G)=>{N.component=T;const ne=T.vnode.props;T.vnode=N,T.next=null,Hf(T,N.props,ne,G),Jf(T,N.children,G),Ht(),Sa(T),Bt()},I=(T,N,G,ne,te,ae,q,j,Z=!1)=>{const H=T&&T.children,pe=T?T.shapeFlag:0,ie=N.children,{patchFlag:ce,shapeFlag:Ee}=N;if(ce>0){if(ce&128){Q(H,ie,G,ne,te,ae,q,j,Z);return}else if(ce&256){U(H,ie,G,ne,te,ae,q,j,Z);return}}Ee&8?(pe&16&&ye(H,te,ae),ie!==H&&C(G,ie)):pe&16?Ee&16?Q(H,ie,G,ne,te,ae,q,j,Z):ye(H,te,ae,!0):(pe&8&&C(G,""),Ee&16&&Re(ie,G,ne,te,ae,q,j,Z))},U=(T,N,G,ne,te,ae,q,j,Z)=>{T=T||Ss,N=N||Ss;const H=T.length,pe=N.length,ie=Math.min(H,pe);let ce;for(ce=0;ce<ie;ce++){const Ee=N[ce]=Z?ps(N[ce]):Jt(N[ce]);v(T[ce],Ee,G,null,te,ae,q,j,Z)}H>pe?ye(T,te,ae,!0,!1,ie):Re(N,G,ne,te,ae,q,j,Z,ie)},Q=(T,N,G,ne,te,ae,q,j,Z)=>{let H=0;const pe=N.length;let ie=T.length-1,ce=pe-1;for(;H<=ie&&H<=ce;){const Ee=T[H],Oe=N[H]=Z?ps(N[H]):Jt(N[H]);if(tn(Ee,Oe))v(Ee,Oe,G,null,te,ae,q,j,Z);else break;H++}for(;H<=ie&&H<=ce;){const Ee=T[ie],Oe=N[ce]=Z?ps(N[ce]):Jt(N[ce]);if(tn(Ee,Oe))v(Ee,Oe,G,null,te,ae,q,j,Z);else break;ie--,ce--}if(H>ie){if(H<=ce){const Ee=ce+1,Oe=Ee<pe?N[Ee].el:ne;for(;H<=ce;)v(null,N[H]=Z?ps(N[H]):Jt(N[H]),G,Oe,te,ae,q,j,Z),H++}}else if(H>ce)for(;H<=ie;)g(T[H],te,ae,!0),H++;else{const Ee=H,Oe=H,P=new Map;for(H=Oe;H<=ce;H++){const He=N[H]=Z?ps(N[H]):Jt(N[H]);He.key!=null&&P.set(He.key,H)}let L,_e=0;const me=ce-Oe+1;let X=!1,Ne=0;const Ke=new Array(me);for(H=0;H<me;H++)Ke[H]=0;for(H=Ee;H<=ie;H++){const He=T[H];if(_e>=me){g(He,te,ae,!0);continue}let Ze;if(He.key!=null)Ze=P.get(He.key);else for(L=Oe;L<=ce;L++)if(Ke[L-Oe]===0&&tn(He,N[L])){Ze=L;break}Ze===void 0?g(He,te,ae,!0):(Ke[Ze-Oe]=H+1,Ze>=Ne?Ne=Ze:X=!0,v(He,N[Ze],G,null,te,ae,q,j,Z),_e++)}const Ge=X?Qf(Ke):Ss;for(L=Ge.length-1,H=me-1;H>=0;H--){const He=Oe+H,Ze=N[He],he=N[He+1],xe=He+1<pe?he.el||he.placeholder:ne;Ke[H]===0?v(null,Ze,G,xe,te,ae,q,j,Z):X&&(L<0||H!==Ge[L]?y(Ze,G,xe,2):L--)}}},y=(T,N,G,ne,te=null)=>{const{el:ae,type:q,transition:j,children:Z,shapeFlag:H}=T;if(H&6){y(T.component.subTree,N,G,ne);return}if(H&128){T.suspense.move(N,G,ne);return}if(H&64){q.move(T,N,G,Me);return}if(q===Ie){a(ae,N,G);for(let ie=0;ie<Z.length;ie++)y(Z[ie],N,G,ne);a(T.anchor,N,G);return}if(q===Yn){Y(T,N,G);return}if(ne!==2&&H&1&&j)if(ne===0)j.beforeEnter(ae),a(ae,N,G),Nt(()=>j.enter(ae),te);else{const{leave:ie,delayLeave:ce,afterLeave:Ee}=j,Oe=()=>{T.ctx.isUnmounted?s(ae):a(ae,N,G)},P=()=>{ae._isLeaving&&ae[Sf](!0),ie(ae,()=>{Oe(),Ee&&Ee()})};ce?ce(ae,Oe,P):P()}else a(ae,N,G)},g=(T,N,G,ne=!1,te=!1)=>{const{type:ae,props:q,ref:j,children:Z,dynamicChildren:H,shapeFlag:pe,patchFlag:ie,dirs:ce,cacheIndex:Ee}=T;if(ie===-2&&(te=!1),j!=null&&(Ht(),Ws(j,null,G,T,!0),Bt()),Ee!=null&&(N.renderCache[Ee]=void 0),pe&256){N.ctx.deactivate(T);return}const Oe=pe&1&&ce,P=!Ns(T);let L;if(P&&(L=q&&q.onVnodeBeforeUnmount)&&Wt(L,N,T),pe&6)le(T.component,G,ne);else{if(pe&128){T.suspense.unmount(G,ne);return}Oe&&hs(T,null,N,"beforeUnmount"),pe&64?T.type.remove(T,N,G,Me,ne):H&&!H.hasOnce&&(ae!==Ie||ie>0&&ie&64)?ye(H,N,G,!1,!0):(ae===Ie&&ie&384||!te&&pe&16)&&ye(Z,N,G),ne&&S(T)}(P&&(L=q&&q.onVnodeUnmounted)||Oe)&&Nt(()=>{L&&Wt(L,N,T),Oe&&hs(T,null,N,"unmounted")},G)},S=T=>{const{type:N,el:G,anchor:ne,transition:te}=T;if(N===Ie){B(G,ne);return}if(N===Yn){$(T);return}const ae=()=>{s(G),te&&!te.persisted&&te.afterLeave&&te.afterLeave()};if(T.shapeFlag&1&&te&&!te.persisted){const{leave:q,delayLeave:j}=te,Z=()=>q(G,ae);j?j(T.el,ae,Z):Z()}else ae()},B=(T,N)=>{let G;for(;T!==N;)G=R(T),s(T),T=G;s(N)},le=(T,N,G)=>{const{bum:ne,scope:te,job:ae,subTree:q,um:j,m:Z,a:H}=T;Wa(Z),Wa(H),ne&&En(ne),te.stop(),ae&&(ae.flags|=8,g(q,T,N,G)),j&&Nt(j,N),Nt(()=>{T.isUnmounted=!0},N)},ye=(T,N,G,ne=!1,te=!1,ae=0)=>{for(let q=ae;q<T.length;q++)g(T[q],N,G,ne,te)},Pe=T=>{if(T.shapeFlag&6)return Pe(T.component.subTree);if(T.shapeFlag&128)return T.suspense.next();const N=R(T.anchor||T.el),G=N&&N[Cf];return G?R(G):N};let J=!1;const ge=(T,N,G)=>{T==null?N._vnode&&g(N._vnode,null,null,!0):v(N._vnode||null,T,N,null,null,null,G),N._vnode=T,J||(J=!0,Sa(),ba(),J=!1)},Me={p:v,um:g,m:y,r:S,mt:oe,mc:Re,pc:I,pbc:M,n:Pe,o:e};return{render:ge,hydrate:void 0,createApp:Ff(ge)}}function xo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function gs({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function zf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function ja(e,t,n=!1){const a=e.children,s=t.children;if(Ye(a)&&Ye(s))for(let r=0;r<a.length;r++){const c=a[r];let u=s[r];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[r]=ps(s[r]),u.el=c.el),!n&&u.patchFlag!==-2&&ja(c,u)),u.type===Ln&&u.patchFlag!==-1&&(u.el=c.el),u.type===ns&&!u.el&&(u.el=c.el)}}function Qf(e){const t=e.slice(),n=[0];let a,s,r,c,u;const p=e.length;for(a=0;a<p;a++){const f=e[a];if(f!==0){if(s=n[n.length-1],e[s]<f){t[a]=s,n.push(a);continue}for(r=0,c=n.length-1;r<c;)u=r+c>>1,e[n[u]]<f?r=u+1:c=u;f<e[n[r]]&&(r>0&&(t[a]=n[r-1]),n[r]=a)}}for(r=n.length,c=n[r-1];r-- >0;)n[r]=c,c=t[c];return n}function Ja(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ja(t)}function Wa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Zf=Symbol.for("v-scx"),em=()=>$n(Zf);function ot(e,t,n){return qa(e,t,n)}function qa(e,t,n=tt){const{immediate:a,deep:s,flush:r,once:c}=n,u=mt({},n),p=t&&a||!t&&r!=="post";let f;if(nn){if(r==="sync"){const h=em();f=h.__watcherHandles||(h.__watcherHandles=[])}else if(!p){const h=()=>{};return h.stop=Vt,h.resume=Vt,h.pause=Vt,h}}const C=Ct;u.call=(h,k,v)=>Kt(h,C,k,v);let d=!1;r==="post"?u.scheduler=h=>{Nt(h,C&&C.suspense)}:r!=="sync"&&(d=!0,u.scheduler=(h,k)=>{k?h():go(h)}),u.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,C&&(h.id=C.uid,h.i=C))};const R=uf(e,t,u);return nn&&(f?f.push(R):p&&R()),R}function tm(e,t,n){const a=this.proxy,s=it(e)?e.includes(".")?za(a,e):()=>a[e]:e.bind(a,a);let r;Fe(t)?r=t:(r=t.handler,n=t);const c=sn(this),u=qa(s,r.bind(a),n);return c(),u}function za(e,t){const n=t.split(".");return()=>{let a=e;for(let s=0;s<n.length&&a;s++)a=a[n[s]];return a}}const sm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rs(t)}Modifiers`]||e[`${ls(t)}Modifiers`];function nm(e,t,...n){if(e.isUnmounted)return;const a=e.vnode.props||tt;let s=n;const r=t.startsWith("update:"),c=r&&sm(a,t.slice(7));c&&(c.trim&&(s=n.map(C=>it(C)?C.trim():C)),c.number&&(s=n.map(Cn)));let u,p=a[u=Zn(t)]||a[u=Zn(rs(t))];!p&&r&&(p=a[u=Zn(ls(t))]),p&&Kt(p,e,6,s);const f=a[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Kt(f,e,6,s)}}const om=new WeakMap;function Qa(e,t,n=!1){const a=n?om:t.emitsCache,s=a.get(e);if(s!==void 0)return s;const r=e.emits;let c={},u=!1;if(!Fe(e)){const p=f=>{const C=Qa(f,t,!0);C&&(u=!0,mt(c,C))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!r&&!u?(st(e)&&a.set(e,null),null):(Ye(r)?r.forEach(p=>c[p]=null):mt(c,r),st(e)&&a.set(e,c),c)}function Dn(e,t){return!e||!hn(t)?!1:(t=t.slice(2).replace(/Once$/,""),ze(e,t[0].toLowerCase()+t.slice(1))||ze(e,ls(t))||ze(e,t))}function x$(){}function Za(e){const{type:t,vnode:n,proxy:a,withProxy:s,propsOptions:[r],slots:c,attrs:u,emit:p,render:f,renderCache:C,props:d,data:R,setupState:h,ctx:k,inheritAttrs:v}=e,x=Mn(e);let b,m;try{if(n.shapeFlag&4){const $=s||a,K=$;b=Jt(f.call(K,$,C,d,h,R,k)),m=u}else{const $=t;b=Jt($.length>1?$(d,{attrs:u,slots:c,emit:p}):$(d,null)),m=t.props?u:am(u)}}catch($){Zs.length=0,Nn($,e,1),b=lt(ns)}let Y=b;if(m&&v!==!1){const $=Object.keys(m),{shapeFlag:K}=Y;$.length&&K&7&&(r&&$.some(qn)&&(m=im(m,r)),Y=Ms(Y,m,!1,!0))}return n.dirs&&(Y=Ms(Y,null,!1,!0),Y.dirs=Y.dirs?Y.dirs.concat(n.dirs):n.dirs),n.transition&&Eo(Y,n.transition),b=Y,Mn(x),b}const am=e=>{let t;for(const n in e)(n==="class"||n==="style"||hn(n))&&((t||(t={}))[n]=e[n]);return t},im=(e,t)=>{const n={};for(const a in e)(!qn(a)||!(a.slice(9)in t))&&(n[a]=e[a]);return n};function rm(e,t,n){const{props:a,children:s,component:r}=e,{props:c,children:u,patchFlag:p}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return a?ei(a,c,f):!!c;if(p&8){const C=t.dynamicProps;for(let d=0;d<C.length;d++){const R=C[d];if(c[R]!==a[R]&&!Dn(f,R))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:a===c?!1:a?c?ei(a,c,f):!0:!!c;return!1}function ei(e,t,n){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let s=0;s<a.length;s++){const r=a[s];if(t[r]!==e[r]&&!Dn(n,r))return!0}return!1}function lm({vnode:e,parent:t},n){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=n,t=t.parent;else break}}const ti=e=>e.__isSuspense;function cm(e,t){t&&t.pendingBranch?Ye(e)?t.effects.push(...e):t.effects.push(e):Ef(e)}const Ie=Symbol.for("v-fgt"),Ln=Symbol.for("v-txt"),ns=Symbol.for("v-cmt"),Yn=Symbol.for("v-stc"),Zs=[];let vt=null;function E(e=!1){Zs.push(vt=e?null:[])}function dm(){Zs.pop(),vt=Zs[Zs.length-1]||null}let en=1;function si(e,t=!1){en+=e,e<0&&vt&&t&&(vt.hasOnce=!0)}function ni(e){return e.dynamicChildren=en>0?vt||Ss:null,dm(),en>0&&vt&&vt.push(e),e}function A(e,t,n,a,s,r){return ni(o(e,t,n,a,s,r,!0))}function Et(e,t,n,a,s){return ni(lt(e,t,n,a,s,!0))}function Po(e){return e?e.__v_isVNode===!0:!1}function tn(e,t){return e.type===t.type&&e.key===t.key}const oi=({key:e})=>e!=null?e:null,Un=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?it(e)||dt(e)||Fe(e)?{i:_t,r:e,k:t,f:!!n}:e:null);function o(e,t=null,n=null,a=0,s=null,r=e===Ie?0:1,c=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&oi(t),ref:t&&Un(t),scopeId:ya,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:_t};return u?(No(p,n),r&128&&e.normalize(p)):n&&(p.shapeFlag|=it(n)?8:16),en>0&&!c&&vt&&(p.patchFlag>0||r&6)&&p.patchFlag!==32&&vt.push(p),p}const lt=um;function um(e,t=null,n=null,a=0,s=null,r=!1){if((!e||e===If)&&(e=ns),Po(e)){const u=Ms(e,t,!0);return n&&No(u,n),en>0&&!r&&vt&&(u.shapeFlag&6?vt[vt.indexOf(e)]=u:vt.push(u)),u.patchFlag=-2,u}if(Om(e)&&(e=e.__vccOpts),t){t=pm(t);let{class:u,style:p}=t;u&&!it(u)&&(t.class=Ve(u)),st(p)&&(mo(p)&&!Ye(p)&&(p=mt({},p)),t.style=Ut(p))}const c=it(e)?1:ti(e)?128:Af(e)?64:st(e)?4:Fe(e)?2:0;return o(e,t,n,a,s,c,r,!0)}function pm(e){return e?mo(e)||Xa(e)?mt({},e):e:null}function Ms(e,t,n=!1,a=!1){const{props:s,ref:r,patchFlag:c,children:u,transition:p}=e,f=t?fm(s||{},t):s,C={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&oi(f),ref:t&&t.ref?n&&r?Ye(r)?r.concat(Un(t)):[r,Un(t)]:Un(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ie?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ms(e.ssContent),ssFallback:e.ssFallback&&Ms(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&a&&Eo(C,p.clone(C)),C}function we(e=" ",t=0){return lt(Ln,null,e,t)}function _m(e,t){const n=lt(Yn,null,e);return n.staticCount=t,n}function re(e="",t=!1){return t?(E(),Et(ns,null,e)):lt(ns,null,e)}function Jt(e){return e==null||typeof e=="boolean"?lt(ns):Ye(e)?lt(Ie,null,e.slice()):Po(e)?ps(e):lt(Ln,null,String(e))}function ps(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ms(e)}function No(e,t){let n=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Ye(t))n=16;else if(typeof t=="object")if(a&65){const s=t.default;s&&(s._c&&(s._d=!1),No(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!Xa(t)?t._ctx=_t:s===3&&_t&&(_t.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Fe(t)?(t={default:t,_ctx:_t},n=32):(t=String(t),a&64?(n=16,t=[we(t)]):n=8);e.children=t,e.shapeFlag|=n}function fm(...e){const t={};for(let n=0;n<e.length;n++){const a=e[n];for(const s in a)if(s==="class")t.class!==a.class&&(t.class=Ve([t.class,a.class]));else if(s==="style")t.style=Ut([t.style,a.style]);else if(hn(s)){const r=t[s],c=a[s];c&&r!==c&&!(Ye(r)&&r.includes(c))&&(t[s]=r?[].concat(r,c):c)}else s!==""&&(t[s]=a[s])}return t}function Wt(e,t,n,a=null){Kt(e,t,7,[n,a])}const mm=La();let hm=0;function gm(e,t,n){const a=e.type,s=(t?t.appContext:e.appContext)||mm,r={uid:hm++,vnode:e,type:a,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new D_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ga(a,s),emitsOptions:Qa(a,s),emit:null,emitted:null,propsDefaults:tt,inheritAttrs:a.inheritAttrs,ctx:tt,data:tt,props:tt,attrs:tt,slots:tt,refs:tt,setupState:tt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=nm.bind(null,r),e.ce&&e.ce(r),r}let Ct=null;const Em=()=>Ct||_t;let Xn,vo;{const e=An(),t=(n,a)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(a),r=>{s.length>1?s.forEach(c=>c(r)):s[0](r)}};Xn=t("__VUE_INSTANCE_SETTERS__",n=>Ct=n),vo=t("__VUE_SSR_SETTERS__",n=>nn=n)}const sn=e=>{const t=Ct;return Xn(e),e.scope.on(),()=>{e.scope.off(),Xn(t)}},ai=()=>{Ct&&Ct.scope.off(),Xn(null)};function ii(e){return e.vnode.shapeFlag&4}let nn=!1;function Cm(e,t=!1,n=!1){t&&vo(t);const{props:a,children:s}=e.vnode,r=ii(e);Vf(e,a,r,t),jf(e,s,n||t);const c=r?Am(e,t):void 0;return t&&vo(!1),c}function Am(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wf);const{setup:a}=n;if(a){Ht();const s=e.setupContext=a.length>1?bm(e):null,r=sn(e),c=Os(a,e,0,[e.props,s]),u=Vo(c);if(Bt(),r(),(u||e.sp)&&!Ns(e)&&Oa(e),u){if(c.then(ai,ai),t)return c.then(p=>{ri(e,p)}).catch(p=>{Nn(p,e,0)});e.asyncDep=c}else ri(e,c)}else li(e)}function ri(e,t,n){Fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:st(t)&&(e.setupState=ha(t)),li(e)}function li(e,t,n){const a=e.type;e.render||(e.render=a.render||Vt);{const s=sn(e);Ht();try{$f(e)}finally{Bt(),s()}}}const Sm={get(e,t){return pt(e,"get",""),e[t]}};function bm(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Sm),slots:e.slots,emit:e.emit,expose:t}}function Fn(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ha(nf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in zs)return zs[n](e)},has(t,n){return n in t||n in zs}})):e.proxy}const Tm=/(?:^|[-_])\w/g,ym=e=>e.replace(Tm,t=>t.toUpperCase()).replace(/[-_]/g,"");function Rm(e,t=!0){return Fe(e)?e.displayName||e.name:e.name||t&&e.__name}function ci(e,t,n=!1){let a=Rm(t);if(!a&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(a=s[1])}if(!a&&e&&e.parent){const s=r=>{for(const c in r)if(r[c]===t)return c};a=s(e.components||e.parent.type.components)||s(e.appContext.components)}return a?ym(a):n?"App":"Anonymous"}function Om(e){return Fe(e)&&"__vccOpts"in e}const be=(e,t)=>cf(e,t,nn),xm="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mo;const di=typeof window!="undefined"&&window.trustedTypes;if(di)try{Mo=di.createPolicy("vue",{createHTML:e=>e})}catch(e){}const ui=Mo?e=>Mo.createHTML(e):e=>e,Pm="http://www.w3.org/2000/svg",Nm="http://www.w3.org/1998/Math/MathML",os=typeof document!="undefined"?document:null,pi=os&&os.createElement("template"),vm={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,a)=>{const s=t==="svg"?os.createElementNS(Pm,e):t==="mathml"?os.createElementNS(Nm,e):n?os.createElement(e,{is:n}):os.createElement(e);return e==="select"&&a&&a.multiple!=null&&s.setAttribute("multiple",a.multiple),s},createText:e=>os.createTextNode(e),createComment:e=>os.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>os.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,a,s,r){const c=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{pi.innerHTML=ui(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const u=pi.content;if(a==="svg"||a==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,n)}return[c?c.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Mm=Symbol("_vtc");function Im(e,t,n){const a=e[Mm];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Gn=Symbol("_vod"),_i=Symbol("_vsh"),Is={name:"show",beforeMount(e,{value:t},{transition:n}){e[Gn]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):on(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:a}){!t!=!n&&(a?t?(a.beforeEnter(e),on(e,!0),a.enter(e)):a.leave(e,()=>{on(e,!1)}):on(e,t))},beforeUnmount(e,{value:t}){on(e,t)}};function on(e,t){e.style.display=t?e[Gn]:"none",e[_i]=!t}const km=Symbol(""),wm=/(?:^|;)\s*display\s*:/;function $m(e,t,n){const a=e.style,s=it(n);let r=!1;if(n&&!s){if(t)if(it(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();n[u]==null&&Vn(a,u,"")}else for(const c in t)n[c]==null&&Vn(a,c,"");for(const c in n)c==="display"&&(r=!0),Vn(a,c,n[c])}else if(s){if(t!==n){const c=a[km];c&&(n+=";"+c),a.cssText=n,r=wm.test(n)}}else t&&e.removeAttribute("style");Gn in e&&(e[Gn]=r?a.display:"",e[_i]&&(a.display="none"))}const fi=/\s*!important$/;function Vn(e,t,n){if(Ye(n))n.forEach(a=>Vn(e,t,a));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const a=Dm(e,t);fi.test(n)?e.setProperty(ls(a),n.replace(fi,""),"important"):e[a]=n}}const mi=["Webkit","Moz","ms"],Io={};function Dm(e,t){const n=Io[t];if(n)return n;let a=rs(t);if(a!=="filter"&&a in e)return Io[t]=a;a=Ko(a);for(let s=0;s<mi.length;s++){const r=mi[s]+a;if(r in e)return Io[t]=r}return t}const hi="http://www.w3.org/1999/xlink";function gi(e,t,n,a,s,r=w_(t)){a&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(hi,t.slice(6,t.length)):e.setAttributeNS(hi,t,n):n==null||r&&!Wo(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Yt(n)?String(n):n)}function Ei(e,t,n,a,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ui(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const u=r==="OPTION"?e.getAttribute("value")||"":e.value,p=n==null?e.type==="checkbox"?"on":"":String(n);(u!==p||!("_value"in e))&&(e.value=p),n==null&&e.removeAttribute(t),e._value=n;return}let c=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Wo(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{e[t]=n}catch(u){}c&&e.removeAttribute(s||t)}function _s(e,t,n,a){e.addEventListener(t,n,a)}function Lm(e,t,n,a){e.removeEventListener(t,n,a)}const Ci=Symbol("_vei");function Ym(e,t,n,a,s=null){const r=e[Ci]||(e[Ci]={}),c=r[t];if(a&&c)c.value=a;else{const[u,p]=Um(t);if(a){const f=r[t]=Gm(a,s);_s(e,u,f,p)}else c&&(Lm(e,u,c,p),r[t]=void 0)}}const Ai=/(?:Once|Passive|Capture)$/;function Um(e){let t;if(Ai.test(e)){t={};let a;for(;a=e.match(Ai);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ls(e.slice(2)),t]}let ko=0;const Xm=Promise.resolve(),Fm=()=>ko||(Xm.then(()=>ko=0),ko=Date.now());function Gm(e,t){const n=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=n.attached)return;Kt(Vm(a,n.value),t,5,[a])};return n.value=e,n.attached=Fm(),n}function Vm(e,t){if(Ye(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(a=>s=>!s._stopped&&a&&a(s))}else return t}const Si=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Hm=(e,t,n,a,s,r)=>{const c=s==="svg";t==="class"?Im(e,a,c):t==="style"?$m(e,n,a):hn(t)?qn(t)||Ym(e,t,n,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Bm(e,t,a,c))?(Ei(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&gi(e,t,a,c,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!it(a))?Ei(e,rs(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),gi(e,t,a,c))};function Bm(e,t,n,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Si(t)&&Fe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Si(t)&&it(n)?!1:t in e}const ks=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ye(t)?n=>En(t,n):t};function Km(e){e.target.composing=!0}function bi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const as=Symbol("_assign"),Ae={created(e,{modifiers:{lazy:t,trim:n,number:a}},s){e[as]=ks(s);const r=a||s.props&&s.props.type==="number";_s(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;n&&(u=u.trim()),r&&(u=Cn(u)),e[as](u)}),n&&_s(e,"change",()=>{e.value=e.value.trim()}),t||(_s(e,"compositionstart",Km),_s(e,"compositionend",bi),_s(e,"change",bi))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:a,trim:s,number:r}},c){if(e[as]=ks(c),e.composing)return;const u=(r||e.type==="number")&&!/^0\d/.test(e.value)?Cn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(a&&t===n||s&&e.value.trim()===p)||(e.value=p))}},ut={deep:!0,created(e,t,n){e[as]=ks(n),_s(e,"change",()=>{const a=e._modelValue,s=an(e),r=e.checked,c=e[as];if(Ye(a)){const u=eo(a,s),p=u!==-1;if(r&&!p)c(a.concat(s));else if(!r&&p){const f=[...a];f.splice(u,1),c(f)}}else if(Ts(a)){const u=new Set(a);r?u.add(s):u.delete(s),c(u)}else c(Ri(e,r))})},mounted:Ti,beforeUpdate(e,t,n){e[as]=ks(n),Ti(e,t,n)}};function Ti(e,{value:t,oldValue:n},a){e._modelValue=t;let s;if(Ye(t))s=eo(t,a.props.value)>-1;else if(Ts(t))s=t.has(a.props.value);else{if(t===n)return;s=Fs(t,Ri(e,!0))}e.checked!==s&&(e.checked=s)}const ft={deep:!0,created(e,{value:t,modifiers:{number:n}},a){const s=Ts(t);_s(e,"change",()=>{const r=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>n?Cn(an(c)):an(c));e[as](e.multiple?s?new Set(r):r:r[0]),e._assigning=!0,Ca(()=>{e._assigning=!1})}),e[as]=ks(a)},mounted(e,{value:t}){yi(e,t)},beforeUpdate(e,t,n){e[as]=ks(n)},updated(e,{value:t}){e._assigning||yi(e,t)}};function yi(e,t){const n=e.multiple,a=Ye(t);if(!(n&&!a&&!Ts(t))){for(let s=0,r=e.options.length;s<r;s++){const c=e.options[s],u=an(c);if(n)if(a){const p=typeof u;p==="string"||p==="number"?c.selected=t.some(f=>String(f)===String(u)):c.selected=eo(t,u)>-1}else c.selected=t.has(u);else if(Fs(an(c),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function an(e){return"_value"in e?e._value:e.value}function Ri(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const jm=["ctrl","shift","alt","meta"],Jm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>jm.some(n=>e[`${n}Key`]&&!t.includes(n))},bt=(e,t)=>{const n=e._withMods||(e._withMods={}),a=t.join(".");return n[a]||(n[a]=(s,...r)=>{for(let c=0;c<t.length;c++){const u=Jm[t[c]];if(u&&u(s,t))return}return e(s,...r)})},Wm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Tt=(e,t)=>{const n=e._withKeys||(e._withKeys={}),a=t.join(".");return n[a]||(n[a]=s=>{if(!("key"in s))return;const r=ls(s.key);if(t.some(c=>c===r||Wm[c]===r))return e(s)})},qm=mt({patchProp:Hm},vm);let Oi;function zm(){return Oi||(Oi=Wf(qm))}const Qm=(...e)=>{const t=zm().createApp(...e),{mount:n}=t;return t.mount=a=>{const s=eh(a);if(!s)return;const r=t._component;!Fe(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const c=n(s,!1,Zm(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),c},t};function Zm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function eh(e){return it(e)?document.querySelector(e):e}const yt=(e,t)=>{const n=e.__vccOpts||e;for(const[a,s]of t)n[a]=s;return n},th={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},sh={key:0,class:"nxp-ec-admin-error"},nh={class:"nxp-ec-admin-error__title"},oh={class:"nxp-ec-admin-error__body"};function ah(e,t,n,a,s,r){return E(),A("div",null,[s.error?(E(),A("div",sh,[o("h2",nh,l(r.fallbackTitle),1),o("p",oh,l(r.fallbackMessage),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...c)=>r.reload&&r.reload(...c))},l(r.reloadLabel),1)])):kf(e.$slots,"default",{key:1})])}const ih=yt(th,[["render",ah]]),rh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},lh={class:"nxp-ec-admin-panel__header"},ch={class:"nxp-ec-admin-panel__title"},dh={class:"nxp-ec-admin-panel__lead"},uh={class:"nxp-ec-admin-panel__actions"},ph=["disabled"],_h={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fh={key:1,class:"nxp-ec-dashboard"},mh={class:"nxp-ec-dashboard__metrics"},hh={class:"nxp-ec-dashboard__card"},gh={class:"nxp-ec-dashboard__value"},Eh={class:"nxp-ec-dashboard__hint"},Ch={class:"nxp-ec-dashboard__card"},Ah={class:"nxp-ec-dashboard__value"},Sh={class:"nxp-ec-dashboard__hint"},bh={class:"nxp-ec-dashboard__card"},Th={class:"nxp-ec-dashboard__value"},yh={class:"nxp-ec-dashboard__hint"},Rh={class:"nxp-ec-dashboard__card"},Oh={class:"nxp-ec-dashboard__value"},xh={class:"nxp-ec-dashboard__hint"},Ph={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Nh={class:"nxp-ec-dashboard__checklist-header"},vh={id:"dashboard-checklist-heading"},Mh={class:"nxp-ec-dashboard__checklist-progress"},Ih={class:"nxp-ec-dashboard__checklist-list"},kh={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},wh={key:0,class:"fa-solid fa-circle-check"},$h={key:1,class:"fa-regular fa-circle"},Dh={class:"nxp-ec-dashboard__checklist-label"},Lh=["href","title"],Yh={class:"nxp-ec-sr-only"},Uh=yt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const n=e,a=n.translate,s=n.state,r=be(()=>{var d;const C=(d=s.summary)==null?void 0:d.currency;return typeof C=="string"&&C.trim()!==""?C.trim():"USD"}),c=(C=0)=>{const d=(Number(C)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:r.value}).format(d)}catch(R){return`${r.value} ${d.toFixed(2)}`}},u=be(()=>Array.isArray(s.checklist)?s.checklist:[]),p=be(()=>u.value.filter(C=>C.completed).length),f=C=>{switch(C){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return C}};return(C,d)=>(E(),A("section",rh,[o("header",lh,[o("div",null,[o("h2",ch,l(i(a)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),o("p",dh,l(i(a)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),o("div",uh,[o("button",{class:"nxp-ec-btn",type:"button",onClick:d[0]||(d[0]=R=>C.$emit("refresh")),disabled:i(s).loading},l(i(a)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,ph)])]),i(s).error?(E(),A("div",_h,l(i(s).error),1)):(E(),A("div",fh,[o("div",mh,[o("article",hh,[o("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),o("p",gh,l(i(s).summary.products.active),1),o("p",Eh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(i(s).summary.products.total)],"dashboardMetricProductsTotal")),1)]),o("article",Ch,[o("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),o("p",Ah,l(c(i(s).summary.orders.revenue_today)),1),o("p",Sh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(i(s).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),o("article",bh,[o("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),o("p",Th,l(i(s).summary.customers.total),1),o("p",yh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),o("article",Rh,[o("h3",null,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),o("p",Oh,l(c(i(s).summary.orders.revenue_month)),1),o("p",xh,l(i(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[r.value.value],"dashboardMetricCurrency")),1)])]),o("section",Ph,[o("header",Nh,[o("h3",vh,l(i(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),o("span",Mh,l(p.value)+" / "+l(u.value.length),1)]),o("ul",Ih,[(E(!0),A(Ie,null,Ue(u.value,R=>(E(),A("li",{key:R.id,class:Ve({"is-complete":R.completed})},[o("span",kh,[R.completed?(E(),A("span",wh)):(E(),A("span",$h))]),o("span",Dh,l(i(a)(R.label,f(R.label))),1),R.link?(E(),A("a",{key:0,href:R.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:i(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[d[1]||(d[1]=o("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),o("span",Yh,l(i(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Lh)):re("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),Xh={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Fh={id:"nxp-ec-products-caption",class:"visually-hidden"},Gh={scope:"col"},Vh={scope:"col"},Hh={scope:"col"},Bh={scope:"col"},Kh={scope:"col"},jh={scope:"col"},Jh={scope:"col"},Wh={scope:"col"},qh={scope:"col",class:"nxp-ec-admin-table__actions"},zh={key:0},Qh={colspan:"8",class:"nxp-ec-admin-table__empty"},Zh=["data-label"],eg={class:"nxp-ec-admin-table__primary"},tg={class:"nxp-ec-products-table__title"},sg={class:"nxp-ec-products-table__slug"},ng={key:0,class:"nxp-ec-products-table__badge"},og={class:"nxp-ec-status nxp-ec-status--muted"},ag={key:1,class:"nxp-ec-products-table__badge"},ig={class:"nxp-ec-status nxp-ec-status--featured"},rg=["data-label"],lg={key:0},cg={key:1},dg=["data-label"],ug=["data-label"],pg=["data-label"],_g={key:0},fg={key:1},mg=["data-label"],hg=["disabled","aria-pressed","title","aria-label","onClick"],gg={class:"nxp-ec-sr-only"},Eg=["data-label"],Cg={class:"nxp-ec-admin-table__actions"},Ag=["onClick","title","disabled","aria-label"],Sg={class:"nxp-ec-sr-only"},bg=["onClick","title","disabled","aria-label"],Tg={class:"nxp-ec-sr-only"},wo=1,rn=-1,$o=0,yg={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1},currentUserId:{type:Number,default:0}},emits:["edit","delete","toggle-active"],setup(e){const t=e,n=t.translate,a=be(()=>(t.baseCurrency||"USD").toUpperCase()),s=(R,h=!1)=>{const k=Number(R);if(Number.isFinite(k))return k===rn?rn:k===$o?$o:wo;if(h)return rn;if(typeof R=="string"){const v=R.trim().toLowerCase();if(v==="out_of_stock"||v==="out-of-stock"||v==="-1")return rn;if(v==="inactive"||v==="0")return $o}return wo},r=R=>{var x;const h=s((x=R==null?void 0:R.status)!=null?x:R==null?void 0:R.active,R==null?void 0:R.out_of_stock),k=h===wo,v=h===rn;return{status:h,isActive:k,isOutOfStock:v,label:k?n("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):v?n("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):n("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:k?"nxp-ec-status--active":v?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:k?"fa-solid fa-circle-check":v?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:n("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},c=R=>(R==null?void 0:R.checked_out)&&Number(R.checked_out)!==0&&Number(R.checked_out)!==Number(t.currentUserId||0),u=R=>{var v,x;const h=(x=(v=R==null?void 0:R.checked_out_user)==null?void 0:v.name)!=null?x:"",k=(R==null?void 0:R.checked_out)===Number(t.currentUserId||0)?n("JGLOBAL_YOU","You"):h||n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Another user");return n("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[k],"productLockedBy")},p=R=>{var b,m,Y,$;const h=(m=(b=R==null?void 0:R.summary)==null?void 0:b.variants)!=null?m:{};if(h.multiple_currencies)return n("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const k=Number.isFinite(h.price_min_cents)?h.price_min_cents:null,v=Number.isFinite(h.price_max_cents)?h.price_max_cents:null;if(k===null)return"";const x=h.currency||(($=(Y=R==null?void 0:R.variants)==null?void 0:Y[0])==null?void 0:$.currency)||a.value;return v===null||v===k?d(k,x):`${d(k,x)}  ${d(v,x)}`},f=R=>{var v,x;const h=(x=(v=R==null?void 0:R.summary)==null?void 0:v.variants)!=null?x:{},k=Number.isFinite(h.count)?h.count:Array.isArray(R==null?void 0:R.variants)?R.variants.length:0;return k===1?n("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):n("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(k)])},C=R=>{if(!Array.isArray(R)||!R.length)return"";const h=R.map(x=>(x==null?void 0:x.title)||(x==null?void 0:x.slug)).filter(x=>!!x);if(!h.length)return"";if(h.length<=3)return h.join(", ");const k=h.slice(0,3).join(", "),v=h.length-3;return`${k} ${n("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(v)])}`},d=(R,h)=>`${(R/100).toFixed(2)} ${h}`;return(R,h)=>(E(),A("table",Xh,[o("caption",Fh,l(i(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),o("thead",null,[o("tr",null,[o("th",Gh,l(i(n)("JGRID_HEADING_ID","ID")),1),o("th",Vh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),o("th",Hh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),o("th",Bh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),o("th",Kh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),o("th",jh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),o("th",Jh,l(i(n)("JSTATUS","Status")),1),o("th",Wh,l(i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),o("th",qh,l(i(n)("JGLOBAL_ACTIONS","Actions")),1)])]),o("tbody",null,[e.items.length?re("",!0):(E(),A("tr",zh,[o("td",Qh,l(i(n)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(E(!0),A(Ie,null,Ue(e.items,k=>{var v,x,b,m,Y,$,K,z,ee,Re,ke,M;return E(),A("tr",{key:k.id},[o("td",{"data-label":i(n)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},l(k.id),9,Zh),o("td",eg,[o("div",tg,l(k.title),1),o("div",sg,l(k.slug),1),k.checked_out?(E(),A("div",ng,[o("span",og,[h[0]||(h[0]=o("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),we(" "+l(u(k)),1)])])):re("",!0),k.featured?(E(),A("div",ag,[o("span",ig,[h[1]||(h[1]=o("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),we(" "+l(i(n)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):re("",!0)]),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[p(k)?(E(),A("span",lg,l(p(k)),1)):(E(),A("span",cg,l(i(n)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,rg),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},l(f(k)),9,dg),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[o("span",{class:Ve(["nxp-ec-status",(x=(v=k.summary)==null?void 0:v.variants)!=null&&x.stock_zero?"nxp-ec-status--danger":(m=(b=k.summary)==null?void 0:b.variants)!=null&&m.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[($=(Y=k.summary)==null?void 0:Y.variants)!=null&&$.stock_zero||((z=(K=k.summary)==null?void 0:K.variants)==null?void 0:z.stock_total)===0?(E(),A(Ie,{key:0},[we(l(i(n)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(E(),A(Ie,{key:1},[we(l(i(n)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ke=(Re=(ee=k.summary)==null?void 0:ee.variants)==null?void 0:Re.stock_total)!=null?ke:0)])),1)],64))],2)],8,ug),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(M=k.categories)!=null&&M.length?(E(),A("span",_g,l(C(k.categories)),1)):(E(),A("span",fg,l(i(n)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,pg),o("td",{"data-label":i(n)("JSTATUS","Status")},[o("button",{type:"button",class:Ve(["nxp-ec-status","nxp-ec-status-button",r(k).className]),disabled:e.saving||c(k),"aria-pressed":r(k).isActive?"true":"false",title:r(k).title,"aria-label":r(k).title,onClick:De=>R.$emit("toggle-active",k)},[o("i",{class:Ve(r(k).icon),"aria-hidden":"true"},null,2),we(" "+l(r(k).label)+" ",1),o("span",gg,l(i(n)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,hg)],8,mg),o("td",{"data-label":i(n)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},l(k.modified||k.created),9,Eg),o("td",Cg,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:De=>R.$emit("edit",k),title:i(n)("JGLOBAL_EDIT","Edit"),disabled:e.saving,"aria-label":i(n)("JGLOBAL_EDIT","Edit")},[h[2]||(h[2]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",Sg,l(i(n)("JGLOBAL_EDIT","Edit")),1)],8,Ag),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:De=>R.$emit("delete",k),title:i(n)("JTRASH","Delete"),disabled:e.saving||c(k),"aria-label":i(n)("JTRASH","Delete")},[h[3]||(h[3]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",Tg,l(i(n)("JTRASH","Delete")),1)],8,bg)])])}),128))])]))}};class Rg{constructor({token:t=""}={}){this.token=t}async request(t,n={}){const a={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...n};a.headers={...a.headers,...n.headers||{}};const s=String(a.method||"GET").toUpperCase();let r=t;this.token&&(a.headers["X-CSRF-Token"]=this.token,s!=="GET"&&(r=this.ensureTokenOnUrl(r)));const c=await fetch(r,a);let u=null;const p=await c.text();if(p)try{u=JSON.parse(p)}catch(f){}if(!c.ok){const f=new Error((u==null?void 0:u.message)||`Request failed with status ${c.status}`);throw f.code=c.status,f.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,f}if((u==null?void 0:u.success)===!1){const f=new Error(u.message||"Unknown API error");throw f.details=u.data||u.errors||null,f}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const n=encodeURIComponent(this.token);try{const a=typeof window!="undefined"&&window.location?window.location.origin:void 0,s=new URL(t,a);return s.searchParams.has(this.token)||s.searchParams.set(this.token,"1"),s.toString()}catch(a){if(t.includes(`${n}=`))return t;const s=t.includes("?")?"&":"?";return`${t}${s}${n}=1`}}get(t,n={}){return this.request(t,{...n,method:"GET"})}post(t,n,a={}){const s={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"POST",headers:s,body:JSON.stringify(n)})}put(t,n,a={}){const s={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"PUT",headers:s,body:JSON.stringify(n)})}delete(t,n={}){return this.request(t,{...n,method:"DELETE"})}async fetchProducts({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var R,h,k,v;const c=new URLSearchParams({limit:String(n),start:String(a)});s&&c.set("search",s);const u=`${t}&${c.toString()}`,f=(R=(await this.get(u,{signal:r})).data)!=null?R:{},C=(k=(h=f.items)!=null?h:f.data)!=null?k:[],d=(v=f.pagination)!=null?v:{total:0,limit:n,pages:0,current:0};return{items:C,pagination:d}}async fetchCategories({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var f,C,d;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(f=(await this.get(c,{signal:r})).data)!=null?f:{};return{items:(C=p.items)!=null?C:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:n,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:n=20,start:a=0,search:s="",state:r="",signal:c}){var R,h,k,v;const u=this.mergeParams(t,{limit:n,start:a,search:s||void 0,state:r||void 0}),f=(R=(await this.get(u,{signal:c})).data)!=null?R:{},C=(k=(h=f.items)!=null?h:f.data)!=null?k:[],d=(v=f.pagination)!=null?v:{total:0,limit:n,pages:0,current:0};return{items:C,pagination:d}}async fetchCustomers({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var d,R,h;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(d=(await this.get(c,{signal:r})).data)!=null?d:{},f=(R=p.items)!=null?R:[],C=(h=p.pagination)!=null?h:{total:0,limit:n,pages:0,current:0};return{items:f,pagination:C}}async fetchCustomer({endpoint:t,email:n}){var r,c;const a=this.mergeParams(t,{email:n});return(c=(r=(await this.get(a)).data)==null?void 0:r.customer)!=null?c:null}async fetchCoupons({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var f,C,d;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(f=(await this.get(c,{signal:r})).data)!=null?f:{};return{items:(C=p.items)!=null?C:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:n,pages:0,current:0}}}async createCoupon({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.coupon)!=null?r:null}async updateCoupon({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async fetchTaxRates({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var f,C,d;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(f=(await this.get(c,{signal:r})).data)!=null?f:{};return{items:(C=p.items)!=null?C:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:n,pages:0,current:0}}}async createTaxRate({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.rate)!=null?r:null}async updateTaxRate({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async fetchShippingRules({endpoint:t,limit:n=20,start:a=0,search:s="",signal:r}){var f,C,d;const c=this.mergeParams(t,{limit:n,start:a,search:s||void 0}),p=(f=(await this.get(c,{signal:r})).data)!=null?f:{};return{items:(C=p.items)!=null?C:[],pagination:(d=p.pagination)!=null?d:{total:0,limit:n,pages:0,current:0}}}async createShippingRule({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.rule)!=null?r:null}async updateShippingRule({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async fetchLogs({endpoint:t,limit:n=20,start:a=0,search:s="",entity:r="",signal:c}){var C,d,R;const u=this.mergeParams(t,{limit:n,start:a,search:s||void 0,entity:r||void 0}),f=(C=(await this.get(u,{signal:c})).data)!=null?C:{};return{items:(d=f.items)!=null?d:[],pagination:(R=f.pagination)!=null?R:{total:0,limit:n,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var a;return t?(a=(await this.get(t)).data)!=null?a:{}:{}}async fetchSettings({endpoint:t}){var a,s;return t?(s=(a=(await this.get(t)).data)==null?void 0:a.settings)!=null?s:{}:{}}async updateSettings({endpoint:t,data:n}){var s,r;return(r=(s=(await this.put(t,n)).data)==null?void 0:s.settings)!=null?r:{}}async fetchOrder({endpoint:t,id:n=null,orderNumber:a=""}){var c,u;const s=this.mergeParams(t,{id:n||void 0,order_no:a||void 0});return(u=(c=(await this.get(s)).data)==null?void 0:c.order)!=null?u:null}async transitionOrder({endpoint:t,id:n,state:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.post(s,{state:a})).data)==null?void 0:c.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:n,state:a}){var c;const s={ids:n,state:a};return(c=(await this.post(t,s)).data)!=null?c:{}}async addOrderNote({endpoint:t,id:n,message:a}){var r,c;return(c=(r=(await this.post(t,{id:n,message:a})).data)==null?void 0:r.order)!=null?c:null}async fetchOrderInvoice({endpoint:t,id:n,orderNumber:a}){var c,u;const s={id:n||void 0,order_no:a||void 0};return(u=(c=(await this.post(t,s)).data)==null?void 0:c.invoice)!=null?u:null}async exportOrders({endpoint:t,search:n="",state:a=""}){var c,u;const s=this.mergeParams(t,{search:n||void 0,state:a||void 0});return(u=(c=(await this.get(s)).data)==null?void 0:c.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:n,tracking:a}){var r,c;return(c=(r=(await this.post(t,{id:n,...a})).data)==null?void 0:r.order)!=null?c:null}async sendOrderEmail({endpoint:t,id:n,type:a}){var r,c;return(c=(r=(await this.post(t,{id:n,type:a})).data)==null?void 0:r.order)!=null?c:null}async recordTransaction({endpoint:t,id:n,amountCents:a,reference:s,note:r}){var u,p;return(p=(u=(await this.post(t,{id:n,amount_cents:a,reference:s||void 0,note:r||void 0})).data)==null?void 0:u.order)!=null?p:null}async resendDownloads({endpoint:t,id:n}){var s,r;return(r=(s=(await this.post(t,{id:n})).data)==null?void 0:s.order)!=null?r:null}async resetDownload({endpoint:t,downloadId:n,orderId:a}){var r;return(r=(await this.post(t,{download_id:n,order_id:a||void 0})).data)!=null?r:null}async checkoutOrder({endpoint:t,id:n}){var r,c;const a=this.mergeParams(t,{id:n});return(c=(r=(await this.post(a,{id:n})).data)==null?void 0:r.order)!=null?c:null}async checkinOrder({endpoint:t,id:n,force:a=!1}){var c,u;const s=this.mergeParams(t,{id:n,force:a?1:void 0});return(u=(c=(await this.post(s,{id:n})).data)==null?void 0:c.order)!=null?u:null}async createProduct({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?r:null}async updateProduct({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.item)!=null?u:null}async deleteProducts({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.post(t,{ids:n},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:[]}async checkoutProduct({endpoint:t,id:n}){var r,c;const a=this.mergeParams(t,{id:n});return(c=(r=(await this.post(a,{id:n})).data)==null?void 0:r.item)!=null?c:null}async checkinProduct({endpoint:t,id:n,force:a=!1}){var c,u;const s=this.mergeParams(t,{id:n,force:a?1:void 0});return(u=(c=(await this.post(s,{id:n})).data)==null?void 0:c.item)!=null?u:null}async fetchDigitalFiles({endpoint:t,productId:n,variantId:a=null,signal:s}){var u,p;const r=this.mergeParams(t,{product_id:n,variant_id:a||void 0});return(p=(u=(await this.get(r,{signal:s})).data)==null?void 0:u.files)!=null?p:[]}async uploadDigitalFile({endpoint:t,productId:n,file:a,variantId:s=null,version:r="1.0"}){var p,f;const c=new FormData;return c.append("product_id",n),s&&c.append("variant_id",s),r&&c.append("version",r),c.append("file",a),(f=(p=(await this.request(t,{method:"POST",body:c})).data)==null?void 0:p.file)!=null?f:null}async deleteDigitalFile({endpoint:t,fileId:n}){var s,r;return(r=(s=(await this.post(t,{id:n})).data)==null?void 0:s.deleted)!=null?r:null}async createCategory({endpoint:t,data:n}){var s,r;return(r=(s=(await this.post(t,n)).data)==null?void 0:s.item)!=null?r:null}async updateCategory({endpoint:t,id:n,data:a}){var c,u;const s=this.mergeParams(t,{id:n});return(u=(c=(await this.put(s,a)).data)==null?void 0:c.item)!=null?u:null}async deleteCategories({endpoint:t,ids:n}){var s,r;return(r=(s=(await this.delete(t,{body:JSON.stringify({ids:n}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:s.deleted)!=null?r:0}async checkoutCategory({endpoint:t,id:n}){var r,c;const a=this.mergeParams(t,{id:n});return(c=(r=(await this.post(a,{id:n})).data)==null?void 0:r.item)!=null?c:null}async checkinCategory({endpoint:t,id:n,force:a=!1}){var c,u;const s=this.mergeParams(t,{id:n,force:a?1:void 0});return(u=(c=(await this.post(s,{id:n})).data)==null?void 0:c.item)!=null?u:null}async gdprExport({endpoint:t,email:n}){var r,c;const a=this.mergeParams(t,{email:n});return(c=(r=(await this.get(a)).data)==null?void 0:r.export)!=null?c:null}async gdprAnonymise({endpoint:t,email:n}){var s,r,c,u;const a=await this.post(t,{email:n});return{affected:(r=(s=a.data)==null?void 0:s.affected)!=null?r:0,message:(u=(c=a.data)==null?void 0:c.message)!=null?u:""}}mergeParams(t,n={}){const a=new URLSearchParams;return Object.entries(n).forEach(([s,r])=>{r==null||r===""||a.set(s,String(r))}),a.toString()?`${t}${t.includes("?")?"&":"?"}${a.toString()}`:t}}const Mt=e=>new Rg(e),Og={class:"nxp-ec-modal__dialog"},xg={class:"nxp-ec-modal__header"},Pg={id:"product-modal-title",class:"nxp-ec-modal__title"},Ng={class:"nxp-ec-modal__header-actions"},vg=["disabled","title","aria-label"],Mg={class:"nxp-ec-sr-only"},Ig=["disabled","title","aria-label"],kg={class:"nxp-ec-sr-only"},wg=["title","aria-label"],$g={class:"nxp-ec-sr-only"},Dg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Lg={class:"nxp-ec-editor-tabs",role:"tablist"},Yg={class:"nxp-ec-editor-panel"},Ug={class:"nxp-ec-form-field"},Xg={class:"nxp-ec-form-label",for:"product-title"},Fg={class:"nxp-ec-form-field"},Gg={class:"nxp-ec-form-label",for:"product-slug"},Vg=["placeholder"],Hg={class:"nxp-ec-form-field"},Bg={class:"nxp-ec-form-label",for:"product-short-desc"},Kg={class:"nxp-ec-form-field"},jg={class:"nxp-ec-form-label",for:"product-long-desc"},Jg={class:"nxp-ec-form-field"},Wg={class:"nxp-ec-form-label",for:"product-status"},qg={value:1},zg={value:-1},Qg={value:0},Zg={class:"nxp-ec-form-help"},eE={class:"nxp-ec-form-field"},tE={class:"nxp-ec-form-label",for:"product-type"},sE={value:"physical"},nE={value:"digital"},oE={class:"nxp-ec-form-help"},aE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iE={class:"nxp-ec-form-label",for:"product-featured"},rE={class:"nxp-ec-form-help"},lE={class:"nxp-ec-editor-panel"},cE={class:"nxp-ec-form-field"},dE={class:"nxp-ec-form-label",for:"product-images"},uE={id:"product-images",class:"nxp-ec-image-list"},pE=["id","onUpdate:modelValue","placeholder"],_E={class:"nxp-ec-image-row__actions"},fE=["onClick"],mE=["onClick","disabled"],hE=["onClick","disabled"],gE=["onClick","aria-label"],EE={class:"nxp-ec-form-help"},CE={class:"nxp-ec-editor-panel"},AE={class:"nxp-ec-form-field"},SE={class:"nxp-ec-form-label",for:"product-category-select"},bE=["value"],TE={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},yE=["onClick","aria-label"],RE={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},OE=["onKeydown","placeholder"],xE={class:"nxp-ec-form-help"},PE={class:"nxp-ec-variant-section"},NE={class:"nxp-ec-variant-section__header"},vE={class:"nxp-ec-variant-section__title"},ME={class:"nxp-ec-form-help"},IE={class:"nxp-ec-variant-card__header"},kE={class:"nxp-ec-variant-card__title"},wE=["onClick"],$E=["onClick","disabled"],DE={class:"nxp-ec-variant-card__grid"},LE={class:"nxp-ec-form-field"},YE=["for"],UE=["id","onUpdate:modelValue"],XE={class:"nxp-ec-form-field"},FE=["for"],GE=["id","onUpdate:modelValue","placeholder"],VE={class:"nxp-ec-form-field"},HE=["for"],BE=["id","onUpdate:modelValue","onBlur"],KE={class:"nxp-ec-form-field"},jE=["for"],JE=["id","onUpdate:modelValue","onBlur","placeholder"],WE={class:"nxp-ec-form-field"},qE=["for"],zE=["id","onUpdate:modelValue","disabled"],QE={class:"nxp-ec-form-help"},ZE={class:"nxp-ec-form-field"},eC=["for"],tC=["id","onUpdate:modelValue","disabled"],sC={class:"nxp-ec-form-help"},nC={class:"nxp-ec-form-field"},oC=["for"],aC=["id","onUpdate:modelValue"],iC={class:"nxp-ec-form-field"},rC=["for"],lC=["id","onUpdate:modelValue"],cC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},dC=["for"],uC=["id","onUpdate:modelValue"],pC={class:"nxp-ec-form-help"},_C={class:"nxp-ec-form-field nxp-ec-form-field--inline"},fC=["for"],mC=["id","onUpdate:modelValue"],hC={class:"nxp-ec-variant-options"},gC={class:"nxp-ec-variant-options__header"},EC={class:"nxp-ec-variant-options__title"},CC=["onClick"],AC={class:"nxp-ec-form-help"},SC=["id","onUpdate:modelValue","placeholder"],bC=["id","onUpdate:modelValue","placeholder"],TC=["onClick","aria-label"],yC={key:1,class:"nxp-ec-editor-panel nxp-ec-editor-panel--digital"},RC={class:"nxp-ec-admin-alert nxp-ec-admin-alert--info"},OC={style:{"margin-bottom":"0"}},xC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},PC={key:1,class:"nxp-ec-admin-callout nxp-ec-admin-callout--info"},NC={class:"nxp-ec-admin-callout__content"},vC={class:"nxp-ec-admin-callout__title"},MC={class:"nxp-ec-digital-grid"},IC={class:"nxp-ec-digital-card"},kC={class:"nxp-ec-form-field"},wC={class:"nxp-ec-form-label",for:"digital-file-input"},$C=["disabled"],DC={class:"nxp-ec-form-field"},LC={class:"nxp-ec-form-label",for:"digital-version"},YC=["disabled"],UC={class:"nxp-ec-form-field"},XC={class:"nxp-ec-form-label",for:"digital-variant"},FC=["disabled"],GC={value:""},VC=["value"],HC={class:"nxp-ec-form-help"},BC={class:"nxp-ec-admin-form__actions"},KC=["disabled"],jC={class:"nxp-ec-digital-card"},JC={class:"nxp-ec-digital-card__header"},WC={key:0},qC={key:0,class:"nxp-ec-form-help"},zC={key:1,class:"nxp-ec-digital-table"},QC={class:"nxp-ec-digital-meta"},ZC={class:"nxp-ec-admin-panel__muted"},eA={key:0,class:"nxp-ec-admin-panel__muted"},tA={class:"nxp-ec-digital-actions"},sA=["disabled","onClick"],nA={class:"nxp-ec-modal__actions"},oA=["disabled"],aA=["disabled"],xi="product-editor-form",iA=yt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=be(()=>(n.baseCurrency||"USD").toUpperCase()),c=qe("general"),u=Mt({token:n.csrfToken||""}),p=be(()=>n.digitalEndpoints||{});be(()=>n.csrfToken||"");const f=O=>{var _,V,fe,Te,F,de,W,Be;if(O==null)return null;if(typeof O=="string"){const Je=O.trim();return Je===""?null:{id:0,title:Je,slug:""}}if(typeof O=="object"){const Je=Number.parseInt((V=(_=O.id)!=null?_:O.value)!=null?V:0,10)||0,at=(W=(de=(F=(Te=(fe=O.title)!=null?fe:O.name)!=null?Te:O.text)!=null?F:O.label)!=null?de:O.slug)!=null?W:"",kt=String(at!=null?at:"").trim(),Lt=String((Be=O.slug)!=null?Be:"").trim(),wt=O.parent_id!==null&&O.parent_id!==void 0&&Number.parseInt(O.parent_id,10)||null;return Je<=0&&kt===""?null:{id:Je>0?Je:0,title:kt!==""?kt:Lt,slug:Lt,parent_id:wt}}return null},C=O=>{const _=Number(O);if(Number.isFinite(_))return _===-1?-1:_===0?0:1;if(typeof O=="string"){const V=O.trim().toLowerCase();if(V==="out_of_stock"||V==="out-of-stock"||V==="-1")return-1;if(V==="inactive"||V==="0")return 0}return 1},d=Qe({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[],product_type:"physical",digital_files:[]}),R=qe(""),h=qe(!1),k=be(()=>(d.product_type||"physical").toString().toLowerCase()),v=be(()=>k.value==="digital"),x=Qe({files:[],loading:!1,uploading:!1,deletingId:0,error:"",version:"1.0",variantId:""}),b=qe(null),m=qe(null),Y=()=>{b.value=null,m.value&&(m.value.value="")},$=(O,_,V=new Set)=>{if(!O||V.has(O))return 0;V.add(O);const fe=_.find(Te=>Te.id===O);return!fe||!fe.parent_id?0:1+$(fe.parent_id,_,V)},K=O=>{if(!O)return"";const _=Array.isArray(n.categoryOptions)?n.categoryOptions:[],V=$(O.id,_);return V===0?O.title:"".repeat(V)+" "+O.title},z=be(()=>{const _=(Array.isArray(n.categoryOptions)?n.categoryOptions:[]).map(f).filter(F=>F&&F.id>0&&F.title!==""),V=new Map;_.forEach(F=>{V.set(F.id,F)}),d.categories.forEach(F=>{var de;F.id>0&&F.title&&!V.has(F.id)&&V.set(F.id,{id:F.id,title:F.title,slug:(de=F.slug)!=null?de:"",parent_id:F.parent_id!==null&&F.parent_id!==void 0?F.parent_id:null})});const fe=Array.from(V.values()),Te=(F=null,de=0)=>fe.filter(W=>W.parent_id===F).sort((W,Be)=>W.title.localeCompare(Be.title)).flatMap(W=>[W,...Te(W.id,de+1)]);return Te()}),ee=be(()=>{const O=new Map;return z.value.forEach(_=>{var V;O.set(_.id,{title:_.title,slug:(V=_.slug)!=null?V:""})}),O}),Re=be({get:()=>d.categories.filter(_=>_&&_.id>0).map(_=>_.id),set:O=>{const _=Array.isArray(O)?O:[],V=Array.from(new Set(_.map(F=>Number.parseInt(F!=null?F:0,10)||0).filter(F=>F>0))),fe=d.categories.filter(F=>!(F.id>0)),Te=V.map(F=>{const de=ee.value.get(F),W=d.categories.find(at=>at.id===F),Be=(de==null?void 0:de.title)||(W==null?void 0:W.title)||"",Je=(de==null?void 0:de.slug)||(W==null?void 0:W.slug)||"";return Be===""?null:{id:F,title:Be,slug:Je}}).filter(F=>F!==null);d.categories.splice(0,d.categories.length,...Te,...fe)}}),ke=be(()=>n.product&&n.product.id?"edit":"create"),M=()=>({id:0,sku:"",ean:"",price:"",sale_price:"",sale_start:null,sale_end:null,sale_start_local:"",sale_end_local:"",currency:r.value,stock:0,weight:"",active:!0,options:[],is_digital:v.value}),De=()=>({name:"",value:""}),$e=O=>O?O.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",ve=()=>{h.value=!0,d.slug=$e(d.slug)},oe=O=>{const V=(Array.isArray(O)?O:[]).map(f).filter(F=>F&&(F.id>0||F.title!=="")),fe=new Set,Te=[];V.forEach(F=>{const de=F.id>0?`id:${F.id}`:`title:${F.title.toLowerCase()}`;fe.has(de)||(fe.add(de),Te.push(F))}),d.categories.splice(0,d.categories.length,...Te)},Se=O=>{d.variants.splice(0,d.variants.length,...O),g()},Ce=O=>{d.images.splice(0,d.images.length,...O)},D=O=>Array.isArray(O)?O.map(_=>{var V,fe,Te;return{name:String((fe=(V=_==null?void 0:_.name)!=null?V:_==null?void 0:_.key)!=null?fe:"").trim(),value:String((Te=_==null?void 0:_.value)!=null?Te:"").trim()}}):O&&typeof O=="object"?Object.entries(O).map(([_,V])=>({name:String(_!=null?_:"").trim(),value:String(V!=null?V:"").trim()})):[],I=O=>Array.isArray(O)?O.map(_=>{var V,fe,Te,F,de,W,Be;return{id:Number.parseInt((V=_==null?void 0:_.id)!=null?V:0,10)||0,product_id:Number.parseInt((fe=_==null?void 0:_.product_id)!=null?fe:0,10)||0,variant_id:(_==null?void 0:_.variant_id)!==null&&(_==null?void 0:_.variant_id)!==void 0?Number.parseInt(_.variant_id,10)||0:null,filename:String((Te=_==null?void 0:_.filename)!=null?Te:"").trim(),storage_path:String((F=_==null?void 0:_.storage_path)!=null?F:"").trim(),file_size:Number.parseInt((de=_==null?void 0:_.file_size)!=null?de:0,10)||0,mime_type:(_==null?void 0:_.mime_type)!==null&&(_==null?void 0:_.mime_type)!==void 0?String(_.mime_type).trim():"",version:String((W=_==null?void 0:_.version)!=null?W:"1.0").trim()||"1.0",created:String((Be=_==null?void 0:_.created)!=null?Be:"").trim()}}).filter(_=>_.id>0&&_.filename!==""):[],U=O=>{if(!O||O==="")return"";try{const _=new Date(O.replace(" ","T")+"Z");if(isNaN(_.getTime()))return"";const V=_.getFullYear(),fe=String(_.getMonth()+1).padStart(2,"0"),Te=String(_.getDate()).padStart(2,"0"),F=String(_.getHours()).padStart(2,"0"),de=String(_.getMinutes()).padStart(2,"0");return`${V}-${fe}-${Te}T${F}:${de}`}catch(_){return""}},Q=O=>{if(!O||O==="")return null;try{const _=new Date(O);return isNaN(_.getTime())?null:_.toISOString().slice(0,19).replace("T"," ")}catch(_){return null}},y=O=>!Array.isArray(O)||O.length===0?[M()]:O.map(_=>{var fe,Te,F,de,W,Be;const V=(_==null?void 0:_.sale_price)!=null?String(_.sale_price):Number.isFinite(_==null?void 0:_.sale_price_cents)?(_.sale_price_cents/100).toFixed(2):"";return{id:Number.parseInt((fe=_==null?void 0:_.id)!=null?fe:0,10)||0,sku:String((Te=_==null?void 0:_.sku)!=null?Te:"").trim(),ean:(_==null?void 0:_.ean)!=null?String(_.ean).trim():"",price:(_==null?void 0:_.price)!=null?String(_.price):Number.isFinite(_==null?void 0:_.price_cents)?(_.price_cents/100).toFixed(2):"",sale_price:V,sale_start:(F=_==null?void 0:_.sale_start)!=null?F:null,sale_end:(de=_==null?void 0:_.sale_end)!=null?de:null,sale_start_local:U(_==null?void 0:_.sale_start),sale_end_local:U(_==null?void 0:_.sale_end),currency:String((W=_==null?void 0:_.currency)!=null?W:r.value).toUpperCase(),stock:Number.parseInt((Be=_==null?void 0:_.stock)!=null?Be:0,10)||0,weight:(_==null?void 0:_.weight)!=null?String(_.weight):"",active:(_==null?void 0:_.active)!==void 0?!!_.active:!0,options:D(_==null?void 0:_.options),is_digital:(_==null?void 0:_.is_digital)!==void 0?!!_.is_digital:v.value}}),g=()=>{d.variants.forEach(O=>{(O.is_digital===void 0||O.is_digital===null)&&(O.is_digital=v.value),v.value&&(O.weight="")})},S=O=>{var F,de,W,Be,Je;const _=O?JSON.parse(JSON.stringify(O)):{};d.title=(F=_.title)!=null?F:"",d.slug=(de=_.slug)!=null?de:"",d.short_desc=(W=_.short_desc)!=null?W:"",d.long_desc=(Be=_.long_desc)!=null?Be:"",d.status=C(_.status!==void 0?_.status:_.active),d.featured=_.featured!==void 0?!!_.featured:!1,d.product_type=typeof _.product_type=="string"&&_.product_type!==""?_.product_type.toLowerCase():"physical";const V=Array.isArray(_.images)?_.images.map(at=>String(at!=null?at:"").trim()).filter(Boolean):[];Ce(V);const fe=Array.isArray(_.categories)?_.categories:[];oe(fe);const Te=I((Je=_.digital_files)!=null?Je:[]);d.digital_files.splice(0,d.digital_files.length,...Te),x.files=Te.slice(),x.error="",x.variantId="",x.version="1.0",x.deletingId=0,Y(),R.value="",Se(y(_.variants)),h.value=!!d.slug},B=be(()=>d.variants.map((O,_)=>{var F,de;const V=String((F=O==null?void 0:O.sku)!=null?F:"").trim(),fe=Array.isArray(O==null?void 0:O.options)?O.options.filter(W=>(W==null?void 0:W.name)&&(W==null?void 0:W.value)).map(W=>`${String(W.name).trim()}: ${String(W.value).trim()}`).join(", "):"",Te=s("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(_+1)]);return{id:Number.parseInt((de=O==null?void 0:O.id)!=null?de:0,10)||0,label:V||fe||Te}})),le=O=>{if(!O)return s("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants");const _=B.value.find(V=>V.id===O);return(_==null?void 0:_.label)||s("COM_NXPEASYCART_DIGITAL_VARIANT_SPECIFIC","Variant")},ye=O=>{const _=Number(O)||0;if(_<=0)return s("COM_NXPEASYCART_DIGITAL_FILE_SIZE_UNKNOWN","Unknown size");const V=["B","KB","MB","GB"];let fe=0,Te=_;for(;Te>=1024&&fe<V.length-1;)Te/=1024,fe+=1;return`${Te.toFixed(Te>=10?0:1)} ${V[fe]}`},Pe=async()=>{var O,_;if(!((O=n.product)!=null&&O.id)){x.files=I(d.digital_files);return}if(!((_=p.value)!=null&&_.list)){x.files=I(d.digital_files);return}x.loading=!0,x.error="";try{const V=await u.fetchDigitalFiles({endpoint:p.value.list,productId:n.product.id}),fe=I(V);x.files=fe,d.digital_files.splice(0,d.digital_files.length,...fe)}catch(V){x.error=(V==null?void 0:V.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to load digital files.")}finally{x.loading=!1}},J=O=>{var V;const _=(V=O==null?void 0:O.target)==null?void 0:V.files;b.value=_&&_.length?_[0]:null},ge=async()=>{var O,_;if(!((O=n.product)!=null&&O.id)){x.error=s("COM_NXPEASYCART_ERROR_PRODUCT_ID_REQUIRED","Save the product before uploading files.");return}if(!((_=p.value)!=null&&_.upload)){x.error=s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Digital upload endpoint unavailable.");return}if(!b.value){x.error=s("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Select a file to upload.");return}x.uploading=!0,x.error="";try{const V=await u.uploadDigitalFile({endpoint:p.value.upload,productId:n.product.id,variantId:x.variantId&&Number.parseInt(x.variantId,10)||null,version:x.version||"1.0",file:b.value}),fe=V?I([V]):[];fe.length&&(x.files.unshift(fe[0]),d.digital_files.unshift(fe[0]))}catch(V){x.error=(V==null?void 0:V.message)||s("COM_NXPEASYCART_ERROR_UPLOAD_FAILED","Upload failed.")}finally{x.uploading=!1,Y()}},Me=async O=>{var V,fe;const _=Number.parseInt((V=O==null?void 0:O.id)!=null?V:0,10)||0;if(!(!_||!((fe=p.value)!=null&&fe.delete))){x.deletingId=_,x.error="";try{await u.deleteDigitalFile({endpoint:p.value.delete,fileId:_});const Te=x.files.filter(F=>F.id!==_);x.files=Te,d.digital_files.splice(0,d.digital_files.length,...Te)}catch(Te){x.error=(Te==null?void 0:Te.message)||s("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to delete file.")}finally{x.deletingId=0}}};ot(()=>n.product,O=>{S(O),c.value="general",c.value==="digital"&&Pe()},{immediate:!0}),ot(()=>d.title,O=>{h.value||(d.slug=$e(O))}),ot(r,O=>{d.variants.forEach(_=>{_.currency=O})}),ot(k,O=>{g(),O!=="digital"&&c.value==="digital"&&(c.value="general")}),ot(c,O=>{O==="digital"&&Pe()});const Xe=()=>{const O=R.value.trim();if(!O)return;const _=O.toLowerCase(),V=d.categories.slice();V.some(Te=>Te.title.toLowerCase()===_)||(V.push({id:0,title:O,slug:""}),d.categories.splice(0,d.categories.length,...V)),R.value=""},T=O=>{if(O<0||O>=d.categories.length)return;const _=d.categories.slice();_.splice(O,1),d.categories.splice(0,d.categories.length,..._)},N=()=>{d.variants.push(M())},G=O=>{d.variants.length<=1||d.variants.splice(O,1)},ne=O=>{const _=d.variants[O];_&&(Array.isArray(_.options)||(_.options=[]),_.options.push(De()))},te=(O,_)=>{const V=d.variants[O];!V||!Array.isArray(V.options)||V.options.splice(_,1)},ae=(O,_)=>`${O.id||"new"}-${_}`,q=O=>{const _=d.variants[O];if(!_)return;const V=JSON.parse(JSON.stringify(_));V.id=0,V.sku=[V.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),V.active=!0,d.variants.splice(O+1,0,V)},j=O=>{const _=d.variants[O];if(!_)return;const V=Number.parseFloat(_.price);Number.isNaN(V)||(_.price=V.toFixed(2))},Z=O=>{const _=d.variants[O];if(!_)return;if(_.sale_price===""||_.sale_price===null||_.sale_price===void 0){_.sale_price="";return}const V=Number.parseFloat(_.sale_price);if(Number.isNaN(V)){_.sale_price="";return}_.sale_price=V.toFixed(2)};let H=null,pe=null,ie=null,ce=null,Ee="";const Oe=()=>{Array.isArray(d.images)||(d.images=[])},P=O=>{var Te,F,de;if(!O)return"";let _=String(O).trim();if(_==="")return"";try{const W=(de=(F=(Te=window.Joomla)==null?void 0:Te.getOptions)==null?void 0:F.call(Te,"system.paths",{}))!=null?de:{},Be=W.rootFull||window.location.origin,Je=W.root||"/";_.startsWith(Be)&&(_=_.substring(Be.length)),_.startsWith(Je)&&(_=_.substring(Je.length))}catch(W){}const V=_.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);V&&V[1]&&(_=V[1]);const fe=_.indexOf("#joomlaImage://");return fe!==-1&&(_=_.substring(0,fe)),_.trim()},L=(O,{keepIndex:_=!1,appendWhenNoIndex:V=!1,targetIndex:fe=null}={})=>{const Te=P(O);if(Te==="")return!1;Oe();const F=fe!==null&&fe>=0?fe:ce;return F==null||Number.isNaN(F)?V?(d.images.push(Te),_||(ce=null,Ee=""),!0):!1:(F>=d.images.length?d.images.push(Te):d.images[F]=Te,Ee=_?Te:"",_||(ce=null,Ee=""),!0)},_e=()=>{Oe(),d.images.push("")},me=O=>{Oe(),d.images.splice(O,1)},X=(O,_)=>{Oe();const V=d.images[O];if(V===void 0)return;const fe=O+_;fe<0||fe>=d.images.length||(d.images.splice(O,1),d.images.splice(fe,0,V))},Ne=O=>{var fe;Oe();const _=(fe=d.images[O])!=null?fe:"";if(typeof window=="undefined")return;const V=window.prompt(s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),_);L(V!=null?V:"",{targetIndex:O})},Ke=()=>{var F,de,W,Be,Je,at;const O=(n.mediaModalUrl||"").trim();if(O!=="")return O;const _=(W=(de=(F=window.Joomla)==null?void 0:F.getOptions)==null?void 0:de.call(F,"media-picker",{}))!=null?W:{};if(_.modalUrl)return _.modalUrl;const V=(at=(Je=(Be=window.Joomla)==null?void 0:Be.getOptions)==null?void 0:Je.call(Be,"system.paths",{}))!=null?at:{},fe=V.rootFull||V.root||"";return(fe?fe.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},Ge=async()=>{var W,Be,Je,at,kt,Lt,wt,Ds,Ot;if(H)return H;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(xt){return null}const O=(Je=(Be=(W=window.Joomla)==null?void 0:W.getOptions)==null?void 0:Be.call(W,"system.paths",{}))!=null?Je:{},_=O.rootFull||O.root||"",V=(Lt=(kt=(at=window.Joomla)==null?void 0:at.getOptions)==null?void 0:kt.call(at,"com_media",{}))!=null?Lt:{},fe=(V==null?void 0:V.file_path)||"images",Te=(Ot=(Ds=(wt=window.Joomla)==null?void 0:wt.getOptions)==null?void 0:Ds.call(wt,"media-picker",{}))!=null?Ot:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},de=s("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return pe=document.createElement("div"),pe.className="nxp-ec-media-picker-host",pe.style.display="none",pe.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${_.replace(/"/g,"&quot;")}"
            root-folder="${fe.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${de}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(Te).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(pe),H=pe.querySelector("joomla-field-media"),ie=pe.querySelector(".nxp-ec-media-field__input"),H.addEventListener("change",xt=>{var Es,Cs,Ls,Ys,Kn,Qt;const is=(Ls=(Cs=(Es=xt.detail)==null?void 0:Es.value)!=null?Cs:ie==null?void 0:ie.value)!=null?Ls:"";let Gt=P(is);if(Gt===""&&Ee!==""&&(Gt=Ee),Gt===""&&((Ys=window.Joomla)!=null&&Ys.selectedMediaFile)){const jn=P((Kn=window.Joomla.selectedMediaFile.url)!=null?Kn:""),Lo=P((Qt=window.Joomla.selectedMediaFile.path)!=null?Qt:"");Gt=jn||Lo}L(Gt)}),H.addEventListener("joomla-dialog:close",()=>{ce=null,Ee=""}),ie&&ie.addEventListener("change",()=>{var is,Gt,Es,Cs;if(ce===null)return;let xt=P((is=ie.value)!=null?is:"");if(xt===""&&Ee!==""&&(xt=Ee),xt===""&&((Gt=window.Joomla)!=null&&Gt.selectedMediaFile)){const Ls=P((Es=window.Joomla.selectedMediaFile.url)!=null?Es:""),Ys=P((Cs=window.Joomla.selectedMediaFile.path)!=null?Cs:"");xt=Ls||Ys}xt!==""&&L(xt)}),H},He=O=>{var F,de;const _=O==null?void 0:O.detail;if(!_||typeof _!="object")return;const V=P((F=_.path)!=null?F:""),Te=P((de=_.url)!=null?de:"")||V;Te===""||ce===null||(Ee=Te,L(Te,{keepIndex:!0}))};St(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",He)});const Ze=async O=>{var fe;Oe();const _=await Ge();if(!_||typeof _.show!="function"){Ne(O);return}ce=O,_.setAttribute("url",Ke());const V=(fe=d.images[O])!=null?fe:"";typeof _.setValue=="function"?_.setValue(V):ie&&(ie.value=V);try{_.show()}catch(Te){ce=null,Ee="",Ne(O)}};qs(()=>{pe&&pe.parentNode&&pe.parentNode.removeChild(pe),H=null,pe=null,ie=null,ce=null,Ee="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",He)});const he=()=>{var F,de;Oe();const O=Array.from(new Set(d.images.map(W=>String(W!=null?W:"").trim()).filter(W=>W!==""))),_=d.categories.map(W=>{var kt,Lt,wt;const Be=Number.parseInt((kt=W==null?void 0:W.id)!=null?kt:0,10)||0,Je=String((Lt=W==null?void 0:W.title)!=null?Lt:"").trim(),at=String((wt=W==null?void 0:W.slug)!=null?wt:"").trim();return Be>0?{id:Be,title:Je,slug:at}:Je===""?null:{id:0,title:Je,slug:""}}).filter(W=>W!==null),V=d.variants.map(W=>{const Be=Array.isArray(W.options)?W.options.map(Ot=>{var xt,is;return{name:String((xt=Ot==null?void 0:Ot.name)!=null?xt:"").trim(),value:String((is=Ot==null?void 0:Ot.value)!=null?is:"").trim()}}).filter(Ot=>Ot.name!==""&&Ot.value!==""):[],Je=Number.isFinite(Number(W.stock))?Math.max(0,parseInt(W.stock,10)):0,at=W.weight!==null&&W.weight!==""?String(W.weight).trim():null,kt=W.ean&&String(W.ean).trim()!==""?String(W.ean).trim():null,Lt=W.sale_price!==null&&W.sale_price!==void 0&&W.sale_price!==""?String(W.sale_price).trim():null,wt=Q(W.sale_start_local),Ds=Q(W.sale_end_local);return{id:W.id||0,sku:W.sku.trim(),ean:kt,price:W.price!==null&&W.price!==void 0?String(W.price).trim():"",sale_price:Lt,sale_start:wt,sale_end:Ds,currency:W.currency?String(W.currency).trim().toUpperCase():r.value,stock:Je,weight:at,active:!!W.active,is_digital:!!W.is_digital,options:Be}}),fe=C(d.status),Te={title:d.title.trim(),slug:d.slug.trim(),short_desc:(F=d.short_desc)!=null?F:"",long_desc:(de=d.long_desc)!=null?de:"",status:fe,active:fe,featured:!!d.featured,images:O,categories:_,variants:V,product_type:k.value==="digital"?"digital":"physical"};a("submit",Te)},xe=()=>{a("cancel")};return ot(()=>n.saving,(O,_)=>{_&&!O&&n.errors.length===0&&ke.value==="create"&&(S(null),R.value="",h.value=!1)}),(O,_)=>{var V,fe,Te;return e.open?(E(),A("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",onKeydown:Tt(xe,["esc"])},[_[20]||(_[20]=o("div",{class:"nxp-ec-modal__backdrop"},null,-1)),o("div",Og,[o("header",xg,[o("h2",Pg,l(ke.value==="edit"?i(s)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):i(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),o("div",Ng,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:xe,disabled:e.saving,title:i(s)("JCANCEL","Cancel"),"aria-label":i(s)("JCANCEL","Cancel")},[_[16]||(_[16]=o("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),o("span",Mg,l(i(s)("JCANCEL","Cancel")),1)],8,vg),o("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:xi,title:e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save"),"aria-label":e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")},[o("i",{class:Ve(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),o("span",kg,l(e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")),1)],8,Ig),o("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:xe,title:i(s)("JCLOSE","Close"),"aria-label":i(s)("JCLOSE","Close")},[_[17]||(_[17]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",$g,l(i(s)("JCLOSE","Close")),1)],8,wg)])]),o("form",{id:xi,class:"nxp-ec-form",onSubmit:bt(he,["prevent"])},[e.errors.length?(E(),A("div",Dg,[(E(!0),A(Ie,null,Ue(e.errors,(F,de)=>(E(),A("p",{key:de},l(F),1))),128))])):re("",!0),o("nav",Lg,[o("button",{type:"button",class:Ve(["nxp-ec-editor-tab",{"is-active":c.value==="general"}]),onClick:_[0]||(_[0]=F=>c.value="general")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General")),3),o("button",{type:"button",class:Ve(["nxp-ec-editor-tab",{"is-active":c.value==="variants"}]),onClick:_[1]||(_[1]=F=>c.value="variants")},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),3),o("button",{type:"button",class:Ve(["nxp-ec-editor-tab",{"is-active":c.value==="images"}]),onClick:_[2]||(_[2]=F=>c.value="images")},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),3),o("button",{type:"button",class:Ve(["nxp-ec-editor-tab",{"is-active":c.value==="categories"}]),onClick:_[3]||(_[3]=F=>c.value="categories")},l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),3),v.value?(E(),A("button",{key:0,type:"button",class:Ve(["nxp-ec-editor-tab",{"is-active":c.value==="digital"}]),onClick:_[4]||(_[4]=F=>c.value="digital")},l(i(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital")),3)):re("",!0)]),se(o("section",Yg,[o("div",Ug,[o("label",Xg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),se(o("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[5]||(_[5]=F=>d.title=F),required:""},null,512),[[Ae,d.title,void 0,{trim:!0}]])]),o("div",Fg,[o("label",Gg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),se(o("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[6]||(_[6]=F=>d.slug=F),onInput:ve,placeholder:i(s)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,Vg),[[Ae,d.slug,void 0,{trim:!0}]])]),o("div",Hg,[o("label",Bg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),se(o("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":_[7]||(_[7]=F=>d.short_desc=F)},null,512),[[Ae,d.short_desc]])]),o("div",Kg,[o("label",jg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),se(o("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":_[8]||(_[8]=F=>d.long_desc=F)},null,512),[[Ae,d.long_desc]])]),o("div",Jg,[o("label",Wg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),se(o("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":_[9]||(_[9]=F=>d.status=F)},[o("option",qg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),o("option",zg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),o("option",Qg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[ft,d.status,void 0,{number:!0}]]),o("p",Zg,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),o("div",eE,[o("label",tE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE","Product type")),1),se(o("select",{id:"product-type",class:"nxp-ec-form-select","onUpdate:modelValue":_[10]||(_[10]=F=>d.product_type=F)},[o("option",sE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_PHYSICAL","Physical product")),1),o("option",nE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_DIGITAL","Digital product")),1)],512),[[ft,d.product_type]]),o("p",oE,l(i(s)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),o("div",aE,[o("label",iE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),se(o("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":_[11]||(_[11]=F=>d.featured=F)},null,512),[[ut,d.featured]]),o("p",rE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)])],512),[[Is,c.value==="general"]]),se(o("section",lE,[o("div",cE,[o("label",dE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),o("div",uE,[(E(!0),A(Ie,null,Ue(d.images,(F,de)=>(E(),A("div",{key:`product-image-${de}`,class:"nxp-ec-image-row"},[se(o("input",{id:`product-image-${de}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":W=>d.images[de]=W,placeholder:i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,pE),[[Ae,d.images[de],void 0,{trim:!0}]]),o("div",_E,[o("button",{type:"button",class:"nxp-ec-btn",onClick:W=>Ze(de)},[_[18]||(_[18]=o("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,fE),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:W=>X(de,-1),disabled:de===0},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,mE),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:W=>X(de,1),disabled:de===d.images.length-1},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,hE),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:W=>me(de),"aria-label":i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),9,gE)])]))),128))]),o("button",{type:"button",class:"nxp-ec-btn",onClick:_e},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),o("p",EE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)])],512),[[Is,c.value==="images"]]),se(o("section",CE,[o("div",AE,[o("label",SE,l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),se(o("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":_[12]||(_[12]=F=>Re.value=F)},[(E(!0),A(Ie,null,Ue(z.value,F=>(E(),A("option",{key:F.id,value:F.id},l(K(F)),9,bE))),128))],512),[[ft,Re.value]]),o("div",TE,[(E(!0),A(Ie,null,Ue(d.categories,(F,de)=>(E(),A("span",{key:`selected-category-${de}`,class:"nxp-ec-chip"},[we(l(F.title)+" ",1),o("button",{type:"button",class:"nxp-ec-chip__remove",onClick:W=>T(de),"aria-label":i(s)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,yE)]))),128))]),o("div",RE,[se(o("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":_[13]||(_[13]=F=>R.value=F),onKeydown:Tt(bt(Xe,["prevent"]),["enter"]),placeholder:i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,OE),[[Ae,R.value]]),o("button",{type:"button",class:"nxp-ec-btn",onClick:Xe},l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),o("p",xE,l(i(s)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select a category or create a new one",[],"productCategoriesHelp")),1)])],512),[[Is,c.value==="categories"]]),se(o("section",PE,[o("header",NE,[o("h3",vE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),o("button",{type:"button",class:"nxp-ec-btn",onClick:N},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),o("p",ME,[we(l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),r.value?(E(),A(Ie,{key:0},[we(" ("+l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[r.value]))+") ",1)],64)):re("",!0)]),(E(!0),A(Ie,null,Ue(d.variants,(F,de)=>(E(),A("article",{key:ae(F,de),class:"nxp-ec-variant-card"},[o("header",IE,[o("h4",kE,l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(de+1)])),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:W=>q(de)},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,wE),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:W=>G(de),disabled:d.variants.length<=1},l(i(s)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,$E)]),o("div",DE,[o("div",LE,[o("label",{class:"nxp-ec-form-label",for:`variant-sku-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,YE),se(o("input",{id:`variant-sku-${de}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":W=>F.sku=W,required:""},null,8,UE),[[Ae,F.sku,void 0,{trim:!0}]])]),o("div",XE,[o("label",{class:"nxp-ec-form-label",for:`variant-ean-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_EAN","EAN")),9,FE),se(o("input",{id:`variant-ean-${de}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":W=>F.ean=W,placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_EAN_PLACEHOLDER","8 or 13 digits"),maxlength:"13",pattern:"\\d{8}|\\d{13}"},null,8,GE),[[Ae,F.ean,void 0,{trim:!0}]])]),o("div",VE,[o("label",{class:"nxp-ec-form-label",for:`variant-price-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,HE),se(o("input",{id:`variant-price-${de}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":W=>F.price=W,onBlur:W=>j(de),required:""},null,40,BE),[[Ae,F.price,void 0,{trim:!0}]])]),o("div",KE,[o("label",{class:"nxp-ec-form-label",for:`variant-sale-price-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE","Sale Price")),9,jE),se(o("input",{id:`variant-sale-price-${de}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":W=>F.sale_price=W,onBlur:W=>Z(de),placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE_PLACEHOLDER","Leave empty if not on sale")},null,40,JE),[[Ae,F.sale_price,void 0,{trim:!0}]])]),o("div",WE,[o("label",{class:"nxp-ec-form-label",for:`variant-sale-start-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START","Sale Start")),9,qE),se(o("input",{id:`variant-sale-start-${de}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":W=>F.sale_start_local=W,disabled:!F.sale_price||F.sale_price===""},null,8,zE),[[Ae,F.sale_start_local]]),o("p",QE,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START_HELP","Leave empty to start immediately")),1)]),o("div",ZE,[o("label",{class:"nxp-ec-form-label",for:`variant-sale-end-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END","Sale End")),9,eC),se(o("input",{id:`variant-sale-end-${de}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":W=>F.sale_end_local=W,disabled:!F.sale_price||F.sale_price===""},null,8,tC),[[Ae,F.sale_end_local]]),o("p",sC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END_HELP","Leave empty for no expiration")),1)]),o("div",nC,[o("label",{class:"nxp-ec-form-label",for:`variant-stock-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,oC),se(o("input",{id:`variant-stock-${de}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":W=>F.stock=W},null,8,aC),[[Ae,F.stock,void 0,{number:!0}]])]),o("div",iC,[o("label",{class:"nxp-ec-form-label",for:`variant-weight-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,rC),se(o("input",{id:`variant-weight-${de}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":W=>F.weight=W},null,8,lC),[[Ae,F.weight,void 0,{trim:!0}]])]),o("div",cC,[o("label",{class:"nxp-ec-form-label",for:`variant-digital-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL","Digital item")),9,dC),se(o("input",{id:`variant-digital-${de}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":W=>F.is_digital=W},null,8,uC),[[ut,F.is_digital]]),o("p",pC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL_HELP","Digital variants skip shipping.")),1)]),o("div",_C,[o("label",{class:"nxp-ec-form-label",for:`variant-active-${de}`},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,fC),se(o("input",{id:`variant-active-${de}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":W=>F.active=W},null,8,mC),[[ut,F.active]])])]),o("section",hC,[o("header",gC,[o("h5",EC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:W=>ne(de)},l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,CC)]),o("p",AC,l(i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(E(!0),A(Ie,null,Ue(F.options,(W,Be)=>(E(),A("div",{key:`variant-${de}-option-${Be}`,class:"nxp-ec-variant-option-row"},[se(o("input",{id:`variant-${de}-option-name-${Be}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Je=>W.name=Je,placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,SC),[[Ae,W.name,void 0,{trim:!0}]]),se(o("input",{id:`variant-${de}-option-value-${Be}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Je=>W.value=Je,placeholder:i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,bC),[[Ae,W.value,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Je=>te(de,Be),"aria-label":i(s)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),9,TC)]))),128))])]))),128))],512),[[Is,c.value==="variants"]]),v.value?se((E(),A("section",yC,[o("div",RC,[o("p",OC,l(i(s)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),x.error?(E(),A("div",xC,l(x.error),1)):re("",!0),(V=e.product)!=null&&V.id?re("",!0):(E(),A("div",PC,[_[19]||(_[19]=o("span",{class:"nxp-ec-admin-callout__icon"},[o("i",{class:"fa-solid fa-circle-info"})],-1)),o("div",NC,[o("div",vC,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST_TITLE","Save Required")),1),we(" "+l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST","Digital files are linked to the product record. Save this product first, then reopen the editor to upload your files.")),1)])])),o("div",MC,[o("div",IC,[o("h4",null,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1),o("div",kC,[o("label",wC,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_SELECT","Choose file")),1),o("input",{id:"digital-file-input",ref_key:"fileInputRef",ref:m,type:"file",class:"nxp-ec-form-input",onChange:J,disabled:x.uploading||!((fe=e.product)!=null&&fe.id)},null,40,$C)]),o("div",DC,[o("label",LC,l(i(s)("COM_NXPEASYCART_DIGITAL_VERSION","Version")),1),se(o("input",{id:"digital-version",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":_[14]||(_[14]=F=>x.version=F),disabled:x.uploading},null,8,YC),[[Ae,x.version,void 0,{trim:!0}]])]),o("div",UC,[o("label",XC,l(i(s)("COM_NXPEASYCART_DIGITAL_VARIANT_SCOPE","Applies to")),1),se(o("select",{id:"digital-variant",class:"nxp-ec-form-select","onUpdate:modelValue":_[15]||(_[15]=F=>x.variantId=F),disabled:x.uploading},[o("option",GC,l(i(s)("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants")),1),(E(!0),A(Ie,null,Ue(B.value,F=>(E(),A("option",{key:F.id,value:F.id},l(F.label),9,VC))),128))],8,FC),[[ft,x.variantId]]),o("p",HC,l(i(s)("COM_NXPEASYCART_DIGITAL_VARIANT_HELP","Scope downloads to a specific variant when needed.")),1)]),o("div",BC,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--primary",onClick:ge,disabled:x.uploading||!((Te=e.product)!=null&&Te.id)},[o("i",{class:Ve(["fa-solid fa-cloud-arrow-up",{"fa-spin":x.uploading}]),"aria-hidden":"true"},null,2),we(" "+l(x.uploading?i(s)("JPROCESSING_REQUEST","Uploading"):i(s)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1)],8,KC)])]),o("div",jC,[o("div",JC,[o("h4",null,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital files")),1),x.loading?(E(),A("span",WC,l(i(s)("JGLOBAL_LOADING","Loading")),1)):re("",!0)]),x.files.length===0?(E(),A("div",qC,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES_EMPTY","No files attached to this product.")),1)):(E(),A("div",zC,[(E(!0),A(Ie,null,Ue(x.files,F=>(E(),A("div",{key:F.id,class:"nxp-ec-digital-row"},[o("div",QC,[o("strong",null,l(F.filename),1),o("div",ZC,[we(l(le(F.variant_id))+"  "+l(ye(F.file_size))+" ",1),F.version?(E(),A(Ie,{key:0},[we("  v"+l(F.version),1)],64)):re("",!0)]),F.created?(E(),A("div",eA,l(F.created),1)):re("",!0)]),o("div",tA,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",disabled:x.deletingId===F.id,onClick:de=>Me(F)},l(x.deletingId===F.id?i(s)("JPROCESSING_REQUEST","Removing"):i(s)("COM_NXPEASYCART_REMOVE","Remove")),9,sA)])]))),128))]))])])],512)),[[Is,c.value==="digital"]]):re("",!0),o("footer",nA,[o("button",{type:"button",class:"nxp-ec-btn",onClick:xe,disabled:e.saving},l(i(s)("JCANCEL","Cancel")),9,oA),o("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},l(e.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")),9,aA)])],32)])],32)):re("",!0)}}},[["__scopeId","data-v-cc97024f"]]),rA={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},lA={key:1,class:"nxp-ec-skeleton__table"},cA={key:2,class:"nxp-ec-skeleton__card"},dA={key:3,class:"nxp-ec-skeleton__circle"};function uA(e,t,n,a,s,r){return E(),A("div",{class:Ve(["nxp-ec-skeleton",r.skeletonClasses])},[n.type==="text"?(E(),A("div",{key:0,class:"nxp-ec-skeleton__line",style:Ut({width:n.width})},null,4)):n.type==="table"?(E(),A("div",lA,[(E(!0),A(Ie,null,Ue(n.rows,c=>(E(),A("div",{key:c,class:"nxp-ec-skeleton__table-row"},[(E(!0),A(Ie,null,Ue(n.columns,u=>(E(),A("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):n.type==="card"?(E(),A("div",cA,[...t[0]||(t[0]=[_m('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):n.type==="circle"?(E(),A("div",dA)):(E(),A("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Ut({width:n.width,height:n.height})},null,4))],2)}const ln=yt(rA,[["render",uA],["__scopeId","data-v-c8b9a887"]]),pA={class:"nxp-ec-admin-panel"},_A={class:"nxp-ec-admin-panel__header"},fA={class:"nxp-ec-admin-panel__title"},mA={class:"nxp-ec-admin-panel__lead"},hA={class:"nxp-ec-admin-panel__actions"},gA=["placeholder","aria-label"],EA=["disabled","title","aria-label"],CA={class:"nxp-ec-sr-only"},AA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},SA={key:1,class:"nxp-ec-admin-panel__body"},bA={key:2,class:"nxp-ec-admin-panel__body"},TA={key:0,class:"nxp-ec-admin-pagination"},yA=["disabled"],RA={class:"nxp-ec-admin-pagination__status"},OA=["disabled"],xA=["title"],cn=1,ws=-1,Hn=0,PA={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""},checkoutProduct:{type:Function,default:null},checkinProduct:{type:Function,default:null},forceCheckinProduct:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["create","update","delete","refresh","search","page"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=Qe({mode:"create",product:null}),c=qe(!1),u=qe(null),p=be(()=>(n.baseCurrency||"USD").toUpperCase()),f=be(()=>r.product),C=be(()=>(n.mediaModalUrl||"").trim()),d=be(()=>n.digitalEndpoints||{}),R=be(()=>n.csrfToken||""),h=be(()=>Number(n.currentUserId||0)),k=(oe,Se=!1)=>{const Ce=Number(oe);if(Number.isFinite(Ce))return Ce===ws?ws:Ce===Hn?Hn:cn;if(Se)return ws;if(typeof oe=="string"){const D=oe.trim().toLowerCase();if(D==="out_of_stock"||D==="out-of-stock"||D==="-1")return ws;if(D==="inactive"||D==="0")return Hn}return cn},v=(oe,Se=!1)=>{const Ce=k(oe,Se);return Ce===cn?ws:Ce===ws?Hn:cn},x=oe=>(oe==null?void 0:oe.checked_out)&&Number(oe.checked_out)!==0&&Number(oe.checked_out)!==h.value,b=oe=>{var Ce,D;if(!oe)return"";const Se=(D=(Ce=oe.checked_out_user)==null?void 0:Ce.name)!=null?D:"";return Se||(oe.checked_out===h.value?s("JGLOBAL_YOU","You"):"")},m=async()=>{if(!u.value||!n.checkinProduct){u.value=null;return}try{await n.checkinProduct(u.value)}catch(oe){}finally{u.value=null}},Y=async()=>{await m(),n.state.validationErrors=[],n.state.error="",r.mode="create",r.product={title:"",slug:"",short_desc:"",long_desc:"",status:cn,active:!0,featured:!1,images:[],categories:[],variants:[],product_type:"physical"},c.value=!0},$=async oe=>{await m(),n.state.validationErrors=[],n.state.error="",r.mode="edit";const Se=JSON.parse(JSON.stringify(oe));Se.product_type||(Se.product_type="physical");const Ce=b(oe);if(x(oe)){if(!await K(oe,Ce)){n.state.error=Ce!==""?s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT","This product is currently checked out by %s.",[Ce]):s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","This product is currently checked out by another user.");return}return}if(oe!=null&&oe.id&&n.checkoutProduct)try{const D=await n.checkoutProduct(oe.id);if(D){u.value=D.id,r.product=JSON.parse(JSON.stringify(D)),c.value=!0;return}}catch(D){n.state.error=(D==null?void 0:D.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to edit this product right now.");return}r.product=Se,c.value=!0},K=async(oe,Se="")=>{if(!(oe!=null&&oe.id)||typeof n.forceCheckinProduct!="function")return null;const Ce=s("COM_NXPEASYCART_FORCE_CHECKIN_PRODUCT","This product is checked out by %s. Force check-in?",[Se||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(Ce))return null;try{const D=await n.forceCheckinProduct(oe.id);if(D)return u.value=D.id,r.product=JSON.parse(JSON.stringify(D)),c.value=!0,D}catch(D){n.state.error=(D==null?void 0:D.message)||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to check in this product.")}return null},z=async()=>{await m(),c.value=!1,n.state.validationErrors=[]},ee=async oe=>{var D,I;const Se=k((D=oe.status)!=null?D:oe.active,oe.out_of_stock),Ce={...oe,status:Se,active:Se,featured:oe.featured?1:0,product_type:typeof oe.product_type=="string"&&oe.product_type.trim()||"physical"};r.mode==="edit"&&((I=r.product)!=null&&I.id)?a("update",{id:r.product.id,data:Ce}):a("create",Ce)},Re=async oe=>{var D;const Se=(D=oe==null?void 0:oe.title)!=null?D:"",Ce=s("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[Se||"#"]);window.confirm(Ce)&&a("delete",[oe.id])},ke=oe=>{var y;if(!(oe!=null&&oe.id)||n.state.saving)return;const Se=v((y=oe.status)!=null?y:oe.active,oe.out_of_stock),Ce=g=>g==null?"":String(g),D=(g,S=0)=>{const B=Number(g);return Number.isFinite(B)?B:S},I=Array.isArray(oe.variants)?oe.variants.map(g=>{var J,ge;if(!g)return null;const S=Ce(g.sku).trim();if(!S)return null;let B=D(g.price_cents,Number.NaN);if(!Number.isFinite(B)){const Me=Ce(g.price),Xe=Me?Number.parseFloat(Me):NaN;B=Number.isFinite(Xe)?Math.round(Xe*100):NaN}if(!Number.isFinite(B))return null;const le=Ce((J=g.currency)!=null?J:p.value).trim().toUpperCase();if(!le)return null;const ye=(ge=g.options)!=null?ge:null,Pe=Math.max(0,Math.round(D(g.stock,0)));return{id:D(g.id,0),sku:S,price_cents:Math.round(B),currency:le,stock:Pe,options:ye!=null?ye:null,weight:g.weight!==null&&g.weight!==void 0&&g.weight!==""?String(g.weight):null,active:g.active===void 0?!0:!!g.active,is_digital:g.is_digital===void 0?!1:!!g.is_digital}}).filter(Boolean):[];if(!I.length){n.state.error=s("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const U=Array.isArray(oe.categories)?oe.categories.map(g=>{if(g==null)return null;if(typeof g=="number")return g>0?{id:g,title:"",slug:""}:null;if(typeof g=="string"&&g.trim()!==""&&Number.isFinite(Number(g))){const B=Number(g);return B>0?{id:B,title:"",slug:""}:null}if(typeof g=="object"){if(g.id){const le=D(g.id,0);return le>0?{id:le,title:"",slug:""}:null}return D(g.id,0)<=0&&!g.title?null:{id:0,title:Ce(g.title),slug:Ce(g.slug)}}const S=Ce(g).trim();return S?{id:0,title:S,slug:""}:null}).filter(Boolean):[],Q=Array.isArray(oe.images)?oe.images.map(g=>Ce(g).trim()).map(g=>{var ye,Pe,J;let S=g;if(!S)return"";const B=S.indexOf("#joomlaImage://");B!==-1&&(S=S.substring(0,B));const le=S.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(le&&le[1]&&(S=le[1]),typeof window!="undefined")try{const ge=(J=(Pe=(ye=window.Joomla)==null?void 0:ye.getOptions)==null?void 0:Pe.call(ye,"system.paths",{}))!=null?J:{},Me=ge.rootFull||window.location.origin,Xe=ge.root||"/";S.startsWith(Me)&&(S=S.substring(Me.length)),S.startsWith(Xe)&&(S=S.substring(Xe.length))}catch(ge){}return S.trim()}).filter(g=>g!==""):[];n.state.error="",a("update",{id:oe.id,data:{title:Ce(oe.title),slug:Ce(oe.slug),short_desc:Ce(oe.short_desc),long_desc:Ce(oe.long_desc),status:Se,active:Se,featured:oe.featured?1:0,images:Q,variants:I,categories:U,product_type:typeof oe.product_type=="string"&&oe.product_type.trim()||"physical"}})},M=()=>{a("refresh")},De=()=>{a("search")},$e=oe=>{a("page",oe)},ve=oe=>{if(!oe)return"";try{const Se=new Date(oe),D=new Date-Se,I=Math.floor(D/1e3),U=Math.floor(I/60),Q=Math.floor(U/60);return I<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):U<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[U]):Q<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Q]):Se.toLocaleString()}catch(Se){return oe}};return qs(()=>{m()}),ot(()=>n.state.saving,(oe,Se)=>{Se&&!oe&&c.value&&!n.state.validationErrors.length&&!n.state.error&&z()}),(oe,Se)=>{var Ce;return E(),A("section",pA,[o("header",_A,[o("div",null,[o("h2",fA,l(i(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),o("p",mA,l(i(s)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),o("div",hA,[se(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":Se[0]||(Se[0]=D=>e.state.search=D),onKeyup:Tt(De,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,gA),[[Ae,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:M,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":i(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[Se[3]||(Se[3]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",CA,l(i(s)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,EA),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:Y},[Se[4]||(Se[4]=o("i",{class:"fa-solid fa-plus"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(E(),A("div",AA,l(e.state.error),1)):re("",!0),e.state.loading?(E(),A("div",SA,[lt(ln,{type:"table",rows:5,columns:5})])):re("",!0),e.state.loading?re("",!0):(E(),A("div",bA,[lt(yg,{items:e.state.items,translate:i(s),"base-currency":p.value,saving:e.state.saving,"current-user-id":h.value,onEdit:$,onDelete:Re,onToggleActive:ke},null,8,["items","translate","base-currency","saving","current-user-id"]),((Ce=e.state.pagination)==null?void 0:Ce.pages)>1?(E(),A("div",TA,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:Se[1]||(Se[1]=D=>$e(e.state.pagination.current-1))},"  ",8,yA),o("span",RA,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:Se[2]||(Se[2]=D=>$e(e.state.pagination.current+1))},"  ",8,OA)])):re("",!0),e.state.lastUpdated?(E(),A("div",{key:1,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(ve(e.state.lastUpdated)),9,xA)):re("",!0)])),lt(iA,{open:c.value,product:f.value,saving:e.state.saving,"base-currency":p.value,translate:i(s),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":C.value,"digital-endpoints":d.value,"csrf-token":R.value,onSubmit:ee,onCancel:z},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url","digital-endpoints","csrf-token"])])}}},NA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},vA={class:"nxp-ec-admin-panel__header"},MA={class:"nxp-ec-admin-panel__title"},IA={class:"nxp-ec-admin-panel__lead"},kA={class:"nxp-ec-admin-panel__actions"},wA=["placeholder","aria-label"],$A=["disabled","title","aria-label"],DA={class:"nxp-ec-sr-only"},LA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},YA={key:1,class:"nxp-ec-admin-panel__body"},UA={key:2,class:"nxp-ec-admin-panel__body"},XA={class:"nxp-ec-admin-panel__table"},FA={class:"nxp-ec-admin-table"},GA={scope:"col"},VA={scope:"col"},HA={scope:"col"},BA={scope:"col"},KA={scope:"col"},jA={key:0},JA={colspan:"6"},WA={scope:"row",class:"nxp-ec-admin-table__primary"},qA={key:0,class:"nxp-ec-admin-table__meta"},zA={class:"nxp-ec-status nxp-ec-status--muted"},QA=["data-label"],ZA=["data-label"],eS=["data-label"],tS=["data-label"],sS={class:"nxp-ec-admin-table__actions"},nS=["onClick","title","disabled","aria-label"],oS={class:"nxp-ec-sr-only"},aS=["disabled","onClick","title","aria-label"],iS={class:"nxp-ec-sr-only"},rS={key:0,class:"nxp-ec-admin-pagination"},lS=["disabled"],cS={class:"nxp-ec-admin-pagination__status"},dS=["disabled"],uS=["title"],pS={class:"nxp-ec-modal__dialog"},_S={class:"nxp-ec-modal__header"},fS={id:"category-modal-title",class:"nxp-ec-modal__title"},mS=["title","aria-label"],hS={class:"nxp-ec-sr-only"},gS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ES={class:"nxp-ec-form-field"},CS={class:"nxp-ec-form-label",for:"category-title"},AS={class:"nxp-ec-form-field"},SS={class:"nxp-ec-form-label",for:"category-slug"},bS={class:"nxp-ec-form-field"},TS={class:"nxp-ec-form-label",for:"category-parent"},yS={value:""},RS=["value"],OS={class:"nxp-ec-form-field"},xS={class:"nxp-ec-form-label",for:"category-sort"},PS={class:"nxp-ec-modal__actions"},NS=["disabled"],vS=yt({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null},checkoutCategory:{type:Function,default:null},checkinCategory:{type:Function,default:null},forceCheckinCategory:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=qe(!1),c=qe(!1),u=qe([]),p=qe(null),f=be(()=>Number(n.currentUserId||0)),C=D=>{const U=(Array.isArray(D)?D:[]).map(J=>{var ge,Me,Xe,T,N;return{...J,id:Number.parseInt((ge=J==null?void 0:J.id)!=null?ge:0,10)||0,parent_id:(J==null?void 0:J.parent_id)!=null&&Number.parseInt(J.parent_id,10)||0,sort:Number.parseInt((Me=J==null?void 0:J.sort)!=null?Me:0,10)||0,title:String((Xe=J==null?void 0:J.title)!=null?Xe:"").trim(),slug:String((T=J==null?void 0:J.slug)!=null?T:"").trim(),usage:(N=J==null?void 0:J.usage)!=null?N:0}}).filter(J=>J.id>0||J.title!==""),Q=new Set(U.map(J=>J.id));U.forEach(J=>{Q.has(J.parent_id)||(J.parent_id=0)});const y=new Map,g=new Map;U.forEach(J=>{g.set(J.id,J);const ge=J.parent_id||0;y.has(ge)||y.set(ge,[]),y.get(ge).push(J)});const S=J=>J.sort((ge,Me)=>{var Xe,T;return((Xe=ge.sort)!=null?Xe:0)-((T=Me.sort)!=null?T:0)||ge.title.localeCompare(Me.title,void 0,{sensitivity:"base"})});y.forEach(S);const B=new Set,le=[],ye=(J,ge,Me)=>{if(!J||B.has(J.id)||Me.includes(J.id))return;const Xe=[...Me],T=Xe.map(ne=>{var te;return(te=g.get(ne))==null?void 0:te.title}).filter(Boolean),N={...J,depth:ge,path:T.join(" / "),ancestors:Xe,indentedTitle:ge>0?`${" ".repeat(ge)}${J.title}`:J.title};le.push(N),B.add(J.id),(y.get(J.id)||[]).forEach(ne=>ye(ne,ge+1,[...Me,J.id]))},Pe=U.filter(J=>J.parent_id===0||!Q.has(J.parent_id));return S(Pe),Pe.forEach(J=>ye(J,0,[])),U.forEach(J=>{B.has(J.id)||ye(J,0,[])}),le},d=D=>(D==null?void 0:D.checked_out)&&Number(D.checked_out)!==0&&Number(D.checked_out)!==f.value,R=D=>{var g,S;if(!D)return"";const I=Number(D.checked_out)||0,U=D.checked_out_user&&D.checked_out_user.id?Number(D.checked_out_user.id):0,Q=I||U;if(Q!==0&&Q===f.value)return s("JGLOBAL_YOU","You");const y=(S=(g=D.checked_out_user)==null?void 0:g.name)!=null?S:"";return y||""},h=D=>s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[R(D)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]),k=async()=>{if(!p.value||!n.checkinCategory){p.value=null;return}try{await n.checkinCategory(p.value)}catch(D){}finally{p.value=null}},v=be(()=>{var D,I;return C((I=(D=n.state)==null?void 0:D.items)!=null?I:[])}),x=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),b=Qe(x()),m=be(()=>{var I,U;const D=(U=Array.isArray(u.value)&&u.value.length?u.value:(I=n.state)==null?void 0:I.items)!=null?U:[];return C(D).filter(Q=>Q.id>0&&Q.id!==b.id&&!(Array.isArray(Q.ancestors)&&Q.ancestors.includes(b.id))).map(Q=>({id:Q.id,title:Q.title,label:Q.depth>0?`${" ".repeat(Q.depth)}${Q.title}`:Q.title}))}),Y=()=>{Object.assign(b,x()),c.value=!1},$=D=>D?D.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",K=()=>{c.value=!0,b.slug=$(b.slug)};ot(()=>b.title,D=>{c.value||(b.slug=$(D))});const z=async(D=0)=>{if(typeof n.loadOptions!="function"){u.value=Array.isArray(n.state.items)?[...n.state.items]:[];return}try{const I=await n.loadOptions();u.value=Array.isArray(I)?[...I]:[]}catch(I){u.value=[]}u.value=u.value.filter(I=>{var Q,y;return(Number.parseInt((y=(Q=I==null?void 0:I.id)!=null?Q:I==null?void 0:I.value)!=null?y:0,10)||0)!==D})},ee=async()=>{await k(),n.state.error="",n.state.validationErrors=[],Y(),await z(),r.value=!0},Re=async D=>{var Q,y,g,S;if(!D)return;n.state.error="",n.state.validationErrors=[];const I=R(D);if(d(D)){if(!await ke(D,I)){n.state.error=I!==""?s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT","This category is currently checked out by %s.",[I]):s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","This category is currently checked out by another user.");return}return}await k();let U=D;if(D!=null&&D.id&&n.checkoutCategory)try{const B=await n.checkoutCategory(D.id);B&&(p.value=B.id,U=B)}catch(B){n.state.error=(B==null?void 0:B.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to edit this category right now.");return}b.id=Number.parseInt((Q=U.id)!=null?Q:0,10)||0,b.title=String((y=U.title)!=null?y:"").trim(),b.slug=String((g=U.slug)!=null?g:"").trim(),b.parent_id=U.parent_id!=null&&Number.parseInt(U.parent_id,10)||null,b.sort=Number.parseInt((S=U.sort)!=null?S:0,10)||0,c.value=!!b.slug,await z(b.id),r.value=!0},ke=async(D,I="")=>{var Q,y,g,S;if(!(D!=null&&D.id)||typeof n.forceCheckinCategory!="function")return null;const U=s("COM_NXPEASYCART_FORCE_CHECKIN_CATEGORY","This category is checked out by %s. Force check-in?",[I||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(U))return null;try{const B=await n.forceCheckinCategory(D.id);if(B)return p.value=B.id,b.id=Number.parseInt((Q=B.id)!=null?Q:0,10)||0,b.title=String((y=B.title)!=null?y:"").trim(),b.slug=String((g=B.slug)!=null?g:"").trim(),b.parent_id=B.parent_id!=null&&Number.parseInt(B.parent_id,10)||null,b.sort=Number.parseInt((S=B.sort)!=null?S:0,10)||0,c.value=!!b.slug,await z(b.id),r.value=!0,B}catch(B){n.state.error=(B==null?void 0:B.message)||s("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to check in this category.")}return null},M=async()=>{r.value=!1,await k(),Y()},De=()=>{a("refresh")},$e=()=>{a("search")},ve=D=>{a("page",D)},oe=()=>{const D={id:b.id||void 0,title:b.title.trim(),slug:b.slug.trim(),parent_id:b.parent_id||null,sort:Number.isFinite(b.sort)?b.sort:0};a("save",D)},Se=D=>{if(!D||!D.id)return;const I=s("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(I)||a("delete",[D.id])},Ce=D=>{if(!D)return"";try{const I=new Date(D),Q=new Date-I,y=Math.floor(Q/1e3),g=Math.floor(y/60),S=Math.floor(g/60);return y<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):g<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[g]):S<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[S]):I.toLocaleString()}catch(I){return D}};return qs(()=>{k()}),ot(()=>{var D;return(D=n.state)==null?void 0:D.saving},async(D,I)=>{var U,Q,y;I&&!D&&(((Q=(U=n.state)==null?void 0:U.validationErrors)!=null?Q:[]).length>0||(y=n.state)!=null&&y.error||(await k(),r.value=!1,Y()))}),(D,I)=>(E(),A("section",NA,[o("header",vA,[o("div",null,[o("h2",MA,l(i(s)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),o("p",IA,l(i(s)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),o("div",kA,[se(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":I[0]||(I[0]=U=>e.state.search=U),onKeyup:Tt($e,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,wA),[[Ae,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:De,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":i(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[I[7]||(I[7]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",DA,l(i(s)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,$A),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:ee},[I[8]||(I[8]=o("i",{class:"fa-solid fa-plus"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(E(),A("div",LA,l(e.state.error),1)):re("",!0),e.state.loading?(E(),A("div",YA,[lt(ln,{type:"table",rows:5,columns:5})])):re("",!0),e.state.loading?re("",!0):(E(),A("div",UA,[o("div",XA,[o("table",FA,[o("thead",null,[o("tr",null,[o("th",GA,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),o("th",VA,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),o("th",HA,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),o("th",BA,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),o("th",KA,l(i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),I[9]||(I[9]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?re("",!0):(E(),A("tr",jA,[o("td",JA,l(i(s)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(E(!0),A(Ie,null,Ue(v.value,U=>{var Q;return E(),A("tr",{key:U.id,class:Ve({"is-active":b.id===U.id})},[o("th",WA,[o("span",{style:Ut({paddingLeft:`${U.depth*1.5}rem`})},l(U.indentedTitle),5),U.checked_out?(E(),A("div",qA,[o("span",zA,[I[10]||(I[10]=o("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),we(" "+l(h(U)),1)])])):re("",!0)]),o("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},l(U.slug||""),9,QA),o("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},l(U.path||i(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,ZA),o("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},l(U.sort),9,eS),o("td",{"data-label":i(s)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},l((Q=U.usage)!=null?Q:0),9,tS),o("td",sS,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:y=>Re(U),title:i(s)("JEDIT","Edit"),disabled:e.state.saving,"aria-label":i(s)("JEDIT","Edit")},[I[11]||(I[11]=o("i",{class:"fa-solid fa-pen-to-square"},null,-1)),o("span",oS,l(i(s)("JEDIT","Edit")),1)],8,nS),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting||d(U),onClick:y=>Se(U),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[I[12]||(I[12]=o("i",{class:"fa-solid fa-trash"},null,-1)),o("span",iS,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,aS)])],2)}),128))])]),e.state.pagination.pages>1?(E(),A("div",rS,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:I[1]||(I[1]=U=>ve(e.state.pagination.current-1))},"  ",8,lS),o("span",cS,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:I[2]||(I[2]=U=>ve(e.state.pagination.current+1))},"  ",8,dS)])):re("",!0)]),e.state.lastUpdated?(E(),A("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(Ce(e.state.lastUpdated)),9,uS)):re("",!0),r.value?(E(),A("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"category-modal-title",onKeydown:Tt(M,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop",onClick:M}),o("div",pS,[o("header",_S,[o("h3",fS,l(b.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:M,title:i(s)("JCLOSE","Close"),"aria-label":i(s)("JCLOSE","Close")},[I[13]||(I[13]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",hS,l(i(s)("JCLOSE","Close")),1)],8,mS)]),o("form",{class:"nxp-ec-form",onSubmit:bt(oe,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(E(),A("div",gS,[o("ul",null,[(E(!0),A(Ie,null,Ue(e.state.validationErrors,(U,Q)=>(E(),A("li",{key:Q},l(U),1))),128))])])):re("",!0),o("div",ES,[o("label",CS,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),se(o("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":I[3]||(I[3]=U=>b.title=U),required:"",maxlength:"255"},null,512),[[Ae,b.title,void 0,{trim:!0}]])]),o("div",AS,[o("label",SS,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),se(o("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":I[4]||(I[4]=U=>b.slug=U),maxlength:"190",onInput:K},null,544),[[Ae,b.slug,void 0,{trim:!0}]])]),o("div",bS,[o("label",TS,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),se(o("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":I[5]||(I[5]=U=>b.parent_id=U)},[o("option",yS,l(i(s)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(E(!0),A(Ie,null,Ue(m.value,U=>(E(),A("option",{key:U.id,value:U.id},l(U.label),9,RS))),128))],512),[[ft,b.parent_id,void 0,{number:!0}]])]),o("div",OS,[o("label",xS,l(i(s)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),se(o("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":I[6]||(I[6]=U=>b.sort=U),min:"0",step:"1"},null,512),[[Ae,b.sort,void 0,{number:!0}]])]),o("footer",PS,[o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[I[14]||(I[14]=o("i",{class:"fa-solid fa-floppy-disk"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,NS),o("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:M},[I[15]||(I[15]=o("i",{class:"fa-solid fa-ban"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])],32)):re("",!0)]))]))}},[["__scopeId","data-v-0bba5030"]]),MS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},IS={class:"nxp-ec-admin-panel__header"},kS={class:"nxp-ec-admin-panel__title"},wS={class:"nxp-ec-admin-panel__lead"},$S={class:"nxp-ec-admin-panel__actions"},DS=["placeholder","aria-label"],LS=["aria-label"],YS={value:""},US=["value"],XS=["disabled","title","aria-label"],FS={class:"nxp-ec-sr-only"},GS=["disabled","title","aria-label"],VS={class:"nxp-ec-sr-only"},HS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},BS={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},KS={key:2,class:"nxp-ec-admin-panel__body"},jS={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},JS={class:"nxp-ec-admin-panel__table"},WS={key:0,class:"nxp-ec-admin-panel__selection"},qS=["aria-label"],zS={value:""},QS=["value"],ZS=["disabled"],eb=["title","aria-label"],tb={class:"nxp-ec-sr-only"},sb={class:"nxp-ec-admin-table"},nb={scope:"col",class:"nxp-ec-admin-table__select"},ob={scope:"col"},ab={scope:"col"},ib={scope:"col"},rb={scope:"col"},lb={scope:"col"},cb={scope:"col",class:"nxp-ec-admin-table__actions"},db={key:0},ub={colspan:"7"},pb={class:"nxp-ec-admin-table__select"},_b=["checked","onChange","disabled","aria-label"],fb={scope:"row",class:"nxp-ec-admin-table__primary"},mb=["onClick","disabled"],hb={key:0,class:"nxp-ec-admin-table__meta"},gb={class:"nxp-ec-status nxp-ec-status--muted"},Eb=["data-label"],Cb={class:"nxp-ec-admin-table__meta"},Ab=["data-label"],Sb=["data-label"],bb={class:"nxp-ec-badge"},Tb=["title"],yb=["data-label"],Rb={class:"nxp-ec-admin-table__actions"},Ob=["onUpdate:modelValue","disabled","aria-label"],xb=["value"],Pb=["value"],Nb=["disabled","onClick"],vb=["aria-label"],Mb=["disabled","aria-label"],Ib={class:"nxp-ec-admin-pagination__status","aria-current":"page"},kb=["disabled","aria-label"],wb=["title"],$b={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Db={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},Lb={class:"nxp-ec-admin-panel__sidebar-header"},Yb={id:"order-modal-title"},Ub=["title","aria-label"],Xb={class:"nxp-ec-sr-only"},Fb={class:"nxp-ec-admin-panel__sidebar-content"},Gb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Vb={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},Hb={key:2,class:"nxp-ec-admin-panel__section"},Bb={class:"nxp-ec-admin-copy"},Kb=["value"],jb=["disabled"],Jb={key:0,class:"nxp-ec-admin-panel__muted"},Wb={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},qb=["disabled"],zb={key:0,class:"nxp-ec-admin-panel__muted"},Qb={class:"nxp-ec-admin-panel__section"},Zb={class:"nxp-ec-admin-list"},eT={class:"nxp-ec-admin-list__title"},tT={class:"nxp-ec-admin-list__meta"},sT={key:3,class:"nxp-ec-admin-panel__section"},nT={class:"nxp-ec-admin-panel__section-header"},oT=["disabled"],aT={key:0,class:"nxp-ec-admin-panel__muted"},iT={class:"nxp-ec-download-list"},rT={class:"nxp-ec-download-card__meta"},lT={class:"nxp-ec-admin-list__title"},cT={class:"nxp-ec-admin-panel__muted"},dT={class:"nxp-ec-download-card__actions"},uT=["disabled","onClick","title"],pT=["onClick"],_T=["href"],fT={class:"nxp-ec-admin-panel__section"},mT={class:"nxp-ec-admin-panel__total"},hT={class:"nxp-ec-admin-panel__addresses"},gT={class:"nxp-ec-admin-panel__section"},ET={class:"nxp-ec-admin-address"},CT={class:"nxp-ec-admin-panel__section"},AT={key:0,class:"nxp-ec-admin-address"},ST={key:1,class:"nxp-ec-admin-panel__muted"},bT={class:"nxp-ec-admin-panel__section"},TT={class:"nxp-ec-form-field"},yT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},RT={class:"nxp-ec-form-field"},OT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},xT={class:"nxp-ec-form-field"},PT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},NT={key:0,class:"nxp-ec-form-checkbox"},vT={class:"nxp-ec-admin-form__actions"},MT=["disabled"],IT={key:4,class:"nxp-ec-admin-panel__section"},kT={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},wT=["disabled"],$T=["disabled"],DT={key:5,class:"nxp-ec-admin-panel__section"},LT={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},YT={class:"nxp-ec-form-field"},UT={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},XT=["placeholder"],FT={class:"nxp-ec-form-help"},GT={class:"nxp-ec-form-field"},VT={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},HT=["placeholder"],BT={class:"nxp-ec-form-field"},KT={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},jT={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},JT=["disabled"],WT={key:6,class:"nxp-ec-admin-panel__section"},qT={class:"nxp-ec-admin-list"},zT={class:"nxp-ec-admin-list__title"},QT={class:"nxp-ec-admin-list__meta"},ZT={class:"nxp-ec-admin-panel__section"},ey=["placeholder"],ty={class:"nxp-ec-admin-form__actions"},sy=["disabled"],ny={class:"nxp-ec-admin-panel__section"},oy={key:0,class:"nxp-ec-admin-list"},ay={class:"nxp-ec-admin-list__title"},iy={class:"nxp-ec-admin-list__meta"},ry={key:1,class:"nxp-ec-admin-panel__muted"},ly=yt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""},currentUserId:{type:Number,default:0},forceCheckinOrder:{type:Function,default:null}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=be(()=>Number(n.currentUserId||0)),c=Qe({}),u=qe(""),p=qe(""),f=be(()=>p.value.trim().length>0),C=qe(""),d=qe(""),R=Qe({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),h=Qe({amount:null,reference:"",note:""}),k=be(()=>{var L;const P=(L=n.state)==null?void 0:L.selection;return!P||typeof P.values!="function"?[]:Array.from(P.values())}),v=be(()=>k.value.length>0),x=be(()=>{var me;const P=(me=n.state)==null?void 0:me.activeOrder;if(!P)return!1;const L=["cod","bank_transfer"],_e=String(P.payment_method||"").toLowerCase();return P.state==="pending"&&L.includes(_e)}),b=be(()=>{var _e,me;const P=(_e=n.state)==null?void 0:_e.activeOrder;return P?["paid","fulfilled"].includes(P.state)&&((me=P.downloads)==null?void 0:me.length)>0:!1});be(()=>x.value);const m=P=>(P==null?void 0:P.checked_out)&&Number(P.checked_out)!==0&&Number(P.checked_out)!==r.value,Y=P=>{var me,X;const L=(X=(me=P==null?void 0:P.checked_out_user)==null?void 0:me.name)!=null?X:"",_e=(P==null?void 0:P.checked_out)===r.value?s("JGLOBAL_YOU","You"):L||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user");return s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[_e])},$=be(()=>{var P;return m((P=n.state)==null?void 0:P.activeOrder)});ot(k,P=>{P.length||(u.value="")}),qs(()=>{le()}),ot(()=>n.state.activeOrder,P=>{var L,_e,me;p.value="",C.value="",R.carrier=(L=P==null?void 0:P.carrier)!=null?L:"",R.tracking_number=(_e=P==null?void 0:P.tracking_number)!=null?_e:"",R.tracking_url=(me=P==null?void 0:P.tracking_url)!=null?me:"",R.markFulfilled=!1,h.amount=null,h.reference="",h.note="",d.value=""},{immediate:!0}),ot(()=>n.state.items,P=>{Array.isArray(P)&&P.forEach(L=>{!L||typeof L.id=="undefined"||c[L.id]||(c[L.id]=L.state)})},{immediate:!0}),ot(()=>n.state.transitionError,P=>{var _e;if(!P)return;const L=(_e=n.state)==null?void 0:_e.items;Array.isArray(L)&&L.forEach(me=>{me!=null&&me.id&&me.state&&(c[me.id]=me.state)})});const K=(P,L)=>{const _e=(Number(P)||0)/100,me=(L||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:me}).format(_e)}catch(X){return`${me} ${_e.toFixed(2)}`}},z=P=>{if(!P)return"";const L=new Date(P);return Number.isNaN(L.getTime())?P:L.toLocaleString()},ee=P=>P?{payment_amount_mismatch:s("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[P]||P:s("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),Re=P=>P===1?s("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):s("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(P)]),ke=P=>{if(!P)return"";const L=`COM_NXPEASYCART_ORDERS_STATE_${String(P).toUpperCase()}`;return s(L,P)},M=P=>n.state.orderStates.filter(L=>L!==P.state),De=P=>(c[P.id]||P.state)!==P.state,$e=()=>{var P;return n.siteRoot&&n.siteRoot.trim()!==""?n.siteRoot.trim():typeof window!="undefined"&&((P=window.location)!=null&&P.origin)?window.location.origin:""},ve=be(()=>{var Ke,Ge;const P=(Ge=(Ke=n.state)==null?void 0:Ke.activeOrder)!=null?Ge:{},L=String(P.public_token||"").trim(),_e=String(P.order_no||"").trim();if(!L)return"";const me=$e();if(!me)return"";const X=me.endsWith("/")?"":"/",Ne=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:L});return _e&&Ne.set("no",_e),`${me}${X}index.php?${Ne.toString()}`}),oe=async()=>{var P;if(ve.value){try{if(!((P=navigator==null?void 0:navigator.clipboard)!=null&&P.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(ve.value),C.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(L){try{const _e=document.createElement("textarea");_e.value=ve.value,_e.setAttribute("readonly",""),_e.style.position="absolute",_e.style.left="-9999px",document.body.appendChild(_e),_e.select(),document.execCommand("copy"),document.body.removeChild(_e),C.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(_e){C.value=s("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}C.value&&setTimeout(()=>{C.value=""},2e3)}},Se=P=>{var me,X;const L=Number((me=P==null?void 0:P.download_count)!=null?me:0),_e=Number((X=P==null?void 0:P.max_downloads)!=null?X:0);if(_e>0){const Ne=Math.max(0,_e-L);return s("COM_NXPEASYCART_ORDER_DOWNLOADS_REMAINING","%d downloads remaining",[Ne])}return s("COM_NXPEASYCART_ORDER_DOWNLOADS_UNLIMITED","Unlimited downloads")},Ce=P=>P!=null&&P.expires_at?s("COM_NXPEASYCART_ORDER_DOWNLOADS_EXPIRES","Expires %s",[P.expires_at]):s("JNONE","No expiry"),D=async P=>{var _e;const L=P==null?void 0:P.url;if(L){try{if(!((_e=navigator==null?void 0:navigator.clipboard)!=null&&_e.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(L),d.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(me){try{const X=document.createElement("textarea");X.value=L,X.setAttribute("readonly",""),X.style.position="absolute",X.style.left="-9999px",document.body.appendChild(X),X.select(),document.execCommand("copy"),document.body.removeChild(X),d.value=s("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(X){d.value=s("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.")}}d.value&&setTimeout(()=>{d.value=""},2e3)}},I=be(()=>{var L,_e,me,X,Ne;const P=(_e=(L=n.state)==null?void 0:L.activeOrder)!=null?_e:{};return R.carrier!==((me=P.carrier)!=null?me:"")||R.tracking_number!==((X=P.tracking_number)!=null?X:"")||R.tracking_url!==((Ne=P.tracking_url)!=null?Ne:"")||R.markFulfilled}),U=P=>!P||typeof P!="object"?[]:Object.entries(P).filter(([,L])=>L!=null&&`${L}`.trim()!=="").map(([L,_e])=>({key:L,value:`${_e}`.trim()})),Q=()=>{a("refresh")},y=()=>{a("export")},g=()=>{a("search")},S=()=>{a("filter",n.state.filterState)},B=async P=>{P&&(m(P)&&!await ye(P)||a("view",P))},le=()=>{a("close")},ye=async P=>{var _e;if(!(P!=null&&P.id)||typeof n.forceCheckinOrder!="function")return null;const L=s("COM_NXPEASYCART_FORCE_CHECKIN_ORDER","This order is checked out by %s. Force check-in?",[((_e=P.checked_out_user)==null?void 0:_e.name)||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(L))return null;try{return await n.forceCheckinOrder(P.id)}catch(me){return state.transitionError=(me==null?void 0:me.message)||s("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","Unable to check in this order."),null}},Pe=P=>{if(!P||m(P))return;const L=c[P.id]||P.state;L!==P.state&&a("transition",{id:P.id,state:L})},J=P=>{a("page",P)},ge=P=>{var L,_e,me,X;return(X=(me=(_e=(L=n.state)==null?void 0:L.selection)==null?void 0:_e.has)==null?void 0:me.call(_e,P))!=null?X:!1},Me=P=>{var _e,me,X,Ne;const L=(Ne=(X=(me=(_e=n.state)==null?void 0:_e.items)==null?void 0:me.find)==null?void 0:X.call(me,Ke=>Ke.id===P))!=null?Ne:null;m(L)||a("toggle-selection",P)},Xe=()=>{u.value="",a("clear-selection")},T=()=>{if(!v.value||!u.value)return;const P=[...k.value].filter(L=>{var me,X,Ne,Ke;const _e=(Ke=(Ne=(X=(me=n.state)==null?void 0:me.items)==null?void 0:X.find)==null?void 0:Ne.call(X,Ge=>Ge.id===L))!=null?Ke:null;return!m(_e)});P.length&&a("bulk-transition",{ids:P,state:u.value})},N=()=>{if(!n.state.activeOrder||$.value)return;const P=p.value.trim();P&&(a("add-note",{id:n.state.activeOrder.id,message:P}),p.value="")},G=()=>{n.state.activeOrder&&a("invoice",n.state.activeOrder.id)},ne=()=>{!n.state.activeOrder||!I.value||$.value||(a("save-tracking",{id:n.state.activeOrder.id,carrier:R.carrier,tracking_number:R.tracking_number,tracking_url:R.tracking_url,mark_fulfilled:R.markFulfilled}),R.markFulfilled=!1)},te=P=>{!n.state.activeOrder||$.value||a("send-email",{id:n.state.activeOrder.id,type:P})},ae=()=>{if(!n.state.activeOrder||!x.value||$.value)return;const P=n.state.activeOrder,L=h.amount!==null&&h.amount!==""?Math.round(Number(h.amount)*100):P.total_cents;a("record-payment",{id:P.id,amountCents:L,reference:h.reference,note:h.note}),h.amount=null,h.reference="",h.note=""},q=()=>{!n.state.activeOrder||!b.value||$.value||a("resend-downloads",{id:n.state.activeOrder.id})},j=P=>{!n.state.activeOrder||!(P!=null&&P.id)||$.value||a("reset-download",{download_id:P.id,order_id:n.state.activeOrder.id})},Z=P=>{var me;const L=(me=n.state)==null?void 0:me.activeOrder;return L?(L.timeline||L.audit||[]).some(X=>{var Ne;return X.action==="order.email.sent"?((Ne=X.context)==null?void 0:Ne.type)===P:!1}):!1},H=be(()=>s("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(k.value.length)],"ordersSelectedCount")),pe=P=>{var L,_e,me,X,Ne,Ke,Ge,He,Ze,he,xe,O;if(!P||!P.action)return"";switch(P.action){case"order.created":return s("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const _=ke((_e=(L=P.context)==null?void 0:L.from)!=null?_e:""),V=ke((X=(me=P.context)==null?void 0:me.to)!=null?X:"");return s("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[_||((Ne=P.context)==null?void 0:Ne.from)||"",V||((Ke=P.context)==null?void 0:Ke.to)||""],"ordersTimelineState")}case"order.note":return((Ge=P.context)==null?void 0:Ge.message)||s("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const _=((He=P.context)==null?void 0:He.gateway)||s("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),V=K((he=(Ze=P.context)==null?void 0:Ze.amount_cents)!=null?he:0,(O=(xe=n.state)==null?void 0:xe.activeOrder)==null?void 0:O.currency);return s("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[_,V],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return P.action}},ie=P=>{if(!P)return"";const L=String(P.type||"").toLowerCase(),_e=String(P.message||"").trim(),me=String(P.state||"").toLowerCase();return L==="tracking"?s("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):me?ke(me):_e||L||""},ce=be(()=>{var me,X,Ne,Ke;const P=[];return(Array.isArray((X=(me=n.state)==null?void 0:me.activeOrder)==null?void 0:X.fulfillment_events)?n.state.activeOrder.fulfillment_events:[]).forEach((Ge,He)=>{var Ze,he;P.push({label:ie(Ge),created:(Ze=Ge==null?void 0:Ge.at)!=null?Ze:"",key:`f-${He}-${(he=Ge==null?void 0:Ge.at)!=null?he:""}`})}),(Array.isArray((Ke=(Ne=n.state)==null?void 0:Ne.activeOrder)==null?void 0:Ke.timeline)?n.state.activeOrder.timeline:[]).forEach((Ge,He)=>{var Ze,he,xe;P.push({label:pe(Ge),created:(Ze=Ge==null?void 0:Ge.created)!=null?Ze:"",key:`a-${(he=Ge==null?void 0:Ge.id)!=null?he:He}-${(xe=Ge==null?void 0:Ge.created)!=null?xe:""}`})}),P.filter(Ge=>Ge.label).sort((Ge,He)=>{const Ze=new Date(Ge.created||0).getTime();return new Date(He.created||0).getTime()-Ze})}),Ee=P=>s(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(P.status||"").toUpperCase()}`,P.status||""),Oe=P=>{if(!P)return"";try{const L=new Date(P),me=new Date-L,X=Math.floor(me/1e3),Ne=Math.floor(X/60),Ke=Math.floor(Ne/60);return X<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Ne<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Ne]):Ke<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Ke]):L.toLocaleString()}catch(L){return P}};return(P,L)=>{var _e,me;return E(),A("section",MS,[o("header",IS,[o("div",null,[o("h2",kS,l(i(s)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),o("p",wS,l(i(s)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),o("div",$S,[se(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":L[0]||(L[0]=X=>e.state.search=X),onKeyup:Tt(g,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,DS),[[Ae,e.state.search]]),se(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":L[1]||(L[1]=X=>e.state.filterState=X),onChange:S,"aria-label":i(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[o("option",YS,"  "+l(i(s)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(E(!0),A(Ie,null,Ue(e.state.orderStates,X=>(E(),A("option",{key:X,value:X},l(ke(X)),9,US))),128))],40,LS),[[ft,e.state.filterState]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:y,disabled:e.state.loading||e.state.exporting,title:i(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[L[15]||(L[15]=o("i",{class:"fa-solid fa-file-csv"},null,-1)),o("span",FS,l(i(s)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,XS),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:Q,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[L[16]||(L[16]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",VS,l(i(s)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,GS)])]),e.state.error?(E(),A("div",HS,l(e.state.error),1)):re("",!0),e.state.transitionError&&!e.state.error?(E(),A("div",BS,l(e.state.transitionError),1)):re("",!0),e.state.loading&&!e.state.error?(E(),A("div",KS,[lt(ln,{type:"table",rows:5,columns:7})])):re("",!0),!e.state.loading&&!e.state.error?(E(),A("div",jS,[o("div",JS,[v.value?(E(),A("div",WS,[o("span",null,l(H.value),1),se(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":L[2]||(L[2]=X=>u.value=X),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[o("option",zS,l(i(s)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(E(!0),A(Ie,null,Ue(e.state.orderStates,X=>(E(),A("option",{key:`bulk-${X}`,value:X},l(ke(X)),9,QS))),128))],8,qS),[[ft,u.value]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!u.value||e.state.saving,onClick:T},[L[17]||(L[17]=o("i",{class:"fa-solid fa-check"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,ZS),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Xe,title:i(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[L[18]||(L[18]=o("i",{class:"fa-solid fa-xmark"},null,-1)),o("span",tb,l(i(s)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,eb)])):re("",!0),o("table",sb,[o("thead",null,[o("tr",null,[o("th",nb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),o("th",ob,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),o("th",ab,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),o("th",ib,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),o("th",rb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),o("th",lb,l(i(s)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),o("th",cb,l(i(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),o("tbody",null,[e.state.items.length?re("",!0):(E(),A("tr",db,[o("td",ub,l(i(s)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(E(!0),A(Ie,null,Ue(e.state.items,X=>{var Ne,Ke,Ge;return E(),A("tr",{key:X.id,class:Ve({"is-active":e.state.activeOrder&&e.state.activeOrder.id===X.id})},[o("td",pb,[o("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:ge(X.id),onChange:He=>Me(X.id),disabled:m(X),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,_b)]),o("th",fb,[o("button",{class:"nxp-ec-link-button",type:"button",onClick:He=>B(X),disabled:e.state.saving},l(X.order_no),9,mb),X.checked_out?(E(),A("div",hb,[o("span",gb,[L[19]||(L[19]=o("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),we(" "+l(Y(X)),1)])])):re("",!0)]),o("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[o("div",null,l(X.email),1),o("div",Cb,l(Re((Ge=X.items_count)!=null?Ge:(Ke=(Ne=X.items)==null?void 0:Ne.length)!=null?Ke:0)),1)],8,Eb),o("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},l(K(X.total_cents,X.currency)),9,Ab),o("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[o("span",bb,l(ke(X.state)),1),X.needs_review?(E(),A("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:X.review_reason||i(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},l(i(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,Tb)):re("",!0)],8,Sb),o("td",{"data-label":i(s)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},l(z(X.modified||X.created)),9,yb),o("td",Rb,[se(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":He=>c[X.id]=He,disabled:m(X),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[o("option",{value:X.state},l(ke(X.state)),9,xb),(E(!0),A(Ie,null,Ue(M(X),He=>(E(),A("option",{key:He,value:He},l(ke(He)),9,Pb))),128))],8,Ob),[[ft,c[X.id]]]),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!De(X)||m(X),onClick:He=>Pe(X)},l(i(s)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,Nb)])],2)}),128))])]),e.state.pagination.pages>1?(E(),A("nav",{key:1,class:"nxp-ec-admin-pagination","aria-label":i(s)("COM_NXPEASYCART_PAGINATION","Pagination")},[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:L[3]||(L[3]=X=>J(e.state.pagination.current-1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,Mb),o("span",Ib,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:L[4]||(L[4]=X=>J(e.state.pagination.current+1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,kb)],8,vb)):re("",!0)]),e.state.lastUpdated?(E(),A("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(Oe(e.state.lastUpdated)),9,wb)):re("",!0),e.state.activeOrder?(E(),A("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"order-modal-title",onKeydown:Tt(le,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:le}),o("div",$b,[o("aside",Db,[o("header",Lb,[o("h3",Yb,l(i(s)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+l(e.state.activeOrder.order_no),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:le,title:i(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":i(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[L[20]||(L[20]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",Xb,l(i(s)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,Ub)]),o("div",Fb,[e.state.transitionError?(E(),A("div",Gb,l(e.state.transitionError),1)):re("",!0),(_e=e.state.activeOrder)!=null&&_e.needs_review?(E(),A("div",Vb,[o("strong",null,l(i(s)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),we(" "+l(ee((me=e.state.activeOrder)==null?void 0:me.review_reason)),1)])):re("",!0),ve.value?(E(),A("section",Hb,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),o("div",Bb,[o("input",{type:"text",class:"nxp-ec-form-input",value:ve.value,readonly:""},null,8,Kb),o("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!ve.value,onClick:oe},[L[21]||(L[21]=o("i",{class:"fa-solid fa-link"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,jb)]),C.value?(E(),A("p",Jb,l(C.value),1)):re("",!0),o("div",Wb,[o("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!n.state.activeOrder||n.state.invoiceLoading,onClick:G},[L[22]||(L[22]=o("i",{class:"fa-solid fa-file-pdf"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,qb),n.state.invoiceLoading?(E(),A("span",zb,l(i(s)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):re("",!0)])])):re("",!0),o("section",Qb,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),o("ul",Zb,[(E(!0),A(Ie,null,Ue(e.state.activeOrder.items,X=>(E(),A("li",{key:X.id},[o("div",eT,[we(l(X.title)+" ",1),o("small",null,"("+l(X.sku)+")",1)]),o("div",tT,"  "+l(X.qty)+"  "+l(K(X.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),e.state.activeOrder.downloads&&e.state.activeOrder.downloads.length?(E(),A("section",sT,[o("div",nT,[o("h4",null,l(i(s)("COM_NXPEASYCART_DIGITAL_FILES","Digital downloads")),1),b.value?(E(),A("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--small",disabled:e.state.saving||$.value,onClick:q},[L[23]||(L[23]=o("i",{class:"fa-solid fa-envelope"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_ORDERS_RESEND_DOWNLOADS","Resend email")),1)],8,oT)):re("",!0)]),d.value?(E(),A("p",aT,l(d.value),1)):re("",!0),o("div",iT,[(E(!0),A(Ie,null,Ue(e.state.activeOrder.downloads,X=>(E(),A("article",{key:X.id,class:"nxp-ec-download-card"},[o("div",rT,[o("div",lT,l(X.filename),1),o("div",cT,l(Se(X))+"  "+l(Ce(X)),1)]),o("div",dT,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",disabled:e.state.saving||$.value,onClick:Ne=>j(X),title:i(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD_TITLE","Reset download count to 0")},[L[24]||(L[24]=o("i",{class:"fa-solid fa-rotate-left"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD","Reset")),1)],8,uT),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",onClick:Ne=>D(X)},l(i(s)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),9,pT),X.url?(E(),A("a",{key:0,class:"nxp-ec-btn nxp-ec-btn--small",href:X.url,target:"_blank",rel:"noopener"},l(i(s)("COM_NXPEASYCART_DOWNLOAD","Download")),9,_T)):re("",!0)])]))),128))])])):re("",!0),o("section",fT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),o("p",mT,l(K(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),o("div",hT,[o("section",gT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),o("address",ET,[(E(!0),A(Ie,null,Ue(U(e.state.activeOrder.billing),X=>(E(),A("span",{key:X.key},l(X.value),1))),128))])]),o("section",CT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(E(),A("address",AT,[(E(!0),A(Ie,null,Ue(U(e.state.activeOrder.shipping),X=>(E(),A("span",{key:X.key},l(X.value),1))),128))])):(E(),A("p",ST,l(i(s)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),o("section",bT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),o("div",TT,[o("label",yT,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),se(o("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":L[5]||(L[5]=X=>R.carrier=X)},null,512),[[Ae,R.carrier]])]),o("div",RT,[o("label",OT,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),se(o("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":L[6]||(L[6]=X=>R.tracking_number=X)},null,512),[[Ae,R.tracking_number]])]),o("div",xT,[o("label",PT,l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),se(o("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":L[7]||(L[7]=X=>R.tracking_url=X)},null,512),[[Ae,R.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(E(),A("label",NT,[se(o("input",{type:"checkbox","onUpdate:modelValue":L[8]||(L[8]=X=>R.markFulfilled=X)},null,512),[[ut,R.markFulfilled]]),we(" "+l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):re("",!0),o("div",vT,[o("button",{class:"nxp-ec-btn",type:"button",disabled:!I.value||e.state.saving||$.value,onClick:ne},[L[25]||(L[25]=o("i",{class:"fa-solid fa-truck"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,MT)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(E(),A("section",IT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),o("div",kT,[e.state.activeOrder.state==="fulfilled"?(E(),A("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||$.value,onClick:L[9]||(L[9]=X=>te("shipped"))},[L[26]||(L[26]=o("i",{class:"fa-solid fa-envelope"},null,-1)),we(" "+l(Z("shipped")?i(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):i(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,wT)):re("",!0),e.state.activeOrder.state==="refunded"?(E(),A("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||$.value,onClick:L[10]||(L[10]=X=>te("refunded"))},[L[27]||(L[27]=o("i",{class:"fa-solid fa-envelope"},null,-1)),we(" "+l(Z("refunded")?i(s)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):i(s)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,$T)):re("",!0)])])):re("",!0),x.value?(E(),A("section",DT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),o("p",LT,l(i(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),o("div",YT,[o("label",UT,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),se(o("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":L[11]||(L[11]=X=>h.amount=X),placeholder:K(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,XT),[[Ae,h.amount]]),o("small",FT,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),o("div",GT,[o("label",VT,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),se(o("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":L[12]||(L[12]=X=>h.reference=X),placeholder:i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,HT),[[Ae,h.reference]])]),o("div",BT,[o("label",KT,l(i(s)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),se(o("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":L[13]||(L[13]=X=>h.note=X)},null,512),[[Ae,h.note]])]),o("div",jT,[o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving||$.value||!x.value,onClick:ae},[L[28]||(L[28]=o("i",{class:"icon-credit"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,JT)])])):re("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(E(),A("section",WT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),o("ul",qT,[(E(!0),A(Ie,null,Ue(e.state.activeOrder.transactions,X=>(E(),A("li",{key:X.id},[o("div",zT,l(X.gateway)+"  "+l(K(X.amount_cents,e.state.activeOrder.currency)),1),o("div",QT,l(Ee(X))+"  "+l(z(X.created)),1)]))),128))])])):re("",!0),o("section",ZT,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),o("form",{class:"nxp-ec-admin-form",onSubmit:bt(N,["prevent"])},[se(o("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":L[14]||(L[14]=X=>p.value=X),placeholder:i(s)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,ey),[[Ae,p.value]]),o("div",ty,[o("button",{class:"nxp-ec-btn",type:"submit",disabled:!f.value||e.state.saving||$.value},[L[29]||(L[29]=o("i",{class:"fa-solid fa-floppy-disk"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,sy)])],32)]),o("section",ny,[o("h4",null,l(i(s)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),ce.value.length?(E(),A("ul",oy,[(E(!0),A(Ie,null,Ue(ce.value,X=>(E(),A("li",{key:X.key},[o("div",ay,l(X.label),1),o("div",iy,l(z(X.created)),1)]))),128))])):(E(),A("p",ry,l(i(s)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])],32)):re("",!0)])):re("",!0)])}}},[["__scopeId","data-v-9ae09394"]]),cy={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},dy={class:"nxp-ec-admin-panel__header"},uy={class:"nxp-ec-admin-panel__title"},py={class:"nxp-ec-admin-panel__lead"},_y={class:"nxp-ec-admin-panel__actions"},fy=["placeholder","aria-label"],my=["disabled","title","aria-label"],hy={class:"nxp-ec-sr-only"},gy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ey={key:1,class:"nxp-ec-admin-panel__body"},Cy={key:2,class:"nxp-ec-admin-panel__body"},Ay={class:"nxp-ec-admin-panel__table"},Sy={class:"nxp-ec-admin-table"},by={scope:"col"},Ty={scope:"col"},yy={scope:"col"},Ry={scope:"col"},Oy={scope:"col"},xy={key:0},Py={colspan:"5"},Ny={scope:"row",class:"nxp-ec-admin-table__primary"},vy=["onClick"],My=["data-label"],Iy=["data-label"],ky=["data-label"],wy=["data-label"],$y={key:0,class:"nxp-ec-admin-pagination"},Dy=["disabled"],Ly={class:"nxp-ec-admin-pagination__status"},Yy=["disabled"],Uy=["title"],Xy={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Fy={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Gy={class:"nxp-ec-admin-panel__sidebar-header"},Vy={id:"customer-modal-title"},Hy=["title","aria-label"],By={class:"nxp-ec-sr-only"},Ky={class:"nxp-ec-admin-panel__section"},jy={class:"nxp-ec-admin-summary"},Jy={class:"nxp-ec-admin-panel__addresses"},Wy={class:"nxp-ec-admin-panel__section"},qy={class:"nxp-ec-admin-address"},zy={class:"nxp-ec-admin-panel__section"},Qy={key:0,class:"nxp-ec-admin-address"},Zy={key:1,class:"nxp-ec-admin-panel__muted"},eR={class:"nxp-ec-admin-panel__section"},tR={key:0,class:"nxp-ec-admin-list"},sR={class:"nxp-ec-admin-list__title"},nR={class:"nxp-ec-admin-list__meta"},oR={key:1,class:"nxp-ec-admin-panel__muted"},aR={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},iR={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},rR={class:"nxp-ec-gdpr-actions"},lR=["disabled","title"],cR=["disabled","title"],dR=yt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=(b,m)=>{const Y=(Number(b)||0)/100,$=(m||"").toUpperCase()||n.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:$}).format(Y)}catch(K){return`${$} ${Y.toFixed(2)}`}},c=b=>{if(!b)return"";const m=new Date(b);return Number.isNaN(m.getTime())?b:m.toLocaleString()},u=b=>!b||typeof b!="object"?[]:Object.entries(b).filter(([,m])=>m!=null&&`${m}`.trim()!=="").map(([m,Y])=>({key:m,value:`${Y}`.trim()})),p=b=>{if(!b)return"";const m=`COM_NXPEASYCART_ORDERS_STATE_${String(b).toUpperCase()}`;return s(m,b)},f=()=>a("refresh"),C=()=>a("search"),d=b=>a("page",b),R=b=>a("view",b),h=()=>a("close"),k=b=>a("gdprExport",b),v=b=>a("gdprAnonymise",b),x=b=>{if(!b)return"";try{const m=new Date(b),$=new Date-m,K=Math.floor($/1e3),z=Math.floor(K/60),ee=Math.floor(z/60);return K<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):z<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[z]):ee<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ee]):m.toLocaleString()}catch(m){return b}};return(b,m)=>{var Y,$,K;return E(),A("section",cy,[o("header",dy,[o("div",null,[o("h2",uy,l(i(s)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),o("p",py,l(i(s)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),o("div",_y,[se(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":m[0]||(m[0]=z=>e.state.search=z),onKeyup:Tt(C,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,fy),[[Ae,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:f,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":i(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[m[5]||(m[5]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",hy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,my)])]),e.state.error?(E(),A("div",gy,l(e.state.error),1)):re("",!0),e.state.loading?(E(),A("div",Ey,[lt(ln,{type:"table",rows:5,columns:5})])):re("",!0),e.state.loading?re("",!0):(E(),A("div",Cy,[o("div",Ay,[o("table",Sy,[o("thead",null,[o("tr",null,[o("th",by,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),o("th",Ty,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),o("th",yy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),o("th",Ry,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),o("th",Oy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),o("tbody",null,[e.state.items.length?re("",!0):(E(),A("tr",xy,[o("td",Py,l(i(s)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(E(!0),A(Ie,null,Ue(e.state.items,z=>{var ee;return E(),A("tr",{key:z.email,class:Ve({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===z.email})},[o("th",Ny,[o("button",{class:"nxp-ec-link-button",type:"button",onClick:Re=>R(z)},l(z.email),9,vy)]),o("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},l(((ee=z.meta)==null?void 0:ee.name)||""),9,My),o("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},l(z.orders_count),9,Iy),o("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},l(r(z.total_spent_cents,z.currency||e.baseCurrency)),9,ky),o("td",{"data-label":i(s)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},l(c(z.last_order)),9,wy)],2)}),128))])]),e.state.pagination.pages>1?(E(),A("div",$y,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:m[1]||(m[1]=z=>d(e.state.pagination.current-1))},"  ",8,Dy),o("span",Ly,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:m[2]||(m[2]=z=>d(e.state.pagination.current+1))},"  ",8,Yy)])):re("",!0)]),e.state.lastUpdated?(E(),A("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(x(e.state.lastUpdated)),9,Uy)):re("",!0),e.state.activeCustomer?(E(),A("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"customer-modal-title",onKeydown:Tt(h,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:h}),o("div",Xy,[o("aside",Fy,[o("header",Gy,[o("h3",Vy,l(e.state.activeCustomer.email),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:h,title:i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[m[6]||(m[6]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",By,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,Hy)]),o("section",Ky,[o("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),o("dl",jy,[o("div",null,[o("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),o("dd",null,l(((Y=e.state.activeCustomer.meta)==null?void 0:Y.name)||""),1)]),o("div",null,[o("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),o("dd",null,l(r(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),o("div",null,[o("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),o("dd",null,l(e.state.activeCustomer.orders_count),1)]),o("div",null,[o("dt",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),o("dd",null,l(c(e.state.activeCustomer.last_order)),1)])])]),o("div",Jy,[o("section",Wy,[o("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),o("address",qy,[(E(!0),A(Ie,null,Ue(u(($=e.state.activeCustomer.meta)==null?void 0:$.billing),z=>(E(),A("span",{key:z.key},l(z.value),1))),128))])]),o("section",zy,[o("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(K=e.state.activeCustomer.meta)!=null&&K.shipping?(E(),A("address",Qy,[(E(!0),A(Ie,null,Ue(u(e.state.activeCustomer.meta.shipping),z=>(E(),A("span",{key:z.key},l(z.value),1))),128))])):(E(),A("p",Zy,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),o("section",eR,[o("h4",null,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(E(),A("ul",tR,[(E(!0),A(Ie,null,Ue(e.state.activeCustomer.orders,z=>(E(),A("li",{key:z.id},[o("div",sR,l(z.order_no)+"  "+l(r(z.total_cents,z.currency||e.baseCurrency)),1),o("div",nR,l(p(z.state))+"  "+l(c(z.created)),1)]))),128))])):(E(),A("p",oR,l(i(s)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),o("section",aR,[o("h4",null,l(i(s)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),o("p",iR,l(i(s)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),o("div",rR,[o("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:m[3]||(m[3]=z=>k(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:i(s)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[m[7]||(m[7]=o("i",{class:"fa-solid fa-download"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,lR),o("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:m[4]||(m[4]=z=>v(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:i(s)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[m[8]||(m[8]=o("i",{class:"fa-solid fa-user-slash"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,cR)]),e.state.gdprMessage?(E(),A("p",{key:0,class:Ve(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},l(e.state.gdprMessage),3)):re("",!0)])])])],32)):re("",!0)]))])}}},[["__scopeId","data-v-2e6c67f3"]]),uR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},pR={class:"nxp-ec-admin-panel__header"},_R={class:"nxp-ec-admin-panel__title"},fR={class:"nxp-ec-admin-panel__lead"},mR={class:"nxp-ec-admin-panel__actions"},hR=["placeholder","aria-label"],gR=["disabled","title","aria-label"],ER={class:"nxp-ec-sr-only"},CR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},AR={key:1,class:"nxp-ec-admin-panel__loading"},SR={key:2,class:"nxp-ec-admin-panel__body"},bR={class:"nxp-ec-admin-panel__table"},TR={class:"nxp-ec-admin-table"},yR={scope:"col"},RR={scope:"col"},OR={scope:"col"},xR={scope:"col"},PR={scope:"col"},NR={scope:"col"},vR={key:0},MR={colspan:"7"},IR={scope:"row",class:"nxp-ec-admin-table__primary"},kR=["data-label"],wR=["data-label"],$R=["data-label"],DR=["data-label"],LR=["data-label"],YR={class:"nxp-ec-admin-table__actions"},UR=["onClick","title","aria-label"],XR={class:"nxp-ec-sr-only"},FR=["onClick","title","aria-label"],GR={class:"nxp-ec-sr-only"},VR=["aria-label"],HR=["disabled","aria-label"],BR={class:"nxp-ec-admin-pagination__status","aria-current":"page"},KR=["disabled","aria-label"],jR={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},JR={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},WR={class:"nxp-ec-admin-panel__sidebar-header"},qR={id:"coupon-modal-title"},zR=["title","aria-label"],QR={class:"nxp-ec-sr-only"},ZR={class:"nxp-ec-form-field"},eO={class:"nxp-ec-form-label",for:"coupon-code"},tO={class:"nxp-ec-form-field"},sO={class:"nxp-ec-form-label",for:"coupon-type"},nO={value:"percent"},oO={value:"fixed"},aO={class:"nxp-ec-form-field"},iO={class:"nxp-ec-form-label",for:"coupon-value"},rO={class:"nxp-ec-form-field"},lO={class:"nxp-ec-form-label",for:"coupon-min-total"},cO={class:"nxp-ec-form-field"},dO={class:"nxp-ec-form-label",for:"coupon-start"},uO={class:"nxp-ec-form-field"},pO={class:"nxp-ec-form-label",for:"coupon-end"},_O={class:"nxp-ec-form-field"},fO={class:"nxp-ec-form-label",for:"coupon-max-uses"},mO={class:"nxp-ec-form-field"},hO={class:"nxp-ec-form-label",for:"coupon-max-uses-per-user"},gO={class:"nxp-ec-form-hint"},EO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},CO={class:"nxp-ec-form-label",for:"coupon-allow-sale-items"},AO={class:"nxp-ec-form-hint"},SO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},bO={class:"nxp-ec-form-label",for:"coupon-active"},TO={class:"nxp-ec-modal__actions"},yO=["disabled"],RO=["disabled"],OO=["disabled"],xO=yt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=be(()=>(n.baseCurrency||"USD").toUpperCase()),c=Qe({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0}),u=be(()=>c.open),p=()=>a("refresh"),f=()=>a("search"),C=Y=>a("page",Y),d=()=>{Object.assign(c,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0})},R=Y=>{var $,K,z;Object.assign(c,{open:!0,id:Y.id,code:Y.code,type:Y.type,value:Y.value,min_total:(K=Y.min_total)!=null?K:(($=Y.min_total_cents)!=null?$:0)/100,start:Y.start?Y.start.substring(0,10):"",end:Y.end?Y.end.substring(0,10):"",max_uses:Y.max_uses,max_uses_per_user:Y.max_uses_per_user,allow_sale_items:(z=Y.allow_sale_items)!=null?z:!0,active:Y.active})},h=()=>{c.open=!1},k=()=>{const Y={id:c.id||void 0,code:c.code,type:c.type,value:c.value,min_total:c.min_total||0,start:c.start||null,end:c.end||null,max_uses:c.max_uses!==null&&c.max_uses!==""?c.max_uses:null,max_uses_per_user:c.max_uses_per_user!==null&&c.max_uses_per_user!==""?c.max_uses_per_user:null,allow_sale_items:c.allow_sale_items,active:c.active};a("save",Y)},v=Y=>{const $=s("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm($)&&(a("delete",[Y.id]),c.id===Y.id&&h())},x=(Y,$)=>{const K=(Number(Y)||0)/100,z=($||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:z}).format(K)}catch(ee){return`${z} ${K.toFixed(2)}`}},b=Y=>Y.type==="percent"?`${Y.value}%`:x(Y.value*100,r.value),m=Y=>Y==="fixed"?s("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):s("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return ot(()=>n.state.saving,(Y,$)=>{$&&!Y&&!n.state.error&&c.open&&h()}),(Y,$)=>(E(),A("section",uR,[o("header",pR,[o("div",null,[o("h2",_R,l(i(s)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),o("p",fR,l(i(s)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),o("div",mR,[se(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:i(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":$[0]||($[0]=K=>e.state.search=K),onKeyup:Tt(f,["enter"]),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,hR),[[Ae,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[$[14]||($[14]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",ER,l(i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,gR),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:d},[$[15]||($[15]=o("i",{class:"fa-solid fa-plus"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(E(),A("div",CR,l(e.state.error),1)):re("",!0),e.state.loading?(E(),A("div",AR,l(i(s)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):re("",!0),e.state.loading?re("",!0):(E(),A("div",SR,[o("div",bR,[o("table",TR,[o("thead",null,[o("tr",null,[o("th",yR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),o("th",RR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),o("th",OR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),o("th",xR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),o("th",PR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),o("th",NR,l(i(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),$[16]||($[16]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?re("",!0):(E(),A("tr",vR,[o("td",MR,l(i(s)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(E(!0),A(Ie,null,Ue(e.state.items,K=>(E(),A("tr",{key:K.id,class:Ve({"is-active":c.id===K.id})},[o("th",IR,l(K.code),1),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},l(m(K.type)),9,kR),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},l(b(K)),9,wR),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},l(x(K.min_total_cents,r.value)),9,$R),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[o("span",{class:Ve(["nxp-ec-badge",{"is-active":K.active}])},[o("i",{class:Ve(K.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),we(" "+l(K.active?i(s)("JYES","Yes"):i(s)("JNO","No")),1)],2)],8,DR),o("td",{"data-label":i(s)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},l(K.times_used)+l(K.max_uses?` / ${K.max_uses}`:""),9,LR),o("td",YR,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:z=>R(K),title:i(s)("JEDIT","Edit"),"aria-label":i(s)("JEDIT","Edit")},[$[17]||($[17]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",XR,l(i(s)("JEDIT","Edit")),1)],8,UR),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:z=>v(K),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[$[18]||($[18]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",GR,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,FR)])],2))),128))])]),e.state.pagination.pages>1?(E(),A("nav",{key:0,class:"nxp-ec-admin-pagination","aria-label":i(s)("COM_NXPEASYCART_PAGINATION","Pagination")},[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:$[1]||($[1]=K=>C(e.state.pagination.current-1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,HR),o("span",BR,l(e.state.pagination.current)+" / "+l(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:$[2]||($[2]=K=>C(e.state.pagination.current+1)),"aria-label":i(s)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,KR)],8,VR)):re("",!0)]),u.value?(E(),A("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"coupon-modal-title",onKeydown:Tt(h,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:h}),o("div",jR,[o("aside",JR,[o("header",WR,[o("h3",qR,l(c.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:h,title:i(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[$[19]||($[19]=o("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),o("span",QR,l(i(s)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,zR)]),o("form",{class:"nxp-ec-form",onSubmit:bt(k,["prevent"]),autocomplete:"off"},[o("div",ZR,[o("label",eO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),se(o("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[3]||($[3]=K=>c.code=K),required:"",maxlength:"64"},null,512),[[Ae,c.code,void 0,{trim:!0}]])]),o("div",tO,[o("label",sO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),se(o("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":$[4]||($[4]=K=>c.type=K)},[o("option",nO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),o("option",oO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[ft,c.type]])]),o("div",aO,[o("label",iO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),se(o("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$[5]||($[5]=K=>c.value=K),required:""},null,512),[[Ae,c.value,void 0,{number:!0}]])]),o("div",rO,[o("label",lO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),se(o("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":$[6]||($[6]=K=>c.min_total=K)},null,512),[[Ae,c.min_total,void 0,{number:!0}]])]),o("div",cO,[o("label",dO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),se(o("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":$[7]||($[7]=K=>c.start=K)},null,512),[[Ae,c.start]])]),o("div",uO,[o("label",pO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),se(o("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":$[8]||($[8]=K=>c.end=K)},null,512),[[Ae,c.end]])]),o("div",_O,[o("label",fO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),se(o("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":$[9]||($[9]=K=>c.max_uses=K)},null,512),[[Ae,c.max_uses,void 0,{number:!0}]])]),o("div",mO,[o("label",hO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER","Max uses per user",[],"couponsFormMaxUsesPerUser")),1),se(o("input",{id:"coupon-max-uses-per-user",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":$[10]||($[10]=K=>c.max_uses_per_user=K)},null,512),[[Ae,c.max_uses_per_user,void 0,{number:!0}]]),o("small",gO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER_HINT","Limit how many times a single user or email can use this coupon. Leave empty for unlimited.",[],"couponsFormMaxUsesPerUserHint")),1)]),o("div",EO,[o("label",CO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS","Allow on sale items",[],"couponsFormAllowSaleItems")),1),se(o("input",{id:"coupon-allow-sale-items",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":$[11]||($[11]=K=>c.allow_sale_items=K)},null,512),[[ut,c.allow_sale_items]]),o("small",AO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS_HINT","When disabled, this coupon cannot be applied if the cart contains items currently on sale.",[],"couponsFormAllowSaleItemsHint")),1)]),o("div",SO,[o("label",bO,l(i(s)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),se(o("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":$[12]||($[12]=K=>c.active=K)},null,512),[[ut,c.active]])]),o("footer",TO,[o("button",{class:"nxp-ec-btn",type:"button",onClick:h,disabled:e.state.saving},l(i(s)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,yO),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},l(e.state.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,RO)]),c.id?(E(),A("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:$[13]||($[13]=K=>v(c)),disabled:e.state.saving},[$[20]||($[20]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,OO)):re("",!0)],32)])])],32)):re("",!0)]))]))}},[["__scopeId","data-v-f9ade401"]]),PO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},NO={class:"nxp-ec-admin-panel__header"},vO={class:"nxp-ec-admin-panel__title"},MO={class:"nxp-ec-admin-panel__lead"},IO={class:"nxp-ec-settings-tabs"},kO={key:0,class:"nxp-ec-settings-panel"},wO={class:"nxp-ec-settings-panel__header"},$O=["disabled"],DO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},LO={key:1,class:"nxp-ec-admin-panel__loading"},YO={class:"nxp-ec-form-field"},UO={class:"nxp-ec-form-label",for:"settings-store-name"},XO={class:"nxp-ec-form-field"},FO={class:"nxp-ec-form-label",for:"settings-store-email"},GO={class:"nxp-ec-form-field"},VO={class:"nxp-ec-form-label",for:"settings-store-phone"},HO={class:"nxp-ec-form-field"},BO={class:"nxp-ec-form-label",for:"settings-base-currency"},KO=["value"],jO={class:"nxp-ec-form-help"},JO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},WO={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},qO={class:"nxp-ec-form-help"},zO={class:"nxp-ec-form-field"},QO={class:"nxp-ec-form-label",for:"settings-display-locale"},ZO={class:"nxp-ec-form-help"},ex={class:"nxp-ec-form-field"},tx={class:"nxp-ec-form-label",for:"settings-category-page-size"},sx={class:"nxp-ec-form-help"},nx={class:"nxp-ec-form-field"},ox={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},ax={value:"paged"},ix={value:"infinite"},rx={class:"nxp-ec-form-help"},lx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},cx={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},dx={class:"nxp-ec-form-help"},ux={class:"nxp-ec-form-field nxp-ec-form-field--inline"},px={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},_x={class:"nxp-ec-form-help"},fx={key:0,class:"nxp-ec-form-field"},mx={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},hx={class:"nxp-ec-form-help"},gx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Ex={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},Cx={class:"nxp-ec-form-help"},Ax={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Sx={class:"nxp-ec-settings-actions"},bx=["disabled"],Tx=["disabled"],yx={key:1,class:"nxp-ec-settings-panel"},Rx={class:"nxp-ec-settings-panel__header"},Ox=["disabled"],xx={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Px={key:1,class:"nxp-ec-admin-panel__loading"},Nx={class:"nxp-ec-form-grid"},vx={class:"nxp-ec-form-field"},Mx={class:"nxp-ec-form-label",for:"settings-digital-max"},Ix={class:"nxp-ec-form-help"},kx={class:"nxp-ec-form-field"},wx={class:"nxp-ec-form-label",for:"settings-digital-expiry"},$x={class:"nxp-ec-form-help"},Dx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Lx={class:"nxp-ec-form-label",for:"settings-digital-fulfill"},Yx={class:"nxp-ec-form-help"},Ux={class:"nxp-ec-form-field"},Xx={class:"nxp-ec-form-label",for:"settings-digital-max-size"},Fx={class:"nxp-ec-form-help"},Gx={class:"nxp-ec-form-field"},Vx={class:"nxp-ec-form-label",for:"settings-digital-storage"},Hx={class:"nxp-ec-form-help"},Bx={class:"nxp-ec-form-section"},Kx={class:"nxp-ec-form-section__title"},jx={class:"nxp-ec-form-help",style:{"margin-bottom":"1rem"}},Jx={class:"nxp-ec-filetypes-actions"},Wx={class:"nxp-ec-filetypes-grid"},qx={class:"nxp-ec-filetypes-category__title"},zx={class:"nxp-ec-filetypes-category__list"},Qx=["value"],Zx={class:"nxp-ec-filetypes-item__label"},e1={class:"nxp-ec-form-field",style:{"margin-top":"1.5rem"}},t1={class:"nxp-ec-form-label",for:"settings-digital-custom-ext"},s1={class:"nxp-ec-form-help nxp-ec-form-help--warning"},n1={class:"nxp-ec-settings-actions"},o1=["disabled"],a1={key:2,class:"nxp-ec-settings-panel"},i1={class:"nxp-ec-settings-panel__header"},r1=["disabled"],l1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},c1={class:"nxp-ec-form-help"},d1={class:"nxp-ec-form-grid"},u1={class:"nxp-ec-form-field"},p1={class:"nxp-ec-form-label",for:"settings-checkout-window"},_1={class:"nxp-ec-form-help"},f1={class:"nxp-ec-form-field"},m1={class:"nxp-ec-form-label",for:"settings-offline-window"},h1={class:"nxp-ec-form-help"},g1={class:"nxp-ec-form-grid"},E1={class:"nxp-ec-form-field"},C1={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},A1={class:"nxp-ec-form-field"},S1={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},b1={class:"nxp-ec-form-field"},T1={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},y1={class:"nxp-ec-form-grid"},R1={class:"nxp-ec-form-field"},O1={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},x1={class:"nxp-ec-form-field"},P1={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},N1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},v1={class:"nxp-ec-settings-actions"},M1=["disabled"],I1=["disabled"],k1={key:3,class:"nxp-ec-settings-panel"},w1={class:"nxp-ec-settings-panel__header"},$1={class:"nxp-ec-settings-actions"},D1=["disabled"],L1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Y1={key:1,class:"nxp-ec-admin-panel__loading"},U1={class:"nxp-ec-form-field"},X1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},F1={class:"nxp-ec-form-field"},G1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},V1={class:"nxp-ec-form-field"},H1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},B1={class:"nxp-ec-form-help"},K1={class:"nxp-ec-form-field"},j1={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},J1={value:"test"},W1={value:"live"},q1={class:"nxp-ec-form-field"},z1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},Q1={class:"nxp-ec-form-field"},Z1={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},eP={class:"nxp-ec-form-field"},tP={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},sP={class:"nxp-ec-form-help"},nP={class:"nxp-ec-form-field"},oP={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},aP={value:"sandbox"},iP={value:"live"},rP={class:"nxp-ec-form-field nxp-ec-form-field--inline"},lP={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},cP={class:"nxp-ec-form-field"},dP={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},uP={class:"nxp-ec-form-field nxp-ec-form-field--inline"},pP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},_P={class:"nxp-ec-form-field"},fP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},mP={class:"nxp-ec-form-field"},hP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},gP=["placeholder"],EP={class:"nxp-ec-form-help"},CP={class:"nxp-ec-form-grid"},AP={class:"nxp-ec-form-field"},SP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},bP={class:"nxp-ec-form-field"},TP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},yP={class:"nxp-ec-form-field"},RP={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},OP={class:"nxp-ec-form-field nxp-ec-form-field--inline"},xP={class:"nxp-ec-form-label",for:"settings-payments-configured"},PP={class:"nxp-ec-form-help"},NP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},vP={class:"nxp-ec-settings-actions"},MP=["disabled"],IP=["disabled"],kP={key:4,class:"nxp-ec-settings-panel"},wP={class:"nxp-ec-settings-panel__header"},$P=["disabled"],DP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},LP={key:1,class:"nxp-ec-admin-panel__loading"},YP={class:"nxp-ec-form-help"},UP={class:"nxp-ec-form-help nxp-ec-form-help--muted"},XP={class:"nxp-ec-visual-grid"},FP={class:"nxp-ec-visual-field"},GP={class:"nxp-ec-form-label",for:"visual-primary-color"},VP={class:"nxp-ec-color-input-group"},HP=["value"],BP=["placeholder"],KP={class:"nxp-ec-visual-field"},jP={class:"nxp-ec-form-label",for:"visual-text-color"},JP={class:"nxp-ec-color-input-group"},WP=["value"],qP=["placeholder"],zP={class:"nxp-ec-visual-field"},QP={class:"nxp-ec-form-label",for:"visual-surface-color"},ZP={class:"nxp-ec-color-input-group"},eN=["value"],tN=["placeholder"],sN={class:"nxp-ec-visual-field"},nN={class:"nxp-ec-form-label",for:"visual-border-color"},oN={class:"nxp-ec-color-input-group"},aN=["value"],iN=["placeholder"],rN={class:"nxp-ec-visual-field"},lN={class:"nxp-ec-form-label",for:"visual-muted-color"},cN={class:"nxp-ec-color-input-group"},dN=["value"],uN=["placeholder"],pN={class:"nxp-ec-visual-preview"},_N={type:"button",class:"nxp-ec-preview-btn"},fN={class:"nxp-ec-preview-text"},mN={class:"nxp-ec-preview-muted"},hN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},gN={class:"nxp-ec-settings-actions"},EN=["disabled"],CN=["disabled"],AN=yt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=n.settingsState,c=n.paymentsState,p=qe(["general","digital","security","payments","visual"].includes(n.initialTab)?n.initialTab:"general");be(()=>{var le;const y=n.baseCurrency||"USD",g=typeof f.baseCurrency=="string"?f.baseCurrency.trim():"",S=typeof((le=r==null?void 0:r.values)==null?void 0:le.base_currency)=="string"?r.values.base_currency.trim():"";return(g!==""?g:S!==""?S:y).toUpperCase()});const f=Qe({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1,digitalMaxDownloads:5,digitalExpiryDays:30,digitalStoragePath:"",digitalAutoFulfill:!0,digitalMaxFileSize:200,digitalAllowedExtensions:[],digitalCustomExtensions:""}),C=qe({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]}),d=()=>Object.values(C.value).flat(),R=y=>{var le,ye;const g=(le=y==null?void 0:y.digital)!=null?le:{},S=(ye=g.file_type_categories)!=null?ye:C.value;if(Array.isArray(g.allowed_extensions))return[...g.allowed_extensions];const B=[];for(const[Pe,J]of Object.entries(S))Pe!=="installers"&&B.push(...J);return B},h=y=>{var S;return(S={archives:"Archives",audio:"Audio",video:"Video",images:"Images",documents:"Documents",ebooks:"E-books",installers:"Installers"}[y])!=null?S:y.charAt(0).toUpperCase()+y.slice(1)},k=()=>{f.digitalAllowedExtensions=d()},v=()=>{f.digitalAllowedExtensions=[]},x=Qe({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),b=Qe({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),m=Qe({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),Y=be(()=>{var g,S;const y=(S=(g=r.values)==null?void 0:g.visual_defaults)!=null?S:{};return{primary:y.primary_color||"#4f6d7a",text:y.text_color||"#1f2933",surface:y.surface_color||"#ffffff",border:y.border_color||"#e4e7ec",muted:y.muted_color||"#6b7280"}}),$=be(()=>{var y,g;return(g=(y=r.values)==null?void 0:y.currencies)!=null?g:[]}),K=be(()=>({"--nxp-ec-color-primary":m.primaryColor||Y.value.primary,"--nxp-ec-color-text":m.textColor||Y.value.text,"--nxp-ec-color-surface":m.surfaceColor||Y.value.surface,"--nxp-ec-color-border":m.borderColor||Y.value.border,"--nxp-ec-color-muted":m.mutedColor||Y.value.muted})),z=(y={})=>{var ye,Pe,J,ge,Me,Xe,T,N,G,ne,te,ae,q,j,Z,H,pe,ie,ce,Ee;const g=(ye=y==null?void 0:y.store)!=null?ye:{},S=(Pe=y==null?void 0:y.payments)!=null?Pe:{},B=(J=y==null?void 0:y.visual)!=null?J:{},le=(Me=(ge=y==null?void 0:y.security)==null?void 0:ge.rate_limits)!=null?Me:{};Object.assign(f,{storeName:(Xe=g.name)!=null?Xe:"",storeEmail:(T=g.email)!=null?T:"",storePhone:(N=g.phone)!=null?N:"",checkoutPhoneRequired:!!((G=y==null?void 0:y.checkout_phone_required)!=null&&G),paymentsConfigured:!!S.configured,autoSendOrderEmails:!!((ne=y==null?void 0:y.auto_send_order_emails)!=null&&ne),baseCurrency:typeof(y==null?void 0:y.base_currency)=="string"?y.base_currency.trim().toUpperCase():(n.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(y==null?void 0:y.display_locale)=="string"?y.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(y==null?void 0:y.category_page_size))?Number(y.category_page_size):12,categoryPaginationMode:(y==null?void 0:y.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((te=y==null?void 0:y.stale_order_cleanup_enabled)!=null&&te),staleOrderHours:Number.isFinite(Number(y==null?void 0:y.stale_order_hours))?Math.max(1,Math.min(720,Number(y.stale_order_hours))):48,showAdvancedMode:!!((ae=y==null?void 0:y.show_advanced_mode)!=null&&ae),digitalMaxDownloads:Number.isFinite(Number(y==null?void 0:y.digital_download_max))?Math.max(0,Number(y.digital_download_max)):5,digitalExpiryDays:Number.isFinite(Number(y==null?void 0:y.digital_download_expiry))?Math.max(0,Number(y.digital_download_expiry)):30,digitalStoragePath:typeof(y==null?void 0:y.digital_storage_path)=="string"?y.digital_storage_path:"",digitalAutoFulfill:!!((q=y==null?void 0:y.digital_auto_fulfill)==null||q),digitalMaxFileSize:Number.isFinite(Number(y==null?void 0:y.digital_max_file_size))?Math.max(1,Math.min(2048,Number(y.digital_max_file_size))):200,digitalAllowedExtensions:R(y),digitalCustomExtensions:typeof((j=y==null?void 0:y.digital)==null?void 0:j.custom_extensions)=="string"?y.digital.custom_extensions:""}),(Z=y==null?void 0:y.digital)!=null&&Z.file_type_categories&&(C.value=y.digital.file_type_categories),Object.assign(m,{primaryColor:(H=B.primary_color)!=null?H:"",textColor:(pe=B.text_color)!=null?pe:"",surfaceColor:(ie=B.surface_color)!=null?ie:"",borderColor:(ce=B.border_color)!=null?ce:"",mutedColor:(Ee=B.muted_color)!=null?Ee:""}),Object.assign(x,{checkoutWindowMinutes:Number.isFinite(Number(le.checkout_window_minutes))?Number(le.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(le.checkout_ip_limit))?Number(le.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(le.checkout_email_limit))?Number(le.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(le.checkout_session_limit))?Number(le.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(le.offline_window_minutes))?Number(le.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(le.offline_ip_limit))?Number(le.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(le.offline_email_limit))?Number(le.offline_email_limit):5})},ee=(y={})=>{var ye,Pe,J,ge,Me,Xe,T,N,G,ne,te,ae,q,j,Z,H,pe,ie,ce,Ee,Oe,P,L,_e;const g=(ye=y.stripe)!=null?ye:{},S=(Pe=y.paypal)!=null?Pe:{},B=(J=y.cod)!=null?J:{},le=(ge=y.bank_transfer)!=null?ge:{};Object.assign(b.stripe,{publishable_key:(Me=g.publishable_key)!=null?Me:"",secret_key:(Xe=g.secret_key)!=null?Xe:"",webhook_secret:(T=g.webhook_secret)!=null?T:"",mode:(N=g.mode)!=null?N:"test"}),Object.assign(b.paypal,{client_id:(G=S.client_id)!=null?G:"",client_secret:(ne=S.client_secret)!=null?ne:"",webhook_id:(te=S.webhook_id)!=null?te:"",mode:(ae=S.mode)!=null?ae:"sandbox"}),Object.assign(b.cod,{enabled:B.enabled!==void 0?!!B.enabled:b.cod.enabled,label:(j=(q=B.label)!=null?q:b.cod.label)!=null?j:"Cash on delivery"}),Object.assign(b.bank_transfer,{enabled:le.enabled!==void 0?!!le.enabled:b.bank_transfer.enabled,label:(H=(Z=le.label)!=null?Z:b.bank_transfer.label)!=null?H:"Bank transfer",instructions:(ie=(pe=le.instructions)!=null?pe:b.bank_transfer.instructions)!=null?ie:"",account_name:(Ee=(ce=le.account_name)!=null?ce:b.bank_transfer.account_name)!=null?Ee:"",iban:(P=(Oe=le.iban)!=null?Oe:b.bank_transfer.iban)!=null?P:"",bic:(_e=(L=le.bic)!=null?L:b.bank_transfer.bic)!=null?_e:""})};ot(()=>r.values,y=>{z(y!=null?y:{})},{immediate:!0});const Re=()=>a("refresh-settings"),ke=()=>{const y=(f.baseCurrency||"").trim().toUpperCase(),g=(f.displayLocale||"").trim();a("save-settings",{store:{name:f.storeName,email:f.storeEmail,phone:f.storePhone,base_currency:y},payments:{configured:f.paymentsConfigured},base_currency:y,display_locale:g,checkout_phone_required:f.checkoutPhoneRequired,auto_send_order_emails:f.autoSendOrderEmails,category_page_size:Number.isFinite(Number(f.categoryPageSize))?Number(f.categoryPageSize):12,category_pagination_mode:f.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!f.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(f.staleOrderHours))?Math.max(1,Math.min(720,Number(f.staleOrderHours))):48,show_advanced_mode:!!f.showAdvancedMode})},M=()=>{var y;z((y=r.values)!=null?y:{})},De=()=>{const y=Number.isFinite(Number(f.digitalMaxDownloads))?Math.max(0,Number(f.digitalMaxDownloads)):0,g=Number.isFinite(Number(f.digitalExpiryDays))?Math.max(0,Number(f.digitalExpiryDays)):0,S=(f.digitalStoragePath||"").trim(),B=Number.isFinite(Number(f.digitalMaxFileSize))?Math.max(1,Math.min(2048,Number(f.digitalMaxFileSize))):200,le=d(),ye=f.digitalAllowedExtensions||[],J=le.length===ye.length&&le.every(Me=>ye.includes(Me))?null:[...ye],ge=(f.digitalCustomExtensions||"").trim();a("save-settings",{digital:{max_downloads:y,expiry_days:g,storage_path:S,auto_fulfill:!!f.digitalAutoFulfill,max_file_size:B,allowed_extensions:J,custom_extensions:ge}})},$e=()=>{var y;z((y=r.values)!=null?y:{})},ve=()=>{const y=(g,S=0)=>{const B=Number(g);return Number.isFinite(B)&&B>=0?B:S};a("save-settings",{security:{rate_limits:{checkout_window_minutes:y(x.checkoutWindowMinutes,15),checkout_ip_limit:y(x.checkoutIpLimit,10),checkout_email_limit:y(x.checkoutEmailLimit,5),checkout_session_limit:y(x.checkoutSessionLimit,15),offline_window_minutes:y(x.offlineWindowMinutes,240),offline_ip_limit:y(x.offlineIpLimit,10),offline_email_limit:y(x.offlineEmailLimit,5)}}})},oe=()=>{var y;z((y=r.values)!=null?y:{})};ot(()=>r.saving,(y,g)=>{var S;g&&!y&&!r.error&&z((S=r.values)!=null?S:{})}),ot(()=>c.config,y=>{ee(y!=null?y:{})},{immediate:!0}),ot(()=>c.saving,(y,g)=>{var S;g&&!y&&!c.error&&ee((S=c.config)!=null?S:{})});const Se=()=>a("refresh-payments"),Ce=()=>{const y=JSON.parse(JSON.stringify(b));a("save-payments",y),a("save-settings",{payments:{configured:f.paymentsConfigured}})},D=()=>{var y;ee((y=c.config)!=null?y:{})},I=()=>a("refresh-settings"),U=()=>{a("save-settings",{visual:{primary_color:m.primaryColor,text_color:m.textColor,surface_color:m.surfaceColor,border_color:m.borderColor,muted_color:m.mutedColor}})},Q=()=>{var g,S,B,le,ye,Pe,J;const y=(S=(g=r.values)==null?void 0:g.visual)!=null?S:{};Object.assign(m,{primaryColor:(B=y.primary_color)!=null?B:"",textColor:(le=y.text_color)!=null?le:"",surfaceColor:(ye=y.surface_color)!=null?ye:"",borderColor:(Pe=y.border_color)!=null?Pe:"",mutedColor:(J=y.muted_color)!=null?J:""})};return(y,g)=>(E(),A("section",PO,[o("header",NO,[o("div",null,[o("h2",vO,l(i(s)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),o("p",MO,l(i(s)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),o("nav",IO,[o("button",{type:"button",class:Ve(["nxp-ec-settings-tab",{"is-active":p.value==="general"}]),onClick:g[0]||(g[0]=S=>p.value="general")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),o("button",{type:"button",class:Ve(["nxp-ec-settings-tab",{"is-active":p.value==="digital"}]),onClick:g[1]||(g[1]=S=>p.value="digital")},l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital")),3),f.showAdvancedMode?(E(),A("button",{key:0,type:"button",class:Ve(["nxp-ec-settings-tab",{"is-active":p.value==="security"}]),onClick:g[2]||(g[2]=S=>p.value="security")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):re("",!0),o("button",{type:"button",class:Ve(["nxp-ec-settings-tab",{"is-active":p.value==="payments"}]),onClick:g[3]||(g[3]=S=>p.value="payments")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),o("button",{type:"button",class:Ve(["nxp-ec-settings-tab",{"is-active":p.value==="visual"}]),onClick:g[4]||(g[4]=S=>p.value="visual")},l(i(s)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),p.value==="general"?(E(),A("div",kO,[o("header",wO,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:Re,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,$O)]),i(r).error?(E(),A("div",DO,l(i(r).error),1)):i(r).loading?(E(),A("div",LO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(E(),A("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:bt(ke,["prevent"])},[o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),o("div",YO,[o("label",UO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),se(o("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[5]||(g[5]=S=>f.storeName=S),maxlength:"190"},null,512),[[Ae,f.storeName,void 0,{trim:!0}]])]),o("div",XO,[o("label",FO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),se(o("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":g[6]||(g[6]=S=>f.storeEmail=S)},null,512),[[Ae,f.storeEmail,void 0,{trim:!0}]])]),o("div",GO,[o("label",VO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),se(o("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[7]||(g[7]=S=>f.storePhone=S),maxlength:"64"},null,512),[[Ae,f.storePhone,void 0,{trim:!0}]])])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),o("div",HO,[o("label",BO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),se(o("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":g[8]||(g[8]=S=>f.baseCurrency=S),required:""},[(E(!0),A(Ie,null,Ue($.value,S=>(E(),A("option",{key:S.code,value:S.code},l(S.label),9,KO))),128))],512),[[ft,f.baseCurrency]]),o("p",jO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),o("div",JO,[o("label",WO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),se(o("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[9]||(g[9]=S=>f.checkoutPhoneRequired=S)},null,512),[[ut,f.checkoutPhoneRequired]]),o("p",qO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),o("div",zO,[o("label",QO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),se(o("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[10]||(g[10]=S=>f.displayLocale=S),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[Ae,f.displayLocale,void 0,{trim:!0}]]),o("p",ZO,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),o("div",ex,[o("label",tx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),se(o("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":g[11]||(g[11]=S=>f.categoryPageSize=S)},null,512),[[Ae,f.categoryPageSize,void 0,{number:!0}]]),o("p",sx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),o("div",nx,[o("label",ox,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),se(o("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":g[12]||(g[12]=S=>f.categoryPaginationMode=S)},[o("option",ax,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),o("option",ix,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[ft,f.categoryPaginationMode]]),o("p",rx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),o("div",lx,[o("label",cx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),se(o("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[13]||(g[13]=S=>f.autoSendOrderEmails=S)},null,512),[[ut,f.autoSendOrderEmails]]),o("p",dx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),o("div",ux,[o("label",px,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),se(o("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[14]||(g[14]=S=>f.staleOrderCleanupEnabled=S)},null,512),[[ut,f.staleOrderCleanupEnabled]]),o("p",_x,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),f.staleOrderCleanupEnabled?(E(),A("div",fx,[o("label",mx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),se(o("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":g[15]||(g[15]=S=>f.staleOrderHours=S)},null,512),[[Ae,f.staleOrderHours,void 0,{number:!0}]]),o("p",hx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):re("",!0)]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),o("div",gx,[o("label",Ex,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),se(o("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[16]||(g[16]=S=>f.showAdvancedMode=S)},null,512),[[ut,f.showAdvancedMode]]),o("p",Cx,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),i(r).message?(E(),A("div",Ax,l(i(r).message),1)):re("",!0),o("div",Sx,[o("button",{class:"nxp-ec-btn",type:"button",onClick:M,disabled:i(r).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,bx),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,Tx)])],32))])):p.value==="digital"?(E(),A("div",yx,[o("header",Rx,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital products")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:Re,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh")),9,Ox)]),i(r).error?(E(),A("div",xx,l(i(r).error),1)):i(r).loading?(E(),A("div",Px,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings")),1)):(E(),A("form",{key:2,class:"nxp-ec-settings-form",onSubmit:bt(De,["prevent"])},[o("div",Nx,[o("div",vx,[o("label",Mx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS","Default max downloads")),1),se(o("input",{id:"settings-digital-max",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[17]||(g[17]=S=>f.digitalMaxDownloads=S)},null,512),[[Ae,f.digitalMaxDownloads,void 0,{number:!0}]]),o("p",Ix,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS_DESC","Maximum downloads allowed per purchase (0 for unlimited).")),1)]),o("div",kx,[o("label",wx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY","Download link expiry (days)")),1),se(o("input",{id:"settings-digital-expiry",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[18]||(g[18]=S=>f.digitalExpiryDays=S)},null,512),[[Ae,f.digitalExpiryDays,void 0,{number:!0}]]),o("p",$x,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY_DESC","Number of days before links expire (0 for no expiry).")),1)]),o("div",Dx,[o("label",Lx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL","Auto-fulfill digital orders")),1),se(o("input",{id:"settings-digital-fulfill",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[19]||(g[19]=S=>f.digitalAutoFulfill=S)},null,512),[[ut,f.digitalAutoFulfill]]),o("p",Yx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL_DESC","Mark digital-only orders fulfilled after payment.")),1)]),o("div",Ux,[o("label",Xx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE","Max file size (MB)")),1),se(o("input",{id:"settings-digital-max-size",class:"nxp-ec-form-input",type:"number",min:"1",max:"2048",step:"1","onUpdate:modelValue":g[20]||(g[20]=S=>f.digitalMaxFileSize=S)},null,512),[[Ae,f.digitalMaxFileSize,void 0,{number:!0}]]),o("p",Fx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE_DESC","Maximum upload size per file in megabytes (1-2048 MB).")),1)]),o("div",Gx,[o("label",Vx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH","Storage path")),1),se(o("input",{id:"settings-digital-storage",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[21]||(g[21]=S=>f.digitalStoragePath=S),maxlength:"250"},null,512),[[Ae,f.digitalStoragePath,void 0,{trim:!0}]]),o("p",Hx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH_DESC","Protected directory for digital files. Adjust only if you know the server path.")),1)])]),o("div",Bx,[o("h4",Kx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES","Allowed File Types")),1),o("p",jx,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES_DESC","Select which file types can be uploaded as digital products.")),1),o("div",Jx,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm",onClick:k},l(i(s)("COM_NXPEASYCART_SELECT_ALL","Select All")),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-btn--link",onClick:v},l(i(s)("COM_NXPEASYCART_SELECT_NONE","Select None")),1)]),o("div",Wx,[(E(!0),A(Ie,null,Ue(C.value,(S,B)=>(E(),A("div",{key:B,class:"nxp-ec-filetypes-category"},[o("h5",qx,l(h(B)),1),o("div",zx,[(E(!0),A(Ie,null,Ue(S,le=>(E(),A("label",{key:le,class:"nxp-ec-filetypes-item"},[se(o("input",{type:"checkbox",value:le,"onUpdate:modelValue":g[22]||(g[22]=ye=>f.digitalAllowedExtensions=ye),class:"nxp-ec-filetypes-item__checkbox"},null,8,Qx),[[ut,f.digitalAllowedExtensions]]),o("span",Zx,"."+l(le),1)]))),128))])]))),128))]),o("div",e1,[o("label",t1,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS","Custom Extensions")),1),se(o("input",{id:"settings-digital-custom-ext",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[23]||(g[23]=S=>f.digitalCustomExtensions=S),placeholder:"blend, psd, ai, sketch"},null,512),[[Ae,f.digitalCustomExtensions,void 0,{trim:!0}]]),o("p",s1,l(i(s)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS_DESC","Comma-separated list of additional extensions. These bypass MIME validation - use only for trusted uploads.")),1)])]),o("div",n1,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:$e},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_RESET","Reset")),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("JSAVE","Save")),9,o1)])],32))])):p.value==="security"&&f.showAdvancedMode?(E(),A("div",a1,[o("header",i1,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:Re,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,r1)]),i(r).error?(E(),A("div",l1,l(i(r).error),1)):(E(),A("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:bt(ve,["prevent"])},[o("p",c1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),o("div",d1,[o("div",u1,[o("label",p1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),se(o("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[24]||(g[24]=S=>x.checkoutWindowMinutes=S)},null,512),[[Ae,x.checkoutWindowMinutes,void 0,{number:!0}]]),o("p",_1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),o("div",f1,[o("label",m1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),se(o("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[25]||(g[25]=S=>x.offlineWindowMinutes=S)},null,512),[[Ae,x.offlineWindowMinutes,void 0,{number:!0}]]),o("p",h1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),o("div",g1,[o("div",E1,[o("label",C1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),se(o("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[26]||(g[26]=S=>x.checkoutIpLimit=S)},null,512),[[Ae,x.checkoutIpLimit,void 0,{number:!0}]])]),o("div",A1,[o("label",S1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),se(o("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[27]||(g[27]=S=>x.checkoutEmailLimit=S)},null,512),[[Ae,x.checkoutEmailLimit,void 0,{number:!0}]])]),o("div",b1,[o("label",T1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),se(o("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[28]||(g[28]=S=>x.checkoutSessionLimit=S)},null,512),[[Ae,x.checkoutSessionLimit,void 0,{number:!0}]])])]),o("div",y1,[o("div",R1,[o("label",O1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),se(o("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[29]||(g[29]=S=>x.offlineIpLimit=S)},null,512),[[Ae,x.offlineIpLimit,void 0,{number:!0}]])]),o("div",x1,[o("label",P1,l(i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),se(o("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[30]||(g[30]=S=>x.offlineEmailLimit=S)},null,512),[[Ae,x.offlineEmailLimit,void 0,{number:!0}]])])]),i(r).message?(E(),A("div",N1,l(i(r).message),1)):re("",!0),o("div",v1,[o("button",{class:"nxp-ec-btn",type:"button",onClick:oe,disabled:i(r).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,M1),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,I1)])],32))])):p.value==="payments"?(E(),A("div",k1,[o("header",w1,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),o("div",$1,[o("button",{class:"nxp-ec-btn",type:"button",onClick:Se,disabled:i(c).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,D1)])]),i(c).error?(E(),A("div",L1,l(i(c).error),1)):i(c).loading?(E(),A("div",Y1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(E(),A("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:bt(Ce,["prevent"])},[o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),o("div",U1,[o("label",X1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),se(o("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[31]||(g[31]=S=>b.stripe.publishable_key=S)},null,512),[[Ae,b.stripe.publishable_key,void 0,{trim:!0}]])]),o("div",F1,[o("label",G1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),se(o("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":g[32]||(g[32]=S=>b.stripe.secret_key=S),autocomplete:"off"},null,512),[[Ae,b.stripe.secret_key,void 0,{trim:!0}]])]),o("div",V1,[o("label",H1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),se(o("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":g[33]||(g[33]=S=>b.stripe.webhook_secret=S),autocomplete:"off"},null,512),[[Ae,b.stripe.webhook_secret,void 0,{trim:!0}]]),o("p",B1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),o("div",K1,[o("label",j1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),se(o("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":g[34]||(g[34]=S=>b.stripe.mode=S)},[o("option",J1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),o("option",W1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ft,b.stripe.mode]])])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),o("div",q1,[o("label",z1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),se(o("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[35]||(g[35]=S=>b.paypal.client_id=S)},null,512),[[Ae,b.paypal.client_id,void 0,{trim:!0}]])]),o("div",Q1,[o("label",Z1,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),se(o("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":g[36]||(g[36]=S=>b.paypal.client_secret=S),autocomplete:"off"},null,512),[[Ae,b.paypal.client_secret,void 0,{trim:!0}]])]),o("div",eP,[o("label",tP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),se(o("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[37]||(g[37]=S=>b.paypal.webhook_id=S)},null,512),[[Ae,b.paypal.webhook_id,void 0,{trim:!0}]]),o("p",sP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),o("div",nP,[o("label",oP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),se(o("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":g[38]||(g[38]=S=>b.paypal.mode=S)},[o("option",aP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),o("option",iP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ft,b.paypal.mode]])])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),o("div",rP,[o("label",lP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),se(o("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":g[39]||(g[39]=S=>b.cod.enabled=S)},null,512),[[ut,b.cod.enabled]])]),o("div",cP,[o("label",dP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),se(o("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[40]||(g[40]=S=>b.cod.label=S),placeholder:"Cash on delivery"},null,512),[[Ae,b.cod.label,void 0,{trim:!0}]])])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),o("div",uP,[o("label",pP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),se(o("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":g[41]||(g[41]=S=>b.bank_transfer.enabled=S)},null,512),[[ut,b.bank_transfer.enabled]])]),o("div",_P,[o("label",fP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),se(o("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[42]||(g[42]=S=>b.bank_transfer.label=S),placeholder:"Bank transfer"},null,512),[[Ae,b.bank_transfer.label,void 0,{trim:!0}]])]),o("div",mP,[o("label",hP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),se(o("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":g[43]||(g[43]=S=>b.bank_transfer.instructions=S),placeholder:i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,gP),[[Ae,b.bank_transfer.instructions]]),o("p",EP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),o("div",CP,[o("div",AP,[o("label",SP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),se(o("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[44]||(g[44]=S=>b.bank_transfer.account_name=S)},null,512),[[Ae,b.bank_transfer.account_name,void 0,{trim:!0}]])]),o("div",bP,[o("label",TP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),se(o("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[45]||(g[45]=S=>b.bank_transfer.iban=S),maxlength:"34"},null,512),[[Ae,b.bank_transfer.iban,void 0,{trim:!0}]])]),o("div",yP,[o("label",RP,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),se(o("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[46]||(g[46]=S=>b.bank_transfer.bic=S),maxlength:"11"},null,512),[[Ae,b.bank_transfer.bic,void 0,{trim:!0}]])])])]),o("fieldset",null,[o("legend",null,l(i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),o("div",OP,[o("label",xP,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),se(o("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[47]||(g[47]=S=>f.paymentsConfigured=S)},null,512),[[ut,f.paymentsConfigured]]),o("p",PP,l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),i(c).message?(E(),A("div",NP,l(i(c).message),1)):re("",!0),o("div",vP,[o("button",{class:"nxp-ec-btn",type:"button",onClick:D,disabled:i(c).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,MP),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(c).saving},l(i(c).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,IP)])],32))])):p.value==="visual"?(E(),A("div",kP,[o("header",wP,[o("h3",null,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:I,disabled:i(r).loading},l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,$P)]),i(r).error?(E(),A("div",DP,l(i(r).error),1)):i(r).loading?(E(),A("div",LP,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(E(),A("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:bt(U,["prevent"])},[o("p",YP,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),o("p",UP,l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),o("div",XP,[o("div",FP,[o("label",GP,l(i(s)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),o("div",VP,[o("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:m.primaryColor||Y.value.primary,onInput:g[48]||(g[48]=S=>m.primaryColor=S.target.value)},null,40,HP),se(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[49]||(g[49]=S=>m.primaryColor=S),placeholder:Y.value.primary,maxlength:"7"},null,8,BP),[[Ae,m.primaryColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[50]||(g[50]=S=>m.primaryColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",KP,[o("label",jP,l(i(s)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),o("div",JP,[o("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:m.textColor||Y.value.text,onInput:g[51]||(g[51]=S=>m.textColor=S.target.value)},null,40,WP),se(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[52]||(g[52]=S=>m.textColor=S),placeholder:Y.value.text,maxlength:"7"},null,8,qP),[[Ae,m.textColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[53]||(g[53]=S=>m.textColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",zP,[o("label",QP,l(i(s)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),o("div",ZP,[o("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:m.surfaceColor||Y.value.surface,onInput:g[54]||(g[54]=S=>m.surfaceColor=S.target.value)},null,40,eN),se(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[55]||(g[55]=S=>m.surfaceColor=S),placeholder:Y.value.surface,maxlength:"7"},null,8,tN),[[Ae,m.surfaceColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[56]||(g[56]=S=>m.surfaceColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",sN,[o("label",nN,l(i(s)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),o("div",oN,[o("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:m.borderColor||Y.value.border,onInput:g[57]||(g[57]=S=>m.borderColor=S.target.value)},null,40,aN),se(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[58]||(g[58]=S=>m.borderColor=S),placeholder:Y.value.border,maxlength:"7"},null,8,iN),[[Ae,m.borderColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[59]||(g[59]=S=>m.borderColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",rN,[o("label",lN,l(i(s)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),o("div",cN,[o("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:m.mutedColor||Y.value.muted,onInput:g[60]||(g[60]=S=>m.mutedColor=S.target.value)},null,40,dN),se(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[61]||(g[61]=S=>m.mutedColor=S),placeholder:Y.value.muted,maxlength:"7"},null,8,uN),[[Ae,m.mutedColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[62]||(g[62]=S=>m.mutedColor="")},l(i(s)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),o("div",pN,[o("h4",null,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),o("div",{class:"nxp-ec-preview-box",style:Ut(K.value)},[o("button",_N,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),o("p",fN,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),o("p",mN,l(i(s)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i(r).message?(E(),A("div",hN,l(i(r).message),1)):re("",!0),o("div",gN,[o("button",{class:"nxp-ec-btn",type:"button",onClick:Q,disabled:i(r).saving},l(i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,EN),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:i(r).saving},l(i(r).saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,CN)])],32))])):re("",!0)]))}},[["__scopeId","data-v-dff41c0c"]]),SN={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},bN={class:"nxp-ec-admin-panel__header"},TN={class:"nxp-ec-admin-panel__title"},yN={class:"nxp-ec-admin-panel__lead"},RN={class:"nxp-ec-admin-panel__actions"},ON=["disabled","title","aria-label"],xN={class:"nxp-ec-sr-only"},PN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},NN={key:1,class:"nxp-ec-admin-panel__loading"},vN={key:2,class:"nxp-ec-admin-panel__body"},MN={class:"nxp-ec-admin-panel__table"},IN={class:"nxp-ec-admin-table"},kN={scope:"col"},wN={scope:"col"},$N={scope:"col"},DN={scope:"col"},LN={scope:"col"},YN={scope:"col"},UN={key:0},XN={colspan:"7"},FN={scope:"row",class:"nxp-ec-admin-table__primary"},GN=["data-label"],VN=["data-label"],HN=["data-label"],BN=["data-label"],KN=["data-label"],jN={class:"nxp-ec-admin-table__actions"},JN=["onClick","title","aria-label"],WN={class:"nxp-ec-sr-only"},qN=["onClick","title","aria-label"],zN={class:"nxp-ec-sr-only"},QN={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},ZN={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},ev={class:"nxp-ec-admin-panel__sidebar-header"},tv={id:"tax-modal-title"},sv=["title","aria-label"],nv={class:"nxp-ec-sr-only"},ov={class:"nxp-ec-form-field"},av={class:"nxp-ec-form-label",for:"tax-name"},iv=["placeholder"],rv={class:"nxp-ec-form-help"},lv={class:"nxp-ec-form-field"},cv={class:"nxp-ec-form-label",for:"tax-country"},dv=["placeholder"],uv={class:"nxp-ec-form-help"},pv={class:"nxp-ec-form-field"},_v={class:"nxp-ec-form-label",for:"tax-region"},fv=["placeholder"],mv={class:"nxp-ec-form-help"},hv={class:"nxp-ec-form-field"},gv={class:"nxp-ec-form-label",for:"tax-rate"},Ev={class:"nxp-ec-input-group"},Cv={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Av={class:"nxp-ec-form-label",for:"tax-inclusive"},Sv={class:"nxp-ec-form-help"},bv={class:"nxp-ec-form-field"},Tv={class:"nxp-ec-form-label",for:"tax-priority"},yv={class:"nxp-ec-form-help"},Rv={class:"nxp-ec-modal__actions"},Ov=["disabled"],xv=["disabled"],Pv=["disabled"],Nv=yt({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=qe(!1),c=Qe({id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0}),u=()=>a("refresh"),p=()=>{d(),r.value=!0},f=k=>{Object.assign(c,{id:k.id,name:k.name||"",country:k.country,region:k.region,rate:k.rate,inclusive:k.inclusive,priority:k.priority}),r.value=!0},C=()=>{r.value=!1,d()},d=()=>{Object.assign(c,{id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0})},R=()=>{a("save",{id:c.id||void 0,name:c.name||null,country:c.country,region:c.region,rate:c.rate,inclusive:c.inclusive,priority:c.priority})},h=k=>{const v=s("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(v)&&(a("delete",[k.id]),c.id===k.id&&C())};return ot(()=>n.state.saving,(k,v)=>{v&&!k&&!n.state.error&&C()}),(k,v)=>(E(),A("section",SN,[o("header",bN,[o("div",null,[o("h2",TN,l(i(s)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),o("p",yN,l(i(s)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),o("div",RN,[o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":i(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[v[7]||(v[7]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",xN,l(i(s)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,ON),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[v[8]||(v[8]=o("i",{class:"fa-solid fa-plus"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(E(),A("div",PN,l(e.state.error),1)):re("",!0),e.state.loading?(E(),A("div",NN,l(i(s)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):re("",!0),e.state.loading?re("",!0):(E(),A("div",vN,[o("div",MN,[o("table",IN,[o("thead",null,[o("tr",null,[o("th",kN,l(i(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),o("th",wN,l(i(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),o("th",$N,l(i(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),o("th",DN,l(i(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),o("th",LN,l(i(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),o("th",YN,l(i(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),v[9]||(v[9]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?re("",!0):(E(),A("tr",UN,[o("td",XN,l(i(s)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(E(!0),A(Ie,null,Ue(e.state.items,x=>{var b;return E(),A("tr",{key:x.id,class:Ve({"is-active":c.id===x.id})},[o("th",FN,l(x.name||i(s)("COM_NXPEASYCART_TAX_DEFAULT_NAME","Tax",[],"taxDefaultName")),1),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_COUNTRY","Country")},l(x.country),9,GN),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_REGION","Region")},l(x.region||""),9,VN),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_RATE","Rate")},l(((b=x.rate)!=null?b:0).toFixed(2))+"%",9,HN),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[o("span",{class:Ve(["nxp-ec-badge",{"is-active":x.inclusive}])},[o("i",{class:Ve(x.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),we(" "+l(x.inclusive?i(s)("JYES","Yes"):i(s)("JNO","No")),1)],2)],8,BN),o("td",{"data-label":i(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},l(x.priority),9,KN),o("td",jN,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:m=>f(x),title:i(s)("JEDIT","Edit"),"aria-label":i(s)("JEDIT","Edit")},[v[10]||(v[10]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",WN,l(i(s)("JEDIT","Edit")),1)],8,JN),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:m=>h(x),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[v[11]||(v[11]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",zN,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,qN)])],2)}),128))])])]),r.value?(E(),A("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"tax-modal-title",onKeydown:Tt(C,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:C}),o("div",QN,[o("aside",ZN,[o("header",ev,[o("h3",tv,l(c.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:C,title:i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[v[12]||(v[12]=o("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),o("span",nv,l(i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,sv)]),o("form",{class:"nxp-ec-form",onSubmit:bt(R,["prevent"]),autocomplete:"off"},[o("div",ov,[o("label",av,l(i(s)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),se(o("input",{id:"tax-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":v[0]||(v[0]=x=>c.name=x),maxlength:"100",placeholder:i(s)("COM_NXPEASYCART_TAX_NAME_PLACEHOLDER","e.g. VAT, GST, Sales Tax",[],"taxNamePlaceholder")},null,8,iv),[[Ae,c.name,void 0,{trim:!0}]]),o("p",rv,l(i(s)("COM_NXPEASYCART_TAX_NAME_HELP",'Optional display name shown to customers. Falls back to "Tax" if empty.',[],"taxNameHelp")),1)]),o("div",lv,[o("label",cv,l(i(s)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),se(o("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":v[1]||(v[1]=x=>c.country=x),maxlength:"2",required:"",placeholder:i(s)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,dv),[[Ae,c.country,void 0,{trim:!0}]]),o("p",uv,l(i(s)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),o("div",pv,[o("label",_v,l(i(s)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),se(o("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":v[2]||(v[2]=x=>c.region=x),placeholder:i(s)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,fv),[[Ae,c.region,void 0,{trim:!0}]]),o("p",mv,l(i(s)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),o("div",hv,[o("label",gv,l(i(s)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),o("div",Ev,[se(o("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":v[3]||(v[3]=x=>c.rate=x),required:""},null,512),[[Ae,c.rate,void 0,{number:!0}]]),v[13]||(v[13]=o("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),o("div",Cv,[o("label",Av,l(i(s)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),se(o("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":v[4]||(v[4]=x=>c.inclusive=x)},null,512),[[ut,c.inclusive]]),o("p",Sv,l(i(s)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),o("div",bv,[o("label",Tv,l(i(s)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),se(o("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":v[5]||(v[5]=x=>c.priority=x)},null,512),[[Ae,c.priority,void 0,{number:!0}]]),o("p",yv,l(i(s)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),o("footer",Rv,[o("button",{class:"nxp-ec-btn",type:"button",onClick:C,disabled:e.state.saving},l(i(s)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,Ov),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},l(e.state.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,xv)]),c.id?(E(),A("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:v[6]||(v[6]=x=>h(c)),disabled:e.state.saving},[v[14]||(v[14]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Pv)):re("",!0)],32)])])],32)):re("",!0)]))]))}},[["__scopeId","data-v-2ed24c88"]]),vv={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},Mv={class:"nxp-ec-admin-panel__header"},Iv={class:"nxp-ec-admin-panel__title"},kv={class:"nxp-ec-admin-panel__lead"},wv={class:"nxp-ec-admin-panel__actions"},$v=["disabled","title","aria-label"],Dv={class:"nxp-ec-sr-only"},Lv={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Yv={key:1,class:"nxp-ec-admin-panel__loading"},Uv={key:2,class:"nxp-ec-admin-panel__body"},Xv={class:"nxp-ec-admin-panel__table"},Fv={class:"nxp-ec-admin-table"},Gv={scope:"col"},Vv={scope:"col"},Hv={scope:"col"},Bv={scope:"col"},Kv={scope:"col"},jv={scope:"col"},Jv={key:0},Wv={colspan:"7"},qv={scope:"row",class:"nxp-ec-admin-table__primary"},zv=["data-label"],Qv=["data-label"],Zv=["data-label"],eM=["data-label"],tM=["data-label"],sM={class:"nxp-ec-admin-table__actions"},nM=["onClick","title","aria-label"],oM={class:"nxp-ec-sr-only"},aM=["onClick","title","aria-label"],iM={class:"nxp-ec-sr-only"},rM={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},lM={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},cM={class:"nxp-ec-admin-panel__sidebar-header"},dM={id:"shipping-modal-title"},uM=["title","aria-label"],pM={class:"nxp-ec-sr-only"},_M={class:"nxp-ec-form-field"},fM={class:"nxp-ec-form-label",for:"shipping-name"},mM=["placeholder"],hM={class:"nxp-ec-form-field"},gM={class:"nxp-ec-form-label",for:"shipping-type"},EM={value:"flat"},CM={value:"free_over"},AM={class:"nxp-ec-form-help"},SM={class:"nxp-ec-form-field"},bM={class:"nxp-ec-form-label",for:"shipping-price"},TM={class:"nxp-ec-input-group"},yM={class:"nxp-ec-input-group__prefix"},RM={key:0,class:"nxp-ec-form-field"},OM={class:"nxp-ec-form-label",for:"shipping-threshold"},xM={class:"nxp-ec-input-group"},PM={class:"nxp-ec-input-group__prefix"},NM={class:"nxp-ec-form-help"},vM={class:"nxp-ec-form-field"},MM={class:"nxp-ec-form-label",for:"shipping-regions"},IM=["placeholder"],kM={class:"nxp-ec-form-help"},wM={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$M={class:"nxp-ec-form-label",for:"shipping-active"},DM={class:"nxp-ec-form-help"},LM={class:"nxp-ec-modal__actions"},YM=["disabled"],UM=["disabled"],XM=["disabled"],FM=yt({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=be(()=>{const b=n.baseCurrency;return typeof b=="string"&&b.trim()!==""?b.trim().toUpperCase():"USD"}),c=qe(!1),u=Qe({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),p=()=>a("refresh"),f=()=>{R(),c.value=!0},C=b=>{var m,Y,$;Object.assign(u,{id:b.id,name:b.name,type:b.type,price:(Y=b.price)!=null?Y:((m=b.price_cents)!=null?m:0)/100,threshold:b.threshold!==null&&b.threshold!==void 0?b.threshold:(($=b.threshold_cents)!=null?$:0)/100,regions:b.regions&&b.regions.length?b.regions.join(", "):"",active:b.active}),c.value=!0},d=()=>{c.value=!1,R()},R=()=>{Object.assign(u,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},h=()=>{const b={id:u.id||void 0,name:u.name,type:u.type,price:u.price,threshold:u.type==="free_over"?u.threshold:0,regions:u.regions,active:u.active};a("save",b)},k=b=>{const m=s("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(m)&&(a("delete",[b.id]),u.id===b.id&&d())};ot(()=>n.state.saving,(b,m)=>{m&&!b&&!n.state.error&&d()});const v=(b,m)=>{const Y=(Number(b)||0)/100,$=(m||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:$}).format(Y)}catch(K){return`${$} ${Y.toFixed(2)}`}},x=b=>b==="free_over"?s("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):s("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(b,m)=>(E(),A("section",vv,[o("header",Mv,[o("div",null,[o("h2",Iv,l(i(s)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),o("p",kv,l(i(s)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),o("div",wv,[o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":i(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[m[7]||(m[7]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",Dv,l(i(s)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,$v),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:f},[m[8]||(m[8]=o("i",{class:"fa-solid fa-plus"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(E(),A("div",Lv,l(e.state.error),1)):re("",!0),e.state.loading?(E(),A("div",Yv,l(i(s)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):re("",!0),e.state.loading?re("",!0):(E(),A("div",Uv,[o("div",Xv,[o("table",Fv,[o("thead",null,[o("tr",null,[o("th",Gv,l(i(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),o("th",Vv,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),o("th",Hv,l(i(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),o("th",Bv,l(i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),o("th",Kv,l(i(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),o("th",jv,l(i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),m[9]||(m[9]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?re("",!0):(E(),A("tr",Jv,[o("td",Wv,l(i(s)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(E(!0),A(Ie,null,Ue(e.state.items,Y=>(E(),A("tr",{key:Y.id,class:Ve({"is-active":u.id===Y.id})},[o("th",qv,l(Y.name),1),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},l(x(Y.type)),9,zv),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},l(v(Y.price_cents,r.value)),9,Qv),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},l(Y.type==="free_over"?v(Y.threshold_cents,r.value):""),9,Zv),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},l(Y.regions&&Y.regions.length?Y.regions.join(", "):i(s)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,eM),o("td",{"data-label":i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[o("span",{class:Ve(["nxp-ec-badge",{"is-active":Y.active}])},[o("i",{class:Ve(Y.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),we(" "+l(Y.active?i(s)("JYES","Yes"):i(s)("JNO","No")),1)],2)],8,tM),o("td",sM,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:$=>C(Y),title:i(s)("JEDIT","Edit"),"aria-label":i(s)("JEDIT","Edit")},[m[10]||(m[10]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",oM,l(i(s)("JEDIT","Edit")),1)],8,nM),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:$=>k(Y),title:i(s)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":i(s)("COM_NXPEASYCART_REMOVE","Remove")},[m[11]||(m[11]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",iM,l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,aM)])],2))),128))])])]),c.value?(E(),A("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"shipping-modal-title",onKeydown:Tt(d,["esc"])},[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:d}),o("div",rM,[o("aside",lM,[o("header",cM,[o("h3",dM,l(u.id?i(s)("JEDIT","Edit"):i(s)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:d,title:i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[m[12]||(m[12]=o("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),o("span",pM,l(i(s)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,uM)]),o("form",{class:"nxp-ec-form",onSubmit:bt(h,["prevent"]),autocomplete:"off"},[o("div",_M,[o("label",fM,l(i(s)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),se(o("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[0]||(m[0]=Y=>u.name=Y),required:"",placeholder:i(s)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,mM),[[Ae,u.name,void 0,{trim:!0}]])]),o("div",hM,[o("label",gM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),se(o("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":m[1]||(m[1]=Y=>u.type=Y)},[o("option",EM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),o("option",CM,l(i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[ft,u.type]]),o("p",AM,l(u.type==="free_over"?i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):i(s)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),o("div",SM,[o("label",bM,l(i(s)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),o("div",TM,[o("span",yM,l(r.value),1),se(o("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[2]||(m[2]=Y=>u.price=Y),required:""},null,512),[[Ae,u.price,void 0,{number:!0}]])])]),u.type==="free_over"?(E(),A("div",RM,[o("label",OM,l(i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),o("div",xM,[o("span",PM,l(r.value),1),se(o("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[3]||(m[3]=Y=>u.threshold=Y),required:""},null,512),[[Ae,u.threshold,void 0,{number:!0}]])]),o("p",NM,l(i(s)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):re("",!0),o("div",vM,[o("label",MM,l(i(s)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),se(o("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[4]||(m[4]=Y=>u.regions=Y),placeholder:i(s)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,IM),[[Ae,u.regions,void 0,{trim:!0}]]),o("p",kM,l(i(s)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),o("div",wM,[o("label",$M,l(i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),se(o("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[5]||(m[5]=Y=>u.active=Y)},null,512),[[ut,u.active]]),o("p",DM,l(i(s)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),o("footer",LM,[o("button",{class:"nxp-ec-btn",type:"button",onClick:d,disabled:e.state.saving},l(i(s)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,YM),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},l(e.state.saving?i(s)("JPROCESSING_REQUEST","Saving"):i(s)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,UM)]),u.id?(E(),A("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:m[6]||(m[6]=Y=>k(u)),disabled:e.state.saving},[m[13]||(m[13]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,XM)):re("",!0)],32)])])],32)):re("",!0)]))]))}},[["__scopeId","data-v-e9835937"]]),GM={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},VM={class:"nxp-ec-admin-panel__header"},HM={class:"nxp-ec-admin-panel__title"},BM={class:"nxp-ec-admin-panel__lead"},KM={class:"nxp-ec-admin-panel__actions"},jM=["placeholder","aria-label"],JM=["value"],WM={value:""},qM=["value"],zM=["disabled","title","aria-label"],QM={class:"nxp-ec-sr-only"},ZM={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},eI={key:1,class:"nxp-ec-admin-panel__body"},tI={key:2,class:"nxp-ec-admin-panel__body"},sI={class:"nxp-ec-admin-panel__table"},nI={class:"nxp-ec-admin-table"},oI={scope:"col"},aI={scope:"col"},iI={scope:"col"},rI={scope:"col"},lI={scope:"col"},cI={key:0},dI={colspan:"5"},uI=["data-label"],pI=["data-label"],_I={class:"nxp-ec-log-entity"},fI={class:"nxp-ec-log-entity-id"},mI=["data-label"],hI=["data-label"],gI=["data-label"],EI={class:"nxp-ec-log-context"},CI={key:0,class:"nxp-ec-admin-pagination"},AI=["disabled"],SI={class:"nxp-ec-admin-pagination__status"},bI=["disabled"],TI=["title"],yI=yt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=n.state,c=be(()=>{const x=new Set;return Array.isArray(r.items)&&r.items.forEach(b=>{b!=null&&b.entity_type&&x.add(b.entity_type)}),r.entity&&x.add(r.entity),Array.from(x).sort()}),u=()=>a("refresh"),p=()=>a("search"),f=x=>a("filter",x),C=x=>a("page",x),d=x=>{if(!x)return"";try{const b=new Date(x.replace(" ","T"));if(!Number.isNaN(b.getTime()))return b.toLocaleString()}catch(b){}return x},R=x=>{if(!x)return s("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(x){case"order":return s("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return s("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return s("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return s("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return x.charAt(0).toUpperCase()+x.slice(1)}},h=x=>{if(!(x!=null&&x.user))return s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const b=x.user.name||"",m=x.user.username||"";return b&&m?`${b} (${m})`:b||m||s("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},k=x=>{if(!x||Array.isArray(x)&&!x.length||typeof x=="object"&&!Object.keys(x).length)return"";try{return JSON.stringify(x,null,2)}catch(b){return String(x)}},v=x=>{if(!x)return"";try{const b=new Date(x),Y=new Date-b,$=Math.floor(Y/1e3),K=Math.floor($/60),z=Math.floor(K/60);return $<60?s("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):K<60?s("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[K]):z<24?s("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[z]):b.toLocaleString()}catch(b){return x}};return(x,b)=>(E(),A("section",GM,[o("header",VM,[o("div",null,[o("h2",HM,l(i(s)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),o("p",BM,l(i(s)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),o("div",KM,[se(o("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":b[0]||(b[0]=m=>i(r).search=m),placeholder:i(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":i(s)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:Tt(p,["enter"])},null,40,jM),[[Ae,i(r).search]]),o("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:i(r).entity,onChange:b[1]||(b[1]=m=>f(m.target.value)),"aria-label":"Entity filter"},[o("option",WM,l(i(s)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(E(!0),A(Ie,null,Ue(c.value,m=>(E(),A("option",{key:m,value:m},l(R(m)),9,qM))),128))],40,JM),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:i(r).loading,title:i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[b[4]||(b[4]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",QM,l(i(s)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,zM)])]),i(r).error?(E(),A("div",ZM,l(i(r).error),1)):re("",!0),i(r).loading?(E(),A("div",eI,[lt(ln,{type:"table",rows:5,columns:5})])):re("",!0),i(r).loading?re("",!0):(E(),A("div",tI,[o("div",sI,[o("table",nI,[o("thead",null,[o("tr",null,[o("th",oI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),o("th",aI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),o("th",iI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),o("th",rI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),o("th",lI,l(i(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),o("tbody",null,[i(r).items.length?re("",!0):(E(),A("tr",cI,[o("td",dI,l(i(s)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(E(!0),A(Ie,null,Ue(i(r).items,m=>(E(),A("tr",{key:m.id},[o("td",{class:"nxp-ec-admin-table__primary","data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},l(d(m.created)),9,uI),o("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[o("span",_I,l(R(m.entity_type)),1),o("span",fI,"#"+l(m.entity_id),1)],8,pI),o("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},l(m.action),9,mI),o("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},l(h(m)),9,hI),o("td",{"data-label":i(s)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[o("pre",EI,l(k(m.context)),1)],8,gI)]))),128))])]),i(r).pagination.pages>1?(E(),A("div",CI,[o("button",{class:"nxp-ec-btn",type:"button",disabled:i(r).pagination.current<=1,onClick:b[2]||(b[2]=m=>C(i(r).pagination.current-1))},"  ",8,AI),o("span",SI,l(i(r).pagination.current)+" / "+l(i(r).pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:i(r).pagination.current>=i(r).pagination.pages,onClick:b[3]||(b[3]=m=>C(i(r).pagination.current+1))},"  ",8,bI)])):re("",!0)]),i(r).lastUpdated?(E(),A("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:i(r).lastUpdated},l(i(s)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+l(v(i(r).lastUpdated)),9,TI)):re("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),RI={class:"nxp-ec-admin-panel nxp-ec-admin-panel--import-export"},OI={class:"nxp-ec-admin-panel__header"},xI={class:"nxp-ec-admin-panel__title"},PI={class:"nxp-ec-admin-panel__lead"},NI={class:"nxp-ec-admin-panel__actions"},vI=["disabled","title","aria-label"],MI={class:"nxp-ec-sr-only"},II={class:"nxp-ec-tabs",role:"tablist"},kI=["aria-selected"],wI=["aria-selected"],$I={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},DI={key:1,class:"nxp-ec-admin-panel__loading"},LI={key:2,class:"nxp-ec-admin-panel__body",role:"tabpanel"},YI={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--info nxp-ec-import-backup-notice"},UI={key:1,class:"nxp-ec-import-upload"},XI={class:"nxp-ec-import-upload__title"},FI={class:"nxp-ec-import-upload__subtitle"},GI={class:"nxp-ec-btn nxp-ec-btn--primary"},VI=["disabled"],HI={class:"nxp-ec-import-upload__help"},BI={key:2,class:"nxp-ec-import-configure"},KI={class:"nxp-ec-import-file-info"},jI={class:"nxp-ec-import-file-info__details"},JI=["title"],WI={class:"nxp-ec-form-field"},qI={class:"nxp-ec-form-label",for:"import-platform"},zI={value:""},QI=["value"],ZI={key:0,class:"nxp-ec-form-help"},ek={key:0,class:"nxp-ec-import-preview"},tk={class:"nxp-ec-import-preview__table-wrapper"},sk={class:"nxp-ec-admin-table nxp-ec-admin-table--sm"},nk={class:"nxp-ec-import-actions"},ok=["disabled"],ak={key:3,class:"nxp-ec-import-progress"},ik={class:"nxp-ec-progress-card"},rk={class:"nxp-ec-progress-card__header"},lk={class:"nxp-ec-progress-bar"},ck={class:"nxp-ec-progress-card__stats"},dk={class:"nxp-ec-progress-stat"},uk={class:"nxp-ec-progress-stat__value"},pk={class:"nxp-ec-progress-stat__label"},_k={class:"nxp-ec-progress-stat nxp-ec-progress-stat--success"},fk={class:"nxp-ec-progress-stat__value"},mk={class:"nxp-ec-progress-stat__label"},hk={key:0,class:"nxp-ec-progress-stat nxp-ec-progress-stat--info"},gk={class:"nxp-ec-progress-stat__value"},Ek={class:"nxp-ec-progress-stat__label"},Ck={key:1,class:"nxp-ec-progress-stat nxp-ec-progress-stat--warning"},Ak={class:"nxp-ec-progress-stat__value"},Sk={class:"nxp-ec-progress-stat__label"},bk={key:2,class:"nxp-ec-progress-stat nxp-ec-progress-stat--error"},Tk={class:"nxp-ec-progress-stat__value"},yk={class:"nxp-ec-progress-stat__label"},Rk={key:0,class:"nxp-ec-progress-errors"},Ok={class:"nxp-ec-progress-card__actions"},xk={key:3,class:"nxp-ec-admin-panel__body",role:"tabpanel"},Pk={key:0,class:"nxp-ec-export-configure"},Nk={class:"nxp-ec-form-field"},vk={class:"nxp-ec-form-label",for:"export-platform"},Mk=["value"],Ik={class:"nxp-ec-form-help"},kk={class:"nxp-ec-export-actions"},wk=["disabled"],$k={key:1,class:"nxp-ec-export-progress"},Dk={class:"nxp-ec-progress-card"},Lk={class:"nxp-ec-progress-card__header"},Yk={class:"nxp-ec-progress-bar"},Uk={class:"nxp-ec-progress-card__stats"},Xk={class:"nxp-ec-progress-stat"},Fk={class:"nxp-ec-progress-stat__value"},Gk={class:"nxp-ec-progress-stat__label"},Vk={class:"nxp-ec-progress-card__actions"},Hk=yt({__name:"ImportExportPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","upload-file","start-import","cancel-import","reset-import","start-export","cancel-export","download-export","reset-export"],setup(e,{emit:t}){const n=e,a=t,s=n.translate,r=qe("import"),c=()=>a("refresh"),u=z=>{var Re;const ee=(Re=z.target.files)==null?void 0:Re[0];ee&&a("upload-file",ee)},p=z=>{var Re,ke;const ee=(ke=(Re=z.dataTransfer)==null?void 0:Re.files)==null?void 0:ke[0];ee&&a("upload-file",ee)},f=()=>a("start-import"),C=()=>a("cancel-import"),d=()=>a("reset-import"),R=()=>a("start-export"),h=()=>a("cancel-export"),k=()=>a("download-export"),v=()=>a("reset-export"),x=z=>{if(!z)return"0 B";const ee=["B","KB","MB","GB"];let Re=0;for(;z>=1024&&Re<ee.length-1;)z/=1024,Re++;return`${z.toFixed(Re>0?1:0)} ${ee[Re]}`},b=(z,ee)=>z?z.length<=ee?z:z.substring(0,ee)+"...":"",m=z=>["pending","processing","running"].includes(z),Y=z=>{switch(z){case"completed":return"fa-solid fa-check-circle nxp-ec-text-success";case"failed":return"fa-solid fa-times-circle nxp-ec-text-danger";case"cancelled":return"fa-solid fa-ban nxp-ec-text-warning";default:return"fa-solid fa-spinner fa-spin"}},$=z=>{switch(z){case"completed":return s("COM_NXPEASYCART_STATUS_COMPLETED","Completed",[],"statusCompleted");case"failed":return s("COM_NXPEASYCART_STATUS_FAILED","Failed",[],"statusFailed");case"cancelled":return s("COM_NXPEASYCART_STATUS_CANCELLED","Cancelled",[],"statusCancelled");case"processing":case"running":return s("COM_NXPEASYCART_STATUS_PROCESSING","Processing...",[],"statusProcessing");default:return s("COM_NXPEASYCART_STATUS_PENDING","Pending...",[],"statusPending")}},K=z=>{switch(z){case"completed":return"nxp-ec-progress-bar__fill--success";case"failed":return"nxp-ec-progress-bar__fill--danger";case"cancelled":return"nxp-ec-progress-bar__fill--warning";default:return""}};return(z,ee)=>{var Re,ke;return E(),A("section",RI,[o("header",OI,[o("div",null,[o("h2",xI,l(i(s)("COM_NXPEASYCART_IMPORT_EXPORT_TITLE","Import / Export",[],"importExportTitle")),1),o("p",PI,l(i(s)("COM_NXPEASYCART_IMPORT_EXPORT_LEAD","Migrate products from other platforms or backup your catalogue.",[],"importExportLead")),1)]),o("div",NI,[o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:c,disabled:e.state.loading,title:i(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh"),"aria-label":i(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")},[ee[6]||(ee[6]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",MI,l(i(s)("COM_NXPEASYCART_REFRESH","Refresh",[],"refresh")),1)],8,vI)])]),o("nav",II,[o("button",{role:"tab","aria-selected":r.value==="import",class:Ve(["nxp-ec-tabs__tab",{"is-active":r.value==="import"}]),onClick:ee[0]||(ee[0]=M=>r.value="import")},[ee[7]||(ee[7]=o("i",{class:"fa-solid fa-file-import","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_IMPORT","Import",[],"import")),1)],10,kI),o("button",{role:"tab","aria-selected":r.value==="export",class:Ve(["nxp-ec-tabs__tab",{"is-active":r.value==="export"}]),onClick:ee[1]||(ee[1]=M=>r.value="export")},[ee[8]||(ee[8]=o("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_EXPORT","Export",[],"export")),1)],10,wI)]),e.state.error?(E(),A("div",$I,l(e.state.error),1)):re("",!0),e.state.loading?(E(),A("div",DI,l(i(s)("COM_NXPEASYCART_LOADING","Loading...",[],"loading")),1)):re("",!0),!e.state.loading&&r.value==="import"?(E(),A("div",LI,[!e.state.importFileId&&!e.state.importJobId?(E(),A("div",YI,[ee[10]||(ee[10]=o("i",{class:"fa-solid fa-circle-info","aria-hidden":"true"},null,-1)),o("div",null,[o("strong",null,l(i(s)("COM_NXPEASYCART_IMPORT_BACKUP_TITLE","Backup recommended",[],"importBackupTitle")),1),o("p",null,l(i(s)("COM_NXPEASYCART_IMPORT_BACKUP_TEXT","Before importing, we recommend exporting your current catalogue as a backup. Switch to the Export tab to create a backup first.",[],"importBackupText")),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--sm",type:"button",onClick:ee[2]||(ee[2]=M=>r.value="export")},[ee[9]||(ee[9]=o("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_IMPORT_GO_TO_EXPORT","Go to Export",[],"importGoToExport")),1)])])])):re("",!0),e.state.importFileId?e.state.importFileId&&!e.state.importJobId?(E(),A("div",BI,[o("div",KI,[ee[14]||(ee[14]=o("div",{class:"nxp-ec-import-file-info__icon"},[o("i",{class:"fa-solid fa-file-csv","aria-hidden":"true"})],-1)),o("div",jI,[o("strong",null,l(e.state.importFilename),1),o("span",null,l(x(e.state.importFileSize)),1),o("span",null,l(e.state.importRowCount)+" "+l(i(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:d,title:i(s)("COM_NXPEASYCART_IMPORT_CHANGE_FILE","Change file",[],"importChangeFile")},[...ee[13]||(ee[13]=[o("i",{class:"fa-solid fa-xmark","aria-hidden":"true"},null,-1)])],8,JI)]),o("div",WI,[o("label",qI,l(i(s)("COM_NXPEASYCART_IMPORT_PLATFORM","Source platform",[],"importPlatform")),1),se(o("select",{id:"import-platform",class:"nxp-ec-form-select","onUpdate:modelValue":ee[4]||(ee[4]=M=>e.state.importSelectedPlatform=M)},[o("option",zI,l(i(s)("COM_NXPEASYCART_IMPORT_SELECT_PLATFORM","Select platform...",[],"importSelectPlatform")),1),(E(!0),A(Ie,null,Ue(e.state.platforms,M=>(E(),A("option",{key:M.id,value:M.id},l(M.name)+" "+l(M.id===e.state.importDetectedPlatform?"(detected)":""),9,QI))),128))],512),[[ft,e.state.importSelectedPlatform]]),e.state.importDetectedPlatform?(E(),A("p",ZI,[ee[15]||(ee[15]=o("i",{class:"fa-solid fa-check-circle","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_IMPORT_DETECTED","Auto-detected from CSV headers",[],"importDetected")),1)])):re("",!0)]),e.state.importPreview.length?(E(),A("div",ek,[o("h4",null,l(i(s)("COM_NXPEASYCART_IMPORT_PREVIEW","Preview",[],"importPreview")),1),o("div",tk,[o("table",sk,[o("thead",null,[o("tr",null,[(E(!0),A(Ie,null,Ue(e.state.importHeaders,M=>(E(),A("th",{key:M,scope:"col"},l(M),1))),128))])]),o("tbody",null,[(E(!0),A(Ie,null,Ue(e.state.importPreview.slice(0,3),(M,De)=>(E(),A("tr",{key:De},[(E(!0),A(Ie,null,Ue(e.state.importHeaders,$e=>(E(),A("td",{key:$e},l(b(M[$e],30)),1))),128))]))),128))])])])])):re("",!0),o("div",nk,[o("button",{class:"nxp-ec-btn",type:"button",onClick:d},l(i(s)("COM_NXPEASYCART_CANCEL","Cancel",[],"cancel")),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:f,disabled:!e.state.importSelectedPlatform||e.state.importStarting},[ee[16]||(ee[16]=o("i",{class:"fa-solid fa-play","aria-hidden":"true"},null,-1)),we(" "+l(e.state.importStarting?i(s)("COM_NXPEASYCART_IMPORT_STARTING","Starting...",[],"importStarting"):i(s)("COM_NXPEASYCART_IMPORT_START","Start import",[],"importStart")),1)],8,ok)])])):e.state.importJobId&&e.state.importProgress?(E(),A("div",ak,[o("div",ik,[o("div",rk,[o("h4",null,[o("i",{class:Ve(Y(e.state.importProgress.status)),"aria-hidden":"true"},null,2),we(" "+l($(e.state.importProgress.status)),1)])]),o("div",lk,[o("div",{class:Ve(["nxp-ec-progress-bar__fill",K(e.state.importProgress.status)]),style:Ut({width:e.state.importProgress.percent+"%"})},null,6)]),o("div",ck,[o("div",dk,[o("span",uk,l(e.state.importProgress.processed_rows),1),o("span",pk," / "+l(e.state.importProgress.total_rows)+" "+l(i(s)("COM_NXPEASYCART_IMPORT_ROWS","rows",[],"importRows")),1)]),o("div",_k,[o("span",fk,l(e.state.importProgress.imported_products),1),o("span",mk,l(i(s)("COM_NXPEASYCART_IMPORT_PRODUCTS","products",[],"importProducts")),1)]),e.state.importProgress.imported_variants?(E(),A("div",hk,[o("span",gk,l(e.state.importProgress.imported_variants),1),o("span",Ek,l(i(s)("COM_NXPEASYCART_IMPORT_VARIANTS","variants",[],"importVariants")),1)])):re("",!0),e.state.importProgress.skipped_rows?(E(),A("div",Ck,[o("span",Ak,l(e.state.importProgress.skipped_rows),1),o("span",Sk,l(i(s)("COM_NXPEASYCART_IMPORT_SKIPPED","skipped",[],"importSkipped")),1)])):re("",!0),(Re=e.state.importProgress.errors)!=null&&Re.length?(E(),A("div",bk,[o("span",Tk,l(e.state.importProgress.errors.length),1),o("span",yk,l(i(s)("COM_NXPEASYCART_IMPORT_ERRORS","errors",[],"importErrors")),1)])):re("",!0)]),(ke=e.state.importProgress.errors)!=null&&ke.length?(E(),A("div",Rk,[o("details",null,[o("summary",null,l(i(s)("COM_NXPEASYCART_IMPORT_VIEW_ERRORS","View errors",[],"importViewErrors")),1),o("ul",null,[(E(!0),A(Ie,null,Ue(e.state.importProgress.errors.slice(0,10),(M,De)=>(E(),A("li",{key:De},l(M),1))),128))])])])):re("",!0),o("div",Ok,[m(e.state.importProgress.status)?(E(),A("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:C},[ee[17]||(ee[17]=o("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_IMPORT_CANCEL","Cancel import",[],"importCancel")),1)])):(E(),A("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:d},[ee[18]||(ee[18]=o("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_IMPORT_NEW","New import",[],"importNew")),1)]))])])])):re("",!0):(E(),A("div",UI,[o("div",{class:"nxp-ec-import-upload__dropzone",onDragover:ee[3]||(ee[3]=bt(()=>{},["prevent"])),onDrop:bt(p,["prevent"])},[ee[12]||(ee[12]=o("i",{class:"fa-solid fa-cloud-arrow-up nxp-ec-import-upload__icon","aria-hidden":"true"},null,-1)),o("p",XI,l(i(s)("COM_NXPEASYCART_IMPORT_DROP_FILE","Drop CSV file here",[],"importDropFile")),1),o("p",FI,l(i(s)("COM_NXPEASYCART_IMPORT_OR","or",[],"importOr")),1),o("label",GI,[ee[11]||(ee[11]=o("i",{class:"fa-solid fa-folder-open","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_IMPORT_BROWSE","Browse files",[],"importBrowse"))+" ",1),o("input",{type:"file",accept:".csv,text/csv,application/csv",class:"nxp-ec-sr-only",onChange:u,disabled:e.state.importUploading},null,40,VI)]),o("p",HI,l(i(s)("COM_NXPEASYCART_IMPORT_FILE_HELP","Supported: CSV files up to 10MB",[],"importFileHelp")),1)],32)]))])):re("",!0),!e.state.loading&&r.value==="export"?(E(),A("div",xk,[e.state.exportJobId?e.state.exportProgress?(E(),A("div",$k,[o("div",Dk,[o("div",Lk,[o("h4",null,[o("i",{class:Ve(Y(e.state.exportProgress.status)),"aria-hidden":"true"},null,2),we(" "+l($(e.state.exportProgress.status)),1)])]),o("div",Yk,[o("div",{class:Ve(["nxp-ec-progress-bar__fill",K(e.state.exportProgress.status)]),style:Ut({width:e.state.exportProgress.percent+"%"})},null,6)]),o("div",Uk,[o("div",Xk,[o("span",Fk,l(e.state.exportProgress.processed_rows),1),o("span",Gk," / "+l(e.state.exportProgress.total_rows)+" "+l(i(s)("COM_NXPEASYCART_EXPORT_PRODUCTS","products",[],"exportProducts")),1)])]),o("div",Vk,[m(e.state.exportProgress.status)?(E(),A("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:h},[ee[20]||(ee[20]=o("i",{class:"fa-solid fa-stop","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_EXPORT_CANCEL","Cancel export",[],"exportCancel")),1)])):(E(),A(Ie,{key:1},[e.state.exportProgress.status==="completed"?(E(),A("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:k},[ee[21]||(ee[21]=o("i",{class:"fa-solid fa-download","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_EXPORT_DOWNLOAD","Download CSV",[],"exportDownload")),1)])):re("",!0),o("button",{class:"nxp-ec-btn",type:"button",onClick:v},[ee[22]||(ee[22]=o("i",{class:"fa-solid fa-plus","aria-hidden":"true"},null,-1)),we(" "+l(i(s)("COM_NXPEASYCART_EXPORT_NEW","New export",[],"exportNew")),1)])],64))])])])):re("",!0):(E(),A("div",Pk,[o("div",Nk,[o("label",vk,l(i(s)("COM_NXPEASYCART_EXPORT_FORMAT","Export format",[],"exportFormat")),1),se(o("select",{id:"export-platform",class:"nxp-ec-form-select","onUpdate:modelValue":ee[5]||(ee[5]=M=>e.state.exportPlatform=M)},[(E(!0),A(Ie,null,Ue(e.state.platforms,M=>(E(),A("option",{key:M.id,value:M.id},l(M.name),9,Mk))),128))],512),[[ft,e.state.exportPlatform]]),o("p",Ik,l(i(s)("COM_NXPEASYCART_EXPORT_FORMAT_HELP","Choose Native format for backups or another platform format for migration.",[],"exportFormatHelp")),1)]),o("div",kk,[o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:R,disabled:e.state.exportStarting},[ee[19]||(ee[19]=o("i",{class:"fa-solid fa-file-export","aria-hidden":"true"},null,-1)),we(" "+l(e.state.exportStarting?i(s)("COM_NXPEASYCART_EXPORT_STARTING","Starting...",[],"exportStarting"):i(s)("COM_NXPEASYCART_EXPORT_START","Start export",[],"exportStart")),1)],8,wk)])]))])):re("",!0)])}}},[["__scopeId","data-v-6df7f1dd"]]),Bk={key:0,class:"nxp-ec-onboarding"},Kk={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},jk={class:"nxp-ec-onboarding__header"},Jk={class:"nxp-ec-onboarding__title"},Wk={class:"nxp-ec-onboarding__lead"},qk={class:"nxp-ec-onboarding__progress"},zk={class:"nxp-ec-onboarding__progress-bar"},Qk={class:"nxp-ec-onboarding__progress-label"},Zk={class:"nxp-ec-onboarding__steps"},e0={class:"nxp-ec-onboarding__step-main"},t0={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},s0={key:0,class:"fa-solid fa-circle-check"},n0={key:1,class:"fa-regular fa-circle"},o0={class:"nxp-ec-onboarding__step-actions"},a0=["onClick"],i0=yt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,n=t.translate,a=be(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),s=be(()=>`${a.value}%`),r=be(()=>{const c=t.steps.filter(u=>u.completed).length;return n("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(c),String(t.steps.length)],"onboardingProgress")});return(c,u)=>e.visible?(E(),A("div",Bk,[o("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>c.$emit("close"))}),o("section",Kk,[o("header",jk,[o("div",null,[o("h2",Jk,l(i(n)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),o("p",Wk,l(i(n)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),o("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>c.$emit("close"))},l(i(n)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),o("div",qk,[o("div",zk,[o("span",{style:Ut({width:s.value})},null,4)]),o("span",Qk,l(r.value),1)]),o("ol",Zk,[(E(!0),A(Ie,null,Ue(e.steps,p=>(E(),A("li",{key:p.id,class:Ve({"is-complete":p.completed})},[o("div",e0,[o("span",t0,[p.completed?(E(),A("span",s0)):(E(),A("span",n0))]),o("div",null,[o("h3",null,l(i(n)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),o("p",null,l(i(n)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),o("div",o0,[p.link?(E(),A("button",{key:0,type:"button",class:Ve(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:f=>c.$emit("navigate",p)},l(p.completed?i(n)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):i(n)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,a0)):re("",!0)])],2))),128))])])])):re("",!0)}},[["__scopeId","data-v-c2a94811"]]),r0=(e,t=[])=>{var s;if(!t.length)return e;const n=(s=window==null?void 0:window.Joomla)==null?void 0:s.sprintf;if(typeof n=="function")try{return n.call(window.Joomla,e,...t)}catch(r){}let a=String(e);return t.forEach(r=>{const c=r!=null?r:"";a=a.replace(/%[sd]/,String(c))}),a},l0=(e,t="",n=[])=>{var r;const a=(r=window==null?void 0:window.Joomla)==null?void 0:r.Text;let s=t||e;if(a&&typeof a._=="function"){const c=a._(e);c&&c!==e&&(s=c)}return r0(s,n)};function c0(e={}){const t=e||{},n=(s,r)=>{if(!s)return r;const c=t[s];return c!=null&&c!==""?c:r};return{__:(s,r="",c=[],u="")=>{const p=n(u,r);return l0(s,p,c)}}}const Pi=typeof window!="undefined"&&window.performance;function Ni(e){if(Pi)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function d0(e,t,n){if(!Pi)return null;try{performance.measure(e,t,n);const a=performance.getEntriesByName(e,"measure")[0];if(a)return a.duration}catch(a){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,a)}return null}const $s=Qe({}),vi=3e5;function Mi(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function qt(e,t=vi){const n=$s[e];return n?Mi(n,t)?n.data:(delete $s[e],null):null}function Ft(e,t){$s[e]={data:t,timestamp:Date.now()}}function je(e){delete $s[e]}function Ii(){const e={};return Object.keys($s).forEach(t=>{const n=$s[t];n&&(e[t]={age:Date.now()-n.timestamp,timestamp:n.timestamp,valid:Mi(n,vi)})}),e}function zt(e){const t=qe({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const c=`${e}-fetch-start`;return Ni(c),c},endFetch:c=>{const u=`${e}-fetch-end`;Ni(u);const p=d0(`${e}-fetch`,c,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const dn=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,n);return a.searchParams.set("task",`api.products.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function u0({endpoints:e,token:t,autoload:n=!0,cacheTTL:a=3e5}){var $e,ve,oe,Se,Ce,D;const s=Mt({token:t}),r=zt("products"),c=($e=e==null?void 0:e.list)!=null?$e:"",u=(ve=e==null?void 0:e.create)!=null?ve:dn(c,"store"),p=(oe=e==null?void 0:e.update)!=null?oe:dn(c,"update"),f=(Se=e==null?void 0:e.delete)!=null?Se:dn(c,"delete"),C=(Ce=e==null?void 0:e.checkout)!=null?Ce:dn(c,"checkout"),d=(D=e==null?void 0:e.checkin)!=null?D:dn(c,"checkin"),R=typeof AbortController!="undefined",h=Qe({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),k=qe(null),v=()=>{const I=h.pagination.current||1,U=h.pagination.limit||20,Q=h.search.trim();return`products:page=${I}:limit=${U}:search=${Q}`},x=async(I=!1)=>{var S;if(!c){h.error="Products endpoint unavailable.",h.items=[];return}const U=v(),Q=I?null:qt(U,a);if(Q){r.recordCacheHit(),h.items=Q.items,h.pagination={...h.pagination,...Q.pagination},h.lastUpdated=Q.lastUpdated;return}r.recordCacheMiss(),h.loading=!0,h.error="",h.validationErrors=[],k.value&&R&&k.value.abort();const y=R?new AbortController:null;k.value=y;const g=r.startFetch();try{const{items:B,pagination:le}=await s.fetchProducts({endpoint:c,signal:y?y.signal:void 0,limit:h.pagination.limit,start:Math.max(0,(h.pagination.current-1)*h.pagination.limit),search:h.search.trim()});h.items=B,h.pagination={...h.pagination,...le,current:le.current&&le.current>0?le.current:1},h.lastUpdated=new Date().toISOString(),Ft(U,{items:B,pagination:h.pagination,lastUpdated:h.lastUpdated})}catch(B){if((B==null?void 0:B.name)==="AbortError")return;h.error=(S=B==null?void 0:B.message)!=null?S:"Unknown error"}finally{r.endFetch(g),R&&k.value===y&&(k.value=null),h.loading=!1}},b=()=>{h.pagination.current=1,je(v()),x(!0)},m=()=>{h.pagination.current=1,x()},Y=I=>{const U=Number(I);Number.isNaN(U)||U<1||U>h.pagination.pages||(h.pagination.current=U,x())},$=I=>I?typeof I=="string"?I:typeof I=="object"&&I.message?String(I.message):String(I):"",K=(I,{setValidation:U=!1}={})=>{var Q;if((I==null?void 0:I.code)===422&&U){const y=Array.isArray(I.details)?I.details:[I.details].filter(Boolean);h.validationErrors=y.map($).filter(g=>g!=="");return}h.error=(Q=I==null?void 0:I.message)!=null?Q:"Unknown error"},z=async I=>{var U;if(!C||!I)return null;h.locking=!0,h.error="";try{const Q=await s.checkoutProduct({endpoint:C,id:I});if(Q){const y=h.items.findIndex(g=>g.id===Q.id);y!==-1&&h.items.splice(y,1,Q)}return Q}catch(Q){throw h.error=(U=Q==null?void 0:Q.message)!=null?U:"Unknown error",Q}finally{h.locking=!1}},ee=async(I,{force:U=!1}={})=>{var Q;if(!d||!I)return null;try{const y=await s.checkinProduct({endpoint:d,id:I,force:U});if(y){const g=h.items.findIndex(S=>S.id===y.id);g!==-1&&h.items.splice(g,1,y)}return y}catch(y){return h.error=(Q=y==null?void 0:y.message)!=null?Q:"Unknown error",null}},Re=async I=>ee(I,{force:!0}),ke=async I=>{if(!u)throw new Error("Create endpoint unavailable.");h.saving=!0,h.validationErrors=[];try{const U=await s.createProduct({endpoint:u,data:I});return U&&(h.items=[U,...h.items],h.pagination.total+=1,je(v())),U}catch(U){throw K(U,{setValidation:!0}),U}finally{h.saving=!1}},M=async(I,U)=>{if(!p)throw new Error("Update endpoint unavailable.");h.saving=!0,h.validationErrors=[];try{const Q=await s.updateProduct({endpoint:p,id:I,data:U});if(Q){const y=h.items.findIndex(g=>g.id===Q.id);y!==-1&&h.items.splice(y,1,Q),je(v())}return Q}catch(Q){throw K(Q,{setValidation:!0}),Q}finally{h.saving=!1}},De=async I=>{if(!f)throw new Error("Delete endpoint unavailable.");h.deleting=!0,h.validationErrors=[];try{const U=await s.deleteProducts({endpoint:f,ids:I});return U.length&&(h.items=h.items.filter(Q=>!U.includes(Q.id)),h.pagination.total=Math.max(0,h.pagination.total-U.length),je(v())),U}catch(U){throw K(U),U}finally{h.deleting=!1}};return St(()=>{n&&x()}),{state:h,loadProducts:x,refresh:b,search:m,goToPage:Y,createProduct:ke,updateProduct:M,deleteProducts:De,checkoutProduct:z,checkinProduct:ee,forceCheckinProduct:Re,metrics:r.metrics}}const ki=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,n);return a.searchParams.set("task",`api.categories.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function p0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var $e,ve,oe,Se,Ce,D,I,U,Q,y,g,S,B,le,ye,Pe;const r=Mt({token:t}),c=zt("categories"),u=($e=e==null?void 0:e.list)!=null?$e:"",p=(ve=e==null?void 0:e.create)!=null?ve:u,f=(oe=e==null?void 0:e.update)!=null?oe:u,C=(Se=e==null?void 0:e.delete)!=null?Se:u,d=(Ce=e==null?void 0:e.checkout)!=null?Ce:ki(u,"checkout"),R=(D=e==null?void 0:e.checkin)!=null?D:ki(u,"checkin"),h=Qe({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:Array.isArray(n.items)?n.items:[],pagination:{total:(y=(Q=(I=n.pagination)==null?void 0:I.total)!=null?Q:(U=n.items)==null?void 0:U.length)!=null?y:0,limit:(S=(g=n.pagination)==null?void 0:g.limit)!=null?S:20,pages:(le=(B=n.pagination)==null?void 0:B.pages)!=null?le:0,current:(Pe=(ye=n.pagination)==null?void 0:ye.current)!=null?Pe:1},search:"",lastUpdated:null}),k=typeof AbortController!="undefined",v=qe(null),x=()=>{const J=h.pagination.current||1,ge=h.pagination.limit||20,Me=h.search.trim();return`categories:page=${J}:limit=${ge}:search=${Me}`},b=async(J=!1)=>{var N;if(!u){h.error="Categories endpoint unavailable.",h.items=[];return}const ge=x(),Me=J?null:qt(ge,s);if(Me){c.recordCacheHit(),h.items=Me.items,h.pagination={...h.pagination,...Me.pagination},h.lastUpdated=Me.lastUpdated;return}c.recordCacheMiss(),h.loading=!0,h.error="",h.validationErrors=[],v.value&&k&&v.value.abort();const Xe=k?new AbortController:null;v.value=Xe;const T=c.startFetch();try{const G=Math.max(0,(h.pagination.current-1)*h.pagination.limit),{items:ne,pagination:te}=await r.fetchCategories({endpoint:u,limit:h.pagination.limit,start:G,search:h.search.trim(),signal:Xe?Xe.signal:void 0});h.items=ne,h.pagination={...h.pagination,...te,current:te.current&&te.current>0?te.current:1},h.lastUpdated=new Date().toISOString(),Ft(ge,{items:ne,pagination:h.pagination,lastUpdated:h.lastUpdated})}catch(G){if((G==null?void 0:G.name)==="AbortError")return;h.error=(N=G==null?void 0:G.message)!=null?N:"Unknown error"}finally{c.endFetch(T),k&&v.value===Xe&&(v.value=null),h.loading=!1}},m=()=>{h.pagination.current=1,je(x()),b(!0)},Y=()=>{h.pagination.current=1,b()},$=J=>{const ge=Number(J);Number.isNaN(ge)||ge<1||ge===h.pagination.current||(h.pagination.current=ge,b(!0))},K=(J,{validation:ge=!1}={})=>{var Me;if(ge&&(J==null?void 0:J.code)===422){const Xe=J.details,T=Array.isArray(Xe)?Xe:[Xe].filter(Boolean);h.validationErrors=T.map(N=>N?typeof N=="string"?N:typeof N=="object"&&N.message?String(N.message):String(N):"").filter(Boolean);return}h.error=(Me=J==null?void 0:J.message)!=null?Me:"Unknown error"},z=async J=>{if(!d||!J)return null;h.locking=!0,h.error="";try{const ge=await r.checkoutCategory({endpoint:d,id:J});return ge&&(je(x()),await b(!0)),ge}catch(ge){throw K(ge),ge}finally{h.locking=!1}},ee=async(J,{force:ge=!1}={})=>{if(!R||!J)return null;try{const Me=await r.checkinCategory({endpoint:R,id:J,force:ge});return Me&&(je(x()),await b(!0)),Me}catch(Me){return K(Me),null}},Re=async J=>ee(J,{force:!0}),ke=async J=>{if(!p||!f)throw new Error("Category endpoints unavailable.");h.saving=!0,h.error="",h.validationErrors=[];try{let ge=null;return J.id?ge=await r.updateCategory({endpoint:f,id:J.id,data:J}):ge=await r.createCategory({endpoint:p,data:J}),ge&&(je(x()),await b()),ge}catch(ge){throw K(ge,{validation:!0}),ge}finally{h.saving=!1}},M=async J=>{if(!Array.isArray(J)||!J.length||!C)return 0;h.deleting=!0,h.error="";try{const ge=await r.deleteCategories({endpoint:C,ids:J});return ge&&(je(x()),await b()),ge}catch(ge){throw K(ge),ge}finally{h.deleting=!1}},De=async()=>{if(!u)return[];try{const{items:J}=await r.fetchCategories({endpoint:u,limit:200,start:0,search:""});return J}catch(J){return[]}};return St(()=>{a&&(!Array.isArray(h.items)||!h.items.length)&&b()}),{state:h,loadCategories:b,refresh:m,search:Y,goToPage:$,saveCategory:ke,deleteCategories:M,loadOptions:De,checkoutCategory:z,checkinCategory:ee,forceCheckinCategory:Re,metrics:c.metrics}}const It=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,n);return a.searchParams.set("task",`api.orders.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function _0({endpoints:e,token:t,states:n=[],preload:a={},autoload:s=!0,cacheTTL:r=3e5}){var j,Z,H,pe,ie,ce,Ee,Oe,P,L,_e,me,X,Ne,Ke,Ge,He,Ze;const c=Mt({token:t}),u=zt("orders"),p=(j=e==null?void 0:e.list)!=null?j:"",f=(Z=e==null?void 0:e.show)!=null?Z:It(p,"show"),C=(H=e==null?void 0:e.transition)!=null?H:It(p,"transition"),d=(pe=e==null?void 0:e.bulkTransition)!=null?pe:It(p,"bulkTransition"),R=(ie=e==null?void 0:e.note)!=null?ie:It(p,"note"),h=(ce=e==null?void 0:e.tracking)!=null?ce:It(p,"tracking"),k=(Ee=e==null?void 0:e.invoice)!=null?Ee:It(p,"invoice"),v=(Oe=e==null?void 0:e.export)!=null?Oe:It(p,"export"),x=(P=e==null?void 0:e.sendEmail)!=null?P:It(p,"sendEmail"),b=(L=e==null?void 0:e.recordTransaction)!=null?L:It(p,"recordTransaction"),m=(_e=e==null?void 0:e.resendDownloads)!=null?_e:It(p,"resendDownloads"),Y=(me=e==null?void 0:e.resetDownload)!=null?me:It(p,"resetDownload"),$=(X=e==null?void 0:e.checkout)!=null?X:It(p,"checkout"),K=(Ne=e==null?void 0:e.checkin)!=null?Ne:It(p,"checkin"),z=typeof AbortController!="undefined",ee=qe(null),Re=Array.isArray(a==null?void 0:a.items)?a.items:[],ke=a!=null&&a.pagination&&typeof a.pagination=="object"?a.pagination:{},M=Qe({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...Re],pagination:{total:(Ke=ke.total)!=null?Ke:Re.length,limit:(Ge=ke.limit)!=null?Ge:20,pages:(He=ke.pages)!=null?He:0,current:(Ze=ke.current)!=null?Ze:1},search:"",filterState:"",orderStates:Array.isArray(n)&&n.length?n:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1,locking:!1}),De=qe(null),$e=()=>{const he=M.pagination.current||1,xe=M.pagination.limit||20,O=M.search.trim(),_=M.filterState||"";return`orders:page=${he}:limit=${xe}:search=${O}:state=${_}`},ve=async(he=!1)=>{var fe;if(!p){M.error="Orders endpoint unavailable.",M.items=[];return}const xe=$e(),O=he?null:qt(xe,r);if(O){u.recordCacheHit(),M.items=O.items,M.pagination={...M.pagination,...O.pagination},M.lastUpdated=O.lastUpdated;return}u.recordCacheMiss(),M.loading=!0,M.error="",ee.value&&z&&ee.value.abort();const _=z?new AbortController:null;ee.value=_;const V=u.startFetch();try{const Te=Math.max(0,(M.pagination.current-1)*M.pagination.limit),{items:F,pagination:de}=await c.fetchOrders({endpoint:p,limit:M.pagination.limit,start:Te,search:M.search.trim(),state:M.filterState,signal:_?_.signal:void 0});M.items=F,M.pagination={...M.pagination,...de,current:de.current&&de.current>0?de.current:1},M.selection.clear(),M.lastUpdated=new Date().toISOString(),Ft(xe,{items:F,pagination:M.pagination,lastUpdated:M.lastUpdated})}catch(Te){if((Te==null?void 0:Te.name)==="AbortError")return;M.error=(fe=Te==null?void 0:Te.message)!=null?fe:"Unknown error"}finally{u.endFetch(V),z&&ee.value===_&&(ee.value=null),M.loading=!1}},oe=()=>{M.pagination.current=1,je($e()),ve(!0)},Se=()=>{M.pagination.current=1,ve()},Ce=he=>{M.filterState=he||"",M.pagination.current=1,ve()},D=he=>{const xe=Number(he);Number.isNaN(xe)||xe<1||xe===M.pagination.current||(M.pagination.current=xe,ve(!0))},I=()=>{M.selection.clear()},U=he=>{he&&(M.selection.has(he)?M.selection.delete(he):M.selection.add(he))},Q=()=>{M.pagination.current>=M.pagination.pages||(M.pagination.current+=1,ve(!0))},y=()=>{M.pagination.current<=1||(M.pagination.current-=1,ve(!0))},g=async(he,xe="")=>{var O;if(!f)return null;try{return await c.fetchOrder({endpoint:f,id:he,orderNumber:xe})}catch(_){return M.transitionError=(O=_==null?void 0:_.message)!=null?O:"Unknown error",null}},S=he=>{if(!(he!=null&&he.id))return;const xe=M.items.findIndex(O=>O.id===he.id);xe!==-1&&M.items.splice(xe,1,he)},B=async he=>{var xe;if(!$||!he)return null;M.locking=!0,M.transitionError="";try{const O=await c.checkoutOrder({endpoint:$,id:he});return O&&(S(O),De.value=O.id),O}catch(O){throw M.transitionError=(xe=O==null?void 0:O.message)!=null?xe:"Unknown error",O}finally{M.locking=!1}},le=async(he,{force:xe=!1}={})=>{if(!K||!he)return null;try{const O=await c.checkinOrder({endpoint:K,id:he,force:xe});return O&&(S(O),M.activeOrder&&M.activeOrder.id===O.id&&(M.activeOrder=O),De.value===O.id&&(De.value=null)),O}catch(O){return null}},ye=async he=>le(he,{force:!0}),Pe=async()=>{if(!De.value)return;const he=De.value;De.value=null,await le(he)},J=async he=>{var xe,O,_;if(!he){M.transitionError="",M.activeOrder=null,await Pe();return}M.transitionError="";try{De.value&&De.value!==he.id&&await Pe();const V=await B(he.id);if(V){M.activeOrder=V;return}const fe=await g(he.id,he.order_no);M.activeOrder=fe||{...he,items:Array.isArray(he.items)?he.items:[],transactions:Array.isArray(he.transactions)?he.transactions:[],timeline:Array.isArray(he.timeline)?he.timeline:[],billing:(xe=he.billing)!=null?xe:{}}}catch(V){M.transitionError=(O=V==null?void 0:V.message)!=null?O:"Unknown error",M.activeOrder={...he,items:Array.isArray(he.items)?he.items:[],transactions:Array.isArray(he.transactions)?he.transactions:[],timeline:Array.isArray(he.timeline)?he.timeline:[],billing:(_=he.billing)!=null?_:{}}}},ge=async()=>{M.transitionError="",M.activeOrder=null,await Pe()},Me=async(he,xe)=>{var O;if(!C)throw new Error("Transition endpoint unavailable.");M.saving=!0,M.transitionError="";try{const _=await c.transitionOrder({endpoint:C,id:he,state:xe});return _&&(S(_),M.activeOrder&&M.activeOrder.id===_.id&&(M.activeOrder=_),je($e())),_}catch(_){throw M.transitionError=(O=_==null?void 0:_.message)!=null?O:"Unknown error",_}finally{M.saving=!1}},Xe=async(he,xe)=>{var O;if(!h)throw new Error("Tracking endpoint unavailable.");M.saving=!0,M.transitionError="";try{const _=await c.updateOrderTracking({endpoint:h,id:he,tracking:xe});return _&&(S(_),M.activeOrder&&M.activeOrder.id===_.id&&(M.activeOrder=_),je($e())),_}catch(_){throw M.transitionError=(O=_==null?void 0:_.message)!=null?O:"Unknown error",_}finally{M.saving=!1}},T=async(he,xe="")=>{var O;if(!k)throw new Error("Invoice endpoint unavailable.");M.invoiceLoading=!0,M.transitionError="";try{const _=await c.fetchOrderInvoice({endpoint:k,id:he,orderNumber:xe});if(!_)throw new Error("Invoice not available.");return _}catch(_){throw M.transitionError=(O=_==null?void 0:_.message)!=null?O:"Unknown error",_}finally{M.invoiceLoading=!1}},N=async()=>{var he;if(!v)throw new Error("Export endpoint unavailable.");M.exporting=!0,M.error="";try{const xe=await c.exportOrders({endpoint:v,search:M.search.trim(),state:M.filterState});if(!xe)throw new Error("Export not available.");return xe}catch(xe){throw M.error=(he=xe==null?void 0:xe.message)!=null?he:"Export failed",xe}finally{M.exporting=!1}},G=async(he,xe)=>{var O;if(!x)throw new Error("Send email endpoint unavailable.");M.saving=!0,M.transitionError="";try{const _=await c.sendOrderEmail({endpoint:x,id:he,type:xe});return _&&(S(_),M.activeOrder&&M.activeOrder.id===_.id&&(M.activeOrder=_),je($e())),_}catch(_){throw M.transitionError=(O=_==null?void 0:_.message)!=null?O:"Failed to send email",_}finally{M.saving=!1}},ne=async(he,{amountCents:xe,reference:O,note:_})=>{var V;if(!b)throw new Error("Record transaction endpoint unavailable.");M.saving=!0,M.transitionError="";try{const fe=await c.recordTransaction({endpoint:b,id:he,amountCents:xe,reference:O,note:_});return fe&&(S(fe),M.activeOrder&&M.activeOrder.id===fe.id&&(M.activeOrder=fe),je($e())),fe}catch(fe){throw M.transitionError=(V=fe==null?void 0:fe.message)!=null?V:"Failed to record payment",fe}finally{M.saving=!1}},te=async he=>{var xe;if(!m)throw new Error("Resend downloads endpoint unavailable.");M.saving=!0,M.transitionError="";try{const O=await c.resendDownloads({endpoint:m,id:he});return O&&(S(O),M.activeOrder&&M.activeOrder.id===O.id&&(M.activeOrder=O),je($e())),O}catch(O){throw M.transitionError=(xe=O==null?void 0:O.message)!=null?xe:"Failed to resend downloads email",O}finally{M.saving=!1}},ae=async(he,xe)=>{var O;if(!Y)throw new Error("Reset download endpoint unavailable.");M.saving=!0,M.transitionError="";try{const _=await c.resetDownload({endpoint:Y,downloadId:he,orderId:xe});return _!=null&&_.order&&(S(_.order),M.activeOrder&&M.activeOrder.id===_.order.id&&(M.activeOrder=_.order),je($e())),_}catch(_){throw M.transitionError=(O=_==null?void 0:_.message)!=null?O:"Failed to reset download count",_}finally{M.saving=!1}},q=async(he,xe)=>{var O;if(!d)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(he)||!he.length)return{updated:[]};M.saving=!0;try{const _=await c.bulkTransitionOrders({endpoint:d,ids:he,state:xe}),V=Array.isArray(_.updated)?_.updated:[];return V.forEach(fe=>{S(fe),M.activeOrder&&M.activeOrder.id===fe.id&&(M.activeOrder=fe)}),I(),{updated:V}}catch(_){throw M.transitionError=(O=_==null?void 0:_.message)!=null?O:"Unknown error",_}finally{M.saving=!1}};return St(()=>{s&&ve()}),{state:M,loadOrders:ve,refresh:oe,search:Se,setFilterState:Ce,goToPage:D,nextPage:Q,previousPage:y,checkoutOrder:B,checkinOrder:le,forceCheckinOrder:ye,releaseLock:Pe,viewOrder:J,closeOrder:ge,transitionOrder:Me,bulkTransition:q,updateTracking:Xe,downloadInvoice:T,exportOrders:N,sendEmail:G,recordTransaction:ne,resendDownloads:te,resetDownload:ae,toggleSelection:U,clearSelection:I,metrics:u.metrics,addNote:async(he,xe)=>{var O;if(!R)throw new Error("Note endpoint unavailable.");if(!he||!xe||!xe.trim())return null;M.transitionError="",M.saving=!0;try{const _=await c.addOrderNote({endpoint:R,id:he,message:xe});return _&&(S(_),M.activeOrder&&M.activeOrder.id===_.id&&(M.activeOrder=_)),_}catch(_){throw M.transitionError=(O=_==null?void 0:_.message)!=null?O:"Unknown error",_}finally{M.saving=!1}}}}function f0({endpoint:e="",token:t="",preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var C,d,R;const r=Mt({token:t}),c=zt("dashboard"),u=Qe({loading:!1,error:"",summary:(R=n.summary)!=null?R:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(d=(C=n.summary)==null?void 0:C.currency)!=null?d:"USD"},checklist:Array.isArray(n.checklist)?n.checklist:[],lastUpdated:null}),p=()=>"dashboard",f=async(h=!1)=>{var b,m;if(!e)return;const k=p(),v=h?null:qt(k,s);if(v){c.recordCacheHit(),u.summary=v.summary,u.checklist=v.checklist,u.lastUpdated=v.lastUpdated;return}c.recordCacheMiss(),u.loading=!0,u.error="";const x=c.startFetch();try{const Y=await r.fetchDashboard({endpoint:e});u.summary=(b=Y.summary)!=null?b:u.summary,u.checklist=Array.isArray(Y.checklist)?Y.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),Ft(k,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(Y){u.error=(m=Y==null?void 0:Y.message)!=null?m:"Unknown error"}finally{c.endFetch(x),u.loading=!1}};return St(()=>{a&&(!Array.isArray(u.checklist)||!u.checklist.length)&&f()}),{state:u,refresh:f,metrics:c.metrics}}function m0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var ee,Re,ke,M,De,$e,ve,oe,Se,Ce,D,I,U,Q,y,g,S;const r=Mt({token:t}),c=zt("customers"),u=(ee=e==null?void 0:e.list)!=null?ee:"",p=(Re=e==null?void 0:e.show)!=null?Re:"",f=(M=(ke=e==null?void 0:e.gdpr)==null?void 0:ke.export)!=null?M:"",C=($e=(De=e==null?void 0:e.gdpr)==null?void 0:De.anonymise)!=null?$e:"",d=Qe({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(Ce=(Se=(ve=n.pagination)==null?void 0:ve.total)!=null?Se:(oe=n.items)==null?void 0:oe.length)!=null?Ce:0,limit:(I=(D=n.pagination)==null?void 0:D.limit)!=null?I:20,pages:(Q=(U=n.pagination)==null?void 0:U.pages)!=null?Q:0,current:(g=(y=n.pagination)==null?void 0:y.current)!=null?g:1},search:"",activeCustomer:(S=n.active)!=null?S:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),R=typeof AbortController!="undefined",h=qe(null),k=()=>{const B=d.pagination.current||1,le=d.pagination.limit||20,ye=d.search.trim();return`customers:page=${B}:limit=${le}:search=${ye}`},v=async(B=!1)=>{var ge;if(!u){d.error="Customers endpoint unavailable.",d.items=[];return}const le=k(),ye=B?null:qt(le,s);if(ye){c.recordCacheHit(),d.items=ye.items,d.pagination={...d.pagination,...ye.pagination},d.lastUpdated=ye.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",h.value&&R&&h.value.abort();const Pe=R?new AbortController:null;h.value=Pe;const J=c.startFetch();try{const Me=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:Xe,pagination:T}=await r.fetchCustomers({endpoint:u,limit:d.pagination.limit,start:Me,search:d.search.trim(),signal:Pe?Pe.signal:void 0});d.items=Xe,d.pagination={...d.pagination,...T,current:T.current&&T.current>0?T.current:1},d.lastUpdated=new Date().toISOString(),Ft(le,{items:Xe,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(Me){if((Me==null?void 0:Me.name)==="AbortError")return;d.error=(ge=Me==null?void 0:Me.message)!=null?ge:"Unknown error"}finally{c.endFetch(J),R&&h.value===Pe&&(h.value=null),d.loading=!1}},x=()=>{d.pagination.current=1,je(k()),v(!0)},b=()=>{d.pagination.current=1,v()},m=B=>{const le=Number(B);Number.isNaN(le)||le<1||le===d.pagination.current||(d.pagination.current=le,v(!0))},Y=async B=>{var le;if(!p||!(B!=null&&B.email)){d.activeCustomer=B||null;return}try{const ye=await r.fetchCustomer({endpoint:p,email:B.email});d.activeCustomer=ye||B}catch(ye){d.error=(le=ye==null?void 0:ye.message)!=null?le:"Unknown error"}},$=()=>{d.activeCustomer=null,d.gdprMessage="",d.gdprSuccess=!1},K=async B=>{var le;if(!f||!B){d.gdprMessage="GDPR export endpoint unavailable.",d.gdprSuccess=!1;return}d.gdprLoading=!0,d.gdprMessage="";try{const ye=await r.gdprExport({endpoint:f,email:B});if(!ye)throw new Error("No data returned");const Pe=new Blob([JSON.stringify(ye,null,2)],{type:"application/json"}),J=URL.createObjectURL(Pe),ge=document.createElement("a");ge.href=J,ge.download=`gdpr-export-${B.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(J),d.gdprMessage="Data exported successfully.",d.gdprSuccess=!0}catch(ye){d.gdprMessage=(le=ye==null?void 0:ye.message)!=null?le:"Export failed",d.gdprSuccess=!1}finally{d.gdprLoading=!1}},z=async B=>{var ye;if(!C||!B){d.gdprMessage="GDPR anonymise endpoint unavailable.",d.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${B}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){d.gdprLoading=!0,d.gdprMessage="";try{const Pe=await r.gdprAnonymise({endpoint:C,email:B});d.gdprMessage=Pe.message||`Anonymised ${Pe.affected} order(s).`,d.gdprSuccess=!0,je(k()),v(!0),setTimeout(()=>{d.activeCustomer=null,d.gdprMessage=""},2e3)}catch(Pe){d.gdprMessage=(ye=Pe==null?void 0:Pe.message)!=null?ye:"Anonymisation failed",d.gdprSuccess=!1}finally{d.gdprLoading=!1}}};return St(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadCustomers:v,refresh:x,search:b,goToPage:m,viewCustomer:Y,closeCustomer:$,gdprExport:K,gdprAnonymise:z,metrics:c.metrics}}function h0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var ee,Re,ke,M,De,$e,ve,oe,Se,Ce,D,I,U,Q;const r=Mt({token:t}),c=zt("coupons"),u=(ee=e==null?void 0:e.list)!=null?ee:"",p=(Re=e==null?void 0:e.create)!=null?Re:u,f=(ke=e==null?void 0:e.update)!=null?ke:u,C=(M=e==null?void 0:e.delete)!=null?M:u,d=Qe({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(oe=(ve=(De=n.pagination)==null?void 0:De.total)!=null?ve:($e=n.items)==null?void 0:$e.length)!=null?oe:0,limit:(Ce=(Se=n.pagination)==null?void 0:Se.limit)!=null?Ce:20,pages:(I=(D=n.pagination)==null?void 0:D.pages)!=null?I:0,current:(Q=(U=n.pagination)==null?void 0:U.current)!=null?Q:1},search:"",activeCoupon:null,lastUpdated:null}),R=typeof AbortController!="undefined",h=qe(null),k=()=>{const y=d.pagination.current||1,g=d.pagination.limit||20,S=d.search.trim();return`coupons:page=${y}:limit=${g}:search=${S}`},v=async(y=!1)=>{var ye;if(!u){d.error="Coupons endpoint unavailable.",d.items=[];return}const g=k(),S=y?null:qt(g,s);if(S){c.recordCacheHit(),d.items=S.items,d.pagination={...d.pagination,...S.pagination},d.lastUpdated=S.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",h.value&&R&&h.value.abort();const B=R?new AbortController:null;h.value=B;const le=c.startFetch();try{const Pe=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:J,pagination:ge}=await r.fetchCoupons({endpoint:u,limit:d.pagination.limit,start:Pe,search:d.search.trim(),signal:B?B.signal:void 0});d.items=J,d.pagination={...d.pagination,...ge,current:ge.current&&ge.current>0?ge.current:1},d.lastUpdated=new Date().toISOString(),Ft(g,{items:J,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(Pe){if((Pe==null?void 0:Pe.name)==="AbortError")return;d.error=(ye=Pe==null?void 0:Pe.message)!=null?ye:"Unknown error"}finally{c.endFetch(le),R&&h.value===B&&(h.value=null),d.loading=!1}},x=()=>{d.pagination.current=1,je(k()),v(!0)},b=()=>{d.pagination.current=1,v()},m=y=>{const g=Number(y);Number.isNaN(g)||g<1||g===d.pagination.current||(d.pagination.current=g,v(!0))},Y=y=>{d.activeCoupon=y},$=y=>{const g=d.items.findIndex(S=>S.id===y.id);g===-1?d.items.unshift(y):d.items.splice(g,1,y)},K=async y=>{var g;d.saving=!0,d.error="";try{let S=null;return y.id?S=await r.updateCoupon({endpoint:f,id:y.id,data:y}):S=await r.createCoupon({endpoint:p,data:y}),S&&($(S),d.activeCoupon&&d.activeCoupon.id===S.id&&(d.activeCoupon=S),je(k())),S}catch(S){throw d.error=(g=S==null?void 0:S.message)!=null?g:"Unknown error",S}finally{d.saving=!1}},z=async y=>{var g;if(!Array.isArray(y)||!y.length)return 0;d.saving=!0,d.error="";try{const S=await r.deleteCoupons({endpoint:C,ids:y});return S&&(d.items=d.items.filter(B=>!y.includes(B.id)),d.activeCoupon&&y.includes(d.activeCoupon.id)&&(d.activeCoupon=null),je(k())),S}catch(S){throw d.error=(g=S==null?void 0:S.message)!=null?g:"Unknown error",S}finally{d.saving=!1}};return St(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadCoupons:v,refresh:x,search:b,goToPage:m,setActive:Y,saveCoupon:K,deleteCoupons:z,metrics:c.metrics}}const Do=(e={})=>{var f,C,d,R,h,k,v,x,b,m,Y,$,K,z,ee,Re,ke,M,De;const t=(f=e.store)!=null?f:{},n=(C=e.payments)!=null?C:{},a=(d=e.visual)!=null?d:{},s=(R=e.visual_defaults)!=null?R:{},r=(k=(h=e.security)==null?void 0:h.rate_limits)!=null?k:{},c=Array.isArray(e.currencies)?e.currencies:[],u=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",p=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(v=t.name)!=null?v:"",email:(x=t.email)!=null?x:"",phone:(b=t.phone)!=null?b:""},payments:{configured:!!n.configured},base_currency:u,display_locale:p,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(m=a.primary_color)!=null?m:"",text_color:(Y=a.text_color)!=null?Y:"",surface_color:($=a.surface_color)!=null?$:"",border_color:(K=a.border_color)!=null?K:"",muted_color:(z=a.muted_color)!=null?z:""},visual_defaults:{primary_color:(ee=s.primary_color)!=null?ee:"#4f6d7a",text_color:(Re=s.text_color)!=null?Re:"#1f2933",surface_color:(ke=s.surface_color)!=null?ke:"#ffffff",border_color:(M=s.border_color)!=null?M:"#e4e7ec",muted_color:(De=s.muted_color)!=null?De:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(r.checkout_ip_limit))?Number(r.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(r.checkout_email_limit))?Number(r.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(r.checkout_session_limit))?Number(r.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(r.checkout_window_minutes))?Number(r.checkout_window_minutes):Number.isFinite(Number(r.checkout_window))?Math.max(0,Math.ceil(Number(r.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(r.offline_ip_limit))?Number(r.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(r.offline_email_limit))?Number(r.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(r.offline_window_minutes))?Number(r.offline_window_minutes):Number.isFinite(Number(r.offline_window))?Math.max(0,Math.ceil(Number(r.offline_window)/60)):30}},currencies:c}};function g0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var R,h;const r=Mt({token:t}),c=zt("settings"),u=(R=e==null?void 0:e.show)!=null?R:"",p=(h=e==null?void 0:e.update)!=null?h:u,f=Qe({loading:!1,saving:!1,error:"",message:"",values:Do(n),lastUpdated:null}),C=async(k=!1)=>{var m;if(!u){f.error="Settings endpoint unavailable.";return}const v="settings:data",x=k?null:qt(v,s);if(x){c.recordCacheHit(),f.values=x.values,f.lastUpdated=x.lastUpdated;return}c.recordCacheMiss(),f.loading=!0,f.error="";const b=c.startFetch();try{const Y=await r.fetchSettings({endpoint:u});f.values=Do(Y),f.lastUpdated=new Date().toISOString(),Ft(v,{values:f.values,lastUpdated:f.lastUpdated})}catch(Y){throw f.error=(m=Y==null?void 0:Y.message)!=null?m:"Unknown error",Y}finally{c.endFetch(b),f.loading=!1}},d=async k=>{var v;if(!p)return f.error="Settings endpoint unavailable.",null;f.saving=!0,f.error="",f.message="";try{const x=await r.updateSettings({endpoint:p,data:k});return f.values=Do(x),f.lastUpdated=new Date().toISOString(),f.message="Settings saved.",je("settings:data"),Ft("settings:data",{values:f.values,lastUpdated:f.lastUpdated}),f.values}catch(x){throw f.error=(v=x==null?void 0:x.message)!=null?v:"Unknown error",x}finally{f.saving=!1}};return St(()=>{a&&C()}),{state:f,refresh:C,save:d,metrics:c.metrics}}function E0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var Y,$,K,z,ee,Re,ke,M,De,$e,ve,oe,Se,Ce;const r=Mt({token:t}),c=zt("taxRates"),u=(Y=e==null?void 0:e.list)!=null?Y:"",p=($=e==null?void 0:e.create)!=null?$:u,f=(K=e==null?void 0:e.update)!=null?K:u,C=(z=e==null?void 0:e.delete)!=null?z:u,d=Qe({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(M=(ke=(ee=n.pagination)==null?void 0:ee.total)!=null?ke:(Re=n.items)==null?void 0:Re.length)!=null?M:0,limit:($e=(De=n.pagination)==null?void 0:De.limit)!=null?$e:20,pages:(oe=(ve=n.pagination)==null?void 0:ve.pages)!=null?oe:0,current:(Ce=(Se=n.pagination)==null?void 0:Se.current)!=null?Ce:1},search:"",lastUpdated:null}),R=typeof AbortController!="undefined",h=qe(null),k=()=>{const D=d.pagination.current||1,I=d.pagination.limit||20,U=d.search.trim();return`taxRates:page=${D}:limit=${I}:search=${U}`},v=async(D=!1)=>{var g;if(!u){d.error="Tax endpoint unavailable.",d.items=[];return}const I=k(),U=D?null:qt(I,s);if(U){c.recordCacheHit(),d.items=U.items,d.pagination={...d.pagination,...U.pagination},d.lastUpdated=U.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",h.value&&R&&h.value.abort();const Q=R?new AbortController:null;h.value=Q;const y=c.startFetch();try{const S=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:B,pagination:le}=await r.fetchTaxRates({endpoint:u,limit:d.pagination.limit,start:S,search:d.search.trim(),signal:Q?Q.signal:void 0});d.items=B,d.pagination={...d.pagination,...le,current:le.current&&le.current>0?le.current:1},d.lastUpdated=new Date().toISOString(),Ft(I,{items:B,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(S){if((S==null?void 0:S.name)==="AbortError")return;d.error=(g=S==null?void 0:S.message)!=null?g:"Unknown error"}finally{c.endFetch(y),R&&h.value===Q&&(h.value=null),d.loading=!1}},x=()=>{d.pagination.current=1,je(k()),v(!0)},b=async D=>{var I;d.saving=!0,d.error="";try{const U=D.id?await r.updateTaxRate({endpoint:f,id:D.id,data:D}):await r.createTaxRate({endpoint:p,data:D});if(U){const Q=d.items.findIndex(y=>y.id===U.id);Q===-1?d.items.unshift(U):d.items.splice(Q,1,U),je(k())}return U}catch(U){throw d.error=(I=U==null?void 0:U.message)!=null?I:"Unknown error",U}finally{d.saving=!1}},m=async D=>{var I;if(!Array.isArray(D)||!D.length)return 0;d.saving=!0,d.error="";try{const U=await r.deleteTaxRates({endpoint:C,ids:D});return U&&(d.items=d.items.filter(Q=>!D.includes(Q.id)),je(k())),U}catch(U){throw d.error=(I=U==null?void 0:U.message)!=null?I:"Unknown error",U}finally{d.saving=!1}};return St(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadRates:v,refresh:x,saveRate:b,deleteRates:m,metrics:c.metrics}}function C0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var Y,$,K,z,ee,Re,ke,M,De,$e,ve,oe,Se,Ce;const r=Mt({token:t}),c=zt("shippingRules"),u=(Y=e==null?void 0:e.list)!=null?Y:"",p=($=e==null?void 0:e.create)!=null?$:u,f=(K=e==null?void 0:e.update)!=null?K:u,C=(z=e==null?void 0:e.delete)!=null?z:u,d=Qe({loading:!1,saving:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(M=(ke=(ee=n.pagination)==null?void 0:ee.total)!=null?ke:(Re=n.items)==null?void 0:Re.length)!=null?M:0,limit:($e=(De=n.pagination)==null?void 0:De.limit)!=null?$e:20,pages:(oe=(ve=n.pagination)==null?void 0:ve.pages)!=null?oe:0,current:(Ce=(Se=n.pagination)==null?void 0:Se.current)!=null?Ce:1},search:"",lastUpdated:null}),R=typeof AbortController!="undefined",h=qe(null),k=()=>{const D=d.pagination.current||1,I=d.pagination.limit||20,U=d.search.trim();return`shippingRules:page=${D}:limit=${I}:search=${U}`},v=async(D=!1)=>{var g;if(!u){d.error="Shipping endpoint unavailable.",d.items=[];return}const I=k(),U=D?null:qt(I,s);if(U){c.recordCacheHit(),d.items=U.items,d.pagination={...d.pagination,...U.pagination},d.lastUpdated=U.lastUpdated;return}c.recordCacheMiss(),d.loading=!0,d.error="",h.value&&R&&h.value.abort();const Q=R?new AbortController:null;h.value=Q;const y=c.startFetch();try{const S=Math.max(0,(d.pagination.current-1)*d.pagination.limit),{items:B,pagination:le}=await r.fetchShippingRules({endpoint:u,limit:d.pagination.limit,start:S,search:d.search.trim(),signal:Q?Q.signal:void 0});d.items=B,d.pagination={...d.pagination,...le,current:le.current&&le.current>0?le.current:1},d.lastUpdated=new Date().toISOString(),Ft(I,{items:B,pagination:d.pagination,lastUpdated:d.lastUpdated})}catch(S){if((S==null?void 0:S.name)==="AbortError")return;d.error=(g=S==null?void 0:S.message)!=null?g:"Unknown error"}finally{c.endFetch(y),R&&h.value===Q&&(h.value=null),d.loading=!1}},x=()=>{d.pagination.current=1,je(k()),v(!0)},b=async D=>{var I;d.saving=!0,d.error="";try{const U=D.id?await r.updateShippingRule({endpoint:f,id:D.id,data:D}):await r.createShippingRule({endpoint:p,data:D});if(U){const Q=d.items.findIndex(y=>y.id===U.id);Q===-1?d.items.unshift(U):d.items.splice(Q,1,U),je(k())}return U}catch(U){throw d.error=(I=U==null?void 0:U.message)!=null?I:"Unknown error",U}finally{d.saving=!1}},m=async D=>{var I;if(!Array.isArray(D)||!D.length)return 0;d.saving=!0,d.error="";try{const U=await r.deleteShippingRules({endpoint:C,ids:D});return U&&(d.items=d.items.filter(Q=>!D.includes(Q.id)),je(k())),U}catch(U){throw d.error=(I=U==null?void 0:U.message)!=null?I:"Unknown error",U}finally{d.saving=!1}};return St(()=>{a&&(!Array.isArray(d.items)||!d.items.length)&&v()}),{state:d,loadRules:v,refresh:x,saveRule:b,deleteRules:m,metrics:c.metrics}}function A0({endpoints:e,token:t,preload:n={},autoload:a=!0,cacheTTL:s=3e5}){var b,m,Y,$,K,z,ee,Re,ke,M,De;const r=Mt({token:t}),c=zt("logs"),u=(b=e==null?void 0:e.list)!=null?b:"",p=Qe({loading:!1,error:"",items:Array.isArray(n.items)?n.items:[],pagination:{total:(K=($=(m=n.pagination)==null?void 0:m.total)!=null?$:(Y=n.items)==null?void 0:Y.length)!=null?K:0,limit:(ee=(z=n.pagination)==null?void 0:z.limit)!=null?ee:20,pages:(ke=(Re=n.pagination)==null?void 0:Re.pages)!=null?ke:0,current:(De=(M=n.pagination)==null?void 0:M.current)!=null?De:1},search:"",entity:"",lastUpdated:null}),f=typeof AbortController!="undefined",C=qe(null),d=()=>{const $e=p.pagination.current||1,ve=p.pagination.limit||20,oe=p.search.trim(),Se=p.entity.trim();return`logs:page=${$e}:limit=${ve}:search=${oe}:entity=${Se}`},R=async($e=!1)=>{var D;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const ve=d(),oe=$e?null:qt(ve,s);if(oe){c.recordCacheHit(),p.items=oe.items,p.pagination={...p.pagination,...oe.pagination},p.lastUpdated=oe.lastUpdated;return}c.recordCacheMiss(),p.loading=!0,p.error="",f&&C.value&&C.value.abort();const Se=f?new AbortController:null;C.value=Se;const Ce=c.startFetch();try{const I=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:U,pagination:Q}=await r.fetchLogs({endpoint:u,limit:p.pagination.limit,start:I,search:p.search.trim(),entity:p.entity,signal:Se?Se.signal:void 0});p.items=U,p.pagination={...p.pagination,...Q,current:Q.current&&Q.current>0?Q.current:1},p.lastUpdated=new Date().toISOString(),Ft(ve,{items:U,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(I){if((I==null?void 0:I.name)==="AbortError")return;p.error=(D=I==null?void 0:I.message)!=null?D:"Unknown error"}finally{c.endFetch(Ce),f&&C.value===Se&&(C.value=null),p.loading=!1}},h=()=>{p.pagination.current=1,je(d()),R(!0)},k=()=>{p.pagination.current=1,R()},v=$e=>{const ve=typeof $e=="string"?$e.trim():"";p.entity!==ve&&(p.entity=ve,p.pagination.current=1,R())},x=$e=>{const ve=Number($e);Number.isNaN(ve)||ve<1||ve===p.pagination.current||(p.pagination.current=ve,R(!0))};return St(()=>{a&&(!Array.isArray(p.items)||!p.items.length)&&R()}),{state:p,loadLogs:R,refresh:h,search:k,setEntity:v,goToPage:x,metrics:c.metrics}}const wi=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function S0({endpoints:e={},token:t=""}){const n=Mt({token:t}),a=Qe({loading:!1,saving:!1,error:"",config:wi(),message:""}),s=async()=>{var u,p,f,C;if(e.show){a.loading=!0,a.error="";try{const d=await n.get(e.show);a.config=c((f=(p=(u=d==null?void 0:d.data)==null?void 0:u.config)!=null?p:d==null?void 0:d.config)!=null?f:{})}catch(d){a.error=(C=d.message)!=null?C:"Unable to load payment configuration."}finally{a.loading=!1}}},r=async u=>{var p,f,C,d,R,h,k;if(e.update){a.saving=!0,a.error="",a.message="";try{const v=await n.post(e.update,{config:u});a.config=c((C=(f=(p=v==null?void 0:v.data)==null?void 0:p.config)!=null?f:v==null?void 0:v.config)!=null?C:{}),a.message=(h=(R=(d=v==null?void 0:v.data)==null?void 0:d.message)!=null?R:v==null?void 0:v.message)!=null?h:""}catch(v){a.error=(k=v.message)!=null?k:"Unable to save payment configuration."}finally{a.saving=!1}}},c=u=>{var f,C,d,R;const p=wi();return{stripe:{...p.stripe,...(f=u.stripe)!=null?f:{}},paypal:{...p.paypal,...(C=u.paypal)!=null?C:{}},cod:{...p.cod,...(d=u.cod)!=null?d:{}},bank_transfer:{...p.bank_transfer,...(R=u.bank_transfer)!=null?R:{}}}};return{state:a,refresh:s,save:r}}const Rt=(e,t)=>{if(!e)return"";const n=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,n);return a.searchParams.set("task",t),`${a.pathname}?${a.searchParams.toString()}`};function b0({endpoints:e={},token:t="",autoload:n=!0}){var S,B,le,ye,Pe,J,ge,Me,Xe,T,N,G,ne,te,ae;const a=Mt({token:t}),s=(S=e==null?void 0:e.base)!=null?S:"",r=(B=e==null?void 0:e.importPlatforms)!=null?B:Rt(s,"api.import.platforms"),c=(le=e==null?void 0:e.importUpload)!=null?le:Rt(s,"api.import.upload"),u=(ye=e==null?void 0:e.importDetect)!=null?ye:Rt(s,"api.import.detect"),p=(Pe=e==null?void 0:e.importStart)!=null?Pe:Rt(s,"api.import.start"),f=(J=e==null?void 0:e.importProgress)!=null?J:Rt(s,"api.import.progress"),C=(ge=e==null?void 0:e.importCancel)!=null?ge:Rt(s,"api.import.cancel"),d=(Me=e==null?void 0:e.importJobs)!=null?Me:Rt(s,"api.import.jobs"),R=(Xe=e==null?void 0:e.importSamples)!=null?Xe:Rt(s,"api.import.samples");(T=e==null?void 0:e.exportPlatforms)!=null||Rt(s,"api.export.platforms");const h=(N=e==null?void 0:e.exportStart)!=null?N:Rt(s,"api.export.start"),k=(G=e==null?void 0:e.exportProgress)!=null?G:Rt(s,"api.export.progress"),v=(ne=e==null?void 0:e.exportDownload)!=null?ne:Rt(s,"api.export.download"),x=(te=e==null?void 0:e.exportCancel)!=null?te:Rt(s,"api.export.cancel"),b=(ae=e==null?void 0:e.exportJobs)!=null?ae:Rt(s,"api.export.jobs"),m=Qe({loading:!1,error:"",platforms:[],importFile:null,importFileId:"",importFilename:"",importFileSize:0,importRowCount:0,importHeaders:[],importPreview:[],importDetectedPlatform:null,importSelectedPlatform:"",importMapping:{},importUploading:!1,importStarting:!1,importJobId:null,importProgress:null,importPolling:!1,exportPlatform:"native",exportStarting:!1,exportJobId:null,exportProgress:null,exportPolling:!1,importJobs:[],exportJobs:[],jobsPagination:{total:0,limit:10,pages:0,current:1},samples:[]}),Y=qe(null),$=()=>{Y.value&&(clearInterval(Y.value),Y.value=null),m.importPolling=!1,m.exportPolling=!1},K=async()=>{var q,j,Z;if(r){m.loading=!0,m.error="";try{const H=await a.get(r);m.platforms=(j=(q=H.data)==null?void 0:q.platforms)!=null?j:[]}catch(H){m.error=(Z=H==null?void 0:H.message)!=null?Z:"Failed to load platforms"}finally{m.loading=!1}}},z=async()=>{var q,j;if(R)try{const Z=await a.get(R);m.samples=(j=(q=Z.data)==null?void 0:q.samples)!=null?j:[]}catch(Z){m.samples=[]}},ee=async q=>{var j,Z,H,pe,ie,ce,Ee,Oe,P,L;if(!c||!q)return null;m.importUploading=!0,m.error="",m.importFile=q;try{const _e=new FormData;_e.append("file",q);const X=(j=(await a.request(c,{method:"POST",body:_e})).data)!=null?j:{};return m.importFileId=(Z=X.file_id)!=null?Z:"",m.importFilename=(H=X.filename)!=null?H:q.name,m.importFileSize=(pe=X.size)!=null?pe:q.size,m.importRowCount=(ie=X.row_count)!=null?ie:0,m.importHeaders=(ce=X.headers)!=null?ce:[],m.importPreview=(Ee=X.preview)!=null?Ee:[],m.importDetectedPlatform=(Oe=X.detected_platform)!=null?Oe:null,m.importSelectedPlatform=(P=X.detected_platform)!=null?P:"",X}catch(_e){return m.error=(L=_e==null?void 0:_e.message)!=null?L:"Failed to upload file",null}finally{m.importUploading=!1}},Re=async q=>{var j,Z,H,pe;if(!u||!(q!=null&&q.length))return null;try{const ce=(j=(await a.post(u,{headers:q})).data)!=null?j:{};return m.importDetectedPlatform=(Z=ce.platform)!=null?Z:null,m.importMapping=(H=ce.mapping)!=null?H:{},ce}catch(ie){return m.error=(pe=ie==null?void 0:ie.message)!=null?pe:"Failed to detect platform",null}},ke=async(q={})=>{var j,Z,H,pe,ie;if(!p||!m.importFileId)return m.error="No file uploaded",null;if(!m.importSelectedPlatform)return m.error="Please select a platform",null;m.importStarting=!0,m.error="";try{const Ee=(j=(await a.post(p,{file_id:m.importFileId,platform:m.importSelectedPlatform,options:{...q,mapping:m.importMapping}})).data)!=null?j:{};return m.importJobId=(Z=Ee.job_id)!=null?Z:null,m.importProgress={status:(H=Ee.status)!=null?H:"pending",total_rows:(pe=Ee.total_rows)!=null?pe:0,processed_rows:0,imported_products:0,imported_variants:0,imported_categories:0,skipped_rows:0,errors:[],warnings:[],percent:0},De(),Ee}catch(ce){return m.error=(ie=ce==null?void 0:ce.message)!=null?ie:"Failed to start import",null}finally{m.importStarting=!1}},M=async()=>{var q,j,Z,H,pe,ie,ce,Ee,Oe,P,L,_e;if(!(!f||!m.importJobId))try{const me=`${f}&job_id=${m.importJobId}`,Ne=(q=(await a.get(me)).data)!=null?q:{};m.importProgress={status:(j=Ne.status)!=null?j:"unknown",total_rows:(Z=Ne.total_rows)!=null?Z:0,processed_rows:(H=Ne.processed_rows)!=null?H:0,imported_products:(pe=Ne.imported_products)!=null?pe:0,imported_variants:(ie=Ne.imported_variants)!=null?ie:0,imported_categories:(ce=Ne.imported_categories)!=null?ce:0,skipped_rows:(Ee=Ne.skipped_rows)!=null?Ee:0,errors:(Oe=Ne.errors)!=null?Oe:[],warnings:(P=Ne.warnings)!=null?P:[],percent:(L=Ne.progress_percent)!=null?L:Ne.total_rows>0?Math.round(Ne.processed_rows/Ne.total_rows*100):0},["completed","failed","cancelled"].includes(Ne.status)&&$()}catch(me){m.error=(_e=me==null?void 0:me.message)!=null?_e:"Failed to get progress",$()}},De=()=>{$(),m.importPolling=!0,M(),Y.value=setInterval(M,2e3)},$e=async()=>{var q;if(!(!C||!m.importJobId))try{await a.post(C,{job_id:m.importJobId}),$(),m.importProgress={...m.importProgress,status:"cancelled"}}catch(j){m.error=(q=j==null?void 0:j.message)!=null?q:"Failed to cancel import"}},ve=()=>{$(),m.importFile=null,m.importFileId="",m.importFilename="",m.importFileSize=0,m.importRowCount=0,m.importHeaders=[],m.importPreview=[],m.importDetectedPlatform=null,m.importSelectedPlatform="",m.importMapping={},m.importJobId=null,m.importProgress=null,m.error=""},oe=async(q={})=>{var j,Z,H,pe,ie;if(!h)return null;m.exportStarting=!0,m.error="";try{const Ee=(j=(await a.post(h,{platform:m.exportPlatform,options:q})).data)!=null?j:{};return m.exportJobId=(Z=Ee.job_id)!=null?Z:null,m.exportProgress={status:(H=Ee.status)!=null?H:"pending",total_rows:(pe=Ee.total_rows)!=null?pe:0,processed_rows:0,percent:0},Ce(),Ee}catch(ce){return m.error=(ie=ce==null?void 0:ce.message)!=null?ie:"Failed to start export",null}finally{m.exportStarting=!1}},Se=async()=>{var q,j,Z,H,pe,ie;if(!(!k||!m.exportJobId))try{const ce=`${k}&job_id=${m.exportJobId}`,Oe=(q=(await a.get(ce)).data)!=null?q:{};m.exportProgress={status:(j=Oe.status)!=null?j:"unknown",total_rows:(Z=Oe.total_rows)!=null?Z:0,processed_rows:(H=Oe.processed_rows)!=null?H:0,percent:Oe.total_rows>0?Math.round(Oe.processed_rows/Oe.total_rows*100):0,file_path:(pe=Oe.file_path)!=null?pe:""},["completed","failed","cancelled"].includes(Oe.status)&&$()}catch(ce){m.error=(ie=ce==null?void 0:ce.message)!=null?ie:"Failed to get progress",$()}},Ce=()=>{$(),m.exportPolling=!0,Se(),Y.value=setInterval(Se,2e3)},D=async()=>{var q;if(!(!x||!m.exportJobId))try{await a.post(x,{job_id:m.exportJobId}),$(),m.exportProgress={...m.exportProgress,status:"cancelled"}}catch(j){m.error=(q=j==null?void 0:j.message)!=null?q:"Failed to cancel export"}},I=()=>{if(!v||!m.exportJobId)return;const q=`${v}&job_id=${m.exportJobId}`;typeof window!="undefined"&&(window.location.href=q)},U=()=>{$(),m.exportPlatform="native",m.exportJobId=null,m.exportProgress=null,m.error=""},Q=async()=>{var q,j;if(d)try{const Z=`${d}&type=import&limit=${m.jobsPagination.limit}`,pe=(q=(await a.get(Z)).data)!=null?q:{};m.importJobs=(j=pe.items)!=null?j:[]}catch(Z){m.importJobs=[]}},y=async()=>{var q,j;if(b)try{const Z=`${b}&type=export&limit=${m.jobsPagination.limit}`,pe=(q=(await a.get(Z)).data)!=null?q:{};m.exportJobs=(j=pe.items)!=null?j:[]}catch(Z){m.exportJobs=[]}},g=async()=>{await Promise.all([K(),z(),Q(),y()])};return St(()=>{n&&g()}),Co(()=>{$()}),{state:m,loadPlatforms:K,loadSamples:z,uploadFile:ee,detectPlatform:Re,startImport:ke,cancelImport:$e,resetImport:ve,startExport:oe,cancelExport:D,downloadExport:I,resetExport:U,loadImportJobs:Q,loadExportJobs:y,refresh:g,stopPolling:$}}const T0={class:"nxp-ec-admin-app__shell"},y0={class:"nxp-ec-admin-app__header"},R0={class:"nxp-ec-admin-app__title"},O0={class:"nxp-ec-admin-app__lead"},x0={class:"nxp-ec-btn__progress-label"},P0={key:0,class:"nxp-ec-admin-nav"},N0=["href"],v0={key:12,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},M0={class:"nxp-ec-admin-panel__body"},I0={class:"nxp-ec-admin-panel__lead"},un="nxp:admin:onboarding:dismissed",k0={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var pc,_c,fc,mc,hc,gc,Ec,Cc,Ac,Sc,bc,Tc,yc,Rc,Oc,xc,Pc,Nc,vc,Mc,Ic,kc,wc,$c,Dc,Lc,Yc,Uc,Xc,Fc,Gc,Vc,Hc,Bc,Kc,jc,Jc,Wc,qc,zc,Qc,Zc,ed,td,sd,nd,od,ad,id,rd,ld,cd,dd,ud,pd,_d,fd,md,hd,gd,Ed,Cd,Ad,Sd,bd,Td,yd,Rd,Od,xd,Pd,Nd,vd,Md,Id,kd,wd,$d,Dd,Ld,Yd,Ud,Xd,Fd,Gd,Vd,Hd,Bd,Kd,jd,Jd,Wd,qd,zd,Qd,Zd,eu,tu,su,nu,ou,au,iu,ru,lu,cu,du,uu,pu,_u,fu,mu,hu,gu,Eu,Cu,Au,Su,bu,Tu,yu,Ru,Ou,xu,Pu,Nu,vu,Mu,Iu,ku,wu,$u,Du,Lu,Yu,Uu,Xu,Fu,Gu,Vu,Hu,Bu,Ku,ju,Ju,Wu,qu,zu,Qu,Zu,ep,tp,sp,np,op,ap,ip,rp,lp,cp,dp,up,pp,_p,fp,mp,hp,gp,Ep,Cp,Ap,Sp,bp,Tp,yp,Rp,Op,xp,Pp,Np,vp,Mp,Ip,kp,wp,$p,Dp,Lp,Yp,Up,Xp,Fp,Gp,Vp,Hp,Bp,Kp,jp,Jp,Wp,qp,zp,Qp,Zp,e_,t_,s_,n_,o_,a_,i_,r_,l_,c_,d_,u_,p_,__,f_,m_,h_,g_,E_,C_,A_,S_,b_,T_,y_,R_;const t=e,{__:n}=c0(t.dataset),a=be(()=>{var w;return((w=t.dataset)==null?void 0:w.appTitleKey)||"COM_NXPEASYCART"}),s=be(()=>{var w;return((w=t.dataset)==null?void 0:w.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),r=(w,ue)=>{if(!w||typeof w!="string")return ue;try{return JSON.parse(w)}catch(Le){return ue}},c=be(()=>{var w,ue;return!!((ue=(w=Qt==null?void 0:Qt.values)==null?void 0:w.show_advanced_mode)!=null&&ue)}),u=be(()=>{var ue,Le;let w=[];if(Array.isArray((ue=t.config)==null?void 0:ue.navItems))w=t.config.navItems.map(et=>({id:et.id,title:et.title,link:et.link}));else{const et=r((Le=t.dataset)==null?void 0:Le.navItems,[]);w=Array.isArray(et)?et.map(rt=>({id:rt.id,title:rt.title,link:rt.link})):[]}return c.value||(w=w.filter(et=>et.id!=="logs")),w}),p=w=>{const ue=u.value;if(!Array.isArray(ue))return"";const Le=ue.find(et=>et.id===w);return Le?Le.link:""},f=be(()=>{var w,ue;return((w=t.config)==null?void 0:w.activeSection)||((ue=t.dataset)==null?void 0:ue.activeSection)||"dashboard"}),C=be(()=>{var w,ue;return((w=t.config)==null?void 0:w.settingsTab)||((ue=t.dataset)==null?void 0:ue.settingsTab)||"general"}),d=w=>f.value===w,R=be(()=>{var w,ue,Le,et,rt;return Number.parseInt((rt=(et=(ue=(w=t.config)==null?void 0:w.user)==null?void 0:ue.id)!=null?et:(Le=t.dataset)==null?void 0:Le.userId)!=null?rt:0,10)||0}),h=be(()=>d("dashboard")),k=be(()=>d("products")),v=be(()=>d("categories")||d("products")),x=be(()=>d("orders")),b=be(()=>d("customers")),m=be(()=>d("coupons")),Y=be(()=>d("settings")),$=be(()=>d("tax")),K=be(()=>d("shipping")),z=be(()=>d("logs")),ee=be(()=>d("importexport")),Re={...(_c=(pc=t.endpoints)==null?void 0:pc.products)!=null?_c:{},list:(Ec=(gc=(mc=(fc=t.endpoints)==null?void 0:fc.products)==null?void 0:mc.list)!=null?gc:(hc=t.dataset)==null?void 0:hc.productsEndpoint)!=null?Ec:"",create:(Tc=(bc=(Ac=(Cc=t.endpoints)==null?void 0:Cc.products)==null?void 0:Ac.create)!=null?bc:(Sc=t.dataset)==null?void 0:Sc.productsEndpointCreate)!=null?Tc:"",update:(Pc=(xc=(Rc=(yc=t.endpoints)==null?void 0:yc.products)==null?void 0:Rc.update)!=null?xc:(Oc=t.dataset)==null?void 0:Oc.productsEndpointUpdate)!=null?Pc:"",delete:(kc=(Ic=(vc=(Nc=t.endpoints)==null?void 0:Nc.products)==null?void 0:vc.delete)!=null?Ic:(Mc=t.dataset)==null?void 0:Mc.productsEndpointDelete)!=null?kc:"",checkout:(Yc=(Lc=($c=(wc=t.endpoints)==null?void 0:wc.products)==null?void 0:$c.checkout)!=null?Lc:(Dc=t.dataset)==null?void 0:Dc.productsEndpointCheckout)!=null?Yc:"",checkin:(Vc=(Gc=(Xc=(Uc=t.endpoints)==null?void 0:Uc.products)==null?void 0:Xc.checkin)!=null?Gc:(Fc=t.dataset)==null?void 0:Fc.productsEndpointCheckin)!=null?Vc:""},ke={...(Bc=(Hc=t.endpoints)==null?void 0:Hc.categories)!=null?Bc:{},list:(qc=(Wc=(jc=(Kc=t.endpoints)==null?void 0:Kc.categories)==null?void 0:jc.list)!=null?Wc:(Jc=t.dataset)==null?void 0:Jc.categoriesEndpoint)!=null?qc:"",create:(td=(ed=(Qc=(zc=t.endpoints)==null?void 0:zc.categories)==null?void 0:Qc.create)!=null?ed:(Zc=t.dataset)==null?void 0:Zc.categoriesEndpointCreate)!=null?td:"",update:(id=(ad=(nd=(sd=t.endpoints)==null?void 0:sd.categories)==null?void 0:nd.update)!=null?ad:(od=t.dataset)==null?void 0:od.categoriesEndpointUpdate)!=null?id:"",delete:(ud=(dd=(ld=(rd=t.endpoints)==null?void 0:rd.categories)==null?void 0:ld.delete)!=null?dd:(cd=t.dataset)==null?void 0:cd.categoriesEndpointDelete)!=null?ud:"",checkout:(hd=(md=(_d=(pd=t.endpoints)==null?void 0:pd.categories)==null?void 0:_d.checkout)!=null?md:(fd=t.dataset)==null?void 0:fd.categoriesEndpointCheckout)!=null?hd:"",checkin:(Sd=(Ad=(Ed=(gd=t.endpoints)==null?void 0:gd.categories)==null?void 0:Ed.checkin)!=null?Ad:(Cd=t.dataset)==null?void 0:Cd.categoriesEndpointCheckin)!=null?Sd:""},M={...(Td=(bd=t.endpoints)==null?void 0:bd.orders)!=null?Td:{},list:(Pd=(xd=(Rd=(yd=t.endpoints)==null?void 0:yd.orders)==null?void 0:Rd.list)!=null?xd:(Od=t.dataset)==null?void 0:Od.ordersEndpoint)!=null?Pd:"",show:(kd=(Id=(vd=(Nd=t.endpoints)==null?void 0:Nd.orders)==null?void 0:vd.show)!=null?Id:(Md=t.dataset)==null?void 0:Md.ordersEndpointShow)!=null?kd:"",transition:(Yd=(Ld=($d=(wd=t.endpoints)==null?void 0:wd.orders)==null?void 0:$d.transition)!=null?Ld:(Dd=t.dataset)==null?void 0:Dd.ordersEndpointTransition)!=null?Yd:"",bulkTransition:(Vd=(Gd=(Xd=(Ud=t.endpoints)==null?void 0:Ud.orders)==null?void 0:Xd.bulkTransition)!=null?Gd:(Fd=t.dataset)==null?void 0:Fd.ordersEndpointBulk)!=null?Vd:"",note:(Jd=(jd=(Bd=(Hd=t.endpoints)==null?void 0:Hd.orders)==null?void 0:Bd.note)!=null?jd:(Kd=t.dataset)==null?void 0:Kd.ordersEndpointNote)!=null?Jd:"",tracking:(Zd=(Qd=(qd=(Wd=t.endpoints)==null?void 0:Wd.orders)==null?void 0:qd.tracking)!=null?Qd:(zd=t.dataset)==null?void 0:zd.ordersEndpointTracking)!=null?Zd:"",invoice:(ou=(nu=(tu=(eu=t.endpoints)==null?void 0:eu.orders)==null?void 0:tu.invoice)!=null?nu:(su=t.dataset)==null?void 0:su.ordersEndpointInvoice)!=null?ou:"",checkout:(cu=(lu=(iu=(au=t.endpoints)==null?void 0:au.orders)==null?void 0:iu.checkout)!=null?lu:(ru=t.dataset)==null?void 0:ru.ordersEndpointCheckout)!=null?cu:"",checkin:(fu=(_u=(uu=(du=t.endpoints)==null?void 0:du.orders)==null?void 0:uu.checkin)!=null?_u:(pu=t.dataset)==null?void 0:pu.ordersEndpointCheckin)!=null?fu:""},De=(Au=(mu=t.endpoints)==null?void 0:mu.customers)!=null?Au:{list:(gu=(hu=t.dataset)==null?void 0:hu.customersEndpoint)!=null?gu:"",show:(Cu=(Eu=t.dataset)==null?void 0:Eu.customersEndpointShow)!=null?Cu:""},$e=(vu=(Su=t.endpoints)==null?void 0:Su.coupons)!=null?vu:{list:(Tu=(bu=t.dataset)==null?void 0:bu.couponsEndpoint)!=null?Tu:"",create:(Ru=(yu=t.dataset)==null?void 0:yu.couponsEndpointCreate)!=null?Ru:"",update:(xu=(Ou=t.dataset)==null?void 0:Ou.couponsEndpointUpdate)!=null?xu:"",delete:(Nu=(Pu=t.dataset)==null?void 0:Pu.couponsEndpointDelete)!=null?Nu:""},ve=(Xu=(Mu=t.endpoints)==null?void 0:Mu.tax)!=null?Xu:{list:(ku=(Iu=t.dataset)==null?void 0:Iu.taxEndpoint)!=null?ku:"",create:($u=(wu=t.dataset)==null?void 0:wu.taxEndpointCreate)!=null?$u:"",update:(Lu=(Du=t.dataset)==null?void 0:Du.taxEndpointUpdate)!=null?Lu:"",delete:(Uu=(Yu=t.dataset)==null?void 0:Yu.taxEndpointDelete)!=null?Uu:""},oe=(qu=(Fu=t.endpoints)==null?void 0:Fu.shipping)!=null?qu:{list:(Vu=(Gu=t.dataset)==null?void 0:Gu.shippingEndpoint)!=null?Vu:"",create:(Bu=(Hu=t.dataset)==null?void 0:Hu.shippingEndpointCreate)!=null?Bu:"",update:(ju=(Ku=t.dataset)==null?void 0:Ku.shippingEndpointUpdate)!=null?ju:"",delete:(Wu=(Ju=t.dataset)==null?void 0:Ju.shippingEndpointDelete)!=null?Wu:""},Se=(op=(zu=t.endpoints)==null?void 0:zu.digitalfiles)!=null?op:{list:(Zu=(Qu=t.dataset)==null?void 0:Qu.digitalfilesEndpointList)!=null?Zu:"",upload:(tp=(ep=t.dataset)==null?void 0:ep.digitalfilesEndpointUpload)!=null?tp:"",delete:(np=(sp=t.dataset)==null?void 0:sp.digitalfilesEndpointDelete)!=null?np:""},Ce=(dp=(ap=t.endpoints)==null?void 0:ap.settings)!=null?dp:{show:(rp=(ip=t.dataset)==null?void 0:ip.settingsEndpointShow)!=null?rp:"",update:(cp=(lp=t.dataset)==null?void 0:lp.settingsEndpointUpdate)!=null?cp:""},D=(fp=(up=t.endpoints)==null?void 0:up.logs)!=null?fp:{list:(_p=(pp=t.dataset)==null?void 0:pp.logsEndpoint)!=null?_p:""},I=(Ap=(mp=t.endpoints)==null?void 0:mp.payments)!=null?Ap:{show:(gp=(hp=t.dataset)==null?void 0:hp.paymentsEndpointShow)!=null?gp:"",update:(Cp=(Ep=t.dataset)==null?void 0:Ep.paymentsEndpointUpdate)!=null?Cp:""},U=(yp=(Sp=t.endpoints)==null?void 0:Sp.importExport)!=null?yp:{base:(Tp=(bp=t.dataset)==null?void 0:bp.importExportEndpoint)!=null?Tp:""},Q=be(()=>{var w;return r((w=t.dataset)==null?void 0:w.orderStates,[])}),{state:y,refresh:g}=f0({endpoint:(Mp=(vp=(Pp=(Rp=t.endpoints)==null?void 0:Rp.dashboard)!=null?Pp:(xp=(Op=t.config)==null?void 0:Op.endpoints)==null?void 0:xp.dashboard)!=null?vp:(Np=t.dataset)==null?void 0:Np.dashboardEndpoint)!=null?Mp:"",token:t.csrfToken,preload:(Dp=(kp=(Ip=t.config)==null?void 0:Ip.preload)==null?void 0:kp.dashboard)!=null?Dp:{summary:r((wp=t.dataset)==null?void 0:wp.dashboardSummary,{}),checklist:r(($p=t.dataset)==null?void 0:$p.dashboardChecklist,[])},autoload:h.value}),{state:S,refresh:B,search:le,goToPage:ye,createProduct:Pe,updateProduct:J,deleteProducts:ge,checkoutProduct:Me,checkinProduct:Xe,forceCheckinProduct:T,metrics:N}=u0({endpoints:Re,token:t.csrfToken,autoload:k.value}),{state:G,refresh:ne,search:te,goToPage:ae,saveCategory:q,deleteCategories:j,loadOptions:Z,checkoutCategory:H,checkinCategory:pe,forceCheckinCategory:ie,metrics:ce}=p0({endpoints:ke,token:t.csrfToken,preload:(Fp=(Yp=(Lp=t.config)==null?void 0:Lp.preload)==null?void 0:Yp.categories)!=null?Fp:{items:r((Up=t.dataset)==null?void 0:Up.categoriesPreload,[]),pagination:r((Xp=t.dataset)==null?void 0:Xp.categoriesPreloadPagination,{})},autoload:v.value}),Ee=be(()=>(Array.isArray(G.items)?G.items:[]).map(ue=>{var Le,et,rt;return{id:Number.parseInt((Le=ue==null?void 0:ue.id)!=null?Le:0,10)||0,title:String((et=ue==null?void 0:ue.title)!=null?et:"").trim(),slug:String((rt=ue==null?void 0:ue.slug)!=null?rt:"").trim(),parent_id:(ue==null?void 0:ue.parent_id)!==null&&(ue==null?void 0:ue.parent_id)!==void 0&&Number.parseInt(ue.parent_id,10)||null}}).filter(ue=>ue.title!=="")),{state:Oe,refresh:P,search:L,setFilterState:_e,viewOrder:me,closeOrder:X,forceCheckinOrder:Ne,releaseLock:Ke,transitionOrder:Ge,goToPage:He,bulkTransition:Ze,toggleSelection:he,clearSelection:xe,addNote:O,updateTracking:_,downloadInvoice:V,exportOrders:fe,sendEmail:Te,recordTransaction:F,resendDownloads:de,resetDownload:W,metrics:Be}=_0({endpoints:M,token:t.csrfToken,states:Q.value,preload:(Kp=(Vp=(Gp=t.config)==null?void 0:Gp.preload)==null?void 0:Vp.orders)!=null?Kp:{items:r((Hp=t.dataset)==null?void 0:Hp.ordersPreload,[]),pagination:r((Bp=t.dataset)==null?void 0:Bp.ordersPreloadPagination,{})},autoload:x.value}),{state:Je,refresh:at,search:kt,goToPage:Lt,viewCustomer:wt,closeCustomer:Ds,gdprExport:Ot,gdprAnonymise:xt}=m0({endpoints:{...De,gdpr:(Jp=(jp=t.endpoints)==null?void 0:jp.gdpr)!=null?Jp:{}},token:t.csrfToken,preload:(Zp=(qp=(Wp=t.config)==null?void 0:Wp.preload)==null?void 0:qp.customers)!=null?Zp:{items:r((zp=t.dataset)==null?void 0:zp.customersPreload,[]),pagination:r((Qp=t.dataset)==null?void 0:Qp.customersPreloadPagination,{})},autoload:b.value}),{state:is,refresh:Gt,search:Es,goToPage:Cs,saveCoupon:Ls,deleteCoupons:Ys}=h0({endpoints:(t_=(e_=t.endpoints)==null?void 0:e_.coupons)!=null?t_:$e,token:t.csrfToken,preload:(i_=(n_=(s_=t.config)==null?void 0:s_.preload)==null?void 0:n_.coupons)!=null?i_:{items:r((o_=t.dataset)==null?void 0:o_.couponsPreload,[]),pagination:r((a_=t.dataset)==null?void 0:a_.couponsPreloadPagination,{})},autoload:m.value}),Kn=(d_=(l_=(r_=t.config)==null?void 0:r_.preload)==null?void 0:l_.settings)!=null?d_:r((c_=t.dataset)==null?void 0:c_.settingsPreload,{}),{state:Qt,refresh:jn,save:Lo}=g0({endpoints:Ce,token:t.csrfToken,preload:Kn,autoload:Y.value}),w0=be(()=>{var ue,Le;const w=(Le=(ue=t.dataset)==null?void 0:ue.baseCurrency)!=null?Le:"";return typeof w=="string"?w.trim().toUpperCase():""}),$0=be(()=>{var ue,Le;const w=(Le=(ue=Qt==null?void 0:Qt.values)==null?void 0:ue.base_currency)!=null?Le:"";return typeof w=="string"?w.trim().toUpperCase():""}),pn=be(()=>{const w=$0.value||w0.value;return w!==""?w:"USD"}),D0=be(()=>{var ue,Le;const w=(Le=(ue=t.dataset)==null?void 0:ue.mediaModalUrl)!=null?Le:"";return typeof w=="string"?w.trim():""}),L0=be(()=>{var ue,Le,et,rt,Pt;const w=(rt=(et=(ue=t.config)==null?void 0:ue.siteRoot)!=null?et:(Le=t.dataset)==null?void 0:Le.siteRoot)!=null?rt:"";return typeof w=="string"&&w.trim()!==""?w.trim():typeof window!="undefined"&&((Pt=window.location)!=null&&Pt.origin)?window.location.origin:""}),Y0=w=>{switch(w){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_PUBLISH_CART_MODULE":return{id:"publish-cart-module",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_DESC",titleFallback:"Publish the cart module",descriptionFallback:"Add the cart module to a template position so customers can see their shopping cart.",link:"index.php?option=com_modules&filter[module]=mod_nxpeasycart_cart"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:p("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:p("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:p("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:p("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:w||"step",titleKey:w||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:w||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:p("dashboard")||""}}},Yo=be(()=>(Array.isArray(y.checklist)?y.checklist:[]).map(ue=>{const Le=Y0(ue.label);return{id:Le.id,completed:!!ue.completed,link:ue.link||Le.link||"",label:ue.label,titleKey:Le.titleKey,descriptionKey:Le.descriptionKey,titleFallback:Le.titleFallback,descriptionFallback:Le.descriptionFallback}})),Uo=be(()=>Yo.value.some(w=>!w.completed)),lc=be(()=>{const w=Yo.value;if(!w.length)return{completed:0,total:0,percent:0};const ue=w.filter(Le=>Le.completed).length;return{completed:ue,total:w.length,percent:Math.round(ue/w.length*100)}}),U0=be(()=>{const{completed:w,total:ue}=lc.value;return`${w}/${ue}`}),X0=be(()=>{const{percent:w}=lc.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${w}%, #e9ecef ${w}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:w>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),_n=qe(!1),F0=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(un,"0")}catch(w){}_n.value=!0},cc=()=>{if(_n.value=!1,typeof window!="undefined")try{window.localStorage.setItem(un,"1")}catch(w){}},G0=w=>{w&&typeof w.link=="string"&&w.link!==""&&(cc(),typeof window!="undefined"&&(window.location.href=w.link))};ot(Uo,w=>{if(!w&&(_n.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(un,"1")}catch(ue){}});const V0=(m_=(p_=(u_=t.config)==null?void 0:u_.preload)==null?void 0:p_.tax)!=null?m_:{items:r((__=t.dataset)==null?void 0:__.taxPreload,[]),pagination:r((f_=t.dataset)==null?void 0:f_.taxPreloadPagination,{})},{state:H0,refresh:fn,saveRate:B0,deleteRates:K0}=E0({endpoints:ve,token:t.csrfToken,preload:V0,autoload:$.value||Y.value}),j0=(A_=(g_=(h_=t.config)==null?void 0:h_.preload)==null?void 0:g_.shipping)!=null?A_:{items:r((E_=t.dataset)==null?void 0:E_.shippingPreload,[]),pagination:r((C_=t.dataset)==null?void 0:C_.shippingPreloadPagination,{})},{state:J0,refresh:mn,saveRule:W0,deleteRules:q0}=C0({endpoints:oe,token:t.csrfToken,preload:j0,autoload:K.value||Y.value}),z0=(R_=(b_=(S_=t.config)==null?void 0:S_.preload)==null?void 0:b_.logs)!=null?R_:{items:r((T_=t.dataset)==null?void 0:T_.logsPreload,[]),pagination:r((y_=t.dataset)==null?void 0:y_.logsPreloadPagination,{})},{state:Q0,refresh:dc,search:Z0,setEntity:ew,goToPage:tw}=A0({endpoints:D,token:t.csrfToken,preload:z0,autoload:z.value}),{state:sw,refresh:Xo,save:nw}=S0({endpoints:I,token:t.csrfToken}),{state:ow,uploadFile:aw,startImport:iw,cancelImport:rw,resetImport:lw,startExport:cw,cancelExport:dw,downloadExport:uw,resetExport:pw,refresh:uc}=b0({endpoints:U,token:t.csrfToken,autoload:ee.value});ot(f,(w,ue)=>{switch(ue==="orders"&&w!=="orders"&&(X(),Ke==null||Ke()),w){case"dashboard":g();break;case"products":B(),ne();break;case"categories":ne();break;case"orders":P();break;case"customers":at();break;case"coupons":Gt();break;case"tax":fn();break;case"shipping":mn();break;case"settings":jn(),fn(),mn(),Xo();break;case"logs":dc();break;case"importexport":uc();break}}),St(()=>{if(typeof window!="undefined"){const w=()=>({products:N.value,categories:ce.value,orders:Be.value,cache:Ii()}),ue=()=>{const Le=w();return console.group("[NXP Easy Cart] Performance Metrics"),console.table({Products:Le.products,Categories:Le.categories,Orders:Le.orders}),console.log("Cache Status:",Le.cache),console.groupEnd(),Le};window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset,getMetrics:w,logMetrics:ue,clearCache:je,getCacheStatus:Ii};try{const Le=window.localStorage.getItem(un);Uo.value?Le!=="1"&&(_n.value=!0):window.localStorage.setItem(un,"1")}catch(Le){}}Y.value&&Xo()});const _w=()=>{B()},fw=()=>{le()},mw=w=>{ye(w)},hw=async w=>{try{await Pe(w),B(),ne(),je("dashboard"),g(!0)}catch(ue){}},gw=async({id:w,data:ue})=>{try{await J(w,ue),B(),ne()}catch(Le){}},Ew=async w=>{try{await ge(w),B(),ne()}catch(ue){}},Cw=()=>{ne()},Aw=()=>{te()},Sw=w=>{ae(w)},bw=async w=>{try{await q(w),ne()}catch(ue){}},Tw=async w=>{try{await j(w),ne()}catch(ue){}},yw=()=>{g()},Rw=()=>{P()},Ow=()=>{L()},xw=w=>{_e(w)},Pw=w=>{me(w)},Nw=()=>{X()},vw=async({id:w,state:ue})=>{try{await Ge(w,ue)}catch(Le){}},Mw=w=>{He(w)},Iw=async({ids:w,state:ue})=>{try{await Ze(w,ue)}catch(Le){}},kw=w=>{he(w)},ww=()=>{xe()},$w=async({id:w,message:ue})=>{await O(w,ue)},Dw=async w=>{if(!(w!=null&&w.id))return;const{id:ue,...Le}=w;try{await _(ue,Le)}catch(et){}},Lw=async w=>{!(w!=null&&w.id)||!(w!=null&&w.type)||await Te(w.id,w.type)},Yw=async w=>{if(w!=null&&w.id)try{await F(w.id,{amountCents:w.amountCents,reference:w.reference,note:w.note})}catch(ue){}},Uw=async w=>{if(w!=null&&w.id)try{await de(w.id)}catch(ue){}},Xw=async w=>{if(w!=null&&w.download_id)try{await W(w.download_id,w.order_id)}catch(ue){}},Fw=async w=>{if(!w)return;const ue=await V(w);if(!(ue!=null&&ue.content))return;const Le=atob(ue.content),et=new Uint8Array(Le.length);for(let As=0;As<Le.length;As+=1)et[As]=Le.charCodeAt(As);const rt=new Blob([et],{type:"application/pdf"}),Pt=window.URL.createObjectURL(rt),$t=document.createElement("a");$t.href=Pt,$t.download=ue.filename||"invoice.pdf",document.body.appendChild($t),$t.click(),document.body.removeChild($t),setTimeout(()=>window.URL.revokeObjectURL(Pt),1e3)},Gw=async()=>{const w=await fe();if(!(w!=null&&w.content))return;const ue=atob(w.content),Le=new Uint8Array(ue.length);for(let $t=0;$t<ue.length;$t+=1)Le[$t]=ue.charCodeAt($t);const et=new Blob([Le],{type:"text/csv;charset=utf-8"}),rt=window.URL.createObjectURL(et),Pt=document.createElement("a");Pt.href=rt,Pt.download=w.filename||"orders-export.csv",document.body.appendChild(Pt),Pt.click(),document.body.removeChild(Pt),setTimeout(()=>window.URL.revokeObjectURL(rt),1e3)},Vw=()=>{at()},Hw=()=>{kt()},Bw=w=>{Lt(w)},Kw=w=>{wt(w)},jw=()=>{Ds()},Jw=w=>{Ot(w)},Ww=w=>{xt(w)},qw=()=>{Gt()},zw=()=>{Es()},Qw=w=>{Cs(w)},Zw=async w=>{try{await Ls(w)}catch(ue){}},e$=async w=>{try{await Ys(w)}catch(ue){}},t$=()=>{jn(!0)},s$=async w=>{try{await Lo(w),je("dashboard"),g(!0)}catch(ue){}},n$=()=>{fn()},o$=async w=>{try{await B0(w),fn()}catch(ue){}},a$=async w=>{try{await K0(w),fn()}catch(ue){}},i$=()=>{mn()},r$=async w=>{try{await W0(w),mn()}catch(ue){}},l$=async w=>{try{await q0(w),mn()}catch(ue){}},c$=()=>{dc()},d$=()=>{Z0()},u$=w=>{ew(w)},p$=w=>{tw(w)},_$=()=>{Xo()},f$=async w=>{await nw(w),je("dashboard"),g(!0)},m$=()=>{uc()},h$=async w=>{await aw(w)},g$=async()=>{await iw()},E$=async()=>{await rw()},C$=()=>{lw()},A$=async()=>{await cw()},S$=async()=>{await dw()},b$=()=>{uw()},T$=()=>{pw()};return(w,ue)=>(E(),Et(ih,null,{default:Ra(()=>{var Le,et,rt,Pt,$t,As;return[o("section",T0,[o("header",y0,[o("div",null,[o("h1",R0,l(i(n)(a.value,(et=(Le=t.dataset)==null?void 0:Le.appTitle)!=null?et:"NXP Easy Cart",[],"appTitle")),1),o("p",O0,l(i(n)(s.value,(Pt=(rt=t.dataset)==null?void 0:rt.appLead)!=null?Pt:"Manage your storefront from one place.",[],"appLead")),1)]),se(o("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:Ut(X0.value),onClick:F0},[we(l(i(n)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),o("span",x0,l(U0.value),1)],4),[[Is,Uo.value]])]),u.value.length?(E(),A("nav",P0,[(E(!0),A(Ie,null,Ue(u.value,Jn=>(E(),A("a",{key:Jn.id,href:Jn.link,class:Ve({"is-active":Jn.id===f.value})},l(Jn.title),11,N0))),128))])):re("",!0),f.value==="dashboard"?(E(),Et(Uh,{key:1,state:i(y),translate:i(n),onRefresh:yw},null,8,["state","translate"])):f.value==="products"?(E(),Et(PA,{key:2,state:i(S),translate:i(n),"base-currency":pn.value,"category-options":Ee.value,"media-modal-url":D0.value,"digital-endpoints":i(Se),"csrf-token":t.csrfToken,"checkout-product":i(Me),"checkin-product":i(Xe),"force-checkin-product":i(T),"current-user-id":R.value,onCreate:hw,onUpdate:gw,onDelete:Ew,onRefresh:_w,onSearch:fw,onPage:mw},null,8,["state","translate","base-currency","category-options","media-modal-url","digital-endpoints","csrf-token","checkout-product","checkin-product","force-checkin-product","current-user-id"])):f.value==="categories"?(E(),Et(vS,{key:3,state:i(G),translate:i(n),"load-options":i(Z),"checkout-category":i(H),"checkin-category":i(pe),"force-checkin-category":i(ie),"current-user-id":R.value,onRefresh:Cw,onSearch:Aw,onPage:Sw,onSave:bw,onDelete:Tw},null,8,["state","translate","load-options","checkout-category","checkin-category","force-checkin-category","current-user-id"])):f.value==="orders"?(E(),Et(ly,{key:4,state:i(Oe),translate:i(n),"site-root":L0.value,"current-user-id":R.value,"force-checkin-order":i(Ne),onRefresh:Rw,onSearch:Ow,onFilter:xw,onView:Pw,onClose:Nw,onTransition:vw,onPage:Mw,onBulkTransition:Iw,onToggleSelection:kw,onClearSelection:ww,onAddNote:$w,onSaveTracking:Dw,onSendEmail:Lw,onRecordPayment:Yw,onResendDownloads:Uw,onResetDownload:Xw,onInvoice:Fw,onExport:Gw},null,8,["state","translate","site-root","current-user-id","force-checkin-order"])):f.value==="customers"?(E(),Et(dR,{key:5,state:i(Je),translate:i(n),"base-currency":pn.value,onRefresh:Vw,onSearch:Hw,onPage:Bw,onView:Kw,onClose:jw,onGdprExport:Jw,onGdprAnonymise:Ww},null,8,["state","translate","base-currency"])):f.value==="coupons"?(E(),Et(xO,{key:6,state:i(is),translate:i(n),"base-currency":pn.value,onRefresh:qw,onSearch:zw,onPage:Qw,onSave:Zw,onDelete:e$},null,8,["state","translate","base-currency"])):f.value==="tax"?(E(),Et(Nv,{key:7,state:i(H0),translate:i(n),onRefresh:n$,onSave:o$,onDelete:a$},null,8,["state","translate"])):f.value==="shipping"?(E(),Et(FM,{key:8,state:i(J0),translate:i(n),"base-currency":pn.value,onRefresh:i$,onSave:r$,onDelete:l$},null,8,["state","translate","base-currency"])):f.value==="settings"?(E(),Et(AN,{key:9,"settings-state":i(Qt),"payments-state":i(sw),translate:i(n),"base-currency":pn.value,"initial-tab":C.value,onRefreshSettings:t$,onSaveSettings:s$,onRefreshPayments:_$,onSavePayments:f$},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):f.value==="logs"&&c.value?(E(),Et(yI,{key:10,state:i(Q0),translate:i(n),onRefresh:c$,onSearch:d$,onFilter:u$,onPage:p$},null,8,["state","translate"])):f.value==="importexport"?(E(),Et(Hk,{key:11,state:i(ow),translate:i(n),onRefresh:m$,onUploadFile:h$,onStartImport:g$,onCancelImport:E$,onResetImport:C$,onStartExport:A$,onCancelExport:S$,onDownloadExport:b$,onResetExport:T$},null,8,["state","translate"])):(E(),A("div",v0,[o("div",M0,[o("p",I0,l(i(n)(s.value,(As=($t=t.dataset)==null?void 0:$t.appLead)!=null?As:"This section will be available soon.",[],"appLead")),1)])]))]),lt(i0,{visible:_n.value,steps:Yo.value,translate:i(n),onClose:cc,onNavigate:G0},null,8,["visible","steps","translate"])]}),_:1}))}},Bn=document.getElementById("nxp-ec-admin-app");if(!Bn)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=($i=Bn.getAttribute("data-csrf-token"))!=null?$i:"",t=Object.assign({},Bn.dataset);let n={};if(t.config)try{n=JSON.parse(t.config)}catch(v){console.warn("[NXP Easy Cart] Failed to parse admin config payload",v)}const a={...(Li=(Di=n==null?void 0:n.endpoints)==null?void 0:Di.products)!=null?Li:{},list:(Fi=(Xi=(Ui=(Yi=n==null?void 0:n.endpoints)==null?void 0:Yi.products)==null?void 0:Ui.list)!=null?Xi:t.productsEndpoint)!=null?Fi:"",create:(Bi=(Hi=(Vi=(Gi=n==null?void 0:n.endpoints)==null?void 0:Gi.products)==null?void 0:Vi.create)!=null?Hi:t.productsEndpointCreate)!=null?Bi:"",update:(Wi=(Ji=(ji=(Ki=n==null?void 0:n.endpoints)==null?void 0:Ki.products)==null?void 0:ji.update)!=null?Ji:t.productsEndpointUpdate)!=null?Wi:"",delete:(Zi=(Qi=(zi=(qi=n==null?void 0:n.endpoints)==null?void 0:qi.products)==null?void 0:zi.delete)!=null?Qi:t.productsEndpointDelete)!=null?Zi:"",checkout:(nr=(sr=(tr=(er=n==null?void 0:n.endpoints)==null?void 0:er.products)==null?void 0:tr.checkout)!=null?sr:t.productsEndpointCheckout)!=null?nr:"",checkin:(rr=(ir=(ar=(or=n==null?void 0:n.endpoints)==null?void 0:or.products)==null?void 0:ar.checkin)!=null?ir:t.productsEndpointCheckin)!=null?rr:""},s={...(cr=(lr=n==null?void 0:n.endpoints)==null?void 0:lr.categories)!=null?cr:{},list:(_r=(pr=(ur=(dr=n==null?void 0:n.endpoints)==null?void 0:dr.categories)==null?void 0:ur.list)!=null?pr:t.categoriesEndpoint)!=null?_r:"",create:(gr=(hr=(mr=(fr=n==null?void 0:n.endpoints)==null?void 0:fr.categories)==null?void 0:mr.create)!=null?hr:t.categoriesEndpointCreate)!=null?gr:"",update:(Sr=(Ar=(Cr=(Er=n==null?void 0:n.endpoints)==null?void 0:Er.categories)==null?void 0:Cr.update)!=null?Ar:t.categoriesEndpointUpdate)!=null?Sr:"",delete:(Rr=(yr=(Tr=(br=n==null?void 0:n.endpoints)==null?void 0:br.categories)==null?void 0:Tr.delete)!=null?yr:t.categoriesEndpointDelete)!=null?Rr:"",checkout:(Nr=(Pr=(xr=(Or=n==null?void 0:n.endpoints)==null?void 0:Or.categories)==null?void 0:xr.checkout)!=null?Pr:t.categoriesEndpointCheckout)!=null?Nr:"",checkin:(kr=(Ir=(Mr=(vr=n==null?void 0:n.endpoints)==null?void 0:vr.categories)==null?void 0:Mr.checkin)!=null?Ir:t.categoriesEndpointCheckin)!=null?kr:""},r={...($r=(wr=n==null?void 0:n.endpoints)==null?void 0:wr.orders)!=null?$r:{},list:(Ur=(Yr=(Lr=(Dr=n==null?void 0:n.endpoints)==null?void 0:Dr.orders)==null?void 0:Lr.list)!=null?Yr:t.ordersEndpoint)!=null?Ur:"",show:(Vr=(Gr=(Fr=(Xr=n==null?void 0:n.endpoints)==null?void 0:Xr.orders)==null?void 0:Fr.show)!=null?Gr:t.ordersEndpointShow)!=null?Vr:"",transition:(jr=(Kr=(Br=(Hr=n==null?void 0:n.endpoints)==null?void 0:Hr.orders)==null?void 0:Br.transition)!=null?Kr:t.ordersEndpointTransition)!=null?jr:"",bulkTransition:(zr=(qr=(Wr=(Jr=n==null?void 0:n.endpoints)==null?void 0:Jr.orders)==null?void 0:Wr.bulkTransition)!=null?qr:t.ordersEndpointBulk)!=null?zr:"",note:(tl=(el=(Zr=(Qr=n==null?void 0:n.endpoints)==null?void 0:Qr.orders)==null?void 0:Zr.note)!=null?el:t.ordersEndpointNote)!=null?tl:"",tracking:(al=(ol=(nl=(sl=n==null?void 0:n.endpoints)==null?void 0:sl.orders)==null?void 0:nl.tracking)!=null?ol:t.ordersEndpointTracking)!=null?al:"",invoice:(cl=(ll=(rl=(il=n==null?void 0:n.endpoints)==null?void 0:il.orders)==null?void 0:rl.invoice)!=null?ll:t.ordersEndpointInvoice)!=null?cl:"",checkout:(_l=(pl=(ul=(dl=n==null?void 0:n.endpoints)==null?void 0:dl.orders)==null?void 0:ul.checkout)!=null?pl:t.ordersEndpointCheckout)!=null?_l:"",checkin:(gl=(hl=(ml=(fl=n==null?void 0:n.endpoints)==null?void 0:fl.orders)==null?void 0:ml.checkin)!=null?hl:t.ordersEndpointCheckin)!=null?gl:""},c=(Sl=(El=n==null?void 0:n.endpoints)==null?void 0:El.customers)!=null?Sl:{list:(Cl=t.customersEndpoint)!=null?Cl:"",show:(Al=t.customersEndpointShow)!=null?Al:""},u=(Rl=(bl=n==null?void 0:n.endpoints)==null?void 0:bl.gdpr)!=null?Rl:{export:(Tl=t.gdprEndpointExport)!=null?Tl:"",anonymise:(yl=t.gdprEndpointAnonymise)!=null?yl:""},p=(Ml=(Ol=n==null?void 0:n.endpoints)==null?void 0:Ol.coupons)!=null?Ml:{list:(xl=t.couponsEndpoint)!=null?xl:"",create:(Pl=t.couponsEndpointCreate)!=null?Pl:"",update:(Nl=t.couponsEndpointUpdate)!=null?Nl:"",delete:(vl=t.couponsEndpointDelete)!=null?vl:""},f=(Ll=(Il=n==null?void 0:n.endpoints)==null?void 0:Il.tax)!=null?Ll:{list:(kl=t.taxEndpoint)!=null?kl:"",create:(wl=t.taxEndpointCreate)!=null?wl:"",update:($l=t.taxEndpointUpdate)!=null?$l:"",delete:(Dl=t.taxEndpointDelete)!=null?Dl:""},C=(Vl=(Yl=n==null?void 0:n.endpoints)==null?void 0:Yl.shipping)!=null?Vl:{list:(Ul=t.shippingEndpoint)!=null?Ul:"",create:(Xl=t.shippingEndpointCreate)!=null?Xl:"",update:(Fl=t.shippingEndpointUpdate)!=null?Fl:"",delete:(Gl=t.shippingEndpointDelete)!=null?Gl:""},d=(Jl=(Hl=n==null?void 0:n.endpoints)==null?void 0:Hl.digitalfiles)!=null?Jl:{list:(Bl=t.digitalfilesEndpointList)!=null?Bl:"",upload:(Kl=t.digitalfilesEndpointUpload)!=null?Kl:"",delete:(jl=t.digitalfilesEndpointDelete)!=null?jl:""},R=(Ql=(Wl=n==null?void 0:n.endpoints)==null?void 0:Wl.settings)!=null?Ql:{show:(ql=t.settingsEndpointShow)!=null?ql:"",update:(zl=t.settingsEndpointUpdate)!=null?zl:""},h=(tc=(Zl=n==null?void 0:n.endpoints)==null?void 0:Zl.logs)!=null?tc:{list:(ec=t.logsEndpoint)!=null?ec:""},k=(oc=(sc=n==null?void 0:n.endpoints)==null?void 0:sc.importExport)!=null?oc:{base:(nc=t.importExportEndpoint)!=null?nc:""};Qm(k0,{csrfToken:e,dataset:t,config:n,endpoints:{products:a,categories:s,orders:r,customers:c,gdpr:u,coupons:p,tax:f,shipping:C,digitalfiles:d,settings:R,logs:h,importExport:k,dashboard:(rc=(ic=(ac=n==null?void 0:n.endpoints)==null?void 0:ac.dashboard)!=null?ic:t.dashboardEndpoint)!=null?rc:""}}).mount(Bn)}})();
