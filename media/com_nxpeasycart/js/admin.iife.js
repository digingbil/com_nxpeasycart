(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Io,wo,$o,Lo,Do,Uo,Yo,Xo,Fo,Go,Vo,Ho,Bo,Ko,jo,Jo,Wo,qo,zo,Qo,Zo,er,tr,nr,sr,ir,ar,or,rr,lr,cr,dr,ur,_r,pr,fr,mr,hr,gr,Er,Cr,Ar,Sr,br,Tr,yr,Rr,Or,xr,Nr,vr,Pr,Mr,kr,Ir,wr,$r,Lr,Dr,Ur,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,al,ol,rl,ll,cl,dl,ul,_l,pl,fl,ml,hl,gl,El,Cl,Al,Sl,bl,Tl,yl,Rl,Ol,xl,Nl,vl,Pl,Ml,kl,Il,wl,$l,Ll,Dl,Ul,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc;function js(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const tt={},Tn=[],Ft=()=>{},Di=()=>!1,fs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Js=e=>e.startsWith("onUpdate:"),ft=Object.assign,Ws=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},hp=Object.prototype.hasOwnProperty,qe=(e,t)=>hp.call(e,t),De=Array.isArray,yn=e=>Yn(e)==="[object Map]",Rn=e=>Yn(e)==="[object Set]",Ui=e=>Yn(e)==="[object Date]",Ye=e=>typeof e=="function",ot=e=>typeof e=="string",Ut=e=>typeof e=="symbol",nt=e=>e!==null&&typeof e=="object",Yi=e=>(nt(e)||Ye(e))&&Ye(e.then)&&Ye(e.catch),Xi=Object.prototype.toString,Yn=e=>Xi.call(e),gp=e=>Yn(e).slice(8,-1),Fi=e=>Yn(e)==="[object Object]",qs=e=>ot(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xn=js(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ms=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ep=/-\w/g,rn=ms(e=>e.replace(Ep,t=>t.slice(1).toUpperCase())),Cp=/\B([A-Z])/g,ln=ms(e=>e.replace(Cp,"-$1").toLowerCase()),Gi=ms(e=>e.charAt(0).toUpperCase()+e.slice(1)),zs=ms(e=>e?`on${Gi(e)}`:""),cn=(e,t)=>!Object.is(e,t),hs=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Vi=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},gs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Hi;const Es=()=>Hi||(Hi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function zt(e){if(De(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=ot(a)?Tp(a):zt(a);if(n)for(const r in n)t[r]=n[r]}return t}else if(ot(e)||nt(e))return e}const Ap=/;(?![^(]*\))/g,Sp=/:([^]+)/,bp=/\/\*[^]*?\*\//g;function Tp(e){const t={};return e.replace(bp,"").split(Ap).forEach(s=>{if(s){const a=s.split(Sp);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Be(e){let t="";if(ot(e))t=e;else if(De(e))for(let s=0;s<e.length;s++){const a=Be(e[s]);a&&(t+=a+" ")}else if(nt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const yp=js("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Bi(e){return!!e||e===""}function Rp(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=Fn(e[a],t[a]);return s}function Fn(e,t){if(e===t)return!0;let s=Ui(e),a=Ui(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=Ut(e),a=Ut(t),s||a)return e===t;if(s=De(e),a=De(t),s||a)return s&&a?Rp(e,t):!1;if(s=nt(e),a=nt(t),s||a){if(!s||!a)return!1;const n=Object.keys(e).length,r=Object.keys(t).length;if(n!==r)return!1;for(const l in e){const d=e.hasOwnProperty(l),_=t.hasOwnProperty(l);if(d&&!_||!d&&_||!Fn(e[l],t[l]))return!1}}return String(e)===String(t)}function Qs(e,t){return e.findIndex(s=>Fn(s,t))}const Ki=e=>!!(e&&e.__v_isRef===!0),c=e=>ot(e)?e:e==null?"":De(e)||nt(e)&&(e.toString===Xi||!Ye(e.toString))?Ki(e)?c(e.value):JSON.stringify(e,ji,2):String(e),ji=(e,t)=>Ki(t)?ji(e,t.value):yn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],r)=>(s[Zs(a,r)+" =>"]=n,s),{})}:Rn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Zs(s))}:Ut(t)?Zs(t):nt(t)&&!De(t)&&!Fi(t)?String(t):t,Zs=(e,t="")=>{var s;return Ut(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ct;class Op{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ct,!t&&Ct&&(this.index=(Ct.scopes||(Ct.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ct;try{return Ct=this,t()}finally{Ct=s}}}on(){++this._on===1&&(this.prevScope=Ct,Ct=this)}off(){this._on>0&&--this._on===0&&(Ct=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function xp(){return Ct}let st;const ei=new WeakSet;class Ji{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ct&&Ct.active&&Ct.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ei.has(this)&&(ei.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||qi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ta(this),zi(this);const t=st,s=Yt;st=this,Yt=!0;try{return this.fn()}finally{Qi(this),st=t,Yt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ii(t);this.deps=this.depsTail=void 0,ta(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ei.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){si(this)&&this.run()}get dirty(){return si(this)}}let Wi=0,Gn,Vn;function qi(e,t=!1){if(e.flags|=8,t){e.next=Vn,Vn=e;return}e.next=Gn,Gn=e}function ti(){Wi++}function ni(){if(--Wi>0)return;if(Vn){let t=Vn;for(Vn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Gn;){let t=Gn;for(Gn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function zi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Qi(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),ii(a),Np(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function si(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Zi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Zi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hn)||(e.globalVersion=Hn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!si(e))))return;e.flags|=2;const t=e.dep,s=st,a=Yt;st=e,Yt=!0;try{zi(e);const n=e.fn(e._value);(t.version===0||cn(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{st=s,Yt=a,Qi(e),e.flags&=-3}}function ii(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)ii(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Np(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Yt=!0;const ea=[];function Gt(){ea.push(Yt),Yt=!1}function Vt(){const e=ea.pop();Yt=e===void 0?!0:e}function ta(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=st;st=void 0;try{t()}finally{st=s}}}let Hn=0;class vp{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ai{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!st||!Yt||st===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==st)s=this.activeLink=new vp(st,this),st.deps?(s.prevDep=st.depsTail,st.depsTail.nextDep=s,st.depsTail=s):st.deps=st.depsTail=s,na(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=st.depsTail,s.nextDep=void 0,st.depsTail.nextDep=s,st.depsTail=s,st.deps===s&&(st.deps=a)}return s}trigger(t){this.version++,Hn++,this.notify(t)}notify(t){ti();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ni()}}}function na(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)na(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const oi=new WeakMap,fn=Symbol(""),ri=Symbol(""),Bn=Symbol("");function _t(e,t,s){if(Yt&&st){let a=oi.get(e);a||oi.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new ai),n.map=a,n.key=s),n.track()}}function Qt(e,t,s,a,n,r){const l=oi.get(e);if(!l){Hn++;return}const d=_=>{_&&_.trigger()};if(ti(),t==="clear")l.forEach(d);else{const _=De(e),f=_&&qs(s);if(_&&s==="length"){const g=Number(a);l.forEach((u,y)=>{(y==="length"||y===Bn||!Ut(y)&&y>=g)&&d(u)})}else switch((s!==void 0||l.has(void 0))&&d(l.get(s)),f&&d(l.get(Bn)),t){case"add":_?f&&d(l.get("length")):(d(l.get(fn)),yn(e)&&d(l.get(ri)));break;case"delete":_||(d(l.get(fn)),yn(e)&&d(l.get(ri)));break;case"set":yn(e)&&d(l.get(fn));break}}ni()}function On(e){const t=Je(e);return t===e?t:(_t(t,"iterate",Bn),It(e)?t:t.map(ct))}function Cs(e){return _t(e=Je(e),"iterate",Bn),e}const Pp={__proto__:null,[Symbol.iterator](){return li(this,Symbol.iterator,ct)},concat(...e){return On(this).concat(...e.map(t=>De(t)?On(t):t))},entries(){return li(this,"entries",e=>(e[1]=ct(e[1]),e))},every(e,t){return Zt(this,"every",e,t,void 0,arguments)},filter(e,t){return Zt(this,"filter",e,t,s=>s.map(ct),arguments)},find(e,t){return Zt(this,"find",e,t,ct,arguments)},findIndex(e,t){return Zt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Zt(this,"findLast",e,t,ct,arguments)},findLastIndex(e,t){return Zt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Zt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ci(this,"includes",e)},indexOf(...e){return ci(this,"indexOf",e)},join(e){return On(this).join(e)},lastIndexOf(...e){return ci(this,"lastIndexOf",e)},map(e,t){return Zt(this,"map",e,t,void 0,arguments)},pop(){return Kn(this,"pop")},push(...e){return Kn(this,"push",e)},reduce(e,...t){return sa(this,"reduce",e,t)},reduceRight(e,...t){return sa(this,"reduceRight",e,t)},shift(){return Kn(this,"shift")},some(e,t){return Zt(this,"some",e,t,void 0,arguments)},splice(...e){return Kn(this,"splice",e)},toReversed(){return On(this).toReversed()},toSorted(e){return On(this).toSorted(e)},toSpliced(...e){return On(this).toSpliced(...e)},unshift(...e){return Kn(this,"unshift",e)},values(){return li(this,"values",ct)}};function li(e,t,s){const a=Cs(e),n=a[t]();return a!==e&&!It(e)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.done||(r.value=s(r.value)),r}),n}const Mp=Array.prototype;function Zt(e,t,s,a,n,r){const l=Cs(e),d=l!==e&&!It(e),_=l[t];if(_!==Mp[t]){const u=_.apply(e,r);return d?ct(u):u}let f=s;l!==e&&(d?f=function(u,y){return s.call(this,ct(u),y,e)}:s.length>2&&(f=function(u,y){return s.call(this,u,y,e)}));const g=_.call(l,f,a);return d&&n?n(g):g}function sa(e,t,s,a){const n=Cs(e);let r=s;return n!==e&&(It(e)?s.length>3&&(r=function(l,d,_){return s.call(this,l,d,_,e)}):r=function(l,d,_){return s.call(this,l,ct(d),_,e)}),n[t](r,...a)}function ci(e,t,s){const a=Je(e);_t(a,"iterate",Bn);const n=a[t](...s);return(n===-1||n===!1)&&_i(s[0])?(s[0]=Je(s[0]),a[t](...s)):n}function Kn(e,t,s=[]){Gt(),ti();const a=Je(e)[t].apply(e,s);return ni(),Vt(),a}const kp=js("__proto__,__v_isRef,__isVue"),ia=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ut));function Ip(e){Ut(e)||(e=String(e));const t=Je(this);return _t(t,"has",e),t.hasOwnProperty(e)}class aa{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return a===(n?r?ua:da:r?ca:la).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const l=De(t);if(!n){let _;if(l&&(_=Pp[s]))return _;if(s==="hasOwnProperty")return Ip}const d=Reflect.get(t,s,dt(t)?t:a);if((Ut(s)?ia.has(s):kp(s))||(n||_t(t,"get",s),r))return d;if(dt(d)){const _=l&&qs(s)?d:d.value;return n&&nt(_)?ui(_):_}return nt(d)?n?ui(d):Qe(d):d}}class oa extends aa{constructor(t=!1){super(!1,t)}set(t,s,a,n){let r=t[s];if(!this._isShallow){const _=dn(r);if(!It(a)&&!dn(a)&&(r=Je(r),a=Je(a)),!De(t)&&dt(r)&&!dt(a))return _||(r.value=a),!0}const l=De(t)&&qs(s)?Number(s)<t.length:qe(t,s),d=Reflect.set(t,s,a,dt(t)?t:n);return t===Je(n)&&(l?cn(a,r)&&Qt(t,"set",s,a):Qt(t,"add",s,a)),d}deleteProperty(t,s){const a=qe(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Qt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!Ut(s)||!ia.has(s))&&_t(t,"has",s),a}ownKeys(t){return _t(t,"iterate",De(t)?"length":fn),Reflect.ownKeys(t)}}class ra extends aa{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const wp=new oa,$p=new ra,Lp=new oa(!0),Dp=new ra(!0),di=e=>e,As=e=>Reflect.getPrototypeOf(e);function Up(e,t,s){return function(...a){const n=this.__v_raw,r=Je(n),l=yn(r),d=e==="entries"||e===Symbol.iterator&&l,_=e==="keys"&&l,f=n[e](...a),g=s?di:t?ys:ct;return!t&&_t(r,"iterate",_?ri:fn),{next(){const{value:u,done:y}=f.next();return y?{value:u,done:y}:{value:d?[g(u[0]),g(u[1])]:g(u),done:y}},[Symbol.iterator](){return this}}}}function Ss(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Yp(e,t){const s={get(n){const r=this.__v_raw,l=Je(r),d=Je(n);e||(cn(n,d)&&_t(l,"get",n),_t(l,"get",d));const{has:_}=As(l),f=t?di:e?ys:ct;if(_.call(l,n))return f(r.get(n));if(_.call(l,d))return f(r.get(d));r!==l&&r.get(n)},get size(){const n=this.__v_raw;return!e&&_t(Je(n),"iterate",fn),n.size},has(n){const r=this.__v_raw,l=Je(r),d=Je(n);return e||(cn(n,d)&&_t(l,"has",n),_t(l,"has",d)),n===d?r.has(n):r.has(n)||r.has(d)},forEach(n,r){const l=this,d=l.__v_raw,_=Je(d),f=t?di:e?ys:ct;return!e&&_t(_,"iterate",fn),d.forEach((g,u)=>n.call(r,f(g),f(u),l))}};return ft(s,e?{add:Ss("add"),set:Ss("set"),delete:Ss("delete"),clear:Ss("clear")}:{add(n){!t&&!It(n)&&!dn(n)&&(n=Je(n));const r=Je(this);return As(r).has.call(r,n)||(r.add(n),Qt(r,"add",n,n)),this},set(n,r){!t&&!It(r)&&!dn(r)&&(r=Je(r));const l=Je(this),{has:d,get:_}=As(l);let f=d.call(l,n);f||(n=Je(n),f=d.call(l,n));const g=_.call(l,n);return l.set(n,r),f?cn(r,g)&&Qt(l,"set",n,r):Qt(l,"add",n,r),this},delete(n){const r=Je(this),{has:l,get:d}=As(r);let _=l.call(r,n);_||(n=Je(n),_=l.call(r,n)),d&&d.call(r,n);const f=r.delete(n);return _&&Qt(r,"delete",n,void 0),f},clear(){const n=Je(this),r=n.size!==0,l=n.clear();return r&&Qt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Up(n,e,t)}),s}function bs(e,t){const s=Yp(e,t);return(a,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(qe(s,n)&&n in a?s:a,n,r)}const Xp={get:bs(!1,!1)},Fp={get:bs(!1,!0)},Gp={get:bs(!0,!1)},Vp={get:bs(!0,!0)},la=new WeakMap,ca=new WeakMap,da=new WeakMap,ua=new WeakMap;function Hp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bp(e){return e.__v_skip||!Object.isExtensible(e)?0:Hp(gp(e))}function Qe(e){return dn(e)?e:Ts(e,!1,wp,Xp,la)}function Kp(e){return Ts(e,!1,Lp,Fp,ca)}function ui(e){return Ts(e,!0,$p,Gp,da)}function T0(e){return Ts(e,!0,Dp,Vp,ua)}function Ts(e,t,s,a,n){if(!nt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Bp(e);if(r===0)return e;const l=n.get(e);if(l)return l;const d=new Proxy(e,r===2?a:s);return n.set(e,d),d}function xn(e){return dn(e)?xn(e.__v_raw):!!(e&&e.__v_isReactive)}function dn(e){return!!(e&&e.__v_isReadonly)}function It(e){return!!(e&&e.__v_isShallow)}function _i(e){return e?!!e.__v_raw:!1}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function jp(e){return!qe(e,"__v_skip")&&Object.isExtensible(e)&&Vi(e,"__v_skip",!0),e}const ct=e=>nt(e)?Qe(e):e,ys=e=>nt(e)?ui(e):e;function dt(e){return e?e.__v_isRef===!0:!1}function ze(e){return Jp(e,!1)}function Jp(e,t){return dt(e)?e:new Wp(e,t)}class Wp{constructor(t,s){this.dep=new ai,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Je(t),this._value=s?t:ct(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||It(t)||dn(t);t=a?t:Je(t),cn(t,s)&&(this._rawValue=t,this._value=a?t:ct(t),this.dep.trigger())}}function o(e){return dt(e)?e.value:e}const qp={get:(e,t,s)=>t==="__v_raw"?e:o(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return dt(n)&&!dt(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function _a(e){return xn(e)?e:new Proxy(e,qp)}class zp{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new ai(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&st!==this)return qi(this,!0),!0}get value(){const t=this.dep.track();return Zi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Qp(e,t,s=!1){let a,n;return Ye(e)?a=e:(a=e.get,n=e.set),new zp(a,n,s)}const Rs={},Os=new WeakMap;let mn;function Zp(e,t=!1,s=mn){if(s){let a=Os.get(s);a||Os.set(s,a=[]),a.push(e)}}function ef(e,t,s=tt){const{immediate:a,deep:n,once:r,scheduler:l,augmentJob:d,call:_}=s,f=Y=>n?Y:It(Y)||n===!1||n===0?en(Y,1):en(Y);let g,u,y,m,M=!1,P=!1;if(dt(e)?(u=()=>e.value,M=It(e)):xn(e)?(u=()=>f(e),M=!0):De(e)?(P=!0,M=e.some(Y=>xn(Y)||It(Y)),u=()=>e.map(Y=>{if(dt(Y))return Y.value;if(xn(Y))return f(Y);if(Ye(Y))return _?_(Y,2):Y()})):Ye(e)?t?u=_?()=>_(e,2):e:u=()=>{if(y){Gt();try{y()}finally{Vt()}}const Y=mn;mn=g;try{return _?_(e,3,[m]):e(m)}finally{mn=Y}}:u=Ft,t&&n){const Y=u,j=n===!0?1/0:n;u=()=>en(Y(),j)}const O=xp(),A=()=>{g.stop(),O&&O.active&&Ws(O.effects,g)};if(r&&t){const Y=t;t=(...j)=>{Y(...j),A()}}let x=P?new Array(e.length).fill(Rs):Rs;const D=Y=>{if(!(!(g.flags&1)||!g.dirty&&!Y))if(t){const j=g.run();if(n||M||(P?j.some((te,Oe)=>cn(te,x[Oe])):cn(j,x))){y&&y();const te=mn;mn=g;try{const Oe=[j,x===Rs?void 0:P&&x[0]===Rs?[]:x,m];x=j,_?_(t,3,Oe):t(...Oe)}finally{mn=te}}}else g.run()};return d&&d(D),g=new Ji(u),g.scheduler=l?()=>l(D,!1):D,m=Y=>Zp(Y,!1,g),y=g.onStop=()=>{const Y=Os.get(g);if(Y){if(_)_(Y,4);else for(const j of Y)j();Os.delete(g)}},t?a?D(!0):x=g.run():l?l(D.bind(null,!0),!0):g.run(),A.pause=g.pause.bind(g),A.resume=g.resume.bind(g),A.stop=A,A}function en(e,t=1/0,s){if(t<=0||!nt(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,dt(e))en(e.value,t,s);else if(De(e))for(let a=0;a<e.length;a++)en(e[a],t,s);else if(Rn(e)||yn(e))e.forEach(a=>{en(a,t,s)});else if(Fi(e)){for(const a in e)en(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&en(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const jn=[];let pi=!1;function y0(e,...t){if(pi)return;pi=!0,Gt();const s=jn.length?jn[jn.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=tf();if(a)Nn(a,s,11,[e+t.map(r=>{var l,d;return(d=(l=r.toString)==null?void 0:l.call(r))!=null?d:JSON.stringify(r)}).join(""),s&&s.proxy,n.map(({vnode:r})=>`at <${oo(s,r.type)}>`).join(`
`),n]);else{const r=[`[Vue warn]: ${e}`,...t];n.length&&r.push(`
`,...nf(n)),console.warn(...r)}Vt(),pi=!1}function tf(){let e=jn[jn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function nf(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...sf(s))}),t}function sf({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${oo(e.component,e.type,a)}`,r=">"+s;return e.props?[n,...af(e.props),r]:[n+r]}function af(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...pa(a,e[a]))}),s.length>3&&t.push(" ..."),t}function pa(e,t,s){return ot(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:dt(t)?(t=pa(e,Je(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Ye(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Je(t),s?t:[`${e}=`,t])}function Nn(e,t,s,a){try{return a?e(...a):e()}catch(n){xs(n,t,s)}}function Ht(e,t,s,a){if(Ye(e)){const n=Nn(e,t,s,a);return n&&Yi(n)&&n.catch(r=>{xs(r,t,s)}),n}if(De(e)){const n=[];for(let r=0;r<e.length;r++)n.push(Ht(e[r],t,s,a));return n}}function xs(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||tt;if(t){let d=t.parent;const _=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;d;){const g=d.ec;if(g){for(let u=0;u<g.length;u++)if(g[u](e,_,f)===!1)return}d=d.parent}if(r){Gt(),Nn(r,null,10,[e,_,f]),Vt();return}}of(e,s,n,a,l)}function of(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const mt=[];let Bt=-1;const vn=[];let un=null,Pn=0;const fa=Promise.resolve();let Ns=null;function ma(e){const t=Ns||fa;return e?t.then(this?e.bind(this):e):t}function rf(e){let t=Bt+1,s=mt.length;for(;t<s;){const a=t+s>>>1,n=mt[a],r=Jn(n);r<e||r===e&&n.flags&2?t=a+1:s=a}return t}function fi(e){if(!(e.flags&1)){const t=Jn(e),s=mt[mt.length-1];!s||!(e.flags&2)&&t>=Jn(s)?mt.push(e):mt.splice(rf(t),0,e),e.flags|=1,ha()}}function ha(){Ns||(Ns=fa.then(Ca))}function lf(e){De(e)?vn.push(...e):un&&e.id===-1?un.splice(Pn+1,0,e):e.flags&1||(vn.push(e),e.flags|=1),ha()}function ga(e,t,s=Bt+1){for(;s<mt.length;s++){const a=mt[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;mt.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function Ea(e){if(vn.length){const t=[...new Set(vn)].sort((s,a)=>Jn(s)-Jn(a));if(vn.length=0,un){un.push(...t);return}for(un=t,Pn=0;Pn<un.length;Pn++){const s=un[Pn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}un=null,Pn=0}}const Jn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ca(e){try{for(Bt=0;Bt<mt.length;Bt++){const t=mt[Bt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Nn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Bt<mt.length;Bt++){const t=mt[Bt];t&&(t.flags&=-2)}Bt=-1,mt.length=0,Ea(),Ns=null,(mt.length||vn.length)&&Ca()}}let pt=null,Aa=null;function vs(e){const t=pt;return pt=e,Aa=e&&e.type.__scopeId||null,t}function Sa(e,t=pt,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&Za(-1);const r=vs(t);let l;try{l=e(...n)}finally{vs(r),a._d&&Za(1)}return l};return a._n=!0,a._c=!0,a._d=!0,a}function W(e,t){if(pt===null)return e;const s=Ys(pt),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[r,l,d,_=tt]=t[n];r&&(Ye(r)&&(r={mounted:r,updated:r}),r.deep&&en(l),a.push({dir:r,instance:s,value:l,oldValue:void 0,arg:d,modifiers:_}))}return e}function hn(e,t,s,a){const n=e.dirs,r=t&&t.dirs;for(let l=0;l<n.length;l++){const d=n[l];r&&(d.oldValue=r[l].value);let _=d.dir[a];_&&(Gt(),Ht(_,s,8,[e.el,d,e,t]),Vt())}}const cf=Symbol("_vte"),df=e=>e.__isTeleport,uf=Symbol("_leaveCb");function mi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,mi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ba(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ps=new WeakMap;function Wn(e,t,s,a,n=!1){if(De(e)){e.forEach((M,P)=>Wn(M,t&&(De(t)?t[P]:t),s,a,n));return}if(Mn(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Wn(e,t,s,a.component.subTree);return}const r=a.shapeFlag&4?Ys(a.component):a.el,l=n?null:r,{i:d,r:_}=e,f=t&&t.r,g=d.refs===tt?d.refs={}:d.refs,u=d.setupState,y=Je(u),m=u===tt?Di:M=>qe(y,M);if(f!=null&&f!==_){if(Ta(t),ot(f))g[f]=null,m(f)&&(u[f]=null);else if(dt(f)){f.value=null;const M=t;M.k&&(g[M.k]=null)}}if(Ye(_))Nn(_,d,12,[l,g]);else{const M=ot(_),P=dt(_);if(M||P){const O=()=>{if(e.f){const A=M?m(_)?u[_]:g[_]:_.value;if(n)De(A)&&Ws(A,r);else if(De(A))A.includes(r)||A.push(r);else if(M)g[_]=[r],m(_)&&(u[_]=g[_]);else{const x=[r];_.value=x,e.k&&(g[e.k]=x)}}else M?(g[_]=l,m(_)&&(u[_]=l)):P&&(_.value=l,e.k&&(g[e.k]=l))};if(l){const A=()=>{O(),Ps.delete(e)};A.id=-1,Ps.set(e,A),Ot(A,s)}else Ta(e),O()}}}function Ta(e){const t=Ps.get(e);t&&(t.flags|=8,Ps.delete(e))}Es().requestIdleCallback,Es().cancelIdleCallback;const Mn=e=>!!e.type.__asyncLoader,ya=e=>e.type.__isKeepAlive;function _f(e,t){Ra(e,"a",t)}function pf(e,t){Ra(e,"da",t)}function Ra(e,t,s=gt){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ms(t,a,s),s){let n=s.parent;for(;n&&n.parent;)ya(n.parent.vnode)&&ff(a,t,s,n),n=n.parent}}function ff(e,t,s,a){const n=Ms(t,e,a,!0);Oa(()=>{Ws(a[t],n)},s)}function Ms(e,t,s=gt,a=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...l)=>{Gt();const d=ns(s),_=Ht(t,s,e,l);return d(),Vt(),_});return a?n.unshift(r):n.push(r),r}}const tn=e=>(t,s=gt)=>{(!ss||e==="sp")&&Ms(e,(...a)=>t(...a),s)},mf=tn("bm"),Rt=tn("m"),hf=tn("bu"),gf=tn("u"),qn=tn("bum"),Oa=tn("um"),Ef=tn("sp"),Cf=tn("rtg"),Af=tn("rtc");function Sf(e,t=gt){Ms("ec",e,t)}const bf=Symbol.for("v-ndc");function Fe(e,t,s,a){let n;const r=s,l=De(e);if(l||ot(e)){const d=l&&xn(e);let _=!1,f=!1;d&&(_=!It(e),f=dn(e),e=Cs(e)),n=new Array(e.length);for(let g=0,u=e.length;g<u;g++)n[g]=t(_?f?ys(ct(e[g])):ct(e[g]):e[g],g,void 0,r)}else if(typeof e=="number"){n=new Array(e);for(let d=0;d<e;d++)n[d]=t(d+1,d,void 0,r)}else if(nt(e))if(e[Symbol.iterator])n=Array.from(e,(d,_)=>t(d,_,void 0,r));else{const d=Object.keys(e);n=new Array(d.length);for(let _=0,f=d.length;_<f;_++){const g=d[_];n[_]=t(e[g],g,_,r)}}else n=[];return n}function Tf(e,t,s={},a,n){if(pt.ce||pt.parent&&Mn(pt.parent)&&pt.parent.ce){const f=Object.keys(s).length>0;return b(),At(Pe,null,[lt("slot",s,a)],f?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),b();const l=r&&xa(r(s)),d=s.key||l&&l.key,_=At(Pe,{key:(d&&!Ut(d)?d:`_${t}`)+(!l&&a?"_fb":"")},l||[],l&&e._===1?64:-2);return _.scopeId&&(_.slotScopeIds=[_.scopeId+"-s"]),r&&r._c&&(r._d=!0),_}function xa(e){return e.some(t=>yi(t)?!(t.type===nn||t.type===Pe&&!xa(t.children)):!0)?e:null}const hi=e=>e?so(e)?Ys(e):hi(e.parent):null,zn=ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hi(e.parent),$root:e=>hi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ma(e),$forceUpdate:e=>e.f||(e.f=()=>{fi(e.update)}),$nextTick:e=>e.n||(e.n=ma.bind(e.proxy)),$watch:e=>Bf.bind(e)}),gi=(e,t)=>e!==tt&&!e.__isScriptSetup&&qe(e,t),yf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:r,accessCache:l,type:d,appContext:_}=e;let f;if(t[0]!=="$"){const m=l[t];if(m!==void 0)switch(m){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(gi(a,t))return l[t]=1,a[t];if(n!==tt&&qe(n,t))return l[t]=2,n[t];if((f=e.propsOptions[0])&&qe(f,t))return l[t]=3,r[t];if(s!==tt&&qe(s,t))return l[t]=4,s[t];Ei&&(l[t]=0)}}const g=zn[t];let u,y;if(g)return t==="$attrs"&&_t(e.attrs,"get",""),g(e);if((u=d.__cssModules)&&(u=u[t]))return u;if(s!==tt&&qe(s,t))return l[t]=4,s[t];if(y=_.config.globalProperties,qe(y,t))return y[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:r}=e;return gi(n,t)?(n[t]=s,!0):a!==tt&&qe(a,t)?(a[t]=s,!0):qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:r,type:l}},d){let _,f;return!!(s[d]||e!==tt&&d[0]!=="$"&&qe(e,d)||gi(t,d)||(_=r[0])&&qe(_,d)||qe(a,d)||qe(zn,d)||qe(n.config.globalProperties,d)||(f=l.__cssModules)&&f[d])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:qe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Na(e){return De(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ei=!0;function Rf(e){const t=Ma(e),s=e.proxy,a=e.ctx;Ei=!1,t.beforeCreate&&va(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:l,watch:d,provide:_,inject:f,created:g,beforeMount:u,mounted:y,beforeUpdate:m,updated:M,activated:P,deactivated:O,beforeDestroy:A,beforeUnmount:x,destroyed:D,unmounted:Y,render:j,renderTracked:te,renderTriggered:Oe,errorCaptured:Ie,serverPrefetch:Me,expose:U,inheritAttrs:we,components:ke,directives:H,filters:be}=t;if(f&&Of(f,a,null),l)for(const w in l){const k=l[w];Ye(k)&&(a[w]=k.bind(s))}if(n){const w=n.call(s,s);nt(w)&&(e.data=Qe(w))}if(Ei=!0,r)for(const w in r){const k=r[w],L=Ye(k)?k.bind(s,s):Ye(k.get)?k.get.bind(s,s):Ft,z=!Ye(k)&&Ye(k.set)?k.set.bind(s):Ft,h=Ce({get:L,set:z});Object.defineProperty(a,w,{enumerable:!0,configurable:!0,get:()=>h.value,set:C=>h.value=C})}if(d)for(const w in d)Pa(d[w],a,s,w);if(_){const w=Ye(_)?_.call(s):_;Reflect.ownKeys(w).forEach(k=>{kf(k,w[k])})}g&&va(g,e,"c");function ue(w,k){De(k)?k.forEach(L=>w(L.bind(s))):k&&w(k.bind(s))}if(ue(mf,u),ue(Rt,y),ue(hf,m),ue(gf,M),ue(_f,P),ue(pf,O),ue(Sf,Ie),ue(Af,te),ue(Cf,Oe),ue(qn,x),ue(Oa,Y),ue(Ef,Me),De(U))if(U.length){const w=e.exposed||(e.exposed={});U.forEach(k=>{Object.defineProperty(w,k,{get:()=>s[k],set:L=>s[k]=L,enumerable:!0})})}else e.exposed||(e.exposed={});j&&e.render===Ft&&(e.render=j),we!=null&&(e.inheritAttrs=we),ke&&(e.components=ke),H&&(e.directives=H),Me&&ba(e)}function Of(e,t,s=Ft){De(e)&&(e=Ci(e));for(const a in e){const n=e[a];let r;nt(n)?"default"in n?r=Is(n.from||a,n.default,!0):r=Is(n.from||a):r=Is(n),dt(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:l=>r.value=l}):t[a]=r}}function va(e,t,s){Ht(De(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function Pa(e,t,s,a){let n=a.includes(".")?Ja(s,a):()=>s[a];if(ot(e)){const r=t[e];Ye(r)&&it(n,r)}else if(Ye(e))it(n,e.bind(s));else if(nt(e))if(De(e))e.forEach(r=>Pa(r,t,s,a));else{const r=Ye(e.handler)?e.handler.bind(s):t[e.handler];Ye(r)&&it(n,r,e)}}function Ma(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:l}}=e.appContext,d=r.get(t);let _;return d?_=d:!n.length&&!s&&!a?_=t:(_={},n.length&&n.forEach(f=>ks(_,f,l,!0)),ks(_,t,l)),nt(t)&&r.set(t,_),_}function ks(e,t,s,a=!1){const{mixins:n,extends:r}=t;r&&ks(e,r,s,!0),n&&n.forEach(l=>ks(e,l,s,!0));for(const l in t)if(!(a&&l==="expose")){const d=xf[l]||s&&s[l];e[l]=d?d(e[l],t[l]):t[l]}return e}const xf={data:ka,props:Ia,emits:Ia,methods:Qn,computed:Qn,beforeCreate:ht,created:ht,beforeMount:ht,mounted:ht,beforeUpdate:ht,updated:ht,beforeDestroy:ht,beforeUnmount:ht,destroyed:ht,unmounted:ht,activated:ht,deactivated:ht,errorCaptured:ht,serverPrefetch:ht,components:Qn,directives:Qn,watch:vf,provide:ka,inject:Nf};function ka(e,t){return t?e?function(){return ft(Ye(e)?e.call(this,this):e,Ye(t)?t.call(this,this):t)}:t:e}function Nf(e,t){return Qn(Ci(e),Ci(t))}function Ci(e){if(De(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ht(e,t){return e?[...new Set([].concat(e,t))]:t}function Qn(e,t){return e?ft(Object.create(null),e,t):t}function Ia(e,t){return e?De(e)&&De(t)?[...new Set([...e,...t])]:ft(Object.create(null),Na(e),Na(t!=null?t:{})):t}function vf(e,t){if(!e)return t;if(!t)return e;const s=ft(Object.create(null),e);for(const a in t)s[a]=ht(e[a],t[a]);return s}function wa(){return{app:null,config:{isNativeTag:Di,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pf=0;function Mf(e,t){return function(a,n=null){Ye(a)||(a=ft({},a)),n!=null&&!nt(n)&&(n=null);const r=wa(),l=new WeakSet,d=[];let _=!1;const f=r.app={_uid:Pf++,_component:a,_props:n,_container:null,_context:r,_instance:null,version:gm,get config(){return r.config},set config(g){},use(g,...u){return l.has(g)||(g&&Ye(g.install)?(l.add(g),g.install(f,...u)):Ye(g)&&(l.add(g),g(f,...u))),f},mixin(g){return r.mixins.includes(g)||r.mixins.push(g),f},component(g,u){return u?(r.components[g]=u,f):r.components[g]},directive(g,u){return u?(r.directives[g]=u,f):r.directives[g]},mount(g,u,y){if(!_){const m=f._ceVNode||lt(a,n);return m.appContext=r,y===!0?y="svg":y===!1&&(y=void 0),e(m,g,y),_=!0,f._container=g,g.__vue_app__=f,Ys(m.component)}},onUnmount(g){d.push(g)},unmount(){_&&(Ht(d,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(g,u){return r.provides[g]=u,f},runWithContext(g){const u=kn;kn=f;try{return g()}finally{kn=u}}};return f}}let kn=null;function kf(e,t){if(gt){let s=gt.provides;const a=gt.parent&&gt.parent.provides;a===s&&(s=gt.provides=Object.create(a)),s[e]=t}}function Is(e,t,s=!1){const a=lm();if(a||kn){let n=kn?kn._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ye(t)?t.call(a&&a.proxy):t}}const $a={},La=()=>Object.create($a),Da=e=>Object.getPrototypeOf(e)===$a;function If(e,t,s,a=!1){const n={},r=La();e.propsDefaults=Object.create(null),Ua(e,t,n,r);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=a?n:Kp(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function wf(e,t,s,a){const{props:n,attrs:r,vnode:{patchFlag:l}}=e,d=Je(n),[_]=e.propsOptions;let f=!1;if((a||l>0)&&!(l&16)){if(l&8){const g=e.vnode.dynamicProps;for(let u=0;u<g.length;u++){let y=g[u];if(ws(e.emitsOptions,y))continue;const m=t[y];if(_)if(qe(r,y))m!==r[y]&&(r[y]=m,f=!0);else{const M=rn(y);n[M]=Ai(_,d,M,m,e,!1)}else m!==r[y]&&(r[y]=m,f=!0)}}}else{Ua(e,t,n,r)&&(f=!0);let g;for(const u in d)(!t||!qe(t,u)&&((g=ln(u))===u||!qe(t,g)))&&(_?s&&(s[u]!==void 0||s[g]!==void 0)&&(n[u]=Ai(_,d,u,void 0,e,!0)):delete n[u]);if(r!==d)for(const u in r)(!t||!qe(t,u))&&(delete r[u],f=!0)}f&&Qt(e.attrs,"set","")}function Ua(e,t,s,a){const[n,r]=e.propsOptions;let l=!1,d;if(t)for(let _ in t){if(Xn(_))continue;const f=t[_];let g;n&&qe(n,g=rn(_))?!r||!r.includes(g)?s[g]=f:(d||(d={}))[g]=f:ws(e.emitsOptions,_)||(!(_ in a)||f!==a[_])&&(a[_]=f,l=!0)}if(r){const _=Je(s),f=d||tt;for(let g=0;g<r.length;g++){const u=r[g];s[u]=Ai(n,_,u,f[u],e,!qe(f,u))}}return l}function Ai(e,t,s,a,n,r){const l=e[s];if(l!=null){const d=qe(l,"default");if(d&&a===void 0){const _=l.default;if(l.type!==Function&&!l.skipFactory&&Ye(_)){const{propsDefaults:f}=n;if(s in f)a=f[s];else{const g=ns(n);a=f[s]=_.call(null,t),g()}}else a=_;n.ce&&n.ce._setProp(s,a)}l[0]&&(r&&!d?a=!1:l[1]&&(a===""||a===ln(s))&&(a=!0))}return a}const $f=new WeakMap;function Ya(e,t,s=!1){const a=s?$f:t.propsCache,n=a.get(e);if(n)return n;const r=e.props,l={},d=[];let _=!1;if(!Ye(e)){const g=u=>{_=!0;const[y,m]=Ya(u,t,!0);ft(l,y),m&&d.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!r&&!_)return nt(e)&&a.set(e,Tn),Tn;if(De(r))for(let g=0;g<r.length;g++){const u=rn(r[g]);Xa(u)&&(l[u]=tt)}else if(r)for(const g in r){const u=rn(g);if(Xa(u)){const y=r[g],m=l[u]=De(y)||Ye(y)?{type:y}:ft({},y),M=m.type;let P=!1,O=!0;if(De(M))for(let A=0;A<M.length;++A){const x=M[A],D=Ye(x)&&x.name;if(D==="Boolean"){P=!0;break}else D==="String"&&(O=!1)}else P=Ye(M)&&M.name==="Boolean";m[0]=P,m[1]=O,(P||qe(m,"default"))&&d.push(u)}}const f=[l,d];return nt(e)&&a.set(e,f),f}function Xa(e){return e[0]!=="$"&&!Xn(e)}const Si=e=>e==="_"||e==="_ctx"||e==="$stable",bi=e=>De(e)?e.map(Kt):[Kt(e)],Lf=(e,t,s)=>{if(t._n)return t;const a=Sa((...n)=>bi(t(...n)),s);return a._c=!1,a},Fa=(e,t,s)=>{const a=e._ctx;for(const n in e){if(Si(n))continue;const r=e[n];if(Ye(r))t[n]=Lf(n,r,a);else if(r!=null){const l=bi(r);t[n]=()=>l}}},Ga=(e,t)=>{const s=bi(t);e.slots.default=()=>s},Va=(e,t,s)=>{for(const a in t)(s||!Si(a))&&(e[a]=t[a])},Df=(e,t,s)=>{const a=e.slots=La();if(e.vnode.shapeFlag&32){const n=t._;n?(Va(a,t,s),s&&Vi(a,"_",n,!0)):Fa(t,a)}else t&&Ga(e,t)},Uf=(e,t,s)=>{const{vnode:a,slots:n}=e;let r=!0,l=tt;if(a.shapeFlag&32){const d=t._;d?s&&d===1?r=!1:Va(n,t,s):(r=!t.$stable,Fa(t,n)),l=t}else t&&(Ga(e,t),l={default:1});if(r)for(const d in n)!Si(d)&&l[d]==null&&delete n[d]},Ot=Zf;function Yf(e){return Xf(e)}function Xf(e,t){const s=Es();s.__VUE__=!0;const{insert:a,remove:n,patchProp:r,createElement:l,createText:d,createComment:_,setText:f,setElementText:g,parentNode:u,nextSibling:y,setScopeId:m=Ft,insertStaticContent:M}=e,P=(S,v,G,Q=null,J=null,ee=null,me=void 0,le=null,oe=!!v.dynamicChildren)=>{if(S===v)return;S&&!ts(S,v)&&(Q=xe(S),C(S,J,ee,!0),S=null),v.patchFlag===-2&&(oe=!1,v.dynamicChildren=null);const{type:Z,ref:Ae,shapeFlag:ce}=v;switch(Z){case $s:O(S,v,G,Q);break;case nn:A(S,v,G,Q);break;case Ls:S==null&&x(v,G,Q,me);break;case Pe:ke(S,v,G,Q,J,ee,me,le,oe);break;default:ce&1?j(S,v,G,Q,J,ee,me,le,oe):ce&6?H(S,v,G,Q,J,ee,me,le,oe):(ce&64||ce&128)&&Z.process(S,v,G,Q,J,ee,me,le,oe,Ne)}Ae!=null&&J?Wn(Ae,S&&S.ref,ee,v||S,!v):Ae==null&&S&&S.ref!=null&&Wn(S.ref,null,ee,S,!0)},O=(S,v,G,Q)=>{if(S==null)a(v.el=d(v.children),G,Q);else{const J=v.el=S.el;v.children!==S.children&&f(J,v.children)}},A=(S,v,G,Q)=>{S==null?a(v.el=_(v.children||""),G,Q):v.el=S.el},x=(S,v,G,Q)=>{[S.el,S.anchor]=M(S.children,v,G,Q,S.el,S.anchor)},D=({el:S,anchor:v},G,Q)=>{let J;for(;S&&S!==v;)J=y(S),a(S,G,Q),S=J;a(v,G,Q)},Y=({el:S,anchor:v})=>{let G;for(;S&&S!==v;)G=y(S),n(S),S=G;n(v)},j=(S,v,G,Q,J,ee,me,le,oe)=>{v.type==="svg"?me="svg":v.type==="math"&&(me="mathml"),S==null?te(v,G,Q,J,ee,me,le,oe):Me(S,v,J,ee,me,le,oe)},te=(S,v,G,Q,J,ee,me,le)=>{let oe,Z;const{props:Ae,shapeFlag:ce,transition:ge,dirs:Te}=S;if(oe=S.el=l(S.type,ee,Ae&&Ae.is,Ae),ce&8?g(oe,S.children):ce&16&&Ie(S.children,oe,null,Q,J,Ti(S,ee),me,le),Te&&hn(S,null,Q,"created"),Oe(oe,S,S.scopeId,me,Q),Ae){for(const N in Ae)N!=="value"&&!Xn(N)&&r(oe,N,null,Ae[N],ee,Q);"value"in Ae&&r(oe,"value",null,Ae.value,ee),(Z=Ae.onVnodeBeforeMount)&&jt(Z,Q,S)}Te&&hn(S,null,Q,"beforeMount");const $e=Ff(J,ge);$e&&ge.beforeEnter(oe),a(oe,v,G),((Z=Ae&&Ae.onVnodeMounted)||$e||Te)&&Ot(()=>{Z&&jt(Z,Q,S),$e&&ge.enter(oe),Te&&hn(S,null,Q,"mounted")},J)},Oe=(S,v,G,Q,J)=>{if(G&&m(S,G),Q)for(let ee=0;ee<Q.length;ee++)m(S,Q[ee]);if(J){let ee=J.subTree;if(v===ee||Qa(ee.type)&&(ee.ssContent===v||ee.ssFallback===v)){const me=J.vnode;Oe(S,me,me.scopeId,me.slotScopeIds,J.parent)}}},Ie=(S,v,G,Q,J,ee,me,le,oe=0)=>{for(let Z=oe;Z<S.length;Z++){const Ae=S[Z]=le?_n(S[Z]):Kt(S[Z]);P(null,Ae,v,G,Q,J,ee,me,le)}},Me=(S,v,G,Q,J,ee,me)=>{const le=v.el=S.el;let{patchFlag:oe,dynamicChildren:Z,dirs:Ae}=v;oe|=S.patchFlag&16;const ce=S.props||tt,ge=v.props||tt;let Te;if(G&&gn(G,!1),(Te=ge.onVnodeBeforeUpdate)&&jt(Te,G,v,S),Ae&&hn(v,S,G,"beforeUpdate"),G&&gn(G,!0),(ce.innerHTML&&ge.innerHTML==null||ce.textContent&&ge.textContent==null)&&g(le,""),Z?U(S.dynamicChildren,Z,le,G,Q,Ti(v,J),ee):me||k(S,v,le,null,G,Q,Ti(v,J),ee,!1),oe>0){if(oe&16)we(le,ce,ge,G,J);else if(oe&2&&ce.class!==ge.class&&r(le,"class",null,ge.class,J),oe&4&&r(le,"style",ce.style,ge.style,J),oe&8){const $e=v.dynamicProps;for(let N=0;N<$e.length;N++){const $=$e[N],_e=ce[$],pe=ge[$];(pe!==_e||$==="value")&&r(le,$,_e,pe,J,G)}}oe&1&&S.children!==v.children&&g(le,v.children)}else!me&&Z==null&&we(le,ce,ge,G,J);((Te=ge.onVnodeUpdated)||Ae)&&Ot(()=>{Te&&jt(Te,G,v,S),Ae&&hn(v,S,G,"updated")},Q)},U=(S,v,G,Q,J,ee,me)=>{for(let le=0;le<v.length;le++){const oe=S[le],Z=v[le],Ae=oe.el&&(oe.type===Pe||!ts(oe,Z)||oe.shapeFlag&198)?u(oe.el):G;P(oe,Z,Ae,null,Q,J,ee,me,!0)}},we=(S,v,G,Q,J)=>{if(v!==G){if(v!==tt)for(const ee in v)!Xn(ee)&&!(ee in G)&&r(S,ee,v[ee],null,J,Q);for(const ee in G){if(Xn(ee))continue;const me=G[ee],le=v[ee];me!==le&&ee!=="value"&&r(S,ee,le,me,J,Q)}"value"in G&&r(S,"value",v.value,G.value,J)}},ke=(S,v,G,Q,J,ee,me,le,oe)=>{const Z=v.el=S?S.el:d(""),Ae=v.anchor=S?S.anchor:d("");let{patchFlag:ce,dynamicChildren:ge,slotScopeIds:Te}=v;Te&&(le=le?le.concat(Te):Te),S==null?(a(Z,G,Q),a(Ae,G,Q),Ie(v.children||[],G,Ae,J,ee,me,le,oe)):ce>0&&ce&64&&ge&&S.dynamicChildren?(U(S.dynamicChildren,ge,G,J,ee,me,le),(v.key!=null||J&&v===J.subTree)&&Ha(S,v,!0)):k(S,v,G,Ae,J,ee,me,le,oe)},H=(S,v,G,Q,J,ee,me,le,oe)=>{v.slotScopeIds=le,S==null?v.shapeFlag&512?J.ctx.activate(v,G,Q,me,oe):be(v,G,Q,J,ee,me,oe):Se(S,v,oe)},be=(S,v,G,Q,J,ee,me)=>{const le=S.component=rm(S,Q,J);if(ya(S)&&(le.ctx.renderer=Ne),cm(le,!1,me),le.asyncDep){if(J&&J.registerDep(le,ue,me),!S.el){const oe=le.subTree=lt(nn);A(null,oe,v,G),S.placeholder=oe.el}}else ue(le,S,v,G,J,ee,me)},Se=(S,v,G)=>{const Q=v.component=S.component;if(zf(S,v,G))if(Q.asyncDep&&!Q.asyncResolved){w(Q,v,G);return}else Q.next=v,Q.update();else v.el=S.el,Q.vnode=v},ue=(S,v,G,Q,J,ee,me)=>{const le=()=>{if(S.isMounted){let{next:ce,bu:ge,u:Te,parent:$e,vnode:N}=S;{const Le=Ba(S);if(Le){ce&&(ce.el=N.el,w(S,ce,me)),Le.asyncDep.then(()=>{S.isUnmounted||le()});return}}let $=ce,_e;gn(S,!1),ce?(ce.el=N.el,w(S,ce,me)):ce=N,ge&&hs(ge),(_e=ce.props&&ce.props.onVnodeBeforeUpdate)&&jt(_e,$e,ce,N),gn(S,!0);const pe=qa(S),F=S.subTree;S.subTree=pe,P(F,pe,u(F.el),xe(F),S,J,ee),ce.el=pe.el,$===null&&Qf(S,pe.el),Te&&Ot(Te,J),(_e=ce.props&&ce.props.onVnodeUpdated)&&Ot(()=>jt(_e,$e,ce,N),J)}else{let ce;const{el:ge,props:Te}=v,{bm:$e,m:N,parent:$,root:_e,type:pe}=S,F=Mn(v);gn(S,!1),$e&&hs($e),!F&&(ce=Te&&Te.onVnodeBeforeMount)&&jt(ce,$,v),gn(S,!0);{_e.ce&&_e.ce._def.shadowRoot!==!1&&_e.ce._injectChildStyle(pe);const Le=S.subTree=qa(S);P(null,Le,G,Q,S,J,ee),v.el=Le.el}if(N&&Ot(N,J),!F&&(ce=Te&&Te.onVnodeMounted)){const Le=v;Ot(()=>jt(ce,$,Le),J)}(v.shapeFlag&256||$&&Mn($.vnode)&&$.vnode.shapeFlag&256)&&S.a&&Ot(S.a,J),S.isMounted=!0,v=G=Q=null}};S.scope.on();const oe=S.effect=new Ji(le);S.scope.off();const Z=S.update=oe.run.bind(oe),Ae=S.job=oe.runIfDirty.bind(oe);Ae.i=S,Ae.id=S.uid,oe.scheduler=()=>fi(Ae),gn(S,!0),Z()},w=(S,v,G)=>{v.component=S;const Q=S.vnode.props;S.vnode=v,S.next=null,wf(S,v.props,Q,G),Uf(S,v.children,G),Gt(),ga(S),Vt()},k=(S,v,G,Q,J,ee,me,le,oe=!1)=>{const Z=S&&S.children,Ae=S?S.shapeFlag:0,ce=v.children,{patchFlag:ge,shapeFlag:Te}=v;if(ge>0){if(ge&128){z(Z,ce,G,Q,J,ee,me,le,oe);return}else if(ge&256){L(Z,ce,G,Q,J,ee,me,le,oe);return}}Te&8?(Ae&16&&ye(Z,J,ee),ce!==Z&&g(G,ce)):Ae&16?Te&16?z(Z,ce,G,Q,J,ee,me,le,oe):ye(Z,J,ee,!0):(Ae&8&&g(G,""),Te&16&&Ie(ce,G,Q,J,ee,me,le,oe))},L=(S,v,G,Q,J,ee,me,le,oe)=>{S=S||Tn,v=v||Tn;const Z=S.length,Ae=v.length,ce=Math.min(Z,Ae);let ge;for(ge=0;ge<ce;ge++){const Te=v[ge]=oe?_n(v[ge]):Kt(v[ge]);P(S[ge],Te,G,null,J,ee,me,le,oe)}Z>Ae?ye(S,J,ee,!0,!1,ce):Ie(v,G,Q,J,ee,me,le,oe,ce)},z=(S,v,G,Q,J,ee,me,le,oe)=>{let Z=0;const Ae=v.length;let ce=S.length-1,ge=Ae-1;for(;Z<=ce&&Z<=ge;){const Te=S[Z],$e=v[Z]=oe?_n(v[Z]):Kt(v[Z]);if(ts(Te,$e))P(Te,$e,G,null,J,ee,me,le,oe);else break;Z++}for(;Z<=ce&&Z<=ge;){const Te=S[ce],$e=v[ge]=oe?_n(v[ge]):Kt(v[ge]);if(ts(Te,$e))P(Te,$e,G,null,J,ee,me,le,oe);else break;ce--,ge--}if(Z>ce){if(Z<=ge){const Te=ge+1,$e=Te<Ae?v[Te].el:Q;for(;Z<=ge;)P(null,v[Z]=oe?_n(v[Z]):Kt(v[Z]),G,$e,J,ee,me,le,oe),Z++}}else if(Z>ge)for(;Z<=ce;)C(S[Z],J,ee,!0),Z++;else{const Te=Z,$e=Z,N=new Map;for(Z=$e;Z<=ge;Z++){const Ge=v[Z]=oe?_n(v[Z]):Kt(v[Z]);Ge.key!=null&&N.set(Ge.key,Z)}let $,_e=0;const pe=ge-$e+1;let F=!1,Le=0;const We=new Array(pe);for(Z=0;Z<pe;Z++)We[Z]=0;for(Z=Te;Z<=ce;Z++){const Ge=S[Z];if(_e>=pe){C(Ge,J,ee,!0);continue}let Ze;if(Ge.key!=null)Ze=N.get(Ge.key);else for($=$e;$<=ge;$++)if(We[$-$e]===0&&ts(Ge,v[$])){Ze=$;break}Ze===void 0?C(Ge,J,ee,!0):(We[Ze-$e]=Z+1,Ze>=Le?Le=Ze:F=!0,P(Ge,v[Ze],G,null,J,ee,me,le,oe),_e++)}const Xe=F?Gf(We):Tn;for($=Xe.length-1,Z=pe-1;Z>=0;Z--){const Ge=$e+Z,Ze=v[Ge],de=v[Ge+1],Re=Ge+1<Ae?de.el||de.placeholder:Q;We[Z]===0?P(null,Ze,G,Re,J,ee,me,le,oe):F&&($<0||Z!==Xe[$]?h(Ze,G,Re,2):$--)}}},h=(S,v,G,Q,J=null)=>{const{el:ee,type:me,transition:le,children:oe,shapeFlag:Z}=S;if(Z&6){h(S.component.subTree,v,G,Q);return}if(Z&128){S.suspense.move(v,G,Q);return}if(Z&64){me.move(S,v,G,Ne);return}if(me===Pe){a(ee,v,G);for(let ce=0;ce<oe.length;ce++)h(oe[ce],v,G,Q);a(S.anchor,v,G);return}if(me===Ls){D(S,v,G);return}if(Q!==2&&Z&1&&le)if(Q===0)le.beforeEnter(ee),a(ee,v,G),Ot(()=>le.enter(ee),J);else{const{leave:ce,delayLeave:ge,afterLeave:Te}=le,$e=()=>{S.ctx.isUnmounted?n(ee):a(ee,v,G)},N=()=>{ee._isLeaving&&ee[uf](!0),ce(ee,()=>{$e(),Te&&Te()})};ge?ge(ee,$e,N):N()}else a(ee,v,G)},C=(S,v,G,Q=!1,J=!1)=>{const{type:ee,props:me,ref:le,children:oe,dynamicChildren:Z,shapeFlag:Ae,patchFlag:ce,dirs:ge,cacheIndex:Te}=S;if(ce===-2&&(J=!1),le!=null&&(Gt(),Wn(le,null,G,S,!0),Vt()),Te!=null&&(v.renderCache[Te]=void 0),Ae&256){v.ctx.deactivate(S);return}const $e=Ae&1&&ge,N=!Mn(S);let $;if(N&&($=me&&me.onVnodeBeforeUnmount)&&jt($,v,S),Ae&6)ae(S.component,G,Q);else{if(Ae&128){S.suspense.unmount(G,Q);return}$e&&hn(S,null,v,"beforeUnmount"),Ae&64?S.type.remove(S,v,G,Ne,Q):Z&&!Z.hasOnce&&(ee!==Pe||ce>0&&ce&64)?ye(Z,v,G,!1,!0):(ee===Pe&&ce&384||!J&&Ae&16)&&ye(oe,v,G),Q&&E(S)}(N&&($=me&&me.onVnodeUnmounted)||$e)&&Ot(()=>{$&&jt($,v,S),$e&&hn(S,null,v,"unmounted")},G)},E=S=>{const{type:v,el:G,anchor:Q,transition:J}=S;if(v===Pe){q(G,Q);return}if(v===Ls){Y(S);return}const ee=()=>{n(G),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(S.shapeFlag&1&&J&&!J.persisted){const{leave:me,delayLeave:le}=J,oe=()=>me(G,ee);le?le(S.el,ee,oe):oe()}else ee()},q=(S,v)=>{let G;for(;S!==v;)G=y(S),n(S),S=G;n(v)},ae=(S,v,G)=>{const{bum:Q,scope:J,job:ee,subTree:me,um:le,m:oe,a:Z}=S;Ka(oe),Ka(Z),Q&&hs(Q),J.stop(),ee&&(ee.flags|=8,C(me,S,v,G)),le&&Ot(le,v),Ot(()=>{S.isUnmounted=!0},v)},ye=(S,v,G,Q=!1,J=!1,ee=0)=>{for(let me=ee;me<S.length;me++)C(S[me],v,G,Q,J)},xe=S=>{if(S.shapeFlag&6)return xe(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const v=y(S.anchor||S.el),G=v&&v[cf];return G?y(G):v};let K=!1;const fe=(S,v,G)=>{S==null?v._vnode&&C(v._vnode,null,null,!0):P(v._vnode||null,S,v,null,null,null,G),v._vnode=S,K||(K=!0,ga(),Ea(),K=!1)},Ne={p:P,um:C,m:h,r:E,mt:be,mc:Ie,pc:k,pbc:U,n:xe,o:e};return{render:fe,hydrate:void 0,createApp:Mf(fe)}}function Ti({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function gn({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Ff(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ha(e,t,s=!1){const a=e.children,n=t.children;if(De(a)&&De(n))for(let r=0;r<a.length;r++){const l=a[r];let d=n[r];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=n[r]=_n(n[r]),d.el=l.el),!s&&d.patchFlag!==-2&&Ha(l,d)),d.type===$s&&d.patchFlag!==-1&&(d.el=l.el),d.type===nn&&!d.el&&(d.el=l.el)}}function Gf(e){const t=e.slice(),s=[0];let a,n,r,l,d;const _=e.length;for(a=0;a<_;a++){const f=e[a];if(f!==0){if(n=s[s.length-1],e[n]<f){t[a]=n,s.push(a);continue}for(r=0,l=s.length-1;r<l;)d=r+l>>1,e[s[d]]<f?r=d+1:l=d;f<e[s[r]]&&(r>0&&(t[a]=s[r-1]),s[r]=a)}}for(r=s.length,l=s[r-1];r-- >0;)s[r]=l,l=t[l];return s}function Ba(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ba(t)}function Ka(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Vf=Symbol.for("v-scx"),Hf=()=>Is(Vf);function it(e,t,s){return ja(e,t,s)}function ja(e,t,s=tt){const{immediate:a,deep:n,flush:r,once:l}=s,d=ft({},s),_=t&&a||!t&&r!=="post";let f;if(ss){if(r==="sync"){const m=Hf();f=m.__watcherHandles||(m.__watcherHandles=[])}else if(!_){const m=()=>{};return m.stop=Ft,m.resume=Ft,m.pause=Ft,m}}const g=gt;d.call=(m,M,P)=>Ht(m,g,M,P);let u=!1;r==="post"?d.scheduler=m=>{Ot(m,g&&g.suspense)}:r!=="sync"&&(u=!0,d.scheduler=(m,M)=>{M?m():fi(m)}),d.augmentJob=m=>{t&&(m.flags|=4),u&&(m.flags|=2,g&&(m.id=g.uid,m.i=g))};const y=ef(e,t,d);return ss&&(f?f.push(y):_&&y()),y}function Bf(e,t,s){const a=this.proxy,n=ot(e)?e.includes(".")?Ja(a,e):()=>a[e]:e.bind(a,a);let r;Ye(t)?r=t:(r=t.handler,s=t);const l=ns(this),d=ja(n,r.bind(a),s);return l(),d}function Ja(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const Kf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${rn(t)}Modifiers`]||e[`${ln(t)}Modifiers`];function jf(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||tt;let n=s;const r=t.startsWith("update:"),l=r&&Kf(a,t.slice(7));l&&(l.trim&&(n=s.map(g=>ot(g)?g.trim():g)),l.number&&(n=s.map(gs)));let d,_=a[d=zs(t)]||a[d=zs(rn(t))];!_&&r&&(_=a[d=zs(ln(t))]),_&&Ht(_,e,6,n);const f=a[d+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,Ht(f,e,6,n)}}const Jf=new WeakMap;function Wa(e,t,s=!1){const a=s?Jf:t.emitsCache,n=a.get(e);if(n!==void 0)return n;const r=e.emits;let l={},d=!1;if(!Ye(e)){const _=f=>{const g=Wa(f,t,!0);g&&(d=!0,ft(l,g))};!s&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}return!r&&!d?(nt(e)&&a.set(e,null),null):(De(r)?r.forEach(_=>l[_]=null):ft(l,r),nt(e)&&a.set(e,l),l)}function ws(e,t){return!e||!fs(t)?!1:(t=t.slice(2).replace(/Once$/,""),qe(e,t[0].toLowerCase()+t.slice(1))||qe(e,ln(t))||qe(e,t))}function R0(){}function qa(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[r],slots:l,attrs:d,emit:_,render:f,renderCache:g,props:u,data:y,setupState:m,ctx:M,inheritAttrs:P}=e,O=vs(e);let A,x;try{if(s.shapeFlag&4){const Y=n||a,j=Y;A=Kt(f.call(j,Y,g,u,m,y,M)),x=d}else{const Y=t;A=Kt(Y.length>1?Y(u,{attrs:d,slots:l,emit:_}):Y(u,null)),x=t.props?d:Wf(d)}}catch(Y){Zn.length=0,xs(Y,e,1),A=lt(nn)}let D=A;if(x&&P!==!1){const Y=Object.keys(x),{shapeFlag:j}=D;Y.length&&j&7&&(r&&Y.some(Js)&&(x=qf(x,r)),D=In(D,x,!1,!0))}return s.dirs&&(D=In(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&mi(D,s.transition),A=D,vs(O),A}const Wf=e=>{let t;for(const s in e)(s==="class"||s==="style"||fs(s))&&((t||(t={}))[s]=e[s]);return t},qf=(e,t)=>{const s={};for(const a in e)(!Js(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function zf(e,t,s){const{props:a,children:n,component:r}=e,{props:l,children:d,patchFlag:_}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&_>=0){if(_&1024)return!0;if(_&16)return a?za(a,l,f):!!l;if(_&8){const g=t.dynamicProps;for(let u=0;u<g.length;u++){const y=g[u];if(l[y]!==a[y]&&!ws(f,y))return!0}}}else return(n||d)&&(!d||!d.$stable)?!0:a===l?!1:a?l?za(a,l,f):!0:!!l;return!1}function za(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const r=a[n];if(t[r]!==e[r]&&!ws(s,r))return!0}return!1}function Qf({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Qa=e=>e.__isSuspense;function Zf(e,t){t&&t.pendingBranch?De(e)?t.effects.push(...e):t.effects.push(e):lf(e)}const Pe=Symbol.for("v-fgt"),$s=Symbol.for("v-txt"),nn=Symbol.for("v-cmt"),Ls=Symbol.for("v-stc"),Zn=[];let xt=null;function b(e=!1){Zn.push(xt=e?null:[])}function em(){Zn.pop(),xt=Zn[Zn.length-1]||null}let es=1;function Za(e,t=!1){es+=e,e<0&&xt&&t&&(xt.hasOnce=!0)}function eo(e){return e.dynamicChildren=es>0?xt||Tn:null,em(),es>0&&xt&&xt.push(e),e}function R(e,t,s,a,n,r){return eo(i(e,t,s,a,n,r,!0))}function At(e,t,s,a,n){return eo(lt(e,t,s,a,n,!0))}function yi(e){return e?e.__v_isVNode===!0:!1}function ts(e,t){return e.type===t.type&&e.key===t.key}const to=({key:e})=>e!=null?e:null,Ds=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?ot(e)||dt(e)||Ye(e)?{i:pt,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,a=0,n=null,r=e===Pe?0:1,l=!1,d=!1){const _={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&to(t),ref:t&&Ds(t),scopeId:Aa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:pt};return d?(Ri(_,s),r&128&&e.normalize(_)):s&&(_.shapeFlag|=ot(s)?8:16),es>0&&!l&&xt&&(_.patchFlag>0||r&6)&&_.patchFlag!==32&&xt.push(_),_}const lt=tm;function tm(e,t=null,s=null,a=0,n=null,r=!1){if((!e||e===bf)&&(e=nn),yi(e)){const d=In(e,t,!0);return s&&Ri(d,s),es>0&&!r&&xt&&(d.shapeFlag&6?xt[xt.indexOf(e)]=d:xt.push(d)),d.patchFlag=-2,d}if(hm(e)&&(e=e.__vccOpts),t){t=nm(t);let{class:d,style:_}=t;d&&!ot(d)&&(t.class=Be(d)),nt(_)&&(_i(_)&&!De(_)&&(_=ft({},_)),t.style=zt(_))}const l=ot(e)?1:Qa(e)?128:df(e)?64:nt(e)?4:Ye(e)?2:0;return i(e,t,s,a,n,l,r,!0)}function nm(e){return e?_i(e)||Da(e)?ft({},e):e:null}function In(e,t,s=!1,a=!1){const{props:n,ref:r,patchFlag:l,children:d,transition:_}=e,f=t?im(n||{},t):n,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&to(f),ref:t&&t.ref?s&&r?De(r)?r.concat(Ds(t)):[r,Ds(t)]:Ds(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pe?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:_,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&In(e.ssContent),ssFallback:e.ssFallback&&In(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return _&&a&&mi(g,_.clone(g)),g}function Ue(e=" ",t=0){return lt($s,null,e,t)}function sm(e,t){const s=lt(Ls,null,e);return s.staticCount=t,s}function ie(e="",t=!1){return t?(b(),At(nn,null,e)):lt(nn,null,e)}function Kt(e){return e==null||typeof e=="boolean"?lt(nn):De(e)?lt(Pe,null,e.slice()):yi(e)?_n(e):lt($s,null,String(e))}function _n(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:In(e)}function Ri(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(De(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),Ri(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Da(t)?t._ctx=pt:n===3&&pt&&(pt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ye(t)?(t={default:t,_ctx:pt},s=32):(t=String(t),a&64?(s=16,t=[Ue(t)]):s=8);e.children=t,e.shapeFlag|=s}function im(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=Be([t.class,a.class]));else if(n==="style")t.style=zt([t.style,a.style]);else if(fs(n)){const r=t[n],l=a[n];l&&r!==l&&!(De(r)&&r.includes(l))&&(t[n]=r?[].concat(r,l):l)}else n!==""&&(t[n]=a[n])}return t}function jt(e,t,s,a=null){Ht(e,t,7,[s,a])}const am=wa();let om=0;function rm(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||am,r={uid:om++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Op(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ya(a,n),emitsOptions:Wa(a,n),emit:null,emitted:null,propsDefaults:tt,inheritAttrs:a.inheritAttrs,ctx:tt,data:tt,props:tt,attrs:tt,slots:tt,refs:tt,setupState:tt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=jf.bind(null,r),e.ce&&e.ce(r),r}let gt=null;const lm=()=>gt||pt;let Us,Oi;{const e=Es(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),r=>{n.length>1?n.forEach(l=>l(r)):n[0](r)}};Us=t("__VUE_INSTANCE_SETTERS__",s=>gt=s),Oi=t("__VUE_SSR_SETTERS__",s=>ss=s)}const ns=e=>{const t=gt;return Us(e),e.scope.on(),()=>{e.scope.off(),Us(t)}},no=()=>{gt&&gt.scope.off(),Us(null)};function so(e){return e.vnode.shapeFlag&4}let ss=!1;function cm(e,t=!1,s=!1){t&&Oi(t);const{props:a,children:n}=e.vnode,r=so(e);If(e,a,r,t),Df(e,n,s||t);const l=r?dm(e,t):void 0;return t&&Oi(!1),l}function dm(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,yf);const{setup:a}=s;if(a){Gt();const n=e.setupContext=a.length>1?_m(e):null,r=ns(e),l=Nn(a,e,0,[e.props,n]),d=Yi(l);if(Vt(),r(),(d||e.sp)&&!Mn(e)&&ba(e),d){if(l.then(no,no),t)return l.then(_=>{io(e,_)}).catch(_=>{xs(_,e,0)});e.asyncDep=l}else io(e,l)}else ao(e)}function io(e,t,s){Ye(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:nt(t)&&(e.setupState=_a(t)),ao(e)}function ao(e,t,s){const a=e.type;e.render||(e.render=a.render||Ft);{const n=ns(e);Gt();try{Rf(e)}finally{Vt(),n()}}}const um={get(e,t){return _t(e,"get",""),e[t]}};function _m(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,um),slots:e.slots,emit:e.emit,expose:t}}function Ys(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_a(jp(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in zn)return zn[s](e)},has(t,s){return s in t||s in zn}})):e.proxy}const pm=/(?:^|[-_])\w/g,fm=e=>e.replace(pm,t=>t.toUpperCase()).replace(/[-_]/g,"");function mm(e,t=!0){return Ye(e)?e.displayName||e.name:e.name||t&&e.__name}function oo(e,t,s=!1){let a=mm(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=r=>{for(const l in r)if(r[l]===t)return l};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?fm(a):s?"App":"Anonymous"}function hm(e){return Ye(e)&&"__vccOpts"in e}const Ce=(e,t)=>Qp(e,t,ss),gm="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xi;const ro=typeof window!="undefined"&&window.trustedTypes;if(ro)try{xi=ro.createPolicy("vue",{createHTML:e=>e})}catch(e){}const lo=xi?e=>xi.createHTML(e):e=>e,Em="http://www.w3.org/2000/svg",Cm="http://www.w3.org/1998/Math/MathML",sn=typeof document!="undefined"?document:null,co=sn&&sn.createElement("template"),Am={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?sn.createElementNS(Em,e):t==="mathml"?sn.createElementNS(Cm,e):s?sn.createElement(e,{is:s}):sn.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>sn.createTextNode(e),createComment:e=>sn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>sn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,r){const l=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{co.innerHTML=lo(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const d=co.content;if(a==="svg"||a==="mathml"){const _=d.firstChild;for(;_.firstChild;)d.appendChild(_.firstChild);d.removeChild(_)}t.insertBefore(d,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Sm=Symbol("_vtc");function bm(e,t,s){const a=e[Sm];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Xs=Symbol("_vod"),uo=Symbol("_vsh"),wn={name:"show",beforeMount(e,{value:t},{transition:s}){e[Xs]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):is(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),is(e,!0),a.enter(e)):a.leave(e,()=>{is(e,!1)}):is(e,t))},beforeUnmount(e,{value:t}){is(e,t)}};function is(e,t){e.style.display=t?e[Xs]:"none",e[uo]=!t}const Tm=Symbol(""),ym=/(?:^|;)\s*display\s*:/;function Rm(e,t,s){const a=e.style,n=ot(s);let r=!1;if(s&&!n){if(t)if(ot(t))for(const l of t.split(";")){const d=l.slice(0,l.indexOf(":")).trim();s[d]==null&&Fs(a,d,"")}else for(const l in t)s[l]==null&&Fs(a,l,"");for(const l in s)l==="display"&&(r=!0),Fs(a,l,s[l])}else if(n){if(t!==s){const l=a[Tm];l&&(s+=";"+l),a.cssText=s,r=ym.test(s)}}else t&&e.removeAttribute("style");Xs in e&&(e[Xs]=r?a.display:"",e[uo]&&(a.display="none"))}const _o=/\s*!important$/;function Fs(e,t,s){if(De(s))s.forEach(a=>Fs(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=Om(e,t);_o.test(s)?e.setProperty(ln(a),s.replace(_o,""),"important"):e[a]=s}}const po=["Webkit","Moz","ms"],Ni={};function Om(e,t){const s=Ni[t];if(s)return s;let a=rn(t);if(a!=="filter"&&a in e)return Ni[t]=a;a=Gi(a);for(let n=0;n<po.length;n++){const r=po[n]+a;if(r in e)return Ni[t]=r}return t}const fo="http://www.w3.org/1999/xlink";function mo(e,t,s,a,n,r=yp(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(fo,t.slice(6,t.length)):e.setAttributeNS(fo,t,s):s==null||r&&!Bi(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Ut(s)?String(s):s)}function ho(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?lo(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const d=r==="OPTION"?e.getAttribute("value")||"":e.value,_=s==null?e.type==="checkbox"?"on":"":String(s);(d!==_||!("_value"in e))&&(e.value=_),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const d=typeof e[t];d==="boolean"?s=Bi(s):s==null&&d==="string"?(s="",l=!0):d==="number"&&(s=0,l=!0)}try{e[t]=s}catch(d){}l&&e.removeAttribute(n||t)}function pn(e,t,s,a){e.addEventListener(t,s,a)}function xm(e,t,s,a){e.removeEventListener(t,s,a)}const go=Symbol("_vei");function Nm(e,t,s,a,n=null){const r=e[go]||(e[go]={}),l=r[t];if(a&&l)l.value=a;else{const[d,_]=vm(t);if(a){const f=r[t]=km(a,n);pn(e,d,f,_)}else l&&(xm(e,d,l,_),r[t]=void 0)}}const Eo=/(?:Once|Passive|Capture)$/;function vm(e){let t;if(Eo.test(e)){t={};let a;for(;a=e.match(Eo);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ln(e.slice(2)),t]}let vi=0;const Pm=Promise.resolve(),Mm=()=>vi||(Pm.then(()=>vi=0),vi=Date.now());function km(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Ht(Im(a,s.value),t,5,[a])};return s.value=e,s.attached=Mm(),s}function Im(e,t){if(De(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const Co=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,wm=(e,t,s,a,n,r)=>{const l=n==="svg";t==="class"?bm(e,a,l):t==="style"?Rm(e,s,a):fs(t)?Js(t)||Nm(e,t,s,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):$m(e,t,a,l))?(ho(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&mo(e,t,a,l,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ot(a))?ho(e,rn(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),mo(e,t,a,l))};function $m(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Co(t)&&Ye(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Co(t)&&ot(s)?!1:t in e}const $n=e=>{const t=e.props["onUpdate:modelValue"]||!1;return De(t)?s=>hs(t,s):t};function Lm(e){e.target.composing=!0}function Ao(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const an=Symbol("_assign"),he={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[an]=$n(n);const r=a||n.props&&n.props.type==="number";pn(e,t?"change":"input",l=>{if(l.target.composing)return;let d=e.value;s&&(d=d.trim()),r&&(d=gs(d)),e[an](d)}),s&&pn(e,"change",()=>{e.value=e.value.trim()}),t||(pn(e,"compositionstart",Lm),pn(e,"compositionend",Ao),pn(e,"change",Ao))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:r}},l){if(e[an]=$n(l),e.composing)return;const d=(r||e.type==="number")&&!/^0\d/.test(e.value)?gs(e.value):e.value,_=t==null?"":t;d!==_&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===_)||(e.value=_))}},ut={deep:!0,created(e,t,s){e[an]=$n(s),pn(e,"change",()=>{const a=e._modelValue,n=as(e),r=e.checked,l=e[an];if(De(a)){const d=Qs(a,n),_=d!==-1;if(r&&!_)l(a.concat(n));else if(!r&&_){const f=[...a];f.splice(d,1),l(f)}}else if(Rn(a)){const d=new Set(a);r?d.add(n):d.delete(n),l(d)}else l(To(e,r))})},mounted:So,beforeUpdate(e,t,s){e[an]=$n(s),So(e,t,s)}};function So(e,{value:t,oldValue:s},a){e._modelValue=t;let n;if(De(t))n=Qs(t,a.props.value)>-1;else if(Rn(t))n=t.has(a.props.value);else{if(t===s)return;n=Fn(t,To(e,!0))}e.checked!==n&&(e.checked=n)}const St={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const n=Rn(t);pn(e,"change",()=>{const r=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?gs(as(l)):as(l));e[an](e.multiple?n?new Set(r):r:r[0]),e._assigning=!0,ma(()=>{e._assigning=!1})}),e[an]=$n(a)},mounted(e,{value:t}){bo(e,t)},beforeUpdate(e,t,s){e[an]=$n(s)},updated(e,{value:t}){e._assigning||bo(e,t)}};function bo(e,t){const s=e.multiple,a=De(t);if(!(s&&!a&&!Rn(t))){for(let n=0,r=e.options.length;n<r;n++){const l=e.options[n],d=as(l);if(s)if(a){const _=typeof d;_==="string"||_==="number"?l.selected=t.some(f=>String(f)===String(d)):l.selected=Qs(t,d)>-1}else l.selected=t.has(d);else if(Fn(as(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function as(e){return"_value"in e?e._value:e.value}function To(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Dm=["ctrl","shift","alt","meta"],Um={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Dm.some(s=>e[`${s}Key`]&&!t.includes(s))},wt=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...r)=>{for(let l=0;l<t.length;l++){const d=Um[t[l]];if(d&&d(n,t))return}return e(n,...r)})},Ym={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},bt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const r=ln(n.key);if(t.some(l=>l===r||Ym[l]===r))return e(n)})},Xm=ft({patchProp:wm},Am);let yo;function Fm(){return yo||(yo=Yf(Xm))}const Gm=(...e)=>{const t=Fm().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=Hm(a);if(!n)return;const r=t._component;!Ye(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,Vm(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function Vm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Hm(e){return ot(e)?document.querySelector(e):e}const Nt=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},Bm={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},Km={key:0,class:"nxp-ec-admin-error"},jm={class:"nxp-ec-admin-error__title"},Jm={class:"nxp-ec-admin-error__body"};function Wm(e,t,s,a,n,r){return b(),R("div",null,[n.error?(b(),R("div",Km,[i("h2",jm,c(r.fallbackTitle),1),i("p",Jm,c(r.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>r.reload&&r.reload(...l))},c(r.reloadLabel),1)])):Tf(e.$slots,"default",{key:1})])}const qm=Nt(Bm,[["render",Wm]]),zm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},Qm={class:"nxp-ec-admin-panel__header"},Zm={class:"nxp-ec-admin-panel__title"},eh={class:"nxp-ec-admin-panel__lead"},th={class:"nxp-ec-admin-panel__actions"},nh=["disabled"],sh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ih={key:1,class:"nxp-ec-dashboard"},ah={class:"nxp-ec-dashboard__metrics"},oh={class:"nxp-ec-dashboard__card"},rh={class:"nxp-ec-dashboard__value"},lh={class:"nxp-ec-dashboard__hint"},ch={class:"nxp-ec-dashboard__card"},dh={class:"nxp-ec-dashboard__value"},uh={class:"nxp-ec-dashboard__hint"},_h={class:"nxp-ec-dashboard__card"},ph={class:"nxp-ec-dashboard__value"},fh={class:"nxp-ec-dashboard__hint"},mh={class:"nxp-ec-dashboard__card"},hh={class:"nxp-ec-dashboard__value"},gh={class:"nxp-ec-dashboard__hint"},Eh={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Ch={class:"nxp-ec-dashboard__checklist-header"},Ah={id:"dashboard-checklist-heading"},Sh={class:"nxp-ec-dashboard__checklist-progress"},bh={class:"nxp-ec-dashboard__checklist-list"},Th={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},yh={key:0,class:"fa-solid fa-circle-check"},Rh={key:1,class:"fa-regular fa-circle"},Oh={class:"nxp-ec-dashboard__checklist-label"},xh=["href","title"],Nh={class:"nxp-ec-sr-only"},vh=Nt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,a=s.translate,n=s.state,r=Ce(()=>{var u;const g=(u=n.summary)==null?void 0:u.currency;return typeof g=="string"&&g.trim()!==""?g.trim():"USD"}),l=(g=0)=>{const u=(Number(g)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:r.value}).format(u)}catch(y){return`${r.value} ${u.toFixed(2)}`}},d=Ce(()=>Array.isArray(n.checklist)?n.checklist:[]),_=Ce(()=>d.value.filter(g=>g.completed).length),f=g=>{switch(g){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return g}};return(g,u)=>(b(),R("section",zm,[i("header",Qm,[i("div",null,[i("h2",Zm,c(o(a)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",eh,c(o(a)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",th,[i("button",{class:"nxp-ec-btn",type:"button",onClick:u[0]||(u[0]=y=>g.$emit("refresh")),disabled:o(n).loading},c(o(a)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,nh)])]),o(n).error?(b(),R("div",sh,c(o(n).error),1)):(b(),R("div",ih,[i("div",ah,[i("article",oh,[i("h3",null,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",rh,c(o(n).summary.products.active),1),i("p",lh,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(o(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",ch,[i("h3",null,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",dh,c(l(o(n).summary.orders.revenue_today)),1),i("p",uh,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(o(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",_h,[i("h3",null,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",ph,c(o(n).summary.customers.total),1),i("p",fh,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",mh,[i("h3",null,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",hh,c(l(o(n).summary.orders.revenue_month)),1),i("p",gh,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[r.value.value],"dashboardMetricCurrency")),1)])]),i("section",Eh,[i("header",Ch,[i("h3",Ah,c(o(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Sh,c(_.value)+" / "+c(d.value.length),1)]),i("ul",bh,[(b(!0),R(Pe,null,Fe(d.value,y=>(b(),R("li",{key:y.id,class:Be({"is-complete":y.completed})},[i("span",Th,[y.completed?(b(),R("span",yh)):(b(),R("span",Rh))]),i("span",Oh,c(o(a)(y.label,f(y.label))),1),y.link?(b(),R("a",{key:0,href:y.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:o(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[u[1]||(u[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",Nh,c(o(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,xh)):ie("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),Ph={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Mh={id:"nxp-ec-products-caption",class:"visually-hidden"},kh={scope:"col"},Ih={scope:"col"},wh={scope:"col"},$h={scope:"col"},Lh={scope:"col"},Dh={scope:"col"},Uh={scope:"col"},Yh={scope:"col"},Xh={scope:"col",class:"nxp-ec-admin-table__actions"},Fh={key:0},Gh={colspan:"8",class:"nxp-ec-admin-table__empty"},Vh=["data-label"],Hh={class:"nxp-ec-admin-table__primary"},Bh={class:"nxp-ec-products-table__title"},Kh={class:"nxp-ec-products-table__slug"},jh={key:0,class:"nxp-ec-products-table__badge"},Jh={class:"nxp-ec-status nxp-ec-status--muted"},Wh={key:1,class:"nxp-ec-products-table__badge"},qh={class:"nxp-ec-status nxp-ec-status--featured"},zh=["data-label"],Qh={key:0},Zh={key:1},eg=["data-label"],tg=["data-label"],ng=["data-label"],sg={key:0},ig={key:1},ag=["data-label"],og=["disabled","aria-pressed","title","aria-label","onClick"],rg={class:"nxp-ec-sr-only"},lg=["data-label"],cg={class:"nxp-ec-admin-table__actions"},dg=["onClick","title","disabled","aria-label"],ug={class:"nxp-ec-sr-only"},_g=["onClick","title","disabled","aria-label"],pg={class:"nxp-ec-sr-only"},Pi=1,os=-1,Mi=0,fg={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1},currentUserId:{type:Number,default:0}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,a=Ce(()=>(t.baseCurrency||"USD").toUpperCase()),n=(y,m=!1)=>{const M=Number(y);if(Number.isFinite(M))return M===os?os:M===Mi?Mi:Pi;if(m)return os;if(typeof y=="string"){const P=y.trim().toLowerCase();if(P==="out_of_stock"||P==="out-of-stock"||P==="-1")return os;if(P==="inactive"||P==="0")return Mi}return Pi},r=y=>{var O;const m=n((O=y==null?void 0:y.status)!=null?O:y==null?void 0:y.active,y==null?void 0:y.out_of_stock),M=m===Pi,P=m===os;return{status:m,isActive:M,isOutOfStock:P,label:M?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):P?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:M?"nxp-ec-status--active":P?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:M?"fa-solid fa-circle-check":P?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},l=y=>(y==null?void 0:y.checked_out)&&Number(y.checked_out)!==0&&Number(y.checked_out)!==Number(t.currentUserId||0),d=y=>{var P,O;const m=(O=(P=y==null?void 0:y.checked_out_user)==null?void 0:P.name)!=null?O:"",M=(y==null?void 0:y.checked_out)===Number(t.currentUserId||0)?s("JGLOBAL_YOU","You"):m||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Another user");return s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[M],"productLockedBy")},_=y=>{var A,x,D,Y;const m=(x=(A=y==null?void 0:y.summary)==null?void 0:A.variants)!=null?x:{};if(m.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const M=Number.isFinite(m.price_min_cents)?m.price_min_cents:null,P=Number.isFinite(m.price_max_cents)?m.price_max_cents:null;if(M===null)return"";const O=m.currency||((Y=(D=y==null?void 0:y.variants)==null?void 0:D[0])==null?void 0:Y.currency)||a.value;return P===null||P===M?u(M,O):`${u(M,O)}  ${u(P,O)}`},f=y=>{var P,O;const m=(O=(P=y==null?void 0:y.summary)==null?void 0:P.variants)!=null?O:{},M=Number.isFinite(m.count)?m.count:Array.isArray(y==null?void 0:y.variants)?y.variants.length:0;return M===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(M)])},g=y=>{if(!Array.isArray(y)||!y.length)return"";const m=y.map(O=>(O==null?void 0:O.title)||(O==null?void 0:O.slug)).filter(O=>!!O);if(!m.length)return"";if(m.length<=3)return m.join(", ");const M=m.slice(0,3).join(", "),P=m.length-3;return`${M} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(P)])}`},u=(y,m)=>`${(y/100).toFixed(2)} ${m}`;return(y,m)=>(b(),R("table",Ph,[i("caption",Mh,c(o(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",kh,c(o(s)("JGRID_HEADING_ID","ID")),1),i("th",Ih,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",wh,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",$h,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",Lh,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",Dh,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",Uh,c(o(s)("JSTATUS","Status")),1),i("th",Yh,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",Xh,c(o(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?ie("",!0):(b(),R("tr",Fh,[i("td",Gh,c(o(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(b(!0),R(Pe,null,Fe(e.items,M=>{var P,O,A,x,D,Y,j,te,Oe,Ie,Me,U;return b(),R("tr",{key:M.id},[i("td",{"data-label":o(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},c(M.id),9,Vh),i("td",Hh,[i("div",Bh,c(M.title),1),i("div",Kh,c(M.slug),1),M.checked_out?(b(),R("div",jh,[i("span",Jh,[m[0]||(m[0]=i("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),Ue(" "+c(d(M)),1)])])):ie("",!0),M.featured?(b(),R("div",Wh,[i("span",qh,[m[1]||(m[1]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Ue(" "+c(o(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ie("",!0)]),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[_(M)?(b(),R("span",Qh,c(_(M)),1)):(b(),R("span",Zh,c(o(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,zh),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},c(f(M)),9,eg),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[i("span",{class:Be(["nxp-ec-status",(O=(P=M.summary)==null?void 0:P.variants)!=null&&O.stock_zero?"nxp-ec-status--danger":(x=(A=M.summary)==null?void 0:A.variants)!=null&&x.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(Y=(D=M.summary)==null?void 0:D.variants)!=null&&Y.stock_zero||((te=(j=M.summary)==null?void 0:j.variants)==null?void 0:te.stock_total)===0?(b(),R(Pe,{key:0},[Ue(c(o(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(b(),R(Pe,{key:1},[Ue(c(o(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((Me=(Ie=(Oe=M.summary)==null?void 0:Oe.variants)==null?void 0:Ie.stock_total)!=null?Me:0)])),1)],64))],2)],8,tg),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(U=M.categories)!=null&&U.length?(b(),R("span",sg,c(g(M.categories)),1)):(b(),R("span",ig,c(o(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,ng),i("td",{"data-label":o(s)("JSTATUS","Status")},[i("button",{type:"button",class:Be(["nxp-ec-status","nxp-ec-status-button",r(M).className]),disabled:e.saving||l(M),"aria-pressed":r(M).isActive?"true":"false",title:r(M).title,"aria-label":r(M).title,onClick:we=>y.$emit("toggle-active",M)},[i("i",{class:Be(r(M).icon),"aria-hidden":"true"},null,2),Ue(" "+c(r(M).label)+" ",1),i("span",rg,c(o(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,og)],8,ag),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},c(M.modified||M.created),9,lg),i("td",cg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:we=>y.$emit("edit",M),title:o(s)("JGLOBAL_EDIT","Edit"),disabled:e.saving,"aria-label":o(s)("JGLOBAL_EDIT","Edit")},[m[2]||(m[2]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",ug,c(o(s)("JGLOBAL_EDIT","Edit")),1)],8,dg),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:we=>y.$emit("delete",M),title:o(s)("JTRASH","Delete"),disabled:e.saving||l(M),"aria-label":o(s)("JTRASH","Delete")},[m[3]||(m[3]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",pg,c(o(s)("JTRASH","Delete")),1)],8,_g)])])}),128))])]))}};class mg{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const a={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};a.headers={...a.headers,...s.headers||{}};const n=String(a.method||"GET").toUpperCase();let r=t;this.token&&(a.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(r=this.ensureTokenOnUrl(r)));const l=await fetch(r,a);let d=null;const _=await l.text();if(_)try{d=JSON.parse(_)}catch(f){}if(!l.ok){const f=new Error((d==null?void 0:d.message)||`Request failed with status ${l.status}`);throw f.code=l.status,f.details=(d==null?void 0:d.data)||(d==null?void 0:d.errors)||null,f}if((d==null?void 0:d.success)===!1){const f=new Error(d.message||"Unknown API error");throw f.details=d.data||d.errors||null,f}return d!=null?d:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const a=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,a);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(a){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var y,m,M,P;const l=new URLSearchParams({limit:String(s),start:String(a)});n&&l.set("search",n);const d=`${t}&${l.toString()}`,f=(y=(await this.get(d,{signal:r})).data)!=null?y:{},g=(M=(m=f.items)!=null?m:f.data)!=null?M:[],u=(P=f.pagination)!=null?P:{total:0,limit:s,pages:0,current:0};return{items:g,pagination:u}}async fetchCategories({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var f,g,u;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(f=(await this.get(l,{signal:r})).data)!=null?f:{};return{items:(g=_.items)!=null?g:[],pagination:(u=_.pagination)!=null?u:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:a=0,search:n="",state:r="",signal:l}){var y,m,M,P;const d=this.mergeParams(t,{limit:s,start:a,search:n||void 0,state:r||void 0}),f=(y=(await this.get(d,{signal:l})).data)!=null?y:{},g=(M=(m=f.items)!=null?m:f.data)!=null?M:[],u=(P=f.pagination)!=null?P:{total:0,limit:s,pages:0,current:0};return{items:g,pagination:u}}async fetchCustomers({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var u,y,m;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(u=(await this.get(l,{signal:r})).data)!=null?u:{},f=(y=_.items)!=null?y:[],g=(m=_.pagination)!=null?m:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:g}}async fetchCustomer({endpoint:t,email:s}){var r,l;const a=this.mergeParams(t,{email:s});return(l=(r=(await this.get(a)).data)==null?void 0:r.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var f,g,u;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(f=(await this.get(l,{signal:r})).data)!=null?f:{};return{items:(g=_.items)!=null?g:[],pagination:(u=_.pagination)!=null?u:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?r:null}async updateCoupon({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.coupon)!=null?d:null}async deleteCoupons({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchTaxRates({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var f,g,u;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(f=(await this.get(l,{signal:r})).data)!=null?f:{};return{items:(g=_.items)!=null?g:[],pagination:(u=_.pagination)!=null?u:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?r:null}async updateTaxRate({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.rate)!=null?d:null}async deleteTaxRates({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchShippingRules({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var f,g,u;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(f=(await this.get(l,{signal:r})).data)!=null?f:{};return{items:(g=_.items)!=null?g:[],pagination:(u=_.pagination)!=null?u:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?r:null}async updateShippingRule({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.rule)!=null?d:null}async deleteShippingRules({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchLogs({endpoint:t,limit:s=20,start:a=0,search:n="",entity:r="",signal:l}){var g,u,y;const d=this.mergeParams(t,{limit:s,start:a,search:n||void 0,entity:r||void 0}),f=(g=(await this.get(d,{signal:l})).data)!=null?g:{};return{items:(u=f.items)!=null?u:[],pagination:(y=f.pagination)!=null?y:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var a;return t?(a=(await this.get(t)).data)!=null?a:{}:{}}async fetchSettings({endpoint:t}){var a,n;return t?(n=(a=(await this.get(t)).data)==null?void 0:a.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,r;return(r=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?r:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:a=""}){var l,d;const n=this.mergeParams(t,{id:s||void 0,order_no:a||void 0});return(d=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?d:null}async transitionOrder({endpoint:t,id:s,state:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.post(n,{state:a})).data)==null?void 0:l.order)!=null?d:null}async bulkTransitionOrders({endpoint:t,ids:s,state:a}){var l;const n={ids:s,state:a};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:a}){var r,l;return(l=(r=(await this.post(t,{id:s,message:a})).data)==null?void 0:r.order)!=null?l:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:a}){var l,d;const n={id:s||void 0,order_no:a||void 0};return(d=(l=(await this.post(t,n)).data)==null?void 0:l.invoice)!=null?d:null}async exportOrders({endpoint:t,search:s="",state:a=""}){var l,d;const n=this.mergeParams(t,{search:s||void 0,state:a||void 0});return(d=(l=(await this.get(n)).data)==null?void 0:l.export)!=null?d:null}async updateOrderTracking({endpoint:t,id:s,tracking:a}){var r,l;return(l=(r=(await this.post(t,{id:s,...a})).data)==null?void 0:r.order)!=null?l:null}async sendOrderEmail({endpoint:t,id:s,type:a}){var r,l;return(l=(r=(await this.post(t,{id:s,type:a})).data)==null?void 0:r.order)!=null?l:null}async recordTransaction({endpoint:t,id:s,amountCents:a,reference:n,note:r}){var d,_;return(_=(d=(await this.post(t,{id:s,amount_cents:a,reference:n||void 0,note:r||void 0})).data)==null?void 0:d.order)!=null?_:null}async resendDownloads({endpoint:t,id:s}){var n,r;return(r=(n=(await this.post(t,{id:s})).data)==null?void 0:n.order)!=null?r:null}async resetDownload({endpoint:t,downloadId:s,orderId:a}){var r;return(r=(await this.post(t,{download_id:s,order_id:a||void 0})).data)!=null?r:null}async checkoutOrder({endpoint:t,id:s}){var r,l;const a=this.mergeParams(t,{id:s});return(l=(r=(await this.post(a,{id:s})).data)==null?void 0:r.order)!=null?l:null}async checkinOrder({endpoint:t,id:s,force:a=!1}){var l,d;const n=this.mergeParams(t,{id:s,force:a?1:void 0});return(d=(l=(await this.post(n,{id:s})).data)==null?void 0:l.order)!=null?d:null}async createProduct({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?r:null}async updateProduct({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.item)!=null?d:null}async deleteProducts({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:[]}async checkoutProduct({endpoint:t,id:s}){var r,l;const a=this.mergeParams(t,{id:s});return(l=(r=(await this.post(a,{id:s})).data)==null?void 0:r.item)!=null?l:null}async checkinProduct({endpoint:t,id:s,force:a=!1}){var l,d;const n=this.mergeParams(t,{id:s,force:a?1:void 0});return(d=(l=(await this.post(n,{id:s})).data)==null?void 0:l.item)!=null?d:null}async fetchDigitalFiles({endpoint:t,productId:s,variantId:a=null,signal:n}){var d,_;const r=this.mergeParams(t,{product_id:s,variant_id:a||void 0});return(_=(d=(await this.get(r,{signal:n})).data)==null?void 0:d.files)!=null?_:[]}async uploadDigitalFile({endpoint:t,productId:s,file:a,variantId:n=null,version:r="1.0"}){var _,f;const l=new FormData;return l.append("product_id",s),n&&l.append("variant_id",n),r&&l.append("version",r),l.append("file",a),(f=(_=(await this.request(t,{method:"POST",body:l})).data)==null?void 0:_.file)!=null?f:null}async deleteDigitalFile({endpoint:t,fileId:s}){var n,r;return(r=(n=(await this.post(t,{id:s})).data)==null?void 0:n.deleted)!=null?r:null}async createCategory({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?r:null}async updateCategory({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.item)!=null?d:null}async deleteCategories({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async checkoutCategory({endpoint:t,id:s}){var r,l;const a=this.mergeParams(t,{id:s});return(l=(r=(await this.post(a,{id:s})).data)==null?void 0:r.item)!=null?l:null}async checkinCategory({endpoint:t,id:s,force:a=!1}){var l,d;const n=this.mergeParams(t,{id:s,force:a?1:void 0});return(d=(l=(await this.post(n,{id:s})).data)==null?void 0:l.item)!=null?d:null}async gdprExport({endpoint:t,email:s}){var r,l;const a=this.mergeParams(t,{email:s});return(l=(r=(await this.get(a)).data)==null?void 0:r.export)!=null?l:null}async gdprAnonymise({endpoint:t,email:s}){var n,r,l,d;const a=await this.post(t,{email:s});return{affected:(r=(n=a.data)==null?void 0:n.affected)!=null?r:0,message:(d=(l=a.data)==null?void 0:l.message)!=null?d:""}}mergeParams(t,s={}){const a=new URLSearchParams;return Object.entries(s).forEach(([n,r])=>{r==null||r===""||a.set(n,String(r))}),a.toString()?`${t}${t.includes("?")?"&":"?"}${a.toString()}`:t}}const $t=e=>new mg(e),hg={class:"nxp-ec-modal__dialog"},gg={class:"nxp-ec-modal__header"},Eg={id:"product-modal-title",class:"nxp-ec-modal__title"},Cg={class:"nxp-ec-modal__header-actions"},Ag=["disabled","title","aria-label"],Sg={class:"nxp-ec-sr-only"},bg=["disabled","title","aria-label"],Tg={class:"nxp-ec-sr-only"},yg=["title","aria-label"],Rg={class:"nxp-ec-sr-only"},Og={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},xg={class:"nxp-ec-editor-tabs",role:"tablist"},Ng={class:"nxp-ec-editor-panel"},vg={class:"nxp-ec-form-field"},Pg={class:"nxp-ec-form-label",for:"product-title"},Mg={class:"nxp-ec-form-field"},kg={class:"nxp-ec-form-label",for:"product-slug"},Ig=["placeholder"],wg={class:"nxp-ec-form-field"},$g={class:"nxp-ec-form-label",for:"product-short-desc"},Lg={class:"nxp-ec-form-field"},Dg={class:"nxp-ec-form-label",for:"product-long-desc"},Ug={class:"nxp-ec-form-field"},Yg={class:"nxp-ec-form-label",for:"product-status"},Xg={value:1},Fg={value:-1},Gg={value:0},Vg={class:"nxp-ec-form-help"},Hg={class:"nxp-ec-form-field"},Bg={class:"nxp-ec-form-label",for:"product-type"},Kg={value:"physical"},jg={value:"digital"},Jg={class:"nxp-ec-form-help"},Wg={class:"nxp-ec-form-field nxp-ec-form-field--inline"},qg={class:"nxp-ec-form-label",for:"product-featured"},zg={class:"nxp-ec-form-help"},Qg={class:"nxp-ec-editor-panel"},Zg={class:"nxp-ec-form-field"},eE={class:"nxp-ec-form-label",for:"product-images"},tE={id:"product-images",class:"nxp-ec-image-list"},nE=["id","onUpdate:modelValue","placeholder"],sE={class:"nxp-ec-image-row__actions"},iE=["onClick"],aE=["onClick","disabled"],oE=["onClick","disabled"],rE=["onClick","aria-label"],lE={class:"nxp-ec-form-help"},cE={class:"nxp-ec-editor-panel"},dE={class:"nxp-ec-form-field"},uE={class:"nxp-ec-form-label",for:"product-category-select"},_E=["value"],pE={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},fE=["onClick","aria-label"],mE={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},hE=["onKeydown","placeholder"],gE={class:"nxp-ec-form-help"},EE={class:"nxp-ec-variant-section"},CE={class:"nxp-ec-variant-section__header"},AE={class:"nxp-ec-variant-section__title"},SE={class:"nxp-ec-form-help"},bE={class:"nxp-ec-variant-card__header"},TE={class:"nxp-ec-variant-card__title"},yE=["onClick"],RE=["onClick","disabled"],OE={class:"nxp-ec-variant-card__grid"},xE={class:"nxp-ec-form-field"},NE=["for"],vE=["id","onUpdate:modelValue"],PE={class:"nxp-ec-form-field"},ME=["for"],kE=["id","onUpdate:modelValue","placeholder"],IE={class:"nxp-ec-form-field"},wE=["for"],$E=["id","onUpdate:modelValue","onBlur"],LE={class:"nxp-ec-form-field"},DE=["for"],UE=["id","onUpdate:modelValue","onBlur","placeholder"],YE={class:"nxp-ec-form-field"},XE=["for"],FE=["id","onUpdate:modelValue","disabled"],GE={class:"nxp-ec-form-help"},VE={class:"nxp-ec-form-field"},HE=["for"],BE=["id","onUpdate:modelValue","disabled"],KE={class:"nxp-ec-form-help"},jE={class:"nxp-ec-form-field"},JE=["for"],WE=["id","onUpdate:modelValue"],qE={class:"nxp-ec-form-field"},zE=["for"],QE=["id","onUpdate:modelValue"],ZE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},eC=["for"],tC=["id","onUpdate:modelValue"],nC={class:"nxp-ec-form-help"},sC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iC=["for"],aC=["id","onUpdate:modelValue"],oC={class:"nxp-ec-variant-options"},rC={class:"nxp-ec-variant-options__header"},lC={class:"nxp-ec-variant-options__title"},cC=["onClick"],dC={class:"nxp-ec-form-help"},uC=["id","onUpdate:modelValue","placeholder"],_C=["id","onUpdate:modelValue","placeholder"],pC=["onClick","aria-label"],fC={key:1,class:"nxp-ec-editor-panel nxp-ec-editor-panel--digital"},mC={class:"nxp-ec-admin-alert nxp-ec-admin-alert--info"},hC={style:{"margin-bottom":"0"}},gC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},EC={key:1,class:"nxp-ec-admin-callout nxp-ec-admin-callout--info"},CC={class:"nxp-ec-admin-callout__content"},AC={class:"nxp-ec-admin-callout__title"},SC={class:"nxp-ec-digital-grid"},bC={class:"nxp-ec-digital-card"},TC={class:"nxp-ec-form-field"},yC={class:"nxp-ec-form-label",for:"digital-file-input"},RC=["disabled"],OC={class:"nxp-ec-form-field"},xC={class:"nxp-ec-form-label",for:"digital-version"},NC=["disabled"],vC={class:"nxp-ec-form-field"},PC={class:"nxp-ec-form-label",for:"digital-variant"},MC=["disabled"],kC={value:""},IC=["value"],wC={class:"nxp-ec-form-help"},$C={class:"nxp-ec-admin-form__actions"},LC=["disabled"],DC={class:"nxp-ec-digital-card"},UC={class:"nxp-ec-digital-card__header"},YC={key:0},XC={key:0,class:"nxp-ec-form-help"},FC={key:1,class:"nxp-ec-digital-table"},GC={class:"nxp-ec-digital-meta"},VC={class:"nxp-ec-admin-panel__muted"},HC={key:0,class:"nxp-ec-admin-panel__muted"},BC={class:"nxp-ec-digital-actions"},KC=["disabled","onClick"],jC={class:"nxp-ec-modal__actions"},JC=["disabled"],WC=["disabled"],Ro="product-editor-form",qC=Nt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),l=ze("general"),d=$t({token:s.csrfToken||""}),_=Ce(()=>s.digitalEndpoints||{});Ce(()=>s.csrfToken||"");const f=T=>{var p,V,re,Ee,X,ne,B,Ve;if(T==null)return null;if(typeof T=="string"){const je=T.trim();return je===""?null:{id:0,title:je,slug:""}}if(typeof T=="object"){const je=Number.parseInt((V=(p=T.id)!=null?p:T.value)!=null?V:0,10)||0,at=(B=(ne=(X=(Ee=(re=T.title)!=null?re:T.name)!=null?Ee:T.text)!=null?X:T.label)!=null?ne:T.slug)!=null?B:"",Pt=String(at!=null?at:"").trim(),Lt=String((Ve=T.slug)!=null?Ve:"").trim(),Mt=T.parent_id!==null&&T.parent_id!==void 0&&Number.parseInt(T.parent_id,10)||null;return je<=0&&Pt===""?null:{id:je>0?je:0,title:Pt!==""?Pt:Lt,slug:Lt,parent_id:Mt}}return null},g=T=>{const p=Number(T);if(Number.isFinite(p))return p===-1?-1:p===0?0:1;if(typeof T=="string"){const V=T.trim().toLowerCase();if(V==="out_of_stock"||V==="out-of-stock"||V==="-1")return-1;if(V==="inactive"||V==="0")return 0}return 1},u=Qe({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[],product_type:"physical",digital_files:[]}),y=ze(""),m=ze(!1),M=Ce(()=>(u.product_type||"physical").toString().toLowerCase()),P=Ce(()=>M.value==="digital"),O=Qe({files:[],loading:!1,uploading:!1,deletingId:0,error:"",version:"1.0",variantId:""}),A=ze(null),x=ze(null),D=()=>{A.value=null,x.value&&(x.value.value="")},Y=(T,p,V=new Set)=>{if(!T||V.has(T))return 0;V.add(T);const re=p.find(Ee=>Ee.id===T);return!re||!re.parent_id?0:1+Y(re.parent_id,p,V)},j=T=>{if(!T)return"";const p=Array.isArray(s.categoryOptions)?s.categoryOptions:[],V=Y(T.id,p);return V===0?T.title:"".repeat(V)+" "+T.title},te=Ce(()=>{const p=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(f).filter(X=>X&&X.id>0&&X.title!==""),V=new Map;p.forEach(X=>{V.set(X.id,X)}),u.categories.forEach(X=>{var ne;X.id>0&&X.title&&!V.has(X.id)&&V.set(X.id,{id:X.id,title:X.title,slug:(ne=X.slug)!=null?ne:"",parent_id:X.parent_id!==null&&X.parent_id!==void 0?X.parent_id:null})});const re=Array.from(V.values()),Ee=(X=null,ne=0)=>re.filter(B=>B.parent_id===X).sort((B,Ve)=>B.title.localeCompare(Ve.title)).flatMap(B=>[B,...Ee(B.id,ne+1)]);return Ee()}),Oe=Ce(()=>{const T=new Map;return te.value.forEach(p=>{var V;T.set(p.id,{title:p.title,slug:(V=p.slug)!=null?V:""})}),T}),Ie=Ce({get:()=>u.categories.filter(p=>p&&p.id>0).map(p=>p.id),set:T=>{const p=Array.isArray(T)?T:[],V=Array.from(new Set(p.map(X=>Number.parseInt(X!=null?X:0,10)||0).filter(X=>X>0))),re=u.categories.filter(X=>!(X.id>0)),Ee=V.map(X=>{const ne=Oe.value.get(X),B=u.categories.find(at=>at.id===X),Ve=(ne==null?void 0:ne.title)||(B==null?void 0:B.title)||"",je=(ne==null?void 0:ne.slug)||(B==null?void 0:B.slug)||"";return Ve===""?null:{id:X,title:Ve,slug:je}}).filter(X=>X!==null);u.categories.splice(0,u.categories.length,...Ee,...re)}}),Me=Ce(()=>s.product&&s.product.id?"edit":"create"),U=()=>({id:0,sku:"",ean:"",price:"",sale_price:"",sale_start:null,sale_end:null,sale_start_local:"",sale_end_local:"",currency:r.value,stock:0,weight:"",active:!0,options:[],is_digital:P.value}),we=()=>({name:"",value:""}),ke=T=>T?T.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",H=()=>{m.value=!0,u.slug=ke(u.slug)},be=T=>{const V=(Array.isArray(T)?T:[]).map(f).filter(X=>X&&(X.id>0||X.title!=="")),re=new Set,Ee=[];V.forEach(X=>{const ne=X.id>0?`id:${X.id}`:`title:${X.title.toLowerCase()}`;re.has(ne)||(re.add(ne),Ee.push(X))}),u.categories.splice(0,u.categories.length,...Ee)},Se=T=>{u.variants.splice(0,u.variants.length,...T),C()},ue=T=>{u.images.splice(0,u.images.length,...T)},w=T=>Array.isArray(T)?T.map(p=>{var V,re,Ee;return{name:String((re=(V=p==null?void 0:p.name)!=null?V:p==null?void 0:p.key)!=null?re:"").trim(),value:String((Ee=p==null?void 0:p.value)!=null?Ee:"").trim()}}):T&&typeof T=="object"?Object.entries(T).map(([p,V])=>({name:String(p!=null?p:"").trim(),value:String(V!=null?V:"").trim()})):[],k=T=>Array.isArray(T)?T.map(p=>{var V,re,Ee,X,ne,B,Ve;return{id:Number.parseInt((V=p==null?void 0:p.id)!=null?V:0,10)||0,product_id:Number.parseInt((re=p==null?void 0:p.product_id)!=null?re:0,10)||0,variant_id:(p==null?void 0:p.variant_id)!==null&&(p==null?void 0:p.variant_id)!==void 0?Number.parseInt(p.variant_id,10)||0:null,filename:String((Ee=p==null?void 0:p.filename)!=null?Ee:"").trim(),storage_path:String((X=p==null?void 0:p.storage_path)!=null?X:"").trim(),file_size:Number.parseInt((ne=p==null?void 0:p.file_size)!=null?ne:0,10)||0,mime_type:(p==null?void 0:p.mime_type)!==null&&(p==null?void 0:p.mime_type)!==void 0?String(p.mime_type).trim():"",version:String((B=p==null?void 0:p.version)!=null?B:"1.0").trim()||"1.0",created:String((Ve=p==null?void 0:p.created)!=null?Ve:"").trim()}}).filter(p=>p.id>0&&p.filename!==""):[],L=T=>{if(!T||T==="")return"";try{const p=new Date(T.replace(" ","T")+"Z");if(isNaN(p.getTime()))return"";const V=p.getFullYear(),re=String(p.getMonth()+1).padStart(2,"0"),Ee=String(p.getDate()).padStart(2,"0"),X=String(p.getHours()).padStart(2,"0"),ne=String(p.getMinutes()).padStart(2,"0");return`${V}-${re}-${Ee}T${X}:${ne}`}catch(p){return""}},z=T=>{if(!T||T==="")return null;try{const p=new Date(T);return isNaN(p.getTime())?null:p.toISOString().slice(0,19).replace("T"," ")}catch(p){return null}},h=T=>!Array.isArray(T)||T.length===0?[U()]:T.map(p=>{var re,Ee,X,ne,B,Ve;const V=(p==null?void 0:p.sale_price)!=null?String(p.sale_price):Number.isFinite(p==null?void 0:p.sale_price_cents)?(p.sale_price_cents/100).toFixed(2):"";return{id:Number.parseInt((re=p==null?void 0:p.id)!=null?re:0,10)||0,sku:String((Ee=p==null?void 0:p.sku)!=null?Ee:"").trim(),ean:(p==null?void 0:p.ean)!=null?String(p.ean).trim():"",price:(p==null?void 0:p.price)!=null?String(p.price):Number.isFinite(p==null?void 0:p.price_cents)?(p.price_cents/100).toFixed(2):"",sale_price:V,sale_start:(X=p==null?void 0:p.sale_start)!=null?X:null,sale_end:(ne=p==null?void 0:p.sale_end)!=null?ne:null,sale_start_local:L(p==null?void 0:p.sale_start),sale_end_local:L(p==null?void 0:p.sale_end),currency:String((B=p==null?void 0:p.currency)!=null?B:r.value).toUpperCase(),stock:Number.parseInt((Ve=p==null?void 0:p.stock)!=null?Ve:0,10)||0,weight:(p==null?void 0:p.weight)!=null?String(p.weight):"",active:(p==null?void 0:p.active)!==void 0?!!p.active:!0,options:w(p==null?void 0:p.options),is_digital:(p==null?void 0:p.is_digital)!==void 0?!!p.is_digital:P.value}}),C=()=>{u.variants.forEach(T=>{(T.is_digital===void 0||T.is_digital===null)&&(T.is_digital=P.value),P.value&&(T.weight="")})},E=T=>{var X,ne,B,Ve,je;const p=T?JSON.parse(JSON.stringify(T)):{};u.title=(X=p.title)!=null?X:"",u.slug=(ne=p.slug)!=null?ne:"",u.short_desc=(B=p.short_desc)!=null?B:"",u.long_desc=(Ve=p.long_desc)!=null?Ve:"",u.status=g(p.status!==void 0?p.status:p.active),u.featured=p.featured!==void 0?!!p.featured:!1,u.product_type=typeof p.product_type=="string"&&p.product_type!==""?p.product_type.toLowerCase():"physical";const V=Array.isArray(p.images)?p.images.map(at=>String(at!=null?at:"").trim()).filter(Boolean):[];ue(V);const re=Array.isArray(p.categories)?p.categories:[];be(re);const Ee=k((je=p.digital_files)!=null?je:[]);u.digital_files.splice(0,u.digital_files.length,...Ee),O.files=Ee.slice(),O.error="",O.variantId="",O.version="1.0",O.deletingId=0,D(),y.value="",Se(h(p.variants)),m.value=!!u.slug},q=Ce(()=>u.variants.map((T,p)=>{var X,ne;const V=String((X=T==null?void 0:T.sku)!=null?X:"").trim(),re=Array.isArray(T==null?void 0:T.options)?T.options.filter(B=>(B==null?void 0:B.name)&&(B==null?void 0:B.value)).map(B=>`${String(B.name).trim()}: ${String(B.value).trim()}`).join(", "):"",Ee=n("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(p+1)]);return{id:Number.parseInt((ne=T==null?void 0:T.id)!=null?ne:0,10)||0,label:V||re||Ee}})),ae=T=>{if(!T)return n("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants");const p=q.value.find(V=>V.id===T);return(p==null?void 0:p.label)||n("COM_NXPEASYCART_DIGITAL_VARIANT_SPECIFIC","Variant")},ye=T=>{const p=Number(T)||0;if(p<=0)return n("COM_NXPEASYCART_DIGITAL_FILE_SIZE_UNKNOWN","Unknown size");const V=["B","KB","MB","GB"];let re=0,Ee=p;for(;Ee>=1024&&re<V.length-1;)Ee/=1024,re+=1;return`${Ee.toFixed(Ee>=10?0:1)} ${V[re]}`},xe=async()=>{var T,p;if(!((T=s.product)!=null&&T.id)){O.files=k(u.digital_files);return}if(!((p=_.value)!=null&&p.list)){O.files=k(u.digital_files);return}O.loading=!0,O.error="";try{const V=await d.fetchDigitalFiles({endpoint:_.value.list,productId:s.product.id}),re=k(V);O.files=re,u.digital_files.splice(0,u.digital_files.length,...re)}catch(V){O.error=(V==null?void 0:V.message)||n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to load digital files.")}finally{O.loading=!1}},K=T=>{var V;const p=(V=T==null?void 0:T.target)==null?void 0:V.files;A.value=p&&p.length?p[0]:null},fe=async()=>{var T,p;if(!((T=s.product)!=null&&T.id)){O.error=n("COM_NXPEASYCART_ERROR_PRODUCT_ID_REQUIRED","Save the product before uploading files.");return}if(!((p=_.value)!=null&&p.upload)){O.error=n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Digital upload endpoint unavailable.");return}if(!A.value){O.error=n("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Select a file to upload.");return}O.uploading=!0,O.error="";try{const V=await d.uploadDigitalFile({endpoint:_.value.upload,productId:s.product.id,variantId:O.variantId&&Number.parseInt(O.variantId,10)||null,version:O.version||"1.0",file:A.value}),re=V?k([V]):[];re.length&&(O.files.unshift(re[0]),u.digital_files.unshift(re[0]))}catch(V){O.error=(V==null?void 0:V.message)||n("COM_NXPEASYCART_ERROR_UPLOAD_FAILED","Upload failed.")}finally{O.uploading=!1,D()}},Ne=async T=>{var V,re;const p=Number.parseInt((V=T==null?void 0:T.id)!=null?V:0,10)||0;if(!(!p||!((re=_.value)!=null&&re.delete))){O.deletingId=p,O.error="";try{await d.deleteDigitalFile({endpoint:_.value.delete,fileId:p});const Ee=O.files.filter(X=>X.id!==p);O.files=Ee,u.digital_files.splice(0,u.digital_files.length,...Ee)}catch(Ee){O.error=(Ee==null?void 0:Ee.message)||n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to delete file.")}finally{O.deletingId=0}}};it(()=>s.product,T=>{E(T),l.value="general",l.value==="digital"&&xe()},{immediate:!0}),it(()=>u.title,T=>{m.value||(u.slug=ke(T))}),it(r,T=>{u.variants.forEach(p=>{p.currency=T})}),it(M,T=>{C(),T!=="digital"&&l.value==="digital"&&(l.value="general")}),it(l,T=>{T==="digital"&&xe()});const He=()=>{const T=y.value.trim();if(!T)return;const p=T.toLowerCase(),V=u.categories.slice();V.some(Ee=>Ee.title.toLowerCase()===p)||(V.push({id:0,title:T,slug:""}),u.categories.splice(0,u.categories.length,...V)),y.value=""},S=T=>{if(T<0||T>=u.categories.length)return;const p=u.categories.slice();p.splice(T,1),u.categories.splice(0,u.categories.length,...p)},v=()=>{u.variants.push(U())},G=T=>{u.variants.length<=1||u.variants.splice(T,1)},Q=T=>{const p=u.variants[T];p&&(Array.isArray(p.options)||(p.options=[]),p.options.push(we()))},J=(T,p)=>{const V=u.variants[T];!V||!Array.isArray(V.options)||V.options.splice(p,1)},ee=(T,p)=>`${T.id||"new"}-${p}`,me=T=>{const p=u.variants[T];if(!p)return;const V=JSON.parse(JSON.stringify(p));V.id=0,V.sku=[V.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),V.active=!0,u.variants.splice(T+1,0,V)},le=T=>{const p=u.variants[T];if(!p)return;const V=Number.parseFloat(p.price);Number.isNaN(V)||(p.price=V.toFixed(2))},oe=T=>{const p=u.variants[T];if(!p)return;if(p.sale_price===""||p.sale_price===null||p.sale_price===void 0){p.sale_price="";return}const V=Number.parseFloat(p.sale_price);if(Number.isNaN(V)){p.sale_price="";return}p.sale_price=V.toFixed(2)};let Z=null,Ae=null,ce=null,ge=null,Te="";const $e=()=>{Array.isArray(u.images)||(u.images=[])},N=T=>{var Ee,X,ne;if(!T)return"";let p=String(T).trim();if(p==="")return"";try{const B=(ne=(X=(Ee=window.Joomla)==null?void 0:Ee.getOptions)==null?void 0:X.call(Ee,"system.paths",{}))!=null?ne:{},Ve=B.rootFull||window.location.origin,je=B.root||"/";p.startsWith(Ve)&&(p=p.substring(Ve.length)),p.startsWith(je)&&(p=p.substring(je.length))}catch(B){}const V=p.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);V&&V[1]&&(p=V[1]);const re=p.indexOf("#joomlaImage://");return re!==-1&&(p=p.substring(0,re)),p.trim()},$=(T,{keepIndex:p=!1,appendWhenNoIndex:V=!1,targetIndex:re=null}={})=>{const Ee=N(T);if(Ee==="")return!1;$e();const X=re!==null&&re>=0?re:ge;return X==null||Number.isNaN(X)?V?(u.images.push(Ee),p||(ge=null,Te=""),!0):!1:(X>=u.images.length?u.images.push(Ee):u.images[X]=Ee,Te=p?Ee:"",p||(ge=null,Te=""),!0)},_e=()=>{$e(),u.images.push("")},pe=T=>{$e(),u.images.splice(T,1)},F=(T,p)=>{$e();const V=u.images[T];if(V===void 0)return;const re=T+p;re<0||re>=u.images.length||(u.images.splice(T,1),u.images.splice(re,0,V))},Le=T=>{var re;$e();const p=(re=u.images[T])!=null?re:"";if(typeof window=="undefined")return;const V=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),p);$(V!=null?V:"",{targetIndex:T})},We=()=>{var X,ne,B,Ve,je,at;const T=(s.mediaModalUrl||"").trim();if(T!=="")return T;const p=(B=(ne=(X=window.Joomla)==null?void 0:X.getOptions)==null?void 0:ne.call(X,"media-picker",{}))!=null?B:{};if(p.modalUrl)return p.modalUrl;const V=(at=(je=(Ve=window.Joomla)==null?void 0:Ve.getOptions)==null?void 0:je.call(Ve,"system.paths",{}))!=null?at:{},re=V.rootFull||V.root||"";return(re?re.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},Xe=async()=>{var B,Ve,je,at,Pt,Lt,Mt,Un,Et;if(Z)return Z;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(Tt){return null}const T=(je=(Ve=(B=window.Joomla)==null?void 0:B.getOptions)==null?void 0:Ve.call(B,"system.paths",{}))!=null?je:{},p=T.rootFull||T.root||"",V=(Lt=(Pt=(at=window.Joomla)==null?void 0:at.getOptions)==null?void 0:Pt.call(at,"com_media",{}))!=null?Lt:{},re=(V==null?void 0:V.file_path)||"images",Ee=(Et=(Un=(Mt=window.Joomla)==null?void 0:Mt.getOptions)==null?void 0:Un.call(Mt,"media-picker",{}))!=null?Et:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},ne=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return Ae=document.createElement("div"),Ae.className="nxp-ec-media-picker-host",Ae.style.display="none",Ae.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${p.replace(/"/g,"&quot;")}"
            root-folder="${re.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${ne}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(Ee).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(Ae),Z=Ae.querySelector("joomla-field-media"),ce=Ae.querySelector(".nxp-ec-media-field__input"),Z.addEventListener("change",Tt=>{var En,Cn,Dt,An,Hs,Bs;const on=(Dt=(Cn=(En=Tt.detail)==null?void 0:En.value)!=null?Cn:ce==null?void 0:ce.value)!=null?Dt:"";let qt=N(on);if(qt===""&&Te!==""&&(qt=Te),qt===""&&((An=window.Joomla)!=null&&An.selectedMediaFile)){const Ii=N((Hs=window.Joomla.selectedMediaFile.url)!=null?Hs:""),Sn=N((Bs=window.Joomla.selectedMediaFile.path)!=null?Bs:"");qt=Ii||Sn}$(qt)}),Z.addEventListener("joomla-dialog:close",()=>{ge=null,Te=""}),ce&&ce.addEventListener("change",()=>{var on,qt,En,Cn;if(ge===null)return;let Tt=N((on=ce.value)!=null?on:"");if(Tt===""&&Te!==""&&(Tt=Te),Tt===""&&((qt=window.Joomla)!=null&&qt.selectedMediaFile)){const Dt=N((En=window.Joomla.selectedMediaFile.url)!=null?En:""),An=N((Cn=window.Joomla.selectedMediaFile.path)!=null?Cn:"");Tt=Dt||An}Tt!==""&&$(Tt)}),Z},Ge=T=>{var X,ne;const p=T==null?void 0:T.detail;if(!p||typeof p!="object")return;const V=N((X=p.path)!=null?X:""),Ee=N((ne=p.url)!=null?ne:"")||V;Ee===""||ge===null||(Te=Ee,$(Ee,{keepIndex:!0}))};Rt(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",Ge)});const Ze=async T=>{var re;$e();const p=await Xe();if(!p||typeof p.show!="function"){Le(T);return}ge=T,p.setAttribute("url",We());const V=(re=u.images[T])!=null?re:"";typeof p.setValue=="function"?p.setValue(V):ce&&(ce.value=V);try{p.show()}catch(Ee){ge=null,Te="",Le(T)}};qn(()=>{Ae&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),Z=null,Ae=null,ce=null,ge=null,Te="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",Ge)});const de=()=>{var X,ne;$e();const T=Array.from(new Set(u.images.map(B=>String(B!=null?B:"").trim()).filter(B=>B!==""))),p=u.categories.map(B=>{var Pt,Lt,Mt;const Ve=Number.parseInt((Pt=B==null?void 0:B.id)!=null?Pt:0,10)||0,je=String((Lt=B==null?void 0:B.title)!=null?Lt:"").trim(),at=String((Mt=B==null?void 0:B.slug)!=null?Mt:"").trim();return Ve>0?{id:Ve,title:je,slug:at}:je===""?null:{id:0,title:je,slug:""}}).filter(B=>B!==null),V=u.variants.map(B=>{const Ve=Array.isArray(B.options)?B.options.map(Et=>{var Tt,on;return{name:String((Tt=Et==null?void 0:Et.name)!=null?Tt:"").trim(),value:String((on=Et==null?void 0:Et.value)!=null?on:"").trim()}}).filter(Et=>Et.name!==""&&Et.value!==""):[],je=Number.isFinite(Number(B.stock))?Math.max(0,parseInt(B.stock,10)):0,at=B.weight!==null&&B.weight!==""?String(B.weight).trim():null,Pt=B.ean&&String(B.ean).trim()!==""?String(B.ean).trim():null,Lt=B.sale_price!==null&&B.sale_price!==void 0&&B.sale_price!==""?String(B.sale_price).trim():null,Mt=z(B.sale_start_local),Un=z(B.sale_end_local);return{id:B.id||0,sku:B.sku.trim(),ean:Pt,price:B.price!==null&&B.price!==void 0?String(B.price).trim():"",sale_price:Lt,sale_start:Mt,sale_end:Un,currency:B.currency?String(B.currency).trim().toUpperCase():r.value,stock:je,weight:at,active:!!B.active,is_digital:!!B.is_digital,options:Ve}}),re=g(u.status),Ee={title:u.title.trim(),slug:u.slug.trim(),short_desc:(X=u.short_desc)!=null?X:"",long_desc:(ne=u.long_desc)!=null?ne:"",status:re,active:re,featured:!!u.featured,images:T,categories:p,variants:V,product_type:M.value==="digital"?"digital":"physical"};a("submit",Ee)},Re=()=>{a("cancel")};return it(()=>s.saving,(T,p)=>{p&&!T&&s.errors.length===0&&Me.value==="create"&&(E(null),y.value="",m.value=!1)}),(T,p)=>{var V,re,Ee;return e.open?(b(),R("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",onKeydown:bt(Re,["esc"])},[p[20]||(p[20]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",hg,[i("header",gg,[i("h2",Eg,c(Me.value==="edit"?o(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):o(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",Cg,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:Re,disabled:e.saving,title:o(n)("JCANCEL","Cancel"),"aria-label":o(n)("JCANCEL","Cancel")},[p[16]||(p[16]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",Sg,c(o(n)("JCANCEL","Cancel")),1)],8,Ag),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:Ro,title:e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save"),"aria-label":e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")},[i("i",{class:Be(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",Tg,c(e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")),1)],8,bg),i("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:Re,title:o(n)("JCLOSE","Close"),"aria-label":o(n)("JCLOSE","Close")},[p[17]||(p[17]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Rg,c(o(n)("JCLOSE","Close")),1)],8,yg)])]),i("form",{id:Ro,class:"nxp-ec-form",onSubmit:wt(de,["prevent"])},[e.errors.length?(b(),R("div",Og,[(b(!0),R(Pe,null,Fe(e.errors,(X,ne)=>(b(),R("p",{key:ne},c(X),1))),128))])):ie("",!0),i("nav",xg,[i("button",{type:"button",class:Be(["nxp-ec-editor-tab",{"is-active":l.value==="general"}]),onClick:p[0]||(p[0]=X=>l.value="general")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General")),3),i("button",{type:"button",class:Be(["nxp-ec-editor-tab",{"is-active":l.value==="variants"}]),onClick:p[1]||(p[1]=X=>l.value="variants")},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),3),i("button",{type:"button",class:Be(["nxp-ec-editor-tab",{"is-active":l.value==="images"}]),onClick:p[2]||(p[2]=X=>l.value="images")},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),3),i("button",{type:"button",class:Be(["nxp-ec-editor-tab",{"is-active":l.value==="categories"}]),onClick:p[3]||(p[3]=X=>l.value="categories")},c(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),3),P.value?(b(),R("button",{key:0,type:"button",class:Be(["nxp-ec-editor-tab",{"is-active":l.value==="digital"}]),onClick:p[4]||(p[4]=X=>l.value="digital")},c(o(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital")),3)):ie("",!0)]),W(i("section",Ng,[i("div",vg,[i("label",Pg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),W(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[5]||(p[5]=X=>u.title=X),required:""},null,512),[[he,u.title,void 0,{trim:!0}]])]),i("div",Mg,[i("label",kg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),W(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[6]||(p[6]=X=>u.slug=X),onInput:H,placeholder:o(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,Ig),[[he,u.slug,void 0,{trim:!0}]])]),i("div",wg,[i("label",$g,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),W(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":p[7]||(p[7]=X=>u.short_desc=X)},null,512),[[he,u.short_desc]])]),i("div",Lg,[i("label",Dg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),W(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":p[8]||(p[8]=X=>u.long_desc=X)},null,512),[[he,u.long_desc]])]),i("div",Ug,[i("label",Yg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),W(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":p[9]||(p[9]=X=>u.status=X)},[i("option",Xg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",Fg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",Gg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[St,u.status,void 0,{number:!0}]]),i("p",Vg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",Hg,[i("label",Bg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE","Product type")),1),W(i("select",{id:"product-type",class:"nxp-ec-form-select","onUpdate:modelValue":p[10]||(p[10]=X=>u.product_type=X)},[i("option",Kg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_PHYSICAL","Physical product")),1),i("option",jg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_DIGITAL","Digital product")),1)],512),[[St,u.product_type]]),i("p",Jg,c(o(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),i("div",Wg,[i("label",qg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),W(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":p[11]||(p[11]=X=>u.featured=X)},null,512),[[ut,u.featured]]),i("p",zg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)])],512),[[wn,l.value==="general"]]),W(i("section",Qg,[i("div",Zg,[i("label",eE,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",tE,[(b(!0),R(Pe,null,Fe(u.images,(X,ne)=>(b(),R("div",{key:`product-image-${ne}`,class:"nxp-ec-image-row"},[W(i("input",{id:`product-image-${ne}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B=>u.images[ne]=B,placeholder:o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,nE),[[he,u.images[ne],void 0,{trim:!0}]]),i("div",sE,[i("button",{type:"button",class:"nxp-ec-btn",onClick:B=>Ze(ne)},[p[18]||(p[18]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,iE),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:B=>F(ne,-1),disabled:ne===0},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,aE),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:B=>F(ne,1),disabled:ne===u.images.length-1},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,oE),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:B=>pe(ne),"aria-label":o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),9,rE)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:_e},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",lE,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)])],512),[[wn,l.value==="images"]]),W(i("section",cE,[i("div",dE,[i("label",uE,c(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),W(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":p[12]||(p[12]=X=>Ie.value=X)},[(b(!0),R(Pe,null,Fe(te.value,X=>(b(),R("option",{key:X.id,value:X.id},c(j(X)),9,_E))),128))],512),[[St,Ie.value]]),i("div",pE,[(b(!0),R(Pe,null,Fe(u.categories,(X,ne)=>(b(),R("span",{key:`selected-category-${ne}`,class:"nxp-ec-chip"},[Ue(c(X.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:B=>S(ne),"aria-label":o(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,fE)]))),128))]),i("div",mE,[W(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":p[13]||(p[13]=X=>y.value=X),onKeydown:bt(wt(He,["prevent"]),["enter"]),placeholder:o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,hE),[[he,y.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:He},c(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",gE,c(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select a category or create a new one",[],"productCategoriesHelp")),1)])],512),[[wn,l.value==="categories"]]),W(i("section",EE,[i("header",CE,[i("h3",AE,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:v},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",SE,[Ue(c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),r.value?(b(),R(Pe,{key:0},[Ue(" ("+c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[r.value]))+") ",1)],64)):ie("",!0)]),(b(!0),R(Pe,null,Fe(u.variants,(X,ne)=>(b(),R("article",{key:ee(X,ne),class:"nxp-ec-variant-card"},[i("header",bE,[i("h4",TE,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(ne+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:B=>me(ne)},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,yE),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:B=>G(ne),disabled:u.variants.length<=1},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,RE)]),i("div",OE,[i("div",xE,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,NE),W(i("input",{id:`variant-sku-${ne}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B=>X.sku=B,required:""},null,8,vE),[[he,X.sku,void 0,{trim:!0}]])]),i("div",PE,[i("label",{class:"nxp-ec-form-label",for:`variant-ean-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_EAN","EAN")),9,ME),W(i("input",{id:`variant-ean-${ne}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B=>X.ean=B,placeholder:o(n)("COM_NXPEASYCART_FIELD_VARIANT_EAN_PLACEHOLDER","8 or 13 digits"),maxlength:"13",pattern:"\\d{8}|\\d{13}"},null,8,kE),[[he,X.ean,void 0,{trim:!0}]])]),i("div",IE,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,wE),W(i("input",{id:`variant-price-${ne}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":B=>X.price=B,onBlur:B=>le(ne),required:""},null,40,$E),[[he,X.price,void 0,{trim:!0}]])]),i("div",LE,[i("label",{class:"nxp-ec-form-label",for:`variant-sale-price-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE","Sale Price")),9,DE),W(i("input",{id:`variant-sale-price-${ne}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":B=>X.sale_price=B,onBlur:B=>oe(ne),placeholder:o(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_PRICE_PLACEHOLDER","Leave empty if not on sale")},null,40,UE),[[he,X.sale_price,void 0,{trim:!0}]])]),i("div",YE,[i("label",{class:"nxp-ec-form-label",for:`variant-sale-start-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START","Sale Start")),9,XE),W(i("input",{id:`variant-sale-start-${ne}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":B=>X.sale_start_local=B,disabled:!X.sale_price||X.sale_price===""},null,8,FE),[[he,X.sale_start_local]]),i("p",GE,c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_START_HELP","Leave empty to start immediately")),1)]),i("div",VE,[i("label",{class:"nxp-ec-form-label",for:`variant-sale-end-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END","Sale End")),9,HE),W(i("input",{id:`variant-sale-end-${ne}`,class:"nxp-ec-form-input",type:"datetime-local","onUpdate:modelValue":B=>X.sale_end_local=B,disabled:!X.sale_price||X.sale_price===""},null,8,BE),[[he,X.sale_end_local]]),i("p",KE,c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_SALE_END_HELP","Leave empty for no expiration")),1)]),i("div",jE,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,JE),W(i("input",{id:`variant-stock-${ne}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":B=>X.stock=B},null,8,WE),[[he,X.stock,void 0,{number:!0}]])]),i("div",qE,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,zE),W(i("input",{id:`variant-weight-${ne}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":B=>X.weight=B},null,8,QE),[[he,X.weight,void 0,{trim:!0}]])]),i("div",ZE,[i("label",{class:"nxp-ec-form-label",for:`variant-digital-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL","Digital item")),9,eC),W(i("input",{id:`variant-digital-${ne}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":B=>X.is_digital=B},null,8,tC),[[ut,X.is_digital]]),i("p",nC,c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL_HELP","Digital variants skip shipping.")),1)]),i("div",sC,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${ne}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,iC),W(i("input",{id:`variant-active-${ne}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":B=>X.active=B},null,8,aC),[[ut,X.active]])])]),i("section",oC,[i("header",rC,[i("h5",lC,c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:B=>Q(ne)},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,cC)]),i("p",dC,c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(b(!0),R(Pe,null,Fe(X.options,(B,Ve)=>(b(),R("div",{key:`variant-${ne}-option-${Ve}`,class:"nxp-ec-variant-option-row"},[W(i("input",{id:`variant-${ne}-option-name-${Ve}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":je=>B.name=je,placeholder:o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,uC),[[he,B.name,void 0,{trim:!0}]]),W(i("input",{id:`variant-${ne}-option-value-${Ve}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":je=>B.value=je,placeholder:o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,_C),[[he,B.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:je=>J(ne,Ve),"aria-label":o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),9,pC)]))),128))])]))),128))],512),[[wn,l.value==="variants"]]),P.value?W((b(),R("section",fC,[i("div",mC,[i("p",hC,c(o(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),O.error?(b(),R("div",gC,c(O.error),1)):ie("",!0),(V=e.product)!=null&&V.id?ie("",!0):(b(),R("div",EC,[p[19]||(p[19]=i("span",{class:"nxp-ec-admin-callout__icon"},[i("i",{class:"fa-solid fa-circle-info"})],-1)),i("div",CC,[i("div",AC,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST_TITLE","Save Required")),1),Ue(" "+c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST","Digital files are linked to the product record. Save this product first, then reopen the editor to upload your files.")),1)])])),i("div",SC,[i("div",bC,[i("h4",null,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1),i("div",TC,[i("label",yC,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_SELECT","Choose file")),1),i("input",{id:"digital-file-input",ref_key:"fileInputRef",ref:x,type:"file",class:"nxp-ec-form-input",onChange:K,disabled:O.uploading||!((re=e.product)!=null&&re.id)},null,40,RC)]),i("div",OC,[i("label",xC,c(o(n)("COM_NXPEASYCART_DIGITAL_VERSION","Version")),1),W(i("input",{id:"digital-version",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[14]||(p[14]=X=>O.version=X),disabled:O.uploading},null,8,NC),[[he,O.version,void 0,{trim:!0}]])]),i("div",vC,[i("label",PC,c(o(n)("COM_NXPEASYCART_DIGITAL_VARIANT_SCOPE","Applies to")),1),W(i("select",{id:"digital-variant",class:"nxp-ec-form-select","onUpdate:modelValue":p[15]||(p[15]=X=>O.variantId=X),disabled:O.uploading},[i("option",kC,c(o(n)("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants")),1),(b(!0),R(Pe,null,Fe(q.value,X=>(b(),R("option",{key:X.id,value:X.id},c(X.label),9,IC))),128))],8,MC),[[St,O.variantId]]),i("p",wC,c(o(n)("COM_NXPEASYCART_DIGITAL_VARIANT_HELP","Scope downloads to a specific variant when needed.")),1)]),i("div",$C,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--primary",onClick:fe,disabled:O.uploading||!((Ee=e.product)!=null&&Ee.id)},[i("i",{class:Be(["fa-solid fa-cloud-arrow-up",{"fa-spin":O.uploading}]),"aria-hidden":"true"},null,2),Ue(" "+c(O.uploading?o(n)("JPROCESSING_REQUEST","Uploading"):o(n)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1)],8,LC)])]),i("div",DC,[i("div",UC,[i("h4",null,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital files")),1),O.loading?(b(),R("span",YC,c(o(n)("JGLOBAL_LOADING","Loading")),1)):ie("",!0)]),O.files.length===0?(b(),R("div",XC,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_EMPTY","No files attached to this product.")),1)):(b(),R("div",FC,[(b(!0),R(Pe,null,Fe(O.files,X=>(b(),R("div",{key:X.id,class:"nxp-ec-digital-row"},[i("div",GC,[i("strong",null,c(X.filename),1),i("div",VC,[Ue(c(ae(X.variant_id))+"  "+c(ye(X.file_size))+" ",1),X.version?(b(),R(Pe,{key:0},[Ue("  v"+c(X.version),1)],64)):ie("",!0)]),X.created?(b(),R("div",HC,c(X.created),1)):ie("",!0)]),i("div",BC,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",disabled:O.deletingId===X.id,onClick:ne=>Ne(X)},c(O.deletingId===X.id?o(n)("JPROCESSING_REQUEST","Removing"):o(n)("COM_NXPEASYCART_REMOVE","Remove")),9,KC)])]))),128))]))])])],512)),[[wn,l.value==="digital"]]):ie("",!0),i("footer",jC,[i("button",{type:"button",class:"nxp-ec-btn",onClick:Re,disabled:e.saving},c(o(n)("JCANCEL","Cancel")),9,JC),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},c(e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")),9,WC)])],32)])],32)):ie("",!0)}}},[["__scopeId","data-v-cc97024f"]]),zC={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},QC={key:1,class:"nxp-ec-skeleton__table"},ZC={key:2,class:"nxp-ec-skeleton__card"},eA={key:3,class:"nxp-ec-skeleton__circle"};function tA(e,t,s,a,n,r){return b(),R("div",{class:Be(["nxp-ec-skeleton",r.skeletonClasses])},[s.type==="text"?(b(),R("div",{key:0,class:"nxp-ec-skeleton__line",style:zt({width:s.width})},null,4)):s.type==="table"?(b(),R("div",QC,[(b(!0),R(Pe,null,Fe(s.rows,l=>(b(),R("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(b(!0),R(Pe,null,Fe(s.columns,d=>(b(),R("div",{key:d,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(b(),R("div",ZC,[...t[0]||(t[0]=[sm('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(b(),R("div",eA)):(b(),R("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:zt({width:s.width,height:s.height})},null,4))],2)}const rs=Nt(zC,[["render",tA],["__scopeId","data-v-c8b9a887"]]),nA={class:"nxp-ec-admin-panel"},sA={class:"nxp-ec-admin-panel__header"},iA={class:"nxp-ec-admin-panel__title"},aA={class:"nxp-ec-admin-panel__lead"},oA={class:"nxp-ec-admin-panel__actions"},rA=["placeholder","aria-label"],lA=["disabled","title","aria-label"],cA={class:"nxp-ec-sr-only"},dA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},uA={key:1,class:"nxp-ec-admin-panel__body"},_A={key:2,class:"nxp-ec-admin-panel__body"},pA=["title"],ls=1,Ln=-1,Gs=0,fA={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""},checkoutProduct:{type:Function,default:null},checkinProduct:{type:Function,default:null},forceCheckinProduct:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Qe({mode:"create",product:null}),l=ze(!1),d=ze(null),_=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),f=Ce(()=>r.product),g=Ce(()=>(s.mediaModalUrl||"").trim()),u=Ce(()=>s.digitalEndpoints||{}),y=Ce(()=>s.csrfToken||""),m=Ce(()=>Number(s.currentUserId||0)),M=(H,be=!1)=>{const Se=Number(H);if(Number.isFinite(Se))return Se===Ln?Ln:Se===Gs?Gs:ls;if(be)return Ln;if(typeof H=="string"){const ue=H.trim().toLowerCase();if(ue==="out_of_stock"||ue==="out-of-stock"||ue==="-1")return Ln;if(ue==="inactive"||ue==="0")return Gs}return ls},P=(H,be=!1)=>{const Se=M(H,be);return Se===ls?Ln:Se===Ln?Gs:ls},O=H=>(H==null?void 0:H.checked_out)&&Number(H.checked_out)!==0&&Number(H.checked_out)!==m.value,A=H=>{var Se,ue;if(!H)return"";const be=(ue=(Se=H.checked_out_user)==null?void 0:Se.name)!=null?ue:"";return be||(H.checked_out===m.value?n("JGLOBAL_YOU","You"):"")},x=async()=>{if(!d.value||!s.checkinProduct){d.value=null;return}try{await s.checkinProduct(d.value)}catch(H){}finally{d.value=null}},D=async()=>{await x(),s.state.validationErrors=[],s.state.error="",r.mode="create",r.product={title:"",slug:"",short_desc:"",long_desc:"",status:ls,active:!0,featured:!1,images:[],categories:[],variants:[],product_type:"physical"},l.value=!0},Y=async H=>{await x(),s.state.validationErrors=[],s.state.error="",r.mode="edit";const be=JSON.parse(JSON.stringify(H));be.product_type||(be.product_type="physical");const Se=A(H);if(O(H)){if(!await j(H,Se)){s.state.error=Se!==""?n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT","This product is currently checked out by %s.",[Se]):n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","This product is currently checked out by another user.");return}return}if(H!=null&&H.id&&s.checkoutProduct)try{const ue=await s.checkoutProduct(H.id);if(ue){d.value=ue.id,r.product=JSON.parse(JSON.stringify(ue)),l.value=!0;return}}catch(ue){s.state.error=(ue==null?void 0:ue.message)||n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to edit this product right now.");return}r.product=be,l.value=!0},j=async(H,be="")=>{if(!(H!=null&&H.id)||typeof s.forceCheckinProduct!="function")return null;const Se=n("COM_NXPEASYCART_FORCE_CHECKIN_PRODUCT","This product is checked out by %s. Force check-in?",[be||n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(Se))return null;try{const ue=await s.forceCheckinProduct(H.id);if(ue)return d.value=ue.id,r.product=JSON.parse(JSON.stringify(ue)),l.value=!0,ue}catch(ue){s.state.error=(ue==null?void 0:ue.message)||n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to check in this product.")}return null},te=async()=>{await x(),l.value=!1,s.state.validationErrors=[]},Oe=async H=>{var ue,w;const be=M((ue=H.status)!=null?ue:H.active,H.out_of_stock),Se={...H,status:be,active:be,featured:H.featured?1:0,product_type:typeof H.product_type=="string"&&H.product_type.trim()||"physical"};r.mode==="edit"&&((w=r.product)!=null&&w.id)?a("update",{id:r.product.id,data:Se}):a("create",Se)},Ie=async H=>{var ue;const be=(ue=H==null?void 0:H.title)!=null?ue:"",Se=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[be||"#"]);window.confirm(Se)&&a("delete",[H.id])},Me=H=>{var z;if(!(H!=null&&H.id)||s.state.saving)return;const be=P((z=H.status)!=null?z:H.active,H.out_of_stock),Se=h=>h==null?"":String(h),ue=(h,C=0)=>{const E=Number(h);return Number.isFinite(E)?E:C},w=Array.isArray(H.variants)?H.variants.map(h=>{var xe,K;if(!h)return null;const C=Se(h.sku).trim();if(!C)return null;let E=ue(h.price_cents,Number.NaN);if(!Number.isFinite(E)){const fe=Se(h.price),Ne=fe?Number.parseFloat(fe):NaN;E=Number.isFinite(Ne)?Math.round(Ne*100):NaN}if(!Number.isFinite(E))return null;const q=Se((xe=h.currency)!=null?xe:_.value).trim().toUpperCase();if(!q)return null;const ae=(K=h.options)!=null?K:null,ye=Math.max(0,Math.round(ue(h.stock,0)));return{id:ue(h.id,0),sku:C,price_cents:Math.round(E),currency:q,stock:ye,options:ae!=null?ae:null,weight:h.weight!==null&&h.weight!==void 0&&h.weight!==""?String(h.weight):null,active:h.active===void 0?!0:!!h.active,is_digital:h.is_digital===void 0?!1:!!h.is_digital}}).filter(Boolean):[];if(!w.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const k=Array.isArray(H.categories)?H.categories.map(h=>{if(h==null)return null;if(typeof h=="number")return h>0?{id:h,title:"",slug:""}:null;if(typeof h=="string"&&h.trim()!==""&&Number.isFinite(Number(h))){const E=Number(h);return E>0?{id:E,title:"",slug:""}:null}if(typeof h=="object"){if(h.id){const q=ue(h.id,0);return q>0?{id:q,title:"",slug:""}:null}return ue(h.id,0)<=0&&!h.title?null:{id:0,title:Se(h.title),slug:Se(h.slug)}}const C=Se(h).trim();return C?{id:0,title:C,slug:""}:null}).filter(Boolean):[],L=Array.isArray(H.images)?H.images.map(h=>Se(h).trim()).map(h=>{var ae,ye,xe;let C=h;if(!C)return"";const E=C.indexOf("#joomlaImage://");E!==-1&&(C=C.substring(0,E));const q=C.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(q&&q[1]&&(C=q[1]),typeof window!="undefined")try{const K=(xe=(ye=(ae=window.Joomla)==null?void 0:ae.getOptions)==null?void 0:ye.call(ae,"system.paths",{}))!=null?xe:{},fe=K.rootFull||window.location.origin,Ne=K.root||"/";C.startsWith(fe)&&(C=C.substring(fe.length)),C.startsWith(Ne)&&(C=C.substring(Ne.length))}catch(K){}return C.trim()}).filter(h=>h!==""):[];s.state.error="",a("update",{id:H.id,data:{title:Se(H.title),slug:Se(H.slug),short_desc:Se(H.short_desc),long_desc:Se(H.long_desc),status:be,active:be,featured:H.featured?1:0,images:L,variants:w,categories:k,product_type:typeof H.product_type=="string"&&H.product_type.trim()||"physical"}})},U=()=>{a("refresh")},we=()=>{a("search")},ke=H=>{if(!H)return"";try{const be=new Date(H),ue=new Date-be,w=Math.floor(ue/1e3),k=Math.floor(w/60),L=Math.floor(k/60);return w<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):k<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[k]):L<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[L]):be.toLocaleString()}catch(be){return H}};return qn(()=>{x()}),it(()=>s.state.saving,(H,be)=>{be&&!H&&l.value&&!s.state.validationErrors.length&&!s.state.error&&te()}),(H,be)=>(b(),R("section",nA,[i("header",sA,[i("div",null,[i("h2",iA,c(o(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",aA,c(o(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",oA,[W(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":be[0]||(be[0]=Se=>e.state.search=Se),onKeyup:bt(we,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,rA),[[he,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:U,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":o(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[be[1]||(be[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",cA,c(o(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,lA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:D},[be[2]||(be[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(b(),R("div",dA,c(e.state.error),1)):ie("",!0),e.state.loading?(b(),R("div",uA,[lt(rs,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(b(),R("div",_A,[lt(fg,{items:e.state.items,translate:o(n),"base-currency":_.value,saving:e.state.saving,"current-user-id":m.value,onEdit:Y,onDelete:Ie,onToggleActive:Me},null,8,["items","translate","base-currency","saving","current-user-id"]),e.state.lastUpdated?(b(),R("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(ke(e.state.lastUpdated)),9,pA)):ie("",!0)])),lt(qC,{open:l.value,product:f.value,saving:e.state.saving,"base-currency":_.value,translate:o(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":g.value,"digital-endpoints":u.value,"csrf-token":y.value,onSubmit:Oe,onCancel:te},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url","digital-endpoints","csrf-token"])]))}},mA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},hA={class:"nxp-ec-admin-panel__header"},gA={class:"nxp-ec-admin-panel__title"},EA={class:"nxp-ec-admin-panel__lead"},CA={class:"nxp-ec-admin-panel__actions"},AA=["placeholder","aria-label"],SA=["disabled","title","aria-label"],bA={class:"nxp-ec-sr-only"},TA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},yA={key:1,class:"nxp-ec-admin-panel__body"},RA={key:2,class:"nxp-ec-admin-panel__body"},OA={class:"nxp-ec-admin-panel__table"},xA={class:"nxp-ec-admin-table"},NA={scope:"col"},vA={scope:"col"},PA={scope:"col"},MA={scope:"col"},kA={scope:"col"},IA={key:0},wA={colspan:"6"},$A={scope:"row",class:"nxp-ec-admin-table__primary"},LA={key:0,class:"nxp-ec-admin-table__meta"},DA={class:"nxp-ec-status nxp-ec-status--muted"},UA=["data-label"],YA=["data-label"],XA=["data-label"],FA=["data-label"],GA={class:"nxp-ec-admin-table__actions"},VA=["onClick","title","disabled","aria-label"],HA={class:"nxp-ec-sr-only"},BA=["disabled","onClick","title","aria-label"],KA={class:"nxp-ec-sr-only"},jA={key:0,class:"nxp-ec-admin-pagination"},JA=["disabled"],WA={class:"nxp-ec-admin-pagination__status"},qA=["disabled"],zA=["title"],QA={class:"nxp-ec-modal__dialog"},ZA={class:"nxp-ec-modal__header"},eS={id:"category-modal-title",class:"nxp-ec-modal__title"},tS=["title","aria-label"],nS={class:"nxp-ec-sr-only"},sS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},iS={class:"nxp-ec-form-field"},aS={class:"nxp-ec-form-label",for:"category-title"},oS={class:"nxp-ec-form-field"},rS={class:"nxp-ec-form-label",for:"category-slug"},lS={class:"nxp-ec-form-field"},cS={class:"nxp-ec-form-label",for:"category-parent"},dS={value:""},uS=["value"],_S={class:"nxp-ec-form-field"},pS={class:"nxp-ec-form-label",for:"category-sort"},fS={class:"nxp-ec-modal__actions"},mS=["disabled"],hS=Nt({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null},checkoutCategory:{type:Function,default:null},checkinCategory:{type:Function,default:null},forceCheckinCategory:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=ze(!1),l=ze(!1),d=ze([]),_=ze(null),f=Ce(()=>Number(s.currentUserId||0)),g=w=>{const L=(Array.isArray(w)?w:[]).map(K=>{var fe,Ne,He,S,v;return{...K,id:Number.parseInt((fe=K==null?void 0:K.id)!=null?fe:0,10)||0,parent_id:(K==null?void 0:K.parent_id)!=null&&Number.parseInt(K.parent_id,10)||0,sort:Number.parseInt((Ne=K==null?void 0:K.sort)!=null?Ne:0,10)||0,title:String((He=K==null?void 0:K.title)!=null?He:"").trim(),slug:String((S=K==null?void 0:K.slug)!=null?S:"").trim(),usage:(v=K==null?void 0:K.usage)!=null?v:0}}).filter(K=>K.id>0||K.title!==""),z=new Set(L.map(K=>K.id));L.forEach(K=>{z.has(K.parent_id)||(K.parent_id=0)});const h=new Map,C=new Map;L.forEach(K=>{C.set(K.id,K);const fe=K.parent_id||0;h.has(fe)||h.set(fe,[]),h.get(fe).push(K)});const E=K=>K.sort((fe,Ne)=>{var He,S;return((He=fe.sort)!=null?He:0)-((S=Ne.sort)!=null?S:0)||fe.title.localeCompare(Ne.title,void 0,{sensitivity:"base"})});h.forEach(E);const q=new Set,ae=[],ye=(K,fe,Ne)=>{if(!K||q.has(K.id)||Ne.includes(K.id))return;const He=[...Ne],S=He.map(Q=>{var J;return(J=C.get(Q))==null?void 0:J.title}).filter(Boolean),v={...K,depth:fe,path:S.join(" / "),ancestors:He,indentedTitle:fe>0?`${" ".repeat(fe)}${K.title}`:K.title};ae.push(v),q.add(K.id),(h.get(K.id)||[]).forEach(Q=>ye(Q,fe+1,[...Ne,K.id]))},xe=L.filter(K=>K.parent_id===0||!z.has(K.parent_id));return E(xe),xe.forEach(K=>ye(K,0,[])),L.forEach(K=>{q.has(K.id)||ye(K,0,[])}),ae},u=w=>(w==null?void 0:w.checked_out)&&Number(w.checked_out)!==0&&Number(w.checked_out)!==f.value,y=w=>{var C,E;if(!w)return"";const k=Number(w.checked_out)||0,L=w.checked_out_user&&w.checked_out_user.id?Number(w.checked_out_user.id):0,z=k||L;if(z!==0&&z===f.value)return n("JGLOBAL_YOU","You");const h=(E=(C=w.checked_out_user)==null?void 0:C.name)!=null?E:"";return h||""},m=w=>n("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[y(w)||n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]),M=async()=>{if(!_.value||!s.checkinCategory){_.value=null;return}try{await s.checkinCategory(_.value)}catch(w){}finally{_.value=null}},P=Ce(()=>{var w,k;return g((k=(w=s.state)==null?void 0:w.items)!=null?k:[])}),O=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),A=Qe(O()),x=Ce(()=>{var k,L;const w=(L=Array.isArray(d.value)&&d.value.length?d.value:(k=s.state)==null?void 0:k.items)!=null?L:[];return g(w).filter(z=>z.id>0&&z.id!==A.id&&!(Array.isArray(z.ancestors)&&z.ancestors.includes(A.id))).map(z=>({id:z.id,title:z.title,label:z.depth>0?`${" ".repeat(z.depth)}${z.title}`:z.title}))}),D=()=>{Object.assign(A,O()),l.value=!1},Y=w=>w?w.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",j=()=>{l.value=!0,A.slug=Y(A.slug)};it(()=>A.title,w=>{l.value||(A.slug=Y(w))});const te=async(w=0)=>{if(typeof s.loadOptions!="function"){d.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const k=await s.loadOptions();d.value=Array.isArray(k)?[...k]:[]}catch(k){d.value=[]}d.value=d.value.filter(k=>{var z,h;return(Number.parseInt((h=(z=k==null?void 0:k.id)!=null?z:k==null?void 0:k.value)!=null?h:0,10)||0)!==w})},Oe=async()=>{await M(),s.state.error="",s.state.validationErrors=[],D(),await te(),r.value=!0},Ie=async w=>{var z,h,C,E;if(!w)return;s.state.error="",s.state.validationErrors=[];const k=y(w);if(u(w)){if(!await Me(w,k)){s.state.error=k!==""?n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT","This category is currently checked out by %s.",[k]):n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","This category is currently checked out by another user.");return}return}await M();let L=w;if(w!=null&&w.id&&s.checkoutCategory)try{const q=await s.checkoutCategory(w.id);q&&(_.value=q.id,L=q)}catch(q){s.state.error=(q==null?void 0:q.message)||n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to edit this category right now.");return}A.id=Number.parseInt((z=L.id)!=null?z:0,10)||0,A.title=String((h=L.title)!=null?h:"").trim(),A.slug=String((C=L.slug)!=null?C:"").trim(),A.parent_id=L.parent_id!=null&&Number.parseInt(L.parent_id,10)||null,A.sort=Number.parseInt((E=L.sort)!=null?E:0,10)||0,l.value=!!A.slug,await te(A.id),r.value=!0},Me=async(w,k="")=>{var z,h,C,E;if(!(w!=null&&w.id)||typeof s.forceCheckinCategory!="function")return null;const L=n("COM_NXPEASYCART_FORCE_CHECKIN_CATEGORY","This category is checked out by %s. Force check-in?",[k||n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(L))return null;try{const q=await s.forceCheckinCategory(w.id);if(q)return _.value=q.id,A.id=Number.parseInt((z=q.id)!=null?z:0,10)||0,A.title=String((h=q.title)!=null?h:"").trim(),A.slug=String((C=q.slug)!=null?C:"").trim(),A.parent_id=q.parent_id!=null&&Number.parseInt(q.parent_id,10)||null,A.sort=Number.parseInt((E=q.sort)!=null?E:0,10)||0,l.value=!!A.slug,await te(A.id),r.value=!0,q}catch(q){s.state.error=(q==null?void 0:q.message)||n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to check in this category.")}return null},U=async()=>{r.value=!1,await M(),D()},we=()=>{a("refresh")},ke=()=>{a("search")},H=w=>{a("page",w)},be=()=>{const w={id:A.id||void 0,title:A.title.trim(),slug:A.slug.trim(),parent_id:A.parent_id||null,sort:Number.isFinite(A.sort)?A.sort:0};a("save",w)},Se=w=>{if(!w||!w.id)return;const k=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(k)||a("delete",[w.id])},ue=w=>{if(!w)return"";try{const k=new Date(w),z=new Date-k,h=Math.floor(z/1e3),C=Math.floor(h/60),E=Math.floor(C/60);return h<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):C<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[C]):E<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[E]):k.toLocaleString()}catch(k){return w}};return qn(()=>{M()}),it(()=>{var w;return(w=s.state)==null?void 0:w.saving},async(w,k)=>{var L,z,h;k&&!w&&(((z=(L=s.state)==null?void 0:L.validationErrors)!=null?z:[]).length>0||(h=s.state)!=null&&h.error||(await M(),r.value=!1,D()))}),(w,k)=>(b(),R("section",mA,[i("header",hA,[i("div",null,[i("h2",gA,c(o(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",EA,c(o(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",CA,[W(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":k[0]||(k[0]=L=>e.state.search=L),onKeyup:bt(ke,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,AA),[[he,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:we,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":o(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[k[7]||(k[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",bA,c(o(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,SA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:Oe},[k[8]||(k[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(b(),R("div",TA,c(e.state.error),1)):ie("",!0),e.state.loading?(b(),R("div",yA,[lt(rs,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(b(),R("div",RA,[i("div",OA,[i("table",xA,[i("thead",null,[i("tr",null,[i("th",NA,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",vA,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",PA,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",MA,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",kA,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),k[9]||(k[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ie("",!0):(b(),R("tr",IA,[i("td",wA,c(o(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(b(!0),R(Pe,null,Fe(P.value,L=>{var z;return b(),R("tr",{key:L.id,class:Be({"is-active":A.id===L.id})},[i("th",$A,[i("span",{style:zt({paddingLeft:`${L.depth*1.5}rem`})},c(L.indentedTitle),5),L.checked_out?(b(),R("div",LA,[i("span",DA,[k[10]||(k[10]=i("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),Ue(" "+c(m(L)),1)])])):ie("",!0)]),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},c(L.slug||""),9,UA),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},c(L.path||o(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,YA),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},c(L.sort),9,XA),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},c((z=L.usage)!=null?z:0),9,FA),i("td",GA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:h=>Ie(L),title:o(n)("JEDIT","Edit"),disabled:e.state.saving,"aria-label":o(n)("JEDIT","Edit")},[k[11]||(k[11]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",HA,c(o(n)("JEDIT","Edit")),1)],8,VA),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting||u(L),onClick:h=>Se(L),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[k[12]||(k[12]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",KA,c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,BA)])],2)}),128))])]),e.state.pagination.pages>1?(b(),R("div",jA,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:k[1]||(k[1]=L=>H(e.state.pagination.current-1))},"  ",8,JA),i("span",WA,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:k[2]||(k[2]=L=>H(e.state.pagination.current+1))},"  ",8,qA)])):ie("",!0)]),e.state.lastUpdated?(b(),R("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(ue(e.state.lastUpdated)),9,zA)):ie("",!0),r.value?(b(),R("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"category-modal-title",onKeydown:bt(U,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop",onClick:U}),i("div",QA,[i("header",ZA,[i("h3",eS,c(A.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:U,title:o(n)("JCLOSE","Close"),"aria-label":o(n)("JCLOSE","Close")},[k[13]||(k[13]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",nS,c(o(n)("JCLOSE","Close")),1)],8,tS)]),i("form",{class:"nxp-ec-form",onSubmit:wt(be,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(b(),R("div",sS,[i("ul",null,[(b(!0),R(Pe,null,Fe(e.state.validationErrors,(L,z)=>(b(),R("li",{key:z},c(L),1))),128))])])):ie("",!0),i("div",iS,[i("label",aS,c(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),W(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[3]||(k[3]=L=>A.title=L),required:"",maxlength:"255"},null,512),[[he,A.title,void 0,{trim:!0}]])]),i("div",oS,[i("label",rS,c(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),W(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[4]||(k[4]=L=>A.slug=L),maxlength:"190",onInput:j},null,544),[[he,A.slug,void 0,{trim:!0}]])]),i("div",lS,[i("label",cS,c(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),W(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":k[5]||(k[5]=L=>A.parent_id=L)},[i("option",dS,c(o(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(b(!0),R(Pe,null,Fe(x.value,L=>(b(),R("option",{key:L.id,value:L.id},c(L.label),9,uS))),128))],512),[[St,A.parent_id,void 0,{number:!0}]])]),i("div",_S,[i("label",pS,c(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),W(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":k[6]||(k[6]=L=>A.sort=L),min:"0",step:"1"},null,512),[[he,A.sort,void 0,{number:!0}]])]),i("footer",fS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[k[14]||(k[14]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,mS),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:U},[k[15]||(k[15]=i("i",{class:"fa-solid fa-ban"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-0bba5030"]]),gS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},ES={class:"nxp-ec-admin-panel__header"},CS={class:"nxp-ec-admin-panel__title"},AS={class:"nxp-ec-admin-panel__lead"},SS={class:"nxp-ec-admin-panel__actions"},bS=["placeholder","aria-label"],TS=["aria-label"],yS={value:""},RS=["value"],OS=["disabled","title","aria-label"],xS={class:"nxp-ec-sr-only"},NS=["disabled","title","aria-label"],vS={class:"nxp-ec-sr-only"},PS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},MS={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kS={key:2,class:"nxp-ec-admin-panel__body"},IS={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},wS={class:"nxp-ec-admin-panel__table"},$S={key:0,class:"nxp-ec-admin-panel__selection"},LS=["aria-label"],DS={value:""},US=["value"],YS=["disabled"],XS=["title","aria-label"],FS={class:"nxp-ec-sr-only"},GS={class:"nxp-ec-admin-table"},VS={scope:"col",class:"nxp-ec-admin-table__select"},HS={scope:"col"},BS={scope:"col"},KS={scope:"col"},jS={scope:"col"},JS={scope:"col"},WS={scope:"col",class:"nxp-ec-admin-table__actions"},qS={key:0},zS={colspan:"7"},QS={class:"nxp-ec-admin-table__select"},ZS=["checked","onChange","disabled","aria-label"],eb={scope:"row",class:"nxp-ec-admin-table__primary"},tb=["onClick","disabled"],nb={key:0,class:"nxp-ec-admin-table__meta"},sb={class:"nxp-ec-status nxp-ec-status--muted"},ib=["data-label"],ab={class:"nxp-ec-admin-table__meta"},ob=["data-label"],rb=["data-label"],lb={class:"nxp-ec-badge"},cb=["title"],db=["data-label"],ub={class:"nxp-ec-admin-table__actions"},_b=["onUpdate:modelValue","disabled","aria-label"],pb=["value"],fb=["value"],mb=["disabled","onClick"],hb=["aria-label"],gb=["disabled","aria-label"],Eb={class:"nxp-ec-admin-pagination__status","aria-current":"page"},Cb=["disabled","aria-label"],Ab=["title"],Sb={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},bb={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},Tb={class:"nxp-ec-admin-panel__sidebar-header"},yb={id:"order-modal-title"},Rb=["title","aria-label"],Ob={class:"nxp-ec-sr-only"},xb={class:"nxp-ec-admin-panel__sidebar-content"},Nb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},vb={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},Pb={key:2,class:"nxp-ec-admin-panel__section"},Mb={class:"nxp-ec-admin-copy"},kb=["value"],Ib=["disabled"],wb={key:0,class:"nxp-ec-admin-panel__muted"},$b={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},Lb=["disabled"],Db={key:0,class:"nxp-ec-admin-panel__muted"},Ub={class:"nxp-ec-admin-panel__section"},Yb={class:"nxp-ec-admin-list"},Xb={class:"nxp-ec-admin-list__title"},Fb={class:"nxp-ec-admin-list__meta"},Gb={key:3,class:"nxp-ec-admin-panel__section"},Vb={class:"nxp-ec-admin-panel__section-header"},Hb=["disabled"],Bb={key:0,class:"nxp-ec-admin-panel__muted"},Kb={class:"nxp-ec-download-list"},jb={class:"nxp-ec-download-card__meta"},Jb={class:"nxp-ec-admin-list__title"},Wb={class:"nxp-ec-admin-panel__muted"},qb={class:"nxp-ec-download-card__actions"},zb=["disabled","onClick","title"],Qb=["onClick"],Zb=["href"],eT={class:"nxp-ec-admin-panel__section"},tT={class:"nxp-ec-admin-panel__total"},nT={class:"nxp-ec-admin-panel__addresses"},sT={class:"nxp-ec-admin-panel__section"},iT={class:"nxp-ec-admin-address"},aT={class:"nxp-ec-admin-panel__section"},oT={key:0,class:"nxp-ec-admin-address"},rT={key:1,class:"nxp-ec-admin-panel__muted"},lT={class:"nxp-ec-admin-panel__section"},cT={class:"nxp-ec-form-field"},dT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},uT={class:"nxp-ec-form-field"},_T={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},pT={class:"nxp-ec-form-field"},fT={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},mT={key:0,class:"nxp-ec-form-checkbox"},hT={class:"nxp-ec-admin-form__actions"},gT=["disabled"],ET={key:4,class:"nxp-ec-admin-panel__section"},CT={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},AT=["disabled"],ST=["disabled"],bT={key:5,class:"nxp-ec-admin-panel__section"},TT={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},yT={class:"nxp-ec-form-field"},RT={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},OT=["placeholder"],xT={class:"nxp-ec-form-help"},NT={class:"nxp-ec-form-field"},vT={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},PT=["placeholder"],MT={class:"nxp-ec-form-field"},kT={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},IT={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},wT=["disabled"],$T={key:6,class:"nxp-ec-admin-panel__section"},LT={class:"nxp-ec-admin-list"},DT={class:"nxp-ec-admin-list__title"},UT={class:"nxp-ec-admin-list__meta"},YT={class:"nxp-ec-admin-panel__section"},XT=["placeholder"],FT={class:"nxp-ec-admin-form__actions"},GT=["disabled"],VT={class:"nxp-ec-admin-panel__section"},HT={key:0,class:"nxp-ec-admin-list"},BT={class:"nxp-ec-admin-list__title"},KT={class:"nxp-ec-admin-list__meta"},jT={key:1,class:"nxp-ec-admin-panel__muted"},JT=Nt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""},currentUserId:{type:Number,default:0},forceCheckinOrder:{type:Function,default:null}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ce(()=>Number(s.currentUserId||0)),l=Qe({}),d=ze(""),_=ze(""),f=Ce(()=>_.value.trim().length>0),g=ze(""),u=ze(""),y=Qe({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),m=Qe({amount:null,reference:"",note:""}),M=Ce(()=>{var $;const N=($=s.state)==null?void 0:$.selection;return!N||typeof N.values!="function"?[]:Array.from(N.values())}),P=Ce(()=>M.value.length>0),O=Ce(()=>{var pe;const N=(pe=s.state)==null?void 0:pe.activeOrder;if(!N)return!1;const $=["cod","bank_transfer"],_e=String(N.payment_method||"").toLowerCase();return N.state==="pending"&&$.includes(_e)}),A=Ce(()=>{var _e,pe;const N=(_e=s.state)==null?void 0:_e.activeOrder;return N?["paid","fulfilled"].includes(N.state)&&((pe=N.downloads)==null?void 0:pe.length)>0:!1});Ce(()=>O.value);const x=N=>(N==null?void 0:N.checked_out)&&Number(N.checked_out)!==0&&Number(N.checked_out)!==r.value,D=N=>{var pe,F;const $=(F=(pe=N==null?void 0:N.checked_out_user)==null?void 0:pe.name)!=null?F:"",_e=(N==null?void 0:N.checked_out)===r.value?n("JGLOBAL_YOU","You"):$||n("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user");return n("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[_e])},Y=Ce(()=>{var N;return x((N=s.state)==null?void 0:N.activeOrder)});it(M,N=>{N.length||(d.value="")}),qn(()=>{ae()}),it(()=>s.state.activeOrder,N=>{var $,_e,pe;_.value="",g.value="",y.carrier=($=N==null?void 0:N.carrier)!=null?$:"",y.tracking_number=(_e=N==null?void 0:N.tracking_number)!=null?_e:"",y.tracking_url=(pe=N==null?void 0:N.tracking_url)!=null?pe:"",y.markFulfilled=!1,m.amount=null,m.reference="",m.note="",u.value=""},{immediate:!0}),it(()=>s.state.items,N=>{Array.isArray(N)&&N.forEach($=>{!$||typeof $.id=="undefined"||l[$.id]||(l[$.id]=$.state)})},{immediate:!0}),it(()=>s.state.transitionError,N=>{var _e;if(!N)return;const $=(_e=s.state)==null?void 0:_e.items;Array.isArray($)&&$.forEach(pe=>{pe!=null&&pe.id&&pe.state&&(l[pe.id]=pe.state)})});const j=(N,$)=>{const _e=(Number(N)||0)/100,pe=($||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:pe}).format(_e)}catch(F){return`${pe} ${_e.toFixed(2)}`}},te=N=>{if(!N)return"";const $=new Date(N);return Number.isNaN($.getTime())?N:$.toLocaleString()},Oe=N=>N?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[N]||N:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),Ie=N=>N===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(N)]),Me=N=>{if(!N)return"";const $=`COM_NXPEASYCART_ORDERS_STATE_${String(N).toUpperCase()}`;return n($,N)},U=N=>s.state.orderStates.filter($=>$!==N.state),we=N=>(l[N.id]||N.state)!==N.state,ke=()=>{var N;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((N=window.location)!=null&&N.origin)?window.location.origin:""},H=Ce(()=>{var We,Xe;const N=(Xe=(We=s.state)==null?void 0:We.activeOrder)!=null?Xe:{},$=String(N.public_token||"").trim(),_e=String(N.order_no||"").trim();if(!$)return"";const pe=ke();if(!pe)return"";const F=pe.endsWith("/")?"":"/",Le=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:$});return _e&&Le.set("no",_e),`${pe}${F}index.php?${Le.toString()}`}),be=async()=>{var N;if(H.value){try{if(!((N=navigator==null?void 0:navigator.clipboard)!=null&&N.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(H.value),g.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch($){try{const _e=document.createElement("textarea");_e.value=H.value,_e.setAttribute("readonly",""),_e.style.position="absolute",_e.style.left="-9999px",document.body.appendChild(_e),_e.select(),document.execCommand("copy"),document.body.removeChild(_e),g.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(_e){g.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}g.value&&setTimeout(()=>{g.value=""},2e3)}},Se=N=>{var pe,F;const $=Number((pe=N==null?void 0:N.download_count)!=null?pe:0),_e=Number((F=N==null?void 0:N.max_downloads)!=null?F:0);if(_e>0){const Le=Math.max(0,_e-$);return n("COM_NXPEASYCART_ORDER_DOWNLOADS_REMAINING","%d downloads remaining",[Le])}return n("COM_NXPEASYCART_ORDER_DOWNLOADS_UNLIMITED","Unlimited downloads")},ue=N=>N!=null&&N.expires_at?n("COM_NXPEASYCART_ORDER_DOWNLOADS_EXPIRES","Expires %s",[N.expires_at]):n("JNONE","No expiry"),w=async N=>{var _e;const $=N==null?void 0:N.url;if($){try{if(!((_e=navigator==null?void 0:navigator.clipboard)!=null&&_e.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText($),u.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(pe){try{const F=document.createElement("textarea");F.value=$,F.setAttribute("readonly",""),F.style.position="absolute",F.style.left="-9999px",document.body.appendChild(F),F.select(),document.execCommand("copy"),document.body.removeChild(F),u.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(F){u.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.")}}u.value&&setTimeout(()=>{u.value=""},2e3)}},k=Ce(()=>{var $,_e,pe,F,Le;const N=(_e=($=s.state)==null?void 0:$.activeOrder)!=null?_e:{};return y.carrier!==((pe=N.carrier)!=null?pe:"")||y.tracking_number!==((F=N.tracking_number)!=null?F:"")||y.tracking_url!==((Le=N.tracking_url)!=null?Le:"")||y.markFulfilled}),L=N=>!N||typeof N!="object"?[]:Object.entries(N).filter(([,$])=>$!=null&&`${$}`.trim()!=="").map(([$,_e])=>({key:$,value:`${_e}`.trim()})),z=()=>{a("refresh")},h=()=>{a("export")},C=()=>{a("search")},E=()=>{a("filter",s.state.filterState)},q=async N=>{N&&(x(N)&&!await ye(N)||a("view",N))},ae=()=>{a("close")},ye=async N=>{var _e;if(!(N!=null&&N.id)||typeof s.forceCheckinOrder!="function")return null;const $=n("COM_NXPEASYCART_FORCE_CHECKIN_ORDER","This order is checked out by %s. Force check-in?",[((_e=N.checked_out_user)==null?void 0:_e.name)||n("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm($))return null;try{return await s.forceCheckinOrder(N.id)}catch(pe){return state.transitionError=(pe==null?void 0:pe.message)||n("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","Unable to check in this order."),null}},xe=N=>{if(!N||x(N))return;const $=l[N.id]||N.state;$!==N.state&&a("transition",{id:N.id,state:$})},K=N=>{a("page",N)},fe=N=>{var $,_e,pe,F;return(F=(pe=(_e=($=s.state)==null?void 0:$.selection)==null?void 0:_e.has)==null?void 0:pe.call(_e,N))!=null?F:!1},Ne=N=>{var _e,pe,F,Le;const $=(Le=(F=(pe=(_e=s.state)==null?void 0:_e.items)==null?void 0:pe.find)==null?void 0:F.call(pe,We=>We.id===N))!=null?Le:null;x($)||a("toggle-selection",N)},He=()=>{d.value="",a("clear-selection")},S=()=>{if(!P.value||!d.value)return;const N=[...M.value].filter($=>{var pe,F,Le,We;const _e=(We=(Le=(F=(pe=s.state)==null?void 0:pe.items)==null?void 0:F.find)==null?void 0:Le.call(F,Xe=>Xe.id===$))!=null?We:null;return!x(_e)});N.length&&a("bulk-transition",{ids:N,state:d.value})},v=()=>{if(!s.state.activeOrder||Y.value)return;const N=_.value.trim();N&&(a("add-note",{id:s.state.activeOrder.id,message:N}),_.value="")},G=()=>{s.state.activeOrder&&a("invoice",s.state.activeOrder.id)},Q=()=>{!s.state.activeOrder||!k.value||Y.value||(a("save-tracking",{id:s.state.activeOrder.id,carrier:y.carrier,tracking_number:y.tracking_number,tracking_url:y.tracking_url,mark_fulfilled:y.markFulfilled}),y.markFulfilled=!1)},J=N=>{!s.state.activeOrder||Y.value||a("send-email",{id:s.state.activeOrder.id,type:N})},ee=()=>{if(!s.state.activeOrder||!O.value||Y.value)return;const N=s.state.activeOrder,$=m.amount!==null&&m.amount!==""?Math.round(Number(m.amount)*100):N.total_cents;a("record-payment",{id:N.id,amountCents:$,reference:m.reference,note:m.note}),m.amount=null,m.reference="",m.note=""},me=()=>{!s.state.activeOrder||!A.value||Y.value||a("resend-downloads",{id:s.state.activeOrder.id})},le=N=>{!s.state.activeOrder||!(N!=null&&N.id)||Y.value||a("reset-download",{download_id:N.id,order_id:s.state.activeOrder.id})},oe=N=>{var pe;const $=(pe=s.state)==null?void 0:pe.activeOrder;return $?($.timeline||$.audit||[]).some(F=>{var Le;return F.action==="order.email.sent"?((Le=F.context)==null?void 0:Le.type)===N:!1}):!1},Z=Ce(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(M.value.length)],"ordersSelectedCount")),Ae=N=>{var $,_e,pe,F,Le,We,Xe,Ge,Ze,de,Re,T;if(!N||!N.action)return"";switch(N.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const p=Me((_e=($=N.context)==null?void 0:$.from)!=null?_e:""),V=Me((F=(pe=N.context)==null?void 0:pe.to)!=null?F:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[p||((Le=N.context)==null?void 0:Le.from)||"",V||((We=N.context)==null?void 0:We.to)||""],"ordersTimelineState")}case"order.note":return((Xe=N.context)==null?void 0:Xe.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const p=((Ge=N.context)==null?void 0:Ge.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),V=j((de=(Ze=N.context)==null?void 0:Ze.amount_cents)!=null?de:0,(T=(Re=s.state)==null?void 0:Re.activeOrder)==null?void 0:T.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[p,V],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return N.action}},ce=N=>{if(!N)return"";const $=String(N.type||"").toLowerCase(),_e=String(N.message||"").trim(),pe=String(N.state||"").toLowerCase();return $==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):pe?Me(pe):_e||$||""},ge=Ce(()=>{var pe,F,Le,We;const N=[];return(Array.isArray((F=(pe=s.state)==null?void 0:pe.activeOrder)==null?void 0:F.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((Xe,Ge)=>{var Ze,de;N.push({label:ce(Xe),created:(Ze=Xe==null?void 0:Xe.at)!=null?Ze:"",key:`f-${Ge}-${(de=Xe==null?void 0:Xe.at)!=null?de:""}`})}),(Array.isArray((We=(Le=s.state)==null?void 0:Le.activeOrder)==null?void 0:We.timeline)?s.state.activeOrder.timeline:[]).forEach((Xe,Ge)=>{var Ze,de,Re;N.push({label:Ae(Xe),created:(Ze=Xe==null?void 0:Xe.created)!=null?Ze:"",key:`a-${(de=Xe==null?void 0:Xe.id)!=null?de:Ge}-${(Re=Xe==null?void 0:Xe.created)!=null?Re:""}`})}),N.filter(Xe=>Xe.label).sort((Xe,Ge)=>{const Ze=new Date(Xe.created||0).getTime();return new Date(Ge.created||0).getTime()-Ze})}),Te=N=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(N.status||"").toUpperCase()}`,N.status||""),$e=N=>{if(!N)return"";try{const $=new Date(N),pe=new Date-$,F=Math.floor(pe/1e3),Le=Math.floor(F/60),We=Math.floor(Le/60);return F<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Le<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Le]):We<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[We]):$.toLocaleString()}catch($){return N}};return(N,$)=>{var _e,pe;return b(),R("section",gS,[i("header",ES,[i("div",null,[i("h2",CS,c(o(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",AS,c(o(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",SS,[W(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":$[0]||($[0]=F=>e.state.search=F),onKeyup:bt(C,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,bS),[[he,e.state.search]]),W(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":$[1]||($[1]=F=>e.state.filterState=F),onChange:E,"aria-label":o(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",yS,"  "+c(o(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(b(!0),R(Pe,null,Fe(e.state.orderStates,F=>(b(),R("option",{key:F,value:F},c(Me(F)),9,RS))),128))],40,TS),[[St,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:h,disabled:e.state.loading||e.state.exporting,title:o(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[$[15]||($[15]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",xS,c(o(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,OS),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:z,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[$[16]||($[16]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",vS,c(o(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,NS)])]),e.state.error?(b(),R("div",PS,c(e.state.error),1)):ie("",!0),e.state.transitionError&&!e.state.error?(b(),R("div",MS,c(e.state.transitionError),1)):ie("",!0),e.state.loading&&!e.state.error?(b(),R("div",kS,[lt(rs,{type:"table",rows:5,columns:7})])):ie("",!0),!e.state.loading&&!e.state.error?(b(),R("div",IS,[i("div",wS,[P.value?(b(),R("div",$S,[i("span",null,c(Z.value),1),W(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":$[2]||($[2]=F=>d.value=F),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",DS,c(o(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(b(!0),R(Pe,null,Fe(e.state.orderStates,F=>(b(),R("option",{key:`bulk-${F}`,value:F},c(Me(F)),9,US))),128))],8,LS),[[St,d.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!d.value||e.state.saving,onClick:S},[$[17]||($[17]=i("i",{class:"fa-solid fa-check"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,YS),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:He,title:o(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[$[18]||($[18]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",FS,c(o(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,XS)])):ie("",!0),i("table",GS,[i("thead",null,[i("tr",null,[i("th",VS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",HS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",BS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",KS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",jS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",JS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",WS,c(o(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?ie("",!0):(b(),R("tr",qS,[i("td",zS,c(o(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(b(!0),R(Pe,null,Fe(e.state.items,F=>{var Le,We,Xe;return b(),R("tr",{key:F.id,class:Be({"is-active":e.state.activeOrder&&e.state.activeOrder.id===F.id})},[i("td",QS,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:fe(F.id),onChange:Ge=>Ne(F.id),disabled:x(F),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,ZS)]),i("th",eb,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:Ge=>q(F),disabled:e.state.saving},c(F.order_no),9,tb),F.checked_out?(b(),R("div",nb,[i("span",sb,[$[19]||($[19]=i("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),Ue(" "+c(D(F)),1)])])):ie("",!0)]),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[i("div",null,c(F.email),1),i("div",ab,c(Ie((Xe=F.items_count)!=null?Xe:(We=(Le=F.items)==null?void 0:Le.length)!=null?We:0)),1)],8,ib),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},c(j(F.total_cents,F.currency)),9,ob),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[i("span",lb,c(Me(F.state)),1),F.needs_review?(b(),R("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:F.review_reason||o(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},c(o(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,cb)):ie("",!0)],8,rb),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},c(te(F.modified||F.created)),9,db),i("td",ub,[W(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":Ge=>l[F.id]=Ge,disabled:x(F),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:F.state},c(Me(F.state)),9,pb),(b(!0),R(Pe,null,Fe(U(F),Ge=>(b(),R("option",{key:Ge,value:Ge},c(Me(Ge)),9,fb))),128))],8,_b),[[St,l[F.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!we(F)||x(F),onClick:Ge=>xe(F)},c(o(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,mb)])],2)}),128))])]),e.state.pagination.pages>1?(b(),R("nav",{key:1,class:"nxp-ec-admin-pagination","aria-label":o(n)("COM_NXPEASYCART_PAGINATION","Pagination")},[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:$[3]||($[3]=F=>K(e.state.pagination.current-1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,gb),i("span",Eb,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:$[4]||($[4]=F=>K(e.state.pagination.current+1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,Cb)],8,hb)):ie("",!0)]),e.state.lastUpdated?(b(),R("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c($e(e.state.lastUpdated)),9,Ab)):ie("",!0),e.state.activeOrder?(b(),R("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"order-modal-title",onKeydown:bt(ae,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:ae}),i("div",Sb,[i("aside",bb,[i("header",Tb,[i("h3",yb,c(o(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+c(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:ae,title:o(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[$[20]||($[20]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Ob,c(o(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,Rb)]),i("div",xb,[e.state.transitionError?(b(),R("div",Nb,c(e.state.transitionError),1)):ie("",!0),(_e=e.state.activeOrder)!=null&&_e.needs_review?(b(),R("div",vb,[i("strong",null,c(o(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),Ue(" "+c(Oe((pe=e.state.activeOrder)==null?void 0:pe.review_reason)),1)])):ie("",!0),H.value?(b(),R("section",Pb,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",Mb,[i("input",{type:"text",class:"nxp-ec-form-input",value:H.value,readonly:""},null,8,kb),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!H.value,onClick:be},[$[21]||($[21]=i("i",{class:"fa-solid fa-link"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,Ib)]),g.value?(b(),R("p",wb,c(g.value),1)):ie("",!0),i("div",$b,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:G},[$[22]||($[22]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,Lb),s.state.invoiceLoading?(b(),R("span",Db,c(o(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ie("",!0)])])):ie("",!0),i("section",Ub,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",Yb,[(b(!0),R(Pe,null,Fe(e.state.activeOrder.items,F=>(b(),R("li",{key:F.id},[i("div",Xb,[Ue(c(F.title)+" ",1),i("small",null,"("+c(F.sku)+")",1)]),i("div",Fb,"  "+c(F.qty)+"  "+c(j(F.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),e.state.activeOrder.downloads&&e.state.activeOrder.downloads.length?(b(),R("section",Gb,[i("div",Vb,[i("h4",null,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital downloads")),1),A.value?(b(),R("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--small",disabled:e.state.saving||Y.value,onClick:me},[$[23]||($[23]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_ORDERS_RESEND_DOWNLOADS","Resend email")),1)],8,Hb)):ie("",!0)]),u.value?(b(),R("p",Bb,c(u.value),1)):ie("",!0),i("div",Kb,[(b(!0),R(Pe,null,Fe(e.state.activeOrder.downloads,F=>(b(),R("article",{key:F.id,class:"nxp-ec-download-card"},[i("div",jb,[i("div",Jb,c(F.filename),1),i("div",Wb,c(Se(F))+"  "+c(ue(F)),1)]),i("div",qb,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",disabled:e.state.saving||Y.value,onClick:Le=>le(F),title:o(n)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD_TITLE","Reset download count to 0")},[$[24]||($[24]=i("i",{class:"fa-solid fa-rotate-left"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD","Reset")),1)],8,zb),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",onClick:Le=>w(F)},c(o(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),9,Qb),F.url?(b(),R("a",{key:0,class:"nxp-ec-btn nxp-ec-btn--small",href:F.url,target:"_blank",rel:"noopener"},c(o(n)("COM_NXPEASYCART_DOWNLOAD","Download")),9,Zb)):ie("",!0)])]))),128))])])):ie("",!0),i("section",eT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",tT,c(j(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("div",nT,[i("section",sT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",iT,[(b(!0),R(Pe,null,Fe(L(e.state.activeOrder.billing),F=>(b(),R("span",{key:F.key},c(F.value),1))),128))])]),i("section",aT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(b(),R("address",oT,[(b(!0),R(Pe,null,Fe(L(e.state.activeOrder.shipping),F=>(b(),R("span",{key:F.key},c(F.value),1))),128))])):(b(),R("p",rT,c(o(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),i("section",lT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",cT,[i("label",dT,c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),W(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[5]||($[5]=F=>y.carrier=F)},null,512),[[he,y.carrier]])]),i("div",uT,[i("label",_T,c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),W(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[6]||($[6]=F=>y.tracking_number=F)},null,512),[[he,y.tracking_number]])]),i("div",pT,[i("label",fT,c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),W(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":$[7]||($[7]=F=>y.tracking_url=F)},null,512),[[he,y.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(b(),R("label",mT,[W(i("input",{type:"checkbox","onUpdate:modelValue":$[8]||($[8]=F=>y.markFulfilled=F)},null,512),[[ut,y.markFulfilled]]),Ue(" "+c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):ie("",!0),i("div",hT,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!k.value||e.state.saving||Y.value,onClick:Q},[$[25]||($[25]=i("i",{class:"fa-solid fa-truck"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,gT)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(b(),R("section",ET,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),i("div",CT,[e.state.activeOrder.state==="fulfilled"?(b(),R("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||Y.value,onClick:$[9]||($[9]=F=>J("shipped"))},[$[26]||($[26]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Ue(" "+c(oe("shipped")?o(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):o(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,AT)):ie("",!0),e.state.activeOrder.state==="refunded"?(b(),R("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||Y.value,onClick:$[10]||($[10]=F=>J("refunded"))},[$[27]||($[27]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Ue(" "+c(oe("refunded")?o(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):o(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,ST)):ie("",!0)])])):ie("",!0),O.value?(b(),R("section",bT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),i("p",TT,c(o(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),i("div",yT,[i("label",RT,c(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),W(i("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":$[11]||($[11]=F=>m.amount=F),placeholder:j(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,OT),[[he,m.amount]]),i("small",xT,c(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),i("div",NT,[i("label",vT,c(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),W(i("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":$[12]||($[12]=F=>m.reference=F),placeholder:o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,PT),[[he,m.reference]])]),i("div",MT,[i("label",kT,c(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),W(i("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":$[13]||($[13]=F=>m.note=F)},null,512),[[he,m.note]])]),i("div",IT,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving||Y.value||!O.value,onClick:ee},[$[28]||($[28]=i("i",{class:"icon-credit"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,wT)])])):ie("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(b(),R("section",$T,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",LT,[(b(!0),R(Pe,null,Fe(e.state.activeOrder.transactions,F=>(b(),R("li",{key:F.id},[i("div",DT,c(F.gateway)+"  "+c(j(F.amount_cents,e.state.activeOrder.currency)),1),i("div",UT,c(Te(F))+"  "+c(te(F.created)),1)]))),128))])])):ie("",!0),i("section",YT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:wt(v,["prevent"])},[W(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":$[14]||($[14]=F=>_.value=F),placeholder:o(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,XT),[[he,_.value]]),i("div",FT,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!f.value||e.state.saving||Y.value},[$[29]||($[29]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,GT)])],32)]),i("section",VT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),ge.value.length?(b(),R("ul",HT,[(b(!0),R(Pe,null,Fe(ge.value,F=>(b(),R("li",{key:F.key},[i("div",BT,c(F.label),1),i("div",KT,c(te(F.created)),1)]))),128))])):(b(),R("p",jT,c(o(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])],32)):ie("",!0)])):ie("",!0)])}}},[["__scopeId","data-v-9ae09394"]]),WT={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},qT={class:"nxp-ec-admin-panel__header"},zT={class:"nxp-ec-admin-panel__title"},QT={class:"nxp-ec-admin-panel__lead"},ZT={class:"nxp-ec-admin-panel__actions"},ey=["placeholder","aria-label"],ty=["disabled","title","aria-label"],ny={class:"nxp-ec-sr-only"},sy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},iy={key:1,class:"nxp-ec-admin-panel__body"},ay={key:2,class:"nxp-ec-admin-panel__body"},oy={class:"nxp-ec-admin-panel__table"},ry={class:"nxp-ec-admin-table"},ly={scope:"col"},cy={scope:"col"},dy={scope:"col"},uy={scope:"col"},_y={scope:"col"},py={key:0},fy={colspan:"5"},my={scope:"row",class:"nxp-ec-admin-table__primary"},hy=["onClick"],gy=["data-label"],Ey=["data-label"],Cy=["data-label"],Ay=["data-label"],Sy={key:0,class:"nxp-ec-admin-pagination"},by=["disabled"],Ty={class:"nxp-ec-admin-pagination__status"},yy=["disabled"],Ry=["title"],Oy={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},xy={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Ny={class:"nxp-ec-admin-panel__sidebar-header"},vy={id:"customer-modal-title"},Py=["title","aria-label"],My={class:"nxp-ec-sr-only"},ky={class:"nxp-ec-admin-panel__section"},Iy={class:"nxp-ec-admin-summary"},wy={class:"nxp-ec-admin-panel__addresses"},$y={class:"nxp-ec-admin-panel__section"},Ly={class:"nxp-ec-admin-address"},Dy={class:"nxp-ec-admin-panel__section"},Uy={key:0,class:"nxp-ec-admin-address"},Yy={key:1,class:"nxp-ec-admin-panel__muted"},Xy={class:"nxp-ec-admin-panel__section"},Fy={key:0,class:"nxp-ec-admin-list"},Gy={class:"nxp-ec-admin-list__title"},Vy={class:"nxp-ec-admin-list__meta"},Hy={key:1,class:"nxp-ec-admin-panel__muted"},By={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},Ky={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},jy={class:"nxp-ec-gdpr-actions"},Jy=["disabled","title"],Wy=["disabled","title"],qy=Nt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=(A,x)=>{const D=(Number(A)||0)/100,Y=(x||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:Y}).format(D)}catch(j){return`${Y} ${D.toFixed(2)}`}},l=A=>{if(!A)return"";const x=new Date(A);return Number.isNaN(x.getTime())?A:x.toLocaleString()},d=A=>!A||typeof A!="object"?[]:Object.entries(A).filter(([,x])=>x!=null&&`${x}`.trim()!=="").map(([x,D])=>({key:x,value:`${D}`.trim()})),_=A=>{if(!A)return"";const x=`COM_NXPEASYCART_ORDERS_STATE_${String(A).toUpperCase()}`;return n(x,A)},f=()=>a("refresh"),g=()=>a("search"),u=A=>a("page",A),y=A=>a("view",A),m=()=>a("close"),M=A=>a("gdprExport",A),P=A=>a("gdprAnonymise",A),O=A=>{if(!A)return"";try{const x=new Date(A),Y=new Date-x,j=Math.floor(Y/1e3),te=Math.floor(j/60),Oe=Math.floor(te/60);return j<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):te<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[te]):Oe<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Oe]):x.toLocaleString()}catch(x){return A}};return(A,x)=>{var D,Y,j;return b(),R("section",WT,[i("header",qT,[i("div",null,[i("h2",zT,c(o(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",QT,c(o(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",ZT,[W(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":x[0]||(x[0]=te=>e.state.search=te),onKeyup:bt(g,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,ey),[[he,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:f,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":o(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[x[5]||(x[5]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",ny,c(o(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,ty)])]),e.state.error?(b(),R("div",sy,c(e.state.error),1)):ie("",!0),e.state.loading?(b(),R("div",iy,[lt(rs,{type:"table",rows:5,columns:5})])):ie("",!0),e.state.loading?ie("",!0):(b(),R("div",ay,[i("div",oy,[i("table",ry,[i("thead",null,[i("tr",null,[i("th",ly,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",cy,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",dy,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",uy,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",_y,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?ie("",!0):(b(),R("tr",py,[i("td",fy,c(o(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(b(!0),R(Pe,null,Fe(e.state.items,te=>{var Oe;return b(),R("tr",{key:te.email,class:Be({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===te.email})},[i("th",my,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:Ie=>y(te)},c(te.email),9,hy)]),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},c(((Oe=te.meta)==null?void 0:Oe.name)||""),9,gy),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},c(te.orders_count),9,Ey),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},c(r(te.total_spent_cents,te.currency||e.baseCurrency)),9,Cy),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},c(l(te.last_order)),9,Ay)],2)}),128))])]),e.state.pagination.pages>1?(b(),R("div",Sy,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:x[1]||(x[1]=te=>u(e.state.pagination.current-1))},"  ",8,by),i("span",Ty,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:x[2]||(x[2]=te=>u(e.state.pagination.current+1))},"  ",8,yy)])):ie("",!0)]),e.state.lastUpdated?(b(),R("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(O(e.state.lastUpdated)),9,Ry)):ie("",!0),e.state.activeCustomer?(b(),R("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"customer-modal-title",onKeydown:bt(m,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:m}),i("div",Oy,[i("aside",xy,[i("header",Ny,[i("h3",vy,c(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:m,title:o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[x[6]||(x[6]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",My,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,Py)]),i("section",ky,[i("h4",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",Iy,[i("div",null,[i("dt",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,c(((D=e.state.activeCustomer.meta)==null?void 0:D.name)||""),1)]),i("div",null,[i("dt",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,c(r(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,c(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,c(l(e.state.activeCustomer.last_order)),1)])])]),i("div",wy,[i("section",$y,[i("h4",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",Ly,[(b(!0),R(Pe,null,Fe(d((Y=e.state.activeCustomer.meta)==null?void 0:Y.billing),te=>(b(),R("span",{key:te.key},c(te.value),1))),128))])]),i("section",Dy,[i("h4",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(j=e.state.activeCustomer.meta)!=null&&j.shipping?(b(),R("address",Uy,[(b(!0),R(Pe,null,Fe(d(e.state.activeCustomer.meta.shipping),te=>(b(),R("span",{key:te.key},c(te.value),1))),128))])):(b(),R("p",Yy,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),i("section",Xy,[i("h4",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(b(),R("ul",Fy,[(b(!0),R(Pe,null,Fe(e.state.activeCustomer.orders,te=>(b(),R("li",{key:te.id},[i("div",Gy,c(te.order_no)+"  "+c(r(te.total_cents,te.currency||e.baseCurrency)),1),i("div",Vy,c(_(te.state))+"  "+c(l(te.created)),1)]))),128))])):(b(),R("p",Hy,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),i("section",By,[i("h4",null,c(o(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),i("p",Ky,c(o(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),i("div",jy,[i("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:x[3]||(x[3]=te=>M(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:o(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[x[7]||(x[7]=i("i",{class:"fa-solid fa-download"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,Jy),i("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:x[4]||(x[4]=te=>P(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:o(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[x[8]||(x[8]=i("i",{class:"fa-solid fa-user-slash"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,Wy)]),e.state.gdprMessage?(b(),R("p",{key:0,class:Be(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},c(e.state.gdprMessage),3)):ie("",!0)])])])],32)):ie("",!0)]))])}}},[["__scopeId","data-v-2e6c67f3"]]),zy={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},Qy={class:"nxp-ec-admin-panel__header"},Zy={class:"nxp-ec-admin-panel__title"},eR={class:"nxp-ec-admin-panel__lead"},tR={class:"nxp-ec-admin-panel__actions"},nR=["placeholder","aria-label"],sR=["disabled","title","aria-label"],iR={class:"nxp-ec-sr-only"},aR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},oR={key:1,class:"nxp-ec-admin-panel__loading"},rR={key:2,class:"nxp-ec-admin-panel__body"},lR={class:"nxp-ec-admin-panel__table"},cR={class:"nxp-ec-admin-table"},dR={scope:"col"},uR={scope:"col"},_R={scope:"col"},pR={scope:"col"},fR={scope:"col"},mR={scope:"col"},hR={key:0},gR={colspan:"7"},ER={scope:"row",class:"nxp-ec-admin-table__primary"},CR=["data-label"],AR=["data-label"],SR=["data-label"],bR=["data-label"],TR=["data-label"],yR={class:"nxp-ec-admin-table__actions"},RR=["onClick","title","aria-label"],OR={class:"nxp-ec-sr-only"},xR=["onClick","title","aria-label"],NR={class:"nxp-ec-sr-only"},vR=["aria-label"],PR=["disabled","aria-label"],MR={class:"nxp-ec-admin-pagination__status","aria-current":"page"},kR=["disabled","aria-label"],IR={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},wR={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},$R={class:"nxp-ec-admin-panel__sidebar-header"},LR={id:"coupon-modal-title"},DR=["title","aria-label"],UR={class:"nxp-ec-sr-only"},YR={class:"nxp-ec-form-field"},XR={class:"nxp-ec-form-label",for:"coupon-code"},FR={class:"nxp-ec-form-field"},GR={class:"nxp-ec-form-label",for:"coupon-type"},VR={value:"percent"},HR={value:"fixed"},BR={class:"nxp-ec-form-field"},KR={class:"nxp-ec-form-label",for:"coupon-value"},jR={class:"nxp-ec-form-field"},JR={class:"nxp-ec-form-label",for:"coupon-min-total"},WR={class:"nxp-ec-form-field"},qR={class:"nxp-ec-form-label",for:"coupon-start"},zR={class:"nxp-ec-form-field"},QR={class:"nxp-ec-form-label",for:"coupon-end"},ZR={class:"nxp-ec-form-field"},eO={class:"nxp-ec-form-label",for:"coupon-max-uses"},tO={class:"nxp-ec-form-field"},nO={class:"nxp-ec-form-label",for:"coupon-max-uses-per-user"},sO={class:"nxp-ec-form-hint"},iO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},aO={class:"nxp-ec-form-label",for:"coupon-allow-sale-items"},oO={class:"nxp-ec-form-hint"},rO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},lO={class:"nxp-ec-form-label",for:"coupon-active"},cO={class:"nxp-ec-modal__actions"},dO=["disabled"],uO=["disabled"],_O=["disabled"],pO=Nt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),l=Qe({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0}),d=Ce(()=>l.open),_=()=>a("refresh"),f=()=>a("search"),g=D=>a("page",D),u=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,max_uses_per_user:null,allow_sale_items:!0,active:!0})},y=D=>{var Y,j,te;Object.assign(l,{open:!0,id:D.id,code:D.code,type:D.type,value:D.value,min_total:(j=D.min_total)!=null?j:((Y=D.min_total_cents)!=null?Y:0)/100,start:D.start?D.start.substring(0,10):"",end:D.end?D.end.substring(0,10):"",max_uses:D.max_uses,max_uses_per_user:D.max_uses_per_user,allow_sale_items:(te=D.allow_sale_items)!=null?te:!0,active:D.active})},m=()=>{l.open=!1},M=()=>{const D={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,max_uses_per_user:l.max_uses_per_user!==null&&l.max_uses_per_user!==""?l.max_uses_per_user:null,allow_sale_items:l.allow_sale_items,active:l.active};a("save",D)},P=D=>{const Y=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(Y)&&(a("delete",[D.id]),l.id===D.id&&m())},O=(D,Y)=>{const j=(Number(D)||0)/100,te=(Y||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:te}).format(j)}catch(Oe){return`${te} ${j.toFixed(2)}`}},A=D=>D.type==="percent"?`${D.value}%`:O(D.value*100,r.value),x=D=>D==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return it(()=>s.state.saving,(D,Y)=>{Y&&!D&&!s.state.error&&l.open&&m()}),(D,Y)=>(b(),R("section",zy,[i("header",Qy,[i("div",null,[i("h2",Zy,c(o(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",eR,c(o(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",tR,[W(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":Y[0]||(Y[0]=j=>e.state.search=j),onKeyup:bt(f,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,nR),[[he,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[Y[14]||(Y[14]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",iR,c(o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,sR),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:u},[Y[15]||(Y[15]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(b(),R("div",aR,c(e.state.error),1)):ie("",!0),e.state.loading?(b(),R("div",oR,c(o(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(b(),R("div",rR,[i("div",lR,[i("table",cR,[i("thead",null,[i("tr",null,[i("th",dR,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",uR,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",_R,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",pR,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",fR,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",mR,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),Y[16]||(Y[16]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ie("",!0):(b(),R("tr",hR,[i("td",gR,c(o(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(b(!0),R(Pe,null,Fe(e.state.items,j=>(b(),R("tr",{key:j.id,class:Be({"is-active":l.id===j.id})},[i("th",ER,c(j.code),1),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},c(x(j.type)),9,CR),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},c(A(j)),9,AR),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},c(O(j.min_total_cents,r.value)),9,SR),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[i("span",{class:Be(["nxp-ec-badge",{"is-active":j.active}])},[i("i",{class:Be(j.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ue(" "+c(j.active?o(n)("JYES","Yes"):o(n)("JNO","No")),1)],2)],8,bR),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},c(j.times_used)+c(j.max_uses?` / ${j.max_uses}`:""),9,TR),i("td",yR,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:te=>y(j),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[Y[17]||(Y[17]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",OR,c(o(n)("JEDIT","Edit")),1)],8,RR),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:te=>P(j),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[Y[18]||(Y[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",NR,c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,xR)])],2))),128))])]),e.state.pagination.pages>1?(b(),R("nav",{key:0,class:"nxp-ec-admin-pagination","aria-label":o(n)("COM_NXPEASYCART_PAGINATION","Pagination")},[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:Y[1]||(Y[1]=j=>g(e.state.pagination.current-1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,PR),i("span",MR,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:Y[2]||(Y[2]=j=>g(e.state.pagination.current+1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,kR)],8,vR)):ie("",!0)]),d.value?(b(),R("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"coupon-modal-title",onKeydown:bt(m,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:m}),i("div",IR,[i("aside",wR,[i("header",$R,[i("h3",LR,c(l.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:m,title:o(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[Y[19]||(Y[19]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",UR,c(o(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,DR)]),i("form",{class:"nxp-ec-form",onSubmit:wt(M,["prevent"]),autocomplete:"off"},[i("div",YR,[i("label",XR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),W(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Y[3]||(Y[3]=j=>l.code=j),required:"",maxlength:"64"},null,512),[[he,l.code,void 0,{trim:!0}]])]),i("div",FR,[i("label",GR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),W(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":Y[4]||(Y[4]=j=>l.type=j)},[i("option",VR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",HR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[St,l.type]])]),i("div",BR,[i("label",KR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),W(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":Y[5]||(Y[5]=j=>l.value=j),required:""},null,512),[[he,l.value,void 0,{number:!0}]])]),i("div",jR,[i("label",JR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),W(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":Y[6]||(Y[6]=j=>l.min_total=j)},null,512),[[he,l.min_total,void 0,{number:!0}]])]),i("div",WR,[i("label",qR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),W(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":Y[7]||(Y[7]=j=>l.start=j)},null,512),[[he,l.start]])]),i("div",zR,[i("label",QR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),W(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":Y[8]||(Y[8]=j=>l.end=j)},null,512),[[he,l.end]])]),i("div",ZR,[i("label",eO,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),W(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":Y[9]||(Y[9]=j=>l.max_uses=j)},null,512),[[he,l.max_uses,void 0,{number:!0}]])]),i("div",tO,[i("label",nO,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER","Max uses per user",[],"couponsFormMaxUsesPerUser")),1),W(i("input",{id:"coupon-max-uses-per-user",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":Y[10]||(Y[10]=j=>l.max_uses_per_user=j)},null,512),[[he,l.max_uses_per_user,void 0,{number:!0}]]),i("small",sO,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES_PER_USER_HINT","Limit how many times a single user or email can use this coupon. Leave empty for unlimited.",[],"couponsFormMaxUsesPerUserHint")),1)]),i("div",iO,[i("label",aO,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS","Allow on sale items",[],"couponsFormAllowSaleItems")),1),W(i("input",{id:"coupon-allow-sale-items",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":Y[11]||(Y[11]=j=>l.allow_sale_items=j)},null,512),[[ut,l.allow_sale_items]]),i("small",oO,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_ALLOW_SALE_ITEMS_HINT","When disabled, this coupon cannot be applied if the cart contains items currently on sale.",[],"couponsFormAllowSaleItemsHint")),1)]),i("div",rO,[i("label",lO,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),W(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":Y[12]||(Y[12]=j=>l.active=j)},null,512),[[ut,l.active]])]),i("footer",cO,[i("button",{class:"nxp-ec-btn",type:"button",onClick:m,disabled:e.state.saving},c(o(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,dO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,uO)]),l.id?(b(),R("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Y[13]||(Y[13]=j=>P(l)),disabled:e.state.saving},[Y[20]||(Y[20]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,_O)):ie("",!0)],32)])])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-f9ade401"]]),fO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},mO={class:"nxp-ec-admin-panel__header"},hO={class:"nxp-ec-admin-panel__title"},gO={class:"nxp-ec-admin-panel__lead"},EO={class:"nxp-ec-settings-tabs"},CO={key:0,class:"nxp-ec-settings-panel"},AO={class:"nxp-ec-settings-panel__header"},SO=["disabled"],bO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},TO={key:1,class:"nxp-ec-admin-panel__loading"},yO={class:"nxp-ec-form-field"},RO={class:"nxp-ec-form-label",for:"settings-store-name"},OO={class:"nxp-ec-form-field"},xO={class:"nxp-ec-form-label",for:"settings-store-email"},NO={class:"nxp-ec-form-field"},vO={class:"nxp-ec-form-label",for:"settings-store-phone"},PO={class:"nxp-ec-form-field"},MO={class:"nxp-ec-form-label",for:"settings-base-currency"},kO=["value"],IO={class:"nxp-ec-form-help"},wO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},$O={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},LO={class:"nxp-ec-form-help"},DO={class:"nxp-ec-form-field"},UO={class:"nxp-ec-form-label",for:"settings-display-locale"},YO={class:"nxp-ec-form-help"},XO={class:"nxp-ec-form-field"},FO={class:"nxp-ec-form-label",for:"settings-category-page-size"},GO={class:"nxp-ec-form-help"},VO={class:"nxp-ec-form-field"},HO={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},BO={value:"paged"},KO={value:"infinite"},jO={class:"nxp-ec-form-help"},JO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},WO={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},qO={class:"nxp-ec-form-help"},zO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},QO={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},ZO={class:"nxp-ec-form-help"},ex={key:0,class:"nxp-ec-form-field"},tx={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},nx={class:"nxp-ec-form-help"},sx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ix={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},ax={class:"nxp-ec-form-help"},ox={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},rx={class:"nxp-ec-settings-actions"},lx=["disabled"],cx=["disabled"],dx={key:1,class:"nxp-ec-settings-panel"},ux={class:"nxp-ec-settings-panel__header"},_x=["disabled"],px={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},fx={key:1,class:"nxp-ec-admin-panel__loading"},mx={class:"nxp-ec-form-grid"},hx={class:"nxp-ec-form-field"},gx={class:"nxp-ec-form-label",for:"settings-digital-max"},Ex={class:"nxp-ec-form-help"},Cx={class:"nxp-ec-form-field"},Ax={class:"nxp-ec-form-label",for:"settings-digital-expiry"},Sx={class:"nxp-ec-form-help"},bx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Tx={class:"nxp-ec-form-label",for:"settings-digital-fulfill"},yx={class:"nxp-ec-form-help"},Rx={class:"nxp-ec-form-field"},Ox={class:"nxp-ec-form-label",for:"settings-digital-max-size"},xx={class:"nxp-ec-form-help"},Nx={class:"nxp-ec-form-field"},vx={class:"nxp-ec-form-label",for:"settings-digital-storage"},Px={class:"nxp-ec-form-help"},Mx={class:"nxp-ec-form-section"},kx={class:"nxp-ec-form-section__title"},Ix={class:"nxp-ec-form-help",style:{"margin-bottom":"1rem"}},wx={class:"nxp-ec-filetypes-actions"},$x={class:"nxp-ec-filetypes-grid"},Lx={class:"nxp-ec-filetypes-category__title"},Dx={class:"nxp-ec-filetypes-category__list"},Ux=["value"],Yx={class:"nxp-ec-filetypes-item__label"},Xx={class:"nxp-ec-form-field",style:{"margin-top":"1.5rem"}},Fx={class:"nxp-ec-form-label",for:"settings-digital-custom-ext"},Gx={class:"nxp-ec-form-help nxp-ec-form-help--warning"},Vx={class:"nxp-ec-settings-actions"},Hx=["disabled"],Bx={key:2,class:"nxp-ec-settings-panel"},Kx={class:"nxp-ec-settings-panel__header"},jx=["disabled"],Jx={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Wx={class:"nxp-ec-form-help"},qx={class:"nxp-ec-form-grid"},zx={class:"nxp-ec-form-field"},Qx={class:"nxp-ec-form-label",for:"settings-checkout-window"},Zx={class:"nxp-ec-form-help"},eN={class:"nxp-ec-form-field"},tN={class:"nxp-ec-form-label",for:"settings-offline-window"},nN={class:"nxp-ec-form-help"},sN={class:"nxp-ec-form-grid"},iN={class:"nxp-ec-form-field"},aN={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},oN={class:"nxp-ec-form-field"},rN={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},lN={class:"nxp-ec-form-field"},cN={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},dN={class:"nxp-ec-form-grid"},uN={class:"nxp-ec-form-field"},_N={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},pN={class:"nxp-ec-form-field"},fN={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},mN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},hN={class:"nxp-ec-settings-actions"},gN=["disabled"],EN=["disabled"],CN={key:3,class:"nxp-ec-settings-panel"},AN={class:"nxp-ec-settings-panel__header"},SN={class:"nxp-ec-settings-actions"},bN=["disabled"],TN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},yN={key:1,class:"nxp-ec-admin-panel__loading"},RN={class:"nxp-ec-form-field"},ON={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},xN={class:"nxp-ec-form-field"},NN={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},vN={class:"nxp-ec-form-field"},PN={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},MN={class:"nxp-ec-form-help"},kN={class:"nxp-ec-form-field"},IN={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},wN={value:"test"},$N={value:"live"},LN={class:"nxp-ec-form-field"},DN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},UN={class:"nxp-ec-form-field"},YN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},XN={class:"nxp-ec-form-field"},FN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},GN={class:"nxp-ec-form-help"},VN={class:"nxp-ec-form-field"},HN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},BN={value:"sandbox"},KN={value:"live"},jN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},JN={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},WN={class:"nxp-ec-form-field"},qN={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},zN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},QN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},ZN={class:"nxp-ec-form-field"},e1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},t1={class:"nxp-ec-form-field"},n1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},s1=["placeholder"],i1={class:"nxp-ec-form-help"},a1={class:"nxp-ec-form-grid"},o1={class:"nxp-ec-form-field"},r1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},l1={class:"nxp-ec-form-field"},c1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},d1={class:"nxp-ec-form-field"},u1={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},_1={class:"nxp-ec-form-field nxp-ec-form-field--inline"},p1={class:"nxp-ec-form-label",for:"settings-payments-configured"},f1={class:"nxp-ec-form-help"},m1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},h1={class:"nxp-ec-settings-actions"},g1=["disabled"],E1=["disabled"],C1={key:4,class:"nxp-ec-settings-panel"},A1={class:"nxp-ec-settings-panel__header"},S1=["disabled"],b1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},T1={key:1,class:"nxp-ec-admin-panel__loading"},y1={class:"nxp-ec-form-help"},R1={class:"nxp-ec-form-help nxp-ec-form-help--muted"},O1={class:"nxp-ec-visual-grid"},x1={class:"nxp-ec-visual-field"},N1={class:"nxp-ec-form-label",for:"visual-primary-color"},v1={class:"nxp-ec-color-input-group"},P1=["value"],M1=["placeholder"],k1={class:"nxp-ec-visual-field"},I1={class:"nxp-ec-form-label",for:"visual-text-color"},w1={class:"nxp-ec-color-input-group"},$1=["value"],L1=["placeholder"],D1={class:"nxp-ec-visual-field"},U1={class:"nxp-ec-form-label",for:"visual-surface-color"},Y1={class:"nxp-ec-color-input-group"},X1=["value"],F1=["placeholder"],G1={class:"nxp-ec-visual-field"},V1={class:"nxp-ec-form-label",for:"visual-border-color"},H1={class:"nxp-ec-color-input-group"},B1=["value"],K1=["placeholder"],j1={class:"nxp-ec-visual-field"},J1={class:"nxp-ec-form-label",for:"visual-muted-color"},W1={class:"nxp-ec-color-input-group"},q1=["value"],z1=["placeholder"],Q1={class:"nxp-ec-visual-preview"},Z1={type:"button",class:"nxp-ec-preview-btn"},ev={class:"nxp-ec-preview-text"},tv={class:"nxp-ec-preview-muted"},nv={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},sv={class:"nxp-ec-settings-actions"},iv=["disabled"],av=["disabled"],ov=Nt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=s.settingsState,l=s.paymentsState,_=ze(["general","digital","security","payments","visual"].includes(s.initialTab)?s.initialTab:"general");Ce(()=>{var ae;const h=s.baseCurrency||"USD",C=typeof f.baseCurrency=="string"?f.baseCurrency.trim():"",E=typeof((ae=r==null?void 0:r.values)==null?void 0:ae.base_currency)=="string"?r.values.base_currency.trim():"";return(C!==""?C:E!==""?E:h).toUpperCase()});const f=Qe({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1,digitalMaxDownloads:5,digitalExpiryDays:30,digitalStoragePath:"",digitalAutoFulfill:!0,digitalMaxFileSize:200,digitalAllowedExtensions:[],digitalCustomExtensions:""}),g=ze({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]}),u=()=>Object.values(g.value).flat(),y=h=>{var ae,ye;const C=(ae=h==null?void 0:h.digital)!=null?ae:{},E=(ye=C.file_type_categories)!=null?ye:g.value;if(Array.isArray(C.allowed_extensions))return[...C.allowed_extensions];const q=[];for(const[xe,K]of Object.entries(E))xe!=="installers"&&q.push(...K);return q},m=h=>{var E;return(E={archives:"Archives",audio:"Audio",video:"Video",images:"Images",documents:"Documents",ebooks:"E-books",installers:"Installers"}[h])!=null?E:h.charAt(0).toUpperCase()+h.slice(1)},M=()=>{f.digitalAllowedExtensions=u()},P=()=>{f.digitalAllowedExtensions=[]},O=Qe({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),A=Qe({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),x=Qe({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),D=Ce(()=>{var C,E;const h=(E=(C=r.values)==null?void 0:C.visual_defaults)!=null?E:{};return{primary:h.primary_color||"#4f6d7a",text:h.text_color||"#1f2933",surface:h.surface_color||"#ffffff",border:h.border_color||"#e4e7ec",muted:h.muted_color||"#6b7280"}}),Y=Ce(()=>{var h,C;return(C=(h=r.values)==null?void 0:h.currencies)!=null?C:[]}),j=Ce(()=>({"--nxp-ec-color-primary":x.primaryColor||D.value.primary,"--nxp-ec-color-text":x.textColor||D.value.text,"--nxp-ec-color-surface":x.surfaceColor||D.value.surface,"--nxp-ec-color-border":x.borderColor||D.value.border,"--nxp-ec-color-muted":x.mutedColor||D.value.muted})),te=(h={})=>{var ye,xe,K,fe,Ne,He,S,v,G,Q,J,ee,me,le,oe,Z,Ae,ce,ge,Te;const C=(ye=h==null?void 0:h.store)!=null?ye:{},E=(xe=h==null?void 0:h.payments)!=null?xe:{},q=(K=h==null?void 0:h.visual)!=null?K:{},ae=(Ne=(fe=h==null?void 0:h.security)==null?void 0:fe.rate_limits)!=null?Ne:{};Object.assign(f,{storeName:(He=C.name)!=null?He:"",storeEmail:(S=C.email)!=null?S:"",storePhone:(v=C.phone)!=null?v:"",checkoutPhoneRequired:!!((G=h==null?void 0:h.checkout_phone_required)!=null&&G),paymentsConfigured:!!E.configured,autoSendOrderEmails:!!((Q=h==null?void 0:h.auto_send_order_emails)!=null&&Q),baseCurrency:typeof(h==null?void 0:h.base_currency)=="string"?h.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(h==null?void 0:h.display_locale)=="string"?h.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(h==null?void 0:h.category_page_size))?Number(h.category_page_size):12,categoryPaginationMode:(h==null?void 0:h.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((J=h==null?void 0:h.stale_order_cleanup_enabled)!=null&&J),staleOrderHours:Number.isFinite(Number(h==null?void 0:h.stale_order_hours))?Math.max(1,Math.min(720,Number(h.stale_order_hours))):48,showAdvancedMode:!!((ee=h==null?void 0:h.show_advanced_mode)!=null&&ee),digitalMaxDownloads:Number.isFinite(Number(h==null?void 0:h.digital_download_max))?Math.max(0,Number(h.digital_download_max)):5,digitalExpiryDays:Number.isFinite(Number(h==null?void 0:h.digital_download_expiry))?Math.max(0,Number(h.digital_download_expiry)):30,digitalStoragePath:typeof(h==null?void 0:h.digital_storage_path)=="string"?h.digital_storage_path:"",digitalAutoFulfill:!!((me=h==null?void 0:h.digital_auto_fulfill)==null||me),digitalMaxFileSize:Number.isFinite(Number(h==null?void 0:h.digital_max_file_size))?Math.max(1,Math.min(2048,Number(h.digital_max_file_size))):200,digitalAllowedExtensions:y(h),digitalCustomExtensions:typeof((le=h==null?void 0:h.digital)==null?void 0:le.custom_extensions)=="string"?h.digital.custom_extensions:""}),(oe=h==null?void 0:h.digital)!=null&&oe.file_type_categories&&(g.value=h.digital.file_type_categories),Object.assign(x,{primaryColor:(Z=q.primary_color)!=null?Z:"",textColor:(Ae=q.text_color)!=null?Ae:"",surfaceColor:(ce=q.surface_color)!=null?ce:"",borderColor:(ge=q.border_color)!=null?ge:"",mutedColor:(Te=q.muted_color)!=null?Te:""}),Object.assign(O,{checkoutWindowMinutes:Number.isFinite(Number(ae.checkout_window_minutes))?Number(ae.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(ae.checkout_ip_limit))?Number(ae.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(ae.checkout_email_limit))?Number(ae.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(ae.checkout_session_limit))?Number(ae.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(ae.offline_window_minutes))?Number(ae.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(ae.offline_ip_limit))?Number(ae.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(ae.offline_email_limit))?Number(ae.offline_email_limit):5})},Oe=(h={})=>{var ye,xe,K,fe,Ne,He,S,v,G,Q,J,ee,me,le,oe,Z,Ae,ce,ge,Te,$e,N,$,_e;const C=(ye=h.stripe)!=null?ye:{},E=(xe=h.paypal)!=null?xe:{},q=(K=h.cod)!=null?K:{},ae=(fe=h.bank_transfer)!=null?fe:{};Object.assign(A.stripe,{publishable_key:(Ne=C.publishable_key)!=null?Ne:"",secret_key:(He=C.secret_key)!=null?He:"",webhook_secret:(S=C.webhook_secret)!=null?S:"",mode:(v=C.mode)!=null?v:"test"}),Object.assign(A.paypal,{client_id:(G=E.client_id)!=null?G:"",client_secret:(Q=E.client_secret)!=null?Q:"",webhook_id:(J=E.webhook_id)!=null?J:"",mode:(ee=E.mode)!=null?ee:"sandbox"}),Object.assign(A.cod,{enabled:q.enabled!==void 0?!!q.enabled:A.cod.enabled,label:(le=(me=q.label)!=null?me:A.cod.label)!=null?le:"Cash on delivery"}),Object.assign(A.bank_transfer,{enabled:ae.enabled!==void 0?!!ae.enabled:A.bank_transfer.enabled,label:(Z=(oe=ae.label)!=null?oe:A.bank_transfer.label)!=null?Z:"Bank transfer",instructions:(ce=(Ae=ae.instructions)!=null?Ae:A.bank_transfer.instructions)!=null?ce:"",account_name:(Te=(ge=ae.account_name)!=null?ge:A.bank_transfer.account_name)!=null?Te:"",iban:(N=($e=ae.iban)!=null?$e:A.bank_transfer.iban)!=null?N:"",bic:(_e=($=ae.bic)!=null?$:A.bank_transfer.bic)!=null?_e:""})};it(()=>r.values,h=>{te(h!=null?h:{})},{immediate:!0});const Ie=()=>a("refresh-settings"),Me=()=>{const h=(f.baseCurrency||"").trim().toUpperCase(),C=(f.displayLocale||"").trim();a("save-settings",{store:{name:f.storeName,email:f.storeEmail,phone:f.storePhone,base_currency:h},payments:{configured:f.paymentsConfigured},base_currency:h,display_locale:C,checkout_phone_required:f.checkoutPhoneRequired,auto_send_order_emails:f.autoSendOrderEmails,category_page_size:Number.isFinite(Number(f.categoryPageSize))?Number(f.categoryPageSize):12,category_pagination_mode:f.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!f.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(f.staleOrderHours))?Math.max(1,Math.min(720,Number(f.staleOrderHours))):48,show_advanced_mode:!!f.showAdvancedMode})},U=()=>{var h;te((h=r.values)!=null?h:{})},we=()=>{const h=Number.isFinite(Number(f.digitalMaxDownloads))?Math.max(0,Number(f.digitalMaxDownloads)):0,C=Number.isFinite(Number(f.digitalExpiryDays))?Math.max(0,Number(f.digitalExpiryDays)):0,E=(f.digitalStoragePath||"").trim(),q=Number.isFinite(Number(f.digitalMaxFileSize))?Math.max(1,Math.min(2048,Number(f.digitalMaxFileSize))):200,ae=u(),ye=f.digitalAllowedExtensions||[],K=ae.length===ye.length&&ae.every(Ne=>ye.includes(Ne))?null:[...ye],fe=(f.digitalCustomExtensions||"").trim();a("save-settings",{digital:{max_downloads:h,expiry_days:C,storage_path:E,auto_fulfill:!!f.digitalAutoFulfill,max_file_size:q,allowed_extensions:K,custom_extensions:fe}})},ke=()=>{var h;te((h=r.values)!=null?h:{})},H=()=>{const h=(C,E=0)=>{const q=Number(C);return Number.isFinite(q)&&q>=0?q:E};a("save-settings",{security:{rate_limits:{checkout_window_minutes:h(O.checkoutWindowMinutes,15),checkout_ip_limit:h(O.checkoutIpLimit,10),checkout_email_limit:h(O.checkoutEmailLimit,5),checkout_session_limit:h(O.checkoutSessionLimit,15),offline_window_minutes:h(O.offlineWindowMinutes,240),offline_ip_limit:h(O.offlineIpLimit,10),offline_email_limit:h(O.offlineEmailLimit,5)}}})},be=()=>{var h;te((h=r.values)!=null?h:{})};it(()=>r.saving,(h,C)=>{var E;C&&!h&&!r.error&&te((E=r.values)!=null?E:{})}),it(()=>l.config,h=>{Oe(h!=null?h:{})},{immediate:!0}),it(()=>l.saving,(h,C)=>{var E;C&&!h&&!l.error&&Oe((E=l.config)!=null?E:{})});const Se=()=>a("refresh-payments"),ue=()=>{const h=JSON.parse(JSON.stringify(A));a("save-payments",h),a("save-settings",{payments:{configured:f.paymentsConfigured}})},w=()=>{var h;Oe((h=l.config)!=null?h:{})},k=()=>a("refresh-settings"),L=()=>{a("save-settings",{visual:{primary_color:x.primaryColor,text_color:x.textColor,surface_color:x.surfaceColor,border_color:x.borderColor,muted_color:x.mutedColor}})},z=()=>{var C,E,q,ae,ye,xe,K;const h=(E=(C=r.values)==null?void 0:C.visual)!=null?E:{};Object.assign(x,{primaryColor:(q=h.primary_color)!=null?q:"",textColor:(ae=h.text_color)!=null?ae:"",surfaceColor:(ye=h.surface_color)!=null?ye:"",borderColor:(xe=h.border_color)!=null?xe:"",mutedColor:(K=h.muted_color)!=null?K:""})};return(h,C)=>(b(),R("section",fO,[i("header",mO,[i("div",null,[i("h2",hO,c(o(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",gO,c(o(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",EO,[i("button",{type:"button",class:Be(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:C[0]||(C[0]=E=>_.value="general")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Be(["nxp-ec-settings-tab",{"is-active":_.value==="digital"}]),onClick:C[1]||(C[1]=E=>_.value="digital")},c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital")),3),f.showAdvancedMode?(b(),R("button",{key:0,type:"button",class:Be(["nxp-ec-settings-tab",{"is-active":_.value==="security"}]),onClick:C[2]||(C[2]=E=>_.value="security")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):ie("",!0),i("button",{type:"button",class:Be(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:C[3]||(C[3]=E=>_.value="payments")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Be(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:C[4]||(C[4]=E=>_.value="visual")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(b(),R("div",CO,[i("header",AO,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Ie,disabled:o(r).loading},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,SO)]),o(r).error?(b(),R("div",bO,c(o(r).error),1)):o(r).loading?(b(),R("div",TO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(b(),R("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:wt(Me,["prevent"])},[i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),i("div",yO,[i("label",RO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),W(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[5]||(C[5]=E=>f.storeName=E),maxlength:"190"},null,512),[[he,f.storeName,void 0,{trim:!0}]])]),i("div",OO,[i("label",xO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),W(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":C[6]||(C[6]=E=>f.storeEmail=E)},null,512),[[he,f.storeEmail,void 0,{trim:!0}]])]),i("div",NO,[i("label",vO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),W(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[7]||(C[7]=E=>f.storePhone=E),maxlength:"64"},null,512),[[he,f.storePhone,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),i("div",PO,[i("label",MO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),W(i("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":C[8]||(C[8]=E=>f.baseCurrency=E),required:""},[(b(!0),R(Pe,null,Fe(Y.value,E=>(b(),R("option",{key:E.code,value:E.code},c(E.label),9,kO))),128))],512),[[St,f.baseCurrency]]),i("p",IO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",wO,[i("label",$O,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),W(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[9]||(C[9]=E=>f.checkoutPhoneRequired=E)},null,512),[[ut,f.checkoutPhoneRequired]]),i("p",LO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",DO,[i("label",UO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),W(i("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[10]||(C[10]=E=>f.displayLocale=E),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[he,f.displayLocale,void 0,{trim:!0}]]),i("p",YO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),i("div",XO,[i("label",FO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),W(i("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":C[11]||(C[11]=E=>f.categoryPageSize=E)},null,512),[[he,f.categoryPageSize,void 0,{number:!0}]]),i("p",GO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),i("div",VO,[i("label",HO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),W(i("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":C[12]||(C[12]=E=>f.categoryPaginationMode=E)},[i("option",BO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),i("option",KO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[St,f.categoryPaginationMode]]),i("p",jO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),i("div",JO,[i("label",WO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),W(i("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[13]||(C[13]=E=>f.autoSendOrderEmails=E)},null,512),[[ut,f.autoSendOrderEmails]]),i("p",qO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),i("div",zO,[i("label",QO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),W(i("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[14]||(C[14]=E=>f.staleOrderCleanupEnabled=E)},null,512),[[ut,f.staleOrderCleanupEnabled]]),i("p",ZO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),f.staleOrderCleanupEnabled?(b(),R("div",ex,[i("label",tx,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),W(i("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":C[15]||(C[15]=E=>f.staleOrderHours=E)},null,512),[[he,f.staleOrderHours,void 0,{number:!0}]]),i("p",nx,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):ie("",!0)]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),i("div",sx,[i("label",ix,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),W(i("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[16]||(C[16]=E=>f.showAdvancedMode=E)},null,512),[[ut,f.showAdvancedMode]]),i("p",ax,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),o(r).message?(b(),R("div",ox,c(o(r).message),1)):ie("",!0),i("div",rx,[i("button",{class:"nxp-ec-btn",type:"button",onClick:U,disabled:o(r).saving},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,lx),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},c(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,cx)])],32))])):_.value==="digital"?(b(),R("div",dx,[i("header",ux,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital products")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Ie,disabled:o(r).loading},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh")),9,_x)]),o(r).error?(b(),R("div",px,c(o(r).error),1)):o(r).loading?(b(),R("div",fx,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings")),1)):(b(),R("form",{key:2,class:"nxp-ec-settings-form",onSubmit:wt(we,["prevent"])},[i("div",mx,[i("div",hx,[i("label",gx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS","Default max downloads")),1),W(i("input",{id:"settings-digital-max",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[17]||(C[17]=E=>f.digitalMaxDownloads=E)},null,512),[[he,f.digitalMaxDownloads,void 0,{number:!0}]]),i("p",Ex,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS_DESC","Maximum downloads allowed per purchase (0 for unlimited).")),1)]),i("div",Cx,[i("label",Ax,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY","Download link expiry (days)")),1),W(i("input",{id:"settings-digital-expiry",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[18]||(C[18]=E=>f.digitalExpiryDays=E)},null,512),[[he,f.digitalExpiryDays,void 0,{number:!0}]]),i("p",Sx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY_DESC","Number of days before links expire (0 for no expiry).")),1)]),i("div",bx,[i("label",Tx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL","Auto-fulfill digital orders")),1),W(i("input",{id:"settings-digital-fulfill",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[19]||(C[19]=E=>f.digitalAutoFulfill=E)},null,512),[[ut,f.digitalAutoFulfill]]),i("p",yx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL_DESC","Mark digital-only orders fulfilled after payment.")),1)]),i("div",Rx,[i("label",Ox,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE","Max file size (MB)")),1),W(i("input",{id:"settings-digital-max-size",class:"nxp-ec-form-input",type:"number",min:"1",max:"2048",step:"1","onUpdate:modelValue":C[20]||(C[20]=E=>f.digitalMaxFileSize=E)},null,512),[[he,f.digitalMaxFileSize,void 0,{number:!0}]]),i("p",xx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE_DESC","Maximum upload size per file in megabytes (1-2048 MB).")),1)]),i("div",Nx,[i("label",vx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH","Storage path")),1),W(i("input",{id:"settings-digital-storage",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[21]||(C[21]=E=>f.digitalStoragePath=E),maxlength:"250"},null,512),[[he,f.digitalStoragePath,void 0,{trim:!0}]]),i("p",Px,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH_DESC","Protected directory for digital files. Adjust only if you know the server path.")),1)])]),i("div",Mx,[i("h4",kx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES","Allowed File Types")),1),i("p",Ix,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES_DESC","Select which file types can be uploaded as digital products.")),1),i("div",wx,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm",onClick:M},c(o(n)("COM_NXPEASYCART_SELECT_ALL","Select All")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-btn--link",onClick:P},c(o(n)("COM_NXPEASYCART_SELECT_NONE","Select None")),1)]),i("div",$x,[(b(!0),R(Pe,null,Fe(g.value,(E,q)=>(b(),R("div",{key:q,class:"nxp-ec-filetypes-category"},[i("h5",Lx,c(m(q)),1),i("div",Dx,[(b(!0),R(Pe,null,Fe(E,ae=>(b(),R("label",{key:ae,class:"nxp-ec-filetypes-item"},[W(i("input",{type:"checkbox",value:ae,"onUpdate:modelValue":C[22]||(C[22]=ye=>f.digitalAllowedExtensions=ye),class:"nxp-ec-filetypes-item__checkbox"},null,8,Ux),[[ut,f.digitalAllowedExtensions]]),i("span",Yx,"."+c(ae),1)]))),128))])]))),128))]),i("div",Xx,[i("label",Fx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS","Custom Extensions")),1),W(i("input",{id:"settings-digital-custom-ext",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[23]||(C[23]=E=>f.digitalCustomExtensions=E),placeholder:"blend, psd, ai, sketch"},null,512),[[he,f.digitalCustomExtensions,void 0,{trim:!0}]]),i("p",Gx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS_DESC","Comma-separated list of additional extensions. These bypass MIME validation - use only for trusted uploads.")),1)])]),i("div",Vx,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:ke},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_RESET","Reset")),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},c(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")),9,Hx)])],32))])):_.value==="security"&&f.showAdvancedMode?(b(),R("div",Bx,[i("header",Kx,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Ie,disabled:o(r).loading},c(o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,jx)]),o(r).error?(b(),R("div",Jx,c(o(r).error),1)):(b(),R("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:wt(H,["prevent"])},[i("p",Wx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",qx,[i("div",zx,[i("label",Qx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),W(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[24]||(C[24]=E=>O.checkoutWindowMinutes=E)},null,512),[[he,O.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",Zx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",eN,[i("label",tN,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),W(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[25]||(C[25]=E=>O.offlineWindowMinutes=E)},null,512),[[he,O.offlineWindowMinutes,void 0,{number:!0}]]),i("p",nN,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",sN,[i("div",iN,[i("label",aN,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),W(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[26]||(C[26]=E=>O.checkoutIpLimit=E)},null,512),[[he,O.checkoutIpLimit,void 0,{number:!0}]])]),i("div",oN,[i("label",rN,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),W(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[27]||(C[27]=E=>O.checkoutEmailLimit=E)},null,512),[[he,O.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",lN,[i("label",cN,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),W(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[28]||(C[28]=E=>O.checkoutSessionLimit=E)},null,512),[[he,O.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",dN,[i("div",uN,[i("label",_N,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),W(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[29]||(C[29]=E=>O.offlineIpLimit=E)},null,512),[[he,O.offlineIpLimit,void 0,{number:!0}]])]),i("div",pN,[i("label",fN,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),W(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[30]||(C[30]=E=>O.offlineEmailLimit=E)},null,512),[[he,O.offlineEmailLimit,void 0,{number:!0}]])])]),o(r).message?(b(),R("div",mN,c(o(r).message),1)):ie("",!0),i("div",hN,[i("button",{class:"nxp-ec-btn",type:"button",onClick:be,disabled:o(r).saving},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,gN),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},c(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,EN)])],32))])):_.value==="payments"?(b(),R("div",CN,[i("header",AN,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",SN,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Se,disabled:o(l).loading},c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,bN)])]),o(l).error?(b(),R("div",TN,c(o(l).error),1)):o(l).loading?(b(),R("div",yN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(b(),R("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:wt(ue,["prevent"])},[i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",RN,[i("label",ON,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),W(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[31]||(C[31]=E=>A.stripe.publishable_key=E)},null,512),[[he,A.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",xN,[i("label",NN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),W(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[32]||(C[32]=E=>A.stripe.secret_key=E),autocomplete:"off"},null,512),[[he,A.stripe.secret_key,void 0,{trim:!0}]])]),i("div",vN,[i("label",PN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),W(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[33]||(C[33]=E=>A.stripe.webhook_secret=E),autocomplete:"off"},null,512),[[he,A.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",MN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",kN,[i("label",IN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),W(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":C[34]||(C[34]=E=>A.stripe.mode=E)},[i("option",wN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",$N,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[St,A.stripe.mode]])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",LN,[i("label",DN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),W(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[35]||(C[35]=E=>A.paypal.client_id=E)},null,512),[[he,A.paypal.client_id,void 0,{trim:!0}]])]),i("div",UN,[i("label",YN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),W(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[36]||(C[36]=E=>A.paypal.client_secret=E),autocomplete:"off"},null,512),[[he,A.paypal.client_secret,void 0,{trim:!0}]])]),i("div",XN,[i("label",FN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),W(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[37]||(C[37]=E=>A.paypal.webhook_id=E)},null,512),[[he,A.paypal.webhook_id,void 0,{trim:!0}]]),i("p",GN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",VN,[i("label",HN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),W(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":C[38]||(C[38]=E=>A.paypal.mode=E)},[i("option",BN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",KN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[St,A.paypal.mode]])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",jN,[i("label",JN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),W(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":C[39]||(C[39]=E=>A.cod.enabled=E)},null,512),[[ut,A.cod.enabled]])]),i("div",WN,[i("label",qN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),W(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[40]||(C[40]=E=>A.cod.label=E),placeholder:"Cash on delivery"},null,512),[[he,A.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",zN,[i("label",QN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),W(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":C[41]||(C[41]=E=>A.bank_transfer.enabled=E)},null,512),[[ut,A.bank_transfer.enabled]])]),i("div",ZN,[i("label",e1,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),W(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[42]||(C[42]=E=>A.bank_transfer.label=E),placeholder:"Bank transfer"},null,512),[[he,A.bank_transfer.label,void 0,{trim:!0}]])]),i("div",t1,[i("label",n1,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),W(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":C[43]||(C[43]=E=>A.bank_transfer.instructions=E),placeholder:o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,s1),[[he,A.bank_transfer.instructions]]),i("p",i1,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",a1,[i("div",o1,[i("label",r1,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),W(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[44]||(C[44]=E=>A.bank_transfer.account_name=E)},null,512),[[he,A.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",l1,[i("label",c1,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),W(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[45]||(C[45]=E=>A.bank_transfer.iban=E),maxlength:"34"},null,512),[[he,A.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",d1,[i("label",u1,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),W(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[46]||(C[46]=E=>A.bank_transfer.bic=E),maxlength:"11"},null,512),[[he,A.bank_transfer.bic,void 0,{trim:!0}]])])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),i("div",_1,[i("label",p1,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),W(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[47]||(C[47]=E=>f.paymentsConfigured=E)},null,512),[[ut,f.paymentsConfigured]]),i("p",f1,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),o(l).message?(b(),R("div",m1,c(o(l).message),1)):ie("",!0),i("div",h1,[i("button",{class:"nxp-ec-btn",type:"button",onClick:w,disabled:o(l).saving},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,g1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(l).saving},c(o(l).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,E1)])],32))])):_.value==="visual"?(b(),R("div",C1,[i("header",A1,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:k,disabled:o(r).loading},c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,S1)]),o(r).error?(b(),R("div",b1,c(o(r).error),1)):o(r).loading?(b(),R("div",T1,c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(b(),R("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:wt(L,["prevent"])},[i("p",y1,c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",R1,c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",O1,[i("div",x1,[i("label",N1,c(o(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",v1,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:x.primaryColor||D.value.primary,onInput:C[48]||(C[48]=E=>x.primaryColor=E.target.value)},null,40,P1),W(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[49]||(C[49]=E=>x.primaryColor=E),placeholder:D.value.primary,maxlength:"7"},null,8,M1),[[he,x.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[50]||(C[50]=E=>x.primaryColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",k1,[i("label",I1,c(o(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",w1,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:x.textColor||D.value.text,onInput:C[51]||(C[51]=E=>x.textColor=E.target.value)},null,40,$1),W(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[52]||(C[52]=E=>x.textColor=E),placeholder:D.value.text,maxlength:"7"},null,8,L1),[[he,x.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[53]||(C[53]=E=>x.textColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",D1,[i("label",U1,c(o(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",Y1,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:x.surfaceColor||D.value.surface,onInput:C[54]||(C[54]=E=>x.surfaceColor=E.target.value)},null,40,X1),W(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[55]||(C[55]=E=>x.surfaceColor=E),placeholder:D.value.surface,maxlength:"7"},null,8,F1),[[he,x.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[56]||(C[56]=E=>x.surfaceColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",G1,[i("label",V1,c(o(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",H1,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:x.borderColor||D.value.border,onInput:C[57]||(C[57]=E=>x.borderColor=E.target.value)},null,40,B1),W(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[58]||(C[58]=E=>x.borderColor=E),placeholder:D.value.border,maxlength:"7"},null,8,K1),[[he,x.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[59]||(C[59]=E=>x.borderColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",j1,[i("label",J1,c(o(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",W1,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:x.mutedColor||D.value.muted,onInput:C[60]||(C[60]=E=>x.mutedColor=E.target.value)},null,40,q1),W(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[61]||(C[61]=E=>x.mutedColor=E),placeholder:D.value.muted,maxlength:"7"},null,8,z1),[[he,x.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[62]||(C[62]=E=>x.mutedColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",Q1,[i("h4",null,c(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:zt(j.value)},[i("button",Z1,c(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",ev,c(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",tv,c(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),o(r).message?(b(),R("div",nv,c(o(r).message),1)):ie("",!0),i("div",sv,[i("button",{class:"nxp-ec-btn",type:"button",onClick:z,disabled:o(r).saving},c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,iv),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},c(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,av)])],32))])):ie("",!0)]))}},[["__scopeId","data-v-dff41c0c"]]),rv={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},lv={class:"nxp-ec-admin-panel__header"},cv={class:"nxp-ec-admin-panel__title"},dv={class:"nxp-ec-admin-panel__lead"},uv={class:"nxp-ec-admin-panel__actions"},_v=["disabled","title","aria-label"],pv={class:"nxp-ec-sr-only"},fv={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mv={key:1,class:"nxp-ec-admin-panel__loading"},hv={key:2,class:"nxp-ec-admin-panel__body"},gv={class:"nxp-ec-admin-panel__table"},Ev={class:"nxp-ec-admin-table"},Cv={scope:"col"},Av={scope:"col"},Sv={scope:"col"},bv={scope:"col"},Tv={scope:"col"},yv={scope:"col"},Rv={key:0},Ov={colspan:"7"},xv={scope:"row",class:"nxp-ec-admin-table__primary"},Nv=["data-label"],vv=["data-label"],Pv=["data-label"],Mv=["data-label"],kv=["data-label"],Iv={class:"nxp-ec-admin-table__actions"},wv=["onClick","title","aria-label"],$v={class:"nxp-ec-sr-only"},Lv=["onClick","title","aria-label"],Dv={class:"nxp-ec-sr-only"},Uv={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Yv={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Xv={class:"nxp-ec-admin-panel__sidebar-header"},Fv={id:"tax-modal-title"},Gv=["title","aria-label"],Vv={class:"nxp-ec-sr-only"},Hv={class:"nxp-ec-form-field"},Bv={class:"nxp-ec-form-label",for:"tax-name"},Kv=["placeholder"],jv={class:"nxp-ec-form-help"},Jv={class:"nxp-ec-form-field"},Wv={class:"nxp-ec-form-label",for:"tax-country"},qv=["placeholder"],zv={class:"nxp-ec-form-help"},Qv={class:"nxp-ec-form-field"},Zv={class:"nxp-ec-form-label",for:"tax-region"},eP=["placeholder"],tP={class:"nxp-ec-form-help"},nP={class:"nxp-ec-form-field"},sP={class:"nxp-ec-form-label",for:"tax-rate"},iP={class:"nxp-ec-input-group"},aP={class:"nxp-ec-form-field nxp-ec-form-field--inline"},oP={class:"nxp-ec-form-label",for:"tax-inclusive"},rP={class:"nxp-ec-form-help"},lP={class:"nxp-ec-form-field"},cP={class:"nxp-ec-form-label",for:"tax-priority"},dP={class:"nxp-ec-form-help"},uP={class:"nxp-ec-modal__actions"},_P=["disabled"],pP=["disabled"],fP=["disabled"],mP=Nt({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=ze(!1),l=Qe({id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0}),d=()=>a("refresh"),_=()=>{u(),r.value=!0},f=M=>{Object.assign(l,{id:M.id,name:M.name||"",country:M.country,region:M.region,rate:M.rate,inclusive:M.inclusive,priority:M.priority}),r.value=!0},g=()=>{r.value=!1,u()},u=()=>{Object.assign(l,{id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0})},y=()=>{a("save",{id:l.id||void 0,name:l.name||null,country:l.country,region:l.region,rate:l.rate,inclusive:l.inclusive,priority:l.priority})},m=M=>{const P=n("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(P)&&(a("delete",[M.id]),l.id===M.id&&g())};return it(()=>s.state.saving,(M,P)=>{P&&!M&&!s.state.error&&g()}),(M,P)=>(b(),R("section",rv,[i("header",lv,[i("div",null,[i("h2",cv,c(o(n)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),i("p",dv,c(o(n)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),i("div",uv,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":o(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[P[7]||(P[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",pv,c(o(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,_v),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_},[P[8]||(P[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(b(),R("div",fv,c(e.state.error),1)):ie("",!0),e.state.loading?(b(),R("div",mv,c(o(n)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(b(),R("div",hv,[i("div",gv,[i("table",Ev,[i("thead",null,[i("tr",null,[i("th",Cv,c(o(n)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),i("th",Av,c(o(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),i("th",Sv,c(o(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),i("th",bv,c(o(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("th",Tv,c(o(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),i("th",yv,c(o(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),P[9]||(P[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ie("",!0):(b(),R("tr",Rv,[i("td",Ov,c(o(n)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(b(!0),R(Pe,null,Fe(e.state.items,O=>{var A;return b(),R("tr",{key:O.id,class:Be({"is-active":l.id===O.id})},[i("th",xv,c(O.name||o(n)("COM_NXPEASYCART_TAX_DEFAULT_NAME","Tax",[],"taxDefaultName")),1),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_COUNTRY","Country")},c(O.country),9,Nv),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_REGION","Region")},c(O.region||""),9,vv),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_RATE","Rate")},c(((A=O.rate)!=null?A:0).toFixed(2))+"%",9,Pv),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[i("span",{class:Be(["nxp-ec-badge",{"is-active":O.inclusive}])},[i("i",{class:Be(O.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ue(" "+c(O.inclusive?o(n)("JYES","Yes"):o(n)("JNO","No")),1)],2)],8,Mv),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},c(O.priority),9,kv),i("td",Iv,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:x=>f(O),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[P[10]||(P[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",$v,c(o(n)("JEDIT","Edit")),1)],8,wv),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:x=>m(O),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[P[11]||(P[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",Dv,c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Lv)])],2)}),128))])])]),r.value?(b(),R("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"tax-modal-title",onKeydown:bt(g,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:g}),i("div",Uv,[i("aside",Yv,[i("header",Xv,[i("h3",Fv,c(l.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:g,title:o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[P[12]||(P[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",Vv,c(o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,Gv)]),i("form",{class:"nxp-ec-form",onSubmit:wt(y,["prevent"]),autocomplete:"off"},[i("div",Hv,[i("label",Bv,c(o(n)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),W(i("input",{id:"tax-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":P[0]||(P[0]=O=>l.name=O),maxlength:"100",placeholder:o(n)("COM_NXPEASYCART_TAX_NAME_PLACEHOLDER","e.g. VAT, GST, Sales Tax",[],"taxNamePlaceholder")},null,8,Kv),[[he,l.name,void 0,{trim:!0}]]),i("p",jv,c(o(n)("COM_NXPEASYCART_TAX_NAME_HELP",'Optional display name shown to customers. Falls back to "Tax" if empty.',[],"taxNameHelp")),1)]),i("div",Jv,[i("label",Wv,c(o(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),W(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":P[1]||(P[1]=O=>l.country=O),maxlength:"2",required:"",placeholder:o(n)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,qv),[[he,l.country,void 0,{trim:!0}]]),i("p",zv,c(o(n)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),i("div",Qv,[i("label",Zv,c(o(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),W(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":P[2]||(P[2]=O=>l.region=O),placeholder:o(n)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,eP),[[he,l.region,void 0,{trim:!0}]]),i("p",tP,c(o(n)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),i("div",nP,[i("label",sP,c(o(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("div",iP,[W(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":P[3]||(P[3]=O=>l.rate=O),required:""},null,512),[[he,l.rate,void 0,{number:!0}]]),P[13]||(P[13]=i("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),i("div",aP,[i("label",oP,c(o(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),W(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":P[4]||(P[4]=O=>l.inclusive=O)},null,512),[[ut,l.inclusive]]),i("p",rP,c(o(n)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),i("div",lP,[i("label",cP,c(o(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),W(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":P[5]||(P[5]=O=>l.priority=O)},null,512),[[he,l.priority,void 0,{number:!0}]]),i("p",dP,c(o(n)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),i("footer",uP,[i("button",{class:"nxp-ec-btn",type:"button",onClick:g,disabled:e.state.saving},c(o(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,_P),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,pP)]),l.id?(b(),R("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:P[6]||(P[6]=O=>m(l)),disabled:e.state.saving},[P[14]||(P[14]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,fP)):ie("",!0)],32)])])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-2ed24c88"]]),hP={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},gP={class:"nxp-ec-admin-panel__header"},EP={class:"nxp-ec-admin-panel__title"},CP={class:"nxp-ec-admin-panel__lead"},AP={class:"nxp-ec-admin-panel__actions"},SP=["disabled","title","aria-label"],bP={class:"nxp-ec-sr-only"},TP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},yP={key:1,class:"nxp-ec-admin-panel__loading"},RP={key:2,class:"nxp-ec-admin-panel__body"},OP={class:"nxp-ec-admin-panel__table"},xP={class:"nxp-ec-admin-table"},NP={scope:"col"},vP={scope:"col"},PP={scope:"col"},MP={scope:"col"},kP={scope:"col"},IP={scope:"col"},wP={key:0},$P={colspan:"7"},LP={scope:"row",class:"nxp-ec-admin-table__primary"},DP=["data-label"],UP=["data-label"],YP=["data-label"],XP=["data-label"],FP=["data-label"],GP={class:"nxp-ec-admin-table__actions"},VP=["onClick","title","aria-label"],HP={class:"nxp-ec-sr-only"},BP=["onClick","title","aria-label"],KP={class:"nxp-ec-sr-only"},jP={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},JP={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},WP={class:"nxp-ec-admin-panel__sidebar-header"},qP={id:"shipping-modal-title"},zP=["title","aria-label"],QP={class:"nxp-ec-sr-only"},ZP={class:"nxp-ec-form-field"},eM={class:"nxp-ec-form-label",for:"shipping-name"},tM=["placeholder"],nM={class:"nxp-ec-form-field"},sM={class:"nxp-ec-form-label",for:"shipping-type"},iM={value:"flat"},aM={value:"free_over"},oM={class:"nxp-ec-form-help"},rM={class:"nxp-ec-form-field"},lM={class:"nxp-ec-form-label",for:"shipping-price"},cM={class:"nxp-ec-input-group"},dM={class:"nxp-ec-input-group__prefix"},uM={key:0,class:"nxp-ec-form-field"},_M={class:"nxp-ec-form-label",for:"shipping-threshold"},pM={class:"nxp-ec-input-group"},fM={class:"nxp-ec-input-group__prefix"},mM={class:"nxp-ec-form-help"},hM={class:"nxp-ec-form-field"},gM={class:"nxp-ec-form-label",for:"shipping-regions"},EM=["placeholder"],CM={class:"nxp-ec-form-help"},AM={class:"nxp-ec-form-field nxp-ec-form-field--inline"},SM={class:"nxp-ec-form-label",for:"shipping-active"},bM={class:"nxp-ec-form-help"},TM={class:"nxp-ec-modal__actions"},yM=["disabled"],RM=["disabled"],OM=["disabled"],xM=Nt({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ce(()=>{const A=s.baseCurrency;return typeof A=="string"&&A.trim()!==""?A.trim().toUpperCase():"USD"}),l=ze(!1),d=Qe({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),_=()=>a("refresh"),f=()=>{y(),l.value=!0},g=A=>{var x,D,Y;Object.assign(d,{id:A.id,name:A.name,type:A.type,price:(D=A.price)!=null?D:((x=A.price_cents)!=null?x:0)/100,threshold:A.threshold!==null&&A.threshold!==void 0?A.threshold:((Y=A.threshold_cents)!=null?Y:0)/100,regions:A.regions&&A.regions.length?A.regions.join(", "):"",active:A.active}),l.value=!0},u=()=>{l.value=!1,y()},y=()=>{Object.assign(d,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},m=()=>{const A={id:d.id||void 0,name:d.name,type:d.type,price:d.price,threshold:d.type==="free_over"?d.threshold:0,regions:d.regions,active:d.active};a("save",A)},M=A=>{const x=n("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(x)&&(a("delete",[A.id]),d.id===A.id&&u())};it(()=>s.state.saving,(A,x)=>{x&&!A&&!s.state.error&&u()});const P=(A,x)=>{const D=(Number(A)||0)/100,Y=(x||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:Y}).format(D)}catch(j){return`${Y} ${D.toFixed(2)}`}},O=A=>A==="free_over"?n("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):n("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(A,x)=>(b(),R("section",hP,[i("header",gP,[i("div",null,[i("h2",EP,c(o(n)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),i("p",CP,c(o(n)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),i("div",AP,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":o(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[x[7]||(x[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",bP,c(o(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,SP),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:f},[x[8]||(x[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(b(),R("div",TP,c(e.state.error),1)):ie("",!0),e.state.loading?(b(),R("div",yP,c(o(n)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):ie("",!0),e.state.loading?ie("",!0):(b(),R("div",RP,[i("div",OP,[i("table",xP,[i("thead",null,[i("tr",null,[i("th",NP,c(o(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),i("th",vP,c(o(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),i("th",PP,c(o(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("th",MP,c(o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("th",kP,c(o(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),i("th",IP,c(o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),x[9]||(x[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ie("",!0):(b(),R("tr",wP,[i("td",$P,c(o(n)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(b(!0),R(Pe,null,Fe(e.state.items,D=>(b(),R("tr",{key:D.id,class:Be({"is-active":d.id===D.id})},[i("th",LP,c(D.name),1),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},c(O(D.type)),9,DP),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},c(P(D.price_cents,r.value)),9,UP),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},c(D.type==="free_over"?P(D.threshold_cents,r.value):""),9,YP),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},c(D.regions&&D.regions.length?D.regions.join(", "):o(n)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,XP),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[i("span",{class:Be(["nxp-ec-badge",{"is-active":D.active}])},[i("i",{class:Be(D.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ue(" "+c(D.active?o(n)("JYES","Yes"):o(n)("JNO","No")),1)],2)],8,FP),i("td",GP,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Y=>g(D),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[x[10]||(x[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",HP,c(o(n)("JEDIT","Edit")),1)],8,VP),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Y=>M(D),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[x[11]||(x[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",KP,c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,BP)])],2))),128))])])]),l.value?(b(),R("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"shipping-modal-title",onKeydown:bt(u,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:u}),i("div",jP,[i("aside",JP,[i("header",WP,[i("h3",qP,c(d.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:u,title:o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[x[12]||(x[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",QP,c(o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,zP)]),i("form",{class:"nxp-ec-form",onSubmit:wt(m,["prevent"]),autocomplete:"off"},[i("div",ZP,[i("label",eM,c(o(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),W(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":x[0]||(x[0]=D=>d.name=D),required:"",placeholder:o(n)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,tM),[[he,d.name,void 0,{trim:!0}]])]),i("div",nM,[i("label",sM,c(o(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),W(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":x[1]||(x[1]=D=>d.type=D)},[i("option",iM,c(o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),i("option",aM,c(o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[St,d.type]]),i("p",oM,c(d.type==="free_over"?o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),i("div",rM,[i("label",lM,c(o(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("div",cM,[i("span",dM,c(r.value),1),W(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":x[2]||(x[2]=D=>d.price=D),required:""},null,512),[[he,d.price,void 0,{number:!0}]])])]),d.type==="free_over"?(b(),R("div",uM,[i("label",_M,c(o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("div",pM,[i("span",fM,c(r.value),1),W(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":x[3]||(x[3]=D=>d.threshold=D),required:""},null,512),[[he,d.threshold,void 0,{number:!0}]])]),i("p",mM,c(o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):ie("",!0),i("div",hM,[i("label",gM,c(o(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),W(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":x[4]||(x[4]=D=>d.regions=D),placeholder:o(n)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,EM),[[he,d.regions,void 0,{trim:!0}]]),i("p",CM,c(o(n)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),i("div",AM,[i("label",SM,c(o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),W(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":x[5]||(x[5]=D=>d.active=D)},null,512),[[ut,d.active]]),i("p",bM,c(o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),i("footer",TM,[i("button",{class:"nxp-ec-btn",type:"button",onClick:u,disabled:e.state.saving},c(o(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,yM),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,RM)]),d.id?(b(),R("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:x[6]||(x[6]=D=>M(d)),disabled:e.state.saving},[x[13]||(x[13]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Ue(" "+c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,OM)):ie("",!0)],32)])])],32)):ie("",!0)]))]))}},[["__scopeId","data-v-e9835937"]]),NM={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},vM={class:"nxp-ec-admin-panel__header"},PM={class:"nxp-ec-admin-panel__title"},MM={class:"nxp-ec-admin-panel__lead"},kM={class:"nxp-ec-admin-panel__actions"},IM=["placeholder","aria-label"],wM=["value"],$M={value:""},LM=["value"],DM=["disabled","title","aria-label"],UM={class:"nxp-ec-sr-only"},YM={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},XM={key:1,class:"nxp-ec-admin-panel__body"},FM={key:2,class:"nxp-ec-admin-panel__body"},GM={class:"nxp-ec-admin-panel__table"},VM={class:"nxp-ec-admin-table"},HM={scope:"col"},BM={scope:"col"},KM={scope:"col"},jM={scope:"col"},JM={scope:"col"},WM={key:0},qM={colspan:"5"},zM=["data-label"],QM=["data-label"],ZM={class:"nxp-ec-log-entity"},ek={class:"nxp-ec-log-entity-id"},tk=["data-label"],nk=["data-label"],sk=["data-label"],ik={class:"nxp-ec-log-context"},ak={key:0,class:"nxp-ec-admin-pagination"},ok=["disabled"],rk={class:"nxp-ec-admin-pagination__status"},lk=["disabled"],ck=["title"],dk=Nt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=s.state,l=Ce(()=>{const O=new Set;return Array.isArray(r.items)&&r.items.forEach(A=>{A!=null&&A.entity_type&&O.add(A.entity_type)}),r.entity&&O.add(r.entity),Array.from(O).sort()}),d=()=>a("refresh"),_=()=>a("search"),f=O=>a("filter",O),g=O=>a("page",O),u=O=>{if(!O)return"";try{const A=new Date(O.replace(" ","T"));if(!Number.isNaN(A.getTime()))return A.toLocaleString()}catch(A){}return O},y=O=>{if(!O)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(O){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return O.charAt(0).toUpperCase()+O.slice(1)}},m=O=>{if(!(O!=null&&O.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const A=O.user.name||"",x=O.user.username||"";return A&&x?`${A} (${x})`:A||x||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},M=O=>{if(!O||Array.isArray(O)&&!O.length||typeof O=="object"&&!Object.keys(O).length)return"";try{return JSON.stringify(O,null,2)}catch(A){return String(O)}},P=O=>{if(!O)return"";try{const A=new Date(O),D=new Date-A,Y=Math.floor(D/1e3),j=Math.floor(Y/60),te=Math.floor(j/60);return Y<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):j<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[j]):te<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[te]):A.toLocaleString()}catch(A){return O}};return(O,A)=>(b(),R("section",NM,[i("header",vM,[i("div",null,[i("h2",PM,c(o(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",MM,c(o(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",kM,[W(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":A[0]||(A[0]=x=>o(r).search=x),placeholder:o(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":o(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:bt(_,["enter"])},null,40,IM),[[he,o(r).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:o(r).entity,onChange:A[1]||(A[1]=x=>f(x.target.value)),"aria-label":"Entity filter"},[i("option",$M,c(o(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(b(!0),R(Pe,null,Fe(l.value,x=>(b(),R("option",{key:x,value:x},c(y(x)),9,LM))),128))],40,wM),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:o(r).loading,title:o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[A[4]||(A[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",UM,c(o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,DM)])]),o(r).error?(b(),R("div",YM,c(o(r).error),1)):ie("",!0),o(r).loading?(b(),R("div",XM,[lt(rs,{type:"table",rows:5,columns:5})])):ie("",!0),o(r).loading?ie("",!0):(b(),R("div",FM,[i("div",GM,[i("table",VM,[i("thead",null,[i("tr",null,[i("th",HM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",BM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",KM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",jM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",JM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[o(r).items.length?ie("",!0):(b(),R("tr",WM,[i("td",qM,c(o(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(b(!0),R(Pe,null,Fe(o(r).items,x=>(b(),R("tr",{key:x.id},[i("td",{class:"nxp-ec-admin-table__primary","data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},c(u(x.created)),9,zM),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[i("span",ZM,c(y(x.entity_type)),1),i("span",ek,"#"+c(x.entity_id),1)],8,QM),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},c(x.action),9,tk),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},c(m(x)),9,nk),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[i("pre",ik,c(M(x.context)),1)],8,sk)]))),128))])]),o(r).pagination.pages>1?(b(),R("div",ak,[i("button",{class:"nxp-ec-btn",type:"button",disabled:o(r).pagination.current<=1,onClick:A[2]||(A[2]=x=>g(o(r).pagination.current-1))},"  ",8,ok),i("span",rk,c(o(r).pagination.current)+" / "+c(o(r).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:o(r).pagination.current>=o(r).pagination.pages,onClick:A[3]||(A[3]=x=>g(o(r).pagination.current+1))},"  ",8,lk)])):ie("",!0)]),o(r).lastUpdated?(b(),R("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:o(r).lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(P(o(r).lastUpdated)),9,ck)):ie("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),uk={key:0,class:"nxp-ec-onboarding"},_k={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},pk={class:"nxp-ec-onboarding__header"},fk={class:"nxp-ec-onboarding__title"},mk={class:"nxp-ec-onboarding__lead"},hk={class:"nxp-ec-onboarding__progress"},gk={class:"nxp-ec-onboarding__progress-bar"},Ek={class:"nxp-ec-onboarding__progress-label"},Ck={class:"nxp-ec-onboarding__steps"},Ak={class:"nxp-ec-onboarding__step-main"},Sk={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},bk={key:0,class:"fa-solid fa-circle-check"},Tk={key:1,class:"fa-regular fa-circle"},yk={class:"nxp-ec-onboarding__step-actions"},Rk=["onClick"],Ok=Nt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,a=Ce(()=>t.steps.length?t.steps.filter(d=>d.completed).length/t.steps.length*100:0),n=Ce(()=>`${a.value}%`),r=Ce(()=>{const l=t.steps.filter(d=>d.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,d)=>e.visible?(b(),R("div",uk,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:d[0]||(d[0]=_=>l.$emit("close"))}),i("section",_k,[i("header",pk,[i("div",null,[i("h2",fk,c(o(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",mk,c(o(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:d[1]||(d[1]=_=>l.$emit("close"))},c(o(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",hk,[i("div",gk,[i("span",{style:zt({width:n.value})},null,4)]),i("span",Ek,c(r.value),1)]),i("ol",Ck,[(b(!0),R(Pe,null,Fe(e.steps,_=>(b(),R("li",{key:_.id,class:Be({"is-complete":_.completed})},[i("div",Ak,[i("span",Sk,[_.completed?(b(),R("span",bk)):(b(),R("span",Tk))]),i("div",null,[i("h3",null,c(o(s)(_.titleKey,_.titleFallback,[],`${_.id}-title`)),1),i("p",null,c(o(s)(_.descriptionKey,_.descriptionFallback,[],`${_.id}-description`)),1)])]),i("div",yk,[_.link?(b(),R("button",{key:0,type:"button",class:Be(["nxp-ec-btn",{"nxp-ec-btn--ghost":_.completed}]),onClick:f=>l.$emit("navigate",_)},c(_.completed?o(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${_.id}-action`):o(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${_.id}-action`)),11,Rk)):ie("",!0)])],2))),128))])])])):ie("",!0)}},[["__scopeId","data-v-c2a94811"]]),xk=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(r){}let a=String(e);return t.forEach(r=>{const l=r!=null?r:"";a=a.replace(/%[sd]/,String(l))}),a},Nk=(e,t="",s=[])=>{var r;const a=(r=window==null?void 0:window.Joomla)==null?void 0:r.Text;let n=t||e;if(a&&typeof a._=="function"){const l=a._(e);l&&l!==e&&(n=l)}return xk(n,s)};function vk(e={}){const t=e||{},s=(n,r)=>{if(!n)return r;const l=t[n];return l!=null&&l!==""?l:r};return{__:(n,r="",l=[],d="")=>{const _=s(d,r);return Nk(n,_,l)}}}const Oo=typeof window!="undefined"&&window.performance;function xo(e){if(Oo)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function Pk(e,t,s){if(!Oo)return null;try{performance.measure(e,t,s);const a=performance.getEntriesByName(e,"measure")[0];if(a)return a.duration}catch(a){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,a)}return null}const Dn=Qe({}),No=3e5;function vo(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Jt(e,t=No){const s=Dn[e];return s?vo(s,t)?s.data:(delete Dn[e],null):null}function Xt(e,t){Dn[e]={data:t,timestamp:Date.now()}}function Ke(e){delete Dn[e]}function Po(){const e={};return Object.keys(Dn).forEach(t=>{const s=Dn[t];s&&(e[t]={age:Date.now()-s.timestamp,timestamp:s.timestamp,valid:vo(s,No)})}),e}function Wt(e){const t=ze({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return xo(l),l},endFetch:l=>{const d=`${e}-fetch-end`;xo(d);const _=Pk(`${e}-fetch`,l,d);_!==null&&(t.value.lastFetchDuration=_),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const cs=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.products.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function Mk({endpoints:e,token:t,autoload:s=!0,cacheTTL:a=3e5}){var we,ke,H,be,Se,ue;const n=$t({token:t}),r=Wt("products"),l=(we=e==null?void 0:e.list)!=null?we:"",d=(ke=e==null?void 0:e.create)!=null?ke:cs(l,"store"),_=(H=e==null?void 0:e.update)!=null?H:cs(l,"update"),f=(be=e==null?void 0:e.delete)!=null?be:cs(l,"delete"),g=(Se=e==null?void 0:e.checkout)!=null?Se:cs(l,"checkout"),u=(ue=e==null?void 0:e.checkin)!=null?ue:cs(l,"checkin"),y=typeof AbortController!="undefined",m=Qe({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),M=ze(null),P=()=>{const w=m.pagination.current||1,k=m.pagination.limit||20,L=m.search.trim();return`products:page=${w}:limit=${k}:search=${L}`},O=async(w=!1)=>{var C;if(!l){m.error="Products endpoint unavailable.",m.items=[];return}const k=P(),L=w?null:Jt(k,a);if(L){r.recordCacheHit(),m.items=L.items,m.pagination={...m.pagination,...L.pagination},m.lastUpdated=L.lastUpdated;return}r.recordCacheMiss(),m.loading=!0,m.error="",m.validationErrors=[],M.value&&y&&M.value.abort();const z=y?new AbortController:null;M.value=z;const h=r.startFetch();try{const{items:E,pagination:q}=await n.fetchProducts({endpoint:l,signal:z?z.signal:void 0,limit:m.pagination.limit,start:Math.max(0,(m.pagination.current-1)*m.pagination.limit),search:m.search.trim()});m.items=E,m.pagination={...m.pagination,...q,current:q.current&&q.current>0?q.current:1},m.lastUpdated=new Date().toISOString(),Xt(k,{items:E,pagination:m.pagination,lastUpdated:m.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;m.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error"}finally{r.endFetch(h),y&&M.value===z&&(M.value=null),m.loading=!1}},A=()=>{m.pagination.current=1,Ke(P()),O(!0)},x=()=>{m.pagination.current=1,O()},D=w=>w?typeof w=="string"?w:typeof w=="object"&&w.message?String(w.message):String(w):"",Y=(w,{setValidation:k=!1}={})=>{var L;if((w==null?void 0:w.code)===422&&k){const z=Array.isArray(w.details)?w.details:[w.details].filter(Boolean);m.validationErrors=z.map(D).filter(h=>h!=="");return}m.error=(L=w==null?void 0:w.message)!=null?L:"Unknown error"},j=async w=>{var k;if(!g||!w)return null;m.locking=!0,m.error="";try{const L=await n.checkoutProduct({endpoint:g,id:w});if(L){const z=m.items.findIndex(h=>h.id===L.id);z!==-1&&m.items.splice(z,1,L)}return L}catch(L){throw m.error=(k=L==null?void 0:L.message)!=null?k:"Unknown error",L}finally{m.locking=!1}},te=async(w,{force:k=!1}={})=>{var L;if(!u||!w)return null;try{const z=await n.checkinProduct({endpoint:u,id:w,force:k});if(z){const h=m.items.findIndex(C=>C.id===z.id);h!==-1&&m.items.splice(h,1,z)}return z}catch(z){return m.error=(L=z==null?void 0:z.message)!=null?L:"Unknown error",null}},Oe=async w=>te(w,{force:!0}),Ie=async w=>{if(!d)throw new Error("Create endpoint unavailable.");m.saving=!0,m.validationErrors=[];try{const k=await n.createProduct({endpoint:d,data:w});return k&&(m.items=[k,...m.items],m.pagination.total+=1,Ke(P())),k}catch(k){throw Y(k,{setValidation:!0}),k}finally{m.saving=!1}},Me=async(w,k)=>{if(!_)throw new Error("Update endpoint unavailable.");m.saving=!0,m.validationErrors=[];try{const L=await n.updateProduct({endpoint:_,id:w,data:k});if(L){const z=m.items.findIndex(h=>h.id===L.id);z!==-1&&m.items.splice(z,1,L),Ke(P())}return L}catch(L){throw Y(L,{setValidation:!0}),L}finally{m.saving=!1}},U=async w=>{if(!f)throw new Error("Delete endpoint unavailable.");m.deleting=!0,m.validationErrors=[];try{const k=await n.deleteProducts({endpoint:f,ids:w});return k.length&&(m.items=m.items.filter(L=>!k.includes(L.id)),m.pagination.total=Math.max(0,m.pagination.total-k.length),Ke(P())),k}catch(k){throw Y(k),k}finally{m.deleting=!1}};return Rt(()=>{s&&O()}),{state:m,loadProducts:O,refresh:A,search:x,createProduct:Ie,updateProduct:Me,deleteProducts:U,checkoutProduct:j,checkinProduct:te,forceCheckinProduct:Oe,metrics:r.metrics}}const Mo=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.categories.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function kk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var ke,H,be,Se,ue,w,k,L,z,h,C,E,q,ae,ye,xe;const r=$t({token:t}),l=Wt("categories"),d=(ke=e==null?void 0:e.list)!=null?ke:"",_=(H=e==null?void 0:e.create)!=null?H:d,f=(be=e==null?void 0:e.update)!=null?be:d,g=(Se=e==null?void 0:e.delete)!=null?Se:d,u=(ue=e==null?void 0:e.checkout)!=null?ue:Mo(d,"checkout"),y=(w=e==null?void 0:e.checkin)!=null?w:Mo(d,"checkin"),m=Qe({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(h=(z=(k=s.pagination)==null?void 0:k.total)!=null?z:(L=s.items)==null?void 0:L.length)!=null?h:0,limit:(E=(C=s.pagination)==null?void 0:C.limit)!=null?E:20,pages:(ae=(q=s.pagination)==null?void 0:q.pages)!=null?ae:0,current:(xe=(ye=s.pagination)==null?void 0:ye.current)!=null?xe:1},search:"",lastUpdated:null}),M=typeof AbortController!="undefined",P=ze(null),O=()=>{const K=m.pagination.current||1,fe=m.pagination.limit||20,Ne=m.search.trim();return`categories:page=${K}:limit=${fe}:search=${Ne}`},A=async(K=!1)=>{var v;if(!d){m.error="Categories endpoint unavailable.",m.items=[];return}const fe=O(),Ne=K?null:Jt(fe,n);if(Ne){l.recordCacheHit(),m.items=Ne.items,m.pagination={...m.pagination,...Ne.pagination},m.lastUpdated=Ne.lastUpdated;return}l.recordCacheMiss(),m.loading=!0,m.error="",m.validationErrors=[],P.value&&M&&P.value.abort();const He=M?new AbortController:null;P.value=He;const S=l.startFetch();try{const G=Math.max(0,(m.pagination.current-1)*m.pagination.limit),{items:Q,pagination:J}=await r.fetchCategories({endpoint:d,limit:m.pagination.limit,start:G,search:m.search.trim(),signal:He?He.signal:void 0});m.items=Q,m.pagination={...m.pagination,...J,current:J.current&&J.current>0?J.current:1},m.lastUpdated=new Date().toISOString(),Xt(fe,{items:Q,pagination:m.pagination,lastUpdated:m.lastUpdated})}catch(G){if((G==null?void 0:G.name)==="AbortError")return;m.error=(v=G==null?void 0:G.message)!=null?v:"Unknown error"}finally{l.endFetch(S),M&&P.value===He&&(P.value=null),m.loading=!1}},x=()=>{m.pagination.current=1,Ke(O()),A(!0)},D=()=>{m.pagination.current=1,A()},Y=K=>{const fe=Number(K);Number.isNaN(fe)||fe<1||fe===m.pagination.current||(m.pagination.current=fe,A(!0))},j=(K,{validation:fe=!1}={})=>{var Ne;if(fe&&(K==null?void 0:K.code)===422){const He=K.details,S=Array.isArray(He)?He:[He].filter(Boolean);m.validationErrors=S.map(v=>v?typeof v=="string"?v:typeof v=="object"&&v.message?String(v.message):String(v):"").filter(Boolean);return}m.error=(Ne=K==null?void 0:K.message)!=null?Ne:"Unknown error"},te=async K=>{if(!u||!K)return null;m.locking=!0,m.error="";try{const fe=await r.checkoutCategory({endpoint:u,id:K});return fe&&(Ke(O()),await A(!0)),fe}catch(fe){throw j(fe),fe}finally{m.locking=!1}},Oe=async(K,{force:fe=!1}={})=>{if(!y||!K)return null;try{const Ne=await r.checkinCategory({endpoint:y,id:K,force:fe});return Ne&&(Ke(O()),await A(!0)),Ne}catch(Ne){return j(Ne),null}},Ie=async K=>Oe(K,{force:!0}),Me=async K=>{if(!_||!f)throw new Error("Category endpoints unavailable.");m.saving=!0,m.error="",m.validationErrors=[];try{let fe=null;return K.id?fe=await r.updateCategory({endpoint:f,id:K.id,data:K}):fe=await r.createCategory({endpoint:_,data:K}),fe&&(Ke(O()),await A()),fe}catch(fe){throw j(fe,{validation:!0}),fe}finally{m.saving=!1}},U=async K=>{if(!Array.isArray(K)||!K.length||!g)return 0;m.deleting=!0,m.error="";try{const fe=await r.deleteCategories({endpoint:g,ids:K});return fe&&(Ke(O()),await A()),fe}catch(fe){throw j(fe),fe}finally{m.deleting=!1}},we=async()=>{if(!d)return[];try{const{items:K}=await r.fetchCategories({endpoint:d,limit:200,start:0,search:""});return K}catch(K){return[]}};return Rt(()=>{a&&(!Array.isArray(m.items)||!m.items.length)&&A()}),{state:m,loadCategories:A,refresh:x,search:D,goToPage:Y,saveCategory:Me,deleteCategories:U,loadOptions:we,checkoutCategory:te,checkinCategory:Oe,forceCheckinCategory:Ie,metrics:l.metrics}}const vt=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.orders.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function Ik({endpoints:e,token:t,states:s=[],preload:a={},autoload:n=!0,cacheTTL:r=3e5}){var le,oe,Z,Ae,ce,ge,Te,$e,N,$,_e,pe,F,Le,We,Xe,Ge,Ze;const l=$t({token:t}),d=Wt("orders"),_=(le=e==null?void 0:e.list)!=null?le:"",f=(oe=e==null?void 0:e.show)!=null?oe:vt(_,"show"),g=(Z=e==null?void 0:e.transition)!=null?Z:vt(_,"transition"),u=(Ae=e==null?void 0:e.bulkTransition)!=null?Ae:vt(_,"bulkTransition"),y=(ce=e==null?void 0:e.note)!=null?ce:vt(_,"note"),m=(ge=e==null?void 0:e.tracking)!=null?ge:vt(_,"tracking"),M=(Te=e==null?void 0:e.invoice)!=null?Te:vt(_,"invoice"),P=($e=e==null?void 0:e.export)!=null?$e:vt(_,"export"),O=(N=e==null?void 0:e.sendEmail)!=null?N:vt(_,"sendEmail"),A=($=e==null?void 0:e.recordTransaction)!=null?$:vt(_,"recordTransaction"),x=(_e=e==null?void 0:e.resendDownloads)!=null?_e:vt(_,"resendDownloads"),D=(pe=e==null?void 0:e.resetDownload)!=null?pe:vt(_,"resetDownload"),Y=(F=e==null?void 0:e.checkout)!=null?F:vt(_,"checkout"),j=(Le=e==null?void 0:e.checkin)!=null?Le:vt(_,"checkin"),te=typeof AbortController!="undefined",Oe=ze(null),Ie=Array.isArray(a==null?void 0:a.items)?a.items:[],Me=a!=null&&a.pagination&&typeof a.pagination=="object"?a.pagination:{},U=Qe({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...Ie],pagination:{total:(We=Me.total)!=null?We:Ie.length,limit:(Xe=Me.limit)!=null?Xe:20,pages:(Ge=Me.pages)!=null?Ge:0,current:(Ze=Me.current)!=null?Ze:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1,locking:!1}),we=ze(null),ke=()=>{const de=U.pagination.current||1,Re=U.pagination.limit||20,T=U.search.trim(),p=U.filterState||"";return`orders:page=${de}:limit=${Re}:search=${T}:state=${p}`},H=async(de=!1)=>{var re;if(!_){U.error="Orders endpoint unavailable.",U.items=[];return}const Re=ke(),T=de?null:Jt(Re,r);if(T){d.recordCacheHit(),U.items=T.items,U.pagination={...U.pagination,...T.pagination},U.lastUpdated=T.lastUpdated;return}d.recordCacheMiss(),U.loading=!0,U.error="",Oe.value&&te&&Oe.value.abort();const p=te?new AbortController:null;Oe.value=p;const V=d.startFetch();try{const Ee=Math.max(0,(U.pagination.current-1)*U.pagination.limit),{items:X,pagination:ne}=await l.fetchOrders({endpoint:_,limit:U.pagination.limit,start:Ee,search:U.search.trim(),state:U.filterState,signal:p?p.signal:void 0});U.items=X,U.pagination={...U.pagination,...ne,current:ne.current&&ne.current>0?ne.current:1},U.selection.clear(),U.lastUpdated=new Date().toISOString(),Xt(Re,{items:X,pagination:U.pagination,lastUpdated:U.lastUpdated})}catch(Ee){if((Ee==null?void 0:Ee.name)==="AbortError")return;U.error=(re=Ee==null?void 0:Ee.message)!=null?re:"Unknown error"}finally{d.endFetch(V),te&&Oe.value===p&&(Oe.value=null),U.loading=!1}},be=()=>{U.pagination.current=1,Ke(ke()),H(!0)},Se=()=>{U.pagination.current=1,H()},ue=de=>{U.filterState=de||"",U.pagination.current=1,H()},w=de=>{const Re=Number(de);Number.isNaN(Re)||Re<1||Re===U.pagination.current||(U.pagination.current=Re,H(!0))},k=()=>{U.selection.clear()},L=de=>{de&&(U.selection.has(de)?U.selection.delete(de):U.selection.add(de))},z=()=>{U.pagination.current>=U.pagination.pages||(U.pagination.current+=1,H(!0))},h=()=>{U.pagination.current<=1||(U.pagination.current-=1,H(!0))},C=async(de,Re="")=>{var T;if(!f)return null;try{return await l.fetchOrder({endpoint:f,id:de,orderNumber:Re})}catch(p){return U.transitionError=(T=p==null?void 0:p.message)!=null?T:"Unknown error",null}},E=de=>{if(!(de!=null&&de.id))return;const Re=U.items.findIndex(T=>T.id===de.id);Re!==-1&&U.items.splice(Re,1,de)},q=async de=>{var Re;if(!Y||!de)return null;U.locking=!0,U.transitionError="";try{const T=await l.checkoutOrder({endpoint:Y,id:de});return T&&(E(T),we.value=T.id),T}catch(T){throw U.transitionError=(Re=T==null?void 0:T.message)!=null?Re:"Unknown error",T}finally{U.locking=!1}},ae=async(de,{force:Re=!1}={})=>{if(!j||!de)return null;try{const T=await l.checkinOrder({endpoint:j,id:de,force:Re});return T&&(E(T),U.activeOrder&&U.activeOrder.id===T.id&&(U.activeOrder=T),we.value===T.id&&(we.value=null)),T}catch(T){return null}},ye=async de=>ae(de,{force:!0}),xe=async()=>{if(!we.value)return;const de=we.value;we.value=null,await ae(de)},K=async de=>{var Re,T,p;if(!de){U.transitionError="",U.activeOrder=null,await xe();return}U.transitionError="";try{we.value&&we.value!==de.id&&await xe();const V=await q(de.id);if(V){U.activeOrder=V;return}const re=await C(de.id,de.order_no);U.activeOrder=re||{...de,items:Array.isArray(de.items)?de.items:[],transactions:Array.isArray(de.transactions)?de.transactions:[],timeline:Array.isArray(de.timeline)?de.timeline:[],billing:(Re=de.billing)!=null?Re:{}}}catch(V){U.transitionError=(T=V==null?void 0:V.message)!=null?T:"Unknown error",U.activeOrder={...de,items:Array.isArray(de.items)?de.items:[],transactions:Array.isArray(de.transactions)?de.transactions:[],timeline:Array.isArray(de.timeline)?de.timeline:[],billing:(p=de.billing)!=null?p:{}}}},fe=async()=>{U.transitionError="",U.activeOrder=null,await xe()},Ne=async(de,Re)=>{var T;if(!g)throw new Error("Transition endpoint unavailable.");U.saving=!0,U.transitionError="";try{const p=await l.transitionOrder({endpoint:g,id:de,state:Re});return p&&(E(p),U.activeOrder&&U.activeOrder.id===p.id&&(U.activeOrder=p),Ke(ke())),p}catch(p){throw U.transitionError=(T=p==null?void 0:p.message)!=null?T:"Unknown error",p}finally{U.saving=!1}},He=async(de,Re)=>{var T;if(!m)throw new Error("Tracking endpoint unavailable.");U.saving=!0,U.transitionError="";try{const p=await l.updateOrderTracking({endpoint:m,id:de,tracking:Re});return p&&(E(p),U.activeOrder&&U.activeOrder.id===p.id&&(U.activeOrder=p),Ke(ke())),p}catch(p){throw U.transitionError=(T=p==null?void 0:p.message)!=null?T:"Unknown error",p}finally{U.saving=!1}},S=async(de,Re="")=>{var T;if(!M)throw new Error("Invoice endpoint unavailable.");U.invoiceLoading=!0,U.transitionError="";try{const p=await l.fetchOrderInvoice({endpoint:M,id:de,orderNumber:Re});if(!p)throw new Error("Invoice not available.");return p}catch(p){throw U.transitionError=(T=p==null?void 0:p.message)!=null?T:"Unknown error",p}finally{U.invoiceLoading=!1}},v=async()=>{var de;if(!P)throw new Error("Export endpoint unavailable.");U.exporting=!0,U.error="";try{const Re=await l.exportOrders({endpoint:P,search:U.search.trim(),state:U.filterState});if(!Re)throw new Error("Export not available.");return Re}catch(Re){throw U.error=(de=Re==null?void 0:Re.message)!=null?de:"Export failed",Re}finally{U.exporting=!1}},G=async(de,Re)=>{var T;if(!O)throw new Error("Send email endpoint unavailable.");U.saving=!0,U.transitionError="";try{const p=await l.sendOrderEmail({endpoint:O,id:de,type:Re});return p&&(E(p),U.activeOrder&&U.activeOrder.id===p.id&&(U.activeOrder=p),Ke(ke())),p}catch(p){throw U.transitionError=(T=p==null?void 0:p.message)!=null?T:"Failed to send email",p}finally{U.saving=!1}},Q=async(de,{amountCents:Re,reference:T,note:p})=>{var V;if(!A)throw new Error("Record transaction endpoint unavailable.");U.saving=!0,U.transitionError="";try{const re=await l.recordTransaction({endpoint:A,id:de,amountCents:Re,reference:T,note:p});return re&&(E(re),U.activeOrder&&U.activeOrder.id===re.id&&(U.activeOrder=re),Ke(ke())),re}catch(re){throw U.transitionError=(V=re==null?void 0:re.message)!=null?V:"Failed to record payment",re}finally{U.saving=!1}},J=async de=>{var Re;if(!x)throw new Error("Resend downloads endpoint unavailable.");U.saving=!0,U.transitionError="";try{const T=await l.resendDownloads({endpoint:x,id:de});return T&&(E(T),U.activeOrder&&U.activeOrder.id===T.id&&(U.activeOrder=T),Ke(ke())),T}catch(T){throw U.transitionError=(Re=T==null?void 0:T.message)!=null?Re:"Failed to resend downloads email",T}finally{U.saving=!1}},ee=async(de,Re)=>{var T;if(!D)throw new Error("Reset download endpoint unavailable.");U.saving=!0,U.transitionError="";try{const p=await l.resetDownload({endpoint:D,downloadId:de,orderId:Re});return p!=null&&p.order&&(E(p.order),U.activeOrder&&U.activeOrder.id===p.order.id&&(U.activeOrder=p.order),Ke(ke())),p}catch(p){throw U.transitionError=(T=p==null?void 0:p.message)!=null?T:"Failed to reset download count",p}finally{U.saving=!1}},me=async(de,Re)=>{var T;if(!u)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(de)||!de.length)return{updated:[]};U.saving=!0;try{const p=await l.bulkTransitionOrders({endpoint:u,ids:de,state:Re}),V=Array.isArray(p.updated)?p.updated:[];return V.forEach(re=>{E(re),U.activeOrder&&U.activeOrder.id===re.id&&(U.activeOrder=re)}),k(),{updated:V}}catch(p){throw U.transitionError=(T=p==null?void 0:p.message)!=null?T:"Unknown error",p}finally{U.saving=!1}};return Rt(()=>{n&&H()}),{state:U,loadOrders:H,refresh:be,search:Se,setFilterState:ue,goToPage:w,nextPage:z,previousPage:h,checkoutOrder:q,checkinOrder:ae,forceCheckinOrder:ye,releaseLock:xe,viewOrder:K,closeOrder:fe,transitionOrder:Ne,bulkTransition:me,updateTracking:He,downloadInvoice:S,exportOrders:v,sendEmail:G,recordTransaction:Q,resendDownloads:J,resetDownload:ee,toggleSelection:L,clearSelection:k,metrics:d.metrics,addNote:async(de,Re)=>{var T;if(!y)throw new Error("Note endpoint unavailable.");if(!de||!Re||!Re.trim())return null;U.transitionError="",U.saving=!0;try{const p=await l.addOrderNote({endpoint:y,id:de,message:Re});return p&&(E(p),U.activeOrder&&U.activeOrder.id===p.id&&(U.activeOrder=p)),p}catch(p){throw U.transitionError=(T=p==null?void 0:p.message)!=null?T:"Unknown error",p}finally{U.saving=!1}}}}function wk({endpoint:e="",token:t="",preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var g,u,y;const r=$t({token:t}),l=Wt("dashboard"),d=Qe({loading:!1,error:"",summary:(y=s.summary)!=null?y:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(u=(g=s.summary)==null?void 0:g.currency)!=null?u:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),_=()=>"dashboard",f=async(m=!1)=>{var A,x;if(!e)return;const M=_(),P=m?null:Jt(M,n);if(P){l.recordCacheHit(),d.summary=P.summary,d.checklist=P.checklist,d.lastUpdated=P.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="";const O=l.startFetch();try{const D=await r.fetchDashboard({endpoint:e});d.summary=(A=D.summary)!=null?A:d.summary,d.checklist=Array.isArray(D.checklist)?D.checklist:d.checklist,d.lastUpdated=new Date().toISOString(),Xt(M,{summary:d.summary,checklist:d.checklist,lastUpdated:d.lastUpdated})}catch(D){d.error=(x=D==null?void 0:D.message)!=null?x:"Unknown error"}finally{l.endFetch(O),d.loading=!1}};return Rt(()=>{a&&(!Array.isArray(d.checklist)||!d.checklist.length)&&f()}),{state:d,refresh:f,metrics:l.metrics}}function $k({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var Oe,Ie,Me,U,we,ke,H,be,Se,ue,w,k,L,z,h,C,E;const r=$t({token:t}),l=Wt("customers"),d=(Oe=e==null?void 0:e.list)!=null?Oe:"",_=(Ie=e==null?void 0:e.show)!=null?Ie:"",f=(U=(Me=e==null?void 0:e.gdpr)==null?void 0:Me.export)!=null?U:"",g=(ke=(we=e==null?void 0:e.gdpr)==null?void 0:we.anonymise)!=null?ke:"",u=Qe({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ue=(Se=(H=s.pagination)==null?void 0:H.total)!=null?Se:(be=s.items)==null?void 0:be.length)!=null?ue:0,limit:(k=(w=s.pagination)==null?void 0:w.limit)!=null?k:20,pages:(z=(L=s.pagination)==null?void 0:L.pages)!=null?z:0,current:(C=(h=s.pagination)==null?void 0:h.current)!=null?C:1},search:"",activeCustomer:(E=s.active)!=null?E:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),y=typeof AbortController!="undefined",m=ze(null),M=()=>{const q=u.pagination.current||1,ae=u.pagination.limit||20,ye=u.search.trim();return`customers:page=${q}:limit=${ae}:search=${ye}`},P=async(q=!1)=>{var fe;if(!d){u.error="Customers endpoint unavailable.",u.items=[];return}const ae=M(),ye=q?null:Jt(ae,n);if(ye){l.recordCacheHit(),u.items=ye.items,u.pagination={...u.pagination,...ye.pagination},u.lastUpdated=ye.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",m.value&&y&&m.value.abort();const xe=y?new AbortController:null;m.value=xe;const K=l.startFetch();try{const Ne=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:He,pagination:S}=await r.fetchCustomers({endpoint:d,limit:u.pagination.limit,start:Ne,search:u.search.trim(),signal:xe?xe.signal:void 0});u.items=He,u.pagination={...u.pagination,...S,current:S.current&&S.current>0?S.current:1},u.lastUpdated=new Date().toISOString(),Xt(ae,{items:He,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(Ne){if((Ne==null?void 0:Ne.name)==="AbortError")return;u.error=(fe=Ne==null?void 0:Ne.message)!=null?fe:"Unknown error"}finally{l.endFetch(K),y&&m.value===xe&&(m.value=null),u.loading=!1}},O=()=>{u.pagination.current=1,Ke(M()),P(!0)},A=()=>{u.pagination.current=1,P()},x=q=>{const ae=Number(q);Number.isNaN(ae)||ae<1||ae===u.pagination.current||(u.pagination.current=ae,P(!0))},D=async q=>{var ae;if(!_||!(q!=null&&q.email)){u.activeCustomer=q||null;return}try{const ye=await r.fetchCustomer({endpoint:_,email:q.email});u.activeCustomer=ye||q}catch(ye){u.error=(ae=ye==null?void 0:ye.message)!=null?ae:"Unknown error"}},Y=()=>{u.activeCustomer=null,u.gdprMessage="",u.gdprSuccess=!1},j=async q=>{var ae;if(!f||!q){u.gdprMessage="GDPR export endpoint unavailable.",u.gdprSuccess=!1;return}u.gdprLoading=!0,u.gdprMessage="";try{const ye=await r.gdprExport({endpoint:f,email:q});if(!ye)throw new Error("No data returned");const xe=new Blob([JSON.stringify(ye,null,2)],{type:"application/json"}),K=URL.createObjectURL(xe),fe=document.createElement("a");fe.href=K,fe.download=`gdpr-export-${q.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(K),u.gdprMessage="Data exported successfully.",u.gdprSuccess=!0}catch(ye){u.gdprMessage=(ae=ye==null?void 0:ye.message)!=null?ae:"Export failed",u.gdprSuccess=!1}finally{u.gdprLoading=!1}},te=async q=>{var ye;if(!g||!q){u.gdprMessage="GDPR anonymise endpoint unavailable.",u.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${q}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){u.gdprLoading=!0,u.gdprMessage="";try{const xe=await r.gdprAnonymise({endpoint:g,email:q});u.gdprMessage=xe.message||`Anonymised ${xe.affected} order(s).`,u.gdprSuccess=!0,Ke(M()),P(!0),setTimeout(()=>{u.activeCustomer=null,u.gdprMessage=""},2e3)}catch(xe){u.gdprMessage=(ye=xe==null?void 0:xe.message)!=null?ye:"Anonymisation failed",u.gdprSuccess=!1}finally{u.gdprLoading=!1}}};return Rt(()=>{a&&(!Array.isArray(u.items)||!u.items.length)&&P()}),{state:u,loadCustomers:P,refresh:O,search:A,goToPage:x,viewCustomer:D,closeCustomer:Y,gdprExport:j,gdprAnonymise:te,metrics:l.metrics}}function Lk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var Oe,Ie,Me,U,we,ke,H,be,Se,ue,w,k,L,z;const r=$t({token:t}),l=Wt("coupons"),d=(Oe=e==null?void 0:e.list)!=null?Oe:"",_=(Ie=e==null?void 0:e.create)!=null?Ie:d,f=(Me=e==null?void 0:e.update)!=null?Me:d,g=(U=e==null?void 0:e.delete)!=null?U:d,u=Qe({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(be=(H=(we=s.pagination)==null?void 0:we.total)!=null?H:(ke=s.items)==null?void 0:ke.length)!=null?be:0,limit:(ue=(Se=s.pagination)==null?void 0:Se.limit)!=null?ue:20,pages:(k=(w=s.pagination)==null?void 0:w.pages)!=null?k:0,current:(z=(L=s.pagination)==null?void 0:L.current)!=null?z:1},search:"",activeCoupon:null,lastUpdated:null}),y=typeof AbortController!="undefined",m=ze(null),M=()=>{const h=u.pagination.current||1,C=u.pagination.limit||20,E=u.search.trim();return`coupons:page=${h}:limit=${C}:search=${E}`},P=async(h=!1)=>{var ye;if(!d){u.error="Coupons endpoint unavailable.",u.items=[];return}const C=M(),E=h?null:Jt(C,n);if(E){l.recordCacheHit(),u.items=E.items,u.pagination={...u.pagination,...E.pagination},u.lastUpdated=E.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",m.value&&y&&m.value.abort();const q=y?new AbortController:null;m.value=q;const ae=l.startFetch();try{const xe=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:K,pagination:fe}=await r.fetchCoupons({endpoint:d,limit:u.pagination.limit,start:xe,search:u.search.trim(),signal:q?q.signal:void 0});u.items=K,u.pagination={...u.pagination,...fe,current:fe.current&&fe.current>0?fe.current:1},u.lastUpdated=new Date().toISOString(),Xt(C,{items:K,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(xe){if((xe==null?void 0:xe.name)==="AbortError")return;u.error=(ye=xe==null?void 0:xe.message)!=null?ye:"Unknown error"}finally{l.endFetch(ae),y&&m.value===q&&(m.value=null),u.loading=!1}},O=()=>{u.pagination.current=1,Ke(M()),P(!0)},A=()=>{u.pagination.current=1,P()},x=h=>{const C=Number(h);Number.isNaN(C)||C<1||C===u.pagination.current||(u.pagination.current=C,P(!0))},D=h=>{u.activeCoupon=h},Y=h=>{const C=u.items.findIndex(E=>E.id===h.id);C===-1?u.items.unshift(h):u.items.splice(C,1,h)},j=async h=>{var C;u.saving=!0,u.error="";try{let E=null;return h.id?E=await r.updateCoupon({endpoint:f,id:h.id,data:h}):E=await r.createCoupon({endpoint:_,data:h}),E&&(Y(E),u.activeCoupon&&u.activeCoupon.id===E.id&&(u.activeCoupon=E),Ke(M())),E}catch(E){throw u.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error",E}finally{u.saving=!1}},te=async h=>{var C;if(!Array.isArray(h)||!h.length)return 0;u.saving=!0,u.error="";try{const E=await r.deleteCoupons({endpoint:g,ids:h});return E&&(u.items=u.items.filter(q=>!h.includes(q.id)),u.activeCoupon&&h.includes(u.activeCoupon.id)&&(u.activeCoupon=null),Ke(M())),E}catch(E){throw u.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error",E}finally{u.saving=!1}};return Rt(()=>{a&&(!Array.isArray(u.items)||!u.items.length)&&P()}),{state:u,loadCoupons:P,refresh:O,search:A,goToPage:x,setActive:D,saveCoupon:j,deleteCoupons:te,metrics:l.metrics}}const ki=(e={})=>{var f,g,u,y,m,M,P,O,A,x,D,Y,j,te,Oe,Ie,Me,U,we;const t=(f=e.store)!=null?f:{},s=(g=e.payments)!=null?g:{},a=(u=e.visual)!=null?u:{},n=(y=e.visual_defaults)!=null?y:{},r=(M=(m=e.security)==null?void 0:m.rate_limits)!=null?M:{},l=Array.isArray(e.currencies)?e.currencies:[],d=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",_=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(P=t.name)!=null?P:"",email:(O=t.email)!=null?O:"",phone:(A=t.phone)!=null?A:""},payments:{configured:!!s.configured},base_currency:d,display_locale:_,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(x=a.primary_color)!=null?x:"",text_color:(D=a.text_color)!=null?D:"",surface_color:(Y=a.surface_color)!=null?Y:"",border_color:(j=a.border_color)!=null?j:"",muted_color:(te=a.muted_color)!=null?te:""},visual_defaults:{primary_color:(Oe=n.primary_color)!=null?Oe:"#4f6d7a",text_color:(Ie=n.text_color)!=null?Ie:"#1f2933",surface_color:(Me=n.surface_color)!=null?Me:"#ffffff",border_color:(U=n.border_color)!=null?U:"#e4e7ec",muted_color:(we=n.muted_color)!=null?we:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(r.checkout_ip_limit))?Number(r.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(r.checkout_email_limit))?Number(r.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(r.checkout_session_limit))?Number(r.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(r.checkout_window_minutes))?Number(r.checkout_window_minutes):Number.isFinite(Number(r.checkout_window))?Math.max(0,Math.ceil(Number(r.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(r.offline_ip_limit))?Number(r.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(r.offline_email_limit))?Number(r.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(r.offline_window_minutes))?Number(r.offline_window_minutes):Number.isFinite(Number(r.offline_window))?Math.max(0,Math.ceil(Number(r.offline_window)/60)):30}},currencies:l}};function Dk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var y,m;const r=$t({token:t}),l=Wt("settings"),d=(y=e==null?void 0:e.show)!=null?y:"",_=(m=e==null?void 0:e.update)!=null?m:d,f=Qe({loading:!1,saving:!1,error:"",message:"",values:ki(s),lastUpdated:null}),g=async(M=!1)=>{var x;if(!d){f.error="Settings endpoint unavailable.";return}const P="settings:data",O=M?null:Jt(P,n);if(O){l.recordCacheHit(),f.values=O.values,f.lastUpdated=O.lastUpdated;return}l.recordCacheMiss(),f.loading=!0,f.error="";const A=l.startFetch();try{const D=await r.fetchSettings({endpoint:d});f.values=ki(D),f.lastUpdated=new Date().toISOString(),Xt(P,{values:f.values,lastUpdated:f.lastUpdated})}catch(D){throw f.error=(x=D==null?void 0:D.message)!=null?x:"Unknown error",D}finally{l.endFetch(A),f.loading=!1}},u=async M=>{var P;if(!_)return f.error="Settings endpoint unavailable.",null;f.saving=!0,f.error="",f.message="";try{const O=await r.updateSettings({endpoint:_,data:M});return f.values=ki(O),f.lastUpdated=new Date().toISOString(),f.message="Settings saved.",Ke("settings:data"),Xt("settings:data",{values:f.values,lastUpdated:f.lastUpdated}),f.values}catch(O){throw f.error=(P=O==null?void 0:O.message)!=null?P:"Unknown error",O}finally{f.saving=!1}};return Rt(()=>{a&&g()}),{state:f,refresh:g,save:u,metrics:l.metrics}}function Uk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var D,Y,j,te,Oe,Ie,Me,U,we,ke,H,be,Se,ue;const r=$t({token:t}),l=Wt("taxRates"),d=(D=e==null?void 0:e.list)!=null?D:"",_=(Y=e==null?void 0:e.create)!=null?Y:d,f=(j=e==null?void 0:e.update)!=null?j:d,g=(te=e==null?void 0:e.delete)!=null?te:d,u=Qe({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(U=(Me=(Oe=s.pagination)==null?void 0:Oe.total)!=null?Me:(Ie=s.items)==null?void 0:Ie.length)!=null?U:0,limit:(ke=(we=s.pagination)==null?void 0:we.limit)!=null?ke:20,pages:(be=(H=s.pagination)==null?void 0:H.pages)!=null?be:0,current:(ue=(Se=s.pagination)==null?void 0:Se.current)!=null?ue:1},search:"",lastUpdated:null}),y=typeof AbortController!="undefined",m=ze(null),M=()=>{const w=u.pagination.current||1,k=u.pagination.limit||20,L=u.search.trim();return`taxRates:page=${w}:limit=${k}:search=${L}`},P=async(w=!1)=>{var C;if(!d){u.error="Tax endpoint unavailable.",u.items=[];return}const k=M(),L=w?null:Jt(k,n);if(L){l.recordCacheHit(),u.items=L.items,u.pagination={...u.pagination,...L.pagination},u.lastUpdated=L.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",m.value&&y&&m.value.abort();const z=y?new AbortController:null;m.value=z;const h=l.startFetch();try{const E=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:q,pagination:ae}=await r.fetchTaxRates({endpoint:d,limit:u.pagination.limit,start:E,search:u.search.trim(),signal:z?z.signal:void 0});u.items=q,u.pagination={...u.pagination,...ae,current:ae.current&&ae.current>0?ae.current:1},u.lastUpdated=new Date().toISOString(),Xt(k,{items:q,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;u.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error"}finally{l.endFetch(h),y&&m.value===z&&(m.value=null),u.loading=!1}},O=()=>{u.pagination.current=1,Ke(M()),P(!0)},A=async w=>{var k;u.saving=!0,u.error="";try{const L=w.id?await r.updateTaxRate({endpoint:f,id:w.id,data:w}):await r.createTaxRate({endpoint:_,data:w});if(L){const z=u.items.findIndex(h=>h.id===L.id);z===-1?u.items.unshift(L):u.items.splice(z,1,L),Ke(M())}return L}catch(L){throw u.error=(k=L==null?void 0:L.message)!=null?k:"Unknown error",L}finally{u.saving=!1}},x=async w=>{var k;if(!Array.isArray(w)||!w.length)return 0;u.saving=!0,u.error="";try{const L=await r.deleteTaxRates({endpoint:g,ids:w});return L&&(u.items=u.items.filter(z=>!w.includes(z.id)),Ke(M())),L}catch(L){throw u.error=(k=L==null?void 0:L.message)!=null?k:"Unknown error",L}finally{u.saving=!1}};return Rt(()=>{a&&(!Array.isArray(u.items)||!u.items.length)&&P()}),{state:u,loadRates:P,refresh:O,saveRate:A,deleteRates:x,metrics:l.metrics}}function Yk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var D,Y,j,te,Oe,Ie,Me,U,we,ke,H,be,Se,ue;const r=$t({token:t}),l=Wt("shippingRules"),d=(D=e==null?void 0:e.list)!=null?D:"",_=(Y=e==null?void 0:e.create)!=null?Y:d,f=(j=e==null?void 0:e.update)!=null?j:d,g=(te=e==null?void 0:e.delete)!=null?te:d,u=Qe({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(U=(Me=(Oe=s.pagination)==null?void 0:Oe.total)!=null?Me:(Ie=s.items)==null?void 0:Ie.length)!=null?U:0,limit:(ke=(we=s.pagination)==null?void 0:we.limit)!=null?ke:20,pages:(be=(H=s.pagination)==null?void 0:H.pages)!=null?be:0,current:(ue=(Se=s.pagination)==null?void 0:Se.current)!=null?ue:1},search:"",lastUpdated:null}),y=typeof AbortController!="undefined",m=ze(null),M=()=>{const w=u.pagination.current||1,k=u.pagination.limit||20,L=u.search.trim();return`shippingRules:page=${w}:limit=${k}:search=${L}`},P=async(w=!1)=>{var C;if(!d){u.error="Shipping endpoint unavailable.",u.items=[];return}const k=M(),L=w?null:Jt(k,n);if(L){l.recordCacheHit(),u.items=L.items,u.pagination={...u.pagination,...L.pagination},u.lastUpdated=L.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",m.value&&y&&m.value.abort();const z=y?new AbortController:null;m.value=z;const h=l.startFetch();try{const E=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:q,pagination:ae}=await r.fetchShippingRules({endpoint:d,limit:u.pagination.limit,start:E,search:u.search.trim(),signal:z?z.signal:void 0});u.items=q,u.pagination={...u.pagination,...ae,current:ae.current&&ae.current>0?ae.current:1},u.lastUpdated=new Date().toISOString(),Xt(k,{items:q,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;u.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error"}finally{l.endFetch(h),y&&m.value===z&&(m.value=null),u.loading=!1}},O=()=>{u.pagination.current=1,Ke(M()),P(!0)},A=async w=>{var k;u.saving=!0,u.error="";try{const L=w.id?await r.updateShippingRule({endpoint:f,id:w.id,data:w}):await r.createShippingRule({endpoint:_,data:w});if(L){const z=u.items.findIndex(h=>h.id===L.id);z===-1?u.items.unshift(L):u.items.splice(z,1,L),Ke(M())}return L}catch(L){throw u.error=(k=L==null?void 0:L.message)!=null?k:"Unknown error",L}finally{u.saving=!1}},x=async w=>{var k;if(!Array.isArray(w)||!w.length)return 0;u.saving=!0,u.error="";try{const L=await r.deleteShippingRules({endpoint:g,ids:w});return L&&(u.items=u.items.filter(z=>!w.includes(z.id)),Ke(M())),L}catch(L){throw u.error=(k=L==null?void 0:L.message)!=null?k:"Unknown error",L}finally{u.saving=!1}};return Rt(()=>{a&&(!Array.isArray(u.items)||!u.items.length)&&P()}),{state:u,loadRules:P,refresh:O,saveRule:A,deleteRules:x,metrics:l.metrics}}function Xk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var A,x,D,Y,j,te,Oe,Ie,Me,U,we;const r=$t({token:t}),l=Wt("logs"),d=(A=e==null?void 0:e.list)!=null?A:"",_=Qe({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(j=(Y=(x=s.pagination)==null?void 0:x.total)!=null?Y:(D=s.items)==null?void 0:D.length)!=null?j:0,limit:(Oe=(te=s.pagination)==null?void 0:te.limit)!=null?Oe:20,pages:(Me=(Ie=s.pagination)==null?void 0:Ie.pages)!=null?Me:0,current:(we=(U=s.pagination)==null?void 0:U.current)!=null?we:1},search:"",entity:"",lastUpdated:null}),f=typeof AbortController!="undefined",g=ze(null),u=()=>{const ke=_.pagination.current||1,H=_.pagination.limit||20,be=_.search.trim(),Se=_.entity.trim();return`logs:page=${ke}:limit=${H}:search=${be}:entity=${Se}`},y=async(ke=!1)=>{var w;if(!d){_.error="Logs endpoint unavailable.",_.items=[];return}const H=u(),be=ke?null:Jt(H,n);if(be){l.recordCacheHit(),_.items=be.items,_.pagination={..._.pagination,...be.pagination},_.lastUpdated=be.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="",f&&g.value&&g.value.abort();const Se=f?new AbortController:null;g.value=Se;const ue=l.startFetch();try{const k=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:L,pagination:z}=await r.fetchLogs({endpoint:d,limit:_.pagination.limit,start:k,search:_.search.trim(),entity:_.entity,signal:Se?Se.signal:void 0});_.items=L,_.pagination={..._.pagination,...z,current:z.current&&z.current>0?z.current:1},_.lastUpdated=new Date().toISOString(),Xt(H,{items:L,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(k){if((k==null?void 0:k.name)==="AbortError")return;_.error=(w=k==null?void 0:k.message)!=null?w:"Unknown error"}finally{l.endFetch(ue),f&&g.value===Se&&(g.value=null),_.loading=!1}},m=()=>{_.pagination.current=1,Ke(u()),y(!0)},M=()=>{_.pagination.current=1,y()},P=ke=>{const H=typeof ke=="string"?ke.trim():"";_.entity!==H&&(_.entity=H,_.pagination.current=1,y())},O=ke=>{const H=Number(ke);Number.isNaN(H)||H<1||H===_.pagination.current||(_.pagination.current=H,y(!0))};return Rt(()=>{a&&(!Array.isArray(_.items)||!_.items.length)&&y()}),{state:_,loadLogs:y,refresh:m,search:M,setEntity:P,goToPage:O,metrics:l.metrics}}const ko=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function Fk({endpoints:e={},token:t=""}){const s=$t({token:t}),a=Qe({loading:!1,saving:!1,error:"",config:ko(),message:""}),n=async()=>{var d,_,f,g;if(e.show){a.loading=!0,a.error="";try{const u=await s.get(e.show);a.config=l((f=(_=(d=u==null?void 0:u.data)==null?void 0:d.config)!=null?_:u==null?void 0:u.config)!=null?f:{})}catch(u){a.error=(g=u.message)!=null?g:"Unable to load payment configuration."}finally{a.loading=!1}}},r=async d=>{var _,f,g,u,y,m,M;if(e.update){a.saving=!0,a.error="",a.message="";try{const P=await s.post(e.update,{config:d});a.config=l((g=(f=(_=P==null?void 0:P.data)==null?void 0:_.config)!=null?f:P==null?void 0:P.config)!=null?g:{}),a.message=(m=(y=(u=P==null?void 0:P.data)==null?void 0:u.message)!=null?y:P==null?void 0:P.message)!=null?m:""}catch(P){a.error=(M=P.message)!=null?M:"Unable to save payment configuration."}finally{a.saving=!1}}},l=d=>{var f,g,u,y;const _=ko();return{stripe:{..._.stripe,...(f=d.stripe)!=null?f:{}},paypal:{..._.paypal,...(g=d.paypal)!=null?g:{}},cod:{..._.cod,...(u=d.cod)!=null?u:{}},bank_transfer:{..._.bank_transfer,...(y=d.bank_transfer)!=null?y:{}}}};return{state:a,refresh:n,save:r}}const Gk={class:"nxp-ec-admin-app__shell"},Vk={class:"nxp-ec-admin-app__header"},Hk={class:"nxp-ec-admin-app__title"},Bk={class:"nxp-ec-admin-app__lead"},Kk={class:"nxp-ec-btn__progress-label"},jk={key:0,class:"nxp-ec-admin-nav"},Jk=["href"],Wk={key:11,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},qk={class:"nxp-ec-admin-panel__body"},zk={class:"nxp-ec-admin-panel__lead"},ds="nxp:admin:onboarding:dismissed",Qk={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var oc,rc,lc,cc,dc,uc,_c,pc,fc,mc,hc,gc,Ec,Cc,Ac,Sc,bc,Tc,yc,Rc,Oc,xc,Nc,vc,Pc,Mc,kc,Ic,wc,$c,Lc,Dc,Uc,Yc,Xc,Fc,Gc,Vc,Hc,Bc,Kc,jc,Jc,Wc,qc,zc,Qc,Zc,ed,td,nd,sd,id,ad,od,rd,ld,cd,dd,ud,_d,pd,fd,md,hd,gd,Ed,Cd,Ad,Sd,bd,Td,yd,Rd,Od,xd,Nd,vd,Pd,Md,kd,Id,wd,$d,Ld,Dd,Ud,Yd,Xd,Fd,Gd,Vd,Hd,Bd,Kd,jd,Jd,Wd,qd,zd,Qd,Zd,eu,tu,nu,su,iu,au,ou,ru,lu,cu,du,uu,_u,pu,fu,mu,hu,gu,Eu,Cu,Au,Su,bu,Tu,yu,Ru,Ou,xu,Nu,vu,Pu,Mu,ku,Iu,wu,$u,Lu,Du,Uu,Yu,Xu,Fu,Gu,Vu,Hu,Bu,Ku,ju,Ju,Wu,qu,zu,Qu,Zu,e_,t_,n_,s_,i_,a_,o_,r_,l_,c_,d_,u_,__,p_,f_,m_,h_,g_,E_,C_,A_,S_,b_,T_,y_,R_,O_,x_,N_,v_,P_,M_,k_,I_,w_,$_,L_,D_,U_,Y_,X_,F_,G_,V_,H_,B_,K_,j_,J_,W_,q_,z_,Q_,Z_,ep,tp,np,sp,ip,ap,op,rp,lp,cp,dp,up,_p,pp,fp,mp;const t=e,{__:s}=vk(t.dataset),a=Ce(()=>{var I;return((I=t.dataset)==null?void 0:I.appTitleKey)||"COM_NXPEASYCART"}),n=Ce(()=>{var I;return((I=t.dataset)==null?void 0:I.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),r=(I,se)=>{if(!I||typeof I!="string")return se;try{return JSON.parse(I)}catch(ve){return se}},l=Ce(()=>{var I,se;return!!((se=(I=Dt==null?void 0:Dt.values)==null?void 0:I.show_advanced_mode)!=null&&se)}),d=Ce(()=>{var se,ve;let I=[];if(Array.isArray((se=t.config)==null?void 0:se.navItems))I=t.config.navItems.map(et=>({id:et.id,title:et.title,link:et.link}));else{const et=r((ve=t.dataset)==null?void 0:ve.navItems,[]);I=Array.isArray(et)?et.map(rt=>({id:rt.id,title:rt.title,link:rt.link})):[]}return l.value||(I=I.filter(et=>et.id!=="logs")),I}),_=I=>{const se=d.value;if(!Array.isArray(se))return"";const ve=se.find(et=>et.id===I);return ve?ve.link:""},f=Ce(()=>{var I,se;return((I=t.config)==null?void 0:I.activeSection)||((se=t.dataset)==null?void 0:se.activeSection)||"dashboard"}),g=Ce(()=>{var I,se;return((I=t.config)==null?void 0:I.settingsTab)||((se=t.dataset)==null?void 0:se.settingsTab)||"general"}),u=I=>f.value===I,y=Ce(()=>{var I,se,ve,et,rt;return Number.parseInt((rt=(et=(se=(I=t.config)==null?void 0:I.user)==null?void 0:se.id)!=null?et:(ve=t.dataset)==null?void 0:ve.userId)!=null?rt:0,10)||0}),m=Ce(()=>u("dashboard")),M=Ce(()=>u("products")),P=Ce(()=>u("categories")||u("products")),O=Ce(()=>u("orders")),A=Ce(()=>u("customers")),x=Ce(()=>u("coupons")),D=Ce(()=>u("settings")),Y=Ce(()=>u("tax")),j=Ce(()=>u("shipping")),te=Ce(()=>u("logs")),Oe={...(rc=(oc=t.endpoints)==null?void 0:oc.products)!=null?rc:{},list:(_c=(uc=(cc=(lc=t.endpoints)==null?void 0:lc.products)==null?void 0:cc.list)!=null?uc:(dc=t.dataset)==null?void 0:dc.productsEndpoint)!=null?_c:"",create:(gc=(hc=(fc=(pc=t.endpoints)==null?void 0:pc.products)==null?void 0:fc.create)!=null?hc:(mc=t.dataset)==null?void 0:mc.productsEndpointCreate)!=null?gc:"",update:(bc=(Sc=(Cc=(Ec=t.endpoints)==null?void 0:Ec.products)==null?void 0:Cc.update)!=null?Sc:(Ac=t.dataset)==null?void 0:Ac.productsEndpointUpdate)!=null?bc:"",delete:(xc=(Oc=(yc=(Tc=t.endpoints)==null?void 0:Tc.products)==null?void 0:yc.delete)!=null?Oc:(Rc=t.dataset)==null?void 0:Rc.productsEndpointDelete)!=null?xc:"",checkout:(kc=(Mc=(vc=(Nc=t.endpoints)==null?void 0:Nc.products)==null?void 0:vc.checkout)!=null?Mc:(Pc=t.dataset)==null?void 0:Pc.productsEndpointCheckout)!=null?kc:"",checkin:(Dc=(Lc=(wc=(Ic=t.endpoints)==null?void 0:Ic.products)==null?void 0:wc.checkin)!=null?Lc:($c=t.dataset)==null?void 0:$c.productsEndpointCheckin)!=null?Dc:""},Ie={...(Yc=(Uc=t.endpoints)==null?void 0:Uc.categories)!=null?Yc:{},list:(Hc=(Vc=(Fc=(Xc=t.endpoints)==null?void 0:Xc.categories)==null?void 0:Fc.list)!=null?Vc:(Gc=t.dataset)==null?void 0:Gc.categoriesEndpoint)!=null?Hc:"",create:(Wc=(Jc=(Kc=(Bc=t.endpoints)==null?void 0:Bc.categories)==null?void 0:Kc.create)!=null?Jc:(jc=t.dataset)==null?void 0:jc.categoriesEndpointCreate)!=null?Wc:"",update:(ed=(Zc=(zc=(qc=t.endpoints)==null?void 0:qc.categories)==null?void 0:zc.update)!=null?Zc:(Qc=t.dataset)==null?void 0:Qc.categoriesEndpointUpdate)!=null?ed:"",delete:(ad=(id=(nd=(td=t.endpoints)==null?void 0:td.categories)==null?void 0:nd.delete)!=null?id:(sd=t.dataset)==null?void 0:sd.categoriesEndpointDelete)!=null?ad:"",checkout:(dd=(cd=(rd=(od=t.endpoints)==null?void 0:od.categories)==null?void 0:rd.checkout)!=null?cd:(ld=t.dataset)==null?void 0:ld.categoriesEndpointCheckout)!=null?dd:"",checkin:(md=(fd=(_d=(ud=t.endpoints)==null?void 0:ud.categories)==null?void 0:_d.checkin)!=null?fd:(pd=t.dataset)==null?void 0:pd.categoriesEndpointCheckin)!=null?md:""},Me={...(gd=(hd=t.endpoints)==null?void 0:hd.orders)!=null?gd:{},list:(bd=(Sd=(Cd=(Ed=t.endpoints)==null?void 0:Ed.orders)==null?void 0:Cd.list)!=null?Sd:(Ad=t.dataset)==null?void 0:Ad.ordersEndpoint)!=null?bd:"",show:(xd=(Od=(yd=(Td=t.endpoints)==null?void 0:Td.orders)==null?void 0:yd.show)!=null?Od:(Rd=t.dataset)==null?void 0:Rd.ordersEndpointShow)!=null?xd:"",transition:(kd=(Md=(vd=(Nd=t.endpoints)==null?void 0:Nd.orders)==null?void 0:vd.transition)!=null?Md:(Pd=t.dataset)==null?void 0:Pd.ordersEndpointTransition)!=null?kd:"",bulkTransition:(Dd=(Ld=(wd=(Id=t.endpoints)==null?void 0:Id.orders)==null?void 0:wd.bulkTransition)!=null?Ld:($d=t.dataset)==null?void 0:$d.ordersEndpointBulk)!=null?Dd:"",note:(Gd=(Fd=(Yd=(Ud=t.endpoints)==null?void 0:Ud.orders)==null?void 0:Yd.note)!=null?Fd:(Xd=t.dataset)==null?void 0:Xd.ordersEndpointNote)!=null?Gd:"",tracking:(jd=(Kd=(Hd=(Vd=t.endpoints)==null?void 0:Vd.orders)==null?void 0:Hd.tracking)!=null?Kd:(Bd=t.dataset)==null?void 0:Bd.ordersEndpointTracking)!=null?jd:"",invoice:(Qd=(zd=(Wd=(Jd=t.endpoints)==null?void 0:Jd.orders)==null?void 0:Wd.invoice)!=null?zd:(qd=t.dataset)==null?void 0:qd.ordersEndpointInvoice)!=null?Qd:"",checkout:(su=(nu=(eu=(Zd=t.endpoints)==null?void 0:Zd.orders)==null?void 0:eu.checkout)!=null?nu:(tu=t.dataset)==null?void 0:tu.ordersEndpointCheckout)!=null?su:"",checkin:(lu=(ru=(au=(iu=t.endpoints)==null?void 0:iu.orders)==null?void 0:au.checkin)!=null?ru:(ou=t.dataset)==null?void 0:ou.ordersEndpointCheckin)!=null?lu:""},U=(fu=(cu=t.endpoints)==null?void 0:cu.customers)!=null?fu:{list:(uu=(du=t.dataset)==null?void 0:du.customersEndpoint)!=null?uu:"",show:(pu=(_u=t.dataset)==null?void 0:_u.customersEndpointShow)!=null?pu:""},we=(yu=(mu=t.endpoints)==null?void 0:mu.coupons)!=null?yu:{list:(gu=(hu=t.dataset)==null?void 0:hu.couponsEndpoint)!=null?gu:"",create:(Cu=(Eu=t.dataset)==null?void 0:Eu.couponsEndpointCreate)!=null?Cu:"",update:(Su=(Au=t.dataset)==null?void 0:Au.couponsEndpointUpdate)!=null?Su:"",delete:(Tu=(bu=t.dataset)==null?void 0:bu.couponsEndpointDelete)!=null?Tu:""},ke=(wu=(Ru=t.endpoints)==null?void 0:Ru.tax)!=null?wu:{list:(xu=(Ou=t.dataset)==null?void 0:Ou.taxEndpoint)!=null?xu:"",create:(vu=(Nu=t.dataset)==null?void 0:Nu.taxEndpointCreate)!=null?vu:"",update:(Mu=(Pu=t.dataset)==null?void 0:Pu.taxEndpointUpdate)!=null?Mu:"",delete:(Iu=(ku=t.dataset)==null?void 0:ku.taxEndpointDelete)!=null?Iu:""},H=(Hu=($u=t.endpoints)==null?void 0:$u.shipping)!=null?Hu:{list:(Du=(Lu=t.dataset)==null?void 0:Lu.shippingEndpoint)!=null?Du:"",create:(Yu=(Uu=t.dataset)==null?void 0:Uu.shippingEndpointCreate)!=null?Yu:"",update:(Fu=(Xu=t.dataset)==null?void 0:Xu.shippingEndpointUpdate)!=null?Fu:"",delete:(Vu=(Gu=t.dataset)==null?void 0:Gu.shippingEndpointDelete)!=null?Vu:""},be=(Qu=(Bu=t.endpoints)==null?void 0:Bu.digitalfiles)!=null?Qu:{list:(ju=(Ku=t.dataset)==null?void 0:Ku.digitalfilesEndpointList)!=null?ju:"",upload:(Wu=(Ju=t.dataset)==null?void 0:Ju.digitalfilesEndpointUpload)!=null?Wu:"",delete:(zu=(qu=t.dataset)==null?void 0:qu.digitalfilesEndpointDelete)!=null?zu:""},Se=(i_=(Zu=t.endpoints)==null?void 0:Zu.settings)!=null?i_:{show:(t_=(e_=t.dataset)==null?void 0:e_.settingsEndpointShow)!=null?t_:"",update:(s_=(n_=t.dataset)==null?void 0:n_.settingsEndpointUpdate)!=null?s_:""},ue=(l_=(a_=t.endpoints)==null?void 0:a_.logs)!=null?l_:{list:(r_=(o_=t.dataset)==null?void 0:o_.logsEndpoint)!=null?r_:""},w=(f_=(c_=t.endpoints)==null?void 0:c_.payments)!=null?f_:{show:(u_=(d_=t.dataset)==null?void 0:d_.paymentsEndpointShow)!=null?u_:"",update:(p_=(__=t.dataset)==null?void 0:__.paymentsEndpointUpdate)!=null?p_:""},k=Ce(()=>{var I;return r((I=t.dataset)==null?void 0:I.orderStates,[])}),{state:L,refresh:z}=wk({endpoint:(S_=(A_=(E_=(m_=t.endpoints)==null?void 0:m_.dashboard)!=null?E_:(g_=(h_=t.config)==null?void 0:h_.endpoints)==null?void 0:g_.dashboard)!=null?A_:(C_=t.dataset)==null?void 0:C_.dashboardEndpoint)!=null?S_:"",token:t.csrfToken,preload:(O_=(T_=(b_=t.config)==null?void 0:b_.preload)==null?void 0:T_.dashboard)!=null?O_:{summary:r((y_=t.dataset)==null?void 0:y_.dashboardSummary,{}),checklist:r((R_=t.dataset)==null?void 0:R_.dashboardChecklist,[])},autoload:m.value}),{state:h,refresh:C,search:E,createProduct:q,updateProduct:ae,deleteProducts:ye,checkoutProduct:xe,checkinProduct:K,forceCheckinProduct:fe,metrics:Ne}=Mk({endpoints:Oe,token:t.csrfToken,autoload:M.value}),{state:He,refresh:S,search:v,goToPage:G,saveCategory:Q,deleteCategories:J,loadOptions:ee,checkoutCategory:me,checkinCategory:le,forceCheckinCategory:oe,metrics:Z}=kk({endpoints:Ie,token:t.csrfToken,preload:(M_=(N_=(x_=t.config)==null?void 0:x_.preload)==null?void 0:N_.categories)!=null?M_:{items:r((v_=t.dataset)==null?void 0:v_.categoriesPreload,[]),pagination:r((P_=t.dataset)==null?void 0:P_.categoriesPreloadPagination,{})},autoload:P.value}),Ae=Ce(()=>(Array.isArray(He.items)?He.items:[]).map(se=>{var ve,et,rt;return{id:Number.parseInt((ve=se==null?void 0:se.id)!=null?ve:0,10)||0,title:String((et=se==null?void 0:se.title)!=null?et:"").trim(),slug:String((rt=se==null?void 0:se.slug)!=null?rt:"").trim(),parent_id:(se==null?void 0:se.parent_id)!==null&&(se==null?void 0:se.parent_id)!==void 0&&Number.parseInt(se.parent_id,10)||null}}).filter(se=>se.title!=="")),{state:ce,refresh:ge,search:Te,setFilterState:$e,viewOrder:N,closeOrder:$,forceCheckinOrder:_e,releaseLock:pe,transitionOrder:F,goToPage:Le,bulkTransition:We,toggleSelection:Xe,clearSelection:Ge,addNote:Ze,updateTracking:de,downloadInvoice:Re,exportOrders:T,sendEmail:p,recordTransaction:V,resendDownloads:re,resetDownload:Ee,metrics:X}=Ik({endpoints:Me,token:t.csrfToken,states:k.value,preload:(L_=(I_=(k_=t.config)==null?void 0:k_.preload)==null?void 0:I_.orders)!=null?L_:{items:r((w_=t.dataset)==null?void 0:w_.ordersPreload,[]),pagination:r(($_=t.dataset)==null?void 0:$_.ordersPreloadPagination,{})},autoload:O.value}),{state:ne,refresh:B,search:Ve,goToPage:je,viewCustomer:at,closeCustomer:Pt,gdprExport:Lt,gdprAnonymise:Mt}=$k({endpoints:{...U,gdpr:(U_=(D_=t.endpoints)==null?void 0:D_.gdpr)!=null?U_:{}},token:t.csrfToken,preload:(V_=(X_=(Y_=t.config)==null?void 0:Y_.preload)==null?void 0:X_.customers)!=null?V_:{items:r((F_=t.dataset)==null?void 0:F_.customersPreload,[]),pagination:r((G_=t.dataset)==null?void 0:G_.customersPreloadPagination,{})},autoload:A.value}),{state:Un,refresh:Et,search:Tt,goToPage:on,saveCoupon:qt,deleteCoupons:En}=Lk({endpoints:(B_=(H_=t.endpoints)==null?void 0:H_.coupons)!=null?B_:we,token:t.csrfToken,preload:(q_=(j_=(K_=t.config)==null?void 0:K_.preload)==null?void 0:j_.coupons)!=null?q_:{items:r((J_=t.dataset)==null?void 0:J_.couponsPreload,[]),pagination:r((W_=t.dataset)==null?void 0:W_.couponsPreloadPagination,{})},autoload:x.value}),Cn=(ep=(Q_=(z_=t.config)==null?void 0:z_.preload)==null?void 0:Q_.settings)!=null?ep:r((Z_=t.dataset)==null?void 0:Z_.settingsPreload,{}),{state:Dt,refresh:An,save:Hs}=Dk({endpoints:Se,token:t.csrfToken,preload:Cn,autoload:D.value}),Bs=Ce(()=>{var se,ve;const I=(ve=(se=t.dataset)==null?void 0:se.baseCurrency)!=null?ve:"";return typeof I=="string"?I.trim().toUpperCase():""}),Ii=Ce(()=>{var se,ve;const I=(ve=(se=Dt==null?void 0:Dt.values)==null?void 0:se.base_currency)!=null?ve:"";return typeof I=="string"?I.trim().toUpperCase():""}),Sn=Ce(()=>{const I=Ii.value||Bs.value;return I!==""?I:"USD"}),Zk=Ce(()=>{var se,ve;const I=(ve=(se=t.dataset)==null?void 0:se.mediaModalUrl)!=null?ve:"";return typeof I=="string"?I.trim():""}),eI=Ce(()=>{var se,ve,et,rt,yt;const I=(rt=(et=(se=t.config)==null?void 0:se.siteRoot)!=null?et:(ve=t.dataset)==null?void 0:ve.siteRoot)!=null?rt:"";return typeof I=="string"&&I.trim()!==""?I.trim():typeof window!="undefined"&&((yt=window.location)!=null&&yt.origin)?window.location.origin:""}),tI=I=>{switch(I){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:_("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_PUBLISH_CART_MODULE":return{id:"publish-cart-module",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_DESC",titleFallback:"Publish the cart module",descriptionFallback:"Add the cart module to a template position so customers can see their shopping cart.",link:"index.php?option=com_modules&filter[module]=mod_nxpeasycart_cart"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:_("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:_("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:_("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:_("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:I||"step",titleKey:I||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:I||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:_("dashboard")||""}}},wi=Ce(()=>(Array.isArray(L.checklist)?L.checklist:[]).map(se=>{const ve=tI(se.label);return{id:ve.id,completed:!!se.completed,link:se.link||ve.link||"",label:se.label,titleKey:ve.titleKey,descriptionKey:ve.descriptionKey,titleFallback:ve.titleFallback,descriptionFallback:ve.descriptionFallback}})),$i=Ce(()=>wi.value.some(I=>!I.completed)),sc=Ce(()=>{const I=wi.value;if(!I.length)return{completed:0,total:0,percent:0};const se=I.filter(ve=>ve.completed).length;return{completed:se,total:I.length,percent:Math.round(se/I.length*100)}}),nI=Ce(()=>{const{completed:I,total:se}=sc.value;return`${I}/${se}`}),sI=Ce(()=>{const{percent:I}=sc.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${I}%, #e9ecef ${I}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:I>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),us=ze(!1),iI=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(ds,"0")}catch(I){}us.value=!0},ic=()=>{if(us.value=!1,typeof window!="undefined")try{window.localStorage.setItem(ds,"1")}catch(I){}},aI=I=>{I&&typeof I.link=="string"&&I.link!==""&&(ic(),typeof window!="undefined"&&(window.location.href=I.link))};it($i,I=>{if(!I&&(us.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(ds,"1")}catch(se){}});const oI=(ap=(np=(tp=t.config)==null?void 0:tp.preload)==null?void 0:np.tax)!=null?ap:{items:r((sp=t.dataset)==null?void 0:sp.taxPreload,[]),pagination:r((ip=t.dataset)==null?void 0:ip.taxPreloadPagination,{})},{state:rI,refresh:_s,saveRate:lI,deleteRates:cI}=Uk({endpoints:ke,token:t.csrfToken,preload:oI,autoload:Y.value||D.value}),dI=(dp=(rp=(op=t.config)==null?void 0:op.preload)==null?void 0:rp.shipping)!=null?dp:{items:r((lp=t.dataset)==null?void 0:lp.shippingPreload,[]),pagination:r((cp=t.dataset)==null?void 0:cp.shippingPreloadPagination,{})},{state:uI,refresh:ps,saveRule:_I,deleteRules:pI}=Yk({endpoints:H,token:t.csrfToken,preload:dI,autoload:j.value||D.value}),fI=(mp=(_p=(up=t.config)==null?void 0:up.preload)==null?void 0:_p.logs)!=null?mp:{items:r((pp=t.dataset)==null?void 0:pp.logsPreload,[]),pagination:r((fp=t.dataset)==null?void 0:fp.logsPreloadPagination,{})},{state:mI,refresh:ac,search:hI,setEntity:gI,goToPage:EI}=Xk({endpoints:ue,token:t.csrfToken,preload:fI,autoload:te.value}),{state:CI,refresh:Li,save:AI}=Fk({endpoints:w,token:t.csrfToken});it(f,(I,se)=>{switch(se==="orders"&&I!=="orders"&&($(),pe==null||pe()),I){case"dashboard":z();break;case"products":C(),S();break;case"categories":S();break;case"orders":ge();break;case"customers":B();break;case"coupons":Et();break;case"tax":_s();break;case"shipping":ps();break;case"settings":An(),_s(),ps(),Li();break;case"logs":ac();break}}),Rt(()=>{if(typeof window!="undefined"){const I=()=>({products:Ne.value,categories:Z.value,orders:X.value,cache:Po()}),se=()=>{const ve=I();return console.group("[NXP Easy Cart] Performance Metrics"),console.table({Products:ve.products,Categories:ve.categories,Orders:ve.orders}),console.log("Cache Status:",ve.cache),console.groupEnd(),ve};window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset,getMetrics:I,logMetrics:se,clearCache:Ke,getCacheStatus:Po};try{const ve=window.localStorage.getItem(ds);$i.value?ve!=="1"&&(us.value=!0):window.localStorage.setItem(ds,"1")}catch(ve){}}D.value&&Li()});const SI=()=>{C()},bI=()=>{E()},TI=async I=>{try{await q(I),C(),S(),Ke("dashboard"),z(!0)}catch(se){}},yI=async({id:I,data:se})=>{try{await ae(I,se),C(),S()}catch(ve){}},RI=async I=>{try{await ye(I),C(),S()}catch(se){}},OI=()=>{S()},xI=()=>{v()},NI=I=>{G(I)},vI=async I=>{try{await Q(I),S()}catch(se){}},PI=async I=>{try{await J(I),S()}catch(se){}},MI=()=>{z()},kI=()=>{ge()},II=()=>{Te()},wI=I=>{$e(I)},$I=I=>{N(I)},LI=()=>{$()},DI=async({id:I,state:se})=>{try{await F(I,se)}catch(ve){}},UI=I=>{Le(I)},YI=async({ids:I,state:se})=>{try{await We(I,se)}catch(ve){}},XI=I=>{Xe(I)},FI=()=>{Ge()},GI=async({id:I,message:se})=>{await Ze(I,se)},VI=async I=>{if(!(I!=null&&I.id))return;const{id:se,...ve}=I;try{await de(se,ve)}catch(et){}},HI=async I=>{!(I!=null&&I.id)||!(I!=null&&I.type)||await p(I.id,I.type)},BI=async I=>{if(I!=null&&I.id)try{await V(I.id,{amountCents:I.amountCents,reference:I.reference,note:I.note})}catch(se){}},KI=async I=>{if(I!=null&&I.id)try{await re(I.id)}catch(se){}},jI=async I=>{if(I!=null&&I.download_id)try{await Ee(I.download_id,I.order_id)}catch(se){}},JI=async I=>{if(!I)return;const se=await Re(I);if(!(se!=null&&se.content))return;const ve=atob(se.content),et=new Uint8Array(ve.length);for(let bn=0;bn<ve.length;bn+=1)et[bn]=ve.charCodeAt(bn);const rt=new Blob([et],{type:"application/pdf"}),yt=window.URL.createObjectURL(rt),kt=document.createElement("a");kt.href=yt,kt.download=se.filename||"invoice.pdf",document.body.appendChild(kt),kt.click(),document.body.removeChild(kt),setTimeout(()=>window.URL.revokeObjectURL(yt),1e3)},WI=async()=>{const I=await T();if(!(I!=null&&I.content))return;const se=atob(I.content),ve=new Uint8Array(se.length);for(let kt=0;kt<se.length;kt+=1)ve[kt]=se.charCodeAt(kt);const et=new Blob([ve],{type:"text/csv;charset=utf-8"}),rt=window.URL.createObjectURL(et),yt=document.createElement("a");yt.href=rt,yt.download=I.filename||"orders-export.csv",document.body.appendChild(yt),yt.click(),document.body.removeChild(yt),setTimeout(()=>window.URL.revokeObjectURL(rt),1e3)},qI=()=>{B()},zI=()=>{Ve()},QI=I=>{je(I)},ZI=I=>{at(I)},e0=()=>{Pt()},t0=I=>{Lt(I)},n0=I=>{Mt(I)},s0=()=>{Et()},i0=()=>{Tt()},a0=I=>{on(I)},o0=async I=>{try{await qt(I)}catch(se){}},r0=async I=>{try{await En(I)}catch(se){}},l0=()=>{An(!0)},c0=async I=>{try{await Hs(I),Ke("dashboard"),z(!0)}catch(se){}},d0=()=>{_s()},u0=async I=>{try{await lI(I),_s()}catch(se){}},_0=async I=>{try{await cI(I),_s()}catch(se){}},p0=()=>{ps()},f0=async I=>{try{await _I(I),ps()}catch(se){}},m0=async I=>{try{await pI(I),ps()}catch(se){}},h0=()=>{ac()},g0=()=>{hI()},E0=I=>{gI(I)},C0=I=>{EI(I)},A0=()=>{Li()},S0=async I=>{await AI(I),Ke("dashboard"),z(!0)};return(I,se)=>(b(),At(qm,null,{default:Sa(()=>{var ve,et,rt,yt,kt,bn;return[i("section",Gk,[i("header",Vk,[i("div",null,[i("h1",Hk,c(o(s)(a.value,(et=(ve=t.dataset)==null?void 0:ve.appTitle)!=null?et:"NXP Easy Cart",[],"appTitle")),1),i("p",Bk,c(o(s)(n.value,(yt=(rt=t.dataset)==null?void 0:rt.appLead)!=null?yt:"Manage your storefront from one place.",[],"appLead")),1)]),W(i("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:zt(sI.value),onClick:iI},[Ue(c(o(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),i("span",Kk,c(nI.value),1)],4),[[wn,$i.value]])]),d.value.length?(b(),R("nav",jk,[(b(!0),R(Pe,null,Fe(d.value,Ks=>(b(),R("a",{key:Ks.id,href:Ks.link,class:Be({"is-active":Ks.id===f.value})},c(Ks.title),11,Jk))),128))])):ie("",!0),f.value==="dashboard"?(b(),At(vh,{key:1,state:o(L),translate:o(s),onRefresh:MI},null,8,["state","translate"])):f.value==="products"?(b(),At(fA,{key:2,state:o(h),translate:o(s),"base-currency":Sn.value,"category-options":Ae.value,"media-modal-url":Zk.value,"digital-endpoints":o(be),"csrf-token":t.csrfToken,"checkout-product":o(xe),"checkin-product":o(K),"force-checkin-product":o(fe),"current-user-id":y.value,onCreate:TI,onUpdate:yI,onDelete:RI,onRefresh:SI,onSearch:bI},null,8,["state","translate","base-currency","category-options","media-modal-url","digital-endpoints","csrf-token","checkout-product","checkin-product","force-checkin-product","current-user-id"])):f.value==="categories"?(b(),At(hS,{key:3,state:o(He),translate:o(s),"load-options":o(ee),"checkout-category":o(me),"checkin-category":o(le),"force-checkin-category":o(oe),"current-user-id":y.value,onRefresh:OI,onSearch:xI,onPage:NI,onSave:vI,onDelete:PI},null,8,["state","translate","load-options","checkout-category","checkin-category","force-checkin-category","current-user-id"])):f.value==="orders"?(b(),At(JT,{key:4,state:o(ce),translate:o(s),"site-root":eI.value,"current-user-id":y.value,"force-checkin-order":o(_e),onRefresh:kI,onSearch:II,onFilter:wI,onView:$I,onClose:LI,onTransition:DI,onPage:UI,onBulkTransition:YI,onToggleSelection:XI,onClearSelection:FI,onAddNote:GI,onSaveTracking:VI,onSendEmail:HI,onRecordPayment:BI,onResendDownloads:KI,onResetDownload:jI,onInvoice:JI,onExport:WI},null,8,["state","translate","site-root","current-user-id","force-checkin-order"])):f.value==="customers"?(b(),At(qy,{key:5,state:o(ne),translate:o(s),"base-currency":Sn.value,onRefresh:qI,onSearch:zI,onPage:QI,onView:ZI,onClose:e0,onGdprExport:t0,onGdprAnonymise:n0},null,8,["state","translate","base-currency"])):f.value==="coupons"?(b(),At(pO,{key:6,state:o(Un),translate:o(s),"base-currency":Sn.value,onRefresh:s0,onSearch:i0,onPage:a0,onSave:o0,onDelete:r0},null,8,["state","translate","base-currency"])):f.value==="tax"?(b(),At(mP,{key:7,state:o(rI),translate:o(s),onRefresh:d0,onSave:u0,onDelete:_0},null,8,["state","translate"])):f.value==="shipping"?(b(),At(xM,{key:8,state:o(uI),translate:o(s),"base-currency":Sn.value,onRefresh:p0,onSave:f0,onDelete:m0},null,8,["state","translate","base-currency"])):f.value==="settings"?(b(),At(ov,{key:9,"settings-state":o(Dt),"payments-state":o(CI),translate:o(s),"base-currency":Sn.value,"initial-tab":g.value,onRefreshSettings:l0,onSaveSettings:c0,onRefreshPayments:A0,onSavePayments:S0},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):f.value==="logs"&&l.value?(b(),At(dk,{key:10,state:o(mI),translate:o(s),onRefresh:h0,onSearch:g0,onFilter:E0,onPage:C0},null,8,["state","translate"])):(b(),R("div",Wk,[i("div",qk,[i("p",zk,c(o(s)(n.value,(bn=(kt=t.dataset)==null?void 0:kt.appLead)!=null?bn:"This section will be available soon.",[],"appLead")),1)])]))]),lt(Ok,{visible:us.value,steps:wi.value,translate:o(s),onClose:ic,onNavigate:aI},null,8,["visible","steps","translate"])]}),_:1}))}},Vs=document.getElementById("nxp-ec-admin-app");if(!Vs)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(Io=Vs.getAttribute("data-csrf-token"))!=null?Io:"",t=Object.assign({},Vs.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(M){console.warn("[NXP Easy Cart] Failed to parse admin config payload",M)}const a={...($o=(wo=s==null?void 0:s.endpoints)==null?void 0:wo.products)!=null?$o:{},list:(Yo=(Uo=(Do=(Lo=s==null?void 0:s.endpoints)==null?void 0:Lo.products)==null?void 0:Do.list)!=null?Uo:t.productsEndpoint)!=null?Yo:"",create:(Vo=(Go=(Fo=(Xo=s==null?void 0:s.endpoints)==null?void 0:Xo.products)==null?void 0:Fo.create)!=null?Go:t.productsEndpointCreate)!=null?Vo:"",update:(jo=(Ko=(Bo=(Ho=s==null?void 0:s.endpoints)==null?void 0:Ho.products)==null?void 0:Bo.update)!=null?Ko:t.productsEndpointUpdate)!=null?jo:"",delete:(zo=(qo=(Wo=(Jo=s==null?void 0:s.endpoints)==null?void 0:Jo.products)==null?void 0:Wo.delete)!=null?qo:t.productsEndpointDelete)!=null?zo:"",checkout:(tr=(er=(Zo=(Qo=s==null?void 0:s.endpoints)==null?void 0:Qo.products)==null?void 0:Zo.checkout)!=null?er:t.productsEndpointCheckout)!=null?tr:"",checkin:(ar=(ir=(sr=(nr=s==null?void 0:s.endpoints)==null?void 0:nr.products)==null?void 0:sr.checkin)!=null?ir:t.productsEndpointCheckin)!=null?ar:""},n={...(rr=(or=s==null?void 0:s.endpoints)==null?void 0:or.categories)!=null?rr:{},list:(ur=(dr=(cr=(lr=s==null?void 0:s.endpoints)==null?void 0:lr.categories)==null?void 0:cr.list)!=null?dr:t.categoriesEndpoint)!=null?ur:"",create:(mr=(fr=(pr=(_r=s==null?void 0:s.endpoints)==null?void 0:_r.categories)==null?void 0:pr.create)!=null?fr:t.categoriesEndpointCreate)!=null?mr:"",update:(Cr=(Er=(gr=(hr=s==null?void 0:s.endpoints)==null?void 0:hr.categories)==null?void 0:gr.update)!=null?Er:t.categoriesEndpointUpdate)!=null?Cr:"",delete:(Tr=(br=(Sr=(Ar=s==null?void 0:s.endpoints)==null?void 0:Ar.categories)==null?void 0:Sr.delete)!=null?br:t.categoriesEndpointDelete)!=null?Tr:"",checkout:(xr=(Or=(Rr=(yr=s==null?void 0:s.endpoints)==null?void 0:yr.categories)==null?void 0:Rr.checkout)!=null?Or:t.categoriesEndpointCheckout)!=null?xr:"",checkin:(Mr=(Pr=(vr=(Nr=s==null?void 0:s.endpoints)==null?void 0:Nr.categories)==null?void 0:vr.checkin)!=null?Pr:t.categoriesEndpointCheckin)!=null?Mr:""},r={...(Ir=(kr=s==null?void 0:s.endpoints)==null?void 0:kr.orders)!=null?Ir:{},list:(Dr=(Lr=($r=(wr=s==null?void 0:s.endpoints)==null?void 0:wr.orders)==null?void 0:$r.list)!=null?Lr:t.ordersEndpoint)!=null?Dr:"",show:(Fr=(Xr=(Yr=(Ur=s==null?void 0:s.endpoints)==null?void 0:Ur.orders)==null?void 0:Yr.show)!=null?Xr:t.ordersEndpointShow)!=null?Fr:"",transition:(Br=(Hr=(Vr=(Gr=s==null?void 0:s.endpoints)==null?void 0:Gr.orders)==null?void 0:Vr.transition)!=null?Hr:t.ordersEndpointTransition)!=null?Br:"",bulkTransition:(Wr=(Jr=(jr=(Kr=s==null?void 0:s.endpoints)==null?void 0:Kr.orders)==null?void 0:jr.bulkTransition)!=null?Jr:t.ordersEndpointBulk)!=null?Wr:"",note:(Zr=(Qr=(zr=(qr=s==null?void 0:s.endpoints)==null?void 0:qr.orders)==null?void 0:zr.note)!=null?Qr:t.ordersEndpointNote)!=null?Zr:"",tracking:(sl=(nl=(tl=(el=s==null?void 0:s.endpoints)==null?void 0:el.orders)==null?void 0:tl.tracking)!=null?nl:t.ordersEndpointTracking)!=null?sl:"",invoice:(rl=(ol=(al=(il=s==null?void 0:s.endpoints)==null?void 0:il.orders)==null?void 0:al.invoice)!=null?ol:t.ordersEndpointInvoice)!=null?rl:"",checkout:(ul=(dl=(cl=(ll=s==null?void 0:s.endpoints)==null?void 0:ll.orders)==null?void 0:cl.checkout)!=null?dl:t.ordersEndpointCheckout)!=null?ul:"",checkin:(ml=(fl=(pl=(_l=s==null?void 0:s.endpoints)==null?void 0:_l.orders)==null?void 0:pl.checkin)!=null?fl:t.ordersEndpointCheckin)!=null?ml:""},l=(Cl=(hl=s==null?void 0:s.endpoints)==null?void 0:hl.customers)!=null?Cl:{list:(gl=t.customersEndpoint)!=null?gl:"",show:(El=t.customersEndpointShow)!=null?El:""},d=(Tl=(Al=s==null?void 0:s.endpoints)==null?void 0:Al.gdpr)!=null?Tl:{export:(Sl=t.gdprEndpointExport)!=null?Sl:"",anonymise:(bl=t.gdprEndpointAnonymise)!=null?bl:""},_=(vl=(yl=s==null?void 0:s.endpoints)==null?void 0:yl.coupons)!=null?vl:{list:(Rl=t.couponsEndpoint)!=null?Rl:"",create:(Ol=t.couponsEndpointCreate)!=null?Ol:"",update:(xl=t.couponsEndpointUpdate)!=null?xl:"",delete:(Nl=t.couponsEndpointDelete)!=null?Nl:""},f=($l=(Pl=s==null?void 0:s.endpoints)==null?void 0:Pl.tax)!=null?$l:{list:(Ml=t.taxEndpoint)!=null?Ml:"",create:(kl=t.taxEndpointCreate)!=null?kl:"",update:(Il=t.taxEndpointUpdate)!=null?Il:"",delete:(wl=t.taxEndpointDelete)!=null?wl:""},g=(Fl=(Ll=s==null?void 0:s.endpoints)==null?void 0:Ll.shipping)!=null?Fl:{list:(Dl=t.shippingEndpoint)!=null?Dl:"",create:(Ul=t.shippingEndpointCreate)!=null?Ul:"",update:(Yl=t.shippingEndpointUpdate)!=null?Yl:"",delete:(Xl=t.shippingEndpointDelete)!=null?Xl:""},u=(Kl=(Gl=s==null?void 0:s.endpoints)==null?void 0:Gl.digitalfiles)!=null?Kl:{list:(Vl=t.digitalfilesEndpointList)!=null?Vl:"",upload:(Hl=t.digitalfilesEndpointUpload)!=null?Hl:"",delete:(Bl=t.digitalfilesEndpointDelete)!=null?Bl:""},y=(ql=(jl=s==null?void 0:s.endpoints)==null?void 0:jl.settings)!=null?ql:{show:(Jl=t.settingsEndpointShow)!=null?Jl:"",update:(Wl=t.settingsEndpointUpdate)!=null?Wl:""},m=(Zl=(zl=s==null?void 0:s.endpoints)==null?void 0:zl.logs)!=null?Zl:{list:(Ql=t.logsEndpoint)!=null?Ql:""};Gm(Qk,{csrfToken:e,dataset:t,config:s,endpoints:{products:a,categories:n,orders:r,customers:l,gdpr:d,coupons:_,tax:f,shipping:g,digitalfiles:u,settings:y,logs:m,dashboard:(nc=(tc=(ec=s==null?void 0:s.endpoints)==null?void 0:ec.dashboard)!=null?tc:t.dashboardEndpoint)!=null?nc:""}}).mount(Vs)}})();
