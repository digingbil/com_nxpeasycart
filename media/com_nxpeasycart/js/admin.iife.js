(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Mo,ko,Io,wo,$o,Do,Lo,Uo,Yo,Xo,Go,Fo,Vo,Ho,Bo,Ko,jo,Jo,Wo,qo,zo,Qo,Zo,er,tr,nr,sr,ir,ar,or,rr,lr,cr,dr,ur,_r,pr,fr,mr,hr,gr,Er,Cr,Ar,Sr,br,Tr,yr,Rr,Or,xr,Nr,vr,Pr,Mr,kr,Ir,wr,$r,Dr,Lr,Ur,Yr,Xr,Gr,Fr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,al,ol,rl,ll,cl,dl,ul,_l,pl,fl,ml,hl,gl,El,Cl,Al,Sl,bl,Tl,yl,Rl,Ol,xl,Nl,vl,Pl,Ml,kl,Il,wl,$l,Dl,Ll,Ul,Yl,Xl,Gl,Fl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec;function Bs(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Qe={},hn=[],Lt=()=>{},$i=()=>!1,ds=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ks=e=>e.startsWith("onUpdate:"),_t=Object.assign,js=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},fp=Object.prototype.hasOwnProperty,Je=(e,t)=>fp.call(e,t),we=Array.isArray,gn=e=>wn(e)==="[object Map]",En=e=>wn(e)==="[object Set]",Di=e=>wn(e)==="[object Date]",Le=e=>typeof e=="function",st=e=>typeof e=="string",kt=e=>typeof e=="symbol",Ze=e=>e!==null&&typeof e=="object",Li=e=>(Ze(e)||Le(e))&&Le(e.then)&&Le(e.catch),Ui=Object.prototype.toString,wn=e=>Ui.call(e),mp=e=>wn(e).slice(8,-1),Yi=e=>wn(e)==="[object Object]",Js=e=>st(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$n=Bs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),us=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},hp=/-\w/g,tn=us(e=>e.replace(hp,t=>t.slice(1).toUpperCase())),gp=/\B([A-Z])/g,nn=us(e=>e.replace(gp,"-$1").toLowerCase()),Xi=us(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ws=us(e=>e?`on${Xi(e)}`:""),sn=(e,t)=>!Object.is(e,t),_s=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Gi=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},ps=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Fi;const fs=()=>Fi||(Fi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function jt(e){if(we(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=st(a)?Sp(a):jt(a);if(n)for(const r in n)t[r]=n[r]}return t}else if(st(e)||Ze(e))return e}const Ep=/;(?![^(]*\))/g,Cp=/:([^]+)/,Ap=/\/\*[^]*?\*\//g;function Sp(e){const t={};return e.replace(Ap,"").split(Ep).forEach(s=>{if(s){const a=s.split(Cp);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function He(e){let t="";if(st(e))t=e;else if(we(e))for(let s=0;s<e.length;s++){const a=He(e[s]);a&&(t+=a+" ")}else if(Ze(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const bp=Bs("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Vi(e){return!!e||e===""}function Tp(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=Dn(e[a],t[a]);return s}function Dn(e,t){if(e===t)return!0;let s=Di(e),a=Di(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=kt(e),a=kt(t),s||a)return e===t;if(s=we(e),a=we(t),s||a)return s&&a?Tp(e,t):!1;if(s=Ze(e),a=Ze(t),s||a){if(!s||!a)return!1;const n=Object.keys(e).length,r=Object.keys(t).length;if(n!==r)return!1;for(const l in e){const d=e.hasOwnProperty(l),_=t.hasOwnProperty(l);if(d&&!_||!d&&_||!Dn(e[l],t[l]))return!1}}return String(e)===String(t)}function qs(e,t){return e.findIndex(s=>Dn(s,t))}const Hi=e=>!!(e&&e.__v_isRef===!0),c=e=>st(e)?e:e==null?"":we(e)||Ze(e)&&(e.toString===Ui||!Le(e.toString))?Hi(e)?c(e.value):JSON.stringify(e,Bi,2):String(e),Bi=(e,t)=>Hi(t)?Bi(e,t.value):gn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],r)=>(s[zs(a,r)+" =>"]=n,s),{})}:En(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>zs(s))}:kt(t)?zs(t):Ze(t)&&!we(t)&&!Yi(t)?String(t):t,zs=(e,t="")=>{var s;return kt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ht;class yp{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ht,!t&&ht&&(this.index=(ht.scopes||(ht.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=ht;try{return ht=this,t()}finally{ht=s}}}on(){++this._on===1&&(this.prevScope=ht,ht=this)}off(){this._on>0&&--this._on===0&&(ht=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Rp(){return ht}let et;const Qs=new WeakSet;class Ki{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ht&&ht.active&&ht.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Qs.has(this)&&(Qs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ji(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Zi(this),Wi(this);const t=et,s=It;et=this,It=!0;try{return this.fn()}finally{qi(this),et=t,It=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ni(t);this.deps=this.depsTail=void 0,Zi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Qs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ti(this)&&this.run()}get dirty(){return ti(this)}}let ji=0,Ln,Un;function Ji(e,t=!1){if(e.flags|=8,t){e.next=Un,Un=e;return}e.next=Ln,Ln=e}function Zs(){ji++}function ei(){if(--ji>0)return;if(Un){let t=Un;for(Un=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ln;){let t=Ln;for(Ln=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function Wi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function qi(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),ni(a),Op(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function ti(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(zi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function zi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Yn)||(e.globalVersion=Yn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ti(e))))return;e.flags|=2;const t=e.dep,s=et,a=It;et=e,It=!0;try{Wi(e);const n=e.fn(e._value);(t.version===0||sn(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{et=s,It=a,qi(e),e.flags&=-3}}function ni(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)ni(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Op(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let It=!0;const Qi=[];function Ut(){Qi.push(It),It=!1}function Yt(){const e=Qi.pop();It=e===void 0?!0:e}function Zi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=et;et=void 0;try{t()}finally{et=s}}}let Yn=0;class xp{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class si{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!et||!It||et===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==et)s=this.activeLink=new xp(et,this),et.deps?(s.prevDep=et.depsTail,et.depsTail.nextDep=s,et.depsTail=s):et.deps=et.depsTail=s,ea(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=et.depsTail,s.nextDep=void 0,et.depsTail.nextDep=s,et.depsTail=s,et.deps===s&&(et.deps=a)}return s}trigger(t){this.version++,Yn++,this.notify(t)}notify(t){Zs();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ei()}}}function ea(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)ea(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ii=new WeakMap,cn=Symbol(""),ai=Symbol(""),Xn=Symbol("");function ct(e,t,s){if(It&&et){let a=ii.get(e);a||ii.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new si),n.map=a,n.key=s),n.track()}}function Jt(e,t,s,a,n,r){const l=ii.get(e);if(!l){Yn++;return}const d=_=>{_&&_.trigger()};if(Zs(),t==="clear")l.forEach(d);else{const _=we(e),f=_&&Js(s);if(_&&s==="length"){const g=Number(a);l.forEach((u,T)=>{(T==="length"||T===Xn||!kt(T)&&T>=g)&&d(u)})}else switch((s!==void 0||l.has(void 0))&&d(l.get(s)),f&&d(l.get(Xn)),t){case"add":_?f&&d(l.get("length")):(d(l.get(cn)),gn(e)&&d(l.get(ai)));break;case"delete":_||(d(l.get(cn)),gn(e)&&d(l.get(ai)));break;case"set":gn(e)&&d(l.get(cn));break}}ei()}function Cn(e){const t=Ke(e);return t===e?t:(ct(t,"iterate",Xn),vt(e)?t:t.map(rt))}function ms(e){return ct(e=Ke(e),"iterate",Xn),e}const Np={__proto__:null,[Symbol.iterator](){return oi(this,Symbol.iterator,rt)},concat(...e){return Cn(this).concat(...e.map(t=>we(t)?Cn(t):t))},entries(){return oi(this,"entries",e=>(e[1]=rt(e[1]),e))},every(e,t){return Wt(this,"every",e,t,void 0,arguments)},filter(e,t){return Wt(this,"filter",e,t,s=>s.map(rt),arguments)},find(e,t){return Wt(this,"find",e,t,rt,arguments)},findIndex(e,t){return Wt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Wt(this,"findLast",e,t,rt,arguments)},findLastIndex(e,t){return Wt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Wt(this,"forEach",e,t,void 0,arguments)},includes(...e){return ri(this,"includes",e)},indexOf(...e){return ri(this,"indexOf",e)},join(e){return Cn(this).join(e)},lastIndexOf(...e){return ri(this,"lastIndexOf",e)},map(e,t){return Wt(this,"map",e,t,void 0,arguments)},pop(){return Gn(this,"pop")},push(...e){return Gn(this,"push",e)},reduce(e,...t){return ta(this,"reduce",e,t)},reduceRight(e,...t){return ta(this,"reduceRight",e,t)},shift(){return Gn(this,"shift")},some(e,t){return Wt(this,"some",e,t,void 0,arguments)},splice(...e){return Gn(this,"splice",e)},toReversed(){return Cn(this).toReversed()},toSorted(e){return Cn(this).toSorted(e)},toSpliced(...e){return Cn(this).toSpliced(...e)},unshift(...e){return Gn(this,"unshift",e)},values(){return oi(this,"values",rt)}};function oi(e,t,s){const a=ms(e),n=a[t]();return a!==e&&!vt(e)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.done||(r.value=s(r.value)),r}),n}const vp=Array.prototype;function Wt(e,t,s,a,n,r){const l=ms(e),d=l!==e&&!vt(e),_=l[t];if(_!==vp[t]){const u=_.apply(e,r);return d?rt(u):u}let f=s;l!==e&&(d?f=function(u,T){return s.call(this,rt(u),T,e)}:s.length>2&&(f=function(u,T){return s.call(this,u,T,e)}));const g=_.call(l,f,a);return d&&n?n(g):g}function ta(e,t,s,a){const n=ms(e);let r=s;return n!==e&&(vt(e)?s.length>3&&(r=function(l,d,_){return s.call(this,l,d,_,e)}):r=function(l,d,_){return s.call(this,l,rt(d),_,e)}),n[t](r,...a)}function ri(e,t,s){const a=Ke(e);ct(a,"iterate",Xn);const n=a[t](...s);return(n===-1||n===!1)&&di(s[0])?(s[0]=Ke(s[0]),a[t](...s)):n}function Gn(e,t,s=[]){Ut(),Zs();const a=Ke(e)[t].apply(e,s);return ei(),Yt(),a}const Pp=Bs("__proto__,__v_isRef,__isVue"),na=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(kt));function Mp(e){kt(e)||(e=String(e));const t=Ke(this);return ct(t,"has",e),t.hasOwnProperty(e)}class sa{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return a===(n?r?ca:la:r?ra:oa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const l=we(t);if(!n){let _;if(l&&(_=Np[s]))return _;if(s==="hasOwnProperty")return Mp}const d=Reflect.get(t,s,lt(t)?t:a);if((kt(s)?na.has(s):Pp(s))||(n||ct(t,"get",s),r))return d;if(lt(d)){const _=l&&Js(s)?d:d.value;return n&&Ze(_)?ci(_):_}return Ze(d)?n?ci(d):qe(d):d}}class ia extends sa{constructor(t=!1){super(!1,t)}set(t,s,a,n){let r=t[s];if(!this._isShallow){const _=an(r);if(!vt(a)&&!an(a)&&(r=Ke(r),a=Ke(a)),!we(t)&&lt(r)&&!lt(a))return _||(r.value=a),!0}const l=we(t)&&Js(s)?Number(s)<t.length:Je(t,s),d=Reflect.set(t,s,a,lt(t)?t:n);return t===Ke(n)&&(l?sn(a,r)&&Jt(t,"set",s,a):Jt(t,"add",s,a)),d}deleteProperty(t,s){const a=Je(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Jt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!kt(s)||!na.has(s))&&ct(t,"has",s),a}ownKeys(t){return ct(t,"iterate",we(t)?"length":cn),Reflect.ownKeys(t)}}class aa extends sa{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const kp=new ia,Ip=new aa,wp=new ia(!0),$p=new aa(!0),li=e=>e,hs=e=>Reflect.getPrototypeOf(e);function Dp(e,t,s){return function(...a){const n=this.__v_raw,r=Ke(n),l=gn(r),d=e==="entries"||e===Symbol.iterator&&l,_=e==="keys"&&l,f=n[e](...a),g=s?li:t?As:rt;return!t&&ct(r,"iterate",_?ai:cn),{next(){const{value:u,done:T}=f.next();return T?{value:u,done:T}:{value:d?[g(u[0]),g(u[1])]:g(u),done:T}},[Symbol.iterator](){return this}}}}function gs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Lp(e,t){const s={get(n){const r=this.__v_raw,l=Ke(r),d=Ke(n);e||(sn(n,d)&&ct(l,"get",n),ct(l,"get",d));const{has:_}=hs(l),f=t?li:e?As:rt;if(_.call(l,n))return f(r.get(n));if(_.call(l,d))return f(r.get(d));r!==l&&r.get(n)},get size(){const n=this.__v_raw;return!e&&ct(Ke(n),"iterate",cn),n.size},has(n){const r=this.__v_raw,l=Ke(r),d=Ke(n);return e||(sn(n,d)&&ct(l,"has",n),ct(l,"has",d)),n===d?r.has(n):r.has(n)||r.has(d)},forEach(n,r){const l=this,d=l.__v_raw,_=Ke(d),f=t?li:e?As:rt;return!e&&ct(_,"iterate",cn),d.forEach((g,u)=>n.call(r,f(g),f(u),l))}};return _t(s,e?{add:gs("add"),set:gs("set"),delete:gs("delete"),clear:gs("clear")}:{add(n){!t&&!vt(n)&&!an(n)&&(n=Ke(n));const r=Ke(this);return hs(r).has.call(r,n)||(r.add(n),Jt(r,"add",n,n)),this},set(n,r){!t&&!vt(r)&&!an(r)&&(r=Ke(r));const l=Ke(this),{has:d,get:_}=hs(l);let f=d.call(l,n);f||(n=Ke(n),f=d.call(l,n));const g=_.call(l,n);return l.set(n,r),f?sn(r,g)&&Jt(l,"set",n,r):Jt(l,"add",n,r),this},delete(n){const r=Ke(this),{has:l,get:d}=hs(r);let _=l.call(r,n);_||(n=Ke(n),_=l.call(r,n)),d&&d.call(r,n);const f=r.delete(n);return _&&Jt(r,"delete",n,void 0),f},clear(){const n=Ke(this),r=n.size!==0,l=n.clear();return r&&Jt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Dp(n,e,t)}),s}function Es(e,t){const s=Lp(e,t);return(a,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(Je(s,n)&&n in a?s:a,n,r)}const Up={get:Es(!1,!1)},Yp={get:Es(!1,!0)},Xp={get:Es(!0,!1)},Gp={get:Es(!0,!0)},oa=new WeakMap,ra=new WeakMap,la=new WeakMap,ca=new WeakMap;function Fp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Vp(e){return e.__v_skip||!Object.isExtensible(e)?0:Fp(mp(e))}function qe(e){return an(e)?e:Cs(e,!1,kp,Up,oa)}function Hp(e){return Cs(e,!1,wp,Yp,ra)}function ci(e){return Cs(e,!0,Ip,Xp,la)}function s0(e){return Cs(e,!0,$p,Gp,ca)}function Cs(e,t,s,a,n){if(!Ze(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Vp(e);if(r===0)return e;const l=n.get(e);if(l)return l;const d=new Proxy(e,r===2?a:s);return n.set(e,d),d}function An(e){return an(e)?An(e.__v_raw):!!(e&&e.__v_isReactive)}function an(e){return!!(e&&e.__v_isReadonly)}function vt(e){return!!(e&&e.__v_isShallow)}function di(e){return e?!!e.__v_raw:!1}function Ke(e){const t=e&&e.__v_raw;return t?Ke(t):e}function Bp(e){return!Je(e,"__v_skip")&&Object.isExtensible(e)&&Gi(e,"__v_skip",!0),e}const rt=e=>Ze(e)?qe(e):e,As=e=>Ze(e)?ci(e):e;function lt(e){return e?e.__v_isRef===!0:!1}function We(e){return Kp(e,!1)}function Kp(e,t){return lt(e)?e:new jp(e,t)}class jp{constructor(t,s){this.dep=new si,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ke(t),this._value=s?t:rt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||vt(t)||an(t);t=a?t:Ke(t),sn(t,s)&&(this._rawValue=t,this._value=a?t:rt(t),this.dep.trigger())}}function o(e){return lt(e)?e.value:e}const Jp={get:(e,t,s)=>t==="__v_raw"?e:o(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return lt(n)&&!lt(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function da(e){return An(e)?e:new Proxy(e,Jp)}class Wp{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new si(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&et!==this)return Ji(this,!0),!0}get value(){const t=this.dep.track();return zi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function qp(e,t,s=!1){let a,n;return Le(e)?a=e:(a=e.get,n=e.set),new Wp(a,n,s)}const Ss={},bs=new WeakMap;let dn;function zp(e,t=!1,s=dn){if(s){let a=bs.get(s);a||bs.set(s,a=[]),a.push(e)}}function Qp(e,t,s=Qe){const{immediate:a,deep:n,once:r,scheduler:l,augmentJob:d,call:_}=s,f=X=>n?X:vt(X)||n===!1||n===0?qt(X,1):qt(X);let g,u,T,m,M=!1,v=!1;if(lt(e)?(u=()=>e.value,M=vt(e)):An(e)?(u=()=>f(e),M=!0):we(e)?(v=!0,M=e.some(X=>An(X)||vt(X)),u=()=>e.map(X=>{if(lt(X))return X.value;if(An(X))return f(X);if(Le(X))return _?_(X,2):X()})):Le(e)?t?u=_?()=>_(e,2):e:u=()=>{if(T){Ut();try{T()}finally{Yt()}}const X=dn;dn=g;try{return _?_(e,3,[m]):e(m)}finally{dn=X}}:u=Lt,t&&n){const X=u,W=n===!0?1/0:n;u=()=>qt(X(),W)}const R=Rp(),A=()=>{g.stop(),R&&R.active&&js(R.effects,g)};if(r&&t){const X=t;t=(...W)=>{X(...W),A()}}let O=v?new Array(e.length).fill(Ss):Ss;const U=X=>{if(!(!(g.flags&1)||!g.dirty&&!X))if(t){const W=g.run();if(n||M||(v?W.some((re,Te)=>sn(re,O[Te])):sn(W,O))){T&&T();const re=dn;dn=g;try{const Te=[W,O===Ss?void 0:v&&O[0]===Ss?[]:O,m];O=W,_?_(t,3,Te):t(...Te)}finally{dn=re}}}else g.run()};return d&&d(U),g=new Ki(u),g.scheduler=l?()=>l(U,!1):U,m=X=>zp(X,!1,g),T=g.onStop=()=>{const X=bs.get(g);if(X){if(_)_(X,4);else for(const W of X)W();bs.delete(g)}},t?a?U(!0):O=g.run():l?l(U.bind(null,!0),!0):g.run(),A.pause=g.pause.bind(g),A.resume=g.resume.bind(g),A.stop=A,A}function qt(e,t=1/0,s){if(t<=0||!Ze(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,lt(e))qt(e.value,t,s);else if(we(e))for(let a=0;a<e.length;a++)qt(e[a],t,s);else if(En(e)||gn(e))e.forEach(a=>{qt(a,t,s)});else if(Yi(e)){for(const a in e)qt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&qt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Fn=[];let ui=!1;function i0(e,...t){if(ui)return;ui=!0,Ut();const s=Fn.length?Fn[Fn.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=Zp();if(a)Sn(a,s,11,[e+t.map(r=>{var l,d;return(d=(l=r.toString)==null?void 0:l.call(r))!=null?d:JSON.stringify(r)}).join(""),s&&s.proxy,n.map(({vnode:r})=>`at <${io(s,r.type)}>`).join(`
`),n]);else{const r=[`[Vue warn]: ${e}`,...t];n.length&&r.push(`
`,...ef(n)),console.warn(...r)}Yt(),ui=!1}function Zp(){let e=Fn[Fn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function ef(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...tf(s))}),t}function tf({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${io(e.component,e.type,a)}`,r=">"+s;return e.props?[n,...nf(e.props),r]:[n+r]}function nf(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...ua(a,e[a]))}),s.length>3&&t.push(" ..."),t}function ua(e,t,s){return st(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:lt(t)?(t=ua(e,Ke(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Le(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Ke(t),s?t:[`${e}=`,t])}function Sn(e,t,s,a){try{return a?e(...a):e()}catch(n){Ts(n,t,s)}}function Xt(e,t,s,a){if(Le(e)){const n=Sn(e,t,s,a);return n&&Li(n)&&n.catch(r=>{Ts(r,t,s)}),n}if(we(e)){const n=[];for(let r=0;r<e.length;r++)n.push(Xt(e[r],t,s,a));return n}}function Ts(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Qe;if(t){let d=t.parent;const _=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;d;){const g=d.ec;if(g){for(let u=0;u<g.length;u++)if(g[u](e,_,f)===!1)return}d=d.parent}if(r){Ut(),Sn(r,null,10,[e,_,f]),Yt();return}}sf(e,s,n,a,l)}function sf(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const pt=[];let Gt=-1;const bn=[];let on=null,Tn=0;const _a=Promise.resolve();let ys=null;function pa(e){const t=ys||_a;return e?t.then(this?e.bind(this):e):t}function af(e){let t=Gt+1,s=pt.length;for(;t<s;){const a=t+s>>>1,n=pt[a],r=Vn(n);r<e||r===e&&n.flags&2?t=a+1:s=a}return t}function _i(e){if(!(e.flags&1)){const t=Vn(e),s=pt[pt.length-1];!s||!(e.flags&2)&&t>=Vn(s)?pt.push(e):pt.splice(af(t),0,e),e.flags|=1,fa()}}function fa(){ys||(ys=_a.then(ga))}function of(e){we(e)?bn.push(...e):on&&e.id===-1?on.splice(Tn+1,0,e):e.flags&1||(bn.push(e),e.flags|=1),fa()}function ma(e,t,s=Gt+1){for(;s<pt.length;s++){const a=pt[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;pt.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function ha(e){if(bn.length){const t=[...new Set(bn)].sort((s,a)=>Vn(s)-Vn(a));if(bn.length=0,on){on.push(...t);return}for(on=t,Tn=0;Tn<on.length;Tn++){const s=on[Tn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}on=null,Tn=0}}const Vn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ga(e){try{for(Gt=0;Gt<pt.length;Gt++){const t=pt[Gt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Sn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Gt<pt.length;Gt++){const t=pt[Gt];t&&(t.flags&=-2)}Gt=-1,pt.length=0,ha(),ys=null,(pt.length||bn.length)&&ga()}}let dt=null,Ea=null;function Rs(e){const t=dt;return dt=e,Ea=e&&e.type.__scopeId||null,t}function Ca(e,t=dt,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&za(-1);const r=Rs(t);let l;try{l=e(...n)}finally{Rs(r),a._d&&za(1)}return l};return a._n=!0,a._c=!0,a._d=!0,a}function z(e,t){if(dt===null)return e;const s=$s(dt),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[r,l,d,_=Qe]=t[n];r&&(Le(r)&&(r={mounted:r,updated:r}),r.deep&&qt(l),a.push({dir:r,instance:s,value:l,oldValue:void 0,arg:d,modifiers:_}))}return e}function un(e,t,s,a){const n=e.dirs,r=t&&t.dirs;for(let l=0;l<n.length;l++){const d=n[l];r&&(d.oldValue=r[l].value);let _=d.dir[a];_&&(Ut(),Xt(_,s,8,[e.el,d,e,t]),Yt())}}const rf=Symbol("_vte"),lf=e=>e.__isTeleport,cf=Symbol("_leaveCb");function pi(e,t){e.shapeFlag&6&&e.component?(e.transition=t,pi(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Aa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Os=new WeakMap;function Hn(e,t,s,a,n=!1){if(we(e)){e.forEach((M,v)=>Hn(M,t&&(we(t)?t[v]:t),s,a,n));return}if(yn(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Hn(e,t,s,a.component.subTree);return}const r=a.shapeFlag&4?$s(a.component):a.el,l=n?null:r,{i:d,r:_}=e,f=t&&t.r,g=d.refs===Qe?d.refs={}:d.refs,u=d.setupState,T=Ke(u),m=u===Qe?$i:M=>Je(T,M);if(f!=null&&f!==_){if(Sa(t),st(f))g[f]=null,m(f)&&(u[f]=null);else if(lt(f)){f.value=null;const M=t;M.k&&(g[M.k]=null)}}if(Le(_))Sn(_,d,12,[l,g]);else{const M=st(_),v=lt(_);if(M||v){const R=()=>{if(e.f){const A=M?m(_)?u[_]:g[_]:_.value;if(n)we(A)&&js(A,r);else if(we(A))A.includes(r)||A.push(r);else if(M)g[_]=[r],m(_)&&(u[_]=g[_]);else{const O=[r];_.value=O,e.k&&(g[e.k]=O)}}else M?(g[_]=l,m(_)&&(u[_]=l)):v&&(_.value=l,e.k&&(g[e.k]=l))};if(l){const A=()=>{R(),Os.delete(e)};A.id=-1,Os.set(e,A),Tt(A,s)}else Sa(e),R()}}}function Sa(e){const t=Os.get(e);t&&(t.flags|=8,Os.delete(e))}fs().requestIdleCallback,fs().cancelIdleCallback;const yn=e=>!!e.type.__asyncLoader,ba=e=>e.type.__isKeepAlive;function df(e,t){Ta(e,"a",t)}function uf(e,t){Ta(e,"da",t)}function Ta(e,t,s=mt){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(xs(t,a,s),s){let n=s.parent;for(;n&&n.parent;)ba(n.parent.vnode)&&_f(a,t,s,n),n=n.parent}}function _f(e,t,s,a){const n=xs(t,e,a,!0);ya(()=>{js(a[t],n)},s)}function xs(e,t,s=mt,a=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...l)=>{Ut();const d=zn(s),_=Xt(t,s,e,l);return d(),Yt(),_});return a?n.unshift(r):n.push(r),r}}const zt=e=>(t,s=mt)=>{(!Qn||e==="sp")&&xs(e,(...a)=>t(...a),s)},pf=zt("bm"),bt=zt("m"),ff=zt("bu"),mf=zt("u"),Bn=zt("bum"),ya=zt("um"),hf=zt("sp"),gf=zt("rtg"),Ef=zt("rtc");function Cf(e,t=mt){xs("ec",e,t)}const Af=Symbol.for("v-ndc");function Xe(e,t,s,a){let n;const r=s,l=we(e);if(l||st(e)){const d=l&&An(e);let _=!1,f=!1;d&&(_=!vt(e),f=an(e),e=ms(e)),n=new Array(e.length);for(let g=0,u=e.length;g<u;g++)n[g]=t(_?f?As(rt(e[g])):rt(e[g]):e[g],g,void 0,r)}else if(typeof e=="number"){n=new Array(e);for(let d=0;d<e;d++)n[d]=t(d+1,d,void 0,r)}else if(Ze(e))if(e[Symbol.iterator])n=Array.from(e,(d,_)=>t(d,_,void 0,r));else{const d=Object.keys(e);n=new Array(d.length);for(let _=0,f=d.length;_<f;_++){const g=d[_];n[_]=t(e[g],g,_,r)}}else n=[];return n}function Sf(e,t,s={},a,n){if(dt.ce||dt.parent&&yn(dt.parent)&&dt.parent.ce){const f=Object.keys(s).length>0;return b(),gt(Ne,null,[ot("slot",s,a)],f?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),b();const l=r&&Ra(r(s)),d=s.key||l&&l.key,_=gt(Ne,{key:(d&&!kt(d)?d:`_${t}`)+(!l&&a?"_fb":"")},l||[],l&&e._===1?64:-2);return _.scopeId&&(_.slotScopeIds=[_.scopeId+"-s"]),r&&r._c&&(r._d=!0),_}function Ra(e){return e.some(t=>bi(t)?!(t.type===Qt||t.type===Ne&&!Ra(t.children)):!0)?e:null}const fi=e=>e?to(e)?$s(e):fi(e.parent):null,Kn=_t(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>fi(e.parent),$root:e=>fi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>va(e),$forceUpdate:e=>e.f||(e.f=()=>{_i(e.update)}),$nextTick:e=>e.n||(e.n=pa.bind(e.proxy)),$watch:e=>Vf.bind(e)}),mi=(e,t)=>e!==Qe&&!e.__isScriptSetup&&Je(e,t),bf={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:r,accessCache:l,type:d,appContext:_}=e;let f;if(t[0]!=="$"){const m=l[t];if(m!==void 0)switch(m){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(mi(a,t))return l[t]=1,a[t];if(n!==Qe&&Je(n,t))return l[t]=2,n[t];if((f=e.propsOptions[0])&&Je(f,t))return l[t]=3,r[t];if(s!==Qe&&Je(s,t))return l[t]=4,s[t];hi&&(l[t]=0)}}const g=Kn[t];let u,T;if(g)return t==="$attrs"&&ct(e.attrs,"get",""),g(e);if((u=d.__cssModules)&&(u=u[t]))return u;if(s!==Qe&&Je(s,t))return l[t]=4,s[t];if(T=_.config.globalProperties,Je(T,t))return T[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:r}=e;return mi(n,t)?(n[t]=s,!0):a!==Qe&&Je(a,t)?(a[t]=s,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:r,type:l}},d){let _,f;return!!(s[d]||e!==Qe&&d[0]!=="$"&&Je(e,d)||mi(t,d)||(_=r[0])&&Je(_,d)||Je(a,d)||Je(Kn,d)||Je(n.config.globalProperties,d)||(f=l.__cssModules)&&f[d])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Je(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Oa(e){return we(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let hi=!0;function Tf(e){const t=va(e),s=e.proxy,a=e.ctx;hi=!1,t.beforeCreate&&xa(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:l,watch:d,provide:_,inject:f,created:g,beforeMount:u,mounted:T,beforeUpdate:m,updated:M,activated:v,deactivated:R,beforeDestroy:A,beforeUnmount:O,destroyed:U,unmounted:X,render:W,renderTracked:re,renderTriggered:Te,errorCaptured:Me,serverPrefetch:ve,expose:Y,inheritAttrs:ke,components:Pe,directives:K,filters:Se}=t;if(f&&yf(f,a,null),l)for(const w in l){const k=l[w];Le(k)&&(a[w]=k.bind(s))}if(n){const w=n.call(s,s);Ze(w)&&(e.data=qe(w))}if(hi=!0,r)for(const w in r){const k=r[w],$=Le(k)?k.bind(s,s):Le(k.get)?k.get.bind(s,s):Lt,Q=!Le(k)&&Le(k.set)?k.set.bind(s):Lt,h=Ee({get:$,set:Q});Object.defineProperty(a,w,{enumerable:!0,configurable:!0,get:()=>h.value,set:C=>h.value=C})}if(d)for(const w in d)Na(d[w],a,s,w);if(_){const w=Le(_)?_.call(s):_;Reflect.ownKeys(w).forEach(k=>{Pf(k,w[k])})}g&&xa(g,e,"c");function pe(w,k){we(k)?k.forEach($=>w($.bind(s))):k&&w(k.bind(s))}if(pe(pf,u),pe(bt,T),pe(ff,m),pe(mf,M),pe(df,v),pe(uf,R),pe(Cf,Me),pe(Ef,re),pe(gf,Te),pe(Bn,O),pe(ya,X),pe(hf,ve),we(Y))if(Y.length){const w=e.exposed||(e.exposed={});Y.forEach(k=>{Object.defineProperty(w,k,{get:()=>s[k],set:$=>s[k]=$,enumerable:!0})})}else e.exposed||(e.exposed={});W&&e.render===Lt&&(e.render=W),ke!=null&&(e.inheritAttrs=ke),Pe&&(e.components=Pe),K&&(e.directives=K),ve&&Aa(e)}function yf(e,t,s=Lt){we(e)&&(e=gi(e));for(const a in e){const n=e[a];let r;Ze(n)?"default"in n?r=vs(n.from||a,n.default,!0):r=vs(n.from||a):r=vs(n),lt(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:l=>r.value=l}):t[a]=r}}function xa(e,t,s){Xt(we(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function Na(e,t,s,a){let n=a.includes(".")?Ka(s,a):()=>s[a];if(st(e)){const r=t[e];Le(r)&&tt(n,r)}else if(Le(e))tt(n,e.bind(s));else if(Ze(e))if(we(e))e.forEach(r=>Na(r,t,s,a));else{const r=Le(e.handler)?e.handler.bind(s):t[e.handler];Le(r)&&tt(n,r,e)}}function va(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:l}}=e.appContext,d=r.get(t);let _;return d?_=d:!n.length&&!s&&!a?_=t:(_={},n.length&&n.forEach(f=>Ns(_,f,l,!0)),Ns(_,t,l)),Ze(t)&&r.set(t,_),_}function Ns(e,t,s,a=!1){const{mixins:n,extends:r}=t;r&&Ns(e,r,s,!0),n&&n.forEach(l=>Ns(e,l,s,!0));for(const l in t)if(!(a&&l==="expose")){const d=Rf[l]||s&&s[l];e[l]=d?d(e[l],t[l]):t[l]}return e}const Rf={data:Pa,props:Ma,emits:Ma,methods:jn,computed:jn,beforeCreate:ft,created:ft,beforeMount:ft,mounted:ft,beforeUpdate:ft,updated:ft,beforeDestroy:ft,beforeUnmount:ft,destroyed:ft,unmounted:ft,activated:ft,deactivated:ft,errorCaptured:ft,serverPrefetch:ft,components:jn,directives:jn,watch:xf,provide:Pa,inject:Of};function Pa(e,t){return t?e?function(){return _t(Le(e)?e.call(this,this):e,Le(t)?t.call(this,this):t)}:t:e}function Of(e,t){return jn(gi(e),gi(t))}function gi(e){if(we(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ft(e,t){return e?[...new Set([].concat(e,t))]:t}function jn(e,t){return e?_t(Object.create(null),e,t):t}function Ma(e,t){return e?we(e)&&we(t)?[...new Set([...e,...t])]:_t(Object.create(null),Oa(e),Oa(t!=null?t:{})):t}function xf(e,t){if(!e)return t;if(!t)return e;const s=_t(Object.create(null),e);for(const a in t)s[a]=ft(e[a],t[a]);return s}function ka(){return{app:null,config:{isNativeTag:$i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nf=0;function vf(e,t){return function(a,n=null){Le(a)||(a=_t({},a)),n!=null&&!Ze(n)&&(n=null);const r=ka(),l=new WeakSet,d=[];let _=!1;const f=r.app={_uid:Nf++,_component:a,_props:n,_container:null,_context:r,_instance:null,version:mm,get config(){return r.config},set config(g){},use(g,...u){return l.has(g)||(g&&Le(g.install)?(l.add(g),g.install(f,...u)):Le(g)&&(l.add(g),g(f,...u))),f},mixin(g){return r.mixins.includes(g)||r.mixins.push(g),f},component(g,u){return u?(r.components[g]=u,f):r.components[g]},directive(g,u){return u?(r.directives[g]=u,f):r.directives[g]},mount(g,u,T){if(!_){const m=f._ceVNode||ot(a,n);return m.appContext=r,T===!0?T="svg":T===!1&&(T=void 0),e(m,g,T),_=!0,f._container=g,g.__vue_app__=f,$s(m.component)}},onUnmount(g){d.push(g)},unmount(){_&&(Xt(d,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(g,u){return r.provides[g]=u,f},runWithContext(g){const u=Rn;Rn=f;try{return g()}finally{Rn=u}}};return f}}let Rn=null;function Pf(e,t){if(mt){let s=mt.provides;const a=mt.parent&&mt.parent.provides;a===s&&(s=mt.provides=Object.create(a)),s[e]=t}}function vs(e,t,s=!1){const a=om();if(a||Rn){let n=Rn?Rn._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Le(t)?t.call(a&&a.proxy):t}}const Ia={},wa=()=>Object.create(Ia),$a=e=>Object.getPrototypeOf(e)===Ia;function Mf(e,t,s,a=!1){const n={},r=wa();e.propsDefaults=Object.create(null),Da(e,t,n,r);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=a?n:Hp(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function kf(e,t,s,a){const{props:n,attrs:r,vnode:{patchFlag:l}}=e,d=Ke(n),[_]=e.propsOptions;let f=!1;if((a||l>0)&&!(l&16)){if(l&8){const g=e.vnode.dynamicProps;for(let u=0;u<g.length;u++){let T=g[u];if(Ps(e.emitsOptions,T))continue;const m=t[T];if(_)if(Je(r,T))m!==r[T]&&(r[T]=m,f=!0);else{const M=tn(T);n[M]=Ei(_,d,M,m,e,!1)}else m!==r[T]&&(r[T]=m,f=!0)}}}else{Da(e,t,n,r)&&(f=!0);let g;for(const u in d)(!t||!Je(t,u)&&((g=nn(u))===u||!Je(t,g)))&&(_?s&&(s[u]!==void 0||s[g]!==void 0)&&(n[u]=Ei(_,d,u,void 0,e,!0)):delete n[u]);if(r!==d)for(const u in r)(!t||!Je(t,u))&&(delete r[u],f=!0)}f&&Jt(e.attrs,"set","")}function Da(e,t,s,a){const[n,r]=e.propsOptions;let l=!1,d;if(t)for(let _ in t){if($n(_))continue;const f=t[_];let g;n&&Je(n,g=tn(_))?!r||!r.includes(g)?s[g]=f:(d||(d={}))[g]=f:Ps(e.emitsOptions,_)||(!(_ in a)||f!==a[_])&&(a[_]=f,l=!0)}if(r){const _=Ke(s),f=d||Qe;for(let g=0;g<r.length;g++){const u=r[g];s[u]=Ei(n,_,u,f[u],e,!Je(f,u))}}return l}function Ei(e,t,s,a,n,r){const l=e[s];if(l!=null){const d=Je(l,"default");if(d&&a===void 0){const _=l.default;if(l.type!==Function&&!l.skipFactory&&Le(_)){const{propsDefaults:f}=n;if(s in f)a=f[s];else{const g=zn(n);a=f[s]=_.call(null,t),g()}}else a=_;n.ce&&n.ce._setProp(s,a)}l[0]&&(r&&!d?a=!1:l[1]&&(a===""||a===nn(s))&&(a=!0))}return a}const If=new WeakMap;function La(e,t,s=!1){const a=s?If:t.propsCache,n=a.get(e);if(n)return n;const r=e.props,l={},d=[];let _=!1;if(!Le(e)){const g=u=>{_=!0;const[T,m]=La(u,t,!0);_t(l,T),m&&d.push(...m)};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!r&&!_)return Ze(e)&&a.set(e,hn),hn;if(we(r))for(let g=0;g<r.length;g++){const u=tn(r[g]);Ua(u)&&(l[u]=Qe)}else if(r)for(const g in r){const u=tn(g);if(Ua(u)){const T=r[g],m=l[u]=we(T)||Le(T)?{type:T}:_t({},T),M=m.type;let v=!1,R=!0;if(we(M))for(let A=0;A<M.length;++A){const O=M[A],U=Le(O)&&O.name;if(U==="Boolean"){v=!0;break}else U==="String"&&(R=!1)}else v=Le(M)&&M.name==="Boolean";m[0]=v,m[1]=R,(v||Je(m,"default"))&&d.push(u)}}const f=[l,d];return Ze(e)&&a.set(e,f),f}function Ua(e){return e[0]!=="$"&&!$n(e)}const Ci=e=>e==="_"||e==="_ctx"||e==="$stable",Ai=e=>we(e)?e.map(Ft):[Ft(e)],wf=(e,t,s)=>{if(t._n)return t;const a=Ca((...n)=>Ai(t(...n)),s);return a._c=!1,a},Ya=(e,t,s)=>{const a=e._ctx;for(const n in e){if(Ci(n))continue;const r=e[n];if(Le(r))t[n]=wf(n,r,a);else if(r!=null){const l=Ai(r);t[n]=()=>l}}},Xa=(e,t)=>{const s=Ai(t);e.slots.default=()=>s},Ga=(e,t,s)=>{for(const a in t)(s||!Ci(a))&&(e[a]=t[a])},$f=(e,t,s)=>{const a=e.slots=wa();if(e.vnode.shapeFlag&32){const n=t._;n?(Ga(a,t,s),s&&Gi(a,"_",n,!0)):Ya(t,a)}else t&&Xa(e,t)},Df=(e,t,s)=>{const{vnode:a,slots:n}=e;let r=!0,l=Qe;if(a.shapeFlag&32){const d=t._;d?s&&d===1?r=!1:Ga(n,t,s):(r=!t.$stable,Ya(t,n)),l=t}else t&&(Xa(e,t),l={default:1});if(r)for(const d in n)!Ci(d)&&l[d]==null&&delete n[d]},Tt=zf;function Lf(e){return Uf(e)}function Uf(e,t){const s=fs();s.__VUE__=!0;const{insert:a,remove:n,patchProp:r,createElement:l,createText:d,createComment:_,setText:f,setElementText:g,parentNode:u,nextSibling:T,setScopeId:m=Lt,insertStaticContent:M}=e,v=(S,x,H,te=null,J=null,ne=null,de=void 0,ie=null,se=!!x.dynamicChildren)=>{if(S===x)return;S&&!qn(S,x)&&(te=Re(S),C(S,J,ne,!0),S=null),x.patchFlag===-2&&(se=!1,x.dynamicChildren=null);const{type:ee,ref:Ae,shapeFlag:ue}=x;switch(ee){case Ms:R(S,x,H,te);break;case Qt:A(S,x,H,te);break;case ks:S==null&&O(x,H,te,de);break;case Ne:Pe(S,x,H,te,J,ne,de,ie,se);break;default:ue&1?W(S,x,H,te,J,ne,de,ie,se):ue&6?K(S,x,H,te,J,ne,de,ie,se):(ue&64||ue&128)&&ee.process(S,x,H,te,J,ne,de,ie,se,Oe)}Ae!=null&&J?Hn(Ae,S&&S.ref,ne,x||S,!x):Ae==null&&S&&S.ref!=null&&Hn(S.ref,null,ne,S,!0)},R=(S,x,H,te)=>{if(S==null)a(x.el=d(x.children),H,te);else{const J=x.el=S.el;x.children!==S.children&&f(J,x.children)}},A=(S,x,H,te)=>{S==null?a(x.el=_(x.children||""),H,te):x.el=S.el},O=(S,x,H,te)=>{[S.el,S.anchor]=M(S.children,x,H,te,S.el,S.anchor)},U=({el:S,anchor:x},H,te)=>{let J;for(;S&&S!==x;)J=T(S),a(S,H,te),S=J;a(x,H,te)},X=({el:S,anchor:x})=>{let H;for(;S&&S!==x;)H=T(S),n(S),S=H;n(x)},W=(S,x,H,te,J,ne,de,ie,se)=>{x.type==="svg"?de="svg":x.type==="math"&&(de="mathml"),S==null?re(x,H,te,J,ne,de,ie,se):ve(S,x,J,ne,de,ie,se)},re=(S,x,H,te,J,ne,de,ie)=>{let se,ee;const{props:Ae,shapeFlag:ue,transition:ge,dirs:ye}=S;if(se=S.el=l(S.type,ne,Ae&&Ae.is,Ae),ue&8?g(se,S.children):ue&16&&Me(S.children,se,null,te,J,Si(S,ne),de,ie),ye&&un(S,null,te,"created"),Te(se,S,S.scopeId,de,te),Ae){for(const N in Ae)N!=="value"&&!$n(N)&&r(se,N,null,Ae[N],ne,te);"value"in Ae&&r(se,"value",null,Ae.value,ne),(ee=Ae.onVnodeBeforeMount)&&Vt(ee,te,S)}ye&&un(S,null,te,"beforeMount");const $e=Yf(J,ge);$e&&ge.beforeEnter(se),a(se,x,H),((ee=Ae&&Ae.onVnodeMounted)||$e||ye)&&Tt(()=>{ee&&Vt(ee,te,S),$e&&ge.enter(se),ye&&un(S,null,te,"mounted")},J)},Te=(S,x,H,te,J)=>{if(H&&m(S,H),te)for(let ne=0;ne<te.length;ne++)m(S,te[ne]);if(J){let ne=J.subTree;if(x===ne||qa(ne.type)&&(ne.ssContent===x||ne.ssFallback===x)){const de=J.vnode;Te(S,de,de.scopeId,de.slotScopeIds,J.parent)}}},Me=(S,x,H,te,J,ne,de,ie,se=0)=>{for(let ee=se;ee<S.length;ee++){const Ae=S[ee]=ie?rn(S[ee]):Ft(S[ee]);v(null,Ae,x,H,te,J,ne,de,ie)}},ve=(S,x,H,te,J,ne,de)=>{const ie=x.el=S.el;let{patchFlag:se,dynamicChildren:ee,dirs:Ae}=x;se|=S.patchFlag&16;const ue=S.props||Qe,ge=x.props||Qe;let ye;if(H&&_n(H,!1),(ye=ge.onVnodeBeforeUpdate)&&Vt(ye,H,x,S),Ae&&un(x,S,H,"beforeUpdate"),H&&_n(H,!0),(ue.innerHTML&&ge.innerHTML==null||ue.textContent&&ge.textContent==null)&&g(ie,""),ee?Y(S.dynamicChildren,ee,ie,H,te,Si(x,J),ne):de||k(S,x,ie,null,H,te,Si(x,J),ne,!1),se>0){if(se&16)ke(ie,ue,ge,H,J);else if(se&2&&ue.class!==ge.class&&r(ie,"class",null,ge.class,J),se&4&&r(ie,"style",ue.style,ge.style,J),se&8){const $e=x.dynamicProps;for(let N=0;N<$e.length;N++){const D=$e[N],_e=ue[D],me=ge[D];(me!==_e||D==="value")&&r(ie,D,_e,me,J,H)}}se&1&&S.children!==x.children&&g(ie,x.children)}else!de&&ee==null&&ke(ie,ue,ge,H,J);((ye=ge.onVnodeUpdated)||Ae)&&Tt(()=>{ye&&Vt(ye,H,x,S),Ae&&un(x,S,H,"updated")},te)},Y=(S,x,H,te,J,ne,de)=>{for(let ie=0;ie<x.length;ie++){const se=S[ie],ee=x[ie],Ae=se.el&&(se.type===Ne||!qn(se,ee)||se.shapeFlag&198)?u(se.el):H;v(se,ee,Ae,null,te,J,ne,de,!0)}},ke=(S,x,H,te,J)=>{if(x!==H){if(x!==Qe)for(const ne in x)!$n(ne)&&!(ne in H)&&r(S,ne,x[ne],null,J,te);for(const ne in H){if($n(ne))continue;const de=H[ne],ie=x[ne];de!==ie&&ne!=="value"&&r(S,ne,ie,de,J,te)}"value"in H&&r(S,"value",x.value,H.value,J)}},Pe=(S,x,H,te,J,ne,de,ie,se)=>{const ee=x.el=S?S.el:d(""),Ae=x.anchor=S?S.anchor:d("");let{patchFlag:ue,dynamicChildren:ge,slotScopeIds:ye}=x;ye&&(ie=ie?ie.concat(ye):ye),S==null?(a(ee,H,te),a(Ae,H,te),Me(x.children||[],H,Ae,J,ne,de,ie,se)):ue>0&&ue&64&&ge&&S.dynamicChildren?(Y(S.dynamicChildren,ge,H,J,ne,de,ie),(x.key!=null||J&&x===J.subTree)&&Fa(S,x,!0)):k(S,x,H,Ae,J,ne,de,ie,se)},K=(S,x,H,te,J,ne,de,ie,se)=>{x.slotScopeIds=ie,S==null?x.shapeFlag&512?J.ctx.activate(x,H,te,de,se):Se(x,H,te,J,ne,de,se):Ce(S,x,se)},Se=(S,x,H,te,J,ne,de)=>{const ie=S.component=am(S,te,J);if(ba(S)&&(ie.ctx.renderer=Oe),rm(ie,!1,de),ie.asyncDep){if(J&&J.registerDep(ie,pe,de),!S.el){const se=ie.subTree=ot(Qt);A(null,se,x,H),S.placeholder=se.el}}else pe(ie,S,x,H,J,ne,de)},Ce=(S,x,H)=>{const te=x.component=S.component;if(Wf(S,x,H))if(te.asyncDep&&!te.asyncResolved){w(te,x,H);return}else te.next=x,te.update();else x.el=S.el,te.vnode=x},pe=(S,x,H,te,J,ne,de)=>{const ie=()=>{if(S.isMounted){let{next:ue,bu:ge,u:ye,parent:$e,vnode:N}=S;{const Ie=Va(S);if(Ie){ue&&(ue.el=N.el,w(S,ue,de)),Ie.asyncDep.then(()=>{S.isUnmounted||ie()});return}}let D=ue,_e;_n(S,!1),ue?(ue.el=N.el,w(S,ue,de)):ue=N,ge&&_s(ge),(_e=ue.props&&ue.props.onVnodeBeforeUpdate)&&Vt(_e,$e,ue,N),_n(S,!0);const me=Ja(S),V=S.subTree;S.subTree=me,v(V,me,u(V.el),Re(V),S,J,ne),ue.el=me.el,D===null&&qf(S,me.el),ye&&Tt(ye,J),(_e=ue.props&&ue.props.onVnodeUpdated)&&Tt(()=>Vt(_e,$e,ue,N),J)}else{let ue;const{el:ge,props:ye}=x,{bm:$e,m:N,parent:D,root:_e,type:me}=S,V=yn(x);_n(S,!1),$e&&_s($e),!V&&(ue=ye&&ye.onVnodeBeforeMount)&&Vt(ue,D,x),_n(S,!0);{_e.ce&&_e.ce._def.shadowRoot!==!1&&_e.ce._injectChildStyle(me);const Ie=S.subTree=Ja(S);v(null,Ie,H,te,S,J,ne),x.el=Ie.el}if(N&&Tt(N,J),!V&&(ue=ye&&ye.onVnodeMounted)){const Ie=x;Tt(()=>Vt(ue,D,Ie),J)}(x.shapeFlag&256||D&&yn(D.vnode)&&D.vnode.shapeFlag&256)&&S.a&&Tt(S.a,J),S.isMounted=!0,x=H=te=null}};S.scope.on();const se=S.effect=new Ki(ie);S.scope.off();const ee=S.update=se.run.bind(se),Ae=S.job=se.runIfDirty.bind(se);Ae.i=S,Ae.id=S.uid,se.scheduler=()=>_i(Ae),_n(S,!0),ee()},w=(S,x,H)=>{x.component=S;const te=S.vnode.props;S.vnode=x,S.next=null,kf(S,x.props,te,H),Df(S,x.children,H),Ut(),ma(S),Yt()},k=(S,x,H,te,J,ne,de,ie,se=!1)=>{const ee=S&&S.children,Ae=S?S.shapeFlag:0,ue=x.children,{patchFlag:ge,shapeFlag:ye}=x;if(ge>0){if(ge&128){Q(ee,ue,H,te,J,ne,de,ie,se);return}else if(ge&256){$(ee,ue,H,te,J,ne,de,ie,se);return}}ye&8?(Ae&16&&be(ee,J,ne),ue!==ee&&g(H,ue)):Ae&16?ye&16?Q(ee,ue,H,te,J,ne,de,ie,se):be(ee,J,ne,!0):(Ae&8&&g(H,""),ye&16&&Me(ue,H,te,J,ne,de,ie,se))},$=(S,x,H,te,J,ne,de,ie,se)=>{S=S||hn,x=x||hn;const ee=S.length,Ae=x.length,ue=Math.min(ee,Ae);let ge;for(ge=0;ge<ue;ge++){const ye=x[ge]=se?rn(x[ge]):Ft(x[ge]);v(S[ge],ye,H,null,J,ne,de,ie,se)}ee>Ae?be(S,J,ne,!0,!1,ue):Me(x,H,te,J,ne,de,ie,se,ue)},Q=(S,x,H,te,J,ne,de,ie,se)=>{let ee=0;const Ae=x.length;let ue=S.length-1,ge=Ae-1;for(;ee<=ue&&ee<=ge;){const ye=S[ee],$e=x[ee]=se?rn(x[ee]):Ft(x[ee]);if(qn(ye,$e))v(ye,$e,H,null,J,ne,de,ie,se);else break;ee++}for(;ee<=ue&&ee<=ge;){const ye=S[ue],$e=x[ge]=se?rn(x[ge]):Ft(x[ge]);if(qn(ye,$e))v(ye,$e,H,null,J,ne,de,ie,se);else break;ue--,ge--}if(ee>ue){if(ee<=ge){const ye=ge+1,$e=ye<Ae?x[ye].el:te;for(;ee<=ge;)v(null,x[ee]=se?rn(x[ee]):Ft(x[ee]),H,$e,J,ne,de,ie,se),ee++}}else if(ee>ge)for(;ee<=ue;)C(S[ee],J,ne,!0),ee++;else{const ye=ee,$e=ee,N=new Map;for(ee=$e;ee<=ge;ee++){const Ye=x[ee]=se?rn(x[ee]):Ft(x[ee]);Ye.key!=null&&N.set(Ye.key,ee)}let D,_e=0;const me=ge-$e+1;let V=!1,Ie=0;const je=new Array(me);for(ee=0;ee<me;ee++)je[ee]=0;for(ee=ye;ee<=ue;ee++){const Ye=S[ee];if(_e>=me){C(Ye,J,ne,!0);continue}let P;if(Ye.key!=null)P=N.get(Ye.key);else for(D=$e;D<=ge;D++)if(je[D-$e]===0&&qn(Ye,x[D])){P=D;break}P===void 0?C(Ye,J,ne,!0):(je[P-$e]=ee+1,P>=Ie?Ie=P:V=!0,v(Ye,x[P],H,null,J,ne,de,ie,se),_e++)}const Ue=V?Xf(je):hn;for(D=Ue.length-1,ee=me-1;ee>=0;ee--){const Ye=$e+ee,P=x[Ye],p=x[Ye+1],L=Ye+1<Ae?p.el||p.placeholder:te;je[ee]===0?v(null,P,H,L,J,ne,de,ie,se):V&&(D<0||ee!==Ue[D]?h(P,H,L,2):D--)}}},h=(S,x,H,te,J=null)=>{const{el:ne,type:de,transition:ie,children:se,shapeFlag:ee}=S;if(ee&6){h(S.component.subTree,x,H,te);return}if(ee&128){S.suspense.move(x,H,te);return}if(ee&64){de.move(S,x,H,Oe);return}if(de===Ne){a(ne,x,H);for(let ue=0;ue<se.length;ue++)h(se[ue],x,H,te);a(S.anchor,x,H);return}if(de===ks){U(S,x,H);return}if(te!==2&&ee&1&&ie)if(te===0)ie.beforeEnter(ne),a(ne,x,H),Tt(()=>ie.enter(ne),J);else{const{leave:ue,delayLeave:ge,afterLeave:ye}=ie,$e=()=>{S.ctx.isUnmounted?n(ne):a(ne,x,H)},N=()=>{ne._isLeaving&&ne[cf](!0),ue(ne,()=>{$e(),ye&&ye()})};ge?ge(ne,$e,N):N()}else a(ne,x,H)},C=(S,x,H,te=!1,J=!1)=>{const{type:ne,props:de,ref:ie,children:se,dynamicChildren:ee,shapeFlag:Ae,patchFlag:ue,dirs:ge,cacheIndex:ye}=S;if(ue===-2&&(J=!1),ie!=null&&(Ut(),Hn(ie,null,H,S,!0),Yt()),ye!=null&&(x.renderCache[ye]=void 0),Ae&256){x.ctx.deactivate(S);return}const $e=Ae&1&&ge,N=!yn(S);let D;if(N&&(D=de&&de.onVnodeBeforeUnmount)&&Vt(D,x,S),Ae&6)le(S.component,H,te);else{if(Ae&128){S.suspense.unmount(H,te);return}$e&&un(S,null,x,"beforeUnmount"),Ae&64?S.type.remove(S,x,H,Oe,te):ee&&!ee.hasOnce&&(ne!==Ne||ue>0&&ue&64)?be(ee,x,H,!1,!0):(ne===Ne&&ue&384||!J&&Ae&16)&&be(se,x,H),te&&E(S)}(N&&(D=de&&de.onVnodeUnmounted)||$e)&&Tt(()=>{D&&Vt(D,x,S),$e&&un(S,null,x,"unmounted")},H)},E=S=>{const{type:x,el:H,anchor:te,transition:J}=S;if(x===Ne){Z(H,te);return}if(x===ks){X(S);return}const ne=()=>{n(H),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(S.shapeFlag&1&&J&&!J.persisted){const{leave:de,delayLeave:ie}=J,se=()=>de(H,ne);ie?ie(S.el,ne,se):se()}else ne()},Z=(S,x)=>{let H;for(;S!==x;)H=T(S),n(S),S=H;n(x)},le=(S,x,H)=>{const{bum:te,scope:J,job:ne,subTree:de,um:ie,m:se,a:ee}=S;Ha(se),Ha(ee),te&&_s(te),J.stop(),ne&&(ne.flags|=8,C(de,S,x,H)),ie&&Tt(ie,x),Tt(()=>{S.isUnmounted=!0},x)},be=(S,x,H,te=!1,J=!1,ne=0)=>{for(let de=ne;de<S.length;de++)C(S[de],x,H,te,J)},Re=S=>{if(S.shapeFlag&6)return Re(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const x=T(S.anchor||S.el),H=x&&x[rf];return H?T(H):x};let j=!1;const fe=(S,x,H)=>{S==null?x._vnode&&C(x._vnode,null,null,!0):v(x._vnode||null,S,x,null,null,null,H),x._vnode=S,j||(j=!0,ma(),ha(),j=!1)},Oe={p:v,um:C,m:h,r:E,mt:Se,mc:Me,pc:k,pbc:Y,n:Re,o:e};return{render:fe,hydrate:void 0,createApp:vf(fe)}}function Si({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function _n({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Yf(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fa(e,t,s=!1){const a=e.children,n=t.children;if(we(a)&&we(n))for(let r=0;r<a.length;r++){const l=a[r];let d=n[r];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=n[r]=rn(n[r]),d.el=l.el),!s&&d.patchFlag!==-2&&Fa(l,d)),d.type===Ms&&d.patchFlag!==-1&&(d.el=l.el),d.type===Qt&&!d.el&&(d.el=l.el)}}function Xf(e){const t=e.slice(),s=[0];let a,n,r,l,d;const _=e.length;for(a=0;a<_;a++){const f=e[a];if(f!==0){if(n=s[s.length-1],e[n]<f){t[a]=n,s.push(a);continue}for(r=0,l=s.length-1;r<l;)d=r+l>>1,e[s[d]]<f?r=d+1:l=d;f<e[s[r]]&&(r>0&&(t[a]=s[r-1]),s[r]=a)}}for(r=s.length,l=s[r-1];r-- >0;)s[r]=l,l=t[l];return s}function Va(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Va(t)}function Ha(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Gf=Symbol.for("v-scx"),Ff=()=>vs(Gf);function tt(e,t,s){return Ba(e,t,s)}function Ba(e,t,s=Qe){const{immediate:a,deep:n,flush:r,once:l}=s,d=_t({},s),_=t&&a||!t&&r!=="post";let f;if(Qn){if(r==="sync"){const m=Ff();f=m.__watcherHandles||(m.__watcherHandles=[])}else if(!_){const m=()=>{};return m.stop=Lt,m.resume=Lt,m.pause=Lt,m}}const g=mt;d.call=(m,M,v)=>Xt(m,g,M,v);let u=!1;r==="post"?d.scheduler=m=>{Tt(m,g&&g.suspense)}:r!=="sync"&&(u=!0,d.scheduler=(m,M)=>{M?m():_i(m)}),d.augmentJob=m=>{t&&(m.flags|=4),u&&(m.flags|=2,g&&(m.id=g.uid,m.i=g))};const T=Qp(e,t,d);return Qn&&(f?f.push(T):_&&T()),T}function Vf(e,t,s){const a=this.proxy,n=st(e)?e.includes(".")?Ka(a,e):()=>a[e]:e.bind(a,a);let r;Le(t)?r=t:(r=t.handler,s=t);const l=zn(this),d=Ba(n,r.bind(a),s);return l(),d}function Ka(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const Hf=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tn(t)}Modifiers`]||e[`${nn(t)}Modifiers`];function Bf(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||Qe;let n=s;const r=t.startsWith("update:"),l=r&&Hf(a,t.slice(7));l&&(l.trim&&(n=s.map(g=>st(g)?g.trim():g)),l.number&&(n=s.map(ps)));let d,_=a[d=Ws(t)]||a[d=Ws(tn(t))];!_&&r&&(_=a[d=Ws(nn(t))]),_&&Xt(_,e,6,n);const f=a[d+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,Xt(f,e,6,n)}}const Kf=new WeakMap;function ja(e,t,s=!1){const a=s?Kf:t.emitsCache,n=a.get(e);if(n!==void 0)return n;const r=e.emits;let l={},d=!1;if(!Le(e)){const _=f=>{const g=ja(f,t,!0);g&&(d=!0,_t(l,g))};!s&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}return!r&&!d?(Ze(e)&&a.set(e,null),null):(we(r)?r.forEach(_=>l[_]=null):_t(l,r),Ze(e)&&a.set(e,l),l)}function Ps(e,t){return!e||!ds(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,nn(t))||Je(e,t))}function a0(){}function Ja(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[r],slots:l,attrs:d,emit:_,render:f,renderCache:g,props:u,data:T,setupState:m,ctx:M,inheritAttrs:v}=e,R=Rs(e);let A,O;try{if(s.shapeFlag&4){const X=n||a,W=X;A=Ft(f.call(W,X,g,u,m,T,M)),O=d}else{const X=t;A=Ft(X.length>1?X(u,{attrs:d,slots:l,emit:_}):X(u,null)),O=t.props?d:jf(d)}}catch(X){Jn.length=0,Ts(X,e,1),A=ot(Qt)}let U=A;if(O&&v!==!1){const X=Object.keys(O),{shapeFlag:W}=U;X.length&&W&7&&(r&&X.some(Ks)&&(O=Jf(O,r)),U=On(U,O,!1,!0))}return s.dirs&&(U=On(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&pi(U,s.transition),A=U,Rs(R),A}const jf=e=>{let t;for(const s in e)(s==="class"||s==="style"||ds(s))&&((t||(t={}))[s]=e[s]);return t},Jf=(e,t)=>{const s={};for(const a in e)(!Ks(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function Wf(e,t,s){const{props:a,children:n,component:r}=e,{props:l,children:d,patchFlag:_}=t,f=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&_>=0){if(_&1024)return!0;if(_&16)return a?Wa(a,l,f):!!l;if(_&8){const g=t.dynamicProps;for(let u=0;u<g.length;u++){const T=g[u];if(l[T]!==a[T]&&!Ps(f,T))return!0}}}else return(n||d)&&(!d||!d.$stable)?!0:a===l?!1:a?l?Wa(a,l,f):!0:!!l;return!1}function Wa(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const r=a[n];if(t[r]!==e[r]&&!Ps(s,r))return!0}return!1}function qf({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const qa=e=>e.__isSuspense;function zf(e,t){t&&t.pendingBranch?we(e)?t.effects.push(...e):t.effects.push(e):of(e)}const Ne=Symbol.for("v-fgt"),Ms=Symbol.for("v-txt"),Qt=Symbol.for("v-cmt"),ks=Symbol.for("v-stc"),Jn=[];let yt=null;function b(e=!1){Jn.push(yt=e?null:[])}function Qf(){Jn.pop(),yt=Jn[Jn.length-1]||null}let Wn=1;function za(e,t=!1){Wn+=e,e<0&&yt&&t&&(yt.hasOnce=!0)}function Qa(e){return e.dynamicChildren=Wn>0?yt||hn:null,Qf(),Wn>0&&yt&&yt.push(e),e}function y(e,t,s,a,n,r){return Qa(i(e,t,s,a,n,r,!0))}function gt(e,t,s,a,n){return Qa(ot(e,t,s,a,n,!0))}function bi(e){return e?e.__v_isVNode===!0:!1}function qn(e,t){return e.type===t.type&&e.key===t.key}const Za=({key:e})=>e!=null?e:null,Is=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?st(e)||lt(e)||Le(e)?{i:dt,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,a=0,n=null,r=e===Ne?0:1,l=!1,d=!1){const _={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Za(t),ref:t&&Is(t),scopeId:Ea,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:dt};return d?(Ti(_,s),r&128&&e.normalize(_)):s&&(_.shapeFlag|=st(s)?8:16),Wn>0&&!l&&yt&&(_.patchFlag>0||r&6)&&_.patchFlag!==32&&yt.push(_),_}const ot=Zf;function Zf(e,t=null,s=null,a=0,n=null,r=!1){if((!e||e===Af)&&(e=Qt),bi(e)){const d=On(e,t,!0);return s&&Ti(d,s),Wn>0&&!r&&yt&&(d.shapeFlag&6?yt[yt.indexOf(e)]=d:yt.push(d)),d.patchFlag=-2,d}if(fm(e)&&(e=e.__vccOpts),t){t=em(t);let{class:d,style:_}=t;d&&!st(d)&&(t.class=He(d)),Ze(_)&&(di(_)&&!we(_)&&(_=_t({},_)),t.style=jt(_))}const l=st(e)?1:qa(e)?128:lf(e)?64:Ze(e)?4:Le(e)?2:0;return i(e,t,s,a,n,l,r,!0)}function em(e){return e?di(e)||$a(e)?_t({},e):e:null}function On(e,t,s=!1,a=!1){const{props:n,ref:r,patchFlag:l,children:d,transition:_}=e,f=t?nm(n||{},t):n,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Za(f),ref:t&&t.ref?s&&r?we(r)?r.concat(Is(t)):[r,Is(t)]:Is(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ne?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:_,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&On(e.ssContent),ssFallback:e.ssFallback&&On(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return _&&a&&pi(g,_.clone(g)),g}function De(e=" ",t=0){return ot(Ms,null,e,t)}function tm(e,t){const s=ot(ks,null,e);return s.staticCount=t,s}function ce(e="",t=!1){return t?(b(),gt(Qt,null,e)):ot(Qt,null,e)}function Ft(e){return e==null||typeof e=="boolean"?ot(Qt):we(e)?ot(Ne,null,e.slice()):bi(e)?rn(e):ot(Ms,null,String(e))}function rn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:On(e)}function Ti(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(we(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),Ti(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!$a(t)?t._ctx=dt:n===3&&dt&&(dt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Le(t)?(t={default:t,_ctx:dt},s=32):(t=String(t),a&64?(s=16,t=[De(t)]):s=8);e.children=t,e.shapeFlag|=s}function nm(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=He([t.class,a.class]));else if(n==="style")t.style=jt([t.style,a.style]);else if(ds(n)){const r=t[n],l=a[n];l&&r!==l&&!(we(r)&&r.includes(l))&&(t[n]=r?[].concat(r,l):l)}else n!==""&&(t[n]=a[n])}return t}function Vt(e,t,s,a=null){Xt(e,t,7,[s,a])}const sm=ka();let im=0;function am(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||sm,r={uid:im++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:La(a,n),emitsOptions:ja(a,n),emit:null,emitted:null,propsDefaults:Qe,inheritAttrs:a.inheritAttrs,ctx:Qe,data:Qe,props:Qe,attrs:Qe,slots:Qe,refs:Qe,setupState:Qe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Bf.bind(null,r),e.ce&&e.ce(r),r}let mt=null;const om=()=>mt||dt;let ws,yi;{const e=fs(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),r=>{n.length>1?n.forEach(l=>l(r)):n[0](r)}};ws=t("__VUE_INSTANCE_SETTERS__",s=>mt=s),yi=t("__VUE_SSR_SETTERS__",s=>Qn=s)}const zn=e=>{const t=mt;return ws(e),e.scope.on(),()=>{e.scope.off(),ws(t)}},eo=()=>{mt&&mt.scope.off(),ws(null)};function to(e){return e.vnode.shapeFlag&4}let Qn=!1;function rm(e,t=!1,s=!1){t&&yi(t);const{props:a,children:n}=e.vnode,r=to(e);Mf(e,a,r,t),$f(e,n,s||t);const l=r?lm(e,t):void 0;return t&&yi(!1),l}function lm(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,bf);const{setup:a}=s;if(a){Ut();const n=e.setupContext=a.length>1?dm(e):null,r=zn(e),l=Sn(a,e,0,[e.props,n]),d=Li(l);if(Yt(),r(),(d||e.sp)&&!yn(e)&&Aa(e),d){if(l.then(eo,eo),t)return l.then(_=>{no(e,_)}).catch(_=>{Ts(_,e,0)});e.asyncDep=l}else no(e,l)}else so(e)}function no(e,t,s){Le(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ze(t)&&(e.setupState=da(t)),so(e)}function so(e,t,s){const a=e.type;e.render||(e.render=a.render||Lt);{const n=zn(e);Ut();try{Tf(e)}finally{Yt(),n()}}}const cm={get(e,t){return ct(e,"get",""),e[t]}};function dm(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,cm),slots:e.slots,emit:e.emit,expose:t}}function $s(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(da(Bp(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Kn)return Kn[s](e)},has(t,s){return s in t||s in Kn}})):e.proxy}const um=/(?:^|[-_])\w/g,_m=e=>e.replace(um,t=>t.toUpperCase()).replace(/[-_]/g,"");function pm(e,t=!0){return Le(e)?e.displayName||e.name:e.name||t&&e.__name}function io(e,t,s=!1){let a=pm(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=r=>{for(const l in r)if(r[l]===t)return l};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?_m(a):s?"App":"Anonymous"}function fm(e){return Le(e)&&"__vccOpts"in e}const Ee=(e,t)=>qp(e,t,Qn),mm="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ri;const ao=typeof window!="undefined"&&window.trustedTypes;if(ao)try{Ri=ao.createPolicy("vue",{createHTML:e=>e})}catch(e){}const oo=Ri?e=>Ri.createHTML(e):e=>e,hm="http://www.w3.org/2000/svg",gm="http://www.w3.org/1998/Math/MathML",Zt=typeof document!="undefined"?document:null,ro=Zt&&Zt.createElement("template"),Em={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?Zt.createElementNS(hm,e):t==="mathml"?Zt.createElementNS(gm,e):s?Zt.createElement(e,{is:s}):Zt.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>Zt.createTextNode(e),createComment:e=>Zt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,r){const l=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{ro.innerHTML=oo(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const d=ro.content;if(a==="svg"||a==="mathml"){const _=d.firstChild;for(;_.firstChild;)d.appendChild(_.firstChild);d.removeChild(_)}t.insertBefore(d,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Cm=Symbol("_vtc");function Am(e,t,s){const a=e[Cm];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ds=Symbol("_vod"),lo=Symbol("_vsh"),xn={name:"show",beforeMount(e,{value:t},{transition:s}){e[Ds]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Zn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),Zn(e,!0),a.enter(e)):a.leave(e,()=>{Zn(e,!1)}):Zn(e,t))},beforeUnmount(e,{value:t}){Zn(e,t)}};function Zn(e,t){e.style.display=t?e[Ds]:"none",e[lo]=!t}const Sm=Symbol(""),bm=/(?:^|;)\s*display\s*:/;function Tm(e,t,s){const a=e.style,n=st(s);let r=!1;if(s&&!n){if(t)if(st(t))for(const l of t.split(";")){const d=l.slice(0,l.indexOf(":")).trim();s[d]==null&&Ls(a,d,"")}else for(const l in t)s[l]==null&&Ls(a,l,"");for(const l in s)l==="display"&&(r=!0),Ls(a,l,s[l])}else if(n){if(t!==s){const l=a[Sm];l&&(s+=";"+l),a.cssText=s,r=bm.test(s)}}else t&&e.removeAttribute("style");Ds in e&&(e[Ds]=r?a.display:"",e[lo]&&(a.display="none"))}const co=/\s*!important$/;function Ls(e,t,s){if(we(s))s.forEach(a=>Ls(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=ym(e,t);co.test(s)?e.setProperty(nn(a),s.replace(co,""),"important"):e[a]=s}}const uo=["Webkit","Moz","ms"],Oi={};function ym(e,t){const s=Oi[t];if(s)return s;let a=tn(t);if(a!=="filter"&&a in e)return Oi[t]=a;a=Xi(a);for(let n=0;n<uo.length;n++){const r=uo[n]+a;if(r in e)return Oi[t]=r}return t}const _o="http://www.w3.org/1999/xlink";function po(e,t,s,a,n,r=bp(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(_o,t.slice(6,t.length)):e.setAttributeNS(_o,t,s):s==null||r&&!Vi(s)?e.removeAttribute(t):e.setAttribute(t,r?"":kt(s)?String(s):s)}function fo(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?oo(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const d=r==="OPTION"?e.getAttribute("value")||"":e.value,_=s==null?e.type==="checkbox"?"on":"":String(s);(d!==_||!("_value"in e))&&(e.value=_),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const d=typeof e[t];d==="boolean"?s=Vi(s):s==null&&d==="string"?(s="",l=!0):d==="number"&&(s=0,l=!0)}try{e[t]=s}catch(d){}l&&e.removeAttribute(n||t)}function ln(e,t,s,a){e.addEventListener(t,s,a)}function Rm(e,t,s,a){e.removeEventListener(t,s,a)}const mo=Symbol("_vei");function Om(e,t,s,a,n=null){const r=e[mo]||(e[mo]={}),l=r[t];if(a&&l)l.value=a;else{const[d,_]=xm(t);if(a){const f=r[t]=Pm(a,n);ln(e,d,f,_)}else l&&(Rm(e,d,l,_),r[t]=void 0)}}const ho=/(?:Once|Passive|Capture)$/;function xm(e){let t;if(ho.test(e)){t={};let a;for(;a=e.match(ho);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):nn(e.slice(2)),t]}let xi=0;const Nm=Promise.resolve(),vm=()=>xi||(Nm.then(()=>xi=0),xi=Date.now());function Pm(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Xt(Mm(a,s.value),t,5,[a])};return s.value=e,s.attached=vm(),s}function Mm(e,t){if(we(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const go=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,km=(e,t,s,a,n,r)=>{const l=n==="svg";t==="class"?Am(e,a,l):t==="style"?Tm(e,s,a):ds(t)?Ks(t)||Om(e,t,s,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Im(e,t,a,l))?(fo(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&po(e,t,a,l,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!st(a))?fo(e,tn(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),po(e,t,a,l))};function Im(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&go(t)&&Le(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return go(t)&&st(s)?!1:t in e}const Nn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return we(t)?s=>_s(t,s):t};function wm(e){e.target.composing=!0}function Eo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const en=Symbol("_assign"),he={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[en]=Nn(n);const r=a||n.props&&n.props.type==="number";ln(e,t?"change":"input",l=>{if(l.target.composing)return;let d=e.value;s&&(d=d.trim()),r&&(d=ps(d)),e[en](d)}),s&&ln(e,"change",()=>{e.value=e.value.trim()}),t||(ln(e,"compositionstart",wm),ln(e,"compositionend",Eo),ln(e,"change",Eo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:r}},l){if(e[en]=Nn(l),e.composing)return;const d=(r||e.type==="number")&&!/^0\d/.test(e.value)?ps(e.value):e.value,_=t==null?"":t;d!==_&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===_)||(e.value=_))}},ut={deep:!0,created(e,t,s){e[en]=Nn(s),ln(e,"change",()=>{const a=e._modelValue,n=es(e),r=e.checked,l=e[en];if(we(a)){const d=qs(a,n),_=d!==-1;if(r&&!_)l(a.concat(n));else if(!r&&_){const f=[...a];f.splice(d,1),l(f)}}else if(En(a)){const d=new Set(a);r?d.add(n):d.delete(n),l(d)}else l(So(e,r))})},mounted:Co,beforeUpdate(e,t,s){e[en]=Nn(s),Co(e,t,s)}};function Co(e,{value:t,oldValue:s},a){e._modelValue=t;let n;if(we(t))n=qs(t,a.props.value)>-1;else if(En(t))n=t.has(a.props.value);else{if(t===s)return;n=Dn(t,So(e,!0))}e.checked!==n&&(e.checked=n)}const Et={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const n=En(t);ln(e,"change",()=>{const r=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?ps(es(l)):es(l));e[en](e.multiple?n?new Set(r):r:r[0]),e._assigning=!0,pa(()=>{e._assigning=!1})}),e[en]=Nn(a)},mounted(e,{value:t}){Ao(e,t)},beforeUpdate(e,t,s){e[en]=Nn(s)},updated(e,{value:t}){e._assigning||Ao(e,t)}};function Ao(e,t){const s=e.multiple,a=we(t);if(!(s&&!a&&!En(t))){for(let n=0,r=e.options.length;n<r;n++){const l=e.options[n],d=es(l);if(s)if(a){const _=typeof d;_==="string"||_==="number"?l.selected=t.some(f=>String(f)===String(d)):l.selected=qs(t,d)>-1}else l.selected=t.has(d);else if(Dn(es(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function es(e){return"_value"in e?e._value:e.value}function So(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const $m=["ctrl","shift","alt","meta"],Dm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>$m.some(s=>e[`${s}Key`]&&!t.includes(s))},Pt=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...r)=>{for(let l=0;l<t.length;l++){const d=Dm[t[l]];if(d&&d(n,t))return}return e(n,...r)})},Lm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ct=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const r=nn(n.key);if(t.some(l=>l===r||Lm[l]===r))return e(n)})},Um=_t({patchProp:km},Em);let bo;function Ym(){return bo||(bo=Lf(Um))}const Xm=(...e)=>{const t=Ym().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=Fm(a);if(!n)return;const r=t._component;!Le(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,Gm(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function Gm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Fm(e){return st(e)?document.querySelector(e):e}const Rt=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},Vm={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},Hm={key:0,class:"nxp-ec-admin-error"},Bm={class:"nxp-ec-admin-error__title"},Km={class:"nxp-ec-admin-error__body"};function jm(e,t,s,a,n,r){return b(),y("div",null,[n.error?(b(),y("div",Hm,[i("h2",Bm,c(r.fallbackTitle),1),i("p",Km,c(r.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>r.reload&&r.reload(...l))},c(r.reloadLabel),1)])):Sf(e.$slots,"default",{key:1})])}const Jm=Rt(Vm,[["render",jm]]),Wm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},qm={class:"nxp-ec-admin-panel__header"},zm={class:"nxp-ec-admin-panel__title"},Qm={class:"nxp-ec-admin-panel__lead"},Zm={class:"nxp-ec-admin-panel__actions"},eh=["disabled"],th={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},nh={key:1,class:"nxp-ec-dashboard"},sh={class:"nxp-ec-dashboard__metrics"},ih={class:"nxp-ec-dashboard__card"},ah={class:"nxp-ec-dashboard__value"},oh={class:"nxp-ec-dashboard__hint"},rh={class:"nxp-ec-dashboard__card"},lh={class:"nxp-ec-dashboard__value"},ch={class:"nxp-ec-dashboard__hint"},dh={class:"nxp-ec-dashboard__card"},uh={class:"nxp-ec-dashboard__value"},_h={class:"nxp-ec-dashboard__hint"},ph={class:"nxp-ec-dashboard__card"},fh={class:"nxp-ec-dashboard__value"},mh={class:"nxp-ec-dashboard__hint"},hh={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},gh={class:"nxp-ec-dashboard__checklist-header"},Eh={id:"dashboard-checklist-heading"},Ch={class:"nxp-ec-dashboard__checklist-progress"},Ah={class:"nxp-ec-dashboard__checklist-list"},Sh={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},bh={key:0,class:"fa-solid fa-circle-check"},Th={key:1,class:"fa-regular fa-circle"},yh={class:"nxp-ec-dashboard__checklist-label"},Rh=["href","title"],Oh={class:"nxp-ec-sr-only"},xh=Rt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,a=s.translate,n=s.state,r=Ee(()=>{var u;const g=(u=n.summary)==null?void 0:u.currency;return typeof g=="string"&&g.trim()!==""?g.trim():"USD"}),l=(g=0)=>{const u=(Number(g)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:r.value}).format(u)}catch(T){return`${r.value} ${u.toFixed(2)}`}},d=Ee(()=>Array.isArray(n.checklist)?n.checklist:[]),_=Ee(()=>d.value.filter(g=>g.completed).length),f=g=>{switch(g){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return g}};return(g,u)=>(b(),y("section",Wm,[i("header",qm,[i("div",null,[i("h2",zm,c(o(a)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",Qm,c(o(a)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Zm,[i("button",{class:"nxp-ec-btn",type:"button",onClick:u[0]||(u[0]=T=>g.$emit("refresh")),disabled:o(n).loading},c(o(a)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,eh)])]),o(n).error?(b(),y("div",th,c(o(n).error),1)):(b(),y("div",nh,[i("div",sh,[i("article",ih,[i("h3",null,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",ah,c(o(n).summary.products.active),1),i("p",oh,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(o(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",rh,[i("h3",null,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",lh,c(l(o(n).summary.orders.revenue_today)),1),i("p",ch,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(o(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",dh,[i("h3",null,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",uh,c(o(n).summary.customers.total),1),i("p",_h,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",ph,[i("h3",null,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",fh,c(l(o(n).summary.orders.revenue_month)),1),i("p",mh,c(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[r.value.value],"dashboardMetricCurrency")),1)])]),i("section",hh,[i("header",gh,[i("h3",Eh,c(o(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Ch,c(_.value)+" / "+c(d.value.length),1)]),i("ul",Ah,[(b(!0),y(Ne,null,Xe(d.value,T=>(b(),y("li",{key:T.id,class:He({"is-complete":T.completed})},[i("span",Sh,[T.completed?(b(),y("span",bh)):(b(),y("span",Th))]),i("span",yh,c(o(a)(T.label,f(T.label))),1),T.link?(b(),y("a",{key:0,href:T.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:o(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[u[1]||(u[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",Oh,c(o(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Rh)):ce("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),Nh={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},vh={id:"nxp-ec-products-caption",class:"visually-hidden"},Ph={scope:"col"},Mh={scope:"col"},kh={scope:"col"},Ih={scope:"col"},wh={scope:"col"},$h={scope:"col"},Dh={scope:"col"},Lh={scope:"col"},Uh={scope:"col",class:"nxp-ec-admin-table__actions"},Yh={key:0},Xh={colspan:"8",class:"nxp-ec-admin-table__empty"},Gh=["data-label"],Fh={class:"nxp-ec-admin-table__primary"},Vh={class:"nxp-ec-products-table__title"},Hh={class:"nxp-ec-products-table__slug"},Bh={key:0,class:"nxp-ec-products-table__badge"},Kh={class:"nxp-ec-status nxp-ec-status--muted"},jh={key:1,class:"nxp-ec-products-table__badge"},Jh={class:"nxp-ec-status nxp-ec-status--featured"},Wh=["data-label"],qh={key:0},zh={key:1},Qh=["data-label"],Zh=["data-label"],eg=["data-label"],tg={key:0},ng={key:1},sg=["data-label"],ig=["disabled","aria-pressed","title","aria-label","onClick"],ag={class:"nxp-ec-sr-only"},og=["data-label"],rg={class:"nxp-ec-admin-table__actions"},lg=["onClick","title","disabled","aria-label"],cg={class:"nxp-ec-sr-only"},dg=["onClick","title","disabled","aria-label"],ug={class:"nxp-ec-sr-only"},Ni=1,ts=-1,vi=0,_g={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1},currentUserId:{type:Number,default:0}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,a=Ee(()=>(t.baseCurrency||"USD").toUpperCase()),n=(T,m=!1)=>{const M=Number(T);if(Number.isFinite(M))return M===ts?ts:M===vi?vi:Ni;if(m)return ts;if(typeof T=="string"){const v=T.trim().toLowerCase();if(v==="out_of_stock"||v==="out-of-stock"||v==="-1")return ts;if(v==="inactive"||v==="0")return vi}return Ni},r=T=>{var R;const m=n((R=T==null?void 0:T.status)!=null?R:T==null?void 0:T.active,T==null?void 0:T.out_of_stock),M=m===Ni,v=m===ts;return{status:m,isActive:M,isOutOfStock:v,label:M?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):v?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:M?"nxp-ec-status--active":v?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:M?"fa-solid fa-circle-check":v?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},l=T=>(T==null?void 0:T.checked_out)&&Number(T.checked_out)!==0&&Number(T.checked_out)!==Number(t.currentUserId||0),d=T=>{var v,R;const m=(R=(v=T==null?void 0:T.checked_out_user)==null?void 0:v.name)!=null?R:"",M=(T==null?void 0:T.checked_out)===Number(t.currentUserId||0)?s("JGLOBAL_YOU","You"):m||s("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Another user");return s("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[M],"productLockedBy")},_=T=>{var A,O,U,X;const m=(O=(A=T==null?void 0:T.summary)==null?void 0:A.variants)!=null?O:{};if(m.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const M=Number.isFinite(m.price_min_cents)?m.price_min_cents:null,v=Number.isFinite(m.price_max_cents)?m.price_max_cents:null;if(M===null)return"";const R=m.currency||((X=(U=T==null?void 0:T.variants)==null?void 0:U[0])==null?void 0:X.currency)||a.value;return v===null||v===M?u(M,R):`${u(M,R)}  ${u(v,R)}`},f=T=>{var v,R;const m=(R=(v=T==null?void 0:T.summary)==null?void 0:v.variants)!=null?R:{},M=Number.isFinite(m.count)?m.count:Array.isArray(T==null?void 0:T.variants)?T.variants.length:0;return M===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(M)])},g=T=>{if(!Array.isArray(T)||!T.length)return"";const m=T.map(R=>(R==null?void 0:R.title)||(R==null?void 0:R.slug)).filter(R=>!!R);if(!m.length)return"";if(m.length<=3)return m.join(", ");const M=m.slice(0,3).join(", "),v=m.length-3;return`${M} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(v)])}`},u=(T,m)=>`${(T/100).toFixed(2)} ${m}`;return(T,m)=>(b(),y("table",Nh,[i("caption",vh,c(o(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",Ph,c(o(s)("JGRID_HEADING_ID","ID")),1),i("th",Mh,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",kh,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",Ih,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",wh,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",$h,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",Dh,c(o(s)("JSTATUS","Status")),1),i("th",Lh,c(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",Uh,c(o(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?ce("",!0):(b(),y("tr",Yh,[i("td",Xh,c(o(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(b(!0),y(Ne,null,Xe(e.items,M=>{var v,R,A,O,U,X,W,re,Te,Me,ve,Y;return b(),y("tr",{key:M.id},[i("td",{"data-label":o(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},c(M.id),9,Gh),i("td",Fh,[i("div",Vh,c(M.title),1),i("div",Hh,c(M.slug),1),M.checked_out?(b(),y("div",Bh,[i("span",Kh,[m[0]||(m[0]=i("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),De(" "+c(d(M)),1)])])):ce("",!0),M.featured?(b(),y("div",jh,[i("span",Jh,[m[1]||(m[1]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),De(" "+c(o(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ce("",!0)]),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[_(M)?(b(),y("span",qh,c(_(M)),1)):(b(),y("span",zh,c(o(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,Wh),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},c(f(M)),9,Qh),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[i("span",{class:He(["nxp-ec-status",(R=(v=M.summary)==null?void 0:v.variants)!=null&&R.stock_zero?"nxp-ec-status--danger":(O=(A=M.summary)==null?void 0:A.variants)!=null&&O.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(X=(U=M.summary)==null?void 0:U.variants)!=null&&X.stock_zero||((re=(W=M.summary)==null?void 0:W.variants)==null?void 0:re.stock_total)===0?(b(),y(Ne,{key:0},[De(c(o(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(b(),y(Ne,{key:1},[De(c(o(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ve=(Me=(Te=M.summary)==null?void 0:Te.variants)==null?void 0:Me.stock_total)!=null?ve:0)])),1)],64))],2)],8,Zh),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(Y=M.categories)!=null&&Y.length?(b(),y("span",tg,c(g(M.categories)),1)):(b(),y("span",ng,c(o(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,eg),i("td",{"data-label":o(s)("JSTATUS","Status")},[i("button",{type:"button",class:He(["nxp-ec-status","nxp-ec-status-button",r(M).className]),disabled:e.saving||l(M),"aria-pressed":r(M).isActive?"true":"false",title:r(M).title,"aria-label":r(M).title,onClick:ke=>T.$emit("toggle-active",M)},[i("i",{class:He(r(M).icon),"aria-hidden":"true"},null,2),De(" "+c(r(M).label)+" ",1),i("span",ag,c(o(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,ig)],8,sg),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},c(M.modified||M.created),9,og),i("td",rg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ke=>T.$emit("edit",M),title:o(s)("JGLOBAL_EDIT","Edit"),disabled:e.saving,"aria-label":o(s)("JGLOBAL_EDIT","Edit")},[m[2]||(m[2]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",cg,c(o(s)("JGLOBAL_EDIT","Edit")),1)],8,lg),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ke=>T.$emit("delete",M),title:o(s)("JTRASH","Delete"),disabled:e.saving||l(M),"aria-label":o(s)("JTRASH","Delete")},[m[3]||(m[3]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",ug,c(o(s)("JTRASH","Delete")),1)],8,dg)])])}),128))])]))}};class pg{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const a={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};a.headers={...a.headers,...s.headers||{}};const n=String(a.method||"GET").toUpperCase();let r=t;this.token&&(a.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(r=this.ensureTokenOnUrl(r)));const l=await fetch(r,a);let d=null;const _=await l.text();if(_)try{d=JSON.parse(_)}catch(f){}if(!l.ok){const f=new Error((d==null?void 0:d.message)||`Request failed with status ${l.status}`);throw f.code=l.status,f.details=(d==null?void 0:d.data)||(d==null?void 0:d.errors)||null,f}if((d==null?void 0:d.success)===!1){const f=new Error(d.message||"Unknown API error");throw f.details=d.data||d.errors||null,f}return d!=null?d:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const a=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,a);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(a){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var T,m,M,v;const l=new URLSearchParams({limit:String(s),start:String(a)});n&&l.set("search",n);const d=`${t}&${l.toString()}`,f=(T=(await this.get(d,{signal:r})).data)!=null?T:{},g=(M=(m=f.items)!=null?m:f.data)!=null?M:[],u=(v=f.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:g,pagination:u}}async fetchCategories({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var f,g,u;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(f=(await this.get(l,{signal:r})).data)!=null?f:{};return{items:(g=_.items)!=null?g:[],pagination:(u=_.pagination)!=null?u:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:a=0,search:n="",state:r="",signal:l}){var T,m,M,v;const d=this.mergeParams(t,{limit:s,start:a,search:n||void 0,state:r||void 0}),f=(T=(await this.get(d,{signal:l})).data)!=null?T:{},g=(M=(m=f.items)!=null?m:f.data)!=null?M:[],u=(v=f.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:g,pagination:u}}async fetchCustomers({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var u,T,m;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(u=(await this.get(l,{signal:r})).data)!=null?u:{},f=(T=_.items)!=null?T:[],g=(m=_.pagination)!=null?m:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:g}}async fetchCustomer({endpoint:t,email:s}){var r,l;const a=this.mergeParams(t,{email:s});return(l=(r=(await this.get(a)).data)==null?void 0:r.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var f,g,u;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(f=(await this.get(l,{signal:r})).data)!=null?f:{};return{items:(g=_.items)!=null?g:[],pagination:(u=_.pagination)!=null?u:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?r:null}async updateCoupon({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.coupon)!=null?d:null}async deleteCoupons({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchTaxRates({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var f,g,u;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(f=(await this.get(l,{signal:r})).data)!=null?f:{};return{items:(g=_.items)!=null?g:[],pagination:(u=_.pagination)!=null?u:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?r:null}async updateTaxRate({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.rate)!=null?d:null}async deleteTaxRates({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchShippingRules({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var f,g,u;const l=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(f=(await this.get(l,{signal:r})).data)!=null?f:{};return{items:(g=_.items)!=null?g:[],pagination:(u=_.pagination)!=null?u:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?r:null}async updateShippingRule({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.rule)!=null?d:null}async deleteShippingRules({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchLogs({endpoint:t,limit:s=20,start:a=0,search:n="",entity:r="",signal:l}){var g,u,T;const d=this.mergeParams(t,{limit:s,start:a,search:n||void 0,entity:r||void 0}),f=(g=(await this.get(d,{signal:l})).data)!=null?g:{};return{items:(u=f.items)!=null?u:[],pagination:(T=f.pagination)!=null?T:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var a;return t?(a=(await this.get(t)).data)!=null?a:{}:{}}async fetchSettings({endpoint:t}){var a,n;return t?(n=(a=(await this.get(t)).data)==null?void 0:a.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,r;return(r=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?r:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:a=""}){var l,d;const n=this.mergeParams(t,{id:s||void 0,order_no:a||void 0});return(d=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?d:null}async transitionOrder({endpoint:t,id:s,state:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.post(n,{state:a})).data)==null?void 0:l.order)!=null?d:null}async bulkTransitionOrders({endpoint:t,ids:s,state:a}){var l;const n={ids:s,state:a};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:a}){var r,l;return(l=(r=(await this.post(t,{id:s,message:a})).data)==null?void 0:r.order)!=null?l:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:a}){var l,d;const n={id:s||void 0,order_no:a||void 0};return(d=(l=(await this.post(t,n)).data)==null?void 0:l.invoice)!=null?d:null}async exportOrders({endpoint:t,search:s="",state:a=""}){var l,d;const n=this.mergeParams(t,{search:s||void 0,state:a||void 0});return(d=(l=(await this.get(n)).data)==null?void 0:l.export)!=null?d:null}async updateOrderTracking({endpoint:t,id:s,tracking:a}){var r,l;return(l=(r=(await this.post(t,{id:s,...a})).data)==null?void 0:r.order)!=null?l:null}async sendOrderEmail({endpoint:t,id:s,type:a}){var r,l;return(l=(r=(await this.post(t,{id:s,type:a})).data)==null?void 0:r.order)!=null?l:null}async recordTransaction({endpoint:t,id:s,amountCents:a,reference:n,note:r}){var d,_;return(_=(d=(await this.post(t,{id:s,amount_cents:a,reference:n||void 0,note:r||void 0})).data)==null?void 0:d.order)!=null?_:null}async resendDownloads({endpoint:t,id:s}){var n,r;return(r=(n=(await this.post(t,{id:s})).data)==null?void 0:n.order)!=null?r:null}async resetDownload({endpoint:t,downloadId:s,orderId:a}){var r;return(r=(await this.post(t,{download_id:s,order_id:a||void 0})).data)!=null?r:null}async checkoutOrder({endpoint:t,id:s}){var r,l;const a=this.mergeParams(t,{id:s});return(l=(r=(await this.post(a,{id:s})).data)==null?void 0:r.order)!=null?l:null}async checkinOrder({endpoint:t,id:s,force:a=!1}){var l,d;const n=this.mergeParams(t,{id:s,force:a?1:void 0});return(d=(l=(await this.post(n,{id:s})).data)==null?void 0:l.order)!=null?d:null}async createProduct({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?r:null}async updateProduct({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.item)!=null?d:null}async deleteProducts({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:[]}async checkoutProduct({endpoint:t,id:s}){var r,l;const a=this.mergeParams(t,{id:s});return(l=(r=(await this.post(a,{id:s})).data)==null?void 0:r.item)!=null?l:null}async checkinProduct({endpoint:t,id:s,force:a=!1}){var l,d;const n=this.mergeParams(t,{id:s,force:a?1:void 0});return(d=(l=(await this.post(n,{id:s})).data)==null?void 0:l.item)!=null?d:null}async fetchDigitalFiles({endpoint:t,productId:s,variantId:a=null,signal:n}){var d,_;const r=this.mergeParams(t,{product_id:s,variant_id:a||void 0});return(_=(d=(await this.get(r,{signal:n})).data)==null?void 0:d.files)!=null?_:[]}async uploadDigitalFile({endpoint:t,productId:s,file:a,variantId:n=null,version:r="1.0"}){var _,f;const l=new FormData;return l.append("product_id",s),n&&l.append("variant_id",n),r&&l.append("version",r),l.append("file",a),(f=(_=(await this.request(t,{method:"POST",body:l})).data)==null?void 0:_.file)!=null?f:null}async deleteDigitalFile({endpoint:t,fileId:s}){var n,r;return(r=(n=(await this.post(t,{id:s})).data)==null?void 0:n.deleted)!=null?r:null}async createCategory({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?r:null}async updateCategory({endpoint:t,id:s,data:a}){var l,d;const n=this.mergeParams(t,{id:s});return(d=(l=(await this.put(n,a)).data)==null?void 0:l.item)!=null?d:null}async deleteCategories({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async checkoutCategory({endpoint:t,id:s}){var r,l;const a=this.mergeParams(t,{id:s});return(l=(r=(await this.post(a,{id:s})).data)==null?void 0:r.item)!=null?l:null}async checkinCategory({endpoint:t,id:s,force:a=!1}){var l,d;const n=this.mergeParams(t,{id:s,force:a?1:void 0});return(d=(l=(await this.post(n,{id:s})).data)==null?void 0:l.item)!=null?d:null}async gdprExport({endpoint:t,email:s}){var r,l;const a=this.mergeParams(t,{email:s});return(l=(r=(await this.get(a)).data)==null?void 0:r.export)!=null?l:null}async gdprAnonymise({endpoint:t,email:s}){var n,r,l,d;const a=await this.post(t,{email:s});return{affected:(r=(n=a.data)==null?void 0:n.affected)!=null?r:0,message:(d=(l=a.data)==null?void 0:l.message)!=null?d:""}}mergeParams(t,s={}){const a=new URLSearchParams;return Object.entries(s).forEach(([n,r])=>{r==null||r===""||a.set(n,String(r))}),a.toString()?`${t}${t.includes("?")?"&":"?"}${a.toString()}`:t}}const Mt=e=>new pg(e),fg={class:"nxp-ec-modal__dialog"},mg={class:"nxp-ec-modal__header"},hg={id:"product-modal-title",class:"nxp-ec-modal__title"},gg={class:"nxp-ec-modal__header-actions"},Eg=["disabled","title","aria-label"],Cg={class:"nxp-ec-sr-only"},Ag=["disabled","title","aria-label"],Sg={class:"nxp-ec-sr-only"},bg=["title","aria-label"],Tg={class:"nxp-ec-sr-only"},yg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Rg={class:"nxp-ec-editor-tabs",role:"tablist"},Og={class:"nxp-ec-editor-panel"},xg={class:"nxp-ec-form-field"},Ng={class:"nxp-ec-form-label",for:"product-title"},vg={class:"nxp-ec-form-field"},Pg={class:"nxp-ec-form-label",for:"product-slug"},Mg=["placeholder"],kg={class:"nxp-ec-form-field"},Ig={class:"nxp-ec-form-label",for:"product-short-desc"},wg={class:"nxp-ec-form-field"},$g={class:"nxp-ec-form-label",for:"product-long-desc"},Dg={class:"nxp-ec-form-field"},Lg={class:"nxp-ec-form-label",for:"product-status"},Ug={value:1},Yg={value:-1},Xg={value:0},Gg={class:"nxp-ec-form-help"},Fg={class:"nxp-ec-form-field"},Vg={class:"nxp-ec-form-label",for:"product-type"},Hg={value:"physical"},Bg={value:"digital"},Kg={class:"nxp-ec-form-help"},jg={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Jg={class:"nxp-ec-form-label",for:"product-featured"},Wg={class:"nxp-ec-form-help"},qg={class:"nxp-ec-editor-panel"},zg={class:"nxp-ec-form-field"},Qg={class:"nxp-ec-form-label",for:"product-images"},Zg={id:"product-images",class:"nxp-ec-image-list"},eE=["id","onUpdate:modelValue","placeholder"],tE={class:"nxp-ec-image-row__actions"},nE=["onClick"],sE=["onClick","disabled"],iE=["onClick","disabled"],aE=["onClick","aria-label"],oE={class:"nxp-ec-form-help"},rE={class:"nxp-ec-editor-panel"},lE={class:"nxp-ec-form-field"},cE={class:"nxp-ec-form-label",for:"product-category-select"},dE=["value"],uE={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},_E=["onClick","aria-label"],pE={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},fE=["onKeydown","placeholder"],mE={class:"nxp-ec-form-help"},hE={class:"nxp-ec-variant-section"},gE={class:"nxp-ec-variant-section__header"},EE={class:"nxp-ec-variant-section__title"},CE={class:"nxp-ec-form-help"},AE={class:"nxp-ec-variant-card__header"},SE={class:"nxp-ec-variant-card__title"},bE=["onClick"],TE=["onClick","disabled"],yE={class:"nxp-ec-variant-card__grid"},RE={class:"nxp-ec-form-field"},OE=["for"],xE=["id","onUpdate:modelValue"],NE={class:"nxp-ec-form-field"},vE=["for"],PE=["id","onUpdate:modelValue","onBlur"],ME={class:"nxp-ec-form-field"},kE=["for"],IE=["id","onUpdate:modelValue"],wE={class:"nxp-ec-form-field"},$E=["for"],DE=["id","onUpdate:modelValue"],LE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},UE=["for"],YE=["id","onUpdate:modelValue"],XE={class:"nxp-ec-form-help"},GE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},FE=["for"],VE=["id","onUpdate:modelValue"],HE={class:"nxp-ec-variant-options"},BE={class:"nxp-ec-variant-options__header"},KE={class:"nxp-ec-variant-options__title"},jE=["onClick"],JE={class:"nxp-ec-form-help"},WE=["id","onUpdate:modelValue","placeholder"],qE=["id","onUpdate:modelValue","placeholder"],zE=["onClick","aria-label"],QE={key:1,class:"nxp-ec-editor-panel nxp-ec-editor-panel--digital"},ZE={class:"nxp-ec-admin-alert nxp-ec-admin-alert--info"},eC={style:{"margin-bottom":"0"}},tC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},nC={key:1,class:"nxp-ec-admin-callout nxp-ec-admin-callout--info"},sC={class:"nxp-ec-admin-callout__content"},iC={class:"nxp-ec-admin-callout__title"},aC={class:"nxp-ec-digital-grid"},oC={class:"nxp-ec-digital-card"},rC={class:"nxp-ec-form-field"},lC={class:"nxp-ec-form-label",for:"digital-file-input"},cC=["disabled"],dC={class:"nxp-ec-form-field"},uC={class:"nxp-ec-form-label",for:"digital-version"},_C=["disabled"],pC={class:"nxp-ec-form-field"},fC={class:"nxp-ec-form-label",for:"digital-variant"},mC=["disabled"],hC={value:""},gC=["value"],EC={class:"nxp-ec-form-help"},CC={class:"nxp-ec-admin-form__actions"},AC=["disabled"],SC={class:"nxp-ec-digital-card"},bC={class:"nxp-ec-digital-card__header"},TC={key:0},yC={key:0,class:"nxp-ec-form-help"},RC={key:1,class:"nxp-ec-digital-table"},OC={class:"nxp-ec-digital-meta"},xC={class:"nxp-ec-admin-panel__muted"},NC={key:0,class:"nxp-ec-admin-panel__muted"},vC={class:"nxp-ec-digital-actions"},PC=["disabled","onClick"],MC={class:"nxp-ec-modal__actions"},kC=["disabled"],IC=["disabled"],To="product-editor-form",wC=Rt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ee(()=>(s.baseCurrency||"USD").toUpperCase()),l=We("general"),d=Mt({token:s.csrfToken||""}),_=Ee(()=>s.digitalEndpoints||{});Ee(()=>s.csrfToken||"");const f=P=>{var p,L,B,F,G,ae,q,Ge;if(P==null)return null;if(typeof P=="string"){const Fe=P.trim();return Fe===""?null:{id:0,title:Fe,slug:""}}if(typeof P=="object"){const Fe=Number.parseInt((L=(p=P.id)!=null?p:P.value)!=null?L:0,10)||0,nt=(q=(ae=(G=(F=(B=P.title)!=null?B:P.name)!=null?F:P.text)!=null?G:P.label)!=null?ae:P.slug)!=null?q:"",it=String(nt!=null?nt:"").trim(),xt=String((Ge=P.slug)!=null?Ge:"").trim(),At=P.parent_id!==null&&P.parent_id!==void 0&&Number.parseInt(P.parent_id,10)||null;return Fe<=0&&it===""?null:{id:Fe>0?Fe:0,title:it!==""?it:xt,slug:xt,parent_id:At}}return null},g=P=>{const p=Number(P);if(Number.isFinite(p))return p===-1?-1:p===0?0:1;if(typeof P=="string"){const L=P.trim().toLowerCase();if(L==="out_of_stock"||L==="out-of-stock"||L==="-1")return-1;if(L==="inactive"||L==="0")return 0}return 1},u=qe({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[],product_type:"physical",digital_files:[]}),T=We(""),m=We(!1),M=Ee(()=>(u.product_type||"physical").toString().toLowerCase()),v=Ee(()=>M.value==="digital"),R=qe({files:[],loading:!1,uploading:!1,deletingId:0,error:"",version:"1.0",variantId:""}),A=We(null),O=We(null),U=()=>{A.value=null,O.value&&(O.value.value="")},X=(P,p,L=new Set)=>{if(!P||L.has(P))return 0;L.add(P);const B=p.find(F=>F.id===P);return!B||!B.parent_id?0:1+X(B.parent_id,p,L)},W=P=>{if(!P)return"";const p=Array.isArray(s.categoryOptions)?s.categoryOptions:[],L=X(P.id,p);return L===0?P.title:"".repeat(L)+" "+P.title},re=Ee(()=>{const p=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(f).filter(G=>G&&G.id>0&&G.title!==""),L=new Map;p.forEach(G=>{L.set(G.id,G)}),u.categories.forEach(G=>{var ae;G.id>0&&G.title&&!L.has(G.id)&&L.set(G.id,{id:G.id,title:G.title,slug:(ae=G.slug)!=null?ae:"",parent_id:G.parent_id!==null&&G.parent_id!==void 0?G.parent_id:null})});const B=Array.from(L.values()),F=(G=null,ae=0)=>B.filter(q=>q.parent_id===G).sort((q,Ge)=>q.title.localeCompare(Ge.title)).flatMap(q=>[q,...F(q.id,ae+1)]);return F()}),Te=Ee(()=>{const P=new Map;return re.value.forEach(p=>{var L;P.set(p.id,{title:p.title,slug:(L=p.slug)!=null?L:""})}),P}),Me=Ee({get:()=>u.categories.filter(p=>p&&p.id>0).map(p=>p.id),set:P=>{const p=Array.isArray(P)?P:[],L=Array.from(new Set(p.map(G=>Number.parseInt(G!=null?G:0,10)||0).filter(G=>G>0))),B=u.categories.filter(G=>!(G.id>0)),F=L.map(G=>{const ae=Te.value.get(G),q=u.categories.find(nt=>nt.id===G),Ge=(ae==null?void 0:ae.title)||(q==null?void 0:q.title)||"",Fe=(ae==null?void 0:ae.slug)||(q==null?void 0:q.slug)||"";return Ge===""?null:{id:G,title:Ge,slug:Fe}}).filter(G=>G!==null);u.categories.splice(0,u.categories.length,...F,...B)}}),ve=Ee(()=>s.product&&s.product.id?"edit":"create"),Y=()=>({id:0,sku:"",price:"",currency:r.value,stock:0,weight:"",active:!0,options:[],is_digital:v.value}),ke=()=>({name:"",value:""}),Pe=P=>P?P.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",K=()=>{m.value=!0,u.slug=Pe(u.slug)},Se=P=>{const L=(Array.isArray(P)?P:[]).map(f).filter(G=>G&&(G.id>0||G.title!=="")),B=new Set,F=[];L.forEach(G=>{const ae=G.id>0?`id:${G.id}`:`title:${G.title.toLowerCase()}`;B.has(ae)||(B.add(ae),F.push(G))}),u.categories.splice(0,u.categories.length,...F)},Ce=P=>{u.variants.splice(0,u.variants.length,...P),Q()},pe=P=>{u.images.splice(0,u.images.length,...P)},w=P=>Array.isArray(P)?P.map(p=>{var L,B,F;return{name:String((B=(L=p==null?void 0:p.name)!=null?L:p==null?void 0:p.key)!=null?B:"").trim(),value:String((F=p==null?void 0:p.value)!=null?F:"").trim()}}):P&&typeof P=="object"?Object.entries(P).map(([p,L])=>({name:String(p!=null?p:"").trim(),value:String(L!=null?L:"").trim()})):[],k=P=>Array.isArray(P)?P.map(p=>{var L,B,F,G,ae,q,Ge;return{id:Number.parseInt((L=p==null?void 0:p.id)!=null?L:0,10)||0,product_id:Number.parseInt((B=p==null?void 0:p.product_id)!=null?B:0,10)||0,variant_id:(p==null?void 0:p.variant_id)!==null&&(p==null?void 0:p.variant_id)!==void 0?Number.parseInt(p.variant_id,10)||0:null,filename:String((F=p==null?void 0:p.filename)!=null?F:"").trim(),storage_path:String((G=p==null?void 0:p.storage_path)!=null?G:"").trim(),file_size:Number.parseInt((ae=p==null?void 0:p.file_size)!=null?ae:0,10)||0,mime_type:(p==null?void 0:p.mime_type)!==null&&(p==null?void 0:p.mime_type)!==void 0?String(p.mime_type).trim():"",version:String((q=p==null?void 0:p.version)!=null?q:"1.0").trim()||"1.0",created:String((Ge=p==null?void 0:p.created)!=null?Ge:"").trim()}}).filter(p=>p.id>0&&p.filename!==""):[],$=P=>!Array.isArray(P)||P.length===0?[Y()]:P.map(p=>{var L,B,F,G;return{id:Number.parseInt((L=p==null?void 0:p.id)!=null?L:0,10)||0,sku:String((B=p==null?void 0:p.sku)!=null?B:"").trim(),price:(p==null?void 0:p.price)!=null?String(p.price):Number.isFinite(p==null?void 0:p.price_cents)?(p.price_cents/100).toFixed(2):"",currency:String((F=p==null?void 0:p.currency)!=null?F:r.value).toUpperCase(),stock:Number.parseInt((G=p==null?void 0:p.stock)!=null?G:0,10)||0,weight:(p==null?void 0:p.weight)!=null?String(p.weight):"",active:(p==null?void 0:p.active)!==void 0?!!p.active:!0,options:w(p==null?void 0:p.options),is_digital:(p==null?void 0:p.is_digital)!==void 0?!!p.is_digital:v.value}}),Q=()=>{u.variants.forEach(P=>{(P.is_digital===void 0||P.is_digital===null)&&(P.is_digital=v.value),v.value&&(P.weight="")})},h=P=>{var G,ae,q,Ge,Fe;const p=P?JSON.parse(JSON.stringify(P)):{};u.title=(G=p.title)!=null?G:"",u.slug=(ae=p.slug)!=null?ae:"",u.short_desc=(q=p.short_desc)!=null?q:"",u.long_desc=(Ge=p.long_desc)!=null?Ge:"",u.status=g(p.status!==void 0?p.status:p.active),u.featured=p.featured!==void 0?!!p.featured:!1,u.product_type=typeof p.product_type=="string"&&p.product_type!==""?p.product_type.toLowerCase():"physical";const L=Array.isArray(p.images)?p.images.map(nt=>String(nt!=null?nt:"").trim()).filter(Boolean):[];pe(L);const B=Array.isArray(p.categories)?p.categories:[];Se(B);const F=k((Fe=p.digital_files)!=null?Fe:[]);u.digital_files.splice(0,u.digital_files.length,...F),R.files=F.slice(),R.error="",R.variantId="",R.version="1.0",R.deletingId=0,U(),T.value="",Ce($(p.variants)),m.value=!!u.slug},C=Ee(()=>u.variants.map((P,p)=>{var G,ae;const L=String((G=P==null?void 0:P.sku)!=null?G:"").trim(),B=Array.isArray(P==null?void 0:P.options)?P.options.filter(q=>(q==null?void 0:q.name)&&(q==null?void 0:q.value)).map(q=>`${String(q.name).trim()}: ${String(q.value).trim()}`).join(", "):"",F=n("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(p+1)]);return{id:Number.parseInt((ae=P==null?void 0:P.id)!=null?ae:0,10)||0,label:L||B||F}})),E=P=>{if(!P)return n("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants");const p=C.value.find(L=>L.id===P);return(p==null?void 0:p.label)||n("COM_NXPEASYCART_DIGITAL_VARIANT_SPECIFIC","Variant")},Z=P=>{const p=Number(P)||0;if(p<=0)return n("COM_NXPEASYCART_DIGITAL_FILE_SIZE_UNKNOWN","Unknown size");const L=["B","KB","MB","GB"];let B=0,F=p;for(;F>=1024&&B<L.length-1;)F/=1024,B+=1;return`${F.toFixed(F>=10?0:1)} ${L[B]}`},le=async()=>{var P,p;if(!((P=s.product)!=null&&P.id)){R.files=k(u.digital_files);return}if(!((p=_.value)!=null&&p.list)){R.files=k(u.digital_files);return}R.loading=!0,R.error="";try{const L=await d.fetchDigitalFiles({endpoint:_.value.list,productId:s.product.id}),B=k(L);R.files=B,u.digital_files.splice(0,u.digital_files.length,...B)}catch(L){R.error=(L==null?void 0:L.message)||n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to load digital files.")}finally{R.loading=!1}},be=P=>{var L;const p=(L=P==null?void 0:P.target)==null?void 0:L.files;A.value=p&&p.length?p[0]:null},Re=async()=>{var P,p;if(!((P=s.product)!=null&&P.id)){R.error=n("COM_NXPEASYCART_ERROR_PRODUCT_ID_REQUIRED","Save the product before uploading files.");return}if(!((p=_.value)!=null&&p.upload)){R.error=n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Digital upload endpoint unavailable.");return}if(!A.value){R.error=n("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Select a file to upload.");return}R.uploading=!0,R.error="";try{const L=await d.uploadDigitalFile({endpoint:_.value.upload,productId:s.product.id,variantId:R.variantId&&Number.parseInt(R.variantId,10)||null,version:R.version||"1.0",file:A.value}),B=L?k([L]):[];B.length&&(R.files.unshift(B[0]),u.digital_files.unshift(B[0]))}catch(L){R.error=(L==null?void 0:L.message)||n("COM_NXPEASYCART_ERROR_UPLOAD_FAILED","Upload failed.")}finally{R.uploading=!1,U()}},j=async P=>{var L,B;const p=Number.parseInt((L=P==null?void 0:P.id)!=null?L:0,10)||0;if(!(!p||!((B=_.value)!=null&&B.delete))){R.deletingId=p,R.error="";try{await d.deleteDigitalFile({endpoint:_.value.delete,fileId:p});const F=R.files.filter(G=>G.id!==p);R.files=F,u.digital_files.splice(0,u.digital_files.length,...F)}catch(F){R.error=(F==null?void 0:F.message)||n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to delete file.")}finally{R.deletingId=0}}};tt(()=>s.product,P=>{h(P),l.value="general",l.value==="digital"&&le()},{immediate:!0}),tt(()=>u.title,P=>{m.value||(u.slug=Pe(P))}),tt(r,P=>{u.variants.forEach(p=>{p.currency=P})}),tt(M,P=>{Q(),P!=="digital"&&l.value==="digital"&&(l.value="general")}),tt(l,P=>{P==="digital"&&le()});const fe=()=>{const P=T.value.trim();if(!P)return;const p=P.toLowerCase(),L=u.categories.slice();L.some(F=>F.title.toLowerCase()===p)||(L.push({id:0,title:P,slug:""}),u.categories.splice(0,u.categories.length,...L)),T.value=""},Oe=P=>{if(P<0||P>=u.categories.length)return;const p=u.categories.slice();p.splice(P,1),u.categories.splice(0,u.categories.length,...p)},Ve=()=>{u.variants.push(Y())},S=P=>{u.variants.length<=1||u.variants.splice(P,1)},x=P=>{const p=u.variants[P];p&&(Array.isArray(p.options)||(p.options=[]),p.options.push(ke()))},H=(P,p)=>{const L=u.variants[P];!L||!Array.isArray(L.options)||L.options.splice(p,1)},te=(P,p)=>`${P.id||"new"}-${p}`,J=P=>{const p=u.variants[P];if(!p)return;const L=JSON.parse(JSON.stringify(p));L.id=0,L.sku=[L.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),L.active=!0,u.variants.splice(P+1,0,L)},ne=P=>{const p=u.variants[P];if(!p)return;const L=Number.parseFloat(p.price);Number.isNaN(L)||(p.price=L.toFixed(2))};let de=null,ie=null,se=null,ee=null,Ae="";const ue=()=>{Array.isArray(u.images)||(u.images=[])},ge=P=>{var F,G,ae;if(!P)return"";let p=String(P).trim();if(p==="")return"";try{const q=(ae=(G=(F=window.Joomla)==null?void 0:F.getOptions)==null?void 0:G.call(F,"system.paths",{}))!=null?ae:{},Ge=q.rootFull||window.location.origin,Fe=q.root||"/";p.startsWith(Ge)&&(p=p.substring(Ge.length)),p.startsWith(Fe)&&(p=p.substring(Fe.length))}catch(q){}const L=p.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);L&&L[1]&&(p=L[1]);const B=p.indexOf("#joomlaImage://");return B!==-1&&(p=p.substring(0,B)),p.trim()},ye=(P,{keepIndex:p=!1,appendWhenNoIndex:L=!1,targetIndex:B=null}={})=>{const F=ge(P);if(F==="")return!1;ue();const G=B!==null&&B>=0?B:ee;return G==null||Number.isNaN(G)?L?(u.images.push(F),p||(ee=null,Ae=""),!0):!1:(G>=u.images.length?u.images.push(F):u.images[G]=F,Ae=p?F:"",p||(ee=null,Ae=""),!0)},$e=()=>{ue(),u.images.push("")},N=P=>{ue(),u.images.splice(P,1)},D=(P,p)=>{ue();const L=u.images[P];if(L===void 0)return;const B=P+p;B<0||B>=u.images.length||(u.images.splice(P,1),u.images.splice(B,0,L))},_e=P=>{var B;ue();const p=(B=u.images[P])!=null?B:"";if(typeof window=="undefined")return;const L=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),p);ye(L!=null?L:"",{targetIndex:P})},me=()=>{var G,ae,q,Ge,Fe,nt;const P=(s.mediaModalUrl||"").trim();if(P!=="")return P;const p=(q=(ae=(G=window.Joomla)==null?void 0:G.getOptions)==null?void 0:ae.call(G,"media-picker",{}))!=null?q:{};if(p.modalUrl)return p.modalUrl;const L=(nt=(Fe=(Ge=window.Joomla)==null?void 0:Ge.getOptions)==null?void 0:Fe.call(Ge,"system.paths",{}))!=null?nt:{},B=L.rootFull||L.root||"";return(B?B.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},V=async()=>{var q,Ge,Fe,nt,it,xt,At,Xs,Gs;if(de)return de;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch($t){return null}const P=(Fe=(Ge=(q=window.Joomla)==null?void 0:q.getOptions)==null?void 0:Ge.call(q,"system.paths",{}))!=null?Fe:{},p=P.rootFull||P.root||"",L=(xt=(it=(nt=window.Joomla)==null?void 0:nt.getOptions)==null?void 0:it.call(nt,"com_media",{}))!=null?xt:{},B=(L==null?void 0:L.file_path)||"images",F=(Gs=(Xs=(At=window.Joomla)==null?void 0:At.getOptions)==null?void 0:Xs.call(At,"media-picker",{}))!=null?Gs:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},ae=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return ie=document.createElement("div"),ie.className="nxp-ec-media-picker-host",ie.style.display="none",ie.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${p.replace(/"/g,"&quot;")}"
            root-folder="${B.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${ae}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(F).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(ie),de=ie.querySelector("joomla-field-media"),se=ie.querySelector(".nxp-ec-media-field__input"),de.addEventListener("change",$t=>{var pn,fn,kn,In,Fs,Kt;const Mn=(kn=(fn=(pn=$t.detail)==null?void 0:pn.value)!=null?fn:se==null?void 0:se.value)!=null?kn:"";let Dt=ge(Mn);if(Dt===""&&Ae!==""&&(Dt=Ae),Dt===""&&((In=window.Joomla)!=null&&In.selectedMediaFile)){const Vs=ge((Fs=window.Joomla.selectedMediaFile.url)!=null?Fs:""),Mi=ge((Kt=window.Joomla.selectedMediaFile.path)!=null?Kt:"");Dt=Vs||Mi}ye(Dt)}),de.addEventListener("joomla-dialog:close",()=>{ee=null,Ae=""}),se&&se.addEventListener("change",()=>{var Mn,Dt,pn,fn;if(ee===null)return;let $t=ge((Mn=se.value)!=null?Mn:"");if($t===""&&Ae!==""&&($t=Ae),$t===""&&((Dt=window.Joomla)!=null&&Dt.selectedMediaFile)){const kn=ge((pn=window.Joomla.selectedMediaFile.url)!=null?pn:""),In=ge((fn=window.Joomla.selectedMediaFile.path)!=null?fn:"");$t=kn||In}$t!==""&&ye($t)}),de},Ie=P=>{var G,ae;const p=P==null?void 0:P.detail;if(!p||typeof p!="object")return;const L=ge((G=p.path)!=null?G:""),F=ge((ae=p.url)!=null?ae:"")||L;F===""||ee===null||(Ae=F,ye(F,{keepIndex:!0}))};bt(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",Ie)});const je=async P=>{var B;ue();const p=await V();if(!p||typeof p.show!="function"){_e(P);return}ee=P,p.setAttribute("url",me());const L=(B=u.images[P])!=null?B:"";typeof p.setValue=="function"?p.setValue(L):se&&(se.value=L);try{p.show()}catch(F){ee=null,Ae="",_e(P)}};Bn(()=>{ie&&ie.parentNode&&ie.parentNode.removeChild(ie),de=null,ie=null,se=null,ee=null,Ae="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",Ie)});const Ue=()=>{var G,ae;ue();const P=Array.from(new Set(u.images.map(q=>String(q!=null?q:"").trim()).filter(q=>q!==""))),p=u.categories.map(q=>{var it,xt,At;const Ge=Number.parseInt((it=q==null?void 0:q.id)!=null?it:0,10)||0,Fe=String((xt=q==null?void 0:q.title)!=null?xt:"").trim(),nt=String((At=q==null?void 0:q.slug)!=null?At:"").trim();return Ge>0?{id:Ge,title:Fe,slug:nt}:Fe===""?null:{id:0,title:Fe,slug:""}}).filter(q=>q!==null),L=u.variants.map(q=>{const Ge=Array.isArray(q.options)?q.options.map(it=>{var xt,At;return{name:String((xt=it==null?void 0:it.name)!=null?xt:"").trim(),value:String((At=it==null?void 0:it.value)!=null?At:"").trim()}}).filter(it=>it.name!==""&&it.value!==""):[],Fe=Number.isFinite(Number(q.stock))?Math.max(0,parseInt(q.stock,10)):0,nt=q.weight!==null&&q.weight!==""?String(q.weight).trim():null;return{id:q.id||0,sku:q.sku.trim(),price:q.price!==null&&q.price!==void 0?String(q.price).trim():"",currency:q.currency?String(q.currency).trim().toUpperCase():r.value,stock:Fe,weight:nt,active:!!q.active,is_digital:!!q.is_digital,options:Ge}}),B=g(u.status),F={title:u.title.trim(),slug:u.slug.trim(),short_desc:(G=u.short_desc)!=null?G:"",long_desc:(ae=u.long_desc)!=null?ae:"",status:B,active:B,featured:!!u.featured,images:P,categories:p,variants:L,product_type:M.value==="digital"?"digital":"physical"};a("submit",F)},Ye=()=>{a("cancel")};return tt(()=>s.saving,(P,p)=>{p&&!P&&s.errors.length===0&&ve.value==="create"&&(h(null),T.value="",m.value=!1)}),(P,p)=>{var L,B,F;return e.open?(b(),y("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",onKeydown:Ct(Ye,["esc"])},[p[20]||(p[20]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",fg,[i("header",mg,[i("h2",hg,c(ve.value==="edit"?o(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):o(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",gg,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:Ye,disabled:e.saving,title:o(n)("JCANCEL","Cancel"),"aria-label":o(n)("JCANCEL","Cancel")},[p[16]||(p[16]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",Cg,c(o(n)("JCANCEL","Cancel")),1)],8,Eg),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:To,title:e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save"),"aria-label":e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")},[i("i",{class:He(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",Sg,c(e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")),1)],8,Ag),i("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:Ye,title:o(n)("JCLOSE","Close"),"aria-label":o(n)("JCLOSE","Close")},[p[17]||(p[17]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Tg,c(o(n)("JCLOSE","Close")),1)],8,bg)])]),i("form",{id:To,class:"nxp-ec-form",onSubmit:Pt(Ue,["prevent"])},[e.errors.length?(b(),y("div",yg,[(b(!0),y(Ne,null,Xe(e.errors,(G,ae)=>(b(),y("p",{key:ae},c(G),1))),128))])):ce("",!0),i("nav",Rg,[i("button",{type:"button",class:He(["nxp-ec-editor-tab",{"is-active":l.value==="general"}]),onClick:p[0]||(p[0]=G=>l.value="general")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General")),3),i("button",{type:"button",class:He(["nxp-ec-editor-tab",{"is-active":l.value==="variants"}]),onClick:p[1]||(p[1]=G=>l.value="variants")},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),3),i("button",{type:"button",class:He(["nxp-ec-editor-tab",{"is-active":l.value==="images"}]),onClick:p[2]||(p[2]=G=>l.value="images")},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),3),i("button",{type:"button",class:He(["nxp-ec-editor-tab",{"is-active":l.value==="categories"}]),onClick:p[3]||(p[3]=G=>l.value="categories")},c(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),3),v.value?(b(),y("button",{key:0,type:"button",class:He(["nxp-ec-editor-tab",{"is-active":l.value==="digital"}]),onClick:p[4]||(p[4]=G=>l.value="digital")},c(o(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital")),3)):ce("",!0)]),z(i("section",Og,[i("div",xg,[i("label",Ng,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),z(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[5]||(p[5]=G=>u.title=G),required:""},null,512),[[he,u.title,void 0,{trim:!0}]])]),i("div",vg,[i("label",Pg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),z(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[6]||(p[6]=G=>u.slug=G),onInput:K,placeholder:o(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,Mg),[[he,u.slug,void 0,{trim:!0}]])]),i("div",kg,[i("label",Ig,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),z(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":p[7]||(p[7]=G=>u.short_desc=G)},null,512),[[he,u.short_desc]])]),i("div",wg,[i("label",$g,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),z(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":p[8]||(p[8]=G=>u.long_desc=G)},null,512),[[he,u.long_desc]])]),i("div",Dg,[i("label",Lg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),z(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":p[9]||(p[9]=G=>u.status=G)},[i("option",Ug,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",Yg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",Xg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[Et,u.status,void 0,{number:!0}]]),i("p",Gg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",Fg,[i("label",Vg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE","Product type")),1),z(i("select",{id:"product-type",class:"nxp-ec-form-select","onUpdate:modelValue":p[10]||(p[10]=G=>u.product_type=G)},[i("option",Hg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_PHYSICAL","Physical product")),1),i("option",Bg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_DIGITAL","Digital product")),1)],512),[[Et,u.product_type]]),i("p",Kg,c(o(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),i("div",jg,[i("label",Jg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),z(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":p[11]||(p[11]=G=>u.featured=G)},null,512),[[ut,u.featured]]),i("p",Wg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)])],512),[[xn,l.value==="general"]]),z(i("section",qg,[i("div",zg,[i("label",Qg,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",Zg,[(b(!0),y(Ne,null,Xe(u.images,(G,ae)=>(b(),y("div",{key:`product-image-${ae}`,class:"nxp-ec-image-row"},[z(i("input",{id:`product-image-${ae}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":q=>u.images[ae]=q,placeholder:o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,eE),[[he,u.images[ae],void 0,{trim:!0}]]),i("div",tE,[i("button",{type:"button",class:"nxp-ec-btn",onClick:q=>je(ae)},[p[18]||(p[18]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,nE),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:q=>D(ae,-1),disabled:ae===0},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,sE),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:q=>D(ae,1),disabled:ae===u.images.length-1},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,iE),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:q=>N(ae),"aria-label":o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),9,aE)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:$e},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",oE,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)])],512),[[xn,l.value==="images"]]),z(i("section",rE,[i("div",lE,[i("label",cE,c(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),z(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":p[12]||(p[12]=G=>Me.value=G)},[(b(!0),y(Ne,null,Xe(re.value,G=>(b(),y("option",{key:G.id,value:G.id},c(W(G)),9,dE))),128))],512),[[Et,Me.value]]),i("div",uE,[(b(!0),y(Ne,null,Xe(u.categories,(G,ae)=>(b(),y("span",{key:`selected-category-${ae}`,class:"nxp-ec-chip"},[De(c(G.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:q=>Oe(ae),"aria-label":o(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,_E)]))),128))]),i("div",pE,[z(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":p[13]||(p[13]=G=>T.value=G),onKeydown:Ct(Pt(fe,["prevent"]),["enter"]),placeholder:o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,fE),[[he,T.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:fe},c(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",mE,c(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select a category or create a new one",[],"productCategoriesHelp")),1)])],512),[[xn,l.value==="categories"]]),z(i("section",hE,[i("header",gE,[i("h3",EE,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:Ve},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",CE,[De(c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),r.value?(b(),y(Ne,{key:0},[De(" ("+c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[r.value]))+") ",1)],64)):ce("",!0)]),(b(!0),y(Ne,null,Xe(u.variants,(G,ae)=>(b(),y("article",{key:te(G,ae),class:"nxp-ec-variant-card"},[i("header",AE,[i("h4",SE,c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(ae+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:q=>J(ae)},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,bE),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:q=>S(ae),disabled:u.variants.length<=1},c(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,TE)]),i("div",yE,[i("div",RE,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${ae}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,OE),z(i("input",{id:`variant-sku-${ae}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":q=>G.sku=q,required:""},null,8,xE),[[he,G.sku,void 0,{trim:!0}]])]),i("div",NE,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${ae}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,vE),z(i("input",{id:`variant-price-${ae}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":q=>G.price=q,onBlur:q=>ne(ae),required:""},null,40,PE),[[he,G.price,void 0,{trim:!0}]])]),i("div",ME,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${ae}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,kE),z(i("input",{id:`variant-stock-${ae}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":q=>G.stock=q},null,8,IE),[[he,G.stock,void 0,{number:!0}]])]),i("div",wE,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${ae}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,$E),z(i("input",{id:`variant-weight-${ae}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":q=>G.weight=q},null,8,DE),[[he,G.weight,void 0,{trim:!0}]])]),i("div",LE,[i("label",{class:"nxp-ec-form-label",for:`variant-digital-${ae}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL","Digital item")),9,UE),z(i("input",{id:`variant-digital-${ae}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":q=>G.is_digital=q},null,8,YE),[[ut,G.is_digital]]),i("p",XE,c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL_HELP","Digital variants skip shipping.")),1)]),i("div",GE,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${ae}`},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,FE),z(i("input",{id:`variant-active-${ae}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":q=>G.active=q},null,8,VE),[[ut,G.active]])])]),i("section",HE,[i("header",BE,[i("h5",KE,c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:q=>x(ae)},c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,jE)]),i("p",JE,c(o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(b(!0),y(Ne,null,Xe(G.options,(q,Ge)=>(b(),y("div",{key:`variant-${ae}-option-${Ge}`,class:"nxp-ec-variant-option-row"},[z(i("input",{id:`variant-${ae}-option-name-${Ge}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Fe=>q.name=Fe,placeholder:o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,WE),[[he,q.name,void 0,{trim:!0}]]),z(i("input",{id:`variant-${ae}-option-value-${Ge}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Fe=>q.value=Fe,placeholder:o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,qE),[[he,q.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Fe=>H(ae,Ge),"aria-label":o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),9,zE)]))),128))])]))),128))],512),[[xn,l.value==="variants"]]),v.value?z((b(),y("section",QE,[i("div",ZE,[i("p",eC,c(o(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),R.error?(b(),y("div",tC,c(R.error),1)):ce("",!0),(L=e.product)!=null&&L.id?ce("",!0):(b(),y("div",nC,[p[19]||(p[19]=i("span",{class:"nxp-ec-admin-callout__icon"},[i("i",{class:"fa-solid fa-circle-info"})],-1)),i("div",sC,[i("div",iC,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST_TITLE","Save Required")),1),De(" "+c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST","Digital files are linked to the product record. Save this product first, then reopen the editor to upload your files.")),1)])])),i("div",aC,[i("div",oC,[i("h4",null,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1),i("div",rC,[i("label",lC,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_SELECT","Choose file")),1),i("input",{id:"digital-file-input",ref_key:"fileInputRef",ref:O,type:"file",class:"nxp-ec-form-input",onChange:be,disabled:R.uploading||!((B=e.product)!=null&&B.id)},null,40,cC)]),i("div",dC,[i("label",uC,c(o(n)("COM_NXPEASYCART_DIGITAL_VERSION","Version")),1),z(i("input",{id:"digital-version",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":p[14]||(p[14]=G=>R.version=G),disabled:R.uploading},null,8,_C),[[he,R.version,void 0,{trim:!0}]])]),i("div",pC,[i("label",fC,c(o(n)("COM_NXPEASYCART_DIGITAL_VARIANT_SCOPE","Applies to")),1),z(i("select",{id:"digital-variant",class:"nxp-ec-form-select","onUpdate:modelValue":p[15]||(p[15]=G=>R.variantId=G),disabled:R.uploading},[i("option",hC,c(o(n)("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants")),1),(b(!0),y(Ne,null,Xe(C.value,G=>(b(),y("option",{key:G.id,value:G.id},c(G.label),9,gC))),128))],8,mC),[[Et,R.variantId]]),i("p",EC,c(o(n)("COM_NXPEASYCART_DIGITAL_VARIANT_HELP","Scope downloads to a specific variant when needed.")),1)]),i("div",CC,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--primary",onClick:Re,disabled:R.uploading||!((F=e.product)!=null&&F.id)},[i("i",{class:He(["fa-solid fa-cloud-arrow-up",{"fa-spin":R.uploading}]),"aria-hidden":"true"},null,2),De(" "+c(R.uploading?o(n)("JPROCESSING_REQUEST","Uploading"):o(n)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1)],8,AC)])]),i("div",SC,[i("div",bC,[i("h4",null,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital files")),1),R.loading?(b(),y("span",TC,c(o(n)("JGLOBAL_LOADING","Loading")),1)):ce("",!0)]),R.files.length===0?(b(),y("div",yC,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES_EMPTY","No files attached to this product.")),1)):(b(),y("div",RC,[(b(!0),y(Ne,null,Xe(R.files,G=>(b(),y("div",{key:G.id,class:"nxp-ec-digital-row"},[i("div",OC,[i("strong",null,c(G.filename),1),i("div",xC,[De(c(E(G.variant_id))+"  "+c(Z(G.file_size))+" ",1),G.version?(b(),y(Ne,{key:0},[De("  v"+c(G.version),1)],64)):ce("",!0)]),G.created?(b(),y("div",NC,c(G.created),1)):ce("",!0)]),i("div",vC,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",disabled:R.deletingId===G.id,onClick:ae=>j(G)},c(R.deletingId===G.id?o(n)("JPROCESSING_REQUEST","Removing"):o(n)("COM_NXPEASYCART_REMOVE","Remove")),9,PC)])]))),128))]))])])],512)),[[xn,l.value==="digital"]]):ce("",!0),i("footer",MC,[i("button",{type:"button",class:"nxp-ec-btn",onClick:Ye,disabled:e.saving},c(o(n)("JCANCEL","Cancel")),9,kC),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},c(e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")),9,IC)])],32)])],32)):ce("",!0)}}},[["__scopeId","data-v-cf390461"]]),$C={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},DC={key:1,class:"nxp-ec-skeleton__table"},LC={key:2,class:"nxp-ec-skeleton__card"},UC={key:3,class:"nxp-ec-skeleton__circle"};function YC(e,t,s,a,n,r){return b(),y("div",{class:He(["nxp-ec-skeleton",r.skeletonClasses])},[s.type==="text"?(b(),y("div",{key:0,class:"nxp-ec-skeleton__line",style:jt({width:s.width})},null,4)):s.type==="table"?(b(),y("div",DC,[(b(!0),y(Ne,null,Xe(s.rows,l=>(b(),y("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(b(!0),y(Ne,null,Xe(s.columns,d=>(b(),y("div",{key:d,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(b(),y("div",LC,[...t[0]||(t[0]=[tm('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(b(),y("div",UC)):(b(),y("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:jt({width:s.width,height:s.height})},null,4))],2)}const ns=Rt($C,[["render",YC],["__scopeId","data-v-c8b9a887"]]),XC={class:"nxp-ec-admin-panel"},GC={class:"nxp-ec-admin-panel__header"},FC={class:"nxp-ec-admin-panel__title"},VC={class:"nxp-ec-admin-panel__lead"},HC={class:"nxp-ec-admin-panel__actions"},BC=["placeholder","aria-label"],KC=["disabled","title","aria-label"],jC={class:"nxp-ec-sr-only"},JC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},WC={key:1,class:"nxp-ec-admin-panel__body"},qC={key:2,class:"nxp-ec-admin-panel__body"},zC=["title"],ss=1,vn=-1,Us=0,QC={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""},checkoutProduct:{type:Function,default:null},checkinProduct:{type:Function,default:null},forceCheckinProduct:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=qe({mode:"create",product:null}),l=We(!1),d=We(null),_=Ee(()=>(s.baseCurrency||"USD").toUpperCase()),f=Ee(()=>r.product),g=Ee(()=>(s.mediaModalUrl||"").trim()),u=Ee(()=>s.digitalEndpoints||{}),T=Ee(()=>s.csrfToken||""),m=Ee(()=>Number(s.currentUserId||0)),M=(K,Se=!1)=>{const Ce=Number(K);if(Number.isFinite(Ce))return Ce===vn?vn:Ce===Us?Us:ss;if(Se)return vn;if(typeof K=="string"){const pe=K.trim().toLowerCase();if(pe==="out_of_stock"||pe==="out-of-stock"||pe==="-1")return vn;if(pe==="inactive"||pe==="0")return Us}return ss},v=(K,Se=!1)=>{const Ce=M(K,Se);return Ce===ss?vn:Ce===vn?Us:ss},R=K=>(K==null?void 0:K.checked_out)&&Number(K.checked_out)!==0&&Number(K.checked_out)!==m.value,A=K=>{var Ce,pe;if(!K)return"";const Se=(pe=(Ce=K.checked_out_user)==null?void 0:Ce.name)!=null?pe:"";return Se||(K.checked_out===m.value?n("JGLOBAL_YOU","You"):"")},O=async()=>{if(!d.value||!s.checkinProduct){d.value=null;return}try{await s.checkinProduct(d.value)}catch(K){}finally{d.value=null}},U=async()=>{await O(),s.state.validationErrors=[],s.state.error="",r.mode="create",r.product={title:"",slug:"",short_desc:"",long_desc:"",status:ss,active:!0,featured:!1,images:[],categories:[],variants:[],product_type:"physical"},l.value=!0},X=async K=>{await O(),s.state.validationErrors=[],s.state.error="",r.mode="edit";const Se=JSON.parse(JSON.stringify(K));Se.product_type||(Se.product_type="physical");const Ce=A(K);if(R(K)){if(!await W(K,Ce)){s.state.error=Ce!==""?n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT","This product is currently checked out by %s.",[Ce]):n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","This product is currently checked out by another user.");return}return}if(K!=null&&K.id&&s.checkoutProduct)try{const pe=await s.checkoutProduct(K.id);if(pe){d.value=pe.id,r.product=JSON.parse(JSON.stringify(pe)),l.value=!0;return}}catch(pe){s.state.error=(pe==null?void 0:pe.message)||n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to edit this product right now.");return}r.product=Se,l.value=!0},W=async(K,Se="")=>{if(!(K!=null&&K.id)||typeof s.forceCheckinProduct!="function")return null;const Ce=n("COM_NXPEASYCART_FORCE_CHECKIN_PRODUCT","This product is checked out by %s. Force check-in?",[Se||n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(Ce))return null;try{const pe=await s.forceCheckinProduct(K.id);if(pe)return d.value=pe.id,r.product=JSON.parse(JSON.stringify(pe)),l.value=!0,pe}catch(pe){s.state.error=(pe==null?void 0:pe.message)||n("COM_NXPEASYCART_ERROR_PRODUCT_CHECKED_OUT_GENERIC","Unable to check in this product.")}return null},re=async()=>{await O(),l.value=!1,s.state.validationErrors=[]},Te=async K=>{var pe,w;const Se=M((pe=K.status)!=null?pe:K.active,K.out_of_stock),Ce={...K,status:Se,active:Se,featured:K.featured?1:0,product_type:typeof K.product_type=="string"&&K.product_type.trim()||"physical"};r.mode==="edit"&&((w=r.product)!=null&&w.id)?a("update",{id:r.product.id,data:Ce}):a("create",Ce)},Me=async K=>{var pe;const Se=(pe=K==null?void 0:K.title)!=null?pe:"",Ce=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[Se||"#"]);window.confirm(Ce)&&a("delete",[K.id])},ve=K=>{var Q;if(!(K!=null&&K.id)||s.state.saving)return;const Se=v((Q=K.status)!=null?Q:K.active,K.out_of_stock),Ce=h=>h==null?"":String(h),pe=(h,C=0)=>{const E=Number(h);return Number.isFinite(E)?E:C},w=Array.isArray(K.variants)?K.variants.map(h=>{var Re,j;if(!h)return null;const C=Ce(h.sku).trim();if(!C)return null;let E=pe(h.price_cents,Number.NaN);if(!Number.isFinite(E)){const fe=Ce(h.price),Oe=fe?Number.parseFloat(fe):NaN;E=Number.isFinite(Oe)?Math.round(Oe*100):NaN}if(!Number.isFinite(E))return null;const Z=Ce((Re=h.currency)!=null?Re:_.value).trim().toUpperCase();if(!Z)return null;const le=(j=h.options)!=null?j:null,be=Math.max(0,Math.round(pe(h.stock,0)));return{id:pe(h.id,0),sku:C,price_cents:Math.round(E),currency:Z,stock:be,options:le!=null?le:null,weight:h.weight!==null&&h.weight!==void 0&&h.weight!==""?String(h.weight):null,active:h.active===void 0?!0:!!h.active,is_digital:h.is_digital===void 0?!1:!!h.is_digital}}).filter(Boolean):[];if(!w.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const k=Array.isArray(K.categories)?K.categories.map(h=>{if(h==null)return null;if(typeof h=="number")return h>0?{id:h,title:"",slug:""}:null;if(typeof h=="string"&&h.trim()!==""&&Number.isFinite(Number(h))){const E=Number(h);return E>0?{id:E,title:"",slug:""}:null}if(typeof h=="object"){if(h.id){const Z=pe(h.id,0);return Z>0?{id:Z,title:"",slug:""}:null}return pe(h.id,0)<=0&&!h.title?null:{id:0,title:Ce(h.title),slug:Ce(h.slug)}}const C=Ce(h).trim();return C?{id:0,title:C,slug:""}:null}).filter(Boolean):[],$=Array.isArray(K.images)?K.images.map(h=>Ce(h).trim()).map(h=>{var le,be,Re;let C=h;if(!C)return"";const E=C.indexOf("#joomlaImage://");E!==-1&&(C=C.substring(0,E));const Z=C.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(Z&&Z[1]&&(C=Z[1]),typeof window!="undefined")try{const j=(Re=(be=(le=window.Joomla)==null?void 0:le.getOptions)==null?void 0:be.call(le,"system.paths",{}))!=null?Re:{},fe=j.rootFull||window.location.origin,Oe=j.root||"/";C.startsWith(fe)&&(C=C.substring(fe.length)),C.startsWith(Oe)&&(C=C.substring(Oe.length))}catch(j){}return C.trim()}).filter(h=>h!==""):[];s.state.error="",a("update",{id:K.id,data:{title:Ce(K.title),slug:Ce(K.slug),short_desc:Ce(K.short_desc),long_desc:Ce(K.long_desc),status:Se,active:Se,featured:K.featured?1:0,images:$,variants:w,categories:k,product_type:typeof K.product_type=="string"&&K.product_type.trim()||"physical"}})},Y=()=>{a("refresh")},ke=()=>{a("search")},Pe=K=>{if(!K)return"";try{const Se=new Date(K),pe=new Date-Se,w=Math.floor(pe/1e3),k=Math.floor(w/60),$=Math.floor(k/60);return w<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):k<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[k]):$<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[$]):Se.toLocaleString()}catch(Se){return K}};return Bn(()=>{O()}),tt(()=>s.state.saving,(K,Se)=>{Se&&!K&&l.value&&!s.state.validationErrors.length&&!s.state.error&&re()}),(K,Se)=>(b(),y("section",XC,[i("header",GC,[i("div",null,[i("h2",FC,c(o(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",VC,c(o(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",HC,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":Se[0]||(Se[0]=Ce=>e.state.search=Ce),onKeyup:Ct(ke,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,BC),[[he,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:Y,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":o(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[Se[1]||(Se[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",jC,c(o(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,KC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:U},[Se[2]||(Se[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(b(),y("div",JC,c(e.state.error),1)):ce("",!0),e.state.loading?(b(),y("div",WC,[ot(ns,{type:"table",rows:5,columns:5})])):ce("",!0),e.state.loading?ce("",!0):(b(),y("div",qC,[ot(_g,{items:e.state.items,translate:o(n),"base-currency":_.value,saving:e.state.saving,"current-user-id":m.value,onEdit:X,onDelete:Me,onToggleActive:ve},null,8,["items","translate","base-currency","saving","current-user-id"]),e.state.lastUpdated?(b(),y("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(Pe(e.state.lastUpdated)),9,zC)):ce("",!0)])),ot(wC,{open:l.value,product:f.value,saving:e.state.saving,"base-currency":_.value,translate:o(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":g.value,"digital-endpoints":u.value,"csrf-token":T.value,onSubmit:Te,onCancel:re},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url","digital-endpoints","csrf-token"])]))}},ZC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},eA={class:"nxp-ec-admin-panel__header"},tA={class:"nxp-ec-admin-panel__title"},nA={class:"nxp-ec-admin-panel__lead"},sA={class:"nxp-ec-admin-panel__actions"},iA=["placeholder","aria-label"],aA=["disabled","title","aria-label"],oA={class:"nxp-ec-sr-only"},rA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},lA={key:1,class:"nxp-ec-admin-panel__body"},cA={key:2,class:"nxp-ec-admin-panel__body"},dA={class:"nxp-ec-admin-panel__table"},uA={class:"nxp-ec-admin-table"},_A={scope:"col"},pA={scope:"col"},fA={scope:"col"},mA={scope:"col"},hA={scope:"col"},gA={key:0},EA={colspan:"6"},CA={scope:"row",class:"nxp-ec-admin-table__primary"},AA={key:0,class:"nxp-ec-admin-table__meta"},SA={class:"nxp-ec-status nxp-ec-status--muted"},bA=["data-label"],TA=["data-label"],yA=["data-label"],RA=["data-label"],OA={class:"nxp-ec-admin-table__actions"},xA=["onClick","title","disabled","aria-label"],NA={class:"nxp-ec-sr-only"},vA=["disabled","onClick","title","aria-label"],PA={class:"nxp-ec-sr-only"},MA={key:0,class:"nxp-ec-admin-pagination"},kA=["disabled"],IA={class:"nxp-ec-admin-pagination__status"},wA=["disabled"],$A=["title"],DA={class:"nxp-ec-modal__dialog"},LA={class:"nxp-ec-modal__header"},UA={id:"category-modal-title",class:"nxp-ec-modal__title"},YA=["title","aria-label"],XA={class:"nxp-ec-sr-only"},GA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},FA={class:"nxp-ec-form-field"},VA={class:"nxp-ec-form-label",for:"category-title"},HA={class:"nxp-ec-form-field"},BA={class:"nxp-ec-form-label",for:"category-slug"},KA={class:"nxp-ec-form-field"},jA={class:"nxp-ec-form-label",for:"category-parent"},JA={value:""},WA=["value"],qA={class:"nxp-ec-form-field"},zA={class:"nxp-ec-form-label",for:"category-sort"},QA={class:"nxp-ec-modal__actions"},ZA=["disabled"],eS=Rt({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null},checkoutCategory:{type:Function,default:null},checkinCategory:{type:Function,default:null},forceCheckinCategory:{type:Function,default:null},currentUserId:{type:Number,default:0}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=We(!1),l=We(!1),d=We([]),_=We(null),f=Ee(()=>Number(s.currentUserId||0)),g=w=>{const $=(Array.isArray(w)?w:[]).map(j=>{var fe,Oe,Ve,S,x;return{...j,id:Number.parseInt((fe=j==null?void 0:j.id)!=null?fe:0,10)||0,parent_id:(j==null?void 0:j.parent_id)!=null&&Number.parseInt(j.parent_id,10)||0,sort:Number.parseInt((Oe=j==null?void 0:j.sort)!=null?Oe:0,10)||0,title:String((Ve=j==null?void 0:j.title)!=null?Ve:"").trim(),slug:String((S=j==null?void 0:j.slug)!=null?S:"").trim(),usage:(x=j==null?void 0:j.usage)!=null?x:0}}).filter(j=>j.id>0||j.title!==""),Q=new Set($.map(j=>j.id));$.forEach(j=>{Q.has(j.parent_id)||(j.parent_id=0)});const h=new Map,C=new Map;$.forEach(j=>{C.set(j.id,j);const fe=j.parent_id||0;h.has(fe)||h.set(fe,[]),h.get(fe).push(j)});const E=j=>j.sort((fe,Oe)=>{var Ve,S;return((Ve=fe.sort)!=null?Ve:0)-((S=Oe.sort)!=null?S:0)||fe.title.localeCompare(Oe.title,void 0,{sensitivity:"base"})});h.forEach(E);const Z=new Set,le=[],be=(j,fe,Oe)=>{if(!j||Z.has(j.id)||Oe.includes(j.id))return;const Ve=[...Oe],S=Ve.map(te=>{var J;return(J=C.get(te))==null?void 0:J.title}).filter(Boolean),x={...j,depth:fe,path:S.join(" / "),ancestors:Ve,indentedTitle:fe>0?`${" ".repeat(fe)}${j.title}`:j.title};le.push(x),Z.add(j.id),(h.get(j.id)||[]).forEach(te=>be(te,fe+1,[...Oe,j.id]))},Re=$.filter(j=>j.parent_id===0||!Q.has(j.parent_id));return E(Re),Re.forEach(j=>be(j,0,[])),$.forEach(j=>{Z.has(j.id)||be(j,0,[])}),le},u=w=>(w==null?void 0:w.checked_out)&&Number(w.checked_out)!==0&&Number(w.checked_out)!==f.value,T=w=>{var C,E;if(!w)return"";const k=Number(w.checked_out)||0,$=w.checked_out_user&&w.checked_out_user.id?Number(w.checked_out_user.id):0,Q=k||$;if(Q!==0&&Q===f.value)return n("JGLOBAL_YOU","You");const h=(E=(C=w.checked_out_user)==null?void 0:C.name)!=null?E:"";return h||""},m=w=>n("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[T(w)||n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]),M=async()=>{if(!_.value||!s.checkinCategory){_.value=null;return}try{await s.checkinCategory(_.value)}catch(w){}finally{_.value=null}},v=Ee(()=>{var w,k;return g((k=(w=s.state)==null?void 0:w.items)!=null?k:[])}),R=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),A=qe(R()),O=Ee(()=>{var k,$;const w=($=Array.isArray(d.value)&&d.value.length?d.value:(k=s.state)==null?void 0:k.items)!=null?$:[];return g(w).filter(Q=>Q.id>0&&Q.id!==A.id&&!(Array.isArray(Q.ancestors)&&Q.ancestors.includes(A.id))).map(Q=>({id:Q.id,title:Q.title,label:Q.depth>0?`${" ".repeat(Q.depth)}${Q.title}`:Q.title}))}),U=()=>{Object.assign(A,R()),l.value=!1},X=w=>w?w.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",W=()=>{l.value=!0,A.slug=X(A.slug)};tt(()=>A.title,w=>{l.value||(A.slug=X(w))});const re=async(w=0)=>{if(typeof s.loadOptions!="function"){d.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const k=await s.loadOptions();d.value=Array.isArray(k)?[...k]:[]}catch(k){d.value=[]}d.value=d.value.filter(k=>{var Q,h;return(Number.parseInt((h=(Q=k==null?void 0:k.id)!=null?Q:k==null?void 0:k.value)!=null?h:0,10)||0)!==w})},Te=async()=>{await M(),s.state.error="",s.state.validationErrors=[],U(),await re(),r.value=!0},Me=async w=>{var Q,h,C,E;if(!w)return;s.state.error="",s.state.validationErrors=[];const k=T(w);if(u(w)){if(!await ve(w,k)){s.state.error=k!==""?n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT","This category is currently checked out by %s.",[k]):n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","This category is currently checked out by another user.");return}return}await M();let $=w;if(w!=null&&w.id&&s.checkoutCategory)try{const Z=await s.checkoutCategory(w.id);Z&&(_.value=Z.id,$=Z)}catch(Z){s.state.error=(Z==null?void 0:Z.message)||n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to edit this category right now.");return}A.id=Number.parseInt((Q=$.id)!=null?Q:0,10)||0,A.title=String((h=$.title)!=null?h:"").trim(),A.slug=String((C=$.slug)!=null?C:"").trim(),A.parent_id=$.parent_id!=null&&Number.parseInt($.parent_id,10)||null,A.sort=Number.parseInt((E=$.sort)!=null?E:0,10)||0,l.value=!!A.slug,await re(A.id),r.value=!0},ve=async(w,k="")=>{var Q,h,C,E;if(!(w!=null&&w.id)||typeof s.forceCheckinCategory!="function")return null;const $=n("COM_NXPEASYCART_FORCE_CHECKIN_CATEGORY","This category is checked out by %s. Force check-in?",[k||n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm($))return null;try{const Z=await s.forceCheckinCategory(w.id);if(Z)return _.value=Z.id,A.id=Number.parseInt((Q=Z.id)!=null?Q:0,10)||0,A.title=String((h=Z.title)!=null?h:"").trim(),A.slug=String((C=Z.slug)!=null?C:"").trim(),A.parent_id=Z.parent_id!=null&&Number.parseInt(Z.parent_id,10)||null,A.sort=Number.parseInt((E=Z.sort)!=null?E:0,10)||0,l.value=!!A.slug,await re(A.id),r.value=!0,Z}catch(Z){s.state.error=(Z==null?void 0:Z.message)||n("COM_NXPEASYCART_ERROR_CATEGORY_CHECKED_OUT_GENERIC","Unable to check in this category.")}return null},Y=async()=>{r.value=!1,await M(),U()},ke=()=>{a("refresh")},Pe=()=>{a("search")},K=w=>{a("page",w)},Se=()=>{const w={id:A.id||void 0,title:A.title.trim(),slug:A.slug.trim(),parent_id:A.parent_id||null,sort:Number.isFinite(A.sort)?A.sort:0};a("save",w)},Ce=w=>{if(!w||!w.id)return;const k=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(k)||a("delete",[w.id])},pe=w=>{if(!w)return"";try{const k=new Date(w),Q=new Date-k,h=Math.floor(Q/1e3),C=Math.floor(h/60),E=Math.floor(C/60);return h<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):C<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[C]):E<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[E]):k.toLocaleString()}catch(k){return w}};return Bn(()=>{M()}),tt(()=>{var w;return(w=s.state)==null?void 0:w.saving},async(w,k)=>{var $,Q,h;k&&!w&&(((Q=($=s.state)==null?void 0:$.validationErrors)!=null?Q:[]).length>0||(h=s.state)!=null&&h.error||(await M(),r.value=!1,U()))}),(w,k)=>(b(),y("section",ZC,[i("header",eA,[i("div",null,[i("h2",tA,c(o(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",nA,c(o(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",sA,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":k[0]||(k[0]=$=>e.state.search=$),onKeyup:Ct(Pe,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,iA),[[he,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:ke,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":o(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[k[7]||(k[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",oA,c(o(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,aA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:Te},[k[8]||(k[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(b(),y("div",rA,c(e.state.error),1)):ce("",!0),e.state.loading?(b(),y("div",lA,[ot(ns,{type:"table",rows:5,columns:5})])):ce("",!0),e.state.loading?ce("",!0):(b(),y("div",cA,[i("div",dA,[i("table",uA,[i("thead",null,[i("tr",null,[i("th",_A,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",pA,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",fA,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",mA,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",hA,c(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),k[9]||(k[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ce("",!0):(b(),y("tr",gA,[i("td",EA,c(o(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(b(!0),y(Ne,null,Xe(v.value,$=>{var Q;return b(),y("tr",{key:$.id,class:He({"is-active":A.id===$.id})},[i("th",CA,[i("span",{style:jt({paddingLeft:`${$.depth*1.5}rem`})},c($.indentedTitle),5),$.checked_out?(b(),y("div",AA,[i("span",SA,[k[10]||(k[10]=i("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),De(" "+c(m($)),1)])])):ce("",!0)]),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},c($.slug||""),9,bA),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},c($.path||o(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,TA),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},c($.sort),9,yA),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},c((Q=$.usage)!=null?Q:0),9,RA),i("td",OA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:h=>Me($),title:o(n)("JEDIT","Edit"),disabled:e.state.saving,"aria-label":o(n)("JEDIT","Edit")},[k[11]||(k[11]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",NA,c(o(n)("JEDIT","Edit")),1)],8,xA),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting||u($),onClick:h=>Ce($),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[k[12]||(k[12]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",PA,c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,vA)])],2)}),128))])]),e.state.pagination.pages>1?(b(),y("div",MA,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:k[1]||(k[1]=$=>K(e.state.pagination.current-1))},"  ",8,kA),i("span",IA,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:k[2]||(k[2]=$=>K(e.state.pagination.current+1))},"  ",8,wA)])):ce("",!0)]),e.state.lastUpdated?(b(),y("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(pe(e.state.lastUpdated)),9,$A)):ce("",!0),r.value?(b(),y("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"category-modal-title",onKeydown:Ct(Y,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop",onClick:Y}),i("div",DA,[i("header",LA,[i("h3",UA,c(A.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:Y,title:o(n)("JCLOSE","Close"),"aria-label":o(n)("JCLOSE","Close")},[k[13]||(k[13]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",XA,c(o(n)("JCLOSE","Close")),1)],8,YA)]),i("form",{class:"nxp-ec-form",onSubmit:Pt(Se,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(b(),y("div",GA,[i("ul",null,[(b(!0),y(Ne,null,Xe(e.state.validationErrors,($,Q)=>(b(),y("li",{key:Q},c($),1))),128))])])):ce("",!0),i("div",FA,[i("label",VA,c(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),z(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[3]||(k[3]=$=>A.title=$),required:"",maxlength:"255"},null,512),[[he,A.title,void 0,{trim:!0}]])]),i("div",HA,[i("label",BA,c(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),z(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[4]||(k[4]=$=>A.slug=$),maxlength:"190",onInput:W},null,544),[[he,A.slug,void 0,{trim:!0}]])]),i("div",KA,[i("label",jA,c(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),z(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":k[5]||(k[5]=$=>A.parent_id=$)},[i("option",JA,c(o(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(b(!0),y(Ne,null,Xe(O.value,$=>(b(),y("option",{key:$.id,value:$.id},c($.label),9,WA))),128))],512),[[Et,A.parent_id,void 0,{number:!0}]])]),i("div",qA,[i("label",zA,c(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),z(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":k[6]||(k[6]=$=>A.sort=$),min:"0",step:"1"},null,512),[[he,A.sort,void 0,{number:!0}]])]),i("footer",QA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[k[14]||(k[14]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,ZA),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:Y},[k[15]||(k[15]=i("i",{class:"fa-solid fa-ban"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])],32)):ce("",!0)]))]))}},[["__scopeId","data-v-0bba5030"]]),tS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},nS={class:"nxp-ec-admin-panel__header"},sS={class:"nxp-ec-admin-panel__title"},iS={class:"nxp-ec-admin-panel__lead"},aS={class:"nxp-ec-admin-panel__actions"},oS=["placeholder","aria-label"],rS=["aria-label"],lS={value:""},cS=["value"],dS=["disabled","title","aria-label"],uS={class:"nxp-ec-sr-only"},_S=["disabled","title","aria-label"],pS={class:"nxp-ec-sr-only"},fS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mS={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hS={key:2,class:"nxp-ec-admin-panel__body"},gS={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},ES={class:"nxp-ec-admin-panel__table"},CS={key:0,class:"nxp-ec-admin-panel__selection"},AS=["aria-label"],SS={value:""},bS=["value"],TS=["disabled"],yS=["title","aria-label"],RS={class:"nxp-ec-sr-only"},OS={class:"nxp-ec-admin-table"},xS={scope:"col",class:"nxp-ec-admin-table__select"},NS={scope:"col"},vS={scope:"col"},PS={scope:"col"},MS={scope:"col"},kS={scope:"col"},IS={scope:"col",class:"nxp-ec-admin-table__actions"},wS={key:0},$S={colspan:"7"},DS={class:"nxp-ec-admin-table__select"},LS=["checked","onChange","disabled","aria-label"],US={scope:"row",class:"nxp-ec-admin-table__primary"},YS=["onClick","disabled"],XS={key:0,class:"nxp-ec-admin-table__meta"},GS={class:"nxp-ec-status nxp-ec-status--muted"},FS=["data-label"],VS={class:"nxp-ec-admin-table__meta"},HS=["data-label"],BS=["data-label"],KS={class:"nxp-ec-badge"},jS=["title"],JS=["data-label"],WS={class:"nxp-ec-admin-table__actions"},qS=["onUpdate:modelValue","disabled","aria-label"],zS=["value"],QS=["value"],ZS=["disabled","onClick"],eb=["aria-label"],tb=["disabled","aria-label"],nb={class:"nxp-ec-admin-pagination__status","aria-current":"page"},sb=["disabled","aria-label"],ib=["title"],ab={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},ob={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},rb={class:"nxp-ec-admin-panel__sidebar-header"},lb={id:"order-modal-title"},cb=["title","aria-label"],db={class:"nxp-ec-sr-only"},ub={class:"nxp-ec-admin-panel__sidebar-content"},_b={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},pb={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},fb={key:2,class:"nxp-ec-admin-panel__section"},mb={class:"nxp-ec-admin-copy"},hb=["value"],gb=["disabled"],Eb={key:0,class:"nxp-ec-admin-panel__muted"},Cb={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},Ab=["disabled"],Sb={key:0,class:"nxp-ec-admin-panel__muted"},bb={class:"nxp-ec-admin-panel__section"},Tb={class:"nxp-ec-admin-list"},yb={class:"nxp-ec-admin-list__title"},Rb={class:"nxp-ec-admin-list__meta"},Ob={key:3,class:"nxp-ec-admin-panel__section"},xb={class:"nxp-ec-admin-panel__section-header"},Nb=["disabled"],vb={key:0,class:"nxp-ec-admin-panel__muted"},Pb={class:"nxp-ec-download-list"},Mb={class:"nxp-ec-download-card__meta"},kb={class:"nxp-ec-admin-list__title"},Ib={class:"nxp-ec-admin-panel__muted"},wb={class:"nxp-ec-download-card__actions"},$b=["disabled","onClick","title"],Db=["onClick"],Lb=["href"],Ub={class:"nxp-ec-admin-panel__section"},Yb={class:"nxp-ec-admin-panel__total"},Xb={class:"nxp-ec-admin-panel__addresses"},Gb={class:"nxp-ec-admin-panel__section"},Fb={class:"nxp-ec-admin-address"},Vb={class:"nxp-ec-admin-panel__section"},Hb={key:0,class:"nxp-ec-admin-address"},Bb={key:1,class:"nxp-ec-admin-panel__muted"},Kb={class:"nxp-ec-admin-panel__section"},jb={class:"nxp-ec-form-field"},Jb={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},Wb={class:"nxp-ec-form-field"},qb={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},zb={class:"nxp-ec-form-field"},Qb={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},Zb={key:0,class:"nxp-ec-form-checkbox"},eT={class:"nxp-ec-admin-form__actions"},tT=["disabled"],nT={key:4,class:"nxp-ec-admin-panel__section"},sT={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},iT=["disabled"],aT=["disabled"],oT={key:5,class:"nxp-ec-admin-panel__section"},rT={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},lT={class:"nxp-ec-form-field"},cT={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},dT=["placeholder"],uT={class:"nxp-ec-form-help"},_T={class:"nxp-ec-form-field"},pT={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},fT=["placeholder"],mT={class:"nxp-ec-form-field"},hT={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},gT={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},ET=["disabled"],CT={key:6,class:"nxp-ec-admin-panel__section"},AT={class:"nxp-ec-admin-list"},ST={class:"nxp-ec-admin-list__title"},bT={class:"nxp-ec-admin-list__meta"},TT={class:"nxp-ec-admin-panel__section"},yT=["placeholder"],RT={class:"nxp-ec-admin-form__actions"},OT=["disabled"],xT={class:"nxp-ec-admin-panel__section"},NT={key:0,class:"nxp-ec-admin-list"},vT={class:"nxp-ec-admin-list__title"},PT={class:"nxp-ec-admin-list__meta"},MT={key:1,class:"nxp-ec-admin-panel__muted"},kT=Rt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""},currentUserId:{type:Number,default:0},forceCheckinOrder:{type:Function,default:null}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ee(()=>Number(s.currentUserId||0)),l=qe({}),d=We(""),_=We(""),f=Ee(()=>_.value.trim().length>0),g=We(""),u=We(""),T=qe({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),m=qe({amount:null,reference:"",note:""}),M=Ee(()=>{var D;const N=(D=s.state)==null?void 0:D.selection;return!N||typeof N.values!="function"?[]:Array.from(N.values())}),v=Ee(()=>M.value.length>0),R=Ee(()=>{var me;const N=(me=s.state)==null?void 0:me.activeOrder;if(!N)return!1;const D=["cod","bank_transfer"],_e=String(N.payment_method||"").toLowerCase();return N.state==="pending"&&D.includes(_e)}),A=Ee(()=>{var _e,me;const N=(_e=s.state)==null?void 0:_e.activeOrder;return N?["paid","fulfilled"].includes(N.state)&&((me=N.downloads)==null?void 0:me.length)>0:!1});Ee(()=>R.value);const O=N=>(N==null?void 0:N.checked_out)&&Number(N.checked_out)!==0&&Number(N.checked_out)!==r.value,U=N=>{var me,V;const D=(V=(me=N==null?void 0:N.checked_out_user)==null?void 0:me.name)!=null?V:"",_e=(N==null?void 0:N.checked_out)===r.value?n("JGLOBAL_YOU","You"):D||n("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user");return n("COM_NXPEASYCART_CHECKED_OUT_BY","Checked out by %s",[_e])},X=Ee(()=>{var N;return O((N=s.state)==null?void 0:N.activeOrder)});tt(M,N=>{N.length||(d.value="")}),Bn(()=>{le()}),tt(()=>s.state.activeOrder,N=>{var D,_e,me;_.value="",g.value="",T.carrier=(D=N==null?void 0:N.carrier)!=null?D:"",T.tracking_number=(_e=N==null?void 0:N.tracking_number)!=null?_e:"",T.tracking_url=(me=N==null?void 0:N.tracking_url)!=null?me:"",T.markFulfilled=!1,m.amount=null,m.reference="",m.note="",u.value=""},{immediate:!0}),tt(()=>s.state.items,N=>{Array.isArray(N)&&N.forEach(D=>{!D||typeof D.id=="undefined"||l[D.id]||(l[D.id]=D.state)})},{immediate:!0}),tt(()=>s.state.transitionError,N=>{var _e;if(!N)return;const D=(_e=s.state)==null?void 0:_e.items;Array.isArray(D)&&D.forEach(me=>{me!=null&&me.id&&me.state&&(l[me.id]=me.state)})});const W=(N,D)=>{const _e=(Number(N)||0)/100,me=(D||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:me}).format(_e)}catch(V){return`${me} ${_e.toFixed(2)}`}},re=N=>{if(!N)return"";const D=new Date(N);return Number.isNaN(D.getTime())?N:D.toLocaleString()},Te=N=>N?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[N]||N:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),Me=N=>N===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(N)]),ve=N=>{if(!N)return"";const D=`COM_NXPEASYCART_ORDERS_STATE_${String(N).toUpperCase()}`;return n(D,N)},Y=N=>s.state.orderStates.filter(D=>D!==N.state),ke=N=>(l[N.id]||N.state)!==N.state,Pe=()=>{var N;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((N=window.location)!=null&&N.origin)?window.location.origin:""},K=Ee(()=>{var je,Ue;const N=(Ue=(je=s.state)==null?void 0:je.activeOrder)!=null?Ue:{},D=String(N.public_token||"").trim(),_e=String(N.order_no||"").trim();if(!D)return"";const me=Pe();if(!me)return"";const V=me.endsWith("/")?"":"/",Ie=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:D});return _e&&Ie.set("no",_e),`${me}${V}index.php?${Ie.toString()}`}),Se=async()=>{var N;if(K.value){try{if(!((N=navigator==null?void 0:navigator.clipboard)!=null&&N.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(K.value),g.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(D){try{const _e=document.createElement("textarea");_e.value=K.value,_e.setAttribute("readonly",""),_e.style.position="absolute",_e.style.left="-9999px",document.body.appendChild(_e),_e.select(),document.execCommand("copy"),document.body.removeChild(_e),g.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(_e){g.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}g.value&&setTimeout(()=>{g.value=""},2e3)}},Ce=N=>{var me,V;const D=Number((me=N==null?void 0:N.download_count)!=null?me:0),_e=Number((V=N==null?void 0:N.max_downloads)!=null?V:0);if(_e>0){const Ie=Math.max(0,_e-D);return n("COM_NXPEASYCART_ORDER_DOWNLOADS_REMAINING","%d downloads remaining",[Ie])}return n("COM_NXPEASYCART_ORDER_DOWNLOADS_UNLIMITED","Unlimited downloads")},pe=N=>N!=null&&N.expires_at?n("COM_NXPEASYCART_ORDER_DOWNLOADS_EXPIRES","Expires %s",[N.expires_at]):n("JNONE","No expiry"),w=async N=>{var _e;const D=N==null?void 0:N.url;if(D){try{if(!((_e=navigator==null?void 0:navigator.clipboard)!=null&&_e.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(D),u.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(me){try{const V=document.createElement("textarea");V.value=D,V.setAttribute("readonly",""),V.style.position="absolute",V.style.left="-9999px",document.body.appendChild(V),V.select(),document.execCommand("copy"),document.body.removeChild(V),u.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(V){u.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.")}}u.value&&setTimeout(()=>{u.value=""},2e3)}},k=Ee(()=>{var D,_e,me,V,Ie;const N=(_e=(D=s.state)==null?void 0:D.activeOrder)!=null?_e:{};return T.carrier!==((me=N.carrier)!=null?me:"")||T.tracking_number!==((V=N.tracking_number)!=null?V:"")||T.tracking_url!==((Ie=N.tracking_url)!=null?Ie:"")||T.markFulfilled}),$=N=>!N||typeof N!="object"?[]:Object.entries(N).filter(([,D])=>D!=null&&`${D}`.trim()!=="").map(([D,_e])=>({key:D,value:`${_e}`.trim()})),Q=()=>{a("refresh")},h=()=>{a("export")},C=()=>{a("search")},E=()=>{a("filter",s.state.filterState)},Z=async N=>{N&&(O(N)&&!await be(N)||a("view",N))},le=()=>{a("close")},be=async N=>{var _e;if(!(N!=null&&N.id)||typeof s.forceCheckinOrder!="function")return null;const D=n("COM_NXPEASYCART_FORCE_CHECKIN_ORDER","This order is checked out by %s. Force check-in?",[((_e=N.checked_out_user)==null?void 0:_e.name)||n("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","another user")]);if(typeof window!="undefined"&&!window.confirm(D))return null;try{return await s.forceCheckinOrder(N.id)}catch(me){return state.transitionError=(me==null?void 0:me.message)||n("COM_NXPEASYCART_ERROR_ORDER_CHECKED_OUT_GENERIC","Unable to check in this order."),null}},Re=N=>{if(!N||O(N))return;const D=l[N.id]||N.state;D!==N.state&&a("transition",{id:N.id,state:D})},j=N=>{a("page",N)},fe=N=>{var D,_e,me,V;return(V=(me=(_e=(D=s.state)==null?void 0:D.selection)==null?void 0:_e.has)==null?void 0:me.call(_e,N))!=null?V:!1},Oe=N=>{var _e,me,V,Ie;const D=(Ie=(V=(me=(_e=s.state)==null?void 0:_e.items)==null?void 0:me.find)==null?void 0:V.call(me,je=>je.id===N))!=null?Ie:null;O(D)||a("toggle-selection",N)},Ve=()=>{d.value="",a("clear-selection")},S=()=>{if(!v.value||!d.value)return;const N=[...M.value].filter(D=>{var me,V,Ie,je;const _e=(je=(Ie=(V=(me=s.state)==null?void 0:me.items)==null?void 0:V.find)==null?void 0:Ie.call(V,Ue=>Ue.id===D))!=null?je:null;return!O(_e)});N.length&&a("bulk-transition",{ids:N,state:d.value})},x=()=>{if(!s.state.activeOrder||X.value)return;const N=_.value.trim();N&&(a("add-note",{id:s.state.activeOrder.id,message:N}),_.value="")},H=()=>{s.state.activeOrder&&a("invoice",s.state.activeOrder.id)},te=()=>{!s.state.activeOrder||!k.value||X.value||(a("save-tracking",{id:s.state.activeOrder.id,carrier:T.carrier,tracking_number:T.tracking_number,tracking_url:T.tracking_url,mark_fulfilled:T.markFulfilled}),T.markFulfilled=!1)},J=N=>{!s.state.activeOrder||X.value||a("send-email",{id:s.state.activeOrder.id,type:N})},ne=()=>{if(!s.state.activeOrder||!R.value||X.value)return;const N=s.state.activeOrder,D=m.amount!==null&&m.amount!==""?Math.round(Number(m.amount)*100):N.total_cents;a("record-payment",{id:N.id,amountCents:D,reference:m.reference,note:m.note}),m.amount=null,m.reference="",m.note=""},de=()=>{!s.state.activeOrder||!A.value||X.value||a("resend-downloads",{id:s.state.activeOrder.id})},ie=N=>{!s.state.activeOrder||!(N!=null&&N.id)||X.value||a("reset-download",{download_id:N.id,order_id:s.state.activeOrder.id})},se=N=>{var me;const D=(me=s.state)==null?void 0:me.activeOrder;return D?(D.timeline||D.audit||[]).some(V=>{var Ie;return V.action==="order.email.sent"?((Ie=V.context)==null?void 0:Ie.type)===N:!1}):!1},ee=Ee(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(M.value.length)],"ordersSelectedCount")),Ae=N=>{var D,_e,me,V,Ie,je,Ue,Ye,P,p,L,B;if(!N||!N.action)return"";switch(N.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const F=ve((_e=(D=N.context)==null?void 0:D.from)!=null?_e:""),G=ve((V=(me=N.context)==null?void 0:me.to)!=null?V:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[F||((Ie=N.context)==null?void 0:Ie.from)||"",G||((je=N.context)==null?void 0:je.to)||""],"ordersTimelineState")}case"order.note":return((Ue=N.context)==null?void 0:Ue.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const F=((Ye=N.context)==null?void 0:Ye.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),G=W((p=(P=N.context)==null?void 0:P.amount_cents)!=null?p:0,(B=(L=s.state)==null?void 0:L.activeOrder)==null?void 0:B.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[F,G],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return N.action}},ue=N=>{if(!N)return"";const D=String(N.type||"").toLowerCase(),_e=String(N.message||"").trim(),me=String(N.state||"").toLowerCase();return D==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):me?ve(me):_e||D||""},ge=Ee(()=>{var me,V,Ie,je;const N=[];return(Array.isArray((V=(me=s.state)==null?void 0:me.activeOrder)==null?void 0:V.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((Ue,Ye)=>{var P,p;N.push({label:ue(Ue),created:(P=Ue==null?void 0:Ue.at)!=null?P:"",key:`f-${Ye}-${(p=Ue==null?void 0:Ue.at)!=null?p:""}`})}),(Array.isArray((je=(Ie=s.state)==null?void 0:Ie.activeOrder)==null?void 0:je.timeline)?s.state.activeOrder.timeline:[]).forEach((Ue,Ye)=>{var P,p,L;N.push({label:Ae(Ue),created:(P=Ue==null?void 0:Ue.created)!=null?P:"",key:`a-${(p=Ue==null?void 0:Ue.id)!=null?p:Ye}-${(L=Ue==null?void 0:Ue.created)!=null?L:""}`})}),N.filter(Ue=>Ue.label).sort((Ue,Ye)=>{const P=new Date(Ue.created||0).getTime();return new Date(Ye.created||0).getTime()-P})}),ye=N=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(N.status||"").toUpperCase()}`,N.status||""),$e=N=>{if(!N)return"";try{const D=new Date(N),me=new Date-D,V=Math.floor(me/1e3),Ie=Math.floor(V/60),je=Math.floor(Ie/60);return V<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Ie<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Ie]):je<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[je]):D.toLocaleString()}catch(D){return N}};return(N,D)=>{var _e,me;return b(),y("section",tS,[i("header",nS,[i("div",null,[i("h2",sS,c(o(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",iS,c(o(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",aS,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=V=>e.state.search=V),onKeyup:Ct(C,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,oS),[[he,e.state.search]]),z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":D[1]||(D[1]=V=>e.state.filterState=V),onChange:E,"aria-label":o(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",lS,"  "+c(o(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(b(!0),y(Ne,null,Xe(e.state.orderStates,V=>(b(),y("option",{key:V,value:V},c(ve(V)),9,cS))),128))],40,rS),[[Et,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:h,disabled:e.state.loading||e.state.exporting,title:o(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[D[15]||(D[15]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",uS,c(o(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,dS),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:Q,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[D[16]||(D[16]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",pS,c(o(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,_S)])]),e.state.error?(b(),y("div",fS,c(e.state.error),1)):ce("",!0),e.state.transitionError&&!e.state.error?(b(),y("div",mS,c(e.state.transitionError),1)):ce("",!0),e.state.loading&&!e.state.error?(b(),y("div",hS,[ot(ns,{type:"table",rows:5,columns:7})])):ce("",!0),!e.state.loading&&!e.state.error?(b(),y("div",gS,[i("div",ES,[v.value?(b(),y("div",CS,[i("span",null,c(ee.value),1),z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":D[2]||(D[2]=V=>d.value=V),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",SS,c(o(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(b(!0),y(Ne,null,Xe(e.state.orderStates,V=>(b(),y("option",{key:`bulk-${V}`,value:V},c(ve(V)),9,bS))),128))],8,AS),[[Et,d.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!d.value||e.state.saving,onClick:S},[D[17]||(D[17]=i("i",{class:"fa-solid fa-check"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,TS),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Ve,title:o(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[D[18]||(D[18]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",RS,c(o(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,yS)])):ce("",!0),i("table",OS,[i("thead",null,[i("tr",null,[i("th",xS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",NS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",vS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",PS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",MS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",kS,c(o(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",IS,c(o(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?ce("",!0):(b(),y("tr",wS,[i("td",$S,c(o(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(b(!0),y(Ne,null,Xe(e.state.items,V=>{var Ie,je,Ue;return b(),y("tr",{key:V.id,class:He({"is-active":e.state.activeOrder&&e.state.activeOrder.id===V.id})},[i("td",DS,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:fe(V.id),onChange:Ye=>Oe(V.id),disabled:O(V),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,LS)]),i("th",US,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:Ye=>Z(V),disabled:e.state.saving},c(V.order_no),9,YS),V.checked_out?(b(),y("div",XS,[i("span",GS,[D[19]||(D[19]=i("i",{class:"fa-solid fa-lock","aria-hidden":"true"},null,-1)),De(" "+c(U(V)),1)])])):ce("",!0)]),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[i("div",null,c(V.email),1),i("div",VS,c(Me((Ue=V.items_count)!=null?Ue:(je=(Ie=V.items)==null?void 0:Ie.length)!=null?je:0)),1)],8,FS),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},c(W(V.total_cents,V.currency)),9,HS),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[i("span",KS,c(ve(V.state)),1),V.needs_review?(b(),y("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:V.review_reason||o(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},c(o(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,jS)):ce("",!0)],8,BS),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},c(re(V.modified||V.created)),9,JS),i("td",WS,[z(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":Ye=>l[V.id]=Ye,disabled:O(V),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:V.state},c(ve(V.state)),9,zS),(b(!0),y(Ne,null,Xe(Y(V),Ye=>(b(),y("option",{key:Ye,value:Ye},c(ve(Ye)),9,QS))),128))],8,qS),[[Et,l[V.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!ke(V)||O(V),onClick:Ye=>Re(V)},c(o(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,ZS)])],2)}),128))])]),e.state.pagination.pages>1?(b(),y("nav",{key:1,class:"nxp-ec-admin-pagination","aria-label":o(n)("COM_NXPEASYCART_PAGINATION","Pagination")},[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[3]||(D[3]=V=>j(e.state.pagination.current-1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,tb),i("span",nb,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[4]||(D[4]=V=>j(e.state.pagination.current+1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,sb)],8,eb)):ce("",!0)]),e.state.lastUpdated?(b(),y("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c($e(e.state.lastUpdated)),9,ib)):ce("",!0),e.state.activeOrder?(b(),y("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"order-modal-title",onKeydown:Ct(le,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:le}),i("div",ab,[i("aside",ob,[i("header",rb,[i("h3",lb,c(o(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+c(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:le,title:o(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[D[20]||(D[20]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",db,c(o(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,cb)]),i("div",ub,[e.state.transitionError?(b(),y("div",_b,c(e.state.transitionError),1)):ce("",!0),(_e=e.state.activeOrder)!=null&&_e.needs_review?(b(),y("div",pb,[i("strong",null,c(o(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),De(" "+c(Te((me=e.state.activeOrder)==null?void 0:me.review_reason)),1)])):ce("",!0),K.value?(b(),y("section",fb,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",mb,[i("input",{type:"text",class:"nxp-ec-form-input",value:K.value,readonly:""},null,8,hb),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!K.value,onClick:Se},[D[21]||(D[21]=i("i",{class:"fa-solid fa-link"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,gb)]),g.value?(b(),y("p",Eb,c(g.value),1)):ce("",!0),i("div",Cb,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:H},[D[22]||(D[22]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,Ab),s.state.invoiceLoading?(b(),y("span",Sb,c(o(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):ce("",!0)])])):ce("",!0),i("section",bb,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",Tb,[(b(!0),y(Ne,null,Xe(e.state.activeOrder.items,V=>(b(),y("li",{key:V.id},[i("div",yb,[De(c(V.title)+" ",1),i("small",null,"("+c(V.sku)+")",1)]),i("div",Rb,"  "+c(V.qty)+"  "+c(W(V.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),e.state.activeOrder.downloads&&e.state.activeOrder.downloads.length?(b(),y("section",Ob,[i("div",xb,[i("h4",null,c(o(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital downloads")),1),A.value?(b(),y("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--small",disabled:e.state.saving||X.value,onClick:de},[D[23]||(D[23]=i("i",{class:"fa-solid fa-envelope"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_ORDERS_RESEND_DOWNLOADS","Resend email")),1)],8,Nb)):ce("",!0)]),u.value?(b(),y("p",vb,c(u.value),1)):ce("",!0),i("div",Pb,[(b(!0),y(Ne,null,Xe(e.state.activeOrder.downloads,V=>(b(),y("article",{key:V.id,class:"nxp-ec-download-card"},[i("div",Mb,[i("div",kb,c(V.filename),1),i("div",Ib,c(Ce(V))+"  "+c(pe(V)),1)]),i("div",wb,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",disabled:e.state.saving||X.value,onClick:Ie=>ie(V),title:o(n)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD_TITLE","Reset download count to 0")},[D[24]||(D[24]=i("i",{class:"fa-solid fa-rotate-left"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD","Reset")),1)],8,$b),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",onClick:Ie=>w(V)},c(o(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),9,Db),V.url?(b(),y("a",{key:0,class:"nxp-ec-btn nxp-ec-btn--small",href:V.url,target:"_blank",rel:"noopener"},c(o(n)("COM_NXPEASYCART_DOWNLOAD","Download")),9,Lb)):ce("",!0)])]))),128))])])):ce("",!0),i("section",Ub,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",Yb,c(W(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("div",Xb,[i("section",Gb,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",Fb,[(b(!0),y(Ne,null,Xe($(e.state.activeOrder.billing),V=>(b(),y("span",{key:V.key},c(V.value),1))),128))])]),i("section",Vb,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(b(),y("address",Hb,[(b(!0),y(Ne,null,Xe($(e.state.activeOrder.shipping),V=>(b(),y("span",{key:V.key},c(V.value),1))),128))])):(b(),y("p",Bb,c(o(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),i("section",Kb,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",jb,[i("label",Jb,c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),z(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":D[5]||(D[5]=V=>T.carrier=V)},null,512),[[he,T.carrier]])]),i("div",Wb,[i("label",qb,c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),z(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":D[6]||(D[6]=V=>T.tracking_number=V)},null,512),[[he,T.tracking_number]])]),i("div",zb,[i("label",Qb,c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),z(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":D[7]||(D[7]=V=>T.tracking_url=V)},null,512),[[he,T.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(b(),y("label",Zb,[z(i("input",{type:"checkbox","onUpdate:modelValue":D[8]||(D[8]=V=>T.markFulfilled=V)},null,512),[[ut,T.markFulfilled]]),De(" "+c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):ce("",!0),i("div",eT,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!k.value||e.state.saving||X.value,onClick:te},[D[25]||(D[25]=i("i",{class:"fa-solid fa-truck"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,tT)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(b(),y("section",nT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),i("div",sT,[e.state.activeOrder.state==="fulfilled"?(b(),y("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||X.value,onClick:D[9]||(D[9]=V=>J("shipped"))},[D[26]||(D[26]=i("i",{class:"fa-solid fa-envelope"},null,-1)),De(" "+c(se("shipped")?o(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):o(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,iT)):ce("",!0),e.state.activeOrder.state==="refunded"?(b(),y("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving||X.value,onClick:D[10]||(D[10]=V=>J("refunded"))},[D[27]||(D[27]=i("i",{class:"fa-solid fa-envelope"},null,-1)),De(" "+c(se("refunded")?o(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):o(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,aT)):ce("",!0)])])):ce("",!0),R.value?(b(),y("section",oT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),i("p",rT,c(o(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),i("div",lT,[i("label",cT,c(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),z(i("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":D[11]||(D[11]=V=>m.amount=V),placeholder:W(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,dT),[[he,m.amount]]),i("small",uT,c(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),i("div",_T,[i("label",pT,c(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),z(i("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":D[12]||(D[12]=V=>m.reference=V),placeholder:o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,fT),[[he,m.reference]])]),i("div",mT,[i("label",hT,c(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),z(i("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":D[13]||(D[13]=V=>m.note=V)},null,512),[[he,m.note]])]),i("div",gT,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving||X.value||!R.value,onClick:ne},[D[28]||(D[28]=i("i",{class:"icon-credit"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,ET)])])):ce("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(b(),y("section",CT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",AT,[(b(!0),y(Ne,null,Xe(e.state.activeOrder.transactions,V=>(b(),y("li",{key:V.id},[i("div",ST,c(V.gateway)+"  "+c(W(V.amount_cents,e.state.activeOrder.currency)),1),i("div",bT,c(ye(V))+"  "+c(re(V.created)),1)]))),128))])])):ce("",!0),i("section",TT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:Pt(x,["prevent"])},[z(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":D[14]||(D[14]=V=>_.value=V),placeholder:o(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,yT),[[he,_.value]]),i("div",RT,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!f.value||e.state.saving||X.value},[D[29]||(D[29]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,OT)])],32)]),i("section",xT,[i("h4",null,c(o(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),ge.value.length?(b(),y("ul",NT,[(b(!0),y(Ne,null,Xe(ge.value,V=>(b(),y("li",{key:V.key},[i("div",vT,c(V.label),1),i("div",PT,c(re(V.created)),1)]))),128))])):(b(),y("p",MT,c(o(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])],32)):ce("",!0)])):ce("",!0)])}}},[["__scopeId","data-v-9ae09394"]]),IT={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},wT={class:"nxp-ec-admin-panel__header"},$T={class:"nxp-ec-admin-panel__title"},DT={class:"nxp-ec-admin-panel__lead"},LT={class:"nxp-ec-admin-panel__actions"},UT=["placeholder","aria-label"],YT=["disabled","title","aria-label"],XT={class:"nxp-ec-sr-only"},GT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},FT={key:1,class:"nxp-ec-admin-panel__body"},VT={key:2,class:"nxp-ec-admin-panel__body"},HT={class:"nxp-ec-admin-panel__table"},BT={class:"nxp-ec-admin-table"},KT={scope:"col"},jT={scope:"col"},JT={scope:"col"},WT={scope:"col"},qT={scope:"col"},zT={key:0},QT={colspan:"5"},ZT={scope:"row",class:"nxp-ec-admin-table__primary"},ey=["onClick"],ty=["data-label"],ny=["data-label"],sy=["data-label"],iy=["data-label"],ay={key:0,class:"nxp-ec-admin-pagination"},oy=["disabled"],ry={class:"nxp-ec-admin-pagination__status"},ly=["disabled"],cy=["title"],dy={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},uy={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},_y={class:"nxp-ec-admin-panel__sidebar-header"},py={id:"customer-modal-title"},fy=["title","aria-label"],my={class:"nxp-ec-sr-only"},hy={class:"nxp-ec-admin-panel__section"},gy={class:"nxp-ec-admin-summary"},Ey={class:"nxp-ec-admin-panel__addresses"},Cy={class:"nxp-ec-admin-panel__section"},Ay={class:"nxp-ec-admin-address"},Sy={class:"nxp-ec-admin-panel__section"},by={key:0,class:"nxp-ec-admin-address"},Ty={key:1,class:"nxp-ec-admin-panel__muted"},yy={class:"nxp-ec-admin-panel__section"},Ry={key:0,class:"nxp-ec-admin-list"},Oy={class:"nxp-ec-admin-list__title"},xy={class:"nxp-ec-admin-list__meta"},Ny={key:1,class:"nxp-ec-admin-panel__muted"},vy={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},Py={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},My={class:"nxp-ec-gdpr-actions"},ky=["disabled","title"],Iy=["disabled","title"],wy=Rt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=(A,O)=>{const U=(Number(A)||0)/100,X=(O||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:X}).format(U)}catch(W){return`${X} ${U.toFixed(2)}`}},l=A=>{if(!A)return"";const O=new Date(A);return Number.isNaN(O.getTime())?A:O.toLocaleString()},d=A=>!A||typeof A!="object"?[]:Object.entries(A).filter(([,O])=>O!=null&&`${O}`.trim()!=="").map(([O,U])=>({key:O,value:`${U}`.trim()})),_=A=>{if(!A)return"";const O=`COM_NXPEASYCART_ORDERS_STATE_${String(A).toUpperCase()}`;return n(O,A)},f=()=>a("refresh"),g=()=>a("search"),u=A=>a("page",A),T=A=>a("view",A),m=()=>a("close"),M=A=>a("gdprExport",A),v=A=>a("gdprAnonymise",A),R=A=>{if(!A)return"";try{const O=new Date(A),X=new Date-O,W=Math.floor(X/1e3),re=Math.floor(W/60),Te=Math.floor(re/60);return W<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):re<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[re]):Te<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Te]):O.toLocaleString()}catch(O){return A}};return(A,O)=>{var U,X,W;return b(),y("section",IT,[i("header",wT,[i("div",null,[i("h2",$T,c(o(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",DT,c(o(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",LT,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":O[0]||(O[0]=re=>e.state.search=re),onKeyup:Ct(g,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,UT),[[he,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:f,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":o(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[O[5]||(O[5]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",XT,c(o(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,YT)])]),e.state.error?(b(),y("div",GT,c(e.state.error),1)):ce("",!0),e.state.loading?(b(),y("div",FT,[ot(ns,{type:"table",rows:5,columns:5})])):ce("",!0),e.state.loading?ce("",!0):(b(),y("div",VT,[i("div",HT,[i("table",BT,[i("thead",null,[i("tr",null,[i("th",KT,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",jT,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",JT,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",WT,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",qT,c(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?ce("",!0):(b(),y("tr",zT,[i("td",QT,c(o(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(b(!0),y(Ne,null,Xe(e.state.items,re=>{var Te;return b(),y("tr",{key:re.email,class:He({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===re.email})},[i("th",ZT,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:Me=>T(re)},c(re.email),9,ey)]),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},c(((Te=re.meta)==null?void 0:Te.name)||""),9,ty),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},c(re.orders_count),9,ny),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},c(r(re.total_spent_cents,re.currency||e.baseCurrency)),9,sy),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},c(l(re.last_order)),9,iy)],2)}),128))])]),e.state.pagination.pages>1?(b(),y("div",ay,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:O[1]||(O[1]=re=>u(e.state.pagination.current-1))},"  ",8,oy),i("span",ry,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:O[2]||(O[2]=re=>u(e.state.pagination.current+1))},"  ",8,ly)])):ce("",!0)]),e.state.lastUpdated?(b(),y("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(R(e.state.lastUpdated)),9,cy)):ce("",!0),e.state.activeCustomer?(b(),y("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"customer-modal-title",onKeydown:Ct(m,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:m}),i("div",dy,[i("aside",uy,[i("header",_y,[i("h3",py,c(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:m,title:o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[O[6]||(O[6]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",my,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,fy)]),i("section",hy,[i("h4",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",gy,[i("div",null,[i("dt",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,c(((U=e.state.activeCustomer.meta)==null?void 0:U.name)||""),1)]),i("div",null,[i("dt",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,c(r(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,c(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,c(l(e.state.activeCustomer.last_order)),1)])])]),i("div",Ey,[i("section",Cy,[i("h4",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",Ay,[(b(!0),y(Ne,null,Xe(d((X=e.state.activeCustomer.meta)==null?void 0:X.billing),re=>(b(),y("span",{key:re.key},c(re.value),1))),128))])]),i("section",Sy,[i("h4",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(W=e.state.activeCustomer.meta)!=null&&W.shipping?(b(),y("address",by,[(b(!0),y(Ne,null,Xe(d(e.state.activeCustomer.meta.shipping),re=>(b(),y("span",{key:re.key},c(re.value),1))),128))])):(b(),y("p",Ty,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),i("section",yy,[i("h4",null,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(b(),y("ul",Ry,[(b(!0),y(Ne,null,Xe(e.state.activeCustomer.orders,re=>(b(),y("li",{key:re.id},[i("div",Oy,c(re.order_no)+"  "+c(r(re.total_cents,re.currency||e.baseCurrency)),1),i("div",xy,c(_(re.state))+"  "+c(l(re.created)),1)]))),128))])):(b(),y("p",Ny,c(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),i("section",vy,[i("h4",null,c(o(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),i("p",Py,c(o(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),i("div",My,[i("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:O[3]||(O[3]=re=>M(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:o(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[O[7]||(O[7]=i("i",{class:"fa-solid fa-download"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,ky),i("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:O[4]||(O[4]=re=>v(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:o(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[O[8]||(O[8]=i("i",{class:"fa-solid fa-user-slash"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,Iy)]),e.state.gdprMessage?(b(),y("p",{key:0,class:He(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},c(e.state.gdprMessage),3)):ce("",!0)])])])],32)):ce("",!0)]))])}}},[["__scopeId","data-v-2e6c67f3"]]),$y={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},Dy={class:"nxp-ec-admin-panel__header"},Ly={class:"nxp-ec-admin-panel__title"},Uy={class:"nxp-ec-admin-panel__lead"},Yy={class:"nxp-ec-admin-panel__actions"},Xy=["placeholder","aria-label"],Gy=["disabled","title","aria-label"],Fy={class:"nxp-ec-sr-only"},Vy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Hy={key:1,class:"nxp-ec-admin-panel__loading"},By={key:2,class:"nxp-ec-admin-panel__body"},Ky={class:"nxp-ec-admin-panel__table"},jy={class:"nxp-ec-admin-table"},Jy={scope:"col"},Wy={scope:"col"},qy={scope:"col"},zy={scope:"col"},Qy={scope:"col"},Zy={scope:"col"},eR={key:0},tR={colspan:"7"},nR={scope:"row",class:"nxp-ec-admin-table__primary"},sR=["data-label"],iR=["data-label"],aR=["data-label"],oR=["data-label"],rR=["data-label"],lR={class:"nxp-ec-admin-table__actions"},cR=["onClick","title","aria-label"],dR={class:"nxp-ec-sr-only"},uR=["onClick","title","aria-label"],_R={class:"nxp-ec-sr-only"},pR=["aria-label"],fR=["disabled","aria-label"],mR={class:"nxp-ec-admin-pagination__status","aria-current":"page"},hR=["disabled","aria-label"],gR={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},ER={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},CR={class:"nxp-ec-admin-panel__sidebar-header"},AR={id:"coupon-modal-title"},SR=["title","aria-label"],bR={class:"nxp-ec-sr-only"},TR={class:"nxp-ec-form-field"},yR={class:"nxp-ec-form-label",for:"coupon-code"},RR={class:"nxp-ec-form-field"},OR={class:"nxp-ec-form-label",for:"coupon-type"},xR={value:"percent"},NR={value:"fixed"},vR={class:"nxp-ec-form-field"},PR={class:"nxp-ec-form-label",for:"coupon-value"},MR={class:"nxp-ec-form-field"},kR={class:"nxp-ec-form-label",for:"coupon-min-total"},IR={class:"nxp-ec-form-field"},wR={class:"nxp-ec-form-label",for:"coupon-start"},$R={class:"nxp-ec-form-field"},DR={class:"nxp-ec-form-label",for:"coupon-end"},LR={class:"nxp-ec-form-field"},UR={class:"nxp-ec-form-label",for:"coupon-max-uses"},YR={class:"nxp-ec-form-field nxp-ec-form-field--inline"},XR={class:"nxp-ec-form-label",for:"coupon-active"},GR={class:"nxp-ec-modal__actions"},FR=["disabled"],VR=["disabled"],HR=["disabled"],BR=Rt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ee(()=>(s.baseCurrency||"USD").toUpperCase()),l=qe({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),d=Ee(()=>l.open),_=()=>a("refresh"),f=()=>a("search"),g=U=>a("page",U),u=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},T=U=>{var X,W;Object.assign(l,{open:!0,id:U.id,code:U.code,type:U.type,value:U.value,min_total:(W=U.min_total)!=null?W:((X=U.min_total_cents)!=null?X:0)/100,start:U.start?U.start.substring(0,10):"",end:U.end?U.end.substring(0,10):"",max_uses:U.max_uses,active:U.active})},m=()=>{l.open=!1},M=()=>{const U={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};a("save",U)},v=U=>{const X=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(X)&&(a("delete",[U.id]),l.id===U.id&&m())},R=(U,X)=>{const W=(Number(U)||0)/100,re=(X||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:re}).format(W)}catch(Te){return`${re} ${W.toFixed(2)}`}},A=U=>U.type==="percent"?`${U.value}%`:R(U.value*100,r.value),O=U=>U==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return tt(()=>s.state.saving,(U,X)=>{X&&!U&&!s.state.error&&l.open&&m()}),(U,X)=>(b(),y("section",$y,[i("header",Dy,[i("div",null,[i("h2",Ly,c(o(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",Uy,c(o(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",Yy,[z(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":X[0]||(X[0]=W=>e.state.search=W),onKeyup:Ct(f,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,Xy),[[he,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[X[12]||(X[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Fy,c(o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,Gy),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:u},[X[13]||(X[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(b(),y("div",Vy,c(e.state.error),1)):ce("",!0),e.state.loading?(b(),y("div",Hy,c(o(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):ce("",!0),e.state.loading?ce("",!0):(b(),y("div",By,[i("div",Ky,[i("table",jy,[i("thead",null,[i("tr",null,[i("th",Jy,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",Wy,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",qy,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",zy,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",Qy,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",Zy,c(o(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),X[14]||(X[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ce("",!0):(b(),y("tr",eR,[i("td",tR,c(o(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(b(!0),y(Ne,null,Xe(e.state.items,W=>(b(),y("tr",{key:W.id,class:He({"is-active":l.id===W.id})},[i("th",nR,c(W.code),1),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},c(O(W.type)),9,sR),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},c(A(W)),9,iR),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},c(R(W.min_total_cents,r.value)),9,aR),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[i("span",{class:He(["nxp-ec-badge",{"is-active":W.active}])},[i("i",{class:He(W.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),De(" "+c(W.active?o(n)("JYES","Yes"):o(n)("JNO","No")),1)],2)],8,oR),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},c(W.times_used)+c(W.max_uses?` / ${W.max_uses}`:""),9,rR),i("td",lR,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:re=>T(W),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[X[15]||(X[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",dR,c(o(n)("JEDIT","Edit")),1)],8,cR),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:re=>v(W),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[X[16]||(X[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",_R,c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,uR)])],2))),128))])]),e.state.pagination.pages>1?(b(),y("nav",{key:0,class:"nxp-ec-admin-pagination","aria-label":o(n)("COM_NXPEASYCART_PAGINATION","Pagination")},[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:X[1]||(X[1]=W=>g(e.state.pagination.current-1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,fR),i("span",mR,c(e.state.pagination.current)+" / "+c(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:X[2]||(X[2]=W=>g(e.state.pagination.current+1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,hR)],8,pR)):ce("",!0)]),d.value?(b(),y("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"coupon-modal-title",onKeydown:Ct(m,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:m}),i("div",gR,[i("aside",ER,[i("header",CR,[i("h3",AR,c(l.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:m,title:o(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[X[17]||(X[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",bR,c(o(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,SR)]),i("form",{class:"nxp-ec-form",onSubmit:Pt(M,["prevent"]),autocomplete:"off"},[i("div",TR,[i("label",yR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),z(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":X[3]||(X[3]=W=>l.code=W),required:"",maxlength:"64"},null,512),[[he,l.code,void 0,{trim:!0}]])]),i("div",RR,[i("label",OR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),z(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":X[4]||(X[4]=W=>l.type=W)},[i("option",xR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",NR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[Et,l.type]])]),i("div",vR,[i("label",PR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),z(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":X[5]||(X[5]=W=>l.value=W),required:""},null,512),[[he,l.value,void 0,{number:!0}]])]),i("div",MR,[i("label",kR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),z(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":X[6]||(X[6]=W=>l.min_total=W)},null,512),[[he,l.min_total,void 0,{number:!0}]])]),i("div",IR,[i("label",wR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),z(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":X[7]||(X[7]=W=>l.start=W)},null,512),[[he,l.start]])]),i("div",$R,[i("label",DR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),z(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":X[8]||(X[8]=W=>l.end=W)},null,512),[[he,l.end]])]),i("div",LR,[i("label",UR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),z(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":X[9]||(X[9]=W=>l.max_uses=W)},null,512),[[he,l.max_uses,void 0,{number:!0}]])]),i("div",YR,[i("label",XR,c(o(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),z(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":X[10]||(X[10]=W=>l.active=W)},null,512),[[ut,l.active]])]),i("footer",GR,[i("button",{class:"nxp-ec-btn",type:"button",onClick:m,disabled:e.state.saving},c(o(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,FR),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,VR)]),l.id?(b(),y("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:X[11]||(X[11]=W=>v(l)),disabled:e.state.saving},[X[18]||(X[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,HR)):ce("",!0)],32)])])],32)):ce("",!0)]))]))}},[["__scopeId","data-v-768a321c"]]),KR={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},jR={class:"nxp-ec-admin-panel__header"},JR={class:"nxp-ec-admin-panel__title"},WR={class:"nxp-ec-admin-panel__lead"},qR={class:"nxp-ec-settings-tabs"},zR={key:0,class:"nxp-ec-settings-panel"},QR={class:"nxp-ec-settings-panel__header"},ZR=["disabled"],eO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},tO={key:1,class:"nxp-ec-admin-panel__loading"},nO={class:"nxp-ec-form-field"},sO={class:"nxp-ec-form-label",for:"settings-store-name"},iO={class:"nxp-ec-form-field"},aO={class:"nxp-ec-form-label",for:"settings-store-email"},oO={class:"nxp-ec-form-field"},rO={class:"nxp-ec-form-label",for:"settings-store-phone"},lO={class:"nxp-ec-form-field"},cO={class:"nxp-ec-form-label",for:"settings-base-currency"},dO=["value"],uO={class:"nxp-ec-form-help"},_O={class:"nxp-ec-form-field nxp-ec-form-field--inline"},pO={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},fO={class:"nxp-ec-form-help"},mO={class:"nxp-ec-form-field"},hO={class:"nxp-ec-form-label",for:"settings-display-locale"},gO={class:"nxp-ec-form-help"},EO={class:"nxp-ec-form-field"},CO={class:"nxp-ec-form-label",for:"settings-category-page-size"},AO={class:"nxp-ec-form-help"},SO={class:"nxp-ec-form-field"},bO={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},TO={value:"paged"},yO={value:"infinite"},RO={class:"nxp-ec-form-help"},OO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},xO={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},NO={class:"nxp-ec-form-help"},vO={class:"nxp-ec-form-field nxp-ec-form-field--inline"},PO={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},MO={class:"nxp-ec-form-help"},kO={key:0,class:"nxp-ec-form-field"},IO={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},wO={class:"nxp-ec-form-help"},$O={class:"nxp-ec-form-field nxp-ec-form-field--inline"},DO={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},LO={class:"nxp-ec-form-help"},UO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},YO={class:"nxp-ec-settings-actions"},XO=["disabled"],GO=["disabled"],FO={key:1,class:"nxp-ec-settings-panel"},VO={class:"nxp-ec-settings-panel__header"},HO=["disabled"],BO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},KO={key:1,class:"nxp-ec-admin-panel__loading"},jO={class:"nxp-ec-form-grid"},JO={class:"nxp-ec-form-field"},WO={class:"nxp-ec-form-label",for:"settings-digital-max"},qO={class:"nxp-ec-form-help"},zO={class:"nxp-ec-form-field"},QO={class:"nxp-ec-form-label",for:"settings-digital-expiry"},ZO={class:"nxp-ec-form-help"},ex={class:"nxp-ec-form-field nxp-ec-form-field--inline"},tx={class:"nxp-ec-form-label",for:"settings-digital-fulfill"},nx={class:"nxp-ec-form-help"},sx={class:"nxp-ec-form-field"},ix={class:"nxp-ec-form-label",for:"settings-digital-max-size"},ax={class:"nxp-ec-form-help"},ox={class:"nxp-ec-form-field"},rx={class:"nxp-ec-form-label",for:"settings-digital-storage"},lx={class:"nxp-ec-form-help"},cx={class:"nxp-ec-form-section"},dx={class:"nxp-ec-form-section__title"},ux={class:"nxp-ec-form-help",style:{"margin-bottom":"1rem"}},_x={class:"nxp-ec-filetypes-actions"},px={class:"nxp-ec-filetypes-grid"},fx={class:"nxp-ec-filetypes-category__title"},mx={class:"nxp-ec-filetypes-category__list"},hx=["value"],gx={class:"nxp-ec-filetypes-item__label"},Ex={class:"nxp-ec-form-field",style:{"margin-top":"1.5rem"}},Cx={class:"nxp-ec-form-label",for:"settings-digital-custom-ext"},Ax={class:"nxp-ec-form-help nxp-ec-form-help--warning"},Sx={class:"nxp-ec-settings-actions"},bx=["disabled"],Tx={key:2,class:"nxp-ec-settings-panel"},yx={class:"nxp-ec-settings-panel__header"},Rx=["disabled"],Ox={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},xx={class:"nxp-ec-form-help"},Nx={class:"nxp-ec-form-grid"},vx={class:"nxp-ec-form-field"},Px={class:"nxp-ec-form-label",for:"settings-checkout-window"},Mx={class:"nxp-ec-form-help"},kx={class:"nxp-ec-form-field"},Ix={class:"nxp-ec-form-label",for:"settings-offline-window"},wx={class:"nxp-ec-form-help"},$x={class:"nxp-ec-form-grid"},Dx={class:"nxp-ec-form-field"},Lx={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},Ux={class:"nxp-ec-form-field"},Yx={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},Xx={class:"nxp-ec-form-field"},Gx={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},Fx={class:"nxp-ec-form-grid"},Vx={class:"nxp-ec-form-field"},Hx={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},Bx={class:"nxp-ec-form-field"},Kx={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},jx={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Jx={class:"nxp-ec-settings-actions"},Wx=["disabled"],qx=["disabled"],zx={key:3,class:"nxp-ec-settings-panel"},Qx={class:"nxp-ec-settings-panel__header"},Zx={class:"nxp-ec-settings-actions"},eN=["disabled"],tN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},nN={key:1,class:"nxp-ec-admin-panel__loading"},sN={class:"nxp-ec-form-field"},iN={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},aN={class:"nxp-ec-form-field"},oN={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},rN={class:"nxp-ec-form-field"},lN={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},cN={class:"nxp-ec-form-help"},dN={class:"nxp-ec-form-field"},uN={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},_N={value:"test"},pN={value:"live"},fN={class:"nxp-ec-form-field"},mN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},hN={class:"nxp-ec-form-field"},gN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},EN={class:"nxp-ec-form-field"},CN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},AN={class:"nxp-ec-form-help"},SN={class:"nxp-ec-form-field"},bN={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},TN={value:"sandbox"},yN={value:"live"},RN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ON={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},xN={class:"nxp-ec-form-field"},NN={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},vN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},PN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},MN={class:"nxp-ec-form-field"},kN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},IN={class:"nxp-ec-form-field"},wN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},$N=["placeholder"],DN={class:"nxp-ec-form-help"},LN={class:"nxp-ec-form-grid"},UN={class:"nxp-ec-form-field"},YN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},XN={class:"nxp-ec-form-field"},GN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},FN={class:"nxp-ec-form-field"},VN={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},HN={class:"nxp-ec-form-field nxp-ec-form-field--inline"},BN={class:"nxp-ec-form-label",for:"settings-payments-configured"},KN={class:"nxp-ec-form-help"},jN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},JN={class:"nxp-ec-settings-actions"},WN=["disabled"],qN=["disabled"],zN={key:4,class:"nxp-ec-settings-panel"},QN={class:"nxp-ec-settings-panel__header"},ZN=["disabled"],e1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},t1={key:1,class:"nxp-ec-admin-panel__loading"},n1={class:"nxp-ec-form-help"},s1={class:"nxp-ec-form-help nxp-ec-form-help--muted"},i1={class:"nxp-ec-visual-grid"},a1={class:"nxp-ec-visual-field"},o1={class:"nxp-ec-form-label",for:"visual-primary-color"},r1={class:"nxp-ec-color-input-group"},l1=["value"],c1=["placeholder"],d1={class:"nxp-ec-visual-field"},u1={class:"nxp-ec-form-label",for:"visual-text-color"},_1={class:"nxp-ec-color-input-group"},p1=["value"],f1=["placeholder"],m1={class:"nxp-ec-visual-field"},h1={class:"nxp-ec-form-label",for:"visual-surface-color"},g1={class:"nxp-ec-color-input-group"},E1=["value"],C1=["placeholder"],A1={class:"nxp-ec-visual-field"},S1={class:"nxp-ec-form-label",for:"visual-border-color"},b1={class:"nxp-ec-color-input-group"},T1=["value"],y1=["placeholder"],R1={class:"nxp-ec-visual-field"},O1={class:"nxp-ec-form-label",for:"visual-muted-color"},x1={class:"nxp-ec-color-input-group"},N1=["value"],v1=["placeholder"],P1={class:"nxp-ec-visual-preview"},M1={type:"button",class:"nxp-ec-preview-btn"},k1={class:"nxp-ec-preview-text"},I1={class:"nxp-ec-preview-muted"},w1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},$1={class:"nxp-ec-settings-actions"},D1=["disabled"],L1=["disabled"],U1=Rt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=s.settingsState,l=s.paymentsState,_=We(["general","digital","security","payments","visual"].includes(s.initialTab)?s.initialTab:"general");Ee(()=>{var le;const h=s.baseCurrency||"USD",C=typeof f.baseCurrency=="string"?f.baseCurrency.trim():"",E=typeof((le=r==null?void 0:r.values)==null?void 0:le.base_currency)=="string"?r.values.base_currency.trim():"";return(C!==""?C:E!==""?E:h).toUpperCase()});const f=qe({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1,digitalMaxDownloads:5,digitalExpiryDays:30,digitalStoragePath:"",digitalAutoFulfill:!0,digitalMaxFileSize:200,digitalAllowedExtensions:[],digitalCustomExtensions:""}),g=We({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]}),u=()=>Object.values(g.value).flat(),T=h=>{var le,be;const C=(le=h==null?void 0:h.digital)!=null?le:{},E=(be=C.file_type_categories)!=null?be:g.value;if(Array.isArray(C.allowed_extensions))return[...C.allowed_extensions];const Z=[];for(const[Re,j]of Object.entries(E))Re!=="installers"&&Z.push(...j);return Z},m=h=>{var E;return(E={archives:"Archives",audio:"Audio",video:"Video",images:"Images",documents:"Documents",ebooks:"E-books",installers:"Installers"}[h])!=null?E:h.charAt(0).toUpperCase()+h.slice(1)},M=()=>{f.digitalAllowedExtensions=u()},v=()=>{f.digitalAllowedExtensions=[]},R=qe({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),A=qe({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),O=qe({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),U=Ee(()=>{var C,E;const h=(E=(C=r.values)==null?void 0:C.visual_defaults)!=null?E:{};return{primary:h.primary_color||"#4f6d7a",text:h.text_color||"#1f2933",surface:h.surface_color||"#ffffff",border:h.border_color||"#e4e7ec",muted:h.muted_color||"#6b7280"}}),X=Ee(()=>{var h,C;return(C=(h=r.values)==null?void 0:h.currencies)!=null?C:[]}),W=Ee(()=>({"--nxp-ec-color-primary":O.primaryColor||U.value.primary,"--nxp-ec-color-text":O.textColor||U.value.text,"--nxp-ec-color-surface":O.surfaceColor||U.value.surface,"--nxp-ec-color-border":O.borderColor||U.value.border,"--nxp-ec-color-muted":O.mutedColor||U.value.muted})),re=(h={})=>{var be,Re,j,fe,Oe,Ve,S,x,H,te,J,ne,de,ie,se,ee,Ae,ue,ge,ye;const C=(be=h==null?void 0:h.store)!=null?be:{},E=(Re=h==null?void 0:h.payments)!=null?Re:{},Z=(j=h==null?void 0:h.visual)!=null?j:{},le=(Oe=(fe=h==null?void 0:h.security)==null?void 0:fe.rate_limits)!=null?Oe:{};Object.assign(f,{storeName:(Ve=C.name)!=null?Ve:"",storeEmail:(S=C.email)!=null?S:"",storePhone:(x=C.phone)!=null?x:"",checkoutPhoneRequired:!!((H=h==null?void 0:h.checkout_phone_required)!=null&&H),paymentsConfigured:!!E.configured,autoSendOrderEmails:!!((te=h==null?void 0:h.auto_send_order_emails)!=null&&te),baseCurrency:typeof(h==null?void 0:h.base_currency)=="string"?h.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(h==null?void 0:h.display_locale)=="string"?h.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(h==null?void 0:h.category_page_size))?Number(h.category_page_size):12,categoryPaginationMode:(h==null?void 0:h.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((J=h==null?void 0:h.stale_order_cleanup_enabled)!=null&&J),staleOrderHours:Number.isFinite(Number(h==null?void 0:h.stale_order_hours))?Math.max(1,Math.min(720,Number(h.stale_order_hours))):48,showAdvancedMode:!!((ne=h==null?void 0:h.show_advanced_mode)!=null&&ne),digitalMaxDownloads:Number.isFinite(Number(h==null?void 0:h.digital_download_max))?Math.max(0,Number(h.digital_download_max)):5,digitalExpiryDays:Number.isFinite(Number(h==null?void 0:h.digital_download_expiry))?Math.max(0,Number(h.digital_download_expiry)):30,digitalStoragePath:typeof(h==null?void 0:h.digital_storage_path)=="string"?h.digital_storage_path:"",digitalAutoFulfill:!!((de=h==null?void 0:h.digital_auto_fulfill)==null||de),digitalMaxFileSize:Number.isFinite(Number(h==null?void 0:h.digital_max_file_size))?Math.max(1,Math.min(2048,Number(h.digital_max_file_size))):200,digitalAllowedExtensions:T(h),digitalCustomExtensions:typeof((ie=h==null?void 0:h.digital)==null?void 0:ie.custom_extensions)=="string"?h.digital.custom_extensions:""}),(se=h==null?void 0:h.digital)!=null&&se.file_type_categories&&(g.value=h.digital.file_type_categories),Object.assign(O,{primaryColor:(ee=Z.primary_color)!=null?ee:"",textColor:(Ae=Z.text_color)!=null?Ae:"",surfaceColor:(ue=Z.surface_color)!=null?ue:"",borderColor:(ge=Z.border_color)!=null?ge:"",mutedColor:(ye=Z.muted_color)!=null?ye:""}),Object.assign(R,{checkoutWindowMinutes:Number.isFinite(Number(le.checkout_window_minutes))?Number(le.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(le.checkout_ip_limit))?Number(le.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(le.checkout_email_limit))?Number(le.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(le.checkout_session_limit))?Number(le.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(le.offline_window_minutes))?Number(le.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(le.offline_ip_limit))?Number(le.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(le.offline_email_limit))?Number(le.offline_email_limit):5})},Te=(h={})=>{var be,Re,j,fe,Oe,Ve,S,x,H,te,J,ne,de,ie,se,ee,Ae,ue,ge,ye,$e,N,D,_e;const C=(be=h.stripe)!=null?be:{},E=(Re=h.paypal)!=null?Re:{},Z=(j=h.cod)!=null?j:{},le=(fe=h.bank_transfer)!=null?fe:{};Object.assign(A.stripe,{publishable_key:(Oe=C.publishable_key)!=null?Oe:"",secret_key:(Ve=C.secret_key)!=null?Ve:"",webhook_secret:(S=C.webhook_secret)!=null?S:"",mode:(x=C.mode)!=null?x:"test"}),Object.assign(A.paypal,{client_id:(H=E.client_id)!=null?H:"",client_secret:(te=E.client_secret)!=null?te:"",webhook_id:(J=E.webhook_id)!=null?J:"",mode:(ne=E.mode)!=null?ne:"sandbox"}),Object.assign(A.cod,{enabled:Z.enabled!==void 0?!!Z.enabled:A.cod.enabled,label:(ie=(de=Z.label)!=null?de:A.cod.label)!=null?ie:"Cash on delivery"}),Object.assign(A.bank_transfer,{enabled:le.enabled!==void 0?!!le.enabled:A.bank_transfer.enabled,label:(ee=(se=le.label)!=null?se:A.bank_transfer.label)!=null?ee:"Bank transfer",instructions:(ue=(Ae=le.instructions)!=null?Ae:A.bank_transfer.instructions)!=null?ue:"",account_name:(ye=(ge=le.account_name)!=null?ge:A.bank_transfer.account_name)!=null?ye:"",iban:(N=($e=le.iban)!=null?$e:A.bank_transfer.iban)!=null?N:"",bic:(_e=(D=le.bic)!=null?D:A.bank_transfer.bic)!=null?_e:""})};tt(()=>r.values,h=>{re(h!=null?h:{})},{immediate:!0});const Me=()=>a("refresh-settings"),ve=()=>{const h=(f.baseCurrency||"").trim().toUpperCase(),C=(f.displayLocale||"").trim();a("save-settings",{store:{name:f.storeName,email:f.storeEmail,phone:f.storePhone,base_currency:h},payments:{configured:f.paymentsConfigured},base_currency:h,display_locale:C,checkout_phone_required:f.checkoutPhoneRequired,auto_send_order_emails:f.autoSendOrderEmails,category_page_size:Number.isFinite(Number(f.categoryPageSize))?Number(f.categoryPageSize):12,category_pagination_mode:f.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!f.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(f.staleOrderHours))?Math.max(1,Math.min(720,Number(f.staleOrderHours))):48,show_advanced_mode:!!f.showAdvancedMode})},Y=()=>{var h;re((h=r.values)!=null?h:{})},ke=()=>{const h=Number.isFinite(Number(f.digitalMaxDownloads))?Math.max(0,Number(f.digitalMaxDownloads)):0,C=Number.isFinite(Number(f.digitalExpiryDays))?Math.max(0,Number(f.digitalExpiryDays)):0,E=(f.digitalStoragePath||"").trim(),Z=Number.isFinite(Number(f.digitalMaxFileSize))?Math.max(1,Math.min(2048,Number(f.digitalMaxFileSize))):200,le=u(),be=f.digitalAllowedExtensions||[],j=le.length===be.length&&le.every(Oe=>be.includes(Oe))?null:[...be],fe=(f.digitalCustomExtensions||"").trim();a("save-settings",{digital:{max_downloads:h,expiry_days:C,storage_path:E,auto_fulfill:!!f.digitalAutoFulfill,max_file_size:Z,allowed_extensions:j,custom_extensions:fe}})},Pe=()=>{var h;re((h=r.values)!=null?h:{})},K=()=>{const h=(C,E=0)=>{const Z=Number(C);return Number.isFinite(Z)&&Z>=0?Z:E};a("save-settings",{security:{rate_limits:{checkout_window_minutes:h(R.checkoutWindowMinutes,15),checkout_ip_limit:h(R.checkoutIpLimit,10),checkout_email_limit:h(R.checkoutEmailLimit,5),checkout_session_limit:h(R.checkoutSessionLimit,15),offline_window_minutes:h(R.offlineWindowMinutes,240),offline_ip_limit:h(R.offlineIpLimit,10),offline_email_limit:h(R.offlineEmailLimit,5)}}})},Se=()=>{var h;re((h=r.values)!=null?h:{})};tt(()=>r.saving,(h,C)=>{var E;C&&!h&&!r.error&&re((E=r.values)!=null?E:{})}),tt(()=>l.config,h=>{Te(h!=null?h:{})},{immediate:!0}),tt(()=>l.saving,(h,C)=>{var E;C&&!h&&!l.error&&Te((E=l.config)!=null?E:{})});const Ce=()=>a("refresh-payments"),pe=()=>{const h=JSON.parse(JSON.stringify(A));a("save-payments",h),a("save-settings",{payments:{configured:f.paymentsConfigured}})},w=()=>{var h;Te((h=l.config)!=null?h:{})},k=()=>a("refresh-settings"),$=()=>{a("save-settings",{visual:{primary_color:O.primaryColor,text_color:O.textColor,surface_color:O.surfaceColor,border_color:O.borderColor,muted_color:O.mutedColor}})},Q=()=>{var C,E,Z,le,be,Re,j;const h=(E=(C=r.values)==null?void 0:C.visual)!=null?E:{};Object.assign(O,{primaryColor:(Z=h.primary_color)!=null?Z:"",textColor:(le=h.text_color)!=null?le:"",surfaceColor:(be=h.surface_color)!=null?be:"",borderColor:(Re=h.border_color)!=null?Re:"",mutedColor:(j=h.muted_color)!=null?j:""})};return(h,C)=>(b(),y("section",KR,[i("header",jR,[i("div",null,[i("h2",JR,c(o(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",WR,c(o(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",qR,[i("button",{type:"button",class:He(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:C[0]||(C[0]=E=>_.value="general")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:He(["nxp-ec-settings-tab",{"is-active":_.value==="digital"}]),onClick:C[1]||(C[1]=E=>_.value="digital")},c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital")),3),f.showAdvancedMode?(b(),y("button",{key:0,type:"button",class:He(["nxp-ec-settings-tab",{"is-active":_.value==="security"}]),onClick:C[2]||(C[2]=E=>_.value="security")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):ce("",!0),i("button",{type:"button",class:He(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:C[3]||(C[3]=E=>_.value="payments")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:He(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:C[4]||(C[4]=E=>_.value="visual")},c(o(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(b(),y("div",zR,[i("header",QR,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Me,disabled:o(r).loading},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,ZR)]),o(r).error?(b(),y("div",eO,c(o(r).error),1)):o(r).loading?(b(),y("div",tO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(b(),y("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:Pt(ve,["prevent"])},[i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),i("div",nO,[i("label",sO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),z(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[5]||(C[5]=E=>f.storeName=E),maxlength:"190"},null,512),[[he,f.storeName,void 0,{trim:!0}]])]),i("div",iO,[i("label",aO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),z(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":C[6]||(C[6]=E=>f.storeEmail=E)},null,512),[[he,f.storeEmail,void 0,{trim:!0}]])]),i("div",oO,[i("label",rO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),z(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[7]||(C[7]=E=>f.storePhone=E),maxlength:"64"},null,512),[[he,f.storePhone,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),i("div",lO,[i("label",cO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),z(i("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":C[8]||(C[8]=E=>f.baseCurrency=E),required:""},[(b(!0),y(Ne,null,Xe(X.value,E=>(b(),y("option",{key:E.code,value:E.code},c(E.label),9,dO))),128))],512),[[Et,f.baseCurrency]]),i("p",uO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",_O,[i("label",pO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),z(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[9]||(C[9]=E=>f.checkoutPhoneRequired=E)},null,512),[[ut,f.checkoutPhoneRequired]]),i("p",fO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",mO,[i("label",hO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),z(i("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[10]||(C[10]=E=>f.displayLocale=E),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[he,f.displayLocale,void 0,{trim:!0}]]),i("p",gO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),i("div",EO,[i("label",CO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),z(i("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":C[11]||(C[11]=E=>f.categoryPageSize=E)},null,512),[[he,f.categoryPageSize,void 0,{number:!0}]]),i("p",AO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),i("div",SO,[i("label",bO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),z(i("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":C[12]||(C[12]=E=>f.categoryPaginationMode=E)},[i("option",TO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),i("option",yO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[Et,f.categoryPaginationMode]]),i("p",RO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),i("div",OO,[i("label",xO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),z(i("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[13]||(C[13]=E=>f.autoSendOrderEmails=E)},null,512),[[ut,f.autoSendOrderEmails]]),i("p",NO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),i("div",vO,[i("label",PO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),z(i("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[14]||(C[14]=E=>f.staleOrderCleanupEnabled=E)},null,512),[[ut,f.staleOrderCleanupEnabled]]),i("p",MO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),f.staleOrderCleanupEnabled?(b(),y("div",kO,[i("label",IO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),z(i("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":C[15]||(C[15]=E=>f.staleOrderHours=E)},null,512),[[he,f.staleOrderHours,void 0,{number:!0}]]),i("p",wO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):ce("",!0)]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),i("div",$O,[i("label",DO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),z(i("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[16]||(C[16]=E=>f.showAdvancedMode=E)},null,512),[[ut,f.showAdvancedMode]]),i("p",LO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),o(r).message?(b(),y("div",UO,c(o(r).message),1)):ce("",!0),i("div",YO,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Y,disabled:o(r).saving},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,XO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},c(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,GO)])],32))])):_.value==="digital"?(b(),y("div",FO,[i("header",VO,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital products")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Me,disabled:o(r).loading},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh")),9,HO)]),o(r).error?(b(),y("div",BO,c(o(r).error),1)):o(r).loading?(b(),y("div",KO,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings")),1)):(b(),y("form",{key:2,class:"nxp-ec-settings-form",onSubmit:Pt(ke,["prevent"])},[i("div",jO,[i("div",JO,[i("label",WO,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS","Default max downloads")),1),z(i("input",{id:"settings-digital-max",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[17]||(C[17]=E=>f.digitalMaxDownloads=E)},null,512),[[he,f.digitalMaxDownloads,void 0,{number:!0}]]),i("p",qO,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS_DESC","Maximum downloads allowed per purchase (0 for unlimited).")),1)]),i("div",zO,[i("label",QO,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY","Download link expiry (days)")),1),z(i("input",{id:"settings-digital-expiry",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[18]||(C[18]=E=>f.digitalExpiryDays=E)},null,512),[[he,f.digitalExpiryDays,void 0,{number:!0}]]),i("p",ZO,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY_DESC","Number of days before links expire (0 for no expiry).")),1)]),i("div",ex,[i("label",tx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL","Auto-fulfill digital orders")),1),z(i("input",{id:"settings-digital-fulfill",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[19]||(C[19]=E=>f.digitalAutoFulfill=E)},null,512),[[ut,f.digitalAutoFulfill]]),i("p",nx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL_DESC","Mark digital-only orders fulfilled after payment.")),1)]),i("div",sx,[i("label",ix,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE","Max file size (MB)")),1),z(i("input",{id:"settings-digital-max-size",class:"nxp-ec-form-input",type:"number",min:"1",max:"2048",step:"1","onUpdate:modelValue":C[20]||(C[20]=E=>f.digitalMaxFileSize=E)},null,512),[[he,f.digitalMaxFileSize,void 0,{number:!0}]]),i("p",ax,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE_DESC","Maximum upload size per file in megabytes (1-2048 MB).")),1)]),i("div",ox,[i("label",rx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH","Storage path")),1),z(i("input",{id:"settings-digital-storage",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[21]||(C[21]=E=>f.digitalStoragePath=E),maxlength:"250"},null,512),[[he,f.digitalStoragePath,void 0,{trim:!0}]]),i("p",lx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH_DESC","Protected directory for digital files. Adjust only if you know the server path.")),1)])]),i("div",cx,[i("h4",dx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES","Allowed File Types")),1),i("p",ux,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES_DESC","Select which file types can be uploaded as digital products.")),1),i("div",_x,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm",onClick:M},c(o(n)("COM_NXPEASYCART_SELECT_ALL","Select All")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-btn--link",onClick:v},c(o(n)("COM_NXPEASYCART_SELECT_NONE","Select None")),1)]),i("div",px,[(b(!0),y(Ne,null,Xe(g.value,(E,Z)=>(b(),y("div",{key:Z,class:"nxp-ec-filetypes-category"},[i("h5",fx,c(m(Z)),1),i("div",mx,[(b(!0),y(Ne,null,Xe(E,le=>(b(),y("label",{key:le,class:"nxp-ec-filetypes-item"},[z(i("input",{type:"checkbox",value:le,"onUpdate:modelValue":C[22]||(C[22]=be=>f.digitalAllowedExtensions=be),class:"nxp-ec-filetypes-item__checkbox"},null,8,hx),[[ut,f.digitalAllowedExtensions]]),i("span",gx,"."+c(le),1)]))),128))])]))),128))]),i("div",Ex,[i("label",Cx,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS","Custom Extensions")),1),z(i("input",{id:"settings-digital-custom-ext",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[23]||(C[23]=E=>f.digitalCustomExtensions=E),placeholder:"blend, psd, ai, sketch"},null,512),[[he,f.digitalCustomExtensions,void 0,{trim:!0}]]),i("p",Ax,c(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS_DESC","Comma-separated list of additional extensions. These bypass MIME validation - use only for trusted uploads.")),1)])]),i("div",Sx,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:Pe},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_RESET","Reset")),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},c(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")),9,bx)])],32))])):_.value==="security"&&f.showAdvancedMode?(b(),y("div",Tx,[i("header",yx,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Me,disabled:o(r).loading},c(o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,Rx)]),o(r).error?(b(),y("div",Ox,c(o(r).error),1)):(b(),y("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:Pt(K,["prevent"])},[i("p",xx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",Nx,[i("div",vx,[i("label",Px,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),z(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[24]||(C[24]=E=>R.checkoutWindowMinutes=E)},null,512),[[he,R.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",Mx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",kx,[i("label",Ix,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),z(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[25]||(C[25]=E=>R.offlineWindowMinutes=E)},null,512),[[he,R.offlineWindowMinutes,void 0,{number:!0}]]),i("p",wx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",$x,[i("div",Dx,[i("label",Lx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),z(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[26]||(C[26]=E=>R.checkoutIpLimit=E)},null,512),[[he,R.checkoutIpLimit,void 0,{number:!0}]])]),i("div",Ux,[i("label",Yx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),z(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[27]||(C[27]=E=>R.checkoutEmailLimit=E)},null,512),[[he,R.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",Xx,[i("label",Gx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),z(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[28]||(C[28]=E=>R.checkoutSessionLimit=E)},null,512),[[he,R.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",Fx,[i("div",Vx,[i("label",Hx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),z(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[29]||(C[29]=E=>R.offlineIpLimit=E)},null,512),[[he,R.offlineIpLimit,void 0,{number:!0}]])]),i("div",Bx,[i("label",Kx,c(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),z(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":C[30]||(C[30]=E=>R.offlineEmailLimit=E)},null,512),[[he,R.offlineEmailLimit,void 0,{number:!0}]])])]),o(r).message?(b(),y("div",jx,c(o(r).message),1)):ce("",!0),i("div",Jx,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Se,disabled:o(r).saving},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,Wx),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},c(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,qx)])],32))])):_.value==="payments"?(b(),y("div",zx,[i("header",Qx,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",Zx,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Ce,disabled:o(l).loading},c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,eN)])]),o(l).error?(b(),y("div",tN,c(o(l).error),1)):o(l).loading?(b(),y("div",nN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(b(),y("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:Pt(pe,["prevent"])},[i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",sN,[i("label",iN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),z(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[31]||(C[31]=E=>A.stripe.publishable_key=E)},null,512),[[he,A.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",aN,[i("label",oN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),z(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[32]||(C[32]=E=>A.stripe.secret_key=E),autocomplete:"off"},null,512),[[he,A.stripe.secret_key,void 0,{trim:!0}]])]),i("div",rN,[i("label",lN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),z(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[33]||(C[33]=E=>A.stripe.webhook_secret=E),autocomplete:"off"},null,512),[[he,A.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",cN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",dN,[i("label",uN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),z(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":C[34]||(C[34]=E=>A.stripe.mode=E)},[i("option",_N,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",pN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Et,A.stripe.mode]])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",fN,[i("label",mN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),z(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[35]||(C[35]=E=>A.paypal.client_id=E)},null,512),[[he,A.paypal.client_id,void 0,{trim:!0}]])]),i("div",hN,[i("label",gN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),z(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":C[36]||(C[36]=E=>A.paypal.client_secret=E),autocomplete:"off"},null,512),[[he,A.paypal.client_secret,void 0,{trim:!0}]])]),i("div",EN,[i("label",CN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),z(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[37]||(C[37]=E=>A.paypal.webhook_id=E)},null,512),[[he,A.paypal.webhook_id,void 0,{trim:!0}]]),i("p",AN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",SN,[i("label",bN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),z(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":C[38]||(C[38]=E=>A.paypal.mode=E)},[i("option",TN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",yN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Et,A.paypal.mode]])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",RN,[i("label",ON,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),z(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":C[39]||(C[39]=E=>A.cod.enabled=E)},null,512),[[ut,A.cod.enabled]])]),i("div",xN,[i("label",NN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),z(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[40]||(C[40]=E=>A.cod.label=E),placeholder:"Cash on delivery"},null,512),[[he,A.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",vN,[i("label",PN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),z(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":C[41]||(C[41]=E=>A.bank_transfer.enabled=E)},null,512),[[ut,A.bank_transfer.enabled]])]),i("div",MN,[i("label",kN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),z(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[42]||(C[42]=E=>A.bank_transfer.label=E),placeholder:"Bank transfer"},null,512),[[he,A.bank_transfer.label,void 0,{trim:!0}]])]),i("div",IN,[i("label",wN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),z(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":C[43]||(C[43]=E=>A.bank_transfer.instructions=E),placeholder:o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,$N),[[he,A.bank_transfer.instructions]]),i("p",DN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",LN,[i("div",UN,[i("label",YN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),z(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[44]||(C[44]=E=>A.bank_transfer.account_name=E)},null,512),[[he,A.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",XN,[i("label",GN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),z(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[45]||(C[45]=E=>A.bank_transfer.iban=E),maxlength:"34"},null,512),[[he,A.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",FN,[i("label",VN,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),z(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[46]||(C[46]=E=>A.bank_transfer.bic=E),maxlength:"11"},null,512),[[he,A.bank_transfer.bic,void 0,{trim:!0}]])])])]),i("fieldset",null,[i("legend",null,c(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),i("div",HN,[i("label",BN,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),z(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":C[47]||(C[47]=E=>f.paymentsConfigured=E)},null,512),[[ut,f.paymentsConfigured]]),i("p",KN,c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),o(l).message?(b(),y("div",jN,c(o(l).message),1)):ce("",!0),i("div",JN,[i("button",{class:"nxp-ec-btn",type:"button",onClick:w,disabled:o(l).saving},c(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,WN),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(l).saving},c(o(l).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,qN)])],32))])):_.value==="visual"?(b(),y("div",zN,[i("header",QN,[i("h3",null,c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:k,disabled:o(r).loading},c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,ZN)]),o(r).error?(b(),y("div",e1,c(o(r).error),1)):o(r).loading?(b(),y("div",t1,c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(b(),y("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:Pt($,["prevent"])},[i("p",n1,c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",s1,c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",i1,[i("div",a1,[i("label",o1,c(o(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",r1,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:O.primaryColor||U.value.primary,onInput:C[48]||(C[48]=E=>O.primaryColor=E.target.value)},null,40,l1),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[49]||(C[49]=E=>O.primaryColor=E),placeholder:U.value.primary,maxlength:"7"},null,8,c1),[[he,O.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[50]||(C[50]=E=>O.primaryColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",d1,[i("label",u1,c(o(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",_1,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:O.textColor||U.value.text,onInput:C[51]||(C[51]=E=>O.textColor=E.target.value)},null,40,p1),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[52]||(C[52]=E=>O.textColor=E),placeholder:U.value.text,maxlength:"7"},null,8,f1),[[he,O.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[53]||(C[53]=E=>O.textColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",m1,[i("label",h1,c(o(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",g1,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:O.surfaceColor||U.value.surface,onInput:C[54]||(C[54]=E=>O.surfaceColor=E.target.value)},null,40,E1),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[55]||(C[55]=E=>O.surfaceColor=E),placeholder:U.value.surface,maxlength:"7"},null,8,C1),[[he,O.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[56]||(C[56]=E=>O.surfaceColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",A1,[i("label",S1,c(o(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",b1,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:O.borderColor||U.value.border,onInput:C[57]||(C[57]=E=>O.borderColor=E.target.value)},null,40,T1),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[58]||(C[58]=E=>O.borderColor=E),placeholder:U.value.border,maxlength:"7"},null,8,y1),[[he,O.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[59]||(C[59]=E=>O.borderColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",R1,[i("label",O1,c(o(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",x1,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:O.mutedColor||U.value.muted,onInput:C[60]||(C[60]=E=>O.mutedColor=E.target.value)},null,40,N1),z(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":C[61]||(C[61]=E=>O.mutedColor=E),placeholder:U.value.muted,maxlength:"7"},null,8,v1),[[he,O.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:C[62]||(C[62]=E=>O.mutedColor="")},c(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",P1,[i("h4",null,c(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:jt(W.value)},[i("button",M1,c(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",k1,c(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",I1,c(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),o(r).message?(b(),y("div",w1,c(o(r).message),1)):ce("",!0),i("div",$1,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Q,disabled:o(r).saving},c(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,D1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},c(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,L1)])],32))])):ce("",!0)]))}},[["__scopeId","data-v-dff41c0c"]]),Y1={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},X1={class:"nxp-ec-admin-panel__header"},G1={class:"nxp-ec-admin-panel__title"},F1={class:"nxp-ec-admin-panel__lead"},V1={class:"nxp-ec-admin-panel__actions"},H1=["disabled","title","aria-label"],B1={class:"nxp-ec-sr-only"},K1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},j1={key:1,class:"nxp-ec-admin-panel__loading"},J1={key:2,class:"nxp-ec-admin-panel__body"},W1={class:"nxp-ec-admin-panel__table"},q1={class:"nxp-ec-admin-table"},z1={scope:"col"},Q1={scope:"col"},Z1={scope:"col"},ev={scope:"col"},tv={scope:"col"},nv={scope:"col"},sv={key:0},iv={colspan:"7"},av={scope:"row",class:"nxp-ec-admin-table__primary"},ov=["data-label"],rv=["data-label"],lv=["data-label"],cv=["data-label"],dv=["data-label"],uv={class:"nxp-ec-admin-table__actions"},_v=["onClick","title","aria-label"],pv={class:"nxp-ec-sr-only"},fv=["onClick","title","aria-label"],mv={class:"nxp-ec-sr-only"},hv={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},gv={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Ev={class:"nxp-ec-admin-panel__sidebar-header"},Cv={id:"tax-modal-title"},Av=["title","aria-label"],Sv={class:"nxp-ec-sr-only"},bv={class:"nxp-ec-form-field"},Tv={class:"nxp-ec-form-label",for:"tax-name"},yv=["placeholder"],Rv={class:"nxp-ec-form-help"},Ov={class:"nxp-ec-form-field"},xv={class:"nxp-ec-form-label",for:"tax-country"},Nv=["placeholder"],vv={class:"nxp-ec-form-help"},Pv={class:"nxp-ec-form-field"},Mv={class:"nxp-ec-form-label",for:"tax-region"},kv=["placeholder"],Iv={class:"nxp-ec-form-help"},wv={class:"nxp-ec-form-field"},$v={class:"nxp-ec-form-label",for:"tax-rate"},Dv={class:"nxp-ec-input-group"},Lv={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Uv={class:"nxp-ec-form-label",for:"tax-inclusive"},Yv={class:"nxp-ec-form-help"},Xv={class:"nxp-ec-form-field"},Gv={class:"nxp-ec-form-label",for:"tax-priority"},Fv={class:"nxp-ec-form-help"},Vv={class:"nxp-ec-modal__actions"},Hv=["disabled"],Bv=["disabled"],Kv=["disabled"],jv=Rt({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=We(!1),l=qe({id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0}),d=()=>a("refresh"),_=()=>{u(),r.value=!0},f=M=>{Object.assign(l,{id:M.id,name:M.name||"",country:M.country,region:M.region,rate:M.rate,inclusive:M.inclusive,priority:M.priority}),r.value=!0},g=()=>{r.value=!1,u()},u=()=>{Object.assign(l,{id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0})},T=()=>{a("save",{id:l.id||void 0,name:l.name||null,country:l.country,region:l.region,rate:l.rate,inclusive:l.inclusive,priority:l.priority})},m=M=>{const v=n("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(v)&&(a("delete",[M.id]),l.id===M.id&&g())};return tt(()=>s.state.saving,(M,v)=>{v&&!M&&!s.state.error&&g()}),(M,v)=>(b(),y("section",Y1,[i("header",X1,[i("div",null,[i("h2",G1,c(o(n)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),i("p",F1,c(o(n)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),i("div",V1,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":o(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[v[7]||(v[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",B1,c(o(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,H1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_},[v[8]||(v[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(b(),y("div",K1,c(e.state.error),1)):ce("",!0),e.state.loading?(b(),y("div",j1,c(o(n)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):ce("",!0),e.state.loading?ce("",!0):(b(),y("div",J1,[i("div",W1,[i("table",q1,[i("thead",null,[i("tr",null,[i("th",z1,c(o(n)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),i("th",Q1,c(o(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),i("th",Z1,c(o(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),i("th",ev,c(o(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("th",tv,c(o(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),i("th",nv,c(o(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),v[9]||(v[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ce("",!0):(b(),y("tr",sv,[i("td",iv,c(o(n)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(b(!0),y(Ne,null,Xe(e.state.items,R=>{var A;return b(),y("tr",{key:R.id,class:He({"is-active":l.id===R.id})},[i("th",av,c(R.name||o(n)("COM_NXPEASYCART_TAX_DEFAULT_NAME","Tax",[],"taxDefaultName")),1),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_COUNTRY","Country")},c(R.country),9,ov),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_REGION","Region")},c(R.region||""),9,rv),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_RATE","Rate")},c(((A=R.rate)!=null?A:0).toFixed(2))+"%",9,lv),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[i("span",{class:He(["nxp-ec-badge",{"is-active":R.inclusive}])},[i("i",{class:He(R.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),De(" "+c(R.inclusive?o(n)("JYES","Yes"):o(n)("JNO","No")),1)],2)],8,cv),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},c(R.priority),9,dv),i("td",uv,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:O=>f(R),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[v[10]||(v[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",pv,c(o(n)("JEDIT","Edit")),1)],8,_v),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:O=>m(R),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[v[11]||(v[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",mv,c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,fv)])],2)}),128))])])]),r.value?(b(),y("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"tax-modal-title",onKeydown:Ct(g,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:g}),i("div",hv,[i("aside",gv,[i("header",Ev,[i("h3",Cv,c(l.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:g,title:o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[v[12]||(v[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",Sv,c(o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,Av)]),i("form",{class:"nxp-ec-form",onSubmit:Pt(T,["prevent"]),autocomplete:"off"},[i("div",bv,[i("label",Tv,c(o(n)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),z(i("input",{id:"tax-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":v[0]||(v[0]=R=>l.name=R),maxlength:"100",placeholder:o(n)("COM_NXPEASYCART_TAX_NAME_PLACEHOLDER","e.g. VAT, GST, Sales Tax",[],"taxNamePlaceholder")},null,8,yv),[[he,l.name,void 0,{trim:!0}]]),i("p",Rv,c(o(n)("COM_NXPEASYCART_TAX_NAME_HELP",'Optional display name shown to customers. Falls back to "Tax" if empty.',[],"taxNameHelp")),1)]),i("div",Ov,[i("label",xv,c(o(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),z(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":v[1]||(v[1]=R=>l.country=R),maxlength:"2",required:"",placeholder:o(n)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,Nv),[[he,l.country,void 0,{trim:!0}]]),i("p",vv,c(o(n)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),i("div",Pv,[i("label",Mv,c(o(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),z(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":v[2]||(v[2]=R=>l.region=R),placeholder:o(n)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,kv),[[he,l.region,void 0,{trim:!0}]]),i("p",Iv,c(o(n)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),i("div",wv,[i("label",$v,c(o(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("div",Dv,[z(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":v[3]||(v[3]=R=>l.rate=R),required:""},null,512),[[he,l.rate,void 0,{number:!0}]]),v[13]||(v[13]=i("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),i("div",Lv,[i("label",Uv,c(o(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),z(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":v[4]||(v[4]=R=>l.inclusive=R)},null,512),[[ut,l.inclusive]]),i("p",Yv,c(o(n)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),i("div",Xv,[i("label",Gv,c(o(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),z(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":v[5]||(v[5]=R=>l.priority=R)},null,512),[[he,l.priority,void 0,{number:!0}]]),i("p",Fv,c(o(n)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),i("footer",Vv,[i("button",{class:"nxp-ec-btn",type:"button",onClick:g,disabled:e.state.saving},c(o(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,Hv),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,Bv)]),l.id?(b(),y("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:v[6]||(v[6]=R=>m(l)),disabled:e.state.saving},[v[14]||(v[14]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Kv)):ce("",!0)],32)])])],32)):ce("",!0)]))]))}},[["__scopeId","data-v-2ed24c88"]]),Jv={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},Wv={class:"nxp-ec-admin-panel__header"},qv={class:"nxp-ec-admin-panel__title"},zv={class:"nxp-ec-admin-panel__lead"},Qv={class:"nxp-ec-admin-panel__actions"},Zv=["disabled","title","aria-label"],eP={class:"nxp-ec-sr-only"},tP={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},nP={key:1,class:"nxp-ec-admin-panel__loading"},sP={key:2,class:"nxp-ec-admin-panel__body"},iP={class:"nxp-ec-admin-panel__table"},aP={class:"nxp-ec-admin-table"},oP={scope:"col"},rP={scope:"col"},lP={scope:"col"},cP={scope:"col"},dP={scope:"col"},uP={scope:"col"},_P={key:0},pP={colspan:"7"},fP={scope:"row",class:"nxp-ec-admin-table__primary"},mP=["data-label"],hP=["data-label"],gP=["data-label"],EP=["data-label"],CP=["data-label"],AP={class:"nxp-ec-admin-table__actions"},SP=["onClick","title","aria-label"],bP={class:"nxp-ec-sr-only"},TP=["onClick","title","aria-label"],yP={class:"nxp-ec-sr-only"},RP={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},OP={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},xP={class:"nxp-ec-admin-panel__sidebar-header"},NP={id:"shipping-modal-title"},vP=["title","aria-label"],PP={class:"nxp-ec-sr-only"},MP={class:"nxp-ec-form-field"},kP={class:"nxp-ec-form-label",for:"shipping-name"},IP=["placeholder"],wP={class:"nxp-ec-form-field"},$P={class:"nxp-ec-form-label",for:"shipping-type"},DP={value:"flat"},LP={value:"free_over"},UP={class:"nxp-ec-form-help"},YP={class:"nxp-ec-form-field"},XP={class:"nxp-ec-form-label",for:"shipping-price"},GP={class:"nxp-ec-input-group"},FP={class:"nxp-ec-input-group__prefix"},VP={key:0,class:"nxp-ec-form-field"},HP={class:"nxp-ec-form-label",for:"shipping-threshold"},BP={class:"nxp-ec-input-group"},KP={class:"nxp-ec-input-group__prefix"},jP={class:"nxp-ec-form-help"},JP={class:"nxp-ec-form-field"},WP={class:"nxp-ec-form-label",for:"shipping-regions"},qP=["placeholder"],zP={class:"nxp-ec-form-help"},QP={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ZP={class:"nxp-ec-form-label",for:"shipping-active"},eM={class:"nxp-ec-form-help"},tM={class:"nxp-ec-modal__actions"},nM=["disabled"],sM=["disabled"],iM=["disabled"],aM=Rt({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ee(()=>{const A=s.baseCurrency;return typeof A=="string"&&A.trim()!==""?A.trim().toUpperCase():"USD"}),l=We(!1),d=qe({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),_=()=>a("refresh"),f=()=>{T(),l.value=!0},g=A=>{var O,U,X;Object.assign(d,{id:A.id,name:A.name,type:A.type,price:(U=A.price)!=null?U:((O=A.price_cents)!=null?O:0)/100,threshold:A.threshold!==null&&A.threshold!==void 0?A.threshold:((X=A.threshold_cents)!=null?X:0)/100,regions:A.regions&&A.regions.length?A.regions.join(", "):"",active:A.active}),l.value=!0},u=()=>{l.value=!1,T()},T=()=>{Object.assign(d,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},m=()=>{const A={id:d.id||void 0,name:d.name,type:d.type,price:d.price,threshold:d.type==="free_over"?d.threshold:0,regions:d.regions,active:d.active};a("save",A)},M=A=>{const O=n("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(O)&&(a("delete",[A.id]),d.id===A.id&&u())};tt(()=>s.state.saving,(A,O)=>{O&&!A&&!s.state.error&&u()});const v=(A,O)=>{const U=(Number(A)||0)/100,X=(O||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:X}).format(U)}catch(W){return`${X} ${U.toFixed(2)}`}},R=A=>A==="free_over"?n("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):n("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(A,O)=>(b(),y("section",Jv,[i("header",Wv,[i("div",null,[i("h2",qv,c(o(n)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),i("p",zv,c(o(n)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),i("div",Qv,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":o(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[O[7]||(O[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",eP,c(o(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,Zv),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:f},[O[8]||(O[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(b(),y("div",tP,c(e.state.error),1)):ce("",!0),e.state.loading?(b(),y("div",nP,c(o(n)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):ce("",!0),e.state.loading?ce("",!0):(b(),y("div",sP,[i("div",iP,[i("table",aP,[i("thead",null,[i("tr",null,[i("th",oP,c(o(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),i("th",rP,c(o(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),i("th",lP,c(o(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("th",cP,c(o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("th",dP,c(o(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),i("th",uP,c(o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),O[9]||(O[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?ce("",!0):(b(),y("tr",_P,[i("td",pP,c(o(n)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(b(!0),y(Ne,null,Xe(e.state.items,U=>(b(),y("tr",{key:U.id,class:He({"is-active":d.id===U.id})},[i("th",fP,c(U.name),1),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},c(R(U.type)),9,mP),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},c(v(U.price_cents,r.value)),9,hP),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},c(U.type==="free_over"?v(U.threshold_cents,r.value):""),9,gP),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},c(U.regions&&U.regions.length?U.regions.join(", "):o(n)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,EP),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[i("span",{class:He(["nxp-ec-badge",{"is-active":U.active}])},[i("i",{class:He(U.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),De(" "+c(U.active?o(n)("JYES","Yes"):o(n)("JNO","No")),1)],2)],8,CP),i("td",AP,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:X=>g(U),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[O[10]||(O[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",bP,c(o(n)("JEDIT","Edit")),1)],8,SP),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:X=>M(U),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[O[11]||(O[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",yP,c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,TP)])],2))),128))])])]),l.value?(b(),y("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"shipping-modal-title",onKeydown:Ct(u,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:u}),i("div",RP,[i("aside",OP,[i("header",xP,[i("h3",NP,c(d.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:u,title:o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[O[12]||(O[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",PP,c(o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,vP)]),i("form",{class:"nxp-ec-form",onSubmit:Pt(m,["prevent"]),autocomplete:"off"},[i("div",MP,[i("label",kP,c(o(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),z(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[0]||(O[0]=U=>d.name=U),required:"",placeholder:o(n)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,IP),[[he,d.name,void 0,{trim:!0}]])]),i("div",wP,[i("label",$P,c(o(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),z(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":O[1]||(O[1]=U=>d.type=U)},[i("option",DP,c(o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),i("option",LP,c(o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[Et,d.type]]),i("p",UP,c(d.type==="free_over"?o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),i("div",YP,[i("label",XP,c(o(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("div",GP,[i("span",FP,c(r.value),1),z(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[2]||(O[2]=U=>d.price=U),required:""},null,512),[[he,d.price,void 0,{number:!0}]])])]),d.type==="free_over"?(b(),y("div",VP,[i("label",HP,c(o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("div",BP,[i("span",KP,c(r.value),1),z(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[3]||(O[3]=U=>d.threshold=U),required:""},null,512),[[he,d.threshold,void 0,{number:!0}]])]),i("p",jP,c(o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):ce("",!0),i("div",JP,[i("label",WP,c(o(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),z(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[4]||(O[4]=U=>d.regions=U),placeholder:o(n)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,qP),[[he,d.regions,void 0,{trim:!0}]]),i("p",zP,c(o(n)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),i("div",QP,[i("label",ZP,c(o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),z(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[5]||(O[5]=U=>d.active=U)},null,512),[[ut,d.active]]),i("p",eM,c(o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),i("footer",tM,[i("button",{class:"nxp-ec-btn",type:"button",onClick:u,disabled:e.state.saving},c(o(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,nM),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},c(e.state.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,sM)]),d.id?(b(),y("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:O[6]||(O[6]=U=>M(d)),disabled:e.state.saving},[O[13]||(O[13]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),De(" "+c(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,iM)):ce("",!0)],32)])])],32)):ce("",!0)]))]))}},[["__scopeId","data-v-e9835937"]]),oM={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},rM={class:"nxp-ec-admin-panel__header"},lM={class:"nxp-ec-admin-panel__title"},cM={class:"nxp-ec-admin-panel__lead"},dM={class:"nxp-ec-admin-panel__actions"},uM=["placeholder","aria-label"],_M=["value"],pM={value:""},fM=["value"],mM=["disabled","title","aria-label"],hM={class:"nxp-ec-sr-only"},gM={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},EM={key:1,class:"nxp-ec-admin-panel__body"},CM={key:2,class:"nxp-ec-admin-panel__body"},AM={class:"nxp-ec-admin-panel__table"},SM={class:"nxp-ec-admin-table"},bM={scope:"col"},TM={scope:"col"},yM={scope:"col"},RM={scope:"col"},OM={scope:"col"},xM={key:0},NM={colspan:"5"},vM=["data-label"],PM=["data-label"],MM={class:"nxp-ec-log-entity"},kM={class:"nxp-ec-log-entity-id"},IM=["data-label"],wM=["data-label"],$M=["data-label"],DM={class:"nxp-ec-log-context"},LM={key:0,class:"nxp-ec-admin-pagination"},UM=["disabled"],YM={class:"nxp-ec-admin-pagination__status"},XM=["disabled"],GM=["title"],FM=Rt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=s.state,l=Ee(()=>{const R=new Set;return Array.isArray(r.items)&&r.items.forEach(A=>{A!=null&&A.entity_type&&R.add(A.entity_type)}),r.entity&&R.add(r.entity),Array.from(R).sort()}),d=()=>a("refresh"),_=()=>a("search"),f=R=>a("filter",R),g=R=>a("page",R),u=R=>{if(!R)return"";try{const A=new Date(R.replace(" ","T"));if(!Number.isNaN(A.getTime()))return A.toLocaleString()}catch(A){}return R},T=R=>{if(!R)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(R){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return R.charAt(0).toUpperCase()+R.slice(1)}},m=R=>{if(!(R!=null&&R.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const A=R.user.name||"",O=R.user.username||"";return A&&O?`${A} (${O})`:A||O||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},M=R=>{if(!R||Array.isArray(R)&&!R.length||typeof R=="object"&&!Object.keys(R).length)return"";try{return JSON.stringify(R,null,2)}catch(A){return String(R)}},v=R=>{if(!R)return"";try{const A=new Date(R),U=new Date-A,X=Math.floor(U/1e3),W=Math.floor(X/60),re=Math.floor(W/60);return X<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):W<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[W]):re<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[re]):A.toLocaleString()}catch(A){return R}};return(R,A)=>(b(),y("section",oM,[i("header",rM,[i("div",null,[i("h2",lM,c(o(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",cM,c(o(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",dM,[z(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":A[0]||(A[0]=O=>o(r).search=O),placeholder:o(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":o(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:Ct(_,["enter"])},null,40,uM),[[he,o(r).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:o(r).entity,onChange:A[1]||(A[1]=O=>f(O.target.value)),"aria-label":"Entity filter"},[i("option",pM,c(o(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(b(!0),y(Ne,null,Xe(l.value,O=>(b(),y("option",{key:O,value:O},c(T(O)),9,fM))),128))],40,_M),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:o(r).loading,title:o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[A[4]||(A[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",hM,c(o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,mM)])]),o(r).error?(b(),y("div",gM,c(o(r).error),1)):ce("",!0),o(r).loading?(b(),y("div",EM,[ot(ns,{type:"table",rows:5,columns:5})])):ce("",!0),o(r).loading?ce("",!0):(b(),y("div",CM,[i("div",AM,[i("table",SM,[i("thead",null,[i("tr",null,[i("th",bM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",TM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",yM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",RM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",OM,c(o(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[o(r).items.length?ce("",!0):(b(),y("tr",xM,[i("td",NM,c(o(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(b(!0),y(Ne,null,Xe(o(r).items,O=>(b(),y("tr",{key:O.id},[i("td",{class:"nxp-ec-admin-table__primary","data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},c(u(O.created)),9,vM),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[i("span",MM,c(T(O.entity_type)),1),i("span",kM,"#"+c(O.entity_id),1)],8,PM),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},c(O.action),9,IM),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},c(m(O)),9,wM),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[i("pre",DM,c(M(O.context)),1)],8,$M)]))),128))])]),o(r).pagination.pages>1?(b(),y("div",LM,[i("button",{class:"nxp-ec-btn",type:"button",disabled:o(r).pagination.current<=1,onClick:A[2]||(A[2]=O=>g(o(r).pagination.current-1))},"  ",8,UM),i("span",YM,c(o(r).pagination.current)+" / "+c(o(r).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:o(r).pagination.current>=o(r).pagination.pages,onClick:A[3]||(A[3]=O=>g(o(r).pagination.current+1))},"  ",8,XM)])):ce("",!0)]),o(r).lastUpdated?(b(),y("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:o(r).lastUpdated},c(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+c(v(o(r).lastUpdated)),9,GM)):ce("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),VM={key:0,class:"nxp-ec-onboarding"},HM={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},BM={class:"nxp-ec-onboarding__header"},KM={class:"nxp-ec-onboarding__title"},jM={class:"nxp-ec-onboarding__lead"},JM={class:"nxp-ec-onboarding__progress"},WM={class:"nxp-ec-onboarding__progress-bar"},qM={class:"nxp-ec-onboarding__progress-label"},zM={class:"nxp-ec-onboarding__steps"},QM={class:"nxp-ec-onboarding__step-main"},ZM={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},ek={key:0,class:"fa-solid fa-circle-check"},tk={key:1,class:"fa-regular fa-circle"},nk={class:"nxp-ec-onboarding__step-actions"},sk=["onClick"],ik=Rt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,a=Ee(()=>t.steps.length?t.steps.filter(d=>d.completed).length/t.steps.length*100:0),n=Ee(()=>`${a.value}%`),r=Ee(()=>{const l=t.steps.filter(d=>d.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,d)=>e.visible?(b(),y("div",VM,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:d[0]||(d[0]=_=>l.$emit("close"))}),i("section",HM,[i("header",BM,[i("div",null,[i("h2",KM,c(o(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",jM,c(o(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:d[1]||(d[1]=_=>l.$emit("close"))},c(o(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",JM,[i("div",WM,[i("span",{style:jt({width:n.value})},null,4)]),i("span",qM,c(r.value),1)]),i("ol",zM,[(b(!0),y(Ne,null,Xe(e.steps,_=>(b(),y("li",{key:_.id,class:He({"is-complete":_.completed})},[i("div",QM,[i("span",ZM,[_.completed?(b(),y("span",ek)):(b(),y("span",tk))]),i("div",null,[i("h3",null,c(o(s)(_.titleKey,_.titleFallback,[],`${_.id}-title`)),1),i("p",null,c(o(s)(_.descriptionKey,_.descriptionFallback,[],`${_.id}-description`)),1)])]),i("div",nk,[_.link?(b(),y("button",{key:0,type:"button",class:He(["nxp-ec-btn",{"nxp-ec-btn--ghost":_.completed}]),onClick:f=>l.$emit("navigate",_)},c(_.completed?o(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${_.id}-action`):o(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${_.id}-action`)),11,sk)):ce("",!0)])],2))),128))])])])):ce("",!0)}},[["__scopeId","data-v-c2a94811"]]),ak=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(r){}let a=String(e);return t.forEach(r=>{const l=r!=null?r:"";a=a.replace(/%[sd]/,String(l))}),a},ok=(e,t="",s=[])=>{var r;const a=(r=window==null?void 0:window.Joomla)==null?void 0:r.Text;let n=t||e;if(a&&typeof a._=="function"){const l=a._(e);l&&l!==e&&(n=l)}return ak(n,s)};function rk(e={}){const t=e||{},s=(n,r)=>{if(!n)return r;const l=t[n];return l!=null&&l!==""?l:r};return{__:(n,r="",l=[],d="")=>{const _=s(d,r);return ok(n,_,l)}}}const yo=typeof window!="undefined"&&window.performance;function Ro(e){if(yo)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function lk(e,t,s){if(!yo)return null;try{performance.measure(e,t,s);const a=performance.getEntriesByName(e,"measure")[0];if(a)return a.duration}catch(a){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,a)}return null}const Pn=qe({}),Oo=3e5;function xo(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Ht(e,t=Oo){const s=Pn[e];return s?xo(s,t)?s.data:(delete Pn[e],null):null}function wt(e,t){Pn[e]={data:t,timestamp:Date.now()}}function Be(e){delete Pn[e]}function No(){const e={};return Object.keys(Pn).forEach(t=>{const s=Pn[t];s&&(e[t]={age:Date.now()-s.timestamp,timestamp:s.timestamp,valid:xo(s,Oo)})}),e}function Bt(e){const t=We({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return Ro(l),l},endFetch:l=>{const d=`${e}-fetch-end`;Ro(d);const _=lk(`${e}-fetch`,l,d);_!==null&&(t.value.lastFetchDuration=_),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const is=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.products.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function ck({endpoints:e,token:t,autoload:s=!0,cacheTTL:a=3e5}){var ke,Pe,K,Se,Ce,pe;const n=Mt({token:t}),r=Bt("products"),l=(ke=e==null?void 0:e.list)!=null?ke:"",d=(Pe=e==null?void 0:e.create)!=null?Pe:is(l,"store"),_=(K=e==null?void 0:e.update)!=null?K:is(l,"update"),f=(Se=e==null?void 0:e.delete)!=null?Se:is(l,"delete"),g=(Ce=e==null?void 0:e.checkout)!=null?Ce:is(l,"checkout"),u=(pe=e==null?void 0:e.checkin)!=null?pe:is(l,"checkin"),T=typeof AbortController!="undefined",m=qe({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),M=We(null),v=()=>{const w=m.pagination.current||1,k=m.pagination.limit||20,$=m.search.trim();return`products:page=${w}:limit=${k}:search=${$}`},R=async(w=!1)=>{var C;if(!l){m.error="Products endpoint unavailable.",m.items=[];return}const k=v(),$=w?null:Ht(k,a);if($){r.recordCacheHit(),m.items=$.items,m.pagination={...m.pagination,...$.pagination},m.lastUpdated=$.lastUpdated;return}r.recordCacheMiss(),m.loading=!0,m.error="",m.validationErrors=[],M.value&&T&&M.value.abort();const Q=T?new AbortController:null;M.value=Q;const h=r.startFetch();try{const{items:E,pagination:Z}=await n.fetchProducts({endpoint:l,signal:Q?Q.signal:void 0,limit:m.pagination.limit,start:Math.max(0,(m.pagination.current-1)*m.pagination.limit),search:m.search.trim()});m.items=E,m.pagination={...m.pagination,...Z,current:Z.current&&Z.current>0?Z.current:1},m.lastUpdated=new Date().toISOString(),wt(k,{items:E,pagination:m.pagination,lastUpdated:m.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;m.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error"}finally{r.endFetch(h),T&&M.value===Q&&(M.value=null),m.loading=!1}},A=()=>{m.pagination.current=1,Be(v()),R(!0)},O=()=>{m.pagination.current=1,R()},U=w=>w?typeof w=="string"?w:typeof w=="object"&&w.message?String(w.message):String(w):"",X=(w,{setValidation:k=!1}={})=>{var $;if((w==null?void 0:w.code)===422&&k){const Q=Array.isArray(w.details)?w.details:[w.details].filter(Boolean);m.validationErrors=Q.map(U).filter(h=>h!=="");return}m.error=($=w==null?void 0:w.message)!=null?$:"Unknown error"},W=async w=>{var k;if(!g||!w)return null;m.locking=!0,m.error="";try{const $=await n.checkoutProduct({endpoint:g,id:w});if($){const Q=m.items.findIndex(h=>h.id===$.id);Q!==-1&&m.items.splice(Q,1,$)}return $}catch($){throw m.error=(k=$==null?void 0:$.message)!=null?k:"Unknown error",$}finally{m.locking=!1}},re=async(w,{force:k=!1}={})=>{var $;if(!u||!w)return null;try{const Q=await n.checkinProduct({endpoint:u,id:w,force:k});if(Q){const h=m.items.findIndex(C=>C.id===Q.id);h!==-1&&m.items.splice(h,1,Q)}return Q}catch(Q){return m.error=($=Q==null?void 0:Q.message)!=null?$:"Unknown error",null}},Te=async w=>re(w,{force:!0}),Me=async w=>{if(!d)throw new Error("Create endpoint unavailable.");m.saving=!0,m.validationErrors=[];try{const k=await n.createProduct({endpoint:d,data:w});return k&&(m.items=[k,...m.items],m.pagination.total+=1,Be(v())),k}catch(k){throw X(k,{setValidation:!0}),k}finally{m.saving=!1}},ve=async(w,k)=>{if(!_)throw new Error("Update endpoint unavailable.");m.saving=!0,m.validationErrors=[];try{const $=await n.updateProduct({endpoint:_,id:w,data:k});if($){const Q=m.items.findIndex(h=>h.id===$.id);Q!==-1&&m.items.splice(Q,1,$),Be(v())}return $}catch($){throw X($,{setValidation:!0}),$}finally{m.saving=!1}},Y=async w=>{if(!f)throw new Error("Delete endpoint unavailable.");m.deleting=!0,m.validationErrors=[];try{const k=await n.deleteProducts({endpoint:f,ids:w});return k.length&&(m.items=m.items.filter($=>!k.includes($.id)),m.pagination.total=Math.max(0,m.pagination.total-k.length),Be(v())),k}catch(k){throw X(k),k}finally{m.deleting=!1}};return bt(()=>{s&&R()}),{state:m,loadProducts:R,refresh:A,search:O,createProduct:Me,updateProduct:ve,deleteProducts:Y,checkoutProduct:W,checkinProduct:re,forceCheckinProduct:Te,metrics:r.metrics}}const vo=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.categories.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function dk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var Pe,K,Se,Ce,pe,w,k,$,Q,h,C,E,Z,le,be,Re;const r=Mt({token:t}),l=Bt("categories"),d=(Pe=e==null?void 0:e.list)!=null?Pe:"",_=(K=e==null?void 0:e.create)!=null?K:d,f=(Se=e==null?void 0:e.update)!=null?Se:d,g=(Ce=e==null?void 0:e.delete)!=null?Ce:d,u=(pe=e==null?void 0:e.checkout)!=null?pe:vo(d,"checkout"),T=(w=e==null?void 0:e.checkin)!=null?w:vo(d,"checkin"),m=qe({loading:!1,saving:!1,deleting:!1,locking:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(h=(Q=(k=s.pagination)==null?void 0:k.total)!=null?Q:($=s.items)==null?void 0:$.length)!=null?h:0,limit:(E=(C=s.pagination)==null?void 0:C.limit)!=null?E:20,pages:(le=(Z=s.pagination)==null?void 0:Z.pages)!=null?le:0,current:(Re=(be=s.pagination)==null?void 0:be.current)!=null?Re:1},search:"",lastUpdated:null}),M=typeof AbortController!="undefined",v=We(null),R=()=>{const j=m.pagination.current||1,fe=m.pagination.limit||20,Oe=m.search.trim();return`categories:page=${j}:limit=${fe}:search=${Oe}`},A=async(j=!1)=>{var x;if(!d){m.error="Categories endpoint unavailable.",m.items=[];return}const fe=R(),Oe=j?null:Ht(fe,n);if(Oe){l.recordCacheHit(),m.items=Oe.items,m.pagination={...m.pagination,...Oe.pagination},m.lastUpdated=Oe.lastUpdated;return}l.recordCacheMiss(),m.loading=!0,m.error="",m.validationErrors=[],v.value&&M&&v.value.abort();const Ve=M?new AbortController:null;v.value=Ve;const S=l.startFetch();try{const H=Math.max(0,(m.pagination.current-1)*m.pagination.limit),{items:te,pagination:J}=await r.fetchCategories({endpoint:d,limit:m.pagination.limit,start:H,search:m.search.trim(),signal:Ve?Ve.signal:void 0});m.items=te,m.pagination={...m.pagination,...J,current:J.current&&J.current>0?J.current:1},m.lastUpdated=new Date().toISOString(),wt(fe,{items:te,pagination:m.pagination,lastUpdated:m.lastUpdated})}catch(H){if((H==null?void 0:H.name)==="AbortError")return;m.error=(x=H==null?void 0:H.message)!=null?x:"Unknown error"}finally{l.endFetch(S),M&&v.value===Ve&&(v.value=null),m.loading=!1}},O=()=>{m.pagination.current=1,Be(R()),A(!0)},U=()=>{m.pagination.current=1,A()},X=j=>{const fe=Number(j);Number.isNaN(fe)||fe<1||fe===m.pagination.current||(m.pagination.current=fe,A(!0))},W=(j,{validation:fe=!1}={})=>{var Oe;if(fe&&(j==null?void 0:j.code)===422){const Ve=j.details,S=Array.isArray(Ve)?Ve:[Ve].filter(Boolean);m.validationErrors=S.map(x=>x?typeof x=="string"?x:typeof x=="object"&&x.message?String(x.message):String(x):"").filter(Boolean);return}m.error=(Oe=j==null?void 0:j.message)!=null?Oe:"Unknown error"},re=async j=>{if(!u||!j)return null;m.locking=!0,m.error="";try{const fe=await r.checkoutCategory({endpoint:u,id:j});return fe&&(Be(R()),await A(!0)),fe}catch(fe){throw W(fe),fe}finally{m.locking=!1}},Te=async(j,{force:fe=!1}={})=>{if(!T||!j)return null;try{const Oe=await r.checkinCategory({endpoint:T,id:j,force:fe});return Oe&&(Be(R()),await A(!0)),Oe}catch(Oe){return W(Oe),null}},Me=async j=>Te(j,{force:!0}),ve=async j=>{if(!_||!f)throw new Error("Category endpoints unavailable.");m.saving=!0,m.error="",m.validationErrors=[];try{let fe=null;return j.id?fe=await r.updateCategory({endpoint:f,id:j.id,data:j}):fe=await r.createCategory({endpoint:_,data:j}),fe&&(Be(R()),await A()),fe}catch(fe){throw W(fe,{validation:!0}),fe}finally{m.saving=!1}},Y=async j=>{if(!Array.isArray(j)||!j.length||!g)return 0;m.deleting=!0,m.error="";try{const fe=await r.deleteCategories({endpoint:g,ids:j});return fe&&(Be(R()),await A()),fe}catch(fe){throw W(fe),fe}finally{m.deleting=!1}},ke=async()=>{if(!d)return[];try{const{items:j}=await r.fetchCategories({endpoint:d,limit:200,start:0,search:""});return j}catch(j){return[]}};return bt(()=>{a&&(!Array.isArray(m.items)||!m.items.length)&&A()}),{state:m,loadCategories:A,refresh:O,search:U,goToPage:X,saveCategory:ve,deleteCategories:Y,loadOptions:ke,checkoutCategory:re,checkinCategory:Te,forceCheckinCategory:Me,metrics:l.metrics}}const Ot=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.orders.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function uk({endpoints:e,token:t,states:s=[],preload:a={},autoload:n=!0,cacheTTL:r=3e5}){var ie,se,ee,Ae,ue,ge,ye,$e,N,D,_e,me,V,Ie,je,Ue,Ye,P;const l=Mt({token:t}),d=Bt("orders"),_=(ie=e==null?void 0:e.list)!=null?ie:"",f=(se=e==null?void 0:e.show)!=null?se:Ot(_,"show"),g=(ee=e==null?void 0:e.transition)!=null?ee:Ot(_,"transition"),u=(Ae=e==null?void 0:e.bulkTransition)!=null?Ae:Ot(_,"bulkTransition"),T=(ue=e==null?void 0:e.note)!=null?ue:Ot(_,"note"),m=(ge=e==null?void 0:e.tracking)!=null?ge:Ot(_,"tracking"),M=(ye=e==null?void 0:e.invoice)!=null?ye:Ot(_,"invoice"),v=($e=e==null?void 0:e.export)!=null?$e:Ot(_,"export"),R=(N=e==null?void 0:e.sendEmail)!=null?N:Ot(_,"sendEmail"),A=(D=e==null?void 0:e.recordTransaction)!=null?D:Ot(_,"recordTransaction"),O=(_e=e==null?void 0:e.resendDownloads)!=null?_e:Ot(_,"resendDownloads"),U=(me=e==null?void 0:e.resetDownload)!=null?me:Ot(_,"resetDownload"),X=(V=e==null?void 0:e.checkout)!=null?V:Ot(_,"checkout"),W=(Ie=e==null?void 0:e.checkin)!=null?Ie:Ot(_,"checkin"),re=typeof AbortController!="undefined",Te=We(null),Me=Array.isArray(a==null?void 0:a.items)?a.items:[],ve=a!=null&&a.pagination&&typeof a.pagination=="object"?a.pagination:{},Y=qe({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...Me],pagination:{total:(je=ve.total)!=null?je:Me.length,limit:(Ue=ve.limit)!=null?Ue:20,pages:(Ye=ve.pages)!=null?Ye:0,current:(P=ve.current)!=null?P:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1,locking:!1}),ke=We(null),Pe=()=>{const p=Y.pagination.current||1,L=Y.pagination.limit||20,B=Y.search.trim(),F=Y.filterState||"";return`orders:page=${p}:limit=${L}:search=${B}:state=${F}`},K=async(p=!1)=>{var ae;if(!_){Y.error="Orders endpoint unavailable.",Y.items=[];return}const L=Pe(),B=p?null:Ht(L,r);if(B){d.recordCacheHit(),Y.items=B.items,Y.pagination={...Y.pagination,...B.pagination},Y.lastUpdated=B.lastUpdated;return}d.recordCacheMiss(),Y.loading=!0,Y.error="",Te.value&&re&&Te.value.abort();const F=re?new AbortController:null;Te.value=F;const G=d.startFetch();try{const q=Math.max(0,(Y.pagination.current-1)*Y.pagination.limit),{items:Ge,pagination:Fe}=await l.fetchOrders({endpoint:_,limit:Y.pagination.limit,start:q,search:Y.search.trim(),state:Y.filterState,signal:F?F.signal:void 0});Y.items=Ge,Y.pagination={...Y.pagination,...Fe,current:Fe.current&&Fe.current>0?Fe.current:1},Y.selection.clear(),Y.lastUpdated=new Date().toISOString(),wt(L,{items:Ge,pagination:Y.pagination,lastUpdated:Y.lastUpdated})}catch(q){if((q==null?void 0:q.name)==="AbortError")return;Y.error=(ae=q==null?void 0:q.message)!=null?ae:"Unknown error"}finally{d.endFetch(G),re&&Te.value===F&&(Te.value=null),Y.loading=!1}},Se=()=>{Y.pagination.current=1,Be(Pe()),K(!0)},Ce=()=>{Y.pagination.current=1,K()},pe=p=>{Y.filterState=p||"",Y.pagination.current=1,K()},w=p=>{const L=Number(p);Number.isNaN(L)||L<1||L===Y.pagination.current||(Y.pagination.current=L,K(!0))},k=()=>{Y.selection.clear()},$=p=>{p&&(Y.selection.has(p)?Y.selection.delete(p):Y.selection.add(p))},Q=()=>{Y.pagination.current>=Y.pagination.pages||(Y.pagination.current+=1,K(!0))},h=()=>{Y.pagination.current<=1||(Y.pagination.current-=1,K(!0))},C=async(p,L="")=>{var B;if(!f)return null;try{return await l.fetchOrder({endpoint:f,id:p,orderNumber:L})}catch(F){return Y.transitionError=(B=F==null?void 0:F.message)!=null?B:"Unknown error",null}},E=p=>{if(!(p!=null&&p.id))return;const L=Y.items.findIndex(B=>B.id===p.id);L!==-1&&Y.items.splice(L,1,p)},Z=async p=>{var L;if(!X||!p)return null;Y.locking=!0,Y.transitionError="";try{const B=await l.checkoutOrder({endpoint:X,id:p});return B&&(E(B),ke.value=B.id),B}catch(B){throw Y.transitionError=(L=B==null?void 0:B.message)!=null?L:"Unknown error",B}finally{Y.locking=!1}},le=async(p,{force:L=!1}={})=>{if(!W||!p)return null;try{const B=await l.checkinOrder({endpoint:W,id:p,force:L});return B&&(E(B),Y.activeOrder&&Y.activeOrder.id===B.id&&(Y.activeOrder=B),ke.value===B.id&&(ke.value=null)),B}catch(B){return null}},be=async p=>le(p,{force:!0}),Re=async()=>{if(!ke.value)return;const p=ke.value;ke.value=null,await le(p)},j=async p=>{var L,B,F;if(!p){Y.transitionError="",Y.activeOrder=null,await Re();return}Y.transitionError="";try{ke.value&&ke.value!==p.id&&await Re();const G=await Z(p.id);if(G){Y.activeOrder=G;return}const ae=await C(p.id,p.order_no);Y.activeOrder=ae||{...p,items:Array.isArray(p.items)?p.items:[],transactions:Array.isArray(p.transactions)?p.transactions:[],timeline:Array.isArray(p.timeline)?p.timeline:[],billing:(L=p.billing)!=null?L:{}}}catch(G){Y.transitionError=(B=G==null?void 0:G.message)!=null?B:"Unknown error",Y.activeOrder={...p,items:Array.isArray(p.items)?p.items:[],transactions:Array.isArray(p.transactions)?p.transactions:[],timeline:Array.isArray(p.timeline)?p.timeline:[],billing:(F=p.billing)!=null?F:{}}}},fe=async()=>{Y.transitionError="",Y.activeOrder=null,await Re()},Oe=async(p,L)=>{var B;if(!g)throw new Error("Transition endpoint unavailable.");Y.saving=!0,Y.transitionError="";try{const F=await l.transitionOrder({endpoint:g,id:p,state:L});return F&&(E(F),Y.activeOrder&&Y.activeOrder.id===F.id&&(Y.activeOrder=F),Be(Pe())),F}catch(F){throw Y.transitionError=(B=F==null?void 0:F.message)!=null?B:"Unknown error",F}finally{Y.saving=!1}},Ve=async(p,L)=>{var B;if(!m)throw new Error("Tracking endpoint unavailable.");Y.saving=!0,Y.transitionError="";try{const F=await l.updateOrderTracking({endpoint:m,id:p,tracking:L});return F&&(E(F),Y.activeOrder&&Y.activeOrder.id===F.id&&(Y.activeOrder=F),Be(Pe())),F}catch(F){throw Y.transitionError=(B=F==null?void 0:F.message)!=null?B:"Unknown error",F}finally{Y.saving=!1}},S=async(p,L="")=>{var B;if(!M)throw new Error("Invoice endpoint unavailable.");Y.invoiceLoading=!0,Y.transitionError="";try{const F=await l.fetchOrderInvoice({endpoint:M,id:p,orderNumber:L});if(!F)throw new Error("Invoice not available.");return F}catch(F){throw Y.transitionError=(B=F==null?void 0:F.message)!=null?B:"Unknown error",F}finally{Y.invoiceLoading=!1}},x=async()=>{var p;if(!v)throw new Error("Export endpoint unavailable.");Y.exporting=!0,Y.error="";try{const L=await l.exportOrders({endpoint:v,search:Y.search.trim(),state:Y.filterState});if(!L)throw new Error("Export not available.");return L}catch(L){throw Y.error=(p=L==null?void 0:L.message)!=null?p:"Export failed",L}finally{Y.exporting=!1}},H=async(p,L)=>{var B;if(!R)throw new Error("Send email endpoint unavailable.");Y.saving=!0,Y.transitionError="";try{const F=await l.sendOrderEmail({endpoint:R,id:p,type:L});return F&&(E(F),Y.activeOrder&&Y.activeOrder.id===F.id&&(Y.activeOrder=F),Be(Pe())),F}catch(F){throw Y.transitionError=(B=F==null?void 0:F.message)!=null?B:"Failed to send email",F}finally{Y.saving=!1}},te=async(p,{amountCents:L,reference:B,note:F})=>{var G;if(!A)throw new Error("Record transaction endpoint unavailable.");Y.saving=!0,Y.transitionError="";try{const ae=await l.recordTransaction({endpoint:A,id:p,amountCents:L,reference:B,note:F});return ae&&(E(ae),Y.activeOrder&&Y.activeOrder.id===ae.id&&(Y.activeOrder=ae),Be(Pe())),ae}catch(ae){throw Y.transitionError=(G=ae==null?void 0:ae.message)!=null?G:"Failed to record payment",ae}finally{Y.saving=!1}},J=async p=>{var L;if(!O)throw new Error("Resend downloads endpoint unavailable.");Y.saving=!0,Y.transitionError="";try{const B=await l.resendDownloads({endpoint:O,id:p});return B&&(E(B),Y.activeOrder&&Y.activeOrder.id===B.id&&(Y.activeOrder=B),Be(Pe())),B}catch(B){throw Y.transitionError=(L=B==null?void 0:B.message)!=null?L:"Failed to resend downloads email",B}finally{Y.saving=!1}},ne=async(p,L)=>{var B;if(!U)throw new Error("Reset download endpoint unavailable.");Y.saving=!0,Y.transitionError="";try{const F=await l.resetDownload({endpoint:U,downloadId:p,orderId:L});return F!=null&&F.order&&(E(F.order),Y.activeOrder&&Y.activeOrder.id===F.order.id&&(Y.activeOrder=F.order),Be(Pe())),F}catch(F){throw Y.transitionError=(B=F==null?void 0:F.message)!=null?B:"Failed to reset download count",F}finally{Y.saving=!1}},de=async(p,L)=>{var B;if(!u)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(p)||!p.length)return{updated:[]};Y.saving=!0;try{const F=await l.bulkTransitionOrders({endpoint:u,ids:p,state:L}),G=Array.isArray(F.updated)?F.updated:[];return G.forEach(ae=>{E(ae),Y.activeOrder&&Y.activeOrder.id===ae.id&&(Y.activeOrder=ae)}),k(),{updated:G}}catch(F){throw Y.transitionError=(B=F==null?void 0:F.message)!=null?B:"Unknown error",F}finally{Y.saving=!1}};return bt(()=>{n&&K()}),{state:Y,loadOrders:K,refresh:Se,search:Ce,setFilterState:pe,goToPage:w,nextPage:Q,previousPage:h,checkoutOrder:Z,checkinOrder:le,forceCheckinOrder:be,releaseLock:Re,viewOrder:j,closeOrder:fe,transitionOrder:Oe,bulkTransition:de,updateTracking:Ve,downloadInvoice:S,exportOrders:x,sendEmail:H,recordTransaction:te,resendDownloads:J,resetDownload:ne,toggleSelection:$,clearSelection:k,metrics:d.metrics,addNote:async(p,L)=>{var B;if(!T)throw new Error("Note endpoint unavailable.");if(!p||!L||!L.trim())return null;Y.transitionError="",Y.saving=!0;try{const F=await l.addOrderNote({endpoint:T,id:p,message:L});return F&&(E(F),Y.activeOrder&&Y.activeOrder.id===F.id&&(Y.activeOrder=F)),F}catch(F){throw Y.transitionError=(B=F==null?void 0:F.message)!=null?B:"Unknown error",F}finally{Y.saving=!1}}}}function _k({endpoint:e="",token:t="",preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var g,u,T;const r=Mt({token:t}),l=Bt("dashboard"),d=qe({loading:!1,error:"",summary:(T=s.summary)!=null?T:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(u=(g=s.summary)==null?void 0:g.currency)!=null?u:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),_=()=>"dashboard",f=async(m=!1)=>{var A,O;if(!e)return;const M=_(),v=m?null:Ht(M,n);if(v){l.recordCacheHit(),d.summary=v.summary,d.checklist=v.checklist,d.lastUpdated=v.lastUpdated;return}l.recordCacheMiss(),d.loading=!0,d.error="";const R=l.startFetch();try{const U=await r.fetchDashboard({endpoint:e});d.summary=(A=U.summary)!=null?A:d.summary,d.checklist=Array.isArray(U.checklist)?U.checklist:d.checklist,d.lastUpdated=new Date().toISOString(),wt(M,{summary:d.summary,checklist:d.checklist,lastUpdated:d.lastUpdated})}catch(U){d.error=(O=U==null?void 0:U.message)!=null?O:"Unknown error"}finally{l.endFetch(R),d.loading=!1}};return bt(()=>{a&&(!Array.isArray(d.checklist)||!d.checklist.length)&&f()}),{state:d,refresh:f,metrics:l.metrics}}function pk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var Te,Me,ve,Y,ke,Pe,K,Se,Ce,pe,w,k,$,Q,h,C,E;const r=Mt({token:t}),l=Bt("customers"),d=(Te=e==null?void 0:e.list)!=null?Te:"",_=(Me=e==null?void 0:e.show)!=null?Me:"",f=(Y=(ve=e==null?void 0:e.gdpr)==null?void 0:ve.export)!=null?Y:"",g=(Pe=(ke=e==null?void 0:e.gdpr)==null?void 0:ke.anonymise)!=null?Pe:"",u=qe({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(pe=(Ce=(K=s.pagination)==null?void 0:K.total)!=null?Ce:(Se=s.items)==null?void 0:Se.length)!=null?pe:0,limit:(k=(w=s.pagination)==null?void 0:w.limit)!=null?k:20,pages:(Q=($=s.pagination)==null?void 0:$.pages)!=null?Q:0,current:(C=(h=s.pagination)==null?void 0:h.current)!=null?C:1},search:"",activeCustomer:(E=s.active)!=null?E:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),T=typeof AbortController!="undefined",m=We(null),M=()=>{const Z=u.pagination.current||1,le=u.pagination.limit||20,be=u.search.trim();return`customers:page=${Z}:limit=${le}:search=${be}`},v=async(Z=!1)=>{var fe;if(!d){u.error="Customers endpoint unavailable.",u.items=[];return}const le=M(),be=Z?null:Ht(le,n);if(be){l.recordCacheHit(),u.items=be.items,u.pagination={...u.pagination,...be.pagination},u.lastUpdated=be.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",m.value&&T&&m.value.abort();const Re=T?new AbortController:null;m.value=Re;const j=l.startFetch();try{const Oe=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:Ve,pagination:S}=await r.fetchCustomers({endpoint:d,limit:u.pagination.limit,start:Oe,search:u.search.trim(),signal:Re?Re.signal:void 0});u.items=Ve,u.pagination={...u.pagination,...S,current:S.current&&S.current>0?S.current:1},u.lastUpdated=new Date().toISOString(),wt(le,{items:Ve,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(Oe){if((Oe==null?void 0:Oe.name)==="AbortError")return;u.error=(fe=Oe==null?void 0:Oe.message)!=null?fe:"Unknown error"}finally{l.endFetch(j),T&&m.value===Re&&(m.value=null),u.loading=!1}},R=()=>{u.pagination.current=1,Be(M()),v(!0)},A=()=>{u.pagination.current=1,v()},O=Z=>{const le=Number(Z);Number.isNaN(le)||le<1||le===u.pagination.current||(u.pagination.current=le,v(!0))},U=async Z=>{var le;if(!_||!(Z!=null&&Z.email)){u.activeCustomer=Z||null;return}try{const be=await r.fetchCustomer({endpoint:_,email:Z.email});u.activeCustomer=be||Z}catch(be){u.error=(le=be==null?void 0:be.message)!=null?le:"Unknown error"}},X=()=>{u.activeCustomer=null,u.gdprMessage="",u.gdprSuccess=!1},W=async Z=>{var le;if(!f||!Z){u.gdprMessage="GDPR export endpoint unavailable.",u.gdprSuccess=!1;return}u.gdprLoading=!0,u.gdprMessage="";try{const be=await r.gdprExport({endpoint:f,email:Z});if(!be)throw new Error("No data returned");const Re=new Blob([JSON.stringify(be,null,2)],{type:"application/json"}),j=URL.createObjectURL(Re),fe=document.createElement("a");fe.href=j,fe.download=`gdpr-export-${Z.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(j),u.gdprMessage="Data exported successfully.",u.gdprSuccess=!0}catch(be){u.gdprMessage=(le=be==null?void 0:be.message)!=null?le:"Export failed",u.gdprSuccess=!1}finally{u.gdprLoading=!1}},re=async Z=>{var be;if(!g||!Z){u.gdprMessage="GDPR anonymise endpoint unavailable.",u.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${Z}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){u.gdprLoading=!0,u.gdprMessage="";try{const Re=await r.gdprAnonymise({endpoint:g,email:Z});u.gdprMessage=Re.message||`Anonymised ${Re.affected} order(s).`,u.gdprSuccess=!0,Be(M()),v(!0),setTimeout(()=>{u.activeCustomer=null,u.gdprMessage=""},2e3)}catch(Re){u.gdprMessage=(be=Re==null?void 0:Re.message)!=null?be:"Anonymisation failed",u.gdprSuccess=!1}finally{u.gdprLoading=!1}}};return bt(()=>{a&&(!Array.isArray(u.items)||!u.items.length)&&v()}),{state:u,loadCustomers:v,refresh:R,search:A,goToPage:O,viewCustomer:U,closeCustomer:X,gdprExport:W,gdprAnonymise:re,metrics:l.metrics}}function fk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var Te,Me,ve,Y,ke,Pe,K,Se,Ce,pe,w,k,$,Q;const r=Mt({token:t}),l=Bt("coupons"),d=(Te=e==null?void 0:e.list)!=null?Te:"",_=(Me=e==null?void 0:e.create)!=null?Me:d,f=(ve=e==null?void 0:e.update)!=null?ve:d,g=(Y=e==null?void 0:e.delete)!=null?Y:d,u=qe({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Se=(K=(ke=s.pagination)==null?void 0:ke.total)!=null?K:(Pe=s.items)==null?void 0:Pe.length)!=null?Se:0,limit:(pe=(Ce=s.pagination)==null?void 0:Ce.limit)!=null?pe:20,pages:(k=(w=s.pagination)==null?void 0:w.pages)!=null?k:0,current:(Q=($=s.pagination)==null?void 0:$.current)!=null?Q:1},search:"",activeCoupon:null,lastUpdated:null}),T=typeof AbortController!="undefined",m=We(null),M=()=>{const h=u.pagination.current||1,C=u.pagination.limit||20,E=u.search.trim();return`coupons:page=${h}:limit=${C}:search=${E}`},v=async(h=!1)=>{var be;if(!d){u.error="Coupons endpoint unavailable.",u.items=[];return}const C=M(),E=h?null:Ht(C,n);if(E){l.recordCacheHit(),u.items=E.items,u.pagination={...u.pagination,...E.pagination},u.lastUpdated=E.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",m.value&&T&&m.value.abort();const Z=T?new AbortController:null;m.value=Z;const le=l.startFetch();try{const Re=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:j,pagination:fe}=await r.fetchCoupons({endpoint:d,limit:u.pagination.limit,start:Re,search:u.search.trim(),signal:Z?Z.signal:void 0});u.items=j,u.pagination={...u.pagination,...fe,current:fe.current&&fe.current>0?fe.current:1},u.lastUpdated=new Date().toISOString(),wt(C,{items:j,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(Re){if((Re==null?void 0:Re.name)==="AbortError")return;u.error=(be=Re==null?void 0:Re.message)!=null?be:"Unknown error"}finally{l.endFetch(le),T&&m.value===Z&&(m.value=null),u.loading=!1}},R=()=>{u.pagination.current=1,Be(M()),v(!0)},A=()=>{u.pagination.current=1,v()},O=h=>{const C=Number(h);Number.isNaN(C)||C<1||C===u.pagination.current||(u.pagination.current=C,v(!0))},U=h=>{u.activeCoupon=h},X=h=>{const C=u.items.findIndex(E=>E.id===h.id);C===-1?u.items.unshift(h):u.items.splice(C,1,h)},W=async h=>{var C;u.saving=!0,u.error="";try{let E=null;return h.id?E=await r.updateCoupon({endpoint:f,id:h.id,data:h}):E=await r.createCoupon({endpoint:_,data:h}),E&&(X(E),u.activeCoupon&&u.activeCoupon.id===E.id&&(u.activeCoupon=E),Be(M())),E}catch(E){throw u.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error",E}finally{u.saving=!1}},re=async h=>{var C;if(!Array.isArray(h)||!h.length)return 0;u.saving=!0,u.error="";try{const E=await r.deleteCoupons({endpoint:g,ids:h});return E&&(u.items=u.items.filter(Z=>!h.includes(Z.id)),u.activeCoupon&&h.includes(u.activeCoupon.id)&&(u.activeCoupon=null),Be(M())),E}catch(E){throw u.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error",E}finally{u.saving=!1}};return bt(()=>{a&&(!Array.isArray(u.items)||!u.items.length)&&v()}),{state:u,loadCoupons:v,refresh:R,search:A,goToPage:O,setActive:U,saveCoupon:W,deleteCoupons:re,metrics:l.metrics}}const Pi=(e={})=>{var f,g,u,T,m,M,v,R,A,O,U,X,W,re,Te,Me,ve,Y,ke;const t=(f=e.store)!=null?f:{},s=(g=e.payments)!=null?g:{},a=(u=e.visual)!=null?u:{},n=(T=e.visual_defaults)!=null?T:{},r=(M=(m=e.security)==null?void 0:m.rate_limits)!=null?M:{},l=Array.isArray(e.currencies)?e.currencies:[],d=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",_=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(v=t.name)!=null?v:"",email:(R=t.email)!=null?R:"",phone:(A=t.phone)!=null?A:""},payments:{configured:!!s.configured},base_currency:d,display_locale:_,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(O=a.primary_color)!=null?O:"",text_color:(U=a.text_color)!=null?U:"",surface_color:(X=a.surface_color)!=null?X:"",border_color:(W=a.border_color)!=null?W:"",muted_color:(re=a.muted_color)!=null?re:""},visual_defaults:{primary_color:(Te=n.primary_color)!=null?Te:"#4f6d7a",text_color:(Me=n.text_color)!=null?Me:"#1f2933",surface_color:(ve=n.surface_color)!=null?ve:"#ffffff",border_color:(Y=n.border_color)!=null?Y:"#e4e7ec",muted_color:(ke=n.muted_color)!=null?ke:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(r.checkout_ip_limit))?Number(r.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(r.checkout_email_limit))?Number(r.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(r.checkout_session_limit))?Number(r.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(r.checkout_window_minutes))?Number(r.checkout_window_minutes):Number.isFinite(Number(r.checkout_window))?Math.max(0,Math.ceil(Number(r.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(r.offline_ip_limit))?Number(r.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(r.offline_email_limit))?Number(r.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(r.offline_window_minutes))?Number(r.offline_window_minutes):Number.isFinite(Number(r.offline_window))?Math.max(0,Math.ceil(Number(r.offline_window)/60)):30}},currencies:l}};function mk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var T,m;const r=Mt({token:t}),l=Bt("settings"),d=(T=e==null?void 0:e.show)!=null?T:"",_=(m=e==null?void 0:e.update)!=null?m:d,f=qe({loading:!1,saving:!1,error:"",message:"",values:Pi(s),lastUpdated:null}),g=async(M=!1)=>{var O;if(!d){f.error="Settings endpoint unavailable.";return}const v="settings:data",R=M?null:Ht(v,n);if(R){l.recordCacheHit(),f.values=R.values,f.lastUpdated=R.lastUpdated;return}l.recordCacheMiss(),f.loading=!0,f.error="";const A=l.startFetch();try{const U=await r.fetchSettings({endpoint:d});f.values=Pi(U),f.lastUpdated=new Date().toISOString(),wt(v,{values:f.values,lastUpdated:f.lastUpdated})}catch(U){throw f.error=(O=U==null?void 0:U.message)!=null?O:"Unknown error",U}finally{l.endFetch(A),f.loading=!1}},u=async M=>{var v;if(!_)return f.error="Settings endpoint unavailable.",null;f.saving=!0,f.error="",f.message="";try{const R=await r.updateSettings({endpoint:_,data:M});return f.values=Pi(R),f.lastUpdated=new Date().toISOString(),f.message="Settings saved.",Be("settings:data"),wt("settings:data",{values:f.values,lastUpdated:f.lastUpdated}),f.values}catch(R){throw f.error=(v=R==null?void 0:R.message)!=null?v:"Unknown error",R}finally{f.saving=!1}};return bt(()=>{a&&g()}),{state:f,refresh:g,save:u,metrics:l.metrics}}function hk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var U,X,W,re,Te,Me,ve,Y,ke,Pe,K,Se,Ce,pe;const r=Mt({token:t}),l=Bt("taxRates"),d=(U=e==null?void 0:e.list)!=null?U:"",_=(X=e==null?void 0:e.create)!=null?X:d,f=(W=e==null?void 0:e.update)!=null?W:d,g=(re=e==null?void 0:e.delete)!=null?re:d,u=qe({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Y=(ve=(Te=s.pagination)==null?void 0:Te.total)!=null?ve:(Me=s.items)==null?void 0:Me.length)!=null?Y:0,limit:(Pe=(ke=s.pagination)==null?void 0:ke.limit)!=null?Pe:20,pages:(Se=(K=s.pagination)==null?void 0:K.pages)!=null?Se:0,current:(pe=(Ce=s.pagination)==null?void 0:Ce.current)!=null?pe:1},search:"",lastUpdated:null}),T=typeof AbortController!="undefined",m=We(null),M=()=>{const w=u.pagination.current||1,k=u.pagination.limit||20,$=u.search.trim();return`taxRates:page=${w}:limit=${k}:search=${$}`},v=async(w=!1)=>{var C;if(!d){u.error="Tax endpoint unavailable.",u.items=[];return}const k=M(),$=w?null:Ht(k,n);if($){l.recordCacheHit(),u.items=$.items,u.pagination={...u.pagination,...$.pagination},u.lastUpdated=$.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",m.value&&T&&m.value.abort();const Q=T?new AbortController:null;m.value=Q;const h=l.startFetch();try{const E=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:Z,pagination:le}=await r.fetchTaxRates({endpoint:d,limit:u.pagination.limit,start:E,search:u.search.trim(),signal:Q?Q.signal:void 0});u.items=Z,u.pagination={...u.pagination,...le,current:le.current&&le.current>0?le.current:1},u.lastUpdated=new Date().toISOString(),wt(k,{items:Z,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;u.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error"}finally{l.endFetch(h),T&&m.value===Q&&(m.value=null),u.loading=!1}},R=()=>{u.pagination.current=1,Be(M()),v(!0)},A=async w=>{var k;u.saving=!0,u.error="";try{const $=w.id?await r.updateTaxRate({endpoint:f,id:w.id,data:w}):await r.createTaxRate({endpoint:_,data:w});if($){const Q=u.items.findIndex(h=>h.id===$.id);Q===-1?u.items.unshift($):u.items.splice(Q,1,$),Be(M())}return $}catch($){throw u.error=(k=$==null?void 0:$.message)!=null?k:"Unknown error",$}finally{u.saving=!1}},O=async w=>{var k;if(!Array.isArray(w)||!w.length)return 0;u.saving=!0,u.error="";try{const $=await r.deleteTaxRates({endpoint:g,ids:w});return $&&(u.items=u.items.filter(Q=>!w.includes(Q.id)),Be(M())),$}catch($){throw u.error=(k=$==null?void 0:$.message)!=null?k:"Unknown error",$}finally{u.saving=!1}};return bt(()=>{a&&(!Array.isArray(u.items)||!u.items.length)&&v()}),{state:u,loadRates:v,refresh:R,saveRate:A,deleteRates:O,metrics:l.metrics}}function gk({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var U,X,W,re,Te,Me,ve,Y,ke,Pe,K,Se,Ce,pe;const r=Mt({token:t}),l=Bt("shippingRules"),d=(U=e==null?void 0:e.list)!=null?U:"",_=(X=e==null?void 0:e.create)!=null?X:d,f=(W=e==null?void 0:e.update)!=null?W:d,g=(re=e==null?void 0:e.delete)!=null?re:d,u=qe({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Y=(ve=(Te=s.pagination)==null?void 0:Te.total)!=null?ve:(Me=s.items)==null?void 0:Me.length)!=null?Y:0,limit:(Pe=(ke=s.pagination)==null?void 0:ke.limit)!=null?Pe:20,pages:(Se=(K=s.pagination)==null?void 0:K.pages)!=null?Se:0,current:(pe=(Ce=s.pagination)==null?void 0:Ce.current)!=null?pe:1},search:"",lastUpdated:null}),T=typeof AbortController!="undefined",m=We(null),M=()=>{const w=u.pagination.current||1,k=u.pagination.limit||20,$=u.search.trim();return`shippingRules:page=${w}:limit=${k}:search=${$}`},v=async(w=!1)=>{var C;if(!d){u.error="Shipping endpoint unavailable.",u.items=[];return}const k=M(),$=w?null:Ht(k,n);if($){l.recordCacheHit(),u.items=$.items,u.pagination={...u.pagination,...$.pagination},u.lastUpdated=$.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="",m.value&&T&&m.value.abort();const Q=T?new AbortController:null;m.value=Q;const h=l.startFetch();try{const E=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:Z,pagination:le}=await r.fetchShippingRules({endpoint:d,limit:u.pagination.limit,start:E,search:u.search.trim(),signal:Q?Q.signal:void 0});u.items=Z,u.pagination={...u.pagination,...le,current:le.current&&le.current>0?le.current:1},u.lastUpdated=new Date().toISOString(),wt(k,{items:Z,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;u.error=(C=E==null?void 0:E.message)!=null?C:"Unknown error"}finally{l.endFetch(h),T&&m.value===Q&&(m.value=null),u.loading=!1}},R=()=>{u.pagination.current=1,Be(M()),v(!0)},A=async w=>{var k;u.saving=!0,u.error="";try{const $=w.id?await r.updateShippingRule({endpoint:f,id:w.id,data:w}):await r.createShippingRule({endpoint:_,data:w});if($){const Q=u.items.findIndex(h=>h.id===$.id);Q===-1?u.items.unshift($):u.items.splice(Q,1,$),Be(M())}return $}catch($){throw u.error=(k=$==null?void 0:$.message)!=null?k:"Unknown error",$}finally{u.saving=!1}},O=async w=>{var k;if(!Array.isArray(w)||!w.length)return 0;u.saving=!0,u.error="";try{const $=await r.deleteShippingRules({endpoint:g,ids:w});return $&&(u.items=u.items.filter(Q=>!w.includes(Q.id)),Be(M())),$}catch($){throw u.error=(k=$==null?void 0:$.message)!=null?k:"Unknown error",$}finally{u.saving=!1}};return bt(()=>{a&&(!Array.isArray(u.items)||!u.items.length)&&v()}),{state:u,loadRules:v,refresh:R,saveRule:A,deleteRules:O,metrics:l.metrics}}function Ek({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var A,O,U,X,W,re,Te,Me,ve,Y,ke;const r=Mt({token:t}),l=Bt("logs"),d=(A=e==null?void 0:e.list)!=null?A:"",_=qe({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(W=(X=(O=s.pagination)==null?void 0:O.total)!=null?X:(U=s.items)==null?void 0:U.length)!=null?W:0,limit:(Te=(re=s.pagination)==null?void 0:re.limit)!=null?Te:20,pages:(ve=(Me=s.pagination)==null?void 0:Me.pages)!=null?ve:0,current:(ke=(Y=s.pagination)==null?void 0:Y.current)!=null?ke:1},search:"",entity:"",lastUpdated:null}),f=typeof AbortController!="undefined",g=We(null),u=()=>{const Pe=_.pagination.current||1,K=_.pagination.limit||20,Se=_.search.trim(),Ce=_.entity.trim();return`logs:page=${Pe}:limit=${K}:search=${Se}:entity=${Ce}`},T=async(Pe=!1)=>{var w;if(!d){_.error="Logs endpoint unavailable.",_.items=[];return}const K=u(),Se=Pe?null:Ht(K,n);if(Se){l.recordCacheHit(),_.items=Se.items,_.pagination={..._.pagination,...Se.pagination},_.lastUpdated=Se.lastUpdated;return}l.recordCacheMiss(),_.loading=!0,_.error="",f&&g.value&&g.value.abort();const Ce=f?new AbortController:null;g.value=Ce;const pe=l.startFetch();try{const k=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:$,pagination:Q}=await r.fetchLogs({endpoint:d,limit:_.pagination.limit,start:k,search:_.search.trim(),entity:_.entity,signal:Ce?Ce.signal:void 0});_.items=$,_.pagination={..._.pagination,...Q,current:Q.current&&Q.current>0?Q.current:1},_.lastUpdated=new Date().toISOString(),wt(K,{items:$,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(k){if((k==null?void 0:k.name)==="AbortError")return;_.error=(w=k==null?void 0:k.message)!=null?w:"Unknown error"}finally{l.endFetch(pe),f&&g.value===Ce&&(g.value=null),_.loading=!1}},m=()=>{_.pagination.current=1,Be(u()),T(!0)},M=()=>{_.pagination.current=1,T()},v=Pe=>{const K=typeof Pe=="string"?Pe.trim():"";_.entity!==K&&(_.entity=K,_.pagination.current=1,T())},R=Pe=>{const K=Number(Pe);Number.isNaN(K)||K<1||K===_.pagination.current||(_.pagination.current=K,T(!0))};return bt(()=>{a&&(!Array.isArray(_.items)||!_.items.length)&&T()}),{state:_,loadLogs:T,refresh:m,search:M,setEntity:v,goToPage:R,metrics:l.metrics}}const Po=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function Ck({endpoints:e={},token:t=""}){const s=Mt({token:t}),a=qe({loading:!1,saving:!1,error:"",config:Po(),message:""}),n=async()=>{var d,_,f,g;if(e.show){a.loading=!0,a.error="";try{const u=await s.get(e.show);a.config=l((f=(_=(d=u==null?void 0:u.data)==null?void 0:d.config)!=null?_:u==null?void 0:u.config)!=null?f:{})}catch(u){a.error=(g=u.message)!=null?g:"Unable to load payment configuration."}finally{a.loading=!1}}},r=async d=>{var _,f,g,u,T,m,M;if(e.update){a.saving=!0,a.error="",a.message="";try{const v=await s.post(e.update,{config:d});a.config=l((g=(f=(_=v==null?void 0:v.data)==null?void 0:_.config)!=null?f:v==null?void 0:v.config)!=null?g:{}),a.message=(m=(T=(u=v==null?void 0:v.data)==null?void 0:u.message)!=null?T:v==null?void 0:v.message)!=null?m:""}catch(v){a.error=(M=v.message)!=null?M:"Unable to save payment configuration."}finally{a.saving=!1}}},l=d=>{var f,g,u,T;const _=Po();return{stripe:{..._.stripe,...(f=d.stripe)!=null?f:{}},paypal:{..._.paypal,...(g=d.paypal)!=null?g:{}},cod:{..._.cod,...(u=d.cod)!=null?u:{}},bank_transfer:{..._.bank_transfer,...(T=d.bank_transfer)!=null?T:{}}}};return{state:a,refresh:n,save:r}}const Ak={class:"nxp-ec-admin-app__shell"},Sk={class:"nxp-ec-admin-app__header"},bk={class:"nxp-ec-admin-app__title"},Tk={class:"nxp-ec-admin-app__lead"},yk={class:"nxp-ec-btn__progress-label"},Rk={key:0,class:"nxp-ec-admin-nav"},Ok=["href"],xk={key:11,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},Nk={class:"nxp-ec-admin-panel__body"},vk={class:"nxp-ec-admin-panel__lead"},as="nxp:admin:onboarding:dismissed",Pk={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var ic,ac,oc,rc,lc,cc,dc,uc,_c,pc,fc,mc,hc,gc,Ec,Cc,Ac,Sc,bc,Tc,yc,Rc,Oc,xc,Nc,vc,Pc,Mc,kc,Ic,wc,$c,Dc,Lc,Uc,Yc,Xc,Gc,Fc,Vc,Hc,Bc,Kc,jc,Jc,Wc,qc,zc,Qc,Zc,ed,td,nd,sd,id,ad,od,rd,ld,cd,dd,ud,_d,pd,fd,md,hd,gd,Ed,Cd,Ad,Sd,bd,Td,yd,Rd,Od,xd,Nd,vd,Pd,Md,kd,Id,wd,$d,Dd,Ld,Ud,Yd,Xd,Gd,Fd,Vd,Hd,Bd,Kd,jd,Jd,Wd,qd,zd,Qd,Zd,eu,tu,nu,su,iu,au,ou,ru,lu,cu,du,uu,_u,pu,fu,mu,hu,gu,Eu,Cu,Au,Su,bu,Tu,yu,Ru,Ou,xu,Nu,vu,Pu,Mu,ku,Iu,wu,$u,Du,Lu,Uu,Yu,Xu,Gu,Fu,Vu,Hu,Bu,Ku,ju,Ju,Wu,qu,zu,Qu,Zu,e_,t_,n_,s_,i_,a_,o_,r_,l_,c_,d_,u_,__,p_,f_,m_,h_,g_,E_,C_,A_,S_,b_,T_,y_,R_,O_,x_,N_,v_,P_,M_,k_,I_,w_,$_,D_,L_,U_,Y_,X_,G_,F_,V_,H_,B_,K_,j_,J_,W_,q_,z_,Q_,Z_,ep,tp,np,sp,ip,ap,op,rp,lp,cp,dp,up,_p,pp;const t=e,{__:s}=rk(t.dataset),a=Ee(()=>{var I;return((I=t.dataset)==null?void 0:I.appTitleKey)||"COM_NXPEASYCART"}),n=Ee(()=>{var I;return((I=t.dataset)==null?void 0:I.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),r=(I,oe)=>{if(!I||typeof I!="string")return oe;try{return JSON.parse(I)}catch(xe){return oe}},l=Ee(()=>{var I,oe;return!!((oe=(I=Kt==null?void 0:Kt.values)==null?void 0:I.show_advanced_mode)!=null&&oe)}),d=Ee(()=>{var oe,xe;let I=[];if(Array.isArray((oe=t.config)==null?void 0:oe.navItems))I=t.config.navItems.map(ze=>({id:ze.id,title:ze.title,link:ze.link}));else{const ze=r((xe=t.dataset)==null?void 0:xe.navItems,[]);I=Array.isArray(ze)?ze.map(at=>({id:at.id,title:at.title,link:at.link})):[]}return l.value||(I=I.filter(ze=>ze.id!=="logs")),I}),_=I=>{const oe=d.value;if(!Array.isArray(oe))return"";const xe=oe.find(ze=>ze.id===I);return xe?xe.link:""},f=Ee(()=>{var I,oe;return((I=t.config)==null?void 0:I.activeSection)||((oe=t.dataset)==null?void 0:oe.activeSection)||"dashboard"}),g=Ee(()=>{var I,oe;return((I=t.config)==null?void 0:I.settingsTab)||((oe=t.dataset)==null?void 0:oe.settingsTab)||"general"}),u=I=>f.value===I,T=Ee(()=>{var I,oe,xe,ze,at;return Number.parseInt((at=(ze=(oe=(I=t.config)==null?void 0:I.user)==null?void 0:oe.id)!=null?ze:(xe=t.dataset)==null?void 0:xe.userId)!=null?at:0,10)||0}),m=Ee(()=>u("dashboard")),M=Ee(()=>u("products")),v=Ee(()=>u("categories")||u("products")),R=Ee(()=>u("orders")),A=Ee(()=>u("customers")),O=Ee(()=>u("coupons")),U=Ee(()=>u("settings")),X=Ee(()=>u("tax")),W=Ee(()=>u("shipping")),re=Ee(()=>u("logs")),Te={...(ac=(ic=t.endpoints)==null?void 0:ic.products)!=null?ac:{},list:(dc=(cc=(rc=(oc=t.endpoints)==null?void 0:oc.products)==null?void 0:rc.list)!=null?cc:(lc=t.dataset)==null?void 0:lc.productsEndpoint)!=null?dc:"",create:(mc=(fc=(_c=(uc=t.endpoints)==null?void 0:uc.products)==null?void 0:_c.create)!=null?fc:(pc=t.dataset)==null?void 0:pc.productsEndpointCreate)!=null?mc:"",update:(Ac=(Cc=(gc=(hc=t.endpoints)==null?void 0:hc.products)==null?void 0:gc.update)!=null?Cc:(Ec=t.dataset)==null?void 0:Ec.productsEndpointUpdate)!=null?Ac:"",delete:(Rc=(yc=(bc=(Sc=t.endpoints)==null?void 0:Sc.products)==null?void 0:bc.delete)!=null?yc:(Tc=t.dataset)==null?void 0:Tc.productsEndpointDelete)!=null?Rc:"",checkout:(Pc=(vc=(xc=(Oc=t.endpoints)==null?void 0:Oc.products)==null?void 0:xc.checkout)!=null?vc:(Nc=t.dataset)==null?void 0:Nc.productsEndpointCheckout)!=null?Pc:"",checkin:($c=(wc=(kc=(Mc=t.endpoints)==null?void 0:Mc.products)==null?void 0:kc.checkin)!=null?wc:(Ic=t.dataset)==null?void 0:Ic.productsEndpointCheckin)!=null?$c:""},Me={...(Lc=(Dc=t.endpoints)==null?void 0:Dc.categories)!=null?Lc:{},list:(Fc=(Gc=(Yc=(Uc=t.endpoints)==null?void 0:Uc.categories)==null?void 0:Yc.list)!=null?Gc:(Xc=t.dataset)==null?void 0:Xc.categoriesEndpoint)!=null?Fc:"",create:(jc=(Kc=(Hc=(Vc=t.endpoints)==null?void 0:Vc.categories)==null?void 0:Hc.create)!=null?Kc:(Bc=t.dataset)==null?void 0:Bc.categoriesEndpointCreate)!=null?jc:"",update:(Qc=(zc=(Wc=(Jc=t.endpoints)==null?void 0:Jc.categories)==null?void 0:Wc.update)!=null?zc:(qc=t.dataset)==null?void 0:qc.categoriesEndpointUpdate)!=null?Qc:"",delete:(sd=(nd=(ed=(Zc=t.endpoints)==null?void 0:Zc.categories)==null?void 0:ed.delete)!=null?nd:(td=t.dataset)==null?void 0:td.categoriesEndpointDelete)!=null?sd:"",checkout:(ld=(rd=(ad=(id=t.endpoints)==null?void 0:id.categories)==null?void 0:ad.checkout)!=null?rd:(od=t.dataset)==null?void 0:od.categoriesEndpointCheckout)!=null?ld:"",checkin:(pd=(_d=(dd=(cd=t.endpoints)==null?void 0:cd.categories)==null?void 0:dd.checkin)!=null?_d:(ud=t.dataset)==null?void 0:ud.categoriesEndpointCheckin)!=null?pd:""},ve={...(md=(fd=t.endpoints)==null?void 0:fd.orders)!=null?md:{},list:(Ad=(Cd=(gd=(hd=t.endpoints)==null?void 0:hd.orders)==null?void 0:gd.list)!=null?Cd:(Ed=t.dataset)==null?void 0:Ed.ordersEndpoint)!=null?Ad:"",show:(Rd=(yd=(bd=(Sd=t.endpoints)==null?void 0:Sd.orders)==null?void 0:bd.show)!=null?yd:(Td=t.dataset)==null?void 0:Td.ordersEndpointShow)!=null?Rd:"",transition:(Pd=(vd=(xd=(Od=t.endpoints)==null?void 0:Od.orders)==null?void 0:xd.transition)!=null?vd:(Nd=t.dataset)==null?void 0:Nd.ordersEndpointTransition)!=null?Pd:"",bulkTransition:($d=(wd=(kd=(Md=t.endpoints)==null?void 0:Md.orders)==null?void 0:kd.bulkTransition)!=null?wd:(Id=t.dataset)==null?void 0:Id.ordersEndpointBulk)!=null?$d:"",note:(Xd=(Yd=(Ld=(Dd=t.endpoints)==null?void 0:Dd.orders)==null?void 0:Ld.note)!=null?Yd:(Ud=t.dataset)==null?void 0:Ud.ordersEndpointNote)!=null?Xd:"",tracking:(Bd=(Hd=(Fd=(Gd=t.endpoints)==null?void 0:Gd.orders)==null?void 0:Fd.tracking)!=null?Hd:(Vd=t.dataset)==null?void 0:Vd.ordersEndpointTracking)!=null?Bd:"",invoice:(qd=(Wd=(jd=(Kd=t.endpoints)==null?void 0:Kd.orders)==null?void 0:jd.invoice)!=null?Wd:(Jd=t.dataset)==null?void 0:Jd.ordersEndpointInvoice)!=null?qd:"",checkout:(tu=(eu=(Qd=(zd=t.endpoints)==null?void 0:zd.orders)==null?void 0:Qd.checkout)!=null?eu:(Zd=t.dataset)==null?void 0:Zd.ordersEndpointCheckout)!=null?tu:"",checkin:(ou=(au=(su=(nu=t.endpoints)==null?void 0:nu.orders)==null?void 0:su.checkin)!=null?au:(iu=t.dataset)==null?void 0:iu.ordersEndpointCheckin)!=null?ou:""},Y=(_u=(ru=t.endpoints)==null?void 0:ru.customers)!=null?_u:{list:(cu=(lu=t.dataset)==null?void 0:lu.customersEndpoint)!=null?cu:"",show:(uu=(du=t.dataset)==null?void 0:du.customersEndpointShow)!=null?uu:""},ke=(bu=(pu=t.endpoints)==null?void 0:pu.coupons)!=null?bu:{list:(mu=(fu=t.dataset)==null?void 0:fu.couponsEndpoint)!=null?mu:"",create:(gu=(hu=t.dataset)==null?void 0:hu.couponsEndpointCreate)!=null?gu:"",update:(Cu=(Eu=t.dataset)==null?void 0:Eu.couponsEndpointUpdate)!=null?Cu:"",delete:(Su=(Au=t.dataset)==null?void 0:Au.couponsEndpointDelete)!=null?Su:""},Pe=(ku=(Tu=t.endpoints)==null?void 0:Tu.tax)!=null?ku:{list:(Ru=(yu=t.dataset)==null?void 0:yu.taxEndpoint)!=null?Ru:"",create:(xu=(Ou=t.dataset)==null?void 0:Ou.taxEndpointCreate)!=null?xu:"",update:(vu=(Nu=t.dataset)==null?void 0:Nu.taxEndpointUpdate)!=null?vu:"",delete:(Mu=(Pu=t.dataset)==null?void 0:Pu.taxEndpointDelete)!=null?Mu:""},K=(Fu=(Iu=t.endpoints)==null?void 0:Iu.shipping)!=null?Fu:{list:($u=(wu=t.dataset)==null?void 0:wu.shippingEndpoint)!=null?$u:"",create:(Lu=(Du=t.dataset)==null?void 0:Du.shippingEndpointCreate)!=null?Lu:"",update:(Yu=(Uu=t.dataset)==null?void 0:Uu.shippingEndpointUpdate)!=null?Yu:"",delete:(Gu=(Xu=t.dataset)==null?void 0:Xu.shippingEndpointDelete)!=null?Gu:""},Se=(qu=(Vu=t.endpoints)==null?void 0:Vu.digitalfiles)!=null?qu:{list:(Bu=(Hu=t.dataset)==null?void 0:Hu.digitalfilesEndpointList)!=null?Bu:"",upload:(ju=(Ku=t.dataset)==null?void 0:Ku.digitalfilesEndpointUpload)!=null?ju:"",delete:(Wu=(Ju=t.dataset)==null?void 0:Ju.digitalfilesEndpointDelete)!=null?Wu:""},Ce=(n_=(zu=t.endpoints)==null?void 0:zu.settings)!=null?n_:{show:(Zu=(Qu=t.dataset)==null?void 0:Qu.settingsEndpointShow)!=null?Zu:"",update:(t_=(e_=t.dataset)==null?void 0:e_.settingsEndpointUpdate)!=null?t_:""},pe=(o_=(s_=t.endpoints)==null?void 0:s_.logs)!=null?o_:{list:(a_=(i_=t.dataset)==null?void 0:i_.logsEndpoint)!=null?a_:""},w=(__=(r_=t.endpoints)==null?void 0:r_.payments)!=null?__:{show:(c_=(l_=t.dataset)==null?void 0:l_.paymentsEndpointShow)!=null?c_:"",update:(u_=(d_=t.dataset)==null?void 0:d_.paymentsEndpointUpdate)!=null?u_:""},k=Ee(()=>{var I;return r((I=t.dataset)==null?void 0:I.orderStates,[])}),{state:$,refresh:Q}=_k({endpoint:(C_=(E_=(h_=(p_=t.endpoints)==null?void 0:p_.dashboard)!=null?h_:(m_=(f_=t.config)==null?void 0:f_.endpoints)==null?void 0:m_.dashboard)!=null?E_:(g_=t.dataset)==null?void 0:g_.dashboardEndpoint)!=null?C_:"",token:t.csrfToken,preload:(y_=(S_=(A_=t.config)==null?void 0:A_.preload)==null?void 0:S_.dashboard)!=null?y_:{summary:r((b_=t.dataset)==null?void 0:b_.dashboardSummary,{}),checklist:r((T_=t.dataset)==null?void 0:T_.dashboardChecklist,[])},autoload:m.value}),{state:h,refresh:C,search:E,createProduct:Z,updateProduct:le,deleteProducts:be,checkoutProduct:Re,checkinProduct:j,forceCheckinProduct:fe,metrics:Oe}=ck({endpoints:Te,token:t.csrfToken,autoload:M.value}),{state:Ve,refresh:S,search:x,goToPage:H,saveCategory:te,deleteCategories:J,loadOptions:ne,checkoutCategory:de,checkinCategory:ie,forceCheckinCategory:se,metrics:ee}=dk({endpoints:Me,token:t.csrfToken,preload:(v_=(O_=(R_=t.config)==null?void 0:R_.preload)==null?void 0:O_.categories)!=null?v_:{items:r((x_=t.dataset)==null?void 0:x_.categoriesPreload,[]),pagination:r((N_=t.dataset)==null?void 0:N_.categoriesPreloadPagination,{})},autoload:v.value}),Ae=Ee(()=>(Array.isArray(Ve.items)?Ve.items:[]).map(oe=>{var xe,ze,at;return{id:Number.parseInt((xe=oe==null?void 0:oe.id)!=null?xe:0,10)||0,title:String((ze=oe==null?void 0:oe.title)!=null?ze:"").trim(),slug:String((at=oe==null?void 0:oe.slug)!=null?at:"").trim(),parent_id:(oe==null?void 0:oe.parent_id)!==null&&(oe==null?void 0:oe.parent_id)!==void 0&&Number.parseInt(oe.parent_id,10)||null}}).filter(oe=>oe.title!=="")),{state:ue,refresh:ge,search:ye,setFilterState:$e,viewOrder:N,closeOrder:D,forceCheckinOrder:_e,releaseLock:me,transitionOrder:V,goToPage:Ie,bulkTransition:je,toggleSelection:Ue,clearSelection:Ye,addNote:P,updateTracking:p,downloadInvoice:L,exportOrders:B,sendEmail:F,recordTransaction:G,resendDownloads:ae,resetDownload:q,metrics:Ge}=uk({endpoints:ve,token:t.csrfToken,states:k.value,preload:(w_=(M_=(P_=t.config)==null?void 0:P_.preload)==null?void 0:M_.orders)!=null?w_:{items:r((k_=t.dataset)==null?void 0:k_.ordersPreload,[]),pagination:r((I_=t.dataset)==null?void 0:I_.ordersPreloadPagination,{})},autoload:R.value}),{state:Fe,refresh:nt,search:it,goToPage:xt,viewCustomer:At,closeCustomer:Xs,gdprExport:Gs,gdprAnonymise:$t}=pk({endpoints:{...Y,gdpr:(D_=($_=t.endpoints)==null?void 0:$_.gdpr)!=null?D_:{}},token:t.csrfToken,preload:(G_=(U_=(L_=t.config)==null?void 0:L_.preload)==null?void 0:U_.customers)!=null?G_:{items:r((Y_=t.dataset)==null?void 0:Y_.customersPreload,[]),pagination:r((X_=t.dataset)==null?void 0:X_.customersPreloadPagination,{})},autoload:A.value}),{state:Mn,refresh:Dt,search:pn,goToPage:fn,saveCoupon:kn,deleteCoupons:In}=fk({endpoints:(V_=(F_=t.endpoints)==null?void 0:F_.coupons)!=null?V_:ke,token:t.csrfToken,preload:(J_=(B_=(H_=t.config)==null?void 0:H_.preload)==null?void 0:B_.coupons)!=null?J_:{items:r((K_=t.dataset)==null?void 0:K_.couponsPreload,[]),pagination:r((j_=t.dataset)==null?void 0:j_.couponsPreloadPagination,{})},autoload:O.value}),Fs=(Q_=(q_=(W_=t.config)==null?void 0:W_.preload)==null?void 0:q_.settings)!=null?Q_:r((z_=t.dataset)==null?void 0:z_.settingsPreload,{}),{state:Kt,refresh:Vs,save:Mi}=mk({endpoints:Ce,token:t.csrfToken,preload:Fs,autoload:U.value}),Mk=Ee(()=>{var oe,xe;const I=(xe=(oe=t.dataset)==null?void 0:oe.baseCurrency)!=null?xe:"";return typeof I=="string"?I.trim().toUpperCase():""}),kk=Ee(()=>{var oe,xe;const I=(xe=(oe=Kt==null?void 0:Kt.values)==null?void 0:oe.base_currency)!=null?xe:"";return typeof I=="string"?I.trim().toUpperCase():""}),os=Ee(()=>{const I=kk.value||Mk.value;return I!==""?I:"USD"}),Ik=Ee(()=>{var oe,xe;const I=(xe=(oe=t.dataset)==null?void 0:oe.mediaModalUrl)!=null?xe:"";return typeof I=="string"?I.trim():""}),wk=Ee(()=>{var oe,xe,ze,at,St;const I=(at=(ze=(oe=t.config)==null?void 0:oe.siteRoot)!=null?ze:(xe=t.dataset)==null?void 0:xe.siteRoot)!=null?at:"";return typeof I=="string"&&I.trim()!==""?I.trim():typeof window!="undefined"&&((St=window.location)!=null&&St.origin)?window.location.origin:""}),$k=I=>{switch(I){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:_("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_PUBLISH_CART_MODULE":return{id:"publish-cart-module",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_DESC",titleFallback:"Publish the cart module",descriptionFallback:"Add the cart module to a template position so customers can see their shopping cart.",link:"index.php?option=com_modules&filter[module]=mod_nxpeasycart_cart"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:_("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:_("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:_("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:_("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:I||"step",titleKey:I||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:I||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:_("dashboard")||""}}},ki=Ee(()=>(Array.isArray($.checklist)?$.checklist:[]).map(oe=>{const xe=$k(oe.label);return{id:xe.id,completed:!!oe.completed,link:oe.link||xe.link||"",label:oe.label,titleKey:xe.titleKey,descriptionKey:xe.descriptionKey,titleFallback:xe.titleFallback,descriptionFallback:xe.descriptionFallback}})),Ii=Ee(()=>ki.value.some(I=>!I.completed)),tc=Ee(()=>{const I=ki.value;if(!I.length)return{completed:0,total:0,percent:0};const oe=I.filter(xe=>xe.completed).length;return{completed:oe,total:I.length,percent:Math.round(oe/I.length*100)}}),Dk=Ee(()=>{const{completed:I,total:oe}=tc.value;return`${I}/${oe}`}),Lk=Ee(()=>{const{percent:I}=tc.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${I}%, #e9ecef ${I}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:I>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),rs=We(!1),Uk=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(as,"0")}catch(I){}rs.value=!0},nc=()=>{if(rs.value=!1,typeof window!="undefined")try{window.localStorage.setItem(as,"1")}catch(I){}},Yk=I=>{I&&typeof I.link=="string"&&I.link!==""&&(nc(),typeof window!="undefined"&&(window.location.href=I.link))};tt(Ii,I=>{if(!I&&(rs.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(as,"1")}catch(oe){}});const Xk=(sp=(ep=(Z_=t.config)==null?void 0:Z_.preload)==null?void 0:ep.tax)!=null?sp:{items:r((tp=t.dataset)==null?void 0:tp.taxPreload,[]),pagination:r((np=t.dataset)==null?void 0:np.taxPreloadPagination,{})},{state:Gk,refresh:ls,saveRate:Fk,deleteRates:Vk}=hk({endpoints:Pe,token:t.csrfToken,preload:Xk,autoload:X.value||U.value}),Hk=(lp=(ap=(ip=t.config)==null?void 0:ip.preload)==null?void 0:ap.shipping)!=null?lp:{items:r((op=t.dataset)==null?void 0:op.shippingPreload,[]),pagination:r((rp=t.dataset)==null?void 0:rp.shippingPreloadPagination,{})},{state:Bk,refresh:cs,saveRule:Kk,deleteRules:jk}=gk({endpoints:K,token:t.csrfToken,preload:Hk,autoload:W.value||U.value}),Jk=(pp=(dp=(cp=t.config)==null?void 0:cp.preload)==null?void 0:dp.logs)!=null?pp:{items:r((up=t.dataset)==null?void 0:up.logsPreload,[]),pagination:r((_p=t.dataset)==null?void 0:_p.logsPreloadPagination,{})},{state:Wk,refresh:sc,search:qk,setEntity:zk,goToPage:Qk}=Ek({endpoints:pe,token:t.csrfToken,preload:Jk,autoload:re.value}),{state:Zk,refresh:wi,save:eI}=Ck({endpoints:w,token:t.csrfToken});tt(f,(I,oe)=>{switch(oe==="orders"&&I!=="orders"&&(D(),me==null||me()),I){case"dashboard":Q();break;case"products":C(),S();break;case"categories":S();break;case"orders":ge();break;case"customers":nt();break;case"coupons":Dt();break;case"tax":ls();break;case"shipping":cs();break;case"settings":Vs(),ls(),cs(),wi();break;case"logs":sc();break}}),bt(()=>{if(typeof window!="undefined"){const I=()=>({products:Oe.value,categories:ee.value,orders:Ge.value,cache:No()}),oe=()=>{const xe=I();return console.group("[NXP Easy Cart] Performance Metrics"),console.table({Products:xe.products,Categories:xe.categories,Orders:xe.orders}),console.log("Cache Status:",xe.cache),console.groupEnd(),xe};window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset,getMetrics:I,logMetrics:oe,clearCache:Be,getCacheStatus:No};try{const xe=window.localStorage.getItem(as);Ii.value?xe!=="1"&&(rs.value=!0):window.localStorage.setItem(as,"1")}catch(xe){}}U.value&&wi()});const tI=()=>{C()},nI=()=>{E()},sI=async I=>{try{await Z(I),C(),S(),Be("dashboard"),Q(!0)}catch(oe){}},iI=async({id:I,data:oe})=>{try{await le(I,oe),C(),S()}catch(xe){}},aI=async I=>{try{await be(I),C(),S()}catch(oe){}},oI=()=>{S()},rI=()=>{x()},lI=I=>{H(I)},cI=async I=>{try{await te(I),S()}catch(oe){}},dI=async I=>{try{await J(I),S()}catch(oe){}},uI=()=>{Q()},_I=()=>{ge()},pI=()=>{ye()},fI=I=>{$e(I)},mI=I=>{N(I)},hI=()=>{D()},gI=async({id:I,state:oe})=>{try{await V(I,oe)}catch(xe){}},EI=I=>{Ie(I)},CI=async({ids:I,state:oe})=>{try{await je(I,oe)}catch(xe){}},AI=I=>{Ue(I)},SI=()=>{Ye()},bI=async({id:I,message:oe})=>{await P(I,oe)},TI=async I=>{if(!(I!=null&&I.id))return;const{id:oe,...xe}=I;try{await p(oe,xe)}catch(ze){}},yI=async I=>{!(I!=null&&I.id)||!(I!=null&&I.type)||await F(I.id,I.type)},RI=async I=>{if(I!=null&&I.id)try{await G(I.id,{amountCents:I.amountCents,reference:I.reference,note:I.note})}catch(oe){}},OI=async I=>{if(I!=null&&I.id)try{await ae(I.id)}catch(oe){}},xI=async I=>{if(I!=null&&I.download_id)try{await q(I.download_id,I.order_id)}catch(oe){}},NI=async I=>{if(!I)return;const oe=await L(I);if(!(oe!=null&&oe.content))return;const xe=atob(oe.content),ze=new Uint8Array(xe.length);for(let mn=0;mn<xe.length;mn+=1)ze[mn]=xe.charCodeAt(mn);const at=new Blob([ze],{type:"application/pdf"}),St=window.URL.createObjectURL(at),Nt=document.createElement("a");Nt.href=St,Nt.download=oe.filename||"invoice.pdf",document.body.appendChild(Nt),Nt.click(),document.body.removeChild(Nt),setTimeout(()=>window.URL.revokeObjectURL(St),1e3)},vI=async()=>{const I=await B();if(!(I!=null&&I.content))return;const oe=atob(I.content),xe=new Uint8Array(oe.length);for(let Nt=0;Nt<oe.length;Nt+=1)xe[Nt]=oe.charCodeAt(Nt);const ze=new Blob([xe],{type:"text/csv;charset=utf-8"}),at=window.URL.createObjectURL(ze),St=document.createElement("a");St.href=at,St.download=I.filename||"orders-export.csv",document.body.appendChild(St),St.click(),document.body.removeChild(St),setTimeout(()=>window.URL.revokeObjectURL(at),1e3)},PI=()=>{nt()},MI=()=>{it()},kI=I=>{xt(I)},II=I=>{At(I)},wI=()=>{Xs()},$I=I=>{Gs(I)},DI=I=>{$t(I)},LI=()=>{Dt()},UI=()=>{pn()},YI=I=>{fn(I)},XI=async I=>{try{await kn(I)}catch(oe){}},GI=async I=>{try{await In(I)}catch(oe){}},FI=()=>{Vs(!0)},VI=async I=>{try{await Mi(I),Be("dashboard"),Q(!0)}catch(oe){}},HI=()=>{ls()},BI=async I=>{try{await Fk(I),ls()}catch(oe){}},KI=async I=>{try{await Vk(I),ls()}catch(oe){}},jI=()=>{cs()},JI=async I=>{try{await Kk(I),cs()}catch(oe){}},WI=async I=>{try{await jk(I),cs()}catch(oe){}},qI=()=>{sc()},zI=()=>{qk()},QI=I=>{zk(I)},ZI=I=>{Qk(I)},e0=()=>{wi()},t0=async I=>{await eI(I),Be("dashboard"),Q(!0)};return(I,oe)=>(b(),gt(Jm,null,{default:Ca(()=>{var xe,ze,at,St,Nt,mn;return[i("section",Ak,[i("header",Sk,[i("div",null,[i("h1",bk,c(o(s)(a.value,(ze=(xe=t.dataset)==null?void 0:xe.appTitle)!=null?ze:"NXP Easy Cart",[],"appTitle")),1),i("p",Tk,c(o(s)(n.value,(St=(at=t.dataset)==null?void 0:at.appLead)!=null?St:"Manage your storefront from one place.",[],"appLead")),1)]),z(i("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:jt(Lk.value),onClick:Uk},[De(c(o(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),i("span",yk,c(Dk.value),1)],4),[[xn,Ii.value]])]),d.value.length?(b(),y("nav",Rk,[(b(!0),y(Ne,null,Xe(d.value,Hs=>(b(),y("a",{key:Hs.id,href:Hs.link,class:He({"is-active":Hs.id===f.value})},c(Hs.title),11,Ok))),128))])):ce("",!0),f.value==="dashboard"?(b(),gt(xh,{key:1,state:o($),translate:o(s),onRefresh:uI},null,8,["state","translate"])):f.value==="products"?(b(),gt(QC,{key:2,state:o(h),translate:o(s),"base-currency":os.value,"category-options":Ae.value,"media-modal-url":Ik.value,"digital-endpoints":o(Se),"csrf-token":t.csrfToken,"checkout-product":o(Re),"checkin-product":o(j),"force-checkin-product":o(fe),"current-user-id":T.value,onCreate:sI,onUpdate:iI,onDelete:aI,onRefresh:tI,onSearch:nI},null,8,["state","translate","base-currency","category-options","media-modal-url","digital-endpoints","csrf-token","checkout-product","checkin-product","force-checkin-product","current-user-id"])):f.value==="categories"?(b(),gt(eS,{key:3,state:o(Ve),translate:o(s),"load-options":o(ne),"checkout-category":o(de),"checkin-category":o(ie),"force-checkin-category":o(se),"current-user-id":T.value,onRefresh:oI,onSearch:rI,onPage:lI,onSave:cI,onDelete:dI},null,8,["state","translate","load-options","checkout-category","checkin-category","force-checkin-category","current-user-id"])):f.value==="orders"?(b(),gt(kT,{key:4,state:o(ue),translate:o(s),"site-root":wk.value,"current-user-id":T.value,"force-checkin-order":o(_e),onRefresh:_I,onSearch:pI,onFilter:fI,onView:mI,onClose:hI,onTransition:gI,onPage:EI,onBulkTransition:CI,onToggleSelection:AI,onClearSelection:SI,onAddNote:bI,onSaveTracking:TI,onSendEmail:yI,onRecordPayment:RI,onResendDownloads:OI,onResetDownload:xI,onInvoice:NI,onExport:vI},null,8,["state","translate","site-root","current-user-id","force-checkin-order"])):f.value==="customers"?(b(),gt(wy,{key:5,state:o(Fe),translate:o(s),"base-currency":os.value,onRefresh:PI,onSearch:MI,onPage:kI,onView:II,onClose:wI,onGdprExport:$I,onGdprAnonymise:DI},null,8,["state","translate","base-currency"])):f.value==="coupons"?(b(),gt(BR,{key:6,state:o(Mn),translate:o(s),"base-currency":os.value,onRefresh:LI,onSearch:UI,onPage:YI,onSave:XI,onDelete:GI},null,8,["state","translate","base-currency"])):f.value==="tax"?(b(),gt(jv,{key:7,state:o(Gk),translate:o(s),onRefresh:HI,onSave:BI,onDelete:KI},null,8,["state","translate"])):f.value==="shipping"?(b(),gt(aM,{key:8,state:o(Bk),translate:o(s),"base-currency":os.value,onRefresh:jI,onSave:JI,onDelete:WI},null,8,["state","translate","base-currency"])):f.value==="settings"?(b(),gt(U1,{key:9,"settings-state":o(Kt),"payments-state":o(Zk),translate:o(s),"base-currency":os.value,"initial-tab":g.value,onRefreshSettings:FI,onSaveSettings:VI,onRefreshPayments:e0,onSavePayments:t0},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):f.value==="logs"&&l.value?(b(),gt(FM,{key:10,state:o(Wk),translate:o(s),onRefresh:qI,onSearch:zI,onFilter:QI,onPage:ZI},null,8,["state","translate"])):(b(),y("div",xk,[i("div",Nk,[i("p",vk,c(o(s)(n.value,(mn=(Nt=t.dataset)==null?void 0:Nt.appLead)!=null?mn:"This section will be available soon.",[],"appLead")),1)])]))]),ot(ik,{visible:rs.value,steps:ki.value,translate:o(s),onClose:nc,onNavigate:Yk},null,8,["visible","steps","translate"])]}),_:1}))}},Ys=document.getElementById("nxp-ec-admin-app");if(!Ys)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(Mo=Ys.getAttribute("data-csrf-token"))!=null?Mo:"",t=Object.assign({},Ys.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(M){console.warn("[NXP Easy Cart] Failed to parse admin config payload",M)}const a={...(Io=(ko=s==null?void 0:s.endpoints)==null?void 0:ko.products)!=null?Io:{},list:(Lo=(Do=($o=(wo=s==null?void 0:s.endpoints)==null?void 0:wo.products)==null?void 0:$o.list)!=null?Do:t.productsEndpoint)!=null?Lo:"",create:(Go=(Xo=(Yo=(Uo=s==null?void 0:s.endpoints)==null?void 0:Uo.products)==null?void 0:Yo.create)!=null?Xo:t.productsEndpointCreate)!=null?Go:"",update:(Bo=(Ho=(Vo=(Fo=s==null?void 0:s.endpoints)==null?void 0:Fo.products)==null?void 0:Vo.update)!=null?Ho:t.productsEndpointUpdate)!=null?Bo:"",delete:(Wo=(Jo=(jo=(Ko=s==null?void 0:s.endpoints)==null?void 0:Ko.products)==null?void 0:jo.delete)!=null?Jo:t.productsEndpointDelete)!=null?Wo:"",checkout:(Zo=(Qo=(zo=(qo=s==null?void 0:s.endpoints)==null?void 0:qo.products)==null?void 0:zo.checkout)!=null?Qo:t.productsEndpointCheckout)!=null?Zo:"",checkin:(sr=(nr=(tr=(er=s==null?void 0:s.endpoints)==null?void 0:er.products)==null?void 0:tr.checkin)!=null?nr:t.productsEndpointCheckin)!=null?sr:""},n={...(ar=(ir=s==null?void 0:s.endpoints)==null?void 0:ir.categories)!=null?ar:{},list:(cr=(lr=(rr=(or=s==null?void 0:s.endpoints)==null?void 0:or.categories)==null?void 0:rr.list)!=null?lr:t.categoriesEndpoint)!=null?cr:"",create:(pr=(_r=(ur=(dr=s==null?void 0:s.endpoints)==null?void 0:dr.categories)==null?void 0:ur.create)!=null?_r:t.categoriesEndpointCreate)!=null?pr:"",update:(gr=(hr=(mr=(fr=s==null?void 0:s.endpoints)==null?void 0:fr.categories)==null?void 0:mr.update)!=null?hr:t.categoriesEndpointUpdate)!=null?gr:"",delete:(Sr=(Ar=(Cr=(Er=s==null?void 0:s.endpoints)==null?void 0:Er.categories)==null?void 0:Cr.delete)!=null?Ar:t.categoriesEndpointDelete)!=null?Sr:"",checkout:(Rr=(yr=(Tr=(br=s==null?void 0:s.endpoints)==null?void 0:br.categories)==null?void 0:Tr.checkout)!=null?yr:t.categoriesEndpointCheckout)!=null?Rr:"",checkin:(vr=(Nr=(xr=(Or=s==null?void 0:s.endpoints)==null?void 0:Or.categories)==null?void 0:xr.checkin)!=null?Nr:t.categoriesEndpointCheckin)!=null?vr:""},r={...(Mr=(Pr=s==null?void 0:s.endpoints)==null?void 0:Pr.orders)!=null?Mr:{},list:($r=(wr=(Ir=(kr=s==null?void 0:s.endpoints)==null?void 0:kr.orders)==null?void 0:Ir.list)!=null?wr:t.ordersEndpoint)!=null?$r:"",show:(Yr=(Ur=(Lr=(Dr=s==null?void 0:s.endpoints)==null?void 0:Dr.orders)==null?void 0:Lr.show)!=null?Ur:t.ordersEndpointShow)!=null?Yr:"",transition:(Vr=(Fr=(Gr=(Xr=s==null?void 0:s.endpoints)==null?void 0:Xr.orders)==null?void 0:Gr.transition)!=null?Fr:t.ordersEndpointTransition)!=null?Vr:"",bulkTransition:(jr=(Kr=(Br=(Hr=s==null?void 0:s.endpoints)==null?void 0:Hr.orders)==null?void 0:Br.bulkTransition)!=null?Kr:t.ordersEndpointBulk)!=null?jr:"",note:(zr=(qr=(Wr=(Jr=s==null?void 0:s.endpoints)==null?void 0:Jr.orders)==null?void 0:Wr.note)!=null?qr:t.ordersEndpointNote)!=null?zr:"",tracking:(tl=(el=(Zr=(Qr=s==null?void 0:s.endpoints)==null?void 0:Qr.orders)==null?void 0:Zr.tracking)!=null?el:t.ordersEndpointTracking)!=null?tl:"",invoice:(al=(il=(sl=(nl=s==null?void 0:s.endpoints)==null?void 0:nl.orders)==null?void 0:sl.invoice)!=null?il:t.ordersEndpointInvoice)!=null?al:"",checkout:(cl=(ll=(rl=(ol=s==null?void 0:s.endpoints)==null?void 0:ol.orders)==null?void 0:rl.checkout)!=null?ll:t.ordersEndpointCheckout)!=null?cl:"",checkin:(pl=(_l=(ul=(dl=s==null?void 0:s.endpoints)==null?void 0:dl.orders)==null?void 0:ul.checkin)!=null?_l:t.ordersEndpointCheckin)!=null?pl:""},l=(gl=(fl=s==null?void 0:s.endpoints)==null?void 0:fl.customers)!=null?gl:{list:(ml=t.customersEndpoint)!=null?ml:"",show:(hl=t.customersEndpointShow)!=null?hl:""},d=(Sl=(El=s==null?void 0:s.endpoints)==null?void 0:El.gdpr)!=null?Sl:{export:(Cl=t.gdprEndpointExport)!=null?Cl:"",anonymise:(Al=t.gdprEndpointAnonymise)!=null?Al:""},_=(xl=(bl=s==null?void 0:s.endpoints)==null?void 0:bl.coupons)!=null?xl:{list:(Tl=t.couponsEndpoint)!=null?Tl:"",create:(yl=t.couponsEndpointCreate)!=null?yl:"",update:(Rl=t.couponsEndpointUpdate)!=null?Rl:"",delete:(Ol=t.couponsEndpointDelete)!=null?Ol:""},f=(Il=(Nl=s==null?void 0:s.endpoints)==null?void 0:Nl.tax)!=null?Il:{list:(vl=t.taxEndpoint)!=null?vl:"",create:(Pl=t.taxEndpointCreate)!=null?Pl:"",update:(Ml=t.taxEndpointUpdate)!=null?Ml:"",delete:(kl=t.taxEndpointDelete)!=null?kl:""},g=(Yl=(wl=s==null?void 0:s.endpoints)==null?void 0:wl.shipping)!=null?Yl:{list:($l=t.shippingEndpoint)!=null?$l:"",create:(Dl=t.shippingEndpointCreate)!=null?Dl:"",update:(Ll=t.shippingEndpointUpdate)!=null?Ll:"",delete:(Ul=t.shippingEndpointDelete)!=null?Ul:""},u=(Hl=(Xl=s==null?void 0:s.endpoints)==null?void 0:Xl.digitalfiles)!=null?Hl:{list:(Gl=t.digitalfilesEndpointList)!=null?Gl:"",upload:(Fl=t.digitalfilesEndpointUpload)!=null?Fl:"",delete:(Vl=t.digitalfilesEndpointDelete)!=null?Vl:""},T=(Jl=(Bl=s==null?void 0:s.endpoints)==null?void 0:Bl.settings)!=null?Jl:{show:(Kl=t.settingsEndpointShow)!=null?Kl:"",update:(jl=t.settingsEndpointUpdate)!=null?jl:""},m=(zl=(Wl=s==null?void 0:s.endpoints)==null?void 0:Wl.logs)!=null?zl:{list:(ql=t.logsEndpoint)!=null?ql:""};Xm(Pk,{csrfToken:e,dataset:t,config:s,endpoints:{products:a,categories:n,orders:r,customers:l,gdpr:d,coupons:_,tax:f,shipping:g,digitalfiles:u,settings:T,logs:m,dashboard:(ec=(Zl=(Ql=s==null?void 0:s.endpoints)==null?void 0:Ql.dashboard)!=null?Zl:t.dashboardEndpoint)!=null?ec:""}}).mount(Ys)}})();
