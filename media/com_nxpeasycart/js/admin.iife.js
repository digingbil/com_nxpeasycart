(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var ta,sa,na,oa,ia,aa,ra,la,ca,da,ua,pa,_a,fa,ha,ma,ga,Ca,Sa,Ea,ba,Aa,ya,Ta,Oa,Ra,va,xa,Pa,Na,Ma,Ia,ka,$a,wa,Da,Ua,La,Ya,Xa,Fa,Ga,Va,Ha,Ba,Ka,ja,Ja,qa,Wa,za,Qa;function Cn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Pe={},qt=[],_t=()=>{},lo=()=>!1,$s=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Sn=e=>e.startsWith("onUpdate:"),ze=Object.assign,En=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},kc=Object.prototype.hasOwnProperty,Re=(e,t)=>kc.call(e,t),Ce=Array.isArray,Wt=e=>ls(e)==="[object Map]",zt=e=>ls(e)==="[object Set]",co=e=>ls(e)==="[object Date]",Ae=e=>typeof e=="function",Ye=e=>typeof e=="string",ct=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",uo=e=>(Me(e)||Ae(e))&&Ae(e.then)&&Ae(e.catch),po=Object.prototype.toString,ls=e=>po.call(e),$c=e=>ls(e).slice(8,-1),_o=e=>ls(e)==="[object Object]",bn=e=>Ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cs=Cn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ws=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},wc=/-\w/g,wt=ws(e=>e.replace(wc,t=>t.slice(1).toUpperCase())),Dc=/\B([A-Z])/g,Dt=ws(e=>e.replace(Dc,"-$1").toLowerCase()),fo=ws(e=>e.charAt(0).toUpperCase()+e.slice(1)),An=ws(e=>e?`on${fo(e)}`:""),Ut=(e,t)=>!Object.is(e,t),Ds=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ho=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},Us=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mo;const Ls=()=>mo||(mo=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Lt(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=Ye(i)?Xc(i):Lt(i);if(n)for(const a in n)t[a]=n[a]}return t}else if(Ye(e)||Me(e))return e}const Uc=/;(?![^(]*\))/g,Lc=/:([^]+)/,Yc=/\/\*[^]*?\*\//g;function Xc(e){const t={};return e.replace(Yc,"").split(Uc).forEach(s=>{if(s){const i=s.split(Lc);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ne(e){let t="";if(Ye(e))t=e;else if(Ce(e))for(let s=0;s<e.length;s++){const i=Ne(e[s]);i&&(t+=i+" ")}else if(Me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Fc=Cn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function go(e){return!!e||e===""}function Gc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let i=0;s&&i<e.length;i++)s=ds(e[i],t[i]);return s}function ds(e,t){if(e===t)return!0;let s=co(e),i=co(t);if(s||i)return s&&i?e.getTime()===t.getTime():!1;if(s=ct(e),i=ct(t),s||i)return e===t;if(s=Ce(e),i=Ce(t),s||i)return s&&i?Gc(e,t):!1;if(s=Me(e),i=Me(t),s||i){if(!s||!i)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const r in e){const d=e.hasOwnProperty(r),u=t.hasOwnProperty(r);if(d&&!u||!d&&u||!ds(e[r],t[r]))return!1}}return String(e)===String(t)}function yn(e,t){return e.findIndex(s=>ds(s,t))}const Co=e=>!!(e&&e.__v_isRef===!0),p=e=>Ye(e)?e:e==null?"":Ce(e)||Me(e)&&(e.toString===po||!Ae(e.toString))?Co(e)?p(e.value):JSON.stringify(e,So,2):String(e),So=(e,t)=>Co(t)?So(e,t.value):Wt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],a)=>(s[Tn(i,a)+" =>"]=n,s),{})}:zt(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Tn(s))}:ct(t)?Tn(t):Me(t)&&!Ce(t)&&!_o(t)?String(t):t,Tn=(e,t="")=>{var s;return ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class Vc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Hc(){return nt}let Ie;const On=new WeakSet;class Eo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,On.has(this)&&(On.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ao(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,vo(this),yo(this);const t=Ie,s=dt;Ie=this,dt=!0;try{return this.fn()}finally{To(this),Ie=t,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Pn(t);this.deps=this.depsTail=void 0,vo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?On.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xn(this)&&this.run()}get dirty(){return xn(this)}}let bo=0,us,ps;function Ao(e,t=!1){if(e.flags|=8,t){e.next=ps,ps=e;return}e.next=us,us=e}function Rn(){bo++}function vn(){if(--bo>0)return;if(ps){let t=ps;for(ps=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;us;){let t=us;for(us=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function yo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function To(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),Pn(i),Bc(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function xn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Oo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Oo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===_s)||(e.globalVersion=_s,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!xn(e))))return;e.flags|=2;const t=e.dep,s=Ie,i=dt;Ie=e,dt=!0;try{yo(e);const n=e.fn(e._value);(t.version===0||Ut(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Ie=s,dt=i,To(e),e.flags&=-3}}function Pn(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)Pn(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Bc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let dt=!0;const Ro=[];function ft(){Ro.push(dt),dt=!1}function ht(){const e=Ro.pop();dt=e===void 0?!0:e}function vo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ie;Ie=void 0;try{t()}finally{Ie=s}}}let _s=0;class Kc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Nn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ie||!dt||Ie===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ie)s=this.activeLink=new Kc(Ie,this),Ie.deps?(s.prevDep=Ie.depsTail,Ie.depsTail.nextDep=s,Ie.depsTail=s):Ie.deps=Ie.depsTail=s,xo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=Ie.depsTail,s.nextDep=void 0,Ie.depsTail.nextDep=s,Ie.depsTail=s,Ie.deps===s&&(Ie.deps=i)}return s}trigger(t){this.version++,_s++,this.notify(t)}notify(t){Rn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{vn()}}}function xo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)xo(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Mn=new WeakMap,Vt=Symbol(""),In=Symbol(""),fs=Symbol("");function Je(e,t,s){if(dt&&Ie){let i=Mn.get(e);i||Mn.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new Nn),n.map=i,n.key=s),n.track()}}function Ot(e,t,s,i,n,a){const r=Mn.get(e);if(!r){_s++;return}const d=u=>{u&&u.trigger()};if(Rn(),t==="clear")r.forEach(d);else{const u=Ce(e),_=u&&bn(s);if(u&&s==="length"){const f=Number(i);r.forEach((c,C)=>{(C==="length"||C===fs||!ct(C)&&C>=f)&&d(c)})}else switch((s!==void 0||r.has(void 0))&&d(r.get(s)),_&&d(r.get(fs)),t){case"add":u?_&&d(r.get("length")):(d(r.get(Vt)),Wt(e)&&d(r.get(In)));break;case"delete":u||(d(r.get(Vt)),Wt(e)&&d(r.get(In)));break;case"set":Wt(e)&&d(r.get(Vt));break}}vn()}function Qt(e){const t=Oe(e);return t===e?t:(Je(t,"iterate",fs),rt(e)?t:t.map(Ke))}function Ys(e){return Je(e=Oe(e),"iterate",fs),e}const jc={__proto__:null,[Symbol.iterator](){return kn(this,Symbol.iterator,Ke)},concat(...e){return Qt(this).concat(...e.map(t=>Ce(t)?Qt(t):t))},entries(){return kn(this,"entries",e=>(e[1]=Ke(e[1]),e))},every(e,t){return Rt(this,"every",e,t,void 0,arguments)},filter(e,t){return Rt(this,"filter",e,t,s=>s.map(Ke),arguments)},find(e,t){return Rt(this,"find",e,t,Ke,arguments)},findIndex(e,t){return Rt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Rt(this,"findLast",e,t,Ke,arguments)},findLastIndex(e,t){return Rt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Rt(this,"forEach",e,t,void 0,arguments)},includes(...e){return $n(this,"includes",e)},indexOf(...e){return $n(this,"indexOf",e)},join(e){return Qt(this).join(e)},lastIndexOf(...e){return $n(this,"lastIndexOf",e)},map(e,t){return Rt(this,"map",e,t,void 0,arguments)},pop(){return hs(this,"pop")},push(...e){return hs(this,"push",e)},reduce(e,...t){return Po(this,"reduce",e,t)},reduceRight(e,...t){return Po(this,"reduceRight",e,t)},shift(){return hs(this,"shift")},some(e,t){return Rt(this,"some",e,t,void 0,arguments)},splice(...e){return hs(this,"splice",e)},toReversed(){return Qt(this).toReversed()},toSorted(e){return Qt(this).toSorted(e)},toSpliced(...e){return Qt(this).toSpliced(...e)},unshift(...e){return hs(this,"unshift",e)},values(){return kn(this,"values",Ke)}};function kn(e,t,s){const i=Ys(e),n=i[t]();return i!==e&&!rt(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const Jc=Array.prototype;function Rt(e,t,s,i,n,a){const r=Ys(e),d=r!==e&&!rt(e),u=r[t];if(u!==Jc[t]){const c=u.apply(e,a);return d?Ke(c):c}let _=s;r!==e&&(d?_=function(c,C){return s.call(this,Ke(c),C,e)}:s.length>2&&(_=function(c,C){return s.call(this,c,C,e)}));const f=u.call(r,_,i);return d&&n?n(f):f}function Po(e,t,s,i){const n=Ys(e);let a=s;return n!==e&&(rt(e)?s.length>3&&(a=function(r,d,u){return s.call(this,r,d,u,e)}):a=function(r,d,u){return s.call(this,r,Ke(d),u,e)}),n[t](a,...i)}function $n(e,t,s){const i=Oe(e);Je(i,"iterate",fs);const n=i[t](...s);return(n===-1||n===!1)&&Un(s[0])?(s[0]=Oe(s[0]),i[t](...s)):n}function hs(e,t,s=[]){ft(),Rn();const i=Oe(e)[t].apply(e,s);return vn(),ht(),i}const qc=Cn("__proto__,__v_isRef,__isVue"),No=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ct));function Wc(e){ct(e)||(e=String(e));const t=Oe(this);return Je(t,"has",e),t.hasOwnProperty(e)}class Mo{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return i===(n?a?Uo:Do:a?wo:$o).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=Ce(t);if(!n){let u;if(r&&(u=jc[s]))return u;if(s==="hasOwnProperty")return Wc}const d=Reflect.get(t,s,je(t)?t:i);if((ct(s)?No.has(s):qc(s))||(n||Je(t,"get",s),a))return d;if(je(d)){const u=r&&bn(s)?d:d.value;return n&&Me(u)?Dn(u):u}return Me(d)?n?Dn(d):ke(d):d}}class Io extends Mo{constructor(t=!1){super(!1,t)}set(t,s,i,n){let a=t[s];if(!this._isShallow){const u=Yt(a);if(!rt(i)&&!Yt(i)&&(a=Oe(a),i=Oe(i)),!Ce(t)&&je(a)&&!je(i))return u||(a.value=i),!0}const r=Ce(t)&&bn(s)?Number(s)<t.length:Re(t,s),d=Reflect.set(t,s,i,je(t)?t:n);return t===Oe(n)&&(r?Ut(i,a)&&Ot(t,"set",s,i):Ot(t,"add",s,i)),d}deleteProperty(t,s){const i=Re(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&Ot(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!ct(s)||!No.has(s))&&Je(t,"has",s),i}ownKeys(t){return Je(t,"iterate",Ce(t)?"length":Vt),Reflect.ownKeys(t)}}class ko extends Mo{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const zc=new Io,Qc=new ko,Zc=new Io(!0),ed=new ko(!0),wn=e=>e,Xs=e=>Reflect.getPrototypeOf(e);function td(e,t,s){return function(...i){const n=this.__v_raw,a=Oe(n),r=Wt(a),d=e==="entries"||e===Symbol.iterator&&r,u=e==="keys"&&r,_=n[e](...i),f=s?wn:t?Hs:Ke;return!t&&Je(a,"iterate",u?In:Vt),{next(){const{value:c,done:C}=_.next();return C?{value:c,done:C}:{value:d?[f(c[0]),f(c[1])]:f(c),done:C}},[Symbol.iterator](){return this}}}}function Fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sd(e,t){const s={get(n){const a=this.__v_raw,r=Oe(a),d=Oe(n);e||(Ut(n,d)&&Je(r,"get",n),Je(r,"get",d));const{has:u}=Xs(r),_=t?wn:e?Hs:Ke;if(u.call(r,n))return _(a.get(n));if(u.call(r,d))return _(a.get(d));a!==r&&a.get(n)},get size(){const n=this.__v_raw;return!e&&Je(Oe(n),"iterate",Vt),n.size},has(n){const a=this.__v_raw,r=Oe(a),d=Oe(n);return e||(Ut(n,d)&&Je(r,"has",n),Je(r,"has",d)),n===d?a.has(n):a.has(n)||a.has(d)},forEach(n,a){const r=this,d=r.__v_raw,u=Oe(d),_=t?wn:e?Hs:Ke;return!e&&Je(u,"iterate",Vt),d.forEach((f,c)=>n.call(a,_(f),_(c),r))}};return ze(s,e?{add:Fs("add"),set:Fs("set"),delete:Fs("delete"),clear:Fs("clear")}:{add(n){!t&&!rt(n)&&!Yt(n)&&(n=Oe(n));const a=Oe(this);return Xs(a).has.call(a,n)||(a.add(n),Ot(a,"add",n,n)),this},set(n,a){!t&&!rt(a)&&!Yt(a)&&(a=Oe(a));const r=Oe(this),{has:d,get:u}=Xs(r);let _=d.call(r,n);_||(n=Oe(n),_=d.call(r,n));const f=u.call(r,n);return r.set(n,a),_?Ut(a,f)&&Ot(r,"set",n,a):Ot(r,"add",n,a),this},delete(n){const a=Oe(this),{has:r,get:d}=Xs(a);let u=r.call(a,n);u||(n=Oe(n),u=r.call(a,n)),d&&d.call(a,n);const _=a.delete(n);return u&&Ot(a,"delete",n,void 0),_},clear(){const n=Oe(this),a=n.size!==0,r=n.clear();return a&&Ot(n,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=td(n,e,t)}),s}function Gs(e,t){const s=sd(e,t);return(i,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(Re(s,n)&&n in i?s:i,n,a)}const nd={get:Gs(!1,!1)},od={get:Gs(!1,!0)},id={get:Gs(!0,!1)},ad={get:Gs(!0,!0)},$o=new WeakMap,wo=new WeakMap,Do=new WeakMap,Uo=new WeakMap;function rd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ld(e){return e.__v_skip||!Object.isExtensible(e)?0:rd($c(e))}function ke(e){return Yt(e)?e:Vs(e,!1,zc,nd,$o)}function cd(e){return Vs(e,!1,Zc,od,wo)}function Dn(e){return Vs(e,!0,Qc,id,Do)}function JO(e){return Vs(e,!0,ed,ad,Uo)}function Vs(e,t,s,i,n){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=ld(e);if(a===0)return e;const r=n.get(e);if(r)return r;const d=new Proxy(e,a===2?i:s);return n.set(e,d),d}function Zt(e){return Yt(e)?Zt(e.__v_raw):!!(e&&e.__v_isReactive)}function Yt(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function Un(e){return e?!!e.__v_raw:!1}function Oe(e){const t=e&&e.__v_raw;return t?Oe(t):e}function dd(e){return!Re(e,"__v_skip")&&Object.isExtensible(e)&&ho(e,"__v_skip",!0),e}const Ke=e=>Me(e)?ke(e):e,Hs=e=>Me(e)?Dn(e):e;function je(e){return e?e.__v_isRef===!0:!1}function Fe(e){return ud(e,!1)}function ud(e,t){return je(e)?e:new pd(e,t)}class pd{constructor(t,s){this.dep=new Nn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Oe(t),this._value=s?t:Ke(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||rt(t)||Yt(t);t=i?t:Oe(t),Ut(t,s)&&(this._rawValue=t,this._value=i?t:Ke(t),this.dep.trigger())}}function l(e){return je(e)?e.value:e}const _d={get:(e,t,s)=>t==="__v_raw"?e:l(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return je(n)&&!je(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Lo(e){return Zt(e)?e:new Proxy(e,_d)}class fd{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Nn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_s-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ie!==this)return Ao(this,!0),!0}get value(){const t=this.dep.track();return Oo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function hd(e,t,s=!1){let i,n;return Ae(e)?i=e:(i=e.get,n=e.set),new fd(i,n,s)}const Bs={},Ks=new WeakMap;let Ht;function md(e,t=!1,s=Ht){if(s){let i=Ks.get(s);i||Ks.set(s,i=[]),i.push(e)}}function gd(e,t,s=Pe){const{immediate:i,deep:n,once:a,scheduler:r,augmentJob:d,call:u}=s,_=M=>n?M:rt(M)||n===!1||n===0?vt(M,1):vt(M);let f,c,C,A,v=!1,x=!1;if(je(e)?(c=()=>e.value,v=rt(e)):Zt(e)?(c=()=>_(e),v=!0):Ce(e)?(x=!0,v=e.some(M=>Zt(M)||rt(M)),c=()=>e.map(M=>{if(je(M))return M.value;if(Zt(M))return _(M);if(Ae(M))return u?u(M,2):M()})):Ae(e)?t?c=u?()=>u(e,2):e:c=()=>{if(C){ft();try{C()}finally{ht()}}const M=Ht;Ht=f;try{return u?u(e,3,[A]):e(A)}finally{Ht=M}}:c=_t,t&&n){const M=c,U=n===!0?1/0:n;c=()=>vt(M(),U)}const D=Hc(),T=()=>{f.stop(),D&&D.active&&En(D.effects,f)};if(a&&t){const M=t;t=(...U)=>{M(...U),T()}}let q=x?new Array(e.length).fill(Bs):Bs;const H=M=>{if(!(!(f.flags&1)||!f.dirty&&!M))if(t){const U=f.run();if(n||v||(x?U.some((ne,ie)=>Ut(ne,q[ie])):Ut(U,q))){C&&C();const ne=Ht;Ht=f;try{const ie=[U,q===Bs?void 0:x&&q[0]===Bs?[]:q,A];q=U,u?u(t,3,ie):t(...ie)}finally{Ht=ne}}}else f.run()};return d&&d(H),f=new Eo(c),f.scheduler=r?()=>r(H,!1):H,A=M=>md(M,!1,f),C=f.onStop=()=>{const M=Ks.get(f);if(M){if(u)u(M,4);else for(const U of M)U();Ks.delete(f)}},t?i?H(!0):q=f.run():r?r(H.bind(null,!0),!0):f.run(),T.pause=f.pause.bind(f),T.resume=f.resume.bind(f),T.stop=T,T}function vt(e,t=1/0,s){if(t<=0||!Me(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,je(e))vt(e.value,t,s);else if(Ce(e))for(let i=0;i<e.length;i++)vt(e[i],t,s);else if(zt(e)||Wt(e))e.forEach(i=>{vt(i,t,s)});else if(_o(e)){for(const i in e)vt(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&vt(e[i],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ms=[];let Ln=!1;function qO(e,...t){if(Ln)return;Ln=!0,ft();const s=ms.length?ms[ms.length-1].component:null,i=s&&s.appContext.config.warnHandler,n=Cd();if(i)es(i,s,11,[e+t.map(a=>{var r,d;return(d=(r=a.toString)==null?void 0:r.call(a))!=null?d:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${ki(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,...Sd(n)),console.warn(...a)}ht(),Ln=!1}function Cd(){let e=ms[ms.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function Sd(e){const t=[];return e.forEach((s,i)=>{t.push(...i===0?[]:[`
`],...Ed(s))}),t}function Ed({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,n=` at <${ki(e.component,e.type,i)}`,a=">"+s;return e.props?[n,...bd(e.props),a]:[n+a]}function bd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(i=>{t.push(...Yo(i,e[i]))}),s.length>3&&t.push(" ..."),t}function Yo(e,t,s){return Ye(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:je(t)?(t=Yo(e,Oe(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Ae(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Oe(t),s?t:[`${e}=`,t])}function es(e,t,s,i){try{return i?e(...i):e()}catch(n){js(n,t,s)}}function mt(e,t,s,i){if(Ae(e)){const n=es(e,t,s,i);return n&&uo(n)&&n.catch(a=>{js(a,t,s)}),n}if(Ce(e)){const n=[];for(let a=0;a<e.length;a++)n.push(mt(e[a],t,s,i));return n}}function js(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Pe;if(t){let d=t.parent;const u=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;d;){const f=d.ec;if(f){for(let c=0;c<f.length;c++)if(f[c](e,u,_)===!1)return}d=d.parent}if(a){ft(),es(a,null,10,[e,u,_]),ht();return}}Ad(e,s,n,i,r)}function Ad(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const Qe=[];let gt=-1;const ts=[];let Xt=null,ss=0;const Xo=Promise.resolve();let Js=null;function Fo(e){const t=Js||Xo;return e?t.then(this?e.bind(this):e):t}function yd(e){let t=gt+1,s=Qe.length;for(;t<s;){const i=t+s>>>1,n=Qe[i],a=gs(n);a<e||a===e&&n.flags&2?t=i+1:s=i}return t}function Yn(e){if(!(e.flags&1)){const t=gs(e),s=Qe[Qe.length-1];!s||!(e.flags&2)&&t>=gs(s)?Qe.push(e):Qe.splice(yd(t),0,e),e.flags|=1,Go()}}function Go(){Js||(Js=Xo.then(Bo))}function Td(e){Ce(e)?ts.push(...e):Xt&&e.id===-1?Xt.splice(ss+1,0,e):e.flags&1||(ts.push(e),e.flags|=1),Go()}function Vo(e,t,s=gt+1){for(;s<Qe.length;s++){const i=Qe[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;Qe.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Ho(e){if(ts.length){const t=[...new Set(ts)].sort((s,i)=>gs(s)-gs(i));if(ts.length=0,Xt){Xt.push(...t);return}for(Xt=t,ss=0;ss<Xt.length;ss++){const s=Xt[ss];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Xt=null,ss=0}}const gs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Bo(e){try{for(gt=0;gt<Qe.length;gt++){const t=Qe[gt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),es(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;gt<Qe.length;gt++){const t=Qe[gt];t&&(t.flags&=-2)}gt=-1,Qe.length=0,Ho(),Js=null,(Qe.length||ts.length)&&Bo()}}let qe=null,Ko=null;function qs(e){const t=qe;return qe=e,Ko=e&&e.type.__scopeId||null,t}function jo(e,t=qe,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&Ri(-1);const a=qs(t);let r;try{r=e(...n)}finally{qs(a),i._d&&Ri(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function oe(e,t){if(qe===null)return e;const s=an(qe),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,r,d,u=Pe]=t[n];a&&(Ae(a)&&(a={mounted:a,updated:a}),a.deep&&vt(r),i.push({dir:a,instance:s,value:r,oldValue:void 0,arg:d,modifiers:u}))}return e}function Bt(e,t,s,i){const n=e.dirs,a=t&&t.dirs;for(let r=0;r<n.length;r++){const d=n[r];a&&(d.oldValue=a[r].value);let u=d.dir[i];u&&(ft(),mt(u,s,8,[e.el,d,e,t]),ht())}}const Od=Symbol("_vte"),Rd=e=>e.__isTeleport,vd=Symbol("_leaveCb");function Xn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Xn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Jo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ws=new WeakMap;function Cs(e,t,s,i,n=!1){if(Ce(e)){e.forEach((v,x)=>Cs(v,t&&(Ce(t)?t[x]:t),s,i,n));return}if(ns(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Cs(e,t,s,i.component.subTree);return}const a=i.shapeFlag&4?an(i.component):i.el,r=n?null:a,{i:d,r:u}=e,_=t&&t.r,f=d.refs===Pe?d.refs={}:d.refs,c=d.setupState,C=Oe(c),A=c===Pe?lo:v=>Re(C,v);if(_!=null&&_!==u){if(qo(t),Ye(_))f[_]=null,A(_)&&(c[_]=null);else if(je(_)){_.value=null;const v=t;v.k&&(f[v.k]=null)}}if(Ae(u))es(u,d,12,[r,f]);else{const v=Ye(u),x=je(u);if(v||x){const D=()=>{if(e.f){const T=v?A(u)?c[u]:f[u]:u.value;if(n)Ce(T)&&En(T,a);else if(Ce(T))T.includes(a)||T.push(a);else if(v)f[u]=[a],A(u)&&(c[u]=f[u]);else{const q=[a];u.value=q,e.k&&(f[e.k]=q)}}else v?(f[u]=r,A(u)&&(c[u]=r)):x&&(u.value=r,e.k&&(f[e.k]=r))};if(r){const T=()=>{D(),Ws.delete(e)};T.id=-1,Ws.set(e,T),it(T,s)}else qo(e),D()}}}function qo(e){const t=Ws.get(e);t&&(t.flags|=8,Ws.delete(e))}Ls().requestIdleCallback,Ls().cancelIdleCallback;const ns=e=>!!e.type.__asyncLoader,Wo=e=>e.type.__isKeepAlive;function xd(e,t){zo(e,"a",t)}function Pd(e,t){zo(e,"da",t)}function zo(e,t,s=et){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(zs(t,i,s),s){let n=s.parent;for(;n&&n.parent;)Wo(n.parent.vnode)&&Nd(i,t,s,n),n=n.parent}}function Nd(e,t,s,i){const n=zs(t,e,i,!0);Zo(()=>{En(i[t],n)},s)}function zs(e,t,s=et,i=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...r)=>{ft();const d=Ts(s),u=mt(t,s,e,r);return d(),ht(),u});return i?n.unshift(a):n.push(a),a}}const xt=e=>(t,s=et)=>{(!Os||e==="sp")&&zs(e,(...i)=>t(...i),s)},Md=xt("bm"),ot=xt("m"),Id=xt("bu"),kd=xt("u"),Qo=xt("bum"),Zo=xt("um"),$d=xt("sp"),wd=xt("rtg"),Dd=xt("rtc");function Ud(e,t=et){zs("ec",e,t)}const Ld=Symbol.for("v-ndc");function Te(e,t,s,i){let n;const a=s,r=Ce(e);if(r||Ye(e)){const d=r&&Zt(e);let u=!1,_=!1;d&&(u=!rt(e),_=Yt(e),e=Ys(e)),n=new Array(e.length);for(let f=0,c=e.length;f<c;f++)n[f]=t(u?_?Hs(Ke(e[f])):Ke(e[f]):e[f],f,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let d=0;d<e;d++)n[d]=t(d+1,d,void 0,a)}else if(Me(e))if(e[Symbol.iterator])n=Array.from(e,(d,u)=>t(d,u,void 0,a));else{const d=Object.keys(e);n=new Array(d.length);for(let u=0,_=d.length;u<_;u++){const f=d[u];n[u]=t(e[f],f,u,a)}}else n=[];return n}function Yd(e,t,s={},i,n){if(qe.ce||qe.parent&&ns(qe.parent)&&qe.parent.ce){const _=Object.keys(s).length>0;return O(),lt(Ee,null,[Ge("slot",s,i)],_?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),O();const r=a&&ei(a(s)),d=s.key||r&&r.key,u=lt(Ee,{key:(d&&!ct(d)?d:`_${t}`)+(!r&&i?"_fb":"")},r||[],r&&e._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),a&&a._c&&(a._d=!0),u}function ei(e){return e.some(t=>qn(t)?!(t.type===Pt||t.type===Ee&&!ei(t.children)):!0)?e:null}const Fn=e=>e?Ni(e)?an(e):Fn(e.parent):null,Ss=ze(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fn(e.parent),$root:e=>Fn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>oi(e),$forceUpdate:e=>e.f||(e.f=()=>{Yn(e.update)}),$nextTick:e=>e.n||(e.n=Fo.bind(e.proxy)),$watch:e=>ru.bind(e)}),Gn=(e,t)=>e!==Pe&&!e.__isScriptSetup&&Re(e,t),Xd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:a,accessCache:r,type:d,appContext:u}=e;let _;if(t[0]!=="$"){const A=r[t];if(A!==void 0)switch(A){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(Gn(i,t))return r[t]=1,i[t];if(n!==Pe&&Re(n,t))return r[t]=2,n[t];if((_=e.propsOptions[0])&&Re(_,t))return r[t]=3,a[t];if(s!==Pe&&Re(s,t))return r[t]=4,s[t];Vn&&(r[t]=0)}}const f=Ss[t];let c,C;if(f)return t==="$attrs"&&Je(e.attrs,"get",""),f(e);if((c=d.__cssModules)&&(c=c[t]))return c;if(s!==Pe&&Re(s,t))return r[t]=4,s[t];if(C=u.config.globalProperties,Re(C,t))return C[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:a}=e;return Gn(n,t)?(n[t]=s,!0):i!==Pe&&Re(i,t)?(i[t]=s,!0):Re(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:a,type:r}},d){let u,_;return!!(s[d]||e!==Pe&&d[0]!=="$"&&Re(e,d)||Gn(t,d)||(u=a[0])&&Re(u,d)||Re(i,d)||Re(Ss,d)||Re(n.config.globalProperties,d)||(_=r.__cssModules)&&_[d])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Re(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ti(e){return Ce(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Vn=!0;function Fd(e){const t=oi(e),s=e.proxy,i=e.ctx;Vn=!1,t.beforeCreate&&si(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:r,watch:d,provide:u,inject:_,created:f,beforeMount:c,mounted:C,beforeUpdate:A,updated:v,activated:x,deactivated:D,beforeDestroy:T,beforeUnmount:q,destroyed:H,unmounted:M,render:U,renderTracked:ne,renderTriggered:ie,errorCaptured:ce,serverPrefetch:ge,expose:j,inheritAttrs:B,components:W,directives:G,filters:ee}=t;if(_&&Gd(_,i,null),r)for(const z in r){const N=r[z];Ae(N)&&(i[z]=N.bind(s))}if(n){const z=n.call(s,s);Me(z)&&(e.data=ke(z))}if(Vn=!0,a)for(const z in a){const N=a[z],I=Ae(N)?N.bind(s,s):Ae(N.get)?N.get.bind(s,s):_t,L=!Ae(N)&&Ae(N.set)?N.set.bind(s):_t,$=Se({get:I,set:L});Object.defineProperty(i,z,{enumerable:!0,configurable:!0,get:()=>$.value,set:V=>$.value=V})}if(d)for(const z in d)ni(d[z],i,s,z);if(u){const z=Ae(u)?u.call(s):u;Reflect.ownKeys(z).forEach(N=>{Jd(N,z[N])})}f&&si(f,e,"c");function te(z,N){Ce(N)?N.forEach(I=>z(I.bind(s))):N&&z(N.bind(s))}if(te(Md,c),te(ot,C),te(Id,A),te(kd,v),te(xd,x),te(Pd,D),te(Ud,ce),te(Dd,ne),te(wd,ie),te(Qo,q),te(Zo,M),te($d,ge),Ce(j))if(j.length){const z=e.exposed||(e.exposed={});j.forEach(N=>{Object.defineProperty(z,N,{get:()=>s[N],set:I=>s[N]=I,enumerable:!0})})}else e.exposed||(e.exposed={});U&&e.render===_t&&(e.render=U),B!=null&&(e.inheritAttrs=B),W&&(e.components=W),G&&(e.directives=G),ge&&Jo(e)}function Gd(e,t,s=_t){Ce(e)&&(e=Hn(e));for(const i in e){const n=e[i];let a;Me(n)?"default"in n?a=Zs(n.from||i,n.default,!0):a=Zs(n.from||i):a=Zs(n),je(a)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:r=>a.value=r}):t[i]=a}}function si(e,t,s){mt(Ce(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function ni(e,t,s,i){let n=i.includes(".")?bi(s,i):()=>s[i];if(Ye(e)){const a=t[e];Ae(a)&&De(n,a)}else if(Ae(e))De(n,e.bind(s));else if(Me(e))if(Ce(e))e.forEach(a=>ni(a,t,s,i));else{const a=Ae(e.handler)?e.handler.bind(s):t[e.handler];Ae(a)&&De(n,a,e)}}function oi(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:r}}=e.appContext,d=a.get(t);let u;return d?u=d:!n.length&&!s&&!i?u=t:(u={},n.length&&n.forEach(_=>Qs(u,_,r,!0)),Qs(u,t,r)),Me(t)&&a.set(t,u),u}function Qs(e,t,s,i=!1){const{mixins:n,extends:a}=t;a&&Qs(e,a,s,!0),n&&n.forEach(r=>Qs(e,r,s,!0));for(const r in t)if(!(i&&r==="expose")){const d=Vd[r]||s&&s[r];e[r]=d?d(e[r],t[r]):t[r]}return e}const Vd={data:ii,props:ai,emits:ai,methods:Es,computed:Es,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:Es,directives:Es,watch:Bd,provide:ii,inject:Hd};function ii(e,t){return t?e?function(){return ze(Ae(e)?e.call(this,this):e,Ae(t)?t.call(this,this):t)}:t:e}function Hd(e,t){return Es(Hn(e),Hn(t))}function Hn(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Ze(e,t){return e?[...new Set([].concat(e,t))]:t}function Es(e,t){return e?ze(Object.create(null),e,t):t}function ai(e,t){return e?Ce(e)&&Ce(t)?[...new Set([...e,...t])]:ze(Object.create(null),ti(e),ti(t!=null?t:{})):t}function Bd(e,t){if(!e)return t;if(!t)return e;const s=ze(Object.create(null),e);for(const i in t)s[i]=Ze(e[i],t[i]);return s}function ri(){return{app:null,config:{isNativeTag:lo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kd=0;function jd(e,t){return function(i,n=null){Ae(i)||(i=ze({},i)),n!=null&&!Me(n)&&(n=null);const a=ri(),r=new WeakSet,d=[];let u=!1;const _=a.app={_uid:Kd++,_component:i,_props:n,_container:null,_context:a,_instance:null,version:ku,get config(){return a.config},set config(f){},use(f,...c){return r.has(f)||(f&&Ae(f.install)?(r.add(f),f.install(_,...c)):Ae(f)&&(r.add(f),f(_,...c))),_},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),_},component(f,c){return c?(a.components[f]=c,_):a.components[f]},directive(f,c){return c?(a.directives[f]=c,_):a.directives[f]},mount(f,c,C){if(!u){const A=_._ceVNode||Ge(i,n);return A.appContext=a,C===!0?C="svg":C===!1&&(C=void 0),e(A,f,C),u=!0,_._container=f,f.__vue_app__=_,an(A.component)}},onUnmount(f){d.push(f)},unmount(){u&&(mt(d,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(f,c){return a.provides[f]=c,_},runWithContext(f){const c=os;os=_;try{return f()}finally{os=c}}};return _}}let os=null;function Jd(e,t){if(et){let s=et.provides;const i=et.parent&&et.parent.provides;i===s&&(s=et.provides=Object.create(i)),s[e]=t}}function Zs(e,t,s=!1){const i=Tu();if(i||os){let n=os?os._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ae(t)?t.call(i&&i.proxy):t}}const li={},ci=()=>Object.create(li),di=e=>Object.getPrototypeOf(e)===li;function qd(e,t,s,i=!1){const n={},a=ci();e.propsDefaults=Object.create(null),ui(e,t,n,a);for(const r in e.propsOptions[0])r in n||(n[r]=void 0);s?e.props=i?n:cd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function Wd(e,t,s,i){const{props:n,attrs:a,vnode:{patchFlag:r}}=e,d=Oe(n),[u]=e.propsOptions;let _=!1;if((i||r>0)&&!(r&16)){if(r&8){const f=e.vnode.dynamicProps;for(let c=0;c<f.length;c++){let C=f[c];if(en(e.emitsOptions,C))continue;const A=t[C];if(u)if(Re(a,C))A!==a[C]&&(a[C]=A,_=!0);else{const v=wt(C);n[v]=Bn(u,d,v,A,e,!1)}else A!==a[C]&&(a[C]=A,_=!0)}}}else{ui(e,t,n,a)&&(_=!0);let f;for(const c in d)(!t||!Re(t,c)&&((f=Dt(c))===c||!Re(t,f)))&&(u?s&&(s[c]!==void 0||s[f]!==void 0)&&(n[c]=Bn(u,d,c,void 0,e,!0)):delete n[c]);if(a!==d)for(const c in a)(!t||!Re(t,c))&&(delete a[c],_=!0)}_&&Ot(e.attrs,"set","")}function ui(e,t,s,i){const[n,a]=e.propsOptions;let r=!1,d;if(t)for(let u in t){if(cs(u))continue;const _=t[u];let f;n&&Re(n,f=wt(u))?!a||!a.includes(f)?s[f]=_:(d||(d={}))[f]=_:en(e.emitsOptions,u)||(!(u in i)||_!==i[u])&&(i[u]=_,r=!0)}if(a){const u=Oe(s),_=d||Pe;for(let f=0;f<a.length;f++){const c=a[f];s[c]=Bn(n,u,c,_[c],e,!Re(_,c))}}return r}function Bn(e,t,s,i,n,a){const r=e[s];if(r!=null){const d=Re(r,"default");if(d&&i===void 0){const u=r.default;if(r.type!==Function&&!r.skipFactory&&Ae(u)){const{propsDefaults:_}=n;if(s in _)i=_[s];else{const f=Ts(n);i=_[s]=u.call(null,t),f()}}else i=u;n.ce&&n.ce._setProp(s,i)}r[0]&&(a&&!d?i=!1:r[1]&&(i===""||i===Dt(s))&&(i=!0))}return i}const zd=new WeakMap;function pi(e,t,s=!1){const i=s?zd:t.propsCache,n=i.get(e);if(n)return n;const a=e.props,r={},d=[];let u=!1;if(!Ae(e)){const f=c=>{u=!0;const[C,A]=pi(c,t,!0);ze(r,C),A&&d.push(...A)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!u)return Me(e)&&i.set(e,qt),qt;if(Ce(a))for(let f=0;f<a.length;f++){const c=wt(a[f]);_i(c)&&(r[c]=Pe)}else if(a)for(const f in a){const c=wt(f);if(_i(c)){const C=a[f],A=r[c]=Ce(C)||Ae(C)?{type:C}:ze({},C),v=A.type;let x=!1,D=!0;if(Ce(v))for(let T=0;T<v.length;++T){const q=v[T],H=Ae(q)&&q.name;if(H==="Boolean"){x=!0;break}else H==="String"&&(D=!1)}else x=Ae(v)&&v.name==="Boolean";A[0]=x,A[1]=D,(x||Re(A,"default"))&&d.push(c)}}const _=[r,d];return Me(e)&&i.set(e,_),_}function _i(e){return e[0]!=="$"&&!cs(e)}const Kn=e=>e==="_"||e==="_ctx"||e==="$stable",jn=e=>Ce(e)?e.map(Ct):[Ct(e)],Qd=(e,t,s)=>{if(t._n)return t;const i=jo((...n)=>jn(t(...n)),s);return i._c=!1,i},fi=(e,t,s)=>{const i=e._ctx;for(const n in e){if(Kn(n))continue;const a=e[n];if(Ae(a))t[n]=Qd(n,a,i);else if(a!=null){const r=jn(a);t[n]=()=>r}}},hi=(e,t)=>{const s=jn(t);e.slots.default=()=>s},mi=(e,t,s)=>{for(const i in t)(s||!Kn(i))&&(e[i]=t[i])},Zd=(e,t,s)=>{const i=e.slots=ci();if(e.vnode.shapeFlag&32){const n=t._;n?(mi(i,t,s),s&&ho(i,"_",n,!0)):fi(t,i)}else t&&hi(e,t)},eu=(e,t,s)=>{const{vnode:i,slots:n}=e;let a=!0,r=Pe;if(i.shapeFlag&32){const d=t._;d?s&&d===1?a=!1:mi(n,t,s):(a=!t.$stable,fi(t,n)),r=t}else t&&(hi(e,t),r={default:1});if(a)for(const d in n)!Kn(d)&&r[d]==null&&delete n[d]},it=hu;function tu(e){return su(e)}function su(e,t){const s=Ls();s.__VUE__=!0;const{insert:i,remove:n,patchProp:a,createElement:r,createText:d,createComment:u,setText:_,setElementText:f,parentNode:c,nextSibling:C,setScopeId:A=_t,insertStaticContent:v}=e,x=(m,E,Y,K=null,S=null,h=null,b=void 0,R=null,k=!!E.dynamicChildren)=>{if(m===E)return;m&&!ys(m,E)&&(K=g(m),V(m,S,h,!0),m=null),E.patchFlag===-2&&(k=!1,E.dynamicChildren=null);const{type:w,ref:Z,shapeFlag:F}=E;switch(w){case tn:D(m,E,Y,K);break;case Pt:T(m,E,Y,K);break;case sn:m==null&&q(E,Y,K,b);break;case Ee:W(m,E,Y,K,S,h,b,R,k);break;default:F&1?U(m,E,Y,K,S,h,b,R,k):F&6?G(m,E,Y,K,S,h,b,R,k):(F&64||F&128)&&w.process(m,E,Y,K,S,h,b,R,k,ue)}Z!=null&&S?Cs(Z,m&&m.ref,h,E||m,!E):Z==null&&m&&m.ref!=null&&Cs(m.ref,null,h,m,!0)},D=(m,E,Y,K)=>{if(m==null)i(E.el=d(E.children),Y,K);else{const S=E.el=m.el;E.children!==m.children&&_(S,E.children)}},T=(m,E,Y,K)=>{m==null?i(E.el=u(E.children||""),Y,K):E.el=m.el},q=(m,E,Y,K)=>{[m.el,m.anchor]=v(m.children,E,Y,K,m.el,m.anchor)},H=({el:m,anchor:E},Y,K)=>{let S;for(;m&&m!==E;)S=C(m),i(m,Y,K),m=S;i(E,Y,K)},M=({el:m,anchor:E})=>{let Y;for(;m&&m!==E;)Y=C(m),n(m),m=Y;n(E)},U=(m,E,Y,K,S,h,b,R,k)=>{E.type==="svg"?b="svg":E.type==="math"&&(b="mathml"),m==null?ne(E,Y,K,S,h,b,R,k):ge(m,E,S,h,b,R,k)},ne=(m,E,Y,K,S,h,b,R)=>{let k,w;const{props:Z,shapeFlag:F,transition:se,dirs:ae}=m;if(k=m.el=r(m.type,h,Z&&Z.is,Z),F&8?f(k,m.children):F&16&&ce(m.children,k,null,K,S,Jn(m,h),b,R),ae&&Bt(m,null,K,"created"),ie(k,m,m.scopeId,b,K),Z){for(const me in Z)me!=="value"&&!cs(me)&&a(k,me,null,Z[me],h,K);"value"in Z&&a(k,"value",null,Z.value,h),(w=Z.onVnodeBeforeMount)&&St(w,K,m)}ae&&Bt(m,null,K,"beforeMount");const he=nu(S,se);he&&se.beforeEnter(k),i(k,E,Y),((w=Z&&Z.onVnodeMounted)||he||ae)&&it(()=>{w&&St(w,K,m),he&&se.enter(k),ae&&Bt(m,null,K,"mounted")},S)},ie=(m,E,Y,K,S)=>{if(Y&&A(m,Y),K)for(let h=0;h<K.length;h++)A(m,K[h]);if(S){let h=S.subTree;if(E===h||Oi(h.type)&&(h.ssContent===E||h.ssFallback===E)){const b=S.vnode;ie(m,b,b.scopeId,b.slotScopeIds,S.parent)}}},ce=(m,E,Y,K,S,h,b,R,k=0)=>{for(let w=k;w<m.length;w++){const Z=m[w]=R?Ft(m[w]):Ct(m[w]);x(null,Z,E,Y,K,S,h,b,R)}},ge=(m,E,Y,K,S,h,b)=>{const R=E.el=m.el;let{patchFlag:k,dynamicChildren:w,dirs:Z}=E;k|=m.patchFlag&16;const F=m.props||Pe,se=E.props||Pe;let ae;if(Y&&Kt(Y,!1),(ae=se.onVnodeBeforeUpdate)&&St(ae,Y,E,m),Z&&Bt(E,m,Y,"beforeUpdate"),Y&&Kt(Y,!0),(F.innerHTML&&se.innerHTML==null||F.textContent&&se.textContent==null)&&f(R,""),w?j(m.dynamicChildren,w,R,Y,K,Jn(E,S),h):b||N(m,E,R,null,Y,K,Jn(E,S),h,!1),k>0){if(k&16)B(R,F,se,Y,S);else if(k&2&&F.class!==se.class&&a(R,"class",null,se.class,S),k&4&&a(R,"style",F.style,se.style,S),k&8){const he=E.dynamicProps;for(let me=0;me<he.length;me++){const be=he[me],ve=F[be],Ue=se[be];(Ue!==ve||be==="value")&&a(R,be,ve,Ue,S,Y)}}k&1&&m.children!==E.children&&f(R,E.children)}else!b&&w==null&&B(R,F,se,Y,S);((ae=se.onVnodeUpdated)||Z)&&it(()=>{ae&&St(ae,Y,E,m),Z&&Bt(E,m,Y,"updated")},K)},j=(m,E,Y,K,S,h,b)=>{for(let R=0;R<E.length;R++){const k=m[R],w=E[R],Z=k.el&&(k.type===Ee||!ys(k,w)||k.shapeFlag&198)?c(k.el):Y;x(k,w,Z,null,K,S,h,b,!0)}},B=(m,E,Y,K,S)=>{if(E!==Y){if(E!==Pe)for(const h in E)!cs(h)&&!(h in Y)&&a(m,h,E[h],null,S,K);for(const h in Y){if(cs(h))continue;const b=Y[h],R=E[h];b!==R&&h!=="value"&&a(m,h,R,b,S,K)}"value"in Y&&a(m,"value",E.value,Y.value,S)}},W=(m,E,Y,K,S,h,b,R,k)=>{const w=E.el=m?m.el:d(""),Z=E.anchor=m?m.anchor:d("");let{patchFlag:F,dynamicChildren:se,slotScopeIds:ae}=E;ae&&(R=R?R.concat(ae):ae),m==null?(i(w,Y,K),i(Z,Y,K),ce(E.children||[],Y,Z,S,h,b,R,k)):F>0&&F&64&&se&&m.dynamicChildren?(j(m.dynamicChildren,se,Y,S,h,b,R),(E.key!=null||S&&E===S.subTree)&&gi(m,E,!0)):N(m,E,Y,Z,S,h,b,R,k)},G=(m,E,Y,K,S,h,b,R,k)=>{E.slotScopeIds=R,m==null?E.shapeFlag&512?S.ctx.activate(E,Y,K,b,k):ee(E,Y,K,S,h,b,k):pe(m,E,k)},ee=(m,E,Y,K,S,h,b)=>{const R=m.component=yu(m,K,S);if(Wo(m)&&(R.ctx.renderer=ue),Ou(R,!1,b),R.asyncDep){if(S&&S.registerDep(R,te,b),!m.el){const k=R.subTree=Ge(Pt);T(null,k,E,Y),m.placeholder=k.el}}else te(R,m,E,Y,S,h,b)},pe=(m,E,Y)=>{const K=E.component=m.component;if(_u(m,E,Y))if(K.asyncDep&&!K.asyncResolved){z(K,E,Y);return}else K.next=E,K.update();else E.el=m.el,K.vnode=E},te=(m,E,Y,K,S,h,b)=>{const R=()=>{if(m.isMounted){let{next:F,bu:se,u:ae,parent:he,vnode:me}=m;{const we=Ci(m);if(we){F&&(F.el=me.el,z(m,F,b)),we.asyncDep.then(()=>{m.isUnmounted||R()});return}}let be=F,ve;Kt(m,!1),F?(F.el=me.el,z(m,F,b)):F=me,se&&Ds(se),(ve=F.props&&F.props.onVnodeBeforeUpdate)&&St(ve,he,F,me),Kt(m,!0);const Ue=yi(m),He=m.subTree;m.subTree=Ue,x(He,Ue,c(He.el),g(He),m,S,h),F.el=Ue.el,be===null&&fu(m,Ue.el),ae&&it(ae,S),(ve=F.props&&F.props.onVnodeUpdated)&&it(()=>St(ve,he,F,me),S)}else{let F;const{el:se,props:ae}=E,{bm:he,m:me,parent:be,root:ve,type:Ue}=m,He=ns(E);Kt(m,!1),he&&Ds(he),!He&&(F=ae&&ae.onVnodeBeforeMount)&&St(F,be,E),Kt(m,!0);{ve.ce&&ve.ce._def.shadowRoot!==!1&&ve.ce._injectChildStyle(Ue);const we=m.subTree=yi(m);x(null,we,Y,K,m,S,h),E.el=we.el}if(me&&it(me,S),!He&&(F=ae&&ae.onVnodeMounted)){const we=E;it(()=>St(F,be,we),S)}(E.shapeFlag&256||be&&ns(be.vnode)&&be.vnode.shapeFlag&256)&&m.a&&it(m.a,S),m.isMounted=!0,E=Y=K=null}};m.scope.on();const k=m.effect=new Eo(R);m.scope.off();const w=m.update=k.run.bind(k),Z=m.job=k.runIfDirty.bind(k);Z.i=m,Z.id=m.uid,k.scheduler=()=>Yn(Z),Kt(m,!0),w()},z=(m,E,Y)=>{E.component=m;const K=m.vnode.props;m.vnode=E,m.next=null,Wd(m,E.props,K,Y),eu(m,E.children,Y),ft(),Vo(m),ht()},N=(m,E,Y,K,S,h,b,R,k=!1)=>{const w=m&&m.children,Z=m?m.shapeFlag:0,F=E.children,{patchFlag:se,shapeFlag:ae}=E;if(se>0){if(se&128){L(w,F,Y,K,S,h,b,R,k);return}else if(se&256){I(w,F,Y,K,S,h,b,R,k);return}}ae&8?(Z&16&&y(w,S,h),F!==w&&f(Y,F)):Z&16?ae&16?L(w,F,Y,K,S,h,b,R,k):y(w,S,h,!0):(Z&8&&f(Y,""),ae&16&&ce(F,Y,K,S,h,b,R,k))},I=(m,E,Y,K,S,h,b,R,k)=>{m=m||qt,E=E||qt;const w=m.length,Z=E.length,F=Math.min(w,Z);let se;for(se=0;se<F;se++){const ae=E[se]=k?Ft(E[se]):Ct(E[se]);x(m[se],ae,Y,null,S,h,b,R,k)}w>Z?y(m,S,h,!0,!1,F):ce(E,Y,K,S,h,b,R,k,F)},L=(m,E,Y,K,S,h,b,R,k)=>{let w=0;const Z=E.length;let F=m.length-1,se=Z-1;for(;w<=F&&w<=se;){const ae=m[w],he=E[w]=k?Ft(E[w]):Ct(E[w]);if(ys(ae,he))x(ae,he,Y,null,S,h,b,R,k);else break;w++}for(;w<=F&&w<=se;){const ae=m[F],he=E[se]=k?Ft(E[se]):Ct(E[se]);if(ys(ae,he))x(ae,he,Y,null,S,h,b,R,k);else break;F--,se--}if(w>F){if(w<=se){const ae=se+1,he=ae<Z?E[ae].el:K;for(;w<=se;)x(null,E[w]=k?Ft(E[w]):Ct(E[w]),Y,he,S,h,b,R,k),w++}}else if(w>se)for(;w<=F;)V(m[w],S,h,!0),w++;else{const ae=w,he=w,me=new Map;for(w=he;w<=se;w++){const Le=E[w]=k?Ft(E[w]):Ct(E[w]);Le.key!=null&&me.set(Le.key,w)}let be,ve=0;const Ue=se-he+1;let He=!1,we=0;const tt=new Array(Ue);for(w=0;w<Ue;w++)tt[w]=0;for(w=ae;w<=F;w++){const Le=m[w];if(ve>=Ue){V(Le,S,h,!0);continue}let Be;if(Le.key!=null)Be=me.get(Le.key);else for(be=he;be<=se;be++)if(tt[be-he]===0&&ys(Le,E[be])){Be=be;break}Be===void 0?V(Le,S,h,!0):(tt[Be-he]=w+1,Be>=we?we=Be:He=!0,x(Le,E[Be],Y,null,S,h,b,R,k),ve++)}const We=He?ou(tt):qt;for(be=We.length-1,w=Ue-1;w>=0;w--){const Le=he+w,Be=E[Le],kt=E[Le+1],$t=Le+1<Z?kt.el||kt.placeholder:K;tt[w]===0?x(null,Be,Y,$t,S,h,b,R,k):He&&(be<0||w!==We[be]?$(Be,Y,$t,2):be--)}}},$=(m,E,Y,K,S=null)=>{const{el:h,type:b,transition:R,children:k,shapeFlag:w}=m;if(w&6){$(m.component.subTree,E,Y,K);return}if(w&128){m.suspense.move(E,Y,K);return}if(w&64){b.move(m,E,Y,ue);return}if(b===Ee){i(h,E,Y);for(let F=0;F<k.length;F++)$(k[F],E,Y,K);i(m.anchor,E,Y);return}if(b===sn){H(m,E,Y);return}if(K!==2&&w&1&&R)if(K===0)R.beforeEnter(h),i(h,E,Y),it(()=>R.enter(h),S);else{const{leave:F,delayLeave:se,afterLeave:ae}=R,he=()=>{m.ctx.isUnmounted?n(h):i(h,E,Y)},me=()=>{h._isLeaving&&h[vd](!0),F(h,()=>{he(),ae&&ae()})};se?se(h,he,me):me()}else i(h,E,Y)},V=(m,E,Y,K=!1,S=!1)=>{const{type:h,props:b,ref:R,children:k,dynamicChildren:w,shapeFlag:Z,patchFlag:F,dirs:se,cacheIndex:ae}=m;if(F===-2&&(S=!1),R!=null&&(ft(),Cs(R,null,Y,m,!0),ht()),ae!=null&&(E.renderCache[ae]=void 0),Z&256){E.ctx.deactivate(m);return}const he=Z&1&&se,me=!ns(m);let be;if(me&&(be=b&&b.onVnodeBeforeUnmount)&&St(be,E,m),Z&6)X(m.component,Y,K);else{if(Z&128){m.suspense.unmount(Y,K);return}he&&Bt(m,null,E,"beforeUnmount"),Z&64?m.type.remove(m,E,Y,ue,K):w&&!w.hasOnce&&(h!==Ee||F>0&&F&64)?y(w,E,Y,!1,!0):(h===Ee&&F&384||!S&&Z&16)&&y(k,E,Y),K&&Q(m)}(me&&(be=b&&b.onVnodeUnmounted)||he)&&it(()=>{be&&St(be,E,m),he&&Bt(m,null,E,"unmounted")},Y)},Q=m=>{const{type:E,el:Y,anchor:K,transition:S}=m;if(E===Ee){le(Y,K);return}if(E===sn){M(m);return}const h=()=>{n(Y),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(m.shapeFlag&1&&S&&!S.persisted){const{leave:b,delayLeave:R}=S,k=()=>b(Y,h);R?R(m.el,h,k):k()}else h()},le=(m,E)=>{let Y;for(;m!==E;)Y=C(m),n(m),m=Y;n(E)},X=(m,E,Y)=>{const{bum:K,scope:S,job:h,subTree:b,um:R,m:k,a:w}=m;Si(k),Si(w),K&&Ds(K),S.stop(),h&&(h.flags|=8,V(b,m,E,Y)),R&&it(R,E),it(()=>{m.isUnmounted=!0},E)},y=(m,E,Y,K=!1,S=!1,h=0)=>{for(let b=h;b<m.length;b++)V(m[b],E,Y,K,S)},g=m=>{if(m.shapeFlag&6)return g(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const E=C(m.anchor||m.el),Y=E&&E[Od];return Y?C(Y):E};let re=!1;const de=(m,E,Y)=>{m==null?E._vnode&&V(E._vnode,null,null,!0):x(E._vnode||null,m,E,null,null,null,Y),E._vnode=m,re||(re=!0,Vo(),Ho(),re=!1)},ue={p:x,um:V,m:$,r:Q,mt:ee,mc:ce,pc:N,pbc:j,n:g,o:e};return{render:de,hydrate:void 0,createApp:jd(de)}}function Jn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Kt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function gi(e,t,s=!1){const i=e.children,n=t.children;if(Ce(i)&&Ce(n))for(let a=0;a<i.length;a++){const r=i[a];let d=n[a];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=n[a]=Ft(n[a]),d.el=r.el),!s&&d.patchFlag!==-2&&gi(r,d)),d.type===tn&&d.patchFlag!==-1&&(d.el=r.el),d.type===Pt&&!d.el&&(d.el=r.el)}}function ou(e){const t=e.slice(),s=[0];let i,n,a,r,d;const u=e.length;for(i=0;i<u;i++){const _=e[i];if(_!==0){if(n=s[s.length-1],e[n]<_){t[i]=n,s.push(i);continue}for(a=0,r=s.length-1;a<r;)d=a+r>>1,e[s[d]]<_?a=d+1:r=d;_<e[s[a]]&&(a>0&&(t[i]=s[a-1]),s[a]=i)}}for(a=s.length,r=s[a-1];a-- >0;)s[a]=r,r=t[r];return s}function Ci(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ci(t)}function Si(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const iu=Symbol.for("v-scx"),au=()=>Zs(iu);function De(e,t,s){return Ei(e,t,s)}function Ei(e,t,s=Pe){const{immediate:i,deep:n,flush:a,once:r}=s,d=ze({},s),u=t&&i||!t&&a!=="post";let _;if(Os){if(a==="sync"){const A=au();_=A.__watcherHandles||(A.__watcherHandles=[])}else if(!u){const A=()=>{};return A.stop=_t,A.resume=_t,A.pause=_t,A}}const f=et;d.call=(A,v,x)=>mt(A,f,v,x);let c=!1;a==="post"?d.scheduler=A=>{it(A,f&&f.suspense)}:a!=="sync"&&(c=!0,d.scheduler=(A,v)=>{v?A():Yn(A)}),d.augmentJob=A=>{t&&(A.flags|=4),c&&(A.flags|=2,f&&(A.id=f.uid,A.i=f))};const C=gd(e,t,d);return Os&&(_?_.push(C):u&&C()),C}function ru(e,t,s){const i=this.proxy,n=Ye(e)?e.includes(".")?bi(i,e):()=>i[e]:e.bind(i,i);let a;Ae(t)?a=t:(a=t.handler,s=t);const r=Ts(this),d=Ei(n,a.bind(i),s);return r(),d}function bi(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const lu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${wt(t)}Modifiers`]||e[`${Dt(t)}Modifiers`];function cu(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||Pe;let n=s;const a=t.startsWith("update:"),r=a&&lu(i,t.slice(7));r&&(r.trim&&(n=s.map(f=>Ye(f)?f.trim():f)),r.number&&(n=s.map(Us)));let d,u=i[d=An(t)]||i[d=An(wt(t))];!u&&a&&(u=i[d=An(Dt(t))]),u&&mt(u,e,6,n);const _=i[d+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,mt(_,e,6,n)}}const du=new WeakMap;function Ai(e,t,s=!1){const i=s?du:t.emitsCache,n=i.get(e);if(n!==void 0)return n;const a=e.emits;let r={},d=!1;if(!Ae(e)){const u=_=>{const f=Ai(_,t,!0);f&&(d=!0,ze(r,f))};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!a&&!d?(Me(e)&&i.set(e,null),null):(Ce(a)?a.forEach(u=>r[u]=null):ze(r,a),Me(e)&&i.set(e,r),r)}function en(e,t){return!e||!$s(t)?!1:(t=t.slice(2).replace(/Once$/,""),Re(e,t[0].toLowerCase()+t.slice(1))||Re(e,Dt(t))||Re(e,t))}function WO(){}function yi(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[a],slots:r,attrs:d,emit:u,render:_,renderCache:f,props:c,data:C,setupState:A,ctx:v,inheritAttrs:x}=e,D=qs(e);let T,q;try{if(s.shapeFlag&4){const M=n||i,U=M;T=Ct(_.call(U,M,f,c,A,C,v)),q=d}else{const M=t;T=Ct(M.length>1?M(c,{attrs:d,slots:r,emit:u}):M(c,null)),q=t.props?d:uu(d)}}catch(M){bs.length=0,js(M,e,1),T=Ge(Pt)}let H=T;if(q&&x!==!1){const M=Object.keys(q),{shapeFlag:U}=H;M.length&&U&7&&(a&&M.some(Sn)&&(q=pu(q,a)),H=is(H,q,!1,!0))}return s.dirs&&(H=is(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(s.dirs):s.dirs),s.transition&&Xn(H,s.transition),T=H,qs(D),T}const uu=e=>{let t;for(const s in e)(s==="class"||s==="style"||$s(s))&&((t||(t={}))[s]=e[s]);return t},pu=(e,t)=>{const s={};for(const i in e)(!Sn(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function _u(e,t,s){const{props:i,children:n,component:a}=e,{props:r,children:d,patchFlag:u}=t,_=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return i?Ti(i,r,_):!!r;if(u&8){const f=t.dynamicProps;for(let c=0;c<f.length;c++){const C=f[c];if(r[C]!==i[C]&&!en(_,C))return!0}}}else return(n||d)&&(!d||!d.$stable)?!0:i===r?!1:i?r?Ti(i,r,_):!0:!!r;return!1}function Ti(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const a=i[n];if(t[a]!==e[a]&&!en(s,a))return!0}return!1}function fu({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const Oi=e=>e.__isSuspense;function hu(e,t){t&&t.pendingBranch?Ce(e)?t.effects.push(...e):t.effects.push(e):Td(e)}const Ee=Symbol.for("v-fgt"),tn=Symbol.for("v-txt"),Pt=Symbol.for("v-cmt"),sn=Symbol.for("v-stc"),bs=[];let at=null;function O(e=!1){bs.push(at=e?null:[])}function mu(){bs.pop(),at=bs[bs.length-1]||null}let As=1;function Ri(e,t=!1){As+=e,e<0&&at&&t&&(at.hasOnce=!0)}function vi(e){return e.dynamicChildren=As>0?at||qt:null,mu(),As>0&&at&&at.push(e),e}function P(e,t,s,i,n,a){return vi(o(e,t,s,i,n,a,!0))}function lt(e,t,s,i,n){return vi(Ge(e,t,s,i,n,!0))}function qn(e){return e?e.__v_isVNode===!0:!1}function ys(e,t){return e.type===t.type&&e.key===t.key}const xi=({key:e})=>e!=null?e:null,nn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ye(e)||je(e)||Ae(e)?{i:qe,r:e,k:t,f:!!s}:e:null);function o(e,t=null,s=null,i=0,n=null,a=e===Ee?0:1,r=!1,d=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xi(t),ref:t&&nn(t),scopeId:Ko,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return d?(Wn(u,s),a&128&&e.normalize(u)):s&&(u.shapeFlag|=Ye(s)?8:16),As>0&&!r&&at&&(u.patchFlag>0||a&6)&&u.patchFlag!==32&&at.push(u),u}const Ge=gu;function gu(e,t=null,s=null,i=0,n=null,a=!1){if((!e||e===Ld)&&(e=Pt),qn(e)){const d=is(e,t,!0);return s&&Wn(d,s),As>0&&!a&&at&&(d.shapeFlag&6?at[at.indexOf(e)]=d:at.push(d)),d.patchFlag=-2,d}if(Iu(e)&&(e=e.__vccOpts),t){t=Cu(t);let{class:d,style:u}=t;d&&!Ye(d)&&(t.class=Ne(d)),Me(u)&&(Un(u)&&!Ce(u)&&(u=ze({},u)),t.style=Lt(u))}const r=Ye(e)?1:Oi(e)?128:Rd(e)?64:Me(e)?4:Ae(e)?2:0;return o(e,t,s,i,n,r,a,!0)}function Cu(e){return e?Un(e)||di(e)?ze({},e):e:null}function is(e,t,s=!1,i=!1){const{props:n,ref:a,patchFlag:r,children:d,transition:u}=e,_=t?Eu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&xi(_),ref:t&&t.ref?s&&a?Ce(a)?a.concat(nn(t)):[a,nn(t)]:nn(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ee?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&is(e.ssContent),ssFallback:e.ssFallback&&is(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&i&&Xn(f,u.clone(f)),f}function Ve(e=" ",t=0){return Ge(tn,null,e,t)}function Su(e,t){const s=Ge(sn,null,e);return s.staticCount=t,s}function ye(e="",t=!1){return t?(O(),lt(Pt,null,e)):Ge(Pt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?Ge(Pt):Ce(e)?Ge(Ee,null,e.slice()):qn(e)?Ft(e):Ge(tn,null,String(e))}function Ft(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:is(e)}function Wn(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ce(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Wn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!di(t)?t._ctx=qe:n===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ae(t)?(t={default:t,_ctx:qe},s=32):(t=String(t),i&64?(s=16,t=[Ve(t)]):s=8);e.children=t,e.shapeFlag|=s}function Eu(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Ne([t.class,i.class]));else if(n==="style")t.style=Lt([t.style,i.style]);else if($s(n)){const a=t[n],r=i[n];r&&a!==r&&!(Ce(a)&&a.includes(r))&&(t[n]=a?[].concat(a,r):r)}else n!==""&&(t[n]=i[n])}return t}function St(e,t,s,i=null){mt(e,t,7,[s,i])}const bu=ri();let Au=0;function yu(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||bu,a={uid:Au++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Vc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pi(i,n),emitsOptions:Ai(i,n),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:i.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=cu.bind(null,a),e.ce&&e.ce(a),a}let et=null;const Tu=()=>et||qe;let on,zn;{const e=Ls(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),a=>{n.length>1?n.forEach(r=>r(a)):n[0](a)}};on=t("__VUE_INSTANCE_SETTERS__",s=>et=s),zn=t("__VUE_SSR_SETTERS__",s=>Os=s)}const Ts=e=>{const t=et;return on(e),e.scope.on(),()=>{e.scope.off(),on(t)}},Pi=()=>{et&&et.scope.off(),on(null)};function Ni(e){return e.vnode.shapeFlag&4}let Os=!1;function Ou(e,t=!1,s=!1){t&&zn(t);const{props:i,children:n}=e.vnode,a=Ni(e);qd(e,i,a,t),Zd(e,n,s||t);const r=a?Ru(e,t):void 0;return t&&zn(!1),r}function Ru(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xd);const{setup:i}=s;if(i){ft();const n=e.setupContext=i.length>1?xu(e):null,a=Ts(e),r=es(i,e,0,[e.props,n]),d=uo(r);if(ht(),a(),(d||e.sp)&&!ns(e)&&Jo(e),d){if(r.then(Pi,Pi),t)return r.then(u=>{Mi(e,u)}).catch(u=>{js(u,e,0)});e.asyncDep=r}else Mi(e,r)}else Ii(e)}function Mi(e,t,s){Ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=Lo(t)),Ii(e)}function Ii(e,t,s){const i=e.type;e.render||(e.render=i.render||_t);{const n=Ts(e);ft();try{Fd(e)}finally{ht(),n()}}}const vu={get(e,t){return Je(e,"get",""),e[t]}};function xu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,vu),slots:e.slots,emit:e.emit,expose:t}}function an(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Lo(dd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ss)return Ss[s](e)},has(t,s){return s in t||s in Ss}})):e.proxy}const Pu=/(?:^|[-_])\w/g,Nu=e=>e.replace(Pu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Mu(e,t=!0){return Ae(e)?e.displayName||e.name:e.name||t&&e.__name}function ki(e,t,s=!1){let i=Mu(t);if(!i&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(i=n[1])}if(!i&&e&&e.parent){const n=a=>{for(const r in a)if(a[r]===t)return r};i=n(e.components||e.parent.type.components)||n(e.appContext.components)}return i?Nu(i):s?"App":"Anonymous"}function Iu(e){return Ae(e)&&"__vccOpts"in e}const Se=(e,t)=>hd(e,t,Os),ku="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qn;const $i=typeof window!="undefined"&&window.trustedTypes;if($i)try{Qn=$i.createPolicy("vue",{createHTML:e=>e})}catch(e){}const wi=Qn?e=>Qn.createHTML(e):e=>e,$u="http://www.w3.org/2000/svg",wu="http://www.w3.org/1998/Math/MathML",Nt=typeof document!="undefined"?document:null,Di=Nt&&Nt.createElement("template"),Du={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Nt.createElementNS($u,e):t==="mathml"?Nt.createElementNS(wu,e):s?Nt.createElement(e,{is:s}):Nt.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Nt.createTextNode(e),createComment:e=>Nt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,a){const r=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Di.innerHTML=wi(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const d=Di.content;if(i==="svg"||i==="mathml"){const u=d.firstChild;for(;u.firstChild;)d.appendChild(u.firstChild);d.removeChild(u)}t.insertBefore(d,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Uu=Symbol("_vtc");function Lu(e,t,s){const i=e[Uu];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const rn=Symbol("_vod"),Ui=Symbol("_vsh"),Yu={name:"show",beforeMount(e,{value:t},{transition:s}){e[rn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Rs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),Rs(e,!0),i.enter(e)):i.leave(e,()=>{Rs(e,!1)}):Rs(e,t))},beforeUnmount(e,{value:t}){Rs(e,t)}};function Rs(e,t){e.style.display=t?e[rn]:"none",e[Ui]=!t}const Xu=Symbol(""),Fu=/(?:^|;)\s*display\s*:/;function Gu(e,t,s){const i=e.style,n=Ye(s);let a=!1;if(s&&!n){if(t)if(Ye(t))for(const r of t.split(";")){const d=r.slice(0,r.indexOf(":")).trim();s[d]==null&&ln(i,d,"")}else for(const r in t)s[r]==null&&ln(i,r,"");for(const r in s)r==="display"&&(a=!0),ln(i,r,s[r])}else if(n){if(t!==s){const r=i[Xu];r&&(s+=";"+r),i.cssText=s,a=Fu.test(s)}}else t&&e.removeAttribute("style");rn in e&&(e[rn]=a?i.display:"",e[Ui]&&(i.display="none"))}const Li=/\s*!important$/;function ln(e,t,s){if(Ce(s))s.forEach(i=>ln(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=Vu(e,t);Li.test(s)?e.setProperty(Dt(i),s.replace(Li,""),"important"):e[i]=s}}const Yi=["Webkit","Moz","ms"],Zn={};function Vu(e,t){const s=Zn[t];if(s)return s;let i=wt(t);if(i!=="filter"&&i in e)return Zn[t]=i;i=fo(i);for(let n=0;n<Yi.length;n++){const a=Yi[n]+i;if(a in e)return Zn[t]=a}return t}const Xi="http://www.w3.org/1999/xlink";function Fi(e,t,s,i,n,a=Fc(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Xi,t.slice(6,t.length)):e.setAttributeNS(Xi,t,s):s==null||a&&!go(s)?e.removeAttribute(t):e.setAttribute(t,a?"":ct(s)?String(s):s)}function Gi(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?wi(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const d=a==="OPTION"?e.getAttribute("value")||"":e.value,u=s==null?e.type==="checkbox"?"on":"":String(s);(d!==u||!("_value"in e))&&(e.value=u),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const d=typeof e[t];d==="boolean"?s=go(s):s==null&&d==="string"?(s="",r=!0):d==="number"&&(s=0,r=!0)}try{e[t]=s}catch(d){}r&&e.removeAttribute(n||t)}function Gt(e,t,s,i){e.addEventListener(t,s,i)}function Hu(e,t,s,i){e.removeEventListener(t,s,i)}const Vi=Symbol("_vei");function Bu(e,t,s,i,n=null){const a=e[Vi]||(e[Vi]={}),r=a[t];if(i&&r)r.value=i;else{const[d,u]=Ku(t);if(i){const _=a[t]=qu(i,n);Gt(e,d,_,u)}else r&&(Hu(e,d,r,u),a[t]=void 0)}}const Hi=/(?:Once|Passive|Capture)$/;function Ku(e){let t;if(Hi.test(e)){t={};let i;for(;i=e.match(Hi);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dt(e.slice(2)),t]}let eo=0;const ju=Promise.resolve(),Ju=()=>eo||(ju.then(()=>eo=0),eo=Date.now());function qu(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;mt(Wu(i,s.value),t,5,[i])};return s.value=e,s.attached=Ju(),s}function Wu(e,t){if(Ce(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Bi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zu=(e,t,s,i,n,a)=>{const r=n==="svg";t==="class"?Lu(e,i,r):t==="style"?Gu(e,s,i):$s(t)?Sn(t)||Bu(e,t,s,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qu(e,t,i,r))?(Gi(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Fi(e,t,i,r,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ye(i))?Gi(e,wt(t),i,a,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Fi(e,t,i,r))};function Qu(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Bi(t)&&Ae(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Bi(t)&&Ye(s)?!1:t in e}const as=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ce(t)?s=>Ds(t,s):t};function Zu(e){e.target.composing=!0}function Ki(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mt=Symbol("_assign"),_e={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[Mt]=as(n);const a=i||n.props&&n.props.type==="number";Gt(e,t?"change":"input",r=>{if(r.target.composing)return;let d=e.value;s&&(d=d.trim()),a&&(d=Us(d)),e[Mt](d)}),s&&Gt(e,"change",()=>{e.value=e.value.trim()}),t||(Gt(e,"compositionstart",Zu),Gt(e,"compositionend",Ki),Gt(e,"change",Ki))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:i,trim:n,number:a}},r){if(e[Mt]=as(r),e.composing)return;const d=(a||e.type==="number")&&!/^0\d/.test(e.value)?Us(e.value):e.value,u=t==null?"":t;d!==u&&(document.activeElement===e&&e.type!=="range"&&(i&&t===s||n&&e.value.trim()===u)||(e.value=u))}},It={deep:!0,created(e,t,s){e[Mt]=as(s),Gt(e,"change",()=>{const i=e._modelValue,n=vs(e),a=e.checked,r=e[Mt];if(Ce(i)){const d=yn(i,n),u=d!==-1;if(a&&!u)r(i.concat(n));else if(!a&&u){const _=[...i];_.splice(d,1),r(_)}}else if(zt(i)){const d=new Set(i);a?d.add(n):d.delete(n),r(d)}else r(qi(e,a))})},mounted:ji,beforeUpdate(e,t,s){e[Mt]=as(s),ji(e,t,s)}};function ji(e,{value:t,oldValue:s},i){e._modelValue=t;let n;if(Ce(t))n=yn(t,i.props.value)>-1;else if(zt(t))n=t.has(i.props.value);else{if(t===s)return;n=ds(t,qi(e,!0))}e.checked!==n&&(e.checked=n)}const Et={deep:!0,created(e,{value:t,modifiers:{number:s}},i){const n=zt(t);Gt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Us(vs(r)):vs(r));e[Mt](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,Fo(()=>{e._assigning=!1})}),e[Mt]=as(i)},mounted(e,{value:t}){Ji(e,t)},beforeUpdate(e,t,s){e[Mt]=as(s)},updated(e,{value:t}){e._assigning||Ji(e,t)}};function Ji(e,t){const s=e.multiple,i=Ce(t);if(!(s&&!i&&!zt(t))){for(let n=0,a=e.options.length;n<a;n++){const r=e.options[n],d=vs(r);if(s)if(i){const u=typeof d;u==="string"||u==="number"?r.selected=t.some(_=>String(_)===String(d)):r.selected=yn(t,d)>-1}else r.selected=t.has(d);else if(ds(vs(r),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function vs(e){return"_value"in e?e._value:e.value}function qi(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const ep=["ctrl","shift","alt","meta"],tp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ep.some(s=>e[`${s}Key`]&&!t.includes(s))},bt=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...a)=>{for(let r=0;r<t.length;r++){const d=tp[t[r]];if(d&&d(n,t))return}return e(n,...a)})},sp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),i=t.join(".");return s[i]||(s[i]=n=>{if(!("key"in n))return;const a=Dt(n.key);if(t.some(r=>r===a||sp[r]===a))return e(n)})},np=ze({patchProp:zu},Du);let Wi;function op(){return Wi||(Wi=tu(np))}const ip=(...e)=>{const t=op().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=rp(i);if(!n)return;const a=t._component;!Ae(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const r=s(n,!1,ap(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};function ap(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function rp(e){return Ye(e)?document.querySelector(e):e}const At=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},lp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},cp={key:0,class:"nxp-ec-admin-error"},dp={class:"nxp-ec-admin-error__title"},up={class:"nxp-ec-admin-error__body"};function pp(e,t,s,i,n,a){return O(),P("div",null,[n.error?(O(),P("div",cp,[o("h2",dp,p(a.fallbackTitle),1),o("p",up,p(a.fallbackMessage),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...r)=>a.reload&&a.reload(...r))},p(a.reloadLabel),1)])):Yd(e.$slots,"default",{key:1})])}const _p=At(lp,[["render",pp]]),fp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},hp={class:"nxp-ec-admin-panel__header"},mp={class:"nxp-ec-admin-panel__title"},gp={class:"nxp-ec-admin-panel__lead"},Cp={class:"nxp-ec-admin-panel__actions"},Sp=["disabled"],Ep={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bp={key:1,class:"nxp-ec-dashboard"},Ap={class:"nxp-ec-dashboard__metrics"},yp={class:"nxp-ec-dashboard__card"},Tp={class:"nxp-ec-dashboard__value"},Op={class:"nxp-ec-dashboard__hint"},Rp={class:"nxp-ec-dashboard__card"},vp={class:"nxp-ec-dashboard__value"},xp={class:"nxp-ec-dashboard__hint"},Pp={class:"nxp-ec-dashboard__card"},Np={class:"nxp-ec-dashboard__value"},Mp={class:"nxp-ec-dashboard__hint"},Ip={class:"nxp-ec-dashboard__card"},kp={class:"nxp-ec-dashboard__value"},$p={class:"nxp-ec-dashboard__hint"},wp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Dp={class:"nxp-ec-dashboard__checklist-header"},Up={id:"dashboard-checklist-heading"},Lp={class:"nxp-ec-dashboard__checklist-progress"},Yp={class:"nxp-ec-dashboard__checklist-list"},Xp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Fp={key:0,class:"fa-solid fa-circle-check"},Gp={key:1,class:"fa-regular fa-circle"},Vp={class:"nxp-ec-dashboard__checklist-label"},Hp=["href","title"],Bp={class:"nxp-ec-sr-only"},Kp=At({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,i=s.translate,n=s.state,a=Se(()=>{var c;const f=(c=n.summary)==null?void 0:c.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),r=(f=0)=>{const c=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(c)}catch(C){return`${a.value} ${c.toFixed(2)}`}},d=Se(()=>Array.isArray(n.checklist)?n.checklist:[]),u=Se(()=>d.value.filter(f=>f.completed).length),_=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,c)=>(O(),P("section",fp,[o("header",hp,[o("div",null,[o("h2",mp,p(l(i)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),o("p",gp,p(l(i)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),o("div",Cp,[o("button",{class:"nxp-ec-btn",type:"button",onClick:c[0]||(c[0]=C=>f.$emit("refresh")),disabled:l(n).loading},p(l(i)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,Sp)])]),l(n).error?(O(),P("div",Ep,p(l(n).error),1)):(O(),P("div",bp,[o("div",Ap,[o("article",yp,[o("h3",null,p(l(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),o("p",Tp,p(l(n).summary.products.active),1),o("p",Op,p(l(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(l(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),o("article",Rp,[o("h3",null,p(l(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),o("p",vp,p(r(l(n).summary.orders.revenue_today)),1),o("p",xp,p(l(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(l(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),o("article",Pp,[o("h3",null,p(l(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),o("p",Np,p(l(n).summary.customers.total),1),o("p",Mp,p(l(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),o("article",Ip,[o("h3",null,p(l(i)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),o("p",kp,p(r(l(n).summary.orders.revenue_month)),1),o("p",$p,p(l(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),o("section",wp,[o("header",Dp,[o("h3",Up,p(l(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),o("span",Lp,p(u.value)+" / "+p(d.value.length),1)]),o("ul",Yp,[(O(!0),P(Ee,null,Te(d.value,C=>(O(),P("li",{key:C.id,class:Ne({"is-complete":C.completed})},[o("span",Xp,[C.completed?(O(),P("span",Fp)):(O(),P("span",Gp))]),o("span",Vp,p(l(i)(C.label,_(C.label))),1),C.link?(O(),P("a",{key:0,href:C.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:l(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[c[1]||(c[1]=o("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),o("span",Bp,p(l(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Hp)):ye("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-c78e71ec"]]),jp={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Jp={id:"nxp-ec-products-caption",class:"visually-hidden"},qp={scope:"col"},Wp={scope:"col"},zp={scope:"col"},Qp={scope:"col"},Zp={scope:"col"},e_={scope:"col"},t_={scope:"col"},s_={scope:"col"},n_={scope:"col",class:"nxp-ec-admin-table__actions"},o_={key:0},i_={colspan:"8",class:"nxp-ec-admin-table__empty"},a_={class:"nxp-ec-products-table__title"},r_={class:"nxp-ec-products-table__slug"},l_={key:0,class:"nxp-ec-products-table__badge"},c_={class:"nxp-ec-status nxp-ec-status--featured"},d_={key:0},u_={key:1},p_={key:0},__={key:1},f_=["disabled","aria-pressed","title","aria-label","onClick"],h_={class:"nxp-ec-sr-only"},m_={class:"nxp-ec-admin-table__actions"},g_=["onClick","title","aria-label"],C_={class:"nxp-ec-sr-only"},S_=["onClick","title","aria-label"],E_={class:"nxp-ec-sr-only"},to=1,xs=-1,so=0,b_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,i=Se(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,c=!1)=>{const C=Number(f);if(Number.isFinite(C))return C===xs?xs:C===so?so:to;if(c)return xs;if(typeof f=="string"){const A=f.trim().toLowerCase();if(A==="out_of_stock"||A==="out-of-stock"||A==="-1")return xs;if(A==="inactive"||A==="0")return so}return to},a=f=>{var v;const c=n((v=f==null?void 0:f.status)!=null?v:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),C=c===to,A=c===xs;return{status:c,isActive:C,isOutOfStock:A,label:C?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):A?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:C?"nxp-ec-status--active":A?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:C?"fa-solid fa-circle-check":A?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},r=f=>{var x,D,T,q;const c=(D=(x=f==null?void 0:f.summary)==null?void 0:x.variants)!=null?D:{};if(c.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const C=Number.isFinite(c.price_min_cents)?c.price_min_cents:null,A=Number.isFinite(c.price_max_cents)?c.price_max_cents:null;if(C===null)return"";const v=c.currency||((q=(T=f==null?void 0:f.variants)==null?void 0:T[0])==null?void 0:q.currency)||i.value;return A===null||A===C?_(C,v):`${_(C,v)}  ${_(A,v)}`},d=f=>{var A,v;const c=(v=(A=f==null?void 0:f.summary)==null?void 0:A.variants)!=null?v:{},C=Number.isFinite(c.count)?c.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return C===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(C)])},u=f=>{if(!Array.isArray(f)||!f.length)return"";const c=f.map(v=>(v==null?void 0:v.title)||(v==null?void 0:v.slug)).filter(v=>!!v);if(!c.length)return"";if(c.length<=3)return c.join(", ");const C=c.slice(0,3).join(", "),A=c.length-3;return`${C} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(A)])}`},_=(f,c)=>`${(f/100).toFixed(2)} ${c}`;return(f,c)=>(O(),P("table",jp,[o("caption",Jp,p(l(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),o("thead",null,[o("tr",null,[o("th",qp,p(l(s)("JGRID_HEADING_ID","ID")),1),o("th",Wp,p(l(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),o("th",zp,p(l(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),o("th",Qp,p(l(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),o("th",Zp,p(l(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),o("th",e_,p(l(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),o("th",t_,p(l(s)("JSTATUS","Status")),1),o("th",s_,p(l(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),o("th",n_,p(l(s)("JGLOBAL_ACTIONS","Actions")),1)])]),o("tbody",null,[e.items.length?ye("",!0):(O(),P("tr",o_,[o("td",i_,p(l(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(O(!0),P(Ee,null,Te(e.items,C=>{var A,v,x,D,T,q,H,M,U,ne,ie,ce;return O(),P("tr",{key:C.id},[o("td",null,p(C.id),1),o("td",null,[o("div",a_,p(C.title),1),o("div",r_,p(C.slug),1),C.featured?(O(),P("div",l_,[o("span",c_,[c[0]||(c[0]=o("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Ve(" "+p(l(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ye("",!0)]),o("td",null,[r(C)?(O(),P("span",d_,p(r(C)),1)):(O(),P("span",u_,p(l(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))]),o("td",null,p(d(C)),1),o("td",null,[o("span",{class:Ne(["nxp-ec-status",(v=(A=C.summary)==null?void 0:A.variants)!=null&&v.stock_zero?"nxp-ec-status--danger":(D=(x=C.summary)==null?void 0:x.variants)!=null&&D.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(q=(T=C.summary)==null?void 0:T.variants)!=null&&q.stock_zero||((M=(H=C.summary)==null?void 0:H.variants)==null?void 0:M.stock_total)===0?(O(),P(Ee,{key:0},[Ve(p(l(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(O(),P(Ee,{key:1},[Ve(p(l(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ie=(ne=(U=C.summary)==null?void 0:U.variants)==null?void 0:ne.stock_total)!=null?ie:0)])),1)],64))],2)]),o("td",null,[(ce=C.categories)!=null&&ce.length?(O(),P("span",p_,p(u(C.categories)),1)):(O(),P("span",__,p(l(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))]),o("td",null,[o("button",{type:"button",class:Ne(["nxp-ec-status","nxp-ec-status-button",a(C).className]),disabled:e.saving,"aria-pressed":a(C).isActive?"true":"false",title:a(C).title,"aria-label":a(C).title,onClick:ge=>f.$emit("toggle-active",C)},[o("i",{class:Ne(a(C).icon),"aria-hidden":"true"},null,2),Ve(" "+p(a(C).label)+" ",1),o("span",h_,p(l(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,f_)]),o("td",null,p(C.modified||C.created),1),o("td",m_,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("edit",C),title:l(s)("JGLOBAL_EDIT","Edit"),"aria-label":l(s)("JGLOBAL_EDIT","Edit")},[c[1]||(c[1]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",C_,p(l(s)("JGLOBAL_EDIT","Edit")),1)],8,g_),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("delete",C),title:l(s)("JTRASH","Delete"),"aria-label":l(s)("JTRASH","Delete")},[c[2]||(c[2]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",E_,p(l(s)("JTRASH","Delete")),1)],8,S_)])])}),128))])]))}},A_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},y_={class:"nxp-ec-modal__dialog"},T_={class:"nxp-ec-modal__header"},O_={class:"nxp-ec-modal__title"},R_={class:"nxp-ec-modal__header-actions"},v_=["disabled","title","aria-label"],x_={class:"nxp-ec-sr-only"},P_=["disabled","title","aria-label"],N_={class:"nxp-ec-sr-only"},M_=["aria-label"],I_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},k_={class:"nxp-ec-form-field"},$_={class:"nxp-ec-form-label",for:"product-title"},w_={class:"nxp-ec-form-field"},D_={class:"nxp-ec-form-label",for:"product-slug"},U_=["placeholder"],L_={class:"nxp-ec-form-field"},Y_={class:"nxp-ec-form-label",for:"product-short-desc"},X_={class:"nxp-ec-form-field"},F_={class:"nxp-ec-form-label",for:"product-long-desc"},G_={class:"nxp-ec-form-field"},V_={class:"nxp-ec-form-label",for:"product-status"},H_={value:1},B_={value:-1},K_={value:0},j_={class:"nxp-ec-form-help"},J_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},q_={class:"nxp-ec-form-label",for:"product-featured"},W_={class:"nxp-ec-form-help"},z_={class:"nxp-ec-form-field"},Q_={class:"nxp-ec-form-label",for:"product-images"},Z_={id:"product-images",class:"nxp-ec-image-list"},ef=["id","onUpdate:modelValue","placeholder"],tf={class:"nxp-ec-image-row__actions"},sf=["onClick"],nf=["onClick","disabled"],of=["onClick","disabled"],af=["onClick","aria-label"],rf={class:"nxp-ec-form-help"},lf={class:"nxp-ec-form-field"},cf={class:"nxp-ec-form-label",for:"product-category-select"},df=["value"],uf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},pf=["onClick","aria-label"],_f={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},ff=["onKeydown","placeholder"],hf={class:"nxp-ec-form-help"},mf={class:"nxp-ec-variant-section"},gf={class:"nxp-ec-variant-section__header"},Cf={class:"nxp-ec-variant-section__title"},Sf={class:"nxp-ec-form-help"},Ef={class:"nxp-ec-variant-card__header"},bf={class:"nxp-ec-variant-card__title"},Af=["onClick"],yf=["onClick","disabled"],Tf={class:"nxp-ec-variant-card__grid"},Of={class:"nxp-ec-form-field"},Rf=["for"],vf=["id","onUpdate:modelValue"],xf={class:"nxp-ec-form-field"},Pf=["for"],Nf=["id","onUpdate:modelValue","onBlur"],Mf={class:"nxp-ec-form-field"},If=["for"],kf=["id","onUpdate:modelValue"],$f={class:"nxp-ec-form-help"},wf={class:"nxp-ec-form-field"},Df=["for"],Uf=["id","onUpdate:modelValue"],Lf={class:"nxp-ec-form-field"},Yf=["for"],Xf=["id","onUpdate:modelValue"],Ff={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Gf=["for"],Vf=["id","onUpdate:modelValue"],Hf={class:"nxp-ec-variant-options"},Bf={class:"nxp-ec-variant-options__header"},Kf={class:"nxp-ec-variant-options__title"},jf=["onClick"],Jf={class:"nxp-ec-form-help"},qf=["id","onUpdate:modelValue","placeholder"],Wf=["id","onUpdate:modelValue","placeholder"],zf=["onClick","aria-label"],Qf={class:"nxp-ec-modal__actions"},Zf=["disabled"],eh=["disabled"],zi="product-editor-form",th=At({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=Se(()=>(s.baseCurrency||"USD").toUpperCase()),r=S=>{var h,b,R,k,w,Z,F,se;if(S==null)return null;if(typeof S=="string"){const ae=S.trim();return ae===""?null:{id:0,title:ae,slug:""}}if(typeof S=="object"){const ae=Number.parseInt((b=(h=S.id)!=null?h:S.value)!=null?b:0,10)||0,he=(F=(Z=(w=(k=(R=S.title)!=null?R:S.name)!=null?k:S.text)!=null?w:S.label)!=null?Z:S.slug)!=null?F:"",me=String(he!=null?he:"").trim(),be=String((se=S.slug)!=null?se:"").trim();return ae<=0&&me===""?null:{id:ae>0?ae:0,title:me!==""?me:be,slug:be}}return null},d=S=>{const h=Number(S);if(Number.isFinite(h))return h===-1?-1:h===0?0:1;if(typeof S=="string"){const b=S.trim().toLowerCase();if(b==="out_of_stock"||b==="out-of-stock"||b==="-1")return-1;if(b==="inactive"||b==="0")return 0}return 1},u=ke({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),_=Fe(""),f=Fe(!1),c=Se(()=>{const h=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(r).filter(R=>R&&R.id>0&&R.title!==""),b=new Map;return h.forEach(R=>{b.set(R.id,R)}),u.categories.forEach(R=>{var k;R.id>0&&R.title&&!b.has(R.id)&&b.set(R.id,{id:R.id,title:R.title,slug:(k=R.slug)!=null?k:""})}),Array.from(b.values()).sort((R,k)=>R.title.localeCompare(k.title))}),C=Se(()=>{const S=new Map;return c.value.forEach(h=>{var b;S.set(h.id,{title:h.title,slug:(b=h.slug)!=null?b:""})}),S}),A=Se({get:()=>u.categories.filter(S=>S.id>0).map(S=>S.id),set:S=>{const h=Array.isArray(S)?S:[],b=Array.from(new Set(h.map(w=>Number.parseInt(w!=null?w:0,10)||0).filter(w=>w>0))),R=u.categories.filter(w=>!(w.id>0)),k=b.map(w=>{const Z=C.value.get(w),F=u.categories.find(he=>he.id===w),se=(Z==null?void 0:Z.title)||(F==null?void 0:F.title)||"",ae=(Z==null?void 0:Z.slug)||(F==null?void 0:F.slug)||"";return se===""?null:{id:w,title:se,slug:ae}}).filter(w=>w!==null);u.categories.splice(0,u.categories.length,...k,...R)}}),v=Se(()=>s.product&&s.product.id?"edit":"create"),x=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),D=()=>({name:"",value:""}),T=S=>S?S.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",q=()=>{f.value=!0,u.slug=T(u.slug)},H=S=>{const b=(Array.isArray(S)?S:[]).map(r).filter(w=>w&&(w.id>0||w.title!=="")),R=new Set,k=[];b.forEach(w=>{const Z=w.id>0?`id:${w.id}`:`title:${w.title.toLowerCase()}`;R.has(Z)||(R.add(Z),k.push(w))}),u.categories.splice(0,u.categories.length,...k)},M=S=>{u.variants.splice(0,u.variants.length,...S)},U=S=>{u.images.splice(0,u.images.length,...S)},ne=S=>Array.isArray(S)?S.map(h=>{var b,R,k;return{name:String((R=(b=h==null?void 0:h.name)!=null?b:h==null?void 0:h.key)!=null?R:"").trim(),value:String((k=h==null?void 0:h.value)!=null?k:"").trim()}}):S&&typeof S=="object"?Object.entries(S).map(([h,b])=>({name:String(h!=null?h:"").trim(),value:String(b!=null?b:"").trim()})):[],ie=S=>!Array.isArray(S)||S.length===0?[x()]:S.map(h=>{var b,R,k,w;return{id:Number.parseInt((b=h==null?void 0:h.id)!=null?b:0,10)||0,sku:String((R=h==null?void 0:h.sku)!=null?R:"").trim(),price:(h==null?void 0:h.price)!=null?String(h.price):Number.isFinite(h==null?void 0:h.price_cents)?(h.price_cents/100).toFixed(2):"",currency:String((k=h==null?void 0:h.currency)!=null?k:a.value).toUpperCase(),stock:Number.parseInt((w=h==null?void 0:h.stock)!=null?w:0,10)||0,weight:(h==null?void 0:h.weight)!=null?String(h.weight):"",active:(h==null?void 0:h.active)!==void 0?!!h.active:!0,options:ne(h==null?void 0:h.options)}}),ce=S=>{var k,w,Z,F;const h=S?JSON.parse(JSON.stringify(S)):{};u.title=(k=h.title)!=null?k:"",u.slug=(w=h.slug)!=null?w:"",u.short_desc=(Z=h.short_desc)!=null?Z:"",u.long_desc=(F=h.long_desc)!=null?F:"",u.status=d(h.status!==void 0?h.status:h.active),u.featured=h.featured!==void 0?!!h.featured:!1;const b=Array.isArray(h.images)?h.images.map(se=>String(se!=null?se:"").trim()).filter(Boolean):[];U(b);const R=Array.isArray(h.categories)?h.categories:[];H(R),_.value="",M(ie(h.variants)),f.value=!!u.slug};De(()=>s.product,S=>{ce(S)},{immediate:!0}),De(()=>u.title,S=>{f.value||(u.slug=T(S))}),De(a,S=>{u.variants.forEach(h=>{h.currency=S})});const ge=()=>{const S=_.value.trim();if(!S)return;const h=S.toLowerCase(),b=u.categories.slice();b.some(k=>k.title.toLowerCase()===h)||(b.push({id:0,title:S,slug:""}),u.categories.splice(0,u.categories.length,...b)),_.value=""},j=S=>{if(S<0||S>=u.categories.length)return;const h=u.categories.slice();h.splice(S,1),u.categories.splice(0,u.categories.length,...h)},B=()=>{u.variants.push(x())},W=S=>{u.variants.length<=1||u.variants.splice(S,1)},G=S=>{const h=u.variants[S];h&&(Array.isArray(h.options)||(h.options=[]),h.options.push(D()))},ee=(S,h)=>{const b=u.variants[S];!b||!Array.isArray(b.options)||b.options.splice(h,1)},pe=(S,h)=>`${S.id||"new"}-${h}`,te=S=>{const h=u.variants[S];if(!h)return;const b=JSON.parse(JSON.stringify(h));b.id=0,b.sku=[b.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),b.active=!0,u.variants.splice(S+1,0,b)},z=S=>{const h=u.variants[S];if(!h)return;const b=Number.parseFloat(h.price);Number.isNaN(b)||(h.price=b.toFixed(2))};let N=null,I=null,L=null,$=null,V="";const Q=()=>{Array.isArray(u.images)||(u.images=[])},le=S=>{var k,w,Z;if(!S)return"";let h=String(S).trim();if(h==="")return"";try{const F=(Z=(w=(k=window.Joomla)==null?void 0:k.getOptions)==null?void 0:w.call(k,"system.paths",{}))!=null?Z:{},se=F.rootFull||window.location.origin,ae=F.root||"/";h.startsWith(se)&&(h=h.substring(se.length)),h.startsWith(ae)&&(h=h.substring(ae.length))}catch(F){}const b=h.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);b&&b[1]&&(h=b[1]);const R=h.indexOf("#joomlaImage://");return R!==-1&&(h=h.substring(0,R)),h.trim()},X=(S,{keepIndex:h=!1,appendWhenNoIndex:b=!1,targetIndex:R=null}={})=>{const k=le(S);if(k==="")return!1;Q();const w=R!==null&&R>=0?R:$;return w==null||Number.isNaN(w)?b?(u.images.push(k),h||($=null,V=""),!0):!1:(w>=u.images.length?u.images.push(k):u.images[w]=k,V=h?k:"",h||($=null,V=""),!0)},y=()=>{Q(),u.images.push("")},g=S=>{Q(),u.images.splice(S,1)},re=(S,h)=>{Q();const b=u.images[S];if(b===void 0)return;const R=S+h;R<0||R>=u.images.length||(u.images.splice(S,1),u.images.splice(R,0,b))},de=S=>{var R;Q();const h=(R=u.images[S])!=null?R:"";if(typeof window=="undefined")return;const b=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),h);X(b!=null?b:"",{targetIndex:S})},ue=()=>{var w,Z,F,se,ae,he;const S=(s.mediaModalUrl||"").trim();if(S!=="")return S;const h=(F=(Z=(w=window.Joomla)==null?void 0:w.getOptions)==null?void 0:Z.call(w,"media-picker",{}))!=null?F:{};if(h.modalUrl)return h.modalUrl;const b=(he=(ae=(se=window.Joomla)==null?void 0:se.getOptions)==null?void 0:ae.call(se,"system.paths",{}))!=null?he:{},R=b.rootFull||b.root||"";return(R?R.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},$e=async()=>{var F,se,ae,he,me,be,ve,Ue,He;if(N)return N;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(we){return null}const S=(ae=(se=(F=window.Joomla)==null?void 0:F.getOptions)==null?void 0:se.call(F,"system.paths",{}))!=null?ae:{},h=S.rootFull||S.root||"",b=(be=(me=(he=window.Joomla)==null?void 0:he.getOptions)==null?void 0:me.call(he,"com_media",{}))!=null?be:{},R=(b==null?void 0:b.file_path)||"images",k=(He=(Ue=(ve=window.Joomla)==null?void 0:ve.getOptions)==null?void 0:Ue.call(ve,"media-picker",{}))!=null?He:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},Z=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return I=document.createElement("div"),I.className="nxp-ec-media-picker-host",I.style.display="none",I.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${h.replace(/"/g,"&quot;")}"
            root-folder="${R.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${Z}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(k).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(I),N=I.querySelector("joomla-field-media"),L=I.querySelector(".nxp-ec-media-field__input"),N.addEventListener("change",we=>{var Le,Be,kt,$t,Jt,_n;const tt=(kt=(Be=(Le=we.detail)==null?void 0:Le.value)!=null?Be:L==null?void 0:L.value)!=null?kt:"";let We=le(tt);if(We===""&&V!==""&&(We=V),We===""&&(($t=window.Joomla)!=null&&$t.selectedMediaFile)){const io=le((Jt=window.Joomla.selectedMediaFile.url)!=null?Jt:""),fn=le((_n=window.Joomla.selectedMediaFile.path)!=null?_n:"");We=io||fn}X(We)}),N.addEventListener("joomla-dialog:close",()=>{$=null,V=""}),L&&L.addEventListener("change",()=>{var tt,We,Le,Be;if($===null)return;let we=le((tt=L.value)!=null?tt:"");if(we===""&&V!==""&&(we=V),we===""&&((We=window.Joomla)!=null&&We.selectedMediaFile)){const kt=le((Le=window.Joomla.selectedMediaFile.url)!=null?Le:""),$t=le((Be=window.Joomla.selectedMediaFile.path)!=null?Be:"");we=kt||$t}we!==""&&X(we)}),N},m=S=>{var w,Z;const h=S==null?void 0:S.detail;if(!h||typeof h!="object")return;const b=le((w=h.path)!=null?w:""),k=le((Z=h.url)!=null?Z:"")||b;k===""||$===null||(V=k,X(k,{keepIndex:!0}))};ot(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",m)});const E=async S=>{var R;Q();const h=await $e();if(!h||typeof h.show!="function"){de(S);return}$=S,h.setAttribute("url",ue());const b=(R=u.images[S])!=null?R:"";typeof h.setValue=="function"?h.setValue(b):L&&(L.value=b);try{h.show()}catch(k){$=null,V="",de(S)}};Qo(()=>{I&&I.parentNode&&I.parentNode.removeChild(I),N=null,I=null,L=null,$=null,V="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",m)});const Y=()=>{var w,Z;Q();const S=Array.from(new Set(u.images.map(F=>String(F!=null?F:"").trim()).filter(F=>F!==""))),h=u.categories.map(F=>{var me,be,ve;const se=Number.parseInt((me=F==null?void 0:F.id)!=null?me:0,10)||0,ae=String((be=F==null?void 0:F.title)!=null?be:"").trim(),he=String((ve=F==null?void 0:F.slug)!=null?ve:"").trim();return se>0?{id:se,title:ae,slug:he}:ae===""?null:{id:0,title:ae,slug:""}}).filter(F=>F!==null),b=u.variants.map(F=>{const se=Array.isArray(F.options)?F.options.map(me=>{var be,ve;return{name:String((be=me==null?void 0:me.name)!=null?be:"").trim(),value:String((ve=me==null?void 0:me.value)!=null?ve:"").trim()}}).filter(me=>me.name!==""&&me.value!==""):[],ae=Number.isFinite(Number(F.stock))?Math.max(0,parseInt(F.stock,10)):0,he=F.weight!==null&&F.weight!==""?String(F.weight).trim():null;return{id:F.id||0,sku:F.sku.trim(),price:F.price!==null&&F.price!==void 0?String(F.price).trim():"",currency:F.currency?String(F.currency).trim().toUpperCase():a.value,stock:ae,weight:he,active:!!F.active,options:se}}),R=d(u.status),k={title:u.title.trim(),slug:u.slug.trim(),short_desc:(w=u.short_desc)!=null?w:"",long_desc:(Z=u.long_desc)!=null?Z:"",status:R,active:R,featured:!!u.featured,images:S,categories:h,variants:b};i("submit",k)},K=()=>{i("cancel")};return De(()=>s.saving,(S,h)=>{h&&!S&&s.errors.length===0&&v.value==="create"&&(ce(null),_.value="",f.value=!1)}),(S,h)=>e.open?(O(),P("div",A_,[h[10]||(h[10]=o("div",{class:"nxp-ec-modal__backdrop"},null,-1)),o("div",y_,[o("header",T_,[o("h2",O_,p(v.value==="edit"?l(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):l(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),o("div",R_,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:K,disabled:e.saving,title:l(n)("JCANCEL","Cancel"),"aria-label":l(n)("JCANCEL","Cancel")},[h[8]||(h[8]=o("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),o("span",x_,p(l(n)("JCANCEL","Cancel")),1)],8,v_),o("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:zi,title:e.saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("JSAVE","Save"),"aria-label":e.saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("JSAVE","Save")},[o("i",{class:Ne(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),o("span",N_,p(e.saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("JSAVE","Save")),1)],8,P_),o("button",{type:"button",class:"nxp-ec-modal__close",onClick:K,"aria-label":l(n)("JCLOSE","Close")},"  ",8,M_)])]),o("form",{id:zi,class:"nxp-ec-form",onSubmit:bt(Y,["prevent"])},[e.errors.length?(O(),P("div",I_,[(O(!0),P(Ee,null,Te(e.errors,(b,R)=>(O(),P("p",{key:R},p(b),1))),128))])):ye("",!0),o("div",k_,[o("label",$_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),oe(o("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[0]||(h[0]=b=>u.title=b),required:""},null,512),[[_e,u.title,void 0,{trim:!0}]])]),o("div",w_,[o("label",D_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),oe(o("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[1]||(h[1]=b=>u.slug=b),onInput:q,placeholder:l(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,U_),[[_e,u.slug,void 0,{trim:!0}]])]),o("div",L_,[o("label",Y_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),oe(o("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":h[2]||(h[2]=b=>u.short_desc=b)},null,512),[[_e,u.short_desc]])]),o("div",X_,[o("label",F_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),oe(o("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":h[3]||(h[3]=b=>u.long_desc=b)},null,512),[[_e,u.long_desc]])]),o("div",G_,[o("label",V_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),oe(o("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":h[4]||(h[4]=b=>u.status=b)},[o("option",H_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),o("option",B_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),o("option",K_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[Et,u.status,void 0,{number:!0}]]),o("p",j_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),o("div",J_,[o("label",q_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),oe(o("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":h[5]||(h[5]=b=>u.featured=b)},null,512),[[It,u.featured]]),o("p",W_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),o("div",z_,[o("label",Q_,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),o("div",Z_,[(O(!0),P(Ee,null,Te(u.images,(b,R)=>(O(),P("div",{key:`product-image-${R}`,class:"nxp-ec-image-row"},[oe(o("input",{id:`product-image-${R}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k=>u.images[R]=k,placeholder:l(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,ef),[[_e,u.images[R],void 0,{trim:!0}]]),o("div",tf,[o("button",{type:"button",class:"nxp-ec-btn",onClick:k=>E(R)},[h[9]||(h[9]=o("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Ve(" "+p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,sf),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:k=>re(R,-1),disabled:R===0},p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,nf),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:k=>re(R,1),disabled:R===u.images.length-1},p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,of),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:k=>g(R),"aria-label":l(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},p(l(n)("COM_NXPEASYCART_REMOVE","Remove")),9,af)])]))),128))]),o("button",{type:"button",class:"nxp-ec-btn",onClick:y},p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),o("p",rf,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),o("div",lf,[o("label",cf,p(l(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),oe(o("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":h[6]||(h[6]=b=>A.value=b)},[(O(!0),P(Ee,null,Te(c.value,b=>(O(),P("option",{key:b.id,value:b.id},p(b.title),9,df))),128))],512),[[Et,A.value]]),o("div",uf,[(O(!0),P(Ee,null,Te(u.categories,(b,R)=>(O(),P("span",{key:`selected-category-${R}`,class:"nxp-ec-chip"},[Ve(p(b.title)+" ",1),o("button",{type:"button",class:"nxp-ec-chip__remove",onClick:k=>j(R),"aria-label":l(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,pf)]))),128))]),o("div",_f,[oe(o("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":h[7]||(h[7]=b=>_.value=b),onKeydown:jt(bt(ge,["prevent"]),["enter"]),placeholder:l(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,ff),[[_e,_.value]]),o("button",{type:"button",class:"nxp-ec-btn",onClick:ge},p(l(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),o("p",hf,p(l(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),o("section",mf,[o("header",gf,[o("h3",Cf,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),o("button",{type:"button",class:"nxp-ec-btn",onClick:B},p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),o("p",Sf,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price and currency.")),1),(O(!0),P(Ee,null,Te(u.variants,(b,R)=>(O(),P("article",{key:pe(b,R),class:"nxp-ec-variant-card"},[o("header",Ef,[o("h4",bf,p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(R+1)])),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:k=>te(R)},p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Af),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:k=>W(R),disabled:u.variants.length<=1},p(l(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,yf)]),o("div",Tf,[o("div",Of,[o("label",{class:"nxp-ec-form-label",for:`variant-sku-${R}`},p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Rf),oe(o("input",{id:`variant-sku-${R}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k=>b.sku=k,required:""},null,8,vf),[[_e,b.sku,void 0,{trim:!0}]])]),o("div",xf,[o("label",{class:"nxp-ec-form-label",for:`variant-price-${R}`},p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Pf),oe(o("input",{id:`variant-price-${R}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":k=>b.price=k,onBlur:k=>z(R),required:""},null,40,Nf),[[_e,b.price,void 0,{trim:!0}]])]),o("div",Mf,[o("label",{class:"nxp-ec-form-label",for:`variant-currency-${R}`},p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY","Currency")),9,If),oe(o("input",{id:`variant-currency-${R}`,class:"nxp-ec-form-input",type:"text",maxlength:"3","onUpdate:modelValue":k=>b.currency=k,readonly:"","aria-readonly":"true"},null,8,kf),[[_e,b.currency,void 0,{trim:!0}]]),o("p",$f,p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_HELP","Variants inherit the store base currency (%s).",[a.value])),1)]),o("div",wf,[o("label",{class:"nxp-ec-form-label",for:`variant-stock-${R}`},p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Df),oe(o("input",{id:`variant-stock-${R}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":k=>b.stock=k},null,8,Uf),[[_e,b.stock,void 0,{number:!0}]])]),o("div",Lf,[o("label",{class:"nxp-ec-form-label",for:`variant-weight-${R}`},p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,Yf),oe(o("input",{id:`variant-weight-${R}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":k=>b.weight=k},null,8,Xf),[[_e,b.weight,void 0,{trim:!0}]])]),o("div",Ff,[o("label",{class:"nxp-ec-form-label",for:`variant-active-${R}`},p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,Gf),oe(o("input",{id:`variant-active-${R}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":k=>b.active=k},null,8,Vf),[[It,b.active]])])]),o("section",Hf,[o("header",Bf,[o("h5",Kf,p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:k=>G(R)},p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,jf)]),o("p",Jf,p(l(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(O(!0),P(Ee,null,Te(b.options,(k,w)=>(O(),P("div",{key:`variant-${R}-option-${w}`,class:"nxp-ec-variant-option-row"},[oe(o("input",{id:`variant-${R}-option-name-${w}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Z=>k.name=Z,placeholder:l(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,qf),[[_e,k.name,void 0,{trim:!0}]]),oe(o("input",{id:`variant-${R}-option-value-${w}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Z=>k.value=Z,placeholder:l(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,Wf),[[_e,k.value,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Z=>ee(R,w),"aria-label":l(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},p(l(n)("COM_NXPEASYCART_REMOVE","Remove")),9,zf)]))),128))])]))),128))]),o("footer",Qf,[o("button",{type:"button",class:"nxp-ec-btn",onClick:K,disabled:e.saving},p(l(n)("JCANCEL","Cancel")),9,Zf),o("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},p(e.saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("JSAVE","Save")),9,eh)])],32)])])):ye("",!0)}},[["__scopeId","data-v-99bc4a39"]]),sh={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},nh={key:1,class:"nxp-ec-skeleton__table"},oh={key:2,class:"nxp-ec-skeleton__card"},ih={key:3,class:"nxp-ec-skeleton__circle"};function ah(e,t,s,i,n,a){return O(),P("div",{class:Ne(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(O(),P("div",{key:0,class:"nxp-ec-skeleton__line",style:Lt({width:s.width})},null,4)):s.type==="table"?(O(),P("div",nh,[(O(!0),P(Ee,null,Te(s.rows,r=>(O(),P("div",{key:r,class:"nxp-ec-skeleton__table-row"},[(O(!0),P(Ee,null,Te(s.columns,d=>(O(),P("div",{key:d,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(O(),P("div",oh,[...t[0]||(t[0]=[Su('<div class="nxp-ec-skeleton__card-header" data-v-c59f3790></div><div class="nxp-ec-skeleton__card-body" data-v-c59f3790><div class="nxp-ec-skeleton__line" data-v-c59f3790></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c59f3790></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c59f3790></div></div>',2)])])):s.type==="circle"?(O(),P("div",ih)):(O(),P("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Lt({width:s.width,height:s.height})},null,4))],2)}const Ps=At(sh,[["render",ah],["__scopeId","data-v-c59f3790"]]),rh={class:"nxp-ec-admin-panel"},lh={class:"nxp-ec-admin-panel__header"},ch={class:"nxp-ec-admin-panel__title"},dh={class:"nxp-ec-admin-panel__lead"},uh={class:"nxp-ec-admin-panel__actions"},ph=["placeholder","aria-label"],_h=["disabled","title","aria-label"],fh={class:"nxp-ec-sr-only"},hh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mh={key:1,class:"nxp-ec-admin-panel__body"},gh={key:2,class:"nxp-ec-admin-panel__body"},Ch=["title"],Ns=1,rs=-1,cn=0,Sh={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=ke({mode:"create",product:null}),r=Fe(!1),d=Se(()=>(s.baseCurrency||"USD").toUpperCase()),u=Se(()=>a.product),_=Se(()=>(s.mediaModalUrl||"").trim()),f=(U,ne=!1)=>{const ie=Number(U);if(Number.isFinite(ie))return ie===rs?rs:ie===cn?cn:Ns;if(ne)return rs;if(typeof U=="string"){const ce=U.trim().toLowerCase();if(ce==="out_of_stock"||ce==="out-of-stock"||ce==="-1")return rs;if(ce==="inactive"||ce==="0")return cn}return Ns},c=(U,ne=!1)=>{const ie=f(U,ne);return ie===Ns?rs:ie===rs?cn:Ns},C=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",status:Ns,active:!0,featured:!1,images:[],categories:[],variants:[]},r.value=!0},A=U=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(U)),r.value=!0},v=()=>{r.value=!1,s.state.validationErrors=[]},x=async U=>{var ce,ge;const ne=f((ce=U.status)!=null?ce:U.active,U.out_of_stock),ie={...U,status:ne,active:ne,featured:U.featured?1:0};a.mode==="edit"&&((ge=a.product)!=null&&ge.id)?i("update",{id:a.product.id,data:ie}):i("create",ie)},D=async U=>{var ce;const ne=(ce=U==null?void 0:U.title)!=null?ce:"",ie=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[ne||"#"]);window.confirm(ie)&&i("delete",[U.id])},T=U=>{var W;if(!(U!=null&&U.id)||s.state.saving)return;const ne=c((W=U.status)!=null?W:U.active,U.out_of_stock),ie=G=>G==null?"":String(G),ce=(G,ee=0)=>{const pe=Number(G);return Number.isFinite(pe)?pe:ee},ge=Array.isArray(U.variants)?U.variants.map(G=>{var I,L;if(!G)return null;const ee=ie(G.sku).trim();if(!ee)return null;let pe=ce(G.price_cents,Number.NaN);if(!Number.isFinite(pe)){const $=ie(G.price),V=$?Number.parseFloat($):NaN;pe=Number.isFinite(V)?Math.round(V*100):NaN}if(!Number.isFinite(pe))return null;const te=ie((I=G.currency)!=null?I:d.value).trim().toUpperCase();if(!te)return null;const z=(L=G.options)!=null?L:null,N=Math.max(0,Math.round(ce(G.stock,0)));return{id:ce(G.id,0),sku:ee,price_cents:Math.round(pe),currency:te,stock:N,options:z!=null?z:null,weight:G.weight!==null&&G.weight!==void 0&&G.weight!==""?String(G.weight):null,active:G.active===void 0?!0:!!G.active}}).filter(Boolean):[];if(!ge.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const j=Array.isArray(U.categories)?U.categories.map(G=>{if(G==null)return null;if(typeof G=="number")return G>0?{id:G,title:"",slug:""}:null;if(typeof G=="string"&&G.trim()!==""&&Number.isFinite(Number(G))){const pe=Number(G);return pe>0?{id:pe,title:"",slug:""}:null}if(typeof G=="object"){if(G.id){const te=ce(G.id,0);return te>0?{id:te,title:"",slug:""}:null}return ce(G.id,0)<=0&&!G.title?null:{id:0,title:ie(G.title),slug:ie(G.slug)}}const ee=ie(G).trim();return ee?{id:0,title:ee,slug:""}:null}).filter(Boolean):[],B=Array.isArray(U.images)?U.images.map(G=>ie(G).trim()).map(G=>{var z,N,I;let ee=G;if(!ee)return"";const pe=ee.indexOf("#joomlaImage://");pe!==-1&&(ee=ee.substring(0,pe));const te=ee.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(te&&te[1]&&(ee=te[1]),typeof window!="undefined")try{const L=(I=(N=(z=window.Joomla)==null?void 0:z.getOptions)==null?void 0:N.call(z,"system.paths",{}))!=null?I:{},$=L.rootFull||window.location.origin,V=L.root||"/";ee.startsWith($)&&(ee=ee.substring($.length)),ee.startsWith(V)&&(ee=ee.substring(V.length))}catch(L){}return ee.trim()}).filter(G=>G!==""):[];s.state.error="",i("update",{id:U.id,data:{title:ie(U.title),slug:ie(U.slug),short_desc:ie(U.short_desc),long_desc:ie(U.long_desc),status:ne,active:ne,featured:U.featured?1:0,images:B,variants:ge,categories:j}})},q=()=>{i("refresh")},H=()=>{i("search")},M=U=>{if(!U)return"";try{const ne=new Date(U),ce=new Date-ne,ge=Math.floor(ce/1e3),j=Math.floor(ge/60),B=Math.floor(j/60);return ge<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):j<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[j]):B<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[B]):ne.toLocaleString()}catch(ne){return U}};return De(()=>s.state.saving,(U,ne)=>{ne&&!U&&r.value&&!s.state.validationErrors.length&&!s.state.error&&v()}),(U,ne)=>(O(),P("section",rh,[o("header",lh,[o("div",null,[o("h2",ch,p(l(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),o("p",dh,p(l(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),o("div",uh,[oe(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:l(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":ne[0]||(ne[0]=ie=>e.state.search=ie),onKeyup:jt(H,["enter"]),"aria-label":l(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,ph),[[_e,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:q,disabled:e.state.loading,title:l(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":l(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[ne[1]||(ne[1]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",fh,p(l(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,_h),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:C},[ne[2]||(ne[2]=o("i",{class:"fa-solid fa-plus"},null,-1)),Ve(" "+p(l(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(O(),P("div",hh,p(e.state.error),1)):e.state.loading?(O(),P("div",mh,[Ge(Ps,{type:"table",rows:5,columns:5})])):(O(),P("div",gh,[Ge(b_,{items:e.state.items,translate:l(n),"base-currency":d.value,saving:e.state.saving,onEdit:A,onDelete:D,onToggleActive:T},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(O(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},p(l(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(M(e.state.lastUpdated)),9,Ch)):ye("",!0)])),Ge(th,{open:r.value,product:u.value,saving:e.state.saving,"base-currency":d.value,translate:l(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":_.value,onSubmit:x,onCancel:v},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Eh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},bh={class:"nxp-ec-admin-panel__header"},Ah={class:"nxp-ec-admin-panel__title"},yh={class:"nxp-ec-admin-panel__lead"},Th={class:"nxp-ec-admin-panel__actions"},Oh=["placeholder","aria-label"],Rh=["disabled","title","aria-label"],vh={class:"nxp-ec-sr-only"},xh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ph={key:1,class:"nxp-ec-admin-panel__body"},Nh={key:2,class:"nxp-ec-admin-panel__body"},Mh={class:"nxp-ec-admin-panel__table"},Ih={class:"nxp-ec-admin-table"},kh={scope:"col"},$h={scope:"col"},wh={scope:"col"},Dh={scope:"col"},Uh={scope:"col"},Lh={key:0},Yh={colspan:"6"},Xh={scope:"row"},Fh={class:"nxp-ec-admin-table__actions"},Gh=["onClick","title","aria-label"],Vh={class:"nxp-ec-sr-only"},Hh=["disabled","onClick","title","aria-label"],Bh={class:"nxp-ec-sr-only"},Kh={key:0,class:"nxp-ec-admin-pagination"},jh=["disabled"],Jh={class:"nxp-ec-admin-pagination__status"},qh=["disabled"],Wh=["title"],zh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Qh={class:"nxp-ec-modal__dialog"},Zh={class:"nxp-ec-modal__header"},em={class:"nxp-ec-modal__title"},tm=["title","aria-label"],sm={class:"nxp-ec-sr-only"},nm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},om={class:"nxp-ec-form-field"},im={class:"nxp-ec-form-label",for:"category-title"},am={class:"nxp-ec-form-field"},rm={class:"nxp-ec-form-label",for:"category-slug"},lm={class:"nxp-ec-form-field"},cm={class:"nxp-ec-form-label",for:"category-parent"},dm={value:""},um=["value"],pm={class:"nxp-ec-form-field"},_m={class:"nxp-ec-form-label",for:"category-sort"},fm={class:"nxp-ec-modal__actions"},hm=["disabled"],mm={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=Fe(!1),r=Fe(!1),d=Fe([]),u=j=>{const W=(Array.isArray(j)?j:[]).map($=>{var V,Q,le,X,y;return{...$,id:Number.parseInt((V=$==null?void 0:$.id)!=null?V:0,10)||0,parent_id:($==null?void 0:$.parent_id)!=null&&Number.parseInt($.parent_id,10)||0,sort:Number.parseInt((Q=$==null?void 0:$.sort)!=null?Q:0,10)||0,title:String((le=$==null?void 0:$.title)!=null?le:"").trim(),slug:String((X=$==null?void 0:$.slug)!=null?X:"").trim(),usage:(y=$==null?void 0:$.usage)!=null?y:0}}).filter($=>$.id>0||$.title!==""),G=new Set(W.map($=>$.id));W.forEach($=>{G.has($.parent_id)||($.parent_id=0)});const ee=new Map,pe=new Map;W.forEach($=>{pe.set($.id,$);const V=$.parent_id||0;ee.has(V)||ee.set(V,[]),ee.get(V).push($)});const te=$=>$.sort((V,Q)=>{var le,X;return((le=V.sort)!=null?le:0)-((X=Q.sort)!=null?X:0)||V.title.localeCompare(Q.title,void 0,{sensitivity:"base"})});ee.forEach(te);const z=new Set,N=[],I=($,V,Q)=>{if(!$||z.has($.id)||Q.includes($.id))return;const le=[...Q],X=le.map(re=>{var de;return(de=pe.get(re))==null?void 0:de.title}).filter(Boolean),y={...$,depth:V,path:X.join(" / "),ancestors:le,indentedTitle:V>0?`${" ".repeat(V)}${$.title}`:$.title};N.push(y),z.add($.id),(ee.get($.id)||[]).forEach(re=>I(re,V+1,[...Q,$.id]))},L=W.filter($=>$.parent_id===0||!G.has($.parent_id));return te(L),L.forEach($=>I($,0,[])),W.forEach($=>{z.has($.id)||I($,0,[])}),N},_=Se(()=>{var j,B;return u((B=(j=s.state)==null?void 0:j.items)!=null?B:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),c=ke(f()),C=Se(()=>{var B,W;const j=(W=Array.isArray(d.value)&&d.value.length?d.value:(B=s.state)==null?void 0:B.items)!=null?W:[];return u(j).filter(G=>G.id>0&&G.id!==c.id&&!(Array.isArray(G.ancestors)&&G.ancestors.includes(c.id))).map(G=>({id:G.id,title:G.title,label:G.depth>0?`${" ".repeat(G.depth)}${G.title}`:G.title}))}),A=()=>{Object.assign(c,f()),r.value=!1},v=j=>j?j.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",x=()=>{r.value=!0,c.slug=v(c.slug)};De(()=>c.title,j=>{r.value||(c.slug=v(j))});const D=async(j=0)=>{if(typeof s.loadOptions!="function"){d.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const B=await s.loadOptions();d.value=Array.isArray(B)?[...B]:[]}catch(B){d.value=[]}d.value=d.value.filter(B=>{var G,ee;return(Number.parseInt((ee=(G=B==null?void 0:B.id)!=null?G:B==null?void 0:B.value)!=null?ee:0,10)||0)!==j})},T=async()=>{A(),await D(),a.value=!0},q=async j=>{var B,W,G,ee;j&&(c.id=Number.parseInt((B=j.id)!=null?B:0,10)||0,c.title=String((W=j.title)!=null?W:"").trim(),c.slug=String((G=j.slug)!=null?G:"").trim(),c.parent_id=j.parent_id!=null&&Number.parseInt(j.parent_id,10)||null,c.sort=Number.parseInt((ee=j.sort)!=null?ee:0,10)||0,r.value=!!c.slug,await D(c.id),a.value=!0)},H=()=>{a.value=!1,A()},M=()=>{i("refresh")},U=()=>{i("search")},ne=j=>{i("page",j)},ie=()=>{const j={id:c.id||void 0,title:c.title.trim(),slug:c.slug.trim(),parent_id:c.parent_id||null,sort:Number.isFinite(c.sort)?c.sort:0};i("save",j)},ce=j=>{if(!j||!j.id)return;const B=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(B)||i("delete",[j.id])},ge=j=>{if(!j)return"";try{const B=new Date(j),G=new Date-B,ee=Math.floor(G/1e3),pe=Math.floor(ee/60),te=Math.floor(pe/60);return ee<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):pe<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[pe]):te<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[te]):B.toLocaleString()}catch(B){return j}};return De(()=>{var j;return(j=s.state)==null?void 0:j.saving},(j,B)=>{var W,G,ee;B&&!j&&(((G=(W=s.state)==null?void 0:W.validationErrors)!=null?G:[]).length>0||(ee=s.state)!=null&&ee.error||(a.value=!1,A()))}),(j,B)=>(O(),P("section",Eh,[o("header",bh,[o("div",null,[o("h2",Ah,p(l(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),o("p",yh,p(l(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),o("div",Th,[oe(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:l(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":B[0]||(B[0]=W=>e.state.search=W),onKeyup:jt(U,["enter"]),"aria-label":l(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Oh),[[_e,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:M,disabled:e.state.loading,title:l(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":l(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[B[7]||(B[7]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",vh,p(l(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Rh),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:T},[B[8]||(B[8]=o("i",{class:"fa-solid fa-plus"},null,-1)),Ve(" "+p(l(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(O(),P("div",xh,p(e.state.error),1)):e.state.loading?(O(),P("div",Ph,[Ge(Ps,{type:"table",rows:5,columns:5})])):(O(),P("div",Nh,[o("div",Mh,[o("table",Ih,[o("thead",null,[o("tr",null,[o("th",kh,p(l(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),o("th",$h,p(l(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),o("th",wh,p(l(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),o("th",Dh,p(l(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),o("th",Uh,p(l(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),B[9]||(B[9]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?ye("",!0):(O(),P("tr",Lh,[o("td",Yh,p(l(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(O(!0),P(Ee,null,Te(_.value,W=>{var G;return O(),P("tr",{key:W.id,class:Ne({"is-active":c.id===W.id})},[o("th",Xh,[o("span",{style:Lt({paddingLeft:`${W.depth*1.5}rem`})},p(W.indentedTitle),5)]),o("td",null,p(W.slug||""),1),o("td",null,p(W.path||l(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),o("td",null,p(W.sort),1),o("td",null,p((G=W.usage)!=null?G:0),1),o("td",Fh,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ee=>q(W),title:l(n)("JEDIT","Edit"),"aria-label":l(n)("JEDIT","Edit")},[B[10]||(B[10]=o("i",{class:"fa-solid fa-pen-to-square"},null,-1)),o("span",Vh,p(l(n)("JEDIT","Edit")),1)],8,Gh),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:ee=>ce(W),title:l(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":l(n)("COM_NXPEASYCART_REMOVE","Remove")},[B[11]||(B[11]=o("i",{class:"fa-solid fa-trash"},null,-1)),o("span",Bh,p(l(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Hh)])],2)}),128))])]),e.state.pagination.pages>1?(O(),P("div",Kh,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:B[1]||(B[1]=W=>ne(e.state.pagination.current-1))},"  ",8,jh),o("span",Jh,p(e.state.pagination.current)+" / "+p(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:B[2]||(B[2]=W=>ne(e.state.pagination.current+1))},"  ",8,qh)])):ye("",!0)]),e.state.lastUpdated?(O(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},p(l(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(ge(e.state.lastUpdated)),9,Wh)):ye("",!0),a.value?(O(),P("div",zh,[o("div",{class:"nxp-ec-modal__backdrop",onClick:H}),o("div",Qh,[o("header",Zh,[o("h3",em,p(c.id?l(n)("JEDIT","Edit"):l(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),o("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:H,title:l(n)("JCLOSE","Close"),"aria-label":l(n)("JCLOSE","Close")},[B[12]||(B[12]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",sm,p(l(n)("JCLOSE","Close")),1)],8,tm)]),o("form",{class:"nxp-ec-form",onSubmit:bt(ie,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(O(),P("div",nm,[o("ul",null,[(O(!0),P(Ee,null,Te(e.state.validationErrors,(W,G)=>(O(),P("li",{key:G},p(W),1))),128))])])):ye("",!0),o("div",om,[o("label",im,p(l(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),oe(o("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[3]||(B[3]=W=>c.title=W),required:"",maxlength:"255"},null,512),[[_e,c.title,void 0,{trim:!0}]])]),o("div",am,[o("label",rm,p(l(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),oe(o("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[4]||(B[4]=W=>c.slug=W),maxlength:"190",onInput:x},null,544),[[_e,c.slug,void 0,{trim:!0}]])]),o("div",lm,[o("label",cm,p(l(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),oe(o("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":B[5]||(B[5]=W=>c.parent_id=W)},[o("option",dm,p(l(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(O(!0),P(Ee,null,Te(C.value,W=>(O(),P("option",{key:W.id,value:W.id},p(W.label),9,um))),128))],512),[[Et,c.parent_id,void 0,{number:!0}]])]),o("div",pm,[o("label",_m,p(l(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),oe(o("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":B[6]||(B[6]=W=>c.sort=W),min:"0",step:"1"},null,512),[[_e,c.sort,void 0,{number:!0}]])]),o("footer",fm,[o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[B[13]||(B[13]=o("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ve(" "+p(l(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,hm),o("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:H},[B[14]||(B[14]=o("i",{class:"fa-solid fa-ban"},null,-1)),Ve(" "+p(l(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):ye("",!0)]))]))}},gm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Cm={class:"nxp-ec-admin-panel__header"},Sm={class:"nxp-ec-admin-panel__title"},Em={class:"nxp-ec-admin-panel__lead"},bm={class:"nxp-ec-admin-panel__actions"},Am=["placeholder","aria-label"],ym=["aria-label"],Tm={value:""},Om=["value"],Rm=["disabled","title","aria-label"],vm={class:"nxp-ec-sr-only"},xm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Pm={key:1,class:"nxp-ec-admin-panel__body"},Nm={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},Mm={class:"nxp-ec-admin-panel__table"},Im={key:0,class:"nxp-ec-admin-panel__selection"},km=["aria-label"],$m={value:""},wm=["value"],Dm=["disabled"],Um=["title","aria-label"],Lm={class:"nxp-ec-sr-only"},Ym={class:"nxp-ec-admin-table"},Xm={scope:"col",class:"nxp-ec-admin-table__select"},Fm={scope:"col"},Gm={scope:"col"},Vm={scope:"col"},Hm={scope:"col"},Bm={scope:"col"},Km={scope:"col",class:"nxp-ec-admin-table__actions"},jm={key:0},Jm={colspan:"7"},qm={class:"nxp-ec-admin-table__select"},Wm=["checked","onChange","aria-label"],zm={scope:"row"},Qm=["onClick"],Zm={class:"nxp-ec-admin-table__meta"},eg={class:"nxp-ec-badge"},tg={class:"nxp-ec-admin-table__actions"},sg=["onUpdate:modelValue","aria-label"],ng=["value"],og=["value"],ig=["disabled","onClick"],ag={key:1,class:"nxp-ec-admin-pagination"},rg=["disabled"],lg={class:"nxp-ec-admin-pagination__status"},cg=["disabled"],dg=["title"],ug={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},pg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},_g={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},fg={class:"nxp-ec-admin-panel__sidebar-header"},hg=["title","aria-label"],mg={class:"nxp-ec-sr-only"},gg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Cg={class:"nxp-ec-admin-panel__section"},Sg={class:"nxp-ec-admin-list"},Eg={class:"nxp-ec-admin-list__title"},bg={class:"nxp-ec-admin-list__meta"},Ag={class:"nxp-ec-admin-panel__section"},yg={class:"nxp-ec-admin-panel__total"},Tg={class:"nxp-ec-admin-panel__section"},Og={class:"nxp-ec-admin-address"},Rg={class:"nxp-ec-admin-panel__section"},vg={key:0,class:"nxp-ec-admin-address"},xg={key:1,class:"nxp-ec-admin-panel__muted"},Pg={key:1,class:"nxp-ec-admin-panel__section"},Ng={class:"nxp-ec-admin-list"},Mg={class:"nxp-ec-admin-list__title"},Ig={class:"nxp-ec-admin-list__meta"},kg={class:"nxp-ec-admin-panel__section"},$g=["placeholder"],wg={class:"nxp-ec-admin-form__actions"},Dg=["disabled"],Ug={class:"nxp-ec-admin-panel__section"},Lg={key:0,class:"nxp-ec-admin-list"},Yg={class:"nxp-ec-admin-list__title"},Xg={class:"nxp-ec-admin-list__meta"},Fg={key:1,class:"nxp-ec-admin-panel__muted"},Gg=At({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=ke({}),r=Fe(""),d=Fe(""),u=Se(()=>d.value.trim().length>0),_=Se(()=>{var I;const N=(I=s.state)==null?void 0:I.selection;return!N||typeof N.values!="function"?[]:Array.from(N.values())}),f=Se(()=>_.value.length>0);De(_,N=>{N.length||(r.value="")}),De(()=>{var N;return(N=s.state.activeOrder)==null?void 0:N.id},()=>{d.value=""}),De(()=>s.state.items,N=>{Array.isArray(N)&&N.forEach(I=>{!I||typeof I.id=="undefined"||a[I.id]||(a[I.id]=I.state)})},{immediate:!0});const c=(N,I)=>{const L=(Number(N)||0)/100,$=(I||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:$}).format(L)}catch(V){return`${$} ${L.toFixed(2)}`}},C=N=>{if(!N)return"";const I=new Date(N);return Number.isNaN(I.getTime())?N:I.toLocaleString()},A=N=>N===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(N)]),v=N=>{if(!N)return"";const I=`COM_NXPEASYCART_ORDERS_STATE_${String(N).toUpperCase()}`;return n(I,N)},x=N=>s.state.orderStates.filter(I=>I!==N.state),D=N=>(a[N.id]||N.state)!==N.state,T=N=>!N||typeof N!="object"?[]:Object.entries(N).filter(([,I])=>I!=null&&`${I}`.trim()!=="").map(([I,L])=>({key:I,value:`${L}`.trim()})),q=()=>{i("refresh")},H=()=>{i("search")},M=()=>{i("filter",s.state.filterState)},U=N=>{i("view",N)},ne=()=>{i("close")},ie=N=>{const I=a[N.id]||N.state;I!==N.state&&i("transition",{id:N.id,state:I})},ce=N=>{i("page",N)},ge=N=>{var I,L,$,V;return(V=($=(L=(I=s.state)==null?void 0:I.selection)==null?void 0:L.has)==null?void 0:$.call(L,N))!=null?V:!1},j=N=>{i("toggle-selection",N)},B=()=>{r.value="",i("clear-selection")},W=()=>{!f.value||!r.value||i("bulk-transition",{ids:[..._.value],state:r.value})},G=()=>{if(!s.state.activeOrder)return;const N=d.value.trim();N&&(i("add-note",{id:s.state.activeOrder.id,message:N}),d.value="")},ee=Se(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(_.value.length)],"ordersSelectedCount")),pe=N=>{var I,L,$,V,Q,le,X,y,g,re,de,ue;if(!N||!N.action)return"";switch(N.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const $e=v((L=(I=N.context)==null?void 0:I.from)!=null?L:""),m=v((V=($=N.context)==null?void 0:$.to)!=null?V:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[$e||((Q=N.context)==null?void 0:Q.from)||"",m||((le=N.context)==null?void 0:le.to)||""],"ordersTimelineState")}case"order.note":return((X=N.context)==null?void 0:X.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const $e=((y=N.context)==null?void 0:y.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),m=c((re=(g=N.context)==null?void 0:g.amount_cents)!=null?re:0,(ue=(de=s.state)==null?void 0:de.activeOrder)==null?void 0:ue.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[$e,m],"ordersTimelinePaymentRecorded")}default:return N.action}},te=N=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(N.status||"").toUpperCase()}`,N.status||""),z=N=>{if(!N)return"";try{const I=new Date(N),$=new Date-I,V=Math.floor($/1e3),Q=Math.floor(V/60),le=Math.floor(Q/60);return V<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Q<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Q]):le<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[le]):I.toLocaleString()}catch(I){return N}};return(N,I)=>(O(),P("section",gm,[o("header",Cm,[o("div",null,[o("h2",Sm,p(l(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),o("p",Em,p(l(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),o("div",bm,[oe(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:l(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":I[0]||(I[0]=L=>e.state.search=L),onKeyup:jt(H,["enter"]),"aria-label":l(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Am),[[_e,e.state.search]]),oe(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":I[1]||(I[1]=L=>e.state.filterState=L),onChange:M,"aria-label":l(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[o("option",Tm,"  "+p(l(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(O(!0),P(Ee,null,Te(e.state.orderStates,L=>(O(),P("option",{key:L,value:L},p(v(L)),9,Om))),128))],40,ym),[[Et,e.state.filterState]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:q,disabled:e.state.loading,title:l(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":l(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[I[6]||(I[6]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",vm,p(l(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Rm)])]),e.state.error?(O(),P("div",xm,p(e.state.error),1)):e.state.loading?(O(),P("div",Pm,[Ge(Ps,{type:"table",rows:5,columns:7})])):(O(),P("div",Nm,[o("div",Mm,[f.value?(O(),P("div",Im,[o("span",null,p(ee.value),1),oe(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":I[2]||(I[2]=L=>r.value=L),"aria-label":l(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[o("option",$m,p(l(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(O(!0),P(Ee,null,Te(e.state.orderStates,L=>(O(),P("option",{key:`bulk-${L}`,value:L},p(v(L)),9,wm))),128))],8,km),[[Et,r.value]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!r.value||e.state.saving,onClick:W},[I[7]||(I[7]=o("i",{class:"fa-solid fa-check"},null,-1)),Ve(" "+p(l(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,Dm),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:B,title:l(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":l(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[I[8]||(I[8]=o("i",{class:"fa-solid fa-xmark"},null,-1)),o("span",Lm,p(l(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,Um)])):ye("",!0),o("table",Ym,[o("thead",null,[o("tr",null,[o("th",Xm,p(l(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),o("th",Fm,p(l(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),o("th",Gm,p(l(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),o("th",Vm,p(l(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),o("th",Hm,p(l(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),o("th",Bm,p(l(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),o("th",Km,p(l(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),o("tbody",null,[e.state.items.length?ye("",!0):(O(),P("tr",jm,[o("td",Jm,p(l(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(O(!0),P(Ee,null,Te(e.state.items,L=>{var $,V,Q;return O(),P("tr",{key:L.id,class:Ne({"is-active":e.state.activeOrder&&e.state.activeOrder.id===L.id})},[o("td",qm,[o("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:ge(L.id),onChange:le=>j(L.id),"aria-label":l(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Wm)]),o("th",zm,[o("button",{class:"nxp-ec-link-button",type:"button",onClick:le=>U(L)},p(L.order_no),9,Qm)]),o("td",null,[o("div",null,p(L.email),1),o("div",Zm,p(A((Q=L.items_count)!=null?Q:(V=($=L.items)==null?void 0:$.length)!=null?V:0)),1)]),o("td",null,p(c(L.total_cents,L.currency)),1),o("td",null,[o("span",eg,p(v(L.state)),1)]),o("td",null,p(C(L.modified||L.created)),1),o("td",tg,[oe(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":le=>a[L.id]=le,"aria-label":l(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[o("option",{value:L.state},p(v(L.state)),9,ng),(O(!0),P(Ee,null,Te(x(L),le=>(O(),P("option",{key:le,value:le},p(v(le)),9,og))),128))],8,sg),[[Et,a[L.id]]]),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!D(L),onClick:le=>ie(L)},p(l(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,ig)])],2)}),128))])]),e.state.pagination.pages>1?(O(),P("div",ag,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:I[3]||(I[3]=L=>ce(e.state.pagination.current-1))},"  ",8,rg),o("span",lg,p(e.state.pagination.current)+" / "+p(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:I[4]||(I[4]=L=>ce(e.state.pagination.current+1))},"  ",8,cg)])):ye("",!0)]),e.state.lastUpdated?(O(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},p(l(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(z(e.state.lastUpdated)),9,dg)):ye("",!0),e.state.activeOrder?(O(),P("div",ug,[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:ne}),o("div",pg,[o("aside",_g,[o("header",fg,[o("h3",null,p(l(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+p(e.state.activeOrder.order_no),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:ne,title:l(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":l(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[I[9]||(I[9]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",mg,p(l(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,hg)]),e.state.transitionError?(O(),P("div",gg,p(e.state.transitionError),1)):ye("",!0),o("section",Cg,[o("h4",null,p(l(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),o("ul",Sg,[(O(!0),P(Ee,null,Te(e.state.activeOrder.items,L=>(O(),P("li",{key:L.id},[o("div",Eg,[Ve(p(L.title)+" ",1),o("small",null,"("+p(L.sku)+")",1)]),o("div",bg,"  "+p(L.qty)+"  "+p(c(L.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),o("section",Ag,[o("h4",null,p(l(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),o("p",yg,p(c(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),o("section",Tg,[o("h4",null,p(l(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),o("address",Og,[(O(!0),P(Ee,null,Te(T(e.state.activeOrder.billing),L=>(O(),P("span",{key:L.key},p(L.value),1))),128))])]),o("section",Rg,[o("h4",null,p(l(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(O(),P("address",vg,[(O(!0),P(Ee,null,Te(T(e.state.activeOrder.shipping),L=>(O(),P("span",{key:L.key},p(L.value),1))),128))])):(O(),P("p",xg,p(l(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(O(),P("section",Pg,[o("h4",null,p(l(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),o("ul",Ng,[(O(!0),P(Ee,null,Te(e.state.activeOrder.transactions,L=>(O(),P("li",{key:L.id},[o("div",Mg,p(L.gateway)+"  "+p(c(L.amount_cents,e.state.activeOrder.currency)),1),o("div",Ig,p(te(L))+"  "+p(C(L.created)),1)]))),128))])])):ye("",!0),o("section",kg,[o("h4",null,p(l(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),o("form",{class:"nxp-ec-admin-form",onSubmit:bt(G,["prevent"])},[oe(o("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":I[5]||(I[5]=L=>d.value=L),placeholder:l(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,$g),[[_e,d.value]]),o("div",wg,[o("button",{class:"nxp-ec-btn",type:"submit",disabled:!u.value||e.state.saving},[I[10]||(I[10]=o("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ve(" "+p(l(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,Dg)])],32)]),o("section",Ug,[o("h4",null,p(l(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),e.state.activeOrder.timeline&&e.state.activeOrder.timeline.length?(O(),P("ul",Lg,[(O(!0),P(Ee,null,Te(e.state.activeOrder.timeline,L=>(O(),P("li",{key:L.id},[o("div",Yg,p(pe(L)),1),o("div",Xg,p(C(L.created)),1)]))),128))])):(O(),P("p",Fg,p(l(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):ye("",!0)]))]))}},[["__scopeId","data-v-f2999fa9"]]),Vg={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},Hg={class:"nxp-ec-admin-panel__header"},Bg={class:"nxp-ec-admin-panel__title"},Kg={class:"nxp-ec-admin-panel__lead"},jg={class:"nxp-ec-admin-panel__actions"},Jg=["placeholder","aria-label"],qg=["disabled","title","aria-label"],Wg={class:"nxp-ec-sr-only"},zg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Qg={key:1,class:"nxp-ec-admin-panel__body"},Zg={key:2,class:"nxp-ec-admin-panel__body"},eC={class:"nxp-ec-admin-panel__table"},tC={class:"nxp-ec-admin-table"},sC={scope:"col"},nC={scope:"col"},oC={scope:"col"},iC={scope:"col"},aC={scope:"col"},rC={key:0},lC={colspan:"5"},cC={scope:"row"},dC=["onClick"],uC={key:0,class:"nxp-ec-admin-pagination"},pC=["disabled"],_C={class:"nxp-ec-admin-pagination__status"},fC=["disabled"],hC=["title"],mC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},gC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},CC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},SC={class:"nxp-ec-admin-panel__sidebar-header"},EC=["title","aria-label"],bC={class:"nxp-ec-sr-only"},AC={class:"nxp-ec-admin-panel__section"},yC={class:"nxp-ec-admin-summary"},TC={class:"nxp-ec-admin-panel__section"},OC={class:"nxp-ec-admin-address"},RC={class:"nxp-ec-admin-panel__section"},vC={key:0,class:"nxp-ec-admin-address"},xC={key:1,class:"nxp-ec-admin-panel__muted"},PC={class:"nxp-ec-admin-panel__section"},NC={key:0,class:"nxp-ec-admin-list"},MC={class:"nxp-ec-admin-list__title"},IC={class:"nxp-ec-admin-list__meta"},kC={key:1,class:"nxp-ec-admin-panel__muted"},$C=At({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=(x,D)=>{const T=(Number(x)||0)/100,q=(D||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:q}).format(T)}catch(H){return`${q} ${T.toFixed(2)}`}},r=x=>{if(!x)return"";const D=new Date(x);return Number.isNaN(D.getTime())?x:D.toLocaleString()},d=x=>!x||typeof x!="object"?[]:Object.entries(x).filter(([,D])=>D!=null&&`${D}`.trim()!=="").map(([D,T])=>({key:D,value:`${T}`.trim()})),u=x=>{if(!x)return"";const D=`COM_NXPEASYCART_ORDERS_STATE_${String(x).toUpperCase()}`;return n(D,x)},_=()=>i("refresh"),f=()=>i("search"),c=x=>i("page",x),C=x=>i("view",x),A=()=>i("close"),v=x=>{if(!x)return"";try{const D=new Date(x),q=new Date-D,H=Math.floor(q/1e3),M=Math.floor(H/60),U=Math.floor(M/60);return H<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):M<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[M]):U<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[U]):D.toLocaleString()}catch(D){return x}};return(x,D)=>{var T,q,H;return O(),P("section",Vg,[o("header",Hg,[o("div",null,[o("h2",Bg,p(l(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),o("p",Kg,p(l(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),o("div",jg,[oe(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:l(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=M=>e.state.search=M),onKeyup:jt(f,["enter"]),"aria-label":l(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,Jg),[[_e,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:l(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":l(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[D[3]||(D[3]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",Wg,p(l(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,qg)])]),e.state.error?(O(),P("div",zg,p(e.state.error),1)):e.state.loading?(O(),P("div",Qg,[Ge(Ps,{type:"table",rows:5,columns:5})])):(O(),P("div",Zg,[o("div",eC,[o("table",tC,[o("thead",null,[o("tr",null,[o("th",sC,p(l(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),o("th",nC,p(l(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),o("th",oC,p(l(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),o("th",iC,p(l(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),o("th",aC,p(l(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),o("tbody",null,[e.state.items.length?ye("",!0):(O(),P("tr",rC,[o("td",lC,p(l(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(O(!0),P(Ee,null,Te(e.state.items,M=>{var U;return O(),P("tr",{key:M.email,class:Ne({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===M.email})},[o("th",cC,[o("button",{class:"nxp-ec-link-button",type:"button",onClick:ne=>C(M)},p(M.email),9,dC)]),o("td",null,p(((U=M.meta)==null?void 0:U.name)||""),1),o("td",null,p(M.orders_count),1),o("td",null,p(a(M.total_spent_cents,M.currency||e.baseCurrency)),1),o("td",null,p(r(M.last_order)),1)],2)}),128))])]),e.state.pagination.pages>1?(O(),P("div",uC,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[1]||(D[1]=M=>c(e.state.pagination.current-1))},"  ",8,pC),o("span",_C,p(e.state.pagination.current)+" / "+p(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[2]||(D[2]=M=>c(e.state.pagination.current+1))},"  ",8,fC)])):ye("",!0)]),e.state.lastUpdated?(O(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},p(l(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(v(e.state.lastUpdated)),9,hC)):ye("",!0),e.state.activeCustomer?(O(),P("div",mC,[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:A}),o("div",gC,[o("aside",CC,[o("header",SC,[o("h3",null,p(e.state.activeCustomer.email),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:A,title:l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[D[4]||(D[4]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",bC,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,EC)]),o("section",AC,[o("h4",null,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),o("dl",yC,[o("div",null,[o("dt",null,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),o("dd",null,p(((T=e.state.activeCustomer.meta)==null?void 0:T.name)||""),1)]),o("div",null,[o("dt",null,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),o("dd",null,p(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),o("div",null,[o("dt",null,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),o("dd",null,p(e.state.activeCustomer.orders_count),1)]),o("div",null,[o("dt",null,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),o("dd",null,p(r(e.state.activeCustomer.last_order)),1)])])]),o("section",TC,[o("h4",null,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),o("address",OC,[(O(!0),P(Ee,null,Te(d((q=e.state.activeCustomer.meta)==null?void 0:q.billing),M=>(O(),P("span",{key:M.key},p(M.value),1))),128))])]),o("section",RC,[o("h4",null,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(H=e.state.activeCustomer.meta)!=null&&H.shipping?(O(),P("address",vC,[(O(!0),P(Ee,null,Te(d(e.state.activeCustomer.meta.shipping),M=>(O(),P("span",{key:M.key},p(M.value),1))),128))])):(O(),P("p",xC,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),o("section",PC,[o("h4",null,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(O(),P("ul",NC,[(O(!0),P(Ee,null,Te(e.state.activeCustomer.orders,M=>(O(),P("li",{key:M.id},[o("div",MC,p(M.order_no)+"  "+p(a(M.total_cents,M.currency||e.baseCurrency)),1),o("div",IC,p(u(M.state))+"  "+p(r(M.created)),1)]))),128))])):(O(),P("p",kC,p(l(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))])])])])):ye("",!0)]))])}}},[["__scopeId","data-v-4fa39d6b"]]),wC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},DC={class:"nxp-ec-admin-panel__header"},UC={class:"nxp-ec-admin-panel__title"},LC={class:"nxp-ec-admin-panel__lead"},YC={class:"nxp-ec-admin-panel__actions"},XC=["placeholder","aria-label"],FC=["disabled","title","aria-label"],GC={class:"nxp-ec-sr-only"},VC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},HC={key:1,class:"nxp-ec-admin-panel__loading"},BC={key:2,class:"nxp-ec-admin-panel__body"},KC={class:"nxp-ec-admin-panel__table"},jC={class:"nxp-ec-admin-table"},JC={scope:"col"},qC={scope:"col"},WC={scope:"col"},zC={scope:"col"},QC={scope:"col"},ZC={scope:"col"},eS={key:0},tS={colspan:"7"},sS={scope:"row"},nS={class:"nxp-ec-admin-table__actions"},oS=["onClick","title","aria-label"],iS={class:"nxp-ec-sr-only"},aS=["onClick","title","aria-label"],rS={class:"nxp-ec-sr-only"},lS={key:0,class:"nxp-ec-admin-pagination"},cS=["disabled"],dS={class:"nxp-ec-admin-pagination__status"},uS=["disabled"],pS={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},_S={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},fS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},hS={class:"nxp-ec-admin-panel__sidebar-header"},mS=["title","aria-label"],gS={class:"nxp-ec-sr-only"},CS={class:"nxp-ec-form-field"},SS={class:"nxp-ec-form-label",for:"coupon-code"},ES={class:"nxp-ec-form-field"},bS={class:"nxp-ec-form-label",for:"coupon-type"},AS={value:"percent"},yS={value:"fixed"},TS={class:"nxp-ec-form-field"},OS={class:"nxp-ec-form-label",for:"coupon-value"},RS={class:"nxp-ec-form-field"},vS={class:"nxp-ec-form-label",for:"coupon-min-total"},xS={class:"nxp-ec-form-field"},PS={class:"nxp-ec-form-label",for:"coupon-start"},NS={class:"nxp-ec-form-field"},MS={class:"nxp-ec-form-label",for:"coupon-end"},IS={class:"nxp-ec-form-field"},kS={class:"nxp-ec-form-label",for:"coupon-max-uses"},$S={class:"nxp-ec-form-field nxp-ec-form-field--inline"},wS={class:"nxp-ec-form-label",for:"coupon-active"},DS={class:"nxp-ec-modal__actions"},US=["disabled"],LS=["disabled"],YS=["disabled"],XS=At({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=Se(()=>(s.baseCurrency||"USD").toUpperCase()),r=ke({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),d=Se(()=>r.open),u=()=>i("refresh"),_=()=>i("search"),f=H=>i("page",H),c=()=>{Object.assign(r,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},C=H=>{var M,U;Object.assign(r,{open:!0,id:H.id,code:H.code,type:H.type,value:H.value,min_total:(U=H.min_total)!=null?U:((M=H.min_total_cents)!=null?M:0)/100,start:H.start?H.start.substring(0,10):"",end:H.end?H.end.substring(0,10):"",max_uses:H.max_uses,active:H.active})},A=()=>{r.open=!1},v=()=>{const H={id:r.id||void 0,code:r.code,type:r.type,value:r.value,min_total:r.min_total||0,start:r.start||null,end:r.end||null,max_uses:r.max_uses!==null&&r.max_uses!==""?r.max_uses:null,active:r.active};i("save",H)},x=H=>{const M=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(M)&&(i("delete",[H.id]),r.id===H.id&&A())},D=(H,M)=>{const U=(Number(H)||0)/100,ne=(M||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ne}).format(U)}catch(ie){return`${ne} ${U.toFixed(2)}`}},T=H=>H.type==="percent"?`${H.value}%`:D(H.value*100,a.value),q=H=>H==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return De(()=>s.state.saving,(H,M)=>{M&&!H&&!s.state.error&&r.open&&A()}),(H,M)=>(O(),P("section",wC,[o("header",DC,[o("div",null,[o("h2",UC,p(l(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),o("p",LC,p(l(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),o("div",YC,[oe(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:l(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":M[0]||(M[0]=U=>e.state.search=U),onKeyup:jt(_,["enter"]),"aria-label":l(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,XC),[[_e,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:l(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":l(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[M[12]||(M[12]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",GC,p(l(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,FC),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:c},[M[13]||(M[13]=o("i",{class:"fa-solid fa-plus"},null,-1)),Ve(" "+p(l(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(O(),P("div",VC,p(e.state.error),1)):e.state.loading?(O(),P("div",HC,p(l(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(O(),P("div",BC,[o("div",KC,[o("table",jC,[o("thead",null,[o("tr",null,[o("th",JC,p(l(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),o("th",qC,p(l(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),o("th",WC,p(l(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),o("th",zC,p(l(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),o("th",QC,p(l(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),o("th",ZC,p(l(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),M[14]||(M[14]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?ye("",!0):(O(),P("tr",eS,[o("td",tS,p(l(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(O(!0),P(Ee,null,Te(e.state.items,U=>(O(),P("tr",{key:U.id,class:Ne({"is-active":r.id===U.id})},[o("th",sS,p(U.code),1),o("td",null,p(q(U.type)),1),o("td",null,p(T(U)),1),o("td",null,p(D(U.min_total_cents,a.value)),1),o("td",null,[o("span",{class:Ne(["nxp-ec-badge",{"is-active":U.active}])},[o("i",{class:Ne(U.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ve(" "+p(U.active?l(n)("JYES","Yes"):l(n)("JNO","No")),1)],2)]),o("td",null,p(U.times_used)+p(U.max_uses?` / ${U.max_uses}`:""),1),o("td",nS,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ne=>C(U),title:l(n)("JEDIT","Edit"),"aria-label":l(n)("JEDIT","Edit")},[M[15]||(M[15]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",iS,p(l(n)("JEDIT","Edit")),1)],8,oS),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ne=>x(U),title:l(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":l(n)("COM_NXPEASYCART_REMOVE","Remove")},[M[16]||(M[16]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",rS,p(l(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,aS)])],2))),128))])]),e.state.pagination.pages>1?(O(),P("div",lS,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:M[1]||(M[1]=U=>f(e.state.pagination.current-1))},"  ",8,cS),o("span",dS,p(e.state.pagination.current)+" / "+p(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:M[2]||(M[2]=U=>f(e.state.pagination.current+1))},"  ",8,uS)])):ye("",!0)]),d.value?(O(),P("div",pS,[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:A}),o("div",_S,[o("aside",fS,[o("header",hS,[o("h3",null,p(r.id?l(n)("JEDIT","Edit"):l(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:A,title:l(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":l(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[M[17]||(M[17]=o("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),o("span",gS,p(l(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,mS)]),o("form",{class:"nxp-ec-form",onSubmit:bt(v,["prevent"]),autocomplete:"off"},[o("div",CS,[o("label",SS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),oe(o("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":M[3]||(M[3]=U=>r.code=U),required:"",maxlength:"64"},null,512),[[_e,r.code,void 0,{trim:!0}]])]),o("div",ES,[o("label",bS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),oe(o("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":M[4]||(M[4]=U=>r.type=U)},[o("option",AS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),o("option",yS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[Et,r.type]])]),o("div",TS,[o("label",OS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),oe(o("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":M[5]||(M[5]=U=>r.value=U),required:""},null,512),[[_e,r.value,void 0,{number:!0}]])]),o("div",RS,[o("label",vS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),oe(o("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":M[6]||(M[6]=U=>r.min_total=U)},null,512),[[_e,r.min_total,void 0,{number:!0}]])]),o("div",xS,[o("label",PS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),oe(o("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":M[7]||(M[7]=U=>r.start=U)},null,512),[[_e,r.start]])]),o("div",NS,[o("label",MS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),oe(o("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":M[8]||(M[8]=U=>r.end=U)},null,512),[[_e,r.end]])]),o("div",IS,[o("label",kS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),oe(o("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":M[9]||(M[9]=U=>r.max_uses=U)},null,512),[[_e,r.max_uses,void 0,{number:!0}]])]),o("div",$S,[o("label",wS,p(l(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),oe(o("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":M[10]||(M[10]=U=>r.active=U)},null,512),[[It,r.active]])]),o("footer",DS,[o("button",{class:"nxp-ec-btn",type:"button",onClick:A,disabled:e.state.saving},p(l(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,US),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},p(e.state.saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,LS)]),r.id?(O(),P("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:M[11]||(M[11]=U=>x(r)),disabled:e.state.saving},[M[18]||(M[18]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Ve(" "+p(l(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,YS)):ye("",!0)],32)])])])):ye("",!0)]))]))}},[["__scopeId","data-v-f3fb8685"]]),FS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},GS={class:"nxp-ec-admin-panel__header"},VS={class:"nxp-ec-admin-panel__title"},HS={class:"nxp-ec-admin-panel__lead"},BS={class:"nxp-ec-settings-tabs"},KS={key:0,class:"nxp-ec-settings-panel"},jS={class:"nxp-ec-settings-panel__header"},JS=["disabled"],qS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},WS={key:1,class:"nxp-ec-admin-panel__loading"},zS={class:"nxp-ec-form-field"},QS={class:"nxp-ec-form-label",for:"settings-store-name"},ZS={class:"nxp-ec-form-field"},eE={class:"nxp-ec-form-label",for:"settings-store-email"},tE={class:"nxp-ec-form-field"},sE={class:"nxp-ec-form-label",for:"settings-store-phone"},nE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},oE={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},iE={class:"nxp-ec-form-help"},aE={class:"nxp-ec-form-field"},rE={class:"nxp-ec-form-label",for:"settings-base-currency"},lE={class:"nxp-ec-form-help"},cE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},dE={class:"nxp-ec-form-label",for:"settings-payments-configured"},uE={class:"nxp-ec-form-help"},pE={class:"nxp-ec-settings-actions"},_E=["disabled"],fE=["disabled"],hE={key:1,class:"nxp-ec-settings-panel"},mE={class:"nxp-ec-settings-panel__header"},gE=["disabled"],CE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},SE={key:1,class:"nxp-ec-settings-grid"},EE={class:"nxp-ec-settings-table"},bE={class:"nxp-ec-admin-table"},AE={scope:"col"},yE={scope:"col"},TE={scope:"col"},OE={scope:"col"},RE={scope:"col"},vE={key:0},xE={colspan:"6"},PE={scope:"row"},NE={class:"nxp-ec-admin-table__actions"},ME=["onClick","title","aria-label"],IE={class:"nxp-ec-sr-only"},kE=["onClick","title","aria-label"],$E={class:"nxp-ec-sr-only"},wE={class:"nxp-ec-form-field"},DE={class:"nxp-ec-form-label",for:"tax-country"},UE={class:"nxp-ec-form-field"},LE={class:"nxp-ec-form-label",for:"tax-region"},YE={class:"nxp-ec-form-field"},XE={class:"nxp-ec-form-label",for:"tax-rate"},FE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},GE={class:"nxp-ec-form-label",for:"tax-inclusive"},VE={class:"nxp-ec-form-field"},HE={class:"nxp-ec-form-label",for:"tax-priority"},BE={class:"nxp-ec-settings-actions"},KE=["disabled"],jE=["disabled"],JE={key:2,class:"nxp-ec-settings-panel"},qE={class:"nxp-ec-settings-panel__header"},WE=["disabled"],zE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},QE={key:1,class:"nxp-ec-settings-grid"},ZE={class:"nxp-ec-settings-table"},eb={class:"nxp-ec-admin-table"},tb={scope:"col"},sb={scope:"col"},nb={scope:"col"},ob={scope:"col"},ib={scope:"col"},ab={scope:"col"},rb={key:0},lb={colspan:"7"},cb={scope:"row"},db={class:"nxp-ec-admin-table__actions"},ub=["onClick","title","aria-label"],pb={class:"nxp-ec-sr-only"},_b=["onClick","title","aria-label"],fb={class:"nxp-ec-sr-only"},hb={class:"nxp-ec-form-field"},mb={class:"nxp-ec-form-label",for:"shipping-name"},gb={class:"nxp-ec-form-field"},Cb={class:"nxp-ec-form-label",for:"shipping-type"},Sb={value:"flat"},Eb={value:"free_over"},bb={class:"nxp-ec-form-field"},Ab={class:"nxp-ec-form-label",for:"shipping-price"},yb={key:0,class:"nxp-ec-form-field"},Tb={class:"nxp-ec-form-label",for:"shipping-threshold"},Ob={class:"nxp-ec-form-field"},Rb={class:"nxp-ec-form-label",for:"shipping-regions"},vb=["placeholder"],xb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Pb={class:"nxp-ec-form-label",for:"shipping-active"},Nb={class:"nxp-ec-settings-actions"},Mb=["disabled"],Ib=["disabled"],kb={key:3,class:"nxp-ec-settings-panel"},$b={class:"nxp-ec-settings-panel__header"},wb={class:"nxp-ec-settings-actions"},Db=["disabled"],Ub={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Lb={key:1,class:"nxp-ec-admin-panel__loading"},Yb={class:"nxp-ec-form-field"},Xb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},Fb={class:"nxp-ec-form-field"},Gb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},Vb={class:"nxp-ec-form-field"},Hb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},Bb={class:"nxp-ec-form-help"},Kb={class:"nxp-ec-form-field"},jb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},Jb={value:"test"},qb={value:"live"},Wb={class:"nxp-ec-form-field"},zb={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},Qb={class:"nxp-ec-form-field"},Zb={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},eA={class:"nxp-ec-form-field"},tA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},sA={class:"nxp-ec-form-help"},nA={class:"nxp-ec-form-field"},oA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},iA={value:"sandbox"},aA={value:"live"},rA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},lA={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},cA={class:"nxp-ec-form-field"},dA={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},uA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},pA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},_A={class:"nxp-ec-form-field"},fA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},hA={class:"nxp-ec-form-field"},mA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},gA=["placeholder"],CA={class:"nxp-ec-form-help"},SA={class:"nxp-ec-form-grid"},EA={class:"nxp-ec-form-field"},bA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},AA={class:"nxp-ec-form-field"},yA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},TA={class:"nxp-ec-form-field"},OA={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},RA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},vA={class:"nxp-ec-settings-actions"},xA=["disabled"],PA=["disabled"],NA={key:4,class:"nxp-ec-settings-panel"},MA={class:"nxp-ec-settings-panel__header"},IA=["disabled"],kA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},$A={key:1,class:"nxp-ec-admin-panel__loading"},wA={class:"nxp-ec-form-help"},DA={class:"nxp-ec-visual-grid"},UA={class:"nxp-ec-visual-field"},LA={class:"nxp-ec-form-label",for:"visual-primary-color"},YA={class:"nxp-ec-color-input-group"},XA=["value"],FA=["placeholder"],GA={class:"nxp-ec-visual-field"},VA={class:"nxp-ec-form-label",for:"visual-text-color"},HA={class:"nxp-ec-color-input-group"},BA=["value"],KA=["placeholder"],jA={class:"nxp-ec-visual-field"},JA={class:"nxp-ec-form-label",for:"visual-surface-color"},qA={class:"nxp-ec-color-input-group"},WA=["value"],zA=["placeholder"],QA={class:"nxp-ec-visual-field"},ZA={class:"nxp-ec-form-label",for:"visual-border-color"},ey={class:"nxp-ec-color-input-group"},ty=["value"],sy=["placeholder"],ny={class:"nxp-ec-visual-field"},oy={class:"nxp-ec-form-label",for:"visual-muted-color"},iy={class:"nxp-ec-color-input-group"},ay=["value"],ry=["placeholder"],ly={class:"nxp-ec-visual-preview"},cy={type:"button",class:"nxp-ec-preview-btn"},dy={class:"nxp-ec-preview-text"},uy={class:"nxp-ec-preview-muted"},py={class:"nxp-ec-settings-actions"},_y=["disabled"],fy=["disabled"],hy=At({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=s.settingsState,r=s.taxState,d=s.shippingState,u=s.paymentsState,_=Fe("general"),f=Se(()=>{var de;const X=s.baseCurrency||"USD",y=typeof c.baseCurrency=="string"?c.baseCurrency.trim():"",g=typeof((de=a==null?void 0:a.values)==null?void 0:de.base_currency)=="string"?a.values.base_currency.trim():"";return(y!==""?y:g!==""?g:X).toUpperCase()}),c=ke({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,baseCurrency:""}),C=ke({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),A=ke({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),v=ke({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),x=ke({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),D=Se(()=>{var y,g;const X=(g=(y=a.values)==null?void 0:y.visual_defaults)!=null?g:{};return{primary:X.primary_color||"#4f6d7a",text:X.text_color||"#1f2933",surface:X.surface_color||"#ffffff",border:X.border_color||"#e4e7ec",muted:X.muted_color||"#6b7280"}}),T=Se(()=>({"--nxp-ec-color-primary":x.primaryColor||D.value.primary,"--nxp-ec-color-text":x.textColor||D.value.text,"--nxp-ec-color-surface":x.surfaceColor||D.value.surface,"--nxp-ec-color-border":x.borderColor||D.value.border,"--nxp-ec-color-muted":x.mutedColor||D.value.muted})),q=(X={})=>{var de,ue,$e,m,E,Y,K,S,h,b,R,k;const y=(de=X==null?void 0:X.store)!=null?de:{},g=(ue=X==null?void 0:X.payments)!=null?ue:{},re=($e=X==null?void 0:X.visual)!=null?$e:{};Object.assign(c,{storeName:(m=y.name)!=null?m:"",storeEmail:(E=y.email)!=null?E:"",storePhone:(Y=y.phone)!=null?Y:"",checkoutPhoneRequired:!!((K=X==null?void 0:X.checkout_phone_required)!=null&&K),paymentsConfigured:!!g.configured,baseCurrency:typeof(X==null?void 0:X.base_currency)=="string"?X.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase()}),Object.assign(x,{primaryColor:(S=re.primary_color)!=null?S:"",textColor:(h=re.text_color)!=null?h:"",surfaceColor:(b=re.surface_color)!=null?b:"",borderColor:(R=re.border_color)!=null?R:"",mutedColor:(k=re.muted_color)!=null?k:""})},H=(X={})=>{var ue,$e,m,E,Y,K,S,h,b,R,k,w,Z,F,se,ae,he,me,be,ve,Ue,He,we,tt;const y=(ue=X.stripe)!=null?ue:{},g=($e=X.paypal)!=null?$e:{},re=(m=X.cod)!=null?m:{},de=(E=X.bank_transfer)!=null?E:{};Object.assign(v.stripe,{publishable_key:(Y=y.publishable_key)!=null?Y:"",secret_key:(K=y.secret_key)!=null?K:"",webhook_secret:(S=y.webhook_secret)!=null?S:"",mode:(h=y.mode)!=null?h:"test"}),Object.assign(v.paypal,{client_id:(b=g.client_id)!=null?b:"",client_secret:(R=g.client_secret)!=null?R:"",webhook_id:(k=g.webhook_id)!=null?k:"",mode:(w=g.mode)!=null?w:"sandbox"}),Object.assign(v.cod,{enabled:re.enabled!==void 0?!!re.enabled:v.cod.enabled,label:(F=(Z=re.label)!=null?Z:v.cod.label)!=null?F:"Cash on delivery"}),Object.assign(v.bank_transfer,{enabled:de.enabled!==void 0?!!de.enabled:v.bank_transfer.enabled,label:(ae=(se=de.label)!=null?se:v.bank_transfer.label)!=null?ae:"Bank transfer",instructions:(me=(he=de.instructions)!=null?he:v.bank_transfer.instructions)!=null?me:"",account_name:(ve=(be=de.account_name)!=null?be:v.bank_transfer.account_name)!=null?ve:"",iban:(He=(Ue=de.iban)!=null?Ue:v.bank_transfer.iban)!=null?He:"",bic:(tt=(we=de.bic)!=null?we:v.bank_transfer.bic)!=null?tt:""})};De(()=>a.values,X=>{q(X!=null?X:{})},{immediate:!0});const M=()=>i("refresh-settings"),U=()=>{const X=(c.baseCurrency||"").trim().toUpperCase();i("save-settings",{store:{name:c.storeName,email:c.storeEmail,phone:c.storePhone,base_currency:X},payments:{configured:c.paymentsConfigured},base_currency:X,checkout_phone_required:c.checkoutPhoneRequired})},ne=()=>{var X;q((X=a.values)!=null?X:{})};De(()=>a.saving,(X,y)=>{var g;y&&!X&&!a.error&&q((g=a.values)!=null?g:{})}),De(()=>c.baseCurrency,X=>{if(typeof X=="string"){const y=X.replace(/[^A-Za-z]/g,"").toUpperCase();y!==X&&(c.baseCurrency=y)}}),De(()=>u.config,X=>{H(X!=null?X:{})},{immediate:!0}),De(()=>u.saving,(X,y)=>{var g;y&&!X&&!u.error&&H((g=u.config)!=null?g:{})});const ie=()=>i("refresh-payments"),ce=()=>{const X=JSON.parse(JSON.stringify(v));i("save-payments",X)},ge=()=>{var X;H((X=u.config)!=null?X:{})},j=()=>i("refresh-settings"),B=()=>{i("save-settings",{visual:{primary_color:x.primaryColor,text_color:x.textColor,surface_color:x.surfaceColor,border_color:x.borderColor,muted_color:x.mutedColor}})},W=()=>{var y,g,re,de,ue,$e,m;const X=(g=(y=a.values)==null?void 0:y.visual)!=null?g:{};Object.assign(x,{primaryColor:(re=X.primary_color)!=null?re:"",textColor:(de=X.text_color)!=null?de:"",surfaceColor:(ue=X.surface_color)!=null?ue:"",borderColor:($e=X.border_color)!=null?$e:"",mutedColor:(m=X.muted_color)!=null?m:""})},G=()=>i("refresh-tax"),ee=()=>i("refresh-shipping"),pe=X=>{Object.assign(C,{id:X.id,country:X.country,region:X.region,rate:X.rate,inclusive:X.inclusive,priority:X.priority})},te=()=>{Object.assign(C,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},z=()=>{i("save-tax",{id:C.id||void 0,country:C.country,region:C.region,rate:C.rate,inclusive:C.inclusive,priority:C.priority})},N=X=>{const y=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(y)&&(i("delete-tax",[X.id]),C.id===X.id&&te())};De(()=>r.saving,(X,y)=>{y&&!X&&!r.error&&te()});const I=X=>{var y,g,re;Object.assign(A,{id:X.id,name:X.name,type:X.type,price:(g=X.price)!=null?g:((y=X.price_cents)!=null?y:0)/100,threshold:X.threshold!==null&&X.threshold!==void 0?X.threshold:((re=X.threshold_cents)!=null?re:0)/100,regions:X.regions&&X.regions.length?X.regions.join(", "):"",active:X.active})},L=()=>{Object.assign(A,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},$=()=>{const X={id:A.id||void 0,name:A.name,type:A.type,price:A.price,threshold:A.type==="free_over"?A.threshold:0,regions:A.regions,active:A.active};i("save-shipping",X)},V=X=>{const y=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(y)&&(i("delete-shipping",[X.id]),A.id===X.id&&L())};De(()=>d.saving,(X,y)=>{y&&!X&&!d.error&&L()});const Q=(X,y)=>{const g=(Number(X)||0)/100,re=(y||"").toUpperCase()||f.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:re}).format(g)}catch(de){return`${re} ${g.toFixed(2)}`}},le=X=>X==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(X,y)=>(O(),P("section",FS,[o("header",GS,[o("div",null,[o("h2",VS,p(l(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),o("p",HS,p(l(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),o("nav",BS,[o("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:y[0]||(y[0]=g=>_.value="general")},p(l(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),o("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="tax"}]),onClick:y[1]||(y[1]=g=>_.value="tax")},p(l(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),o("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="shipping"}]),onClick:y[2]||(y[2]=g=>_.value="shipping")},p(l(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),o("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:y[3]||(y[3]=g=>_.value="payments")},p(l(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),o("button",{type:"button",class:Ne(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:y[4]||(y[4]=g=>_.value="visual")},p(l(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(O(),P("div",KS,[o("header",jS,[o("h3",null,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:M,disabled:l(a).loading},p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,JS)]),l(a).error?(O(),P("div",qS,p(l(a).error),1)):l(a).loading?(O(),P("div",WS,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(O(),P("form",{key:2,class:"nxp-ec-settings-form",onSubmit:bt(U,["prevent"])},[o("div",zS,[o("label",QS,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),oe(o("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[5]||(y[5]=g=>c.storeName=g),maxlength:"190"},null,512),[[_e,c.storeName,void 0,{trim:!0}]])]),o("div",ZS,[o("label",eE,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),oe(o("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":y[6]||(y[6]=g=>c.storeEmail=g)},null,512),[[_e,c.storeEmail,void 0,{trim:!0}]])]),o("div",tE,[o("label",sE,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),oe(o("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[7]||(y[7]=g=>c.storePhone=g),maxlength:"64"},null,512),[[_e,c.storePhone,void 0,{trim:!0}]])]),o("div",nE,[o("label",oE,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),oe(o("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":y[8]||(y[8]=g=>c.checkoutPhoneRequired=g)},null,512),[[It,c.checkoutPhoneRequired]]),o("p",iE,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),o("div",aE,[o("label",rE,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),oe(o("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":y[9]||(y[9]=g=>c.baseCurrency=g),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[_e,c.baseCurrency,void 0,{trim:!0}]]),o("p",lE,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),o("div",cE,[o("label",dE,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),oe(o("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":y[10]||(y[10]=g=>c.paymentsConfigured=g)},null,512),[[It,c.paymentsConfigured]]),o("p",uE,p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),o("div",pE,[o("button",{class:"nxp-ec-btn",type:"button",onClick:ne,disabled:l(a).saving},p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,_E),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:l(a).saving},p(l(a).saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,fE)])],32))])):_.value==="tax"?(O(),P("div",hE,[o("header",mE,[o("h3",null,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:G,disabled:l(r).loading},p(l(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,gE)]),l(r).error?(O(),P("div",CE,p(l(r).error),1)):(O(),P("div",SE,[o("div",EE,[o("table",bE,[o("thead",null,[o("tr",null,[o("th",AE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),o("th",yE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),o("th",TE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),o("th",OE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),o("th",RE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),y[53]||(y[53]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[l(r).items.length?ye("",!0):(O(),P("tr",vE,[o("td",xE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(O(!0),P(Ee,null,Te(l(r).items,g=>{var re;return O(),P("tr",{key:g.id,class:Ne({"is-active":C.id===g.id})},[o("th",PE,p(g.country),1),o("td",null,p(g.region||""),1),o("td",null,p(((re=g.rate)!=null?re:0).toFixed(2))+"%",1),o("td",null,p(g.inclusive?l(n)("JYES","Yes"):l(n)("JNO","No")),1),o("td",null,p(g.priority),1),o("td",NE,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:de=>pe(g),title:l(n)("JEDIT","Edit"),"aria-label":l(n)("JEDIT","Edit")},[y[54]||(y[54]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",IE,p(l(n)("JEDIT","Edit")),1)],8,ME),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:de=>N(g),title:l(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":l(n)("COM_NXPEASYCART_REMOVE","Remove")},[y[55]||(y[55]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",$E,p(l(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,kE)])],2)}),128))])])]),o("form",{class:"nxp-ec-settings-form",onSubmit:bt(z,["prevent"])},[o("h4",null,p(C.id?l(n)("JEDIT","Edit"):l(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),o("div",wE,[o("label",DE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),oe(o("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[11]||(y[11]=g=>C.country=g),maxlength:"2",required:""},null,512),[[_e,C.country,void 0,{trim:!0}]])]),o("div",UE,[o("label",LE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),oe(o("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[12]||(y[12]=g=>C.region=g)},null,512),[[_e,C.region,void 0,{trim:!0}]])]),o("div",YE,[o("label",XE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),oe(o("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":y[13]||(y[13]=g=>C.rate=g),required:""},null,512),[[_e,C.rate,void 0,{number:!0}]])]),o("div",FE,[o("label",GE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),oe(o("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":y[14]||(y[14]=g=>C.inclusive=g)},null,512),[[It,C.inclusive]])]),o("div",VE,[o("label",HE,p(l(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),oe(o("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":y[15]||(y[15]=g=>C.priority=g)},null,512),[[_e,C.priority,void 0,{number:!0}]])]),o("div",BE,[o("button",{class:"nxp-ec-btn",type:"button",onClick:te,disabled:l(r).saving},p(l(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,KE),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:l(r).saving},p(l(r).saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,jE)])],32)]))])):_.value==="shipping"?(O(),P("div",JE,[o("header",qE,[o("h3",null,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:ee,disabled:l(d).loading},p(l(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,WE)]),l(d).error?(O(),P("div",zE,p(l(d).error),1)):(O(),P("div",QE,[o("div",ZE,[o("table",eb,[o("thead",null,[o("tr",null,[o("th",tb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),o("th",sb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),o("th",nb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),o("th",ob,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),o("th",ib,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),o("th",ab,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),y[56]||(y[56]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[l(d).items.length?ye("",!0):(O(),P("tr",rb,[o("td",lb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(O(!0),P(Ee,null,Te(l(d).items,g=>(O(),P("tr",{key:g.id,class:Ne({"is-active":A.id===g.id})},[o("th",cb,p(g.name),1),o("td",null,p(le(g.type)),1),o("td",null,p(Q(g.price_cents,f.value)),1),o("td",null,p(g.type==="free_over"?Q(g.threshold_cents,f.value):""),1),o("td",null,p(g.regions&&g.regions.length?g.regions.join(", "):l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),o("td",null,[o("span",{class:Ne(["nxp-ec-badge",{"is-active":g.active}])},[o("i",{class:Ne(g.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ve(" "+p(g.active?l(n)("JYES","Yes"):l(n)("JNO","No")),1)],2)]),o("td",db,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:re=>I(g),title:l(n)("JEDIT","Edit"),"aria-label":l(n)("JEDIT","Edit")},[y[57]||(y[57]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",pb,p(l(n)("JEDIT","Edit")),1)],8,ub),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:re=>V(g),title:l(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":l(n)("COM_NXPEASYCART_REMOVE","Remove")},[y[58]||(y[58]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",fb,p(l(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,_b)])],2))),128))])])]),o("form",{class:"nxp-ec-settings-form",onSubmit:bt($,["prevent"])},[o("h4",null,p(A.id?l(n)("JEDIT","Edit"):l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),o("div",hb,[o("label",mb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),oe(o("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[16]||(y[16]=g=>A.name=g),required:""},null,512),[[_e,A.name,void 0,{trim:!0}]])]),o("div",gb,[o("label",Cb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),oe(o("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":y[17]||(y[17]=g=>A.type=g)},[o("option",Sb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),o("option",Eb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[Et,A.type]])]),o("div",bb,[o("label",Ab,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),oe(o("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":y[18]||(y[18]=g=>A.price=g),required:""},null,512),[[_e,A.price,void 0,{number:!0}]])]),A.type==="free_over"?(O(),P("div",yb,[o("label",Tb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),oe(o("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":y[19]||(y[19]=g=>A.threshold=g),required:""},null,512),[[_e,A.threshold,void 0,{number:!0}]])])):ye("",!0),o("div",Ob,[o("label",Rb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),oe(o("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[20]||(y[20]=g=>A.regions=g),placeholder:l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,vb),[[_e,A.regions,void 0,{trim:!0}]])]),o("div",xb,[o("label",Pb,p(l(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),oe(o("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":y[21]||(y[21]=g=>A.active=g)},null,512),[[It,A.active]])]),o("div",Nb,[o("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:l(d).saving},p(l(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,Mb),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:l(d).saving},p(l(d).saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,Ib)])],32)]))])):_.value==="payments"?(O(),P("div",kb,[o("header",$b,[o("h3",null,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),o("div",wb,[o("button",{class:"nxp-ec-btn",type:"button",onClick:ie,disabled:l(u).loading},p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,Db)])]),l(u).error?(O(),P("div",Ub,p(l(u).error),1)):l(u).loading?(O(),P("div",Lb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(O(),P("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:bt(ce,["prevent"])},[o("fieldset",null,[o("legend",null,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),o("div",Yb,[o("label",Xb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),oe(o("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[22]||(y[22]=g=>v.stripe.publishable_key=g)},null,512),[[_e,v.stripe.publishable_key,void 0,{trim:!0}]])]),o("div",Fb,[o("label",Gb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),oe(o("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":y[23]||(y[23]=g=>v.stripe.secret_key=g),autocomplete:"off"},null,512),[[_e,v.stripe.secret_key,void 0,{trim:!0}]])]),o("div",Vb,[o("label",Hb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),oe(o("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":y[24]||(y[24]=g=>v.stripe.webhook_secret=g),autocomplete:"off"},null,512),[[_e,v.stripe.webhook_secret,void 0,{trim:!0}]]),o("p",Bb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),o("div",Kb,[o("label",jb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),oe(o("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":y[25]||(y[25]=g=>v.stripe.mode=g)},[o("option",Jb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),o("option",qb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Et,v.stripe.mode]])])]),o("fieldset",null,[o("legend",null,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),o("div",Wb,[o("label",zb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),oe(o("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[26]||(y[26]=g=>v.paypal.client_id=g)},null,512),[[_e,v.paypal.client_id,void 0,{trim:!0}]])]),o("div",Qb,[o("label",Zb,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),oe(o("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":y[27]||(y[27]=g=>v.paypal.client_secret=g),autocomplete:"off"},null,512),[[_e,v.paypal.client_secret,void 0,{trim:!0}]])]),o("div",eA,[o("label",tA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),oe(o("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[28]||(y[28]=g=>v.paypal.webhook_id=g)},null,512),[[_e,v.paypal.webhook_id,void 0,{trim:!0}]]),o("p",sA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),o("div",nA,[o("label",oA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),oe(o("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":y[29]||(y[29]=g=>v.paypal.mode=g)},[o("option",iA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),o("option",aA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Et,v.paypal.mode]])])]),o("fieldset",null,[o("legend",null,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),o("div",rA,[o("label",lA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),oe(o("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":y[30]||(y[30]=g=>v.cod.enabled=g)},null,512),[[It,v.cod.enabled]])]),o("div",cA,[o("label",dA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),oe(o("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[31]||(y[31]=g=>v.cod.label=g),placeholder:"Cash on delivery"},null,512),[[_e,v.cod.label,void 0,{trim:!0}]])])]),o("fieldset",null,[o("legend",null,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),o("div",uA,[o("label",pA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),oe(o("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":y[32]||(y[32]=g=>v.bank_transfer.enabled=g)},null,512),[[It,v.bank_transfer.enabled]])]),o("div",_A,[o("label",fA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),oe(o("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[33]||(y[33]=g=>v.bank_transfer.label=g),placeholder:"Bank transfer"},null,512),[[_e,v.bank_transfer.label,void 0,{trim:!0}]])]),o("div",hA,[o("label",mA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),oe(o("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":y[34]||(y[34]=g=>v.bank_transfer.instructions=g),placeholder:l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,gA),[[_e,v.bank_transfer.instructions]]),o("p",CA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),o("div",SA,[o("div",EA,[o("label",bA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),oe(o("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[35]||(y[35]=g=>v.bank_transfer.account_name=g)},null,512),[[_e,v.bank_transfer.account_name,void 0,{trim:!0}]])]),o("div",AA,[o("label",yA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),oe(o("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[36]||(y[36]=g=>v.bank_transfer.iban=g),maxlength:"34"},null,512),[[_e,v.bank_transfer.iban,void 0,{trim:!0}]])]),o("div",TA,[o("label",OA,p(l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),oe(o("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[37]||(y[37]=g=>v.bank_transfer.bic=g),maxlength:"11"},null,512),[[_e,v.bank_transfer.bic,void 0,{trim:!0}]])])])]),l(u).message?(O(),P("div",RA,p(l(u).message),1)):ye("",!0),o("div",vA,[o("button",{class:"nxp-ec-btn",type:"button",onClick:ge,disabled:l(u).saving},p(l(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,xA),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:l(u).saving},p(l(u).saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,PA)])],32))])):_.value==="visual"?(O(),P("div",NA,[o("header",MA,[o("h3",null,p(l(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:l(a).loading},p(l(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,IA)]),l(a).error?(O(),P("div",kA,p(l(a).error),1)):l(a).loading?(O(),P("div",$A,p(l(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(O(),P("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:bt(B,["prevent"])},[o("p",wA,p(l(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),o("div",DA,[o("div",UA,[o("label",LA,p(l(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),o("div",YA,[o("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:x.primaryColor||D.value.primary,onInput:y[38]||(y[38]=g=>x.primaryColor=g.target.value)},null,40,XA),oe(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[39]||(y[39]=g=>x.primaryColor=g),placeholder:D.value.primary,maxlength:"7"},null,8,FA),[[_e,x.primaryColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y[40]||(y[40]=g=>x.primaryColor="")},p(l(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",GA,[o("label",VA,p(l(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),o("div",HA,[o("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:x.textColor||D.value.text,onInput:y[41]||(y[41]=g=>x.textColor=g.target.value)},null,40,BA),oe(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[42]||(y[42]=g=>x.textColor=g),placeholder:D.value.text,maxlength:"7"},null,8,KA),[[_e,x.textColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y[43]||(y[43]=g=>x.textColor="")},p(l(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",jA,[o("label",JA,p(l(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),o("div",qA,[o("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:x.surfaceColor||D.value.surface,onInput:y[44]||(y[44]=g=>x.surfaceColor=g.target.value)},null,40,WA),oe(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[45]||(y[45]=g=>x.surfaceColor=g),placeholder:D.value.surface,maxlength:"7"},null,8,zA),[[_e,x.surfaceColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y[46]||(y[46]=g=>x.surfaceColor="")},p(l(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",QA,[o("label",ZA,p(l(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),o("div",ey,[o("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:x.borderColor||D.value.border,onInput:y[47]||(y[47]=g=>x.borderColor=g.target.value)},null,40,ty),oe(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[48]||(y[48]=g=>x.borderColor=g),placeholder:D.value.border,maxlength:"7"},null,8,sy),[[_e,x.borderColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y[49]||(y[49]=g=>x.borderColor="")},p(l(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",ny,[o("label",oy,p(l(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),o("div",iy,[o("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:x.mutedColor||D.value.muted,onInput:y[50]||(y[50]=g=>x.mutedColor=g.target.value)},null,40,ay),oe(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[51]||(y[51]=g=>x.mutedColor=g),placeholder:D.value.muted,maxlength:"7"},null,8,ry),[[_e,x.mutedColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:y[52]||(y[52]=g=>x.mutedColor="")},p(l(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),o("div",ly,[o("h4",null,p(l(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),o("div",{class:"nxp-ec-preview-box",style:Lt(T.value)},[o("button",cy,p(l(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),o("p",dy,p(l(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),o("p",uy,p(l(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),o("div",py,[o("button",{class:"nxp-ec-btn",type:"button",onClick:W,disabled:l(a).saving},p(l(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,_y),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:l(a).saving},p(l(a).saving?l(n)("JPROCESSING_REQUEST","Saving"):l(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,fy)])],32))])):ye("",!0)]))}},[["__scopeId","data-v-479830c6"]]),my={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},gy={class:"nxp-ec-admin-panel__header"},Cy={class:"nxp-ec-admin-panel__title"},Sy={class:"nxp-ec-admin-panel__lead"},Ey={class:"nxp-ec-admin-panel__actions"},by=["placeholder","aria-label"],Ay=["value"],yy={value:""},Ty=["value"],Oy=["disabled","title","aria-label"],Ry={class:"nxp-ec-sr-only"},vy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},xy={key:1,class:"nxp-ec-admin-panel__body"},Py={key:2,class:"nxp-ec-admin-panel__body"},Ny={class:"nxp-ec-admin-panel__table"},My={class:"nxp-ec-admin-table"},Iy={scope:"col"},ky={scope:"col"},$y={scope:"col"},wy={scope:"col"},Dy={scope:"col"},Uy={key:0},Ly={colspan:"5"},Yy={class:"nxp-ec-log-entity"},Xy={class:"nxp-ec-log-entity-id"},Fy={class:"nxp-ec-log-context"},Gy={key:0,class:"nxp-ec-admin-pagination"},Vy=["disabled"],Hy={class:"nxp-ec-admin-pagination__status"},By=["disabled"],Ky=["title"],jy=At({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=s.state,r=Se(()=>{const D=new Set;return Array.isArray(a.items)&&a.items.forEach(T=>{T!=null&&T.entity_type&&D.add(T.entity_type)}),a.entity&&D.add(a.entity),Array.from(D).sort()}),d=()=>i("refresh"),u=()=>i("search"),_=D=>i("filter",D),f=D=>i("page",D),c=D=>{if(!D)return"";try{const T=new Date(D.replace(" ","T"));if(!Number.isNaN(T.getTime()))return T.toLocaleString()}catch(T){}return D},C=D=>{if(!D)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(D){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return D.charAt(0).toUpperCase()+D.slice(1)}},A=D=>{if(!(D!=null&&D.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const T=D.user.name||"",q=D.user.username||"";return T&&q?`${T} (${q})`:T||q||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},v=D=>{if(!D||Array.isArray(D)&&!D.length||typeof D=="object"&&!Object.keys(D).length)return"";try{return JSON.stringify(D,null,2)}catch(T){return String(D)}},x=D=>{if(!D)return"";try{const T=new Date(D),H=new Date-T,M=Math.floor(H/1e3),U=Math.floor(M/60),ne=Math.floor(U/60);return M<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):U<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[U]):ne<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ne]):T.toLocaleString()}catch(T){return D}};return(D,T)=>(O(),P("section",my,[o("header",gy,[o("div",null,[o("h2",Cy,p(l(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),o("p",Sy,p(l(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),o("div",Ey,[oe(o("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":T[0]||(T[0]=q=>l(a).search=q),placeholder:l(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":l(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:jt(u,["enter"])},null,40,by),[[_e,l(a).search]]),o("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:l(a).entity,onChange:T[1]||(T[1]=q=>_(q.target.value)),"aria-label":"Entity filter"},[o("option",yy,p(l(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(O(!0),P(Ee,null,Te(r.value,q=>(O(),P("option",{key:q,value:q},p(C(q)),9,Ty))),128))],40,Ay),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:l(a).loading,title:l(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":l(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[T[4]||(T[4]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",Ry,p(l(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,Oy)])]),l(a).error?(O(),P("div",vy,p(l(a).error),1)):l(a).loading?(O(),P("div",xy,[Ge(Ps,{type:"table",rows:5,columns:5})])):(O(),P("div",Py,[o("div",Ny,[o("table",My,[o("thead",null,[o("tr",null,[o("th",Iy,p(l(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),o("th",ky,p(l(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),o("th",$y,p(l(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),o("th",wy,p(l(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),o("th",Dy,p(l(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),o("tbody",null,[l(a).items.length?ye("",!0):(O(),P("tr",Uy,[o("td",Ly,p(l(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(O(!0),P(Ee,null,Te(l(a).items,q=>(O(),P("tr",{key:q.id},[o("td",null,p(c(q.created)),1),o("td",null,[o("span",Yy,p(C(q.entity_type)),1),o("span",Xy,"#"+p(q.entity_id),1)]),o("td",null,p(q.action),1),o("td",null,p(A(q)),1),o("td",null,[o("pre",Fy,p(v(q.context)),1)])]))),128))])]),l(a).pagination.pages>1?(O(),P("div",Gy,[o("button",{class:"nxp-ec-btn",type:"button",disabled:l(a).pagination.current<=1,onClick:T[2]||(T[2]=q=>f(l(a).pagination.current-1))},"  ",8,Vy),o("span",Hy,p(l(a).pagination.current)+" / "+p(l(a).pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:l(a).pagination.current>=l(a).pagination.pages,onClick:T[3]||(T[3]=q=>f(l(a).pagination.current+1))},"  ",8,By)])):ye("",!0)]),l(a).lastUpdated?(O(),P("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:l(a).lastUpdated},p(l(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(x(l(a).lastUpdated)),9,Ky)):ye("",!0)]))]))}},[["__scopeId","data-v-0f086c0e"]]),Jy={key:0,class:"nxp-ec-onboarding"},qy={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},Wy={class:"nxp-ec-onboarding__header"},zy={class:"nxp-ec-onboarding__title"},Qy={class:"nxp-ec-onboarding__lead"},Zy={class:"nxp-ec-onboarding__progress"},eT={class:"nxp-ec-onboarding__progress-bar"},tT={class:"nxp-ec-onboarding__progress-label"},sT={class:"nxp-ec-onboarding__steps"},nT={class:"nxp-ec-onboarding__step-main"},oT={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},iT={key:0,class:"fa-solid fa-circle-check"},aT={key:1,class:"fa-regular fa-circle"},rT={class:"nxp-ec-onboarding__step-actions"},lT=["onClick"],cT=At({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,i=Se(()=>t.steps.length?t.steps.filter(d=>d.completed).length/t.steps.length*100:0),n=Se(()=>`${i.value}%`),a=Se(()=>{const r=t.steps.filter(d=>d.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(r),String(t.steps.length)],"onboardingProgress")});return(r,d)=>e.visible?(O(),P("div",Jy,[o("div",{class:"nxp-ec-onboarding__backdrop",onClick:d[0]||(d[0]=u=>r.$emit("close"))}),o("section",qy,[o("header",Wy,[o("div",null,[o("h2",zy,p(l(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),o("p",Qy,p(l(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),o("button",{type:"button",class:"nxp-ec-link-button",onClick:d[1]||(d[1]=u=>r.$emit("close"))},p(l(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),o("div",Zy,[o("div",eT,[o("span",{style:Lt({width:n.value})},null,4)]),o("span",tT,p(a.value),1)]),o("ol",sT,[(O(!0),P(Ee,null,Te(e.steps,u=>(O(),P("li",{key:u.id,class:Ne({"is-complete":u.completed})},[o("div",nT,[o("span",oT,[u.completed?(O(),P("span",iT)):(O(),P("span",aT))]),o("div",null,[o("h3",null,p(l(s)(u.titleKey,u.titleFallback,[],`${u.id}-title`)),1),o("p",null,p(l(s)(u.descriptionKey,u.descriptionFallback,[],`${u.id}-description`)),1)])]),o("div",rT,[u.link?(O(),P("button",{key:0,type:"button",class:Ne(["nxp-ec-btn",{"nxp-ec-btn--ghost":u.completed}]),onClick:_=>r.$emit("navigate",u)},p(u.completed?l(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${u.id}-action`):l(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${u.id}-action`)),11,lT)):ye("",!0)])],2))),128))])])])):ye("",!0)}},[["__scopeId","data-v-485ff468"]]),dT=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let i=String(e);return t.forEach(a=>{const r=a!=null?a:"";i=i.replace("%s",String(r))}),i},uT=(e,t="",s=[])=>{var a;const i=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(i&&typeof i._=="function"){const r=i._(e);r&&r!==e&&(n=r)}return dT(n,s)};function pT(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const r=t[n];return r!=null&&r!==""?r:a};return{__:(n,a="",r=[],d="")=>{const u=s(d,a);return uT(n,u,r)}}}class _T{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const i={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};i.headers={...i.headers,...s.headers||{}};const n=String(i.method||"GET").toUpperCase();let a=t;this.token&&(i.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const r=await fetch(a,i);let d=null;const u=await r.text();if(u)try{d=JSON.parse(u)}catch(_){}if(!r.ok){const _=new Error((d==null?void 0:d.message)||`Request failed with status ${r.status}`);throw _.code=r.status,_.details=(d==null?void 0:d.data)||(d==null?void 0:d.errors)||null,_}if((d==null?void 0:d.success)===!1){const _=new Error(d.message||"Unknown API error");throw _.details=d.data||d.errors||null,_}return d!=null?d:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const i=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,i);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(i){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,i={}){const n={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,i={}){const n={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var C,A,v,x;const r=new URLSearchParams({limit:String(s),start:String(i)});n&&r.set("search",n);const d=`${t}&${r.toString()}`,_=(C=(await this.get(d,{signal:a})).data)!=null?C:{},f=(v=(A=_.items)!=null?A:_.data)!=null?v:[],c=(x=_.pagination)!=null?x:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCategories({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var _,f,c;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(_=(await this.get(r,{signal:a})).data)!=null?_:{};return{items:(f=u.items)!=null?f:[],pagination:(c=u.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:i=0,search:n="",state:a="",signal:r}){var C,A,v,x;const d=this.mergeParams(t,{limit:s,start:i,search:n||void 0,state:a||void 0}),_=(C=(await this.get(d,{signal:r})).data)!=null?C:{},f=(v=(A=_.items)!=null?A:_.data)!=null?v:[],c=(x=_.pagination)!=null?x:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:c}}async fetchCustomers({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var c,C,A;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(c=(await this.get(r,{signal:a})).data)!=null?c:{},_=(C=u.items)!=null?C:[],f=(A=u.pagination)!=null?A:{total:0,limit:s,pages:0,current:0};return{items:_,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var a,r;const i=this.mergeParams(t,{email:s});return(r=(a=(await this.get(i)).data)==null?void 0:a.customer)!=null?r:null}async fetchCoupons({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var _,f,c;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(_=(await this.get(r,{signal:a})).data)!=null?_:{};return{items:(f=u.items)!=null?f:[],pagination:(c=u.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.coupon)!=null?d:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var _,f,c;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(_=(await this.get(r,{signal:a})).data)!=null?_:{};return{items:(f=u.items)!=null?f:[],pagination:(c=u.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.rate)!=null?d:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var _,f,c;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(_=(await this.get(r,{signal:a})).data)!=null?_:{};return{items:(f=u.items)!=null?f:[],pagination:(c=u.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.rule)!=null?d:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:i=0,search:n="",entity:a="",signal:r}){var f,c,C;const d=this.mergeParams(t,{limit:s,start:i,search:n||void 0,entity:a||void 0}),_=(f=(await this.get(d,{signal:r})).data)!=null?f:{};return{items:(c=_.items)!=null?c:[],pagination:(C=_.pagination)!=null?C:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var i;return t?(i=(await this.get(t)).data)!=null?i:{}:{}}async fetchSettings({endpoint:t}){var i,n;return t?(n=(i=(await this.get(t)).data)==null?void 0:i.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:i=""}){var r,d;const n=this.mergeParams(t,{id:s||void 0,order_no:i||void 0});return(d=(r=(await this.get(n)).data)==null?void 0:r.order)!=null?d:null}async transitionOrder({endpoint:t,id:s,state:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.post(n,{state:i})).data)==null?void 0:r.order)!=null?d:null}async bulkTransitionOrders({endpoint:t,ids:s,state:i}){var r;const n={ids:s,state:i};return(r=(await this.post(t,n)).data)!=null?r:{}}async addOrderNote({endpoint:t,id:s,message:i}){var a,r;return(r=(a=(await this.post(t,{id:s,message:i})).data)==null?void 0:a.order)!=null?r:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.item)!=null?d:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.item)!=null?d:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}mergeParams(t,s={}){const i=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||i.set(n,String(a))}),i.toString()?`${t}${t.includes("?")?"&":"?"}${i.toString()}`:t}}const ut=e=>new _T(e),Qi=typeof window!="undefined"&&window.performance;function Zi(e){if(Qi)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function fT(e,t,s){if(!Qi)return null;try{performance.measure(e,t,s);const i=performance.getEntriesByName(e,"measure")[0];if(i)return console.log(`[NXP EC Performance] ${e}: ${i.duration.toFixed(2)}ms`),i.duration}catch(i){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,i)}return null}const dn=ke({}),hT=3e5;function mT(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function yt(e,t=hT){const s=dn[e];return s?mT(s,t)?s.data:(delete dn[e],null):null}function pt(e,t){dn[e]={data:t,timestamp:Date.now()}}function Xe(e){delete dn[e]}function Tt(e){const t=Fe({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const r=`${e}-fetch-start`;return Zi(r),r},endFetch:r=>{const d=`${e}-fetch-end`;Zi(d);const u=fT(`${e}-fetch`,r,d);u!==null&&(t.value.lastFetchDuration=u),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const no=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,s);return i.searchParams.set("task",`api.products.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function gT({endpoints:e,token:t,autoload:s=!0,cacheTTL:i=3e5}){var ne,ie,ce,ge;const n=ut({token:t}),a=Tt("products"),r=(ne=e==null?void 0:e.list)!=null?ne:"",d=(ie=e==null?void 0:e.create)!=null?ie:no(r,"store"),u=(ce=e==null?void 0:e.update)!=null?ce:no(r,"update"),_=(ge=e==null?void 0:e.delete)!=null?ge:no(r,"delete"),f=typeof AbortController!="undefined",c=ke({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),C=Fe(null),A=()=>{const j=c.pagination.current||1,B=c.pagination.limit||20,W=c.search.trim();return`products:page=${j}:limit=${B}:search=${W}`},v=async(j=!1)=>{var pe;if(!r){c.error="Products endpoint unavailable.",c.items=[];return}const B=A(),W=j?null:yt(B,i);if(W){a.recordCacheHit(),c.items=W.items,c.pagination={...c.pagination,...W.pagination},c.lastUpdated=W.lastUpdated;return}a.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],C.value&&f&&C.value.abort();const G=f?new AbortController:null;C.value=G;const ee=a.startFetch();try{const{items:te,pagination:z}=await n.fetchProducts({endpoint:r,signal:G?G.signal:void 0,limit:c.pagination.limit,start:Math.max(0,(c.pagination.current-1)*c.pagination.limit),search:c.search.trim()});c.items=te,c.pagination={...c.pagination,...z,current:z.current&&z.current>0?z.current:1},c.lastUpdated=new Date().toISOString(),pt(B,{items:te,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;c.error=(pe=te==null?void 0:te.message)!=null?pe:"Unknown error"}finally{a.endFetch(ee),f&&C.value===G&&(C.value=null),c.loading=!1}},x=()=>{c.pagination.current=1,Xe(A()),v(!0)},D=()=>{c.pagination.current=1,v()},T=j=>j?typeof j=="string"?j:typeof j=="object"&&j.message?String(j.message):String(j):"",q=(j,{setValidation:B=!1}={})=>{var W;if((j==null?void 0:j.code)===422&&B){const G=Array.isArray(j.details)?j.details:[j.details].filter(Boolean);c.validationErrors=G.map(T).filter(ee=>ee!=="");return}c.error=(W=j==null?void 0:j.message)!=null?W:"Unknown error"},H=async j=>{if(!d)throw new Error("Create endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const B=await n.createProduct({endpoint:d,data:j});return B&&(c.items=[B,...c.items],c.pagination.total+=1,Xe(A())),B}catch(B){throw q(B,{setValidation:!0}),B}finally{c.saving=!1}},M=async(j,B)=>{if(!u)throw new Error("Update endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const W=await n.updateProduct({endpoint:u,id:j,data:B});if(W){const G=c.items.findIndex(ee=>ee.id===W.id);G!==-1&&c.items.splice(G,1,W),Xe(A())}return W}catch(W){throw q(W,{setValidation:!0}),W}finally{c.saving=!1}},U=async j=>{if(!_)throw new Error("Delete endpoint unavailable.");c.deleting=!0,c.validationErrors=[];try{const B=await n.deleteProducts({endpoint:_,ids:j});return B.length&&(c.items=c.items.filter(W=>!B.includes(W.id)),c.pagination.total=Math.max(0,c.pagination.total-B.length),Xe(A())),B}catch(B){throw q(B),B}finally{c.deleting=!1}};return ot(()=>{s&&v()}),{state:c,loadProducts:v,refresh:x,search:D,createProduct:H,updateProduct:M,deleteProducts:U,metrics:a.metrics}}function CT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var ie,ce,ge,j,B,W,G,ee,pe,te,z,N,I,L;const a=ut({token:t}),r=Tt("categories"),d=(ie=e==null?void 0:e.list)!=null?ie:"",u=(ce=e==null?void 0:e.create)!=null?ce:d,_=(ge=e==null?void 0:e.update)!=null?ge:d,f=(j=e==null?void 0:e.delete)!=null?j:d,c=ke({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(ee=(G=(B=s.pagination)==null?void 0:B.total)!=null?G:(W=s.items)==null?void 0:W.length)!=null?ee:0,limit:(te=(pe=s.pagination)==null?void 0:pe.limit)!=null?te:20,pages:(N=(z=s.pagination)==null?void 0:z.pages)!=null?N:0,current:(L=(I=s.pagination)==null?void 0:I.current)!=null?L:1},search:"",lastUpdated:null}),C=typeof AbortController!="undefined",A=Fe(null),v=()=>{const $=c.pagination.current||1,V=c.pagination.limit||20,Q=c.search.trim();return`categories:page=${$}:limit=${V}:search=${Q}`},x=async($=!1)=>{var y;if(!d){c.error="Categories endpoint unavailable.",c.items=[];return}const V=v(),Q=$?null:yt(V,n);if(Q){r.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}r.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],A.value&&C&&A.value.abort();const le=C?new AbortController:null;A.value=le;const X=r.startFetch();try{const g=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:re,pagination:de}=await a.fetchCategories({endpoint:d,limit:c.pagination.limit,start:g,search:c.search.trim(),signal:le?le.signal:void 0});c.items=re,c.pagination={...c.pagination,...de,current:de.current&&de.current>0?de.current:1},c.lastUpdated=new Date().toISOString(),pt(V,{items:re,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(g){if((g==null?void 0:g.name)==="AbortError")return;c.error=(y=g==null?void 0:g.message)!=null?y:"Unknown error"}finally{r.endFetch(X),C&&A.value===le&&(A.value=null),c.loading=!1}},D=()=>{c.pagination.current=1,Xe(v()),x(!0)},T=()=>{c.pagination.current=1,x()},q=$=>{const V=Number($);Number.isNaN(V)||V<1||V===c.pagination.current||(c.pagination.current=V,x())},H=($,{validation:V=!1}={})=>{var Q;if(V&&($==null?void 0:$.code)===422){const le=$.details,X=Array.isArray(le)?le:[le].filter(Boolean);c.validationErrors=X.map(y=>y?typeof y=="string"?y:typeof y=="object"&&y.message?String(y.message):String(y):"").filter(Boolean);return}c.error=(Q=$==null?void 0:$.message)!=null?Q:"Unknown error"},M=async $=>{if(!u||!_)throw new Error("Category endpoints unavailable.");c.saving=!0,c.error="",c.validationErrors=[];try{let V=null;return $.id?V=await a.updateCategory({endpoint:_,id:$.id,data:$}):V=await a.createCategory({endpoint:u,data:$}),V&&(Xe(v()),await x()),V}catch(V){throw H(V,{validation:!0}),V}finally{c.saving=!1}},U=async $=>{if(!Array.isArray($)||!$.length||!f)return 0;c.deleting=!0,c.error="";try{const V=await a.deleteCategories({endpoint:f,ids:$});return V&&(Xe(v()),await x()),V}catch(V){throw H(V),V}finally{c.deleting=!1}},ne=async()=>{if(!d)return[];try{const{items:$}=await a.fetchCategories({endpoint:d,limit:200,start:0,search:""});return $}catch($){return[]}};return ot(()=>{i&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadCategories:x,refresh:D,search:T,goToPage:q,saveCategory:M,deleteCategories:U,loadOptions:ne,metrics:r.metrics}}const un=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,s);return i.searchParams.set("task",`api.orders.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function ST({endpoints:e,token:t,states:s=[],preload:i={},autoload:n=!0,cacheTTL:a=3e5}){var N,I,L,$,V,Q,le,X,y;const r=ut({token:t}),d=Tt("orders"),u=(N=e==null?void 0:e.list)!=null?N:"",_=(I=e==null?void 0:e.show)!=null?I:un(u,"show"),f=(L=e==null?void 0:e.transition)!=null?L:un(u,"transition"),c=($=e==null?void 0:e.bulkTransition)!=null?$:un(u,"bulkTransition"),C=(V=e==null?void 0:e.note)!=null?V:un(u,"note"),A=typeof AbortController!="undefined",v=Fe(null),x=Array.isArray(i==null?void 0:i.items)?i.items:[],D=i!=null&&i.pagination&&typeof i.pagination=="object"?i.pagination:{},T=ke({loading:!1,saving:!1,error:"",transitionError:"",items:[...x],pagination:{total:(Q=D.total)!=null?Q:x.length,limit:(le=D.limit)!=null?le:20,pages:(X=D.pages)!=null?X:0,current:(y=D.current)!=null?y:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null}),q=()=>{const g=T.pagination.current||1,re=T.pagination.limit||20,de=T.search.trim(),ue=T.filterState||"";return`orders:page=${g}:limit=${re}:search=${de}:state=${ue}`},H=async(g=!1)=>{var m;if(!u){T.error="Orders endpoint unavailable.",T.items=[];return}const re=q(),de=g?null:yt(re,a);if(de){d.recordCacheHit(),T.items=de.items,T.pagination={...T.pagination,...de.pagination},T.lastUpdated=de.lastUpdated;return}d.recordCacheMiss(),T.loading=!0,T.error="",v.value&&A&&v.value.abort();const ue=A?new AbortController:null;v.value=ue;const $e=d.startFetch();try{const E=Math.max(0,(T.pagination.current-1)*T.pagination.limit),{items:Y,pagination:K}=await r.fetchOrders({endpoint:u,limit:T.pagination.limit,start:E,search:T.search.trim(),state:T.filterState,signal:ue?ue.signal:void 0});T.items=Y,T.pagination={...T.pagination,...K,current:K.current&&K.current>0?K.current:1},T.selection.clear(),T.lastUpdated=new Date().toISOString(),pt(re,{items:Y,pagination:T.pagination,lastUpdated:T.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;T.error=(m=E==null?void 0:E.message)!=null?m:"Unknown error"}finally{d.endFetch($e),A&&v.value===ue&&(v.value=null),T.loading=!1}},M=()=>{T.pagination.current=1,Xe(q()),H(!0)},U=()=>{T.pagination.current=1,H()},ne=g=>{T.filterState=g||"",T.pagination.current=1,H()},ie=g=>{const re=Number(g);Number.isNaN(re)||re<1||re===T.pagination.current||(T.pagination.current=re,H())},ce=()=>{T.selection.clear()},ge=g=>{g&&(T.selection.has(g)?T.selection.delete(g):T.selection.add(g))},j=()=>{T.pagination.current>=T.pagination.pages||(T.pagination.current+=1,H())},B=()=>{T.pagination.current<=1||(T.pagination.current-=1,H())},W=async(g,re="")=>{var de;if(!_)return null;try{return await r.fetchOrder({endpoint:_,id:g,orderNumber:re})}catch(ue){return T.transitionError=(de=ue==null?void 0:ue.message)!=null?de:"Unknown error",null}},G=async g=>{var re,de,ue,$e,m,E,Y;if(!g){T.activeOrder=null;return}if(T.transitionError="",g.items&&g.items.length&&g.billing){T.activeOrder=g;return}try{const K=await W(g.id,g.order_no);T.activeOrder=K||{...g,items:Array.isArray(g.items)?g.items:[],transactions:(re=g.transactions)!=null?re:[],timeline:(de=g.timeline)!=null?de:[],billing:(ue=g.billing)!=null?ue:{}}}catch(K){T.transitionError=($e=K==null?void 0:K.message)!=null?$e:"Unknown error",T.activeOrder={...g,items:Array.isArray(g.items)?g.items:[],transactions:(m=g.transactions)!=null?m:[],timeline:(E=g.timeline)!=null?E:[],billing:(Y=g.billing)!=null?Y:{}}}},ee=()=>{T.transitionError="",T.activeOrder=null},pe=g=>{if(!(g!=null&&g.id))return;const re=T.items.findIndex(de=>de.id===g.id);re!==-1&&T.items.splice(re,1,g)},te=async(g,re)=>{var de;if(!f)throw new Error("Transition endpoint unavailable.");T.saving=!0,T.transitionError="";try{const ue=await r.transitionOrder({endpoint:f,id:g,state:re});return ue&&(pe(ue),T.activeOrder&&T.activeOrder.id===ue.id&&(T.activeOrder=ue),Xe(q())),ue}catch(ue){throw T.transitionError=(de=ue==null?void 0:ue.message)!=null?de:"Unknown error",ue}finally{T.saving=!1}},z=async(g,re)=>{var de;if(!c)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(g)||!g.length)return{updated:[]};T.saving=!0;try{const ue=await r.bulkTransitionOrders({endpoint:c,ids:g,state:re}),$e=Array.isArray(ue.updated)?ue.updated:[];return $e.forEach(m=>{pe(m),T.activeOrder&&T.activeOrder.id===m.id&&(T.activeOrder=m)}),ce(),{updated:$e}}catch(ue){throw T.transitionError=(de=ue==null?void 0:ue.message)!=null?de:"Unknown error",ue}finally{T.saving=!1}};return ot(()=>{n&&H()}),{state:T,loadOrders:H,refresh:M,search:U,setFilterState:ne,goToPage:ie,nextPage:j,previousPage:B,viewOrder:G,closeOrder:ee,transitionOrder:te,bulkTransition:z,toggleSelection:ge,clearSelection:ce,metrics:d.metrics,addNote:async(g,re)=>{var de;if(!C)throw new Error("Note endpoint unavailable.");if(!g||!re||!re.trim())return null;T.transitionError="",T.saving=!0;try{const ue=await r.addOrderNote({endpoint:C,id:g,message:re});return ue&&(pe(ue),T.activeOrder&&T.activeOrder.id===ue.id&&(T.activeOrder=ue)),ue}catch(ue){throw T.transitionError=(de=ue==null?void 0:ue.message)!=null?de:"Unknown error",ue}finally{T.saving=!1}}}}function ET({endpoint:e="",token:t="",preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var f,c,C;const a=ut({token:t}),r=Tt("dashboard"),d=ke({loading:!1,error:"",summary:(C=s.summary)!=null?C:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(c=(f=s.summary)==null?void 0:f.currency)!=null?c:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),u=()=>"dashboard",_=async(A=!1)=>{var T,q;if(!e)return;const v=u(),x=A?null:yt(v,n);if(x){r.recordCacheHit(),d.summary=x.summary,d.checklist=x.checklist,d.lastUpdated=x.lastUpdated;return}r.recordCacheMiss(),d.loading=!0,d.error="";const D=r.startFetch();try{const H=await a.fetchDashboard({endpoint:e});d.summary=(T=H.summary)!=null?T:d.summary,d.checklist=Array.isArray(H.checklist)?H.checklist:d.checklist,d.lastUpdated=new Date().toISOString(),pt(v,{summary:d.summary,checklist:d.checklist,lastUpdated:d.lastUpdated})}catch(H){d.error=(q=H==null?void 0:H.message)!=null?q:"Unknown error"}finally{r.endFetch(D),d.loading=!1}};return ot(()=>{i&&(!Array.isArray(d.checklist)||!d.checklist.length)&&_()}),{state:d,refresh:_,metrics:r.metrics}}function bT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var H,M,U,ne,ie,ce,ge,j,B,W,G,ee,pe;const a=ut({token:t}),r=Tt("customers"),d=(H=e==null?void 0:e.list)!=null?H:"",u=(M=e==null?void 0:e.show)!=null?M:"",_=ke({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ce=(ie=(U=s.pagination)==null?void 0:U.total)!=null?ie:(ne=s.items)==null?void 0:ne.length)!=null?ce:0,limit:(j=(ge=s.pagination)==null?void 0:ge.limit)!=null?j:20,pages:(W=(B=s.pagination)==null?void 0:B.pages)!=null?W:0,current:(ee=(G=s.pagination)==null?void 0:G.current)!=null?ee:1},search:"",activeCustomer:(pe=s.active)!=null?pe:null,lastUpdated:null}),f=typeof AbortController!="undefined",c=Fe(null),C=()=>{const te=_.pagination.current||1,z=_.pagination.limit||20,N=_.search.trim();return`customers:page=${te}:limit=${z}:search=${N}`},A=async(te=!1)=>{var $;if(!d){_.error="Customers endpoint unavailable.",_.items=[];return}const z=C(),N=te?null:yt(z,n);if(N){r.recordCacheHit(),_.items=N.items,_.pagination={..._.pagination,...N.pagination},_.lastUpdated=N.lastUpdated;return}r.recordCacheMiss(),_.loading=!0,_.error="",c.value&&f&&c.value.abort();const I=f?new AbortController:null;c.value=I;const L=r.startFetch();try{const V=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:Q,pagination:le}=await a.fetchCustomers({endpoint:d,limit:_.pagination.limit,start:V,search:_.search.trim(),signal:I?I.signal:void 0});_.items=Q,_.pagination={..._.pagination,...le,current:le.current&&le.current>0?le.current:1},_.lastUpdated=new Date().toISOString(),pt(z,{items:Q,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(V){if((V==null?void 0:V.name)==="AbortError")return;_.error=($=V==null?void 0:V.message)!=null?$:"Unknown error"}finally{r.endFetch(L),f&&c.value===I&&(c.value=null),_.loading=!1}},v=()=>{_.pagination.current=1,Xe(C()),A(!0)},x=()=>{_.pagination.current=1,A()},D=te=>{const z=Number(te);Number.isNaN(z)||z<1||z===_.pagination.current||(_.pagination.current=z,A())},T=async te=>{var z;if(!u||!(te!=null&&te.email)){_.activeCustomer=te||null;return}try{const N=await a.fetchCustomer({endpoint:u,email:te.email});_.activeCustomer=N||te}catch(N){_.error=(z=N==null?void 0:N.message)!=null?z:"Unknown error"}},q=()=>{_.activeCustomer=null};return ot(()=>{i&&(!Array.isArray(_.items)||!_.items.length)&&A()}),{state:_,loadCustomers:A,refresh:v,search:x,goToPage:D,viewCustomer:T,closeCustomer:q,metrics:r.metrics}}function AT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var ie,ce,ge,j,B,W,G,ee,pe,te,z,N,I,L;const a=ut({token:t}),r=Tt("coupons"),d=(ie=e==null?void 0:e.list)!=null?ie:"",u=(ce=e==null?void 0:e.create)!=null?ce:d,_=(ge=e==null?void 0:e.update)!=null?ge:d,f=(j=e==null?void 0:e.delete)!=null?j:d,c=ke({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ee=(G=(B=s.pagination)==null?void 0:B.total)!=null?G:(W=s.items)==null?void 0:W.length)!=null?ee:0,limit:(te=(pe=s.pagination)==null?void 0:pe.limit)!=null?te:20,pages:(N=(z=s.pagination)==null?void 0:z.pages)!=null?N:0,current:(L=(I=s.pagination)==null?void 0:I.current)!=null?L:1},search:"",activeCoupon:null,lastUpdated:null}),C=typeof AbortController!="undefined",A=Fe(null),v=()=>{const $=c.pagination.current||1,V=c.pagination.limit||20,Q=c.search.trim();return`coupons:page=${$}:limit=${V}:search=${Q}`},x=async($=!1)=>{var y;if(!d){c.error="Coupons endpoint unavailable.",c.items=[];return}const V=v(),Q=$?null:yt(V,n);if(Q){r.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}r.recordCacheMiss(),c.loading=!0,c.error="",A.value&&C&&A.value.abort();const le=C?new AbortController:null;A.value=le;const X=r.startFetch();try{const g=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:re,pagination:de}=await a.fetchCoupons({endpoint:d,limit:c.pagination.limit,start:g,search:c.search.trim(),signal:le?le.signal:void 0});c.items=re,c.pagination={...c.pagination,...de,current:de.current&&de.current>0?de.current:1},c.lastUpdated=new Date().toISOString(),pt(V,{items:re,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(g){if((g==null?void 0:g.name)==="AbortError")return;c.error=(y=g==null?void 0:g.message)!=null?y:"Unknown error"}finally{r.endFetch(X),C&&A.value===le&&(A.value=null),c.loading=!1}},D=()=>{c.pagination.current=1,Xe(v()),x(!0)},T=()=>{c.pagination.current=1,x()},q=$=>{const V=Number($);Number.isNaN(V)||V<1||V===c.pagination.current||(c.pagination.current=V,x())},H=$=>{c.activeCoupon=$},M=$=>{const V=c.items.findIndex(Q=>Q.id===$.id);V===-1?c.items.unshift($):c.items.splice(V,1,$)},U=async $=>{var V;c.saving=!0,c.error="";try{let Q=null;return $.id?Q=await a.updateCoupon({endpoint:_,id:$.id,data:$}):Q=await a.createCoupon({endpoint:u,data:$}),Q&&(M(Q),c.activeCoupon&&c.activeCoupon.id===Q.id&&(c.activeCoupon=Q),Xe(v())),Q}catch(Q){throw c.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error",Q}finally{c.saving=!1}},ne=async $=>{var V;if(!Array.isArray($)||!$.length)return 0;c.saving=!0,c.error="";try{const Q=await a.deleteCoupons({endpoint:f,ids:$});return Q&&(c.items=c.items.filter(le=>!$.includes(le.id)),c.activeCoupon&&$.includes(c.activeCoupon.id)&&(c.activeCoupon=null),Xe(v())),Q}catch(Q){throw c.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error",Q}finally{c.saving=!1}};return ot(()=>{i&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadCoupons:x,refresh:D,search:T,goToPage:q,setActive:H,saveCoupon:U,deleteCoupons:ne,metrics:r.metrics}}const oo=(e={})=>{var r,d,u,_,f,c,C,A,v,x,D,T,q,H,M,U,ne;const t=(r=e.store)!=null?r:{},s=(d=e.payments)!=null?d:{},i=(u=e.visual)!=null?u:{},n=(_=e.visual_defaults)!=null?_:{},a=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"USD";return{store:{name:(f=t.name)!=null?f:"",email:(c=t.email)!=null?c:"",phone:(C=t.phone)!=null?C:""},payments:{configured:!!s.configured},base_currency:a,checkout_phone_required:!!e.checkout_phone_required,visual:{primary_color:(A=i.primary_color)!=null?A:"",text_color:(v=i.text_color)!=null?v:"",surface_color:(x=i.surface_color)!=null?x:"",border_color:(D=i.border_color)!=null?D:"",muted_color:(T=i.muted_color)!=null?T:""},visual_defaults:{primary_color:(q=n.primary_color)!=null?q:"#4f6d7a",text_color:(H=n.text_color)!=null?H:"#1f2933",surface_color:(M=n.surface_color)!=null?M:"#ffffff",border_color:(U=n.border_color)!=null?U:"#e4e7ec",muted_color:(ne=n.muted_color)!=null?ne:"#6b7280"}}};function yT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var C,A;const a=ut({token:t}),r=Tt("settings"),d=(C=e==null?void 0:e.show)!=null?C:"",u=(A=e==null?void 0:e.update)!=null?A:d,_=ke({loading:!1,saving:!1,error:"",values:oo(s),lastUpdated:null}),f=async(v=!1)=>{var q;if(!d){_.error="Settings endpoint unavailable.";return}const x="settings:data",D=v?null:yt(x,n);if(D){r.recordCacheHit(),_.values=D.values,_.lastUpdated=D.lastUpdated;return}r.recordCacheMiss(),_.loading=!0,_.error="";const T=r.startFetch();try{const H=await a.fetchSettings({endpoint:d});_.values=oo(H),_.lastUpdated=new Date().toISOString(),pt(x,{values:_.values,lastUpdated:_.lastUpdated})}catch(H){throw _.error=(q=H==null?void 0:H.message)!=null?q:"Unknown error",H}finally{r.endFetch(T),_.loading=!1}},c=async v=>{var x;if(!u)return _.error="Settings endpoint unavailable.",null;_.saving=!0,_.error="";try{const D=await a.updateSettings({endpoint:u,data:v});return _.values=oo(D),_.lastUpdated=new Date().toISOString(),Xe("settings:data"),pt("settings:data",{values:_.values,lastUpdated:_.lastUpdated}),_.values}catch(D){throw _.error=(x=D==null?void 0:D.message)!=null?x:"Unknown error",D}finally{_.saving=!1}};return ot(()=>{i&&(!s||!s.store)&&f()}),{state:_,refresh:f,save:c,metrics:r.metrics}}function TT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var H,M,U,ne,ie,ce,ge,j,B,W,G,ee,pe,te;const a=ut({token:t}),r=Tt("taxRates"),d=(H=e==null?void 0:e.list)!=null?H:"",u=(M=e==null?void 0:e.create)!=null?M:d,_=(U=e==null?void 0:e.update)!=null?U:d,f=(ne=e==null?void 0:e.delete)!=null?ne:d,c=ke({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(j=(ge=(ie=s.pagination)==null?void 0:ie.total)!=null?ge:(ce=s.items)==null?void 0:ce.length)!=null?j:0,limit:(W=(B=s.pagination)==null?void 0:B.limit)!=null?W:20,pages:(ee=(G=s.pagination)==null?void 0:G.pages)!=null?ee:0,current:(te=(pe=s.pagination)==null?void 0:pe.current)!=null?te:1},search:"",lastUpdated:null}),C=typeof AbortController!="undefined",A=Fe(null),v=()=>{const z=c.pagination.current||1,N=c.pagination.limit||20,I=c.search.trim();return`taxRates:page=${z}:limit=${N}:search=${I}`},x=async(z=!1)=>{var V;if(!d){c.error="Tax endpoint unavailable.",c.items=[];return}const N=v(),I=z?null:yt(N,n);if(I){r.recordCacheHit(),c.items=I.items,c.pagination={...c.pagination,...I.pagination},c.lastUpdated=I.lastUpdated;return}r.recordCacheMiss(),c.loading=!0,c.error="",A.value&&C&&A.value.abort();const L=C?new AbortController:null;A.value=L;const $=r.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:le,pagination:X}=await a.fetchTaxRates({endpoint:d,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:L?L.signal:void 0});c.items=le,c.pagination={...c.pagination,...X,current:X.current&&X.current>0?X.current:1},c.lastUpdated=new Date().toISOString(),pt(N,{items:le,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error"}finally{r.endFetch($),C&&A.value===L&&(A.value=null),c.loading=!1}},D=()=>{c.pagination.current=1,Xe(v()),x(!0)},T=async z=>{var N;c.saving=!0,c.error="";try{const I=z.id?await a.updateTaxRate({endpoint:_,id:z.id,data:z}):await a.createTaxRate({endpoint:u,data:z});if(I){const L=c.items.findIndex($=>$.id===I.id);L===-1?c.items.unshift(I):c.items.splice(L,1,I),Xe(v())}return I}catch(I){throw c.error=(N=I==null?void 0:I.message)!=null?N:"Unknown error",I}finally{c.saving=!1}},q=async z=>{var N;if(!Array.isArray(z)||!z.length)return 0;c.saving=!0,c.error="";try{const I=await a.deleteTaxRates({endpoint:f,ids:z});return I&&(c.items=c.items.filter(L=>!z.includes(L.id)),Xe(v())),I}catch(I){throw c.error=(N=I==null?void 0:I.message)!=null?N:"Unknown error",I}finally{c.saving=!1}};return ot(()=>{i&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadRates:x,refresh:D,saveRate:T,deleteRates:q,metrics:r.metrics}}function OT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var H,M,U,ne,ie,ce,ge,j,B,W,G,ee,pe,te;const a=ut({token:t}),r=Tt("shippingRules"),d=(H=e==null?void 0:e.list)!=null?H:"",u=(M=e==null?void 0:e.create)!=null?M:d,_=(U=e==null?void 0:e.update)!=null?U:d,f=(ne=e==null?void 0:e.delete)!=null?ne:d,c=ke({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(j=(ge=(ie=s.pagination)==null?void 0:ie.total)!=null?ge:(ce=s.items)==null?void 0:ce.length)!=null?j:0,limit:(W=(B=s.pagination)==null?void 0:B.limit)!=null?W:20,pages:(ee=(G=s.pagination)==null?void 0:G.pages)!=null?ee:0,current:(te=(pe=s.pagination)==null?void 0:pe.current)!=null?te:1},search:"",lastUpdated:null}),C=typeof AbortController!="undefined",A=Fe(null),v=()=>{const z=c.pagination.current||1,N=c.pagination.limit||20,I=c.search.trim();return`shippingRules:page=${z}:limit=${N}:search=${I}`},x=async(z=!1)=>{var V;if(!d){c.error="Shipping endpoint unavailable.",c.items=[];return}const N=v(),I=z?null:yt(N,n);if(I){r.recordCacheHit(),c.items=I.items,c.pagination={...c.pagination,...I.pagination},c.lastUpdated=I.lastUpdated;return}r.recordCacheMiss(),c.loading=!0,c.error="",A.value&&C&&A.value.abort();const L=C?new AbortController:null;A.value=L;const $=r.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:le,pagination:X}=await a.fetchShippingRules({endpoint:d,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:L?L.signal:void 0});c.items=le,c.pagination={...c.pagination,...X,current:X.current&&X.current>0?X.current:1},c.lastUpdated=new Date().toISOString(),pt(N,{items:le,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error"}finally{r.endFetch($),C&&A.value===L&&(A.value=null),c.loading=!1}},D=()=>{c.pagination.current=1,Xe(v()),x(!0)},T=async z=>{var N;c.saving=!0,c.error="";try{const I=z.id?await a.updateShippingRule({endpoint:_,id:z.id,data:z}):await a.createShippingRule({endpoint:u,data:z});if(I){const L=c.items.findIndex($=>$.id===I.id);L===-1?c.items.unshift(I):c.items.splice(L,1,I),Xe(v())}return I}catch(I){throw c.error=(N=I==null?void 0:I.message)!=null?N:"Unknown error",I}finally{c.saving=!1}},q=async z=>{var N;if(!Array.isArray(z)||!z.length)return 0;c.saving=!0,c.error="";try{const I=await a.deleteShippingRules({endpoint:f,ids:z});return I&&(c.items=c.items.filter(L=>!z.includes(L.id)),Xe(v())),I}catch(I){throw c.error=(N=I==null?void 0:I.message)!=null?N:"Unknown error",I}finally{c.saving=!1}};return ot(()=>{i&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadRules:x,refresh:D,saveRule:T,deleteRules:q,metrics:r.metrics}}function RT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var T,q,H,M,U,ne,ie,ce,ge,j,B;const a=ut({token:t}),r=Tt("logs"),d=(T=e==null?void 0:e.list)!=null?T:"",u=ke({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(U=(M=(q=s.pagination)==null?void 0:q.total)!=null?M:(H=s.items)==null?void 0:H.length)!=null?U:0,limit:(ie=(ne=s.pagination)==null?void 0:ne.limit)!=null?ie:20,pages:(ge=(ce=s.pagination)==null?void 0:ce.pages)!=null?ge:0,current:(B=(j=s.pagination)==null?void 0:j.current)!=null?B:1},search:"",entity:"",lastUpdated:null}),_=typeof AbortController!="undefined",f=Fe(null),c=()=>{const W=u.pagination.current||1,G=u.pagination.limit||20,ee=u.search.trim(),pe=u.entity.trim();return`logs:page=${W}:limit=${G}:search=${ee}:entity=${pe}`},C=async(W=!1)=>{var z;if(!d){u.error="Logs endpoint unavailable.",u.items=[];return}const G=c(),ee=W?null:yt(G,n);if(ee){r.recordCacheHit(),u.items=ee.items,u.pagination={...u.pagination,...ee.pagination},u.lastUpdated=ee.lastUpdated;return}r.recordCacheMiss(),u.loading=!0,u.error="",_&&f.value&&f.value.abort();const pe=_?new AbortController:null;f.value=pe;const te=r.startFetch();try{const N=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:I,pagination:L}=await a.fetchLogs({endpoint:d,limit:u.pagination.limit,start:N,search:u.search.trim(),entity:u.entity,signal:pe?pe.signal:void 0});u.items=I,u.pagination={...u.pagination,...L,current:L.current&&L.current>0?L.current:1},u.lastUpdated=new Date().toISOString(),pt(G,{items:I,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(N){if((N==null?void 0:N.name)==="AbortError")return;u.error=(z=N==null?void 0:N.message)!=null?z:"Unknown error"}finally{r.endFetch(te),_&&f.value===pe&&(f.value=null),u.loading=!1}},A=()=>{u.pagination.current=1,Xe(c()),C(!0)},v=()=>{u.pagination.current=1,C()},x=W=>{const G=typeof W=="string"?W.trim():"";u.entity!==G&&(u.entity=G,u.pagination.current=1,C())},D=W=>{const G=Number(W);Number.isNaN(G)||G<1||G===u.pagination.current||(u.pagination.current=G,C())};return ot(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&C()}),{state:u,loadLogs:C,refresh:A,search:v,setEntity:x,goToPage:D,metrics:r.metrics}}const ea=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function vT({endpoints:e={},token:t=""}){const s=ut({token:t}),i=ke({loading:!1,saving:!1,error:"",config:ea(),message:""}),n=async()=>{var d,u,_,f;if(e.show){i.loading=!0,i.error="";try{const c=await s.get(e.show);i.config=r((_=(u=(d=c==null?void 0:c.data)==null?void 0:d.config)!=null?u:c==null?void 0:c.config)!=null?_:{})}catch(c){i.error=(f=c.message)!=null?f:"Unable to load payment configuration."}finally{i.loading=!1}}},a=async d=>{var u,_,f,c,C,A,v;if(e.update){i.saving=!0,i.error="",i.message="";try{const x=await s.post(e.update,{config:d});i.config=r((f=(_=(u=x==null?void 0:x.data)==null?void 0:u.config)!=null?_:x==null?void 0:x.config)!=null?f:{}),i.message=(A=(C=(c=x==null?void 0:x.data)==null?void 0:c.message)!=null?C:x==null?void 0:x.message)!=null?A:""}catch(x){i.error=(v=x.message)!=null?v:"Unable to save payment configuration."}finally{i.saving=!1}}},r=d=>{var _,f,c,C;const u=ea();return{stripe:{...u.stripe,...(_=d.stripe)!=null?_:{}},paypal:{...u.paypal,...(f=d.paypal)!=null?f:{}},cod:{...u.cod,...(c=d.cod)!=null?c:{}},bank_transfer:{...u.bank_transfer,...(C=d.bank_transfer)!=null?C:{}}}};return{state:i,refresh:n,save:a}}const xT={class:"nxp-ec-admin-app__shell"},PT={class:"nxp-ec-admin-app__header"},NT={class:"nxp-ec-admin-app__title"},MT={class:"nxp-ec-admin-app__lead"},IT={key:0,class:"nxp-ec-admin-nav"},kT=["href"],$T={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},wT={class:"nxp-ec-admin-panel__body"},DT={class:"nxp-ec-admin-panel__lead"},Ms="nxp:admin:onboarding:dismissed",UT={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var tr,sr,nr,or,ir,ar,rr,lr,cr,dr,ur,pr,_r,fr,hr,mr,gr,Cr,Sr,Er,br,Ar,yr,Tr,Or,Rr,vr,xr,Pr,Nr,Mr,Ir,kr,$r,wr,Dr,Ur,Lr,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,qr,Wr,zr,Qr,Zr,el,tl,sl,nl,ol,il,al,rl,ll,cl,dl,ul,pl,_l,fl,hl,ml,gl,Cl,Sl,El,bl,Al,yl,Tl,Ol,Rl,vl,xl,Pl,Nl,Ml,Il,kl,$l,wl,Dl,Ul,Ll,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,ql,Wl,zl,Ql,Zl,ec,tc,sc,nc,oc,ic,ac,rc,lc,cc,dc,uc,pc,_c,fc,hc,mc,gc,Cc,Sc,Ec,bc,Ac,yc,Tc,Oc,Rc,vc,xc,Pc;const t=e,{__:s}=pT(t.dataset),i=Se(()=>{var J;return((J=t.dataset)==null?void 0:J.appTitleKey)||"COM_NXPEASYCART"}),n=Se(()=>{var J;return((J=t.dataset)==null?void 0:J.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(J,fe)=>{if(!J||typeof J!="string")return fe;try{return JSON.parse(J)}catch(xe){return fe}},r=Se(()=>{var fe,xe;if(Array.isArray((fe=t.config)==null?void 0:fe.navItems))return t.config.navItems.map(st=>({id:st.id,title:st.title,link:st.link}));const J=a((xe=t.dataset)==null?void 0:xe.navItems,[]);return Array.isArray(J)?J.map(st=>({id:st.id,title:st.title,link:st.link})):[]}),d=J=>{const fe=r.value;if(!Array.isArray(fe))return"";const xe=fe.find(st=>st.id===J);return xe?xe.link:""},u=Se(()=>{var J,fe;return((J=t.config)==null?void 0:J.activeSection)||((fe=t.dataset)==null?void 0:fe.activeSection)||"dashboard"}),_=J=>u.value===J,f=Se(()=>_("dashboard")),c=Se(()=>_("products")),C=Se(()=>_("categories")||_("products")),A=Se(()=>_("orders")),v=Se(()=>_("customers")),x=Se(()=>_("coupons")),D=Se(()=>_("settings")),T=Se(()=>_("logs")),q=(dr=(tr=t.endpoints)==null?void 0:tr.products)!=null?dr:{list:(nr=(sr=t.dataset)==null?void 0:sr.productsEndpoint)!=null?nr:"",create:(ir=(or=t.dataset)==null?void 0:or.productsEndpointCreate)!=null?ir:"",update:(rr=(ar=t.dataset)==null?void 0:ar.productsEndpointUpdate)!=null?rr:"",delete:(cr=(lr=t.dataset)==null?void 0:lr.productsEndpointDelete)!=null?cr:""},H=(Er=(ur=t.endpoints)==null?void 0:ur.categories)!=null?Er:{list:(_r=(pr=t.dataset)==null?void 0:pr.categoriesEndpoint)!=null?_r:"",create:(hr=(fr=t.dataset)==null?void 0:fr.categoriesEndpointCreate)!=null?hr:"",update:(gr=(mr=t.dataset)==null?void 0:mr.categoriesEndpointUpdate)!=null?gr:"",delete:(Sr=(Cr=t.dataset)==null?void 0:Cr.categoriesEndpointDelete)!=null?Sr:""},M=(Ir=(br=t.endpoints)==null?void 0:br.orders)!=null?Ir:{list:(yr=(Ar=t.dataset)==null?void 0:Ar.ordersEndpoint)!=null?yr:"",show:(Or=(Tr=t.dataset)==null?void 0:Tr.ordersEndpointShow)!=null?Or:"",transition:(vr=(Rr=t.dataset)==null?void 0:Rr.ordersEndpointTransition)!=null?vr:"",bulkTransition:(Pr=(xr=t.dataset)==null?void 0:xr.ordersEndpointBulk)!=null?Pr:"",note:(Mr=(Nr=t.dataset)==null?void 0:Nr.ordersEndpointNote)!=null?Mr:""},U=(Lr=(kr=t.endpoints)==null?void 0:kr.customers)!=null?Lr:{list:(wr=($r=t.dataset)==null?void 0:$r.customersEndpoint)!=null?wr:"",show:(Ur=(Dr=t.dataset)==null?void 0:Dr.customersEndpointShow)!=null?Ur:""},ne=(Jr=(Yr=t.endpoints)==null?void 0:Yr.coupons)!=null?Jr:{list:(Fr=(Xr=t.dataset)==null?void 0:Xr.couponsEndpoint)!=null?Fr:"",create:(Vr=(Gr=t.dataset)==null?void 0:Gr.couponsEndpointCreate)!=null?Vr:"",update:(Br=(Hr=t.dataset)==null?void 0:Hr.couponsEndpointUpdate)!=null?Br:"",delete:(jr=(Kr=t.dataset)==null?void 0:Kr.couponsEndpointDelete)!=null?jr:""},ie=(ol=(qr=t.endpoints)==null?void 0:qr.tax)!=null?ol:{list:(zr=(Wr=t.dataset)==null?void 0:Wr.taxEndpoint)!=null?zr:"",create:(Zr=(Qr=t.dataset)==null?void 0:Qr.taxEndpointCreate)!=null?Zr:"",update:(tl=(el=t.dataset)==null?void 0:el.taxEndpointUpdate)!=null?tl:"",delete:(nl=(sl=t.dataset)==null?void 0:sl.taxEndpointDelete)!=null?nl:""},ce=(fl=(il=t.endpoints)==null?void 0:il.shipping)!=null?fl:{list:(rl=(al=t.dataset)==null?void 0:al.shippingEndpoint)!=null?rl:"",create:(cl=(ll=t.dataset)==null?void 0:ll.shippingEndpointCreate)!=null?cl:"",update:(ul=(dl=t.dataset)==null?void 0:dl.shippingEndpointUpdate)!=null?ul:"",delete:(_l=(pl=t.dataset)==null?void 0:pl.shippingEndpointDelete)!=null?_l:""},ge=(El=(hl=t.endpoints)==null?void 0:hl.settings)!=null?El:{show:(gl=(ml=t.dataset)==null?void 0:ml.settingsEndpointShow)!=null?gl:"",update:(Sl=(Cl=t.dataset)==null?void 0:Cl.settingsEndpointUpdate)!=null?Sl:""},j=(Tl=(bl=t.endpoints)==null?void 0:bl.logs)!=null?Tl:{list:(yl=(Al=t.dataset)==null?void 0:Al.logsEndpoint)!=null?yl:""},B=(Nl=(Ol=t.endpoints)==null?void 0:Ol.payments)!=null?Nl:{show:(vl=(Rl=t.dataset)==null?void 0:Rl.paymentsEndpointShow)!=null?vl:"",update:(Pl=(xl=t.dataset)==null?void 0:xl.paymentsEndpointUpdate)!=null?Pl:""},W=Se(()=>{var J;return a((J=t.dataset)==null?void 0:J.orderStates,[])}),{state:G,refresh:ee}=ET({endpoint:(Ul=(Dl=($l=(Ml=t.endpoints)==null?void 0:Ml.dashboard)!=null?$l:(kl=(Il=t.config)==null?void 0:Il.endpoints)==null?void 0:kl.dashboard)!=null?Dl:(wl=t.dataset)==null?void 0:wl.dashboardEndpoint)!=null?Ul:"",token:t.csrfToken,preload:(Gl=(Yl=(Ll=t.config)==null?void 0:Ll.preload)==null?void 0:Yl.dashboard)!=null?Gl:{summary:a((Xl=t.dataset)==null?void 0:Xl.dashboardSummary,{}),checklist:a((Fl=t.dataset)==null?void 0:Fl.dashboardChecklist,[])},autoload:f.value}),{state:pe,refresh:te,search:z,createProduct:N,updateProduct:I,deleteProducts:L}=gT({endpoints:q,token:t.csrfToken,autoload:c.value}),{state:$,refresh:V,search:Q,goToPage:le,saveCategory:X,deleteCategories:y,loadOptions:g}=CT({endpoints:H,token:t.csrfToken,preload:(jl=(Hl=(Vl=t.config)==null?void 0:Vl.preload)==null?void 0:Hl.categories)!=null?jl:{items:a((Bl=t.dataset)==null?void 0:Bl.categoriesPreload,[]),pagination:a((Kl=t.dataset)==null?void 0:Kl.categoriesPreloadPagination,{})},autoload:C.value}),re=Se(()=>(Array.isArray($.items)?$.items:[]).map(fe=>{var xe,st,ks;return{id:Number.parseInt((xe=fe==null?void 0:fe.id)!=null?xe:0,10)||0,title:String((st=fe==null?void 0:fe.title)!=null?st:"").trim(),slug:String((ks=fe==null?void 0:fe.slug)!=null?ks:"").trim()}}).filter(fe=>fe.title!=="")),{state:de,refresh:ue,search:$e,setFilterState:m,viewOrder:E,closeOrder:Y,transitionOrder:K,goToPage:S,bulkTransition:h,toggleSelection:b,clearSelection:R,addNote:k}=ST({endpoints:M,token:t.csrfToken,states:W.value,preload:(Ql=(ql=(Jl=t.config)==null?void 0:Jl.preload)==null?void 0:ql.orders)!=null?Ql:{items:a((Wl=t.dataset)==null?void 0:Wl.ordersPreload,[]),pagination:a((zl=t.dataset)==null?void 0:zl.ordersPreloadPagination,{})},autoload:A.value}),{state:w,refresh:Z,search:F,goToPage:se,viewCustomer:ae,closeCustomer:he}=bT({endpoints:U,token:t.csrfToken,preload:(nc=(ec=(Zl=t.config)==null?void 0:Zl.preload)==null?void 0:ec.customers)!=null?nc:{items:a((tc=t.dataset)==null?void 0:tc.customersPreload,[]),pagination:a((sc=t.dataset)==null?void 0:sc.customersPreloadPagination,{})},autoload:v.value}),{state:me,refresh:be,search:ve,goToPage:Ue,saveCoupon:He,deleteCoupons:we}=AT({endpoints:(ic=(oc=t.endpoints)==null?void 0:oc.coupons)!=null?ic:ne,token:t.csrfToken,preload:(dc=(rc=(ac=t.config)==null?void 0:ac.preload)==null?void 0:rc.coupons)!=null?dc:{items:a((lc=t.dataset)==null?void 0:lc.couponsPreload,[]),pagination:a((cc=t.dataset)==null?void 0:cc.couponsPreloadPagination,{})},autoload:x.value}),tt=(fc=(pc=(uc=t.config)==null?void 0:uc.preload)==null?void 0:pc.settings)!=null?fc:a((_c=t.dataset)==null?void 0:_c.settingsPreload,{}),{state:We,refresh:Le,save:Be}=yT({endpoints:ge,token:t.csrfToken,preload:tt,autoload:D.value}),kt=Se(()=>{var fe,xe;const J=(xe=(fe=t.dataset)==null?void 0:fe.baseCurrency)!=null?xe:"";return typeof J=="string"?J.trim().toUpperCase():""}),$t=Se(()=>{var fe,xe;const J=(xe=(fe=We==null?void 0:We.values)==null?void 0:fe.base_currency)!=null?xe:"";return typeof J=="string"?J.trim().toUpperCase():""}),Jt=Se(()=>{const J=$t.value||kt.value;return J!==""?J:"USD"}),_n=Se(()=>{var fe,xe;const J=(xe=(fe=t.dataset)==null?void 0:fe.mediaModalUrl)!=null?xe:"";return typeof J=="string"?J.trim():""}),io=J=>{switch(J){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:d("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:d("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:d("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:d("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:d("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:J||"step",titleKey:J||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:J||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:d("dashboard")||""}}},fn=Se(()=>(Array.isArray(G.checklist)?G.checklist:[]).map(fe=>{const xe=io(fe.label);return{id:xe.id,completed:!!fe.completed,link:fe.link||xe.link||"",label:fe.label,titleKey:xe.titleKey,descriptionKey:xe.descriptionKey,titleFallback:xe.titleFallback,descriptionFallback:xe.descriptionFallback}})),ao=Se(()=>fn.value.some(J=>!J.completed)),Is=Fe(!1),LT=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Ms,"0")}catch(J){}Is.value=!0},Za=()=>{if(Is.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Ms,"1")}catch(J){}},YT=J=>{J&&typeof J.link=="string"&&J.link!==""&&(Za(),typeof window!="undefined"&&(window.location.href=J.link))};De(ao,J=>{if(!J&&(Is.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Ms,"1")}catch(fe){}});const XT=(Sc=(mc=(hc=t.config)==null?void 0:hc.preload)==null?void 0:mc.tax)!=null?Sc:{items:a((gc=t.dataset)==null?void 0:gc.taxPreload,[]),pagination:a((Cc=t.dataset)==null?void 0:Cc.taxPreloadPagination,{})},{state:FT,refresh:hn,saveRate:GT,deleteRates:VT}=TT({endpoints:ie,token:t.csrfToken,preload:XT,autoload:D.value}),HT=(Tc=(bc=(Ec=t.config)==null?void 0:Ec.preload)==null?void 0:bc.shipping)!=null?Tc:{items:a((Ac=t.dataset)==null?void 0:Ac.shippingPreload,[]),pagination:a((yc=t.dataset)==null?void 0:yc.shippingPreloadPagination,{})},{state:BT,refresh:mn,saveRule:KT,deleteRules:jT}=OT({endpoints:ce,token:t.csrfToken,preload:HT,autoload:D.value}),JT=(Pc=(Rc=(Oc=t.config)==null?void 0:Oc.preload)==null?void 0:Rc.logs)!=null?Pc:{items:a((vc=t.dataset)==null?void 0:vc.logsPreload,[]),pagination:a((xc=t.dataset)==null?void 0:xc.logsPreloadPagination,{})},{state:qT,refresh:er,search:WT,setEntity:zT,goToPage:QT}=RT({endpoints:j,token:t.csrfToken,preload:JT,autoload:T.value}),{state:ZT,refresh:ro,save:eO}=vT({endpoints:B,token:t.csrfToken});De(u,J=>{switch(J){case"dashboard":ee();break;case"products":te(),V();break;case"categories":V();break;case"orders":ue();break;case"customers":Z();break;case"coupons":be();break;case"settings":Le(),hn(),mn(),ro();break;case"logs":er();break}}),ot(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const J=window.localStorage.getItem(Ms);ao.value?J!=="1"&&(Is.value=!0):window.localStorage.setItem(Ms,"1")}catch(J){}}D.value&&ro()});const tO=()=>{te()},sO=()=>{z()},nO=async J=>{try{await N(J),te(),V()}catch(fe){}},oO=async({id:J,data:fe})=>{try{await I(J,fe),te(),V()}catch(xe){}},iO=async J=>{try{await L(J),te(),V()}catch(fe){}},aO=()=>{V()},rO=()=>{Q()},lO=J=>{le(J)},cO=async J=>{try{await X(J),V()}catch(fe){}},dO=async J=>{try{await y(J),V()}catch(fe){}},uO=()=>{ee()},pO=()=>{ue()},_O=()=>{$e()},fO=J=>{m(J)},hO=J=>{E(J)},mO=()=>{Y()},gO=async({id:J,state:fe})=>{await K(J,fe)},CO=J=>{S(J)},SO=async({ids:J,state:fe})=>{await h(J,fe)},EO=J=>{b(J)},bO=()=>{R()},AO=async({id:J,message:fe})=>{await k(J,fe)},yO=()=>{Z()},TO=()=>{F()},OO=J=>{se(J)},RO=J=>{ae(J)},vO=()=>{he()},xO=()=>{be()},PO=()=>{ve()},NO=J=>{Ue(J)},MO=async J=>{try{await He(J)}catch(fe){}},IO=async J=>{try{await we(J)}catch(fe){}},kO=()=>{Le()},$O=async J=>{try{await Be(J)}catch(fe){}},wO=()=>{hn()},DO=async J=>{try{await GT(J),hn()}catch(fe){}},UO=async J=>{try{await VT(J),hn()}catch(fe){}},LO=()=>{mn()},YO=async J=>{try{await KT(J),mn()}catch(fe){}},XO=async J=>{try{await jT(J),mn()}catch(fe){}},FO=()=>{er()},GO=()=>{WT()},VO=J=>{zT(J)},HO=J=>{QT(J)},BO=()=>{ro()},KO=async J=>{await eO(J)};return(J,fe)=>(O(),lt(_p,null,{default:jo(()=>{var xe,st,ks,Nc,Mc,Ic;return[o("section",xT,[o("header",PT,[o("div",null,[o("h1",NT,p(l(s)(i.value,(st=(xe=t.dataset)==null?void 0:xe.appTitle)!=null?st:"NXP Easy Cart",[],"appTitle")),1),o("p",MT,p(l(s)(n.value,(Nc=(ks=t.dataset)==null?void 0:ks.appLead)!=null?Nc:"Manage your storefront from one place.",[],"appLead")),1)]),oe(o("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:LT},p(l(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[Yu,ao.value]])]),r.value.length?(O(),P("nav",IT,[(O(!0),P(Ee,null,Te(r.value,gn=>(O(),P("a",{key:gn.id,href:gn.link,class:Ne({"is-active":gn.id===u.value})},p(gn.title),11,kT))),128))])):ye("",!0),u.value==="dashboard"?(O(),lt(Kp,{key:1,state:l(G),translate:l(s),onRefresh:uO},null,8,["state","translate"])):u.value==="products"?(O(),lt(Sh,{key:2,state:l(pe),translate:l(s),"base-currency":Jt.value,"category-options":re.value,"media-modal-url":_n.value,onCreate:nO,onUpdate:oO,onDelete:iO,onRefresh:tO,onSearch:sO},null,8,["state","translate","base-currency","category-options","media-modal-url"])):u.value==="categories"?(O(),lt(mm,{key:3,state:l($),translate:l(s),"load-options":l(g),onRefresh:aO,onSearch:rO,onPage:lO,onSave:cO,onDelete:dO},null,8,["state","translate","load-options"])):u.value==="orders"?(O(),lt(Gg,{key:4,state:l(de),translate:l(s),onRefresh:pO,onSearch:_O,onFilter:fO,onView:hO,onClose:mO,onTransition:gO,onPage:CO,onBulkTransition:SO,onToggleSelection:EO,onClearSelection:bO,onAddNote:AO},null,8,["state","translate"])):u.value==="customers"?(O(),lt($C,{key:5,state:l(w),translate:l(s),"base-currency":Jt.value,onRefresh:yO,onSearch:TO,onPage:OO,onView:RO,onClose:vO},null,8,["state","translate","base-currency"])):u.value==="coupons"?(O(),lt(XS,{key:6,state:l(me),translate:l(s),"base-currency":Jt.value,onRefresh:xO,onSearch:PO,onPage:NO,onSave:MO,onDelete:IO},null,8,["state","translate","base-currency"])):u.value==="settings"?(O(),lt(hy,{key:7,"settings-state":l(We),"tax-state":l(FT),"shipping-state":l(BT),"payments-state":l(ZT),translate:l(s),"base-currency":Jt.value,onRefreshSettings:kO,onSaveSettings:$O,onRefreshTax:wO,onSaveTax:DO,onDeleteTax:UO,onRefreshShipping:LO,onSaveShipping:YO,onDeleteShipping:XO,onRefreshPayments:BO,onSavePayments:KO},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency"])):u.value==="logs"?(O(),lt(jy,{key:8,state:l(qT),translate:l(s),onRefresh:FO,onSearch:GO,onFilter:VO,onPage:HO},null,8,["state","translate"])):(O(),P("div",$T,[o("div",wT,[o("p",DT,p(l(s)(n.value,(Ic=(Mc=t.dataset)==null?void 0:Mc.appLead)!=null?Ic:"This section will be available soon.",[],"appLead")),1)])]))]),Ge(cT,{visible:Is.value,steps:fn.value,translate:l(s),onClose:Za,onNavigate:YT},null,8,["visible","steps","translate"])]}),_:1}))}},pn=document.getElementById("nxp-ec-admin-app");if(!pn)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(ta=pn.getAttribute("data-csrf-token"))!=null?ta:"",t=Object.assign({},pn.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(C){console.warn("[NXP Easy Cart] Failed to parse admin config payload",C)}const i=(ra=(sa=s==null?void 0:s.endpoints)==null?void 0:sa.products)!=null?ra:{list:(na=t.productsEndpoint)!=null?na:"",create:(oa=t.productsEndpointCreate)!=null?oa:"",update:(ia=t.productsEndpointUpdate)!=null?ia:"",delete:(aa=t.productsEndpointDelete)!=null?aa:""},n=(_a=(la=s==null?void 0:s.endpoints)==null?void 0:la.categories)!=null?_a:{list:(ca=t.categoriesEndpoint)!=null?ca:"",create:(da=t.categoriesEndpointCreate)!=null?da:"",update:(ua=t.categoriesEndpointUpdate)!=null?ua:"",delete:(pa=t.categoriesEndpointDelete)!=null?pa:""},a=(Ea=(fa=s==null?void 0:s.endpoints)==null?void 0:fa.orders)!=null?Ea:{list:(ha=t.ordersEndpoint)!=null?ha:"",show:(ma=t.ordersEndpointShow)!=null?ma:"",transition:(ga=t.ordersEndpointTransition)!=null?ga:"",bulkTransition:(Ca=t.ordersEndpointBulk)!=null?Ca:"",note:(Sa=t.ordersEndpointNote)!=null?Sa:""},r=(Ta=(ba=s==null?void 0:s.endpoints)==null?void 0:ba.customers)!=null?Ta:{list:(Aa=t.customersEndpoint)!=null?Aa:"",show:(ya=t.customersEndpointShow)!=null?ya:""},d=(Na=(Oa=s==null?void 0:s.endpoints)==null?void 0:Oa.coupons)!=null?Na:{list:(Ra=t.couponsEndpoint)!=null?Ra:"",create:(va=t.couponsEndpointCreate)!=null?va:"",update:(xa=t.couponsEndpointUpdate)!=null?xa:"",delete:(Pa=t.couponsEndpointDelete)!=null?Pa:""},u=(Da=(Ma=s==null?void 0:s.endpoints)==null?void 0:Ma.tax)!=null?Da:{list:(Ia=t.taxEndpoint)!=null?Ia:"",create:(ka=t.taxEndpointCreate)!=null?ka:"",update:($a=t.taxEndpointUpdate)!=null?$a:"",delete:(wa=t.taxEndpointDelete)!=null?wa:""},_=(Ga=(Ua=s==null?void 0:s.endpoints)==null?void 0:Ua.shipping)!=null?Ga:{list:(La=t.shippingEndpoint)!=null?La:"",create:(Ya=t.shippingEndpointCreate)!=null?Ya:"",update:(Xa=t.shippingEndpointUpdate)!=null?Xa:"",delete:(Fa=t.shippingEndpointDelete)!=null?Fa:""},f=(Ka=(Va=s==null?void 0:s.endpoints)==null?void 0:Va.settings)!=null?Ka:{show:(Ha=t.settingsEndpointShow)!=null?Ha:"",update:(Ba=t.settingsEndpointUpdate)!=null?Ba:""},c=(qa=(ja=s==null?void 0:s.endpoints)==null?void 0:ja.logs)!=null?qa:{list:(Ja=t.logsEndpoint)!=null?Ja:""};ip(UT,{csrfToken:e,dataset:t,config:s,endpoints:{products:i,categories:n,orders:a,customers:r,coupons:d,tax:u,shipping:_,settings:f,logs:c,dashboard:(Qa=(za=(Wa=s==null?void 0:s.endpoints)==null?void 0:Wa.dashboard)!=null?za:t.dashboardEndpoint)!=null?Qa:""}}).mount(pn)}})();
