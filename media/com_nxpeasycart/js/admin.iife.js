(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var aa,ra,la,ca,da,ua,pa,_a,fa,ha,ma,ga,Ca,Sa,Ea,ba,Aa,Ta,ya,Oa,Ra,va,xa,Na,Pa,Ma,ka,Ia,wa,$a,Ua,Da,La,Ya,Xa,Fa,Ga,Va,Ha,Ba,Ka,ja,Ja,Wa,qa,za,Qa,Za,er,tr,nr,sr,ir,or;function As(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Ie={},Zt=[],ht=()=>{},_i=()=>!1,Fn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ts=e=>e.startsWith("onUpdate:"),Qe=Object.assign,ys=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Lc=Object.prototype.hasOwnProperty,Pe=(e,t)=>Lc.call(e,t),Ce=Array.isArray,en=e=>mn(e)==="[object Map]",tn=e=>mn(e)==="[object Set]",fi=e=>mn(e)==="[object Date]",be=e=>typeof e=="function",Ge=e=>typeof e=="string",ct=e=>typeof e=="symbol",Ue=e=>e!==null&&typeof e=="object",hi=e=>(Ue(e)||be(e))&&be(e.then)&&be(e.catch),mi=Object.prototype.toString,mn=e=>mi.call(e),Yc=e=>mn(e).slice(8,-1),gi=e=>mn(e)==="[object Object]",Os=e=>Ge(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=As(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Xc=/-\w/g,Ut=Gn(e=>e.replace(Xc,t=>t.slice(1).toUpperCase())),Fc=/\B([A-Z])/g,Dt=Gn(e=>e.replace(Fc,"-$1").toLowerCase()),Ci=Gn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Rs=Gn(e=>e?`on${Ci(e)}`:""),Lt=(e,t)=>!Object.is(e,t),Vn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Si=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},Hn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ei;const Bn=()=>Ei||(Ei=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Yt(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=Ge(o)?Bc(o):Yt(o);if(n)for(const a in n)t[a]=n[a]}return t}else if(Ge(e)||Ue(e))return e}const Gc=/;(?![^(]*\))/g,Vc=/:([^]+)/,Hc=/\/\*[^]*?\*\//g;function Bc(e){const t={};return e.replace(Hc,"").split(Gc).forEach(s=>{if(s){const o=s.split(Vc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Me(e){let t="";if(Ge(e))t=e;else if(Ce(e))for(let s=0;s<e.length;s++){const o=Me(e[s]);o&&(t+=o+" ")}else if(Ue(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Kc=As("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function bi(e){return!!e||e===""}function jc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=Cn(e[o],t[o]);return s}function Cn(e,t){if(e===t)return!0;let s=fi(e),o=fi(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=ct(e),o=ct(t),s||o)return e===t;if(s=Ce(e),o=Ce(t),s||o)return s&&o?jc(e,t):!1;if(s=Ue(e),o=Ue(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const l in e){const u=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(u&&!p||!u&&p||!Cn(e[l],t[l]))return!1}}return String(e)===String(t)}function vs(e,t){return e.findIndex(s=>Cn(s,t))}const Ai=e=>!!(e&&e.__v_isRef===!0),d=e=>Ge(e)?e:e==null?"":Ce(e)||Ue(e)&&(e.toString===mi||!be(e.toString))?Ai(e)?d(e.value):JSON.stringify(e,Ti,2):String(e),Ti=(e,t)=>Ai(t)?Ti(e,t.value):en(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],a)=>(s[xs(o,a)+" =>"]=n,s),{})}:tn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>xs(s))}:ct(t)?xs(t):Ue(t)&&!Ce(t)&&!gi(t)?String(t):t,xs=(e,t="")=>{var s;return ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class Jc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Wc(){return nt}let De;const Ns=new WeakSet;class yi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ns.has(this)&&(Ns.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ri(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Mi(this),vi(this);const t=De,s=dt;De=this,dt=!0;try{return this.fn()}finally{xi(this),De=t,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Is(t);this.deps=this.depsTail=void 0,Mi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ns.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ks(this)&&this.run()}get dirty(){return ks(this)}}let Oi=0,Sn,En;function Ri(e,t=!1){if(e.flags|=8,t){e.next=En,En=e;return}e.next=Sn,Sn=e}function Ps(){Oi++}function Ms(){if(--Oi>0)return;if(En){let t=En;for(En=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Sn;){let t=Sn;for(Sn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function vi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function xi(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),Is(o),qc(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function ks(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ni(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ni(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bn)||(e.globalVersion=bn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ks(e))))return;e.flags|=2;const t=e.dep,s=De,o=dt;De=e,dt=!0;try{vi(e);const n=e.fn(e._value);(t.version===0||Lt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{De=s,dt=o,xi(e),e.flags&=-3}}function Is(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)Is(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function qc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let dt=!0;const Pi=[];function mt(){Pi.push(dt),dt=!1}function gt(){const e=Pi.pop();dt=e===void 0?!0:e}function Mi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=De;De=void 0;try{t()}finally{De=s}}}let bn=0;class zc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ws{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!De||!dt||De===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==De)s=this.activeLink=new zc(De,this),De.deps?(s.prevDep=De.depsTail,De.depsTail.nextDep=s,De.depsTail=s):De.deps=De.depsTail=s,ki(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=De.depsTail,s.nextDep=void 0,De.depsTail.nextDep=s,De.depsTail=s,De.deps===s&&(De.deps=o)}return s}trigger(t){this.version++,bn++,this.notify(t)}notify(t){Ps();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ms()}}}function ki(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)ki(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const $s=new WeakMap,Kt=Symbol(""),Us=Symbol(""),An=Symbol("");function qe(e,t,s){if(dt&&De){let o=$s.get(e);o||$s.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new ws),n.map=o,n.key=s),n.track()}}function Nt(e,t,s,o,n,a){const l=$s.get(e);if(!l){bn++;return}const u=p=>{p&&p.trigger()};if(Ps(),t==="clear")l.forEach(u);else{const p=Ce(e),f=p&&Os(s);if(p&&s==="length"){const _=Number(o);l.forEach((c,b)=>{(b==="length"||b===An||!ct(b)&&b>=_)&&u(c)})}else switch((s!==void 0||l.has(void 0))&&u(l.get(s)),f&&u(l.get(An)),t){case"add":p?f&&u(l.get("length")):(u(l.get(Kt)),en(e)&&u(l.get(Us)));break;case"delete":p||(u(l.get(Kt)),en(e)&&u(l.get(Us)));break;case"set":en(e)&&u(l.get(Kt));break}}Ms()}function nn(e){const t=xe(e);return t===e?t:(qe(t,"iterate",An),rt(e)?t:t.map(je))}function Kn(e){return qe(e=xe(e),"iterate",An),e}const Qc={__proto__:null,[Symbol.iterator](){return Ds(this,Symbol.iterator,je)},concat(...e){return nn(this).concat(...e.map(t=>Ce(t)?nn(t):t))},entries(){return Ds(this,"entries",e=>(e[1]=je(e[1]),e))},every(e,t){return Pt(this,"every",e,t,void 0,arguments)},filter(e,t){return Pt(this,"filter",e,t,s=>s.map(je),arguments)},find(e,t){return Pt(this,"find",e,t,je,arguments)},findIndex(e,t){return Pt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Pt(this,"findLast",e,t,je,arguments)},findLastIndex(e,t){return Pt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Pt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ls(this,"includes",e)},indexOf(...e){return Ls(this,"indexOf",e)},join(e){return nn(this).join(e)},lastIndexOf(...e){return Ls(this,"lastIndexOf",e)},map(e,t){return Pt(this,"map",e,t,void 0,arguments)},pop(){return Tn(this,"pop")},push(...e){return Tn(this,"push",e)},reduce(e,...t){return Ii(this,"reduce",e,t)},reduceRight(e,...t){return Ii(this,"reduceRight",e,t)},shift(){return Tn(this,"shift")},some(e,t){return Pt(this,"some",e,t,void 0,arguments)},splice(...e){return Tn(this,"splice",e)},toReversed(){return nn(this).toReversed()},toSorted(e){return nn(this).toSorted(e)},toSpliced(...e){return nn(this).toSpliced(...e)},unshift(...e){return Tn(this,"unshift",e)},values(){return Ds(this,"values",je)}};function Ds(e,t,s){const o=Kn(e),n=o[t]();return o!==e&&!rt(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const Zc=Array.prototype;function Pt(e,t,s,o,n,a){const l=Kn(e),u=l!==e&&!rt(e),p=l[t];if(p!==Zc[t]){const c=p.apply(e,a);return u?je(c):c}let f=s;l!==e&&(u?f=function(c,b){return s.call(this,je(c),b,e)}:s.length>2&&(f=function(c,b){return s.call(this,c,b,e)}));const _=p.call(l,f,o);return u&&n?n(_):_}function Ii(e,t,s,o){const n=Kn(e);let a=s;return n!==e&&(rt(e)?s.length>3&&(a=function(l,u,p){return s.call(this,l,u,p,e)}):a=function(l,u,p){return s.call(this,l,je(u),p,e)}),n[t](a,...o)}function Ls(e,t,s){const o=xe(e);qe(o,"iterate",An);const n=o[t](...s);return(n===-1||n===!1)&&Fs(s[0])?(s[0]=xe(s[0]),o[t](...s)):n}function Tn(e,t,s=[]){mt(),Ps();const o=xe(e)[t].apply(e,s);return Ms(),gt(),o}const ed=As("__proto__,__v_isRef,__isVue"),wi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ct));function td(e){ct(e)||(e=String(e));const t=xe(this);return qe(t,"has",e),t.hasOwnProperty(e)}class $i{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return o===(n?a?Fi:Xi:a?Yi:Li).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=Ce(t);if(!n){let p;if(l&&(p=Qc[s]))return p;if(s==="hasOwnProperty")return td}const u=Reflect.get(t,s,Je(t)?t:o);if((ct(s)?wi.has(s):ed(s))||(n||qe(t,"get",s),a))return u;if(Je(u)){const p=l&&Os(s)?u:u.value;return n&&Ue(p)?Xs(p):p}return Ue(u)?n?Xs(u):we(u):u}}class Ui extends $i{constructor(t=!1){super(!1,t)}set(t,s,o,n){let a=t[s];if(!this._isShallow){const p=Xt(a);if(!rt(o)&&!Xt(o)&&(a=xe(a),o=xe(o)),!Ce(t)&&Je(a)&&!Je(o))return p||(a.value=o),!0}const l=Ce(t)&&Os(s)?Number(s)<t.length:Pe(t,s),u=Reflect.set(t,s,o,Je(t)?t:n);return t===xe(n)&&(l?Lt(o,a)&&Nt(t,"set",s,o):Nt(t,"add",s,o)),u}deleteProperty(t,s){const o=Pe(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&Nt(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!ct(s)||!wi.has(s))&&qe(t,"has",s),o}ownKeys(t){return qe(t,"iterate",Ce(t)?"length":Kt),Reflect.ownKeys(t)}}class Di extends $i{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const nd=new Ui,sd=new Di,id=new Ui(!0),od=new Di(!0),Ys=e=>e,jn=e=>Reflect.getPrototypeOf(e);function ad(e,t,s){return function(...o){const n=this.__v_raw,a=xe(n),l=en(a),u=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,f=n[e](...o),_=s?Ys:t?zn:je;return!t&&qe(a,"iterate",p?Us:Kt),{next(){const{value:c,done:b}=f.next();return b?{value:c,done:b}:{value:u?[_(c[0]),_(c[1])]:_(c),done:b}},[Symbol.iterator](){return this}}}}function Jn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function rd(e,t){const s={get(n){const a=this.__v_raw,l=xe(a),u=xe(n);e||(Lt(n,u)&&qe(l,"get",n),qe(l,"get",u));const{has:p}=jn(l),f=t?Ys:e?zn:je;if(p.call(l,n))return f(a.get(n));if(p.call(l,u))return f(a.get(u));a!==l&&a.get(n)},get size(){const n=this.__v_raw;return!e&&qe(xe(n),"iterate",Kt),n.size},has(n){const a=this.__v_raw,l=xe(a),u=xe(n);return e||(Lt(n,u)&&qe(l,"has",n),qe(l,"has",u)),n===u?a.has(n):a.has(n)||a.has(u)},forEach(n,a){const l=this,u=l.__v_raw,p=xe(u),f=t?Ys:e?zn:je;return!e&&qe(p,"iterate",Kt),u.forEach((_,c)=>n.call(a,f(_),f(c),l))}};return Qe(s,e?{add:Jn("add"),set:Jn("set"),delete:Jn("delete"),clear:Jn("clear")}:{add(n){!t&&!rt(n)&&!Xt(n)&&(n=xe(n));const a=xe(this);return jn(a).has.call(a,n)||(a.add(n),Nt(a,"add",n,n)),this},set(n,a){!t&&!rt(a)&&!Xt(a)&&(a=xe(a));const l=xe(this),{has:u,get:p}=jn(l);let f=u.call(l,n);f||(n=xe(n),f=u.call(l,n));const _=p.call(l,n);return l.set(n,a),f?Lt(a,_)&&Nt(l,"set",n,a):Nt(l,"add",n,a),this},delete(n){const a=xe(this),{has:l,get:u}=jn(a);let p=l.call(a,n);p||(n=xe(n),p=l.call(a,n)),u&&u.call(a,n);const f=a.delete(n);return p&&Nt(a,"delete",n,void 0),f},clear(){const n=xe(this),a=n.size!==0,l=n.clear();return a&&Nt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=ad(n,e,t)}),s}function Wn(e,t){const s=rd(e,t);return(o,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(Pe(s,n)&&n in o?s:o,n,a)}const ld={get:Wn(!1,!1)},cd={get:Wn(!1,!0)},dd={get:Wn(!0,!1)},ud={get:Wn(!0,!0)},Li=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,Fi=new WeakMap;function pd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _d(e){return e.__v_skip||!Object.isExtensible(e)?0:pd(Yc(e))}function we(e){return Xt(e)?e:qn(e,!1,nd,ld,Li)}function fd(e){return qn(e,!1,id,cd,Yi)}function Xs(e){return qn(e,!0,sd,dd,Xi)}function jR(e){return qn(e,!0,od,ud,Fi)}function qn(e,t,s,o,n){if(!Ue(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=_d(e);if(a===0)return e;const l=n.get(e);if(l)return l;const u=new Proxy(e,a===2?o:s);return n.set(e,u),u}function sn(e){return Xt(e)?sn(e.__v_raw):!!(e&&e.__v_isReactive)}function Xt(e){return!!(e&&e.__v_isReadonly)}function rt(e){return!!(e&&e.__v_isShallow)}function Fs(e){return e?!!e.__v_raw:!1}function xe(e){const t=e&&e.__v_raw;return t?xe(t):e}function hd(e){return!Pe(e,"__v_skip")&&Object.isExtensible(e)&&Si(e,"__v_skip",!0),e}const je=e=>Ue(e)?we(e):e,zn=e=>Ue(e)?Xs(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function He(e){return md(e,!1)}function md(e,t){return Je(e)?e:new gd(e,t)}class gd{constructor(t,s){this.dep=new ws,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:xe(t),this._value=s?t:je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||rt(t)||Xt(t);t=o?t:xe(t),Lt(t,s)&&(this._rawValue=t,this._value=o?t:je(t),this.dep.trigger())}}function r(e){return Je(e)?e.value:e}const Cd={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return Je(n)&&!Je(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function Gi(e){return sn(e)?e:new Proxy(e,Cd)}class Sd{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new ws(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return Ri(this,!0),!0}get value(){const t=this.dep.track();return Ni(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ed(e,t,s=!1){let o,n;return be(e)?o=e:(o=e.get,n=e.set),new Sd(o,n,s)}const Qn={},Zn=new WeakMap;let jt;function bd(e,t=!1,s=jt){if(s){let o=Zn.get(s);o||Zn.set(s,o=[]),o.push(e)}}function Ad(e,t,s=Ie){const{immediate:o,deep:n,once:a,scheduler:l,augmentJob:u,call:p}=s,f=I=>n?I:rt(I)||n===!1||n===0?Mt(I,1):Mt(I);let _,c,b,v,U=!1,x=!1;if(Je(e)?(c=()=>e.value,U=rt(e)):sn(e)?(c=()=>f(e),U=!0):Ce(e)?(x=!0,U=e.some(I=>sn(I)||rt(I)),c=()=>e.map(I=>{if(Je(I))return I.value;if(sn(I))return f(I);if(be(I))return p?p(I,2):I()})):be(e)?t?c=p?()=>p(e,2):e:c=()=>{if(b){mt();try{b()}finally{gt()}}const I=jt;jt=_;try{return p?p(e,3,[v]):e(v)}finally{jt=I}}:c=ht,t&&n){const I=c,$=n===!0?1/0:n;c=()=>Mt(I(),$)}const P=Wc(),X=()=>{_.stop(),P&&P.active&&ys(P.effects,_)};if(a&&t){const I=t;t=(...$)=>{I(...$),X()}}let J=x?new Array(e.length).fill(Qn):Qn;const y=I=>{if(!(!(_.flags&1)||!_.dirty&&!I))if(t){const $=_.run();if(n||U||(x?$.some((ie,oe)=>Lt(ie,J[oe])):Lt($,J))){b&&b();const ie=jt;jt=_;try{const oe=[$,J===Qn?void 0:x&&J[0]===Qn?[]:J,v];J=$,p?p(t,3,oe):t(...oe)}finally{jt=ie}}}else _.run()};return u&&u(y),_=new yi(c),_.scheduler=l?()=>l(y,!1):y,v=I=>bd(I,!1,_),b=_.onStop=()=>{const I=Zn.get(_);if(I){if(p)p(I,4);else for(const $ of I)$();Zn.delete(_)}},t?o?y(!0):J=_.run():l?l(y.bind(null,!0),!0):_.run(),X.pause=_.pause.bind(_),X.resume=_.resume.bind(_),X.stop=X,X}function Mt(e,t=1/0,s){if(t<=0||!Ue(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Je(e))Mt(e.value,t,s);else if(Ce(e))for(let o=0;o<e.length;o++)Mt(e[o],t,s);else if(tn(e)||en(e))e.forEach(o=>{Mt(o,t,s)});else if(gi(e)){for(const o in e)Mt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&Mt(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yn=[];let Gs=!1;function JR(e,...t){if(Gs)return;Gs=!0,mt();const s=yn.length?yn[yn.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=Td();if(o)on(o,s,11,[e+t.map(a=>{var l,u;return(u=(l=a.toString)==null?void 0:l.call(a))!=null?u:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${Lo(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,...yd(n)),console.warn(...a)}gt(),Gs=!1}function Td(){let e=yn[yn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function yd(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...Od(s))}),t}function Od({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${Lo(e.component,e.type,o)}`,a=">"+s;return e.props?[n,...Rd(e.props),a]:[n+a]}function Rd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...Vi(o,e[o]))}),s.length>3&&t.push(" ..."),t}function Vi(e,t,s){return Ge(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Je(t)?(t=Vi(e,xe(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):be(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=xe(t),s?t:[`${e}=`,t])}function on(e,t,s,o){try{return o?e(...o):e()}catch(n){es(n,t,s)}}function Ct(e,t,s,o){if(be(e)){const n=on(e,t,s,o);return n&&hi(n)&&n.catch(a=>{es(a,t,s)}),n}if(Ce(e)){const n=[];for(let a=0;a<e.length;a++)n.push(Ct(e[a],t,s,o));return n}}function es(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||Ie;if(t){let u=t.parent;const p=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const _=u.ec;if(_){for(let c=0;c<_.length;c++)if(_[c](e,p,f)===!1)return}u=u.parent}if(a){mt(),on(a,null,10,[e,p,f]),gt();return}}vd(e,s,n,o,l)}function vd(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Ze=[];let St=-1;const an=[];let Ft=null,rn=0;const Hi=Promise.resolve();let ts=null;function Bi(e){const t=ts||Hi;return e?t.then(this?e.bind(this):e):t}function xd(e){let t=St+1,s=Ze.length;for(;t<s;){const o=t+s>>>1,n=Ze[o],a=On(n);a<e||a===e&&n.flags&2?t=o+1:s=o}return t}function Vs(e){if(!(e.flags&1)){const t=On(e),s=Ze[Ze.length-1];!s||!(e.flags&2)&&t>=On(s)?Ze.push(e):Ze.splice(xd(t),0,e),e.flags|=1,Ki()}}function Ki(){ts||(ts=Hi.then(Wi))}function Nd(e){Ce(e)?an.push(...e):Ft&&e.id===-1?Ft.splice(rn+1,0,e):e.flags&1||(an.push(e),e.flags|=1),Ki()}function ji(e,t,s=St+1){for(;s<Ze.length;s++){const o=Ze[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ze.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Ji(e){if(an.length){const t=[...new Set(an)].sort((s,o)=>On(s)-On(o));if(an.length=0,Ft){Ft.push(...t);return}for(Ft=t,rn=0;rn<Ft.length;rn++){const s=Ft[rn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ft=null,rn=0}}const On=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Wi(e){try{for(St=0;St<Ze.length;St++){const t=Ze[St];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),on(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;St<Ze.length;St++){const t=Ze[St];t&&(t.flags&=-2)}St=-1,Ze.length=0,Ji(),ts=null,(Ze.length||an.length)&&Wi()}}let ze=null,qi=null;function ns(e){const t=ze;return ze=e,qi=e&&e.type.__scopeId||null,t}function zi(e,t=ze,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&Mo(-1);const a=ns(t);let l;try{l=e(...n)}finally{ns(a),o._d&&Mo(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function te(e,t){if(ze===null)return e;const s=ps(ze),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,l,u,p=Ie]=t[n];a&&(be(a)&&(a={mounted:a,updated:a}),a.deep&&Mt(l),o.push({dir:a,instance:s,value:l,oldValue:void 0,arg:u,modifiers:p}))}return e}function Jt(e,t,s,o){const n=e.dirs,a=t&&t.dirs;for(let l=0;l<n.length;l++){const u=n[l];a&&(u.oldValue=a[l].value);let p=u.dir[o];p&&(mt(),Ct(p,s,8,[e.el,u,e,t]),gt())}}const Pd=Symbol("_vte"),Md=e=>e.__isTeleport,kd=Symbol("_leaveCb");function Hs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Hs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Qi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const ss=new WeakMap;function Rn(e,t,s,o,n=!1){if(Ce(e)){e.forEach((U,x)=>Rn(U,t&&(Ce(t)?t[x]:t),s,o,n));return}if(ln(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Rn(e,t,s,o.component.subTree);return}const a=o.shapeFlag&4?ps(o.component):o.el,l=n?null:a,{i:u,r:p}=e,f=t&&t.r,_=u.refs===Ie?u.refs={}:u.refs,c=u.setupState,b=xe(c),v=c===Ie?_i:U=>Pe(b,U);if(f!=null&&f!==p){if(Zi(t),Ge(f))_[f]=null,v(f)&&(c[f]=null);else if(Je(f)){f.value=null;const U=t;U.k&&(_[U.k]=null)}}if(be(p))on(p,u,12,[l,_]);else{const U=Ge(p),x=Je(p);if(U||x){const P=()=>{if(e.f){const X=U?v(p)?c[p]:_[p]:p.value;if(n)Ce(X)&&ys(X,a);else if(Ce(X))X.includes(a)||X.push(a);else if(U)_[p]=[a],v(p)&&(c[p]=_[p]);else{const J=[a];p.value=J,e.k&&(_[e.k]=J)}}else U?(_[p]=l,v(p)&&(c[p]=l)):x&&(p.value=l,e.k&&(_[e.k]=l))};if(l){const X=()=>{P(),ss.delete(e)};X.id=-1,ss.set(e,X),it(X,s)}else Zi(e),P()}}}function Zi(e){const t=ss.get(e);t&&(t.flags|=8,ss.delete(e))}Bn().requestIdleCallback,Bn().cancelIdleCallback;const ln=e=>!!e.type.__asyncLoader,eo=e=>e.type.__isKeepAlive;function Id(e,t){to(e,"a",t)}function wd(e,t){to(e,"da",t)}function to(e,t,s=tt){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(is(t,o,s),s){let n=s.parent;for(;n&&n.parent;)eo(n.parent.vnode)&&$d(o,t,s,n),n=n.parent}}function $d(e,t,s,o){const n=is(t,e,o,!0);so(()=>{ys(o[t],n)},s)}function is(e,t,s=tt,o=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...l)=>{mt();const u=kn(s),p=Ct(t,s,e,l);return u(),gt(),p});return o?n.unshift(a):n.push(a),a}}const kt=e=>(t,s=tt)=>{(!In||e==="sp")&&is(e,(...o)=>t(...o),s)},Ud=kt("bm"),st=kt("m"),Dd=kt("bu"),Ld=kt("u"),no=kt("bum"),so=kt("um"),Yd=kt("sp"),Xd=kt("rtg"),Fd=kt("rtc");function Gd(e,t=tt){is("ec",e,t)}const Vd=Symbol.for("v-ndc");function ve(e,t,s,o){let n;const a=s,l=Ce(e);if(l||Ge(e)){const u=l&&sn(e);let p=!1,f=!1;u&&(p=!rt(e),f=Xt(e),e=Kn(e)),n=new Array(e.length);for(let _=0,c=e.length;_<c;_++)n[_]=t(p?f?zn(je(e[_])):je(e[_]):e[_],_,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,a)}else if(Ue(e))if(e[Symbol.iterator])n=Array.from(e,(u,p)=>t(u,p,void 0,a));else{const u=Object.keys(e);n=new Array(u.length);for(let p=0,f=u.length;p<f;p++){const _=u[p];n[p]=t(e[_],_,p,a)}}else n=[];return n}function Hd(e,t,s={},o,n){if(ze.ce||ze.parent&&ln(ze.parent)&&ze.parent.ce){const f=Object.keys(s).length>0;return R(),lt(Se,null,[Be("slot",s,o)],f?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),R();const l=a&&io(a(s)),u=s.key||l&&l.key,p=lt(Se,{key:(u&&!ct(u)?u:`_${t}`)+(!l&&o?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function io(e){return e.some(t=>Zs(t)?!(t.type===It||t.type===Se&&!io(t.children)):!0)?e:null}const Bs=e=>e?$o(e)?ps(e):Bs(e.parent):null,vn=Qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Bs(e.parent),$root:e=>Bs(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>lo(e),$forceUpdate:e=>e.f||(e.f=()=>{Vs(e.update)}),$nextTick:e=>e.n||(e.n=Bi.bind(e.proxy)),$watch:e=>pu.bind(e)}),Ks=(e,t)=>e!==Ie&&!e.__isScriptSetup&&Pe(e,t),Bd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:a,accessCache:l,type:u,appContext:p}=e;let f;if(t[0]!=="$"){const v=l[t];if(v!==void 0)switch(v){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(Ks(o,t))return l[t]=1,o[t];if(n!==Ie&&Pe(n,t))return l[t]=2,n[t];if((f=e.propsOptions[0])&&Pe(f,t))return l[t]=3,a[t];if(s!==Ie&&Pe(s,t))return l[t]=4,s[t];js&&(l[t]=0)}}const _=vn[t];let c,b;if(_)return t==="$attrs"&&qe(e.attrs,"get",""),_(e);if((c=u.__cssModules)&&(c=c[t]))return c;if(s!==Ie&&Pe(s,t))return l[t]=4,s[t];if(b=p.config.globalProperties,Pe(b,t))return b[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:a}=e;return Ks(n,t)?(n[t]=s,!0):o!==Ie&&Pe(o,t)?(o[t]=s,!0):Pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:a,type:l}},u){let p,f;return!!(s[u]||e!==Ie&&u[0]!=="$"&&Pe(e,u)||Ks(t,u)||(p=a[0])&&Pe(p,u)||Pe(o,u)||Pe(vn,u)||Pe(n.config.globalProperties,u)||(f=l.__cssModules)&&f[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Pe(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function oo(e){return Ce(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let js=!0;function Kd(e){const t=lo(e),s=e.proxy,o=e.ctx;js=!1,t.beforeCreate&&ao(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:l,watch:u,provide:p,inject:f,created:_,beforeMount:c,mounted:b,beforeUpdate:v,updated:U,activated:x,deactivated:P,beforeDestroy:X,beforeUnmount:J,destroyed:y,unmounted:I,render:$,renderTracked:ie,renderTriggered:oe,errorCaptured:ce,serverPrefetch:me,expose:j,inheritAttrs:V,components:W,directives:F,filters:ne}=t;if(f&&jd(f,o,null),l)for(const q in l){const Z=l[q];be(Z)&&(o[q]=Z.bind(s))}if(n){const q=n.call(s,s);Ue(q)&&(e.data=we(q))}if(js=!0,a)for(const q in a){const Z=a[q],Q=be(Z)?Z.bind(s,s):be(Z.get)?Z.get.bind(s,s):ht,ue=!be(Z)&&be(Z.set)?Z.set.bind(s):ht,L=he({get:Q,set:ue});Object.defineProperty(o,q,{enumerable:!0,configurable:!0,get:()=>L.value,set:K=>L.value=K})}if(u)for(const q in u)ro(u[q],o,s,q);if(p){const q=be(p)?p.call(s):p;Reflect.ownKeys(q).forEach(Z=>{Zd(Z,q[Z])})}_&&ao(_,e,"c");function se(q,Z){Ce(Z)?Z.forEach(Q=>q(Q.bind(s))):Z&&q(Z.bind(s))}if(se(Ud,c),se(st,b),se(Dd,v),se(Ld,U),se(Id,x),se(wd,P),se(Gd,ce),se(Fd,ie),se(Xd,oe),se(no,J),se(so,I),se(Yd,me),Ce(j))if(j.length){const q=e.exposed||(e.exposed={});j.forEach(Z=>{Object.defineProperty(q,Z,{get:()=>s[Z],set:Q=>s[Z]=Q,enumerable:!0})})}else e.exposed||(e.exposed={});$&&e.render===ht&&(e.render=$),V!=null&&(e.inheritAttrs=V),W&&(e.components=W),F&&(e.directives=F),me&&Qi(e)}function jd(e,t,s=ht){Ce(e)&&(e=Js(e));for(const o in e){const n=e[o];let a;Ue(n)?"default"in n?a=as(n.from||o,n.default,!0):a=as(n.from||o):a=as(n),Je(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function ao(e,t,s){Ct(Ce(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function ro(e,t,s,o){let n=o.includes(".")?Ro(s,o):()=>s[o];if(Ge(e)){const a=t[e];be(a)&&Le(n,a)}else if(be(e))Le(n,e.bind(s));else if(Ue(e))if(Ce(e))e.forEach(a=>ro(a,t,s,o));else{const a=be(e.handler)?e.handler.bind(s):t[e.handler];be(a)&&Le(n,a,e)}}function lo(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let p;return u?p=u:!n.length&&!s&&!o?p=t:(p={},n.length&&n.forEach(f=>os(p,f,l,!0)),os(p,t,l)),Ue(t)&&a.set(t,p),p}function os(e,t,s,o=!1){const{mixins:n,extends:a}=t;a&&os(e,a,s,!0),n&&n.forEach(l=>os(e,l,s,!0));for(const l in t)if(!(o&&l==="expose")){const u=Jd[l]||s&&s[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const Jd={data:co,props:uo,emits:uo,methods:xn,computed:xn,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:xn,directives:xn,watch:qd,provide:co,inject:Wd};function co(e,t){return t?e?function(){return Qe(be(e)?e.call(this,this):e,be(t)?t.call(this,this):t)}:t:e}function Wd(e,t){return xn(Js(e),Js(t))}function Js(e){if(Ce(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function xn(e,t){return e?Qe(Object.create(null),e,t):t}function uo(e,t){return e?Ce(e)&&Ce(t)?[...new Set([...e,...t])]:Qe(Object.create(null),oo(e),oo(t!=null?t:{})):t}function qd(e,t){if(!e)return t;if(!t)return e;const s=Qe(Object.create(null),e);for(const o in t)s[o]=et(e[o],t[o]);return s}function po(){return{app:null,config:{isNativeTag:_i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zd=0;function Qd(e,t){return function(o,n=null){be(o)||(o=Qe({},o)),n!=null&&!Ue(n)&&(n=null);const a=po(),l=new WeakSet,u=[];let p=!1;const f=a.app={_uid:zd++,_component:o,_props:n,_container:null,_context:a,_instance:null,version:Lu,get config(){return a.config},set config(_){},use(_,...c){return l.has(_)||(_&&be(_.install)?(l.add(_),_.install(f,...c)):be(_)&&(l.add(_),_(f,...c))),f},mixin(_){return a.mixins.includes(_)||a.mixins.push(_),f},component(_,c){return c?(a.components[_]=c,f):a.components[_]},directive(_,c){return c?(a.directives[_]=c,f):a.directives[_]},mount(_,c,b){if(!p){const v=f._ceVNode||Be(o,n);return v.appContext=a,b===!0?b="svg":b===!1&&(b=void 0),e(v,_,b),p=!0,f._container=_,_.__vue_app__=f,ps(v.component)}},onUnmount(_){u.push(_)},unmount(){p&&(Ct(u,f._instance,16),e(null,f._container),delete f._container.__vue_app__)},provide(_,c){return a.provides[_]=c,f},runWithContext(_){const c=cn;cn=f;try{return _()}finally{cn=c}}};return f}}let cn=null;function Zd(e,t){if(tt){let s=tt.provides;const o=tt.parent&&tt.parent.provides;o===s&&(s=tt.provides=Object.create(o)),s[e]=t}}function as(e,t,s=!1){const o=Nu();if(o||cn){let n=cn?cn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&be(t)?t.call(o&&o.proxy):t}}const _o={},fo=()=>Object.create(_o),ho=e=>Object.getPrototypeOf(e)===_o;function eu(e,t,s,o=!1){const n={},a=fo();e.propsDefaults=Object.create(null),mo(e,t,n,a);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=o?n:fd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function tu(e,t,s,o){const{props:n,attrs:a,vnode:{patchFlag:l}}=e,u=xe(n),[p]=e.propsOptions;let f=!1;if((o||l>0)&&!(l&16)){if(l&8){const _=e.vnode.dynamicProps;for(let c=0;c<_.length;c++){let b=_[c];if(rs(e.emitsOptions,b))continue;const v=t[b];if(p)if(Pe(a,b))v!==a[b]&&(a[b]=v,f=!0);else{const U=Ut(b);n[U]=Ws(p,u,U,v,e,!1)}else v!==a[b]&&(a[b]=v,f=!0)}}}else{mo(e,t,n,a)&&(f=!0);let _;for(const c in u)(!t||!Pe(t,c)&&((_=Dt(c))===c||!Pe(t,_)))&&(p?s&&(s[c]!==void 0||s[_]!==void 0)&&(n[c]=Ws(p,u,c,void 0,e,!0)):delete n[c]);if(a!==u)for(const c in a)(!t||!Pe(t,c))&&(delete a[c],f=!0)}f&&Nt(e.attrs,"set","")}function mo(e,t,s,o){const[n,a]=e.propsOptions;let l=!1,u;if(t)for(let p in t){if(gn(p))continue;const f=t[p];let _;n&&Pe(n,_=Ut(p))?!a||!a.includes(_)?s[_]=f:(u||(u={}))[_]=f:rs(e.emitsOptions,p)||(!(p in o)||f!==o[p])&&(o[p]=f,l=!0)}if(a){const p=xe(s),f=u||Ie;for(let _=0;_<a.length;_++){const c=a[_];s[c]=Ws(n,p,c,f[c],e,!Pe(f,c))}}return l}function Ws(e,t,s,o,n,a){const l=e[s];if(l!=null){const u=Pe(l,"default");if(u&&o===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&be(p)){const{propsDefaults:f}=n;if(s in f)o=f[s];else{const _=kn(n);o=f[s]=p.call(null,t),_()}}else o=p;n.ce&&n.ce._setProp(s,o)}l[0]&&(a&&!u?o=!1:l[1]&&(o===""||o===Dt(s))&&(o=!0))}return o}const nu=new WeakMap;function go(e,t,s=!1){const o=s?nu:t.propsCache,n=o.get(e);if(n)return n;const a=e.props,l={},u=[];let p=!1;if(!be(e)){const _=c=>{p=!0;const[b,v]=go(c,t,!0);Qe(l,b),v&&u.push(...v)};!s&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}if(!a&&!p)return Ue(e)&&o.set(e,Zt),Zt;if(Ce(a))for(let _=0;_<a.length;_++){const c=Ut(a[_]);Co(c)&&(l[c]=Ie)}else if(a)for(const _ in a){const c=Ut(_);if(Co(c)){const b=a[_],v=l[c]=Ce(b)||be(b)?{type:b}:Qe({},b),U=v.type;let x=!1,P=!0;if(Ce(U))for(let X=0;X<U.length;++X){const J=U[X],y=be(J)&&J.name;if(y==="Boolean"){x=!0;break}else y==="String"&&(P=!1)}else x=be(U)&&U.name==="Boolean";v[0]=x,v[1]=P,(x||Pe(v,"default"))&&u.push(c)}}const f=[l,u];return Ue(e)&&o.set(e,f),f}function Co(e){return e[0]!=="$"&&!gn(e)}const qs=e=>e==="_"||e==="_ctx"||e==="$stable",zs=e=>Ce(e)?e.map(Et):[Et(e)],su=(e,t,s)=>{if(t._n)return t;const o=zi((...n)=>zs(t(...n)),s);return o._c=!1,o},So=(e,t,s)=>{const o=e._ctx;for(const n in e){if(qs(n))continue;const a=e[n];if(be(a))t[n]=su(n,a,o);else if(a!=null){const l=zs(a);t[n]=()=>l}}},Eo=(e,t)=>{const s=zs(t);e.slots.default=()=>s},bo=(e,t,s)=>{for(const o in t)(s||!qs(o))&&(e[o]=t[o])},iu=(e,t,s)=>{const o=e.slots=fo();if(e.vnode.shapeFlag&32){const n=t._;n?(bo(o,t,s),s&&Si(o,"_",n,!0)):So(t,o)}else t&&Eo(e,t)},ou=(e,t,s)=>{const{vnode:o,slots:n}=e;let a=!0,l=Ie;if(o.shapeFlag&32){const u=t._;u?s&&u===1?a=!1:bo(n,t,s):(a=!t.$stable,So(t,n)),l=t}else t&&(Eo(e,t),l={default:1});if(a)for(const u in n)!qs(u)&&l[u]==null&&delete n[u]},it=Eu;function au(e){return ru(e)}function ru(e,t){const s=Bn();s.__VUE__=!0;const{insert:o,remove:n,patchProp:a,createElement:l,createText:u,createComment:p,setText:f,setElementText:_,parentNode:c,nextSibling:b,setScopeId:v=ht,insertStaticContent:U}=e,x=(C,S,N,w=null,k=null,G=null,A=void 0,g=null,T=!!S.dynamicChildren)=>{if(C===S)return;C&&!Mn(C,S)&&(w=Re(C),K(C,k,G,!0),C=null),S.patchFlag===-2&&(T=!1,S.dynamicChildren=null);const{type:O,ref:Y,shapeFlag:D}=S;switch(O){case ls:P(C,S,N,w);break;case It:X(C,S,N,w);break;case cs:C==null&&J(S,N,w,A);break;case Se:W(C,S,N,w,k,G,A,g,T);break;default:D&1?$(C,S,N,w,k,G,A,g,T):D&6?F(C,S,N,w,k,G,A,g,T):(D&64||D&128)&&O.process(C,S,N,w,k,G,A,g,T,h)}Y!=null&&k?Rn(Y,C&&C.ref,G,S||C,!S):Y==null&&C&&C.ref!=null&&Rn(C.ref,null,G,C,!0)},P=(C,S,N,w)=>{if(C==null)o(S.el=u(S.children),N,w);else{const k=S.el=C.el;S.children!==C.children&&f(k,S.children)}},X=(C,S,N,w)=>{C==null?o(S.el=p(S.children||""),N,w):S.el=C.el},J=(C,S,N,w)=>{[C.el,C.anchor]=U(C.children,S,N,w,C.el,C.anchor)},y=({el:C,anchor:S},N,w)=>{let k;for(;C&&C!==S;)k=b(C),o(C,N,w),C=k;o(S,N,w)},I=({el:C,anchor:S})=>{let N;for(;C&&C!==S;)N=b(C),n(C),C=N;n(S)},$=(C,S,N,w,k,G,A,g,T)=>{S.type==="svg"?A="svg":S.type==="math"&&(A="mathml"),C==null?ie(S,N,w,k,G,A,g,T):me(C,S,k,G,A,g,T)},ie=(C,S,N,w,k,G,A,g)=>{let T,O;const{props:Y,shapeFlag:D,transition:z,dirs:B}=C;if(T=C.el=l(C.type,G,Y&&Y.is,Y),D&8?_(T,C.children):D&16&&ce(C.children,T,null,w,k,Qs(C,G),A,g),B&&Jt(C,null,w,"created"),oe(T,C,C.scopeId,A,w),Y){for(const fe in Y)fe!=="value"&&!gn(fe)&&a(T,fe,null,Y[fe],G,w);"value"in Y&&a(T,"value",null,Y.value,G),(O=Y.onVnodeBeforeMount)&&bt(O,w,C)}B&&Jt(C,null,w,"beforeMount");const re=lu(k,z);re&&z.beforeEnter(T),o(T,S,N),((O=Y&&Y.onVnodeMounted)||re||B)&&it(()=>{O&&bt(O,w,C),re&&z.enter(T),B&&Jt(C,null,w,"mounted")},k)},oe=(C,S,N,w,k)=>{if(N&&v(C,N),w)for(let G=0;G<w.length;G++)v(C,w[G]);if(k){let G=k.subTree;if(S===G||Po(G.type)&&(G.ssContent===S||G.ssFallback===S)){const A=k.vnode;oe(C,A,A.scopeId,A.slotScopeIds,k.parent)}}},ce=(C,S,N,w,k,G,A,g,T=0)=>{for(let O=T;O<C.length;O++){const Y=C[O]=g?Gt(C[O]):Et(C[O]);x(null,Y,S,N,w,k,G,A,g)}},me=(C,S,N,w,k,G,A)=>{const g=S.el=C.el;let{patchFlag:T,dynamicChildren:O,dirs:Y}=S;T|=C.patchFlag&16;const D=C.props||Ie,z=S.props||Ie;let B;if(N&&Wt(N,!1),(B=z.onVnodeBeforeUpdate)&&bt(B,N,S,C),Y&&Jt(S,C,N,"beforeUpdate"),N&&Wt(N,!0),(D.innerHTML&&z.innerHTML==null||D.textContent&&z.textContent==null)&&_(g,""),O?j(C.dynamicChildren,O,g,N,w,Qs(S,k),G):A||Z(C,S,g,null,N,w,Qs(S,k),G,!1),T>0){if(T&16)V(g,D,z,N,k);else if(T&2&&D.class!==z.class&&a(g,"class",null,z.class,k),T&4&&a(g,"style",D.style,z.style,k),T&8){const re=S.dynamicProps;for(let fe=0;fe<re.length;fe++){const ge=re[fe],ye=D[ge],Ne=z[ge];(Ne!==ye||ge==="value")&&a(g,ge,ye,Ne,k,N)}}T&1&&C.children!==S.children&&_(g,S.children)}else!A&&O==null&&V(g,D,z,N,k);((B=z.onVnodeUpdated)||Y)&&it(()=>{B&&bt(B,N,S,C),Y&&Jt(S,C,N,"updated")},w)},j=(C,S,N,w,k,G,A)=>{for(let g=0;g<S.length;g++){const T=C[g],O=S[g],Y=T.el&&(T.type===Se||!Mn(T,O)||T.shapeFlag&198)?c(T.el):N;x(T,O,Y,null,w,k,G,A,!0)}},V=(C,S,N,w,k)=>{if(S!==N){if(S!==Ie)for(const G in S)!gn(G)&&!(G in N)&&a(C,G,S[G],null,k,w);for(const G in N){if(gn(G))continue;const A=N[G],g=S[G];A!==g&&G!=="value"&&a(C,G,g,A,k,w)}"value"in N&&a(C,"value",S.value,N.value,k)}},W=(C,S,N,w,k,G,A,g,T)=>{const O=S.el=C?C.el:u(""),Y=S.anchor=C?C.anchor:u("");let{patchFlag:D,dynamicChildren:z,slotScopeIds:B}=S;B&&(g=g?g.concat(B):B),C==null?(o(O,N,w),o(Y,N,w),ce(S.children||[],N,Y,k,G,A,g,T)):D>0&&D&64&&z&&C.dynamicChildren?(j(C.dynamicChildren,z,N,k,G,A,g),(S.key!=null||k&&S===k.subTree)&&Ao(C,S,!0)):Z(C,S,N,Y,k,G,A,g,T)},F=(C,S,N,w,k,G,A,g,T)=>{S.slotScopeIds=g,C==null?S.shapeFlag&512?k.ctx.activate(S,N,w,A,T):ne(S,N,w,k,G,A,T):pe(C,S,T)},ne=(C,S,N,w,k,G,A)=>{const g=C.component=xu(C,w,k);if(eo(C)&&(g.ctx.renderer=h),Pu(g,!1,A),g.asyncDep){if(k&&k.registerDep(g,se,A),!C.el){const T=g.subTree=Be(It);X(null,T,S,N),C.placeholder=T.el}}else se(g,C,S,N,k,G,A)},pe=(C,S,N)=>{const w=S.component=C.component;if(Cu(C,S,N))if(w.asyncDep&&!w.asyncResolved){q(w,S,N);return}else w.next=S,w.update();else S.el=C.el,w.vnode=S},se=(C,S,N,w,k,G,A)=>{const g=()=>{if(C.isMounted){let{next:D,bu:z,u:B,parent:re,vnode:fe}=C;{const Ke=To(C);if(Ke){D&&(D.el=fe.el,q(C,D,A)),Ke.asyncDep.then(()=>{C.isUnmounted||g()});return}}let ge=D,ye;Wt(C,!1),D?(D.el=fe.el,q(C,D,A)):D=fe,z&&Vn(z),(ye=D.props&&D.props.onVnodeBeforeUpdate)&&bt(ye,re,D,fe),Wt(C,!0);const Ne=xo(C),ke=C.subTree;C.subTree=Ne,x(ke,Ne,c(ke.el),Re(ke),C,k,G),D.el=Ne.el,ge===null&&Su(C,Ne.el),B&&it(B,k),(ye=D.props&&D.props.onVnodeUpdated)&&it(()=>bt(ye,re,D,fe),k)}else{let D;const{el:z,props:B}=S,{bm:re,m:fe,parent:ge,root:ye,type:Ne}=C,ke=ln(S);Wt(C,!1),re&&Vn(re),!ke&&(D=B&&B.onVnodeBeforeMount)&&bt(D,ge,S),Wt(C,!0);{ye.ce&&ye.ce._def.shadowRoot!==!1&&ye.ce._injectChildStyle(Ne);const Ke=C.subTree=xo(C);x(null,Ke,N,w,C,k,G),S.el=Ke.el}if(fe&&it(fe,k),!ke&&(D=B&&B.onVnodeMounted)){const Ke=S;it(()=>bt(D,ge,Ke),k)}(S.shapeFlag&256||ge&&ln(ge.vnode)&&ge.vnode.shapeFlag&256)&&C.a&&it(C.a,k),C.isMounted=!0,S=N=w=null}};C.scope.on();const T=C.effect=new yi(g);C.scope.off();const O=C.update=T.run.bind(T),Y=C.job=T.runIfDirty.bind(T);Y.i=C,Y.id=C.uid,T.scheduler=()=>Vs(Y),Wt(C,!0),O()},q=(C,S,N)=>{S.component=C;const w=C.vnode.props;C.vnode=S,C.next=null,tu(C,S.props,w,N),ou(C,S.children,N),mt(),ji(C),gt()},Z=(C,S,N,w,k,G,A,g,T=!1)=>{const O=C&&C.children,Y=C?C.shapeFlag:0,D=S.children,{patchFlag:z,shapeFlag:B}=S;if(z>0){if(z&128){ue(O,D,N,w,k,G,A,g,T);return}else if(z&256){Q(O,D,N,w,k,G,A,g,T);return}}B&8?(Y&16&&Ee(O,k,G),D!==O&&_(N,D)):Y&16?B&16?ue(O,D,N,w,k,G,A,g,T):Ee(O,k,G,!0):(Y&8&&_(N,""),B&16&&ce(D,N,w,k,G,A,g,T))},Q=(C,S,N,w,k,G,A,g,T)=>{C=C||Zt,S=S||Zt;const O=C.length,Y=S.length,D=Math.min(O,Y);let z;for(z=0;z<D;z++){const B=S[z]=T?Gt(S[z]):Et(S[z]);x(C[z],B,N,null,k,G,A,g,T)}O>Y?Ee(C,k,G,!0,!1,D):ce(S,N,w,k,G,A,g,T,D)},ue=(C,S,N,w,k,G,A,g,T)=>{let O=0;const Y=S.length;let D=C.length-1,z=Y-1;for(;O<=D&&O<=z;){const B=C[O],re=S[O]=T?Gt(S[O]):Et(S[O]);if(Mn(B,re))x(B,re,N,null,k,G,A,g,T);else break;O++}for(;O<=D&&O<=z;){const B=C[D],re=S[z]=T?Gt(S[z]):Et(S[z]);if(Mn(B,re))x(B,re,N,null,k,G,A,g,T);else break;D--,z--}if(O>D){if(O<=z){const B=z+1,re=B<Y?S[B].el:w;for(;O<=z;)x(null,S[O]=T?Gt(S[O]):Et(S[O]),N,re,k,G,A,g,T),O++}}else if(O>z)for(;O<=D;)K(C[O],k,G,!0),O++;else{const B=O,re=O,fe=new Map;for(O=re;O<=z;O++){const Ye=S[O]=T?Gt(S[O]):Et(S[O]);Ye.key!=null&&fe.set(Ye.key,O)}let ge,ye=0;const Ne=z-re+1;let ke=!1,Ke=0;const at=new Array(Ne);for(O=0;O<Ne;O++)at[O]=0;for(O=B;O<=D;O++){const Ye=C[O];if(ye>=Ne){K(Ye,k,G,!0);continue}let $e;if(Ye.key!=null)$e=fe.get(Ye.key);else for(ge=re;ge<=z;ge++)if(at[ge-re]===0&&Mn(Ye,S[ge])){$e=ge;break}$e===void 0?K(Ye,k,G,!0):(at[$e-re]=O+1,$e>=Ke?Ke=$e:ke=!0,x(Ye,S[$e],N,null,k,G,A,g,T),ye++)}const We=ke?cu(at):Zt;for(ge=We.length-1,O=Ne-1;O>=0;O--){const Ye=re+O,$e=S[Ye],ft=S[Ye+1],vt=Ye+1<Y?ft.el||ft.placeholder:w;at[O]===0?x(null,$e,N,vt,k,G,A,g,T):ke&&(ge<0||O!==We[ge]?L($e,N,vt,2):ge--)}}},L=(C,S,N,w,k=null)=>{const{el:G,type:A,transition:g,children:T,shapeFlag:O}=C;if(O&6){L(C.component.subTree,S,N,w);return}if(O&128){C.suspense.move(S,N,w);return}if(O&64){A.move(C,S,N,h);return}if(A===Se){o(G,S,N);for(let D=0;D<T.length;D++)L(T[D],S,N,w);o(C.anchor,S,N);return}if(A===cs){y(C,S,N);return}if(w!==2&&O&1&&g)if(w===0)g.beforeEnter(G),o(G,S,N),it(()=>g.enter(G),k);else{const{leave:D,delayLeave:z,afterLeave:B}=g,re=()=>{C.ctx.isUnmounted?n(G):o(G,S,N)},fe=()=>{G._isLeaving&&G[kd](!0),D(G,()=>{re(),B&&B()})};z?z(G,re,fe):fe()}else o(G,S,N)},K=(C,S,N,w=!1,k=!1)=>{const{type:G,props:A,ref:g,children:T,dynamicChildren:O,shapeFlag:Y,patchFlag:D,dirs:z,cacheIndex:B}=C;if(D===-2&&(k=!1),g!=null&&(mt(),Rn(g,null,N,C,!0),gt()),B!=null&&(S.renderCache[B]=void 0),Y&256){S.ctx.deactivate(C);return}const re=Y&1&&z,fe=!ln(C);let ge;if(fe&&(ge=A&&A.onVnodeBeforeUnmount)&&bt(ge,S,C),Y&6)Ae(C.component,N,w);else{if(Y&128){C.suspense.unmount(N,w);return}re&&Jt(C,null,S,"beforeUnmount"),Y&64?C.type.remove(C,S,N,h,w):O&&!O.hasOnce&&(G!==Se||D>0&&D&64)?Ee(O,S,N,!1,!0):(G===Se&&D&384||!k&&Y&16)&&Ee(T,S,N),w&&ee(C)}(fe&&(ge=A&&A.onVnodeUnmounted)||re)&&it(()=>{ge&&bt(ge,S,C),re&&Jt(C,null,S,"unmounted")},N)},ee=C=>{const{type:S,el:N,anchor:w,transition:k}=C;if(S===Se){_e(N,w);return}if(S===cs){I(C);return}const G=()=>{n(N),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(C.shapeFlag&1&&k&&!k.persisted){const{leave:A,delayLeave:g}=k,T=()=>A(N,G);g?g(C.el,G,T):T()}else G()},_e=(C,S)=>{let N;for(;C!==S;)N=b(C),n(C),C=N;n(S)},Ae=(C,S,N)=>{const{bum:w,scope:k,job:G,subTree:A,um:g,m:T,a:O}=C;yo(T),yo(O),w&&Vn(w),k.stop(),G&&(G.flags|=8,K(A,C,S,N)),g&&it(g,S),it(()=>{C.isUnmounted=!0},S)},Ee=(C,S,N,w=!1,k=!1,G=0)=>{for(let A=G;A<C.length;A++)K(C[A],S,N,w,k)},Re=C=>{if(C.shapeFlag&6)return Re(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const S=b(C.anchor||C.el),N=S&&S[Pd];return N?b(N):S};let E=!1;const m=(C,S,N)=>{C==null?S._vnode&&K(S._vnode,null,null,!0):x(S._vnode||null,C,S,null,null,null,N),S._vnode=C,E||(E=!0,ji(),Ji(),E=!1)},h={p:x,um:K,m:L,r:ee,mt:ne,mc:ce,pc:Z,pbc:j,n:Re,o:e};return{render:m,hydrate:void 0,createApp:Qd(m)}}function Qs({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Wt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function lu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ao(e,t,s=!1){const o=e.children,n=t.children;if(Ce(o)&&Ce(n))for(let a=0;a<o.length;a++){const l=o[a];let u=n[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[a]=Gt(n[a]),u.el=l.el),!s&&u.patchFlag!==-2&&Ao(l,u)),u.type===ls&&u.patchFlag!==-1&&(u.el=l.el),u.type===It&&!u.el&&(u.el=l.el)}}function cu(e){const t=e.slice(),s=[0];let o,n,a,l,u;const p=e.length;for(o=0;o<p;o++){const f=e[o];if(f!==0){if(n=s[s.length-1],e[n]<f){t[o]=n,s.push(o);continue}for(a=0,l=s.length-1;a<l;)u=a+l>>1,e[s[u]]<f?a=u+1:l=u;f<e[s[a]]&&(a>0&&(t[o]=s[a-1]),s[a]=o)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=t[l];return s}function To(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:To(t)}function yo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const du=Symbol.for("v-scx"),uu=()=>as(du);function Le(e,t,s){return Oo(e,t,s)}function Oo(e,t,s=Ie){const{immediate:o,deep:n,flush:a,once:l}=s,u=Qe({},s),p=t&&o||!t&&a!=="post";let f;if(In){if(a==="sync"){const v=uu();f=v.__watcherHandles||(v.__watcherHandles=[])}else if(!p){const v=()=>{};return v.stop=ht,v.resume=ht,v.pause=ht,v}}const _=tt;u.call=(v,U,x)=>Ct(v,_,U,x);let c=!1;a==="post"?u.scheduler=v=>{it(v,_&&_.suspense)}:a!=="sync"&&(c=!0,u.scheduler=(v,U)=>{U?v():Vs(v)}),u.augmentJob=v=>{t&&(v.flags|=4),c&&(v.flags|=2,_&&(v.id=_.uid,v.i=_))};const b=Ad(e,t,u);return In&&(f?f.push(b):p&&b()),b}function pu(e,t,s){const o=this.proxy,n=Ge(e)?e.includes(".")?Ro(o,e):()=>o[e]:e.bind(o,o);let a;be(t)?a=t:(a=t.handler,s=t);const l=kn(this),u=Oo(n,a.bind(o),s);return l(),u}function Ro(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const _u=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ut(t)}Modifiers`]||e[`${Dt(t)}Modifiers`];function fu(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||Ie;let n=s;const a=t.startsWith("update:"),l=a&&_u(o,t.slice(7));l&&(l.trim&&(n=s.map(_=>Ge(_)?_.trim():_)),l.number&&(n=s.map(Hn)));let u,p=o[u=Rs(t)]||o[u=Rs(Ut(t))];!p&&a&&(p=o[u=Rs(Dt(t))]),p&&Ct(p,e,6,n);const f=o[u+"Once"];if(f){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Ct(f,e,6,n)}}const hu=new WeakMap;function vo(e,t,s=!1){const o=s?hu:t.emitsCache,n=o.get(e);if(n!==void 0)return n;const a=e.emits;let l={},u=!1;if(!be(e)){const p=f=>{const _=vo(f,t,!0);_&&(u=!0,Qe(l,_))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!u?(Ue(e)&&o.set(e,null),null):(Ce(a)?a.forEach(p=>l[p]=null):Qe(l,a),Ue(e)&&o.set(e,l),l)}function rs(e,t){return!e||!Fn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Pe(e,t[0].toLowerCase()+t.slice(1))||Pe(e,Dt(t))||Pe(e,t))}function WR(){}function xo(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[a],slots:l,attrs:u,emit:p,render:f,renderCache:_,props:c,data:b,setupState:v,ctx:U,inheritAttrs:x}=e,P=ns(e);let X,J;try{if(s.shapeFlag&4){const I=n||o,$=I;X=Et(f.call($,I,_,c,v,b,U)),J=u}else{const I=t;X=Et(I.length>1?I(c,{attrs:u,slots:l,emit:p}):I(c,null)),J=t.props?u:mu(u)}}catch(I){Nn.length=0,es(I,e,1),X=Be(It)}let y=X;if(J&&x!==!1){const I=Object.keys(J),{shapeFlag:$}=y;I.length&&$&7&&(a&&I.some(Ts)&&(J=gu(J,a)),y=dn(y,J,!1,!0))}return s.dirs&&(y=dn(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(s.dirs):s.dirs),s.transition&&Hs(y,s.transition),X=y,ns(P),X}const mu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Fn(s))&&((t||(t={}))[s]=e[s]);return t},gu=(e,t)=>{const s={};for(const o in e)(!Ts(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Cu(e,t,s){const{props:o,children:n,component:a}=e,{props:l,children:u,patchFlag:p}=t,f=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return o?No(o,l,f):!!l;if(p&8){const _=t.dynamicProps;for(let c=0;c<_.length;c++){const b=_[c];if(l[b]!==o[b]&&!rs(f,b))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:o===l?!1:o?l?No(o,l,f):!0:!!l;return!1}function No(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const a=o[n];if(t[a]!==e[a]&&!rs(s,a))return!0}return!1}function Su({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Po=e=>e.__isSuspense;function Eu(e,t){t&&t.pendingBranch?Ce(e)?t.effects.push(...e):t.effects.push(e):Nd(e)}const Se=Symbol.for("v-fgt"),ls=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),cs=Symbol.for("v-stc"),Nn=[];let ot=null;function R(e=!1){Nn.push(ot=e?null:[])}function bu(){Nn.pop(),ot=Nn[Nn.length-1]||null}let Pn=1;function Mo(e,t=!1){Pn+=e,e<0&&ot&&t&&(ot.hasOnce=!0)}function ko(e){return e.dynamicChildren=Pn>0?ot||Zt:null,bu(),Pn>0&&ot&&ot.push(e),e}function M(e,t,s,o,n,a){return ko(i(e,t,s,o,n,a,!0))}function lt(e,t,s,o,n){return ko(Be(e,t,s,o,n,!0))}function Zs(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const Io=({key:e})=>e!=null?e:null,ds=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ge(e)||Je(e)||be(e)?{i:ze,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,n=null,a=e===Se?0:1,l=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Io(t),ref:t&&ds(t),scopeId:qi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ze};return u?(ei(p,s),a&128&&e.normalize(p)):s&&(p.shapeFlag|=Ge(s)?8:16),Pn>0&&!l&&ot&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&ot.push(p),p}const Be=Au;function Au(e,t=null,s=null,o=0,n=null,a=!1){if((!e||e===Vd)&&(e=It),Zs(e)){const u=dn(e,t,!0);return s&&ei(u,s),Pn>0&&!a&&ot&&(u.shapeFlag&6?ot[ot.indexOf(e)]=u:ot.push(u)),u.patchFlag=-2,u}if(Du(e)&&(e=e.__vccOpts),t){t=Tu(t);let{class:u,style:p}=t;u&&!Ge(u)&&(t.class=Me(u)),Ue(p)&&(Fs(p)&&!Ce(p)&&(p=Qe({},p)),t.style=Yt(p))}const l=Ge(e)?1:Po(e)?128:Md(e)?64:Ue(e)?4:be(e)?2:0;return i(e,t,s,o,n,l,a,!0)}function Tu(e){return e?Fs(e)||ho(e)?Qe({},e):e:null}function dn(e,t,s=!1,o=!1){const{props:n,ref:a,patchFlag:l,children:u,transition:p}=e,f=t?Ou(n||{},t):n,_={__v_isVNode:!0,__v_skip:!0,type:e.type,props:f,key:f&&Io(f),ref:t&&t.ref?s&&a?Ce(a)?a.concat(ds(t)):[a,ds(t)]:ds(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dn(e.ssContent),ssFallback:e.ssFallback&&dn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&o&&Hs(_,p.clone(_)),_}function Xe(e=" ",t=0){return Be(ls,null,e,t)}function yu(e,t){const s=Be(cs,null,e);return s.staticCount=t,s}function Te(e="",t=!1){return t?(R(),lt(It,null,e)):Be(It,null,e)}function Et(e){return e==null||typeof e=="boolean"?Be(It):Ce(e)?Be(Se,null,e.slice()):Zs(e)?Gt(e):Be(ls,null,String(e))}function Gt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dn(e)}function ei(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(Ce(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),ei(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ho(t)?t._ctx=ze:n===3&&ze&&(ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else be(t)?(t={default:t,_ctx:ze},s=32):(t=String(t),o&64?(s=16,t=[Xe(t)]):s=8);e.children=t,e.shapeFlag|=s}function Ou(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=Me([t.class,o.class]));else if(n==="style")t.style=Yt([t.style,o.style]);else if(Fn(n)){const a=t[n],l=o[n];l&&a!==l&&!(Ce(a)&&a.includes(l))&&(t[n]=a?[].concat(a,l):l)}else n!==""&&(t[n]=o[n])}return t}function bt(e,t,s,o=null){Ct(e,t,7,[s,o])}const Ru=po();let vu=0;function xu(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||Ru,a={uid:vu++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Jc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:go(o,n),emitsOptions:vo(o,n),emit:null,emitted:null,propsDefaults:Ie,inheritAttrs:o.inheritAttrs,ctx:Ie,data:Ie,props:Ie,attrs:Ie,slots:Ie,refs:Ie,setupState:Ie,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=fu.bind(null,a),e.ce&&e.ce(a),a}let tt=null;const Nu=()=>tt||ze;let us,ti;{const e=Bn(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),a=>{n.length>1?n.forEach(l=>l(a)):n[0](a)}};us=t("__VUE_INSTANCE_SETTERS__",s=>tt=s),ti=t("__VUE_SSR_SETTERS__",s=>In=s)}const kn=e=>{const t=tt;return us(e),e.scope.on(),()=>{e.scope.off(),us(t)}},wo=()=>{tt&&tt.scope.off(),us(null)};function $o(e){return e.vnode.shapeFlag&4}let In=!1;function Pu(e,t=!1,s=!1){t&&ti(t);const{props:o,children:n}=e.vnode,a=$o(e);eu(e,o,a,t),iu(e,n,s||t);const l=a?Mu(e,t):void 0;return t&&ti(!1),l}function Mu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Bd);const{setup:o}=s;if(o){mt();const n=e.setupContext=o.length>1?Iu(e):null,a=kn(e),l=on(o,e,0,[e.props,n]),u=hi(l);if(gt(),a(),(u||e.sp)&&!ln(e)&&Qi(e),u){if(l.then(wo,wo),t)return l.then(p=>{Uo(e,p)}).catch(p=>{es(p,e,0)});e.asyncDep=l}else Uo(e,l)}else Do(e)}function Uo(e,t,s){be(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ue(t)&&(e.setupState=Gi(t)),Do(e)}function Do(e,t,s){const o=e.type;e.render||(e.render=o.render||ht);{const n=kn(e);mt();try{Kd(e)}finally{gt(),n()}}}const ku={get(e,t){return qe(e,"get",""),e[t]}};function Iu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,ku),slots:e.slots,emit:e.emit,expose:t}}function ps(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Gi(hd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in vn)return vn[s](e)},has(t,s){return s in t||s in vn}})):e.proxy}const wu=/(?:^|[-_])\w/g,$u=e=>e.replace(wu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Uu(e,t=!0){return be(e)?e.displayName||e.name:e.name||t&&e.__name}function Lo(e,t,s=!1){let o=Uu(t);if(!o&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){const n=a=>{for(const l in a)if(a[l]===t)return l};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?$u(o):s?"App":"Anonymous"}function Du(e){return be(e)&&"__vccOpts"in e}const he=(e,t)=>Ed(e,t,In),Lu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ni;const Yo=typeof window!="undefined"&&window.trustedTypes;if(Yo)try{ni=Yo.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Xo=ni?e=>ni.createHTML(e):e=>e,Yu="http://www.w3.org/2000/svg",Xu="http://www.w3.org/1998/Math/MathML",wt=typeof document!="undefined"?document:null,Fo=wt&&wt.createElement("template"),Fu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?wt.createElementNS(Yu,e):t==="mathml"?wt.createElementNS(Xu,e):s?wt.createElement(e,{is:s}):wt.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>wt.createTextNode(e),createComment:e=>wt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,a){const l=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Fo.innerHTML=Xo(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const u=Fo.content;if(o==="svg"||o==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Gu=Symbol("_vtc");function Vu(e,t,s){const o=e[Gu];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const _s=Symbol("_vod"),Go=Symbol("_vsh"),Hu={name:"show",beforeMount(e,{value:t},{transition:s}){e[_s]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):wn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),wn(e,!0),o.enter(e)):o.leave(e,()=>{wn(e,!1)}):wn(e,t))},beforeUnmount(e,{value:t}){wn(e,t)}};function wn(e,t){e.style.display=t?e[_s]:"none",e[Go]=!t}const Bu=Symbol(""),Ku=/(?:^|;)\s*display\s*:/;function ju(e,t,s){const o=e.style,n=Ge(s);let a=!1;if(s&&!n){if(t)if(Ge(t))for(const l of t.split(";")){const u=l.slice(0,l.indexOf(":")).trim();s[u]==null&&fs(o,u,"")}else for(const l in t)s[l]==null&&fs(o,l,"");for(const l in s)l==="display"&&(a=!0),fs(o,l,s[l])}else if(n){if(t!==s){const l=o[Bu];l&&(s+=";"+l),o.cssText=s,a=Ku.test(s)}}else t&&e.removeAttribute("style");_s in e&&(e[_s]=a?o.display:"",e[Go]&&(o.display="none"))}const Vo=/\s*!important$/;function fs(e,t,s){if(Ce(s))s.forEach(o=>fs(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=Ju(e,t);Vo.test(s)?e.setProperty(Dt(o),s.replace(Vo,""),"important"):e[o]=s}}const Ho=["Webkit","Moz","ms"],si={};function Ju(e,t){const s=si[t];if(s)return s;let o=Ut(t);if(o!=="filter"&&o in e)return si[t]=o;o=Ci(o);for(let n=0;n<Ho.length;n++){const a=Ho[n]+o;if(a in e)return si[t]=a}return t}const Bo="http://www.w3.org/1999/xlink";function Ko(e,t,s,o,n,a=Kc(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Bo,t.slice(6,t.length)):e.setAttributeNS(Bo,t,s):s==null||a&&!bi(s)?e.removeAttribute(t):e.setAttribute(t,a?"":ct(s)?String(s):s)}function jo(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Xo(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=bi(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{e[t]=s}catch(u){}l&&e.removeAttribute(n||t)}function Vt(e,t,s,o){e.addEventListener(t,s,o)}function Wu(e,t,s,o){e.removeEventListener(t,s,o)}const Jo=Symbol("_vei");function qu(e,t,s,o,n=null){const a=e[Jo]||(e[Jo]={}),l=a[t];if(o&&l)l.value=o;else{const[u,p]=zu(t);if(o){const f=a[t]=ep(o,n);Vt(e,u,f,p)}else l&&(Wu(e,u,l,p),a[t]=void 0)}}const Wo=/(?:Once|Passive|Capture)$/;function zu(e){let t;if(Wo.test(e)){t={};let o;for(;o=e.match(Wo);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Dt(e.slice(2)),t]}let ii=0;const Qu=Promise.resolve(),Zu=()=>ii||(Qu.then(()=>ii=0),ii=Date.now());function ep(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;Ct(tp(o,s.value),t,5,[o])};return s.value=e,s.attached=Zu(),s}function tp(e,t){if(Ce(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const qo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,np=(e,t,s,o,n,a)=>{const l=n==="svg";t==="class"?Vu(e,o,l):t==="style"?ju(e,s,o):Fn(t)?Ts(t)||qu(e,t,s,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):sp(e,t,o,l))?(jo(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ko(e,t,o,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ge(o))?jo(e,Ut(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Ko(e,t,o,l))};function sp(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&qo(t)&&be(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return qo(t)&&Ge(s)?!1:t in e}const un=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ce(t)?s=>Vn(t,s):t};function ip(e){e.target.composing=!0}function zo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $t=Symbol("_assign"),le={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[$t]=un(n);const a=o||n.props&&n.props.type==="number";Vt(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;s&&(u=u.trim()),a&&(u=Hn(u)),e[$t](u)}),s&&Vt(e,"change",()=>{e.value=e.value.trim()}),t||(Vt(e,"compositionstart",ip),Vt(e,"compositionend",zo),Vt(e,"change",zo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:a}},l){if(e[$t]=un(l),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?Hn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===p)||(e.value=p))}},At={deep:!0,created(e,t,s){e[$t]=un(s),Vt(e,"change",()=>{const o=e._modelValue,n=$n(e),a=e.checked,l=e[$t];if(Ce(o)){const u=vs(o,n),p=u!==-1;if(a&&!p)l(o.concat(n));else if(!a&&p){const f=[...o];f.splice(u,1),l(f)}}else if(tn(o)){const u=new Set(o);a?u.add(n):u.delete(n),l(u)}else l(ea(e,a))})},mounted:Qo,beforeUpdate(e,t,s){e[$t]=un(s),Qo(e,t,s)}};function Qo(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(Ce(t))n=vs(t,o.props.value)>-1;else if(tn(t))n=t.has(o.props.value);else{if(t===s)return;n=Cn(t,ea(e,!0))}e.checked!==n&&(e.checked=n)}const Tt={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=tn(t);Vt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?Hn($n(l)):$n(l));e[$t](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,Bi(()=>{e._assigning=!1})}),e[$t]=un(o)},mounted(e,{value:t}){Zo(e,t)},beforeUpdate(e,t,s){e[$t]=un(s)},updated(e,{value:t}){e._assigning||Zo(e,t)}};function Zo(e,t){const s=e.multiple,o=Ce(t);if(!(s&&!o&&!tn(t))){for(let n=0,a=e.options.length;n<a;n++){const l=e.options[n],u=$n(l);if(s)if(o){const p=typeof u;p==="string"||p==="number"?l.selected=t.some(f=>String(f)===String(u)):l.selected=vs(t,u)>-1}else l.selected=t.has(u);else if(Cn($n(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $n(e){return"_value"in e?e._value:e.value}function ea(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const op=["ctrl","shift","alt","meta"],ap={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>op.some(s=>e[`${s}Key`]&&!t.includes(s))},ut=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...a)=>{for(let l=0;l<t.length;l++){const u=ap[t[l]];if(u&&u(n,t))return}return e(n,...a)})},rp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},qt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const a=Dt(n.key);if(t.some(l=>l===a||rp[l]===a))return e(n)})},lp=Qe({patchProp:np},Fu);let ta;function cp(){return ta||(ta=au(lp))}const dp=(...e)=>{const t=cp().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=pp(o);if(!n)return;const a=t._component;!be(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,up(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function up(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function pp(e){return Ge(e)?document.querySelector(e):e}const yt=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},_p={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},fp={key:0,class:"nxp-ec-admin-error"},hp={class:"nxp-ec-admin-error__title"},mp={class:"nxp-ec-admin-error__body"};function gp(e,t,s,o,n,a){return R(),M("div",null,[n.error?(R(),M("div",fp,[i("h2",hp,d(a.fallbackTitle),1),i("p",mp,d(a.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>a.reload&&a.reload(...l))},d(a.reloadLabel),1)])):Hd(e.$slots,"default",{key:1})])}const Cp=yt(_p,[["render",gp]]),Sp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},Ep={class:"nxp-ec-admin-panel__header"},bp={class:"nxp-ec-admin-panel__title"},Ap={class:"nxp-ec-admin-panel__lead"},Tp={class:"nxp-ec-admin-panel__actions"},yp=["disabled"],Op={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Rp={key:1,class:"nxp-ec-dashboard"},vp={class:"nxp-ec-dashboard__metrics"},xp={class:"nxp-ec-dashboard__card"},Np={class:"nxp-ec-dashboard__value"},Pp={class:"nxp-ec-dashboard__hint"},Mp={class:"nxp-ec-dashboard__card"},kp={class:"nxp-ec-dashboard__value"},Ip={class:"nxp-ec-dashboard__hint"},wp={class:"nxp-ec-dashboard__card"},$p={class:"nxp-ec-dashboard__value"},Up={class:"nxp-ec-dashboard__hint"},Dp={class:"nxp-ec-dashboard__card"},Lp={class:"nxp-ec-dashboard__value"},Yp={class:"nxp-ec-dashboard__hint"},Xp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Fp={class:"nxp-ec-dashboard__checklist-header"},Gp={id:"dashboard-checklist-heading"},Vp={class:"nxp-ec-dashboard__checklist-progress"},Hp={class:"nxp-ec-dashboard__checklist-list"},Bp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Kp={key:0,class:"fa-solid fa-circle-check"},jp={key:1,class:"fa-regular fa-circle"},Jp={class:"nxp-ec-dashboard__checklist-label"},Wp=["href","title"],qp={class:"nxp-ec-sr-only"},zp=yt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,o=s.translate,n=s.state,a=he(()=>{var c;const _=(c=n.summary)==null?void 0:c.currency;return typeof _=="string"&&_.trim()!==""?_.trim():"USD"}),l=(_=0)=>{const c=(Number(_)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(c)}catch(b){return`${a.value} ${c.toFixed(2)}`}},u=he(()=>Array.isArray(n.checklist)?n.checklist:[]),p=he(()=>u.value.filter(_=>_.completed).length),f=_=>{switch(_){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return _}};return(_,c)=>(R(),M("section",Sp,[i("header",Ep,[i("div",null,[i("h2",bp,d(r(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",Ap,d(r(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Tp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:c[0]||(c[0]=b=>_.$emit("refresh")),disabled:r(n).loading},d(r(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,yp)])]),r(n).error?(R(),M("div",Op,d(r(n).error),1)):(R(),M("div",Rp,[i("div",vp,[i("article",xp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Np,d(r(n).summary.products.active),1),i("p",Pp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Mp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",kp,d(l(r(n).summary.orders.revenue_today)),1),i("p",Ip,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",wp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",$p,d(r(n).summary.customers.total),1),i("p",Up,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Dp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Lp,d(l(r(n).summary.orders.revenue_month)),1),i("p",Yp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),i("section",Xp,[i("header",Fp,[i("h3",Gp,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Vp,d(p.value)+" / "+d(u.value.length),1)]),i("ul",Hp,[(R(!0),M(Se,null,ve(u.value,b=>(R(),M("li",{key:b.id,class:Me({"is-complete":b.completed})},[i("span",Bp,[b.completed?(R(),M("span",Kp)):(R(),M("span",jp))]),i("span",Jp,d(r(o)(b.label,f(b.label))),1),b.link?(R(),M("a",{key:0,href:b.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",qp,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Wp)):Te("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-59cce8c1"]]),Qp={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Zp={id:"nxp-ec-products-caption",class:"visually-hidden"},e_={scope:"col"},t_={scope:"col"},n_={scope:"col"},s_={scope:"col"},i_={scope:"col"},o_={scope:"col"},a_={scope:"col"},r_={scope:"col"},l_={scope:"col",class:"nxp-ec-admin-table__actions"},c_={key:0},d_={colspan:"8",class:"nxp-ec-admin-table__empty"},u_={class:"nxp-ec-products-table__title"},p_={class:"nxp-ec-products-table__slug"},__={key:0,class:"nxp-ec-products-table__badge"},f_={class:"nxp-ec-status nxp-ec-status--featured"},h_={key:0},m_={key:1},g_={key:0},C_={key:1},S_=["disabled","aria-pressed","title","aria-label","onClick"],E_={class:"nxp-ec-sr-only"},b_={class:"nxp-ec-admin-table__actions"},A_=["onClick","title","aria-label"],T_={class:"nxp-ec-sr-only"},y_=["onClick","title","aria-label"],O_={class:"nxp-ec-sr-only"},oi=1,Un=-1,ai=0,R_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,o=he(()=>(t.baseCurrency||"USD").toUpperCase()),n=(_,c=!1)=>{const b=Number(_);if(Number.isFinite(b))return b===Un?Un:b===ai?ai:oi;if(c)return Un;if(typeof _=="string"){const v=_.trim().toLowerCase();if(v==="out_of_stock"||v==="out-of-stock"||v==="-1")return Un;if(v==="inactive"||v==="0")return ai}return oi},a=_=>{var U;const c=n((U=_==null?void 0:_.status)!=null?U:_==null?void 0:_.active,_==null?void 0:_.out_of_stock),b=c===oi,v=c===Un;return{status:c,isActive:b,isOutOfStock:v,label:b?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):v?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:b?"nxp-ec-status--active":v?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:b?"fa-solid fa-circle-check":v?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},l=_=>{var x,P,X,J;const c=(P=(x=_==null?void 0:_.summary)==null?void 0:x.variants)!=null?P:{};if(c.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const b=Number.isFinite(c.price_min_cents)?c.price_min_cents:null,v=Number.isFinite(c.price_max_cents)?c.price_max_cents:null;if(b===null)return"";const U=c.currency||((J=(X=_==null?void 0:_.variants)==null?void 0:X[0])==null?void 0:J.currency)||o.value;return v===null||v===b?f(b,U):`${f(b,U)}  ${f(v,U)}`},u=_=>{var v,U;const c=(U=(v=_==null?void 0:_.summary)==null?void 0:v.variants)!=null?U:{},b=Number.isFinite(c.count)?c.count:Array.isArray(_==null?void 0:_.variants)?_.variants.length:0;return b===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(b)])},p=_=>{if(!Array.isArray(_)||!_.length)return"";const c=_.map(U=>(U==null?void 0:U.title)||(U==null?void 0:U.slug)).filter(U=>!!U);if(!c.length)return"";if(c.length<=3)return c.join(", ");const b=c.slice(0,3).join(", "),v=c.length-3;return`${b} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(v)])}`},f=(_,c)=>`${(_/100).toFixed(2)} ${c}`;return(_,c)=>(R(),M("table",Qp,[i("caption",Zp,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",e_,d(r(s)("JGRID_HEADING_ID","ID")),1),i("th",t_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",n_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",s_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",i_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",o_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",a_,d(r(s)("JSTATUS","Status")),1),i("th",r_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",l_,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?Te("",!0):(R(),M("tr",c_,[i("td",d_,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(R(!0),M(Se,null,ve(e.items,b=>{var v,U,x,P,X,J,y,I,$,ie,oe,ce;return R(),M("tr",{key:b.id},[i("td",null,d(b.id),1),i("td",null,[i("div",u_,d(b.title),1),i("div",p_,d(b.slug),1),b.featured?(R(),M("div",__,[i("span",f_,[c[0]||(c[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Xe(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):Te("",!0)]),i("td",null,[l(b)?(R(),M("span",h_,d(l(b)),1)):(R(),M("span",m_,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))]),i("td",null,d(u(b)),1),i("td",null,[i("span",{class:Me(["nxp-ec-status",(U=(v=b.summary)==null?void 0:v.variants)!=null&&U.stock_zero?"nxp-ec-status--danger":(P=(x=b.summary)==null?void 0:x.variants)!=null&&P.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(J=(X=b.summary)==null?void 0:X.variants)!=null&&J.stock_zero||((I=(y=b.summary)==null?void 0:y.variants)==null?void 0:I.stock_total)===0?(R(),M(Se,{key:0},[Xe(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(R(),M(Se,{key:1},[Xe(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((oe=(ie=($=b.summary)==null?void 0:$.variants)==null?void 0:ie.stock_total)!=null?oe:0)])),1)],64))],2)]),i("td",null,[(ce=b.categories)!=null&&ce.length?(R(),M("span",g_,d(p(b.categories)),1)):(R(),M("span",C_,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))]),i("td",null,[i("button",{type:"button",class:Me(["nxp-ec-status","nxp-ec-status-button",a(b).className]),disabled:e.saving,"aria-pressed":a(b).isActive?"true":"false",title:a(b).title,"aria-label":a(b).title,onClick:me=>_.$emit("toggle-active",b)},[i("i",{class:Me(a(b).icon),"aria-hidden":"true"},null,2),Xe(" "+d(a(b).label)+" ",1),i("span",E_,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,S_)]),i("td",null,d(b.modified||b.created),1),i("td",b_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:me=>_.$emit("edit",b),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",T_,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,A_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:me=>_.$emit("delete",b),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[c[2]||(c[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",O_,d(r(s)("JTRASH","Delete")),1)],8,y_)])])}),128))])]))}},v_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},x_={class:"nxp-ec-modal__dialog"},N_={class:"nxp-ec-modal__header"},P_={class:"nxp-ec-modal__title"},M_={class:"nxp-ec-modal__header-actions"},k_=["disabled","title","aria-label"],I_={class:"nxp-ec-sr-only"},w_=["disabled","title","aria-label"],$_={class:"nxp-ec-sr-only"},U_=["aria-label"],D_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},L_={class:"nxp-ec-form-field"},Y_={class:"nxp-ec-form-label",for:"product-title"},X_={class:"nxp-ec-form-field"},F_={class:"nxp-ec-form-label",for:"product-slug"},G_=["placeholder"],V_={class:"nxp-ec-form-field"},H_={class:"nxp-ec-form-label",for:"product-short-desc"},B_={class:"nxp-ec-form-field"},K_={class:"nxp-ec-form-label",for:"product-long-desc"},j_={class:"nxp-ec-form-field"},J_={class:"nxp-ec-form-label",for:"product-status"},W_={value:1},q_={value:-1},z_={value:0},Q_={class:"nxp-ec-form-help"},Z_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ef={class:"nxp-ec-form-label",for:"product-featured"},tf={class:"nxp-ec-form-help"},nf={class:"nxp-ec-form-field"},sf={class:"nxp-ec-form-label",for:"product-images"},of={id:"product-images",class:"nxp-ec-image-list"},af=["id","onUpdate:modelValue","placeholder"],rf={class:"nxp-ec-image-row__actions"},lf=["onClick"],cf=["onClick","disabled"],df=["onClick","disabled"],uf=["onClick","aria-label"],pf={class:"nxp-ec-form-help"},_f={class:"nxp-ec-form-field"},ff={class:"nxp-ec-form-label",for:"product-category-select"},hf=["value"],mf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},gf=["onClick","aria-label"],Cf={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},Sf=["onKeydown","placeholder"],Ef={class:"nxp-ec-form-help"},bf={class:"nxp-ec-variant-section"},Af={class:"nxp-ec-variant-section__header"},Tf={class:"nxp-ec-variant-section__title"},yf={class:"nxp-ec-form-help"},Of={class:"nxp-ec-variant-card__header"},Rf={class:"nxp-ec-variant-card__title"},vf=["onClick"],xf=["onClick","disabled"],Nf={class:"nxp-ec-variant-card__grid"},Pf={class:"nxp-ec-form-field"},Mf=["for"],kf=["id","onUpdate:modelValue"],If={class:"nxp-ec-form-field"},wf=["for"],$f=["id","onUpdate:modelValue","onBlur"],Uf={class:"nxp-ec-form-field"},Df=["for"],Lf=["id","onUpdate:modelValue"],Yf={class:"nxp-ec-form-help"},Xf={class:"nxp-ec-form-field"},Ff=["for"],Gf=["id","onUpdate:modelValue"],Vf={class:"nxp-ec-form-field"},Hf=["for"],Bf=["id","onUpdate:modelValue"],Kf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},jf=["for"],Jf=["id","onUpdate:modelValue"],Wf={class:"nxp-ec-variant-options"},qf={class:"nxp-ec-variant-options__header"},zf={class:"nxp-ec-variant-options__title"},Qf=["onClick"],Zf={class:"nxp-ec-form-help"},eh=["id","onUpdate:modelValue","placeholder"],th=["id","onUpdate:modelValue","placeholder"],nh=["onClick","aria-label"],sh={class:"nxp-ec-modal__actions"},ih=["disabled"],oh=["disabled"],na="product-editor-form",ah=yt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=he(()=>(s.baseCurrency||"USD").toUpperCase()),l=A=>{var g,T,O,Y,D,z,B,re;if(A==null)return null;if(typeof A=="string"){const fe=A.trim();return fe===""?null:{id:0,title:fe,slug:""}}if(typeof A=="object"){const fe=Number.parseInt((T=(g=A.id)!=null?g:A.value)!=null?T:0,10)||0,ge=(B=(z=(D=(Y=(O=A.title)!=null?O:A.name)!=null?Y:A.text)!=null?D:A.label)!=null?z:A.slug)!=null?B:"",ye=String(ge!=null?ge:"").trim(),Ne=String((re=A.slug)!=null?re:"").trim(),ke=A.parent_id!==null&&A.parent_id!==void 0&&Number.parseInt(A.parent_id,10)||null;return fe<=0&&ye===""?null:{id:fe>0?fe:0,title:ye!==""?ye:Ne,slug:Ne,parent_id:ke}}return null},u=A=>{const g=Number(A);if(Number.isFinite(g))return g===-1?-1:g===0?0:1;if(typeof A=="string"){const T=A.trim().toLowerCase();if(T==="out_of_stock"||T==="out-of-stock"||T==="-1")return-1;if(T==="inactive"||T==="0")return 0}return 1},p=we({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),f=He(""),_=He(!1),c=(A,g,T=new Set)=>{if(!A||T.has(A))return 0;T.add(A);const O=g.find(Y=>Y.id===A);return!O||!O.parent_id?0:1+c(O.parent_id,g,T)},b=A=>{if(!A)return"";const g=Array.isArray(s.categoryOptions)?s.categoryOptions:[],T=c(A.id,g);return T===0?A.title:"".repeat(T)+" "+A.title},v=he(()=>{const g=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(l).filter(D=>D&&D.id>0&&D.title!==""),T=new Map;g.forEach(D=>{T.set(D.id,D)}),p.categories.forEach(D=>{var z;D.id>0&&D.title&&!T.has(D.id)&&T.set(D.id,{id:D.id,title:D.title,slug:(z=D.slug)!=null?z:"",parent_id:D.parent_id!==null&&D.parent_id!==void 0?D.parent_id:null})});const O=Array.from(T.values()),Y=(D=null,z=0)=>O.filter(B=>B.parent_id===D).sort((B,re)=>B.title.localeCompare(re.title)).flatMap(B=>[B,...Y(B.id,z+1)]);return Y()}),U=he(()=>{const A=new Map;return v.value.forEach(g=>{var T;A.set(g.id,{title:g.title,slug:(T=g.slug)!=null?T:""})}),A}),x=he({get:()=>p.categories.filter(g=>g&&g.id>0).map(g=>g.id),set:A=>{const g=Array.isArray(A)?A:[],T=Array.from(new Set(g.map(D=>Number.parseInt(D!=null?D:0,10)||0).filter(D=>D>0))),O=p.categories.filter(D=>!(D.id>0)),Y=T.map(D=>{const z=U.value.get(D),B=p.categories.find(ge=>ge.id===D),re=(z==null?void 0:z.title)||(B==null?void 0:B.title)||"",fe=(z==null?void 0:z.slug)||(B==null?void 0:B.slug)||"";return re===""?null:{id:D,title:re,slug:fe}}).filter(D=>D!==null);p.categories.splice(0,p.categories.length,...Y,...O)}}),P=he(()=>s.product&&s.product.id?"edit":"create"),X=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),J=()=>({name:"",value:""}),y=A=>A?A.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",I=()=>{_.value=!0,p.slug=y(p.slug)},$=A=>{const T=(Array.isArray(A)?A:[]).map(l).filter(D=>D&&(D.id>0||D.title!=="")),O=new Set,Y=[];T.forEach(D=>{const z=D.id>0?`id:${D.id}`:`title:${D.title.toLowerCase()}`;O.has(z)||(O.add(z),Y.push(D))}),p.categories.splice(0,p.categories.length,...Y)},ie=A=>{p.variants.splice(0,p.variants.length,...A)},oe=A=>{p.images.splice(0,p.images.length,...A)},ce=A=>Array.isArray(A)?A.map(g=>{var T,O,Y;return{name:String((O=(T=g==null?void 0:g.name)!=null?T:g==null?void 0:g.key)!=null?O:"").trim(),value:String((Y=g==null?void 0:g.value)!=null?Y:"").trim()}}):A&&typeof A=="object"?Object.entries(A).map(([g,T])=>({name:String(g!=null?g:"").trim(),value:String(T!=null?T:"").trim()})):[],me=A=>!Array.isArray(A)||A.length===0?[X()]:A.map(g=>{var T,O,Y,D;return{id:Number.parseInt((T=g==null?void 0:g.id)!=null?T:0,10)||0,sku:String((O=g==null?void 0:g.sku)!=null?O:"").trim(),price:(g==null?void 0:g.price)!=null?String(g.price):Number.isFinite(g==null?void 0:g.price_cents)?(g.price_cents/100).toFixed(2):"",currency:String((Y=g==null?void 0:g.currency)!=null?Y:a.value).toUpperCase(),stock:Number.parseInt((D=g==null?void 0:g.stock)!=null?D:0,10)||0,weight:(g==null?void 0:g.weight)!=null?String(g.weight):"",active:(g==null?void 0:g.active)!==void 0?!!g.active:!0,options:ce(g==null?void 0:g.options)}}),j=A=>{var Y,D,z,B;const g=A?JSON.parse(JSON.stringify(A)):{};p.title=(Y=g.title)!=null?Y:"",p.slug=(D=g.slug)!=null?D:"",p.short_desc=(z=g.short_desc)!=null?z:"",p.long_desc=(B=g.long_desc)!=null?B:"",p.status=u(g.status!==void 0?g.status:g.active),p.featured=g.featured!==void 0?!!g.featured:!1;const T=Array.isArray(g.images)?g.images.map(re=>String(re!=null?re:"").trim()).filter(Boolean):[];oe(T);const O=Array.isArray(g.categories)?g.categories:[];$(O),f.value="",ie(me(g.variants)),_.value=!!p.slug};Le(()=>s.product,A=>{j(A)},{immediate:!0}),Le(()=>p.title,A=>{_.value||(p.slug=y(A))}),Le(a,A=>{p.variants.forEach(g=>{g.currency=A})});const V=()=>{const A=f.value.trim();if(!A)return;const g=A.toLowerCase(),T=p.categories.slice();T.some(Y=>Y.title.toLowerCase()===g)||(T.push({id:0,title:A,slug:""}),p.categories.splice(0,p.categories.length,...T)),f.value=""},W=A=>{if(A<0||A>=p.categories.length)return;const g=p.categories.slice();g.splice(A,1),p.categories.splice(0,p.categories.length,...g)},F=()=>{p.variants.push(X())},ne=A=>{p.variants.length<=1||p.variants.splice(A,1)},pe=A=>{const g=p.variants[A];g&&(Array.isArray(g.options)||(g.options=[]),g.options.push(J()))},se=(A,g)=>{const T=p.variants[A];!T||!Array.isArray(T.options)||T.options.splice(g,1)},q=(A,g)=>`${A.id||"new"}-${g}`,Z=A=>{const g=p.variants[A];if(!g)return;const T=JSON.parse(JSON.stringify(g));T.id=0,T.sku=[T.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),T.active=!0,p.variants.splice(A+1,0,T)},Q=A=>{const g=p.variants[A];if(!g)return;const T=Number.parseFloat(g.price);Number.isNaN(T)||(g.price=T.toFixed(2))};let ue=null,L=null,K=null,ee=null,_e="";const Ae=()=>{Array.isArray(p.images)||(p.images=[])},Ee=A=>{var Y,D,z;if(!A)return"";let g=String(A).trim();if(g==="")return"";try{const B=(z=(D=(Y=window.Joomla)==null?void 0:Y.getOptions)==null?void 0:D.call(Y,"system.paths",{}))!=null?z:{},re=B.rootFull||window.location.origin,fe=B.root||"/";g.startsWith(re)&&(g=g.substring(re.length)),g.startsWith(fe)&&(g=g.substring(fe.length))}catch(B){}const T=g.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);T&&T[1]&&(g=T[1]);const O=g.indexOf("#joomlaImage://");return O!==-1&&(g=g.substring(0,O)),g.trim()},Re=(A,{keepIndex:g=!1,appendWhenNoIndex:T=!1,targetIndex:O=null}={})=>{const Y=Ee(A);if(Y==="")return!1;Ae();const D=O!==null&&O>=0?O:ee;return D==null||Number.isNaN(D)?T?(p.images.push(Y),g||(ee=null,_e=""),!0):!1:(D>=p.images.length?p.images.push(Y):p.images[D]=Y,_e=g?Y:"",g||(ee=null,_e=""),!0)},E=()=>{Ae(),p.images.push("")},m=A=>{Ae(),p.images.splice(A,1)},h=(A,g)=>{Ae();const T=p.images[A];if(T===void 0)return;const O=A+g;O<0||O>=p.images.length||(p.images.splice(A,1),p.images.splice(O,0,T))},de=A=>{var O;Ae();const g=(O=p.images[A])!=null?O:"";if(typeof window=="undefined")return;const T=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),g);Re(T!=null?T:"",{targetIndex:A})},C=()=>{var D,z,B,re,fe,ge;const A=(s.mediaModalUrl||"").trim();if(A!=="")return A;const g=(B=(z=(D=window.Joomla)==null?void 0:D.getOptions)==null?void 0:z.call(D,"media-picker",{}))!=null?B:{};if(g.modalUrl)return g.modalUrl;const T=(ge=(fe=(re=window.Joomla)==null?void 0:re.getOptions)==null?void 0:fe.call(re,"system.paths",{}))!=null?ge:{},O=T.rootFull||T.root||"";return(O?O.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},S=async()=>{var B,re,fe,ge,ye,Ne,ke,Ke,at;if(ue)return ue;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(We){return null}const A=(fe=(re=(B=window.Joomla)==null?void 0:B.getOptions)==null?void 0:re.call(B,"system.paths",{}))!=null?fe:{},g=A.rootFull||A.root||"",T=(Ne=(ye=(ge=window.Joomla)==null?void 0:ge.getOptions)==null?void 0:ye.call(ge,"com_media",{}))!=null?Ne:{},O=(T==null?void 0:T.file_path)||"images",Y=(at=(Ke=(ke=window.Joomla)==null?void 0:ke.getOptions)==null?void 0:Ke.call(ke,"media-picker",{}))!=null?at:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},z=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return L=document.createElement("div"),L.className="nxp-ec-media-picker-host",L.style.display="none",L.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${g.replace(/"/g,"&quot;")}"
            root-folder="${O.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${z}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(Y).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(L),ue=L.querySelector("joomla-field-media"),K=L.querySelector(".nxp-ec-media-field__input"),ue.addEventListener("change",We=>{var ft,vt,fn,hn,zt,Cs;const Ye=(fn=(vt=(ft=We.detail)==null?void 0:ft.value)!=null?vt:K==null?void 0:K.value)!=null?fn:"";let $e=Ee(Ye);if($e===""&&_e!==""&&($e=_e),$e===""&&((hn=window.Joomla)!=null&&hn.selectedMediaFile)){const ci=Ee((zt=window.Joomla.selectedMediaFile.url)!=null?zt:""),di=Ee((Cs=window.Joomla.selectedMediaFile.path)!=null?Cs:"");$e=ci||di}Re($e)}),ue.addEventListener("joomla-dialog:close",()=>{ee=null,_e=""}),K&&K.addEventListener("change",()=>{var Ye,$e,ft,vt;if(ee===null)return;let We=Ee((Ye=K.value)!=null?Ye:"");if(We===""&&_e!==""&&(We=_e),We===""&&(($e=window.Joomla)!=null&&$e.selectedMediaFile)){const fn=Ee((ft=window.Joomla.selectedMediaFile.url)!=null?ft:""),hn=Ee((vt=window.Joomla.selectedMediaFile.path)!=null?vt:"");We=fn||hn}We!==""&&Re(We)}),ue},N=A=>{var D,z;const g=A==null?void 0:A.detail;if(!g||typeof g!="object")return;const T=Ee((D=g.path)!=null?D:""),Y=Ee((z=g.url)!=null?z:"")||T;Y===""||ee===null||(_e=Y,Re(Y,{keepIndex:!0}))};st(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",N)});const w=async A=>{var O;Ae();const g=await S();if(!g||typeof g.show!="function"){de(A);return}ee=A,g.setAttribute("url",C());const T=(O=p.images[A])!=null?O:"";typeof g.setValue=="function"?g.setValue(T):K&&(K.value=T);try{g.show()}catch(Y){ee=null,_e="",de(A)}};no(()=>{L&&L.parentNode&&L.parentNode.removeChild(L),ue=null,L=null,K=null,ee=null,_e="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",N)});const k=()=>{var D,z;Ae();const A=Array.from(new Set(p.images.map(B=>String(B!=null?B:"").trim()).filter(B=>B!==""))),g=p.categories.map(B=>{var ye,Ne,ke;const re=Number.parseInt((ye=B==null?void 0:B.id)!=null?ye:0,10)||0,fe=String((Ne=B==null?void 0:B.title)!=null?Ne:"").trim(),ge=String((ke=B==null?void 0:B.slug)!=null?ke:"").trim();return re>0?{id:re,title:fe,slug:ge}:fe===""?null:{id:0,title:fe,slug:""}}).filter(B=>B!==null),T=p.variants.map(B=>{const re=Array.isArray(B.options)?B.options.map(ye=>{var Ne,ke;return{name:String((Ne=ye==null?void 0:ye.name)!=null?Ne:"").trim(),value:String((ke=ye==null?void 0:ye.value)!=null?ke:"").trim()}}).filter(ye=>ye.name!==""&&ye.value!==""):[],fe=Number.isFinite(Number(B.stock))?Math.max(0,parseInt(B.stock,10)):0,ge=B.weight!==null&&B.weight!==""?String(B.weight).trim():null;return{id:B.id||0,sku:B.sku.trim(),price:B.price!==null&&B.price!==void 0?String(B.price).trim():"",currency:B.currency?String(B.currency).trim().toUpperCase():a.value,stock:fe,weight:ge,active:!!B.active,options:re}}),O=u(p.status),Y={title:p.title.trim(),slug:p.slug.trim(),short_desc:(D=p.short_desc)!=null?D:"",long_desc:(z=p.long_desc)!=null?z:"",status:O,active:O,featured:!!p.featured,images:A,categories:g,variants:T};o("submit",Y)},G=()=>{o("cancel")};return Le(()=>s.saving,(A,g)=>{g&&!A&&s.errors.length===0&&P.value==="create"&&(j(null),f.value="",_.value=!1)}),(A,g)=>e.open?(R(),M("div",v_,[g[10]||(g[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",x_,[i("header",N_,[i("h2",P_,d(P.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",M_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:G,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[g[8]||(g[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",I_,d(r(n)("JCANCEL","Cancel")),1)],8,k_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:na,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[i("i",{class:Me(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",$_,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,w_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:G,"aria-label":r(n)("JCLOSE","Close")},"  ",8,U_)])]),i("form",{id:na,class:"nxp-ec-form",onSubmit:ut(k,["prevent"])},[e.errors.length?(R(),M("div",D_,[(R(!0),M(Se,null,ve(e.errors,(T,O)=>(R(),M("p",{key:O},d(T),1))),128))])):Te("",!0),i("div",L_,[i("label",Y_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),te(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[0]||(g[0]=T=>p.title=T),required:""},null,512),[[le,p.title,void 0,{trim:!0}]])]),i("div",X_,[i("label",F_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),te(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[1]||(g[1]=T=>p.slug=T),onInput:I,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,G_),[[le,p.slug,void 0,{trim:!0}]])]),i("div",V_,[i("label",H_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),te(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":g[2]||(g[2]=T=>p.short_desc=T)},null,512),[[le,p.short_desc]])]),i("div",B_,[i("label",K_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),te(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":g[3]||(g[3]=T=>p.long_desc=T)},null,512),[[le,p.long_desc]])]),i("div",j_,[i("label",J_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),te(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":g[4]||(g[4]=T=>p.status=T)},[i("option",W_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",q_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",z_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[Tt,p.status,void 0,{number:!0}]]),i("p",Q_,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",Z_,[i("label",ef,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),te(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":g[5]||(g[5]=T=>p.featured=T)},null,512),[[At,p.featured]]),i("p",tf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",nf,[i("label",sf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",of,[(R(!0),M(Se,null,ve(p.images,(T,O)=>(R(),M("div",{key:`product-image-${O}`,class:"nxp-ec-image-row"},[te(i("input",{id:`product-image-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Y=>p.images[O]=Y,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,af),[[le,p.images[O],void 0,{trim:!0}]]),i("div",rf,[i("button",{type:"button",class:"nxp-ec-btn",onClick:Y=>w(O)},[g[9]||(g[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,lf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:Y=>h(O,-1),disabled:O===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,cf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:Y=>h(O,1),disabled:O===p.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,df),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Y=>m(O),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,uf)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:E},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",pf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",_f,[i("label",ff,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),te(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":g[6]||(g[6]=T=>x.value=T)},[(R(!0),M(Se,null,ve(v.value,T=>(R(),M("option",{key:T.id,value:T.id},d(b(T)),9,hf))),128))],512),[[Tt,x.value]]),i("div",mf,[(R(!0),M(Se,null,ve(p.categories,(T,O)=>(R(),M("span",{key:`selected-category-${O}`,class:"nxp-ec-chip"},[Xe(d(T.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:Y=>W(O),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,gf)]))),128))]),i("div",Cf,[te(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":g[7]||(g[7]=T=>f.value=T),onKeydown:qt(ut(V,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,Sf),[[le,f.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:V},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",Ef,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",bf,[i("header",Af,[i("h3",Tf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:F},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",yf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price and currency.")),1),(R(!0),M(Se,null,ve(p.variants,(T,O)=>(R(),M("article",{key:q(T,O),class:"nxp-ec-variant-card"},[i("header",Of,[i("h4",Rf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(O+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:Y=>Z(O)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,vf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Y=>ne(O),disabled:p.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,xf)]),i("div",Nf,[i("div",Pf,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${O}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Mf),te(i("input",{id:`variant-sku-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Y=>T.sku=Y,required:""},null,8,kf),[[le,T.sku,void 0,{trim:!0}]])]),i("div",If,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${O}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,wf),te(i("input",{id:`variant-price-${O}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":Y=>T.price=Y,onBlur:Y=>Q(O),required:""},null,40,$f),[[le,T.price,void 0,{trim:!0}]])]),i("div",Uf,[i("label",{class:"nxp-ec-form-label",for:`variant-currency-${O}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY","Currency")),9,Df),te(i("input",{id:`variant-currency-${O}`,class:"nxp-ec-form-input",type:"text",maxlength:"3","onUpdate:modelValue":Y=>T.currency=Y,readonly:"","aria-readonly":"true"},null,8,Lf),[[le,T.currency,void 0,{trim:!0}]]),i("p",Yf,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_HELP","Variants inherit the store base currency (%s).",[a.value])),1)]),i("div",Xf,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${O}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Ff),te(i("input",{id:`variant-stock-${O}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":Y=>T.stock=Y},null,8,Gf),[[le,T.stock,void 0,{number:!0}]])]),i("div",Vf,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${O}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,Hf),te(i("input",{id:`variant-weight-${O}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":Y=>T.weight=Y},null,8,Bf),[[le,T.weight,void 0,{trim:!0}]])]),i("div",Kf,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${O}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,jf),te(i("input",{id:`variant-active-${O}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":Y=>T.active=Y},null,8,Jf),[[At,T.active]])])]),i("section",Wf,[i("header",qf,[i("h5",zf,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:Y=>pe(O)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,Qf)]),i("p",Zf,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(R(!0),M(Se,null,ve(T.options,(Y,D)=>(R(),M("div",{key:`variant-${O}-option-${D}`,class:"nxp-ec-variant-option-row"},[te(i("input",{id:`variant-${O}-option-name-${D}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":z=>Y.name=z,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,eh),[[le,Y.name,void 0,{trim:!0}]]),te(i("input",{id:`variant-${O}-option-value-${D}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":z=>Y.value=z,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,th),[[le,Y.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:z=>se(O,D),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,nh)]))),128))])]))),128))]),i("footer",sh,[i("button",{type:"button",class:"nxp-ec-btn",onClick:G,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,ih),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,oh)])],32)])])):Te("",!0)}},[["__scopeId","data-v-0195413d"]]),rh={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},lh={key:1,class:"nxp-ec-skeleton__table"},ch={key:2,class:"nxp-ec-skeleton__card"},dh={key:3,class:"nxp-ec-skeleton__circle"};function uh(e,t,s,o,n,a){return R(),M("div",{class:Me(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(R(),M("div",{key:0,class:"nxp-ec-skeleton__line",style:Yt({width:s.width})},null,4)):s.type==="table"?(R(),M("div",lh,[(R(!0),M(Se,null,ve(s.rows,l=>(R(),M("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(R(!0),M(Se,null,ve(s.columns,u=>(R(),M("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(R(),M("div",ch,[...t[0]||(t[0]=[yu('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(R(),M("div",dh)):(R(),M("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Yt({width:s.width,height:s.height})},null,4))],2)}const Dn=yt(rh,[["render",uh],["__scopeId","data-v-c8b9a887"]]),ph={class:"nxp-ec-admin-panel"},_h={class:"nxp-ec-admin-panel__header"},fh={class:"nxp-ec-admin-panel__title"},hh={class:"nxp-ec-admin-panel__lead"},mh={class:"nxp-ec-admin-panel__actions"},gh=["placeholder","aria-label"],Ch=["disabled","title","aria-label"],Sh={class:"nxp-ec-sr-only"},Eh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bh={key:1,class:"nxp-ec-admin-panel__body"},Ah={key:2,class:"nxp-ec-admin-panel__body"},Th=["title"],Ln=1,pn=-1,hs=0,yh={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=we({mode:"create",product:null}),l=He(!1),u=he(()=>(s.baseCurrency||"USD").toUpperCase()),p=he(()=>a.product),f=he(()=>(s.mediaModalUrl||"").trim()),_=($,ie=!1)=>{const oe=Number($);if(Number.isFinite(oe))return oe===pn?pn:oe===hs?hs:Ln;if(ie)return pn;if(typeof $=="string"){const ce=$.trim().toLowerCase();if(ce==="out_of_stock"||ce==="out-of-stock"||ce==="-1")return pn;if(ce==="inactive"||ce==="0")return hs}return Ln},c=($,ie=!1)=>{const oe=_($,ie);return oe===Ln?pn:oe===pn?hs:Ln},b=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",status:Ln,active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},v=$=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify($)),l.value=!0},U=()=>{l.value=!1,s.state.validationErrors=[]},x=async $=>{var ce,me;const ie=_((ce=$.status)!=null?ce:$.active,$.out_of_stock),oe={...$,status:ie,active:ie,featured:$.featured?1:0};a.mode==="edit"&&((me=a.product)!=null&&me.id)?o("update",{id:a.product.id,data:oe}):o("create",oe)},P=async $=>{var ce;const ie=(ce=$==null?void 0:$.title)!=null?ce:"",oe=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[ie||"#"]);window.confirm(oe)&&o("delete",[$.id])},X=$=>{var W;if(!($!=null&&$.id)||s.state.saving)return;const ie=c((W=$.status)!=null?W:$.active,$.out_of_stock),oe=F=>F==null?"":String(F),ce=(F,ne=0)=>{const pe=Number(F);return Number.isFinite(pe)?pe:ne},me=Array.isArray($.variants)?$.variants.map(F=>{var Q,ue;if(!F)return null;const ne=oe(F.sku).trim();if(!ne)return null;let pe=ce(F.price_cents,Number.NaN);if(!Number.isFinite(pe)){const L=oe(F.price),K=L?Number.parseFloat(L):NaN;pe=Number.isFinite(K)?Math.round(K*100):NaN}if(!Number.isFinite(pe))return null;const se=oe((Q=F.currency)!=null?Q:u.value).trim().toUpperCase();if(!se)return null;const q=(ue=F.options)!=null?ue:null,Z=Math.max(0,Math.round(ce(F.stock,0)));return{id:ce(F.id,0),sku:ne,price_cents:Math.round(pe),currency:se,stock:Z,options:q!=null?q:null,weight:F.weight!==null&&F.weight!==void 0&&F.weight!==""?String(F.weight):null,active:F.active===void 0?!0:!!F.active}}).filter(Boolean):[];if(!me.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const j=Array.isArray($.categories)?$.categories.map(F=>{if(F==null)return null;if(typeof F=="number")return F>0?{id:F,title:"",slug:""}:null;if(typeof F=="string"&&F.trim()!==""&&Number.isFinite(Number(F))){const pe=Number(F);return pe>0?{id:pe,title:"",slug:""}:null}if(typeof F=="object"){if(F.id){const se=ce(F.id,0);return se>0?{id:se,title:"",slug:""}:null}return ce(F.id,0)<=0&&!F.title?null:{id:0,title:oe(F.title),slug:oe(F.slug)}}const ne=oe(F).trim();return ne?{id:0,title:ne,slug:""}:null}).filter(Boolean):[],V=Array.isArray($.images)?$.images.map(F=>oe(F).trim()).map(F=>{var q,Z,Q;let ne=F;if(!ne)return"";const pe=ne.indexOf("#joomlaImage://");pe!==-1&&(ne=ne.substring(0,pe));const se=ne.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(se&&se[1]&&(ne=se[1]),typeof window!="undefined")try{const ue=(Q=(Z=(q=window.Joomla)==null?void 0:q.getOptions)==null?void 0:Z.call(q,"system.paths",{}))!=null?Q:{},L=ue.rootFull||window.location.origin,K=ue.root||"/";ne.startsWith(L)&&(ne=ne.substring(L.length)),ne.startsWith(K)&&(ne=ne.substring(K.length))}catch(ue){}return ne.trim()}).filter(F=>F!==""):[];s.state.error="",o("update",{id:$.id,data:{title:oe($.title),slug:oe($.slug),short_desc:oe($.short_desc),long_desc:oe($.long_desc),status:ie,active:ie,featured:$.featured?1:0,images:V,variants:me,categories:j}})},J=()=>{o("refresh")},y=()=>{o("search")},I=$=>{if(!$)return"";try{const ie=new Date($),ce=new Date-ie,me=Math.floor(ce/1e3),j=Math.floor(me/60),V=Math.floor(j/60);return me<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):j<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[j]):V<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[V]):ie.toLocaleString()}catch(ie){return $}};return Le(()=>s.state.saving,($,ie)=>{ie&&!$&&l.value&&!s.state.validationErrors.length&&!s.state.error&&U()}),($,ie)=>(R(),M("section",ph,[i("header",_h,[i("div",null,[i("h2",fh,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",hh,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",mh,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":ie[0]||(ie[0]=oe=>e.state.search=oe),onKeyup:qt(y,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,gh),[[le,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:J,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[ie[1]||(ie[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Sh,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,Ch),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:b},[ie[2]||(ie[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(R(),M("div",Eh,d(e.state.error),1)):e.state.loading?(R(),M("div",bh,[Be(Dn,{type:"table",rows:5,columns:5})])):(R(),M("div",Ah,[Be(R_,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:v,onDelete:P,onToggleActive:X},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(R(),M("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(I(e.state.lastUpdated)),9,Th)):Te("",!0)])),Be(ah,{open:l.value,product:p.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":f.value,onSubmit:x,onCancel:U},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Oh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Rh={class:"nxp-ec-admin-panel__header"},vh={class:"nxp-ec-admin-panel__title"},xh={class:"nxp-ec-admin-panel__lead"},Nh={class:"nxp-ec-admin-panel__actions"},Ph=["placeholder","aria-label"],Mh=["disabled","title","aria-label"],kh={class:"nxp-ec-sr-only"},Ih={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},wh={key:1,class:"nxp-ec-admin-panel__body"},$h={key:2,class:"nxp-ec-admin-panel__body"},Uh={class:"nxp-ec-admin-panel__table"},Dh={class:"nxp-ec-admin-table"},Lh={scope:"col"},Yh={scope:"col"},Xh={scope:"col"},Fh={scope:"col"},Gh={scope:"col"},Vh={key:0},Hh={colspan:"6"},Bh={scope:"row"},Kh={class:"nxp-ec-admin-table__actions"},jh=["onClick","title","aria-label"],Jh={class:"nxp-ec-sr-only"},Wh=["disabled","onClick","title","aria-label"],qh={class:"nxp-ec-sr-only"},zh={key:0,class:"nxp-ec-admin-pagination"},Qh=["disabled"],Zh={class:"nxp-ec-admin-pagination__status"},em=["disabled"],tm=["title"],nm={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},sm={class:"nxp-ec-modal__dialog"},im={class:"nxp-ec-modal__header"},om={class:"nxp-ec-modal__title"},am=["title","aria-label"],rm={class:"nxp-ec-sr-only"},lm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},cm={class:"nxp-ec-form-field"},dm={class:"nxp-ec-form-label",for:"category-title"},um={class:"nxp-ec-form-field"},pm={class:"nxp-ec-form-label",for:"category-slug"},_m={class:"nxp-ec-form-field"},fm={class:"nxp-ec-form-label",for:"category-parent"},hm={value:""},mm=["value"],gm={class:"nxp-ec-form-field"},Cm={class:"nxp-ec-form-label",for:"category-sort"},Sm={class:"nxp-ec-modal__actions"},Em=["disabled"],bm={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=He(!1),l=He(!1),u=He([]),p=j=>{const W=(Array.isArray(j)?j:[]).map(L=>{var K,ee,_e,Ae,Ee;return{...L,id:Number.parseInt((K=L==null?void 0:L.id)!=null?K:0,10)||0,parent_id:(L==null?void 0:L.parent_id)!=null&&Number.parseInt(L.parent_id,10)||0,sort:Number.parseInt((ee=L==null?void 0:L.sort)!=null?ee:0,10)||0,title:String((_e=L==null?void 0:L.title)!=null?_e:"").trim(),slug:String((Ae=L==null?void 0:L.slug)!=null?Ae:"").trim(),usage:(Ee=L==null?void 0:L.usage)!=null?Ee:0}}).filter(L=>L.id>0||L.title!==""),F=new Set(W.map(L=>L.id));W.forEach(L=>{F.has(L.parent_id)||(L.parent_id=0)});const ne=new Map,pe=new Map;W.forEach(L=>{pe.set(L.id,L);const K=L.parent_id||0;ne.has(K)||ne.set(K,[]),ne.get(K).push(L)});const se=L=>L.sort((K,ee)=>{var _e,Ae;return((_e=K.sort)!=null?_e:0)-((Ae=ee.sort)!=null?Ae:0)||K.title.localeCompare(ee.title,void 0,{sensitivity:"base"})});ne.forEach(se);const q=new Set,Z=[],Q=(L,K,ee)=>{if(!L||q.has(L.id)||ee.includes(L.id))return;const _e=[...ee],Ae=_e.map(E=>{var m;return(m=pe.get(E))==null?void 0:m.title}).filter(Boolean),Ee={...L,depth:K,path:Ae.join(" / "),ancestors:_e,indentedTitle:K>0?`${" ".repeat(K)}${L.title}`:L.title};Z.push(Ee),q.add(L.id),(ne.get(L.id)||[]).forEach(E=>Q(E,K+1,[...ee,L.id]))},ue=W.filter(L=>L.parent_id===0||!F.has(L.parent_id));return se(ue),ue.forEach(L=>Q(L,0,[])),W.forEach(L=>{q.has(L.id)||Q(L,0,[])}),Z},f=he(()=>{var j,V;return p((V=(j=s.state)==null?void 0:j.items)!=null?V:[])}),_=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),c=we(_()),b=he(()=>{var V,W;const j=(W=Array.isArray(u.value)&&u.value.length?u.value:(V=s.state)==null?void 0:V.items)!=null?W:[];return p(j).filter(F=>F.id>0&&F.id!==c.id&&!(Array.isArray(F.ancestors)&&F.ancestors.includes(c.id))).map(F=>({id:F.id,title:F.title,label:F.depth>0?`${" ".repeat(F.depth)}${F.title}`:F.title}))}),v=()=>{Object.assign(c,_()),l.value=!1},U=j=>j?j.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",x=()=>{l.value=!0,c.slug=U(c.slug)};Le(()=>c.title,j=>{l.value||(c.slug=U(j))});const P=async(j=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const V=await s.loadOptions();u.value=Array.isArray(V)?[...V]:[]}catch(V){u.value=[]}u.value=u.value.filter(V=>{var F,ne;return(Number.parseInt((ne=(F=V==null?void 0:V.id)!=null?F:V==null?void 0:V.value)!=null?ne:0,10)||0)!==j})},X=async()=>{v(),await P(),a.value=!0},J=async j=>{var V,W,F,ne;j&&(c.id=Number.parseInt((V=j.id)!=null?V:0,10)||0,c.title=String((W=j.title)!=null?W:"").trim(),c.slug=String((F=j.slug)!=null?F:"").trim(),c.parent_id=j.parent_id!=null&&Number.parseInt(j.parent_id,10)||null,c.sort=Number.parseInt((ne=j.sort)!=null?ne:0,10)||0,l.value=!!c.slug,await P(c.id),a.value=!0)},y=()=>{a.value=!1,v()},I=()=>{o("refresh")},$=()=>{o("search")},ie=j=>{o("page",j)},oe=()=>{const j={id:c.id||void 0,title:c.title.trim(),slug:c.slug.trim(),parent_id:c.parent_id||null,sort:Number.isFinite(c.sort)?c.sort:0};o("save",j)},ce=j=>{if(!j||!j.id)return;const V=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(V)||o("delete",[j.id])},me=j=>{if(!j)return"";try{const V=new Date(j),F=new Date-V,ne=Math.floor(F/1e3),pe=Math.floor(ne/60),se=Math.floor(pe/60);return ne<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):pe<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[pe]):se<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[se]):V.toLocaleString()}catch(V){return j}};return Le(()=>{var j;return(j=s.state)==null?void 0:j.saving},(j,V)=>{var W,F,ne;V&&!j&&(((F=(W=s.state)==null?void 0:W.validationErrors)!=null?F:[]).length>0||(ne=s.state)!=null&&ne.error||(a.value=!1,v()))}),(j,V)=>(R(),M("section",Oh,[i("header",Rh,[i("div",null,[i("h2",vh,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",xh,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",Nh,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":V[0]||(V[0]=W=>e.state.search=W),onKeyup:qt($,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Ph),[[le,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:I,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[V[7]||(V[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",kh,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Mh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:X},[V[8]||(V[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(R(),M("div",Ih,d(e.state.error),1)):e.state.loading?(R(),M("div",wh,[Be(Dn,{type:"table",rows:5,columns:5})])):(R(),M("div",$h,[i("div",Uh,[i("table",Dh,[i("thead",null,[i("tr",null,[i("th",Lh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",Yh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",Xh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Fh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Gh,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),V[9]||(V[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Te("",!0):(R(),M("tr",Vh,[i("td",Hh,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(R(!0),M(Se,null,ve(f.value,W=>{var F;return R(),M("tr",{key:W.id,class:Me({"is-active":c.id===W.id})},[i("th",Bh,[i("span",{style:Yt({paddingLeft:`${W.depth*1.5}rem`})},d(W.indentedTitle),5)]),i("td",null,d(W.slug||""),1),i("td",null,d(W.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),i("td",null,d(W.sort),1),i("td",null,d((F=W.usage)!=null?F:0),1),i("td",Kh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ne=>J(W),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[V[10]||(V[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",Jh,d(r(n)("JEDIT","Edit")),1)],8,jh),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:ne=>ce(W),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[V[11]||(V[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",qh,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Wh)])],2)}),128))])]),e.state.pagination.pages>1?(R(),M("div",zh,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:V[1]||(V[1]=W=>ie(e.state.pagination.current-1))},"  ",8,Qh),i("span",Zh,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:V[2]||(V[2]=W=>ie(e.state.pagination.current+1))},"  ",8,em)])):Te("",!0)]),e.state.lastUpdated?(R(),M("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(me(e.state.lastUpdated)),9,tm)):Te("",!0),a.value?(R(),M("div",nm,[i("div",{class:"nxp-ec-modal__backdrop",onClick:y}),i("div",sm,[i("header",im,[i("h3",om,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:y,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[V[12]||(V[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",rm,d(r(n)("JCLOSE","Close")),1)],8,am)]),i("form",{class:"nxp-ec-form",onSubmit:ut(oe,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(R(),M("div",lm,[i("ul",null,[(R(!0),M(Se,null,ve(e.state.validationErrors,(W,F)=>(R(),M("li",{key:F},d(W),1))),128))])])):Te("",!0),i("div",cm,[i("label",dm,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),te(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":V[3]||(V[3]=W=>c.title=W),required:"",maxlength:"255"},null,512),[[le,c.title,void 0,{trim:!0}]])]),i("div",um,[i("label",pm,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),te(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":V[4]||(V[4]=W=>c.slug=W),maxlength:"190",onInput:x},null,544),[[le,c.slug,void 0,{trim:!0}]])]),i("div",_m,[i("label",fm,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),te(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":V[5]||(V[5]=W=>c.parent_id=W)},[i("option",hm,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(R(!0),M(Se,null,ve(b.value,W=>(R(),M("option",{key:W.id,value:W.id},d(W.label),9,mm))),128))],512),[[Tt,c.parent_id,void 0,{number:!0}]])]),i("div",gm,[i("label",Cm,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),te(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":V[6]||(V[6]=W=>c.sort=W),min:"0",step:"1"},null,512),[[le,c.sort,void 0,{number:!0}]])]),i("footer",Sm,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[V[13]||(V[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,Em),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:y},[V[14]||(V[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):Te("",!0)]))]))}},Am={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Tm={class:"nxp-ec-admin-panel__header"},ym={class:"nxp-ec-admin-panel__title"},Om={class:"nxp-ec-admin-panel__lead"},Rm={class:"nxp-ec-admin-panel__actions"},vm=["placeholder","aria-label"],xm=["aria-label"],Nm={value:""},Pm=["value"],Mm=["disabled","title","aria-label"],km={class:"nxp-ec-sr-only"},Im={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},wm={key:1,class:"nxp-ec-admin-panel__body"},$m={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},Um={class:"nxp-ec-admin-panel__table"},Dm={key:0,class:"nxp-ec-admin-panel__selection"},Lm=["aria-label"],Ym={value:""},Xm=["value"],Fm=["disabled"],Gm=["title","aria-label"],Vm={class:"nxp-ec-sr-only"},Hm={class:"nxp-ec-admin-table"},Bm={scope:"col",class:"nxp-ec-admin-table__select"},Km={scope:"col"},jm={scope:"col"},Jm={scope:"col"},Wm={scope:"col"},qm={scope:"col"},zm={scope:"col",class:"nxp-ec-admin-table__actions"},Qm={key:0},Zm={colspan:"7"},eg={class:"nxp-ec-admin-table__select"},tg=["checked","onChange","aria-label"],ng={scope:"row"},sg=["onClick"],ig={class:"nxp-ec-admin-table__meta"},og={class:"nxp-ec-badge"},ag={class:"nxp-ec-admin-table__actions"},rg=["onUpdate:modelValue","aria-label"],lg=["value"],cg=["value"],dg=["disabled","onClick"],ug={key:1,class:"nxp-ec-admin-pagination"},pg=["disabled"],_g={class:"nxp-ec-admin-pagination__status"},fg=["disabled"],hg=["title"],mg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},gg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Cg={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Sg={class:"nxp-ec-admin-panel__sidebar-header"},Eg=["title","aria-label"],bg={class:"nxp-ec-sr-only"},Ag={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Tg={key:1,class:"nxp-ec-admin-panel__section"},yg={class:"nxp-ec-admin-copy"},Og=["value"],Rg=["disabled"],vg={key:0,class:"nxp-ec-admin-panel__muted"},xg={class:"nxp-ec-admin-copy"},Ng=["disabled"],Pg={key:0,class:"nxp-ec-admin-panel__muted"},Mg={class:"nxp-ec-admin-panel__section"},kg={class:"nxp-ec-admin-list"},Ig={class:"nxp-ec-admin-list__title"},wg={class:"nxp-ec-admin-list__meta"},$g={class:"nxp-ec-admin-panel__section"},Ug={class:"nxp-ec-admin-panel__total"},Dg={class:"nxp-ec-admin-panel__section"},Lg={class:"nxp-ec-admin-address"},Yg={class:"nxp-ec-admin-panel__section"},Xg={key:0,class:"nxp-ec-admin-address"},Fg={key:1,class:"nxp-ec-admin-panel__muted"},Gg={class:"nxp-ec-admin-panel__section"},Vg={class:"nxp-ec-form-field"},Hg={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},Bg={class:"nxp-ec-form-field"},Kg={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},jg={class:"nxp-ec-form-field"},Jg={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},Wg={class:"nxp-ec-form-checkbox"},qg={class:"nxp-ec-admin-form__actions"},zg=["disabled"],Qg={key:2,class:"nxp-ec-admin-panel__section"},Zg={class:"nxp-ec-admin-list"},eC={class:"nxp-ec-admin-list__title"},tC={class:"nxp-ec-admin-list__meta"},nC={class:"nxp-ec-admin-panel__section"},sC=["placeholder"],iC={class:"nxp-ec-admin-form__actions"},oC=["disabled"],aC={class:"nxp-ec-admin-panel__section"},rC={key:0,class:"nxp-ec-admin-list"},lC={class:"nxp-ec-admin-list__title"},cC={class:"nxp-ec-admin-list__meta"},dC={key:1,class:"nxp-ec-admin-panel__muted"},uC=yt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=we({}),l=He(""),u=He(""),p=he(()=>u.value.trim().length>0),f=He(""),_=we({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),c=he(()=>{var m;const E=(m=s.state)==null?void 0:m.selection;return!E||typeof E.values!="function"?[]:Array.from(E.values())}),b=he(()=>c.value.length>0);Le(c,E=>{E.length||(l.value="")}),Le(()=>s.state.activeOrder,E=>{var m,h,de;u.value="",f.value="",_.carrier=(m=E==null?void 0:E.carrier)!=null?m:"",_.tracking_number=(h=E==null?void 0:E.tracking_number)!=null?h:"",_.tracking_url=(de=E==null?void 0:E.tracking_url)!=null?de:"",_.markFulfilled=!1},{immediate:!0}),Le(()=>s.state.items,E=>{Array.isArray(E)&&E.forEach(m=>{!m||typeof m.id=="undefined"||a[m.id]||(a[m.id]=m.state)})},{immediate:!0});const v=(E,m)=>{const h=(Number(E)||0)/100,de=(m||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:de}).format(h)}catch(C){return`${de} ${h.toFixed(2)}`}},U=E=>{if(!E)return"";const m=new Date(E);return Number.isNaN(m.getTime())?E:m.toLocaleString()},x=E=>E===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(E)]),P=E=>{if(!E)return"";const m=`COM_NXPEASYCART_ORDERS_STATE_${String(E).toUpperCase()}`;return n(m,E)},X=E=>s.state.orderStates.filter(m=>m!==E.state),J=E=>(a[E.id]||E.state)!==E.state,y=()=>{var E;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((E=window.location)!=null&&E.origin)?window.location.origin:""},I=he(()=>{var N,w;const E=(w=(N=s.state)==null?void 0:N.activeOrder)!=null?w:{},m=String(E.public_token||"").trim(),h=String(E.order_no||"").trim();if(!m)return"";const de=y();if(!de)return"";const C=de.endsWith("/")?"":"/",S=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:m});return h&&S.set("no",h),`${de}${C}index.php?${S.toString()}`}),$=async()=>{var E;if(I.value){try{if(!((E=navigator==null?void 0:navigator.clipboard)!=null&&E.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(I.value),f.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(m){try{const h=document.createElement("textarea");h.value=I.value,h.setAttribute("readonly",""),h.style.position="absolute",h.style.left="-9999px",document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h),f.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(h){f.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}f.value&&setTimeout(()=>{f.value=""},2e3)}},ie=he(()=>{var m,h,de,C,S;const E=(h=(m=s.state)==null?void 0:m.activeOrder)!=null?h:{};return _.carrier!==((de=E.carrier)!=null?de:"")||_.tracking_number!==((C=E.tracking_number)!=null?C:"")||_.tracking_url!==((S=E.tracking_url)!=null?S:"")||_.markFulfilled}),oe=E=>!E||typeof E!="object"?[]:Object.entries(E).filter(([,m])=>m!=null&&`${m}`.trim()!=="").map(([m,h])=>({key:m,value:`${h}`.trim()})),ce=()=>{o("refresh")},me=()=>{o("search")},j=()=>{o("filter",s.state.filterState)},V=E=>{o("view",E)},W=()=>{o("close")},F=E=>{const m=a[E.id]||E.state;m!==E.state&&o("transition",{id:E.id,state:m})},ne=E=>{o("page",E)},pe=E=>{var m,h,de,C;return(C=(de=(h=(m=s.state)==null?void 0:m.selection)==null?void 0:h.has)==null?void 0:de.call(h,E))!=null?C:!1},se=E=>{o("toggle-selection",E)},q=()=>{l.value="",o("clear-selection")},Z=()=>{!b.value||!l.value||o("bulk-transition",{ids:[...c.value],state:l.value})},Q=()=>{if(!s.state.activeOrder)return;const E=u.value.trim();E&&(o("add-note",{id:s.state.activeOrder.id,message:E}),u.value="")},ue=()=>{s.state.activeOrder&&o("invoice",s.state.activeOrder.id)},L=()=>{!s.state.activeOrder||!ie.value||(o("save-tracking",{id:s.state.activeOrder.id,carrier:_.carrier,tracking_number:_.tracking_number,tracking_url:_.tracking_url,mark_fulfilled:_.markFulfilled}),_.markFulfilled=!1)},K=he(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(c.value.length)],"ordersSelectedCount")),ee=E=>{var m,h,de,C,S,N,w,k,G,A,g,T;if(!E||!E.action)return"";switch(E.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const O=P((h=(m=E.context)==null?void 0:m.from)!=null?h:""),Y=P((C=(de=E.context)==null?void 0:de.to)!=null?C:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[O||((S=E.context)==null?void 0:S.from)||"",Y||((N=E.context)==null?void 0:N.to)||""],"ordersTimelineState")}case"order.note":return((w=E.context)==null?void 0:w.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const O=((k=E.context)==null?void 0:k.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),Y=v((A=(G=E.context)==null?void 0:G.amount_cents)!=null?A:0,(T=(g=s.state)==null?void 0:g.activeOrder)==null?void 0:T.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[O,Y],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return E.action}},_e=E=>{if(!E)return"";const m=String(E.type||"").toLowerCase(),h=String(E.message||"").trim(),de=String(E.state||"").toLowerCase();return m==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):de?P(de):h||m||""},Ae=he(()=>{var de,C,S,N;const E=[];return(Array.isArray((C=(de=s.state)==null?void 0:de.activeOrder)==null?void 0:C.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((w,k)=>{var G,A;E.push({label:_e(w),created:(G=w==null?void 0:w.at)!=null?G:"",key:`f-${k}-${(A=w==null?void 0:w.at)!=null?A:""}`})}),(Array.isArray((N=(S=s.state)==null?void 0:S.activeOrder)==null?void 0:N.timeline)?s.state.activeOrder.timeline:[]).forEach((w,k)=>{var G,A,g;E.push({label:ee(w),created:(G=w==null?void 0:w.created)!=null?G:"",key:`a-${(A=w==null?void 0:w.id)!=null?A:k}-${(g=w==null?void 0:w.created)!=null?g:""}`})}),E.filter(w=>w.label).sort((w,k)=>{const G=new Date(w.created||0).getTime();return new Date(k.created||0).getTime()-G})}),Ee=E=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(E.status||"").toUpperCase()}`,E.status||""),Re=E=>{if(!E)return"";try{const m=new Date(E),de=new Date-m,C=Math.floor(de/1e3),S=Math.floor(C/60),N=Math.floor(S/60);return C<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):S<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[S]):N<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[N]):m.toLocaleString()}catch(m){return E}};return(E,m)=>(R(),M("section",Am,[i("header",Tm,[i("div",null,[i("h2",ym,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",Om,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",Rm,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":m[0]||(m[0]=h=>e.state.search=h),onKeyup:qt(me,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,vm),[[le,e.state.search]]),te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":m[1]||(m[1]=h=>e.state.filterState=h),onChange:j,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",Nm,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(R(!0),M(Se,null,ve(e.state.orderStates,h=>(R(),M("option",{key:h,value:h},d(P(h)),9,Pm))),128))],40,xm),[[Tt,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:ce,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[m[10]||(m[10]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",km,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Mm)])]),e.state.error?(R(),M("div",Im,d(e.state.error),1)):e.state.loading?(R(),M("div",wm,[Be(Dn,{type:"table",rows:5,columns:7})])):(R(),M("div",$m,[i("div",Um,[b.value?(R(),M("div",Dm,[i("span",null,d(K.value),1),te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":m[2]||(m[2]=h=>l.value=h),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",Ym,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(R(!0),M(Se,null,ve(e.state.orderStates,h=>(R(),M("option",{key:`bulk-${h}`,value:h},d(P(h)),9,Xm))),128))],8,Lm),[[Tt,l.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!l.value||e.state.saving,onClick:Z},[m[11]||(m[11]=i("i",{class:"fa-solid fa-check"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,Fm),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:q,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[m[12]||(m[12]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",Vm,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,Gm)])):Te("",!0),i("table",Hm,[i("thead",null,[i("tr",null,[i("th",Bm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",Km,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",jm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",Jm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",Wm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",qm,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",zm,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?Te("",!0):(R(),M("tr",Qm,[i("td",Zm,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(R(!0),M(Se,null,ve(e.state.items,h=>{var de,C,S;return R(),M("tr",{key:h.id,class:Me({"is-active":e.state.activeOrder&&e.state.activeOrder.id===h.id})},[i("td",eg,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:pe(h.id),onChange:N=>se(h.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,tg)]),i("th",ng,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:N=>V(h)},d(h.order_no),9,sg)]),i("td",null,[i("div",null,d(h.email),1),i("div",ig,d(x((S=h.items_count)!=null?S:(C=(de=h.items)==null?void 0:de.length)!=null?C:0)),1)]),i("td",null,d(v(h.total_cents,h.currency)),1),i("td",null,[i("span",og,d(P(h.state)),1)]),i("td",null,d(U(h.modified||h.created)),1),i("td",ag,[te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":N=>a[h.id]=N,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:h.state},d(P(h.state)),9,lg),(R(!0),M(Se,null,ve(X(h),N=>(R(),M("option",{key:N,value:N},d(P(N)),9,cg))),128))],8,rg),[[Tt,a[h.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!J(h),onClick:N=>F(h)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,dg)])],2)}),128))])]),e.state.pagination.pages>1?(R(),M("div",ug,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:m[3]||(m[3]=h=>ne(e.state.pagination.current-1))},"  ",8,pg),i("span",_g,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:m[4]||(m[4]=h=>ne(e.state.pagination.current+1))},"  ",8,fg)])):Te("",!0)]),e.state.lastUpdated?(R(),M("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(Re(e.state.lastUpdated)),9,hg)):Te("",!0),e.state.activeOrder?(R(),M("div",mg,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:W}),i("div",gg,[i("aside",Cg,[i("header",Sg,[i("h3",null,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:W,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[m[13]||(m[13]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",bg,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,Eg)]),e.state.transitionError?(R(),M("div",Ag,d(e.state.transitionError),1)):Te("",!0),I.value?(R(),M("section",Tg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",yg,[i("input",{type:"text",class:"nxp-ec-form-input",value:I.value,readonly:""},null,8,Og),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!I.value,onClick:$},[m[14]||(m[14]=i("i",{class:"fa-solid fa-link"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,Rg)]),f.value?(R(),M("p",vg,d(f.value),1)):Te("",!0),i("div",xg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:ue},[m[15]||(m[15]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,Ng),s.state.invoiceLoading?(R(),M("span",Pg,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):Te("",!0)])])):Te("",!0),i("section",Mg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",kg,[(R(!0),M(Se,null,ve(e.state.activeOrder.items,h=>(R(),M("li",{key:h.id},[i("div",Ig,[Xe(d(h.title)+" ",1),i("small",null,"("+d(h.sku)+")",1)]),i("div",wg,"  "+d(h.qty)+"  "+d(v(h.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",$g,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",Ug,d(v(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",Dg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",Lg,[(R(!0),M(Se,null,ve(oe(e.state.activeOrder.billing),h=>(R(),M("span",{key:h.key},d(h.value),1))),128))])]),i("section",Yg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(R(),M("address",Xg,[(R(!0),M(Se,null,ve(oe(e.state.activeOrder.shipping),h=>(R(),M("span",{key:h.key},d(h.value),1))),128))])):(R(),M("p",Fg,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),i("section",Gg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",Vg,[i("label",Hg,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),te(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[5]||(m[5]=h=>_.carrier=h)},null,512),[[le,_.carrier]])]),i("div",Bg,[i("label",Kg,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),te(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[6]||(m[6]=h=>_.tracking_number=h)},null,512),[[le,_.tracking_number]])]),i("div",jg,[i("label",Jg,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),te(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":m[7]||(m[7]=h=>_.tracking_url=h)},null,512),[[le,_.tracking_url]])]),i("label",Wg,[te(i("input",{type:"checkbox","onUpdate:modelValue":m[8]||(m[8]=h=>_.markFulfilled=h)},null,512),[[At,_.markFulfilled]]),Xe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)]),i("div",qg,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!ie.value||e.state.saving,onClick:L},[m[16]||(m[16]=i("i",{class:"fa-solid fa-truck"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,zg)])]),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(R(),M("section",Qg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",Zg,[(R(!0),M(Se,null,ve(e.state.activeOrder.transactions,h=>(R(),M("li",{key:h.id},[i("div",eC,d(h.gateway)+"  "+d(v(h.amount_cents,e.state.activeOrder.currency)),1),i("div",tC,d(Ee(h))+"  "+d(U(h.created)),1)]))),128))])])):Te("",!0),i("section",nC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:ut(Q,["prevent"])},[te(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":m[9]||(m[9]=h=>u.value=h),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,sC),[[le,u.value]]),i("div",iC,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[m[17]||(m[17]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,oC)])],32)]),i("section",aC,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),Ae.value.length?(R(),M("ul",rC,[(R(!0),M(Se,null,ve(Ae.value,h=>(R(),M("li",{key:h.key},[i("div",lC,d(h.label),1),i("div",cC,d(U(h.created)),1)]))),128))])):(R(),M("p",dC,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):Te("",!0)]))]))}},[["__scopeId","data-v-62066b2c"]]),pC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},_C={class:"nxp-ec-admin-panel__header"},fC={class:"nxp-ec-admin-panel__title"},hC={class:"nxp-ec-admin-panel__lead"},mC={class:"nxp-ec-admin-panel__actions"},gC=["placeholder","aria-label"],CC=["disabled","title","aria-label"],SC={class:"nxp-ec-sr-only"},EC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bC={key:1,class:"nxp-ec-admin-panel__body"},AC={key:2,class:"nxp-ec-admin-panel__body"},TC={class:"nxp-ec-admin-panel__table"},yC={class:"nxp-ec-admin-table"},OC={scope:"col"},RC={scope:"col"},vC={scope:"col"},xC={scope:"col"},NC={scope:"col"},PC={key:0},MC={colspan:"5"},kC={scope:"row"},IC=["onClick"],wC={key:0,class:"nxp-ec-admin-pagination"},$C=["disabled"],UC={class:"nxp-ec-admin-pagination__status"},DC=["disabled"],LC=["title"],YC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},XC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},FC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},GC={class:"nxp-ec-admin-panel__sidebar-header"},VC=["title","aria-label"],HC={class:"nxp-ec-sr-only"},BC={class:"nxp-ec-admin-panel__section"},KC={class:"nxp-ec-admin-summary"},jC={class:"nxp-ec-admin-panel__section"},JC={class:"nxp-ec-admin-address"},WC={class:"nxp-ec-admin-panel__section"},qC={key:0,class:"nxp-ec-admin-address"},zC={key:1,class:"nxp-ec-admin-panel__muted"},QC={class:"nxp-ec-admin-panel__section"},ZC={key:0,class:"nxp-ec-admin-list"},eS={class:"nxp-ec-admin-list__title"},tS={class:"nxp-ec-admin-list__meta"},nS={key:1,class:"nxp-ec-admin-panel__muted"},sS=yt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=(x,P)=>{const X=(Number(x)||0)/100,J=(P||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:J}).format(X)}catch(y){return`${J} ${X.toFixed(2)}`}},l=x=>{if(!x)return"";const P=new Date(x);return Number.isNaN(P.getTime())?x:P.toLocaleString()},u=x=>!x||typeof x!="object"?[]:Object.entries(x).filter(([,P])=>P!=null&&`${P}`.trim()!=="").map(([P,X])=>({key:P,value:`${X}`.trim()})),p=x=>{if(!x)return"";const P=`COM_NXPEASYCART_ORDERS_STATE_${String(x).toUpperCase()}`;return n(P,x)},f=()=>o("refresh"),_=()=>o("search"),c=x=>o("page",x),b=x=>o("view",x),v=()=>o("close"),U=x=>{if(!x)return"";try{const P=new Date(x),J=new Date-P,y=Math.floor(J/1e3),I=Math.floor(y/60),$=Math.floor(I/60);return y<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):I<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[I]):$<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[$]):P.toLocaleString()}catch(P){return x}};return(x,P)=>{var X,J,y;return R(),M("section",pC,[i("header",_C,[i("div",null,[i("h2",fC,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",hC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",mC,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":P[0]||(P[0]=I=>e.state.search=I),onKeyup:qt(_,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,gC),[[le,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:f,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[P[3]||(P[3]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",SC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,CC)])]),e.state.error?(R(),M("div",EC,d(e.state.error),1)):e.state.loading?(R(),M("div",bC,[Be(Dn,{type:"table",rows:5,columns:5})])):(R(),M("div",AC,[i("div",TC,[i("table",yC,[i("thead",null,[i("tr",null,[i("th",OC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",RC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",vC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",xC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",NC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?Te("",!0):(R(),M("tr",PC,[i("td",MC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(R(!0),M(Se,null,ve(e.state.items,I=>{var $;return R(),M("tr",{key:I.email,class:Me({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===I.email})},[i("th",kC,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:ie=>b(I)},d(I.email),9,IC)]),i("td",null,d((($=I.meta)==null?void 0:$.name)||""),1),i("td",null,d(I.orders_count),1),i("td",null,d(a(I.total_spent_cents,I.currency||e.baseCurrency)),1),i("td",null,d(l(I.last_order)),1)],2)}),128))])]),e.state.pagination.pages>1?(R(),M("div",wC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:P[1]||(P[1]=I=>c(e.state.pagination.current-1))},"  ",8,$C),i("span",UC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:P[2]||(P[2]=I=>c(e.state.pagination.current+1))},"  ",8,DC)])):Te("",!0)]),e.state.lastUpdated?(R(),M("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(U(e.state.lastUpdated)),9,LC)):Te("",!0),e.state.activeCustomer?(R(),M("div",YC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:v}),i("div",XC,[i("aside",FC,[i("header",GC,[i("h3",null,d(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:v,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[P[4]||(P[4]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",HC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,VC)]),i("section",BC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",KC,[i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,d(((X=e.state.activeCustomer.meta)==null?void 0:X.name)||""),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,d(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,d(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,d(l(e.state.activeCustomer.last_order)),1)])])]),i("section",jC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",JC,[(R(!0),M(Se,null,ve(u((J=e.state.activeCustomer.meta)==null?void 0:J.billing),I=>(R(),M("span",{key:I.key},d(I.value),1))),128))])]),i("section",WC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(y=e.state.activeCustomer.meta)!=null&&y.shipping?(R(),M("address",qC,[(R(!0),M(Se,null,ve(u(e.state.activeCustomer.meta.shipping),I=>(R(),M("span",{key:I.key},d(I.value),1))),128))])):(R(),M("p",zC,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",QC,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(R(),M("ul",ZC,[(R(!0),M(Se,null,ve(e.state.activeCustomer.orders,I=>(R(),M("li",{key:I.id},[i("div",eS,d(I.order_no)+"  "+d(a(I.total_cents,I.currency||e.baseCurrency)),1),i("div",tS,d(p(I.state))+"  "+d(l(I.created)),1)]))),128))])):(R(),M("p",nS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))])])])])):Te("",!0)]))])}}},[["__scopeId","data-v-f2676e0d"]]),iS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},oS={class:"nxp-ec-admin-panel__header"},aS={class:"nxp-ec-admin-panel__title"},rS={class:"nxp-ec-admin-panel__lead"},lS={class:"nxp-ec-admin-panel__actions"},cS=["placeholder","aria-label"],dS=["disabled","title","aria-label"],uS={class:"nxp-ec-sr-only"},pS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},_S={key:1,class:"nxp-ec-admin-panel__loading"},fS={key:2,class:"nxp-ec-admin-panel__body"},hS={class:"nxp-ec-admin-panel__table"},mS={class:"nxp-ec-admin-table"},gS={scope:"col"},CS={scope:"col"},SS={scope:"col"},ES={scope:"col"},bS={scope:"col"},AS={scope:"col"},TS={key:0},yS={colspan:"7"},OS={scope:"row"},RS={class:"nxp-ec-admin-table__actions"},vS=["onClick","title","aria-label"],xS={class:"nxp-ec-sr-only"},NS=["onClick","title","aria-label"],PS={class:"nxp-ec-sr-only"},MS={key:0,class:"nxp-ec-admin-pagination"},kS=["disabled"],IS={class:"nxp-ec-admin-pagination__status"},wS=["disabled"],$S={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},US={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},DS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},LS={class:"nxp-ec-admin-panel__sidebar-header"},YS=["title","aria-label"],XS={class:"nxp-ec-sr-only"},FS={class:"nxp-ec-form-field"},GS={class:"nxp-ec-form-label",for:"coupon-code"},VS={class:"nxp-ec-form-field"},HS={class:"nxp-ec-form-label",for:"coupon-type"},BS={value:"percent"},KS={value:"fixed"},jS={class:"nxp-ec-form-field"},JS={class:"nxp-ec-form-label",for:"coupon-value"},WS={class:"nxp-ec-form-field"},qS={class:"nxp-ec-form-label",for:"coupon-min-total"},zS={class:"nxp-ec-form-field"},QS={class:"nxp-ec-form-label",for:"coupon-start"},ZS={class:"nxp-ec-form-field"},eE={class:"nxp-ec-form-label",for:"coupon-end"},tE={class:"nxp-ec-form-field"},nE={class:"nxp-ec-form-label",for:"coupon-max-uses"},sE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iE={class:"nxp-ec-form-label",for:"coupon-active"},oE={class:"nxp-ec-modal__actions"},aE=["disabled"],rE=["disabled"],lE=["disabled"],cE=yt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=he(()=>(s.baseCurrency||"USD").toUpperCase()),l=we({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=he(()=>l.open),p=()=>o("refresh"),f=()=>o("search"),_=y=>o("page",y),c=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},b=y=>{var I,$;Object.assign(l,{open:!0,id:y.id,code:y.code,type:y.type,value:y.value,min_total:($=y.min_total)!=null?$:((I=y.min_total_cents)!=null?I:0)/100,start:y.start?y.start.substring(0,10):"",end:y.end?y.end.substring(0,10):"",max_uses:y.max_uses,active:y.active})},v=()=>{l.open=!1},U=()=>{const y={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",y)},x=y=>{const I=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(I)&&(o("delete",[y.id]),l.id===y.id&&v())},P=(y,I)=>{const $=(Number(y)||0)/100,ie=(I||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ie}).format($)}catch(oe){return`${ie} ${$.toFixed(2)}`}},X=y=>y.type==="percent"?`${y.value}%`:P(y.value*100,a.value),J=y=>y==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Le(()=>s.state.saving,(y,I)=>{I&&!y&&!s.state.error&&l.open&&v()}),(y,I)=>(R(),M("section",iS,[i("header",oS,[i("div",null,[i("h2",aS,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",rS,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",lS,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":I[0]||(I[0]=$=>e.state.search=$),onKeyup:qt(f,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,cS),[[le,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[I[12]||(I[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",uS,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,dS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:c},[I[13]||(I[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(R(),M("div",pS,d(e.state.error),1)):e.state.loading?(R(),M("div",_S,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(R(),M("div",fS,[i("div",hS,[i("table",mS,[i("thead",null,[i("tr",null,[i("th",gS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",CS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",SS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",ES,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",bS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",AS,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),I[14]||(I[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?Te("",!0):(R(),M("tr",TS,[i("td",yS,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(R(!0),M(Se,null,ve(e.state.items,$=>(R(),M("tr",{key:$.id,class:Me({"is-active":l.id===$.id})},[i("th",OS,d($.code),1),i("td",null,d(J($.type)),1),i("td",null,d(X($)),1),i("td",null,d(P($.min_total_cents,a.value)),1),i("td",null,[i("span",{class:Me(["nxp-ec-badge",{"is-active":$.active}])},[i("i",{class:Me($.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Xe(" "+d($.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)]),i("td",null,d($.times_used)+d($.max_uses?` / ${$.max_uses}`:""),1),i("td",RS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ie=>b($),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[I[15]||(I[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",xS,d(r(n)("JEDIT","Edit")),1)],8,vS),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ie=>x($),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[I[16]||(I[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",PS,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,NS)])],2))),128))])]),e.state.pagination.pages>1?(R(),M("div",MS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:I[1]||(I[1]=$=>_(e.state.pagination.current-1))},"  ",8,kS),i("span",IS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:I[2]||(I[2]=$=>_(e.state.pagination.current+1))},"  ",8,wS)])):Te("",!0)]),u.value?(R(),M("div",$S,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:v}),i("div",US,[i("aside",DS,[i("header",LS,[i("h3",null,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:v,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[I[17]||(I[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",XS,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,YS)]),i("form",{class:"nxp-ec-form",onSubmit:ut(U,["prevent"]),autocomplete:"off"},[i("div",FS,[i("label",GS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),te(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":I[3]||(I[3]=$=>l.code=$),required:"",maxlength:"64"},null,512),[[le,l.code,void 0,{trim:!0}]])]),i("div",VS,[i("label",HS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),te(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":I[4]||(I[4]=$=>l.type=$)},[i("option",BS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",KS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[Tt,l.type]])]),i("div",jS,[i("label",JS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),te(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":I[5]||(I[5]=$=>l.value=$),required:""},null,512),[[le,l.value,void 0,{number:!0}]])]),i("div",WS,[i("label",qS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),te(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":I[6]||(I[6]=$=>l.min_total=$)},null,512),[[le,l.min_total,void 0,{number:!0}]])]),i("div",zS,[i("label",QS,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),te(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":I[7]||(I[7]=$=>l.start=$)},null,512),[[le,l.start]])]),i("div",ZS,[i("label",eE,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),te(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":I[8]||(I[8]=$=>l.end=$)},null,512),[[le,l.end]])]),i("div",tE,[i("label",nE,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),te(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":I[9]||(I[9]=$=>l.max_uses=$)},null,512),[[le,l.max_uses,void 0,{number:!0}]])]),i("div",sE,[i("label",iE,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),te(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":I[10]||(I[10]=$=>l.active=$)},null,512),[[At,l.active]])]),i("footer",oE,[i("button",{class:"nxp-ec-btn",type:"button",onClick:v,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,aE),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,rE)]),l.id?(R(),M("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:I[11]||(I[11]=$=>x(l)),disabled:e.state.saving},[I[18]||(I[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Xe(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,lE)):Te("",!0)],32)])])])):Te("",!0)]))]))}},[["__scopeId","data-v-f3fb8685"]]),dE={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},uE={class:"nxp-ec-admin-panel__header"},pE={class:"nxp-ec-admin-panel__title"},_E={class:"nxp-ec-admin-panel__lead"},fE={class:"nxp-ec-settings-tabs"},hE={key:0,class:"nxp-ec-settings-panel"},mE={class:"nxp-ec-settings-panel__header"},gE=["disabled"],CE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},SE={key:1,class:"nxp-ec-admin-panel__loading"},EE={class:"nxp-ec-form-field"},bE={class:"nxp-ec-form-label",for:"settings-store-name"},AE={class:"nxp-ec-form-field"},TE={class:"nxp-ec-form-label",for:"settings-store-email"},yE={class:"nxp-ec-form-field"},OE={class:"nxp-ec-form-label",for:"settings-store-phone"},RE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vE={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},xE={class:"nxp-ec-form-help"},NE={class:"nxp-ec-form-field"},PE={class:"nxp-ec-form-label",for:"settings-base-currency"},ME={class:"nxp-ec-form-help"},kE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},IE={class:"nxp-ec-form-label",for:"settings-payments-configured"},wE={class:"nxp-ec-form-help"},$E={class:"nxp-ec-settings-actions"},UE=["disabled"],DE=["disabled"],LE={key:1,class:"nxp-ec-settings-panel"},YE={class:"nxp-ec-settings-panel__header"},XE=["disabled"],FE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},GE={class:"nxp-ec-form-help"},VE={class:"nxp-ec-form-grid"},HE={class:"nxp-ec-form-field"},BE={class:"nxp-ec-form-label",for:"settings-checkout-window"},KE={class:"nxp-ec-form-help"},jE={class:"nxp-ec-form-field"},JE={class:"nxp-ec-form-label",for:"settings-offline-window"},WE={class:"nxp-ec-form-help"},qE={class:"nxp-ec-form-grid"},zE={class:"nxp-ec-form-field"},QE={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},ZE={class:"nxp-ec-form-field"},eb={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},tb={class:"nxp-ec-form-field"},nb={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},sb={class:"nxp-ec-form-grid"},ib={class:"nxp-ec-form-field"},ob={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},ab={class:"nxp-ec-form-field"},rb={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},lb={class:"nxp-ec-settings-actions"},cb=["disabled"],db=["disabled"],ub={key:2,class:"nxp-ec-settings-panel"},pb={class:"nxp-ec-settings-panel__header"},_b=["disabled"],fb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hb={key:1,class:"nxp-ec-settings-grid"},mb={class:"nxp-ec-settings-table"},gb={class:"nxp-ec-admin-table"},Cb={scope:"col"},Sb={scope:"col"},Eb={scope:"col"},bb={scope:"col"},Ab={scope:"col"},Tb={key:0},yb={colspan:"6"},Ob={scope:"row"},Rb={class:"nxp-ec-admin-table__actions"},vb=["onClick","title","aria-label"],xb={class:"nxp-ec-sr-only"},Nb=["onClick","title","aria-label"],Pb={class:"nxp-ec-sr-only"},Mb={class:"nxp-ec-form-field"},kb={class:"nxp-ec-form-label",for:"tax-country"},Ib={class:"nxp-ec-form-field"},wb={class:"nxp-ec-form-label",for:"tax-region"},$b={class:"nxp-ec-form-field"},Ub={class:"nxp-ec-form-label",for:"tax-rate"},Db={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Lb={class:"nxp-ec-form-label",for:"tax-inclusive"},Yb={class:"nxp-ec-form-field"},Xb={class:"nxp-ec-form-label",for:"tax-priority"},Fb={class:"nxp-ec-settings-actions"},Gb=["disabled"],Vb=["disabled"],Hb={key:3,class:"nxp-ec-settings-panel"},Bb={class:"nxp-ec-settings-panel__header"},Kb=["disabled"],jb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Jb={key:1,class:"nxp-ec-settings-grid"},Wb={class:"nxp-ec-settings-table"},qb={class:"nxp-ec-admin-table"},zb={scope:"col"},Qb={scope:"col"},Zb={scope:"col"},eA={scope:"col"},tA={scope:"col"},nA={scope:"col"},sA={key:0},iA={colspan:"7"},oA={scope:"row"},aA={class:"nxp-ec-admin-table__actions"},rA=["onClick","title","aria-label"],lA={class:"nxp-ec-sr-only"},cA=["onClick","title","aria-label"],dA={class:"nxp-ec-sr-only"},uA={class:"nxp-ec-form-field"},pA={class:"nxp-ec-form-label",for:"shipping-name"},_A={class:"nxp-ec-form-field"},fA={class:"nxp-ec-form-label",for:"shipping-type"},hA={value:"flat"},mA={value:"free_over"},gA={class:"nxp-ec-form-field"},CA={class:"nxp-ec-form-label",for:"shipping-price"},SA={key:0,class:"nxp-ec-form-field"},EA={class:"nxp-ec-form-label",for:"shipping-threshold"},bA={class:"nxp-ec-form-field"},AA={class:"nxp-ec-form-label",for:"shipping-regions"},TA=["placeholder"],yA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},OA={class:"nxp-ec-form-label",for:"shipping-active"},RA={class:"nxp-ec-settings-actions"},vA=["disabled"],xA=["disabled"],NA={key:4,class:"nxp-ec-settings-panel"},PA={class:"nxp-ec-settings-panel__header"},MA={class:"nxp-ec-settings-actions"},kA=["disabled"],IA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},wA={key:1,class:"nxp-ec-admin-panel__loading"},$A={class:"nxp-ec-form-field"},UA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},DA={class:"nxp-ec-form-field"},LA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},YA={class:"nxp-ec-form-field"},XA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},FA={class:"nxp-ec-form-help"},GA={class:"nxp-ec-form-field"},VA={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},HA={value:"test"},BA={value:"live"},KA={class:"nxp-ec-form-field"},jA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},JA={class:"nxp-ec-form-field"},WA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},qA={class:"nxp-ec-form-field"},zA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},QA={class:"nxp-ec-form-help"},ZA={class:"nxp-ec-form-field"},eT={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},tT={value:"sandbox"},nT={value:"live"},sT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iT={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},oT={class:"nxp-ec-form-field"},aT={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},rT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},lT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},cT={class:"nxp-ec-form-field"},dT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},uT={class:"nxp-ec-form-field"},pT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},_T=["placeholder"],fT={class:"nxp-ec-form-help"},hT={class:"nxp-ec-form-grid"},mT={class:"nxp-ec-form-field"},gT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},CT={class:"nxp-ec-form-field"},ST={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},ET={class:"nxp-ec-form-field"},bT={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},AT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},TT={class:"nxp-ec-settings-actions"},yT=["disabled"],OT=["disabled"],RT={key:5,class:"nxp-ec-settings-panel"},vT={class:"nxp-ec-settings-panel__header"},xT=["disabled"],NT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},PT={key:1,class:"nxp-ec-admin-panel__loading"},MT={class:"nxp-ec-form-help"},kT={class:"nxp-ec-form-help nxp-ec-form-help--muted"},IT={class:"nxp-ec-visual-grid"},wT={class:"nxp-ec-visual-field"},$T={class:"nxp-ec-form-label",for:"visual-primary-color"},UT={class:"nxp-ec-color-input-group"},DT=["value"],LT=["placeholder"],YT={class:"nxp-ec-visual-field"},XT={class:"nxp-ec-form-label",for:"visual-text-color"},FT={class:"nxp-ec-color-input-group"},GT=["value"],VT=["placeholder"],HT={class:"nxp-ec-visual-field"},BT={class:"nxp-ec-form-label",for:"visual-surface-color"},KT={class:"nxp-ec-color-input-group"},jT=["value"],JT=["placeholder"],WT={class:"nxp-ec-visual-field"},qT={class:"nxp-ec-form-label",for:"visual-border-color"},zT={class:"nxp-ec-color-input-group"},QT=["value"],ZT=["placeholder"],ey={class:"nxp-ec-visual-field"},ty={class:"nxp-ec-form-label",for:"visual-muted-color"},ny={class:"nxp-ec-color-input-group"},sy=["value"],iy=["placeholder"],oy={class:"nxp-ec-visual-preview"},ay={type:"button",class:"nxp-ec-preview-btn"},ry={class:"nxp-ec-preview-text"},ly={class:"nxp-ec-preview-muted"},cy={class:"nxp-ec-settings-actions"},dy=["disabled"],uy=["disabled"],py=yt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.settingsState,l=s.taxState,u=s.shippingState,p=s.paymentsState,f=He("general"),_=he(()=>{var C;const E=s.baseCurrency||"USD",m=typeof c.baseCurrency=="string"?c.baseCurrency.trim():"",h=typeof((C=a==null?void 0:a.values)==null?void 0:C.base_currency)=="string"?a.values.base_currency.trim():"";return(m!==""?m:h!==""?h:E).toUpperCase()}),c=we({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,baseCurrency:""}),b=we({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),v=we({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),U=we({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),x=we({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),P=we({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),X=he(()=>{var m,h;const E=(h=(m=a.values)==null?void 0:m.visual_defaults)!=null?h:{};return{primary:E.primary_color||"#4f6d7a",text:E.text_color||"#1f2933",surface:E.surface_color||"#ffffff",border:E.border_color||"#e4e7ec",muted:E.muted_color||"#6b7280"}}),J=he(()=>({"--nxp-ec-color-primary":P.primaryColor||X.value.primary,"--nxp-ec-color-text":P.textColor||X.value.text,"--nxp-ec-color-surface":P.surfaceColor||X.value.surface,"--nxp-ec-color-border":P.borderColor||X.value.border,"--nxp-ec-color-muted":P.mutedColor||X.value.muted})),y=(E={})=>{var S,N,w,k,G,A,g,T,O,Y,D,z,B,re;const m=(S=E==null?void 0:E.store)!=null?S:{},h=(N=E==null?void 0:E.payments)!=null?N:{},de=(w=E==null?void 0:E.visual)!=null?w:{},C=(G=(k=E==null?void 0:E.security)==null?void 0:k.rate_limits)!=null?G:{};Object.assign(c,{storeName:(A=m.name)!=null?A:"",storeEmail:(g=m.email)!=null?g:"",storePhone:(T=m.phone)!=null?T:"",checkoutPhoneRequired:!!((O=E==null?void 0:E.checkout_phone_required)!=null&&O),paymentsConfigured:!!h.configured,baseCurrency:typeof(E==null?void 0:E.base_currency)=="string"?E.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase()}),Object.assign(P,{primaryColor:(Y=de.primary_color)!=null?Y:"",textColor:(D=de.text_color)!=null?D:"",surfaceColor:(z=de.surface_color)!=null?z:"",borderColor:(B=de.border_color)!=null?B:"",mutedColor:(re=de.muted_color)!=null?re:""}),Object.assign(b,{checkoutWindowMinutes:Number.isFinite(Number(C.checkout_window_minutes))?Number(C.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(C.checkout_ip_limit))?Number(C.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(C.checkout_email_limit))?Number(C.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(C.checkout_session_limit))?Number(C.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(C.offline_window_minutes))?Number(C.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(C.offline_ip_limit))?Number(C.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(C.offline_email_limit))?Number(C.offline_email_limit):5})},I=(E={})=>{var S,N,w,k,G,A,g,T,O,Y,D,z,B,re,fe,ge,ye,Ne,ke,Ke,at,We,Ye,$e;const m=(S=E.stripe)!=null?S:{},h=(N=E.paypal)!=null?N:{},de=(w=E.cod)!=null?w:{},C=(k=E.bank_transfer)!=null?k:{};Object.assign(x.stripe,{publishable_key:(G=m.publishable_key)!=null?G:"",secret_key:(A=m.secret_key)!=null?A:"",webhook_secret:(g=m.webhook_secret)!=null?g:"",mode:(T=m.mode)!=null?T:"test"}),Object.assign(x.paypal,{client_id:(O=h.client_id)!=null?O:"",client_secret:(Y=h.client_secret)!=null?Y:"",webhook_id:(D=h.webhook_id)!=null?D:"",mode:(z=h.mode)!=null?z:"sandbox"}),Object.assign(x.cod,{enabled:de.enabled!==void 0?!!de.enabled:x.cod.enabled,label:(re=(B=de.label)!=null?B:x.cod.label)!=null?re:"Cash on delivery"}),Object.assign(x.bank_transfer,{enabled:C.enabled!==void 0?!!C.enabled:x.bank_transfer.enabled,label:(ge=(fe=C.label)!=null?fe:x.bank_transfer.label)!=null?ge:"Bank transfer",instructions:(Ne=(ye=C.instructions)!=null?ye:x.bank_transfer.instructions)!=null?Ne:"",account_name:(Ke=(ke=C.account_name)!=null?ke:x.bank_transfer.account_name)!=null?Ke:"",iban:(We=(at=C.iban)!=null?at:x.bank_transfer.iban)!=null?We:"",bic:($e=(Ye=C.bic)!=null?Ye:x.bank_transfer.bic)!=null?$e:""})};Le(()=>a.values,E=>{y(E!=null?E:{})},{immediate:!0});const $=()=>o("refresh-settings"),ie=()=>{const E=(c.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:c.storeName,email:c.storeEmail,phone:c.storePhone,base_currency:E},payments:{configured:c.paymentsConfigured},base_currency:E,checkout_phone_required:c.checkoutPhoneRequired})},oe=()=>{var E;y((E=a.values)!=null?E:{})},ce=()=>{const E=(m,h=0)=>{const de=Number(m);return Number.isFinite(de)&&de>=0?de:h};o("save-settings",{security:{rate_limits:{checkout_window_minutes:E(b.checkoutWindowMinutes,15),checkout_ip_limit:E(b.checkoutIpLimit,10),checkout_email_limit:E(b.checkoutEmailLimit,5),checkout_session_limit:E(b.checkoutSessionLimit,15),offline_window_minutes:E(b.offlineWindowMinutes,240),offline_ip_limit:E(b.offlineIpLimit,10),offline_email_limit:E(b.offlineEmailLimit,5)}}})},me=()=>{var E;y((E=a.values)!=null?E:{})};Le(()=>a.saving,(E,m)=>{var h;m&&!E&&!a.error&&y((h=a.values)!=null?h:{})}),Le(()=>c.baseCurrency,E=>{if(typeof E=="string"){const m=E.replace(/[^A-Za-z]/g,"").toUpperCase();m!==E&&(c.baseCurrency=m)}}),Le(()=>p.config,E=>{I(E!=null?E:{})},{immediate:!0}),Le(()=>p.saving,(E,m)=>{var h;m&&!E&&!p.error&&I((h=p.config)!=null?h:{})});const j=()=>o("refresh-payments"),V=()=>{const E=JSON.parse(JSON.stringify(x));o("save-payments",E)},W=()=>{var E;I((E=p.config)!=null?E:{})},F=()=>o("refresh-settings"),ne=()=>{o("save-settings",{visual:{primary_color:P.primaryColor,text_color:P.textColor,surface_color:P.surfaceColor,border_color:P.borderColor,muted_color:P.mutedColor}})},pe=()=>{var m,h,de,C,S,N,w;const E=(h=(m=a.values)==null?void 0:m.visual)!=null?h:{};Object.assign(P,{primaryColor:(de=E.primary_color)!=null?de:"",textColor:(C=E.text_color)!=null?C:"",surfaceColor:(S=E.surface_color)!=null?S:"",borderColor:(N=E.border_color)!=null?N:"",mutedColor:(w=E.muted_color)!=null?w:""})},se=()=>o("refresh-tax"),q=()=>o("refresh-shipping"),Z=E=>{Object.assign(v,{id:E.id,country:E.country,region:E.region,rate:E.rate,inclusive:E.inclusive,priority:E.priority})},Q=()=>{Object.assign(v,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},ue=()=>{o("save-tax",{id:v.id||void 0,country:v.country,region:v.region,rate:v.rate,inclusive:v.inclusive,priority:v.priority})},L=E=>{const m=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(m)&&(o("delete-tax",[E.id]),v.id===E.id&&Q())};Le(()=>l.saving,(E,m)=>{m&&!E&&!l.error&&Q()});const K=E=>{var m,h,de;Object.assign(U,{id:E.id,name:E.name,type:E.type,price:(h=E.price)!=null?h:((m=E.price_cents)!=null?m:0)/100,threshold:E.threshold!==null&&E.threshold!==void 0?E.threshold:((de=E.threshold_cents)!=null?de:0)/100,regions:E.regions&&E.regions.length?E.regions.join(", "):"",active:E.active})},ee=()=>{Object.assign(U,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},_e=()=>{const E={id:U.id||void 0,name:U.name,type:U.type,price:U.price,threshold:U.type==="free_over"?U.threshold:0,regions:U.regions,active:U.active};o("save-shipping",E)},Ae=E=>{const m=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(m)&&(o("delete-shipping",[E.id]),U.id===E.id&&ee())};Le(()=>u.saving,(E,m)=>{m&&!E&&!u.error&&ee()});const Ee=(E,m)=>{const h=(Number(E)||0)/100,de=(m||"").toUpperCase()||_.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:de}).format(h)}catch(C){return`${de} ${h.toFixed(2)}`}},Re=E=>E==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(E,m)=>(R(),M("section",dE,[i("header",uE,[i("div",null,[i("h2",pE,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",_E,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",fE,[i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="general"}]),onClick:m[0]||(m[0]=h=>f.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="security"}]),onClick:m[1]||(m[1]=h=>f.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="tax"}]),onClick:m[2]||(m[2]=h=>f.value="tax")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="shipping"}]),onClick:m[3]||(m[3]=h=>f.value="shipping")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="payments"}]),onClick:m[4]||(m[4]=h=>f.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Me(["nxp-ec-settings-tab",{"is-active":f.value==="visual"}]),onClick:m[5]||(m[5]=h=>f.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),f.value==="general"?(R(),M("div",hE,[i("header",mE,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:$,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,gE)]),r(a).error?(R(),M("div",CE,d(r(a).error),1)):r(a).loading?(R(),M("div",SE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(R(),M("form",{key:2,class:"nxp-ec-settings-form",onSubmit:ut(ie,["prevent"])},[i("div",EE,[i("label",bE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),te(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[6]||(m[6]=h=>c.storeName=h),maxlength:"190"},null,512),[[le,c.storeName,void 0,{trim:!0}]])]),i("div",AE,[i("label",TE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),te(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":m[7]||(m[7]=h=>c.storeEmail=h)},null,512),[[le,c.storeEmail,void 0,{trim:!0}]])]),i("div",yE,[i("label",OE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),te(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[8]||(m[8]=h=>c.storePhone=h),maxlength:"64"},null,512),[[le,c.storePhone,void 0,{trim:!0}]])]),i("div",RE,[i("label",vE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),te(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[9]||(m[9]=h=>c.checkoutPhoneRequired=h)},null,512),[[At,c.checkoutPhoneRequired]]),i("p",xE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",NE,[i("label",PE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),te(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":m[10]||(m[10]=h=>c.baseCurrency=h),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[le,c.baseCurrency,void 0,{trim:!0}]]),i("p",ME,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",kE,[i("label",IE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),te(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[11]||(m[11]=h=>c.paymentsConfigured=h)},null,512),[[At,c.paymentsConfigured]]),i("p",wE,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",$E,[i("button",{class:"nxp-ec-btn",type:"button",onClick:oe,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,UE),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,DE)])],32))])):f.value==="security"?(R(),M("div",LE,[i("header",YE,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:$,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,XE)]),r(a).error?(R(),M("div",FE,d(r(a).error),1)):(R(),M("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:ut(ce,["prevent"])},[i("p",GE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",VE,[i("div",HE,[i("label",BE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),te(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[12]||(m[12]=h=>b.checkoutWindowMinutes=h)},null,512),[[le,b.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",KE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",jE,[i("label",JE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),te(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[13]||(m[13]=h=>b.offlineWindowMinutes=h)},null,512),[[le,b.offlineWindowMinutes,void 0,{number:!0}]]),i("p",WE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",qE,[i("div",zE,[i("label",QE,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),te(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[14]||(m[14]=h=>b.checkoutIpLimit=h)},null,512),[[le,b.checkoutIpLimit,void 0,{number:!0}]])]),i("div",ZE,[i("label",eb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),te(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[15]||(m[15]=h=>b.checkoutEmailLimit=h)},null,512),[[le,b.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",tb,[i("label",nb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),te(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[16]||(m[16]=h=>b.checkoutSessionLimit=h)},null,512),[[le,b.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",sb,[i("div",ib,[i("label",ob,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),te(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[17]||(m[17]=h=>b.offlineIpLimit=h)},null,512),[[le,b.offlineIpLimit,void 0,{number:!0}]])]),i("div",ab,[i("label",rb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),te(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":m[18]||(m[18]=h=>b.offlineEmailLimit=h)},null,512),[[le,b.offlineEmailLimit,void 0,{number:!0}]])])]),i("div",lb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:me,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,cb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,db)])],32))])):f.value==="tax"?(R(),M("div",ub,[i("header",pb,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:se,disabled:r(l).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,_b)]),r(l).error?(R(),M("div",fb,d(r(l).error),1)):(R(),M("div",hb,[i("div",mb,[i("table",gb,[i("thead",null,[i("tr",null,[i("th",Cb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",Sb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",Eb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",bb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",Ab,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),m[61]||(m[61]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(l).items.length?Te("",!0):(R(),M("tr",Tb,[i("td",yb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(R(!0),M(Se,null,ve(r(l).items,h=>{var de;return R(),M("tr",{key:h.id,class:Me({"is-active":v.id===h.id})},[i("th",Ob,d(h.country),1),i("td",null,d(h.region||""),1),i("td",null,d(((de=h.rate)!=null?de:0).toFixed(2))+"%",1),i("td",null,d(h.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1),i("td",null,d(h.priority),1),i("td",Rb,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:C=>Z(h),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[m[62]||(m[62]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",xb,d(r(n)("JEDIT","Edit")),1)],8,vb),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:C=>L(h),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[m[63]||(m[63]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",Pb,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Nb)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ut(ue,["prevent"])},[i("h4",null,d(v.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",Mb,[i("label",kb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),te(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[19]||(m[19]=h=>v.country=h),maxlength:"2",required:""},null,512),[[le,v.country,void 0,{trim:!0}]])]),i("div",Ib,[i("label",wb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),te(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[20]||(m[20]=h=>v.region=h)},null,512),[[le,v.region,void 0,{trim:!0}]])]),i("div",$b,[i("label",Ub,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),te(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[21]||(m[21]=h=>v.rate=h),required:""},null,512),[[le,v.rate,void 0,{number:!0}]])]),i("div",Db,[i("label",Lb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),te(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[22]||(m[22]=h=>v.inclusive=h)},null,512),[[At,v.inclusive]])]),i("div",Yb,[i("label",Xb,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),te(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":m[23]||(m[23]=h=>v.priority=h)},null,512),[[le,v.priority,void 0,{number:!0}]])]),i("div",Fb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Q,disabled:r(l).saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,Gb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(l).saving},d(r(l).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,Vb)])],32)]))])):f.value==="shipping"?(R(),M("div",Hb,[i("header",Bb,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:q,disabled:r(u).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,Kb)]),r(u).error?(R(),M("div",jb,d(r(u).error),1)):(R(),M("div",Jb,[i("div",Wb,[i("table",qb,[i("thead",null,[i("tr",null,[i("th",zb,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",Qb,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",Zb,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",eA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",tA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",nA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),m[64]||(m[64]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(u).items.length?Te("",!0):(R(),M("tr",sA,[i("td",iA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(R(!0),M(Se,null,ve(r(u).items,h=>(R(),M("tr",{key:h.id,class:Me({"is-active":U.id===h.id})},[i("th",oA,d(h.name),1),i("td",null,d(Re(h.type)),1),i("td",null,d(Ee(h.price_cents,_.value)),1),i("td",null,d(h.type==="free_over"?Ee(h.threshold_cents,_.value):""),1),i("td",null,d(h.regions&&h.regions.length?h.regions.join(", "):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,[i("span",{class:Me(["nxp-ec-badge",{"is-active":h.active}])},[i("i",{class:Me(h.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Xe(" "+d(h.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)]),i("td",aA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:de=>K(h),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[m[65]||(m[65]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",lA,d(r(n)("JEDIT","Edit")),1)],8,rA),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:de=>Ae(h),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[m[66]||(m[66]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",dA,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,cA)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:ut(_e,["prevent"])},[i("h4",null,d(U.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",uA,[i("label",pA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),te(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[24]||(m[24]=h=>U.name=h),required:""},null,512),[[le,U.name,void 0,{trim:!0}]])]),i("div",_A,[i("label",fA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),te(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":m[25]||(m[25]=h=>U.type=h)},[i("option",hA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",mA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[Tt,U.type]])]),i("div",gA,[i("label",CA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),te(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[26]||(m[26]=h=>U.price=h),required:""},null,512),[[le,U.price,void 0,{number:!0}]])]),U.type==="free_over"?(R(),M("div",SA,[i("label",EA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),te(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":m[27]||(m[27]=h=>U.threshold=h),required:""},null,512),[[le,U.threshold,void 0,{number:!0}]])])):Te("",!0),i("div",bA,[i("label",AA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),te(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[28]||(m[28]=h=>U.regions=h),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,TA),[[le,U.regions,void 0,{trim:!0}]])]),i("div",yA,[i("label",OA,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),te(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":m[29]||(m[29]=h=>U.active=h)},null,512),[[At,U.active]])]),i("div",RA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ee,disabled:r(u).saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,vA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(u).saving},d(r(u).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,xA)])],32)]))])):f.value==="payments"?(R(),M("div",NA,[i("header",PA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",MA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(p).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,kA)])]),r(p).error?(R(),M("div",IA,d(r(p).error),1)):r(p).loading?(R(),M("div",wA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(R(),M("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:ut(V,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",$A,[i("label",UA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),te(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[30]||(m[30]=h=>x.stripe.publishable_key=h)},null,512),[[le,x.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",DA,[i("label",LA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),te(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":m[31]||(m[31]=h=>x.stripe.secret_key=h),autocomplete:"off"},null,512),[[le,x.stripe.secret_key,void 0,{trim:!0}]])]),i("div",YA,[i("label",XA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),te(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":m[32]||(m[32]=h=>x.stripe.webhook_secret=h),autocomplete:"off"},null,512),[[le,x.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",FA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",GA,[i("label",VA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),te(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":m[33]||(m[33]=h=>x.stripe.mode=h)},[i("option",HA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",BA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Tt,x.stripe.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",KA,[i("label",jA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),te(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[34]||(m[34]=h=>x.paypal.client_id=h)},null,512),[[le,x.paypal.client_id,void 0,{trim:!0}]])]),i("div",JA,[i("label",WA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),te(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":m[35]||(m[35]=h=>x.paypal.client_secret=h),autocomplete:"off"},null,512),[[le,x.paypal.client_secret,void 0,{trim:!0}]])]),i("div",qA,[i("label",zA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),te(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[36]||(m[36]=h=>x.paypal.webhook_id=h)},null,512),[[le,x.paypal.webhook_id,void 0,{trim:!0}]]),i("p",QA,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",ZA,[i("label",eT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),te(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":m[37]||(m[37]=h=>x.paypal.mode=h)},[i("option",tT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",nT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Tt,x.paypal.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",sT,[i("label",iT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),te(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":m[38]||(m[38]=h=>x.cod.enabled=h)},null,512),[[At,x.cod.enabled]])]),i("div",oT,[i("label",aT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),te(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[39]||(m[39]=h=>x.cod.label=h),placeholder:"Cash on delivery"},null,512),[[le,x.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",rT,[i("label",lT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),te(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":m[40]||(m[40]=h=>x.bank_transfer.enabled=h)},null,512),[[At,x.bank_transfer.enabled]])]),i("div",cT,[i("label",dT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),te(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[41]||(m[41]=h=>x.bank_transfer.label=h),placeholder:"Bank transfer"},null,512),[[le,x.bank_transfer.label,void 0,{trim:!0}]])]),i("div",uT,[i("label",pT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),te(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":m[42]||(m[42]=h=>x.bank_transfer.instructions=h),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,_T),[[le,x.bank_transfer.instructions]]),i("p",fT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",hT,[i("div",mT,[i("label",gT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),te(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[43]||(m[43]=h=>x.bank_transfer.account_name=h)},null,512),[[le,x.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",CT,[i("label",ST,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),te(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[44]||(m[44]=h=>x.bank_transfer.iban=h),maxlength:"34"},null,512),[[le,x.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",ET,[i("label",bT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),te(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[45]||(m[45]=h=>x.bank_transfer.bic=h),maxlength:"11"},null,512),[[le,x.bank_transfer.bic,void 0,{trim:!0}]])])])]),r(p).message?(R(),M("div",AT,d(r(p).message),1)):Te("",!0),i("div",TT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:W,disabled:r(p).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,yT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(p).saving},d(r(p).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,OT)])],32))])):f.value==="visual"?(R(),M("div",RT,[i("header",vT,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:F,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,xT)]),r(a).error?(R(),M("div",NT,d(r(a).error),1)):r(a).loading?(R(),M("div",PT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(R(),M("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:ut(ne,["prevent"])},[i("p",MT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",kT,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",IT,[i("div",wT,[i("label",$T,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",UT,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:P.primaryColor||X.value.primary,onInput:m[46]||(m[46]=h=>P.primaryColor=h.target.value)},null,40,DT),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[47]||(m[47]=h=>P.primaryColor=h),placeholder:X.value.primary,maxlength:"7"},null,8,LT),[[le,P.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[48]||(m[48]=h=>P.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",YT,[i("label",XT,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",FT,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:P.textColor||X.value.text,onInput:m[49]||(m[49]=h=>P.textColor=h.target.value)},null,40,GT),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[50]||(m[50]=h=>P.textColor=h),placeholder:X.value.text,maxlength:"7"},null,8,VT),[[le,P.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[51]||(m[51]=h=>P.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",HT,[i("label",BT,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",KT,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:P.surfaceColor||X.value.surface,onInput:m[52]||(m[52]=h=>P.surfaceColor=h.target.value)},null,40,jT),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[53]||(m[53]=h=>P.surfaceColor=h),placeholder:X.value.surface,maxlength:"7"},null,8,JT),[[le,P.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[54]||(m[54]=h=>P.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",WT,[i("label",qT,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",zT,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:P.borderColor||X.value.border,onInput:m[55]||(m[55]=h=>P.borderColor=h.target.value)},null,40,QT),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[56]||(m[56]=h=>P.borderColor=h),placeholder:X.value.border,maxlength:"7"},null,8,ZT),[[le,P.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[57]||(m[57]=h=>P.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",ey,[i("label",ty,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",ny,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:P.mutedColor||X.value.muted,onInput:m[58]||(m[58]=h=>P.mutedColor=h.target.value)},null,40,sy),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":m[59]||(m[59]=h=>P.mutedColor=h),placeholder:X.value.muted,maxlength:"7"},null,8,iy),[[le,P.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:m[60]||(m[60]=h=>P.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",oy,[i("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Yt(J.value)},[i("button",ay,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",ry,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",ly,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",cy,[i("button",{class:"nxp-ec-btn",type:"button",onClick:pe,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,dy),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,uy)])],32))])):Te("",!0)]))}},[["__scopeId","data-v-82cb1677"]]),_y={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},fy={class:"nxp-ec-admin-panel__header"},hy={class:"nxp-ec-admin-panel__title"},my={class:"nxp-ec-admin-panel__lead"},gy={class:"nxp-ec-admin-panel__actions"},Cy=["placeholder","aria-label"],Sy=["value"],Ey={value:""},by=["value"],Ay=["disabled","title","aria-label"],Ty={class:"nxp-ec-sr-only"},yy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Oy={key:1,class:"nxp-ec-admin-panel__body"},Ry={key:2,class:"nxp-ec-admin-panel__body"},vy={class:"nxp-ec-admin-panel__table"},xy={class:"nxp-ec-admin-table"},Ny={scope:"col"},Py={scope:"col"},My={scope:"col"},ky={scope:"col"},Iy={scope:"col"},wy={key:0},$y={colspan:"5"},Uy={class:"nxp-ec-log-entity"},Dy={class:"nxp-ec-log-entity-id"},Ly={class:"nxp-ec-log-context"},Yy={key:0,class:"nxp-ec-admin-pagination"},Xy=["disabled"],Fy={class:"nxp-ec-admin-pagination__status"},Gy=["disabled"],Vy=["title"],Hy=yt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.state,l=he(()=>{const P=new Set;return Array.isArray(a.items)&&a.items.forEach(X=>{X!=null&&X.entity_type&&P.add(X.entity_type)}),a.entity&&P.add(a.entity),Array.from(P).sort()}),u=()=>o("refresh"),p=()=>o("search"),f=P=>o("filter",P),_=P=>o("page",P),c=P=>{if(!P)return"";try{const X=new Date(P.replace(" ","T"));if(!Number.isNaN(X.getTime()))return X.toLocaleString()}catch(X){}return P},b=P=>{if(!P)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(P){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return P.charAt(0).toUpperCase()+P.slice(1)}},v=P=>{if(!(P!=null&&P.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const X=P.user.name||"",J=P.user.username||"";return X&&J?`${X} (${J})`:X||J||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},U=P=>{if(!P||Array.isArray(P)&&!P.length||typeof P=="object"&&!Object.keys(P).length)return"";try{return JSON.stringify(P,null,2)}catch(X){return String(P)}},x=P=>{if(!P)return"";try{const X=new Date(P),y=new Date-X,I=Math.floor(y/1e3),$=Math.floor(I/60),ie=Math.floor($/60);return I<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):$<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[$]):ie<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ie]):X.toLocaleString()}catch(X){return P}};return(P,X)=>(R(),M("section",_y,[i("header",fy,[i("div",null,[i("h2",hy,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",my,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",gy,[te(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":X[0]||(X[0]=J=>r(a).search=J),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:qt(p,["enter"])},null,40,Cy),[[le,r(a).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(a).entity,onChange:X[1]||(X[1]=J=>f(J.target.value)),"aria-label":"Entity filter"},[i("option",Ey,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(R(!0),M(Se,null,ve(l.value,J=>(R(),M("option",{key:J,value:J},d(b(J)),9,by))),128))],40,Sy),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(a).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[X[4]||(X[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Ty,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,Ay)])]),r(a).error?(R(),M("div",yy,d(r(a).error),1)):r(a).loading?(R(),M("div",Oy,[Be(Dn,{type:"table",rows:5,columns:5})])):(R(),M("div",Ry,[i("div",vy,[i("table",xy,[i("thead",null,[i("tr",null,[i("th",Ny,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",Py,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",My,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",ky,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",Iy,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(a).items.length?Te("",!0):(R(),M("tr",wy,[i("td",$y,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(R(!0),M(Se,null,ve(r(a).items,J=>(R(),M("tr",{key:J.id},[i("td",null,d(c(J.created)),1),i("td",null,[i("span",Uy,d(b(J.entity_type)),1),i("span",Dy,"#"+d(J.entity_id),1)]),i("td",null,d(J.action),1),i("td",null,d(v(J)),1),i("td",null,[i("pre",Ly,d(U(J.context)),1)])]))),128))])]),r(a).pagination.pages>1?(R(),M("div",Yy,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current<=1,onClick:X[2]||(X[2]=J=>_(r(a).pagination.current-1))},"  ",8,Xy),i("span",Fy,d(r(a).pagination.current)+" / "+d(r(a).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current>=r(a).pagination.pages,onClick:X[3]||(X[3]=J=>_(r(a).pagination.current+1))},"  ",8,Gy)])):Te("",!0)]),r(a).lastUpdated?(R(),M("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(a).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(x(r(a).lastUpdated)),9,Vy)):Te("",!0)]))]))}},[["__scopeId","data-v-3275d875"]]),By={key:0,class:"nxp-ec-onboarding"},Ky={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},jy={class:"nxp-ec-onboarding__header"},Jy={class:"nxp-ec-onboarding__title"},Wy={class:"nxp-ec-onboarding__lead"},qy={class:"nxp-ec-onboarding__progress"},zy={class:"nxp-ec-onboarding__progress-bar"},Qy={class:"nxp-ec-onboarding__progress-label"},Zy={class:"nxp-ec-onboarding__steps"},eO={class:"nxp-ec-onboarding__step-main"},tO={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},nO={key:0,class:"fa-solid fa-circle-check"},sO={key:1,class:"fa-regular fa-circle"},iO={class:"nxp-ec-onboarding__step-actions"},oO=["onClick"],aO=yt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,o=he(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=he(()=>`${o.value}%`),a=he(()=>{const l=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,u)=>e.visible?(R(),M("div",By,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>l.$emit("close"))}),i("section",Ky,[i("header",jy,[i("div",null,[i("h2",Jy,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",Wy,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>l.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",qy,[i("div",zy,[i("span",{style:Yt({width:n.value})},null,4)]),i("span",Qy,d(a.value),1)]),i("ol",Zy,[(R(!0),M(Se,null,ve(e.steps,p=>(R(),M("li",{key:p.id,class:Me({"is-complete":p.completed})},[i("div",eO,[i("span",tO,[p.completed?(R(),M("span",nO)):(R(),M("span",sO))]),i("div",null,[i("h3",null,d(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,d(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",iO,[p.link?(R(),M("button",{key:0,type:"button",class:Me(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:f=>l.$emit("navigate",p)},d(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,oO)):Te("",!0)])],2))),128))])])])):Te("",!0)}},[["__scopeId","data-v-97d3dc8b"]]),rO=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let o=String(e);return t.forEach(a=>{const l=a!=null?a:"";o=o.replace("%s",String(l))}),o},lO=(e,t="",s=[])=>{var a;const o=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(n=l)}return rO(n,s)};function cO(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const l=t[n];return l!=null&&l!==""?l:a};return{__:(n,a="",l=[],u="")=>{const p=s(u,a);return lO(n,p,l)}}}class dO{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};o.headers={...o.headers,...s.headers||{}};const n=String(o.method||"GET").toUpperCase();let a=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const l=await fetch(a,o);let u=null;const p=await l.text();if(p)try{u=JSON.parse(p)}catch(f){}if(!l.ok){const f=new Error((u==null?void 0:u.message)||`Request failed with status ${l.status}`);throw f.code=l.status,f.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,f}if((u==null?void 0:u.success)===!1){const f=new Error(u.message||"Unknown API error");throw f.details=u.data||u.errors||null,f}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,o);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(o){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var b,v,U,x;const l=new URLSearchParams({limit:String(s),start:String(o)});n&&l.set("search",n);const u=`${t}&${l.toString()}`,f=(b=(await this.get(u,{signal:a})).data)!=null?b:{},_=(U=(v=f.items)!=null?v:f.data)!=null?U:[],c=(x=f.pagination)!=null?x:{total:0,limit:s,pages:0,current:0};return{items:_,pagination:c}}async fetchCategories({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var f,_,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(f=(await this.get(l,{signal:a})).data)!=null?f:{};return{items:(_=p.items)!=null?_:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:o=0,search:n="",state:a="",signal:l}){var b,v,U,x;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,state:a||void 0}),f=(b=(await this.get(u,{signal:l})).data)!=null?b:{},_=(U=(v=f.items)!=null?v:f.data)!=null?U:[],c=(x=f.pagination)!=null?x:{total:0,limit:s,pages:0,current:0};return{items:_,pagination:c}}async fetchCustomers({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var c,b,v;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(c=(await this.get(l,{signal:a})).data)!=null?c:{},f=(b=p.items)!=null?b:[],_=(v=p.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:_}}async fetchCustomer({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var f,_,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(f=(await this.get(l,{signal:a})).data)!=null?f:{};return{items:(_=p.items)!=null?_:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var f,_,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(f=(await this.get(l,{signal:a})).data)!=null?f:{};return{items:(_=p.items)!=null?_:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var f,_,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(f=(await this.get(l,{signal:a})).data)!=null?f:{};return{items:(_=p.items)!=null?_:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:o=0,search:n="",entity:a="",signal:l}){var _,c,b;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,entity:a||void 0}),f=(_=(await this.get(u,{signal:l})).data)!=null?_:{};return{items:(c=f.items)!=null?c:[],pagination:(b=f.pagination)!=null?b:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,n;return t?(n=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:o=""}){var l,u;const n=this.mergeParams(t,{id:s||void 0,order_no:o||void 0});return(u=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.post(n,{state:o})).data)==null?void 0:l.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:o}){var l;const n={ids:s,state:o};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:o}){var a,l;return(l=(a=(await this.post(t,{id:s,message:o})).data)==null?void 0:a.order)!=null?l:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:o}){var l,u;const n={id:s||void 0,order_no:o||void 0};return(u=(l=(await this.post(t,n)).data)==null?void 0:l.invoice)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:o}){var a,l;return(l=(a=(await this.post(t,{id:s,...o})).data)==null?void 0:a.order)!=null?l:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}mergeParams(t,s={}){const o=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||o.set(n,String(a))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const pt=e=>new dO(e),sa=typeof window!="undefined"&&window.performance;function ia(e){if(sa)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function uO(e,t,s){if(!sa)return null;try{performance.measure(e,t,s);const o=performance.getEntriesByName(e,"measure")[0];if(o)return console.log(`[NXP EC Performance] ${e}: ${o.duration.toFixed(2)}ms`),o.duration}catch(o){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,o)}return null}const ms=we({}),pO=3e5;function _O(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Ot(e,t=pO){const s=ms[e];return s?_O(s,t)?s.data:(delete ms[e],null):null}function _t(e,t){ms[e]={data:t,timestamp:Date.now()}}function Fe(e){delete ms[e]}function Rt(e){const t=He({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return ia(l),l},endFetch:l=>{const u=`${e}-fetch-end`;ia(u);const p=uO(`${e}-fetch`,l,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const ri=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function fO({endpoints:e,token:t,autoload:s=!0,cacheTTL:o=3e5}){var ie,oe,ce,me;const n=pt({token:t}),a=Rt("products"),l=(ie=e==null?void 0:e.list)!=null?ie:"",u=(oe=e==null?void 0:e.create)!=null?oe:ri(l,"store"),p=(ce=e==null?void 0:e.update)!=null?ce:ri(l,"update"),f=(me=e==null?void 0:e.delete)!=null?me:ri(l,"delete"),_=typeof AbortController!="undefined",c=we({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),b=He(null),v=()=>{const j=c.pagination.current||1,V=c.pagination.limit||20,W=c.search.trim();return`products:page=${j}:limit=${V}:search=${W}`},U=async(j=!1)=>{var pe;if(!l){c.error="Products endpoint unavailable.",c.items=[];return}const V=v(),W=j?null:Ot(V,o);if(W){a.recordCacheHit(),c.items=W.items,c.pagination={...c.pagination,...W.pagination},c.lastUpdated=W.lastUpdated;return}a.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],b.value&&_&&b.value.abort();const F=_?new AbortController:null;b.value=F;const ne=a.startFetch();try{const{items:se,pagination:q}=await n.fetchProducts({endpoint:l,signal:F?F.signal:void 0,limit:c.pagination.limit,start:Math.max(0,(c.pagination.current-1)*c.pagination.limit),search:c.search.trim()});c.items=se,c.pagination={...c.pagination,...q,current:q.current&&q.current>0?q.current:1},c.lastUpdated=new Date().toISOString(),_t(V,{items:se,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(se){if((se==null?void 0:se.name)==="AbortError")return;c.error=(pe=se==null?void 0:se.message)!=null?pe:"Unknown error"}finally{a.endFetch(ne),_&&b.value===F&&(b.value=null),c.loading=!1}},x=()=>{c.pagination.current=1,Fe(v()),U(!0)},P=()=>{c.pagination.current=1,U()},X=j=>j?typeof j=="string"?j:typeof j=="object"&&j.message?String(j.message):String(j):"",J=(j,{setValidation:V=!1}={})=>{var W;if((j==null?void 0:j.code)===422&&V){const F=Array.isArray(j.details)?j.details:[j.details].filter(Boolean);c.validationErrors=F.map(X).filter(ne=>ne!=="");return}c.error=(W=j==null?void 0:j.message)!=null?W:"Unknown error"},y=async j=>{if(!u)throw new Error("Create endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const V=await n.createProduct({endpoint:u,data:j});return V&&(c.items=[V,...c.items],c.pagination.total+=1,Fe(v())),V}catch(V){throw J(V,{setValidation:!0}),V}finally{c.saving=!1}},I=async(j,V)=>{if(!p)throw new Error("Update endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const W=await n.updateProduct({endpoint:p,id:j,data:V});if(W){const F=c.items.findIndex(ne=>ne.id===W.id);F!==-1&&c.items.splice(F,1,W),Fe(v())}return W}catch(W){throw J(W,{setValidation:!0}),W}finally{c.saving=!1}},$=async j=>{if(!f)throw new Error("Delete endpoint unavailable.");c.deleting=!0,c.validationErrors=[];try{const V=await n.deleteProducts({endpoint:f,ids:j});return V.length&&(c.items=c.items.filter(W=>!V.includes(W.id)),c.pagination.total=Math.max(0,c.pagination.total-V.length),Fe(v())),V}catch(V){throw J(V),V}finally{c.deleting=!1}};return st(()=>{s&&U()}),{state:c,loadProducts:U,refresh:x,search:P,createProduct:y,updateProduct:I,deleteProducts:$,metrics:a.metrics}}function hO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var oe,ce,me,j,V,W,F,ne,pe,se,q,Z,Q,ue;const a=pt({token:t}),l=Rt("categories"),u=(oe=e==null?void 0:e.list)!=null?oe:"",p=(ce=e==null?void 0:e.create)!=null?ce:u,f=(me=e==null?void 0:e.update)!=null?me:u,_=(j=e==null?void 0:e.delete)!=null?j:u,c=we({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(ne=(F=(V=s.pagination)==null?void 0:V.total)!=null?F:(W=s.items)==null?void 0:W.length)!=null?ne:0,limit:(se=(pe=s.pagination)==null?void 0:pe.limit)!=null?se:20,pages:(Z=(q=s.pagination)==null?void 0:q.pages)!=null?Z:0,current:(ue=(Q=s.pagination)==null?void 0:Q.current)!=null?ue:1},search:"",lastUpdated:null}),b=typeof AbortController!="undefined",v=He(null),U=()=>{const L=c.pagination.current||1,K=c.pagination.limit||20,ee=c.search.trim();return`categories:page=${L}:limit=${K}:search=${ee}`},x=async(L=!1)=>{var Ee;if(!u){c.error="Categories endpoint unavailable.",c.items=[];return}const K=U(),ee=L?null:Ot(K,n);if(ee){l.recordCacheHit(),c.items=ee.items,c.pagination={...c.pagination,...ee.pagination},c.lastUpdated=ee.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],v.value&&b&&v.value.abort();const _e=b?new AbortController:null;v.value=_e;const Ae=l.startFetch();try{const Re=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:E,pagination:m}=await a.fetchCategories({endpoint:u,limit:c.pagination.limit,start:Re,search:c.search.trim(),signal:_e?_e.signal:void 0});c.items=E,c.pagination={...c.pagination,...m,current:m.current&&m.current>0?m.current:1},c.lastUpdated=new Date().toISOString(),_t(K,{items:E,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Re){if((Re==null?void 0:Re.name)==="AbortError")return;c.error=(Ee=Re==null?void 0:Re.message)!=null?Ee:"Unknown error"}finally{l.endFetch(Ae),b&&v.value===_e&&(v.value=null),c.loading=!1}},P=()=>{c.pagination.current=1,Fe(U()),x(!0)},X=()=>{c.pagination.current=1,x()},J=L=>{const K=Number(L);Number.isNaN(K)||K<1||K===c.pagination.current||(c.pagination.current=K,x(!0))},y=(L,{validation:K=!1}={})=>{var ee;if(K&&(L==null?void 0:L.code)===422){const _e=L.details,Ae=Array.isArray(_e)?_e:[_e].filter(Boolean);c.validationErrors=Ae.map(Ee=>Ee?typeof Ee=="string"?Ee:typeof Ee=="object"&&Ee.message?String(Ee.message):String(Ee):"").filter(Boolean);return}c.error=(ee=L==null?void 0:L.message)!=null?ee:"Unknown error"},I=async L=>{if(!p||!f)throw new Error("Category endpoints unavailable.");c.saving=!0,c.error="",c.validationErrors=[];try{let K=null;return L.id?K=await a.updateCategory({endpoint:f,id:L.id,data:L}):K=await a.createCategory({endpoint:p,data:L}),K&&(Fe(U()),await x()),K}catch(K){throw y(K,{validation:!0}),K}finally{c.saving=!1}},$=async L=>{if(!Array.isArray(L)||!L.length||!_)return 0;c.deleting=!0,c.error="";try{const K=await a.deleteCategories({endpoint:_,ids:L});return K&&(Fe(U()),await x()),K}catch(K){throw y(K),K}finally{c.deleting=!1}},ie=async()=>{if(!u)return[];try{const{items:L}=await a.fetchCategories({endpoint:u,limit:200,start:0,search:""});return L}catch(L){return[]}};return st(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadCategories:x,refresh:P,search:X,goToPage:J,saveCategory:I,deleteCategories:$,loadOptions:ie,metrics:l.metrics}}const _n=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function mO({endpoints:e,token:t,states:s=[],preload:o={},autoload:n=!0,cacheTTL:a=3e5}){var K,ee,_e,Ae,Ee,Re,E,m,h,de,C;const l=pt({token:t}),u=Rt("orders"),p=(K=e==null?void 0:e.list)!=null?K:"",f=(ee=e==null?void 0:e.show)!=null?ee:_n(p,"show"),_=(_e=e==null?void 0:e.transition)!=null?_e:_n(p,"transition"),c=(Ae=e==null?void 0:e.bulkTransition)!=null?Ae:_n(p,"bulkTransition"),b=(Ee=e==null?void 0:e.note)!=null?Ee:_n(p,"note"),v=(Re=e==null?void 0:e.tracking)!=null?Re:_n(p,"tracking"),U=(E=e==null?void 0:e.invoice)!=null?E:_n(p,"invoice"),x=typeof AbortController!="undefined",P=He(null),X=Array.isArray(o==null?void 0:o.items)?o.items:[],J=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},y=we({loading:!1,saving:!1,error:"",transitionError:"",items:[...X],pagination:{total:(m=J.total)!=null?m:X.length,limit:(h=J.limit)!=null?h:20,pages:(de=J.pages)!=null?de:0,current:(C=J.current)!=null?C:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),I=()=>{const S=y.pagination.current||1,N=y.pagination.limit||20,w=y.search.trim(),k=y.filterState||"";return`orders:page=${S}:limit=${N}:search=${w}:state=${k}`},$=async(S=!1)=>{var A;if(!p){y.error="Orders endpoint unavailable.",y.items=[];return}const N=I(),w=S?null:Ot(N,a);if(w){u.recordCacheHit(),y.items=w.items,y.pagination={...y.pagination,...w.pagination},y.lastUpdated=w.lastUpdated;return}u.recordCacheMiss(),y.loading=!0,y.error="",P.value&&x&&P.value.abort();const k=x?new AbortController:null;P.value=k;const G=u.startFetch();try{const g=Math.max(0,(y.pagination.current-1)*y.pagination.limit),{items:T,pagination:O}=await l.fetchOrders({endpoint:p,limit:y.pagination.limit,start:g,search:y.search.trim(),state:y.filterState,signal:k?k.signal:void 0});y.items=T,y.pagination={...y.pagination,...O,current:O.current&&O.current>0?O.current:1},y.selection.clear(),y.lastUpdated=new Date().toISOString(),_t(N,{items:T,pagination:y.pagination,lastUpdated:y.lastUpdated})}catch(g){if((g==null?void 0:g.name)==="AbortError")return;y.error=(A=g==null?void 0:g.message)!=null?A:"Unknown error"}finally{u.endFetch(G),x&&P.value===k&&(P.value=null),y.loading=!1}},ie=()=>{y.pagination.current=1,Fe(I()),$(!0)},oe=()=>{y.pagination.current=1,$()},ce=S=>{y.filterState=S||"",y.pagination.current=1,$()},me=S=>{const N=Number(S);Number.isNaN(N)||N<1||N===y.pagination.current||(y.pagination.current=N,$(!0))},j=()=>{y.selection.clear()},V=S=>{S&&(y.selection.has(S)?y.selection.delete(S):y.selection.add(S))},W=()=>{y.pagination.current>=y.pagination.pages||(y.pagination.current+=1,$(!0))},F=()=>{y.pagination.current<=1||(y.pagination.current-=1,$(!0))},ne=async(S,N="")=>{var w;if(!f)return null;try{return await l.fetchOrder({endpoint:f,id:S,orderNumber:N})}catch(k){return y.transitionError=(w=k==null?void 0:k.message)!=null?w:"Unknown error",null}},pe=async S=>{var N,w,k,G,A,g,T;if(!S){y.activeOrder=null;return}if(y.transitionError="",S.items&&S.items.length&&S.billing){y.activeOrder=S;return}try{const O=await ne(S.id,S.order_no);y.activeOrder=O||{...S,items:Array.isArray(S.items)?S.items:[],transactions:(N=S.transactions)!=null?N:[],timeline:(w=S.timeline)!=null?w:[],billing:(k=S.billing)!=null?k:{}}}catch(O){y.transitionError=(G=O==null?void 0:O.message)!=null?G:"Unknown error",y.activeOrder={...S,items:Array.isArray(S.items)?S.items:[],transactions:(A=S.transactions)!=null?A:[],timeline:(g=S.timeline)!=null?g:[],billing:(T=S.billing)!=null?T:{}}}},se=()=>{y.transitionError="",y.activeOrder=null},q=S=>{if(!(S!=null&&S.id))return;const N=y.items.findIndex(w=>w.id===S.id);N!==-1&&y.items.splice(N,1,S)},Z=async(S,N)=>{var w;if(!_)throw new Error("Transition endpoint unavailable.");y.saving=!0,y.transitionError="";try{const k=await l.transitionOrder({endpoint:_,id:S,state:N});return k&&(q(k),y.activeOrder&&y.activeOrder.id===k.id&&(y.activeOrder=k),Fe(I())),k}catch(k){throw y.transitionError=(w=k==null?void 0:k.message)!=null?w:"Unknown error",k}finally{y.saving=!1}},Q=async(S,N)=>{var w;if(!v)throw new Error("Tracking endpoint unavailable.");y.saving=!0,y.transitionError="";try{const k=await l.updateOrderTracking({endpoint:v,id:S,tracking:N});return k&&(q(k),y.activeOrder&&y.activeOrder.id===k.id&&(y.activeOrder=k),Fe(I())),k}catch(k){throw y.transitionError=(w=k==null?void 0:k.message)!=null?w:"Unknown error",k}finally{y.saving=!1}},ue=async(S,N="")=>{var w;if(!U)throw new Error("Invoice endpoint unavailable.");y.invoiceLoading=!0,y.transitionError="";try{const k=await l.fetchOrderInvoice({endpoint:U,id:S,orderNumber:N});if(!k)throw new Error("Invoice not available.");return k}catch(k){throw y.transitionError=(w=k==null?void 0:k.message)!=null?w:"Unknown error",k}finally{y.invoiceLoading=!1}},L=async(S,N)=>{var w;if(!c)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(S)||!S.length)return{updated:[]};y.saving=!0;try{const k=await l.bulkTransitionOrders({endpoint:c,ids:S,state:N}),G=Array.isArray(k.updated)?k.updated:[];return G.forEach(A=>{q(A),y.activeOrder&&y.activeOrder.id===A.id&&(y.activeOrder=A)}),j(),{updated:G}}catch(k){throw y.transitionError=(w=k==null?void 0:k.message)!=null?w:"Unknown error",k}finally{y.saving=!1}};return st(()=>{n&&$()}),{state:y,loadOrders:$,refresh:ie,search:oe,setFilterState:ce,goToPage:me,nextPage:W,previousPage:F,viewOrder:pe,closeOrder:se,transitionOrder:Z,bulkTransition:L,updateTracking:Q,downloadInvoice:ue,toggleSelection:V,clearSelection:j,metrics:u.metrics,addNote:async(S,N)=>{var w;if(!b)throw new Error("Note endpoint unavailable.");if(!S||!N||!N.trim())return null;y.transitionError="",y.saving=!0;try{const k=await l.addOrderNote({endpoint:b,id:S,message:N});return k&&(q(k),y.activeOrder&&y.activeOrder.id===k.id&&(y.activeOrder=k)),k}catch(k){throw y.transitionError=(w=k==null?void 0:k.message)!=null?w:"Unknown error",k}finally{y.saving=!1}}}}function gO({endpoint:e="",token:t="",preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var _,c,b;const a=pt({token:t}),l=Rt("dashboard"),u=we({loading:!1,error:"",summary:(b=s.summary)!=null?b:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(c=(_=s.summary)==null?void 0:_.currency)!=null?c:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",f=async(v=!1)=>{var X,J;if(!e)return;const U=p(),x=v?null:Ot(U,n);if(x){l.recordCacheHit(),u.summary=x.summary,u.checklist=x.checklist,u.lastUpdated=x.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="";const P=l.startFetch();try{const y=await a.fetchDashboard({endpoint:e});u.summary=(X=y.summary)!=null?X:u.summary,u.checklist=Array.isArray(y.checklist)?y.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),_t(U,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(y){u.error=(J=y==null?void 0:y.message)!=null?J:"Unknown error"}finally{l.endFetch(P),u.loading=!1}};return st(()=>{o&&(!Array.isArray(u.checklist)||!u.checklist.length)&&f()}),{state:u,refresh:f,metrics:l.metrics}}function CO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var y,I,$,ie,oe,ce,me,j,V,W,F,ne,pe;const a=pt({token:t}),l=Rt("customers"),u=(y=e==null?void 0:e.list)!=null?y:"",p=(I=e==null?void 0:e.show)!=null?I:"",f=we({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ce=(oe=($=s.pagination)==null?void 0:$.total)!=null?oe:(ie=s.items)==null?void 0:ie.length)!=null?ce:0,limit:(j=(me=s.pagination)==null?void 0:me.limit)!=null?j:20,pages:(W=(V=s.pagination)==null?void 0:V.pages)!=null?W:0,current:(ne=(F=s.pagination)==null?void 0:F.current)!=null?ne:1},search:"",activeCustomer:(pe=s.active)!=null?pe:null,lastUpdated:null}),_=typeof AbortController!="undefined",c=He(null),b=()=>{const se=f.pagination.current||1,q=f.pagination.limit||20,Z=f.search.trim();return`customers:page=${se}:limit=${q}:search=${Z}`},v=async(se=!1)=>{var L;if(!u){f.error="Customers endpoint unavailable.",f.items=[];return}const q=b(),Z=se?null:Ot(q,n);if(Z){l.recordCacheHit(),f.items=Z.items,f.pagination={...f.pagination,...Z.pagination},f.lastUpdated=Z.lastUpdated;return}l.recordCacheMiss(),f.loading=!0,f.error="",c.value&&_&&c.value.abort();const Q=_?new AbortController:null;c.value=Q;const ue=l.startFetch();try{const K=Math.max(0,(f.pagination.current-1)*f.pagination.limit),{items:ee,pagination:_e}=await a.fetchCustomers({endpoint:u,limit:f.pagination.limit,start:K,search:f.search.trim(),signal:Q?Q.signal:void 0});f.items=ee,f.pagination={...f.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},f.lastUpdated=new Date().toISOString(),_t(q,{items:ee,pagination:f.pagination,lastUpdated:f.lastUpdated})}catch(K){if((K==null?void 0:K.name)==="AbortError")return;f.error=(L=K==null?void 0:K.message)!=null?L:"Unknown error"}finally{l.endFetch(ue),_&&c.value===Q&&(c.value=null),f.loading=!1}},U=()=>{f.pagination.current=1,Fe(b()),v(!0)},x=()=>{f.pagination.current=1,v()},P=se=>{const q=Number(se);Number.isNaN(q)||q<1||q===f.pagination.current||(f.pagination.current=q,v(!0))},X=async se=>{var q;if(!p||!(se!=null&&se.email)){f.activeCustomer=se||null;return}try{const Z=await a.fetchCustomer({endpoint:p,email:se.email});f.activeCustomer=Z||se}catch(Z){f.error=(q=Z==null?void 0:Z.message)!=null?q:"Unknown error"}},J=()=>{f.activeCustomer=null};return st(()=>{o&&(!Array.isArray(f.items)||!f.items.length)&&v()}),{state:f,loadCustomers:v,refresh:U,search:x,goToPage:P,viewCustomer:X,closeCustomer:J,metrics:l.metrics}}function SO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var oe,ce,me,j,V,W,F,ne,pe,se,q,Z,Q,ue;const a=pt({token:t}),l=Rt("coupons"),u=(oe=e==null?void 0:e.list)!=null?oe:"",p=(ce=e==null?void 0:e.create)!=null?ce:u,f=(me=e==null?void 0:e.update)!=null?me:u,_=(j=e==null?void 0:e.delete)!=null?j:u,c=we({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ne=(F=(V=s.pagination)==null?void 0:V.total)!=null?F:(W=s.items)==null?void 0:W.length)!=null?ne:0,limit:(se=(pe=s.pagination)==null?void 0:pe.limit)!=null?se:20,pages:(Z=(q=s.pagination)==null?void 0:q.pages)!=null?Z:0,current:(ue=(Q=s.pagination)==null?void 0:Q.current)!=null?ue:1},search:"",activeCoupon:null,lastUpdated:null}),b=typeof AbortController!="undefined",v=He(null),U=()=>{const L=c.pagination.current||1,K=c.pagination.limit||20,ee=c.search.trim();return`coupons:page=${L}:limit=${K}:search=${ee}`},x=async(L=!1)=>{var Ee;if(!u){c.error="Coupons endpoint unavailable.",c.items=[];return}const K=U(),ee=L?null:Ot(K,n);if(ee){l.recordCacheHit(),c.items=ee.items,c.pagination={...c.pagination,...ee.pagination},c.lastUpdated=ee.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",v.value&&b&&v.value.abort();const _e=b?new AbortController:null;v.value=_e;const Ae=l.startFetch();try{const Re=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:E,pagination:m}=await a.fetchCoupons({endpoint:u,limit:c.pagination.limit,start:Re,search:c.search.trim(),signal:_e?_e.signal:void 0});c.items=E,c.pagination={...c.pagination,...m,current:m.current&&m.current>0?m.current:1},c.lastUpdated=new Date().toISOString(),_t(K,{items:E,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Re){if((Re==null?void 0:Re.name)==="AbortError")return;c.error=(Ee=Re==null?void 0:Re.message)!=null?Ee:"Unknown error"}finally{l.endFetch(Ae),b&&v.value===_e&&(v.value=null),c.loading=!1}},P=()=>{c.pagination.current=1,Fe(U()),x(!0)},X=()=>{c.pagination.current=1,x()},J=L=>{const K=Number(L);Number.isNaN(K)||K<1||K===c.pagination.current||(c.pagination.current=K,x(!0))},y=L=>{c.activeCoupon=L},I=L=>{const K=c.items.findIndex(ee=>ee.id===L.id);K===-1?c.items.unshift(L):c.items.splice(K,1,L)},$=async L=>{var K;c.saving=!0,c.error="";try{let ee=null;return L.id?ee=await a.updateCoupon({endpoint:f,id:L.id,data:L}):ee=await a.createCoupon({endpoint:p,data:L}),ee&&(I(ee),c.activeCoupon&&c.activeCoupon.id===ee.id&&(c.activeCoupon=ee),Fe(U())),ee}catch(ee){throw c.error=(K=ee==null?void 0:ee.message)!=null?K:"Unknown error",ee}finally{c.saving=!1}},ie=async L=>{var K;if(!Array.isArray(L)||!L.length)return 0;c.saving=!0,c.error="";try{const ee=await a.deleteCoupons({endpoint:_,ids:L});return ee&&(c.items=c.items.filter(_e=>!L.includes(_e.id)),c.activeCoupon&&L.includes(c.activeCoupon.id)&&(c.activeCoupon=null),Fe(U())),ee}catch(ee){throw c.error=(K=ee==null?void 0:ee.message)!=null?K:"Unknown error",ee}finally{c.saving=!1}};return st(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadCoupons:x,refresh:P,search:X,goToPage:J,setActive:y,saveCoupon:$,deleteCoupons:ie,metrics:l.metrics}}const li=(e={})=>{var u,p,f,_,c,b,v,U,x,P,X,J,y,I,$,ie,oe,ce,me;const t=(u=e.store)!=null?u:{},s=(p=e.payments)!=null?p:{},o=(f=e.visual)!=null?f:{},n=(_=e.visual_defaults)!=null?_:{},a=(b=(c=e.security)==null?void 0:c.rate_limits)!=null?b:{},l=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"USD";return{store:{name:(v=t.name)!=null?v:"",email:(U=t.email)!=null?U:"",phone:(x=t.phone)!=null?x:""},payments:{configured:!!s.configured},base_currency:l,checkout_phone_required:!!e.checkout_phone_required,visual:{primary_color:(P=o.primary_color)!=null?P:"",text_color:(X=o.text_color)!=null?X:"",surface_color:(J=o.surface_color)!=null?J:"",border_color:(y=o.border_color)!=null?y:"",muted_color:(I=o.muted_color)!=null?I:""},visual_defaults:{primary_color:($=n.primary_color)!=null?$:"#4f6d7a",text_color:(ie=n.text_color)!=null?ie:"#1f2933",surface_color:(oe=n.surface_color)!=null?oe:"#ffffff",border_color:(ce=n.border_color)!=null?ce:"#e4e7ec",muted_color:(me=n.muted_color)!=null?me:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(a.checkout_ip_limit))?Number(a.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(a.checkout_email_limit))?Number(a.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(a.checkout_session_limit))?Number(a.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(a.checkout_window_minutes))?Number(a.checkout_window_minutes):Number.isFinite(Number(a.checkout_window))?Math.max(0,Math.ceil(Number(a.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(a.offline_ip_limit))?Number(a.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(a.offline_email_limit))?Number(a.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(a.offline_window_minutes))?Number(a.offline_window_minutes):Number.isFinite(Number(a.offline_window))?Math.max(0,Math.ceil(Number(a.offline_window)/60)):30}}}};function EO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var b,v;const a=pt({token:t}),l=Rt("settings"),u=(b=e==null?void 0:e.show)!=null?b:"",p=(v=e==null?void 0:e.update)!=null?v:u,f=we({loading:!1,saving:!1,error:"",values:li(s),lastUpdated:null}),_=async(U=!1)=>{var J;if(!u){f.error="Settings endpoint unavailable.";return}const x="settings:data",P=U?null:Ot(x,n);if(P){l.recordCacheHit(),f.values=P.values,f.lastUpdated=P.lastUpdated;return}l.recordCacheMiss(),f.loading=!0,f.error="";const X=l.startFetch();try{const y=await a.fetchSettings({endpoint:u});f.values=li(y),f.lastUpdated=new Date().toISOString(),_t(x,{values:f.values,lastUpdated:f.lastUpdated})}catch(y){throw f.error=(J=y==null?void 0:y.message)!=null?J:"Unknown error",y}finally{l.endFetch(X),f.loading=!1}},c=async U=>{var x;if(!p)return f.error="Settings endpoint unavailable.",null;f.saving=!0,f.error="";try{const P=await a.updateSettings({endpoint:p,data:U});return f.values=li(P),f.lastUpdated=new Date().toISOString(),Fe("settings:data"),_t("settings:data",{values:f.values,lastUpdated:f.lastUpdated}),f.values}catch(P){throw f.error=(x=P==null?void 0:P.message)!=null?x:"Unknown error",P}finally{f.saving=!1}};return st(()=>{o&&(!s||!s.store)&&_()}),{state:f,refresh:_,save:c,metrics:l.metrics}}function bO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var y,I,$,ie,oe,ce,me,j,V,W,F,ne,pe,se;const a=pt({token:t}),l=Rt("taxRates"),u=(y=e==null?void 0:e.list)!=null?y:"",p=(I=e==null?void 0:e.create)!=null?I:u,f=($=e==null?void 0:e.update)!=null?$:u,_=(ie=e==null?void 0:e.delete)!=null?ie:u,c=we({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(j=(me=(oe=s.pagination)==null?void 0:oe.total)!=null?me:(ce=s.items)==null?void 0:ce.length)!=null?j:0,limit:(W=(V=s.pagination)==null?void 0:V.limit)!=null?W:20,pages:(ne=(F=s.pagination)==null?void 0:F.pages)!=null?ne:0,current:(se=(pe=s.pagination)==null?void 0:pe.current)!=null?se:1},search:"",lastUpdated:null}),b=typeof AbortController!="undefined",v=He(null),U=()=>{const q=c.pagination.current||1,Z=c.pagination.limit||20,Q=c.search.trim();return`taxRates:page=${q}:limit=${Z}:search=${Q}`},x=async(q=!1)=>{var K;if(!u){c.error="Tax endpoint unavailable.",c.items=[];return}const Z=U(),Q=q?null:Ot(Z,n);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",v.value&&b&&v.value.abort();const ue=b?new AbortController:null;v.value=ue;const L=l.startFetch();try{const ee=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:_e,pagination:Ae}=await a.fetchTaxRates({endpoint:u,limit:c.pagination.limit,start:ee,search:c.search.trim(),signal:ue?ue.signal:void 0});c.items=_e,c.pagination={...c.pagination,...Ae,current:Ae.current&&Ae.current>0?Ae.current:1},c.lastUpdated=new Date().toISOString(),_t(Z,{items:_e,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(ee){if((ee==null?void 0:ee.name)==="AbortError")return;c.error=(K=ee==null?void 0:ee.message)!=null?K:"Unknown error"}finally{l.endFetch(L),b&&v.value===ue&&(v.value=null),c.loading=!1}},P=()=>{c.pagination.current=1,Fe(U()),x(!0)},X=async q=>{var Z;c.saving=!0,c.error="";try{const Q=q.id?await a.updateTaxRate({endpoint:f,id:q.id,data:q}):await a.createTaxRate({endpoint:p,data:q});if(Q){const ue=c.items.findIndex(L=>L.id===Q.id);ue===-1?c.items.unshift(Q):c.items.splice(ue,1,Q),Fe(U())}return Q}catch(Q){throw c.error=(Z=Q==null?void 0:Q.message)!=null?Z:"Unknown error",Q}finally{c.saving=!1}},J=async q=>{var Z;if(!Array.isArray(q)||!q.length)return 0;c.saving=!0,c.error="";try{const Q=await a.deleteTaxRates({endpoint:_,ids:q});return Q&&(c.items=c.items.filter(ue=>!q.includes(ue.id)),Fe(U())),Q}catch(Q){throw c.error=(Z=Q==null?void 0:Q.message)!=null?Z:"Unknown error",Q}finally{c.saving=!1}};return st(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadRates:x,refresh:P,saveRate:X,deleteRates:J,metrics:l.metrics}}function AO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var y,I,$,ie,oe,ce,me,j,V,W,F,ne,pe,se;const a=pt({token:t}),l=Rt("shippingRules"),u=(y=e==null?void 0:e.list)!=null?y:"",p=(I=e==null?void 0:e.create)!=null?I:u,f=($=e==null?void 0:e.update)!=null?$:u,_=(ie=e==null?void 0:e.delete)!=null?ie:u,c=we({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(j=(me=(oe=s.pagination)==null?void 0:oe.total)!=null?me:(ce=s.items)==null?void 0:ce.length)!=null?j:0,limit:(W=(V=s.pagination)==null?void 0:V.limit)!=null?W:20,pages:(ne=(F=s.pagination)==null?void 0:F.pages)!=null?ne:0,current:(se=(pe=s.pagination)==null?void 0:pe.current)!=null?se:1},search:"",lastUpdated:null}),b=typeof AbortController!="undefined",v=He(null),U=()=>{const q=c.pagination.current||1,Z=c.pagination.limit||20,Q=c.search.trim();return`shippingRules:page=${q}:limit=${Z}:search=${Q}`},x=async(q=!1)=>{var K;if(!u){c.error="Shipping endpoint unavailable.",c.items=[];return}const Z=U(),Q=q?null:Ot(Z,n);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",v.value&&b&&v.value.abort();const ue=b?new AbortController:null;v.value=ue;const L=l.startFetch();try{const ee=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:_e,pagination:Ae}=await a.fetchShippingRules({endpoint:u,limit:c.pagination.limit,start:ee,search:c.search.trim(),signal:ue?ue.signal:void 0});c.items=_e,c.pagination={...c.pagination,...Ae,current:Ae.current&&Ae.current>0?Ae.current:1},c.lastUpdated=new Date().toISOString(),_t(Z,{items:_e,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(ee){if((ee==null?void 0:ee.name)==="AbortError")return;c.error=(K=ee==null?void 0:ee.message)!=null?K:"Unknown error"}finally{l.endFetch(L),b&&v.value===ue&&(v.value=null),c.loading=!1}},P=()=>{c.pagination.current=1,Fe(U()),x(!0)},X=async q=>{var Z;c.saving=!0,c.error="";try{const Q=q.id?await a.updateShippingRule({endpoint:f,id:q.id,data:q}):await a.createShippingRule({endpoint:p,data:q});if(Q){const ue=c.items.findIndex(L=>L.id===Q.id);ue===-1?c.items.unshift(Q):c.items.splice(ue,1,Q),Fe(U())}return Q}catch(Q){throw c.error=(Z=Q==null?void 0:Q.message)!=null?Z:"Unknown error",Q}finally{c.saving=!1}},J=async q=>{var Z;if(!Array.isArray(q)||!q.length)return 0;c.saving=!0,c.error="";try{const Q=await a.deleteShippingRules({endpoint:_,ids:q});return Q&&(c.items=c.items.filter(ue=>!q.includes(ue.id)),Fe(U())),Q}catch(Q){throw c.error=(Z=Q==null?void 0:Q.message)!=null?Z:"Unknown error",Q}finally{c.saving=!1}};return st(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&x()}),{state:c,loadRules:x,refresh:P,saveRule:X,deleteRules:J,metrics:l.metrics}}function TO({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var X,J,y,I,$,ie,oe,ce,me,j,V;const a=pt({token:t}),l=Rt("logs"),u=(X=e==null?void 0:e.list)!=null?X:"",p=we({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:($=(I=(J=s.pagination)==null?void 0:J.total)!=null?I:(y=s.items)==null?void 0:y.length)!=null?$:0,limit:(oe=(ie=s.pagination)==null?void 0:ie.limit)!=null?oe:20,pages:(me=(ce=s.pagination)==null?void 0:ce.pages)!=null?me:0,current:(V=(j=s.pagination)==null?void 0:j.current)!=null?V:1},search:"",entity:"",lastUpdated:null}),f=typeof AbortController!="undefined",_=He(null),c=()=>{const W=p.pagination.current||1,F=p.pagination.limit||20,ne=p.search.trim(),pe=p.entity.trim();return`logs:page=${W}:limit=${F}:search=${ne}:entity=${pe}`},b=async(W=!1)=>{var q;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const F=c(),ne=W?null:Ot(F,n);if(ne){l.recordCacheHit(),p.items=ne.items,p.pagination={...p.pagination,...ne.pagination},p.lastUpdated=ne.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",f&&_.value&&_.value.abort();const pe=f?new AbortController:null;_.value=pe;const se=l.startFetch();try{const Z=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:Q,pagination:ue}=await a.fetchLogs({endpoint:u,limit:p.pagination.limit,start:Z,search:p.search.trim(),entity:p.entity,signal:pe?pe.signal:void 0});p.items=Q,p.pagination={...p.pagination,...ue,current:ue.current&&ue.current>0?ue.current:1},p.lastUpdated=new Date().toISOString(),_t(F,{items:Q,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(Z){if((Z==null?void 0:Z.name)==="AbortError")return;p.error=(q=Z==null?void 0:Z.message)!=null?q:"Unknown error"}finally{l.endFetch(se),f&&_.value===pe&&(_.value=null),p.loading=!1}},v=()=>{p.pagination.current=1,Fe(c()),b(!0)},U=()=>{p.pagination.current=1,b()},x=W=>{const F=typeof W=="string"?W.trim():"";p.entity!==F&&(p.entity=F,p.pagination.current=1,b())},P=W=>{const F=Number(W);Number.isNaN(F)||F<1||F===p.pagination.current||(p.pagination.current=F,b(!0))};return st(()=>{o&&(!Array.isArray(p.items)||!p.items.length)&&b()}),{state:p,loadLogs:b,refresh:v,search:U,setEntity:x,goToPage:P,metrics:l.metrics}}const oa=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function yO({endpoints:e={},token:t=""}){const s=pt({token:t}),o=we({loading:!1,saving:!1,error:"",config:oa(),message:""}),n=async()=>{var u,p,f,_;if(e.show){o.loading=!0,o.error="";try{const c=await s.get(e.show);o.config=l((f=(p=(u=c==null?void 0:c.data)==null?void 0:u.config)!=null?p:c==null?void 0:c.config)!=null?f:{})}catch(c){o.error=(_=c.message)!=null?_:"Unable to load payment configuration."}finally{o.loading=!1}}},a=async u=>{var p,f,_,c,b,v,U;if(e.update){o.saving=!0,o.error="",o.message="";try{const x=await s.post(e.update,{config:u});o.config=l((_=(f=(p=x==null?void 0:x.data)==null?void 0:p.config)!=null?f:x==null?void 0:x.config)!=null?_:{}),o.message=(v=(b=(c=x==null?void 0:x.data)==null?void 0:c.message)!=null?b:x==null?void 0:x.message)!=null?v:""}catch(x){o.error=(U=x.message)!=null?U:"Unable to save payment configuration."}finally{o.saving=!1}}},l=u=>{var f,_,c,b;const p=oa();return{stripe:{...p.stripe,...(f=u.stripe)!=null?f:{}},paypal:{...p.paypal,...(_=u.paypal)!=null?_:{}},cod:{...p.cod,...(c=u.cod)!=null?c:{}},bank_transfer:{...p.bank_transfer,...(b=u.bank_transfer)!=null?b:{}}}};return{state:o,refresh:n,save:a}}const OO={class:"nxp-ec-admin-app__shell"},RO={class:"nxp-ec-admin-app__header"},vO={class:"nxp-ec-admin-app__title"},xO={class:"nxp-ec-admin-app__lead"},NO={key:0,class:"nxp-ec-admin-nav"},PO=["href"],MO={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},kO={class:"nxp-ec-admin-panel__body"},IO={class:"nxp-ec-admin-panel__lead"},Yn="nxp:admin:onboarding:dismissed",wO={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var cr,dr,ur,pr,_r,fr,hr,mr,gr,Cr,Sr,Er,br,Ar,Tr,yr,Or,Rr,vr,xr,Nr,Pr,Mr,kr,Ir,wr,$r,Ur,Dr,Lr,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,ol,al,rl,ll,cl,dl,ul,pl,_l,fl,hl,ml,gl,Cl,Sl,El,bl,Al,Tl,yl,Ol,Rl,vl,xl,Nl,Pl,Ml,kl,Il,wl,$l,Ul,Dl,Ll,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,oc,ac,rc,lc,cc,dc,uc,pc,_c,fc,hc,mc,gc,Cc,Sc,Ec,bc,Ac,Tc,yc,Oc,Rc,vc,xc,Nc,Pc,Mc,kc,Ic,wc,$c,Uc,Dc;const t=e,{__:s}=cO(t.dataset),o=he(()=>{var H;return((H=t.dataset)==null?void 0:H.appTitleKey)||"COM_NXPEASYCART"}),n=he(()=>{var H;return((H=t.dataset)==null?void 0:H.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(H,ae)=>{if(!H||typeof H!="string")return ae;try{return JSON.parse(H)}catch(Oe){return ae}},l=he(()=>{var ae,Oe;if(Array.isArray((ae=t.config)==null?void 0:ae.navItems))return t.config.navItems.map(Ve=>({id:Ve.id,title:Ve.title,link:Ve.link}));const H=a((Oe=t.dataset)==null?void 0:Oe.navItems,[]);return Array.isArray(H)?H.map(Ve=>({id:Ve.id,title:Ve.title,link:Ve.link})):[]}),u=H=>{const ae=l.value;if(!Array.isArray(ae))return"";const Oe=ae.find(Ve=>Ve.id===H);return Oe?Oe.link:""},p=he(()=>{var H,ae;return((H=t.config)==null?void 0:H.activeSection)||((ae=t.dataset)==null?void 0:ae.activeSection)||"dashboard"}),f=H=>p.value===H,_=he(()=>f("dashboard")),c=he(()=>f("products")),b=he(()=>f("categories")||f("products")),v=he(()=>f("orders")),U=he(()=>f("customers")),x=he(()=>f("coupons")),P=he(()=>f("settings")),X=he(()=>f("logs")),J=(Cr=(cr=t.endpoints)==null?void 0:cr.products)!=null?Cr:{list:(ur=(dr=t.dataset)==null?void 0:dr.productsEndpoint)!=null?ur:"",create:(_r=(pr=t.dataset)==null?void 0:pr.productsEndpointCreate)!=null?_r:"",update:(hr=(fr=t.dataset)==null?void 0:fr.productsEndpointUpdate)!=null?hr:"",delete:(gr=(mr=t.dataset)==null?void 0:mr.productsEndpointDelete)!=null?gr:""},y=(xr=(Sr=t.endpoints)==null?void 0:Sr.categories)!=null?xr:{list:(br=(Er=t.dataset)==null?void 0:Er.categoriesEndpoint)!=null?br:"",create:(Tr=(Ar=t.dataset)==null?void 0:Ar.categoriesEndpointCreate)!=null?Tr:"",update:(Or=(yr=t.dataset)==null?void 0:yr.categoriesEndpointUpdate)!=null?Or:"",delete:(vr=(Rr=t.dataset)==null?void 0:Rr.categoriesEndpointDelete)!=null?vr:""},I=(Xr=(Nr=t.endpoints)==null?void 0:Nr.orders)!=null?Xr:{list:(Mr=(Pr=t.dataset)==null?void 0:Pr.ordersEndpoint)!=null?Mr:"",show:(Ir=(kr=t.dataset)==null?void 0:kr.ordersEndpointShow)!=null?Ir:"",transition:($r=(wr=t.dataset)==null?void 0:wr.ordersEndpointTransition)!=null?$r:"",bulkTransition:(Dr=(Ur=t.dataset)==null?void 0:Ur.ordersEndpointBulk)!=null?Dr:"",note:(Yr=(Lr=t.dataset)==null?void 0:Lr.ordersEndpointNote)!=null?Yr:""},$=(Kr=(Fr=t.endpoints)==null?void 0:Fr.customers)!=null?Kr:{list:(Vr=(Gr=t.dataset)==null?void 0:Gr.customersEndpoint)!=null?Vr:"",show:(Br=(Hr=t.dataset)==null?void 0:Hr.customersEndpointShow)!=null?Br:""},ie=(nl=(jr=t.endpoints)==null?void 0:jr.coupons)!=null?nl:{list:(Wr=(Jr=t.dataset)==null?void 0:Jr.couponsEndpoint)!=null?Wr:"",create:(zr=(qr=t.dataset)==null?void 0:qr.couponsEndpointCreate)!=null?zr:"",update:(Zr=(Qr=t.dataset)==null?void 0:Qr.couponsEndpointUpdate)!=null?Zr:"",delete:(tl=(el=t.dataset)==null?void 0:el.couponsEndpointDelete)!=null?tl:""},oe=(pl=(sl=t.endpoints)==null?void 0:sl.tax)!=null?pl:{list:(ol=(il=t.dataset)==null?void 0:il.taxEndpoint)!=null?ol:"",create:(rl=(al=t.dataset)==null?void 0:al.taxEndpointCreate)!=null?rl:"",update:(cl=(ll=t.dataset)==null?void 0:ll.taxEndpointUpdate)!=null?cl:"",delete:(ul=(dl=t.dataset)==null?void 0:dl.taxEndpointDelete)!=null?ul:""},ce=(Al=(_l=t.endpoints)==null?void 0:_l.shipping)!=null?Al:{list:(hl=(fl=t.dataset)==null?void 0:fl.shippingEndpoint)!=null?hl:"",create:(gl=(ml=t.dataset)==null?void 0:ml.shippingEndpointCreate)!=null?gl:"",update:(Sl=(Cl=t.dataset)==null?void 0:Cl.shippingEndpointUpdate)!=null?Sl:"",delete:(bl=(El=t.dataset)==null?void 0:El.shippingEndpointDelete)!=null?bl:""},me=(xl=(Tl=t.endpoints)==null?void 0:Tl.settings)!=null?xl:{show:(Ol=(yl=t.dataset)==null?void 0:yl.settingsEndpointShow)!=null?Ol:"",update:(vl=(Rl=t.dataset)==null?void 0:Rl.settingsEndpointUpdate)!=null?vl:""},j=(kl=(Nl=t.endpoints)==null?void 0:Nl.logs)!=null?kl:{list:(Ml=(Pl=t.dataset)==null?void 0:Pl.logsEndpoint)!=null?Ml:""},V=(Ll=(Il=t.endpoints)==null?void 0:Il.payments)!=null?Ll:{show:($l=(wl=t.dataset)==null?void 0:wl.paymentsEndpointShow)!=null?$l:"",update:(Dl=(Ul=t.dataset)==null?void 0:Ul.paymentsEndpointUpdate)!=null?Dl:""},W=he(()=>{var H;return a((H=t.dataset)==null?void 0:H.orderStates,[])}),{state:F,refresh:ne}=gO({endpoint:(Bl=(Hl=(Gl=(Yl=t.endpoints)==null?void 0:Yl.dashboard)!=null?Gl:(Fl=(Xl=t.config)==null?void 0:Xl.endpoints)==null?void 0:Fl.dashboard)!=null?Hl:(Vl=t.dataset)==null?void 0:Vl.dashboardEndpoint)!=null?Bl:"",token:t.csrfToken,preload:(ql=(jl=(Kl=t.config)==null?void 0:Kl.preload)==null?void 0:jl.dashboard)!=null?ql:{summary:a((Jl=t.dataset)==null?void 0:Jl.dashboardSummary,{}),checklist:a((Wl=t.dataset)==null?void 0:Wl.dashboardChecklist,[])},autoload:_.value}),{state:pe,refresh:se,search:q,createProduct:Z,updateProduct:Q,deleteProducts:ue}=fO({endpoints:J,token:t.csrfToken,autoload:c.value}),{state:L,refresh:K,search:ee,goToPage:_e,saveCategory:Ae,deleteCategories:Ee,loadOptions:Re}=hO({endpoints:y,token:t.csrfToken,preload:(tc=(Ql=(zl=t.config)==null?void 0:zl.preload)==null?void 0:Ql.categories)!=null?tc:{items:a((Zl=t.dataset)==null?void 0:Zl.categoriesPreload,[]),pagination:a((ec=t.dataset)==null?void 0:ec.categoriesPreloadPagination,{})},autoload:b.value}),E=he(()=>(Array.isArray(L.items)?L.items:[]).map(ae=>{var Oe,Ve,xt;return{id:Number.parseInt((Oe=ae==null?void 0:ae.id)!=null?Oe:0,10)||0,title:String((Ve=ae==null?void 0:ae.title)!=null?Ve:"").trim(),slug:String((xt=ae==null?void 0:ae.slug)!=null?xt:"").trim(),parent_id:(ae==null?void 0:ae.parent_id)!==null&&(ae==null?void 0:ae.parent_id)!==void 0&&Number.parseInt(ae.parent_id,10)||null}}).filter(ae=>ae.title!=="")),{state:m,refresh:h,search:de,setFilterState:C,viewOrder:S,closeOrder:N,transitionOrder:w,goToPage:k,bulkTransition:G,toggleSelection:A,clearSelection:g,addNote:T,updateTracking:O,downloadInvoice:Y}=mO({endpoints:I,token:t.csrfToken,states:W.value,preload:(ac=(sc=(nc=t.config)==null?void 0:nc.preload)==null?void 0:sc.orders)!=null?ac:{items:a((ic=t.dataset)==null?void 0:ic.ordersPreload,[]),pagination:a((oc=t.dataset)==null?void 0:oc.ordersPreloadPagination,{})},autoload:v.value}),{state:D,refresh:z,search:B,goToPage:re,viewCustomer:fe,closeCustomer:ge}=CO({endpoints:$,token:t.csrfToken,preload:(uc=(lc=(rc=t.config)==null?void 0:rc.preload)==null?void 0:lc.customers)!=null?uc:{items:a((cc=t.dataset)==null?void 0:cc.customersPreload,[]),pagination:a((dc=t.dataset)==null?void 0:dc.customersPreloadPagination,{})},autoload:U.value}),{state:ye,refresh:Ne,search:ke,goToPage:Ke,saveCoupon:at,deleteCoupons:We}=SO({endpoints:(_c=(pc=t.endpoints)==null?void 0:pc.coupons)!=null?_c:ie,token:t.csrfToken,preload:(Cc=(hc=(fc=t.config)==null?void 0:fc.preload)==null?void 0:hc.coupons)!=null?Cc:{items:a((mc=t.dataset)==null?void 0:mc.couponsPreload,[]),pagination:a((gc=t.dataset)==null?void 0:gc.couponsPreloadPagination,{})},autoload:x.value}),Ye=(Ac=(Ec=(Sc=t.config)==null?void 0:Sc.preload)==null?void 0:Ec.settings)!=null?Ac:a((bc=t.dataset)==null?void 0:bc.settingsPreload,{}),{state:$e,refresh:ft,save:vt}=EO({endpoints:me,token:t.csrfToken,preload:Ye,autoload:P.value}),fn=he(()=>{var ae,Oe;const H=(Oe=(ae=t.dataset)==null?void 0:ae.baseCurrency)!=null?Oe:"";return typeof H=="string"?H.trim().toUpperCase():""}),hn=he(()=>{var ae,Oe;const H=(Oe=(ae=$e==null?void 0:$e.values)==null?void 0:ae.base_currency)!=null?Oe:"";return typeof H=="string"?H.trim().toUpperCase():""}),zt=he(()=>{const H=hn.value||fn.value;return H!==""?H:"USD"}),Cs=he(()=>{var ae,Oe;const H=(Oe=(ae=t.dataset)==null?void 0:ae.mediaModalUrl)!=null?Oe:"";return typeof H=="string"?H.trim():""}),ci=he(()=>{var ae,Oe,Ve,xt,Ht;const H=(xt=(Ve=(ae=t.config)==null?void 0:ae.siteRoot)!=null?Ve:(Oe=t.dataset)==null?void 0:Oe.siteRoot)!=null?xt:"";return typeof H=="string"&&H.trim()!==""?H.trim():typeof window!="undefined"&&((Ht=window.location)!=null&&Ht.origin)?window.location.origin:""}),di=H=>{switch(H){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:u("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:u("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:u("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:H||"step",titleKey:H||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:H||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:u("dashboard")||""}}},ar=he(()=>(Array.isArray(F.checklist)?F.checklist:[]).map(ae=>{const Oe=di(ae.label);return{id:Oe.id,completed:!!ae.completed,link:ae.link||Oe.link||"",label:ae.label,titleKey:Oe.titleKey,descriptionKey:Oe.descriptionKey,titleFallback:Oe.titleFallback,descriptionFallback:Oe.descriptionFallback}})),ui=he(()=>ar.value.some(H=>!H.completed)),Xn=He(!1),$O=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Yn,"0")}catch(H){}Xn.value=!0},rr=()=>{if(Xn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Yn,"1")}catch(H){}},UO=H=>{H&&typeof H.link=="string"&&H.link!==""&&(rr(),typeof window!="undefined"&&(window.location.href=H.link))};Le(ui,H=>{if(!H&&(Xn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Yn,"1")}catch(ae){}});const DO=(vc=(yc=(Tc=t.config)==null?void 0:Tc.preload)==null?void 0:yc.tax)!=null?vc:{items:a((Oc=t.dataset)==null?void 0:Oc.taxPreload,[]),pagination:a((Rc=t.dataset)==null?void 0:Rc.taxPreloadPagination,{})},{state:LO,refresh:Ss,saveRate:YO,deleteRates:XO}=bO({endpoints:oe,token:t.csrfToken,preload:DO,autoload:P.value}),FO=(kc=(Nc=(xc=t.config)==null?void 0:xc.preload)==null?void 0:Nc.shipping)!=null?kc:{items:a((Pc=t.dataset)==null?void 0:Pc.shippingPreload,[]),pagination:a((Mc=t.dataset)==null?void 0:Mc.shippingPreloadPagination,{})},{state:GO,refresh:Es,saveRule:VO,deleteRules:HO}=AO({endpoints:ce,token:t.csrfToken,preload:FO,autoload:P.value}),BO=(Dc=(wc=(Ic=t.config)==null?void 0:Ic.preload)==null?void 0:wc.logs)!=null?Dc:{items:a(($c=t.dataset)==null?void 0:$c.logsPreload,[]),pagination:a((Uc=t.dataset)==null?void 0:Uc.logsPreloadPagination,{})},{state:KO,refresh:lr,search:jO,setEntity:JO,goToPage:WO}=TO({endpoints:j,token:t.csrfToken,preload:BO,autoload:X.value}),{state:qO,refresh:pi,save:zO}=yO({endpoints:V,token:t.csrfToken});Le(p,H=>{switch(H){case"dashboard":ne();break;case"products":se(),K();break;case"categories":K();break;case"orders":h();break;case"customers":z();break;case"coupons":Ne();break;case"settings":ft(),Ss(),Es(),pi();break;case"logs":lr();break}}),st(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const H=window.localStorage.getItem(Yn);ui.value?H!=="1"&&(Xn.value=!0):window.localStorage.setItem(Yn,"1")}catch(H){}}P.value&&pi()});const QO=()=>{se()},ZO=()=>{q()},eR=async H=>{try{await Z(H),se(),K()}catch(ae){}},tR=async({id:H,data:ae})=>{try{await Q(H,ae),se(),K()}catch(Oe){}},nR=async H=>{try{await ue(H),se(),K()}catch(ae){}},sR=()=>{K()},iR=()=>{ee()},oR=H=>{_e(H)},aR=async H=>{try{await Ae(H),K()}catch(ae){}},rR=async H=>{try{await Ee(H),K()}catch(ae){}},lR=()=>{ne()},cR=()=>{h()},dR=()=>{de()},uR=H=>{C(H)},pR=H=>{S(H)},_R=()=>{N()},fR=async({id:H,state:ae})=>{await w(H,ae)},hR=H=>{k(H)},mR=async({ids:H,state:ae})=>{await G(H,ae)},gR=H=>{A(H)},CR=()=>{g()},SR=async({id:H,message:ae})=>{await T(H,ae)},ER=async H=>{if(!(H!=null&&H.id))return;const{id:ae,...Oe}=H;await O(ae,Oe)},bR=async H=>{if(!H)return;const ae=await Y(H);if(!(ae!=null&&ae.content))return;const Oe=atob(ae.content),Ve=new Uint8Array(Oe.length);for(let Qt=0;Qt<Oe.length;Qt+=1)Ve[Qt]=Oe.charCodeAt(Qt);const xt=new Blob([Ve],{type:"application/pdf"}),Ht=window.URL.createObjectURL(xt),Bt=document.createElement("a");Bt.href=Ht,Bt.download=ae.filename||"invoice.pdf",document.body.appendChild(Bt),Bt.click(),document.body.removeChild(Bt),setTimeout(()=>window.URL.revokeObjectURL(Ht),1e3)},AR=()=>{z()},TR=()=>{B()},yR=H=>{re(H)},OR=H=>{fe(H)},RR=()=>{ge()},vR=()=>{Ne()},xR=()=>{ke()},NR=H=>{Ke(H)},PR=async H=>{try{await at(H)}catch(ae){}},MR=async H=>{try{await We(H)}catch(ae){}},kR=()=>{ft()},IR=async H=>{try{await vt(H)}catch(ae){}},wR=()=>{Ss()},$R=async H=>{try{await YO(H),Ss()}catch(ae){}},UR=async H=>{try{await XO(H),Ss()}catch(ae){}},DR=()=>{Es()},LR=async H=>{try{await VO(H),Es()}catch(ae){}},YR=async H=>{try{await HO(H),Es()}catch(ae){}},XR=()=>{lr()},FR=()=>{jO()},GR=H=>{JO(H)},VR=H=>{WO(H)},HR=()=>{pi()},BR=async H=>{await zO(H)};return(H,ae)=>(R(),lt(Cp,null,{default:zi(()=>{var Oe,Ve,xt,Ht,Bt,Qt;return[i("section",OO,[i("header",RO,[i("div",null,[i("h1",vO,d(r(s)(o.value,(Ve=(Oe=t.dataset)==null?void 0:Oe.appTitle)!=null?Ve:"NXP Easy Cart",[],"appTitle")),1),i("p",xO,d(r(s)(n.value,(Ht=(xt=t.dataset)==null?void 0:xt.appLead)!=null?Ht:"Manage your storefront from one place.",[],"appLead")),1)]),te(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:$O},d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[Hu,ui.value]])]),l.value.length?(R(),M("nav",NO,[(R(!0),M(Se,null,ve(l.value,bs=>(R(),M("a",{key:bs.id,href:bs.link,class:Me({"is-active":bs.id===p.value})},d(bs.title),11,PO))),128))])):Te("",!0),p.value==="dashboard"?(R(),lt(zp,{key:1,state:r(F),translate:r(s),onRefresh:lR},null,8,["state","translate"])):p.value==="products"?(R(),lt(yh,{key:2,state:r(pe),translate:r(s),"base-currency":zt.value,"category-options":E.value,"media-modal-url":Cs.value,onCreate:eR,onUpdate:tR,onDelete:nR,onRefresh:QO,onSearch:ZO},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(R(),lt(bm,{key:3,state:r(L),translate:r(s),"load-options":r(Re),onRefresh:sR,onSearch:iR,onPage:oR,onSave:aR,onDelete:rR},null,8,["state","translate","load-options"])):p.value==="orders"?(R(),lt(uC,{key:4,state:r(m),translate:r(s),"site-root":ci.value,onRefresh:cR,onSearch:dR,onFilter:uR,onView:pR,onClose:_R,onTransition:fR,onPage:hR,onBulkTransition:mR,onToggleSelection:gR,onClearSelection:CR,onAddNote:SR,onSaveTracking:ER,onInvoice:bR},null,8,["state","translate","site-root"])):p.value==="customers"?(R(),lt(sS,{key:5,state:r(D),translate:r(s),"base-currency":zt.value,onRefresh:AR,onSearch:TR,onPage:yR,onView:OR,onClose:RR},null,8,["state","translate","base-currency"])):p.value==="coupons"?(R(),lt(cE,{key:6,state:r(ye),translate:r(s),"base-currency":zt.value,onRefresh:vR,onSearch:xR,onPage:NR,onSave:PR,onDelete:MR},null,8,["state","translate","base-currency"])):p.value==="settings"?(R(),lt(py,{key:7,"settings-state":r($e),"tax-state":r(LO),"shipping-state":r(GO),"payments-state":r(qO),translate:r(s),"base-currency":zt.value,onRefreshSettings:kR,onSaveSettings:IR,onRefreshTax:wR,onSaveTax:$R,onDeleteTax:UR,onRefreshShipping:DR,onSaveShipping:LR,onDeleteShipping:YR,onRefreshPayments:HR,onSavePayments:BR},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency"])):p.value==="logs"?(R(),lt(Hy,{key:8,state:r(KO),translate:r(s),onRefresh:XR,onSearch:FR,onFilter:GR,onPage:VR},null,8,["state","translate"])):(R(),M("div",MO,[i("div",kO,[i("p",IO,d(r(s)(n.value,(Qt=(Bt=t.dataset)==null?void 0:Bt.appLead)!=null?Qt:"This section will be available soon.",[],"appLead")),1)])]))]),Be(aO,{visible:Xn.value,steps:ar.value,translate:r(s),onClose:rr,onNavigate:UO},null,8,["visible","steps","translate"])]}),_:1}))}},gs=document.getElementById("nxp-ec-admin-app");if(!gs)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(aa=gs.getAttribute("data-csrf-token"))!=null?aa:"",t=Object.assign({},gs.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(b){console.warn("[NXP Easy Cart] Failed to parse admin config payload",b)}const o=(pa=(ra=s==null?void 0:s.endpoints)==null?void 0:ra.products)!=null?pa:{list:(la=t.productsEndpoint)!=null?la:"",create:(ca=t.productsEndpointCreate)!=null?ca:"",update:(da=t.productsEndpointUpdate)!=null?da:"",delete:(ua=t.productsEndpointDelete)!=null?ua:""},n=(Ca=(_a=s==null?void 0:s.endpoints)==null?void 0:_a.categories)!=null?Ca:{list:(fa=t.categoriesEndpoint)!=null?fa:"",create:(ha=t.categoriesEndpointCreate)!=null?ha:"",update:(ma=t.categoriesEndpointUpdate)!=null?ma:"",delete:(ga=t.categoriesEndpointDelete)!=null?ga:""},a=(va=(Sa=s==null?void 0:s.endpoints)==null?void 0:Sa.orders)!=null?va:{list:(Ea=t.ordersEndpoint)!=null?Ea:"",show:(ba=t.ordersEndpointShow)!=null?ba:"",transition:(Aa=t.ordersEndpointTransition)!=null?Aa:"",bulkTransition:(Ta=t.ordersEndpointBulk)!=null?Ta:"",note:(ya=t.ordersEndpointNote)!=null?ya:"",tracking:(Oa=t.ordersEndpointTracking)!=null?Oa:"",invoice:(Ra=t.ordersEndpointInvoice)!=null?Ra:""},l=(Ma=(xa=s==null?void 0:s.endpoints)==null?void 0:xa.customers)!=null?Ma:{list:(Na=t.customersEndpoint)!=null?Na:"",show:(Pa=t.customersEndpointShow)!=null?Pa:""},u=(Da=(ka=s==null?void 0:s.endpoints)==null?void 0:ka.coupons)!=null?Da:{list:(Ia=t.couponsEndpoint)!=null?Ia:"",create:(wa=t.couponsEndpointCreate)!=null?wa:"",update:($a=t.couponsEndpointUpdate)!=null?$a:"",delete:(Ua=t.couponsEndpointDelete)!=null?Ua:""},p=(Va=(La=s==null?void 0:s.endpoints)==null?void 0:La.tax)!=null?Va:{list:(Ya=t.taxEndpoint)!=null?Ya:"",create:(Xa=t.taxEndpointCreate)!=null?Xa:"",update:(Fa=t.taxEndpointUpdate)!=null?Fa:"",delete:(Ga=t.taxEndpointDelete)!=null?Ga:""},f=(Wa=(Ha=s==null?void 0:s.endpoints)==null?void 0:Ha.shipping)!=null?Wa:{list:(Ba=t.shippingEndpoint)!=null?Ba:"",create:(Ka=t.shippingEndpointCreate)!=null?Ka:"",update:(ja=t.shippingEndpointUpdate)!=null?ja:"",delete:(Ja=t.shippingEndpointDelete)!=null?Ja:""},_=(Za=(qa=s==null?void 0:s.endpoints)==null?void 0:qa.settings)!=null?Za:{show:(za=t.settingsEndpointShow)!=null?za:"",update:(Qa=t.settingsEndpointUpdate)!=null?Qa:""},c=(nr=(er=s==null?void 0:s.endpoints)==null?void 0:er.logs)!=null?nr:{list:(tr=t.logsEndpoint)!=null?tr:""};dp(wO,{csrfToken:e,dataset:t,config:s,endpoints:{products:o,categories:n,orders:a,customers:l,coupons:u,tax:p,shipping:f,settings:_,logs:c,dashboard:(or=(ir=(sr=s==null?void 0:s.endpoints)==null?void 0:sr.dashboard)!=null?ir:t.dashboardEndpoint)!=null?or:""}}).mount(gs)}})();
