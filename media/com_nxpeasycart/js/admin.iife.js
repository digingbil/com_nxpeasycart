(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var ta,sa,na,oa,ia,aa,ra,la,ca,da,ua,pa,_a,fa,ha,ma,ga,Ca,Sa,Ea,ba,Aa,ya,Ta,Oa,va,Ra,xa,Pa,Na,Ma,Ia,$a,wa,ka,Da,Ua,La,Ya,Xa,Fa,Va,Ga,Ha,Ba,Ka,ja,Ja,qa,Wa,za,Qa;function Cn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const xe={},qt=[],_t=()=>{},lo=()=>!1,ws=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Sn=e=>e.startsWith("onUpdate:"),We=Object.assign,En=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},$c=Object.prototype.hasOwnProperty,ve=(e,t)=>$c.call(e,t),ge=Array.isArray,Wt=e=>ls(e)==="[object Map]",zt=e=>ls(e)==="[object Set]",co=e=>ls(e)==="[object Date]",Ae=e=>typeof e=="function",Le=e=>typeof e=="string",ct=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",uo=e=>(Me(e)||Ae(e))&&Ae(e.then)&&Ae(e.catch),po=Object.prototype.toString,ls=e=>po.call(e),wc=e=>ls(e).slice(8,-1),_o=e=>ls(e)==="[object Object]",bn=e=>Le(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cs=Cn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ks=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},kc=/-\w/g,wt=ks(e=>e.replace(kc,t=>t.slice(1).toUpperCase())),Dc=/\B([A-Z])/g,kt=ks(e=>e.replace(Dc,"-$1").toLowerCase()),fo=ks(e=>e.charAt(0).toUpperCase()+e.slice(1)),An=ks(e=>e?`on${fo(e)}`:""),Dt=(e,t)=>!Object.is(e,t),Ds=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ho=(e,t,s,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:s})},Us=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mo;const Ls=()=>mo||(mo=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Ut(e){if(ge(e)){const t={};for(let s=0;s<e.length;s++){const i=e[s],n=Le(i)?Xc(i):Ut(i);if(n)for(const a in n)t[a]=n[a]}return t}else if(Le(e)||Me(e))return e}const Uc=/;(?![^(]*\))/g,Lc=/:([^]+)/,Yc=/\/\*[^]*?\*\//g;function Xc(e){const t={};return e.replace(Yc,"").split(Uc).forEach(s=>{if(s){const i=s.split(Lc);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Pe(e){let t="";if(Le(e))t=e;else if(ge(e))for(let s=0;s<e.length;s++){const i=Pe(e[s]);i&&(t+=i+" ")}else if(Me(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Fc=Cn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function go(e){return!!e||e===""}function Vc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let i=0;s&&i<e.length;i++)s=ds(e[i],t[i]);return s}function ds(e,t){if(e===t)return!0;let s=co(e),i=co(t);if(s||i)return s&&i?e.getTime()===t.getTime():!1;if(s=ct(e),i=ct(t),s||i)return e===t;if(s=ge(e),i=ge(t),s||i)return s&&i?Vc(e,t):!1;if(s=Me(e),i=Me(t),s||i){if(!s||!i)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const r in e){const d=e.hasOwnProperty(r),u=t.hasOwnProperty(r);if(d&&!u||!d&&u||!ds(e[r],t[r]))return!1}}return String(e)===String(t)}function yn(e,t){return e.findIndex(s=>ds(s,t))}const Co=e=>!!(e&&e.__v_isRef===!0),p=e=>Le(e)?e:e==null?"":ge(e)||Me(e)&&(e.toString===po||!Ae(e.toString))?Co(e)?p(e.value):JSON.stringify(e,So,2):String(e),So=(e,t)=>Co(t)?So(e,t.value):Wt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[i,n],a)=>(s[Tn(i,a)+" =>"]=n,s),{})}:zt(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Tn(s))}:ct(t)?Tn(t):Me(t)&&!ge(t)&&!_o(t)?String(t):t,Tn=(e,t="")=>{var s;return ct(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let st;class Gc{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=st,!t&&st&&(this.index=(st.scopes||(st.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=st;try{return st=this,t()}finally{st=s}}}on(){++this._on===1&&(this.prevScope=st,st=this)}off(){this._on>0&&--this._on===0&&(st=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Hc(){return st}let Ie;const On=new WeakSet;class Eo{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,st&&st.active&&st.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,On.has(this)&&(On.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ao(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ro(this),yo(this);const t=Ie,s=dt;Ie=this,dt=!0;try{return this.fn()}finally{To(this),Ie=t,dt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Pn(t);this.deps=this.depsTail=void 0,Ro(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?On.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xn(this)&&this.run()}get dirty(){return xn(this)}}let bo=0,us,ps;function Ao(e,t=!1){if(e.flags|=8,t){e.next=ps,ps=e;return}e.next=us,us=e}function vn(){bo++}function Rn(){if(--bo>0)return;if(ps){let t=ps;for(ps=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;us;){let t=us;for(us=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=s}}if(e)throw e}function yo(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function To(e){let t,s=e.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),Pn(i),Bc(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}e.deps=t,e.depsTail=s}function xn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Oo(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Oo(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===_s)||(e.globalVersion=_s,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!xn(e))))return;e.flags|=2;const t=e.dep,s=Ie,i=dt;Ie=e,dt=!0;try{yo(e);const n=e.fn(e._value);(t.version===0||Dt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{Ie=s,dt=i,To(e),e.flags&=-3}}function Pn(e,t=!1){const{dep:s,prevSub:i,nextSub:n}=e;if(i&&(i.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=i,e.nextSub=void 0),s.subs===e&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)Pn(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Bc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let dt=!0;const vo=[];function ft(){vo.push(dt),dt=!1}function ht(){const e=vo.pop();dt=e===void 0?!0:e}function Ro(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Ie;Ie=void 0;try{t()}finally{Ie=s}}}let _s=0;class Kc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Nn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ie||!dt||Ie===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Ie)s=this.activeLink=new Kc(Ie,this),Ie.deps?(s.prevDep=Ie.depsTail,Ie.depsTail.nextDep=s,Ie.depsTail=s):Ie.deps=Ie.depsTail=s,xo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=Ie.depsTail,s.nextDep=void 0,Ie.depsTail.nextDep=s,Ie.depsTail=s,Ie.deps===s&&(Ie.deps=i)}return s}trigger(t){this.version++,_s++,this.notify(t)}notify(t){vn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Rn()}}}function xo(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)xo(i)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Mn=new WeakMap,Vt=Symbol(""),In=Symbol(""),fs=Symbol("");function je(e,t,s){if(dt&&Ie){let i=Mn.get(e);i||Mn.set(e,i=new Map);let n=i.get(s);n||(i.set(s,n=new Nn),n.map=i,n.key=s),n.track()}}function Ot(e,t,s,i,n,a){const r=Mn.get(e);if(!r){_s++;return}const d=u=>{u&&u.trigger()};if(vn(),t==="clear")r.forEach(d);else{const u=ge(e),_=u&&bn(s);if(u&&s==="length"){const f=Number(i);r.forEach((l,g)=>{(g==="length"||g===fs||!ct(g)&&g>=f)&&d(l)})}else switch((s!==void 0||r.has(void 0))&&d(r.get(s)),_&&d(r.get(fs)),t){case"add":u?_&&d(r.get("length")):(d(r.get(Vt)),Wt(e)&&d(r.get(In)));break;case"delete":u||(d(r.get(Vt)),Wt(e)&&d(r.get(In)));break;case"set":Wt(e)&&d(r.get(Vt));break}}Rn()}function Qt(e){const t=Oe(e);return t===e?t:(je(t,"iterate",fs),at(e)?t:t.map(Be))}function Ys(e){return je(e=Oe(e),"iterate",fs),e}const jc={__proto__:null,[Symbol.iterator](){return $n(this,Symbol.iterator,Be)},concat(...e){return Qt(this).concat(...e.map(t=>ge(t)?Qt(t):t))},entries(){return $n(this,"entries",e=>(e[1]=Be(e[1]),e))},every(e,t){return vt(this,"every",e,t,void 0,arguments)},filter(e,t){return vt(this,"filter",e,t,s=>s.map(Be),arguments)},find(e,t){return vt(this,"find",e,t,Be,arguments)},findIndex(e,t){return vt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return vt(this,"findLast",e,t,Be,arguments)},findLastIndex(e,t){return vt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return vt(this,"forEach",e,t,void 0,arguments)},includes(...e){return wn(this,"includes",e)},indexOf(...e){return wn(this,"indexOf",e)},join(e){return Qt(this).join(e)},lastIndexOf(...e){return wn(this,"lastIndexOf",e)},map(e,t){return vt(this,"map",e,t,void 0,arguments)},pop(){return hs(this,"pop")},push(...e){return hs(this,"push",e)},reduce(e,...t){return Po(this,"reduce",e,t)},reduceRight(e,...t){return Po(this,"reduceRight",e,t)},shift(){return hs(this,"shift")},some(e,t){return vt(this,"some",e,t,void 0,arguments)},splice(...e){return hs(this,"splice",e)},toReversed(){return Qt(this).toReversed()},toSorted(e){return Qt(this).toSorted(e)},toSpliced(...e){return Qt(this).toSpliced(...e)},unshift(...e){return hs(this,"unshift",e)},values(){return $n(this,"values",Be)}};function $n(e,t,s){const i=Ys(e),n=i[t]();return i!==e&&!at(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const Jc=Array.prototype;function vt(e,t,s,i,n,a){const r=Ys(e),d=r!==e&&!at(e),u=r[t];if(u!==Jc[t]){const l=u.apply(e,a);return d?Be(l):l}let _=s;r!==e&&(d?_=function(l,g){return s.call(this,Be(l),g,e)}:s.length>2&&(_=function(l,g){return s.call(this,l,g,e)}));const f=u.call(r,_,i);return d&&n?n(f):f}function Po(e,t,s,i){const n=Ys(e);let a=s;return n!==e&&(at(e)?s.length>3&&(a=function(r,d,u){return s.call(this,r,d,u,e)}):a=function(r,d,u){return s.call(this,r,Be(d),u,e)}),n[t](a,...i)}function wn(e,t,s){const i=Oe(e);je(i,"iterate",fs);const n=i[t](...s);return(n===-1||n===!1)&&Un(s[0])?(s[0]=Oe(s[0]),i[t](...s)):n}function hs(e,t,s=[]){ft(),vn();const i=Oe(e)[t].apply(e,s);return Rn(),ht(),i}const qc=Cn("__proto__,__v_isRef,__isVue"),No=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ct));function Wc(e){ct(e)||(e=String(e));const t=Oe(this);return je(t,"has",e),t.hasOwnProperty(e)}class Mo{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,i){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return i===(n?a?Uo:Do:a?ko:wo).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const r=ge(t);if(!n){let u;if(r&&(u=jc[s]))return u;if(s==="hasOwnProperty")return Wc}const d=Reflect.get(t,s,Ke(t)?t:i);if((ct(s)?No.has(s):qc(s))||(n||je(t,"get",s),a))return d;if(Ke(d)){const u=r&&bn(s)?d:d.value;return n&&Me(u)?Dn(u):u}return Me(d)?n?Dn(d):$e(d):d}}class Io extends Mo{constructor(t=!1){super(!1,t)}set(t,s,i,n){let a=t[s];if(!this._isShallow){const u=Lt(a);if(!at(i)&&!Lt(i)&&(a=Oe(a),i=Oe(i)),!ge(t)&&Ke(a)&&!Ke(i))return u||(a.value=i),!0}const r=ge(t)&&bn(s)?Number(s)<t.length:ve(t,s),d=Reflect.set(t,s,i,Ke(t)?t:n);return t===Oe(n)&&(r?Dt(i,a)&&Ot(t,"set",s,i):Ot(t,"add",s,i)),d}deleteProperty(t,s){const i=ve(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&i&&Ot(t,"delete",s,void 0),n}has(t,s){const i=Reflect.has(t,s);return(!ct(s)||!No.has(s))&&je(t,"has",s),i}ownKeys(t){return je(t,"iterate",ge(t)?"length":Vt),Reflect.ownKeys(t)}}class $o extends Mo{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const zc=new Io,Qc=new $o,Zc=new Io(!0),ed=new $o(!0),kn=e=>e,Xs=e=>Reflect.getPrototypeOf(e);function td(e,t,s){return function(...i){const n=this.__v_raw,a=Oe(n),r=Wt(a),d=e==="entries"||e===Symbol.iterator&&r,u=e==="keys"&&r,_=n[e](...i),f=s?kn:t?Hs:Be;return!t&&je(a,"iterate",u?In:Vt),{next(){const{value:l,done:g}=_.next();return g?{value:l,done:g}:{value:d?[f(l[0]),f(l[1])]:f(l),done:g}},[Symbol.iterator](){return this}}}}function Fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sd(e,t){const s={get(n){const a=this.__v_raw,r=Oe(a),d=Oe(n);e||(Dt(n,d)&&je(r,"get",n),je(r,"get",d));const{has:u}=Xs(r),_=t?kn:e?Hs:Be;if(u.call(r,n))return _(a.get(n));if(u.call(r,d))return _(a.get(d));a!==r&&a.get(n)},get size(){const n=this.__v_raw;return!e&&je(Oe(n),"iterate",Vt),n.size},has(n){const a=this.__v_raw,r=Oe(a),d=Oe(n);return e||(Dt(n,d)&&je(r,"has",n),je(r,"has",d)),n===d?a.has(n):a.has(n)||a.has(d)},forEach(n,a){const r=this,d=r.__v_raw,u=Oe(d),_=t?kn:e?Hs:Be;return!e&&je(u,"iterate",Vt),d.forEach((f,l)=>n.call(a,_(f),_(l),r))}};return We(s,e?{add:Fs("add"),set:Fs("set"),delete:Fs("delete"),clear:Fs("clear")}:{add(n){!t&&!at(n)&&!Lt(n)&&(n=Oe(n));const a=Oe(this);return Xs(a).has.call(a,n)||(a.add(n),Ot(a,"add",n,n)),this},set(n,a){!t&&!at(a)&&!Lt(a)&&(a=Oe(a));const r=Oe(this),{has:d,get:u}=Xs(r);let _=d.call(r,n);_||(n=Oe(n),_=d.call(r,n));const f=u.call(r,n);return r.set(n,a),_?Dt(a,f)&&Ot(r,"set",n,a):Ot(r,"add",n,a),this},delete(n){const a=Oe(this),{has:r,get:d}=Xs(a);let u=r.call(a,n);u||(n=Oe(n),u=r.call(a,n)),d&&d.call(a,n);const _=a.delete(n);return u&&Ot(a,"delete",n,void 0),_},clear(){const n=Oe(this),a=n.size!==0,r=n.clear();return a&&Ot(n,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=td(n,e,t)}),s}function Vs(e,t){const s=sd(e,t);return(i,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(ve(s,n)&&n in i?s:i,n,a)}const nd={get:Vs(!1,!1)},od={get:Vs(!1,!0)},id={get:Vs(!0,!1)},ad={get:Vs(!0,!0)},wo=new WeakMap,ko=new WeakMap,Do=new WeakMap,Uo=new WeakMap;function rd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ld(e){return e.__v_skip||!Object.isExtensible(e)?0:rd(wc(e))}function $e(e){return Lt(e)?e:Gs(e,!1,zc,nd,wo)}function cd(e){return Gs(e,!1,Zc,od,ko)}function Dn(e){return Gs(e,!0,Qc,id,Do)}function NO(e){return Gs(e,!0,ed,ad,Uo)}function Gs(e,t,s,i,n){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=ld(e);if(a===0)return e;const r=n.get(e);if(r)return r;const d=new Proxy(e,a===2?i:s);return n.set(e,d),d}function Zt(e){return Lt(e)?Zt(e.__v_raw):!!(e&&e.__v_isReactive)}function Lt(e){return!!(e&&e.__v_isReadonly)}function at(e){return!!(e&&e.__v_isShallow)}function Un(e){return e?!!e.__v_raw:!1}function Oe(e){const t=e&&e.__v_raw;return t?Oe(t):e}function dd(e){return!ve(e,"__v_skip")&&Object.isExtensible(e)&&ho(e,"__v_skip",!0),e}const Be=e=>Me(e)?$e(e):e,Hs=e=>Me(e)?Dn(e):e;function Ke(e){return e?e.__v_isRef===!0:!1}function Xe(e){return ud(e,!1)}function ud(e,t){return Ke(e)?e:new pd(e,t)}class pd{constructor(t,s){this.dep=new Nn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Oe(t),this._value=s?t:Be(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,i=this.__v_isShallow||at(t)||Lt(t);t=i?t:Oe(t),Dt(t,s)&&(this._rawValue=t,this._value=i?t:Be(t),this.dep.trigger())}}function c(e){return Ke(e)?e.value:e}const _d={get:(e,t,s)=>t==="__v_raw"?e:c(Reflect.get(e,t,s)),set:(e,t,s,i)=>{const n=e[t];return Ke(n)&&!Ke(s)?(n.value=s,!0):Reflect.set(e,t,s,i)}};function Lo(e){return Zt(e)?e:new Proxy(e,_d)}class fd{constructor(t,s,i){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Nn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_s-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Ie!==this)return Ao(this,!0),!0}get value(){const t=this.dep.track();return Oo(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function hd(e,t,s=!1){let i,n;return Ae(e)?i=e:(i=e.get,n=e.set),new fd(i,n,s)}const Bs={},Ks=new WeakMap;let Gt;function md(e,t=!1,s=Gt){if(s){let i=Ks.get(s);i||Ks.set(s,i=[]),i.push(e)}}function gd(e,t,s=xe){const{immediate:i,deep:n,once:a,scheduler:r,augmentJob:d,call:u}=s,_=N=>n?N:at(N)||n===!1||n===0?Rt(N,1):Rt(N);let f,l,g,A,M=!1,v=!1;if(Ke(e)?(l=()=>e.value,M=at(e)):Zt(e)?(l=()=>_(e),M=!0):ge(e)?(v=!0,M=e.some(N=>Zt(N)||at(N)),l=()=>e.map(N=>{if(Ke(N))return N.value;if(Zt(N))return _(N);if(Ae(N))return u?u(N,2):N()})):Ae(e)?t?l=u?()=>u(e,2):e:l=()=>{if(g){ft();try{g()}finally{ht()}}const N=Gt;Gt=f;try{return u?u(e,3,[A]):e(A)}finally{Gt=N}}:l=_t,t&&n){const N=l,U=n===!0?1/0:n;l=()=>Rt(N(),U)}const D=Hc(),y=()=>{f.stop(),D&&D.active&&En(D.effects,f)};if(a&&t){const N=t;t=(...U)=>{N(...U),y()}}let q=v?new Array(e.length).fill(Bs):Bs;const H=N=>{if(!(!(f.flags&1)||!f.dirty&&!N))if(t){const U=f.run();if(n||M||(v?U.some((se,oe)=>Dt(se,q[oe])):Dt(U,q))){g&&g();const se=Gt;Gt=f;try{const oe=[U,q===Bs?void 0:v&&q[0]===Bs?[]:q,A];q=U,u?u(t,3,oe):t(...oe)}finally{Gt=se}}}else f.run()};return d&&d(H),f=new Eo(l),f.scheduler=r?()=>r(H,!1):H,A=N=>md(N,!1,f),g=f.onStop=()=>{const N=Ks.get(f);if(N){if(u)u(N,4);else for(const U of N)U();Ks.delete(f)}},t?i?H(!0):q=f.run():r?r(H.bind(null,!0),!0):f.run(),y.pause=f.pause.bind(f),y.resume=f.resume.bind(f),y.stop=y,y}function Rt(e,t=1/0,s){if(t<=0||!Me(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Ke(e))Rt(e.value,t,s);else if(ge(e))for(let i=0;i<e.length;i++)Rt(e[i],t,s);else if(zt(e)||Wt(e))e.forEach(i=>{Rt(i,t,s)});else if(_o(e)){for(const i in e)Rt(e[i],t,s);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Rt(e[i],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ms=[];let Ln=!1;function MO(e,...t){if(Ln)return;Ln=!0,ft();const s=ms.length?ms[ms.length-1].component:null,i=s&&s.appContext.config.warnHandler,n=Cd();if(i)es(i,s,11,[e+t.map(a=>{var r,d;return(d=(r=a.toString)==null?void 0:r.call(a))!=null?d:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${$i(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,...Sd(n)),console.warn(...a)}ht(),Ln=!1}function Cd(){let e=ms[ms.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const i=e.component&&e.component.parent;e=i&&i.vnode}return t}function Sd(e){const t=[];return e.forEach((s,i)=>{t.push(...i===0?[]:[`
`],...Ed(s))}),t}function Ed({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",i=e.component?e.component.parent==null:!1,n=` at <${$i(e.component,e.type,i)}`,a=">"+s;return e.props?[n,...bd(e.props),a]:[n+a]}function bd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(i=>{t.push(...Yo(i,e[i]))}),s.length>3&&t.push(" ..."),t}function Yo(e,t,s){return Le(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Ke(t)?(t=Yo(e,Oe(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Ae(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Oe(t),s?t:[`${e}=`,t])}function es(e,t,s,i){try{return i?e(...i):e()}catch(n){js(n,t,s)}}function mt(e,t,s,i){if(Ae(e)){const n=es(e,t,s,i);return n&&uo(n)&&n.catch(a=>{js(a,t,s)}),n}if(ge(e)){const n=[];for(let a=0;a<e.length;a++)n.push(mt(e[a],t,s,i));return n}}function js(e,t,s,i=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||xe;if(t){let d=t.parent;const u=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;d;){const f=d.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](e,u,_)===!1)return}d=d.parent}if(a){ft(),es(a,null,10,[e,u,_]),ht();return}}Ad(e,s,n,i,r)}function Ad(e,t,s,i=!0,n=!1){if(n)throw e;console.error(e)}const ze=[];let gt=-1;const ts=[];let Yt=null,ss=0;const Xo=Promise.resolve();let Js=null;function Fo(e){const t=Js||Xo;return e?t.then(this?e.bind(this):e):t}function yd(e){let t=gt+1,s=ze.length;for(;t<s;){const i=t+s>>>1,n=ze[i],a=gs(n);a<e||a===e&&n.flags&2?t=i+1:s=i}return t}function Yn(e){if(!(e.flags&1)){const t=gs(e),s=ze[ze.length-1];!s||!(e.flags&2)&&t>=gs(s)?ze.push(e):ze.splice(yd(t),0,e),e.flags|=1,Vo()}}function Vo(){Js||(Js=Xo.then(Bo))}function Td(e){ge(e)?ts.push(...e):Yt&&e.id===-1?Yt.splice(ss+1,0,e):e.flags&1||(ts.push(e),e.flags|=1),Vo()}function Go(e,t,s=gt+1){for(;s<ze.length;s++){const i=ze[s];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;ze.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Ho(e){if(ts.length){const t=[...new Set(ts)].sort((s,i)=>gs(s)-gs(i));if(ts.length=0,Yt){Yt.push(...t);return}for(Yt=t,ss=0;ss<Yt.length;ss++){const s=Yt[ss];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Yt=null,ss=0}}const gs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Bo(e){try{for(gt=0;gt<ze.length;gt++){const t=ze[gt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),es(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;gt<ze.length;gt++){const t=ze[gt];t&&(t.flags&=-2)}gt=-1,ze.length=0,Ho(),Js=null,(ze.length||ts.length)&&Bo()}}let Je=null,Ko=null;function qs(e){const t=Je;return Je=e,Ko=e&&e.type.__scopeId||null,t}function jo(e,t=Je,s){if(!t||e._n)return e;const i=(...n)=>{i._d&&vi(-1);const a=qs(t);let r;try{r=e(...n)}finally{qs(a),i._d&&vi(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function ae(e,t){if(Je===null)return e;const s=an(Je),i=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,r,d,u=xe]=t[n];a&&(Ae(a)&&(a={mounted:a,updated:a}),a.deep&&Rt(r),i.push({dir:a,instance:s,value:r,oldValue:void 0,arg:d,modifiers:u}))}return e}function Ht(e,t,s,i){const n=e.dirs,a=t&&t.dirs;for(let r=0;r<n.length;r++){const d=n[r];a&&(d.oldValue=a[r].value);let u=d.dir[i];u&&(ft(),mt(u,s,8,[e.el,d,e,t]),ht())}}const Od=Symbol("_vte"),vd=e=>e.__isTeleport,Rd=Symbol("_leaveCb");function Xn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Xn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Jo(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Ws=new WeakMap;function Cs(e,t,s,i,n=!1){if(ge(e)){e.forEach((M,v)=>Cs(M,t&&(ge(t)?t[v]:t),s,i,n));return}if(ns(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Cs(e,t,s,i.component.subTree);return}const a=i.shapeFlag&4?an(i.component):i.el,r=n?null:a,{i:d,r:u}=e,_=t&&t.r,f=d.refs===xe?d.refs={}:d.refs,l=d.setupState,g=Oe(l),A=l===xe?lo:M=>ve(g,M);if(_!=null&&_!==u){if(qo(t),Le(_))f[_]=null,A(_)&&(l[_]=null);else if(Ke(_)){_.value=null;const M=t;M.k&&(f[M.k]=null)}}if(Ae(u))es(u,d,12,[r,f]);else{const M=Le(u),v=Ke(u);if(M||v){const D=()=>{if(e.f){const y=M?A(u)?l[u]:f[u]:u.value;if(n)ge(y)&&En(y,a);else if(ge(y))y.includes(a)||y.push(a);else if(M)f[u]=[a],A(u)&&(l[u]=f[u]);else{const q=[a];u.value=q,e.k&&(f[e.k]=q)}}else M?(f[u]=r,A(u)&&(l[u]=r)):v&&(u.value=r,e.k&&(f[e.k]=r))};if(r){const y=()=>{D(),Ws.delete(e)};y.id=-1,Ws.set(e,y),ot(y,s)}else qo(e),D()}}}function qo(e){const t=Ws.get(e);t&&(t.flags|=8,Ws.delete(e))}Ls().requestIdleCallback,Ls().cancelIdleCallback;const ns=e=>!!e.type.__asyncLoader,Wo=e=>e.type.__isKeepAlive;function xd(e,t){zo(e,"a",t)}function Pd(e,t){zo(e,"da",t)}function zo(e,t,s=Ze){const i=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(zs(t,i,s),s){let n=s.parent;for(;n&&n.parent;)Wo(n.parent.vnode)&&Nd(i,t,s,n),n=n.parent}}function Nd(e,t,s,i){const n=zs(t,e,i,!0);Zo(()=>{En(i[t],n)},s)}function zs(e,t,s=Ze,i=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...r)=>{ft();const d=Ts(s),u=mt(t,s,e,r);return d(),ht(),u});return i?n.unshift(a):n.push(a),a}}const xt=e=>(t,s=Ze)=>{(!Os||e==="sp")&&zs(e,(...i)=>t(...i),s)},Md=xt("bm"),nt=xt("m"),Id=xt("bu"),$d=xt("u"),Qo=xt("bum"),Zo=xt("um"),wd=xt("sp"),kd=xt("rtg"),Dd=xt("rtc");function Ud(e,t=Ze){zs("ec",e,t)}const Ld=Symbol.for("v-ndc");function Te(e,t,s,i){let n;const a=s,r=ge(e);if(r||Le(e)){const d=r&&Zt(e);let u=!1,_=!1;d&&(u=!at(e),_=Lt(e),e=Ys(e)),n=new Array(e.length);for(let f=0,l=e.length;f<l;f++)n[f]=t(u?_?Hs(Be(e[f])):Be(e[f]):e[f],f,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let d=0;d<e;d++)n[d]=t(d+1,d,void 0,a)}else if(Me(e))if(e[Symbol.iterator])n=Array.from(e,(d,u)=>t(d,u,void 0,a));else{const d=Object.keys(e);n=new Array(d.length);for(let u=0,_=d.length;u<_;u++){const f=d[u];n[u]=t(e[f],f,u,a)}}else n=[];return n}function Yd(e,t,s={},i,n){if(Je.ce||Je.parent&&ns(Je.parent)&&Je.parent.ce){const _=Object.keys(s).length>0;return T(),rt(Ee,null,[Fe("slot",s,i)],_?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),T();const r=a&&ei(a(s)),d=s.key||r&&r.key,u=rt(Ee,{key:(d&&!ct(d)?d:`_${t}`)+(!r&&i?"_fb":"")},r||[],r&&e._===1?64:-2);return u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),a&&a._c&&(a._d=!0),u}function ei(e){return e.some(t=>qn(t)?!(t.type===Pt||t.type===Ee&&!ei(t.children)):!0)?e:null}const Fn=e=>e?Ni(e)?an(e):Fn(e.parent):null,Ss=We(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Fn(e.parent),$root:e=>Fn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>oi(e),$forceUpdate:e=>e.f||(e.f=()=>{Yn(e.update)}),$nextTick:e=>e.n||(e.n=Fo.bind(e.proxy)),$watch:e=>ru.bind(e)}),Vn=(e,t)=>e!==xe&&!e.__isScriptSetup&&ve(e,t),Xd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:a,accessCache:r,type:d,appContext:u}=e;let _;if(t[0]!=="$"){const A=r[t];if(A!==void 0)switch(A){case 1:return i[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(Vn(i,t))return r[t]=1,i[t];if(n!==xe&&ve(n,t))return r[t]=2,n[t];if((_=e.propsOptions[0])&&ve(_,t))return r[t]=3,a[t];if(s!==xe&&ve(s,t))return r[t]=4,s[t];Gn&&(r[t]=0)}}const f=Ss[t];let l,g;if(f)return t==="$attrs"&&je(e.attrs,"get",""),f(e);if((l=d.__cssModules)&&(l=l[t]))return l;if(s!==xe&&ve(s,t))return r[t]=4,s[t];if(g=u.config.globalProperties,ve(g,t))return g[t]},set({_:e},t,s){const{data:i,setupState:n,ctx:a}=e;return Vn(n,t)?(n[t]=s,!0):i!==xe&&ve(i,t)?(i[t]=s,!0):ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:i,appContext:n,propsOptions:a,type:r}},d){let u,_;return!!(s[d]||e!==xe&&d[0]!=="$"&&ve(e,d)||Vn(t,d)||(u=a[0])&&ve(u,d)||ve(i,d)||ve(Ss,d)||ve(n.config.globalProperties,d)||(_=r.__cssModules)&&_[d])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:ve(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ti(e){return ge(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Gn=!0;function Fd(e){const t=oi(e),s=e.proxy,i=e.ctx;Gn=!1,t.beforeCreate&&si(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:r,watch:d,provide:u,inject:_,created:f,beforeMount:l,mounted:g,beforeUpdate:A,updated:M,activated:v,deactivated:D,beforeDestroy:y,beforeUnmount:q,destroyed:H,unmounted:N,render:U,renderTracked:se,renderTriggered:oe,errorCaptured:ce,serverPrefetch:me,expose:j,inheritAttrs:B,components:W,directives:F,filters:ee}=t;if(_&&Vd(_,i,null),r)for(const z in r){const P=r[z];Ae(P)&&(i[z]=P.bind(s))}if(n){const z=n.call(s,s);Me(z)&&(e.data=$e(z))}if(Gn=!0,a)for(const z in a){const P=a[z],I=Ae(P)?P.bind(s,s):Ae(P.get)?P.get.bind(s,s):_t,L=!Ae(P)&&Ae(P.set)?P.set.bind(s):_t,$=Ce({get:I,set:L});Object.defineProperty(i,z,{enumerable:!0,configurable:!0,get:()=>$.value,set:V=>$.value=V})}if(d)for(const z in d)ni(d[z],i,s,z);if(u){const z=Ae(u)?u.call(s):u;Reflect.ownKeys(z).forEach(P=>{Jd(P,z[P])})}f&&si(f,e,"c");function te(z,P){ge(P)?P.forEach(I=>z(I.bind(s))):P&&z(P.bind(s))}if(te(Md,l),te(nt,g),te(Id,A),te($d,M),te(xd,v),te(Pd,D),te(Ud,ce),te(Dd,se),te(kd,oe),te(Qo,q),te(Zo,N),te(wd,me),ge(j))if(j.length){const z=e.exposed||(e.exposed={});j.forEach(P=>{Object.defineProperty(z,P,{get:()=>s[P],set:I=>s[P]=I,enumerable:!0})})}else e.exposed||(e.exposed={});U&&e.render===_t&&(e.render=U),B!=null&&(e.inheritAttrs=B),W&&(e.components=W),F&&(e.directives=F),me&&Jo(e)}function Vd(e,t,s=_t){ge(e)&&(e=Hn(e));for(const i in e){const n=e[i];let a;Me(n)?"default"in n?a=Zs(n.from||i,n.default,!0):a=Zs(n.from||i):a=Zs(n),Ke(a)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:r=>a.value=r}):t[i]=a}}function si(e,t,s){mt(ge(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,s)}function ni(e,t,s,i){let n=i.includes(".")?bi(s,i):()=>s[i];if(Le(e)){const a=t[e];Ae(a)&&ke(n,a)}else if(Ae(e))ke(n,e.bind(s));else if(Me(e))if(ge(e))e.forEach(a=>ni(a,t,s,i));else{const a=Ae(e.handler)?e.handler.bind(s):t[e.handler];Ae(a)&&ke(n,a,e)}}function oi(e){const t=e.type,{mixins:s,extends:i}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:r}}=e.appContext,d=a.get(t);let u;return d?u=d:!n.length&&!s&&!i?u=t:(u={},n.length&&n.forEach(_=>Qs(u,_,r,!0)),Qs(u,t,r)),Me(t)&&a.set(t,u),u}function Qs(e,t,s,i=!1){const{mixins:n,extends:a}=t;a&&Qs(e,a,s,!0),n&&n.forEach(r=>Qs(e,r,s,!0));for(const r in t)if(!(i&&r==="expose")){const d=Gd[r]||s&&s[r];e[r]=d?d(e[r],t[r]):t[r]}return e}const Gd={data:ii,props:ai,emits:ai,methods:Es,computed:Es,beforeCreate:Qe,created:Qe,beforeMount:Qe,mounted:Qe,beforeUpdate:Qe,updated:Qe,beforeDestroy:Qe,beforeUnmount:Qe,destroyed:Qe,unmounted:Qe,activated:Qe,deactivated:Qe,errorCaptured:Qe,serverPrefetch:Qe,components:Es,directives:Es,watch:Bd,provide:ii,inject:Hd};function ii(e,t){return t?e?function(){return We(Ae(e)?e.call(this,this):e,Ae(t)?t.call(this,this):t)}:t:e}function Hd(e,t){return Es(Hn(e),Hn(t))}function Hn(e){if(ge(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Qe(e,t){return e?[...new Set([].concat(e,t))]:t}function Es(e,t){return e?We(Object.create(null),e,t):t}function ai(e,t){return e?ge(e)&&ge(t)?[...new Set([...e,...t])]:We(Object.create(null),ti(e),ti(t!=null?t:{})):t}function Bd(e,t){if(!e)return t;if(!t)return e;const s=We(Object.create(null),e);for(const i in t)s[i]=Qe(e[i],t[i]);return s}function ri(){return{app:null,config:{isNativeTag:lo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Kd=0;function jd(e,t){return function(i,n=null){Ae(i)||(i=We({},i)),n!=null&&!Me(n)&&(n=null);const a=ri(),r=new WeakSet,d=[];let u=!1;const _=a.app={_uid:Kd++,_component:i,_props:n,_container:null,_context:a,_instance:null,version:$u,get config(){return a.config},set config(f){},use(f,...l){return r.has(f)||(f&&Ae(f.install)?(r.add(f),f.install(_,...l)):Ae(f)&&(r.add(f),f(_,...l))),_},mixin(f){return a.mixins.includes(f)||a.mixins.push(f),_},component(f,l){return l?(a.components[f]=l,_):a.components[f]},directive(f,l){return l?(a.directives[f]=l,_):a.directives[f]},mount(f,l,g){if(!u){const A=_._ceVNode||Fe(i,n);return A.appContext=a,g===!0?g="svg":g===!1&&(g=void 0),e(A,f,g),u=!0,_._container=f,f.__vue_app__=_,an(A.component)}},onUnmount(f){d.push(f)},unmount(){u&&(mt(d,_._instance,16),e(null,_._container),delete _._container.__vue_app__)},provide(f,l){return a.provides[f]=l,_},runWithContext(f){const l=os;os=_;try{return f()}finally{os=l}}};return _}}let os=null;function Jd(e,t){if(Ze){let s=Ze.provides;const i=Ze.parent&&Ze.parent.provides;i===s&&(s=Ze.provides=Object.create(i)),s[e]=t}}function Zs(e,t,s=!1){const i=Tu();if(i||os){let n=os?os._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ae(t)?t.call(i&&i.proxy):t}}const li={},ci=()=>Object.create(li),di=e=>Object.getPrototypeOf(e)===li;function qd(e,t,s,i=!1){const n={},a=ci();e.propsDefaults=Object.create(null),ui(e,t,n,a);for(const r in e.propsOptions[0])r in n||(n[r]=void 0);s?e.props=i?n:cd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function Wd(e,t,s,i){const{props:n,attrs:a,vnode:{patchFlag:r}}=e,d=Oe(n),[u]=e.propsOptions;let _=!1;if((i||r>0)&&!(r&16)){if(r&8){const f=e.vnode.dynamicProps;for(let l=0;l<f.length;l++){let g=f[l];if(en(e.emitsOptions,g))continue;const A=t[g];if(u)if(ve(a,g))A!==a[g]&&(a[g]=A,_=!0);else{const M=wt(g);n[M]=Bn(u,d,M,A,e,!1)}else A!==a[g]&&(a[g]=A,_=!0)}}}else{ui(e,t,n,a)&&(_=!0);let f;for(const l in d)(!t||!ve(t,l)&&((f=kt(l))===l||!ve(t,f)))&&(u?s&&(s[l]!==void 0||s[f]!==void 0)&&(n[l]=Bn(u,d,l,void 0,e,!0)):delete n[l]);if(a!==d)for(const l in a)(!t||!ve(t,l))&&(delete a[l],_=!0)}_&&Ot(e.attrs,"set","")}function ui(e,t,s,i){const[n,a]=e.propsOptions;let r=!1,d;if(t)for(let u in t){if(cs(u))continue;const _=t[u];let f;n&&ve(n,f=wt(u))?!a||!a.includes(f)?s[f]=_:(d||(d={}))[f]=_:en(e.emitsOptions,u)||(!(u in i)||_!==i[u])&&(i[u]=_,r=!0)}if(a){const u=Oe(s),_=d||xe;for(let f=0;f<a.length;f++){const l=a[f];s[l]=Bn(n,u,l,_[l],e,!ve(_,l))}}return r}function Bn(e,t,s,i,n,a){const r=e[s];if(r!=null){const d=ve(r,"default");if(d&&i===void 0){const u=r.default;if(r.type!==Function&&!r.skipFactory&&Ae(u)){const{propsDefaults:_}=n;if(s in _)i=_[s];else{const f=Ts(n);i=_[s]=u.call(null,t),f()}}else i=u;n.ce&&n.ce._setProp(s,i)}r[0]&&(a&&!d?i=!1:r[1]&&(i===""||i===kt(s))&&(i=!0))}return i}const zd=new WeakMap;function pi(e,t,s=!1){const i=s?zd:t.propsCache,n=i.get(e);if(n)return n;const a=e.props,r={},d=[];let u=!1;if(!Ae(e)){const f=l=>{u=!0;const[g,A]=pi(l,t,!0);We(r,g),A&&d.push(...A)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!a&&!u)return Me(e)&&i.set(e,qt),qt;if(ge(a))for(let f=0;f<a.length;f++){const l=wt(a[f]);_i(l)&&(r[l]=xe)}else if(a)for(const f in a){const l=wt(f);if(_i(l)){const g=a[f],A=r[l]=ge(g)||Ae(g)?{type:g}:We({},g),M=A.type;let v=!1,D=!0;if(ge(M))for(let y=0;y<M.length;++y){const q=M[y],H=Ae(q)&&q.name;if(H==="Boolean"){v=!0;break}else H==="String"&&(D=!1)}else v=Ae(M)&&M.name==="Boolean";A[0]=v,A[1]=D,(v||ve(A,"default"))&&d.push(l)}}const _=[r,d];return Me(e)&&i.set(e,_),_}function _i(e){return e[0]!=="$"&&!cs(e)}const Kn=e=>e==="_"||e==="_ctx"||e==="$stable",jn=e=>ge(e)?e.map(Ct):[Ct(e)],Qd=(e,t,s)=>{if(t._n)return t;const i=jo((...n)=>jn(t(...n)),s);return i._c=!1,i},fi=(e,t,s)=>{const i=e._ctx;for(const n in e){if(Kn(n))continue;const a=e[n];if(Ae(a))t[n]=Qd(n,a,i);else if(a!=null){const r=jn(a);t[n]=()=>r}}},hi=(e,t)=>{const s=jn(t);e.slots.default=()=>s},mi=(e,t,s)=>{for(const i in t)(s||!Kn(i))&&(e[i]=t[i])},Zd=(e,t,s)=>{const i=e.slots=ci();if(e.vnode.shapeFlag&32){const n=t._;n?(mi(i,t,s),s&&ho(i,"_",n,!0)):fi(t,i)}else t&&hi(e,t)},eu=(e,t,s)=>{const{vnode:i,slots:n}=e;let a=!0,r=xe;if(i.shapeFlag&32){const d=t._;d?s&&d===1?a=!1:mi(n,t,s):(a=!t.$stable,fi(t,n)),r=t}else t&&(hi(e,t),r={default:1});if(a)for(const d in n)!Kn(d)&&r[d]==null&&delete n[d]},ot=hu;function tu(e){return su(e)}function su(e,t){const s=Ls();s.__VUE__=!0;const{insert:i,remove:n,patchProp:a,createElement:r,createText:d,createComment:u,setText:_,setElementText:f,parentNode:l,nextSibling:g,setScopeId:A=_t,insertStaticContent:M}=e,v=(m,E,Y,K=null,C=null,h=null,b=void 0,O=null,w=!!E.dynamicChildren)=>{if(m===E)return;m&&!ys(m,E)&&(K=S(m),V(m,C,h,!0),m=null),E.patchFlag===-2&&(w=!1,E.dynamicChildren=null);const{type:k,ref:Z,shapeFlag:G}=E;switch(k){case tn:D(m,E,Y,K);break;case Pt:y(m,E,Y,K);break;case sn:m==null&&q(E,Y,K,b);break;case Ee:W(m,E,Y,K,C,h,b,O,w);break;default:G&1?U(m,E,Y,K,C,h,b,O,w):G&6?F(m,E,Y,K,C,h,b,O,w):(G&64||G&128)&&k.process(m,E,Y,K,C,h,b,O,w,de)}Z!=null&&C?Cs(Z,m&&m.ref,h,E||m,!E):Z==null&&m&&m.ref!=null&&Cs(m.ref,null,h,m,!0)},D=(m,E,Y,K)=>{if(m==null)i(E.el=d(E.children),Y,K);else{const C=E.el=m.el;E.children!==m.children&&_(C,E.children)}},y=(m,E,Y,K)=>{m==null?i(E.el=u(E.children||""),Y,K):E.el=m.el},q=(m,E,Y,K)=>{[m.el,m.anchor]=M(m.children,E,Y,K,m.el,m.anchor)},H=({el:m,anchor:E},Y,K)=>{let C;for(;m&&m!==E;)C=g(m),i(m,Y,K),m=C;i(E,Y,K)},N=({el:m,anchor:E})=>{let Y;for(;m&&m!==E;)Y=g(m),n(m),m=Y;n(E)},U=(m,E,Y,K,C,h,b,O,w)=>{E.type==="svg"?b="svg":E.type==="math"&&(b="mathml"),m==null?se(E,Y,K,C,h,b,O,w):me(m,E,C,h,b,O,w)},se=(m,E,Y,K,C,h,b,O)=>{let w,k;const{props:Z,shapeFlag:G,transition:ne,dirs:re}=m;if(w=m.el=r(m.type,h,Z&&Z.is,Z),G&8?f(w,m.children):G&16&&ce(m.children,w,null,K,C,Jn(m,h),b,O),re&&Ht(m,null,K,"created"),oe(w,m,m.scopeId,b,K),Z){for(const Se in Z)Se!=="value"&&!cs(Se)&&a(w,Se,null,Z[Se],h,K);"value"in Z&&a(w,"value",null,Z.value,h),(k=Z.onVnodeBeforeMount)&&St(k,K,m)}re&&Ht(m,null,K,"beforeMount");const fe=nu(C,ne);fe&&ne.beforeEnter(w),i(w,E,Y),((k=Z&&Z.onVnodeMounted)||fe||re)&&ot(()=>{k&&St(k,K,m),fe&&ne.enter(w),re&&Ht(m,null,K,"mounted")},C)},oe=(m,E,Y,K,C)=>{if(Y&&A(m,Y),K)for(let h=0;h<K.length;h++)A(m,K[h]);if(C){let h=C.subTree;if(E===h||Oi(h.type)&&(h.ssContent===E||h.ssFallback===E)){const b=C.vnode;oe(m,b,b.scopeId,b.slotScopeIds,C.parent)}}},ce=(m,E,Y,K,C,h,b,O,w=0)=>{for(let k=w;k<m.length;k++){const Z=m[k]=O?Xt(m[k]):Ct(m[k]);v(null,Z,E,Y,K,C,h,b,O)}},me=(m,E,Y,K,C,h,b)=>{const O=E.el=m.el;let{patchFlag:w,dynamicChildren:k,dirs:Z}=E;w|=m.patchFlag&16;const G=m.props||xe,ne=E.props||xe;let re;if(Y&&Bt(Y,!1),(re=ne.onVnodeBeforeUpdate)&&St(re,Y,E,m),Z&&Ht(E,m,Y,"beforeUpdate"),Y&&Bt(Y,!0),(G.innerHTML&&ne.innerHTML==null||G.textContent&&ne.textContent==null)&&f(O,""),k?j(m.dynamicChildren,k,O,Y,K,Jn(E,C),h):b||P(m,E,O,null,Y,K,Jn(E,C),h,!1),w>0){if(w&16)B(O,G,ne,Y,C);else if(w&2&&G.class!==ne.class&&a(O,"class",null,ne.class,C),w&4&&a(O,"style",G.style,ne.style,C),w&8){const fe=E.dynamicProps;for(let Se=0;Se<fe.length;Se++){const be=fe[Se],Ne=G[be],Ve=ne[be];(Ve!==Ne||be==="value")&&a(O,be,Ne,Ve,C,Y)}}w&1&&m.children!==E.children&&f(O,E.children)}else!b&&k==null&&B(O,G,ne,Y,C);((re=ne.onVnodeUpdated)||Z)&&ot(()=>{re&&St(re,Y,E,m),Z&&Ht(E,m,Y,"updated")},K)},j=(m,E,Y,K,C,h,b)=>{for(let O=0;O<E.length;O++){const w=m[O],k=E[O],Z=w.el&&(w.type===Ee||!ys(w,k)||w.shapeFlag&198)?l(w.el):Y;v(w,k,Z,null,K,C,h,b,!0)}},B=(m,E,Y,K,C)=>{if(E!==Y){if(E!==xe)for(const h in E)!cs(h)&&!(h in Y)&&a(m,h,E[h],null,C,K);for(const h in Y){if(cs(h))continue;const b=Y[h],O=E[h];b!==O&&h!=="value"&&a(m,h,O,b,C,K)}"value"in Y&&a(m,"value",E.value,Y.value,C)}},W=(m,E,Y,K,C,h,b,O,w)=>{const k=E.el=m?m.el:d(""),Z=E.anchor=m?m.anchor:d("");let{patchFlag:G,dynamicChildren:ne,slotScopeIds:re}=E;re&&(O=O?O.concat(re):re),m==null?(i(k,Y,K),i(Z,Y,K),ce(E.children||[],Y,Z,C,h,b,O,w)):G>0&&G&64&&ne&&m.dynamicChildren?(j(m.dynamicChildren,ne,Y,C,h,b,O),(E.key!=null||C&&E===C.subTree)&&gi(m,E,!0)):P(m,E,Y,Z,C,h,b,O,w)},F=(m,E,Y,K,C,h,b,O,w)=>{E.slotScopeIds=O,m==null?E.shapeFlag&512?C.ctx.activate(E,Y,K,b,w):ee(E,Y,K,C,h,b,w):ue(m,E,w)},ee=(m,E,Y,K,C,h,b)=>{const O=m.component=yu(m,K,C);if(Wo(m)&&(O.ctx.renderer=de),Ou(O,!1,b),O.asyncDep){if(C&&C.registerDep(O,te,b),!m.el){const w=O.subTree=Fe(Pt);y(null,w,E,Y),m.placeholder=w.el}}else te(O,m,E,Y,C,h,b)},ue=(m,E,Y)=>{const K=E.component=m.component;if(_u(m,E,Y))if(K.asyncDep&&!K.asyncResolved){z(K,E,Y);return}else K.next=E,K.update();else E.el=m.el,K.vnode=E},te=(m,E,Y,K,C,h,b)=>{const O=()=>{if(m.isMounted){let{next:G,bu:ne,u:re,parent:fe,vnode:Se}=m;{const De=Ci(m);if(De){G&&(G.el=Se.el,z(m,G,b)),De.asyncDep.then(()=>{m.isUnmounted||O()});return}}let be=G,Ne;Bt(m,!1),G?(G.el=Se.el,z(m,G,b)):G=Se,ne&&Ds(ne),(Ne=G.props&&G.props.onVnodeBeforeUpdate)&&St(Ne,fe,G,Se),Bt(m,!0);const Ve=yi(m),et=m.subTree;m.subTree=Ve,v(et,Ve,l(et.el),S(et),m,C,h),G.el=Ve.el,be===null&&fu(m,Ve.el),re&&ot(re,C),(Ne=G.props&&G.props.onVnodeUpdated)&&ot(()=>St(Ne,fe,G,Se),C)}else{let G;const{el:ne,props:re}=E,{bm:fe,m:Se,parent:be,root:Ne,type:Ve}=m,et=ns(E);Bt(m,!1),fe&&Ds(fe),!et&&(G=re&&re.onVnodeBeforeMount)&&St(G,be,E),Bt(m,!0);{Ne.ce&&Ne.ce._def.shadowRoot!==!1&&Ne.ce._injectChildStyle(Ve);const De=m.subTree=yi(m);v(null,De,Y,K,m,C,h),E.el=De.el}if(Se&&ot(Se,C),!et&&(G=re&&re.onVnodeMounted)){const De=E;ot(()=>St(G,be,De),C)}(E.shapeFlag&256||be&&ns(be.vnode)&&be.vnode.shapeFlag&256)&&m.a&&ot(m.a,C),m.isMounted=!0,E=Y=K=null}};m.scope.on();const w=m.effect=new Eo(O);m.scope.off();const k=m.update=w.run.bind(w),Z=m.job=w.runIfDirty.bind(w);Z.i=m,Z.id=m.uid,w.scheduler=()=>Yn(Z),Bt(m,!0),k()},z=(m,E,Y)=>{E.component=m;const K=m.vnode.props;m.vnode=E,m.next=null,Wd(m,E.props,K,Y),eu(m,E.children,Y),ft(),Go(m),ht()},P=(m,E,Y,K,C,h,b,O,w=!1)=>{const k=m&&m.children,Z=m?m.shapeFlag:0,G=E.children,{patchFlag:ne,shapeFlag:re}=E;if(ne>0){if(ne&128){L(k,G,Y,K,C,h,b,O,w);return}else if(ne&256){I(k,G,Y,K,C,h,b,O,w);return}}re&8?(Z&16&&R(k,C,h),G!==k&&f(Y,G)):Z&16?re&16?L(k,G,Y,K,C,h,b,O,w):R(k,C,h,!0):(Z&8&&f(Y,""),re&16&&ce(G,Y,K,C,h,b,O,w))},I=(m,E,Y,K,C,h,b,O,w)=>{m=m||qt,E=E||qt;const k=m.length,Z=E.length,G=Math.min(k,Z);let ne;for(ne=0;ne<G;ne++){const re=E[ne]=w?Xt(E[ne]):Ct(E[ne]);v(m[ne],re,Y,null,C,h,b,O,w)}k>Z?R(m,C,h,!0,!1,G):ce(E,Y,K,C,h,b,O,w,G)},L=(m,E,Y,K,C,h,b,O,w)=>{let k=0;const Z=E.length;let G=m.length-1,ne=Z-1;for(;k<=G&&k<=ne;){const re=m[k],fe=E[k]=w?Xt(E[k]):Ct(E[k]);if(ys(re,fe))v(re,fe,Y,null,C,h,b,O,w);else break;k++}for(;k<=G&&k<=ne;){const re=m[G],fe=E[ne]=w?Xt(E[ne]):Ct(E[ne]);if(ys(re,fe))v(re,fe,Y,null,C,h,b,O,w);else break;G--,ne--}if(k>G){if(k<=ne){const re=ne+1,fe=re<Z?E[re].el:K;for(;k<=ne;)v(null,E[k]=w?Xt(E[k]):Ct(E[k]),Y,fe,C,h,b,O,w),k++}}else if(k>ne)for(;k<=G;)V(m[k],C,h,!0),k++;else{const re=k,fe=k,Se=new Map;for(k=fe;k<=ne;k++){const Ue=E[k]=w?Xt(E[k]):Ct(E[k]);Ue.key!=null&&Se.set(Ue.key,k)}let be,Ne=0;const Ve=ne-fe+1;let et=!1,De=0;const lt=new Array(Ve);for(k=0;k<Ve;k++)lt[k]=0;for(k=re;k<=G;k++){const Ue=m[k];if(Ne>=Ve){V(Ue,C,h,!0);continue}let He;if(Ue.key!=null)He=Se.get(Ue.key);else for(be=fe;be<=ne;be++)if(lt[be-fe]===0&&ys(Ue,E[be])){He=be;break}He===void 0?V(Ue,C,h,!0):(lt[He-fe]=k+1,He>=De?De=He:et=!0,v(Ue,E[He],Y,null,C,h,b,O,w),Ne++)}const qe=et?ou(lt):qt;for(be=qe.length-1,k=Ve-1;k>=0;k--){const Ue=fe+k,He=E[Ue],It=E[Ue+1],$t=Ue+1<Z?It.el||It.placeholder:K;lt[k]===0?v(null,He,Y,$t,C,h,b,O,w):et&&(be<0||k!==qe[be]?$(He,Y,$t,2):be--)}}},$=(m,E,Y,K,C=null)=>{const{el:h,type:b,transition:O,children:w,shapeFlag:k}=m;if(k&6){$(m.component.subTree,E,Y,K);return}if(k&128){m.suspense.move(E,Y,K);return}if(k&64){b.move(m,E,Y,de);return}if(b===Ee){i(h,E,Y);for(let G=0;G<w.length;G++)$(w[G],E,Y,K);i(m.anchor,E,Y);return}if(b===sn){H(m,E,Y);return}if(K!==2&&k&1&&O)if(K===0)O.beforeEnter(h),i(h,E,Y),ot(()=>O.enter(h),C);else{const{leave:G,delayLeave:ne,afterLeave:re}=O,fe=()=>{m.ctx.isUnmounted?n(h):i(h,E,Y)},Se=()=>{h._isLeaving&&h[Rd](!0),G(h,()=>{fe(),re&&re()})};ne?ne(h,fe,Se):Se()}else i(h,E,Y)},V=(m,E,Y,K=!1,C=!1)=>{const{type:h,props:b,ref:O,children:w,dynamicChildren:k,shapeFlag:Z,patchFlag:G,dirs:ne,cacheIndex:re}=m;if(G===-2&&(C=!1),O!=null&&(ft(),Cs(O,null,Y,m,!0),ht()),re!=null&&(E.renderCache[re]=void 0),Z&256){E.ctx.deactivate(m);return}const fe=Z&1&&ne,Se=!ns(m);let be;if(Se&&(be=b&&b.onVnodeBeforeUnmount)&&St(be,E,m),Z&6)X(m.component,Y,K);else{if(Z&128){m.suspense.unmount(Y,K);return}fe&&Ht(m,null,E,"beforeUnmount"),Z&64?m.type.remove(m,E,Y,de,K):k&&!k.hasOnce&&(h!==Ee||G>0&&G&64)?R(k,E,Y,!1,!0):(h===Ee&&G&384||!C&&Z&16)&&R(w,E,Y),K&&Q(m)}(Se&&(be=b&&b.onVnodeUnmounted)||fe)&&ot(()=>{be&&St(be,E,m),fe&&Ht(m,null,E,"unmounted")},Y)},Q=m=>{const{type:E,el:Y,anchor:K,transition:C}=m;if(E===Ee){le(Y,K);return}if(E===sn){N(m);return}const h=()=>{n(Y),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(m.shapeFlag&1&&C&&!C.persisted){const{leave:b,delayLeave:O}=C,w=()=>b(Y,h);O?O(m.el,h,w):w()}else h()},le=(m,E)=>{let Y;for(;m!==E;)Y=g(m),n(m),m=Y;n(E)},X=(m,E,Y)=>{const{bum:K,scope:C,job:h,subTree:b,um:O,m:w,a:k}=m;Si(w),Si(k),K&&Ds(K),C.stop(),h&&(h.flags|=8,V(b,m,E,Y)),O&&ot(O,E),ot(()=>{m.isUnmounted=!0},E)},R=(m,E,Y,K=!1,C=!1,h=0)=>{for(let b=h;b<m.length;b++)V(m[b],E,Y,K,C)},S=m=>{if(m.shapeFlag&6)return S(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const E=g(m.anchor||m.el),Y=E&&E[Od];return Y?g(Y):E};let ie=!1;const pe=(m,E,Y)=>{m==null?E._vnode&&V(E._vnode,null,null,!0):v(E._vnode||null,m,E,null,null,null,Y),E._vnode=m,ie||(ie=!0,Go(),Ho(),ie=!1)},de={p:v,um:V,m:$,r:Q,mt:ee,mc:ce,pc:P,pbc:j,n:S,o:e};return{render:pe,hydrate:void 0,createApp:jd(pe)}}function Jn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Bt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function nu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function gi(e,t,s=!1){const i=e.children,n=t.children;if(ge(i)&&ge(n))for(let a=0;a<i.length;a++){const r=i[a];let d=n[a];d.shapeFlag&1&&!d.dynamicChildren&&((d.patchFlag<=0||d.patchFlag===32)&&(d=n[a]=Xt(n[a]),d.el=r.el),!s&&d.patchFlag!==-2&&gi(r,d)),d.type===tn&&d.patchFlag!==-1&&(d.el=r.el),d.type===Pt&&!d.el&&(d.el=r.el)}}function ou(e){const t=e.slice(),s=[0];let i,n,a,r,d;const u=e.length;for(i=0;i<u;i++){const _=e[i];if(_!==0){if(n=s[s.length-1],e[n]<_){t[i]=n,s.push(i);continue}for(a=0,r=s.length-1;a<r;)d=a+r>>1,e[s[d]]<_?a=d+1:r=d;_<e[s[a]]&&(a>0&&(t[i]=s[a-1]),s[a]=i)}}for(a=s.length,r=s[a-1];a-- >0;)s[a]=r,r=t[r];return s}function Ci(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ci(t)}function Si(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const iu=Symbol.for("v-scx"),au=()=>Zs(iu);function ke(e,t,s){return Ei(e,t,s)}function Ei(e,t,s=xe){const{immediate:i,deep:n,flush:a,once:r}=s,d=We({},s),u=t&&i||!t&&a!=="post";let _;if(Os){if(a==="sync"){const A=au();_=A.__watcherHandles||(A.__watcherHandles=[])}else if(!u){const A=()=>{};return A.stop=_t,A.resume=_t,A.pause=_t,A}}const f=Ze;d.call=(A,M,v)=>mt(A,f,M,v);let l=!1;a==="post"?d.scheduler=A=>{ot(A,f&&f.suspense)}:a!=="sync"&&(l=!0,d.scheduler=(A,M)=>{M?A():Yn(A)}),d.augmentJob=A=>{t&&(A.flags|=4),l&&(A.flags|=2,f&&(A.id=f.uid,A.i=f))};const g=gd(e,t,d);return Os&&(_?_.push(g):u&&g()),g}function ru(e,t,s){const i=this.proxy,n=Le(e)?e.includes(".")?bi(i,e):()=>i[e]:e.bind(i,i);let a;Ae(t)?a=t:(a=t.handler,s=t);const r=Ts(this),d=Ei(n,a.bind(i),s);return r(),d}function bi(e,t){const s=t.split(".");return()=>{let i=e;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const lu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${wt(t)}Modifiers`]||e[`${kt(t)}Modifiers`];function cu(e,t,...s){if(e.isUnmounted)return;const i=e.vnode.props||xe;let n=s;const a=t.startsWith("update:"),r=a&&lu(i,t.slice(7));r&&(r.trim&&(n=s.map(f=>Le(f)?f.trim():f)),r.number&&(n=s.map(Us)));let d,u=i[d=An(t)]||i[d=An(wt(t))];!u&&a&&(u=i[d=An(kt(t))]),u&&mt(u,e,6,n);const _=i[d+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[d])return;e.emitted[d]=!0,mt(_,e,6,n)}}const du=new WeakMap;function Ai(e,t,s=!1){const i=s?du:t.emitsCache,n=i.get(e);if(n!==void 0)return n;const a=e.emits;let r={},d=!1;if(!Ae(e)){const u=_=>{const f=Ai(_,t,!0);f&&(d=!0,We(r,f))};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!a&&!d?(Me(e)&&i.set(e,null),null):(ge(a)?a.forEach(u=>r[u]=null):We(r,a),Me(e)&&i.set(e,r),r)}function en(e,t){return!e||!ws(t)?!1:(t=t.slice(2).replace(/Once$/,""),ve(e,t[0].toLowerCase()+t.slice(1))||ve(e,kt(t))||ve(e,t))}function IO(){}function yi(e){const{type:t,vnode:s,proxy:i,withProxy:n,propsOptions:[a],slots:r,attrs:d,emit:u,render:_,renderCache:f,props:l,data:g,setupState:A,ctx:M,inheritAttrs:v}=e,D=qs(e);let y,q;try{if(s.shapeFlag&4){const N=n||i,U=N;y=Ct(_.call(U,N,f,l,A,g,M)),q=d}else{const N=t;y=Ct(N.length>1?N(l,{attrs:d,slots:r,emit:u}):N(l,null)),q=t.props?d:uu(d)}}catch(N){bs.length=0,js(N,e,1),y=Fe(Pt)}let H=y;if(q&&v!==!1){const N=Object.keys(q),{shapeFlag:U}=H;N.length&&U&7&&(a&&N.some(Sn)&&(q=pu(q,a)),H=is(H,q,!1,!0))}return s.dirs&&(H=is(H,null,!1,!0),H.dirs=H.dirs?H.dirs.concat(s.dirs):s.dirs),s.transition&&Xn(H,s.transition),y=H,qs(D),y}const uu=e=>{let t;for(const s in e)(s==="class"||s==="style"||ws(s))&&((t||(t={}))[s]=e[s]);return t},pu=(e,t)=>{const s={};for(const i in e)(!Sn(i)||!(i.slice(9)in t))&&(s[i]=e[i]);return s};function _u(e,t,s){const{props:i,children:n,component:a}=e,{props:r,children:d,patchFlag:u}=t,_=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return i?Ti(i,r,_):!!r;if(u&8){const f=t.dynamicProps;for(let l=0;l<f.length;l++){const g=f[l];if(r[g]!==i[g]&&!en(_,g))return!0}}}else return(n||d)&&(!d||!d.$stable)?!0:i===r?!1:i?r?Ti(i,r,_):!0:!!r;return!1}function Ti(e,t,s){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const a=i[n];if(t[a]!==e[a]&&!en(s,a))return!0}return!1}function fu({vnode:e,parent:t},s){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=s,t=t.parent;else break}}const Oi=e=>e.__isSuspense;function hu(e,t){t&&t.pendingBranch?ge(e)?t.effects.push(...e):t.effects.push(e):Td(e)}const Ee=Symbol.for("v-fgt"),tn=Symbol.for("v-txt"),Pt=Symbol.for("v-cmt"),sn=Symbol.for("v-stc"),bs=[];let it=null;function T(e=!1){bs.push(it=e?null:[])}function mu(){bs.pop(),it=bs[bs.length-1]||null}let As=1;function vi(e,t=!1){As+=e,e<0&&it&&t&&(it.hasOnce=!0)}function Ri(e){return e.dynamicChildren=As>0?it||qt:null,mu(),As>0&&it&&it.push(e),e}function x(e,t,s,i,n,a){return Ri(o(e,t,s,i,n,a,!0))}function rt(e,t,s,i,n){return Ri(Fe(e,t,s,i,n,!0))}function qn(e){return e?e.__v_isVNode===!0:!1}function ys(e,t){return e.type===t.type&&e.key===t.key}const xi=({key:e})=>e!=null?e:null,nn=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Le(e)||Ke(e)||Ae(e)?{i:Je,r:e,k:t,f:!!s}:e:null);function o(e,t=null,s=null,i=0,n=null,a=e===Ee?0:1,r=!1,d=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xi(t),ref:t&&nn(t),scopeId:Ko,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Je};return d?(Wn(u,s),a&128&&e.normalize(u)):s&&(u.shapeFlag|=Le(s)?8:16),As>0&&!r&&it&&(u.patchFlag>0||a&6)&&u.patchFlag!==32&&it.push(u),u}const Fe=gu;function gu(e,t=null,s=null,i=0,n=null,a=!1){if((!e||e===Ld)&&(e=Pt),qn(e)){const d=is(e,t,!0);return s&&Wn(d,s),As>0&&!a&&it&&(d.shapeFlag&6?it[it.indexOf(e)]=d:it.push(d)),d.patchFlag=-2,d}if(Iu(e)&&(e=e.__vccOpts),t){t=Cu(t);let{class:d,style:u}=t;d&&!Le(d)&&(t.class=Pe(d)),Me(u)&&(Un(u)&&!ge(u)&&(u=We({},u)),t.style=Ut(u))}const r=Le(e)?1:Oi(e)?128:vd(e)?64:Me(e)?4:Ae(e)?2:0;return o(e,t,s,i,n,r,a,!0)}function Cu(e){return e?Un(e)||di(e)?We({},e):e:null}function is(e,t,s=!1,i=!1){const{props:n,ref:a,patchFlag:r,children:d,transition:u}=e,_=t?Eu(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&xi(_),ref:t&&t.ref?s&&a?ge(a)?a.concat(nn(t)):[a,nn(t)]:nn(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:d,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ee?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&is(e.ssContent),ssFallback:e.ssFallback&&is(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&i&&Xn(f,u.clone(f)),f}function Ge(e=" ",t=0){return Fe(tn,null,e,t)}function Su(e,t){const s=Fe(sn,null,e);return s.staticCount=t,s}function ye(e="",t=!1){return t?(T(),rt(Pt,null,e)):Fe(Pt,null,e)}function Ct(e){return e==null||typeof e=="boolean"?Fe(Pt):ge(e)?Fe(Ee,null,e.slice()):qn(e)?Xt(e):Fe(tn,null,String(e))}function Xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:is(e)}function Wn(e,t){let s=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(ge(t))s=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Wn(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!di(t)?t._ctx=Je:n===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ae(t)?(t={default:t,_ctx:Je},s=32):(t=String(t),i&64?(s=16,t=[Ge(t)]):s=8);e.children=t,e.shapeFlag|=s}function Eu(...e){const t={};for(let s=0;s<e.length;s++){const i=e[s];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=Pe([t.class,i.class]));else if(n==="style")t.style=Ut([t.style,i.style]);else if(ws(n)){const a=t[n],r=i[n];r&&a!==r&&!(ge(a)&&a.includes(r))&&(t[n]=a?[].concat(a,r):r)}else n!==""&&(t[n]=i[n])}return t}function St(e,t,s,i=null){mt(e,t,7,[s,i])}const bu=ri();let Au=0;function yu(e,t,s){const i=e.type,n=(t?t.appContext:e.appContext)||bu,a={uid:Au++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Gc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pi(i,n),emitsOptions:Ai(i,n),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:i.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=cu.bind(null,a),e.ce&&e.ce(a),a}let Ze=null;const Tu=()=>Ze||Je;let on,zn;{const e=Ls(),t=(s,i)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(i),a=>{n.length>1?n.forEach(r=>r(a)):n[0](a)}};on=t("__VUE_INSTANCE_SETTERS__",s=>Ze=s),zn=t("__VUE_SSR_SETTERS__",s=>Os=s)}const Ts=e=>{const t=Ze;return on(e),e.scope.on(),()=>{e.scope.off(),on(t)}},Pi=()=>{Ze&&Ze.scope.off(),on(null)};function Ni(e){return e.vnode.shapeFlag&4}let Os=!1;function Ou(e,t=!1,s=!1){t&&zn(t);const{props:i,children:n}=e.vnode,a=Ni(e);qd(e,i,a,t),Zd(e,n,s||t);const r=a?vu(e,t):void 0;return t&&zn(!1),r}function vu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Xd);const{setup:i}=s;if(i){ft();const n=e.setupContext=i.length>1?xu(e):null,a=Ts(e),r=es(i,e,0,[e.props,n]),d=uo(r);if(ht(),a(),(d||e.sp)&&!ns(e)&&Jo(e),d){if(r.then(Pi,Pi),t)return r.then(u=>{Mi(e,u)}).catch(u=>{js(u,e,0)});e.asyncDep=r}else Mi(e,r)}else Ii(e)}function Mi(e,t,s){Ae(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=Lo(t)),Ii(e)}function Ii(e,t,s){const i=e.type;e.render||(e.render=i.render||_t);{const n=Ts(e);ft();try{Fd(e)}finally{ht(),n()}}}const Ru={get(e,t){return je(e,"get",""),e[t]}};function xu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Ru),slots:e.slots,emit:e.emit,expose:t}}function an(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Lo(dd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Ss)return Ss[s](e)},has(t,s){return s in t||s in Ss}})):e.proxy}const Pu=/(?:^|[-_])\w/g,Nu=e=>e.replace(Pu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Mu(e,t=!0){return Ae(e)?e.displayName||e.name:e.name||t&&e.__name}function $i(e,t,s=!1){let i=Mu(t);if(!i&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(i=n[1])}if(!i&&e&&e.parent){const n=a=>{for(const r in a)if(a[r]===t)return r};i=n(e.components||e.parent.type.components)||n(e.appContext.components)}return i?Nu(i):s?"App":"Anonymous"}function Iu(e){return Ae(e)&&"__vccOpts"in e}const Ce=(e,t)=>hd(e,t,Os),$u="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Qn;const wi=typeof window!="undefined"&&window.trustedTypes;if(wi)try{Qn=wi.createPolicy("vue",{createHTML:e=>e})}catch(e){}const ki=Qn?e=>Qn.createHTML(e):e=>e,wu="http://www.w3.org/2000/svg",ku="http://www.w3.org/1998/Math/MathML",Nt=typeof document!="undefined"?document:null,Di=Nt&&Nt.createElement("template"),Du={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,i)=>{const n=t==="svg"?Nt.createElementNS(wu,e):t==="mathml"?Nt.createElementNS(ku,e):s?Nt.createElement(e,{is:s}):Nt.createElement(e);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>Nt.createTextNode(e),createComment:e=>Nt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,i,n,a){const r=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Di.innerHTML=ki(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const d=Di.content;if(i==="svg"||i==="mathml"){const u=d.firstChild;for(;u.firstChild;)d.appendChild(u.firstChild);d.removeChild(u)}t.insertBefore(d,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Uu=Symbol("_vtc");function Lu(e,t,s){const i=e[Uu];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const rn=Symbol("_vod"),Ui=Symbol("_vsh"),Yu={name:"show",beforeMount(e,{value:t},{transition:s}){e[rn]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):vs(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:i}){!t!=!s&&(i?t?(i.beforeEnter(e),vs(e,!0),i.enter(e)):i.leave(e,()=>{vs(e,!1)}):vs(e,t))},beforeUnmount(e,{value:t}){vs(e,t)}};function vs(e,t){e.style.display=t?e[rn]:"none",e[Ui]=!t}const Xu=Symbol(""),Fu=/(?:^|;)\s*display\s*:/;function Vu(e,t,s){const i=e.style,n=Le(s);let a=!1;if(s&&!n){if(t)if(Le(t))for(const r of t.split(";")){const d=r.slice(0,r.indexOf(":")).trim();s[d]==null&&ln(i,d,"")}else for(const r in t)s[r]==null&&ln(i,r,"");for(const r in s)r==="display"&&(a=!0),ln(i,r,s[r])}else if(n){if(t!==s){const r=i[Xu];r&&(s+=";"+r),i.cssText=s,a=Fu.test(s)}}else t&&e.removeAttribute("style");rn in e&&(e[rn]=a?i.display:"",e[Ui]&&(i.display="none"))}const Li=/\s*!important$/;function ln(e,t,s){if(ge(s))s.forEach(i=>ln(e,t,i));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const i=Gu(e,t);Li.test(s)?e.setProperty(kt(i),s.replace(Li,""),"important"):e[i]=s}}const Yi=["Webkit","Moz","ms"],Zn={};function Gu(e,t){const s=Zn[t];if(s)return s;let i=wt(t);if(i!=="filter"&&i in e)return Zn[t]=i;i=fo(i);for(let n=0;n<Yi.length;n++){const a=Yi[n]+i;if(a in e)return Zn[t]=a}return t}const Xi="http://www.w3.org/1999/xlink";function Fi(e,t,s,i,n,a=Fc(t)){i&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Xi,t.slice(6,t.length)):e.setAttributeNS(Xi,t,s):s==null||a&&!go(s)?e.removeAttribute(t):e.setAttribute(t,a?"":ct(s)?String(s):s)}function Vi(e,t,s,i,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?ki(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const d=a==="OPTION"?e.getAttribute("value")||"":e.value,u=s==null?e.type==="checkbox"?"on":"":String(s);(d!==u||!("_value"in e))&&(e.value=u),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const d=typeof e[t];d==="boolean"?s=go(s):s==null&&d==="string"?(s="",r=!0):d==="number"&&(s=0,r=!0)}try{e[t]=s}catch(d){}r&&e.removeAttribute(n||t)}function Ft(e,t,s,i){e.addEventListener(t,s,i)}function Hu(e,t,s,i){e.removeEventListener(t,s,i)}const Gi=Symbol("_vei");function Bu(e,t,s,i,n=null){const a=e[Gi]||(e[Gi]={}),r=a[t];if(i&&r)r.value=i;else{const[d,u]=Ku(t);if(i){const _=a[t]=qu(i,n);Ft(e,d,_,u)}else r&&(Hu(e,d,r,u),a[t]=void 0)}}const Hi=/(?:Once|Passive|Capture)$/;function Ku(e){let t;if(Hi.test(e)){t={};let i;for(;i=e.match(Hi);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):kt(e.slice(2)),t]}let eo=0;const ju=Promise.resolve(),Ju=()=>eo||(ju.then(()=>eo=0),eo=Date.now());function qu(e,t){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;mt(Wu(i,s.value),t,5,[i])};return s.value=e,s.attached=Ju(),s}function Wu(e,t){if(ge(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Bi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,zu=(e,t,s,i,n,a)=>{const r=n==="svg";t==="class"?Lu(e,i,r):t==="style"?Vu(e,s,i):ws(t)?Sn(t)||Bu(e,t,s,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Qu(e,t,i,r))?(Vi(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Fi(e,t,i,r,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Le(i))?Vi(e,wt(t),i,a,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Fi(e,t,i,r))};function Qu(e,t,s,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&Bi(t)&&Ae(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Bi(t)&&Le(s)?!1:t in e}const as=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ge(t)?s=>Ds(t,s):t};function Zu(e){e.target.composing=!0}function Ki(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Mt=Symbol("_assign"),he={created(e,{modifiers:{lazy:t,trim:s,number:i}},n){e[Mt]=as(n);const a=i||n.props&&n.props.type==="number";Ft(e,t?"change":"input",r=>{if(r.target.composing)return;let d=e.value;s&&(d=d.trim()),a&&(d=Us(d)),e[Mt](d)}),s&&Ft(e,"change",()=>{e.value=e.value.trim()}),t||(Ft(e,"compositionstart",Zu),Ft(e,"compositionend",Ki),Ft(e,"change",Ki))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:i,trim:n,number:a}},r){if(e[Mt]=as(r),e.composing)return;const d=(a||e.type==="number")&&!/^0\d/.test(e.value)?Us(e.value):e.value,u=t==null?"":t;d!==u&&(document.activeElement===e&&e.type!=="range"&&(i&&t===s||n&&e.value.trim()===u)||(e.value=u))}},Kt={deep:!0,created(e,t,s){e[Mt]=as(s),Ft(e,"change",()=>{const i=e._modelValue,n=Rs(e),a=e.checked,r=e[Mt];if(ge(i)){const d=yn(i,n),u=d!==-1;if(a&&!u)r(i.concat(n));else if(!a&&u){const _=[...i];_.splice(d,1),r(_)}}else if(zt(i)){const d=new Set(i);a?d.add(n):d.delete(n),r(d)}else r(qi(e,a))})},mounted:ji,beforeUpdate(e,t,s){e[Mt]=as(s),ji(e,t,s)}};function ji(e,{value:t,oldValue:s},i){e._modelValue=t;let n;if(ge(t))n=yn(t,i.props.value)>-1;else if(zt(t))n=t.has(i.props.value);else{if(t===s)return;n=ds(t,qi(e,!0))}e.checked!==n&&(e.checked=n)}const Et={deep:!0,created(e,{value:t,modifiers:{number:s}},i){const n=zt(t);Ft(e,"change",()=>{const a=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Us(Rs(r)):Rs(r));e[Mt](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,Fo(()=>{e._assigning=!1})}),e[Mt]=as(i)},mounted(e,{value:t}){Ji(e,t)},beforeUpdate(e,t,s){e[Mt]=as(s)},updated(e,{value:t}){e._assigning||Ji(e,t)}};function Ji(e,t){const s=e.multiple,i=ge(t);if(!(s&&!i&&!zt(t))){for(let n=0,a=e.options.length;n<a;n++){const r=e.options[n],d=Rs(r);if(s)if(i){const u=typeof d;u==="string"||u==="number"?r.selected=t.some(_=>String(_)===String(d)):r.selected=yn(t,d)>-1}else r.selected=t.has(d);else if(ds(Rs(r),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Rs(e){return"_value"in e?e._value:e.value}function qi(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const ep=["ctrl","shift","alt","meta"],tp={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ep.some(s=>e[`${s}Key`]&&!t.includes(s))},bt=(e,t)=>{const s=e._withMods||(e._withMods={}),i=t.join(".");return s[i]||(s[i]=(n,...a)=>{for(let r=0;r<t.length;r++){const d=tp[t[r]];if(d&&d(n,t))return}return e(n,...a)})},sp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},jt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),i=t.join(".");return s[i]||(s[i]=n=>{if(!("key"in n))return;const a=kt(n.key);if(t.some(r=>r===a||sp[r]===a))return e(n)})},np=We({patchProp:zu},Du);let Wi;function op(){return Wi||(Wi=tu(np))}const ip=(...e)=>{const t=op().createApp(...e),{mount:s}=t;return t.mount=i=>{const n=rp(i);if(!n)return;const a=t._component;!Ae(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const r=s(n,!1,ap(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),r},t};function ap(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function rp(e){return Le(e)?document.querySelector(e):e}const At=(e,t)=>{const s=e.__vccOpts||e;for(const[i,n]of t)s[i]=n;return s},lp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},cp={key:0,class:"nxp-ec-admin-error"},dp={class:"nxp-ec-admin-error__title"},up={class:"nxp-ec-admin-error__body"};function pp(e,t,s,i,n,a){return T(),x("div",null,[n.error?(T(),x("div",cp,[o("h2",dp,p(a.fallbackTitle),1),o("p",up,p(a.fallbackMessage),1),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...r)=>a.reload&&a.reload(...r))},p(a.reloadLabel),1)])):Yd(e.$slots,"default",{key:1})])}const _p=At(lp,[["render",pp]]),fp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},hp={class:"nxp-ec-admin-panel__header"},mp={class:"nxp-ec-admin-panel__title"},gp={class:"nxp-ec-admin-panel__lead"},Cp={class:"nxp-ec-admin-panel__actions"},Sp=["disabled"],Ep={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},bp={key:1,class:"nxp-ec-dashboard"},Ap={class:"nxp-ec-dashboard__metrics"},yp={class:"nxp-ec-dashboard__card"},Tp={class:"nxp-ec-dashboard__value"},Op={class:"nxp-ec-dashboard__hint"},vp={class:"nxp-ec-dashboard__card"},Rp={class:"nxp-ec-dashboard__value"},xp={class:"nxp-ec-dashboard__hint"},Pp={class:"nxp-ec-dashboard__card"},Np={class:"nxp-ec-dashboard__value"},Mp={class:"nxp-ec-dashboard__hint"},Ip={class:"nxp-ec-dashboard__card"},$p={class:"nxp-ec-dashboard__value"},wp={class:"nxp-ec-dashboard__hint"},kp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Dp={class:"nxp-ec-dashboard__checklist-header"},Up={id:"dashboard-checklist-heading"},Lp={class:"nxp-ec-dashboard__checklist-progress"},Yp={class:"nxp-ec-dashboard__checklist-list"},Xp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Fp={key:0,class:"fa-solid fa-circle-check"},Vp={key:1,class:"fa-regular fa-circle"},Gp={class:"nxp-ec-dashboard__checklist-label"},Hp=["href","title"],Bp={class:"nxp-ec-sr-only"},Kp=At({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,i=s.translate,n=s.state,a=Ce(()=>{var l;const f=(l=n.summary)==null?void 0:l.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),r=(f=0)=>{const l=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(l)}catch(g){return`${a.value} ${l.toFixed(2)}`}},d=Ce(()=>Array.isArray(n.checklist)?n.checklist:[]),u=Ce(()=>d.value.filter(f=>f.completed).length),_=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,l)=>(T(),x("section",fp,[o("header",hp,[o("div",null,[o("h2",mp,p(c(i)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),o("p",gp,p(c(i)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),o("div",Cp,[o("button",{class:"nxp-ec-btn",type:"button",onClick:l[0]||(l[0]=g=>f.$emit("refresh")),disabled:c(n).loading},p(c(i)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,Sp)])]),c(n).error?(T(),x("div",Ep,p(c(n).error),1)):(T(),x("div",bp,[o("div",Ap,[o("article",yp,[o("h3",null,p(c(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),o("p",Tp,p(c(n).summary.products.active),1),o("p",Op,p(c(i)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(c(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),o("article",vp,[o("h3",null,p(c(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),o("p",Rp,p(r(c(n).summary.orders.revenue_today)),1),o("p",xp,p(c(i)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(c(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),o("article",Pp,[o("h3",null,p(c(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),o("p",Np,p(c(n).summary.customers.total),1),o("p",Mp,p(c(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),o("article",Ip,[o("h3",null,p(c(i)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),o("p",$p,p(r(c(n).summary.orders.revenue_month)),1),o("p",wp,p(c(i)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),o("section",kp,[o("header",Dp,[o("h3",Up,p(c(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),o("span",Lp,p(u.value)+" / "+p(d.value.length),1)]),o("ul",Yp,[(T(!0),x(Ee,null,Te(d.value,g=>(T(),x("li",{key:g.id,class:Pe({"is-complete":g.completed})},[o("span",Xp,[g.completed?(T(),x("span",Fp)):(T(),x("span",Vp))]),o("span",Gp,p(c(i)(g.label,_(g.label))),1),g.link?(T(),x("a",{key:0,href:g.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:c(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[l[1]||(l[1]=o("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),o("span",Bp,p(c(i)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,Hp)):ye("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-c78e71ec"]]),jp={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},Jp={id:"nxp-ec-products-caption",class:"visually-hidden"},qp={scope:"col"},Wp={scope:"col"},zp={scope:"col"},Qp={scope:"col"},Zp={scope:"col"},e_={scope:"col"},t_={scope:"col"},s_={scope:"col"},n_={scope:"col",class:"nxp-ec-admin-table__actions"},o_={key:0},i_={colspan:"8",class:"nxp-ec-admin-table__empty"},a_={class:"nxp-ec-products-table__title"},r_={class:"nxp-ec-products-table__slug"},l_={key:0,class:"nxp-ec-products-table__badge"},c_={class:"nxp-ec-status nxp-ec-status--featured"},d_={key:0},u_={key:1},p_={key:0},__={key:1},f_=["disabled","aria-pressed","title","aria-label","onClick"],h_={class:"nxp-ec-sr-only"},m_={class:"nxp-ec-admin-table__actions"},g_=["onClick","title","aria-label"],C_={class:"nxp-ec-sr-only"},S_=["onClick","title","aria-label"],E_={class:"nxp-ec-sr-only"},to=1,xs=-1,so=0,b_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,i=Ce(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,l=!1)=>{const g=Number(f);if(Number.isFinite(g))return g===xs?xs:g===so?so:to;if(l)return xs;if(typeof f=="string"){const A=f.trim().toLowerCase();if(A==="out_of_stock"||A==="out-of-stock"||A==="-1")return xs;if(A==="inactive"||A==="0")return so}return to},a=f=>{var M;const l=n((M=f==null?void 0:f.status)!=null?M:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),g=l===to,A=l===xs;return{status:l,isActive:g,isOutOfStock:A,label:g?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):A?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:g?"nxp-ec-status--active":A?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:g?"fa-solid fa-circle-check":A?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},r=f=>{var v,D,y,q;const l=(D=(v=f==null?void 0:f.summary)==null?void 0:v.variants)!=null?D:{};if(l.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const g=Number.isFinite(l.price_min_cents)?l.price_min_cents:null,A=Number.isFinite(l.price_max_cents)?l.price_max_cents:null;if(g===null)return"";const M=l.currency||((q=(y=f==null?void 0:f.variants)==null?void 0:y[0])==null?void 0:q.currency)||i.value;return A===null||A===g?_(g,M):`${_(g,M)}  ${_(A,M)}`},d=f=>{var A,M;const l=(M=(A=f==null?void 0:f.summary)==null?void 0:A.variants)!=null?M:{},g=Number.isFinite(l.count)?l.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return g===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(g)])},u=f=>{if(!Array.isArray(f)||!f.length)return"";const l=f.map(M=>(M==null?void 0:M.title)||(M==null?void 0:M.slug)).filter(M=>!!M);if(!l.length)return"";if(l.length<=3)return l.join(", ");const g=l.slice(0,3).join(", "),A=l.length-3;return`${g} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(A)])}`},_=(f,l)=>`${(f/100).toFixed(2)} ${l}`;return(f,l)=>(T(),x("table",jp,[o("caption",Jp,p(c(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),o("thead",null,[o("tr",null,[o("th",qp,p(c(s)("JGRID_HEADING_ID","ID")),1),o("th",Wp,p(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),o("th",zp,p(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),o("th",Qp,p(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),o("th",Zp,p(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),o("th",e_,p(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),o("th",t_,p(c(s)("JSTATUS","Status")),1),o("th",s_,p(c(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),o("th",n_,p(c(s)("JGLOBAL_ACTIONS","Actions")),1)])]),o("tbody",null,[e.items.length?ye("",!0):(T(),x("tr",o_,[o("td",i_,p(c(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(T(!0),x(Ee,null,Te(e.items,g=>{var A,M,v,D,y,q,H,N,U,se,oe,ce;return T(),x("tr",{key:g.id},[o("td",null,p(g.id),1),o("td",null,[o("div",a_,p(g.title),1),o("div",r_,p(g.slug),1),g.featured?(T(),x("div",l_,[o("span",c_,[l[0]||(l[0]=o("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Ge(" "+p(c(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):ye("",!0)]),o("td",null,[r(g)?(T(),x("span",d_,p(r(g)),1)):(T(),x("span",u_,p(c(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))]),o("td",null,p(d(g)),1),o("td",null,[o("span",{class:Pe(["nxp-ec-status",(M=(A=g.summary)==null?void 0:A.variants)!=null&&M.stock_zero?"nxp-ec-status--danger":(D=(v=g.summary)==null?void 0:v.variants)!=null&&D.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(q=(y=g.summary)==null?void 0:y.variants)!=null&&q.stock_zero||((N=(H=g.summary)==null?void 0:H.variants)==null?void 0:N.stock_total)===0?(T(),x(Ee,{key:0},[Ge(p(c(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(T(),x(Ee,{key:1},[Ge(p(c(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((oe=(se=(U=g.summary)==null?void 0:U.variants)==null?void 0:se.stock_total)!=null?oe:0)])),1)],64))],2)]),o("td",null,[(ce=g.categories)!=null&&ce.length?(T(),x("span",p_,p(u(g.categories)),1)):(T(),x("span",__,p(c(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))]),o("td",null,[o("button",{type:"button",class:Pe(["nxp-ec-status","nxp-ec-status-button",a(g).className]),disabled:e.saving,"aria-pressed":a(g).isActive?"true":"false",title:a(g).title,"aria-label":a(g).title,onClick:me=>f.$emit("toggle-active",g)},[o("i",{class:Pe(a(g).icon),"aria-hidden":"true"},null,2),Ge(" "+p(a(g).label)+" ",1),o("span",h_,p(c(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,f_)]),o("td",null,p(g.modified||g.created),1),o("td",m_,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:me=>f.$emit("edit",g),title:c(s)("JGLOBAL_EDIT","Edit"),"aria-label":c(s)("JGLOBAL_EDIT","Edit")},[l[1]||(l[1]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",C_,p(c(s)("JGLOBAL_EDIT","Edit")),1)],8,g_),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:me=>f.$emit("delete",g),title:c(s)("JTRASH","Delete"),"aria-label":c(s)("JTRASH","Delete")},[l[2]||(l[2]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",E_,p(c(s)("JTRASH","Delete")),1)],8,S_)])])}),128))])]))}},A_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},y_={class:"nxp-ec-modal__dialog"},T_={class:"nxp-ec-modal__header"},O_={class:"nxp-ec-modal__title"},v_={class:"nxp-ec-modal__header-actions"},R_=["disabled","title","aria-label"],x_={class:"nxp-ec-sr-only"},P_=["disabled","title","aria-label"],N_={class:"nxp-ec-sr-only"},M_=["aria-label"],I_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},$_={class:"nxp-ec-form-field"},w_={class:"nxp-ec-form-label",for:"product-title"},k_={class:"nxp-ec-form-field"},D_={class:"nxp-ec-form-label",for:"product-slug"},U_=["placeholder"],L_={class:"nxp-ec-form-field"},Y_={class:"nxp-ec-form-label",for:"product-short-desc"},X_={class:"nxp-ec-form-field"},F_={class:"nxp-ec-form-label",for:"product-long-desc"},V_={class:"nxp-ec-form-field"},G_={class:"nxp-ec-form-label",for:"product-status"},H_={value:1},B_={value:-1},K_={value:0},j_={class:"nxp-ec-form-help"},J_={class:"nxp-ec-form-field nxp-ec-form-field--inline"},q_={class:"nxp-ec-form-label",for:"product-featured"},W_={class:"nxp-ec-form-help"},z_={class:"nxp-ec-form-field"},Q_={class:"nxp-ec-form-label",for:"product-images"},Z_={id:"product-images",class:"nxp-ec-image-list"},ef=["id","onUpdate:modelValue","placeholder"],tf={class:"nxp-ec-image-row__actions"},sf=["onClick"],nf=["onClick","disabled"],of=["onClick","disabled"],af=["onClick","aria-label"],rf={class:"nxp-ec-form-help"},lf={class:"nxp-ec-form-field"},cf={class:"nxp-ec-form-label",for:"product-category-select"},df=["value"],uf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},pf=["onClick","aria-label"],_f={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},ff=["onKeydown","placeholder"],hf={class:"nxp-ec-form-help"},mf={class:"nxp-ec-variant-section"},gf={class:"nxp-ec-variant-section__header"},Cf={class:"nxp-ec-variant-section__title"},Sf={class:"nxp-ec-form-help"},Ef={class:"nxp-ec-variant-card__header"},bf={class:"nxp-ec-variant-card__title"},Af=["onClick"],yf=["onClick","disabled"],Tf={class:"nxp-ec-variant-card__grid"},Of={class:"nxp-ec-form-field"},vf=["for"],Rf=["id","onUpdate:modelValue"],xf={class:"nxp-ec-form-field"},Pf=["for"],Nf=["id","onUpdate:modelValue","onBlur"],Mf={class:"nxp-ec-form-field"},If=["for"],$f=["id","onUpdate:modelValue"],wf={class:"nxp-ec-form-help"},kf={class:"nxp-ec-form-field"},Df=["for"],Uf=["id","onUpdate:modelValue"],Lf={class:"nxp-ec-form-field"},Yf=["for"],Xf=["id","onUpdate:modelValue"],Ff={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Vf=["for"],Gf=["id","onUpdate:modelValue"],Hf={class:"nxp-ec-variant-options"},Bf={class:"nxp-ec-variant-options__header"},Kf={class:"nxp-ec-variant-options__title"},jf=["onClick"],Jf={class:"nxp-ec-form-help"},qf=["id","onUpdate:modelValue","placeholder"],Wf=["id","onUpdate:modelValue","placeholder"],zf=["onClick","aria-label"],Qf={class:"nxp-ec-modal__actions"},Zf=["disabled"],eh=["disabled"],zi="product-editor-form",th=At({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),r=C=>{var h,b,O,w,k,Z,G,ne;if(C==null)return null;if(typeof C=="string"){const re=C.trim();return re===""?null:{id:0,title:re,slug:""}}if(typeof C=="object"){const re=Number.parseInt((b=(h=C.id)!=null?h:C.value)!=null?b:0,10)||0,fe=(G=(Z=(k=(w=(O=C.title)!=null?O:C.name)!=null?w:C.text)!=null?k:C.label)!=null?Z:C.slug)!=null?G:"",Se=String(fe!=null?fe:"").trim(),be=String((ne=C.slug)!=null?ne:"").trim();return re<=0&&Se===""?null:{id:re>0?re:0,title:Se!==""?Se:be,slug:be}}return null},d=C=>{const h=Number(C);if(Number.isFinite(h))return h===-1?-1:h===0?0:1;if(typeof C=="string"){const b=C.trim().toLowerCase();if(b==="out_of_stock"||b==="out-of-stock"||b==="-1")return-1;if(b==="inactive"||b==="0")return 0}return 1},u=$e({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),_=Xe(""),f=Xe(!1),l=Ce(()=>{const h=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(r).filter(O=>O&&O.id>0&&O.title!==""),b=new Map;return h.forEach(O=>{b.set(O.id,O)}),u.categories.forEach(O=>{var w;O.id>0&&O.title&&!b.has(O.id)&&b.set(O.id,{id:O.id,title:O.title,slug:(w=O.slug)!=null?w:""})}),Array.from(b.values()).sort((O,w)=>O.title.localeCompare(w.title))}),g=Ce(()=>{const C=new Map;return l.value.forEach(h=>{var b;C.set(h.id,{title:h.title,slug:(b=h.slug)!=null?b:""})}),C}),A=Ce({get:()=>u.categories.filter(C=>C.id>0).map(C=>C.id),set:C=>{const h=Array.isArray(C)?C:[],b=Array.from(new Set(h.map(k=>Number.parseInt(k!=null?k:0,10)||0).filter(k=>k>0))),O=u.categories.filter(k=>!(k.id>0)),w=b.map(k=>{const Z=g.value.get(k),G=u.categories.find(fe=>fe.id===k),ne=(Z==null?void 0:Z.title)||(G==null?void 0:G.title)||"",re=(Z==null?void 0:Z.slug)||(G==null?void 0:G.slug)||"";return ne===""?null:{id:k,title:ne,slug:re}}).filter(k=>k!==null);u.categories.splice(0,u.categories.length,...w,...O)}}),M=Ce(()=>s.product&&s.product.id?"edit":"create"),v=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),D=()=>({name:"",value:""}),y=C=>C?C.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",q=()=>{f.value=!0,u.slug=y(u.slug)},H=C=>{const b=(Array.isArray(C)?C:[]).map(r).filter(k=>k&&(k.id>0||k.title!=="")),O=new Set,w=[];b.forEach(k=>{const Z=k.id>0?`id:${k.id}`:`title:${k.title.toLowerCase()}`;O.has(Z)||(O.add(Z),w.push(k))}),u.categories.splice(0,u.categories.length,...w)},N=C=>{u.variants.splice(0,u.variants.length,...C)},U=C=>{u.images.splice(0,u.images.length,...C)},se=C=>Array.isArray(C)?C.map(h=>{var b,O,w;return{name:String((O=(b=h==null?void 0:h.name)!=null?b:h==null?void 0:h.key)!=null?O:"").trim(),value:String((w=h==null?void 0:h.value)!=null?w:"").trim()}}):C&&typeof C=="object"?Object.entries(C).map(([h,b])=>({name:String(h!=null?h:"").trim(),value:String(b!=null?b:"").trim()})):[],oe=C=>!Array.isArray(C)||C.length===0?[v()]:C.map(h=>{var b,O,w,k;return{id:Number.parseInt((b=h==null?void 0:h.id)!=null?b:0,10)||0,sku:String((O=h==null?void 0:h.sku)!=null?O:"").trim(),price:(h==null?void 0:h.price)!=null?String(h.price):Number.isFinite(h==null?void 0:h.price_cents)?(h.price_cents/100).toFixed(2):"",currency:String((w=h==null?void 0:h.currency)!=null?w:a.value).toUpperCase(),stock:Number.parseInt((k=h==null?void 0:h.stock)!=null?k:0,10)||0,weight:(h==null?void 0:h.weight)!=null?String(h.weight):"",active:(h==null?void 0:h.active)!==void 0?!!h.active:!0,options:se(h==null?void 0:h.options)}}),ce=C=>{var w,k,Z,G;const h=C?JSON.parse(JSON.stringify(C)):{};u.title=(w=h.title)!=null?w:"",u.slug=(k=h.slug)!=null?k:"",u.short_desc=(Z=h.short_desc)!=null?Z:"",u.long_desc=(G=h.long_desc)!=null?G:"",u.status=d(h.status!==void 0?h.status:h.active),u.featured=h.featured!==void 0?!!h.featured:!1;const b=Array.isArray(h.images)?h.images.map(ne=>String(ne!=null?ne:"").trim()).filter(Boolean):[];U(b);const O=Array.isArray(h.categories)?h.categories:[];H(O),_.value="",N(oe(h.variants)),f.value=!!u.slug};ke(()=>s.product,C=>{ce(C)},{immediate:!0}),ke(()=>u.title,C=>{f.value||(u.slug=y(C))}),ke(a,C=>{u.variants.forEach(h=>{h.currency=C})});const me=()=>{const C=_.value.trim();if(!C)return;const h=C.toLowerCase(),b=u.categories.slice();b.some(w=>w.title.toLowerCase()===h)||(b.push({id:0,title:C,slug:""}),u.categories.splice(0,u.categories.length,...b)),_.value=""},j=C=>{if(C<0||C>=u.categories.length)return;const h=u.categories.slice();h.splice(C,1),u.categories.splice(0,u.categories.length,...h)},B=()=>{u.variants.push(v())},W=C=>{u.variants.length<=1||u.variants.splice(C,1)},F=C=>{const h=u.variants[C];h&&(Array.isArray(h.options)||(h.options=[]),h.options.push(D()))},ee=(C,h)=>{const b=u.variants[C];!b||!Array.isArray(b.options)||b.options.splice(h,1)},ue=(C,h)=>`${C.id||"new"}-${h}`,te=C=>{const h=u.variants[C];if(!h)return;const b=JSON.parse(JSON.stringify(h));b.id=0,b.sku=[b.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),b.active=!0,u.variants.splice(C+1,0,b)},z=C=>{const h=u.variants[C];if(!h)return;const b=Number.parseFloat(h.price);Number.isNaN(b)||(h.price=b.toFixed(2))};let P=null,I=null,L=null,$=null,V="";const Q=()=>{Array.isArray(u.images)||(u.images=[])},le=C=>{var w,k,Z;if(!C)return"";let h=String(C).trim();if(h==="")return"";try{const G=(Z=(k=(w=window.Joomla)==null?void 0:w.getOptions)==null?void 0:k.call(w,"system.paths",{}))!=null?Z:{},ne=G.rootFull||window.location.origin,re=G.root||"/";h.startsWith(ne)&&(h=h.substring(ne.length)),h.startsWith(re)&&(h=h.substring(re.length))}catch(G){}const b=h.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);b&&b[1]&&(h=b[1]);const O=h.indexOf("#joomlaImage://");return O!==-1&&(h=h.substring(0,O)),h.trim()},X=(C,{keepIndex:h=!1,appendWhenNoIndex:b=!1,targetIndex:O=null}={})=>{const w=le(C);if(w==="")return!1;Q();const k=O!==null&&O>=0?O:$;return k==null||Number.isNaN(k)?b?(u.images.push(w),h||($=null,V=""),!0):!1:(k>=u.images.length?u.images.push(w):u.images[k]=w,V=h?w:"",h||($=null,V=""),!0)},R=()=>{Q(),u.images.push("")},S=C=>{Q(),u.images.splice(C,1)},ie=(C,h)=>{Q();const b=u.images[C];if(b===void 0)return;const O=C+h;O<0||O>=u.images.length||(u.images.splice(C,1),u.images.splice(O,0,b))},pe=C=>{var O;Q();const h=(O=u.images[C])!=null?O:"";if(typeof window=="undefined")return;const b=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),h);X(b!=null?b:"",{targetIndex:C})},de=()=>{var k,Z,G,ne,re,fe;const C=(s.mediaModalUrl||"").trim();if(C!=="")return C;const h=(G=(Z=(k=window.Joomla)==null?void 0:k.getOptions)==null?void 0:Z.call(k,"media-picker",{}))!=null?G:{};if(h.modalUrl)return h.modalUrl;const b=(fe=(re=(ne=window.Joomla)==null?void 0:ne.getOptions)==null?void 0:re.call(ne,"system.paths",{}))!=null?fe:{},O=b.rootFull||b.root||"";return(O?O.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},we=async()=>{var G,ne,re,fe,Se,be,Ne,Ve,et;if(P)return P;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(De){return null}const C=(re=(ne=(G=window.Joomla)==null?void 0:G.getOptions)==null?void 0:ne.call(G,"system.paths",{}))!=null?re:{},h=C.rootFull||C.root||"",b=(be=(Se=(fe=window.Joomla)==null?void 0:fe.getOptions)==null?void 0:Se.call(fe,"com_media",{}))!=null?be:{},O=(b==null?void 0:b.file_path)||"images",w=(et=(Ve=(Ne=window.Joomla)==null?void 0:Ne.getOptions)==null?void 0:Ve.call(Ne,"media-picker",{}))!=null?et:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},Z=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return I=document.createElement("div"),I.className="nxp-ec-media-picker-host",I.style.display="none",I.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${h.replace(/"/g,"&quot;")}"
            root-folder="${O.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${Z}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(w).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(I),P=I.querySelector("joomla-field-media"),L=I.querySelector(".nxp-ec-media-field__input"),P.addEventListener("change",De=>{var Ue,He,It,$t,Jt,_n;const lt=(It=(He=(Ue=De.detail)==null?void 0:Ue.value)!=null?He:L==null?void 0:L.value)!=null?It:"";let qe=le(lt);if(qe===""&&V!==""&&(qe=V),qe===""&&(($t=window.Joomla)!=null&&$t.selectedMediaFile)){const io=le((Jt=window.Joomla.selectedMediaFile.url)!=null?Jt:""),fn=le((_n=window.Joomla.selectedMediaFile.path)!=null?_n:"");qe=io||fn}X(qe)}),P.addEventListener("joomla-dialog:close",()=>{$=null,V=""}),L&&L.addEventListener("change",()=>{var lt,qe,Ue,He;if($===null)return;let De=le((lt=L.value)!=null?lt:"");if(De===""&&V!==""&&(De=V),De===""&&((qe=window.Joomla)!=null&&qe.selectedMediaFile)){const It=le((Ue=window.Joomla.selectedMediaFile.url)!=null?Ue:""),$t=le((He=window.Joomla.selectedMediaFile.path)!=null?He:"");De=It||$t}De!==""&&X(De)}),P},m=C=>{var k,Z;const h=C==null?void 0:C.detail;if(!h||typeof h!="object")return;const b=le((k=h.path)!=null?k:""),w=le((Z=h.url)!=null?Z:"")||b;w===""||$===null||(V=w,X(w,{keepIndex:!0}))};nt(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",m)});const E=async C=>{var O;Q();const h=await we();if(!h||typeof h.show!="function"){pe(C);return}$=C,h.setAttribute("url",de());const b=(O=u.images[C])!=null?O:"";typeof h.setValue=="function"?h.setValue(b):L&&(L.value=b);try{h.show()}catch(w){$=null,V="",pe(C)}};Qo(()=>{I&&I.parentNode&&I.parentNode.removeChild(I),P=null,I=null,L=null,$=null,V="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",m)});const Y=()=>{var k,Z;Q();const C=Array.from(new Set(u.images.map(G=>String(G!=null?G:"").trim()).filter(G=>G!==""))),h=u.categories.map(G=>{var Se,be,Ne;const ne=Number.parseInt((Se=G==null?void 0:G.id)!=null?Se:0,10)||0,re=String((be=G==null?void 0:G.title)!=null?be:"").trim(),fe=String((Ne=G==null?void 0:G.slug)!=null?Ne:"").trim();return ne>0?{id:ne,title:re,slug:fe}:re===""?null:{id:0,title:re,slug:""}}).filter(G=>G!==null),b=u.variants.map(G=>{const ne=Array.isArray(G.options)?G.options.map(Se=>{var be,Ne;return{name:String((be=Se==null?void 0:Se.name)!=null?be:"").trim(),value:String((Ne=Se==null?void 0:Se.value)!=null?Ne:"").trim()}}).filter(Se=>Se.name!==""&&Se.value!==""):[],re=Number.isFinite(Number(G.stock))?Math.max(0,parseInt(G.stock,10)):0,fe=G.weight!==null&&G.weight!==""?String(G.weight).trim():null;return{id:G.id||0,sku:G.sku.trim(),price:G.price!==null&&G.price!==void 0?String(G.price).trim():"",currency:G.currency?String(G.currency).trim().toUpperCase():a.value,stock:re,weight:fe,active:!!G.active,options:ne}}),O=d(u.status),w={title:u.title.trim(),slug:u.slug.trim(),short_desc:(k=u.short_desc)!=null?k:"",long_desc:(Z=u.long_desc)!=null?Z:"",status:O,active:O,featured:!!u.featured,images:C,categories:h,variants:b};i("submit",w)},K=()=>{i("cancel")};return ke(()=>s.saving,(C,h)=>{h&&!C&&s.errors.length===0&&M.value==="create"&&(ce(null),_.value="",f.value=!1)}),(C,h)=>e.open?(T(),x("div",A_,[h[10]||(h[10]=o("div",{class:"nxp-ec-modal__backdrop"},null,-1)),o("div",y_,[o("header",T_,[o("h2",O_,p(M.value==="edit"?c(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):c(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),o("div",v_,[o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:K,disabled:e.saving,title:c(n)("JCANCEL","Cancel"),"aria-label":c(n)("JCANCEL","Cancel")},[h[8]||(h[8]=o("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),o("span",x_,p(c(n)("JCANCEL","Cancel")),1)],8,R_),o("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:zi,title:e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save"),"aria-label":e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save")},[o("i",{class:Pe(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),o("span",N_,p(e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save")),1)],8,P_),o("button",{type:"button",class:"nxp-ec-modal__close",onClick:K,"aria-label":c(n)("JCLOSE","Close")},"  ",8,M_)])]),o("form",{id:zi,class:"nxp-ec-form",onSubmit:bt(Y,["prevent"])},[e.errors.length?(T(),x("div",I_,[(T(!0),x(Ee,null,Te(e.errors,(b,O)=>(T(),x("p",{key:O},p(b),1))),128))])):ye("",!0),o("div",$_,[o("label",w_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),ae(o("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[0]||(h[0]=b=>u.title=b),required:""},null,512),[[he,u.title,void 0,{trim:!0}]])]),o("div",k_,[o("label",D_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),ae(o("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[1]||(h[1]=b=>u.slug=b),onInput:q,placeholder:c(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,U_),[[he,u.slug,void 0,{trim:!0}]])]),o("div",L_,[o("label",Y_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),ae(o("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":h[2]||(h[2]=b=>u.short_desc=b)},null,512),[[he,u.short_desc]])]),o("div",X_,[o("label",F_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),ae(o("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":h[3]||(h[3]=b=>u.long_desc=b)},null,512),[[he,u.long_desc]])]),o("div",V_,[o("label",G_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),ae(o("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":h[4]||(h[4]=b=>u.status=b)},[o("option",H_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),o("option",B_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),o("option",K_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[Et,u.status,void 0,{number:!0}]]),o("p",j_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),o("div",J_,[o("label",q_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),ae(o("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":h[5]||(h[5]=b=>u.featured=b)},null,512),[[Kt,u.featured]]),o("p",W_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),o("div",z_,[o("label",Q_,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),o("div",Z_,[(T(!0),x(Ee,null,Te(u.images,(b,O)=>(T(),x("div",{key:`product-image-${O}`,class:"nxp-ec-image-row"},[ae(o("input",{id:`product-image-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w=>u.images[O]=w,placeholder:c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,ef),[[he,u.images[O],void 0,{trim:!0}]]),o("div",tf,[o("button",{type:"button",class:"nxp-ec-btn",onClick:w=>E(O)},[h[9]||(h[9]=o("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Ge(" "+p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,sf),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:w=>ie(O,-1),disabled:O===0},p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,nf),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:w=>ie(O,1),disabled:O===u.images.length-1},p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,of),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:w=>S(O),"aria-label":c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},p(c(n)("COM_NXPEASYCART_REMOVE","Remove")),9,af)])]))),128))]),o("button",{type:"button",class:"nxp-ec-btn",onClick:R},p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),o("p",rf,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),o("div",lf,[o("label",cf,p(c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),ae(o("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":h[6]||(h[6]=b=>A.value=b)},[(T(!0),x(Ee,null,Te(l.value,b=>(T(),x("option",{key:b.id,value:b.id},p(b.title),9,df))),128))],512),[[Et,A.value]]),o("div",uf,[(T(!0),x(Ee,null,Te(u.categories,(b,O)=>(T(),x("span",{key:`selected-category-${O}`,class:"nxp-ec-chip"},[Ge(p(b.title)+" ",1),o("button",{type:"button",class:"nxp-ec-chip__remove",onClick:w=>j(O),"aria-label":c(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,pf)]))),128))]),o("div",_f,[ae(o("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":h[7]||(h[7]=b=>_.value=b),onKeydown:jt(bt(me,["prevent"]),["enter"]),placeholder:c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,ff),[[he,_.value]]),o("button",{type:"button",class:"nxp-ec-btn",onClick:me},p(c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),o("p",hf,p(c(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),o("section",mf,[o("header",gf,[o("h3",Cf,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),o("button",{type:"button",class:"nxp-ec-btn",onClick:B},p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),o("p",Sf,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price and currency.")),1),(T(!0),x(Ee,null,Te(u.variants,(b,O)=>(T(),x("article",{key:ue(b,O),class:"nxp-ec-variant-card"},[o("header",Ef,[o("h4",bf,p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(O+1)])),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:w=>te(O)},p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Af),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:w=>W(O),disabled:u.variants.length<=1},p(c(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,yf)]),o("div",Tf,[o("div",Of,[o("label",{class:"nxp-ec-form-label",for:`variant-sku-${O}`},p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,vf),ae(o("input",{id:`variant-sku-${O}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":w=>b.sku=w,required:""},null,8,Rf),[[he,b.sku,void 0,{trim:!0}]])]),o("div",xf,[o("label",{class:"nxp-ec-form-label",for:`variant-price-${O}`},p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Pf),ae(o("input",{id:`variant-price-${O}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":w=>b.price=w,onBlur:w=>z(O),required:""},null,40,Nf),[[he,b.price,void 0,{trim:!0}]])]),o("div",Mf,[o("label",{class:"nxp-ec-form-label",for:`variant-currency-${O}`},p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY","Currency")),9,If),ae(o("input",{id:`variant-currency-${O}`,class:"nxp-ec-form-input",type:"text",maxlength:"3","onUpdate:modelValue":w=>b.currency=w,readonly:"","aria-readonly":"true"},null,8,$f),[[he,b.currency,void 0,{trim:!0}]]),o("p",wf,p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_HELP","Variants inherit the store base currency (%s).",[a.value])),1)]),o("div",kf,[o("label",{class:"nxp-ec-form-label",for:`variant-stock-${O}`},p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Df),ae(o("input",{id:`variant-stock-${O}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":w=>b.stock=w},null,8,Uf),[[he,b.stock,void 0,{number:!0}]])]),o("div",Lf,[o("label",{class:"nxp-ec-form-label",for:`variant-weight-${O}`},p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,Yf),ae(o("input",{id:`variant-weight-${O}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":w=>b.weight=w},null,8,Xf),[[he,b.weight,void 0,{trim:!0}]])]),o("div",Ff,[o("label",{class:"nxp-ec-form-label",for:`variant-active-${O}`},p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,Vf),ae(o("input",{id:`variant-active-${O}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":w=>b.active=w},null,8,Gf),[[Kt,b.active]])])]),o("section",Hf,[o("header",Bf,[o("h5",Kf,p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:w=>F(O)},p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,jf)]),o("p",Jf,p(c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(T(!0),x(Ee,null,Te(b.options,(w,k)=>(T(),x("div",{key:`variant-${O}-option-${k}`,class:"nxp-ec-variant-option-row"},[ae(o("input",{id:`variant-${O}-option-name-${k}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Z=>w.name=Z,placeholder:c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,qf),[[he,w.name,void 0,{trim:!0}]]),ae(o("input",{id:`variant-${O}-option-value-${k}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Z=>w.value=Z,placeholder:c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,Wf),[[he,w.value,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Z=>ee(O,k),"aria-label":c(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},p(c(n)("COM_NXPEASYCART_REMOVE","Remove")),9,zf)]))),128))])]))),128))]),o("footer",Qf,[o("button",{type:"button",class:"nxp-ec-btn",onClick:K,disabled:e.saving},p(c(n)("JCANCEL","Cancel")),9,Zf),o("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},p(e.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("JSAVE","Save")),9,eh)])],32)])])):ye("",!0)}},[["__scopeId","data-v-99bc4a39"]]),sh={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},nh={key:1,class:"nxp-ec-skeleton__table"},oh={key:2,class:"nxp-ec-skeleton__card"},ih={key:3,class:"nxp-ec-skeleton__circle"};function ah(e,t,s,i,n,a){return T(),x("div",{class:Pe(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(T(),x("div",{key:0,class:"nxp-ec-skeleton__line",style:Ut({width:s.width})},null,4)):s.type==="table"?(T(),x("div",nh,[(T(!0),x(Ee,null,Te(s.rows,r=>(T(),x("div",{key:r,class:"nxp-ec-skeleton__table-row"},[(T(!0),x(Ee,null,Te(s.columns,d=>(T(),x("div",{key:d,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(T(),x("div",oh,[...t[0]||(t[0]=[Su('<div class="nxp-ec-skeleton__card-header" data-v-c59f3790></div><div class="nxp-ec-skeleton__card-body" data-v-c59f3790><div class="nxp-ec-skeleton__line" data-v-c59f3790></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c59f3790></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c59f3790></div></div>',2)])])):s.type==="circle"?(T(),x("div",ih)):(T(),x("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Ut({width:s.width,height:s.height})},null,4))],2)}const Ps=At(sh,[["render",ah],["__scopeId","data-v-c59f3790"]]),rh={class:"nxp-ec-admin-panel"},lh={class:"nxp-ec-admin-panel__header"},ch={class:"nxp-ec-admin-panel__title"},dh={class:"nxp-ec-admin-panel__lead"},uh={class:"nxp-ec-admin-panel__actions"},ph=["placeholder","aria-label"],_h=["disabled","title","aria-label"],fh={class:"nxp-ec-sr-only"},hh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mh={key:1,class:"nxp-ec-admin-panel__body"},gh={key:2,class:"nxp-ec-admin-panel__body"},Ch=["title"],Ns=1,rs=-1,cn=0,Sh={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=$e({mode:"create",product:null}),r=Xe(!1),d=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),u=Ce(()=>a.product),_=Ce(()=>(s.mediaModalUrl||"").trim()),f=(U,se=!1)=>{const oe=Number(U);if(Number.isFinite(oe))return oe===rs?rs:oe===cn?cn:Ns;if(se)return rs;if(typeof U=="string"){const ce=U.trim().toLowerCase();if(ce==="out_of_stock"||ce==="out-of-stock"||ce==="-1")return rs;if(ce==="inactive"||ce==="0")return cn}return Ns},l=(U,se=!1)=>{const oe=f(U,se);return oe===Ns?rs:oe===rs?cn:Ns},g=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",status:Ns,active:!0,featured:!1,images:[],categories:[],variants:[]},r.value=!0},A=U=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(U)),r.value=!0},M=()=>{r.value=!1,s.state.validationErrors=[]},v=async U=>{var ce,me;const se=f((ce=U.status)!=null?ce:U.active,U.out_of_stock),oe={...U,status:se,active:se,featured:U.featured?1:0};a.mode==="edit"&&((me=a.product)!=null&&me.id)?i("update",{id:a.product.id,data:oe}):i("create",oe)},D=async U=>{var ce;const se=(ce=U==null?void 0:U.title)!=null?ce:"",oe=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[se||"#"]);window.confirm(oe)&&i("delete",[U.id])},y=U=>{var W;if(!(U!=null&&U.id)||s.state.saving)return;const se=l((W=U.status)!=null?W:U.active,U.out_of_stock),oe=F=>F==null?"":String(F),ce=(F,ee=0)=>{const ue=Number(F);return Number.isFinite(ue)?ue:ee},me=Array.isArray(U.variants)?U.variants.map(F=>{var I,L;if(!F)return null;const ee=oe(F.sku).trim();if(!ee)return null;let ue=ce(F.price_cents,Number.NaN);if(!Number.isFinite(ue)){const $=oe(F.price),V=$?Number.parseFloat($):NaN;ue=Number.isFinite(V)?Math.round(V*100):NaN}if(!Number.isFinite(ue))return null;const te=oe((I=F.currency)!=null?I:d.value).trim().toUpperCase();if(!te)return null;const z=(L=F.options)!=null?L:null,P=Math.max(0,Math.round(ce(F.stock,0)));return{id:ce(F.id,0),sku:ee,price_cents:Math.round(ue),currency:te,stock:P,options:z!=null?z:null,weight:F.weight!==null&&F.weight!==void 0&&F.weight!==""?String(F.weight):null,active:F.active===void 0?!0:!!F.active}}).filter(Boolean):[];if(!me.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const j=Array.isArray(U.categories)?U.categories.map(F=>{if(F==null)return null;if(typeof F=="number")return F>0?{id:F,title:"",slug:""}:null;if(typeof F=="string"&&F.trim()!==""&&Number.isFinite(Number(F))){const ue=Number(F);return ue>0?{id:ue,title:"",slug:""}:null}if(typeof F=="object"){if(F.id){const te=ce(F.id,0);return te>0?{id:te,title:"",slug:""}:null}return ce(F.id,0)<=0&&!F.title?null:{id:0,title:oe(F.title),slug:oe(F.slug)}}const ee=oe(F).trim();return ee?{id:0,title:ee,slug:""}:null}).filter(Boolean):[],B=Array.isArray(U.images)?U.images.map(F=>oe(F).trim()).map(F=>{var z,P,I;let ee=F;if(!ee)return"";const ue=ee.indexOf("#joomlaImage://");ue!==-1&&(ee=ee.substring(0,ue));const te=ee.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(te&&te[1]&&(ee=te[1]),typeof window!="undefined")try{const L=(I=(P=(z=window.Joomla)==null?void 0:z.getOptions)==null?void 0:P.call(z,"system.paths",{}))!=null?I:{},$=L.rootFull||window.location.origin,V=L.root||"/";ee.startsWith($)&&(ee=ee.substring($.length)),ee.startsWith(V)&&(ee=ee.substring(V.length))}catch(L){}return ee.trim()}).filter(F=>F!==""):[];s.state.error="",i("update",{id:U.id,data:{title:oe(U.title),slug:oe(U.slug),short_desc:oe(U.short_desc),long_desc:oe(U.long_desc),status:se,active:se,featured:U.featured?1:0,images:B,variants:me,categories:j}})},q=()=>{i("refresh")},H=()=>{i("search")},N=U=>{if(!U)return"";try{const se=new Date(U),ce=new Date-se,me=Math.floor(ce/1e3),j=Math.floor(me/60),B=Math.floor(j/60);return me<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):j<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[j]):B<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[B]):se.toLocaleString()}catch(se){return U}};return ke(()=>s.state.saving,(U,se)=>{se&&!U&&r.value&&!s.state.validationErrors.length&&!s.state.error&&M()}),(U,se)=>(T(),x("section",rh,[o("header",lh,[o("div",null,[o("h2",ch,p(c(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),o("p",dh,p(c(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),o("div",uh,[ae(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":se[0]||(se[0]=oe=>e.state.search=oe),onKeyup:jt(H,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,ph),[[he,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:q,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":c(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[se[1]||(se[1]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",fh,p(c(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,_h),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:g},[se[2]||(se[2]=o("i",{class:"fa-solid fa-plus"},null,-1)),Ge(" "+p(c(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(T(),x("div",hh,p(e.state.error),1)):e.state.loading?(T(),x("div",mh,[Fe(Ps,{type:"table",rows:5,columns:5})])):(T(),x("div",gh,[Fe(b_,{items:e.state.items,translate:c(n),"base-currency":d.value,saving:e.state.saving,onEdit:A,onDelete:D,onToggleActive:y},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(T(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},p(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(N(e.state.lastUpdated)),9,Ch)):ye("",!0)])),Fe(th,{open:r.value,product:u.value,saving:e.state.saving,"base-currency":d.value,translate:c(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":_.value,onSubmit:v,onCancel:M},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Eh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},bh={class:"nxp-ec-admin-panel__header"},Ah={class:"nxp-ec-admin-panel__title"},yh={class:"nxp-ec-admin-panel__lead"},Th={class:"nxp-ec-admin-panel__actions"},Oh=["placeholder","aria-label"],vh=["disabled","title","aria-label"],Rh={class:"nxp-ec-sr-only"},xh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Ph={key:1,class:"nxp-ec-admin-panel__body"},Nh={key:2,class:"nxp-ec-admin-panel__body"},Mh={class:"nxp-ec-admin-panel__table"},Ih={class:"nxp-ec-admin-table"},$h={scope:"col"},wh={scope:"col"},kh={scope:"col"},Dh={scope:"col"},Uh={scope:"col"},Lh={key:0},Yh={colspan:"6"},Xh={scope:"row"},Fh={class:"nxp-ec-admin-table__actions"},Vh=["onClick","title","aria-label"],Gh={class:"nxp-ec-sr-only"},Hh=["disabled","onClick","title","aria-label"],Bh={class:"nxp-ec-sr-only"},Kh={key:0,class:"nxp-ec-admin-pagination"},jh=["disabled"],Jh={class:"nxp-ec-admin-pagination__status"},qh=["disabled"],Wh=["title"],zh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Qh={class:"nxp-ec-modal__dialog"},Zh={class:"nxp-ec-modal__header"},em={class:"nxp-ec-modal__title"},tm=["title","aria-label"],sm={class:"nxp-ec-sr-only"},nm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},om={class:"nxp-ec-form-field"},im={class:"nxp-ec-form-label",for:"category-title"},am={class:"nxp-ec-form-field"},rm={class:"nxp-ec-form-label",for:"category-slug"},lm={class:"nxp-ec-form-field"},cm={class:"nxp-ec-form-label",for:"category-parent"},dm={value:""},um=["value"],pm={class:"nxp-ec-form-field"},_m={class:"nxp-ec-form-label",for:"category-sort"},fm={class:"nxp-ec-modal__actions"},hm=["disabled"],mm={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=Xe(!1),r=Xe(!1),d=Xe([]),u=j=>{const W=(Array.isArray(j)?j:[]).map($=>{var V,Q,le,X,R;return{...$,id:Number.parseInt((V=$==null?void 0:$.id)!=null?V:0,10)||0,parent_id:($==null?void 0:$.parent_id)!=null&&Number.parseInt($.parent_id,10)||0,sort:Number.parseInt((Q=$==null?void 0:$.sort)!=null?Q:0,10)||0,title:String((le=$==null?void 0:$.title)!=null?le:"").trim(),slug:String((X=$==null?void 0:$.slug)!=null?X:"").trim(),usage:(R=$==null?void 0:$.usage)!=null?R:0}}).filter($=>$.id>0||$.title!==""),F=new Set(W.map($=>$.id));W.forEach($=>{F.has($.parent_id)||($.parent_id=0)});const ee=new Map,ue=new Map;W.forEach($=>{ue.set($.id,$);const V=$.parent_id||0;ee.has(V)||ee.set(V,[]),ee.get(V).push($)});const te=$=>$.sort((V,Q)=>{var le,X;return((le=V.sort)!=null?le:0)-((X=Q.sort)!=null?X:0)||V.title.localeCompare(Q.title,void 0,{sensitivity:"base"})});ee.forEach(te);const z=new Set,P=[],I=($,V,Q)=>{if(!$||z.has($.id)||Q.includes($.id))return;const le=[...Q],X=le.map(ie=>{var pe;return(pe=ue.get(ie))==null?void 0:pe.title}).filter(Boolean),R={...$,depth:V,path:X.join(" / "),ancestors:le,indentedTitle:V>0?`${" ".repeat(V)}${$.title}`:$.title};P.push(R),z.add($.id),(ee.get($.id)||[]).forEach(ie=>I(ie,V+1,[...Q,$.id]))},L=W.filter($=>$.parent_id===0||!F.has($.parent_id));return te(L),L.forEach($=>I($,0,[])),W.forEach($=>{z.has($.id)||I($,0,[])}),P},_=Ce(()=>{var j,B;return u((B=(j=s.state)==null?void 0:j.items)!=null?B:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),l=$e(f()),g=Ce(()=>{var B,W;const j=(W=Array.isArray(d.value)&&d.value.length?d.value:(B=s.state)==null?void 0:B.items)!=null?W:[];return u(j).filter(F=>F.id>0&&F.id!==l.id&&!(Array.isArray(F.ancestors)&&F.ancestors.includes(l.id))).map(F=>({id:F.id,title:F.title,label:F.depth>0?`${" ".repeat(F.depth)}${F.title}`:F.title}))}),A=()=>{Object.assign(l,f()),r.value=!1},M=j=>j?j.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",v=()=>{r.value=!0,l.slug=M(l.slug)};ke(()=>l.title,j=>{r.value||(l.slug=M(j))});const D=async(j=0)=>{if(typeof s.loadOptions!="function"){d.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const B=await s.loadOptions();d.value=Array.isArray(B)?[...B]:[]}catch(B){d.value=[]}d.value=d.value.filter(B=>{var F,ee;return(Number.parseInt((ee=(F=B==null?void 0:B.id)!=null?F:B==null?void 0:B.value)!=null?ee:0,10)||0)!==j})},y=async()=>{A(),await D(),a.value=!0},q=async j=>{var B,W,F,ee;j&&(l.id=Number.parseInt((B=j.id)!=null?B:0,10)||0,l.title=String((W=j.title)!=null?W:"").trim(),l.slug=String((F=j.slug)!=null?F:"").trim(),l.parent_id=j.parent_id!=null&&Number.parseInt(j.parent_id,10)||null,l.sort=Number.parseInt((ee=j.sort)!=null?ee:0,10)||0,r.value=!!l.slug,await D(l.id),a.value=!0)},H=()=>{a.value=!1,A()},N=()=>{i("refresh")},U=()=>{i("search")},se=j=>{i("page",j)},oe=()=>{const j={id:l.id||void 0,title:l.title.trim(),slug:l.slug.trim(),parent_id:l.parent_id||null,sort:Number.isFinite(l.sort)?l.sort:0};i("save",j)},ce=j=>{if(!j||!j.id)return;const B=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(B)||i("delete",[j.id])},me=j=>{if(!j)return"";try{const B=new Date(j),F=new Date-B,ee=Math.floor(F/1e3),ue=Math.floor(ee/60),te=Math.floor(ue/60);return ee<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):ue<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[ue]):te<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[te]):B.toLocaleString()}catch(B){return j}};return ke(()=>{var j;return(j=s.state)==null?void 0:j.saving},(j,B)=>{var W,F,ee;B&&!j&&(((F=(W=s.state)==null?void 0:W.validationErrors)!=null?F:[]).length>0||(ee=s.state)!=null&&ee.error||(a.value=!1,A()))}),(j,B)=>(T(),x("section",Eh,[o("header",bh,[o("div",null,[o("h2",Ah,p(c(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),o("p",yh,p(c(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),o("div",Th,[ae(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":B[0]||(B[0]=W=>e.state.search=W),onKeyup:jt(U,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Oh),[[he,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:N,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":c(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[B[7]||(B[7]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",Rh,p(c(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,vh),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:y},[B[8]||(B[8]=o("i",{class:"fa-solid fa-plus"},null,-1)),Ge(" "+p(c(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(T(),x("div",xh,p(e.state.error),1)):e.state.loading?(T(),x("div",Ph,[Fe(Ps,{type:"table",rows:5,columns:5})])):(T(),x("div",Nh,[o("div",Mh,[o("table",Ih,[o("thead",null,[o("tr",null,[o("th",$h,p(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),o("th",wh,p(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),o("th",kh,p(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),o("th",Dh,p(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),o("th",Uh,p(c(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),B[9]||(B[9]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?ye("",!0):(T(),x("tr",Lh,[o("td",Yh,p(c(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(T(!0),x(Ee,null,Te(_.value,W=>{var F;return T(),x("tr",{key:W.id,class:Pe({"is-active":l.id===W.id})},[o("th",Xh,[o("span",{style:Ut({paddingLeft:`${W.depth*1.5}rem`})},p(W.indentedTitle),5)]),o("td",null,p(W.slug||""),1),o("td",null,p(W.path||c(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),o("td",null,p(W.sort),1),o("td",null,p((F=W.usage)!=null?F:0),1),o("td",Fh,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ee=>q(W),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[B[10]||(B[10]=o("i",{class:"fa-solid fa-pen-to-square"},null,-1)),o("span",Gh,p(c(n)("JEDIT","Edit")),1)],8,Vh),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:ee=>ce(W),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[B[11]||(B[11]=o("i",{class:"fa-solid fa-trash"},null,-1)),o("span",Bh,p(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Hh)])],2)}),128))])]),e.state.pagination.pages>1?(T(),x("div",Kh,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:B[1]||(B[1]=W=>se(e.state.pagination.current-1))},"  ",8,jh),o("span",Jh,p(e.state.pagination.current)+" / "+p(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:B[2]||(B[2]=W=>se(e.state.pagination.current+1))},"  ",8,qh)])):ye("",!0)]),e.state.lastUpdated?(T(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},p(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(me(e.state.lastUpdated)),9,Wh)):ye("",!0),a.value?(T(),x("div",zh,[o("div",{class:"nxp-ec-modal__backdrop",onClick:H}),o("div",Qh,[o("header",Zh,[o("h3",em,p(l.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),o("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:H,title:c(n)("JCLOSE","Close"),"aria-label":c(n)("JCLOSE","Close")},[B[12]||(B[12]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",sm,p(c(n)("JCLOSE","Close")),1)],8,tm)]),o("form",{class:"nxp-ec-form",onSubmit:bt(oe,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(T(),x("div",nm,[o("ul",null,[(T(!0),x(Ee,null,Te(e.state.validationErrors,(W,F)=>(T(),x("li",{key:F},p(W),1))),128))])])):ye("",!0),o("div",om,[o("label",im,p(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),ae(o("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[3]||(B[3]=W=>l.title=W),required:"",maxlength:"255"},null,512),[[he,l.title,void 0,{trim:!0}]])]),o("div",am,[o("label",rm,p(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),ae(o("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[4]||(B[4]=W=>l.slug=W),maxlength:"190",onInput:v},null,544),[[he,l.slug,void 0,{trim:!0}]])]),o("div",lm,[o("label",cm,p(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),ae(o("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":B[5]||(B[5]=W=>l.parent_id=W)},[o("option",dm,p(c(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(T(!0),x(Ee,null,Te(g.value,W=>(T(),x("option",{key:W.id,value:W.id},p(W.label),9,um))),128))],512),[[Et,l.parent_id,void 0,{number:!0}]])]),o("div",pm,[o("label",_m,p(c(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),ae(o("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":B[6]||(B[6]=W=>l.sort=W),min:"0",step:"1"},null,512),[[he,l.sort,void 0,{number:!0}]])]),o("footer",fm,[o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[B[13]||(B[13]=o("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ge(" "+p(c(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,hm),o("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:H},[B[14]||(B[14]=o("i",{class:"fa-solid fa-ban"},null,-1)),Ge(" "+p(c(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):ye("",!0)]))]))}},gm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Cm={class:"nxp-ec-admin-panel__header"},Sm={class:"nxp-ec-admin-panel__title"},Em={class:"nxp-ec-admin-panel__lead"},bm={class:"nxp-ec-admin-panel__actions"},Am=["placeholder","aria-label"],ym=["aria-label"],Tm={value:""},Om=["value"],vm=["disabled","title","aria-label"],Rm={class:"nxp-ec-sr-only"},xm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Pm={key:1,class:"nxp-ec-admin-panel__body"},Nm={key:2,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},Mm={class:"nxp-ec-admin-panel__table"},Im={key:0,class:"nxp-ec-admin-panel__selection"},$m=["aria-label"],wm={value:""},km=["value"],Dm=["disabled"],Um=["title","aria-label"],Lm={class:"nxp-ec-sr-only"},Ym={class:"nxp-ec-admin-table"},Xm={scope:"col",class:"nxp-ec-admin-table__select"},Fm={scope:"col"},Vm={scope:"col"},Gm={scope:"col"},Hm={scope:"col"},Bm={scope:"col"},Km={scope:"col",class:"nxp-ec-admin-table__actions"},jm={key:0},Jm={colspan:"7"},qm={class:"nxp-ec-admin-table__select"},Wm=["checked","onChange","aria-label"],zm={scope:"row"},Qm=["onClick"],Zm={class:"nxp-ec-admin-table__meta"},eg={class:"nxp-ec-badge"},tg={class:"nxp-ec-admin-table__actions"},sg=["onUpdate:modelValue","aria-label"],ng=["value"],og=["value"],ig=["disabled","onClick"],ag={key:1,class:"nxp-ec-admin-pagination"},rg=["disabled"],lg={class:"nxp-ec-admin-pagination__status"},cg=["disabled"],dg=["title"],ug={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},pg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},_g={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},fg={class:"nxp-ec-admin-panel__sidebar-header"},hg=["title","aria-label"],mg={class:"nxp-ec-sr-only"},gg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Cg={class:"nxp-ec-admin-panel__section"},Sg={class:"nxp-ec-admin-list"},Eg={class:"nxp-ec-admin-list__title"},bg={class:"nxp-ec-admin-list__meta"},Ag={class:"nxp-ec-admin-panel__section"},yg={class:"nxp-ec-admin-panel__total"},Tg={class:"nxp-ec-admin-panel__section"},Og={class:"nxp-ec-admin-address"},vg={class:"nxp-ec-admin-panel__section"},Rg={key:0,class:"nxp-ec-admin-address"},xg={key:1,class:"nxp-ec-admin-panel__muted"},Pg={key:1,class:"nxp-ec-admin-panel__section"},Ng={class:"nxp-ec-admin-list"},Mg={class:"nxp-ec-admin-list__title"},Ig={class:"nxp-ec-admin-list__meta"},$g={class:"nxp-ec-admin-panel__section"},wg=["placeholder"],kg={class:"nxp-ec-admin-form__actions"},Dg=["disabled"],Ug={class:"nxp-ec-admin-panel__section"},Lg={key:0,class:"nxp-ec-admin-list"},Yg={class:"nxp-ec-admin-list__title"},Xg={class:"nxp-ec-admin-list__meta"},Fg={key:1,class:"nxp-ec-admin-panel__muted"},Vg=At({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=$e({}),r=Xe(""),d=Xe(""),u=Ce(()=>d.value.trim().length>0),_=Ce(()=>{var I;const P=(I=s.state)==null?void 0:I.selection;return!P||typeof P.values!="function"?[]:Array.from(P.values())}),f=Ce(()=>_.value.length>0);ke(_,P=>{P.length||(r.value="")}),ke(()=>{var P;return(P=s.state.activeOrder)==null?void 0:P.id},()=>{d.value=""}),ke(()=>s.state.items,P=>{Array.isArray(P)&&P.forEach(I=>{!I||typeof I.id=="undefined"||a[I.id]||(a[I.id]=I.state)})},{immediate:!0});const l=(P,I)=>{const L=(Number(P)||0)/100,$=(I||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:$}).format(L)}catch(V){return`${$} ${L.toFixed(2)}`}},g=P=>{if(!P)return"";const I=new Date(P);return Number.isNaN(I.getTime())?P:I.toLocaleString()},A=P=>P===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(P)]),M=P=>{if(!P)return"";const I=`COM_NXPEASYCART_ORDERS_STATE_${String(P).toUpperCase()}`;return n(I,P)},v=P=>s.state.orderStates.filter(I=>I!==P.state),D=P=>(a[P.id]||P.state)!==P.state,y=P=>!P||typeof P!="object"?[]:Object.entries(P).filter(([,I])=>I!=null&&`${I}`.trim()!=="").map(([I,L])=>({key:I,value:`${L}`.trim()})),q=()=>{i("refresh")},H=()=>{i("search")},N=()=>{i("filter",s.state.filterState)},U=P=>{i("view",P)},se=()=>{i("close")},oe=P=>{const I=a[P.id]||P.state;I!==P.state&&i("transition",{id:P.id,state:I})},ce=P=>{i("page",P)},me=P=>{var I,L,$,V;return(V=($=(L=(I=s.state)==null?void 0:I.selection)==null?void 0:L.has)==null?void 0:$.call(L,P))!=null?V:!1},j=P=>{i("toggle-selection",P)},B=()=>{r.value="",i("clear-selection")},W=()=>{!f.value||!r.value||i("bulk-transition",{ids:[..._.value],state:r.value})},F=()=>{if(!s.state.activeOrder)return;const P=d.value.trim();P&&(i("add-note",{id:s.state.activeOrder.id,message:P}),d.value="")},ee=Ce(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(_.value.length)],"ordersSelectedCount")),ue=P=>{var I,L,$,V,Q,le,X,R,S,ie,pe,de;if(!P||!P.action)return"";switch(P.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const we=M((L=(I=P.context)==null?void 0:I.from)!=null?L:""),m=M((V=($=P.context)==null?void 0:$.to)!=null?V:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[we||((Q=P.context)==null?void 0:Q.from)||"",m||((le=P.context)==null?void 0:le.to)||""],"ordersTimelineState")}case"order.note":return((X=P.context)==null?void 0:X.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const we=((R=P.context)==null?void 0:R.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),m=l((ie=(S=P.context)==null?void 0:S.amount_cents)!=null?ie:0,(de=(pe=s.state)==null?void 0:pe.activeOrder)==null?void 0:de.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[we,m],"ordersTimelinePaymentRecorded")}default:return P.action}},te=P=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(P.status||"").toUpperCase()}`,P.status||""),z=P=>{if(!P)return"";try{const I=new Date(P),$=new Date-I,V=Math.floor($/1e3),Q=Math.floor(V/60),le=Math.floor(Q/60);return V<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):Q<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[Q]):le<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[le]):I.toLocaleString()}catch(I){return P}};return(P,I)=>(T(),x("section",gm,[o("header",Cm,[o("div",null,[o("h2",Sm,p(c(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),o("p",Em,p(c(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),o("div",bm,[ae(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":I[0]||(I[0]=L=>e.state.search=L),onKeyup:jt(H,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Am),[[he,e.state.search]]),ae(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":I[1]||(I[1]=L=>e.state.filterState=L),onChange:N,"aria-label":c(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[o("option",Tm,"  "+p(c(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(T(!0),x(Ee,null,Te(e.state.orderStates,L=>(T(),x("option",{key:L,value:L},p(M(L)),9,Om))),128))],40,ym),[[Et,e.state.filterState]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:q,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[I[6]||(I[6]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",Rm,p(c(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,vm)])]),e.state.error?(T(),x("div",xm,p(e.state.error),1)):e.state.loading?(T(),x("div",Pm,[Fe(Ps,{type:"table",rows:5,columns:7})])):(T(),x("div",Nm,[o("div",Mm,[f.value?(T(),x("div",Im,[o("span",null,p(ee.value),1),ae(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":I[2]||(I[2]=L=>r.value=L),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[o("option",wm,p(c(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(T(!0),x(Ee,null,Te(e.state.orderStates,L=>(T(),x("option",{key:`bulk-${L}`,value:L},p(M(L)),9,km))),128))],8,$m),[[Et,r.value]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!r.value||e.state.saving,onClick:W},[I[7]||(I[7]=o("i",{class:"fa-solid fa-check"},null,-1)),Ge(" "+p(c(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,Dm),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:B,title:c(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[I[8]||(I[8]=o("i",{class:"fa-solid fa-xmark"},null,-1)),o("span",Lm,p(c(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,Um)])):ye("",!0),o("table",Ym,[o("thead",null,[o("tr",null,[o("th",Xm,p(c(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),o("th",Fm,p(c(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),o("th",Vm,p(c(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),o("th",Gm,p(c(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),o("th",Hm,p(c(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),o("th",Bm,p(c(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),o("th",Km,p(c(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),o("tbody",null,[e.state.items.length?ye("",!0):(T(),x("tr",jm,[o("td",Jm,p(c(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(T(!0),x(Ee,null,Te(e.state.items,L=>{var $,V,Q;return T(),x("tr",{key:L.id,class:Pe({"is-active":e.state.activeOrder&&e.state.activeOrder.id===L.id})},[o("td",qm,[o("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:me(L.id),onChange:le=>j(L.id),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Wm)]),o("th",zm,[o("button",{class:"nxp-ec-link-button",type:"button",onClick:le=>U(L)},p(L.order_no),9,Qm)]),o("td",null,[o("div",null,p(L.email),1),o("div",Zm,p(A((Q=L.items_count)!=null?Q:(V=($=L.items)==null?void 0:$.length)!=null?V:0)),1)]),o("td",null,p(l(L.total_cents,L.currency)),1),o("td",null,[o("span",eg,p(M(L.state)),1)]),o("td",null,p(g(L.modified||L.created)),1),o("td",tg,[ae(o("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":le=>a[L.id]=le,"aria-label":c(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[o("option",{value:L.state},p(M(L.state)),9,ng),(T(!0),x(Ee,null,Te(v(L),le=>(T(),x("option",{key:le,value:le},p(M(le)),9,og))),128))],8,sg),[[Et,a[L.id]]]),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!D(L),onClick:le=>oe(L)},p(c(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,ig)])],2)}),128))])]),e.state.pagination.pages>1?(T(),x("div",ag,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:I[3]||(I[3]=L=>ce(e.state.pagination.current-1))},"  ",8,rg),o("span",lg,p(e.state.pagination.current)+" / "+p(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:I[4]||(I[4]=L=>ce(e.state.pagination.current+1))},"  ",8,cg)])):ye("",!0)]),e.state.lastUpdated?(T(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},p(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(z(e.state.lastUpdated)),9,dg)):ye("",!0),e.state.activeOrder?(T(),x("div",ug,[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:se}),o("div",pg,[o("aside",_g,[o("header",fg,[o("h3",null,p(c(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+p(e.state.activeOrder.order_no),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:se,title:c(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":c(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[I[9]||(I[9]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",mg,p(c(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,hg)]),e.state.transitionError?(T(),x("div",gg,p(e.state.transitionError),1)):ye("",!0),o("section",Cg,[o("h4",null,p(c(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),o("ul",Sg,[(T(!0),x(Ee,null,Te(e.state.activeOrder.items,L=>(T(),x("li",{key:L.id},[o("div",Eg,[Ge(p(L.title)+" ",1),o("small",null,"("+p(L.sku)+")",1)]),o("div",bg,"  "+p(L.qty)+"  "+p(l(L.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),o("section",Ag,[o("h4",null,p(c(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),o("p",yg,p(l(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),o("section",Tg,[o("h4",null,p(c(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),o("address",Og,[(T(!0),x(Ee,null,Te(y(e.state.activeOrder.billing),L=>(T(),x("span",{key:L.key},p(L.value),1))),128))])]),o("section",vg,[o("h4",null,p(c(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(T(),x("address",Rg,[(T(!0),x(Ee,null,Te(y(e.state.activeOrder.shipping),L=>(T(),x("span",{key:L.key},p(L.value),1))),128))])):(T(),x("p",xg,p(c(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(T(),x("section",Pg,[o("h4",null,p(c(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),o("ul",Ng,[(T(!0),x(Ee,null,Te(e.state.activeOrder.transactions,L=>(T(),x("li",{key:L.id},[o("div",Mg,p(L.gateway)+"  "+p(l(L.amount_cents,e.state.activeOrder.currency)),1),o("div",Ig,p(te(L))+"  "+p(g(L.created)),1)]))),128))])])):ye("",!0),o("section",$g,[o("h4",null,p(c(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),o("form",{class:"nxp-ec-admin-form",onSubmit:bt(F,["prevent"])},[ae(o("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":I[5]||(I[5]=L=>d.value=L),placeholder:c(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,wg),[[he,d.value]]),o("div",kg,[o("button",{class:"nxp-ec-btn",type:"submit",disabled:!u.value||e.state.saving},[I[10]||(I[10]=o("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Ge(" "+p(c(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,Dg)])],32)]),o("section",Ug,[o("h4",null,p(c(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),e.state.activeOrder.timeline&&e.state.activeOrder.timeline.length?(T(),x("ul",Lg,[(T(!0),x(Ee,null,Te(e.state.activeOrder.timeline,L=>(T(),x("li",{key:L.id},[o("div",Yg,p(ue(L)),1),o("div",Xg,p(g(L.created)),1)]))),128))])):(T(),x("p",Fg,p(c(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):ye("",!0)]))]))}},[["__scopeId","data-v-f2999fa9"]]),Gg={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},Hg={class:"nxp-ec-admin-panel__header"},Bg={class:"nxp-ec-admin-panel__title"},Kg={class:"nxp-ec-admin-panel__lead"},jg={class:"nxp-ec-admin-panel__actions"},Jg=["placeholder","aria-label"],qg=["disabled","title","aria-label"],Wg={class:"nxp-ec-sr-only"},zg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Qg={key:1,class:"nxp-ec-admin-panel__body"},Zg={key:2,class:"nxp-ec-admin-panel__body"},eC={class:"nxp-ec-admin-panel__table"},tC={class:"nxp-ec-admin-table"},sC={scope:"col"},nC={scope:"col"},oC={scope:"col"},iC={scope:"col"},aC={scope:"col"},rC={key:0},lC={colspan:"5"},cC={scope:"row"},dC=["onClick"],uC={key:0,class:"nxp-ec-admin-pagination"},pC=["disabled"],_C={class:"nxp-ec-admin-pagination__status"},fC=["disabled"],hC=["title"],mC={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},gC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},CC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},SC={class:"nxp-ec-admin-panel__sidebar-header"},EC=["title","aria-label"],bC={class:"nxp-ec-sr-only"},AC={class:"nxp-ec-admin-panel__section"},yC={class:"nxp-ec-admin-summary"},TC={class:"nxp-ec-admin-panel__section"},OC={class:"nxp-ec-admin-address"},vC={class:"nxp-ec-admin-panel__section"},RC={key:0,class:"nxp-ec-admin-address"},xC={key:1,class:"nxp-ec-admin-panel__muted"},PC={class:"nxp-ec-admin-panel__section"},NC={key:0,class:"nxp-ec-admin-list"},MC={class:"nxp-ec-admin-list__title"},IC={class:"nxp-ec-admin-list__meta"},$C={key:1,class:"nxp-ec-admin-panel__muted"},wC=At({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=(v,D)=>{const y=(Number(v)||0)/100,q=(D||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:q}).format(y)}catch(H){return`${q} ${y.toFixed(2)}`}},r=v=>{if(!v)return"";const D=new Date(v);return Number.isNaN(D.getTime())?v:D.toLocaleString()},d=v=>!v||typeof v!="object"?[]:Object.entries(v).filter(([,D])=>D!=null&&`${D}`.trim()!=="").map(([D,y])=>({key:D,value:`${y}`.trim()})),u=v=>{if(!v)return"";const D=`COM_NXPEASYCART_ORDERS_STATE_${String(v).toUpperCase()}`;return n(D,v)},_=()=>i("refresh"),f=()=>i("search"),l=v=>i("page",v),g=v=>i("view",v),A=()=>i("close"),M=v=>{if(!v)return"";try{const D=new Date(v),q=new Date-D,H=Math.floor(q/1e3),N=Math.floor(H/60),U=Math.floor(N/60);return H<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):N<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[N]):U<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[U]):D.toLocaleString()}catch(D){return v}};return(v,D)=>{var y,q,H;return T(),x("section",Gg,[o("header",Hg,[o("div",null,[o("h2",Bg,p(c(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),o("p",Kg,p(c(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),o("div",jg,[ae(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=N=>e.state.search=N),onKeyup:jt(f,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,Jg),[[he,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":c(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[D[3]||(D[3]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",Wg,p(c(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,qg)])]),e.state.error?(T(),x("div",zg,p(e.state.error),1)):e.state.loading?(T(),x("div",Qg,[Fe(Ps,{type:"table",rows:5,columns:5})])):(T(),x("div",Zg,[o("div",eC,[o("table",tC,[o("thead",null,[o("tr",null,[o("th",sC,p(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),o("th",nC,p(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),o("th",oC,p(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),o("th",iC,p(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),o("th",aC,p(c(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),o("tbody",null,[e.state.items.length?ye("",!0):(T(),x("tr",rC,[o("td",lC,p(c(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(T(!0),x(Ee,null,Te(e.state.items,N=>{var U;return T(),x("tr",{key:N.email,class:Pe({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===N.email})},[o("th",cC,[o("button",{class:"nxp-ec-link-button",type:"button",onClick:se=>g(N)},p(N.email),9,dC)]),o("td",null,p(((U=N.meta)==null?void 0:U.name)||""),1),o("td",null,p(N.orders_count),1),o("td",null,p(a(N.total_spent_cents,N.currency||e.baseCurrency)),1),o("td",null,p(r(N.last_order)),1)],2)}),128))])]),e.state.pagination.pages>1?(T(),x("div",uC,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[1]||(D[1]=N=>l(e.state.pagination.current-1))},"  ",8,pC),o("span",_C,p(e.state.pagination.current)+" / "+p(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[2]||(D[2]=N=>l(e.state.pagination.current+1))},"  ",8,fC)])):ye("",!0)]),e.state.lastUpdated?(T(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},p(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(M(e.state.lastUpdated)),9,hC)):ye("",!0),e.state.activeCustomer?(T(),x("div",mC,[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:A}),o("div",gC,[o("aside",CC,[o("header",SC,[o("h3",null,p(e.state.activeCustomer.email),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:A,title:c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[D[4]||(D[4]=o("i",{class:"fa-solid fa-circle-xmark"},null,-1)),o("span",bC,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,EC)]),o("section",AC,[o("h4",null,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),o("dl",yC,[o("div",null,[o("dt",null,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),o("dd",null,p(((y=e.state.activeCustomer.meta)==null?void 0:y.name)||""),1)]),o("div",null,[o("dt",null,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),o("dd",null,p(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),o("div",null,[o("dt",null,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),o("dd",null,p(e.state.activeCustomer.orders_count),1)]),o("div",null,[o("dt",null,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),o("dd",null,p(r(e.state.activeCustomer.last_order)),1)])])]),o("section",TC,[o("h4",null,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),o("address",OC,[(T(!0),x(Ee,null,Te(d((q=e.state.activeCustomer.meta)==null?void 0:q.billing),N=>(T(),x("span",{key:N.key},p(N.value),1))),128))])]),o("section",vC,[o("h4",null,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(H=e.state.activeCustomer.meta)!=null&&H.shipping?(T(),x("address",RC,[(T(!0),x(Ee,null,Te(d(e.state.activeCustomer.meta.shipping),N=>(T(),x("span",{key:N.key},p(N.value),1))),128))])):(T(),x("p",xC,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),o("section",PC,[o("h4",null,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(T(),x("ul",NC,[(T(!0),x(Ee,null,Te(e.state.activeCustomer.orders,N=>(T(),x("li",{key:N.id},[o("div",MC,p(N.order_no)+"  "+p(a(N.total_cents,N.currency||e.baseCurrency)),1),o("div",IC,p(u(N.state))+"  "+p(r(N.created)),1)]))),128))])):(T(),x("p",$C,p(c(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))])])])])):ye("",!0)]))])}}},[["__scopeId","data-v-4fa39d6b"]]),kC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},DC={class:"nxp-ec-admin-panel__header"},UC={class:"nxp-ec-admin-panel__title"},LC={class:"nxp-ec-admin-panel__lead"},YC={class:"nxp-ec-admin-panel__actions"},XC=["placeholder","aria-label"],FC=["disabled","title","aria-label"],VC={class:"nxp-ec-sr-only"},GC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},HC={key:1,class:"nxp-ec-admin-panel__loading"},BC={key:2,class:"nxp-ec-admin-panel__body"},KC={class:"nxp-ec-admin-panel__table"},jC={class:"nxp-ec-admin-table"},JC={scope:"col"},qC={scope:"col"},WC={scope:"col"},zC={scope:"col"},QC={scope:"col"},ZC={scope:"col"},eS={key:0},tS={colspan:"7"},sS={scope:"row"},nS={class:"nxp-ec-admin-table__actions"},oS=["onClick","title","aria-label"],iS={class:"nxp-ec-sr-only"},aS=["onClick","title","aria-label"],rS={class:"nxp-ec-sr-only"},lS={key:0,class:"nxp-ec-admin-pagination"},cS=["disabled"],dS={class:"nxp-ec-admin-pagination__status"},uS=["disabled"],pS={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},_S={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},fS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},hS={class:"nxp-ec-admin-panel__sidebar-header"},mS=["title","aria-label"],gS={class:"nxp-ec-sr-only"},CS={class:"nxp-ec-form-field"},SS={class:"nxp-ec-form-label",for:"coupon-code"},ES={class:"nxp-ec-form-field"},bS={class:"nxp-ec-form-label",for:"coupon-type"},AS={value:"percent"},yS={value:"fixed"},TS={class:"nxp-ec-form-field"},OS={class:"nxp-ec-form-label",for:"coupon-value"},vS={class:"nxp-ec-form-field"},RS={class:"nxp-ec-form-label",for:"coupon-min-total"},xS={class:"nxp-ec-form-field"},PS={class:"nxp-ec-form-label",for:"coupon-start"},NS={class:"nxp-ec-form-field"},MS={class:"nxp-ec-form-label",for:"coupon-end"},IS={class:"nxp-ec-form-field"},$S={class:"nxp-ec-form-label",for:"coupon-max-uses"},wS={class:"nxp-ec-form-field nxp-ec-form-field--inline"},kS={class:"nxp-ec-form-label",for:"coupon-active"},DS={class:"nxp-ec-modal__actions"},US=["disabled"],LS=["disabled"],YS=["disabled"],XS=At({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=Ce(()=>(s.baseCurrency||"USD").toUpperCase()),r=$e({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),d=Ce(()=>r.open),u=()=>i("refresh"),_=()=>i("search"),f=H=>i("page",H),l=()=>{Object.assign(r,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},g=H=>{var N,U;Object.assign(r,{open:!0,id:H.id,code:H.code,type:H.type,value:H.value,min_total:(U=H.min_total)!=null?U:((N=H.min_total_cents)!=null?N:0)/100,start:H.start?H.start.substring(0,10):"",end:H.end?H.end.substring(0,10):"",max_uses:H.max_uses,active:H.active})},A=()=>{r.open=!1},M=()=>{const H={id:r.id||void 0,code:r.code,type:r.type,value:r.value,min_total:r.min_total||0,start:r.start||null,end:r.end||null,max_uses:r.max_uses!==null&&r.max_uses!==""?r.max_uses:null,active:r.active};i("save",H)},v=H=>{const N=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(N)&&(i("delete",[H.id]),r.id===H.id&&A())},D=(H,N)=>{const U=(Number(H)||0)/100,se=(N||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:se}).format(U)}catch(oe){return`${se} ${U.toFixed(2)}`}},y=H=>H.type==="percent"?`${H.value}%`:D(H.value*100,a.value),q=H=>H==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return ke(()=>s.state.saving,(H,N)=>{N&&!H&&!s.state.error&&r.open&&A()}),(H,N)=>(T(),x("section",kC,[o("header",DC,[o("div",null,[o("h2",UC,p(c(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),o("p",LC,p(c(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),o("div",YC,[ae(o("input",{type:"search",class:"nxp-ec-admin-search",placeholder:c(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":N[0]||(N[0]=U=>e.state.search=U),onKeyup:jt(_,["enter"]),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,XC),[[he,e.state.search]]),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[N[12]||(N[12]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",VC,p(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,FC),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:l},[N[13]||(N[13]=o("i",{class:"fa-solid fa-plus"},null,-1)),Ge(" "+p(c(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(T(),x("div",GC,p(e.state.error),1)):e.state.loading?(T(),x("div",HC,p(c(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):(T(),x("div",BC,[o("div",KC,[o("table",jC,[o("thead",null,[o("tr",null,[o("th",JC,p(c(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),o("th",qC,p(c(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),o("th",WC,p(c(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),o("th",zC,p(c(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),o("th",QC,p(c(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),o("th",ZC,p(c(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),N[14]||(N[14]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[e.state.items.length?ye("",!0):(T(),x("tr",eS,[o("td",tS,p(c(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(T(!0),x(Ee,null,Te(e.state.items,U=>(T(),x("tr",{key:U.id,class:Pe({"is-active":r.id===U.id})},[o("th",sS,p(U.code),1),o("td",null,p(q(U.type)),1),o("td",null,p(y(U)),1),o("td",null,p(D(U.min_total_cents,a.value)),1),o("td",null,[o("span",{class:Pe(["nxp-ec-badge",{"is-active":U.active}])},[o("i",{class:Pe(U.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ge(" "+p(U.active?c(n)("JYES","Yes"):c(n)("JNO","No")),1)],2)]),o("td",null,p(U.times_used)+p(U.max_uses?` / ${U.max_uses}`:""),1),o("td",nS,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:se=>g(U),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[N[15]||(N[15]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",iS,p(c(n)("JEDIT","Edit")),1)],8,oS),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:se=>v(U),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[N[16]||(N[16]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",rS,p(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,aS)])],2))),128))])]),e.state.pagination.pages>1?(T(),x("div",lS,[o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:N[1]||(N[1]=U=>f(e.state.pagination.current-1))},"  ",8,cS),o("span",dS,p(e.state.pagination.current)+" / "+p(e.state.pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:N[2]||(N[2]=U=>f(e.state.pagination.current+1))},"  ",8,uS)])):ye("",!0)]),d.value?(T(),x("div",pS,[o("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:A}),o("div",_S,[o("aside",fS,[o("header",hS,[o("h3",null,p(r.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),o("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:A,title:c(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[N[17]||(N[17]=o("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),o("span",gS,p(c(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,mS)]),o("form",{class:"nxp-ec-form",onSubmit:bt(M,["prevent"]),autocomplete:"off"},[o("div",CS,[o("label",SS,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),ae(o("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":N[3]||(N[3]=U=>r.code=U),required:"",maxlength:"64"},null,512),[[he,r.code,void 0,{trim:!0}]])]),o("div",ES,[o("label",bS,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),ae(o("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":N[4]||(N[4]=U=>r.type=U)},[o("option",AS,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),o("option",yS,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[Et,r.type]])]),o("div",TS,[o("label",OS,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),ae(o("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":N[5]||(N[5]=U=>r.value=U),required:""},null,512),[[he,r.value,void 0,{number:!0}]])]),o("div",vS,[o("label",RS,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),ae(o("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":N[6]||(N[6]=U=>r.min_total=U)},null,512),[[he,r.min_total,void 0,{number:!0}]])]),o("div",xS,[o("label",PS,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),ae(o("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":N[7]||(N[7]=U=>r.start=U)},null,512),[[he,r.start]])]),o("div",NS,[o("label",MS,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),ae(o("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":N[8]||(N[8]=U=>r.end=U)},null,512),[[he,r.end]])]),o("div",IS,[o("label",$S,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),ae(o("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":N[9]||(N[9]=U=>r.max_uses=U)},null,512),[[he,r.max_uses,void 0,{number:!0}]])]),o("div",wS,[o("label",kS,p(c(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),ae(o("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":N[10]||(N[10]=U=>r.active=U)},null,512),[[Kt,r.active]])]),o("footer",DS,[o("button",{class:"nxp-ec-btn",type:"button",onClick:A,disabled:e.state.saving},p(c(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,US),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},p(e.state.saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,LS)]),r.id?(T(),x("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:N[11]||(N[11]=U=>v(r)),disabled:e.state.saving},[N[18]||(N[18]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Ge(" "+p(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,YS)):ye("",!0)],32)])])])):ye("",!0)]))]))}},[["__scopeId","data-v-f3fb8685"]]),FS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},VS={class:"nxp-ec-admin-panel__header"},GS={class:"nxp-ec-admin-panel__title"},HS={class:"nxp-ec-admin-panel__lead"},BS={class:"nxp-ec-settings-tabs"},KS={key:0,class:"nxp-ec-settings-panel"},jS={class:"nxp-ec-settings-panel__header"},JS=["disabled"],qS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},WS={key:1,class:"nxp-ec-admin-panel__loading"},zS={class:"nxp-ec-form-field"},QS={class:"nxp-ec-form-label",for:"settings-store-name"},ZS={class:"nxp-ec-form-field"},eE={class:"nxp-ec-form-label",for:"settings-store-email"},tE={class:"nxp-ec-form-field"},sE={class:"nxp-ec-form-label",for:"settings-store-phone"},nE={class:"nxp-ec-form-field"},oE={class:"nxp-ec-form-label",for:"settings-base-currency"},iE={class:"nxp-ec-form-help"},aE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},rE={class:"nxp-ec-form-label",for:"settings-payments-configured"},lE={class:"nxp-ec-form-help"},cE={class:"nxp-ec-settings-actions"},dE=["disabled"],uE=["disabled"],pE={key:1,class:"nxp-ec-settings-panel"},_E={class:"nxp-ec-settings-panel__header"},fE=["disabled"],hE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mE={key:1,class:"nxp-ec-settings-grid"},gE={class:"nxp-ec-settings-table"},CE={class:"nxp-ec-admin-table"},SE={scope:"col"},EE={scope:"col"},bE={scope:"col"},AE={scope:"col"},yE={scope:"col"},TE={key:0},OE={colspan:"6"},vE={scope:"row"},RE={class:"nxp-ec-admin-table__actions"},xE=["onClick","title","aria-label"],PE={class:"nxp-ec-sr-only"},NE=["onClick","title","aria-label"],ME={class:"nxp-ec-sr-only"},IE={class:"nxp-ec-form-field"},$E={class:"nxp-ec-form-label",for:"tax-country"},wE={class:"nxp-ec-form-field"},kE={class:"nxp-ec-form-label",for:"tax-region"},DE={class:"nxp-ec-form-field"},UE={class:"nxp-ec-form-label",for:"tax-rate"},LE={class:"nxp-ec-form-field nxp-ec-form-field--inline"},YE={class:"nxp-ec-form-label",for:"tax-inclusive"},XE={class:"nxp-ec-form-field"},FE={class:"nxp-ec-form-label",for:"tax-priority"},VE={class:"nxp-ec-settings-actions"},GE=["disabled"],HE=["disabled"],BE={key:2,class:"nxp-ec-settings-panel"},KE={class:"nxp-ec-settings-panel__header"},jE=["disabled"],JE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qE={key:1,class:"nxp-ec-settings-grid"},WE={class:"nxp-ec-settings-table"},zE={class:"nxp-ec-admin-table"},QE={scope:"col"},ZE={scope:"col"},eb={scope:"col"},tb={scope:"col"},sb={scope:"col"},nb={scope:"col"},ob={key:0},ib={colspan:"7"},ab={scope:"row"},rb={class:"nxp-ec-admin-table__actions"},lb=["onClick","title","aria-label"],cb={class:"nxp-ec-sr-only"},db=["onClick","title","aria-label"],ub={class:"nxp-ec-sr-only"},pb={class:"nxp-ec-form-field"},_b={class:"nxp-ec-form-label",for:"shipping-name"},fb={class:"nxp-ec-form-field"},hb={class:"nxp-ec-form-label",for:"shipping-type"},mb={value:"flat"},gb={value:"free_over"},Cb={class:"nxp-ec-form-field"},Sb={class:"nxp-ec-form-label",for:"shipping-price"},Eb={key:0,class:"nxp-ec-form-field"},bb={class:"nxp-ec-form-label",for:"shipping-threshold"},Ab={class:"nxp-ec-form-field"},yb={class:"nxp-ec-form-label",for:"shipping-regions"},Tb=["placeholder"],Ob={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vb={class:"nxp-ec-form-label",for:"shipping-active"},Rb={class:"nxp-ec-settings-actions"},xb=["disabled"],Pb=["disabled"],Nb={key:3,class:"nxp-ec-settings-panel"},Mb={class:"nxp-ec-settings-panel__header"},Ib={class:"nxp-ec-settings-actions"},$b=["disabled"],wb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kb={key:1,class:"nxp-ec-admin-panel__loading"},Db={class:"nxp-ec-form-field"},Ub={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},Lb={class:"nxp-ec-form-field"},Yb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},Xb={class:"nxp-ec-form-field"},Fb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},Vb={class:"nxp-ec-form-help"},Gb={class:"nxp-ec-form-field"},Hb={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},Bb={value:"test"},Kb={value:"live"},jb={class:"nxp-ec-form-field"},Jb={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},qb={class:"nxp-ec-form-field"},Wb={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},zb={class:"nxp-ec-form-field"},Qb={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},Zb={class:"nxp-ec-form-help"},eA={class:"nxp-ec-form-field"},tA={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},sA={value:"sandbox"},nA={value:"live"},oA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},iA={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},aA={class:"nxp-ec-form-field"},rA={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},lA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},cA={class:"nxp-ec-settings-actions"},dA=["disabled"],uA=["disabled"],pA={key:4,class:"nxp-ec-settings-panel"},_A={class:"nxp-ec-settings-panel__header"},fA=["disabled"],hA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},mA={key:1,class:"nxp-ec-admin-panel__loading"},gA={class:"nxp-ec-form-help"},CA={class:"nxp-ec-visual-grid"},SA={class:"nxp-ec-visual-field"},EA={class:"nxp-ec-form-label",for:"visual-primary-color"},bA={class:"nxp-ec-color-input-group"},AA=["value"],yA=["placeholder"],TA={class:"nxp-ec-visual-field"},OA={class:"nxp-ec-form-label",for:"visual-text-color"},vA={class:"nxp-ec-color-input-group"},RA=["value"],xA=["placeholder"],PA={class:"nxp-ec-visual-field"},NA={class:"nxp-ec-form-label",for:"visual-surface-color"},MA={class:"nxp-ec-color-input-group"},IA=["value"],$A=["placeholder"],wA={class:"nxp-ec-visual-field"},kA={class:"nxp-ec-form-label",for:"visual-border-color"},DA={class:"nxp-ec-color-input-group"},UA=["value"],LA=["placeholder"],YA={class:"nxp-ec-visual-field"},XA={class:"nxp-ec-form-label",for:"visual-muted-color"},FA={class:"nxp-ec-color-input-group"},VA=["value"],GA=["placeholder"],HA={class:"nxp-ec-visual-preview"},BA={type:"button",class:"nxp-ec-preview-btn"},KA={class:"nxp-ec-preview-text"},jA={class:"nxp-ec-preview-muted"},JA={class:"nxp-ec-settings-actions"},qA=["disabled"],WA=["disabled"],zA=At({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=s.settingsState,r=s.taxState,d=s.shippingState,u=s.paymentsState,_=Xe("general"),f=Ce(()=>{var pe;const X=s.baseCurrency||"USD",R=typeof l.baseCurrency=="string"?l.baseCurrency.trim():"",S=typeof((pe=a==null?void 0:a.values)==null?void 0:pe.base_currency)=="string"?a.values.base_currency.trim():"";return(R!==""?R:S!==""?S:X).toUpperCase()}),l=$e({storeName:"",storeEmail:"",storePhone:"",paymentsConfigured:!1,baseCurrency:""}),g=$e({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),A=$e({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),M=$e({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"}}),v=$e({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),D=Ce(()=>{var R,S;const X=(S=(R=a.values)==null?void 0:R.visual_defaults)!=null?S:{};return{primary:X.primary_color||"#4f6d7a",text:X.text_color||"#1f2933",surface:X.surface_color||"#ffffff",border:X.border_color||"#e4e7ec",muted:X.muted_color||"#6b7280"}}),y=Ce(()=>({"--nxp-ec-color-primary":v.primaryColor||D.value.primary,"--nxp-ec-color-text":v.textColor||D.value.text,"--nxp-ec-color-surface":v.surfaceColor||D.value.surface,"--nxp-ec-color-border":v.borderColor||D.value.border,"--nxp-ec-color-muted":v.mutedColor||D.value.muted})),q=(X={})=>{var pe,de,we,m,E,Y,K,C,h,b,O;const R=(pe=X==null?void 0:X.store)!=null?pe:{},S=(de=X==null?void 0:X.payments)!=null?de:{},ie=(we=X==null?void 0:X.visual)!=null?we:{};Object.assign(l,{storeName:(m=R.name)!=null?m:"",storeEmail:(E=R.email)!=null?E:"",storePhone:(Y=R.phone)!=null?Y:"",paymentsConfigured:!!S.configured,baseCurrency:typeof(X==null?void 0:X.base_currency)=="string"?X.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase()}),Object.assign(v,{primaryColor:(K=ie.primary_color)!=null?K:"",textColor:(C=ie.text_color)!=null?C:"",surfaceColor:(h=ie.surface_color)!=null?h:"",borderColor:(b=ie.border_color)!=null?b:"",mutedColor:(O=ie.muted_color)!=null?O:""})},H=(X={})=>{var pe,de,we,m,E,Y,K,C,h,b,O,w,k;const R=(pe=X.stripe)!=null?pe:{},S=(de=X.paypal)!=null?de:{},ie=(we=X.cod)!=null?we:{};Object.assign(M.stripe,{publishable_key:(m=R.publishable_key)!=null?m:"",secret_key:(E=R.secret_key)!=null?E:"",webhook_secret:(Y=R.webhook_secret)!=null?Y:"",mode:(K=R.mode)!=null?K:"test"}),Object.assign(M.paypal,{client_id:(C=S.client_id)!=null?C:"",client_secret:(h=S.client_secret)!=null?h:"",webhook_id:(b=S.webhook_id)!=null?b:"",mode:(O=S.mode)!=null?O:"sandbox"}),Object.assign(M.cod,{enabled:ie.enabled!==void 0?!!ie.enabled:M.cod.enabled,label:(k=(w=ie.label)!=null?w:M.cod.label)!=null?k:"Cash on delivery"})};ke(()=>a.values,X=>{q(X!=null?X:{})},{immediate:!0});const N=()=>i("refresh-settings"),U=()=>{const X=(l.baseCurrency||"").trim().toUpperCase();i("save-settings",{store:{name:l.storeName,email:l.storeEmail,phone:l.storePhone,base_currency:X},payments:{configured:l.paymentsConfigured},base_currency:X})},se=()=>{var X;q((X=a.values)!=null?X:{})};ke(()=>a.saving,(X,R)=>{var S;R&&!X&&!a.error&&q((S=a.values)!=null?S:{})}),ke(()=>l.baseCurrency,X=>{if(typeof X=="string"){const R=X.replace(/[^A-Za-z]/g,"").toUpperCase();R!==X&&(l.baseCurrency=R)}}),ke(()=>u.config,X=>{H(X!=null?X:{})},{immediate:!0}),ke(()=>u.saving,(X,R)=>{var S;R&&!X&&!u.error&&H((S=u.config)!=null?S:{})});const oe=()=>i("refresh-payments"),ce=()=>{const X=JSON.parse(JSON.stringify(M));i("save-payments",X)},me=()=>{var X;H((X=u.config)!=null?X:{})},j=()=>i("refresh-settings"),B=()=>{i("save-settings",{visual:{primary_color:v.primaryColor,text_color:v.textColor,surface_color:v.surfaceColor,border_color:v.borderColor,muted_color:v.mutedColor}})},W=()=>{var R,S,ie,pe,de,we,m;const X=(S=(R=a.values)==null?void 0:R.visual)!=null?S:{};Object.assign(v,{primaryColor:(ie=X.primary_color)!=null?ie:"",textColor:(pe=X.text_color)!=null?pe:"",surfaceColor:(de=X.surface_color)!=null?de:"",borderColor:(we=X.border_color)!=null?we:"",mutedColor:(m=X.muted_color)!=null?m:""})},F=()=>i("refresh-tax"),ee=()=>i("refresh-shipping"),ue=X=>{Object.assign(g,{id:X.id,country:X.country,region:X.region,rate:X.rate,inclusive:X.inclusive,priority:X.priority})},te=()=>{Object.assign(g,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},z=()=>{i("save-tax",{id:g.id||void 0,country:g.country,region:g.region,rate:g.rate,inclusive:g.inclusive,priority:g.priority})},P=X=>{const R=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(R)&&(i("delete-tax",[X.id]),g.id===X.id&&te())};ke(()=>r.saving,(X,R)=>{R&&!X&&!r.error&&te()});const I=X=>{var R,S,ie;Object.assign(A,{id:X.id,name:X.name,type:X.type,price:(S=X.price)!=null?S:((R=X.price_cents)!=null?R:0)/100,threshold:X.threshold!==null&&X.threshold!==void 0?X.threshold:((ie=X.threshold_cents)!=null?ie:0)/100,regions:X.regions&&X.regions.length?X.regions.join(", "):"",active:X.active})},L=()=>{Object.assign(A,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},$=()=>{const X={id:A.id||void 0,name:A.name,type:A.type,price:A.price,threshold:A.type==="free_over"?A.threshold:0,regions:A.regions,active:A.active};i("save-shipping",X)},V=X=>{const R=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(R)&&(i("delete-shipping",[X.id]),A.id===X.id&&L())};ke(()=>d.saving,(X,R)=>{R&&!X&&!d.error&&L()});const Q=(X,R)=>{const S=(Number(X)||0)/100,ie=(R||"").toUpperCase()||f.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ie}).format(S)}catch(pe){return`${ie} ${S.toFixed(2)}`}},le=X=>X==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(X,R)=>(T(),x("section",FS,[o("header",VS,[o("div",null,[o("h2",GS,p(c(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),o("p",HS,p(c(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),o("nav",BS,[o("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:R[0]||(R[0]=S=>_.value="general")},p(c(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),o("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="tax"}]),onClick:R[1]||(R[1]=S=>_.value="tax")},p(c(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),o("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="shipping"}]),onClick:R[2]||(R[2]=S=>_.value="shipping")},p(c(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),o("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:R[3]||(R[3]=S=>_.value="payments")},p(c(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),o("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:R[4]||(R[4]=S=>_.value="visual")},p(c(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(T(),x("div",KS,[o("header",jS,[o("h3",null,p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:N,disabled:c(a).loading},p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,JS)]),c(a).error?(T(),x("div",qS,p(c(a).error),1)):c(a).loading?(T(),x("div",WS,p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(T(),x("form",{key:2,class:"nxp-ec-settings-form",onSubmit:bt(U,["prevent"])},[o("div",zS,[o("label",QS,p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),ae(o("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[5]||(R[5]=S=>l.storeName=S),maxlength:"190"},null,512),[[he,l.storeName,void 0,{trim:!0}]])]),o("div",ZS,[o("label",eE,p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),ae(o("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":R[6]||(R[6]=S=>l.storeEmail=S)},null,512),[[he,l.storeEmail,void 0,{trim:!0}]])]),o("div",tE,[o("label",sE,p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),ae(o("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[7]||(R[7]=S=>l.storePhone=S),maxlength:"64"},null,512),[[he,l.storePhone,void 0,{trim:!0}]])]),o("div",nE,[o("label",oE,p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),ae(o("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":R[8]||(R[8]=S=>l.baseCurrency=S),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[he,l.baseCurrency,void 0,{trim:!0}]]),o("p",iE,p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),o("div",aE,[o("label",rE,p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),ae(o("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":R[9]||(R[9]=S=>l.paymentsConfigured=S)},null,512),[[Kt,l.paymentsConfigured]]),o("p",lE,p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),o("div",cE,[o("button",{class:"nxp-ec-btn",type:"button",onClick:se,disabled:c(a).saving},p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,dE),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(a).saving},p(c(a).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,uE)])],32))])):_.value==="tax"?(T(),x("div",pE,[o("header",_E,[o("h3",null,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:F,disabled:c(r).loading},p(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,fE)]),c(r).error?(T(),x("div",hE,p(c(r).error),1)):(T(),x("div",mE,[o("div",gE,[o("table",CE,[o("thead",null,[o("tr",null,[o("th",SE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),o("th",EE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),o("th",bE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),o("th",AE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),o("th",yE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),R[46]||(R[46]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[c(r).items.length?ye("",!0):(T(),x("tr",TE,[o("td",OE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(T(!0),x(Ee,null,Te(c(r).items,S=>{var ie;return T(),x("tr",{key:S.id,class:Pe({"is-active":g.id===S.id})},[o("th",vE,p(S.country),1),o("td",null,p(S.region||""),1),o("td",null,p(((ie=S.rate)!=null?ie:0).toFixed(2))+"%",1),o("td",null,p(S.inclusive?c(n)("JYES","Yes"):c(n)("JNO","No")),1),o("td",null,p(S.priority),1),o("td",RE,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:pe=>ue(S),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[R[47]||(R[47]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",PE,p(c(n)("JEDIT","Edit")),1)],8,xE),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:pe=>P(S),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[R[48]||(R[48]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",ME,p(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,NE)])],2)}),128))])])]),o("form",{class:"nxp-ec-settings-form",onSubmit:bt(z,["prevent"])},[o("h4",null,p(g.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),o("div",IE,[o("label",$E,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),ae(o("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[10]||(R[10]=S=>g.country=S),maxlength:"2",required:""},null,512),[[he,g.country,void 0,{trim:!0}]])]),o("div",wE,[o("label",kE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),ae(o("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[11]||(R[11]=S=>g.region=S)},null,512),[[he,g.region,void 0,{trim:!0}]])]),o("div",DE,[o("label",UE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),ae(o("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":R[12]||(R[12]=S=>g.rate=S),required:""},null,512),[[he,g.rate,void 0,{number:!0}]])]),o("div",LE,[o("label",YE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),ae(o("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":R[13]||(R[13]=S=>g.inclusive=S)},null,512),[[Kt,g.inclusive]])]),o("div",XE,[o("label",FE,p(c(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),ae(o("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":R[14]||(R[14]=S=>g.priority=S)},null,512),[[he,g.priority,void 0,{number:!0}]])]),o("div",VE,[o("button",{class:"nxp-ec-btn",type:"button",onClick:te,disabled:c(r).saving},p(c(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,GE),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(r).saving},p(c(r).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,HE)])],32)]))])):_.value==="shipping"?(T(),x("div",BE,[o("header",KE,[o("h3",null,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:ee,disabled:c(d).loading},p(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,jE)]),c(d).error?(T(),x("div",JE,p(c(d).error),1)):(T(),x("div",qE,[o("div",WE,[o("table",zE,[o("thead",null,[o("tr",null,[o("th",QE,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),o("th",ZE,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),o("th",eb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),o("th",tb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),o("th",sb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),o("th",nb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),R[49]||(R[49]=o("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),o("tbody",null,[c(d).items.length?ye("",!0):(T(),x("tr",ob,[o("td",ib,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(T(!0),x(Ee,null,Te(c(d).items,S=>(T(),x("tr",{key:S.id,class:Pe({"is-active":A.id===S.id})},[o("th",ab,p(S.name),1),o("td",null,p(le(S.type)),1),o("td",null,p(Q(S.price_cents,f.value)),1),o("td",null,p(S.type==="free_over"?Q(S.threshold_cents,f.value):""),1),o("td",null,p(S.regions&&S.regions.length?S.regions.join(", "):c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),o("td",null,[o("span",{class:Pe(["nxp-ec-badge",{"is-active":S.active}])},[o("i",{class:Pe(S.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Ge(" "+p(S.active?c(n)("JYES","Yes"):c(n)("JNO","No")),1)],2)]),o("td",rb,[o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ie=>I(S),title:c(n)("JEDIT","Edit"),"aria-label":c(n)("JEDIT","Edit")},[R[50]||(R[50]=o("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),o("span",cb,p(c(n)("JEDIT","Edit")),1)],8,lb),o("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ie=>V(S),title:c(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":c(n)("COM_NXPEASYCART_REMOVE","Remove")},[R[51]||(R[51]=o("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),o("span",ub,p(c(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,db)])],2))),128))])])]),o("form",{class:"nxp-ec-settings-form",onSubmit:bt($,["prevent"])},[o("h4",null,p(A.id?c(n)("JEDIT","Edit"):c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),o("div",pb,[o("label",_b,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),ae(o("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[15]||(R[15]=S=>A.name=S),required:""},null,512),[[he,A.name,void 0,{trim:!0}]])]),o("div",fb,[o("label",hb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),ae(o("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":R[16]||(R[16]=S=>A.type=S)},[o("option",mb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),o("option",gb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[Et,A.type]])]),o("div",Cb,[o("label",Sb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),ae(o("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":R[17]||(R[17]=S=>A.price=S),required:""},null,512),[[he,A.price,void 0,{number:!0}]])]),A.type==="free_over"?(T(),x("div",Eb,[o("label",bb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),ae(o("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":R[18]||(R[18]=S=>A.threshold=S),required:""},null,512),[[he,A.threshold,void 0,{number:!0}]])])):ye("",!0),o("div",Ab,[o("label",yb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),ae(o("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[19]||(R[19]=S=>A.regions=S),placeholder:c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,Tb),[[he,A.regions,void 0,{trim:!0}]])]),o("div",Ob,[o("label",vb,p(c(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),ae(o("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":R[20]||(R[20]=S=>A.active=S)},null,512),[[Kt,A.active]])]),o("div",Rb,[o("button",{class:"nxp-ec-btn",type:"button",onClick:L,disabled:c(d).saving},p(c(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,xb),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(d).saving},p(c(d).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,Pb)])],32)]))])):_.value==="payments"?(T(),x("div",Nb,[o("header",Mb,[o("h3",null,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),o("div",Ib,[o("button",{class:"nxp-ec-btn",type:"button",onClick:oe,disabled:c(u).loading},p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,$b)])]),c(u).error?(T(),x("div",wb,p(c(u).error),1)):c(u).loading?(T(),x("div",kb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(T(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:bt(ce,["prevent"])},[o("fieldset",null,[o("legend",null,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),o("div",Db,[o("label",Ub,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),ae(o("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[21]||(R[21]=S=>M.stripe.publishable_key=S)},null,512),[[he,M.stripe.publishable_key,void 0,{trim:!0}]])]),o("div",Lb,[o("label",Yb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),ae(o("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":R[22]||(R[22]=S=>M.stripe.secret_key=S),autocomplete:"off"},null,512),[[he,M.stripe.secret_key,void 0,{trim:!0}]])]),o("div",Xb,[o("label",Fb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),ae(o("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":R[23]||(R[23]=S=>M.stripe.webhook_secret=S),autocomplete:"off"},null,512),[[he,M.stripe.webhook_secret,void 0,{trim:!0}]]),o("p",Vb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),o("div",Gb,[o("label",Hb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ae(o("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":R[24]||(R[24]=S=>M.stripe.mode=S)},[o("option",Bb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),o("option",Kb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Et,M.stripe.mode]])])]),o("fieldset",null,[o("legend",null,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),o("div",jb,[o("label",Jb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),ae(o("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[25]||(R[25]=S=>M.paypal.client_id=S)},null,512),[[he,M.paypal.client_id,void 0,{trim:!0}]])]),o("div",qb,[o("label",Wb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),ae(o("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":R[26]||(R[26]=S=>M.paypal.client_secret=S),autocomplete:"off"},null,512),[[he,M.paypal.client_secret,void 0,{trim:!0}]])]),o("div",zb,[o("label",Qb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),ae(o("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[27]||(R[27]=S=>M.paypal.webhook_id=S)},null,512),[[he,M.paypal.webhook_id,void 0,{trim:!0}]]),o("p",Zb,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),o("div",eA,[o("label",tA,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),ae(o("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":R[28]||(R[28]=S=>M.paypal.mode=S)},[o("option",sA,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),o("option",nA,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[Et,M.paypal.mode]])])]),o("fieldset",null,[o("legend",null,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),o("div",oA,[o("label",iA,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),ae(o("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":R[29]||(R[29]=S=>M.cod.enabled=S)},null,512),[[Kt,M.cod.enabled]])]),o("div",aA,[o("label",rA,p(c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),ae(o("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[30]||(R[30]=S=>M.cod.label=S),placeholder:"Cash on delivery"},null,512),[[he,M.cod.label,void 0,{trim:!0}]])])]),c(u).message?(T(),x("div",lA,p(c(u).message),1)):ye("",!0),o("div",cA,[o("button",{class:"nxp-ec-btn",type:"button",onClick:me,disabled:c(u).saving},p(c(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,dA),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(u).saving},p(c(u).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,uA)])],32))])):_.value==="visual"?(T(),x("div",pA,[o("header",_A,[o("h3",null,p(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),o("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:c(a).loading},p(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,fA)]),c(a).error?(T(),x("div",hA,p(c(a).error),1)):c(a).loading?(T(),x("div",mA,p(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(T(),x("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:bt(B,["prevent"])},[o("p",gA,p(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),o("div",CA,[o("div",SA,[o("label",EA,p(c(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),o("div",bA,[o("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:v.primaryColor||D.value.primary,onInput:R[31]||(R[31]=S=>v.primaryColor=S.target.value)},null,40,AA),ae(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[32]||(R[32]=S=>v.primaryColor=S),placeholder:D.value.primary,maxlength:"7"},null,8,yA),[[he,v.primaryColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[33]||(R[33]=S=>v.primaryColor="")},p(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",TA,[o("label",OA,p(c(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),o("div",vA,[o("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:v.textColor||D.value.text,onInput:R[34]||(R[34]=S=>v.textColor=S.target.value)},null,40,RA),ae(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[35]||(R[35]=S=>v.textColor=S),placeholder:D.value.text,maxlength:"7"},null,8,xA),[[he,v.textColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[36]||(R[36]=S=>v.textColor="")},p(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",PA,[o("label",NA,p(c(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),o("div",MA,[o("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:v.surfaceColor||D.value.surface,onInput:R[37]||(R[37]=S=>v.surfaceColor=S.target.value)},null,40,IA),ae(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[38]||(R[38]=S=>v.surfaceColor=S),placeholder:D.value.surface,maxlength:"7"},null,8,$A),[[he,v.surfaceColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[39]||(R[39]=S=>v.surfaceColor="")},p(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",wA,[o("label",kA,p(c(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),o("div",DA,[o("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:v.borderColor||D.value.border,onInput:R[40]||(R[40]=S=>v.borderColor=S.target.value)},null,40,UA),ae(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[41]||(R[41]=S=>v.borderColor=S),placeholder:D.value.border,maxlength:"7"},null,8,LA),[[he,v.borderColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[42]||(R[42]=S=>v.borderColor="")},p(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),o("div",YA,[o("label",XA,p(c(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),o("div",FA,[o("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:v.mutedColor||D.value.muted,onInput:R[43]||(R[43]=S=>v.mutedColor=S.target.value)},null,40,VA),ae(o("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[44]||(R[44]=S=>v.mutedColor=S),placeholder:D.value.muted,maxlength:"7"},null,8,GA),[[he,v.mutedColor,void 0,{trim:!0}]]),o("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:R[45]||(R[45]=S=>v.mutedColor="")},p(c(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),o("div",HA,[o("h4",null,p(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),o("div",{class:"nxp-ec-preview-box",style:Ut(y.value)},[o("button",BA,p(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),o("p",KA,p(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),o("p",jA,p(c(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),o("div",JA,[o("button",{class:"nxp-ec-btn",type:"button",onClick:W,disabled:c(a).saving},p(c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,qA),o("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:c(a).saving},p(c(a).saving?c(n)("JPROCESSING_REQUEST","Saving"):c(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,WA)])],32))])):ye("",!0)]))}},[["__scopeId","data-v-0565e43d"]]),QA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},ZA={class:"nxp-ec-admin-panel__header"},ey={class:"nxp-ec-admin-panel__title"},ty={class:"nxp-ec-admin-panel__lead"},sy={class:"nxp-ec-admin-panel__actions"},ny=["placeholder","aria-label"],oy=["value"],iy={value:""},ay=["value"],ry=["disabled","title","aria-label"],ly={class:"nxp-ec-sr-only"},cy={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},dy={key:1,class:"nxp-ec-admin-panel__body"},uy={key:2,class:"nxp-ec-admin-panel__body"},py={class:"nxp-ec-admin-panel__table"},_y={class:"nxp-ec-admin-table"},fy={scope:"col"},hy={scope:"col"},my={scope:"col"},gy={scope:"col"},Cy={scope:"col"},Sy={key:0},Ey={colspan:"5"},by={class:"nxp-ec-log-entity"},Ay={class:"nxp-ec-log-entity-id"},yy={class:"nxp-ec-log-context"},Ty={key:0,class:"nxp-ec-admin-pagination"},Oy=["disabled"],vy={class:"nxp-ec-admin-pagination__status"},Ry=["disabled"],xy=["title"],Py=At({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,i=t,n=s.translate,a=s.state,r=Ce(()=>{const D=new Set;return Array.isArray(a.items)&&a.items.forEach(y=>{y!=null&&y.entity_type&&D.add(y.entity_type)}),a.entity&&D.add(a.entity),Array.from(D).sort()}),d=()=>i("refresh"),u=()=>i("search"),_=D=>i("filter",D),f=D=>i("page",D),l=D=>{if(!D)return"";try{const y=new Date(D.replace(" ","T"));if(!Number.isNaN(y.getTime()))return y.toLocaleString()}catch(y){}return D},g=D=>{if(!D)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(D){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return D.charAt(0).toUpperCase()+D.slice(1)}},A=D=>{if(!(D!=null&&D.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const y=D.user.name||"",q=D.user.username||"";return y&&q?`${y} (${q})`:y||q||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},M=D=>{if(!D||Array.isArray(D)&&!D.length||typeof D=="object"&&!Object.keys(D).length)return"";try{return JSON.stringify(D,null,2)}catch(y){return String(D)}},v=D=>{if(!D)return"";try{const y=new Date(D),H=new Date-y,N=Math.floor(H/1e3),U=Math.floor(N/60),se=Math.floor(U/60);return N<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):U<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[U]):se<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[se]):y.toLocaleString()}catch(y){return D}};return(D,y)=>(T(),x("section",QA,[o("header",ZA,[o("div",null,[o("h2",ey,p(c(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),o("p",ty,p(c(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),o("div",sy,[ae(o("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":y[0]||(y[0]=q=>c(a).search=q),placeholder:c(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":c(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:jt(u,["enter"])},null,40,ny),[[he,c(a).search]]),o("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:c(a).entity,onChange:y[1]||(y[1]=q=>_(q.target.value)),"aria-label":"Entity filter"},[o("option",iy,p(c(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(T(!0),x(Ee,null,Te(r.value,q=>(T(),x("option",{key:q,value:q},p(g(q)),9,ay))),128))],40,oy),o("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:d,disabled:c(a).loading,title:c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[y[4]||(y[4]=o("i",{class:"fa-solid fa-rotate"},null,-1)),o("span",ly,p(c(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,ry)])]),c(a).error?(T(),x("div",cy,p(c(a).error),1)):c(a).loading?(T(),x("div",dy,[Fe(Ps,{type:"table",rows:5,columns:5})])):(T(),x("div",uy,[o("div",py,[o("table",_y,[o("thead",null,[o("tr",null,[o("th",fy,p(c(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),o("th",hy,p(c(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),o("th",my,p(c(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),o("th",gy,p(c(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),o("th",Cy,p(c(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),o("tbody",null,[c(a).items.length?ye("",!0):(T(),x("tr",Sy,[o("td",Ey,p(c(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(T(!0),x(Ee,null,Te(c(a).items,q=>(T(),x("tr",{key:q.id},[o("td",null,p(l(q.created)),1),o("td",null,[o("span",by,p(g(q.entity_type)),1),o("span",Ay,"#"+p(q.entity_id),1)]),o("td",null,p(q.action),1),o("td",null,p(A(q)),1),o("td",null,[o("pre",yy,p(M(q.context)),1)])]))),128))])]),c(a).pagination.pages>1?(T(),x("div",Ty,[o("button",{class:"nxp-ec-btn",type:"button",disabled:c(a).pagination.current<=1,onClick:y[2]||(y[2]=q=>f(c(a).pagination.current-1))},"  ",8,Oy),o("span",vy,p(c(a).pagination.current)+" / "+p(c(a).pagination.pages),1),o("button",{class:"nxp-ec-btn",type:"button",disabled:c(a).pagination.current>=c(a).pagination.pages,onClick:y[3]||(y[3]=q=>f(c(a).pagination.current+1))},"  ",8,Ry)])):ye("",!0)]),c(a).lastUpdated?(T(),x("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:c(a).lastUpdated},p(c(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+p(v(c(a).lastUpdated)),9,xy)):ye("",!0)]))]))}},[["__scopeId","data-v-0f086c0e"]]),Ny={key:0,class:"nxp-ec-onboarding"},My={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},Iy={class:"nxp-ec-onboarding__header"},$y={class:"nxp-ec-onboarding__title"},wy={class:"nxp-ec-onboarding__lead"},ky={class:"nxp-ec-onboarding__progress"},Dy={class:"nxp-ec-onboarding__progress-bar"},Uy={class:"nxp-ec-onboarding__progress-label"},Ly={class:"nxp-ec-onboarding__steps"},Yy={class:"nxp-ec-onboarding__step-main"},Xy={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},Fy={key:0,class:"fa-solid fa-circle-check"},Vy={key:1,class:"fa-regular fa-circle"},Gy={class:"nxp-ec-onboarding__step-actions"},Hy=["onClick"],By=At({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,i=Ce(()=>t.steps.length?t.steps.filter(d=>d.completed).length/t.steps.length*100:0),n=Ce(()=>`${i.value}%`),a=Ce(()=>{const r=t.steps.filter(d=>d.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(r),String(t.steps.length)],"onboardingProgress")});return(r,d)=>e.visible?(T(),x("div",Ny,[o("div",{class:"nxp-ec-onboarding__backdrop",onClick:d[0]||(d[0]=u=>r.$emit("close"))}),o("section",My,[o("header",Iy,[o("div",null,[o("h2",$y,p(c(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),o("p",wy,p(c(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),o("button",{type:"button",class:"nxp-ec-link-button",onClick:d[1]||(d[1]=u=>r.$emit("close"))},p(c(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),o("div",ky,[o("div",Dy,[o("span",{style:Ut({width:n.value})},null,4)]),o("span",Uy,p(a.value),1)]),o("ol",Ly,[(T(!0),x(Ee,null,Te(e.steps,u=>(T(),x("li",{key:u.id,class:Pe({"is-complete":u.completed})},[o("div",Yy,[o("span",Xy,[u.completed?(T(),x("span",Fy)):(T(),x("span",Vy))]),o("div",null,[o("h3",null,p(c(s)(u.titleKey,u.titleFallback,[],`${u.id}-title`)),1),o("p",null,p(c(s)(u.descriptionKey,u.descriptionFallback,[],`${u.id}-description`)),1)])]),o("div",Gy,[u.link?(T(),x("button",{key:0,type:"button",class:Pe(["nxp-ec-btn",{"nxp-ec-btn--ghost":u.completed}]),onClick:_=>r.$emit("navigate",u)},p(u.completed?c(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${u.id}-action`):c(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${u.id}-action`)),11,Hy)):ye("",!0)])],2))),128))])])])):ye("",!0)}},[["__scopeId","data-v-485ff468"]]),Ky=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let i=String(e);return t.forEach(a=>{const r=a!=null?a:"";i=i.replace("%s",String(r))}),i},jy=(e,t="",s=[])=>{var a;const i=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(i&&typeof i._=="function"){const r=i._(e);r&&r!==e&&(n=r)}return Ky(n,s)};function Jy(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const r=t[n];return r!=null&&r!==""?r:a};return{__:(n,a="",r=[],d="")=>{const u=s(d,a);return jy(n,u,r)}}}class qy{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const i={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};i.headers={...i.headers,...s.headers||{}};const n=String(i.method||"GET").toUpperCase();let a=t;this.token&&(i.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const r=await fetch(a,i);let d=null;const u=await r.text();if(u)try{d=JSON.parse(u)}catch(_){}if(!r.ok){const _=new Error((d==null?void 0:d.message)||`Request failed with status ${r.status}`);throw _.code=r.status,_.details=(d==null?void 0:d.data)||(d==null?void 0:d.errors)||null,_}if((d==null?void 0:d.success)===!1){const _=new Error(d.message||"Unknown API error");throw _.details=d.data||d.errors||null,_}return d!=null?d:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const i=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,i);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(i){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,i={}){const n={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,i={}){const n={"Content-Type":"application/json",...i.headers||{}};return this.request(t,{...i,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var g,A,M,v;const r=new URLSearchParams({limit:String(s),start:String(i)});n&&r.set("search",n);const d=`${t}&${r.toString()}`,_=(g=(await this.get(d,{signal:a})).data)!=null?g:{},f=(M=(A=_.items)!=null?A:_.data)!=null?M:[],l=(v=_.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCategories({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var _,f,l;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(_=(await this.get(r,{signal:a})).data)!=null?_:{};return{items:(f=u.items)!=null?f:[],pagination:(l=u.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:i=0,search:n="",state:a="",signal:r}){var g,A,M,v;const d=this.mergeParams(t,{limit:s,start:i,search:n||void 0,state:a||void 0}),_=(g=(await this.get(d,{signal:r})).data)!=null?g:{},f=(M=(A=_.items)!=null?A:_.data)!=null?M:[],l=(v=_.pagination)!=null?v:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCustomers({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var l,g,A;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(l=(await this.get(r,{signal:a})).data)!=null?l:{},_=(g=u.items)!=null?g:[],f=(A=u.pagination)!=null?A:{total:0,limit:s,pages:0,current:0};return{items:_,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var a,r;const i=this.mergeParams(t,{email:s});return(r=(a=(await this.get(i)).data)==null?void 0:a.customer)!=null?r:null}async fetchCoupons({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var _,f,l;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(_=(await this.get(r,{signal:a})).data)!=null?_:{};return{items:(f=u.items)!=null?f:[],pagination:(l=u.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.coupon)!=null?d:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var _,f,l;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(_=(await this.get(r,{signal:a})).data)!=null?_:{};return{items:(f=u.items)!=null?f:[],pagination:(l=u.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.rate)!=null?d:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:i=0,search:n="",signal:a}){var _,f,l;const r=this.mergeParams(t,{limit:s,start:i,search:n||void 0}),u=(_=(await this.get(r,{signal:a})).data)!=null?_:{};return{items:(f=u.items)!=null?f:[],pagination:(l=u.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.rule)!=null?d:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:i=0,search:n="",entity:a="",signal:r}){var f,l,g;const d=this.mergeParams(t,{limit:s,start:i,search:n||void 0,entity:a||void 0}),_=(f=(await this.get(d,{signal:r})).data)!=null?f:{};return{items:(l=_.items)!=null?l:[],pagination:(g=_.pagination)!=null?g:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var i;return t?(i=(await this.get(t)).data)!=null?i:{}:{}}async fetchSettings({endpoint:t}){var i,n;return t?(n=(i=(await this.get(t)).data)==null?void 0:i.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:i=""}){var r,d;const n=this.mergeParams(t,{id:s||void 0,order_no:i||void 0});return(d=(r=(await this.get(n)).data)==null?void 0:r.order)!=null?d:null}async transitionOrder({endpoint:t,id:s,state:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.post(n,{state:i})).data)==null?void 0:r.order)!=null?d:null}async bulkTransitionOrders({endpoint:t,ids:s,state:i}){var r;const n={ids:s,state:i};return(r=(await this.post(t,n)).data)!=null?r:{}}async addOrderNote({endpoint:t,id:s,message:i}){var a,r;return(r=(a=(await this.post(t,{id:s,message:i})).data)==null?void 0:a.order)!=null?r:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.item)!=null?d:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:i}){var r,d;const n=this.mergeParams(t,{id:s});return(d=(r=(await this.put(n,i)).data)==null?void 0:r.item)!=null?d:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}mergeParams(t,s={}){const i=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||i.set(n,String(a))}),i.toString()?`${t}${t.includes("?")?"&":"?"}${i.toString()}`:t}}const ut=e=>new qy(e),Qi=typeof window!="undefined"&&window.performance;function Zi(e){if(Qi)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function Wy(e,t,s){if(!Qi)return null;try{performance.measure(e,t,s);const i=performance.getEntriesByName(e,"measure")[0];if(i)return console.log(`[NXP EC Performance] ${e}: ${i.duration.toFixed(2)}ms`),i.duration}catch(i){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,i)}return null}const dn=$e({}),zy=3e5;function Qy(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function yt(e,t=zy){const s=dn[e];return s?Qy(s,t)?s.data:(delete dn[e],null):null}function pt(e,t){dn[e]={data:t,timestamp:Date.now()}}function Ye(e){delete dn[e]}function Tt(e){const t=Xe({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const r=`${e}-fetch-start`;return Zi(r),r},endFetch:r=>{const d=`${e}-fetch-end`;Zi(d);const u=Wy(`${e}-fetch`,r,d);u!==null&&(t.value.lastFetchDuration=u),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const no=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,s);return i.searchParams.set("task",`api.products.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function Zy({endpoints:e,token:t,autoload:s=!0,cacheTTL:i=3e5}){var se,oe,ce,me;const n=ut({token:t}),a=Tt("products"),r=(se=e==null?void 0:e.list)!=null?se:"",d=(oe=e==null?void 0:e.create)!=null?oe:no(r,"store"),u=(ce=e==null?void 0:e.update)!=null?ce:no(r,"update"),_=(me=e==null?void 0:e.delete)!=null?me:no(r,"delete"),f=typeof AbortController!="undefined",l=$e({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),g=Xe(null),A=()=>{const j=l.pagination.current||1,B=l.pagination.limit||20,W=l.search.trim();return`products:page=${j}:limit=${B}:search=${W}`},M=async(j=!1)=>{var ue;if(!r){l.error="Products endpoint unavailable.",l.items=[];return}const B=A(),W=j?null:yt(B,i);if(W){a.recordCacheHit(),l.items=W.items,l.pagination={...l.pagination,...W.pagination},l.lastUpdated=W.lastUpdated;return}a.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],g.value&&f&&g.value.abort();const F=f?new AbortController:null;g.value=F;const ee=a.startFetch();try{const{items:te,pagination:z}=await n.fetchProducts({endpoint:r,signal:F?F.signal:void 0,limit:l.pagination.limit,start:Math.max(0,(l.pagination.current-1)*l.pagination.limit),search:l.search.trim()});l.items=te,l.pagination={...l.pagination,...z,current:z.current&&z.current>0?z.current:1},l.lastUpdated=new Date().toISOString(),pt(B,{items:te,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(te){if((te==null?void 0:te.name)==="AbortError")return;l.error=(ue=te==null?void 0:te.message)!=null?ue:"Unknown error"}finally{a.endFetch(ee),f&&g.value===F&&(g.value=null),l.loading=!1}},v=()=>{l.pagination.current=1,Ye(A()),M(!0)},D=()=>{l.pagination.current=1,M()},y=j=>j?typeof j=="string"?j:typeof j=="object"&&j.message?String(j.message):String(j):"",q=(j,{setValidation:B=!1}={})=>{var W;if((j==null?void 0:j.code)===422&&B){const F=Array.isArray(j.details)?j.details:[j.details].filter(Boolean);l.validationErrors=F.map(y).filter(ee=>ee!=="");return}l.error=(W=j==null?void 0:j.message)!=null?W:"Unknown error"},H=async j=>{if(!d)throw new Error("Create endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const B=await n.createProduct({endpoint:d,data:j});return B&&(l.items=[B,...l.items],l.pagination.total+=1,Ye(A())),B}catch(B){throw q(B,{setValidation:!0}),B}finally{l.saving=!1}},N=async(j,B)=>{if(!u)throw new Error("Update endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const W=await n.updateProduct({endpoint:u,id:j,data:B});if(W){const F=l.items.findIndex(ee=>ee.id===W.id);F!==-1&&l.items.splice(F,1,W),Ye(A())}return W}catch(W){throw q(W,{setValidation:!0}),W}finally{l.saving=!1}},U=async j=>{if(!_)throw new Error("Delete endpoint unavailable.");l.deleting=!0,l.validationErrors=[];try{const B=await n.deleteProducts({endpoint:_,ids:j});return B.length&&(l.items=l.items.filter(W=>!B.includes(W.id)),l.pagination.total=Math.max(0,l.pagination.total-B.length),Ye(A())),B}catch(B){throw q(B),B}finally{l.deleting=!1}};return nt(()=>{s&&M()}),{state:l,loadProducts:M,refresh:v,search:D,createProduct:H,updateProduct:N,deleteProducts:U,metrics:a.metrics}}function eT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var oe,ce,me,j,B,W,F,ee,ue,te,z,P,I,L;const a=ut({token:t}),r=Tt("categories"),d=(oe=e==null?void 0:e.list)!=null?oe:"",u=(ce=e==null?void 0:e.create)!=null?ce:d,_=(me=e==null?void 0:e.update)!=null?me:d,f=(j=e==null?void 0:e.delete)!=null?j:d,l=$e({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(ee=(F=(B=s.pagination)==null?void 0:B.total)!=null?F:(W=s.items)==null?void 0:W.length)!=null?ee:0,limit:(te=(ue=s.pagination)==null?void 0:ue.limit)!=null?te:20,pages:(P=(z=s.pagination)==null?void 0:z.pages)!=null?P:0,current:(L=(I=s.pagination)==null?void 0:I.current)!=null?L:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",A=Xe(null),M=()=>{const $=l.pagination.current||1,V=l.pagination.limit||20,Q=l.search.trim();return`categories:page=${$}:limit=${V}:search=${Q}`},v=async($=!1)=>{var R;if(!d){l.error="Categories endpoint unavailable.",l.items=[];return}const V=M(),Q=$?null:yt(V,n);if(Q){r.recordCacheHit(),l.items=Q.items,l.pagination={...l.pagination,...Q.pagination},l.lastUpdated=Q.lastUpdated;return}r.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],A.value&&g&&A.value.abort();const le=g?new AbortController:null;A.value=le;const X=r.startFetch();try{const S=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:ie,pagination:pe}=await a.fetchCategories({endpoint:d,limit:l.pagination.limit,start:S,search:l.search.trim(),signal:le?le.signal:void 0});l.items=ie,l.pagination={...l.pagination,...pe,current:pe.current&&pe.current>0?pe.current:1},l.lastUpdated=new Date().toISOString(),pt(V,{items:ie,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(S){if((S==null?void 0:S.name)==="AbortError")return;l.error=(R=S==null?void 0:S.message)!=null?R:"Unknown error"}finally{r.endFetch(X),g&&A.value===le&&(A.value=null),l.loading=!1}},D=()=>{l.pagination.current=1,Ye(M()),v(!0)},y=()=>{l.pagination.current=1,v()},q=$=>{const V=Number($);Number.isNaN(V)||V<1||V===l.pagination.current||(l.pagination.current=V,v())},H=($,{validation:V=!1}={})=>{var Q;if(V&&($==null?void 0:$.code)===422){const le=$.details,X=Array.isArray(le)?le:[le].filter(Boolean);l.validationErrors=X.map(R=>R?typeof R=="string"?R:typeof R=="object"&&R.message?String(R.message):String(R):"").filter(Boolean);return}l.error=(Q=$==null?void 0:$.message)!=null?Q:"Unknown error"},N=async $=>{if(!u||!_)throw new Error("Category endpoints unavailable.");l.saving=!0,l.error="",l.validationErrors=[];try{let V=null;return $.id?V=await a.updateCategory({endpoint:_,id:$.id,data:$}):V=await a.createCategory({endpoint:u,data:$}),V&&(Ye(M()),await v()),V}catch(V){throw H(V,{validation:!0}),V}finally{l.saving=!1}},U=async $=>{if(!Array.isArray($)||!$.length||!f)return 0;l.deleting=!0,l.error="";try{const V=await a.deleteCategories({endpoint:f,ids:$});return V&&(Ye(M()),await v()),V}catch(V){throw H(V),V}finally{l.deleting=!1}},se=async()=>{if(!d)return[];try{const{items:$}=await a.fetchCategories({endpoint:d,limit:200,start:0,search:""});return $}catch($){return[]}};return nt(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&v()}),{state:l,loadCategories:v,refresh:D,search:y,goToPage:q,saveCategory:N,deleteCategories:U,loadOptions:se,metrics:r.metrics}}const un=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",i=new URL(e,s);return i.searchParams.set("task",`api.orders.${t}`),`${i.pathname}?${i.searchParams.toString()}`};function tT({endpoints:e,token:t,states:s=[],preload:i={},autoload:n=!0,cacheTTL:a=3e5}){var P,I,L,$,V,Q,le,X,R;const r=ut({token:t}),d=Tt("orders"),u=(P=e==null?void 0:e.list)!=null?P:"",_=(I=e==null?void 0:e.show)!=null?I:un(u,"show"),f=(L=e==null?void 0:e.transition)!=null?L:un(u,"transition"),l=($=e==null?void 0:e.bulkTransition)!=null?$:un(u,"bulkTransition"),g=(V=e==null?void 0:e.note)!=null?V:un(u,"note"),A=typeof AbortController!="undefined",M=Xe(null),v=Array.isArray(i==null?void 0:i.items)?i.items:[],D=i!=null&&i.pagination&&typeof i.pagination=="object"?i.pagination:{},y=$e({loading:!1,saving:!1,error:"",transitionError:"",items:[...v],pagination:{total:(Q=D.total)!=null?Q:v.length,limit:(le=D.limit)!=null?le:20,pages:(X=D.pages)!=null?X:0,current:(R=D.current)!=null?R:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null}),q=()=>{const S=y.pagination.current||1,ie=y.pagination.limit||20,pe=y.search.trim(),de=y.filterState||"";return`orders:page=${S}:limit=${ie}:search=${pe}:state=${de}`},H=async(S=!1)=>{var m;if(!u){y.error="Orders endpoint unavailable.",y.items=[];return}const ie=q(),pe=S?null:yt(ie,a);if(pe){d.recordCacheHit(),y.items=pe.items,y.pagination={...y.pagination,...pe.pagination},y.lastUpdated=pe.lastUpdated;return}d.recordCacheMiss(),y.loading=!0,y.error="",M.value&&A&&M.value.abort();const de=A?new AbortController:null;M.value=de;const we=d.startFetch();try{const E=Math.max(0,(y.pagination.current-1)*y.pagination.limit),{items:Y,pagination:K}=await r.fetchOrders({endpoint:u,limit:y.pagination.limit,start:E,search:y.search.trim(),state:y.filterState,signal:de?de.signal:void 0});y.items=Y,y.pagination={...y.pagination,...K,current:K.current&&K.current>0?K.current:1},y.selection.clear(),y.lastUpdated=new Date().toISOString(),pt(ie,{items:Y,pagination:y.pagination,lastUpdated:y.lastUpdated})}catch(E){if((E==null?void 0:E.name)==="AbortError")return;y.error=(m=E==null?void 0:E.message)!=null?m:"Unknown error"}finally{d.endFetch(we),A&&M.value===de&&(M.value=null),y.loading=!1}},N=()=>{y.pagination.current=1,Ye(q()),H(!0)},U=()=>{y.pagination.current=1,H()},se=S=>{y.filterState=S||"",y.pagination.current=1,H()},oe=S=>{const ie=Number(S);Number.isNaN(ie)||ie<1||ie===y.pagination.current||(y.pagination.current=ie,H())},ce=()=>{y.selection.clear()},me=S=>{S&&(y.selection.has(S)?y.selection.delete(S):y.selection.add(S))},j=()=>{y.pagination.current>=y.pagination.pages||(y.pagination.current+=1,H())},B=()=>{y.pagination.current<=1||(y.pagination.current-=1,H())},W=async(S,ie="")=>{var pe;if(!_)return null;try{return await r.fetchOrder({endpoint:_,id:S,orderNumber:ie})}catch(de){return y.transitionError=(pe=de==null?void 0:de.message)!=null?pe:"Unknown error",null}},F=async S=>{var ie,pe,de,we,m,E,Y;if(!S){y.activeOrder=null;return}if(y.transitionError="",S.items&&S.items.length&&S.billing){y.activeOrder=S;return}try{const K=await W(S.id,S.order_no);y.activeOrder=K||{...S,items:Array.isArray(S.items)?S.items:[],transactions:(ie=S.transactions)!=null?ie:[],timeline:(pe=S.timeline)!=null?pe:[],billing:(de=S.billing)!=null?de:{}}}catch(K){y.transitionError=(we=K==null?void 0:K.message)!=null?we:"Unknown error",y.activeOrder={...S,items:Array.isArray(S.items)?S.items:[],transactions:(m=S.transactions)!=null?m:[],timeline:(E=S.timeline)!=null?E:[],billing:(Y=S.billing)!=null?Y:{}}}},ee=()=>{y.transitionError="",y.activeOrder=null},ue=S=>{if(!(S!=null&&S.id))return;const ie=y.items.findIndex(pe=>pe.id===S.id);ie!==-1&&y.items.splice(ie,1,S)},te=async(S,ie)=>{var pe;if(!f)throw new Error("Transition endpoint unavailable.");y.saving=!0,y.transitionError="";try{const de=await r.transitionOrder({endpoint:f,id:S,state:ie});return de&&(ue(de),y.activeOrder&&y.activeOrder.id===de.id&&(y.activeOrder=de),Ye(q())),de}catch(de){throw y.transitionError=(pe=de==null?void 0:de.message)!=null?pe:"Unknown error",de}finally{y.saving=!1}},z=async(S,ie)=>{var pe;if(!l)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(S)||!S.length)return{updated:[]};y.saving=!0;try{const de=await r.bulkTransitionOrders({endpoint:l,ids:S,state:ie}),we=Array.isArray(de.updated)?de.updated:[];return we.forEach(m=>{ue(m),y.activeOrder&&y.activeOrder.id===m.id&&(y.activeOrder=m)}),ce(),{updated:we}}catch(de){throw y.transitionError=(pe=de==null?void 0:de.message)!=null?pe:"Unknown error",de}finally{y.saving=!1}};return nt(()=>{n&&H()}),{state:y,loadOrders:H,refresh:N,search:U,setFilterState:se,goToPage:oe,nextPage:j,previousPage:B,viewOrder:F,closeOrder:ee,transitionOrder:te,bulkTransition:z,toggleSelection:me,clearSelection:ce,metrics:d.metrics,addNote:async(S,ie)=>{var pe;if(!g)throw new Error("Note endpoint unavailable.");if(!S||!ie||!ie.trim())return null;y.transitionError="",y.saving=!0;try{const de=await r.addOrderNote({endpoint:g,id:S,message:ie});return de&&(ue(de),y.activeOrder&&y.activeOrder.id===de.id&&(y.activeOrder=de)),de}catch(de){throw y.transitionError=(pe=de==null?void 0:de.message)!=null?pe:"Unknown error",de}finally{y.saving=!1}}}}function sT({endpoint:e="",token:t="",preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var f,l,g;const a=ut({token:t}),r=Tt("dashboard"),d=$e({loading:!1,error:"",summary:(g=s.summary)!=null?g:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(l=(f=s.summary)==null?void 0:f.currency)!=null?l:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),u=()=>"dashboard",_=async(A=!1)=>{var y,q;if(!e)return;const M=u(),v=A?null:yt(M,n);if(v){r.recordCacheHit(),d.summary=v.summary,d.checklist=v.checklist,d.lastUpdated=v.lastUpdated;return}r.recordCacheMiss(),d.loading=!0,d.error="";const D=r.startFetch();try{const H=await a.fetchDashboard({endpoint:e});d.summary=(y=H.summary)!=null?y:d.summary,d.checklist=Array.isArray(H.checklist)?H.checklist:d.checklist,d.lastUpdated=new Date().toISOString(),pt(M,{summary:d.summary,checklist:d.checklist,lastUpdated:d.lastUpdated})}catch(H){d.error=(q=H==null?void 0:H.message)!=null?q:"Unknown error"}finally{r.endFetch(D),d.loading=!1}};return nt(()=>{i&&(!Array.isArray(d.checklist)||!d.checklist.length)&&_()}),{state:d,refresh:_,metrics:r.metrics}}function nT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var H,N,U,se,oe,ce,me,j,B,W,F,ee,ue;const a=ut({token:t}),r=Tt("customers"),d=(H=e==null?void 0:e.list)!=null?H:"",u=(N=e==null?void 0:e.show)!=null?N:"",_=$e({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ce=(oe=(U=s.pagination)==null?void 0:U.total)!=null?oe:(se=s.items)==null?void 0:se.length)!=null?ce:0,limit:(j=(me=s.pagination)==null?void 0:me.limit)!=null?j:20,pages:(W=(B=s.pagination)==null?void 0:B.pages)!=null?W:0,current:(ee=(F=s.pagination)==null?void 0:F.current)!=null?ee:1},search:"",activeCustomer:(ue=s.active)!=null?ue:null,lastUpdated:null}),f=typeof AbortController!="undefined",l=Xe(null),g=()=>{const te=_.pagination.current||1,z=_.pagination.limit||20,P=_.search.trim();return`customers:page=${te}:limit=${z}:search=${P}`},A=async(te=!1)=>{var $;if(!d){_.error="Customers endpoint unavailable.",_.items=[];return}const z=g(),P=te?null:yt(z,n);if(P){r.recordCacheHit(),_.items=P.items,_.pagination={..._.pagination,...P.pagination},_.lastUpdated=P.lastUpdated;return}r.recordCacheMiss(),_.loading=!0,_.error="",l.value&&f&&l.value.abort();const I=f?new AbortController:null;l.value=I;const L=r.startFetch();try{const V=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:Q,pagination:le}=await a.fetchCustomers({endpoint:d,limit:_.pagination.limit,start:V,search:_.search.trim(),signal:I?I.signal:void 0});_.items=Q,_.pagination={..._.pagination,...le,current:le.current&&le.current>0?le.current:1},_.lastUpdated=new Date().toISOString(),pt(z,{items:Q,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(V){if((V==null?void 0:V.name)==="AbortError")return;_.error=($=V==null?void 0:V.message)!=null?$:"Unknown error"}finally{r.endFetch(L),f&&l.value===I&&(l.value=null),_.loading=!1}},M=()=>{_.pagination.current=1,Ye(g()),A(!0)},v=()=>{_.pagination.current=1,A()},D=te=>{const z=Number(te);Number.isNaN(z)||z<1||z===_.pagination.current||(_.pagination.current=z,A())},y=async te=>{var z;if(!u||!(te!=null&&te.email)){_.activeCustomer=te||null;return}try{const P=await a.fetchCustomer({endpoint:u,email:te.email});_.activeCustomer=P||te}catch(P){_.error=(z=P==null?void 0:P.message)!=null?z:"Unknown error"}},q=()=>{_.activeCustomer=null};return nt(()=>{i&&(!Array.isArray(_.items)||!_.items.length)&&A()}),{state:_,loadCustomers:A,refresh:M,search:v,goToPage:D,viewCustomer:y,closeCustomer:q,metrics:r.metrics}}function oT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var oe,ce,me,j,B,W,F,ee,ue,te,z,P,I,L;const a=ut({token:t}),r=Tt("coupons"),d=(oe=e==null?void 0:e.list)!=null?oe:"",u=(ce=e==null?void 0:e.create)!=null?ce:d,_=(me=e==null?void 0:e.update)!=null?me:d,f=(j=e==null?void 0:e.delete)!=null?j:d,l=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ee=(F=(B=s.pagination)==null?void 0:B.total)!=null?F:(W=s.items)==null?void 0:W.length)!=null?ee:0,limit:(te=(ue=s.pagination)==null?void 0:ue.limit)!=null?te:20,pages:(P=(z=s.pagination)==null?void 0:z.pages)!=null?P:0,current:(L=(I=s.pagination)==null?void 0:I.current)!=null?L:1},search:"",activeCoupon:null,lastUpdated:null}),g=typeof AbortController!="undefined",A=Xe(null),M=()=>{const $=l.pagination.current||1,V=l.pagination.limit||20,Q=l.search.trim();return`coupons:page=${$}:limit=${V}:search=${Q}`},v=async($=!1)=>{var R;if(!d){l.error="Coupons endpoint unavailable.",l.items=[];return}const V=M(),Q=$?null:yt(V,n);if(Q){r.recordCacheHit(),l.items=Q.items,l.pagination={...l.pagination,...Q.pagination},l.lastUpdated=Q.lastUpdated;return}r.recordCacheMiss(),l.loading=!0,l.error="",A.value&&g&&A.value.abort();const le=g?new AbortController:null;A.value=le;const X=r.startFetch();try{const S=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:ie,pagination:pe}=await a.fetchCoupons({endpoint:d,limit:l.pagination.limit,start:S,search:l.search.trim(),signal:le?le.signal:void 0});l.items=ie,l.pagination={...l.pagination,...pe,current:pe.current&&pe.current>0?pe.current:1},l.lastUpdated=new Date().toISOString(),pt(V,{items:ie,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(S){if((S==null?void 0:S.name)==="AbortError")return;l.error=(R=S==null?void 0:S.message)!=null?R:"Unknown error"}finally{r.endFetch(X),g&&A.value===le&&(A.value=null),l.loading=!1}},D=()=>{l.pagination.current=1,Ye(M()),v(!0)},y=()=>{l.pagination.current=1,v()},q=$=>{const V=Number($);Number.isNaN(V)||V<1||V===l.pagination.current||(l.pagination.current=V,v())},H=$=>{l.activeCoupon=$},N=$=>{const V=l.items.findIndex(Q=>Q.id===$.id);V===-1?l.items.unshift($):l.items.splice(V,1,$)},U=async $=>{var V;l.saving=!0,l.error="";try{let Q=null;return $.id?Q=await a.updateCoupon({endpoint:_,id:$.id,data:$}):Q=await a.createCoupon({endpoint:u,data:$}),Q&&(N(Q),l.activeCoupon&&l.activeCoupon.id===Q.id&&(l.activeCoupon=Q),Ye(M())),Q}catch(Q){throw l.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error",Q}finally{l.saving=!1}},se=async $=>{var V;if(!Array.isArray($)||!$.length)return 0;l.saving=!0,l.error="";try{const Q=await a.deleteCoupons({endpoint:f,ids:$});return Q&&(l.items=l.items.filter(le=>!$.includes(le.id)),l.activeCoupon&&$.includes(l.activeCoupon.id)&&(l.activeCoupon=null),Ye(M())),Q}catch(Q){throw l.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error",Q}finally{l.saving=!1}};return nt(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&v()}),{state:l,loadCoupons:v,refresh:D,search:y,goToPage:q,setActive:H,saveCoupon:U,deleteCoupons:se,metrics:r.metrics}}const oo=(e={})=>{var r,d,u,_,f,l,g,A,M,v,D,y,q,H,N,U,se;const t=(r=e.store)!=null?r:{},s=(d=e.payments)!=null?d:{},i=(u=e.visual)!=null?u:{},n=(_=e.visual_defaults)!=null?_:{},a=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"USD";return{store:{name:(f=t.name)!=null?f:"",email:(l=t.email)!=null?l:"",phone:(g=t.phone)!=null?g:""},payments:{configured:!!s.configured},base_currency:a,visual:{primary_color:(A=i.primary_color)!=null?A:"",text_color:(M=i.text_color)!=null?M:"",surface_color:(v=i.surface_color)!=null?v:"",border_color:(D=i.border_color)!=null?D:"",muted_color:(y=i.muted_color)!=null?y:""},visual_defaults:{primary_color:(q=n.primary_color)!=null?q:"#4f6d7a",text_color:(H=n.text_color)!=null?H:"#1f2933",surface_color:(N=n.surface_color)!=null?N:"#ffffff",border_color:(U=n.border_color)!=null?U:"#e4e7ec",muted_color:(se=n.muted_color)!=null?se:"#6b7280"}}};function iT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var g,A;const a=ut({token:t}),r=Tt("settings"),d=(g=e==null?void 0:e.show)!=null?g:"",u=(A=e==null?void 0:e.update)!=null?A:d,_=$e({loading:!1,saving:!1,error:"",values:oo(s),lastUpdated:null}),f=async(M=!1)=>{var q;if(!d){_.error="Settings endpoint unavailable.";return}const v="settings:data",D=M?null:yt(v,n);if(D){r.recordCacheHit(),_.values=D.values,_.lastUpdated=D.lastUpdated;return}r.recordCacheMiss(),_.loading=!0,_.error="";const y=r.startFetch();try{const H=await a.fetchSettings({endpoint:d});_.values=oo(H),_.lastUpdated=new Date().toISOString(),pt(v,{values:_.values,lastUpdated:_.lastUpdated})}catch(H){throw _.error=(q=H==null?void 0:H.message)!=null?q:"Unknown error",H}finally{r.endFetch(y),_.loading=!1}},l=async M=>{var v;if(!u)return _.error="Settings endpoint unavailable.",null;_.saving=!0,_.error="";try{const D=await a.updateSettings({endpoint:u,data:M});return _.values=oo(D),_.lastUpdated=new Date().toISOString(),Ye("settings:data"),pt("settings:data",{values:_.values,lastUpdated:_.lastUpdated}),_.values}catch(D){throw _.error=(v=D==null?void 0:D.message)!=null?v:"Unknown error",D}finally{_.saving=!1}};return nt(()=>{i&&(!s||!s.store)&&f()}),{state:_,refresh:f,save:l,metrics:r.metrics}}function aT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var H,N,U,se,oe,ce,me,j,B,W,F,ee,ue,te;const a=ut({token:t}),r=Tt("taxRates"),d=(H=e==null?void 0:e.list)!=null?H:"",u=(N=e==null?void 0:e.create)!=null?N:d,_=(U=e==null?void 0:e.update)!=null?U:d,f=(se=e==null?void 0:e.delete)!=null?se:d,l=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(j=(me=(oe=s.pagination)==null?void 0:oe.total)!=null?me:(ce=s.items)==null?void 0:ce.length)!=null?j:0,limit:(W=(B=s.pagination)==null?void 0:B.limit)!=null?W:20,pages:(ee=(F=s.pagination)==null?void 0:F.pages)!=null?ee:0,current:(te=(ue=s.pagination)==null?void 0:ue.current)!=null?te:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",A=Xe(null),M=()=>{const z=l.pagination.current||1,P=l.pagination.limit||20,I=l.search.trim();return`taxRates:page=${z}:limit=${P}:search=${I}`},v=async(z=!1)=>{var V;if(!d){l.error="Tax endpoint unavailable.",l.items=[];return}const P=M(),I=z?null:yt(P,n);if(I){r.recordCacheHit(),l.items=I.items,l.pagination={...l.pagination,...I.pagination},l.lastUpdated=I.lastUpdated;return}r.recordCacheMiss(),l.loading=!0,l.error="",A.value&&g&&A.value.abort();const L=g?new AbortController:null;A.value=L;const $=r.startFetch();try{const Q=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:le,pagination:X}=await a.fetchTaxRates({endpoint:d,limit:l.pagination.limit,start:Q,search:l.search.trim(),signal:L?L.signal:void 0});l.items=le,l.pagination={...l.pagination,...X,current:X.current&&X.current>0?X.current:1},l.lastUpdated=new Date().toISOString(),pt(P,{items:le,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;l.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error"}finally{r.endFetch($),g&&A.value===L&&(A.value=null),l.loading=!1}},D=()=>{l.pagination.current=1,Ye(M()),v(!0)},y=async z=>{var P;l.saving=!0,l.error="";try{const I=z.id?await a.updateTaxRate({endpoint:_,id:z.id,data:z}):await a.createTaxRate({endpoint:u,data:z});if(I){const L=l.items.findIndex($=>$.id===I.id);L===-1?l.items.unshift(I):l.items.splice(L,1,I),Ye(M())}return I}catch(I){throw l.error=(P=I==null?void 0:I.message)!=null?P:"Unknown error",I}finally{l.saving=!1}},q=async z=>{var P;if(!Array.isArray(z)||!z.length)return 0;l.saving=!0,l.error="";try{const I=await a.deleteTaxRates({endpoint:f,ids:z});return I&&(l.items=l.items.filter(L=>!z.includes(L.id)),Ye(M())),I}catch(I){throw l.error=(P=I==null?void 0:I.message)!=null?P:"Unknown error",I}finally{l.saving=!1}};return nt(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&v()}),{state:l,loadRates:v,refresh:D,saveRate:y,deleteRates:q,metrics:r.metrics}}function rT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var H,N,U,se,oe,ce,me,j,B,W,F,ee,ue,te;const a=ut({token:t}),r=Tt("shippingRules"),d=(H=e==null?void 0:e.list)!=null?H:"",u=(N=e==null?void 0:e.create)!=null?N:d,_=(U=e==null?void 0:e.update)!=null?U:d,f=(se=e==null?void 0:e.delete)!=null?se:d,l=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(j=(me=(oe=s.pagination)==null?void 0:oe.total)!=null?me:(ce=s.items)==null?void 0:ce.length)!=null?j:0,limit:(W=(B=s.pagination)==null?void 0:B.limit)!=null?W:20,pages:(ee=(F=s.pagination)==null?void 0:F.pages)!=null?ee:0,current:(te=(ue=s.pagination)==null?void 0:ue.current)!=null?te:1},search:"",lastUpdated:null}),g=typeof AbortController!="undefined",A=Xe(null),M=()=>{const z=l.pagination.current||1,P=l.pagination.limit||20,I=l.search.trim();return`shippingRules:page=${z}:limit=${P}:search=${I}`},v=async(z=!1)=>{var V;if(!d){l.error="Shipping endpoint unavailable.",l.items=[];return}const P=M(),I=z?null:yt(P,n);if(I){r.recordCacheHit(),l.items=I.items,l.pagination={...l.pagination,...I.pagination},l.lastUpdated=I.lastUpdated;return}r.recordCacheMiss(),l.loading=!0,l.error="",A.value&&g&&A.value.abort();const L=g?new AbortController:null;A.value=L;const $=r.startFetch();try{const Q=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:le,pagination:X}=await a.fetchShippingRules({endpoint:d,limit:l.pagination.limit,start:Q,search:l.search.trim(),signal:L?L.signal:void 0});l.items=le,l.pagination={...l.pagination,...X,current:X.current&&X.current>0?X.current:1},l.lastUpdated=new Date().toISOString(),pt(P,{items:le,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;l.error=(V=Q==null?void 0:Q.message)!=null?V:"Unknown error"}finally{r.endFetch($),g&&A.value===L&&(A.value=null),l.loading=!1}},D=()=>{l.pagination.current=1,Ye(M()),v(!0)},y=async z=>{var P;l.saving=!0,l.error="";try{const I=z.id?await a.updateShippingRule({endpoint:_,id:z.id,data:z}):await a.createShippingRule({endpoint:u,data:z});if(I){const L=l.items.findIndex($=>$.id===I.id);L===-1?l.items.unshift(I):l.items.splice(L,1,I),Ye(M())}return I}catch(I){throw l.error=(P=I==null?void 0:I.message)!=null?P:"Unknown error",I}finally{l.saving=!1}},q=async z=>{var P;if(!Array.isArray(z)||!z.length)return 0;l.saving=!0,l.error="";try{const I=await a.deleteShippingRules({endpoint:f,ids:z});return I&&(l.items=l.items.filter(L=>!z.includes(L.id)),Ye(M())),I}catch(I){throw l.error=(P=I==null?void 0:I.message)!=null?P:"Unknown error",I}finally{l.saving=!1}};return nt(()=>{i&&(!Array.isArray(l.items)||!l.items.length)&&v()}),{state:l,loadRules:v,refresh:D,saveRule:y,deleteRules:q,metrics:r.metrics}}function lT({endpoints:e,token:t,preload:s={},autoload:i=!0,cacheTTL:n=3e5}){var y,q,H,N,U,se,oe,ce,me,j,B;const a=ut({token:t}),r=Tt("logs"),d=(y=e==null?void 0:e.list)!=null?y:"",u=$e({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(U=(N=(q=s.pagination)==null?void 0:q.total)!=null?N:(H=s.items)==null?void 0:H.length)!=null?U:0,limit:(oe=(se=s.pagination)==null?void 0:se.limit)!=null?oe:20,pages:(me=(ce=s.pagination)==null?void 0:ce.pages)!=null?me:0,current:(B=(j=s.pagination)==null?void 0:j.current)!=null?B:1},search:"",entity:"",lastUpdated:null}),_=typeof AbortController!="undefined",f=Xe(null),l=()=>{const W=u.pagination.current||1,F=u.pagination.limit||20,ee=u.search.trim(),ue=u.entity.trim();return`logs:page=${W}:limit=${F}:search=${ee}:entity=${ue}`},g=async(W=!1)=>{var z;if(!d){u.error="Logs endpoint unavailable.",u.items=[];return}const F=l(),ee=W?null:yt(F,n);if(ee){r.recordCacheHit(),u.items=ee.items,u.pagination={...u.pagination,...ee.pagination},u.lastUpdated=ee.lastUpdated;return}r.recordCacheMiss(),u.loading=!0,u.error="",_&&f.value&&f.value.abort();const ue=_?new AbortController:null;f.value=ue;const te=r.startFetch();try{const P=Math.max(0,(u.pagination.current-1)*u.pagination.limit),{items:I,pagination:L}=await a.fetchLogs({endpoint:d,limit:u.pagination.limit,start:P,search:u.search.trim(),entity:u.entity,signal:ue?ue.signal:void 0});u.items=I,u.pagination={...u.pagination,...L,current:L.current&&L.current>0?L.current:1},u.lastUpdated=new Date().toISOString(),pt(F,{items:I,pagination:u.pagination,lastUpdated:u.lastUpdated})}catch(P){if((P==null?void 0:P.name)==="AbortError")return;u.error=(z=P==null?void 0:P.message)!=null?z:"Unknown error"}finally{r.endFetch(te),_&&f.value===ue&&(f.value=null),u.loading=!1}},A=()=>{u.pagination.current=1,Ye(l()),g(!0)},M=()=>{u.pagination.current=1,g()},v=W=>{const F=typeof W=="string"?W.trim():"";u.entity!==F&&(u.entity=F,u.pagination.current=1,g())},D=W=>{const F=Number(W);Number.isNaN(F)||F<1||F===u.pagination.current||(u.pagination.current=F,g())};return nt(()=>{i&&(!Array.isArray(u.items)||!u.items.length)&&g()}),{state:u,loadLogs:g,refresh:A,search:M,setEntity:v,goToPage:D,metrics:r.metrics}}const ea=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"}});function cT({endpoints:e={},token:t=""}){const s=ut({token:t}),i=$e({loading:!1,saving:!1,error:"",config:ea(),message:""}),n=async()=>{var d,u,_,f;if(e.show){i.loading=!0,i.error="";try{const l=await s.get(e.show);i.config=r((_=(u=(d=l==null?void 0:l.data)==null?void 0:d.config)!=null?u:l==null?void 0:l.config)!=null?_:{})}catch(l){i.error=(f=l.message)!=null?f:"Unable to load payment configuration."}finally{i.loading=!1}}},a=async d=>{var u,_,f,l,g,A,M;if(e.update){i.saving=!0,i.error="",i.message="";try{const v=await s.post(e.update,{config:d});i.config=r((f=(_=(u=v==null?void 0:v.data)==null?void 0:u.config)!=null?_:v==null?void 0:v.config)!=null?f:{}),i.message=(A=(g=(l=v==null?void 0:v.data)==null?void 0:l.message)!=null?g:v==null?void 0:v.message)!=null?A:""}catch(v){i.error=(M=v.message)!=null?M:"Unable to save payment configuration."}finally{i.saving=!1}}},r=d=>{var _,f,l;const u=ea();return{stripe:{...u.stripe,...(_=d.stripe)!=null?_:{}},paypal:{...u.paypal,...(f=d.paypal)!=null?f:{}},cod:{...u.cod,...(l=d.cod)!=null?l:{}}}};return{state:i,refresh:n,save:a}}const dT={class:"nxp-ec-admin-app__shell"},uT={class:"nxp-ec-admin-app__header"},pT={class:"nxp-ec-admin-app__title"},_T={class:"nxp-ec-admin-app__lead"},fT={key:0,class:"nxp-ec-admin-nav"},hT=["href"],mT={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},gT={class:"nxp-ec-admin-panel__body"},CT={class:"nxp-ec-admin-panel__lead"},Ms="nxp:admin:onboarding:dismissed",ST={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var tr,sr,nr,or,ir,ar,rr,lr,cr,dr,ur,pr,_r,fr,hr,mr,gr,Cr,Sr,Er,br,Ar,yr,Tr,Or,vr,Rr,xr,Pr,Nr,Mr,Ir,$r,wr,kr,Dr,Ur,Lr,Yr,Xr,Fr,Vr,Gr,Hr,Br,Kr,jr,Jr,qr,Wr,zr,Qr,Zr,el,tl,sl,nl,ol,il,al,rl,ll,cl,dl,ul,pl,_l,fl,hl,ml,gl,Cl,Sl,El,bl,Al,yl,Tl,Ol,vl,Rl,xl,Pl,Nl,Ml,Il,$l,wl,kl,Dl,Ul,Ll,Yl,Xl,Fl,Vl,Gl,Hl,Bl,Kl,jl,Jl,ql,Wl,zl,Ql,Zl,ec,tc,sc,nc,oc,ic,ac,rc,lc,cc,dc,uc,pc,_c,fc,hc,mc,gc,Cc,Sc,Ec,bc,Ac,yc,Tc,Oc,vc,Rc,xc,Pc;const t=e,{__:s}=Jy(t.dataset),i=Ce(()=>{var J;return((J=t.dataset)==null?void 0:J.appTitleKey)||"COM_NXPEASYCART"}),n=Ce(()=>{var J;return((J=t.dataset)==null?void 0:J.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(J,_e)=>{if(!J||typeof J!="string")return _e;try{return JSON.parse(J)}catch(Re){return _e}},r=Ce(()=>{var _e,Re;if(Array.isArray((_e=t.config)==null?void 0:_e.navItems))return t.config.navItems.map(tt=>({id:tt.id,title:tt.title,link:tt.link}));const J=a((Re=t.dataset)==null?void 0:Re.navItems,[]);return Array.isArray(J)?J.map(tt=>({id:tt.id,title:tt.title,link:tt.link})):[]}),d=J=>{const _e=r.value;if(!Array.isArray(_e))return"";const Re=_e.find(tt=>tt.id===J);return Re?Re.link:""},u=Ce(()=>{var J,_e;return((J=t.config)==null?void 0:J.activeSection)||((_e=t.dataset)==null?void 0:_e.activeSection)||"dashboard"}),_=J=>u.value===J,f=Ce(()=>_("dashboard")),l=Ce(()=>_("products")),g=Ce(()=>_("categories")||_("products")),A=Ce(()=>_("orders")),M=Ce(()=>_("customers")),v=Ce(()=>_("coupons")),D=Ce(()=>_("settings")),y=Ce(()=>_("logs")),q=(dr=(tr=t.endpoints)==null?void 0:tr.products)!=null?dr:{list:(nr=(sr=t.dataset)==null?void 0:sr.productsEndpoint)!=null?nr:"",create:(ir=(or=t.dataset)==null?void 0:or.productsEndpointCreate)!=null?ir:"",update:(rr=(ar=t.dataset)==null?void 0:ar.productsEndpointUpdate)!=null?rr:"",delete:(cr=(lr=t.dataset)==null?void 0:lr.productsEndpointDelete)!=null?cr:""},H=(Er=(ur=t.endpoints)==null?void 0:ur.categories)!=null?Er:{list:(_r=(pr=t.dataset)==null?void 0:pr.categoriesEndpoint)!=null?_r:"",create:(hr=(fr=t.dataset)==null?void 0:fr.categoriesEndpointCreate)!=null?hr:"",update:(gr=(mr=t.dataset)==null?void 0:mr.categoriesEndpointUpdate)!=null?gr:"",delete:(Sr=(Cr=t.dataset)==null?void 0:Cr.categoriesEndpointDelete)!=null?Sr:""},N=(Ir=(br=t.endpoints)==null?void 0:br.orders)!=null?Ir:{list:(yr=(Ar=t.dataset)==null?void 0:Ar.ordersEndpoint)!=null?yr:"",show:(Or=(Tr=t.dataset)==null?void 0:Tr.ordersEndpointShow)!=null?Or:"",transition:(Rr=(vr=t.dataset)==null?void 0:vr.ordersEndpointTransition)!=null?Rr:"",bulkTransition:(Pr=(xr=t.dataset)==null?void 0:xr.ordersEndpointBulk)!=null?Pr:"",note:(Mr=(Nr=t.dataset)==null?void 0:Nr.ordersEndpointNote)!=null?Mr:""},U=(Lr=($r=t.endpoints)==null?void 0:$r.customers)!=null?Lr:{list:(kr=(wr=t.dataset)==null?void 0:wr.customersEndpoint)!=null?kr:"",show:(Ur=(Dr=t.dataset)==null?void 0:Dr.customersEndpointShow)!=null?Ur:""},se=(Jr=(Yr=t.endpoints)==null?void 0:Yr.coupons)!=null?Jr:{list:(Fr=(Xr=t.dataset)==null?void 0:Xr.couponsEndpoint)!=null?Fr:"",create:(Gr=(Vr=t.dataset)==null?void 0:Vr.couponsEndpointCreate)!=null?Gr:"",update:(Br=(Hr=t.dataset)==null?void 0:Hr.couponsEndpointUpdate)!=null?Br:"",delete:(jr=(Kr=t.dataset)==null?void 0:Kr.couponsEndpointDelete)!=null?jr:""},oe=(ol=(qr=t.endpoints)==null?void 0:qr.tax)!=null?ol:{list:(zr=(Wr=t.dataset)==null?void 0:Wr.taxEndpoint)!=null?zr:"",create:(Zr=(Qr=t.dataset)==null?void 0:Qr.taxEndpointCreate)!=null?Zr:"",update:(tl=(el=t.dataset)==null?void 0:el.taxEndpointUpdate)!=null?tl:"",delete:(nl=(sl=t.dataset)==null?void 0:sl.taxEndpointDelete)!=null?nl:""},ce=(fl=(il=t.endpoints)==null?void 0:il.shipping)!=null?fl:{list:(rl=(al=t.dataset)==null?void 0:al.shippingEndpoint)!=null?rl:"",create:(cl=(ll=t.dataset)==null?void 0:ll.shippingEndpointCreate)!=null?cl:"",update:(ul=(dl=t.dataset)==null?void 0:dl.shippingEndpointUpdate)!=null?ul:"",delete:(_l=(pl=t.dataset)==null?void 0:pl.shippingEndpointDelete)!=null?_l:""},me=(El=(hl=t.endpoints)==null?void 0:hl.settings)!=null?El:{show:(gl=(ml=t.dataset)==null?void 0:ml.settingsEndpointShow)!=null?gl:"",update:(Sl=(Cl=t.dataset)==null?void 0:Cl.settingsEndpointUpdate)!=null?Sl:""},j=(Tl=(bl=t.endpoints)==null?void 0:bl.logs)!=null?Tl:{list:(yl=(Al=t.dataset)==null?void 0:Al.logsEndpoint)!=null?yl:""},B=(Nl=(Ol=t.endpoints)==null?void 0:Ol.payments)!=null?Nl:{show:(Rl=(vl=t.dataset)==null?void 0:vl.paymentsEndpointShow)!=null?Rl:"",update:(Pl=(xl=t.dataset)==null?void 0:xl.paymentsEndpointUpdate)!=null?Pl:""},W=Ce(()=>{var J;return a((J=t.dataset)==null?void 0:J.orderStates,[])}),{state:F,refresh:ee}=sT({endpoint:(Ul=(Dl=(wl=(Ml=t.endpoints)==null?void 0:Ml.dashboard)!=null?wl:($l=(Il=t.config)==null?void 0:Il.endpoints)==null?void 0:$l.dashboard)!=null?Dl:(kl=t.dataset)==null?void 0:kl.dashboardEndpoint)!=null?Ul:"",token:t.csrfToken,preload:(Vl=(Yl=(Ll=t.config)==null?void 0:Ll.preload)==null?void 0:Yl.dashboard)!=null?Vl:{summary:a((Xl=t.dataset)==null?void 0:Xl.dashboardSummary,{}),checklist:a((Fl=t.dataset)==null?void 0:Fl.dashboardChecklist,[])},autoload:f.value}),{state:ue,refresh:te,search:z,createProduct:P,updateProduct:I,deleteProducts:L}=Zy({endpoints:q,token:t.csrfToken,autoload:l.value}),{state:$,refresh:V,search:Q,goToPage:le,saveCategory:X,deleteCategories:R,loadOptions:S}=eT({endpoints:H,token:t.csrfToken,preload:(jl=(Hl=(Gl=t.config)==null?void 0:Gl.preload)==null?void 0:Hl.categories)!=null?jl:{items:a((Bl=t.dataset)==null?void 0:Bl.categoriesPreload,[]),pagination:a((Kl=t.dataset)==null?void 0:Kl.categoriesPreloadPagination,{})},autoload:g.value}),ie=Ce(()=>(Array.isArray($.items)?$.items:[]).map(_e=>{var Re,tt,$s;return{id:Number.parseInt((Re=_e==null?void 0:_e.id)!=null?Re:0,10)||0,title:String((tt=_e==null?void 0:_e.title)!=null?tt:"").trim(),slug:String(($s=_e==null?void 0:_e.slug)!=null?$s:"").trim()}}).filter(_e=>_e.title!=="")),{state:pe,refresh:de,search:we,setFilterState:m,viewOrder:E,closeOrder:Y,transitionOrder:K,goToPage:C,bulkTransition:h,toggleSelection:b,clearSelection:O,addNote:w}=tT({endpoints:N,token:t.csrfToken,states:W.value,preload:(Ql=(ql=(Jl=t.config)==null?void 0:Jl.preload)==null?void 0:ql.orders)!=null?Ql:{items:a((Wl=t.dataset)==null?void 0:Wl.ordersPreload,[]),pagination:a((zl=t.dataset)==null?void 0:zl.ordersPreloadPagination,{})},autoload:A.value}),{state:k,refresh:Z,search:G,goToPage:ne,viewCustomer:re,closeCustomer:fe}=nT({endpoints:U,token:t.csrfToken,preload:(nc=(ec=(Zl=t.config)==null?void 0:Zl.preload)==null?void 0:ec.customers)!=null?nc:{items:a((tc=t.dataset)==null?void 0:tc.customersPreload,[]),pagination:a((sc=t.dataset)==null?void 0:sc.customersPreloadPagination,{})},autoload:M.value}),{state:Se,refresh:be,search:Ne,goToPage:Ve,saveCoupon:et,deleteCoupons:De}=oT({endpoints:(ic=(oc=t.endpoints)==null?void 0:oc.coupons)!=null?ic:se,token:t.csrfToken,preload:(dc=(rc=(ac=t.config)==null?void 0:ac.preload)==null?void 0:rc.coupons)!=null?dc:{items:a((lc=t.dataset)==null?void 0:lc.couponsPreload,[]),pagination:a((cc=t.dataset)==null?void 0:cc.couponsPreloadPagination,{})},autoload:v.value}),lt=(fc=(pc=(uc=t.config)==null?void 0:uc.preload)==null?void 0:pc.settings)!=null?fc:a((_c=t.dataset)==null?void 0:_c.settingsPreload,{}),{state:qe,refresh:Ue,save:He}=iT({endpoints:me,token:t.csrfToken,preload:lt,autoload:D.value}),It=Ce(()=>{var _e,Re;const J=(Re=(_e=t.dataset)==null?void 0:_e.baseCurrency)!=null?Re:"";return typeof J=="string"?J.trim().toUpperCase():""}),$t=Ce(()=>{var _e,Re;const J=(Re=(_e=qe==null?void 0:qe.values)==null?void 0:_e.base_currency)!=null?Re:"";return typeof J=="string"?J.trim().toUpperCase():""}),Jt=Ce(()=>{const J=$t.value||It.value;return J!==""?J:"USD"}),_n=Ce(()=>{var _e,Re;const J=(Re=(_e=t.dataset)==null?void 0:_e.mediaModalUrl)!=null?Re:"";return typeof J=="string"?J.trim():""}),io=J=>{switch(J){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:d("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:d("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:d("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:d("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:d("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:J||"step",titleKey:J||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:J||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:d("dashboard")||""}}},fn=Ce(()=>(Array.isArray(F.checklist)?F.checklist:[]).map(_e=>{const Re=io(_e.label);return{id:Re.id,completed:!!_e.completed,link:_e.link||Re.link||"",label:_e.label,titleKey:Re.titleKey,descriptionKey:Re.descriptionKey,titleFallback:Re.titleFallback,descriptionFallback:Re.descriptionFallback}})),ao=Ce(()=>fn.value.some(J=>!J.completed)),Is=Xe(!1),ET=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Ms,"0")}catch(J){}Is.value=!0},Za=()=>{if(Is.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Ms,"1")}catch(J){}},bT=J=>{J&&typeof J.link=="string"&&J.link!==""&&(Za(),typeof window!="undefined"&&(window.location.href=J.link))};ke(ao,J=>{if(!J&&(Is.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Ms,"1")}catch(_e){}});const AT=(Sc=(mc=(hc=t.config)==null?void 0:hc.preload)==null?void 0:mc.tax)!=null?Sc:{items:a((gc=t.dataset)==null?void 0:gc.taxPreload,[]),pagination:a((Cc=t.dataset)==null?void 0:Cc.taxPreloadPagination,{})},{state:yT,refresh:hn,saveRate:TT,deleteRates:OT}=aT({endpoints:oe,token:t.csrfToken,preload:AT,autoload:D.value}),vT=(Tc=(bc=(Ec=t.config)==null?void 0:Ec.preload)==null?void 0:bc.shipping)!=null?Tc:{items:a((Ac=t.dataset)==null?void 0:Ac.shippingPreload,[]),pagination:a((yc=t.dataset)==null?void 0:yc.shippingPreloadPagination,{})},{state:RT,refresh:mn,saveRule:xT,deleteRules:PT}=rT({endpoints:ce,token:t.csrfToken,preload:vT,autoload:D.value}),NT=(Pc=(vc=(Oc=t.config)==null?void 0:Oc.preload)==null?void 0:vc.logs)!=null?Pc:{items:a((Rc=t.dataset)==null?void 0:Rc.logsPreload,[]),pagination:a((xc=t.dataset)==null?void 0:xc.logsPreloadPagination,{})},{state:MT,refresh:er,search:IT,setEntity:$T,goToPage:wT}=lT({endpoints:j,token:t.csrfToken,preload:NT,autoload:y.value}),{state:kT,refresh:ro,save:DT}=cT({endpoints:B,token:t.csrfToken});ke(u,J=>{switch(J){case"dashboard":ee();break;case"products":te(),V();break;case"categories":V();break;case"orders":de();break;case"customers":Z();break;case"coupons":be();break;case"settings":Ue(),hn(),mn(),ro();break;case"logs":er();break}}),nt(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const J=window.localStorage.getItem(Ms);ao.value?J!=="1"&&(Is.value=!0):window.localStorage.setItem(Ms,"1")}catch(J){}}D.value&&ro()});const UT=()=>{te()},LT=()=>{z()},YT=async J=>{try{await P(J),te(),V()}catch(_e){}},XT=async({id:J,data:_e})=>{try{await I(J,_e),te(),V()}catch(Re){}},FT=async J=>{try{await L(J),te(),V()}catch(_e){}},VT=()=>{V()},GT=()=>{Q()},HT=J=>{le(J)},BT=async J=>{try{await X(J),V()}catch(_e){}},KT=async J=>{try{await R(J),V()}catch(_e){}},jT=()=>{ee()},JT=()=>{de()},qT=()=>{we()},WT=J=>{m(J)},zT=J=>{E(J)},QT=()=>{Y()},ZT=async({id:J,state:_e})=>{await K(J,_e)},eO=J=>{C(J)},tO=async({ids:J,state:_e})=>{await h(J,_e)},sO=J=>{b(J)},nO=()=>{O()},oO=async({id:J,message:_e})=>{await w(J,_e)},iO=()=>{Z()},aO=()=>{G()},rO=J=>{ne(J)},lO=J=>{re(J)},cO=()=>{fe()},dO=()=>{be()},uO=()=>{Ne()},pO=J=>{Ve(J)},_O=async J=>{try{await et(J)}catch(_e){}},fO=async J=>{try{await De(J)}catch(_e){}},hO=()=>{Ue()},mO=async J=>{try{await He(J)}catch(_e){}},gO=()=>{hn()},CO=async J=>{try{await TT(J),hn()}catch(_e){}},SO=async J=>{try{await OT(J),hn()}catch(_e){}},EO=()=>{mn()},bO=async J=>{try{await xT(J),mn()}catch(_e){}},AO=async J=>{try{await PT(J),mn()}catch(_e){}},yO=()=>{er()},TO=()=>{IT()},OO=J=>{$T(J)},vO=J=>{wT(J)},RO=()=>{ro()},xO=async J=>{await DT(J)};return(J,_e)=>(T(),rt(_p,null,{default:jo(()=>{var Re,tt,$s,Nc,Mc,Ic;return[o("section",dT,[o("header",uT,[o("div",null,[o("h1",pT,p(c(s)(i.value,(tt=(Re=t.dataset)==null?void 0:Re.appTitle)!=null?tt:"NXP Easy Cart",[],"appTitle")),1),o("p",_T,p(c(s)(n.value,(Nc=($s=t.dataset)==null?void 0:$s.appLead)!=null?Nc:"Manage your storefront from one place.",[],"appLead")),1)]),ae(o("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:ET},p(c(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[Yu,ao.value]])]),r.value.length?(T(),x("nav",fT,[(T(!0),x(Ee,null,Te(r.value,gn=>(T(),x("a",{key:gn.id,href:gn.link,class:Pe({"is-active":gn.id===u.value})},p(gn.title),11,hT))),128))])):ye("",!0),u.value==="dashboard"?(T(),rt(Kp,{key:1,state:c(F),translate:c(s),onRefresh:jT},null,8,["state","translate"])):u.value==="products"?(T(),rt(Sh,{key:2,state:c(ue),translate:c(s),"base-currency":Jt.value,"category-options":ie.value,"media-modal-url":_n.value,onCreate:YT,onUpdate:XT,onDelete:FT,onRefresh:UT,onSearch:LT},null,8,["state","translate","base-currency","category-options","media-modal-url"])):u.value==="categories"?(T(),rt(mm,{key:3,state:c($),translate:c(s),"load-options":c(S),onRefresh:VT,onSearch:GT,onPage:HT,onSave:BT,onDelete:KT},null,8,["state","translate","load-options"])):u.value==="orders"?(T(),rt(Vg,{key:4,state:c(pe),translate:c(s),onRefresh:JT,onSearch:qT,onFilter:WT,onView:zT,onClose:QT,onTransition:ZT,onPage:eO,onBulkTransition:tO,onToggleSelection:sO,onClearSelection:nO,onAddNote:oO},null,8,["state","translate"])):u.value==="customers"?(T(),rt(wC,{key:5,state:c(k),translate:c(s),"base-currency":Jt.value,onRefresh:iO,onSearch:aO,onPage:rO,onView:lO,onClose:cO},null,8,["state","translate","base-currency"])):u.value==="coupons"?(T(),rt(XS,{key:6,state:c(Se),translate:c(s),"base-currency":Jt.value,onRefresh:dO,onSearch:uO,onPage:pO,onSave:_O,onDelete:fO},null,8,["state","translate","base-currency"])):u.value==="settings"?(T(),rt(zA,{key:7,"settings-state":c(qe),"tax-state":c(yT),"shipping-state":c(RT),"payments-state":c(kT),translate:c(s),"base-currency":Jt.value,onRefreshSettings:hO,onSaveSettings:mO,onRefreshTax:gO,onSaveTax:CO,onDeleteTax:SO,onRefreshShipping:EO,onSaveShipping:bO,onDeleteShipping:AO,onRefreshPayments:RO,onSavePayments:xO},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency"])):u.value==="logs"?(T(),rt(Py,{key:8,state:c(MT),translate:c(s),onRefresh:yO,onSearch:TO,onFilter:OO,onPage:vO},null,8,["state","translate"])):(T(),x("div",mT,[o("div",gT,[o("p",CT,p(c(s)(n.value,(Ic=(Mc=t.dataset)==null?void 0:Mc.appLead)!=null?Ic:"This section will be available soon.",[],"appLead")),1)])]))]),Fe(By,{visible:Is.value,steps:fn.value,translate:c(s),onClose:Za,onNavigate:bT},null,8,["visible","steps","translate"])]}),_:1}))}},pn=document.getElementById("nxp-ec-admin-app");if(!pn)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(ta=pn.getAttribute("data-csrf-token"))!=null?ta:"",t=Object.assign({},pn.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(g){console.warn("[NXP Easy Cart] Failed to parse admin config payload",g)}const i=(ra=(sa=s==null?void 0:s.endpoints)==null?void 0:sa.products)!=null?ra:{list:(na=t.productsEndpoint)!=null?na:"",create:(oa=t.productsEndpointCreate)!=null?oa:"",update:(ia=t.productsEndpointUpdate)!=null?ia:"",delete:(aa=t.productsEndpointDelete)!=null?aa:""},n=(_a=(la=s==null?void 0:s.endpoints)==null?void 0:la.categories)!=null?_a:{list:(ca=t.categoriesEndpoint)!=null?ca:"",create:(da=t.categoriesEndpointCreate)!=null?da:"",update:(ua=t.categoriesEndpointUpdate)!=null?ua:"",delete:(pa=t.categoriesEndpointDelete)!=null?pa:""},a=(Ea=(fa=s==null?void 0:s.endpoints)==null?void 0:fa.orders)!=null?Ea:{list:(ha=t.ordersEndpoint)!=null?ha:"",show:(ma=t.ordersEndpointShow)!=null?ma:"",transition:(ga=t.ordersEndpointTransition)!=null?ga:"",bulkTransition:(Ca=t.ordersEndpointBulk)!=null?Ca:"",note:(Sa=t.ordersEndpointNote)!=null?Sa:""},r=(Ta=(ba=s==null?void 0:s.endpoints)==null?void 0:ba.customers)!=null?Ta:{list:(Aa=t.customersEndpoint)!=null?Aa:"",show:(ya=t.customersEndpointShow)!=null?ya:""},d=(Na=(Oa=s==null?void 0:s.endpoints)==null?void 0:Oa.coupons)!=null?Na:{list:(va=t.couponsEndpoint)!=null?va:"",create:(Ra=t.couponsEndpointCreate)!=null?Ra:"",update:(xa=t.couponsEndpointUpdate)!=null?xa:"",delete:(Pa=t.couponsEndpointDelete)!=null?Pa:""},u=(Da=(Ma=s==null?void 0:s.endpoints)==null?void 0:Ma.tax)!=null?Da:{list:(Ia=t.taxEndpoint)!=null?Ia:"",create:($a=t.taxEndpointCreate)!=null?$a:"",update:(wa=t.taxEndpointUpdate)!=null?wa:"",delete:(ka=t.taxEndpointDelete)!=null?ka:""},_=(Va=(Ua=s==null?void 0:s.endpoints)==null?void 0:Ua.shipping)!=null?Va:{list:(La=t.shippingEndpoint)!=null?La:"",create:(Ya=t.shippingEndpointCreate)!=null?Ya:"",update:(Xa=t.shippingEndpointUpdate)!=null?Xa:"",delete:(Fa=t.shippingEndpointDelete)!=null?Fa:""},f=(Ka=(Ga=s==null?void 0:s.endpoints)==null?void 0:Ga.settings)!=null?Ka:{show:(Ha=t.settingsEndpointShow)!=null?Ha:"",update:(Ba=t.settingsEndpointUpdate)!=null?Ba:""},l=(qa=(ja=s==null?void 0:s.endpoints)==null?void 0:ja.logs)!=null?qa:{list:(Ja=t.logsEndpoint)!=null?Ja:""};ip(ST,{csrfToken:e,dataset:t,config:s,endpoints:{products:i,categories:n,orders:a,customers:r,coupons:d,tax:u,shipping:_,settings:f,logs:l,dashboard:(Qa=(za=(Wa=s==null?void 0:s.endpoints)==null?void 0:Wa.dashboard)!=null?za:t.dashboardEndpoint)!=null?Qa:""}}).mount(pn)}})();
