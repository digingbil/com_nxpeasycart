(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var ra,la,ca,da,ua,pa,_a,fa,ma,ha,ga,Ea,Sa,Ca,ba,Aa,Ta,ya,Oa,Ra,xa,va,Na,Pa,Ma,Ia,ka,wa,$a,La,Da,Ua,Ya,Xa,Fa,Ga,Va,Ha,Ba,Ka,ja,Ja,Wa,qa,za,Qa,Za,er,tr,nr,sr,ir,or,ar,rr,lr,cr,dr;function Ts(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const we={},en=[],Ct=()=>{},fi=()=>!1,Gn=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),ys=e=>e.startsWith("onUpdate:"),Qe=Object.assign,Os=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Bc=Object.prototype.hasOwnProperty,Ne=(e,t)=>Bc.call(e,t),be=Array.isArray,tn=e=>hn(e)==="[object Map]",nn=e=>hn(e)==="[object Set]",mi=e=>hn(e)==="[object Date]",Te=e=>typeof e=="function",Ve=e=>typeof e=="string",ft=e=>typeof e=="symbol",Le=e=>e!==null&&typeof e=="object",hi=e=>(Le(e)||Te(e))&&Te(e.then)&&Te(e.catch),gi=Object.prototype.toString,hn=e=>gi.call(e),Kc=e=>hn(e).slice(8,-1),Ei=e=>hn(e)==="[object Object]",Rs=e=>Ve(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gn=Ts(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Vn=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},jc=/-\w/g,Ut=Vn(e=>e.replace(jc,t=>t.slice(1).toUpperCase())),Jc=/\B([A-Z])/g,Yt=Vn(e=>e.replace(Jc,"-$1").toLowerCase()),Si=Vn(e=>e.charAt(0).toUpperCase()+e.slice(1)),xs=Vn(e=>e?`on${Si(e)}`:""),Xt=(e,t)=>!Object.is(e,t),Hn=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Ci=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},Bn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let bi;const Kn=()=>bi||(bi=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function Ft(e){if(be(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],n=Ve(o)?Qc(o):Ft(o);if(n)for(const a in n)t[a]=n[a]}return t}else if(Ve(e)||Le(e))return e}const Wc=/;(?![^(]*\))/g,qc=/:([^]+)/,zc=/\/\*[^]*?\*\//g;function Qc(e){const t={};return e.replace(zc,"").split(Wc).forEach(s=>{if(s){const o=s.split(qc);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function Pe(e){let t="";if(Ve(e))t=e;else if(be(e))for(let s=0;s<e.length;s++){const o=Pe(e[s]);o&&(t+=o+" ")}else if(Le(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const Zc=Ts("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Ai(e){return!!e||e===""}function ed(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=En(e[o],t[o]);return s}function En(e,t){if(e===t)return!0;let s=mi(e),o=mi(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=ft(e),o=ft(t),s||o)return e===t;if(s=be(e),o=be(t),s||o)return s&&o?ed(e,t):!1;if(s=Le(e),o=Le(t),s||o){if(!s||!o)return!1;const n=Object.keys(e).length,a=Object.keys(t).length;if(n!==a)return!1;for(const l in e){const u=e.hasOwnProperty(l),p=t.hasOwnProperty(l);if(u&&!p||!u&&p||!En(e[l],t[l]))return!1}}return String(e)===String(t)}function vs(e,t){return e.findIndex(s=>En(s,t))}const Ti=e=>!!(e&&e.__v_isRef===!0),d=e=>Ve(e)?e:e==null?"":be(e)||Le(e)&&(e.toString===gi||!Te(e.toString))?Ti(e)?d(e.value):JSON.stringify(e,yi,2):String(e),yi=(e,t)=>Ti(t)?yi(e,t.value):tn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,n],a)=>(s[Ns(o,a)+" =>"]=n,s),{})}:nn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ns(s))}:ft(t)?Ns(t):Le(t)&&!be(t)&&!Ei(t)?String(t):t,Ns=(e,t="")=>{var s;return ft(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nt;class td{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nt,!t&&nt&&(this.index=(nt.scopes||(nt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=nt;try{return nt=this,t()}finally{nt=s}}}on(){++this._on===1&&(this.prevScope=nt,nt=this)}off(){this._on>0&&--this._on===0&&(nt=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(this.effects.length=0,s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function nd(){return nt}let De;const Ps=new WeakSet;class Oi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nt&&nt.active&&nt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ps.has(this)&&(Ps.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ii(this),vi(this);const t=De,s=mt;De=this,mt=!0;try{return this.fn()}finally{Ni(this),De=t,mt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ws(t);this.deps=this.depsTail=void 0,Ii(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ps.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ks(this)&&this.run()}get dirty(){return ks(this)}}let Ri=0,Sn,Cn;function xi(e,t=!1){if(e.flags|=8,t){e.next=Cn,Cn=e;return}e.next=Sn,Sn=e}function Ms(){Ri++}function Is(){if(--Ri>0)return;if(Cn){let t=Cn;for(Cn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Sn;){let t=Sn;for(Sn=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(o){e||(e=o)}t=s}}if(e)throw e}function vi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ni(e){let t,s=e.depsTail,o=s;for(;o;){const n=o.prevDep;o.version===-1?(o===s&&(s=n),ws(o),sd(o)):t=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=n}e.deps=t,e.depsTail=s}function ks(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Pi(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Pi(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===bn)||(e.globalVersion=bn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ks(e))))return;e.flags|=2;const t=e.dep,s=De,o=mt;De=e,mt=!0;try{vi(e);const n=e.fn(e._value);(t.version===0||Xt(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{De=s,mt=o,Ni(e),e.flags&=-3}}function ws(e,t=!1){const{dep:s,prevSub:o,nextSub:n}=e;if(o&&(o.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=o,e.nextSub=void 0),s.subs===e&&(s.subs=o,!o&&s.computed)){s.computed.flags&=-5;for(let a=s.computed.deps;a;a=a.nextDep)ws(a,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function sd(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let mt=!0;const Mi=[];function bt(){Mi.push(mt),mt=!1}function At(){const e=Mi.pop();mt=e===void 0?!0:e}function Ii(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=De;De=void 0;try{t()}finally{De=s}}}let bn=0;class id{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $s{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!De||!mt||De===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==De)s=this.activeLink=new id(De,this),De.deps?(s.prevDep=De.depsTail,De.depsTail.nextDep=s,De.depsTail=s):De.deps=De.depsTail=s,ki(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const o=s.nextDep;o.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=o),s.prevDep=De.depsTail,s.nextDep=void 0,De.depsTail.nextDep=s,De.depsTail=s,De.deps===s&&(De.deps=o)}return s}trigger(t){this.version++,bn++,this.notify(t)}notify(t){Ms();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Is()}}}function ki(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let o=t.deps;o;o=o.nextDep)ki(o)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Ls=new WeakMap,jt=Symbol(""),Ds=Symbol(""),An=Symbol("");function qe(e,t,s){if(mt&&De){let o=Ls.get(e);o||Ls.set(e,o=new Map);let n=o.get(s);n||(o.set(s,n=new $s),n.map=o,n.key=s),n.track()}}function Mt(e,t,s,o,n,a){const l=Ls.get(e);if(!l){bn++;return}const u=p=>{p&&p.trigger()};if(Ms(),t==="clear")l.forEach(u);else{const p=be(e),S=p&&Rs(s);if(p&&s==="length"){const m=Number(o);l.forEach((c,C)=>{(C==="length"||C===An||!ft(C)&&C>=m)&&u(c)})}else switch((s!==void 0||l.has(void 0))&&u(l.get(s)),S&&u(l.get(An)),t){case"add":p?S&&u(l.get("length")):(u(l.get(jt)),tn(e)&&u(l.get(Ds)));break;case"delete":p||(u(l.get(jt)),tn(e)&&u(l.get(Ds)));break;case"set":tn(e)&&u(l.get(jt));break}}Is()}function sn(e){const t=xe(e);return t===e?t:(qe(t,"iterate",An),ut(e)?t:t.map(je))}function jn(e){return qe(e=xe(e),"iterate",An),e}const od={__proto__:null,[Symbol.iterator](){return Us(this,Symbol.iterator,je)},concat(...e){return sn(this).concat(...e.map(t=>be(t)?sn(t):t))},entries(){return Us(this,"entries",e=>(e[1]=je(e[1]),e))},every(e,t){return It(this,"every",e,t,void 0,arguments)},filter(e,t){return It(this,"filter",e,t,s=>s.map(je),arguments)},find(e,t){return It(this,"find",e,t,je,arguments)},findIndex(e,t){return It(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return It(this,"findLast",e,t,je,arguments)},findLastIndex(e,t){return It(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return It(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ys(this,"includes",e)},indexOf(...e){return Ys(this,"indexOf",e)},join(e){return sn(this).join(e)},lastIndexOf(...e){return Ys(this,"lastIndexOf",e)},map(e,t){return It(this,"map",e,t,void 0,arguments)},pop(){return Tn(this,"pop")},push(...e){return Tn(this,"push",e)},reduce(e,...t){return wi(this,"reduce",e,t)},reduceRight(e,...t){return wi(this,"reduceRight",e,t)},shift(){return Tn(this,"shift")},some(e,t){return It(this,"some",e,t,void 0,arguments)},splice(...e){return Tn(this,"splice",e)},toReversed(){return sn(this).toReversed()},toSorted(e){return sn(this).toSorted(e)},toSpliced(...e){return sn(this).toSpliced(...e)},unshift(...e){return Tn(this,"unshift",e)},values(){return Us(this,"values",je)}};function Us(e,t,s){const o=jn(e),n=o[t]();return o!==e&&!ut(e)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.done||(a.value=s(a.value)),a}),n}const ad=Array.prototype;function It(e,t,s,o,n,a){const l=jn(e),u=l!==e&&!ut(e),p=l[t];if(p!==ad[t]){const c=p.apply(e,a);return u?je(c):c}let S=s;l!==e&&(u?S=function(c,C){return s.call(this,je(c),C,e)}:s.length>2&&(S=function(c,C){return s.call(this,c,C,e)}));const m=p.call(l,S,o);return u&&n?n(m):m}function wi(e,t,s,o){const n=jn(e);let a=s;return n!==e&&(ut(e)?s.length>3&&(a=function(l,u,p){return s.call(this,l,u,p,e)}):a=function(l,u,p){return s.call(this,l,je(u),p,e)}),n[t](a,...o)}function Ys(e,t,s){const o=xe(e);qe(o,"iterate",An);const n=o[t](...s);return(n===-1||n===!1)&&Gs(s[0])?(s[0]=xe(s[0]),o[t](...s)):n}function Tn(e,t,s=[]){bt(),Ms();const o=xe(e)[t].apply(e,s);return Is(),At(),o}const rd=Ts("__proto__,__v_isRef,__isVue"),$i=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ft));function ld(e){ft(e)||(e=String(e));const t=xe(this);return qe(t,"has",e),t.hasOwnProperty(e)}class Li{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,a=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return a;if(s==="__v_raw")return o===(n?a?Gi:Fi:a?Xi:Yi).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const l=be(t);if(!n){let p;if(l&&(p=od[s]))return p;if(s==="hasOwnProperty")return ld}const u=Reflect.get(t,s,Je(t)?t:o);if((ft(s)?$i.has(s):rd(s))||(n||qe(t,"get",s),a))return u;if(Je(u)){const p=l&&Rs(s)?u:u.value;return n&&Le(p)?Fs(p):p}return Le(u)?n?Fs(u):$e(u):u}}class Di extends Li{constructor(t=!1){super(!1,t)}set(t,s,o,n){let a=t[s];if(!this._isShallow){const p=Gt(a);if(!ut(o)&&!Gt(o)&&(a=xe(a),o=xe(o)),!be(t)&&Je(a)&&!Je(o))return p||(a.value=o),!0}const l=be(t)&&Rs(s)?Number(s)<t.length:Ne(t,s),u=Reflect.set(t,s,o,Je(t)?t:n);return t===xe(n)&&(l?Xt(o,a)&&Mt(t,"set",s,o):Mt(t,"add",s,o)),u}deleteProperty(t,s){const o=Ne(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&o&&Mt(t,"delete",s,void 0),n}has(t,s){const o=Reflect.has(t,s);return(!ft(s)||!$i.has(s))&&qe(t,"has",s),o}ownKeys(t){return qe(t,"iterate",be(t)?"length":jt),Reflect.ownKeys(t)}}class Ui extends Li{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const cd=new Di,dd=new Ui,ud=new Di(!0),pd=new Ui(!0),Xs=e=>e,Jn=e=>Reflect.getPrototypeOf(e);function _d(e,t,s){return function(...o){const n=this.__v_raw,a=xe(n),l=tn(a),u=e==="entries"||e===Symbol.iterator&&l,p=e==="keys"&&l,S=n[e](...o),m=s?Xs:t?Qn:je;return!t&&qe(a,"iterate",p?Ds:jt),{next(){const{value:c,done:C}=S.next();return C?{value:c,done:C}:{value:u?[m(c[0]),m(c[1])]:m(c),done:C}},[Symbol.iterator](){return this}}}}function Wn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function fd(e,t){const s={get(n){const a=this.__v_raw,l=xe(a),u=xe(n);e||(Xt(n,u)&&qe(l,"get",n),qe(l,"get",u));const{has:p}=Jn(l),S=t?Xs:e?Qn:je;if(p.call(l,n))return S(a.get(n));if(p.call(l,u))return S(a.get(u));a!==l&&a.get(n)},get size(){const n=this.__v_raw;return!e&&qe(xe(n),"iterate",jt),n.size},has(n){const a=this.__v_raw,l=xe(a),u=xe(n);return e||(Xt(n,u)&&qe(l,"has",n),qe(l,"has",u)),n===u?a.has(n):a.has(n)||a.has(u)},forEach(n,a){const l=this,u=l.__v_raw,p=xe(u),S=t?Xs:e?Qn:je;return!e&&qe(p,"iterate",jt),u.forEach((m,c)=>n.call(a,S(m),S(c),l))}};return Qe(s,e?{add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear")}:{add(n){!t&&!ut(n)&&!Gt(n)&&(n=xe(n));const a=xe(this);return Jn(a).has.call(a,n)||(a.add(n),Mt(a,"add",n,n)),this},set(n,a){!t&&!ut(a)&&!Gt(a)&&(a=xe(a));const l=xe(this),{has:u,get:p}=Jn(l);let S=u.call(l,n);S||(n=xe(n),S=u.call(l,n));const m=p.call(l,n);return l.set(n,a),S?Xt(a,m)&&Mt(l,"set",n,a):Mt(l,"add",n,a),this},delete(n){const a=xe(this),{has:l,get:u}=Jn(a);let p=l.call(a,n);p||(n=xe(n),p=l.call(a,n)),u&&u.call(a,n);const S=a.delete(n);return p&&Mt(a,"delete",n,void 0),S},clear(){const n=xe(this),a=n.size!==0,l=n.clear();return a&&Mt(n,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=_d(n,e,t)}),s}function qn(e,t){const s=fd(e,t);return(o,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?o:Reflect.get(Ne(s,n)&&n in o?s:o,n,a)}const md={get:qn(!1,!1)},hd={get:qn(!1,!0)},gd={get:qn(!0,!1)},Ed={get:qn(!0,!0)},Yi=new WeakMap,Xi=new WeakMap,Fi=new WeakMap,Gi=new WeakMap;function Sd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cd(e){return e.__v_skip||!Object.isExtensible(e)?0:Sd(Kc(e))}function $e(e){return Gt(e)?e:zn(e,!1,cd,md,Yi)}function bd(e){return zn(e,!1,ud,hd,Xi)}function Fs(e){return zn(e,!0,dd,gd,Fi)}function _v(e){return zn(e,!0,pd,Ed,Gi)}function zn(e,t,s,o,n){if(!Le(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=Cd(e);if(a===0)return e;const l=n.get(e);if(l)return l;const u=new Proxy(e,a===2?o:s);return n.set(e,u),u}function on(e){return Gt(e)?on(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function ut(e){return!!(e&&e.__v_isShallow)}function Gs(e){return e?!!e.__v_raw:!1}function xe(e){const t=e&&e.__v_raw;return t?xe(t):e}function Ad(e){return!Ne(e,"__v_skip")&&Object.isExtensible(e)&&Ci(e,"__v_skip",!0),e}const je=e=>Le(e)?$e(e):e,Qn=e=>Le(e)?Fs(e):e;function Je(e){return e?e.__v_isRef===!0:!1}function He(e){return Td(e,!1)}function Td(e,t){return Je(e)?e:new yd(e,t)}class yd{constructor(t,s){this.dep=new $s,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:xe(t),this._value=s?t:je(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,o=this.__v_isShallow||ut(t)||Gt(t);t=o?t:xe(t),Xt(t,s)&&(this._rawValue=t,this._value=o?t:je(t),this.dep.trigger())}}function r(e){return Je(e)?e.value:e}const Od={get:(e,t,s)=>t==="__v_raw"?e:r(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const n=e[t];return Je(n)&&!Je(s)?(n.value=s,!0):Reflect.set(e,t,s,o)}};function Vi(e){return on(e)?e:new Proxy(e,Od)}class Rd{constructor(t,s,o){this.fn=t,this.setter=s,this._value=void 0,this.dep=new $s(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return xi(this,!0),!0}get value(){const t=this.dep.track();return Pi(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function xd(e,t,s=!1){let o,n;return Te(e)?o=e:(o=e.get,n=e.set),new Rd(o,n,s)}const Zn={},es=new WeakMap;let Jt;function vd(e,t=!1,s=Jt){if(s){let o=es.get(s);o||es.set(s,o=[]),o.push(e)}}function Nd(e,t,s=we){const{immediate:o,deep:n,once:a,scheduler:l,augmentJob:u,call:p}=s,S=Y=>n?Y:ut(Y)||n===!1||n===0?kt(Y,1):kt(Y);let m,c,C,x,L=!1,w=!1;if(Je(e)?(c=()=>e.value,L=ut(e)):on(e)?(c=()=>S(e),L=!0):be(e)?(w=!0,L=e.some(Y=>on(Y)||ut(Y)),c=()=>e.map(Y=>{if(Je(Y))return Y.value;if(on(Y))return S(Y);if(Te(Y))return p?p(Y,2):Y()})):Te(e)?t?c=p?()=>p(e,2):e:c=()=>{if(C){bt();try{C()}finally{At()}}const Y=Jt;Jt=m;try{return p?p(e,3,[x]):e(x)}finally{Jt=Y}}:c=Ct,t&&n){const Y=c,E=n===!0?1/0:n;c=()=>kt(Y(),E)}const $=nd(),P=()=>{m.stop(),$&&$.active&&Os($.effects,m)};if(a&&t){const Y=t;t=(...E)=>{Y(...E),P()}}let D=w?new Array(e.length).fill(Zn):Zn;const K=Y=>{if(!(!(m.flags&1)||!m.dirty&&!Y))if(t){const E=m.run();if(n||L||(w?E.some((j,ne)=>Xt(j,D[ne])):Xt(E,D))){C&&C();const j=Jt;Jt=m;try{const ne=[E,D===Zn?void 0:w&&D[0]===Zn?[]:D,x];D=E,p?p(t,3,ne):t(...ne)}finally{Jt=j}}}else m.run()};return u&&u(K),m=new Oi(c),m.scheduler=l?()=>l(K,!1):K,x=Y=>vd(Y,!1,m),C=m.onStop=()=>{const Y=es.get(m);if(Y){if(p)p(Y,4);else for(const E of Y)E();es.delete(m)}},t?o?K(!0):D=m.run():l?l(K.bind(null,!0),!0):m.run(),P.pause=m.pause.bind(m),P.resume=m.resume.bind(m),P.stop=P,P}function kt(e,t=1/0,s){if(t<=0||!Le(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,Je(e))kt(e.value,t,s);else if(be(e))for(let o=0;o<e.length;o++)kt(e[o],t,s);else if(nn(e)||tn(e))e.forEach(o=>{kt(o,t,s)});else if(Ei(e)){for(const o in e)kt(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&kt(e[o],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const yn=[];let Vs=!1;function fv(e,...t){if(Vs)return;Vs=!0,bt();const s=yn.length?yn[yn.length-1].component:null,o=s&&s.appContext.config.warnHandler,n=Pd();if(o)an(o,s,11,[e+t.map(a=>{var l,u;return(u=(l=a.toString)==null?void 0:l.call(a))!=null?u:JSON.stringify(a)}).join(""),s&&s.proxy,n.map(({vnode:a})=>`at <${Yo(s,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${e}`,...t];n.length&&a.push(`
`,...Md(n)),console.warn(...a)}At(),Vs=!1}function Pd(){let e=yn[yn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function Md(e){const t=[];return e.forEach((s,o)=>{t.push(...o===0?[]:[`
`],...Id(s))}),t}function Id({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,n=` at <${Yo(e.component,e.type,o)}`,a=">"+s;return e.props?[n,...kd(e.props),a]:[n+a]}function kd(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(o=>{t.push(...Hi(o,e[o]))}),s.length>3&&t.push(" ..."),t}function Hi(e,t,s){return Ve(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:Je(t)?(t=Hi(e,xe(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Te(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=xe(t),s?t:[`${e}=`,t])}function an(e,t,s,o){try{return o?e(...o):e()}catch(n){ts(n,t,s)}}function Tt(e,t,s,o){if(Te(e)){const n=an(e,t,s,o);return n&&hi(n)&&n.catch(a=>{ts(a,t,s)}),n}if(be(e)){const n=[];for(let a=0;a<e.length;a++)n.push(Tt(e[a],t,s,o));return n}}function ts(e,t,s,o=!0){const n=t?t.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||we;if(t){let u=t.parent;const p=t.proxy,S=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const m=u.ec;if(m){for(let c=0;c<m.length;c++)if(m[c](e,p,S)===!1)return}u=u.parent}if(a){bt(),an(a,null,10,[e,p,S]),At();return}}wd(e,s,n,o,l)}function wd(e,t,s,o=!0,n=!1){if(n)throw e;console.error(e)}const Ze=[];let yt=-1;const rn=[];let Vt=null,ln=0;const Bi=Promise.resolve();let ns=null;function Ki(e){const t=ns||Bi;return e?t.then(this?e.bind(this):e):t}function $d(e){let t=yt+1,s=Ze.length;for(;t<s;){const o=t+s>>>1,n=Ze[o],a=On(n);a<e||a===e&&n.flags&2?t=o+1:s=o}return t}function Hs(e){if(!(e.flags&1)){const t=On(e),s=Ze[Ze.length-1];!s||!(e.flags&2)&&t>=On(s)?Ze.push(e):Ze.splice($d(t),0,e),e.flags|=1,ji()}}function ji(){ns||(ns=Bi.then(qi))}function Ld(e){be(e)?rn.push(...e):Vt&&e.id===-1?Vt.splice(ln+1,0,e):e.flags&1||(rn.push(e),e.flags|=1),ji()}function Ji(e,t,s=yt+1){for(;s<Ze.length;s++){const o=Ze[s];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ze.splice(s,1),s--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function Wi(e){if(rn.length){const t=[...new Set(rn)].sort((s,o)=>On(s)-On(o));if(rn.length=0,Vt){Vt.push(...t);return}for(Vt=t,ln=0;ln<Vt.length;ln++){const s=Vt[ln];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Vt=null,ln=0}}const On=e=>e.id==null?e.flags&2?-1:1/0:e.id;function qi(e){try{for(yt=0;yt<Ze.length;yt++){const t=Ze[yt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),an(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yt<Ze.length;yt++){const t=Ze[yt];t&&(t.flags&=-2)}yt=-1,Ze.length=0,Wi(),ns=null,(Ze.length||rn.length)&&qi()}}let ze=null,zi=null;function ss(e){const t=ze;return ze=e,zi=e&&e.type.__scopeId||null,t}function Qi(e,t=ze,s){if(!t||e._n)return e;const o=(...n)=>{o._d&&Io(-1);const a=ss(t);let l;try{l=e(...n)}finally{ss(a),o._d&&Io(1)}return l};return o._n=!0,o._c=!0,o._d=!0,o}function te(e,t){if(ze===null)return e;const s=_s(ze),o=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[a,l,u,p=we]=t[n];a&&(Te(a)&&(a={mounted:a,updated:a}),a.deep&&kt(l),o.push({dir:a,instance:s,value:l,oldValue:void 0,arg:u,modifiers:p}))}return e}function Wt(e,t,s,o){const n=e.dirs,a=t&&t.dirs;for(let l=0;l<n.length;l++){const u=n[l];a&&(u.oldValue=a[l].value);let p=u.dir[o];p&&(bt(),Tt(p,s,8,[e.el,u,e,t]),At())}}const Dd=Symbol("_vte"),Ud=e=>e.__isTeleport,Yd=Symbol("_leaveCb");function Bs(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Bs(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const is=new WeakMap;function Rn(e,t,s,o,n=!1){if(be(e)){e.forEach((L,w)=>Rn(L,t&&(be(t)?t[w]:t),s,o,n));return}if(cn(o)&&!n){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&Rn(e,t,s,o.component.subTree);return}const a=o.shapeFlag&4?_s(o.component):o.el,l=n?null:a,{i:u,r:p}=e,S=t&&t.r,m=u.refs===we?u.refs={}:u.refs,c=u.setupState,C=xe(c),x=c===we?fi:L=>Ne(C,L);if(S!=null&&S!==p){if(eo(t),Ve(S))m[S]=null,x(S)&&(c[S]=null);else if(Je(S)){S.value=null;const L=t;L.k&&(m[L.k]=null)}}if(Te(p))an(p,u,12,[l,m]);else{const L=Ve(p),w=Je(p);if(L||w){const $=()=>{if(e.f){const P=L?x(p)?c[p]:m[p]:p.value;if(n)be(P)&&Os(P,a);else if(be(P))P.includes(a)||P.push(a);else if(L)m[p]=[a],x(p)&&(c[p]=m[p]);else{const D=[a];p.value=D,e.k&&(m[e.k]=D)}}else L?(m[p]=l,x(p)&&(c[p]=l)):w&&(p.value=l,e.k&&(m[e.k]=l))};if(l){const P=()=>{$(),is.delete(e)};P.id=-1,is.set(e,P),ot(P,s)}else eo(e),$()}}}function eo(e){const t=is.get(e);t&&(t.flags|=8,is.delete(e))}Kn().requestIdleCallback,Kn().cancelIdleCallback;const cn=e=>!!e.type.__asyncLoader,to=e=>e.type.__isKeepAlive;function Xd(e,t){no(e,"a",t)}function Fd(e,t){no(e,"da",t)}function no(e,t,s=tt){const o=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(os(t,o,s),s){let n=s.parent;for(;n&&n.parent;)to(n.parent.vnode)&&Gd(o,t,s,n),n=n.parent}}function Gd(e,t,s,o){const n=os(t,e,o,!0);io(()=>{Os(o[t],n)},s)}function os(e,t,s=tt,o=!1){if(s){const n=s[e]||(s[e]=[]),a=t.__weh||(t.__weh=(...l)=>{bt();const u=In(s),p=Tt(t,s,e,l);return u(),At(),p});return o?n.unshift(a):n.push(a),a}}const wt=e=>(t,s=tt)=>{(!kn||e==="sp")&&os(e,(...o)=>t(...o),s)},Vd=wt("bm"),it=wt("m"),Hd=wt("bu"),Bd=wt("u"),so=wt("bum"),io=wt("um"),Kd=wt("sp"),jd=wt("rtg"),Jd=wt("rtc");function Wd(e,t=tt){os("ec",e,t)}const qd=Symbol.for("v-ndc");function Re(e,t,s,o){let n;const a=s,l=be(e);if(l||Ve(e)){const u=l&&on(e);let p=!1,S=!1;u&&(p=!ut(e),S=Gt(e),e=jn(e)),n=new Array(e.length);for(let m=0,c=e.length;m<c;m++)n[m]=t(p?S?Qn(je(e[m])):je(e[m]):e[m],m,void 0,a)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,a)}else if(Le(e))if(e[Symbol.iterator])n=Array.from(e,(u,p)=>t(u,p,void 0,a));else{const u=Object.keys(e);n=new Array(u.length);for(let p=0,S=u.length;p<S;p++){const m=u[p];n[p]=t(e[m],m,p,a)}}else n=[];return n}function zd(e,t,s={},o,n){if(ze.ce||ze.parent&&cn(ze.parent)&&ze.parent.ce){const S=Object.keys(s).length>0;return R(),pt(Ae,null,[Be("slot",s,o)],S?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),R();const l=a&&oo(a(s)),u=s.key||l&&l.key,p=pt(Ae,{key:(u&&!ft(u)?u:`_${t}`)+(!l&&o?"_fb":"")},l||[],l&&e._===1?64:-2);return p.scopeId&&(p.slotScopeIds=[p.scopeId+"-s"]),a&&a._c&&(a._d=!0),p}function oo(e){return e.some(t=>ei(t)?!(t.type===$t||t.type===Ae&&!oo(t.children)):!0)?e:null}const Ks=e=>e?Lo(e)?_s(e):Ks(e.parent):null,xn=Qe(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ks(e.parent),$root:e=>Ks(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>co(e),$forceUpdate:e=>e.f||(e.f=()=>{Hs(e.update)}),$nextTick:e=>e.n||(e.n=Ki.bind(e.proxy)),$watch:e=>Su.bind(e)}),js=(e,t)=>e!==we&&!e.__isScriptSetup&&Ne(e,t),Qd={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:n,props:a,accessCache:l,type:u,appContext:p}=e;let S;if(t[0]!=="$"){const x=l[t];if(x!==void 0)switch(x){case 1:return o[t];case 2:return n[t];case 4:return s[t];case 3:return a[t]}else{if(js(o,t))return l[t]=1,o[t];if(n!==we&&Ne(n,t))return l[t]=2,n[t];if((S=e.propsOptions[0])&&Ne(S,t))return l[t]=3,a[t];if(s!==we&&Ne(s,t))return l[t]=4,s[t];Js&&(l[t]=0)}}const m=xn[t];let c,C;if(m)return t==="$attrs"&&qe(e.attrs,"get",""),m(e);if((c=u.__cssModules)&&(c=c[t]))return c;if(s!==we&&Ne(s,t))return l[t]=4,s[t];if(C=p.config.globalProperties,Ne(C,t))return C[t]},set({_:e},t,s){const{data:o,setupState:n,ctx:a}=e;return js(n,t)?(n[t]=s,!0):o!==we&&Ne(o,t)?(o[t]=s,!0):Ne(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:n,propsOptions:a,type:l}},u){let p,S;return!!(s[u]||e!==we&&u[0]!=="$"&&Ne(e,u)||js(t,u)||(p=a[0])&&Ne(p,u)||Ne(o,u)||Ne(xn,u)||Ne(n.config.globalProperties,u)||(S=l.__cssModules)&&S[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ne(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ao(e){return be(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Js=!0;function Zd(e){const t=co(e),s=e.proxy,o=e.ctx;Js=!1,t.beforeCreate&&ro(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:l,watch:u,provide:p,inject:S,created:m,beforeMount:c,mounted:C,beforeUpdate:x,updated:L,activated:w,deactivated:$,beforeDestroy:P,beforeUnmount:D,destroyed:K,unmounted:Y,render:E,renderTracked:j,renderTriggered:ne,errorCaptured:de,serverPrefetch:Se,expose:W,inheritAttrs:B,components:q,directives:H,filters:se}=t;if(S&&eu(S,o,null),l)for(const Z in l){const ie=l[Z];Te(ie)&&(o[Z]=ie.bind(s))}if(n){const Z=n.call(s,s);Le(Z)&&(e.data=$e(Z))}if(Js=!0,a)for(const Z in a){const ie=a[Z],ee=Te(ie)?ie.bind(s,s):Te(ie.get)?ie.get.bind(s,s):Ct,_e=!Te(ie)&&Te(ie.set)?ie.set.bind(s):Ct,U=Ee({get:ee,set:_e});Object.defineProperty(o,Z,{enumerable:!0,configurable:!0,get:()=>U.value,set:z=>U.value=z})}if(u)for(const Z in u)lo(u[Z],o,s,Z);if(p){const Z=Te(p)?p.call(s):p;Reflect.ownKeys(Z).forEach(ie=>{au(ie,Z[ie])})}m&&ro(m,e,"c");function ue(Z,ie){be(ie)?ie.forEach(ee=>Z(ee.bind(s))):ie&&Z(ie.bind(s))}if(ue(Vd,c),ue(it,C),ue(Hd,x),ue(Bd,L),ue(Xd,w),ue(Fd,$),ue(Wd,de),ue(Jd,j),ue(jd,ne),ue(so,D),ue(io,Y),ue(Kd,Se),be(W))if(W.length){const Z=e.exposed||(e.exposed={});W.forEach(ie=>{Object.defineProperty(Z,ie,{get:()=>s[ie],set:ee=>s[ie]=ee,enumerable:!0})})}else e.exposed||(e.exposed={});E&&e.render===Ct&&(e.render=E),B!=null&&(e.inheritAttrs=B),q&&(e.components=q),H&&(e.directives=H),Se&&Zi(e)}function eu(e,t,s=Ct){be(e)&&(e=Ws(e));for(const o in e){const n=e[o];let a;Le(n)?"default"in n?a=rs(n.from||o,n.default,!0):a=rs(n.from||o):a=rs(n),Je(a)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:l=>a.value=l}):t[o]=a}}function ro(e,t,s){Tt(be(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function lo(e,t,s,o){let n=o.includes(".")?xo(s,o):()=>s[o];if(Ve(e)){const a=t[e];Te(a)&&Fe(n,a)}else if(Te(e))Fe(n,e.bind(s));else if(Le(e))if(be(e))e.forEach(a=>lo(a,t,s,o));else{const a=Te(e.handler)?e.handler.bind(s):t[e.handler];Te(a)&&Fe(n,a,e)}}function co(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:l}}=e.appContext,u=a.get(t);let p;return u?p=u:!n.length&&!s&&!o?p=t:(p={},n.length&&n.forEach(S=>as(p,S,l,!0)),as(p,t,l)),Le(t)&&a.set(t,p),p}function as(e,t,s,o=!1){const{mixins:n,extends:a}=t;a&&as(e,a,s,!0),n&&n.forEach(l=>as(e,l,s,!0));for(const l in t)if(!(o&&l==="expose")){const u=tu[l]||s&&s[l];e[l]=u?u(e[l],t[l]):t[l]}return e}const tu={data:uo,props:po,emits:po,methods:vn,computed:vn,beforeCreate:et,created:et,beforeMount:et,mounted:et,beforeUpdate:et,updated:et,beforeDestroy:et,beforeUnmount:et,destroyed:et,unmounted:et,activated:et,deactivated:et,errorCaptured:et,serverPrefetch:et,components:vn,directives:vn,watch:su,provide:uo,inject:nu};function uo(e,t){return t?e?function(){return Qe(Te(e)?e.call(this,this):e,Te(t)?t.call(this,this):t)}:t:e}function nu(e,t){return vn(Ws(e),Ws(t))}function Ws(e){if(be(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function et(e,t){return e?[...new Set([].concat(e,t))]:t}function vn(e,t){return e?Qe(Object.create(null),e,t):t}function po(e,t){return e?be(e)&&be(t)?[...new Set([...e,...t])]:Qe(Object.create(null),ao(e),ao(t!=null?t:{})):t}function su(e,t){if(!e)return t;if(!t)return e;const s=Qe(Object.create(null),e);for(const o in t)s[o]=et(e[o],t[o]);return s}function _o(){return{app:null,config:{isNativeTag:fi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iu=0;function ou(e,t){return function(o,n=null){Te(o)||(o=Qe({},o)),n!=null&&!Le(n)&&(n=null);const a=_o(),l=new WeakSet,u=[];let p=!1;const S=a.app={_uid:iu++,_component:o,_props:n,_container:null,_context:a,_instance:null,version:Bu,get config(){return a.config},set config(m){},use(m,...c){return l.has(m)||(m&&Te(m.install)?(l.add(m),m.install(S,...c)):Te(m)&&(l.add(m),m(S,...c))),S},mixin(m){return a.mixins.includes(m)||a.mixins.push(m),S},component(m,c){return c?(a.components[m]=c,S):a.components[m]},directive(m,c){return c?(a.directives[m]=c,S):a.directives[m]},mount(m,c,C){if(!p){const x=S._ceVNode||Be(o,n);return x.appContext=a,C===!0?C="svg":C===!1&&(C=void 0),e(x,m,C),p=!0,S._container=m,m.__vue_app__=S,_s(x.component)}},onUnmount(m){u.push(m)},unmount(){p&&(Tt(u,S._instance,16),e(null,S._container),delete S._container.__vue_app__)},provide(m,c){return a.provides[m]=c,S},runWithContext(m){const c=dn;dn=S;try{return m()}finally{dn=c}}};return S}}let dn=null;function au(e,t){if(tt){let s=tt.provides;const o=tt.parent&&tt.parent.provides;o===s&&(s=tt.provides=Object.create(o)),s[e]=t}}function rs(e,t,s=!1){const o=Lu();if(o||dn){let n=dn?dn._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Te(t)?t.call(o&&o.proxy):t}}const fo={},mo=()=>Object.create(fo),ho=e=>Object.getPrototypeOf(e)===fo;function ru(e,t,s,o=!1){const n={},a=mo();e.propsDefaults=Object.create(null),go(e,t,n,a);for(const l in e.propsOptions[0])l in n||(n[l]=void 0);s?e.props=o?n:bd(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function lu(e,t,s,o){const{props:n,attrs:a,vnode:{patchFlag:l}}=e,u=xe(n),[p]=e.propsOptions;let S=!1;if((o||l>0)&&!(l&16)){if(l&8){const m=e.vnode.dynamicProps;for(let c=0;c<m.length;c++){let C=m[c];if(ls(e.emitsOptions,C))continue;const x=t[C];if(p)if(Ne(a,C))x!==a[C]&&(a[C]=x,S=!0);else{const L=Ut(C);n[L]=qs(p,u,L,x,e,!1)}else x!==a[C]&&(a[C]=x,S=!0)}}}else{go(e,t,n,a)&&(S=!0);let m;for(const c in u)(!t||!Ne(t,c)&&((m=Yt(c))===c||!Ne(t,m)))&&(p?s&&(s[c]!==void 0||s[m]!==void 0)&&(n[c]=qs(p,u,c,void 0,e,!0)):delete n[c]);if(a!==u)for(const c in a)(!t||!Ne(t,c))&&(delete a[c],S=!0)}S&&Mt(e.attrs,"set","")}function go(e,t,s,o){const[n,a]=e.propsOptions;let l=!1,u;if(t)for(let p in t){if(gn(p))continue;const S=t[p];let m;n&&Ne(n,m=Ut(p))?!a||!a.includes(m)?s[m]=S:(u||(u={}))[m]=S:ls(e.emitsOptions,p)||(!(p in o)||S!==o[p])&&(o[p]=S,l=!0)}if(a){const p=xe(s),S=u||we;for(let m=0;m<a.length;m++){const c=a[m];s[c]=qs(n,p,c,S[c],e,!Ne(S,c))}}return l}function qs(e,t,s,o,n,a){const l=e[s];if(l!=null){const u=Ne(l,"default");if(u&&o===void 0){const p=l.default;if(l.type!==Function&&!l.skipFactory&&Te(p)){const{propsDefaults:S}=n;if(s in S)o=S[s];else{const m=In(n);o=S[s]=p.call(null,t),m()}}else o=p;n.ce&&n.ce._setProp(s,o)}l[0]&&(a&&!u?o=!1:l[1]&&(o===""||o===Yt(s))&&(o=!0))}return o}const cu=new WeakMap;function Eo(e,t,s=!1){const o=s?cu:t.propsCache,n=o.get(e);if(n)return n;const a=e.props,l={},u=[];let p=!1;if(!Te(e)){const m=c=>{p=!0;const[C,x]=Eo(c,t,!0);Qe(l,C),x&&u.push(...x)};!s&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!a&&!p)return Le(e)&&o.set(e,en),en;if(be(a))for(let m=0;m<a.length;m++){const c=Ut(a[m]);So(c)&&(l[c]=we)}else if(a)for(const m in a){const c=Ut(m);if(So(c)){const C=a[m],x=l[c]=be(C)||Te(C)?{type:C}:Qe({},C),L=x.type;let w=!1,$=!0;if(be(L))for(let P=0;P<L.length;++P){const D=L[P],K=Te(D)&&D.name;if(K==="Boolean"){w=!0;break}else K==="String"&&($=!1)}else w=Te(L)&&L.name==="Boolean";x[0]=w,x[1]=$,(w||Ne(x,"default"))&&u.push(c)}}const S=[l,u];return Le(e)&&o.set(e,S),S}function So(e){return e[0]!=="$"&&!gn(e)}const zs=e=>e==="_"||e==="_ctx"||e==="$stable",Qs=e=>be(e)?e.map(Ot):[Ot(e)],du=(e,t,s)=>{if(t._n)return t;const o=Qi((...n)=>Qs(t(...n)),s);return o._c=!1,o},Co=(e,t,s)=>{const o=e._ctx;for(const n in e){if(zs(n))continue;const a=e[n];if(Te(a))t[n]=du(n,a,o);else if(a!=null){const l=Qs(a);t[n]=()=>l}}},bo=(e,t)=>{const s=Qs(t);e.slots.default=()=>s},Ao=(e,t,s)=>{for(const o in t)(s||!zs(o))&&(e[o]=t[o])},uu=(e,t,s)=>{const o=e.slots=mo();if(e.vnode.shapeFlag&32){const n=t._;n?(Ao(o,t,s),s&&Ci(o,"_",n,!0)):Co(t,o)}else t&&bo(e,t)},pu=(e,t,s)=>{const{vnode:o,slots:n}=e;let a=!0,l=we;if(o.shapeFlag&32){const u=t._;u?s&&u===1?a=!1:Ao(n,t,s):(a=!t.$stable,Co(t,n)),l=t}else t&&(bo(e,t),l={default:1});if(a)for(const u in n)!zs(u)&&l[u]==null&&delete n[u]},ot=xu;function _u(e){return fu(e)}function fu(e,t){const s=Kn();s.__VUE__=!0;const{insert:o,remove:n,patchProp:a,createElement:l,createText:u,createComment:p,setText:S,setElementText:m,parentNode:c,nextSibling:C,setScopeId:x=Ct,insertStaticContent:L}=e,w=(_,h,M,F=null,y=null,G=null,A=void 0,f=null,g=!!h.dynamicChildren)=>{if(_===h)return;_&&!Mn(_,h)&&(F=Ce(_),z(_,y,G,!0),_=null),h.patchFlag===-2&&(g=!1,h.dynamicChildren=null);const{type:b,ref:T,shapeFlag:I}=h;switch(b){case cs:$(_,h,M,F);break;case $t:P(_,h,M,F);break;case ds:_==null&&D(h,M,F,A);break;case Ae:q(_,h,M,F,y,G,A,f,g);break;default:I&1?E(_,h,M,F,y,G,A,f,g):I&6?H(_,h,M,F,y,G,A,f,g):(I&64||I&128)&&b.process(_,h,M,F,y,G,A,f,g,O)}T!=null&&y?Rn(T,_&&_.ref,G,h||_,!h):T==null&&_&&_.ref!=null&&Rn(_.ref,null,G,_,!0)},$=(_,h,M,F)=>{if(_==null)o(h.el=u(h.children),M,F);else{const y=h.el=_.el;h.children!==_.children&&S(y,h.children)}},P=(_,h,M,F)=>{_==null?o(h.el=p(h.children||""),M,F):h.el=_.el},D=(_,h,M,F)=>{[_.el,_.anchor]=L(_.children,h,M,F,_.el,_.anchor)},K=({el:_,anchor:h},M,F)=>{let y;for(;_&&_!==h;)y=C(_),o(_,M,F),_=y;o(h,M,F)},Y=({el:_,anchor:h})=>{let M;for(;_&&_!==h;)M=C(_),n(_),_=M;n(h)},E=(_,h,M,F,y,G,A,f,g)=>{h.type==="svg"?A="svg":h.type==="math"&&(A="mathml"),_==null?j(h,M,F,y,G,A,f,g):Se(_,h,y,G,A,f,g)},j=(_,h,M,F,y,G,A,f)=>{let g,b;const{props:T,shapeFlag:I,transition:J,dirs:V}=_;if(g=_.el=l(_.type,G,T&&T.is,T),I&8?m(g,_.children):I&16&&de(_.children,g,null,F,y,Zs(_,G),A,f),V&&Wt(_,null,F,"created"),ne(g,_,_.scopeId,A,F),T){for(const le in T)le!=="value"&&!gn(le)&&a(g,le,null,T[le],G,F);"value"in T&&a(g,"value",null,T.value,G),(b=T.onVnodeBeforeMount)&&Rt(b,F,_)}V&&Wt(_,null,F,"beforeMount");const ae=mu(y,J);ae&&J.beforeEnter(g),o(g,h,M),((b=T&&T.onVnodeMounted)||ae||V)&&ot(()=>{b&&Rt(b,F,_),ae&&J.enter(g),V&&Wt(_,null,F,"mounted")},y)},ne=(_,h,M,F,y)=>{if(M&&x(_,M),F)for(let G=0;G<F.length;G++)x(_,F[G]);if(y){let G=y.subTree;if(h===G||Mo(G.type)&&(G.ssContent===h||G.ssFallback===h)){const A=y.vnode;ne(_,A,A.scopeId,A.slotScopeIds,y.parent)}}},de=(_,h,M,F,y,G,A,f,g=0)=>{for(let b=g;b<_.length;b++){const T=_[b]=f?Ht(_[b]):Ot(_[b]);w(null,T,h,M,F,y,G,A,f)}},Se=(_,h,M,F,y,G,A)=>{const f=h.el=_.el;let{patchFlag:g,dynamicChildren:b,dirs:T}=h;g|=_.patchFlag&16;const I=_.props||we,J=h.props||we;let V;if(M&&qt(M,!1),(V=J.onVnodeBeforeUpdate)&&Rt(V,M,h,_),T&&Wt(h,_,M,"beforeUpdate"),M&&qt(M,!0),(I.innerHTML&&J.innerHTML==null||I.textContent&&J.textContent==null)&&m(f,""),b?W(_.dynamicChildren,b,f,M,F,Zs(h,y),G):A||ie(_,h,f,null,M,F,Zs(h,y),G,!1),g>0){if(g&16)B(f,I,J,M,y);else if(g&2&&I.class!==J.class&&a(f,"class",null,J.class,y),g&4&&a(f,"style",I.style,J.style,y),g&8){const ae=h.dynamicProps;for(let le=0;le<ae.length;le++){const ge=ae[le],Oe=I[ge],ve=J[ge];(ve!==Oe||ge==="value")&&a(f,ge,Oe,ve,y,M)}}g&1&&_.children!==h.children&&m(f,h.children)}else!A&&b==null&&B(f,I,J,M,y);((V=J.onVnodeUpdated)||T)&&ot(()=>{V&&Rt(V,M,h,_),T&&Wt(h,_,M,"updated")},F)},W=(_,h,M,F,y,G,A)=>{for(let f=0;f<h.length;f++){const g=_[f],b=h[f],T=g.el&&(g.type===Ae||!Mn(g,b)||g.shapeFlag&198)?c(g.el):M;w(g,b,T,null,F,y,G,A,!0)}},B=(_,h,M,F,y)=>{if(h!==M){if(h!==we)for(const G in h)!gn(G)&&!(G in M)&&a(_,G,h[G],null,y,F);for(const G in M){if(gn(G))continue;const A=M[G],f=h[G];A!==f&&G!=="value"&&a(_,G,f,A,y,F)}"value"in M&&a(_,"value",h.value,M.value,y)}},q=(_,h,M,F,y,G,A,f,g)=>{const b=h.el=_?_.el:u(""),T=h.anchor=_?_.anchor:u("");let{patchFlag:I,dynamicChildren:J,slotScopeIds:V}=h;V&&(f=f?f.concat(V):V),_==null?(o(b,M,F),o(T,M,F),de(h.children||[],M,T,y,G,A,f,g)):I>0&&I&64&&J&&_.dynamicChildren?(W(_.dynamicChildren,J,M,y,G,A,f),(h.key!=null||y&&h===y.subTree)&&To(_,h,!0)):ie(_,h,M,T,y,G,A,f,g)},H=(_,h,M,F,y,G,A,f,g)=>{h.slotScopeIds=f,_==null?h.shapeFlag&512?y.ctx.activate(h,M,F,A,g):se(h,M,F,y,G,A,g):me(_,h,g)},se=(_,h,M,F,y,G,A)=>{const f=_.component=$u(_,F,y);if(to(_)&&(f.ctx.renderer=O),Du(f,!1,A),f.asyncDep){if(y&&y.registerDep(f,ue,A),!_.el){const g=f.subTree=Be($t);P(null,g,h,M),_.placeholder=g.el}}else ue(f,_,h,M,y,G,A)},me=(_,h,M)=>{const F=h.component=_.component;if(Ou(_,h,M))if(F.asyncDep&&!F.asyncResolved){Z(F,h,M);return}else F.next=h,F.update();else h.el=_.el,F.vnode=h},ue=(_,h,M,F,y,G,A)=>{const f=()=>{if(_.isMounted){let{next:I,bu:J,u:V,parent:ae,vnode:le}=_;{const Ke=yo(_);if(Ke){I&&(I.el=le.el,Z(_,I,A)),Ke.asyncDep.then(()=>{_.isUnmounted||f()});return}}let ge=I,Oe;qt(_,!1),I?(I.el=le.el,Z(_,I,A)):I=le,J&&Hn(J),(Oe=I.props&&I.props.onVnodeBeforeUpdate)&&Rt(Oe,ae,I,le),qt(_,!0);const ve=No(_),ke=_.subTree;_.subTree=ve,w(ke,ve,c(ke.el),Ce(ke),_,y,G),I.el=ve.el,ge===null&&Ru(_,ve.el),V&&ot(V,y),(Oe=I.props&&I.props.onVnodeUpdated)&&ot(()=>Rt(Oe,ae,I,le),y)}else{let I;const{el:J,props:V}=h,{bm:ae,m:le,parent:ge,root:Oe,type:ve}=_,ke=cn(h);qt(_,!1),ae&&Hn(ae),!ke&&(I=V&&V.onVnodeBeforeMount)&&Rt(I,ge,h),qt(_,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(ve);const Ke=_.subTree=No(_);w(null,Ke,M,F,_,y,G),h.el=Ke.el}if(le&&ot(le,y),!ke&&(I=V&&V.onVnodeMounted)){const Ke=h;ot(()=>Rt(I,ge,Ke),y)}(h.shapeFlag&256||ge&&cn(ge.vnode)&&ge.vnode.shapeFlag&256)&&_.a&&ot(_.a,y),_.isMounted=!0,h=M=F=null}};_.scope.on();const g=_.effect=new Oi(f);_.scope.off();const b=_.update=g.run.bind(g),T=_.job=g.runIfDirty.bind(g);T.i=_,T.id=_.uid,g.scheduler=()=>Hs(T),qt(_,!0),b()},Z=(_,h,M)=>{h.component=_;const F=_.vnode.props;_.vnode=h,_.next=null,lu(_,h.props,F,M),pu(_,h.children,M),bt(),Ji(_),At()},ie=(_,h,M,F,y,G,A,f,g=!1)=>{const b=_&&_.children,T=_?_.shapeFlag:0,I=h.children,{patchFlag:J,shapeFlag:V}=h;if(J>0){if(J&128){_e(b,I,M,F,y,G,A,f,g);return}else if(J&256){ee(b,I,M,F,y,G,A,f,g);return}}V&8?(T&16&&fe(b,y,G),I!==b&&m(M,I)):T&16?V&16?_e(b,I,M,F,y,G,A,f,g):fe(b,y,G,!0):(T&8&&m(M,""),V&16&&de(I,M,F,y,G,A,f,g))},ee=(_,h,M,F,y,G,A,f,g)=>{_=_||en,h=h||en;const b=_.length,T=h.length,I=Math.min(b,T);let J;for(J=0;J<I;J++){const V=h[J]=g?Ht(h[J]):Ot(h[J]);w(_[J],V,M,null,y,G,A,f,g)}b>T?fe(_,y,G,!0,!1,I):de(h,M,F,y,G,A,f,g,I)},_e=(_,h,M,F,y,G,A,f,g)=>{let b=0;const T=h.length;let I=_.length-1,J=T-1;for(;b<=I&&b<=J;){const V=_[b],ae=h[b]=g?Ht(h[b]):Ot(h[b]);if(Mn(V,ae))w(V,ae,M,null,y,G,A,f,g);else break;b++}for(;b<=I&&b<=J;){const V=_[I],ae=h[J]=g?Ht(h[J]):Ot(h[J]);if(Mn(V,ae))w(V,ae,M,null,y,G,A,f,g);else break;I--,J--}if(b>I){if(b<=J){const V=J+1,ae=V<T?h[V].el:F;for(;b<=J;)w(null,h[b]=g?Ht(h[b]):Ot(h[b]),M,ae,y,G,A,f,g),b++}}else if(b>J)for(;b<=I;)z(_[b],y,G,!0),b++;else{const V=b,ae=b,le=new Map;for(b=ae;b<=J;b++){const Ye=h[b]=g?Ht(h[b]):Ot(h[b]);Ye.key!=null&&le.set(Ye.key,b)}let ge,Oe=0;const ve=J-ae+1;let ke=!1,Ke=0;const rt=new Array(ve);for(b=0;b<ve;b++)rt[b]=0;for(b=V;b<=I;b++){const Ye=_[b];if(Oe>=ve){z(Ye,y,G,!0);continue}let Xe;if(Ye.key!=null)Xe=le.get(Ye.key);else for(ge=ae;ge<=J;ge++)if(rt[ge-ae]===0&&Mn(Ye,h[ge])){Xe=ge;break}Xe===void 0?z(Ye,y,G,!0):(rt[Xe-ae]=b+1,Xe>=Ke?Ke=Xe:ke=!0,w(Ye,h[Xe],M,null,y,G,A,f,g),Oe++)}const We=ke?hu(rt):en;for(ge=We.length-1,b=ve-1;b>=0;b--){const Ye=ae+b,Xe=h[Ye],lt=h[Ye+1],Pt=Ye+1<T?lt.el||lt.placeholder:F;rt[b]===0?w(null,Xe,M,Pt,y,G,A,f,g):ke&&(ge<0||b!==We[ge]?U(Xe,M,Pt,2):ge--)}}},U=(_,h,M,F,y=null)=>{const{el:G,type:A,transition:f,children:g,shapeFlag:b}=_;if(b&6){U(_.component.subTree,h,M,F);return}if(b&128){_.suspense.move(h,M,F);return}if(b&64){A.move(_,h,M,O);return}if(A===Ae){o(G,h,M);for(let I=0;I<g.length;I++)U(g[I],h,M,F);o(_.anchor,h,M);return}if(A===ds){K(_,h,M);return}if(F!==2&&b&1&&f)if(F===0)f.beforeEnter(G),o(G,h,M),ot(()=>f.enter(G),y);else{const{leave:I,delayLeave:J,afterLeave:V}=f,ae=()=>{_.ctx.isUnmounted?n(G):o(G,h,M)},le=()=>{G._isLeaving&&G[Yd](!0),I(G,()=>{ae(),V&&V()})};J?J(G,ae,le):le()}else o(G,h,M)},z=(_,h,M,F=!1,y=!1)=>{const{type:G,props:A,ref:f,children:g,dynamicChildren:b,shapeFlag:T,patchFlag:I,dirs:J,cacheIndex:V}=_;if(I===-2&&(y=!1),f!=null&&(bt(),Rn(f,null,M,_,!0),At()),V!=null&&(h.renderCache[V]=void 0),T&256){h.ctx.deactivate(_);return}const ae=T&1&&J,le=!cn(_);let ge;if(le&&(ge=A&&A.onVnodeBeforeUnmount)&&Rt(ge,h,_),T&6)he(_.component,M,F);else{if(T&128){_.suspense.unmount(M,F);return}ae&&Wt(_,null,h,"beforeUnmount"),T&64?_.type.remove(_,h,M,O,F):b&&!b.hasOnce&&(G!==Ae||I>0&&I&64)?fe(b,h,M,!1,!0):(G===Ae&&I&384||!y&&T&16)&&fe(g,h,M),F&&Q(_)}(le&&(ge=A&&A.onVnodeUnmounted)||ae)&&ot(()=>{ge&&Rt(ge,h,_),ae&&Wt(_,null,h,"unmounted")},M)},Q=_=>{const{type:h,el:M,anchor:F,transition:y}=_;if(h===Ae){re(M,F);return}if(h===ds){Y(_);return}const G=()=>{n(M),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(_.shapeFlag&1&&y&&!y.persisted){const{leave:A,delayLeave:f}=y,g=()=>A(M,G);f?f(_.el,G,g):g()}else G()},re=(_,h)=>{let M;for(;_!==h;)M=C(_),n(_),_=M;n(h)},he=(_,h,M)=>{const{bum:F,scope:y,job:G,subTree:A,um:f,m:g,a:b}=_;Oo(g),Oo(b),F&&Hn(F),y.stop(),G&&(G.flags|=8,z(A,_,h,M)),f&&ot(f,h),ot(()=>{_.isUnmounted=!0},h)},fe=(_,h,M,F=!1,y=!1,G=0)=>{for(let A=G;A<_.length;A++)z(_[A],h,M,F,y)},Ce=_=>{if(_.shapeFlag&6)return Ce(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const h=C(_.anchor||_.el),M=h&&h[Dd];return M?C(M):h};let Ie=!1;const k=(_,h,M)=>{_==null?h._vnode&&z(h._vnode,null,null,!0):w(h._vnode||null,_,h,null,null,null,M),h._vnode=_,Ie||(Ie=!0,Ji(),Wi(),Ie=!1)},O={p:w,um:z,m:U,r:Q,mt:se,mc:de,pc:ie,pbc:W,n:Ce,o:e};return{render:k,hydrate:void 0,createApp:ou(k)}}function Zs({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function mu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function To(e,t,s=!1){const o=e.children,n=t.children;if(be(o)&&be(n))for(let a=0;a<o.length;a++){const l=o[a];let u=n[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[a]=Ht(n[a]),u.el=l.el),!s&&u.patchFlag!==-2&&To(l,u)),u.type===cs&&u.patchFlag!==-1&&(u.el=l.el),u.type===$t&&!u.el&&(u.el=l.el)}}function hu(e){const t=e.slice(),s=[0];let o,n,a,l,u;const p=e.length;for(o=0;o<p;o++){const S=e[o];if(S!==0){if(n=s[s.length-1],e[n]<S){t[o]=n,s.push(o);continue}for(a=0,l=s.length-1;a<l;)u=a+l>>1,e[s[u]]<S?a=u+1:l=u;S<e[s[a]]&&(a>0&&(t[o]=s[a-1]),s[a]=o)}}for(a=s.length,l=s[a-1];a-- >0;)s[a]=l,l=t[l];return s}function yo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:yo(t)}function Oo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const gu=Symbol.for("v-scx"),Eu=()=>rs(gu);function Fe(e,t,s){return Ro(e,t,s)}function Ro(e,t,s=we){const{immediate:o,deep:n,flush:a,once:l}=s,u=Qe({},s),p=t&&o||!t&&a!=="post";let S;if(kn){if(a==="sync"){const x=Eu();S=x.__watcherHandles||(x.__watcherHandles=[])}else if(!p){const x=()=>{};return x.stop=Ct,x.resume=Ct,x.pause=Ct,x}}const m=tt;u.call=(x,L,w)=>Tt(x,m,L,w);let c=!1;a==="post"?u.scheduler=x=>{ot(x,m&&m.suspense)}:a!=="sync"&&(c=!0,u.scheduler=(x,L)=>{L?x():Hs(x)}),u.augmentJob=x=>{t&&(x.flags|=4),c&&(x.flags|=2,m&&(x.id=m.uid,x.i=m))};const C=Nd(e,t,u);return kn&&(S?S.push(C):p&&C()),C}function Su(e,t,s){const o=this.proxy,n=Ve(e)?e.includes(".")?xo(o,e):()=>o[e]:e.bind(o,o);let a;Te(t)?a=t:(a=t.handler,s=t);const l=In(this),u=Ro(n,a.bind(o),s);return l(),u}function xo(e,t){const s=t.split(".");return()=>{let o=e;for(let n=0;n<s.length&&o;n++)o=o[s[n]];return o}}const Cu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ut(t)}Modifiers`]||e[`${Yt(t)}Modifiers`];function bu(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||we;let n=s;const a=t.startsWith("update:"),l=a&&Cu(o,t.slice(7));l&&(l.trim&&(n=s.map(m=>Ve(m)?m.trim():m)),l.number&&(n=s.map(Bn)));let u,p=o[u=xs(t)]||o[u=xs(Ut(t))];!p&&a&&(p=o[u=xs(Yt(t))]),p&&Tt(p,e,6,n);const S=o[u+"Once"];if(S){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Tt(S,e,6,n)}}const Au=new WeakMap;function vo(e,t,s=!1){const o=s?Au:t.emitsCache,n=o.get(e);if(n!==void 0)return n;const a=e.emits;let l={},u=!1;if(!Te(e)){const p=S=>{const m=vo(S,t,!0);m&&(u=!0,Qe(l,m))};!s&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!a&&!u?(Le(e)&&o.set(e,null),null):(be(a)?a.forEach(p=>l[p]=null):Qe(l,a),Le(e)&&o.set(e,l),l)}function ls(e,t){return!e||!Gn(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ne(e,t[0].toLowerCase()+t.slice(1))||Ne(e,Yt(t))||Ne(e,t))}function mv(){}function No(e){const{type:t,vnode:s,proxy:o,withProxy:n,propsOptions:[a],slots:l,attrs:u,emit:p,render:S,renderCache:m,props:c,data:C,setupState:x,ctx:L,inheritAttrs:w}=e,$=ss(e);let P,D;try{if(s.shapeFlag&4){const Y=n||o,E=Y;P=Ot(S.call(E,Y,m,c,x,C,L)),D=u}else{const Y=t;P=Ot(Y.length>1?Y(c,{attrs:u,slots:l,emit:p}):Y(c,null)),D=t.props?u:Tu(u)}}catch(Y){Nn.length=0,ts(Y,e,1),P=Be($t)}let K=P;if(D&&w!==!1){const Y=Object.keys(D),{shapeFlag:E}=K;Y.length&&E&7&&(a&&Y.some(ys)&&(D=yu(D,a)),K=un(K,D,!1,!0))}return s.dirs&&(K=un(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(s.dirs):s.dirs),s.transition&&Bs(K,s.transition),P=K,ss($),P}const Tu=e=>{let t;for(const s in e)(s==="class"||s==="style"||Gn(s))&&((t||(t={}))[s]=e[s]);return t},yu=(e,t)=>{const s={};for(const o in e)(!ys(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Ou(e,t,s){const{props:o,children:n,component:a}=e,{props:l,children:u,patchFlag:p}=t,S=a.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&p>=0){if(p&1024)return!0;if(p&16)return o?Po(o,l,S):!!l;if(p&8){const m=t.dynamicProps;for(let c=0;c<m.length;c++){const C=m[c];if(l[C]!==o[C]&&!ls(S,C))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:o===l?!1:o?l?Po(o,l,S):!0:!!l;return!1}function Po(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let n=0;n<o.length;n++){const a=o[n];if(t[a]!==e[a]&&!ls(s,a))return!0}return!1}function Ru({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Mo=e=>e.__isSuspense;function xu(e,t){t&&t.pendingBranch?be(e)?t.effects.push(...e):t.effects.push(e):Ld(e)}const Ae=Symbol.for("v-fgt"),cs=Symbol.for("v-txt"),$t=Symbol.for("v-cmt"),ds=Symbol.for("v-stc"),Nn=[];let at=null;function R(e=!1){Nn.push(at=e?null:[])}function vu(){Nn.pop(),at=Nn[Nn.length-1]||null}let Pn=1;function Io(e,t=!1){Pn+=e,e<0&&at&&t&&(at.hasOnce=!0)}function ko(e){return e.dynamicChildren=Pn>0?at||en:null,vu(),Pn>0&&at&&at.push(e),e}function v(e,t,s,o,n,a){return ko(i(e,t,s,o,n,a,!0))}function pt(e,t,s,o,n){return ko(Be(e,t,s,o,n,!0))}function ei(e){return e?e.__v_isVNode===!0:!1}function Mn(e,t){return e.type===t.type&&e.key===t.key}const wo=({key:e})=>e!=null?e:null,us=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ve(e)||Je(e)||Te(e)?{i:ze,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,o=0,n=null,a=e===Ae?0:1,l=!1,u=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wo(t),ref:t&&us(t),scopeId:zi,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:o,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ze};return u?(ti(p,s),a&128&&e.normalize(p)):s&&(p.shapeFlag|=Ve(s)?8:16),Pn>0&&!l&&at&&(p.patchFlag>0||a&6)&&p.patchFlag!==32&&at.push(p),p}const Be=Nu;function Nu(e,t=null,s=null,o=0,n=null,a=!1){if((!e||e===qd)&&(e=$t),ei(e)){const u=un(e,t,!0);return s&&ti(u,s),Pn>0&&!a&&at&&(u.shapeFlag&6?at[at.indexOf(e)]=u:at.push(u)),u.patchFlag=-2,u}if(Hu(e)&&(e=e.__vccOpts),t){t=Pu(t);let{class:u,style:p}=t;u&&!Ve(u)&&(t.class=Pe(u)),Le(p)&&(Gs(p)&&!be(p)&&(p=Qe({},p)),t.style=Ft(p))}const l=Ve(e)?1:Mo(e)?128:Ud(e)?64:Le(e)?4:Te(e)?2:0;return i(e,t,s,o,n,l,a,!0)}function Pu(e){return e?Gs(e)||ho(e)?Qe({},e):e:null}function un(e,t,s=!1,o=!1){const{props:n,ref:a,patchFlag:l,children:u,transition:p}=e,S=t?Iu(n||{},t):n,m={__v_isVNode:!0,__v_skip:!0,type:e.type,props:S,key:S&&wo(S),ref:t&&t.ref?s&&a?be(a)?a.concat(us(t)):[a,us(t)]:us(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ae?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&un(e.ssContent),ssFallback:e.ssFallback&&un(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&o&&Bs(m,p.clone(m)),m}function Me(e=" ",t=0){return Be(cs,null,e,t)}function Mu(e,t){const s=Be(ds,null,e);return s.staticCount=t,s}function pe(e="",t=!1){return t?(R(),pt($t,null,e)):Be($t,null,e)}function Ot(e){return e==null||typeof e=="boolean"?Be($t):be(e)?Be(Ae,null,e.slice()):ei(e)?Ht(e):Be(cs,null,String(e))}function Ht(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:un(e)}function ti(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(be(t))s=16;else if(typeof t=="object")if(o&65){const n=t.default;n&&(n._c&&(n._d=!1),ti(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!ho(t)?t._ctx=ze:n===3&&ze&&(ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Te(t)?(t={default:t,_ctx:ze},s=32):(t=String(t),o&64?(s=16,t=[Me(t)]):s=8);e.children=t,e.shapeFlag|=s}function Iu(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const n in o)if(n==="class")t.class!==o.class&&(t.class=Pe([t.class,o.class]));else if(n==="style")t.style=Ft([t.style,o.style]);else if(Gn(n)){const a=t[n],l=o[n];l&&a!==l&&!(be(a)&&a.includes(l))&&(t[n]=a?[].concat(a,l):l)}else n!==""&&(t[n]=o[n])}return t}function Rt(e,t,s,o=null){Tt(e,t,7,[s,o])}const ku=_o();let wu=0;function $u(e,t,s){const o=e.type,n=(t?t.appContext:e.appContext)||ku,a={uid:wu++,vnode:e,type:o,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new td(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Eo(o,n),emitsOptions:vo(o,n),emit:null,emitted:null,propsDefaults:we,inheritAttrs:o.inheritAttrs,ctx:we,data:we,props:we,attrs:we,slots:we,refs:we,setupState:we,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=bu.bind(null,a),e.ce&&e.ce(a),a}let tt=null;const Lu=()=>tt||ze;let ps,ni;{const e=Kn(),t=(s,o)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(o),a=>{n.length>1?n.forEach(l=>l(a)):n[0](a)}};ps=t("__VUE_INSTANCE_SETTERS__",s=>tt=s),ni=t("__VUE_SSR_SETTERS__",s=>kn=s)}const In=e=>{const t=tt;return ps(e),e.scope.on(),()=>{e.scope.off(),ps(t)}},$o=()=>{tt&&tt.scope.off(),ps(null)};function Lo(e){return e.vnode.shapeFlag&4}let kn=!1;function Du(e,t=!1,s=!1){t&&ni(t);const{props:o,children:n}=e.vnode,a=Lo(e);ru(e,o,a,t),uu(e,n,s||t);const l=a?Uu(e,t):void 0;return t&&ni(!1),l}function Uu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Qd);const{setup:o}=s;if(o){bt();const n=e.setupContext=o.length>1?Xu(e):null,a=In(e),l=an(o,e,0,[e.props,n]),u=hi(l);if(At(),a(),(u||e.sp)&&!cn(e)&&Zi(e),u){if(l.then($o,$o),t)return l.then(p=>{Do(e,p)}).catch(p=>{ts(p,e,0)});e.asyncDep=l}else Do(e,l)}else Uo(e)}function Do(e,t,s){Te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Le(t)&&(e.setupState=Vi(t)),Uo(e)}function Uo(e,t,s){const o=e.type;e.render||(e.render=o.render||Ct);{const n=In(e);bt();try{Zd(e)}finally{At(),n()}}}const Yu={get(e,t){return qe(e,"get",""),e[t]}};function Xu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Yu),slots:e.slots,emit:e.emit,expose:t}}function _s(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Vi(Ad(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in xn)return xn[s](e)},has(t,s){return s in t||s in xn}})):e.proxy}const Fu=/(?:^|[-_])\w/g,Gu=e=>e.replace(Fu,t=>t.toUpperCase()).replace(/[-_]/g,"");function Vu(e,t=!0){return Te(e)?e.displayName||e.name:e.name||t&&e.__name}function Yo(e,t,s=!1){let o=Vu(t);if(!o&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(o=n[1])}if(!o&&e&&e.parent){const n=a=>{for(const l in a)if(a[l]===t)return l};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?Gu(o):s?"App":"Anonymous"}function Hu(e){return Te(e)&&"__vccOpts"in e}const Ee=(e,t)=>xd(e,t,kn),Bu="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let si;const Xo=typeof window!="undefined"&&window.trustedTypes;if(Xo)try{si=Xo.createPolicy("vue",{createHTML:e=>e})}catch(e){}const Fo=si?e=>si.createHTML(e):e=>e,Ku="http://www.w3.org/2000/svg",ju="http://www.w3.org/1998/Math/MathML",Lt=typeof document!="undefined"?document:null,Go=Lt&&Lt.createElement("template"),Ju={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const n=t==="svg"?Lt.createElementNS(Ku,e):t==="mathml"?Lt.createElementNS(ju,e):s?Lt.createElement(e,{is:s}):Lt.createElement(e);return e==="select"&&o&&o.multiple!=null&&n.setAttribute("multiple",o.multiple),n},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,n,a){const l=s?s.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===a||!(n=n.nextSibling)););else{Go.innerHTML=Fo(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const u=Go.content;if(o==="svg"||o==="mathml"){const p=u.firstChild;for(;p.firstChild;)u.appendChild(p.firstChild);u.removeChild(p)}t.insertBefore(u,s)}return[l?l.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Wu=Symbol("_vtc");function qu(e,t,s){const o=e[Wu];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const fs=Symbol("_vod"),Vo=Symbol("_vsh"),zu={name:"show",beforeMount(e,{value:t},{transition:s}){e[fs]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):wn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),wn(e,!0),o.enter(e)):o.leave(e,()=>{wn(e,!1)}):wn(e,t))},beforeUnmount(e,{value:t}){wn(e,t)}};function wn(e,t){e.style.display=t?e[fs]:"none",e[Vo]=!t}const Qu=Symbol(""),Zu=/(?:^|;)\s*display\s*:/;function ep(e,t,s){const o=e.style,n=Ve(s);let a=!1;if(s&&!n){if(t)if(Ve(t))for(const l of t.split(";")){const u=l.slice(0,l.indexOf(":")).trim();s[u]==null&&ms(o,u,"")}else for(const l in t)s[l]==null&&ms(o,l,"");for(const l in s)l==="display"&&(a=!0),ms(o,l,s[l])}else if(n){if(t!==s){const l=o[Qu];l&&(s+=";"+l),o.cssText=s,a=Zu.test(s)}}else t&&e.removeAttribute("style");fs in e&&(e[fs]=a?o.display:"",e[Vo]&&(o.display="none"))}const Ho=/\s*!important$/;function ms(e,t,s){if(be(s))s.forEach(o=>ms(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=tp(e,t);Ho.test(s)?e.setProperty(Yt(o),s.replace(Ho,""),"important"):e[o]=s}}const Bo=["Webkit","Moz","ms"],ii={};function tp(e,t){const s=ii[t];if(s)return s;let o=Ut(t);if(o!=="filter"&&o in e)return ii[t]=o;o=Si(o);for(let n=0;n<Bo.length;n++){const a=Bo[n]+o;if(a in e)return ii[t]=a}return t}const Ko="http://www.w3.org/1999/xlink";function jo(e,t,s,o,n,a=Zc(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ko,t.slice(6,t.length)):e.setAttributeNS(Ko,t,s):s==null||a&&!Ai(s)?e.removeAttribute(t):e.setAttribute(t,a?"":ft(s)?String(s):s)}function Jo(e,t,s,o,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?Fo(s):s);return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?e.getAttribute("value")||"":e.value,p=s==null?e.type==="checkbox"?"on":"":String(s);(u!==p||!("_value"in e))&&(e.value=p),s==null&&e.removeAttribute(t),e._value=s;return}let l=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Ai(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{e[t]=s}catch(u){}l&&e.removeAttribute(n||t)}function Bt(e,t,s,o){e.addEventListener(t,s,o)}function np(e,t,s,o){e.removeEventListener(t,s,o)}const Wo=Symbol("_vei");function sp(e,t,s,o,n=null){const a=e[Wo]||(e[Wo]={}),l=a[t];if(o&&l)l.value=o;else{const[u,p]=ip(t);if(o){const S=a[t]=rp(o,n);Bt(e,u,S,p)}else l&&(np(e,u,l,p),a[t]=void 0)}}const qo=/(?:Once|Passive|Capture)$/;function ip(e){let t;if(qo.test(e)){t={};let o;for(;o=e.match(qo);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Yt(e.slice(2)),t]}let oi=0;const op=Promise.resolve(),ap=()=>oi||(op.then(()=>oi=0),oi=Date.now());function rp(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;Tt(lp(o,s.value),t,5,[o])};return s.value=e,s.attached=ap(),s}function lp(e,t){if(be(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>n=>!n._stopped&&o&&o(n))}else return t}const zo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,cp=(e,t,s,o,n,a)=>{const l=n==="svg";t==="class"?qu(e,o,l):t==="style"?ep(e,s,o):Gn(t)?ys(t)||sp(e,t,s,o,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dp(e,t,o,l))?(Jo(e,t,o),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jo(e,t,o,l,a,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ve(o))?Jo(e,Ut(t),o,a,t):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),jo(e,t,o,l))};function dp(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&zo(t)&&Te(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return zo(t)&&Ve(s)?!1:t in e}const pn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return be(t)?s=>Hn(t,s):t};function up(e){e.target.composing=!0}function Qo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dt=Symbol("_assign"),ce={created(e,{modifiers:{lazy:t,trim:s,number:o}},n){e[Dt]=pn(n);const a=o||n.props&&n.props.type==="number";Bt(e,t?"change":"input",l=>{if(l.target.composing)return;let u=e.value;s&&(u=u.trim()),a&&(u=Bn(u)),e[Dt](u)}),s&&Bt(e,"change",()=>{e.value=e.value.trim()}),t||(Bt(e,"compositionstart",up),Bt(e,"compositionend",Qo),Bt(e,"change",Qo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:n,number:a}},l){if(e[Dt]=pn(l),e.composing)return;const u=(a||e.type==="number")&&!/^0\d/.test(e.value)?Bn(e.value):e.value,p=t==null?"":t;u!==p&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||n&&e.value.trim()===p)||(e.value=p))}},_t={deep:!0,created(e,t,s){e[Dt]=pn(s),Bt(e,"change",()=>{const o=e._modelValue,n=$n(e),a=e.checked,l=e[Dt];if(be(o)){const u=vs(o,n),p=u!==-1;if(a&&!p)l(o.concat(n));else if(!a&&p){const S=[...o];S.splice(u,1),l(S)}}else if(nn(o)){const u=new Set(o);a?u.add(n):u.delete(n),l(u)}else l(ta(e,a))})},mounted:Zo,beforeUpdate(e,t,s){e[Dt]=pn(s),Zo(e,t,s)}};function Zo(e,{value:t,oldValue:s},o){e._modelValue=t;let n;if(be(t))n=vs(t,o.props.value)>-1;else if(nn(t))n=t.has(o.props.value);else{if(t===s)return;n=En(t,ta(e,!0))}e.checked!==n&&(e.checked=n)}const ht={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const n=nn(t);Bt(e,"change",()=>{const a=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>s?Bn($n(l)):$n(l));e[Dt](e.multiple?n?new Set(a):a:a[0]),e._assigning=!0,Ki(()=>{e._assigning=!1})}),e[Dt]=pn(o)},mounted(e,{value:t}){ea(e,t)},beforeUpdate(e,t,s){e[Dt]=pn(s)},updated(e,{value:t}){e._assigning||ea(e,t)}};function ea(e,t){const s=e.multiple,o=be(t);if(!(s&&!o&&!nn(t))){for(let n=0,a=e.options.length;n<a;n++){const l=e.options[n],u=$n(l);if(s)if(o){const p=typeof u;p==="string"||p==="number"?l.selected=t.some(S=>String(S)===String(u)):l.selected=vs(t,u)>-1}else l.selected=t.has(u);else if(En($n(l),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $n(e){return"_value"in e?e._value:e.value}function ta(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const pp=["ctrl","shift","alt","meta"],_p={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>pp.some(s=>e[`${s}Key`]&&!t.includes(s))},gt=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(n,...a)=>{for(let l=0;l<t.length;l++){const u=_p[t[l]];if(u&&u(n,t))return}return e(n,...a)})},fp={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zt=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=n=>{if(!("key"in n))return;const a=Yt(n.key);if(t.some(l=>l===a||fp[l]===a))return e(n)})},mp=Qe({patchProp:cp},Ju);let na;function hp(){return na||(na=_u(mp))}const gp=(...e)=>{const t=hp().createApp(...e),{mount:s}=t;return t.mount=o=>{const n=Sp(o);if(!n)return;const a=t._component;!Te(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const l=s(n,!1,Ep(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),l},t};function Ep(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Sp(e){return Ve(e)?document.querySelector(e):e}const xt=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},Cp={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},bp={key:0,class:"nxp-ec-admin-error"},Ap={class:"nxp-ec-admin-error__title"},Tp={class:"nxp-ec-admin-error__body"};function yp(e,t,s,o,n,a){return R(),v("div",null,[n.error?(R(),v("div",bp,[i("h2",Ap,d(a.fallbackTitle),1),i("p",Tp,d(a.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...l)=>a.reload&&a.reload(...l))},d(a.reloadLabel),1)])):zd(e.$slots,"default",{key:1})])}const Op=xt(Cp,[["render",yp]]),Rp={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},xp={class:"nxp-ec-admin-panel__header"},vp={class:"nxp-ec-admin-panel__title"},Np={class:"nxp-ec-admin-panel__lead"},Pp={class:"nxp-ec-admin-panel__actions"},Mp=["disabled"],Ip={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},kp={key:1,class:"nxp-ec-dashboard"},wp={class:"nxp-ec-dashboard__metrics"},$p={class:"nxp-ec-dashboard__card"},Lp={class:"nxp-ec-dashboard__value"},Dp={class:"nxp-ec-dashboard__hint"},Up={class:"nxp-ec-dashboard__card"},Yp={class:"nxp-ec-dashboard__value"},Xp={class:"nxp-ec-dashboard__hint"},Fp={class:"nxp-ec-dashboard__card"},Gp={class:"nxp-ec-dashboard__value"},Vp={class:"nxp-ec-dashboard__hint"},Hp={class:"nxp-ec-dashboard__card"},Bp={class:"nxp-ec-dashboard__value"},Kp={class:"nxp-ec-dashboard__hint"},jp={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Jp={class:"nxp-ec-dashboard__checklist-header"},Wp={id:"dashboard-checklist-heading"},qp={class:"nxp-ec-dashboard__checklist-progress"},zp={class:"nxp-ec-dashboard__checklist-list"},Qp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Zp={key:0,class:"fa-solid fa-circle-check"},e_={key:1,class:"fa-regular fa-circle"},t_={class:"nxp-ec-dashboard__checklist-label"},n_=["href","title"],s_={class:"nxp-ec-sr-only"},i_=xt({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,o=s.translate,n=s.state,a=Ee(()=>{var c;const m=(c=n.summary)==null?void 0:c.currency;return typeof m=="string"&&m.trim()!==""?m.trim():"USD"}),l=(m=0)=>{const c=(Number(m)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:a.value}).format(c)}catch(C){return`${a.value} ${c.toFixed(2)}`}},u=Ee(()=>Array.isArray(n.checklist)?n.checklist:[]),p=Ee(()=>u.value.filter(m=>m.completed).length),S=m=>{switch(m){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return m}};return(m,c)=>(R(),v("section",Rp,[i("header",xp,[i("div",null,[i("h2",vp,d(r(o)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",Np,d(r(o)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",Pp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:c[0]||(c[0]=C=>m.$emit("refresh")),disabled:r(n).loading},d(r(o)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,Mp)])]),r(n).error?(R(),v("div",Ip,d(r(n).error),1)):(R(),v("div",kp,[i("div",wp,[i("article",$p,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",Lp,d(r(n).summary.products.active),1),i("p",Dp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(r(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",Up,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",Yp,d(l(r(n).summary.orders.revenue_today)),1),i("p",Xp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(r(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",Fp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",Gp,d(r(n).summary.customers.total),1),i("p",Vp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",Hp,[i("h3",null,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Bp,d(l(r(n).summary.orders.revenue_month)),1),i("p",Kp,d(r(o)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[a.value.value],"dashboardMetricCurrency")),1)])]),i("section",jp,[i("header",Jp,[i("h3",Wp,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",qp,d(p.value)+" / "+d(u.value.length),1)]),i("ul",zp,[(R(!0),v(Ae,null,Re(u.value,C=>(R(),v("li",{key:C.id,class:Pe({"is-complete":C.completed})},[i("span",Qp,[C.completed?(R(),v("span",Zp)):(R(),v("span",e_))]),i("span",t_,d(r(o)(C.label,S(C.label))),1),C.link?(R(),v("a",{key:0,href:C.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",s_,d(r(o)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,n_)):pe("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),o_={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},a_={id:"nxp-ec-products-caption",class:"visually-hidden"},r_={scope:"col"},l_={scope:"col"},c_={scope:"col"},d_={scope:"col"},u_={scope:"col"},p_={scope:"col"},__={scope:"col"},f_={scope:"col"},m_={scope:"col",class:"nxp-ec-admin-table__actions"},h_={key:0},g_={colspan:"8",class:"nxp-ec-admin-table__empty"},E_=["data-label"],S_={class:"nxp-ec-admin-table__primary"},C_={class:"nxp-ec-products-table__title"},b_={class:"nxp-ec-products-table__slug"},A_={key:0,class:"nxp-ec-products-table__badge"},T_={class:"nxp-ec-status nxp-ec-status--featured"},y_=["data-label"],O_={key:0},R_={key:1},x_=["data-label"],v_=["data-label"],N_=["data-label"],P_={key:0},M_={key:1},I_=["data-label"],k_=["disabled","aria-pressed","title","aria-label","onClick"],w_={class:"nxp-ec-sr-only"},$_=["data-label"],L_={class:"nxp-ec-admin-table__actions"},D_=["onClick","title","aria-label"],U_={class:"nxp-ec-sr-only"},Y_=["onClick","title","aria-label"],X_={class:"nxp-ec-sr-only"},ai=1,Ln=-1,ri=0,F_={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,o=Ee(()=>(t.baseCurrency||"USD").toUpperCase()),n=(m,c=!1)=>{const C=Number(m);if(Number.isFinite(C))return C===Ln?Ln:C===ri?ri:ai;if(c)return Ln;if(typeof m=="string"){const x=m.trim().toLowerCase();if(x==="out_of_stock"||x==="out-of-stock"||x==="-1")return Ln;if(x==="inactive"||x==="0")return ri}return ai},a=m=>{var L;const c=n((L=m==null?void 0:m.status)!=null?L:m==null?void 0:m.active,m==null?void 0:m.out_of_stock),C=c===ai,x=c===Ln;return{status:c,isActive:C,isOutOfStock:x,label:C?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):x?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:C?"nxp-ec-status--active":x?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:C?"fa-solid fa-circle-check":x?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},l=m=>{var w,$,P,D;const c=($=(w=m==null?void 0:m.summary)==null?void 0:w.variants)!=null?$:{};if(c.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const C=Number.isFinite(c.price_min_cents)?c.price_min_cents:null,x=Number.isFinite(c.price_max_cents)?c.price_max_cents:null;if(C===null)return"";const L=c.currency||((D=(P=m==null?void 0:m.variants)==null?void 0:P[0])==null?void 0:D.currency)||o.value;return x===null||x===C?S(C,L):`${S(C,L)}  ${S(x,L)}`},u=m=>{var x,L;const c=(L=(x=m==null?void 0:m.summary)==null?void 0:x.variants)!=null?L:{},C=Number.isFinite(c.count)?c.count:Array.isArray(m==null?void 0:m.variants)?m.variants.length:0;return C===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(C)])},p=m=>{if(!Array.isArray(m)||!m.length)return"";const c=m.map(L=>(L==null?void 0:L.title)||(L==null?void 0:L.slug)).filter(L=>!!L);if(!c.length)return"";if(c.length<=3)return c.join(", ");const C=c.slice(0,3).join(", "),x=c.length-3;return`${C} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(x)])}`},S=(m,c)=>`${(m/100).toFixed(2)} ${c}`;return(m,c)=>(R(),v("table",o_,[i("caption",a_,d(r(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",r_,d(r(s)("JGRID_HEADING_ID","ID")),1),i("th",l_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",c_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",d_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",u_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",p_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",__,d(r(s)("JSTATUS","Status")),1),i("th",f_,d(r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",m_,d(r(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?pe("",!0):(R(),v("tr",h_,[i("td",g_,d(r(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(R(!0),v(Ae,null,Re(e.items,C=>{var x,L,w,$,P,D,K,Y,E,j,ne,de;return R(),v("tr",{key:C.id},[i("td",{"data-label":r(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},d(C.id),9,E_),i("td",S_,[i("div",C_,d(C.title),1),i("div",b_,d(C.slug),1),C.featured?(R(),v("div",A_,[i("span",T_,[c[0]||(c[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),Me(" "+d(r(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):pe("",!0)]),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[l(C)?(R(),v("span",O_,d(l(C)),1)):(R(),v("span",R_,d(r(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,y_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},d(u(C)),9,x_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[i("span",{class:Pe(["nxp-ec-status",(L=(x=C.summary)==null?void 0:x.variants)!=null&&L.stock_zero?"nxp-ec-status--danger":($=(w=C.summary)==null?void 0:w.variants)!=null&&$.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(D=(P=C.summary)==null?void 0:P.variants)!=null&&D.stock_zero||((Y=(K=C.summary)==null?void 0:K.variants)==null?void 0:Y.stock_total)===0?(R(),v(Ae,{key:0},[Me(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(R(),v(Ae,{key:1},[Me(d(r(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((ne=(j=(E=C.summary)==null?void 0:E.variants)==null?void 0:j.stock_total)!=null?ne:0)])),1)],64))],2)],8,v_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(de=C.categories)!=null&&de.length?(R(),v("span",P_,d(p(C.categories)),1)):(R(),v("span",M_,d(r(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,N_),i("td",{"data-label":r(s)("JSTATUS","Status")},[i("button",{type:"button",class:Pe(["nxp-ec-status","nxp-ec-status-button",a(C).className]),disabled:e.saving,"aria-pressed":a(C).isActive?"true":"false",title:a(C).title,"aria-label":a(C).title,onClick:Se=>m.$emit("toggle-active",C)},[i("i",{class:Pe(a(C).icon),"aria-hidden":"true"},null,2),Me(" "+d(a(C).label)+" ",1),i("span",w_,d(r(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,k_)],8,I_),i("td",{"data-label":r(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},d(C.modified||C.created),9,$_),i("td",L_,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Se=>m.$emit("edit",C),title:r(s)("JGLOBAL_EDIT","Edit"),"aria-label":r(s)("JGLOBAL_EDIT","Edit")},[c[1]||(c[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",U_,d(r(s)("JGLOBAL_EDIT","Edit")),1)],8,D_),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Se=>m.$emit("delete",C),title:r(s)("JTRASH","Delete"),"aria-label":r(s)("JTRASH","Delete")},[c[2]||(c[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",X_,d(r(s)("JTRASH","Delete")),1)],8,Y_)])])}),128))])]))}},G_={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},V_={class:"nxp-ec-modal__dialog"},H_={class:"nxp-ec-modal__header"},B_={class:"nxp-ec-modal__title"},K_={class:"nxp-ec-modal__header-actions"},j_=["disabled","title","aria-label"],J_={class:"nxp-ec-sr-only"},W_=["disabled","title","aria-label"],q_={class:"nxp-ec-sr-only"},z_=["aria-label"],Q_={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Z_={class:"nxp-ec-form-field"},ef={class:"nxp-ec-form-label",for:"product-title"},tf={class:"nxp-ec-form-field"},nf={class:"nxp-ec-form-label",for:"product-slug"},sf=["placeholder"],of={class:"nxp-ec-form-field"},af={class:"nxp-ec-form-label",for:"product-short-desc"},rf={class:"nxp-ec-form-field"},lf={class:"nxp-ec-form-label",for:"product-long-desc"},cf={class:"nxp-ec-form-field"},df={class:"nxp-ec-form-label",for:"product-status"},uf={value:1},pf={value:-1},_f={value:0},ff={class:"nxp-ec-form-help"},mf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},hf={class:"nxp-ec-form-label",for:"product-featured"},gf={class:"nxp-ec-form-help"},Ef={class:"nxp-ec-form-field"},Sf={class:"nxp-ec-form-label",for:"product-images"},Cf={id:"product-images",class:"nxp-ec-image-list"},bf=["id","onUpdate:modelValue","placeholder"],Af={class:"nxp-ec-image-row__actions"},Tf=["onClick"],yf=["onClick","disabled"],Of=["onClick","disabled"],Rf=["onClick","aria-label"],xf={class:"nxp-ec-form-help"},vf={class:"nxp-ec-form-field"},Nf={class:"nxp-ec-form-label",for:"product-category-select"},Pf=["value"],Mf={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},If=["onClick","aria-label"],kf={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},wf=["onKeydown","placeholder"],$f={class:"nxp-ec-form-help"},Lf={class:"nxp-ec-variant-section"},Df={class:"nxp-ec-variant-section__header"},Uf={class:"nxp-ec-variant-section__title"},Yf={class:"nxp-ec-form-help"},Xf={class:"nxp-ec-variant-card__header"},Ff={class:"nxp-ec-variant-card__title"},Gf=["onClick"],Vf=["onClick","disabled"],Hf={class:"nxp-ec-variant-card__grid"},Bf={class:"nxp-ec-form-field"},Kf=["for"],jf=["id","onUpdate:modelValue"],Jf={class:"nxp-ec-form-field"},Wf=["for"],qf=["id","onUpdate:modelValue","onBlur"],zf={class:"nxp-ec-form-field"},Qf=["for"],Zf=["id","onUpdate:modelValue"],em={class:"nxp-ec-form-field"},tm=["for"],nm=["id","onUpdate:modelValue"],sm={class:"nxp-ec-form-field nxp-ec-form-field--inline"},im=["for"],om=["id","onUpdate:modelValue"],am={class:"nxp-ec-variant-options"},rm={class:"nxp-ec-variant-options__header"},lm={class:"nxp-ec-variant-options__title"},cm=["onClick"],dm={class:"nxp-ec-form-help"},um=["id","onUpdate:modelValue","placeholder"],pm=["id","onUpdate:modelValue","placeholder"],_m=["onClick","aria-label"],fm={class:"nxp-ec-modal__actions"},mm=["disabled"],hm=["disabled"],sa="product-editor-form",gm=xt({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ee(()=>(s.baseCurrency||"USD").toUpperCase()),l=A=>{var f,g,b,T,I,J,V,ae;if(A==null)return null;if(typeof A=="string"){const le=A.trim();return le===""?null:{id:0,title:le,slug:""}}if(typeof A=="object"){const le=Number.parseInt((g=(f=A.id)!=null?f:A.value)!=null?g:0,10)||0,ge=(V=(J=(I=(T=(b=A.title)!=null?b:A.name)!=null?T:A.text)!=null?I:A.label)!=null?J:A.slug)!=null?V:"",Oe=String(ge!=null?ge:"").trim(),ve=String((ae=A.slug)!=null?ae:"").trim(),ke=A.parent_id!==null&&A.parent_id!==void 0&&Number.parseInt(A.parent_id,10)||null;return le<=0&&Oe===""?null:{id:le>0?le:0,title:Oe!==""?Oe:ve,slug:ve,parent_id:ke}}return null},u=A=>{const f=Number(A);if(Number.isFinite(f))return f===-1?-1:f===0?0:1;if(typeof A=="string"){const g=A.trim().toLowerCase();if(g==="out_of_stock"||g==="out-of-stock"||g==="-1")return-1;if(g==="inactive"||g==="0")return 0}return 1},p=$e({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[]}),S=He(""),m=He(!1),c=(A,f,g=new Set)=>{if(!A||g.has(A))return 0;g.add(A);const b=f.find(T=>T.id===A);return!b||!b.parent_id?0:1+c(b.parent_id,f,g)},C=A=>{if(!A)return"";const f=Array.isArray(s.categoryOptions)?s.categoryOptions:[],g=c(A.id,f);return g===0?A.title:"".repeat(g)+" "+A.title},x=Ee(()=>{const f=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(l).filter(I=>I&&I.id>0&&I.title!==""),g=new Map;f.forEach(I=>{g.set(I.id,I)}),p.categories.forEach(I=>{var J;I.id>0&&I.title&&!g.has(I.id)&&g.set(I.id,{id:I.id,title:I.title,slug:(J=I.slug)!=null?J:"",parent_id:I.parent_id!==null&&I.parent_id!==void 0?I.parent_id:null})});const b=Array.from(g.values()),T=(I=null,J=0)=>b.filter(V=>V.parent_id===I).sort((V,ae)=>V.title.localeCompare(ae.title)).flatMap(V=>[V,...T(V.id,J+1)]);return T()}),L=Ee(()=>{const A=new Map;return x.value.forEach(f=>{var g;A.set(f.id,{title:f.title,slug:(g=f.slug)!=null?g:""})}),A}),w=Ee({get:()=>p.categories.filter(f=>f&&f.id>0).map(f=>f.id),set:A=>{const f=Array.isArray(A)?A:[],g=Array.from(new Set(f.map(I=>Number.parseInt(I!=null?I:0,10)||0).filter(I=>I>0))),b=p.categories.filter(I=>!(I.id>0)),T=g.map(I=>{const J=L.value.get(I),V=p.categories.find(ge=>ge.id===I),ae=(J==null?void 0:J.title)||(V==null?void 0:V.title)||"",le=(J==null?void 0:J.slug)||(V==null?void 0:V.slug)||"";return ae===""?null:{id:I,title:ae,slug:le}}).filter(I=>I!==null);p.categories.splice(0,p.categories.length,...T,...b)}}),$=Ee(()=>s.product&&s.product.id?"edit":"create"),P=()=>({id:0,sku:"",price:"",currency:a.value,stock:0,weight:"",active:!0,options:[]}),D=()=>({name:"",value:""}),K=A=>A?A.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",Y=()=>{m.value=!0,p.slug=K(p.slug)},E=A=>{const g=(Array.isArray(A)?A:[]).map(l).filter(I=>I&&(I.id>0||I.title!=="")),b=new Set,T=[];g.forEach(I=>{const J=I.id>0?`id:${I.id}`:`title:${I.title.toLowerCase()}`;b.has(J)||(b.add(J),T.push(I))}),p.categories.splice(0,p.categories.length,...T)},j=A=>{p.variants.splice(0,p.variants.length,...A)},ne=A=>{p.images.splice(0,p.images.length,...A)},de=A=>Array.isArray(A)?A.map(f=>{var g,b,T;return{name:String((b=(g=f==null?void 0:f.name)!=null?g:f==null?void 0:f.key)!=null?b:"").trim(),value:String((T=f==null?void 0:f.value)!=null?T:"").trim()}}):A&&typeof A=="object"?Object.entries(A).map(([f,g])=>({name:String(f!=null?f:"").trim(),value:String(g!=null?g:"").trim()})):[],Se=A=>!Array.isArray(A)||A.length===0?[P()]:A.map(f=>{var g,b,T,I;return{id:Number.parseInt((g=f==null?void 0:f.id)!=null?g:0,10)||0,sku:String((b=f==null?void 0:f.sku)!=null?b:"").trim(),price:(f==null?void 0:f.price)!=null?String(f.price):Number.isFinite(f==null?void 0:f.price_cents)?(f.price_cents/100).toFixed(2):"",currency:String((T=f==null?void 0:f.currency)!=null?T:a.value).toUpperCase(),stock:Number.parseInt((I=f==null?void 0:f.stock)!=null?I:0,10)||0,weight:(f==null?void 0:f.weight)!=null?String(f.weight):"",active:(f==null?void 0:f.active)!==void 0?!!f.active:!0,options:de(f==null?void 0:f.options)}}),W=A=>{var T,I,J,V;const f=A?JSON.parse(JSON.stringify(A)):{};p.title=(T=f.title)!=null?T:"",p.slug=(I=f.slug)!=null?I:"",p.short_desc=(J=f.short_desc)!=null?J:"",p.long_desc=(V=f.long_desc)!=null?V:"",p.status=u(f.status!==void 0?f.status:f.active),p.featured=f.featured!==void 0?!!f.featured:!1;const g=Array.isArray(f.images)?f.images.map(ae=>String(ae!=null?ae:"").trim()).filter(Boolean):[];ne(g);const b=Array.isArray(f.categories)?f.categories:[];E(b),S.value="",j(Se(f.variants)),m.value=!!p.slug};Fe(()=>s.product,A=>{W(A)},{immediate:!0}),Fe(()=>p.title,A=>{m.value||(p.slug=K(A))}),Fe(a,A=>{p.variants.forEach(f=>{f.currency=A})});const B=()=>{const A=S.value.trim();if(!A)return;const f=A.toLowerCase(),g=p.categories.slice();g.some(T=>T.title.toLowerCase()===f)||(g.push({id:0,title:A,slug:""}),p.categories.splice(0,p.categories.length,...g)),S.value=""},q=A=>{if(A<0||A>=p.categories.length)return;const f=p.categories.slice();f.splice(A,1),p.categories.splice(0,p.categories.length,...f)},H=()=>{p.variants.push(P())},se=A=>{p.variants.length<=1||p.variants.splice(A,1)},me=A=>{const f=p.variants[A];f&&(Array.isArray(f.options)||(f.options=[]),f.options.push(D()))},ue=(A,f)=>{const g=p.variants[A];!g||!Array.isArray(g.options)||g.options.splice(f,1)},Z=(A,f)=>`${A.id||"new"}-${f}`,ie=A=>{const f=p.variants[A];if(!f)return;const g=JSON.parse(JSON.stringify(f));g.id=0,g.sku=[g.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),g.active=!0,p.variants.splice(A+1,0,g)},ee=A=>{const f=p.variants[A];if(!f)return;const g=Number.parseFloat(f.price);Number.isNaN(g)||(f.price=g.toFixed(2))};let _e=null,U=null,z=null,Q=null,re="";const he=()=>{Array.isArray(p.images)||(p.images=[])},fe=A=>{var T,I,J;if(!A)return"";let f=String(A).trim();if(f==="")return"";try{const V=(J=(I=(T=window.Joomla)==null?void 0:T.getOptions)==null?void 0:I.call(T,"system.paths",{}))!=null?J:{},ae=V.rootFull||window.location.origin,le=V.root||"/";f.startsWith(ae)&&(f=f.substring(ae.length)),f.startsWith(le)&&(f=f.substring(le.length))}catch(V){}const g=f.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);g&&g[1]&&(f=g[1]);const b=f.indexOf("#joomlaImage://");return b!==-1&&(f=f.substring(0,b)),f.trim()},Ce=(A,{keepIndex:f=!1,appendWhenNoIndex:g=!1,targetIndex:b=null}={})=>{const T=fe(A);if(T==="")return!1;he();const I=b!==null&&b>=0?b:Q;return I==null||Number.isNaN(I)?g?(p.images.push(T),f||(Q=null,re=""),!0):!1:(I>=p.images.length?p.images.push(T):p.images[I]=T,re=f?T:"",f||(Q=null,re=""),!0)},Ie=()=>{he(),p.images.push("")},k=A=>{he(),p.images.splice(A,1)},O=(A,f)=>{he();const g=p.images[A];if(g===void 0)return;const b=A+f;b<0||b>=p.images.length||(p.images.splice(A,1),p.images.splice(b,0,g))},N=A=>{var b;he();const f=(b=p.images[A])!=null?b:"";if(typeof window=="undefined")return;const g=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),f);Ce(g!=null?g:"",{targetIndex:A})},_=()=>{var I,J,V,ae,le,ge;const A=(s.mediaModalUrl||"").trim();if(A!=="")return A;const f=(V=(J=(I=window.Joomla)==null?void 0:I.getOptions)==null?void 0:J.call(I,"media-picker",{}))!=null?V:{};if(f.modalUrl)return f.modalUrl;const g=(ge=(le=(ae=window.Joomla)==null?void 0:ae.getOptions)==null?void 0:le.call(ae,"system.paths",{}))!=null?ge:{},b=g.rootFull||g.root||"";return(b?b.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},h=async()=>{var V,ae,le,ge,Oe,ve,ke,Ke,rt;if(_e)return _e;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(We){return null}const A=(le=(ae=(V=window.Joomla)==null?void 0:V.getOptions)==null?void 0:ae.call(V,"system.paths",{}))!=null?le:{},f=A.rootFull||A.root||"",g=(ve=(Oe=(ge=window.Joomla)==null?void 0:ge.getOptions)==null?void 0:Oe.call(ge,"com_media",{}))!=null?ve:{},b=(g==null?void 0:g.file_path)||"images",T=(rt=(Ke=(ke=window.Joomla)==null?void 0:ke.getOptions)==null?void 0:Ke.call(ke,"media-picker",{}))!=null?rt:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},J=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return U=document.createElement("div"),U.className="nxp-ec-media-picker-host",U.style.display="none",U.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${f.replace(/"/g,"&quot;")}"
            root-folder="${b.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${J}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(T).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(U),_e=U.querySelector("joomla-field-media"),z=U.querySelector(".nxp-ec-media-field__input"),_e.addEventListener("change",We=>{var lt,Pt,fn,mn,Qt,Xn;const Ye=(fn=(Pt=(lt=We.detail)==null?void 0:lt.value)!=null?Pt:z==null?void 0:z.value)!=null?fn:"";let Xe=fe(Ye);if(Xe===""&&re!==""&&(Xe=re),Xe===""&&((mn=window.Joomla)!=null&&mn.selectedMediaFile)){const di=fe((Qt=window.Joomla.selectedMediaFile.url)!=null?Qt:""),ui=fe((Xn=window.Joomla.selectedMediaFile.path)!=null?Xn:"");Xe=di||ui}Ce(Xe)}),_e.addEventListener("joomla-dialog:close",()=>{Q=null,re=""}),z&&z.addEventListener("change",()=>{var Ye,Xe,lt,Pt;if(Q===null)return;let We=fe((Ye=z.value)!=null?Ye:"");if(We===""&&re!==""&&(We=re),We===""&&((Xe=window.Joomla)!=null&&Xe.selectedMediaFile)){const fn=fe((lt=window.Joomla.selectedMediaFile.url)!=null?lt:""),mn=fe((Pt=window.Joomla.selectedMediaFile.path)!=null?Pt:"");We=fn||mn}We!==""&&Ce(We)}),_e},M=A=>{var I,J;const f=A==null?void 0:A.detail;if(!f||typeof f!="object")return;const g=fe((I=f.path)!=null?I:""),T=fe((J=f.url)!=null?J:"")||g;T===""||Q===null||(re=T,Ce(T,{keepIndex:!0}))};it(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",M)});const F=async A=>{var b;he();const f=await h();if(!f||typeof f.show!="function"){N(A);return}Q=A,f.setAttribute("url",_());const g=(b=p.images[A])!=null?b:"";typeof f.setValue=="function"?f.setValue(g):z&&(z.value=g);try{f.show()}catch(T){Q=null,re="",N(A)}};so(()=>{U&&U.parentNode&&U.parentNode.removeChild(U),_e=null,U=null,z=null,Q=null,re="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",M)});const y=()=>{var I,J;he();const A=Array.from(new Set(p.images.map(V=>String(V!=null?V:"").trim()).filter(V=>V!==""))),f=p.categories.map(V=>{var Oe,ve,ke;const ae=Number.parseInt((Oe=V==null?void 0:V.id)!=null?Oe:0,10)||0,le=String((ve=V==null?void 0:V.title)!=null?ve:"").trim(),ge=String((ke=V==null?void 0:V.slug)!=null?ke:"").trim();return ae>0?{id:ae,title:le,slug:ge}:le===""?null:{id:0,title:le,slug:""}}).filter(V=>V!==null),g=p.variants.map(V=>{const ae=Array.isArray(V.options)?V.options.map(Oe=>{var ve,ke;return{name:String((ve=Oe==null?void 0:Oe.name)!=null?ve:"").trim(),value:String((ke=Oe==null?void 0:Oe.value)!=null?ke:"").trim()}}).filter(Oe=>Oe.name!==""&&Oe.value!==""):[],le=Number.isFinite(Number(V.stock))?Math.max(0,parseInt(V.stock,10)):0,ge=V.weight!==null&&V.weight!==""?String(V.weight).trim():null;return{id:V.id||0,sku:V.sku.trim(),price:V.price!==null&&V.price!==void 0?String(V.price).trim():"",currency:V.currency?String(V.currency).trim().toUpperCase():a.value,stock:le,weight:ge,active:!!V.active,options:ae}}),b=u(p.status),T={title:p.title.trim(),slug:p.slug.trim(),short_desc:(I=p.short_desc)!=null?I:"",long_desc:(J=p.long_desc)!=null?J:"",status:b,active:b,featured:!!p.featured,images:A,categories:f,variants:g};o("submit",T)},G=()=>{o("cancel")};return Fe(()=>s.saving,(A,f)=>{f&&!A&&s.errors.length===0&&$.value==="create"&&(W(null),S.value="",m.value=!1)}),(A,f)=>e.open?(R(),v("div",G_,[f[10]||(f[10]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",V_,[i("header",H_,[i("h2",B_,d($.value==="edit"?r(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",K_,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:G,disabled:e.saving,title:r(n)("JCANCEL","Cancel"),"aria-label":r(n)("JCANCEL","Cancel")},[f[8]||(f[8]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",J_,d(r(n)("JCANCEL","Cancel")),1)],8,j_),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:sa,title:e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save"),"aria-label":e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")},[i("i",{class:Pe(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",q_,d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),1)],8,W_),i("button",{type:"button",class:"nxp-ec-modal__close",onClick:G,"aria-label":r(n)("JCLOSE","Close")},"  ",8,z_)])]),i("form",{id:sa,class:"nxp-ec-form",onSubmit:gt(y,["prevent"])},[e.errors.length?(R(),v("div",Q_,[(R(!0),v(Ae,null,Re(e.errors,(g,b)=>(R(),v("p",{key:b},d(g),1))),128))])):pe("",!0),i("div",Z_,[i("label",ef,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),te(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[0]||(f[0]=g=>p.title=g),required:""},null,512),[[ce,p.title,void 0,{trim:!0}]])]),i("div",tf,[i("label",nf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),te(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":f[1]||(f[1]=g=>p.slug=g),onInput:Y,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,sf),[[ce,p.slug,void 0,{trim:!0}]])]),i("div",of,[i("label",af,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),te(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":f[2]||(f[2]=g=>p.short_desc=g)},null,512),[[ce,p.short_desc]])]),i("div",rf,[i("label",lf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),te(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":f[3]||(f[3]=g=>p.long_desc=g)},null,512),[[ce,p.long_desc]])]),i("div",cf,[i("label",df,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),te(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":f[4]||(f[4]=g=>p.status=g)},[i("option",uf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",pf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",_f,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[ht,p.status,void 0,{number:!0}]]),i("p",ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",mf,[i("label",hf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),te(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":f[5]||(f[5]=g=>p.featured=g)},null,512),[[_t,p.featured]]),i("p",gf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)]),i("div",Ef,[i("label",Sf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",Cf,[(R(!0),v(Ae,null,Re(p.images,(g,b)=>(R(),v("div",{key:`product-image-${b}`,class:"nxp-ec-image-row"},[te(i("input",{id:`product-image-${b}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":T=>p.images[b]=T,placeholder:r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,bf),[[ce,p.images[b],void 0,{trim:!0}]]),i("div",Af,[i("button",{type:"button",class:"nxp-ec-btn",onClick:T=>F(b)},[f[9]||(f[9]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,Tf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>O(b,-1),disabled:b===0},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,yf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>O(b,1),disabled:b===p.images.length-1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,Of),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:T=>k(b),"aria-label":r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,Rf)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:Ie},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",xf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)]),i("div",vf,[i("label",Nf,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),te(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":f[6]||(f[6]=g=>w.value=g)},[(R(!0),v(Ae,null,Re(x.value,g=>(R(),v("option",{key:g.id,value:g.id},d(C(g)),9,Pf))),128))],512),[[ht,w.value]]),i("div",Mf,[(R(!0),v(Ae,null,Re(p.categories,(g,b)=>(R(),v("span",{key:`selected-category-${b}`,class:"nxp-ec-chip"},[Me(d(g.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:T=>q(b),"aria-label":r(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,If)]))),128))]),i("div",kf,[te(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":f[7]||(f[7]=g=>S.value=g),onKeydown:zt(gt(B,["prevent"]),["enter"]),placeholder:r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,wf),[[ce,S.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:B},d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",$f,d(r(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select categories or add a new one.",[],"productCategoriesHelp")),1)]),i("section",Lf,[i("header",Df,[i("h3",Uf,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:H},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",Yf,[Me(d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),a.value?(R(),v(Ae,{key:0},[Me(" ("+d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[a.value]))+") ",1)],64)):pe("",!0)]),(R(!0),v(Ae,null,Re(p.variants,(g,b)=>(R(),v("article",{key:Z(g,b),class:"nxp-ec-variant-card"},[i("header",Xf,[i("h4",Ff,d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(b+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>ie(b)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Gf),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:T=>se(b),disabled:p.variants.length<=1},d(r(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,Vf)]),i("div",Hf,[i("div",Bf,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${b}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,Kf),te(i("input",{id:`variant-sku-${b}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":T=>g.sku=T,required:""},null,8,jf),[[ce,g.sku,void 0,{trim:!0}]])]),i("div",Jf,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${b}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Wf),te(i("input",{id:`variant-price-${b}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":T=>g.price=T,onBlur:T=>ee(b),required:""},null,40,qf),[[ce,g.price,void 0,{trim:!0}]])]),i("div",zf,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${b}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,Qf),te(i("input",{id:`variant-stock-${b}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":T=>g.stock=T},null,8,Zf),[[ce,g.stock,void 0,{number:!0}]])]),i("div",em,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${b}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,tm),te(i("input",{id:`variant-weight-${b}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":T=>g.weight=T},null,8,nm),[[ce,g.weight,void 0,{trim:!0}]])]),i("div",sm,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${b}`},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,im),te(i("input",{id:`variant-active-${b}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":T=>g.active=T},null,8,om),[[_t,g.active]])])]),i("section",am,[i("header",rm,[i("h5",lm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:T=>me(b)},d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,cm)]),i("p",dm,d(r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(R(!0),v(Ae,null,Re(g.options,(T,I)=>(R(),v("div",{key:`variant-${b}-option-${I}`,class:"nxp-ec-variant-option-row"},[te(i("input",{id:`variant-${b}-option-name-${I}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":J=>T.name=J,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,um),[[ce,T.name,void 0,{trim:!0}]]),te(i("input",{id:`variant-${b}-option-value-${I}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":J=>T.value=J,placeholder:r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,pm),[[ce,T.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:J=>ue(b,I),"aria-label":r(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),9,_m)]))),128))])]))),128))]),i("footer",fm,[i("button",{type:"button",class:"nxp-ec-btn",onClick:G,disabled:e.saving},d(r(n)("JCANCEL","Cancel")),9,mm),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("JSAVE","Save")),9,hm)])],32)])])):pe("",!0)}},[["__scopeId","data-v-ecc75f68"]]),Em={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Sm={key:1,class:"nxp-ec-skeleton__table"},Cm={key:2,class:"nxp-ec-skeleton__card"},bm={key:3,class:"nxp-ec-skeleton__circle"};function Am(e,t,s,o,n,a){return R(),v("div",{class:Pe(["nxp-ec-skeleton",a.skeletonClasses])},[s.type==="text"?(R(),v("div",{key:0,class:"nxp-ec-skeleton__line",style:Ft({width:s.width})},null,4)):s.type==="table"?(R(),v("div",Sm,[(R(!0),v(Ae,null,Re(s.rows,l=>(R(),v("div",{key:l,class:"nxp-ec-skeleton__table-row"},[(R(!0),v(Ae,null,Re(s.columns,u=>(R(),v("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(R(),v("div",Cm,[...t[0]||(t[0]=[Mu('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(R(),v("div",bm)):(R(),v("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:Ft({width:s.width,height:s.height})},null,4))],2)}const Dn=xt(Em,[["render",Am],["__scopeId","data-v-c8b9a887"]]),Tm={class:"nxp-ec-admin-panel"},ym={class:"nxp-ec-admin-panel__header"},Om={class:"nxp-ec-admin-panel__title"},Rm={class:"nxp-ec-admin-panel__lead"},xm={class:"nxp-ec-admin-panel__actions"},vm=["placeholder","aria-label"],Nm=["disabled","title","aria-label"],Pm={class:"nxp-ec-sr-only"},Mm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Im={key:1,class:"nxp-ec-admin-panel__body"},km={key:2,class:"nxp-ec-admin-panel__body"},wm=["title"],Un=1,_n=-1,hs=0,$m={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=$e({mode:"create",product:null}),l=He(!1),u=Ee(()=>(s.baseCurrency||"USD").toUpperCase()),p=Ee(()=>a.product),S=Ee(()=>(s.mediaModalUrl||"").trim()),m=(E,j=!1)=>{const ne=Number(E);if(Number.isFinite(ne))return ne===_n?_n:ne===hs?hs:Un;if(j)return _n;if(typeof E=="string"){const de=E.trim().toLowerCase();if(de==="out_of_stock"||de==="out-of-stock"||de==="-1")return _n;if(de==="inactive"||de==="0")return hs}return Un},c=(E,j=!1)=>{const ne=m(E,j);return ne===Un?_n:ne===_n?hs:Un},C=()=>{s.state.validationErrors=[],s.state.error="",a.mode="create",a.product={title:"",slug:"",short_desc:"",long_desc:"",status:Un,active:!0,featured:!1,images:[],categories:[],variants:[]},l.value=!0},x=E=>{s.state.validationErrors=[],s.state.error="",a.mode="edit",a.product=JSON.parse(JSON.stringify(E)),l.value=!0},L=()=>{l.value=!1,s.state.validationErrors=[]},w=async E=>{var de,Se;const j=m((de=E.status)!=null?de:E.active,E.out_of_stock),ne={...E,status:j,active:j,featured:E.featured?1:0};a.mode==="edit"&&((Se=a.product)!=null&&Se.id)?o("update",{id:a.product.id,data:ne}):o("create",ne)},$=async E=>{var de;const j=(de=E==null?void 0:E.title)!=null?de:"",ne=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[j||"#"]);window.confirm(ne)&&o("delete",[E.id])},P=E=>{var q;if(!(E!=null&&E.id)||s.state.saving)return;const j=c((q=E.status)!=null?q:E.active,E.out_of_stock),ne=H=>H==null?"":String(H),de=(H,se=0)=>{const me=Number(H);return Number.isFinite(me)?me:se},Se=Array.isArray(E.variants)?E.variants.map(H=>{var ee,_e;if(!H)return null;const se=ne(H.sku).trim();if(!se)return null;let me=de(H.price_cents,Number.NaN);if(!Number.isFinite(me)){const U=ne(H.price),z=U?Number.parseFloat(U):NaN;me=Number.isFinite(z)?Math.round(z*100):NaN}if(!Number.isFinite(me))return null;const ue=ne((ee=H.currency)!=null?ee:u.value).trim().toUpperCase();if(!ue)return null;const Z=(_e=H.options)!=null?_e:null,ie=Math.max(0,Math.round(de(H.stock,0)));return{id:de(H.id,0),sku:se,price_cents:Math.round(me),currency:ue,stock:ie,options:Z!=null?Z:null,weight:H.weight!==null&&H.weight!==void 0&&H.weight!==""?String(H.weight):null,active:H.active===void 0?!0:!!H.active}}).filter(Boolean):[];if(!Se.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const W=Array.isArray(E.categories)?E.categories.map(H=>{if(H==null)return null;if(typeof H=="number")return H>0?{id:H,title:"",slug:""}:null;if(typeof H=="string"&&H.trim()!==""&&Number.isFinite(Number(H))){const me=Number(H);return me>0?{id:me,title:"",slug:""}:null}if(typeof H=="object"){if(H.id){const ue=de(H.id,0);return ue>0?{id:ue,title:"",slug:""}:null}return de(H.id,0)<=0&&!H.title?null:{id:0,title:ne(H.title),slug:ne(H.slug)}}const se=ne(H).trim();return se?{id:0,title:se,slug:""}:null}).filter(Boolean):[],B=Array.isArray(E.images)?E.images.map(H=>ne(H).trim()).map(H=>{var Z,ie,ee;let se=H;if(!se)return"";const me=se.indexOf("#joomlaImage://");me!==-1&&(se=se.substring(0,me));const ue=se.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(ue&&ue[1]&&(se=ue[1]),typeof window!="undefined")try{const _e=(ee=(ie=(Z=window.Joomla)==null?void 0:Z.getOptions)==null?void 0:ie.call(Z,"system.paths",{}))!=null?ee:{},U=_e.rootFull||window.location.origin,z=_e.root||"/";se.startsWith(U)&&(se=se.substring(U.length)),se.startsWith(z)&&(se=se.substring(z.length))}catch(_e){}return se.trim()}).filter(H=>H!==""):[];s.state.error="",o("update",{id:E.id,data:{title:ne(E.title),slug:ne(E.slug),short_desc:ne(E.short_desc),long_desc:ne(E.long_desc),status:j,active:j,featured:E.featured?1:0,images:B,variants:Se,categories:W}})},D=()=>{o("refresh")},K=()=>{o("search")},Y=E=>{if(!E)return"";try{const j=new Date(E),de=new Date-j,Se=Math.floor(de/1e3),W=Math.floor(Se/60),B=Math.floor(W/60);return Se<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):W<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[W]):B<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[B]):j.toLocaleString()}catch(j){return E}};return Fe(()=>s.state.saving,(E,j)=>{j&&!E&&l.value&&!s.state.validationErrors.length&&!s.state.error&&L()}),(E,j)=>(R(),v("section",Tm,[i("header",ym,[i("div",null,[i("h2",Om,d(r(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",Rm,d(r(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",xm,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":j[0]||(j[0]=ne=>e.state.search=ne),onKeyup:zt(K,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,vm),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:D,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[j[1]||(j[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Pm,d(r(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,Nm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:C},[j[2]||(j[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(R(),v("div",Mm,d(e.state.error),1)):pe("",!0),e.state.loading?(R(),v("div",Im,[Be(Dn,{type:"table",rows:5,columns:5})])):pe("",!0),e.state.loading?pe("",!0):(R(),v("div",km,[Be(F_,{items:e.state.items,translate:r(n),"base-currency":u.value,saving:e.state.saving,onEdit:x,onDelete:$,onToggleActive:P},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(Y(e.state.lastUpdated)),9,wm)):pe("",!0)])),Be(gm,{open:l.value,product:p.value,saving:e.state.saving,"base-currency":u.value,translate:r(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":S.value,onSubmit:w,onCancel:L},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url"])]))}},Lm={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},Dm={class:"nxp-ec-admin-panel__header"},Um={class:"nxp-ec-admin-panel__title"},Ym={class:"nxp-ec-admin-panel__lead"},Xm={class:"nxp-ec-admin-panel__actions"},Fm=["placeholder","aria-label"],Gm=["disabled","title","aria-label"],Vm={class:"nxp-ec-sr-only"},Hm={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Bm={key:1,class:"nxp-ec-admin-panel__body"},Km={key:2,class:"nxp-ec-admin-panel__body"},jm={class:"nxp-ec-admin-panel__table"},Jm={class:"nxp-ec-admin-table"},Wm={scope:"col"},qm={scope:"col"},zm={scope:"col"},Qm={scope:"col"},Zm={scope:"col"},eh={key:0},th={colspan:"6"},nh={scope:"row",class:"nxp-ec-admin-table__primary"},sh=["data-label"],ih=["data-label"],oh=["data-label"],ah=["data-label"],rh={class:"nxp-ec-admin-table__actions"},lh=["onClick","title","aria-label"],ch={class:"nxp-ec-sr-only"},dh=["disabled","onClick","title","aria-label"],uh={class:"nxp-ec-sr-only"},ph={key:0,class:"nxp-ec-admin-pagination"},_h=["disabled"],fh={class:"nxp-ec-admin-pagination__status"},mh=["disabled"],hh=["title"],gh={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Eh={class:"nxp-ec-modal__dialog"},Sh={class:"nxp-ec-modal__header"},Ch={class:"nxp-ec-modal__title"},bh=["title","aria-label"],Ah={class:"nxp-ec-sr-only"},Th={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},yh={class:"nxp-ec-form-field"},Oh={class:"nxp-ec-form-label",for:"category-title"},Rh={class:"nxp-ec-form-field"},xh={class:"nxp-ec-form-label",for:"category-slug"},vh={class:"nxp-ec-form-field"},Nh={class:"nxp-ec-form-label",for:"category-parent"},Ph={value:""},Mh=["value"],Ih={class:"nxp-ec-form-field"},kh={class:"nxp-ec-form-label",for:"category-sort"},wh={class:"nxp-ec-modal__actions"},$h=["disabled"],Lh={__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=He(!1),l=He(!1),u=He([]),p=W=>{const q=(Array.isArray(W)?W:[]).map(U=>{var z,Q,re,he,fe;return{...U,id:Number.parseInt((z=U==null?void 0:U.id)!=null?z:0,10)||0,parent_id:(U==null?void 0:U.parent_id)!=null&&Number.parseInt(U.parent_id,10)||0,sort:Number.parseInt((Q=U==null?void 0:U.sort)!=null?Q:0,10)||0,title:String((re=U==null?void 0:U.title)!=null?re:"").trim(),slug:String((he=U==null?void 0:U.slug)!=null?he:"").trim(),usage:(fe=U==null?void 0:U.usage)!=null?fe:0}}).filter(U=>U.id>0||U.title!==""),H=new Set(q.map(U=>U.id));q.forEach(U=>{H.has(U.parent_id)||(U.parent_id=0)});const se=new Map,me=new Map;q.forEach(U=>{me.set(U.id,U);const z=U.parent_id||0;se.has(z)||se.set(z,[]),se.get(z).push(U)});const ue=U=>U.sort((z,Q)=>{var re,he;return((re=z.sort)!=null?re:0)-((he=Q.sort)!=null?he:0)||z.title.localeCompare(Q.title,void 0,{sensitivity:"base"})});se.forEach(ue);const Z=new Set,ie=[],ee=(U,z,Q)=>{if(!U||Z.has(U.id)||Q.includes(U.id))return;const re=[...Q],he=re.map(Ie=>{var k;return(k=me.get(Ie))==null?void 0:k.title}).filter(Boolean),fe={...U,depth:z,path:he.join(" / "),ancestors:re,indentedTitle:z>0?`${" ".repeat(z)}${U.title}`:U.title};ie.push(fe),Z.add(U.id),(se.get(U.id)||[]).forEach(Ie=>ee(Ie,z+1,[...Q,U.id]))},_e=q.filter(U=>U.parent_id===0||!H.has(U.parent_id));return ue(_e),_e.forEach(U=>ee(U,0,[])),q.forEach(U=>{Z.has(U.id)||ee(U,0,[])}),ie},S=Ee(()=>{var W,B;return p((B=(W=s.state)==null?void 0:W.items)!=null?B:[])}),m=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),c=$e(m()),C=Ee(()=>{var B,q;const W=(q=Array.isArray(u.value)&&u.value.length?u.value:(B=s.state)==null?void 0:B.items)!=null?q:[];return p(W).filter(H=>H.id>0&&H.id!==c.id&&!(Array.isArray(H.ancestors)&&H.ancestors.includes(c.id))).map(H=>({id:H.id,title:H.title,label:H.depth>0?`${" ".repeat(H.depth)}${H.title}`:H.title}))}),x=()=>{Object.assign(c,m()),l.value=!1},L=W=>W?W.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",w=()=>{l.value=!0,c.slug=L(c.slug)};Fe(()=>c.title,W=>{l.value||(c.slug=L(W))});const $=async(W=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const B=await s.loadOptions();u.value=Array.isArray(B)?[...B]:[]}catch(B){u.value=[]}u.value=u.value.filter(B=>{var H,se;return(Number.parseInt((se=(H=B==null?void 0:B.id)!=null?H:B==null?void 0:B.value)!=null?se:0,10)||0)!==W})},P=async()=>{x(),await $(),a.value=!0},D=async W=>{var B,q,H,se;W&&(c.id=Number.parseInt((B=W.id)!=null?B:0,10)||0,c.title=String((q=W.title)!=null?q:"").trim(),c.slug=String((H=W.slug)!=null?H:"").trim(),c.parent_id=W.parent_id!=null&&Number.parseInt(W.parent_id,10)||null,c.sort=Number.parseInt((se=W.sort)!=null?se:0,10)||0,l.value=!!c.slug,await $(c.id),a.value=!0)},K=()=>{a.value=!1,x()},Y=()=>{o("refresh")},E=()=>{o("search")},j=W=>{o("page",W)},ne=()=>{const W={id:c.id||void 0,title:c.title.trim(),slug:c.slug.trim(),parent_id:c.parent_id||null,sort:Number.isFinite(c.sort)?c.sort:0};o("save",W)},de=W=>{if(!W||!W.id)return;const B=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(B)||o("delete",[W.id])},Se=W=>{if(!W)return"";try{const B=new Date(W),H=new Date-B,se=Math.floor(H/1e3),me=Math.floor(se/60),ue=Math.floor(me/60);return se<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):me<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[me]):ue<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ue]):B.toLocaleString()}catch(B){return W}};return Fe(()=>{var W;return(W=s.state)==null?void 0:W.saving},(W,B)=>{var q,H,se;B&&!W&&(((H=(q=s.state)==null?void 0:q.validationErrors)!=null?H:[]).length>0||(se=s.state)!=null&&se.error||(a.value=!1,x()))}),(W,B)=>(R(),v("section",Lm,[i("header",Dm,[i("div",null,[i("h2",Um,d(r(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",Ym,d(r(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",Xm,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":B[0]||(B[0]=q=>e.state.search=q),onKeyup:zt(E,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,Fm),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:Y,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[B[7]||(B[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Vm,d(r(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,Gm),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:P},[B[8]||(B[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(R(),v("div",Hm,d(e.state.error),1)):pe("",!0),e.state.loading?(R(),v("div",Bm,[Be(Dn,{type:"table",rows:5,columns:5})])):pe("",!0),e.state.loading?pe("",!0):(R(),v("div",Km,[i("div",jm,[i("table",Jm,[i("thead",null,[i("tr",null,[i("th",Wm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",qm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Qm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Zm,d(r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),B[9]||(B[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?pe("",!0):(R(),v("tr",eh,[i("td",th,d(r(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(R(!0),v(Ae,null,Re(S.value,q=>{var H;return R(),v("tr",{key:q.id,class:Pe({"is-active":c.id===q.id})},[i("th",nh,[i("span",{style:Ft({paddingLeft:`${q.depth*1.5}rem`})},d(q.indentedTitle),5)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},d(q.slug||""),9,sh),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},d(q.path||r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,ih),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},d(q.sort),9,oh),i("td",{"data-label":r(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},d((H=q.usage)!=null?H:0),9,ah),i("td",rh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:se=>D(q),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[B[10]||(B[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",ch,d(r(n)("JEDIT","Edit")),1)],8,lh),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:se=>de(q),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[B[11]||(B[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",uh,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,dh)])],2)}),128))])]),e.state.pagination.pages>1?(R(),v("div",ph,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:B[1]||(B[1]=q=>j(e.state.pagination.current-1))},"  ",8,_h),i("span",fh,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:B[2]||(B[2]=q=>j(e.state.pagination.current+1))},"  ",8,mh)])):pe("",!0)]),e.state.lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(Se(e.state.lastUpdated)),9,hh)):pe("",!0),a.value?(R(),v("div",gh,[i("div",{class:"nxp-ec-modal__backdrop",onClick:K}),i("div",Eh,[i("header",Sh,[i("h3",Ch,d(c.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-modal__close nxp-ec-btn--icon",type:"button",onClick:K,title:r(n)("JCLOSE","Close"),"aria-label":r(n)("JCLOSE","Close")},[B[12]||(B[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Ah,d(r(n)("JCLOSE","Close")),1)],8,bh)]),i("form",{class:"nxp-ec-form",onSubmit:gt(ne,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(R(),v("div",Th,[i("ul",null,[(R(!0),v(Ae,null,Re(e.state.validationErrors,(q,H)=>(R(),v("li",{key:H},d(q),1))),128))])])):pe("",!0),i("div",yh,[i("label",Oh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),te(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[3]||(B[3]=q=>c.title=q),required:"",maxlength:"255"},null,512),[[ce,c.title,void 0,{trim:!0}]])]),i("div",Rh,[i("label",xh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),te(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":B[4]||(B[4]=q=>c.slug=q),maxlength:"190",onInput:w},null,544),[[ce,c.slug,void 0,{trim:!0}]])]),i("div",vh,[i("label",Nh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),te(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":B[5]||(B[5]=q=>c.parent_id=q)},[i("option",Ph,d(r(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(R(!0),v(Ae,null,Re(C.value,q=>(R(),v("option",{key:q.id,value:q.id},d(q.label),9,Mh))),128))],512),[[ht,c.parent_id,void 0,{number:!0}]])]),i("div",Ih,[i("label",kh,d(r(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),te(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":B[6]||(B[6]=q=>c.sort=q),min:"0",step:"1"},null,512),[[ce,c.sort,void 0,{number:!0}]])]),i("footer",wh,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[B[13]||(B[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,$h),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:K},[B[14]||(B[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])])):pe("",!0)]))]))}},Dh={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},Uh={class:"nxp-ec-admin-panel__header"},Yh={class:"nxp-ec-admin-panel__title"},Xh={class:"nxp-ec-admin-panel__lead"},Fh={class:"nxp-ec-admin-panel__actions"},Gh=["placeholder","aria-label"],Vh=["aria-label"],Hh={value:""},Bh=["value"],Kh=["disabled","title","aria-label"],jh={class:"nxp-ec-sr-only"},Jh=["disabled","title","aria-label"],Wh={class:"nxp-ec-sr-only"},qh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},zh={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Qh={key:2,class:"nxp-ec-admin-panel__body"},Zh={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},eg={class:"nxp-ec-admin-panel__table"},tg={key:0,class:"nxp-ec-admin-panel__selection"},ng=["aria-label"],sg={value:""},ig=["value"],og=["disabled"],ag=["title","aria-label"],rg={class:"nxp-ec-sr-only"},lg={class:"nxp-ec-admin-table"},cg={scope:"col",class:"nxp-ec-admin-table__select"},dg={scope:"col"},ug={scope:"col"},pg={scope:"col"},_g={scope:"col"},fg={scope:"col"},mg={scope:"col",class:"nxp-ec-admin-table__actions"},hg={key:0},gg={colspan:"7"},Eg={class:"nxp-ec-admin-table__select"},Sg=["checked","onChange","aria-label"],Cg={scope:"row",class:"nxp-ec-admin-table__primary"},bg=["onClick"],Ag=["data-label"],Tg={class:"nxp-ec-admin-table__meta"},yg=["data-label"],Og=["data-label"],Rg={class:"nxp-ec-badge"},xg=["title"],vg=["data-label"],Ng={class:"nxp-ec-admin-table__actions"},Pg=["onUpdate:modelValue","aria-label"],Mg=["value"],Ig=["value"],kg=["disabled","onClick"],wg={key:1,class:"nxp-ec-admin-pagination"},$g=["disabled"],Lg={class:"nxp-ec-admin-pagination__status"},Dg=["disabled"],Ug=["title"],Yg={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},Xg={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},Fg={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Gg={class:"nxp-ec-admin-panel__sidebar-header"},Vg=["title","aria-label"],Hg={class:"nxp-ec-sr-only"},Bg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Kg={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},jg={key:2,class:"nxp-ec-admin-panel__section"},Jg={class:"nxp-ec-admin-copy"},Wg=["value"],qg=["disabled"],zg={key:0,class:"nxp-ec-admin-panel__muted"},Qg={class:"nxp-ec-admin-copy"},Zg=["disabled"],eE={key:0,class:"nxp-ec-admin-panel__muted"},tE={class:"nxp-ec-admin-panel__section"},nE={class:"nxp-ec-admin-list"},sE={class:"nxp-ec-admin-list__title"},iE={class:"nxp-ec-admin-list__meta"},oE={class:"nxp-ec-admin-panel__section"},aE={class:"nxp-ec-admin-panel__total"},rE={class:"nxp-ec-admin-panel__section"},lE={class:"nxp-ec-admin-address"},cE={class:"nxp-ec-admin-panel__section"},dE={key:0,class:"nxp-ec-admin-address"},uE={key:1,class:"nxp-ec-admin-panel__muted"},pE={class:"nxp-ec-admin-panel__section"},_E={class:"nxp-ec-form-field"},fE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},mE={class:"nxp-ec-form-field"},hE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},gE={class:"nxp-ec-form-field"},EE={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},SE={key:0,class:"nxp-ec-form-checkbox"},CE={class:"nxp-ec-admin-form__actions"},bE=["disabled"],AE={key:3,class:"nxp-ec-admin-panel__section"},TE={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},yE=["disabled"],OE=["disabled"],RE={key:4,class:"nxp-ec-admin-panel__section"},xE={class:"nxp-ec-admin-list"},vE={class:"nxp-ec-admin-list__title"},NE={class:"nxp-ec-admin-list__meta"},PE={class:"nxp-ec-admin-panel__section"},ME=["placeholder"],IE={class:"nxp-ec-admin-form__actions"},kE=["disabled"],wE={class:"nxp-ec-admin-panel__section"},$E={key:0,class:"nxp-ec-admin-list"},LE={class:"nxp-ec-admin-list__title"},DE={class:"nxp-ec-admin-list__meta"},UE={key:1,class:"nxp-ec-admin-panel__muted"},YE=xt({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=$e({}),l=He(""),u=He(""),p=Ee(()=>u.value.trim().length>0),S=He(""),m=$e({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),c=Ee(()=>{var h;const _=(h=s.state)==null?void 0:h.selection;return!_||typeof _.values!="function"?[]:Array.from(_.values())}),C=Ee(()=>c.value.length>0);Fe(c,_=>{_.length||(l.value="")}),Fe(()=>s.state.activeOrder,_=>{var h,M,F;u.value="",S.value="",m.carrier=(h=_==null?void 0:_.carrier)!=null?h:"",m.tracking_number=(M=_==null?void 0:_.tracking_number)!=null?M:"",m.tracking_url=(F=_==null?void 0:_.tracking_url)!=null?F:"",m.markFulfilled=!1},{immediate:!0}),Fe(()=>s.state.items,_=>{Array.isArray(_)&&_.forEach(h=>{!h||typeof h.id=="undefined"||a[h.id]||(a[h.id]=h.state)})},{immediate:!0});const x=(_,h)=>{const M=(Number(_)||0)/100,F=(h||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:F}).format(M)}catch(y){return`${F} ${M.toFixed(2)}`}},L=_=>{if(!_)return"";const h=new Date(_);return Number.isNaN(h.getTime())?_:h.toLocaleString()},w=_=>_?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[_]||_:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),$=_=>_===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(_)]),P=_=>{if(!_)return"";const h=`COM_NXPEASYCART_ORDERS_STATE_${String(_).toUpperCase()}`;return n(h,_)},D=_=>s.state.orderStates.filter(h=>h!==_.state),K=_=>(a[_.id]||_.state)!==_.state,Y=()=>{var _;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((_=window.location)!=null&&_.origin)?window.location.origin:""},E=Ee(()=>{var A,f;const _=(f=(A=s.state)==null?void 0:A.activeOrder)!=null?f:{},h=String(_.public_token||"").trim(),M=String(_.order_no||"").trim();if(!h)return"";const F=Y();if(!F)return"";const y=F.endsWith("/")?"":"/",G=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:h});return M&&G.set("no",M),`${F}${y}index.php?${G.toString()}`}),j=async()=>{var _;if(E.value){try{if(!((_=navigator==null?void 0:navigator.clipboard)!=null&&_.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(E.value),S.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(h){try{const M=document.createElement("textarea");M.value=E.value,M.setAttribute("readonly",""),M.style.position="absolute",M.style.left="-9999px",document.body.appendChild(M),M.select(),document.execCommand("copy"),document.body.removeChild(M),S.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(M){S.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}S.value&&setTimeout(()=>{S.value=""},2e3)}},ne=Ee(()=>{var h,M,F,y,G;const _=(M=(h=s.state)==null?void 0:h.activeOrder)!=null?M:{};return m.carrier!==((F=_.carrier)!=null?F:"")||m.tracking_number!==((y=_.tracking_number)!=null?y:"")||m.tracking_url!==((G=_.tracking_url)!=null?G:"")||m.markFulfilled}),de=_=>!_||typeof _!="object"?[]:Object.entries(_).filter(([,h])=>h!=null&&`${h}`.trim()!=="").map(([h,M])=>({key:h,value:`${M}`.trim()})),Se=()=>{o("refresh")},W=()=>{o("export")},B=()=>{o("search")},q=()=>{o("filter",s.state.filterState)},H=_=>{o("view",_)},se=()=>{o("close")},me=_=>{const h=a[_.id]||_.state;h!==_.state&&o("transition",{id:_.id,state:h})},ue=_=>{o("page",_)},Z=_=>{var h,M,F,y;return(y=(F=(M=(h=s.state)==null?void 0:h.selection)==null?void 0:M.has)==null?void 0:F.call(M,_))!=null?y:!1},ie=_=>{o("toggle-selection",_)},ee=()=>{l.value="",o("clear-selection")},_e=()=>{!C.value||!l.value||o("bulk-transition",{ids:[...c.value],state:l.value})},U=()=>{if(!s.state.activeOrder)return;const _=u.value.trim();_&&(o("add-note",{id:s.state.activeOrder.id,message:_}),u.value="")},z=()=>{s.state.activeOrder&&o("invoice",s.state.activeOrder.id)},Q=()=>{!s.state.activeOrder||!ne.value||(o("save-tracking",{id:s.state.activeOrder.id,carrier:m.carrier,tracking_number:m.tracking_number,tracking_url:m.tracking_url,mark_fulfilled:m.markFulfilled}),m.markFulfilled=!1)},re=_=>{s.state.activeOrder&&o("send-email",{id:s.state.activeOrder.id,type:_})},he=_=>{var F;const h=(F=s.state)==null?void 0:F.activeOrder;return h?(h.timeline||h.audit||[]).some(y=>{var G;return y.action==="order.email.sent"?((G=y.context)==null?void 0:G.type)===_:!1}):!1},fe=Ee(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(c.value.length)],"ordersSelectedCount")),Ce=_=>{var h,M,F,y,G,A,f,g,b,T,I,J;if(!_||!_.action)return"";switch(_.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const V=P((M=(h=_.context)==null?void 0:h.from)!=null?M:""),ae=P((y=(F=_.context)==null?void 0:F.to)!=null?y:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[V||((G=_.context)==null?void 0:G.from)||"",ae||((A=_.context)==null?void 0:A.to)||""],"ordersTimelineState")}case"order.note":return((f=_.context)==null?void 0:f.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const V=((g=_.context)==null?void 0:g.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),ae=x((T=(b=_.context)==null?void 0:b.amount_cents)!=null?T:0,(J=(I=s.state)==null?void 0:I.activeOrder)==null?void 0:J.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[V,ae],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return _.action}},Ie=_=>{if(!_)return"";const h=String(_.type||"").toLowerCase(),M=String(_.message||"").trim(),F=String(_.state||"").toLowerCase();return h==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):F?P(F):M||h||""},k=Ee(()=>{var F,y,G,A;const _=[];return(Array.isArray((y=(F=s.state)==null?void 0:F.activeOrder)==null?void 0:y.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((f,g)=>{var b,T;_.push({label:Ie(f),created:(b=f==null?void 0:f.at)!=null?b:"",key:`f-${g}-${(T=f==null?void 0:f.at)!=null?T:""}`})}),(Array.isArray((A=(G=s.state)==null?void 0:G.activeOrder)==null?void 0:A.timeline)?s.state.activeOrder.timeline:[]).forEach((f,g)=>{var b,T,I;_.push({label:Ce(f),created:(b=f==null?void 0:f.created)!=null?b:"",key:`a-${(T=f==null?void 0:f.id)!=null?T:g}-${(I=f==null?void 0:f.created)!=null?I:""}`})}),_.filter(f=>f.label).sort((f,g)=>{const b=new Date(f.created||0).getTime();return new Date(g.created||0).getTime()-b})}),O=_=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(_.status||"").toUpperCase()}`,_.status||""),N=_=>{if(!_)return"";try{const h=new Date(_),F=new Date-h,y=Math.floor(F/1e3),G=Math.floor(y/60),A=Math.floor(G/60);return y<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):G<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[G]):A<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[A]):h.toLocaleString()}catch(h){return _}};return(_,h)=>{var M,F;return R(),v("section",Dh,[i("header",Uh,[i("div",null,[i("h2",Yh,d(r(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",Xh,d(r(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",Fh,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":h[0]||(h[0]=y=>e.state.search=y),onKeyup:zt(B,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,Gh),[[ce,e.state.search]]),te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":h[1]||(h[1]=y=>e.state.filterState=y),onChange:q,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",Hh,"  "+d(r(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(R(!0),v(Ae,null,Re(e.state.orderStates,y=>(R(),v("option",{key:y,value:y},d(P(y)),9,Bh))),128))],40,Vh),[[ht,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:W,disabled:e.state.loading||e.state.exporting,title:r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[h[12]||(h[12]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",jh,d(r(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,Kh),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:Se,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[h[13]||(h[13]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Wh,d(r(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,Jh)])]),e.state.error?(R(),v("div",qh,d(e.state.error),1)):pe("",!0),e.state.transitionError&&!e.state.error?(R(),v("div",zh,d(e.state.transitionError),1)):pe("",!0),e.state.loading&&!e.state.error?(R(),v("div",Qh,[Be(Dn,{type:"table",rows:5,columns:7})])):pe("",!0),!e.state.loading&&!e.state.error?(R(),v("div",Zh,[i("div",eg,[C.value?(R(),v("div",tg,[i("span",null,d(fe.value),1),te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":h[2]||(h[2]=y=>l.value=y),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",sg,d(r(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(R(!0),v(Ae,null,Re(e.state.orderStates,y=>(R(),v("option",{key:`bulk-${y}`,value:y},d(P(y)),9,ig))),128))],8,ng),[[ht,l.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!l.value||e.state.saving,onClick:_e},[h[14]||(h[14]=i("i",{class:"fa-solid fa-check"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,og),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:ee,title:r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[h[15]||(h[15]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",rg,d(r(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,ag)])):pe("",!0),i("table",lg,[i("thead",null,[i("tr",null,[i("th",cg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",dg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",ug,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",pg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",_g,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",fg,d(r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",mg,d(r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?pe("",!0):(R(),v("tr",hg,[i("td",gg,d(r(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(R(!0),v(Ae,null,Re(e.state.items,y=>{var G,A,f;return R(),v("tr",{key:y.id,class:Pe({"is-active":e.state.activeOrder&&e.state.activeOrder.id===y.id})},[i("td",Eg,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:Z(y.id),onChange:g=>ie(y.id),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,Sg)]),i("th",Cg,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:g=>H(y)},d(y.order_no),9,bg)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[i("div",null,d(y.email),1),i("div",Tg,d($((f=y.items_count)!=null?f:(A=(G=y.items)==null?void 0:G.length)!=null?A:0)),1)],8,Ag),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},d(x(y.total_cents,y.currency)),9,yg),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[i("span",Rg,d(P(y.state)),1),y.needs_review?(R(),v("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:y.review_reason||r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,xg)):pe("",!0)],8,Og),i("td",{"data-label":r(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},d(L(y.modified||y.created)),9,vg),i("td",Ng,[te(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":g=>a[y.id]=g,"aria-label":r(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:y.state},d(P(y.state)),9,Mg),(R(!0),v(Ae,null,Re(D(y),g=>(R(),v("option",{key:g,value:g},d(P(g)),9,Ig))),128))],8,Pg),[[ht,a[y.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!K(y),onClick:g=>me(y)},d(r(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,kg)])],2)}),128))])]),e.state.pagination.pages>1?(R(),v("div",wg,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:h[3]||(h[3]=y=>ue(e.state.pagination.current-1))},"  ",8,$g),i("span",Lg,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:h[4]||(h[4]=y=>ue(e.state.pagination.current+1))},"  ",8,Dg)])):pe("",!0)]),e.state.lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(N(e.state.lastUpdated)),9,Ug)):pe("",!0),e.state.activeOrder?(R(),v("div",Yg,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:se}),i("div",Xg,[i("aside",Fg,[i("header",Gg,[i("h3",null,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:se,title:r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[h[16]||(h[16]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Hg,d(r(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,Vg)]),e.state.transitionError?(R(),v("div",Bg,d(e.state.transitionError),1)):pe("",!0),(M=e.state.activeOrder)!=null&&M.needs_review?(R(),v("div",Kg,[i("strong",null,d(r(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),Me(" "+d(w((F=e.state.activeOrder)==null?void 0:F.review_reason)),1)])):pe("",!0),E.value?(R(),v("section",jg,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",Jg,[i("input",{type:"text",class:"nxp-ec-form-input",value:E.value,readonly:""},null,8,Wg),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!E.value,onClick:j},[h[17]||(h[17]=i("i",{class:"fa-solid fa-link"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,qg)]),S.value?(R(),v("p",zg,d(S.value),1)):pe("",!0),i("div",Qg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:z},[h[18]||(h[18]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,Zg),s.state.invoiceLoading?(R(),v("span",eE,d(r(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):pe("",!0)])])):pe("",!0),i("section",tE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",nE,[(R(!0),v(Ae,null,Re(e.state.activeOrder.items,y=>(R(),v("li",{key:y.id},[i("div",sE,[Me(d(y.title)+" ",1),i("small",null,"("+d(y.sku)+")",1)]),i("div",iE,"  "+d(y.qty)+"  "+d(x(y.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),i("section",oE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",aE,d(x(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("section",rE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",lE,[(R(!0),v(Ae,null,Re(de(e.state.activeOrder.billing),y=>(R(),v("span",{key:y.key},d(y.value),1))),128))])]),i("section",cE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(R(),v("address",dE,[(R(!0),v(Ae,null,Re(de(e.state.activeOrder.shipping),y=>(R(),v("span",{key:y.key},d(y.value),1))),128))])):(R(),v("p",uE,d(r(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))]),i("section",pE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",_E,[i("label",fE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),te(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[5]||(h[5]=y=>m.carrier=y)},null,512),[[ce,m.carrier]])]),i("div",mE,[i("label",hE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),te(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[6]||(h[6]=y=>m.tracking_number=y)},null,512),[[ce,m.tracking_number]])]),i("div",gE,[i("label",EE,d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),te(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":h[7]||(h[7]=y=>m.tracking_url=y)},null,512),[[ce,m.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(R(),v("label",SE,[te(i("input",{type:"checkbox","onUpdate:modelValue":h[8]||(h[8]=y=>m.markFulfilled=y)},null,512),[[_t,m.markFulfilled]]),Me(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):pe("",!0),i("div",CE,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!ne.value||e.state.saving,onClick:Q},[h[19]||(h[19]=i("i",{class:"fa-solid fa-truck"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,bE)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(R(),v("section",AE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),i("div",TE,[e.state.activeOrder.state==="fulfilled"?(R(),v("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:h[9]||(h[9]=y=>re("shipped"))},[h[20]||(h[20]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Me(" "+d(he("shipped")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,yE)):pe("",!0),e.state.activeOrder.state==="refunded"?(R(),v("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:h[10]||(h[10]=y=>re("refunded"))},[h[21]||(h[21]=i("i",{class:"fa-solid fa-envelope"},null,-1)),Me(" "+d(he("refunded")?r(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):r(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,OE)):pe("",!0)])])):pe("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(R(),v("section",RE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",xE,[(R(!0),v(Ae,null,Re(e.state.activeOrder.transactions,y=>(R(),v("li",{key:y.id},[i("div",vE,d(y.gateway)+"  "+d(x(y.amount_cents,e.state.activeOrder.currency)),1),i("div",NE,d(O(y))+"  "+d(L(y.created)),1)]))),128))])])):pe("",!0),i("section",PE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:gt(U,["prevent"])},[te(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":h[11]||(h[11]=y=>u.value=y),placeholder:r(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,ME),[[ce,u.value]]),i("div",IE,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!p.value||e.state.saving},[h[22]||(h[22]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,kE)])],32)]),i("section",wE,[i("h4",null,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),k.value.length?(R(),v("ul",$E,[(R(!0),v(Ae,null,Re(k.value,y=>(R(),v("li",{key:y.key},[i("div",LE,d(y.label),1),i("div",DE,d(L(y.created)),1)]))),128))])):(R(),v("p",UE,d(r(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])):pe("",!0)])):pe("",!0)])}}},[["__scopeId","data-v-5908e412"]]),XE={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},FE={class:"nxp-ec-admin-panel__header"},GE={class:"nxp-ec-admin-panel__title"},VE={class:"nxp-ec-admin-panel__lead"},HE={class:"nxp-ec-admin-panel__actions"},BE=["placeholder","aria-label"],KE=["disabled","title","aria-label"],jE={class:"nxp-ec-sr-only"},JE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},WE={key:1,class:"nxp-ec-admin-panel__body"},qE={key:2,class:"nxp-ec-admin-panel__body"},zE={class:"nxp-ec-admin-panel__table"},QE={class:"nxp-ec-admin-table"},ZE={scope:"col"},eS={scope:"col"},tS={scope:"col"},nS={scope:"col"},sS={scope:"col"},iS={key:0},oS={colspan:"5"},aS={scope:"row",class:"nxp-ec-admin-table__primary"},rS=["onClick"],lS=["data-label"],cS=["data-label"],dS=["data-label"],uS=["data-label"],pS={key:0,class:"nxp-ec-admin-pagination"},_S=["disabled"],fS={class:"nxp-ec-admin-pagination__status"},mS=["disabled"],hS=["title"],gS={key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},ES={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},SS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},CS={class:"nxp-ec-admin-panel__sidebar-header"},bS=["title","aria-label"],AS={class:"nxp-ec-sr-only"},TS={class:"nxp-ec-admin-panel__section"},yS={class:"nxp-ec-admin-summary"},OS={class:"nxp-ec-admin-panel__section"},RS={class:"nxp-ec-admin-address"},xS={class:"nxp-ec-admin-panel__section"},vS={key:0,class:"nxp-ec-admin-address"},NS={key:1,class:"nxp-ec-admin-panel__muted"},PS={class:"nxp-ec-admin-panel__section"},MS={key:0,class:"nxp-ec-admin-list"},IS={class:"nxp-ec-admin-list__title"},kS={class:"nxp-ec-admin-list__meta"},wS={key:1,class:"nxp-ec-admin-panel__muted"},$S={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},LS={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},DS={class:"nxp-ec-gdpr-actions"},US=["disabled","title"],YS=["disabled","title"],XS=xt({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=(P,D)=>{const K=(Number(P)||0)/100,Y=(D||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:Y}).format(K)}catch(E){return`${Y} ${K.toFixed(2)}`}},l=P=>{if(!P)return"";const D=new Date(P);return Number.isNaN(D.getTime())?P:D.toLocaleString()},u=P=>!P||typeof P!="object"?[]:Object.entries(P).filter(([,D])=>D!=null&&`${D}`.trim()!=="").map(([D,K])=>({key:D,value:`${K}`.trim()})),p=P=>{if(!P)return"";const D=`COM_NXPEASYCART_ORDERS_STATE_${String(P).toUpperCase()}`;return n(D,P)},S=()=>o("refresh"),m=()=>o("search"),c=P=>o("page",P),C=P=>o("view",P),x=()=>o("close"),L=P=>o("gdprExport",P),w=P=>o("gdprAnonymise",P),$=P=>{if(!P)return"";try{const D=new Date(P),Y=new Date-D,E=Math.floor(Y/1e3),j=Math.floor(E/60),ne=Math.floor(j/60);return E<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):j<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[j]):ne<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ne]):D.toLocaleString()}catch(D){return P}};return(P,D)=>{var K,Y,E;return R(),v("section",XE,[i("header",FE,[i("div",null,[i("h2",GE,d(r(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",VE,d(r(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",HE,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":D[0]||(D[0]=j=>e.state.search=j),onKeyup:zt(m,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,BE),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:S,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[D[5]||(D[5]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",jE,d(r(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,KE)])]),e.state.error?(R(),v("div",JE,d(e.state.error),1)):pe("",!0),e.state.loading?(R(),v("div",WE,[Be(Dn,{type:"table",rows:5,columns:5})])):pe("",!0),e.state.loading?pe("",!0):(R(),v("div",qE,[i("div",zE,[i("table",QE,[i("thead",null,[i("tr",null,[i("th",ZE,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",eS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",tS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",nS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",sS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?pe("",!0):(R(),v("tr",iS,[i("td",oS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(R(!0),v(Ae,null,Re(e.state.items,j=>{var ne;return R(),v("tr",{key:j.email,class:Pe({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===j.email})},[i("th",aS,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:de=>C(j)},d(j.email),9,rS)]),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},d(((ne=j.meta)==null?void 0:ne.name)||""),9,lS),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},d(j.orders_count),9,cS),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},d(a(j.total_spent_cents,j.currency||e.baseCurrency)),9,dS),i("td",{"data-label":r(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},d(l(j.last_order)),9,uS)],2)}),128))])]),e.state.pagination.pages>1?(R(),v("div",pS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:D[1]||(D[1]=j=>c(e.state.pagination.current-1))},"  ",8,_S),i("span",fS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:D[2]||(D[2]=j=>c(e.state.pagination.current+1))},"  ",8,mS)])):pe("",!0)]),e.state.lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d($(e.state.lastUpdated)),9,hS)):pe("",!0),e.state.activeCustomer?(R(),v("div",gS,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:x}),i("div",ES,[i("aside",SS,[i("header",CS,[i("h3",null,d(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:x,title:r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[D[6]||(D[6]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",AS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,bS)]),i("section",TS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",yS,[i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,d(((K=e.state.activeCustomer.meta)==null?void 0:K.name)||""),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,d(a(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,d(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,d(l(e.state.activeCustomer.last_order)),1)])])]),i("section",OS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",RS,[(R(!0),v(Ae,null,Re(u((Y=e.state.activeCustomer.meta)==null?void 0:Y.billing),j=>(R(),v("span",{key:j.key},d(j.value),1))),128))])]),i("section",xS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(E=e.state.activeCustomer.meta)!=null&&E.shipping?(R(),v("address",vS,[(R(!0),v(Ae,null,Re(u(e.state.activeCustomer.meta.shipping),j=>(R(),v("span",{key:j.key},d(j.value),1))),128))])):(R(),v("p",NS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))]),i("section",PS,[i("h4",null,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(R(),v("ul",MS,[(R(!0),v(Ae,null,Re(e.state.activeCustomer.orders,j=>(R(),v("li",{key:j.id},[i("div",IS,d(j.order_no)+"  "+d(a(j.total_cents,j.currency||e.baseCurrency)),1),i("div",kS,d(p(j.state))+"  "+d(l(j.created)),1)]))),128))])):(R(),v("p",wS,d(r(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),i("section",$S,[i("h4",null,d(r(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),i("p",LS,d(r(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),i("div",DS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:D[3]||(D[3]=j=>L(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[D[7]||(D[7]=i("i",{class:"fa-solid fa-download"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,US),i("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:D[4]||(D[4]=j=>w(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:r(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[D[8]||(D[8]=i("i",{class:"fa-solid fa-user-slash"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,YS)]),e.state.gdprMessage?(R(),v("p",{key:0,class:Pe(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},d(e.state.gdprMessage),3)):pe("",!0)])])])])):pe("",!0)]))])}}},[["__scopeId","data-v-fb6159d8"]]),FS={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},GS={class:"nxp-ec-admin-panel__header"},VS={class:"nxp-ec-admin-panel__title"},HS={class:"nxp-ec-admin-panel__lead"},BS={class:"nxp-ec-admin-panel__actions"},KS=["placeholder","aria-label"],jS=["disabled","title","aria-label"],JS={class:"nxp-ec-sr-only"},WS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},qS={key:1,class:"nxp-ec-admin-panel__loading"},zS={key:2,class:"nxp-ec-admin-panel__body"},QS={class:"nxp-ec-admin-panel__table"},ZS={class:"nxp-ec-admin-table"},eC={scope:"col"},tC={scope:"col"},nC={scope:"col"},sC={scope:"col"},iC={scope:"col"},oC={scope:"col"},aC={key:0},rC={colspan:"7"},lC={scope:"row",class:"nxp-ec-admin-table__primary"},cC=["data-label"],dC=["data-label"],uC=["data-label"],pC=["data-label"],_C=["data-label"],fC={class:"nxp-ec-admin-table__actions"},mC=["onClick","title","aria-label"],hC={class:"nxp-ec-sr-only"},gC=["onClick","title","aria-label"],EC={class:"nxp-ec-sr-only"},SC={key:0,class:"nxp-ec-admin-pagination"},CC=["disabled"],bC={class:"nxp-ec-admin-pagination__status"},AC=["disabled"],TC={key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true"},yC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},OC={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},RC={class:"nxp-ec-admin-panel__sidebar-header"},xC=["title","aria-label"],vC={class:"nxp-ec-sr-only"},NC={class:"nxp-ec-form-field"},PC={class:"nxp-ec-form-label",for:"coupon-code"},MC={class:"nxp-ec-form-field"},IC={class:"nxp-ec-form-label",for:"coupon-type"},kC={value:"percent"},wC={value:"fixed"},$C={class:"nxp-ec-form-field"},LC={class:"nxp-ec-form-label",for:"coupon-value"},DC={class:"nxp-ec-form-field"},UC={class:"nxp-ec-form-label",for:"coupon-min-total"},YC={class:"nxp-ec-form-field"},XC={class:"nxp-ec-form-label",for:"coupon-start"},FC={class:"nxp-ec-form-field"},GC={class:"nxp-ec-form-label",for:"coupon-end"},VC={class:"nxp-ec-form-field"},HC={class:"nxp-ec-form-label",for:"coupon-max-uses"},BC={class:"nxp-ec-form-field nxp-ec-form-field--inline"},KC={class:"nxp-ec-form-label",for:"coupon-active"},jC={class:"nxp-ec-modal__actions"},JC=["disabled"],WC=["disabled"],qC=["disabled"],zC=xt({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=Ee(()=>(s.baseCurrency||"USD").toUpperCase()),l=$e({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=Ee(()=>l.open),p=()=>o("refresh"),S=()=>o("search"),m=K=>o("page",K),c=()=>{Object.assign(l,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},C=K=>{var Y,E;Object.assign(l,{open:!0,id:K.id,code:K.code,type:K.type,value:K.value,min_total:(E=K.min_total)!=null?E:((Y=K.min_total_cents)!=null?Y:0)/100,start:K.start?K.start.substring(0,10):"",end:K.end?K.end.substring(0,10):"",max_uses:K.max_uses,active:K.active})},x=()=>{l.open=!1},L=()=>{const K={id:l.id||void 0,code:l.code,type:l.type,value:l.value,min_total:l.min_total||0,start:l.start||null,end:l.end||null,max_uses:l.max_uses!==null&&l.max_uses!==""?l.max_uses:null,active:l.active};o("save",K)},w=K=>{const Y=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(Y)&&(o("delete",[K.id]),l.id===K.id&&x())},$=(K,Y)=>{const E=(Number(K)||0)/100,j=(Y||"").toUpperCase()||a.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:j}).format(E)}catch(ne){return`${j} ${E.toFixed(2)}`}},P=K=>K.type==="percent"?`${K.value}%`:$(K.value*100,a.value),D=K=>K==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Fe(()=>s.state.saving,(K,Y)=>{Y&&!K&&!s.state.error&&l.open&&x()}),(K,Y)=>(R(),v("section",FS,[i("header",GS,[i("div",null,[i("h2",VS,d(r(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",HS,d(r(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",BS,[te(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":Y[0]||(Y[0]=E=>e.state.search=E),onKeyup:zt(S,["enter"]),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,KS),[[ce,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[Y[12]||(Y[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",JS,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,jS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:c},[Y[13]||(Y[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(R(),v("div",WS,d(e.state.error),1)):pe("",!0),e.state.loading?(R(),v("div",qS,d(r(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):pe("",!0),e.state.loading?pe("",!0):(R(),v("div",zS,[i("div",QS,[i("table",ZS,[i("thead",null,[i("tr",null,[i("th",eC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",tC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",nC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",sC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",iC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",oC,d(r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),Y[14]||(Y[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?pe("",!0):(R(),v("tr",aC,[i("td",rC,d(r(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(R(!0),v(Ae,null,Re(e.state.items,E=>(R(),v("tr",{key:E.id,class:Pe({"is-active":l.id===E.id})},[i("th",lC,d(E.code),1),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},d(D(E.type)),9,cC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},d(P(E)),9,dC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},d($(E.min_total_cents,a.value)),9,uC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[i("span",{class:Pe(["nxp-ec-badge",{"is-active":E.active}])},[i("i",{class:Pe(E.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Me(" "+d(E.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)],8,pC),i("td",{"data-label":r(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},d(E.times_used)+d(E.max_uses?` / ${E.max_uses}`:""),9,_C),i("td",fC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:j=>C(E),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[Y[15]||(Y[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",hC,d(r(n)("JEDIT","Edit")),1)],8,mC),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:j=>w(E),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[Y[16]||(Y[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",EC,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,gC)])],2))),128))])]),e.state.pagination.pages>1?(R(),v("div",SC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:Y[1]||(Y[1]=E=>m(e.state.pagination.current-1))},"  ",8,CC),i("span",bC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:Y[2]||(Y[2]=E=>m(e.state.pagination.current+1))},"  ",8,AC)])):pe("",!0)]),u.value?(R(),v("div",TC,[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:x}),i("div",yC,[i("aside",OC,[i("header",RC,[i("h3",null,d(l.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:x,title:r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[Y[17]||(Y[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",vC,d(r(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,xC)]),i("form",{class:"nxp-ec-form",onSubmit:gt(L,["prevent"]),autocomplete:"off"},[i("div",NC,[i("label",PC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),te(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Y[3]||(Y[3]=E=>l.code=E),required:"",maxlength:"64"},null,512),[[ce,l.code,void 0,{trim:!0}]])]),i("div",MC,[i("label",IC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),te(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":Y[4]||(Y[4]=E=>l.type=E)},[i("option",kC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",wC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[ht,l.type]])]),i("div",$C,[i("label",LC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),te(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":Y[5]||(Y[5]=E=>l.value=E),required:""},null,512),[[ce,l.value,void 0,{number:!0}]])]),i("div",DC,[i("label",UC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),te(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":Y[6]||(Y[6]=E=>l.min_total=E)},null,512),[[ce,l.min_total,void 0,{number:!0}]])]),i("div",YC,[i("label",XC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),te(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":Y[7]||(Y[7]=E=>l.start=E)},null,512),[[ce,l.start]])]),i("div",FC,[i("label",GC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),te(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":Y[8]||(Y[8]=E=>l.end=E)},null,512),[[ce,l.end]])]),i("div",VC,[i("label",HC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),te(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":Y[9]||(Y[9]=E=>l.max_uses=E)},null,512),[[ce,l.max_uses,void 0,{number:!0}]])]),i("div",BC,[i("label",KC,d(r(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),te(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":Y[10]||(Y[10]=E=>l.active=E)},null,512),[[_t,l.active]])]),i("footer",jC,[i("button",{class:"nxp-ec-btn",type:"button",onClick:x,disabled:e.state.saving},d(r(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,JC),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,WC)]),l.id?(R(),v("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:Y[11]||(Y[11]=E=>w(l)),disabled:e.state.saving},[Y[18]||(Y[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),Me(" "+d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,qC)):pe("",!0)],32)])])])):pe("",!0)]))]))}},[["__scopeId","data-v-7a1d4dad"]]),QC={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},ZC={class:"nxp-ec-admin-panel__header"},eb={class:"nxp-ec-admin-panel__title"},tb={class:"nxp-ec-admin-panel__lead"},nb={class:"nxp-ec-settings-tabs"},sb={key:0,class:"nxp-ec-settings-panel"},ib={class:"nxp-ec-settings-panel__header"},ob=["disabled"],ab={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},rb={key:1,class:"nxp-ec-admin-panel__loading"},lb={class:"nxp-ec-form-field"},cb={class:"nxp-ec-form-label",for:"settings-store-name"},db={class:"nxp-ec-form-field"},ub={class:"nxp-ec-form-label",for:"settings-store-email"},pb={class:"nxp-ec-form-field"},_b={class:"nxp-ec-form-label",for:"settings-store-phone"},fb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},mb={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},hb={class:"nxp-ec-form-help"},gb={class:"nxp-ec-form-field"},Eb={class:"nxp-ec-form-label",for:"settings-base-currency"},Sb={class:"nxp-ec-form-help"},Cb={class:"nxp-ec-form-field"},bb={class:"nxp-ec-form-label",for:"settings-category-page-size"},Ab={class:"nxp-ec-form-help"},Tb={class:"nxp-ec-form-field"},yb={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},Ob={value:"paged"},Rb={value:"infinite"},xb={class:"nxp-ec-form-help"},vb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Nb={class:"nxp-ec-form-label",for:"settings-payments-configured"},Pb={class:"nxp-ec-form-help"},Mb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Ib={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},kb={class:"nxp-ec-form-help"},wb={class:"nxp-ec-form-fieldset"},$b={class:"nxp-ec-form-legend"},Lb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Db={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},Ub={class:"nxp-ec-form-help"},Yb={key:0,class:"nxp-ec-form-field"},Xb={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},Fb={class:"nxp-ec-form-help"},Gb={class:"nxp-ec-settings-actions"},Vb=["disabled"],Hb=["disabled"],Bb={key:1,class:"nxp-ec-settings-panel"},Kb={class:"nxp-ec-settings-panel__header"},jb=["disabled"],Jb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Wb={class:"nxp-ec-form-help"},qb={class:"nxp-ec-form-grid"},zb={class:"nxp-ec-form-field"},Qb={class:"nxp-ec-form-label",for:"settings-checkout-window"},Zb={class:"nxp-ec-form-help"},eA={class:"nxp-ec-form-field"},tA={class:"nxp-ec-form-label",for:"settings-offline-window"},nA={class:"nxp-ec-form-help"},sA={class:"nxp-ec-form-grid"},iA={class:"nxp-ec-form-field"},oA={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},aA={class:"nxp-ec-form-field"},rA={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},lA={class:"nxp-ec-form-field"},cA={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},dA={class:"nxp-ec-form-grid"},uA={class:"nxp-ec-form-field"},pA={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},_A={class:"nxp-ec-form-field"},fA={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},mA={class:"nxp-ec-settings-actions"},hA=["disabled"],gA=["disabled"],EA={key:2,class:"nxp-ec-settings-panel"},SA={class:"nxp-ec-settings-panel__header"},CA=["disabled"],bA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},AA={key:1,class:"nxp-ec-settings-grid"},TA={class:"nxp-ec-settings-table"},yA={class:"nxp-ec-admin-table"},OA={scope:"col"},RA={scope:"col"},xA={scope:"col"},vA={scope:"col"},NA={scope:"col"},PA={key:0},MA={colspan:"6"},IA={scope:"row"},kA={class:"nxp-ec-admin-table__actions"},wA=["onClick","title","aria-label"],$A={class:"nxp-ec-sr-only"},LA=["onClick","title","aria-label"],DA={class:"nxp-ec-sr-only"},UA={class:"nxp-ec-form-field"},YA={class:"nxp-ec-form-label",for:"tax-country"},XA={class:"nxp-ec-form-field"},FA={class:"nxp-ec-form-label",for:"tax-region"},GA={class:"nxp-ec-form-field"},VA={class:"nxp-ec-form-label",for:"tax-rate"},HA={class:"nxp-ec-form-field nxp-ec-form-field--inline"},BA={class:"nxp-ec-form-label",for:"tax-inclusive"},KA={class:"nxp-ec-form-field"},jA={class:"nxp-ec-form-label",for:"tax-priority"},JA={class:"nxp-ec-settings-actions"},WA=["disabled"],qA=["disabled"],zA={key:3,class:"nxp-ec-settings-panel"},QA={class:"nxp-ec-settings-panel__header"},ZA=["disabled"],eT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},tT={key:1,class:"nxp-ec-settings-grid"},nT={class:"nxp-ec-settings-table"},sT={class:"nxp-ec-admin-table"},iT={scope:"col"},oT={scope:"col"},aT={scope:"col"},rT={scope:"col"},lT={scope:"col"},cT={scope:"col"},dT={key:0},uT={colspan:"7"},pT={scope:"row"},_T={class:"nxp-ec-admin-table__actions"},fT=["onClick","title","aria-label"],mT={class:"nxp-ec-sr-only"},hT=["onClick","title","aria-label"],gT={class:"nxp-ec-sr-only"},ET={class:"nxp-ec-form-field"},ST={class:"nxp-ec-form-label",for:"shipping-name"},CT={class:"nxp-ec-form-field"},bT={class:"nxp-ec-form-label",for:"shipping-type"},AT={value:"flat"},TT={value:"free_over"},yT={class:"nxp-ec-form-field"},OT={class:"nxp-ec-form-label",for:"shipping-price"},RT={key:0,class:"nxp-ec-form-field"},xT={class:"nxp-ec-form-label",for:"shipping-threshold"},vT={class:"nxp-ec-form-field"},NT={class:"nxp-ec-form-label",for:"shipping-regions"},PT=["placeholder"],MT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},IT={class:"nxp-ec-form-label",for:"shipping-active"},kT={class:"nxp-ec-settings-actions"},wT=["disabled"],$T=["disabled"],LT={key:4,class:"nxp-ec-settings-panel"},DT={class:"nxp-ec-settings-panel__header"},UT={class:"nxp-ec-settings-actions"},YT=["disabled"],XT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},FT={key:1,class:"nxp-ec-admin-panel__loading"},GT={class:"nxp-ec-form-field"},VT={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},HT={class:"nxp-ec-form-field"},BT={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},KT={class:"nxp-ec-form-field"},jT={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},JT={class:"nxp-ec-form-help"},WT={class:"nxp-ec-form-field"},qT={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},zT={value:"test"},QT={value:"live"},ZT={class:"nxp-ec-form-field"},ey={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},ty={class:"nxp-ec-form-field"},ny={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},sy={class:"nxp-ec-form-field"},iy={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},oy={class:"nxp-ec-form-help"},ay={class:"nxp-ec-form-field"},ry={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},ly={value:"sandbox"},cy={value:"live"},dy={class:"nxp-ec-form-field nxp-ec-form-field--inline"},uy={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},py={class:"nxp-ec-form-field"},_y={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},fy={class:"nxp-ec-form-field nxp-ec-form-field--inline"},my={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},hy={class:"nxp-ec-form-field"},gy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},Ey={class:"nxp-ec-form-field"},Sy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},Cy=["placeholder"],by={class:"nxp-ec-form-help"},Ay={class:"nxp-ec-form-grid"},Ty={class:"nxp-ec-form-field"},yy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},Oy={class:"nxp-ec-form-field"},Ry={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},xy={class:"nxp-ec-form-field"},vy={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},Ny={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},Py={class:"nxp-ec-settings-actions"},My=["disabled"],Iy=["disabled"],ky={key:5,class:"nxp-ec-settings-panel"},wy={class:"nxp-ec-settings-panel__header"},$y=["disabled"],Ly={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Dy={key:1,class:"nxp-ec-admin-panel__loading"},Uy={class:"nxp-ec-form-help"},Yy={class:"nxp-ec-form-help nxp-ec-form-help--muted"},Xy={class:"nxp-ec-visual-grid"},Fy={class:"nxp-ec-visual-field"},Gy={class:"nxp-ec-form-label",for:"visual-primary-color"},Vy={class:"nxp-ec-color-input-group"},Hy=["value"],By=["placeholder"],Ky={class:"nxp-ec-visual-field"},jy={class:"nxp-ec-form-label",for:"visual-text-color"},Jy={class:"nxp-ec-color-input-group"},Wy=["value"],qy=["placeholder"],zy={class:"nxp-ec-visual-field"},Qy={class:"nxp-ec-form-label",for:"visual-surface-color"},Zy={class:"nxp-ec-color-input-group"},eO=["value"],tO=["placeholder"],nO={class:"nxp-ec-visual-field"},sO={class:"nxp-ec-form-label",for:"visual-border-color"},iO={class:"nxp-ec-color-input-group"},oO=["value"],aO=["placeholder"],rO={class:"nxp-ec-visual-field"},lO={class:"nxp-ec-form-label",for:"visual-muted-color"},cO={class:"nxp-ec-color-input-group"},dO=["value"],uO=["placeholder"],pO={class:"nxp-ec-visual-preview"},_O={type:"button",class:"nxp-ec-preview-btn"},fO={class:"nxp-ec-preview-text"},mO={class:"nxp-ec-preview-muted"},hO={class:"nxp-ec-settings-actions"},gO=["disabled"],EO=["disabled"],SO=xt({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},taxState:{type:Object,required:!0},shippingState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-tax","save-tax","delete-tax","refresh-shipping","save-shipping","delete-shipping","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.settingsState,l=s.taxState,u=s.shippingState,p=s.paymentsState,m=He(["general","security","tax","shipping","payments","visual"].includes(s.initialTab)?s.initialTab:"general"),c=Ee(()=>{var h;const k=s.baseCurrency||"USD",O=typeof C.baseCurrency=="string"?C.baseCurrency.trim():"",N=typeof((h=a==null?void 0:a.values)==null?void 0:h.base_currency)=="string"?a.values.base_currency.trim():"";return(O!==""?O:N!==""?N:k).toUpperCase()}),C=$e({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48}),x=$e({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),L=$e({id:null,country:"",region:"",rate:0,inclusive:!1,priority:0}),w=$e({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),$=$e({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),P=$e({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),D=Ee(()=>{var O,N;const k=(N=(O=a.values)==null?void 0:O.visual_defaults)!=null?N:{};return{primary:k.primary_color||"#4f6d7a",text:k.text_color||"#1f2933",surface:k.surface_color||"#ffffff",border:k.border_color||"#e4e7ec",muted:k.muted_color||"#6b7280"}}),K=Ee(()=>({"--nxp-ec-color-primary":P.primaryColor||D.value.primary,"--nxp-ec-color-text":P.textColor||D.value.text,"--nxp-ec-color-surface":P.surfaceColor||D.value.surface,"--nxp-ec-color-border":P.borderColor||D.value.border,"--nxp-ec-color-muted":P.mutedColor||D.value.muted})),Y=(k={})=>{var M,F,y,G,A,f,g,b,T,I,J,V,ae,le,ge,Oe;const O=(M=k==null?void 0:k.store)!=null?M:{},N=(F=k==null?void 0:k.payments)!=null?F:{},_=(y=k==null?void 0:k.visual)!=null?y:{},h=(A=(G=k==null?void 0:k.security)==null?void 0:G.rate_limits)!=null?A:{};Object.assign(C,{storeName:(f=O.name)!=null?f:"",storeEmail:(g=O.email)!=null?g:"",storePhone:(b=O.phone)!=null?b:"",checkoutPhoneRequired:!!((T=k==null?void 0:k.checkout_phone_required)!=null&&T),paymentsConfigured:!!N.configured,autoSendOrderEmails:!!((I=k==null?void 0:k.auto_send_order_emails)!=null&&I),baseCurrency:typeof(k==null?void 0:k.base_currency)=="string"?k.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),categoryPageSize:Number.isFinite(Number(k==null?void 0:k.category_page_size))?Number(k.category_page_size):12,categoryPaginationMode:(k==null?void 0:k.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((J=k==null?void 0:k.stale_order_cleanup_enabled)!=null&&J),staleOrderHours:Number.isFinite(Number(k==null?void 0:k.stale_order_hours))?Math.max(1,Math.min(720,Number(k.stale_order_hours))):48}),Object.assign(P,{primaryColor:(V=_.primary_color)!=null?V:"",textColor:(ae=_.text_color)!=null?ae:"",surfaceColor:(le=_.surface_color)!=null?le:"",borderColor:(ge=_.border_color)!=null?ge:"",mutedColor:(Oe=_.muted_color)!=null?Oe:""}),Object.assign(x,{checkoutWindowMinutes:Number.isFinite(Number(h.checkout_window_minutes))?Number(h.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(h.checkout_ip_limit))?Number(h.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(h.checkout_email_limit))?Number(h.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(h.checkout_session_limit))?Number(h.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(h.offline_window_minutes))?Number(h.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(h.offline_ip_limit))?Number(h.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(h.offline_email_limit))?Number(h.offline_email_limit):5})},E=(k={})=>{var M,F,y,G,A,f,g,b,T,I,J,V,ae,le,ge,Oe,ve,ke,Ke,rt,We,Ye,Xe,lt;const O=(M=k.stripe)!=null?M:{},N=(F=k.paypal)!=null?F:{},_=(y=k.cod)!=null?y:{},h=(G=k.bank_transfer)!=null?G:{};Object.assign($.stripe,{publishable_key:(A=O.publishable_key)!=null?A:"",secret_key:(f=O.secret_key)!=null?f:"",webhook_secret:(g=O.webhook_secret)!=null?g:"",mode:(b=O.mode)!=null?b:"test"}),Object.assign($.paypal,{client_id:(T=N.client_id)!=null?T:"",client_secret:(I=N.client_secret)!=null?I:"",webhook_id:(J=N.webhook_id)!=null?J:"",mode:(V=N.mode)!=null?V:"sandbox"}),Object.assign($.cod,{enabled:_.enabled!==void 0?!!_.enabled:$.cod.enabled,label:(le=(ae=_.label)!=null?ae:$.cod.label)!=null?le:"Cash on delivery"}),Object.assign($.bank_transfer,{enabled:h.enabled!==void 0?!!h.enabled:$.bank_transfer.enabled,label:(Oe=(ge=h.label)!=null?ge:$.bank_transfer.label)!=null?Oe:"Bank transfer",instructions:(ke=(ve=h.instructions)!=null?ve:$.bank_transfer.instructions)!=null?ke:"",account_name:(rt=(Ke=h.account_name)!=null?Ke:$.bank_transfer.account_name)!=null?rt:"",iban:(Ye=(We=h.iban)!=null?We:$.bank_transfer.iban)!=null?Ye:"",bic:(lt=(Xe=h.bic)!=null?Xe:$.bank_transfer.bic)!=null?lt:""})};Fe(()=>a.values,k=>{Y(k!=null?k:{})},{immediate:!0});const j=()=>o("refresh-settings"),ne=()=>{const k=(C.baseCurrency||"").trim().toUpperCase();o("save-settings",{store:{name:C.storeName,email:C.storeEmail,phone:C.storePhone,base_currency:k},payments:{configured:C.paymentsConfigured},base_currency:k,checkout_phone_required:C.checkoutPhoneRequired,auto_send_order_emails:C.autoSendOrderEmails,category_page_size:Number.isFinite(Number(C.categoryPageSize))?Number(C.categoryPageSize):12,category_pagination_mode:C.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!C.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(C.staleOrderHours))?Math.max(1,Math.min(720,Number(C.staleOrderHours))):48})},de=()=>{var k;Y((k=a.values)!=null?k:{})},Se=()=>{const k=(O,N=0)=>{const _=Number(O);return Number.isFinite(_)&&_>=0?_:N};o("save-settings",{security:{rate_limits:{checkout_window_minutes:k(x.checkoutWindowMinutes,15),checkout_ip_limit:k(x.checkoutIpLimit,10),checkout_email_limit:k(x.checkoutEmailLimit,5),checkout_session_limit:k(x.checkoutSessionLimit,15),offline_window_minutes:k(x.offlineWindowMinutes,240),offline_ip_limit:k(x.offlineIpLimit,10),offline_email_limit:k(x.offlineEmailLimit,5)}}})},W=()=>{var k;Y((k=a.values)!=null?k:{})};Fe(()=>a.saving,(k,O)=>{var N;O&&!k&&!a.error&&Y((N=a.values)!=null?N:{})}),Fe(()=>C.baseCurrency,k=>{if(typeof k=="string"){const O=k.replace(/[^A-Za-z]/g,"").toUpperCase();O!==k&&(C.baseCurrency=O)}}),Fe(()=>p.config,k=>{E(k!=null?k:{})},{immediate:!0}),Fe(()=>p.saving,(k,O)=>{var N;O&&!k&&!p.error&&E((N=p.config)!=null?N:{})});const B=()=>o("refresh-payments"),q=()=>{const k=JSON.parse(JSON.stringify($));o("save-payments",k)},H=()=>{var k;E((k=p.config)!=null?k:{})},se=()=>o("refresh-settings"),me=()=>{o("save-settings",{visual:{primary_color:P.primaryColor,text_color:P.textColor,surface_color:P.surfaceColor,border_color:P.borderColor,muted_color:P.mutedColor}})},ue=()=>{var O,N,_,h,M,F,y;const k=(N=(O=a.values)==null?void 0:O.visual)!=null?N:{};Object.assign(P,{primaryColor:(_=k.primary_color)!=null?_:"",textColor:(h=k.text_color)!=null?h:"",surfaceColor:(M=k.surface_color)!=null?M:"",borderColor:(F=k.border_color)!=null?F:"",mutedColor:(y=k.muted_color)!=null?y:""})},Z=()=>o("refresh-tax"),ie=()=>o("refresh-shipping"),ee=k=>{Object.assign(L,{id:k.id,country:k.country,region:k.region,rate:k.rate,inclusive:k.inclusive,priority:k.priority})},_e=()=>{Object.assign(L,{id:null,country:"",region:"",rate:0,inclusive:!1,priority:0})},U=()=>{o("save-tax",{id:L.id||void 0,country:L.country,region:L.region,rate:L.rate,inclusive:L.inclusive,priority:L.priority})},z=k=>{const O=n("COM_NXPEASYCART_SETTINGS_TAX_DELETE","Delete this tax rate?",[],"settingsTaxDelete");window.confirm(O)&&(o("delete-tax",[k.id]),L.id===k.id&&_e())};Fe(()=>l.saving,(k,O)=>{O&&!k&&!l.error&&_e()});const Q=k=>{var O,N,_;Object.assign(w,{id:k.id,name:k.name,type:k.type,price:(N=k.price)!=null?N:((O=k.price_cents)!=null?O:0)/100,threshold:k.threshold!==null&&k.threshold!==void 0?k.threshold:((_=k.threshold_cents)!=null?_:0)/100,regions:k.regions&&k.regions.length?k.regions.join(", "):"",active:k.active})},re=()=>{Object.assign(w,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},he=()=>{const k={id:w.id||void 0,name:w.name,type:w.type,price:w.price,threshold:w.type==="free_over"?w.threshold:0,regions:w.regions,active:w.active};o("save-shipping",k)},fe=k=>{const O=n("COM_NXPEASYCART_SETTINGS_SHIPPING_DELETE","Delete this shipping rule?",[],"settingsShippingDelete");window.confirm(O)&&(o("delete-shipping",[k.id]),w.id===k.id&&re())};Fe(()=>u.saving,(k,O)=>{O&&!k&&!u.error&&re()});const Ce=(k,O)=>{const N=(Number(k)||0)/100,_=(O||"").toUpperCase()||c.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:_}).format(N)}catch(h){return`${_} ${N.toFixed(2)}`}},Ie=k=>k==="free_over"?n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree"):n("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat");return(k,O)=>(R(),v("section",QC,[i("header",ZC,[i("div",null,[i("h2",eb,d(r(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",tb,d(r(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure taxes, shipping, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",nb,[i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":m.value==="general"}]),onClick:O[0]||(O[0]=N=>m.value="general")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":m.value==="security"}]),onClick:O[1]||(O[1]=N=>m.value="security")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":m.value==="tax"}]),onClick:O[2]||(O[2]=N=>m.value="tax")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_TAX","Tax rates",[],"settingsTabTax")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":m.value==="shipping"}]),onClick:O[3]||(O[3]=N=>m.value="shipping")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_SHIPPING","Shipping rules",[],"settingsTabShipping")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":m.value==="payments"}]),onClick:O[4]||(O[4]=N=>m.value="payments")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Pe(["nxp-ec-settings-tab",{"is-active":m.value==="visual"}]),onClick:O[5]||(O[5]=N=>m.value="visual")},d(r(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),m.value==="general"?(R(),v("div",sb,[i("header",ib,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,ob)]),r(a).error?(R(),v("div",ab,d(r(a).error),1)):r(a).loading?(R(),v("div",rb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(R(),v("form",{key:2,class:"nxp-ec-settings-form",onSubmit:gt(ne,["prevent"])},[i("div",lb,[i("label",cb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),te(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[6]||(O[6]=N=>C.storeName=N),maxlength:"190"},null,512),[[ce,C.storeName,void 0,{trim:!0}]])]),i("div",db,[i("label",ub,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),te(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":O[7]||(O[7]=N=>C.storeEmail=N)},null,512),[[ce,C.storeEmail,void 0,{trim:!0}]])]),i("div",pb,[i("label",_b,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),te(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[8]||(O[8]=N=>C.storePhone=N),maxlength:"64"},null,512),[[ce,C.storePhone,void 0,{trim:!0}]])]),i("div",fb,[i("label",mb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),te(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[9]||(O[9]=N=>C.checkoutPhoneRequired=N)},null,512),[[_t,C.checkoutPhoneRequired]]),i("p",hb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",gb,[i("label",Eb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),te(i("input",{id:"settings-base-currency",class:"nxp-ec-form-input nxp-ec-form-input--uppercase",type:"text","onUpdate:modelValue":O[10]||(O[10]=N=>C.baseCurrency=N),minlength:"3",maxlength:"3",pattern:"[A-Za-z]{3}",required:""},null,512),[[ce,C.baseCurrency,void 0,{trim:!0}]]),i("p",Sb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Use ISO 4217 currency codes such as USD or EUR.",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",Cb,[i("label",bb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),te(i("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":O[11]||(O[11]=N=>C.categoryPageSize=N)},null,512),[[ce,C.categoryPageSize,void 0,{number:!0}]]),i("p",Ab,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),i("div",Tb,[i("label",yb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),te(i("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":O[12]||(O[12]=N=>C.categoryPaginationMode=N)},[i("option",Ob,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),i("option",Rb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[ht,C.categoryPaginationMode]]),i("p",xb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)]),i("div",vb,[i("label",Nb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsGeneralPaymentsConfigured")),1),te(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[13]||(O[13]=N=>C.paymentsConfigured=N)},null,512),[[_t,C.paymentsConfigured]]),i("p",Pb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsGeneralPaymentsHelp")),1)]),i("div",Mb,[i("label",Ib,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),te(i("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[14]||(O[14]=N=>C.autoSendOrderEmails=N)},null,512),[[_t,C.autoSendOrderEmails]]),i("p",kb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)]),i("fieldset",wb,[i("legend",$b,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),i("div",Lb,[i("label",Db,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),te(i("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[15]||(O[15]=N=>C.staleOrderCleanupEnabled=N)},null,512),[[_t,C.staleOrderCleanupEnabled]]),i("p",Ub,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),C.staleOrderCleanupEnabled?(R(),v("div",Yb,[i("label",Xb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),te(i("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":O[16]||(O[16]=N=>C.staleOrderHours=N)},null,512),[[ce,C.staleOrderHours,void 0,{number:!0}]]),i("p",Fb,d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):pe("",!0)]),i("div",Gb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:de,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,Vb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,Hb)])],32))])):m.value==="security"?(R(),v("div",Bb,[i("header",Kb,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:j,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,jb)]),r(a).error?(R(),v("div",Jb,d(r(a).error),1)):(R(),v("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:gt(Se,["prevent"])},[i("p",Wb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",qb,[i("div",zb,[i("label",Qb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),te(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[17]||(O[17]=N=>x.checkoutWindowMinutes=N)},null,512),[[ce,x.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",Zb,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",eA,[i("label",tA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),te(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[18]||(O[18]=N=>x.offlineWindowMinutes=N)},null,512),[[ce,x.offlineWindowMinutes,void 0,{number:!0}]]),i("p",nA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",sA,[i("div",iA,[i("label",oA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),te(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[19]||(O[19]=N=>x.checkoutIpLimit=N)},null,512),[[ce,x.checkoutIpLimit,void 0,{number:!0}]])]),i("div",aA,[i("label",rA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),te(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[20]||(O[20]=N=>x.checkoutEmailLimit=N)},null,512),[[ce,x.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",lA,[i("label",cA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),te(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[21]||(O[21]=N=>x.checkoutSessionLimit=N)},null,512),[[ce,x.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",dA,[i("div",uA,[i("label",pA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),te(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[22]||(O[22]=N=>x.offlineIpLimit=N)},null,512),[[ce,x.offlineIpLimit,void 0,{number:!0}]])]),i("div",_A,[i("label",fA,d(r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),te(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":O[23]||(O[23]=N=>x.offlineEmailLimit=N)},null,512),[[ce,x.offlineEmailLimit,void 0,{number:!0}]])])]),i("div",mA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:W,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,hA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,gA)])],32))])):m.value==="tax"?(R(),v("div",EA,[i("header",SA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_TITLE","Tax rates",[],"settingsTaxTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:Z,disabled:r(l).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,CA)]),r(l).error?(R(),v("div",bA,d(r(l).error),1)):(R(),v("div",AA,[i("div",TA,[i("table",yA,[i("thead",null,[i("tr",null,[i("th",OA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),i("th",RA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),i("th",xA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),i("th",vA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),i("th",NA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),O[66]||(O[66]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(l).items.length?pe("",!0):(R(),v("tr",PA,[i("td",MA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_EMPTY","No tax rates defined.",[],"settingsTaxEmpty")),1)])),(R(!0),v(Ae,null,Re(r(l).items,N=>{var _;return R(),v("tr",{key:N.id,class:Pe({"is-active":L.id===N.id})},[i("th",IA,d(N.country),1),i("td",null,d(N.region||""),1),i("td",null,d(((_=N.rate)!=null?_:0).toFixed(2))+"%",1),i("td",null,d(N.inclusive?r(n)("JYES","Yes"):r(n)("JNO","No")),1),i("td",null,d(N.priority),1),i("td",kA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:h=>ee(N),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[O[67]||(O[67]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",$A,d(r(n)("JEDIT","Edit")),1)],8,wA),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:h=>z(N),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[O[68]||(O[68]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",DA,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,LA)])],2)}),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:gt(U,["prevent"])},[i("h4",null,d(L.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_TAX_ADD","Add tax rate",[],"settingsTaxAdd")),1),i("div",UA,[i("label",YA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_COUNTRY","Country",[],"settingsTaxCountry")),1),te(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[24]||(O[24]=N=>L.country=N),maxlength:"2",required:""},null,512),[[ce,L.country,void 0,{trim:!0}]])]),i("div",XA,[i("label",FA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_REGION","Region",[],"settingsTaxRegion")),1),te(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[25]||(O[25]=N=>L.region=N)},null,512),[[ce,L.region,void 0,{trim:!0}]])]),i("div",GA,[i("label",VA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_RATE","Rate",[],"settingsTaxRate")),1),te(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[26]||(O[26]=N=>L.rate=N),required:""},null,512),[[ce,L.rate,void 0,{number:!0}]])]),i("div",HA,[i("label",BA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_INCLUSIVE","Inclusive",[],"settingsTaxInclusive")),1),te(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[27]||(O[27]=N=>L.inclusive=N)},null,512),[[_t,L.inclusive]])]),i("div",KA,[i("label",jA,d(r(n)("COM_NXPEASYCART_SETTINGS_TAX_PRIORITY","Priority",[],"settingsTaxPriority")),1),te(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":O[28]||(O[28]=N=>L.priority=N)},null,512),[[ce,L.priority,void 0,{number:!0}]])]),i("div",JA,[i("button",{class:"nxp-ec-btn",type:"button",onClick:_e,disabled:r(l).saving},d(r(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,WA),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(l).saving},d(r(l).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,qA)])],32)]))])):m.value==="shipping"?(R(),v("div",zA,[i("header",QA,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TITLE","Shipping rules",[],"settingsShippingTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:ie,disabled:r(u).loading},d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),9,ZA)]),r(u).error?(R(),v("div",eT,d(r(u).error),1)):(R(),v("div",tT,[i("div",nT,[i("table",sT,[i("thead",null,[i("tr",null,[i("th",iT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),i("th",oT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),i("th",aT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),i("th",rT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),i("th",lT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),i("th",cT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),O[69]||(O[69]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[r(u).items.length?pe("",!0):(R(),v("tr",dT,[i("td",uT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_EMPTY","No shipping rules defined.",[],"settingsShippingEmpty")),1)])),(R(!0),v(Ae,null,Re(r(u).items,N=>(R(),v("tr",{key:N.id,class:Pe({"is-active":w.id===N.id})},[i("th",pT,d(N.name),1),i("td",null,d(Ie(N.type)),1),i("td",null,d(Ce(N.price_cents,c.value)),1),i("td",null,d(N.type==="free_over"?Ce(N.threshold_cents,c.value):""),1),i("td",null,d(N.regions&&N.regions.length?N.regions.join(", "):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ALL","All regions",[],"settingsShippingAll")),1),i("td",null,[i("span",{class:Pe(["nxp-ec-badge",{"is-active":N.active}])},[i("i",{class:Pe(N.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),Me(" "+d(N.active?r(n)("JYES","Yes"):r(n)("JNO","No")),1)],2)]),i("td",_T,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:_=>Q(N),title:r(n)("JEDIT","Edit"),"aria-label":r(n)("JEDIT","Edit")},[O[70]||(O[70]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",mT,d(r(n)("JEDIT","Edit")),1)],8,fT),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:_=>fe(N),title:r(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":r(n)("COM_NXPEASYCART_REMOVE","Remove")},[O[71]||(O[71]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",gT,d(r(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,hT)])],2))),128))])])]),i("form",{class:"nxp-ec-settings-form",onSubmit:gt(he,["prevent"])},[i("h4",null,d(w.id?r(n)("JEDIT","Edit"):r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ADD","Add shipping rule",[],"settingsShippingAdd")),1),i("div",ET,[i("label",ST,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_NAME","Name",[],"settingsShippingName")),1),te(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[29]||(O[29]=N=>w.name=N),required:""},null,512),[[ce,w.name,void 0,{trim:!0}]])]),i("div",CT,[i("label",bT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE","Type",[],"settingsShippingType")),1),te(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":O[30]||(O[30]=N=>w.type=N)},[i("option",AT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FLAT","Flat rate",[],"settingsShippingTypeFlat")),1),i("option",TT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_TYPE_FREE","Free over threshold",[],"settingsShippingTypeFree")),1)],512),[[ht,w.type]])]),i("div",yT,[i("label",OT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_PRICE","Price",[],"settingsShippingPrice")),1),te(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[31]||(O[31]=N=>w.price=N),required:""},null,512),[[ce,w.price,void 0,{number:!0}]])]),w.type==="free_over"?(R(),v("div",RT,[i("label",xT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_THRESHOLD","Threshold",[],"settingsShippingThreshold")),1),te(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":O[32]||(O[32]=N=>w.threshold=N),required:""},null,512),[[ce,w.threshold,void 0,{number:!0}]])])):pe("",!0),i("div",vT,[i("label",NT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS","Regions",[],"settingsShippingRegions")),1),te(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[33]||(O[33]=N=>w.regions=N),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_REGIONS_PLACEHOLDER","Use comma-separated ISO codes (two-letter ISO31661 alpha2), e.g. US,GB,FR,DE,DK,MK,BG",[],"settingsShippingRegionsPlaceholder")},null,8,PT),[[ce,w.regions,void 0,{trim:!0}]])]),i("div",MT,[i("label",IT,d(r(n)("COM_NXPEASYCART_SETTINGS_SHIPPING_ACTIVE","Active",[],"settingsShippingActive")),1),te(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":O[34]||(O[34]=N=>w.active=N)},null,512),[[_t,w.active]])]),i("div",kT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:re,disabled:r(u).saving},d(r(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,wT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(u).saving},d(r(u).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,$T)])],32)]))])):m.value==="payments"?(R(),v("div",LT,[i("header",DT,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",UT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:B,disabled:r(p).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,YT)])]),r(p).error?(R(),v("div",XT,d(r(p).error),1)):r(p).loading?(R(),v("div",FT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(R(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:gt(q,["prevent"])},[i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",GT,[i("label",VT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),te(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[35]||(O[35]=N=>$.stripe.publishable_key=N)},null,512),[[ce,$.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",HT,[i("label",BT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),te(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":O[36]||(O[36]=N=>$.stripe.secret_key=N),autocomplete:"off"},null,512),[[ce,$.stripe.secret_key,void 0,{trim:!0}]])]),i("div",KT,[i("label",jT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),te(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":O[37]||(O[37]=N=>$.stripe.webhook_secret=N),autocomplete:"off"},null,512),[[ce,$.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",JT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",WT,[i("label",qT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),te(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":O[38]||(O[38]=N=>$.stripe.mode=N)},[i("option",zT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",QT,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ht,$.stripe.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",ZT,[i("label",ey,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),te(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[39]||(O[39]=N=>$.paypal.client_id=N)},null,512),[[ce,$.paypal.client_id,void 0,{trim:!0}]])]),i("div",ty,[i("label",ny,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),te(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":O[40]||(O[40]=N=>$.paypal.client_secret=N),autocomplete:"off"},null,512),[[ce,$.paypal.client_secret,void 0,{trim:!0}]])]),i("div",sy,[i("label",iy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),te(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[41]||(O[41]=N=>$.paypal.webhook_id=N)},null,512),[[ce,$.paypal.webhook_id,void 0,{trim:!0}]]),i("p",oy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",ay,[i("label",ry,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),te(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":O[42]||(O[42]=N=>$.paypal.mode=N)},[i("option",ly,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",cy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[ht,$.paypal.mode]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",dy,[i("label",uy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),te(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":O[43]||(O[43]=N=>$.cod.enabled=N)},null,512),[[_t,$.cod.enabled]])]),i("div",py,[i("label",_y,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),te(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[44]||(O[44]=N=>$.cod.label=N),placeholder:"Cash on delivery"},null,512),[[ce,$.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",fy,[i("label",my,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),te(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":O[45]||(O[45]=N=>$.bank_transfer.enabled=N)},null,512),[[_t,$.bank_transfer.enabled]])]),i("div",hy,[i("label",gy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),te(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[46]||(O[46]=N=>$.bank_transfer.label=N),placeholder:"Bank transfer"},null,512),[[ce,$.bank_transfer.label,void 0,{trim:!0}]])]),i("div",Ey,[i("label",Sy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),te(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":O[47]||(O[47]=N=>$.bank_transfer.instructions=N),placeholder:r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,Cy),[[ce,$.bank_transfer.instructions]]),i("p",by,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",Ay,[i("div",Ty,[i("label",yy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),te(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[48]||(O[48]=N=>$.bank_transfer.account_name=N)},null,512),[[ce,$.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",Oy,[i("label",Ry,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),te(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[49]||(O[49]=N=>$.bank_transfer.iban=N),maxlength:"34"},null,512),[[ce,$.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",xy,[i("label",vy,d(r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),te(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[50]||(O[50]=N=>$.bank_transfer.bic=N),maxlength:"11"},null,512),[[ce,$.bank_transfer.bic,void 0,{trim:!0}]])])])]),r(p).message?(R(),v("div",Ny,d(r(p).message),1)):pe("",!0),i("div",Py,[i("button",{class:"nxp-ec-btn",type:"button",onClick:H,disabled:r(p).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,My),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(p).saving},d(r(p).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,Iy)])],32))])):m.value==="visual"?(R(),v("div",ky,[i("header",wy,[i("h3",null,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:se,disabled:r(a).loading},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,$y)]),r(a).error?(R(),v("div",Ly,d(r(a).error),1)):r(a).loading?(R(),v("div",Dy,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(R(),v("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:gt(me,["prevent"])},[i("p",Uy,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",Yy,d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",Xy,[i("div",Fy,[i("label",Gy,d(r(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",Vy,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:P.primaryColor||D.value.primary,onInput:O[51]||(O[51]=N=>P.primaryColor=N.target.value)},null,40,Hy),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[52]||(O[52]=N=>P.primaryColor=N),placeholder:D.value.primary,maxlength:"7"},null,8,By),[[ce,P.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[53]||(O[53]=N=>P.primaryColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",Ky,[i("label",jy,d(r(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",Jy,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:P.textColor||D.value.text,onInput:O[54]||(O[54]=N=>P.textColor=N.target.value)},null,40,Wy),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[55]||(O[55]=N=>P.textColor=N),placeholder:D.value.text,maxlength:"7"},null,8,qy),[[ce,P.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[56]||(O[56]=N=>P.textColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",zy,[i("label",Qy,d(r(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",Zy,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:P.surfaceColor||D.value.surface,onInput:O[57]||(O[57]=N=>P.surfaceColor=N.target.value)},null,40,eO),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[58]||(O[58]=N=>P.surfaceColor=N),placeholder:D.value.surface,maxlength:"7"},null,8,tO),[[ce,P.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[59]||(O[59]=N=>P.surfaceColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",nO,[i("label",sO,d(r(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",iO,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:P.borderColor||D.value.border,onInput:O[60]||(O[60]=N=>P.borderColor=N.target.value)},null,40,oO),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[61]||(O[61]=N=>P.borderColor=N),placeholder:D.value.border,maxlength:"7"},null,8,aO),[[ce,P.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[62]||(O[62]=N=>P.borderColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",rO,[i("label",lO,d(r(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",cO,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:P.mutedColor||D.value.muted,onInput:O[63]||(O[63]=N=>P.mutedColor=N.target.value)},null,40,dO),te(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":O[64]||(O[64]=N=>P.mutedColor=N),placeholder:D.value.muted,maxlength:"7"},null,8,uO),[[ce,P.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:O[65]||(O[65]=N=>P.mutedColor="")},d(r(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",pO,[i("h4",null,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:Ft(K.value)},[i("button",_O,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",fO,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",mO,d(r(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),i("div",hO,[i("button",{class:"nxp-ec-btn",type:"button",onClick:ue,disabled:r(a).saving},d(r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,gO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:r(a).saving},d(r(a).saving?r(n)("JPROCESSING_REQUEST","Saving"):r(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,EO)])],32))])):pe("",!0)]))}},[["__scopeId","data-v-cdf2cf72"]]),CO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},bO={class:"nxp-ec-admin-panel__header"},AO={class:"nxp-ec-admin-panel__title"},TO={class:"nxp-ec-admin-panel__lead"},yO={class:"nxp-ec-admin-panel__actions"},OO=["placeholder","aria-label"],RO=["value"],xO={value:""},vO=["value"],NO=["disabled","title","aria-label"],PO={class:"nxp-ec-sr-only"},MO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},IO={key:1,class:"nxp-ec-admin-panel__body"},kO={key:2,class:"nxp-ec-admin-panel__body"},wO={class:"nxp-ec-admin-panel__table"},$O={class:"nxp-ec-admin-table"},LO={scope:"col"},DO={scope:"col"},UO={scope:"col"},YO={scope:"col"},XO={scope:"col"},FO={key:0},GO={colspan:"5"},VO=["data-label"],HO=["data-label"],BO={class:"nxp-ec-log-entity"},KO={class:"nxp-ec-log-entity-id"},jO=["data-label"],JO=["data-label"],WO=["data-label"],qO={class:"nxp-ec-log-context"},zO={key:0,class:"nxp-ec-admin-pagination"},QO=["disabled"],ZO={class:"nxp-ec-admin-pagination__status"},eR=["disabled"],tR=["title"],nR=xt({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,o=t,n=s.translate,a=s.state,l=Ee(()=>{const $=new Set;return Array.isArray(a.items)&&a.items.forEach(P=>{P!=null&&P.entity_type&&$.add(P.entity_type)}),a.entity&&$.add(a.entity),Array.from($).sort()}),u=()=>o("refresh"),p=()=>o("search"),S=$=>o("filter",$),m=$=>o("page",$),c=$=>{if(!$)return"";try{const P=new Date($.replace(" ","T"));if(!Number.isNaN(P.getTime()))return P.toLocaleString()}catch(P){}return $},C=$=>{if(!$)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch($){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return $.charAt(0).toUpperCase()+$.slice(1)}},x=$=>{if(!($!=null&&$.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const P=$.user.name||"",D=$.user.username||"";return P&&D?`${P} (${D})`:P||D||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},L=$=>{if(!$||Array.isArray($)&&!$.length||typeof $=="object"&&!Object.keys($).length)return"";try{return JSON.stringify($,null,2)}catch(P){return String($)}},w=$=>{if(!$)return"";try{const P=new Date($),K=new Date-P,Y=Math.floor(K/1e3),E=Math.floor(Y/60),j=Math.floor(E/60);return Y<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):E<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[E]):j<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[j]):P.toLocaleString()}catch(P){return $}};return($,P)=>(R(),v("section",CO,[i("header",bO,[i("div",null,[i("h2",AO,d(r(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",TO,d(r(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",yO,[te(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":P[0]||(P[0]=D=>r(a).search=D),placeholder:r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":r(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:zt(p,["enter"])},null,40,OO),[[ce,r(a).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:r(a).entity,onChange:P[1]||(P[1]=D=>S(D.target.value)),"aria-label":"Entity filter"},[i("option",xO,d(r(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(R(!0),v(Ae,null,Re(l.value,D=>(R(),v("option",{key:D,value:D},d(C(D)),9,vO))),128))],40,RO),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:r(a).loading,title:r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[P[4]||(P[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",PO,d(r(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,NO)])]),r(a).error?(R(),v("div",MO,d(r(a).error),1)):pe("",!0),r(a).loading?(R(),v("div",IO,[Be(Dn,{type:"table",rows:5,columns:5})])):pe("",!0),r(a).loading?pe("",!0):(R(),v("div",kO,[i("div",wO,[i("table",$O,[i("thead",null,[i("tr",null,[i("th",LO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",DO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",UO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",YO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",XO,d(r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[r(a).items.length?pe("",!0):(R(),v("tr",FO,[i("td",GO,d(r(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(R(!0),v(Ae,null,Re(r(a).items,D=>(R(),v("tr",{key:D.id},[i("td",{class:"nxp-ec-admin-table__primary","data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},d(c(D.created)),9,VO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[i("span",BO,d(C(D.entity_type)),1),i("span",KO,"#"+d(D.entity_id),1)],8,HO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},d(D.action),9,jO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},d(x(D)),9,JO),i("td",{"data-label":r(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[i("pre",qO,d(L(D.context)),1)],8,WO)]))),128))])]),r(a).pagination.pages>1?(R(),v("div",zO,[i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current<=1,onClick:P[2]||(P[2]=D=>m(r(a).pagination.current-1))},"  ",8,QO),i("span",ZO,d(r(a).pagination.current)+" / "+d(r(a).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:r(a).pagination.current>=r(a).pagination.pages,onClick:P[3]||(P[3]=D=>m(r(a).pagination.current+1))},"  ",8,eR)])):pe("",!0)]),r(a).lastUpdated?(R(),v("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:r(a).lastUpdated},d(r(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(w(r(a).lastUpdated)),9,tR)):pe("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),sR={key:0,class:"nxp-ec-onboarding"},iR={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},oR={class:"nxp-ec-onboarding__header"},aR={class:"nxp-ec-onboarding__title"},rR={class:"nxp-ec-onboarding__lead"},lR={class:"nxp-ec-onboarding__progress"},cR={class:"nxp-ec-onboarding__progress-bar"},dR={class:"nxp-ec-onboarding__progress-label"},uR={class:"nxp-ec-onboarding__steps"},pR={class:"nxp-ec-onboarding__step-main"},_R={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},fR={key:0,class:"fa-solid fa-circle-check"},mR={key:1,class:"fa-regular fa-circle"},hR={class:"nxp-ec-onboarding__step-actions"},gR=["onClick"],ER=xt({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,o=Ee(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=Ee(()=>`${o.value}%`),a=Ee(()=>{const l=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(l),String(t.steps.length)],"onboardingProgress")});return(l,u)=>e.visible?(R(),v("div",sR,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=p=>l.$emit("close"))}),i("section",iR,[i("header",oR,[i("div",null,[i("h2",aR,d(r(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",rR,d(r(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=p=>l.$emit("close"))},d(r(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",lR,[i("div",cR,[i("span",{style:Ft({width:n.value})},null,4)]),i("span",dR,d(a.value),1)]),i("ol",uR,[(R(!0),v(Ae,null,Re(e.steps,p=>(R(),v("li",{key:p.id,class:Pe({"is-complete":p.completed})},[i("div",pR,[i("span",_R,[p.completed?(R(),v("span",fR)):(R(),v("span",mR))]),i("div",null,[i("h3",null,d(r(s)(p.titleKey,p.titleFallback,[],`${p.id}-title`)),1),i("p",null,d(r(s)(p.descriptionKey,p.descriptionFallback,[],`${p.id}-description`)),1)])]),i("div",hR,[p.link?(R(),v("button",{key:0,type:"button",class:Pe(["nxp-ec-btn",{"nxp-ec-btn--ghost":p.completed}]),onClick:S=>l.$emit("navigate",p)},d(p.completed?r(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${p.id}-action`):r(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${p.id}-action`)),11,gR)):pe("",!0)])],2))),128))])])])):pe("",!0)}},[["__scopeId","data-v-c2a94811"]]),SR=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(a){}let o=String(e);return t.forEach(a=>{const l=a!=null?a:"";o=o.replace("%s",String(l))}),o},CR=(e,t="",s=[])=>{var a;const o=(a=window==null?void 0:window.Joomla)==null?void 0:a.Text;let n=t||e;if(o&&typeof o._=="function"){const l=o._(e);l&&l!==e&&(n=l)}return SR(n,s)};function bR(e={}){const t=e||{},s=(n,a)=>{if(!n)return a;const l=t[n];return l!=null&&l!==""?l:a};return{__:(n,a="",l=[],u="")=>{const p=s(u,a);return CR(n,p,l)}}}class AR{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const o={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};o.headers={...o.headers,...s.headers||{}};const n=String(o.method||"GET").toUpperCase();let a=t;this.token&&(o.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(a=this.ensureTokenOnUrl(a)));const l=await fetch(a,o);let u=null;const p=await l.text();if(p)try{u=JSON.parse(p)}catch(S){}if(!l.ok){const S=new Error((u==null?void 0:u.message)||`Request failed with status ${l.status}`);throw S.code=l.status,S.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,S}if((u==null?void 0:u.success)===!1){const S=new Error(u.message||"Unknown API error");throw S.details=u.data||u.errors||null,S}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const o=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,o);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(o){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,o={}){const n={"Content-Type":"application/json",...o.headers||{}};return this.request(t,{...o,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var C,x,L,w;const l=new URLSearchParams({limit:String(s),start:String(o)});n&&l.set("search",n);const u=`${t}&${l.toString()}`,S=(C=(await this.get(u,{signal:a})).data)!=null?C:{},m=(L=(x=S.items)!=null?x:S.data)!=null?L:[],c=(w=S.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:m,pagination:c}}async fetchCategories({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var S,m,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(S=(await this.get(l,{signal:a})).data)!=null?S:{};return{items:(m=p.items)!=null?m:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:o=0,search:n="",state:a="",signal:l}){var C,x,L,w;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,state:a||void 0}),S=(C=(await this.get(u,{signal:l})).data)!=null?C:{},m=(L=(x=S.items)!=null?x:S.data)!=null?L:[],c=(w=S.pagination)!=null?w:{total:0,limit:s,pages:0,current:0};return{items:m,pagination:c}}async fetchCustomers({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var c,C,x;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(c=(await this.get(l,{signal:a})).data)!=null?c:{},S=(C=p.items)!=null?C:[],m=(x=p.pagination)!=null?x:{total:0,limit:s,pages:0,current:0};return{items:S,pagination:m}}async fetchCustomer({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.customer)!=null?l:null}async fetchCoupons({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var S,m,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(S=(await this.get(l,{signal:a})).data)!=null?S:{};return{items:(m=p.items)!=null?m:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?a:null}async updateCoupon({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchTaxRates({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var S,m,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(S=(await this.get(l,{signal:a})).data)!=null?S:{};return{items:(m=p.items)!=null?m:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?a:null}async updateTaxRate({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchShippingRules({endpoint:t,limit:s=20,start:o=0,search:n="",signal:a}){var S,m,c;const l=this.mergeParams(t,{limit:s,start:o,search:n||void 0}),p=(S=(await this.get(l,{signal:a})).data)!=null?S:{};return{items:(m=p.items)!=null?m:[],pagination:(c=p.pagination)!=null?c:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?a:null}async updateShippingRule({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async fetchLogs({endpoint:t,limit:s=20,start:o=0,search:n="",entity:a="",signal:l}){var m,c,C;const u=this.mergeParams(t,{limit:s,start:o,search:n||void 0,entity:a||void 0}),S=(m=(await this.get(u,{signal:l})).data)!=null?m:{};return{items:(c=S.items)!=null?c:[],pagination:(C=S.pagination)!=null?C:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var o;return t?(o=(await this.get(t)).data)!=null?o:{}:{}}async fetchSettings({endpoint:t}){var o,n;return t?(n=(o=(await this.get(t)).data)==null?void 0:o.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,a;return(a=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?a:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:o=""}){var l,u;const n=this.mergeParams(t,{id:s||void 0,order_no:o||void 0});return(u=(l=(await this.get(n)).data)==null?void 0:l.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.post(n,{state:o})).data)==null?void 0:l.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:o}){var l;const n={ids:s,state:o};return(l=(await this.post(t,n)).data)!=null?l:{}}async addOrderNote({endpoint:t,id:s,message:o}){var a,l;return(l=(a=(await this.post(t,{id:s,message:o})).data)==null?void 0:a.order)!=null?l:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:o}){var l,u;const n={id:s||void 0,order_no:o||void 0};return(u=(l=(await this.post(t,n)).data)==null?void 0:l.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:o=""}){var l,u;const n=this.mergeParams(t,{search:s||void 0,state:o||void 0});return(u=(l=(await this.get(n)).data)==null?void 0:l.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:o}){var a,l;return(l=(a=(await this.post(t,{id:s,...o})).data)==null?void 0:a.order)!=null?l:null}async sendOrderEmail({endpoint:t,id:s,type:o}){var a,l;return(l=(a=(await this.post(t,{id:s,type:o})).data)==null?void 0:a.order)!=null?l:null}async createProduct({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateProduct({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:[]}async createCategory({endpoint:t,data:s}){var n,a;return(a=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?a:null}async updateCategory({endpoint:t,id:s,data:o}){var l,u;const n=this.mergeParams(t,{id:s});return(u=(l=(await this.put(n,o)).data)==null?void 0:l.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,a;return(a=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?a:0}async gdprExport({endpoint:t,email:s}){var a,l;const o=this.mergeParams(t,{email:s});return(l=(a=(await this.get(o)).data)==null?void 0:a.export)!=null?l:null}async gdprAnonymise({endpoint:t,email:s}){var n,a,l,u;const o=await this.post(t,{email:s});return{affected:(a=(n=o.data)==null?void 0:n.affected)!=null?a:0,message:(u=(l=o.data)==null?void 0:l.message)!=null?u:""}}mergeParams(t,s={}){const o=new URLSearchParams;return Object.entries(s).forEach(([n,a])=>{a==null||a===""||o.set(n,String(a))}),o.toString()?`${t}${t.includes("?")?"&":"?"}${o.toString()}`:t}}const Et=e=>new AR(e),ia=typeof window!="undefined"&&window.performance;function oa(e){if(ia)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function TR(e,t,s){if(!ia)return null;try{performance.measure(e,t,s);const o=performance.getEntriesByName(e,"measure")[0];if(o)return console.log(`[NXP EC Performance] ${e}: ${o.duration.toFixed(2)}ms`),o.duration}catch(o){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,o)}return null}const gs=$e({}),yR=3e5;function OR(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function vt(e,t=yR){const s=gs[e];return s?OR(s,t)?s.data:(delete gs[e],null):null}function St(e,t){gs[e]={data:t,timestamp:Date.now()}}function Ue(e){delete gs[e]}function Nt(e){const t=He({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const l=`${e}-fetch-start`;return oa(l),l},endFetch:l=>{const u=`${e}-fetch-end`;oa(u);const p=TR(`${e}-fetch`,l,u);p!==null&&(t.value.lastFetchDuration=p),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1,console.log(`[NXP EC Cache] Hit for ${e} (${t.value.cacheHits} hits, ${t.value.cacheMisses} misses)`)},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const li=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.products.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function RR({endpoints:e,token:t,autoload:s=!0,cacheTTL:o=3e5}){var j,ne,de,Se;const n=Et({token:t}),a=Nt("products"),l=(j=e==null?void 0:e.list)!=null?j:"",u=(ne=e==null?void 0:e.create)!=null?ne:li(l,"store"),p=(de=e==null?void 0:e.update)!=null?de:li(l,"update"),S=(Se=e==null?void 0:e.delete)!=null?Se:li(l,"delete"),m=typeof AbortController!="undefined",c=$e({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),C=He(null),x=()=>{const W=c.pagination.current||1,B=c.pagination.limit||20,q=c.search.trim();return`products:page=${W}:limit=${B}:search=${q}`},L=async(W=!1)=>{var me;if(!l){c.error="Products endpoint unavailable.",c.items=[];return}const B=x(),q=W?null:vt(B,o);if(q){a.recordCacheHit(),c.items=q.items,c.pagination={...c.pagination,...q.pagination},c.lastUpdated=q.lastUpdated;return}a.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],C.value&&m&&C.value.abort();const H=m?new AbortController:null;C.value=H;const se=a.startFetch();try{const{items:ue,pagination:Z}=await n.fetchProducts({endpoint:l,signal:H?H.signal:void 0,limit:c.pagination.limit,start:Math.max(0,(c.pagination.current-1)*c.pagination.limit),search:c.search.trim()});c.items=ue,c.pagination={...c.pagination,...Z,current:Z.current&&Z.current>0?Z.current:1},c.lastUpdated=new Date().toISOString(),St(B,{items:ue,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(ue){if((ue==null?void 0:ue.name)==="AbortError")return;c.error=(me=ue==null?void 0:ue.message)!=null?me:"Unknown error"}finally{a.endFetch(se),m&&C.value===H&&(C.value=null),c.loading=!1}},w=()=>{c.pagination.current=1,Ue(x()),L(!0)},$=()=>{c.pagination.current=1,L()},P=W=>W?typeof W=="string"?W:typeof W=="object"&&W.message?String(W.message):String(W):"",D=(W,{setValidation:B=!1}={})=>{var q;if((W==null?void 0:W.code)===422&&B){const H=Array.isArray(W.details)?W.details:[W.details].filter(Boolean);c.validationErrors=H.map(P).filter(se=>se!=="");return}c.error=(q=W==null?void 0:W.message)!=null?q:"Unknown error"},K=async W=>{if(!u)throw new Error("Create endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const B=await n.createProduct({endpoint:u,data:W});return B&&(c.items=[B,...c.items],c.pagination.total+=1,Ue(x())),B}catch(B){throw D(B,{setValidation:!0}),B}finally{c.saving=!1}},Y=async(W,B)=>{if(!p)throw new Error("Update endpoint unavailable.");c.saving=!0,c.validationErrors=[];try{const q=await n.updateProduct({endpoint:p,id:W,data:B});if(q){const H=c.items.findIndex(se=>se.id===q.id);H!==-1&&c.items.splice(H,1,q),Ue(x())}return q}catch(q){throw D(q,{setValidation:!0}),q}finally{c.saving=!1}},E=async W=>{if(!S)throw new Error("Delete endpoint unavailable.");c.deleting=!0,c.validationErrors=[];try{const B=await n.deleteProducts({endpoint:S,ids:W});return B.length&&(c.items=c.items.filter(q=>!B.includes(q.id)),c.pagination.total=Math.max(0,c.pagination.total-B.length),Ue(x())),B}catch(B){throw D(B),B}finally{c.deleting=!1}};return it(()=>{s&&L()}),{state:c,loadProducts:L,refresh:w,search:$,createProduct:K,updateProduct:Y,deleteProducts:E,metrics:a.metrics}}function xR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var ne,de,Se,W,B,q,H,se,me,ue,Z,ie,ee,_e;const a=Et({token:t}),l=Nt("categories"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.create)!=null?de:u,S=(Se=e==null?void 0:e.update)!=null?Se:u,m=(W=e==null?void 0:e.delete)!=null?W:u,c=$e({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(se=(H=(B=s.pagination)==null?void 0:B.total)!=null?H:(q=s.items)==null?void 0:q.length)!=null?se:0,limit:(ue=(me=s.pagination)==null?void 0:me.limit)!=null?ue:20,pages:(ie=(Z=s.pagination)==null?void 0:Z.pages)!=null?ie:0,current:(_e=(ee=s.pagination)==null?void 0:ee.current)!=null?_e:1},search:"",lastUpdated:null}),C=typeof AbortController!="undefined",x=He(null),L=()=>{const U=c.pagination.current||1,z=c.pagination.limit||20,Q=c.search.trim();return`categories:page=${U}:limit=${z}:search=${Q}`},w=async(U=!1)=>{var fe;if(!u){c.error="Categories endpoint unavailable.",c.items=[];return}const z=L(),Q=U?null:vt(z,n);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",c.validationErrors=[],x.value&&C&&x.value.abort();const re=C?new AbortController:null;x.value=re;const he=l.startFetch();try{const Ce=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:Ie,pagination:k}=await a.fetchCategories({endpoint:u,limit:c.pagination.limit,start:Ce,search:c.search.trim(),signal:re?re.signal:void 0});c.items=Ie,c.pagination={...c.pagination,...k,current:k.current&&k.current>0?k.current:1},c.lastUpdated=new Date().toISOString(),St(z,{items:Ie,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Ce){if((Ce==null?void 0:Ce.name)==="AbortError")return;c.error=(fe=Ce==null?void 0:Ce.message)!=null?fe:"Unknown error"}finally{l.endFetch(he),C&&x.value===re&&(x.value=null),c.loading=!1}},$=()=>{c.pagination.current=1,Ue(L()),w(!0)},P=()=>{c.pagination.current=1,w()},D=U=>{const z=Number(U);Number.isNaN(z)||z<1||z===c.pagination.current||(c.pagination.current=z,w(!0))},K=(U,{validation:z=!1}={})=>{var Q;if(z&&(U==null?void 0:U.code)===422){const re=U.details,he=Array.isArray(re)?re:[re].filter(Boolean);c.validationErrors=he.map(fe=>fe?typeof fe=="string"?fe:typeof fe=="object"&&fe.message?String(fe.message):String(fe):"").filter(Boolean);return}c.error=(Q=U==null?void 0:U.message)!=null?Q:"Unknown error"},Y=async U=>{if(!p||!S)throw new Error("Category endpoints unavailable.");c.saving=!0,c.error="",c.validationErrors=[];try{let z=null;return U.id?z=await a.updateCategory({endpoint:S,id:U.id,data:U}):z=await a.createCategory({endpoint:p,data:U}),z&&(Ue(L()),await w()),z}catch(z){throw K(z,{validation:!0}),z}finally{c.saving=!1}},E=async U=>{if(!Array.isArray(U)||!U.length||!m)return 0;c.deleting=!0,c.error="";try{const z=await a.deleteCategories({endpoint:m,ids:U});return z&&(Ue(L()),await w()),z}catch(z){throw K(z),z}finally{c.deleting=!1}},j=async()=>{if(!u)return[];try{const{items:U}=await a.fetchCategories({endpoint:u,limit:200,start:0,search:""});return U}catch(U){return[]}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadCategories:w,refresh:$,search:P,goToPage:D,saveCategory:Y,deleteCategories:E,loadOptions:j,metrics:l.metrics}}const Kt=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",o=new URL(e,s);return o.searchParams.set("task",`api.orders.${t}`),`${o.pathname}?${o.searchParams.toString()}`};function vR({endpoints:e,token:t,states:s=[],preload:o={},autoload:n=!0,cacheTTL:a=3e5}){var fe,Ce,Ie,k,O,N,_,h,M,F,y,G,A;const l=Et({token:t}),u=Nt("orders"),p=(fe=e==null?void 0:e.list)!=null?fe:"",S=(Ce=e==null?void 0:e.show)!=null?Ce:Kt(p,"show"),m=(Ie=e==null?void 0:e.transition)!=null?Ie:Kt(p,"transition"),c=(k=e==null?void 0:e.bulkTransition)!=null?k:Kt(p,"bulkTransition"),C=(O=e==null?void 0:e.note)!=null?O:Kt(p,"note"),x=(N=e==null?void 0:e.tracking)!=null?N:Kt(p,"tracking"),L=(_=e==null?void 0:e.invoice)!=null?_:Kt(p,"invoice"),w=(h=e==null?void 0:e.export)!=null?h:Kt(p,"export"),$=(M=e==null?void 0:e.sendEmail)!=null?M:Kt(p,"sendEmail"),P=typeof AbortController!="undefined",D=He(null),K=Array.isArray(o==null?void 0:o.items)?o.items:[],Y=o!=null&&o.pagination&&typeof o.pagination=="object"?o.pagination:{},E=$e({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...K],pagination:{total:(F=Y.total)!=null?F:K.length,limit:(y=Y.limit)!=null?y:20,pages:(G=Y.pages)!=null?G:0,current:(A=Y.current)!=null?A:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),j=()=>{const f=E.pagination.current||1,g=E.pagination.limit||20,b=E.search.trim(),T=E.filterState||"";return`orders:page=${f}:limit=${g}:search=${b}:state=${T}`},ne=async(f=!1)=>{var J;if(!p){E.error="Orders endpoint unavailable.",E.items=[];return}const g=j(),b=f?null:vt(g,a);if(b){u.recordCacheHit(),E.items=b.items,E.pagination={...E.pagination,...b.pagination},E.lastUpdated=b.lastUpdated;return}u.recordCacheMiss(),E.loading=!0,E.error="",D.value&&P&&D.value.abort();const T=P?new AbortController:null;D.value=T;const I=u.startFetch();try{const V=Math.max(0,(E.pagination.current-1)*E.pagination.limit),{items:ae,pagination:le}=await l.fetchOrders({endpoint:p,limit:E.pagination.limit,start:V,search:E.search.trim(),state:E.filterState,signal:T?T.signal:void 0});E.items=ae,E.pagination={...E.pagination,...le,current:le.current&&le.current>0?le.current:1},E.selection.clear(),E.lastUpdated=new Date().toISOString(),St(g,{items:ae,pagination:E.pagination,lastUpdated:E.lastUpdated})}catch(V){if((V==null?void 0:V.name)==="AbortError")return;E.error=(J=V==null?void 0:V.message)!=null?J:"Unknown error"}finally{u.endFetch(I),P&&D.value===T&&(D.value=null),E.loading=!1}},de=()=>{E.pagination.current=1,Ue(j()),ne(!0)},Se=()=>{E.pagination.current=1,ne()},W=f=>{E.filterState=f||"",E.pagination.current=1,ne()},B=f=>{const g=Number(f);Number.isNaN(g)||g<1||g===E.pagination.current||(E.pagination.current=g,ne(!0))},q=()=>{E.selection.clear()},H=f=>{f&&(E.selection.has(f)?E.selection.delete(f):E.selection.add(f))},se=()=>{E.pagination.current>=E.pagination.pages||(E.pagination.current+=1,ne(!0))},me=()=>{E.pagination.current<=1||(E.pagination.current-=1,ne(!0))},ue=async(f,g="")=>{var b;if(!S)return null;try{return await l.fetchOrder({endpoint:S,id:f,orderNumber:g})}catch(T){return E.transitionError=(b=T==null?void 0:T.message)!=null?b:"Unknown error",null}},Z=async f=>{var g,b,T,I,J,V,ae;if(!f){E.activeOrder=null;return}if(E.transitionError="",f.items&&f.items.length&&f.billing){E.activeOrder=f;return}try{const le=await ue(f.id,f.order_no);E.activeOrder=le||{...f,items:Array.isArray(f.items)?f.items:[],transactions:(g=f.transactions)!=null?g:[],timeline:(b=f.timeline)!=null?b:[],billing:(T=f.billing)!=null?T:{}}}catch(le){E.transitionError=(I=le==null?void 0:le.message)!=null?I:"Unknown error",E.activeOrder={...f,items:Array.isArray(f.items)?f.items:[],transactions:(J=f.transactions)!=null?J:[],timeline:(V=f.timeline)!=null?V:[],billing:(ae=f.billing)!=null?ae:{}}}},ie=()=>{E.transitionError="",E.activeOrder=null},ee=f=>{if(!(f!=null&&f.id))return;const g=E.items.findIndex(b=>b.id===f.id);g!==-1&&E.items.splice(g,1,f)},_e=async(f,g)=>{var b;if(!m)throw new Error("Transition endpoint unavailable.");E.saving=!0,E.transitionError="";try{const T=await l.transitionOrder({endpoint:m,id:f,state:g});return T&&(ee(T),E.activeOrder&&E.activeOrder.id===T.id&&(E.activeOrder=T),Ue(j())),T}catch(T){throw E.transitionError=(b=T==null?void 0:T.message)!=null?b:"Unknown error",T}finally{E.saving=!1}},U=async(f,g)=>{var b;if(!x)throw new Error("Tracking endpoint unavailable.");E.saving=!0,E.transitionError="";try{const T=await l.updateOrderTracking({endpoint:x,id:f,tracking:g});return T&&(ee(T),E.activeOrder&&E.activeOrder.id===T.id&&(E.activeOrder=T),Ue(j())),T}catch(T){throw E.transitionError=(b=T==null?void 0:T.message)!=null?b:"Unknown error",T}finally{E.saving=!1}},z=async(f,g="")=>{var b;if(!L)throw new Error("Invoice endpoint unavailable.");E.invoiceLoading=!0,E.transitionError="";try{const T=await l.fetchOrderInvoice({endpoint:L,id:f,orderNumber:g});if(!T)throw new Error("Invoice not available.");return T}catch(T){throw E.transitionError=(b=T==null?void 0:T.message)!=null?b:"Unknown error",T}finally{E.invoiceLoading=!1}},Q=async()=>{var f;if(!w)throw new Error("Export endpoint unavailable.");E.exporting=!0,E.error="";try{const g=await l.exportOrders({endpoint:w,search:E.search.trim(),state:E.filterState});if(!g)throw new Error("Export not available.");return g}catch(g){throw E.error=(f=g==null?void 0:g.message)!=null?f:"Export failed",g}finally{E.exporting=!1}},re=async(f,g)=>{var b;if(!$)throw new Error("Send email endpoint unavailable.");E.saving=!0,E.transitionError="";try{const T=await l.sendOrderEmail({endpoint:$,id:f,type:g});return T&&(ee(T),E.activeOrder&&E.activeOrder.id===T.id&&(E.activeOrder=T),Ue(j())),T}catch(T){throw E.transitionError=(b=T==null?void 0:T.message)!=null?b:"Failed to send email",T}finally{E.saving=!1}},he=async(f,g)=>{var b;if(!c)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(f)||!f.length)return{updated:[]};E.saving=!0;try{const T=await l.bulkTransitionOrders({endpoint:c,ids:f,state:g}),I=Array.isArray(T.updated)?T.updated:[];return I.forEach(J=>{ee(J),E.activeOrder&&E.activeOrder.id===J.id&&(E.activeOrder=J)}),q(),{updated:I}}catch(T){throw E.transitionError=(b=T==null?void 0:T.message)!=null?b:"Unknown error",T}finally{E.saving=!1}};return it(()=>{n&&ne()}),{state:E,loadOrders:ne,refresh:de,search:Se,setFilterState:W,goToPage:B,nextPage:se,previousPage:me,viewOrder:Z,closeOrder:ie,transitionOrder:_e,bulkTransition:he,updateTracking:U,downloadInvoice:z,exportOrders:Q,sendEmail:re,toggleSelection:H,clearSelection:q,metrics:u.metrics,addNote:async(f,g)=>{var b;if(!C)throw new Error("Note endpoint unavailable.");if(!f||!g||!g.trim())return null;E.transitionError="",E.saving=!0;try{const T=await l.addOrderNote({endpoint:C,id:f,message:g});return T&&(ee(T),E.activeOrder&&E.activeOrder.id===T.id&&(E.activeOrder=T)),T}catch(T){throw E.transitionError=(b=T==null?void 0:T.message)!=null?b:"Unknown error",T}finally{E.saving=!1}}}}function NR({endpoint:e="",token:t="",preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var m,c,C;const a=Et({token:t}),l=Nt("dashboard"),u=$e({loading:!1,error:"",summary:(C=s.summary)!=null?C:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(c=(m=s.summary)==null?void 0:m.currency)!=null?c:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),p=()=>"dashboard",S=async(x=!1)=>{var P,D;if(!e)return;const L=p(),w=x?null:vt(L,n);if(w){l.recordCacheHit(),u.summary=w.summary,u.checklist=w.checklist,u.lastUpdated=w.lastUpdated;return}l.recordCacheMiss(),u.loading=!0,u.error="";const $=l.startFetch();try{const K=await a.fetchDashboard({endpoint:e});u.summary=(P=K.summary)!=null?P:u.summary,u.checklist=Array.isArray(K.checklist)?K.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),St(L,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch(K){u.error=(D=K==null?void 0:K.message)!=null?D:"Unknown error"}finally{l.endFetch($),u.loading=!1}};return it(()=>{o&&(!Array.isArray(u.checklist)||!u.checklist.length)&&S()}),{state:u,refresh:S,metrics:l.metrics}}function PR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var ne,de,Se,W,B,q,H,se,me,ue,Z,ie,ee,_e,U,z,Q;const a=Et({token:t}),l=Nt("customers"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.show)!=null?de:"",S=(W=(Se=e==null?void 0:e.gdpr)==null?void 0:Se.export)!=null?W:"",m=(q=(B=e==null?void 0:e.gdpr)==null?void 0:B.anonymise)!=null?q:"",c=$e({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(ue=(me=(H=s.pagination)==null?void 0:H.total)!=null?me:(se=s.items)==null?void 0:se.length)!=null?ue:0,limit:(ie=(Z=s.pagination)==null?void 0:Z.limit)!=null?ie:20,pages:(_e=(ee=s.pagination)==null?void 0:ee.pages)!=null?_e:0,current:(z=(U=s.pagination)==null?void 0:U.current)!=null?z:1},search:"",activeCustomer:(Q=s.active)!=null?Q:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),C=typeof AbortController!="undefined",x=He(null),L=()=>{const re=c.pagination.current||1,he=c.pagination.limit||20,fe=c.search.trim();return`customers:page=${re}:limit=${he}:search=${fe}`},w=async(re=!1)=>{var k;if(!u){c.error="Customers endpoint unavailable.",c.items=[];return}const he=L(),fe=re?null:vt(he,n);if(fe){l.recordCacheHit(),c.items=fe.items,c.pagination={...c.pagination,...fe.pagination},c.lastUpdated=fe.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",x.value&&C&&x.value.abort();const Ce=C?new AbortController:null;x.value=Ce;const Ie=l.startFetch();try{const O=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:N,pagination:_}=await a.fetchCustomers({endpoint:u,limit:c.pagination.limit,start:O,search:c.search.trim(),signal:Ce?Ce.signal:void 0});c.items=N,c.pagination={...c.pagination,..._,current:_.current&&_.current>0?_.current:1},c.lastUpdated=new Date().toISOString(),St(he,{items:N,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(O){if((O==null?void 0:O.name)==="AbortError")return;c.error=(k=O==null?void 0:O.message)!=null?k:"Unknown error"}finally{l.endFetch(Ie),C&&x.value===Ce&&(x.value=null),c.loading=!1}},$=()=>{c.pagination.current=1,Ue(L()),w(!0)},P=()=>{c.pagination.current=1,w()},D=re=>{const he=Number(re);Number.isNaN(he)||he<1||he===c.pagination.current||(c.pagination.current=he,w(!0))},K=async re=>{var he;if(!p||!(re!=null&&re.email)){c.activeCustomer=re||null;return}try{const fe=await a.fetchCustomer({endpoint:p,email:re.email});c.activeCustomer=fe||re}catch(fe){c.error=(he=fe==null?void 0:fe.message)!=null?he:"Unknown error"}},Y=()=>{c.activeCustomer=null,c.gdprMessage="",c.gdprSuccess=!1},E=async re=>{var he;if(!S||!re){c.gdprMessage="GDPR export endpoint unavailable.",c.gdprSuccess=!1;return}c.gdprLoading=!0,c.gdprMessage="";try{const fe=await a.gdprExport({endpoint:S,email:re});if(!fe)throw new Error("No data returned");const Ce=new Blob([JSON.stringify(fe,null,2)],{type:"application/json"}),Ie=URL.createObjectURL(Ce),k=document.createElement("a");k.href=Ie,k.download=`gdpr-export-${re.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(Ie),c.gdprMessage="Data exported successfully.",c.gdprSuccess=!0}catch(fe){c.gdprMessage=(he=fe==null?void 0:fe.message)!=null?he:"Export failed",c.gdprSuccess=!1}finally{c.gdprLoading=!1}},j=async re=>{var fe;if(!m||!re){c.gdprMessage="GDPR anonymise endpoint unavailable.",c.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${re}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){c.gdprLoading=!0,c.gdprMessage="";try{const Ce=await a.gdprAnonymise({endpoint:m,email:re});c.gdprMessage=Ce.message||`Anonymised ${Ce.affected} order(s).`,c.gdprSuccess=!0,Ue(L()),w(!0),setTimeout(()=>{c.activeCustomer=null,c.gdprMessage=""},2e3)}catch(Ce){c.gdprMessage=(fe=Ce==null?void 0:Ce.message)!=null?fe:"Anonymisation failed",c.gdprSuccess=!1}finally{c.gdprLoading=!1}}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadCustomers:w,refresh:$,search:P,goToPage:D,viewCustomer:K,closeCustomer:Y,gdprExport:E,gdprAnonymise:j,metrics:l.metrics}}function MR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var ne,de,Se,W,B,q,H,se,me,ue,Z,ie,ee,_e;const a=Et({token:t}),l=Nt("coupons"),u=(ne=e==null?void 0:e.list)!=null?ne:"",p=(de=e==null?void 0:e.create)!=null?de:u,S=(Se=e==null?void 0:e.update)!=null?Se:u,m=(W=e==null?void 0:e.delete)!=null?W:u,c=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(se=(H=(B=s.pagination)==null?void 0:B.total)!=null?H:(q=s.items)==null?void 0:q.length)!=null?se:0,limit:(ue=(me=s.pagination)==null?void 0:me.limit)!=null?ue:20,pages:(ie=(Z=s.pagination)==null?void 0:Z.pages)!=null?ie:0,current:(_e=(ee=s.pagination)==null?void 0:ee.current)!=null?_e:1},search:"",activeCoupon:null,lastUpdated:null}),C=typeof AbortController!="undefined",x=He(null),L=()=>{const U=c.pagination.current||1,z=c.pagination.limit||20,Q=c.search.trim();return`coupons:page=${U}:limit=${z}:search=${Q}`},w=async(U=!1)=>{var fe;if(!u){c.error="Coupons endpoint unavailable.",c.items=[];return}const z=L(),Q=U?null:vt(z,n);if(Q){l.recordCacheHit(),c.items=Q.items,c.pagination={...c.pagination,...Q.pagination},c.lastUpdated=Q.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",x.value&&C&&x.value.abort();const re=C?new AbortController:null;x.value=re;const he=l.startFetch();try{const Ce=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:Ie,pagination:k}=await a.fetchCoupons({endpoint:u,limit:c.pagination.limit,start:Ce,search:c.search.trim(),signal:re?re.signal:void 0});c.items=Ie,c.pagination={...c.pagination,...k,current:k.current&&k.current>0?k.current:1},c.lastUpdated=new Date().toISOString(),St(z,{items:Ie,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Ce){if((Ce==null?void 0:Ce.name)==="AbortError")return;c.error=(fe=Ce==null?void 0:Ce.message)!=null?fe:"Unknown error"}finally{l.endFetch(he),C&&x.value===re&&(x.value=null),c.loading=!1}},$=()=>{c.pagination.current=1,Ue(L()),w(!0)},P=()=>{c.pagination.current=1,w()},D=U=>{const z=Number(U);Number.isNaN(z)||z<1||z===c.pagination.current||(c.pagination.current=z,w(!0))},K=U=>{c.activeCoupon=U},Y=U=>{const z=c.items.findIndex(Q=>Q.id===U.id);z===-1?c.items.unshift(U):c.items.splice(z,1,U)},E=async U=>{var z;c.saving=!0,c.error="";try{let Q=null;return U.id?Q=await a.updateCoupon({endpoint:S,id:U.id,data:U}):Q=await a.createCoupon({endpoint:p,data:U}),Q&&(Y(Q),c.activeCoupon&&c.activeCoupon.id===Q.id&&(c.activeCoupon=Q),Ue(L())),Q}catch(Q){throw c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error",Q}finally{c.saving=!1}},j=async U=>{var z;if(!Array.isArray(U)||!U.length)return 0;c.saving=!0,c.error="";try{const Q=await a.deleteCoupons({endpoint:m,ids:U});return Q&&(c.items=c.items.filter(re=>!U.includes(re.id)),c.activeCoupon&&U.includes(c.activeCoupon.id)&&(c.activeCoupon=null),Ue(L())),Q}catch(Q){throw c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error",Q}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadCoupons:w,refresh:$,search:P,goToPage:D,setActive:K,saveCoupon:E,deleteCoupons:j,metrics:l.metrics}}const ci=(e={})=>{var u,p,S,m,c,C,x,L,w,$,P,D,K,Y,E,j,ne,de,Se;const t=(u=e.store)!=null?u:{},s=(p=e.payments)!=null?p:{},o=(S=e.visual)!=null?S:{},n=(m=e.visual_defaults)!=null?m:{},a=(C=(c=e.security)==null?void 0:c.rate_limits)!=null?C:{},l=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"";return{store:{name:(x=t.name)!=null?x:"",email:(L=t.email)!=null?L:"",phone:(w=t.phone)!=null?w:""},payments:{configured:!!s.configured},base_currency:l,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,visual:{primary_color:($=o.primary_color)!=null?$:"",text_color:(P=o.text_color)!=null?P:"",surface_color:(D=o.surface_color)!=null?D:"",border_color:(K=o.border_color)!=null?K:"",muted_color:(Y=o.muted_color)!=null?Y:""},visual_defaults:{primary_color:(E=n.primary_color)!=null?E:"#4f6d7a",text_color:(j=n.text_color)!=null?j:"#1f2933",surface_color:(ne=n.surface_color)!=null?ne:"#ffffff",border_color:(de=n.border_color)!=null?de:"#e4e7ec",muted_color:(Se=n.muted_color)!=null?Se:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(a.checkout_ip_limit))?Number(a.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(a.checkout_email_limit))?Number(a.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(a.checkout_session_limit))?Number(a.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(a.checkout_window_minutes))?Number(a.checkout_window_minutes):Number.isFinite(Number(a.checkout_window))?Math.max(0,Math.ceil(Number(a.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(a.offline_ip_limit))?Number(a.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(a.offline_email_limit))?Number(a.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(a.offline_window_minutes))?Number(a.offline_window_minutes):Number.isFinite(Number(a.offline_window))?Math.max(0,Math.ceil(Number(a.offline_window)/60)):30}}}};function IR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var C,x;const a=Et({token:t}),l=Nt("settings"),u=(C=e==null?void 0:e.show)!=null?C:"",p=(x=e==null?void 0:e.update)!=null?x:u,S=$e({loading:!1,saving:!1,error:"",values:ci(s),lastUpdated:null}),m=async(L=!1)=>{var D;if(!u){S.error="Settings endpoint unavailable.";return}const w="settings:data",$=L?null:vt(w,n);if($){l.recordCacheHit(),S.values=$.values,S.lastUpdated=$.lastUpdated;return}l.recordCacheMiss(),S.loading=!0,S.error="";const P=l.startFetch();try{const K=await a.fetchSettings({endpoint:u});S.values=ci(K),S.lastUpdated=new Date().toISOString(),St(w,{values:S.values,lastUpdated:S.lastUpdated})}catch(K){throw S.error=(D=K==null?void 0:K.message)!=null?D:"Unknown error",K}finally{l.endFetch(P),S.loading=!1}},c=async L=>{var w;if(!p)return S.error="Settings endpoint unavailable.",null;S.saving=!0,S.error="";try{const $=await a.updateSettings({endpoint:p,data:L});return S.values=ci($),S.lastUpdated=new Date().toISOString(),Ue("settings:data"),St("settings:data",{values:S.values,lastUpdated:S.lastUpdated}),S.values}catch($){throw S.error=(w=$==null?void 0:$.message)!=null?w:"Unknown error",$}finally{S.saving=!1}};return it(()=>{o&&(!s||!s.store)&&m()}),{state:S,refresh:m,save:c,metrics:l.metrics}}function kR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var K,Y,E,j,ne,de,Se,W,B,q,H,se,me,ue;const a=Et({token:t}),l=Nt("taxRates"),u=(K=e==null?void 0:e.list)!=null?K:"",p=(Y=e==null?void 0:e.create)!=null?Y:u,S=(E=e==null?void 0:e.update)!=null?E:u,m=(j=e==null?void 0:e.delete)!=null?j:u,c=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(W=(Se=(ne=s.pagination)==null?void 0:ne.total)!=null?Se:(de=s.items)==null?void 0:de.length)!=null?W:0,limit:(q=(B=s.pagination)==null?void 0:B.limit)!=null?q:20,pages:(se=(H=s.pagination)==null?void 0:H.pages)!=null?se:0,current:(ue=(me=s.pagination)==null?void 0:me.current)!=null?ue:1},search:"",lastUpdated:null}),C=typeof AbortController!="undefined",x=He(null),L=()=>{const Z=c.pagination.current||1,ie=c.pagination.limit||20,ee=c.search.trim();return`taxRates:page=${Z}:limit=${ie}:search=${ee}`},w=async(Z=!1)=>{var z;if(!u){c.error="Tax endpoint unavailable.",c.items=[];return}const ie=L(),ee=Z?null:vt(ie,n);if(ee){l.recordCacheHit(),c.items=ee.items,c.pagination={...c.pagination,...ee.pagination},c.lastUpdated=ee.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",x.value&&C&&x.value.abort();const _e=C?new AbortController:null;x.value=_e;const U=l.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:re,pagination:he}=await a.fetchTaxRates({endpoint:u,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:_e?_e.signal:void 0});c.items=re,c.pagination={...c.pagination,...he,current:he.current&&he.current>0?he.current:1},c.lastUpdated=new Date().toISOString(),St(ie,{items:re,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error"}finally{l.endFetch(U),C&&x.value===_e&&(x.value=null),c.loading=!1}},$=()=>{c.pagination.current=1,Ue(L()),w(!0)},P=async Z=>{var ie;c.saving=!0,c.error="";try{const ee=Z.id?await a.updateTaxRate({endpoint:S,id:Z.id,data:Z}):await a.createTaxRate({endpoint:p,data:Z});if(ee){const _e=c.items.findIndex(U=>U.id===ee.id);_e===-1?c.items.unshift(ee):c.items.splice(_e,1,ee),Ue(L())}return ee}catch(ee){throw c.error=(ie=ee==null?void 0:ee.message)!=null?ie:"Unknown error",ee}finally{c.saving=!1}},D=async Z=>{var ie;if(!Array.isArray(Z)||!Z.length)return 0;c.saving=!0,c.error="";try{const ee=await a.deleteTaxRates({endpoint:m,ids:Z});return ee&&(c.items=c.items.filter(_e=>!Z.includes(_e.id)),Ue(L())),ee}catch(ee){throw c.error=(ie=ee==null?void 0:ee.message)!=null?ie:"Unknown error",ee}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadRates:w,refresh:$,saveRate:P,deleteRates:D,metrics:l.metrics}}function wR({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var K,Y,E,j,ne,de,Se,W,B,q,H,se,me,ue;const a=Et({token:t}),l=Nt("shippingRules"),u=(K=e==null?void 0:e.list)!=null?K:"",p=(Y=e==null?void 0:e.create)!=null?Y:u,S=(E=e==null?void 0:e.update)!=null?E:u,m=(j=e==null?void 0:e.delete)!=null?j:u,c=$e({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(W=(Se=(ne=s.pagination)==null?void 0:ne.total)!=null?Se:(de=s.items)==null?void 0:de.length)!=null?W:0,limit:(q=(B=s.pagination)==null?void 0:B.limit)!=null?q:20,pages:(se=(H=s.pagination)==null?void 0:H.pages)!=null?se:0,current:(ue=(me=s.pagination)==null?void 0:me.current)!=null?ue:1},search:"",lastUpdated:null}),C=typeof AbortController!="undefined",x=He(null),L=()=>{const Z=c.pagination.current||1,ie=c.pagination.limit||20,ee=c.search.trim();return`shippingRules:page=${Z}:limit=${ie}:search=${ee}`},w=async(Z=!1)=>{var z;if(!u){c.error="Shipping endpoint unavailable.",c.items=[];return}const ie=L(),ee=Z?null:vt(ie,n);if(ee){l.recordCacheHit(),c.items=ee.items,c.pagination={...c.pagination,...ee.pagination},c.lastUpdated=ee.lastUpdated;return}l.recordCacheMiss(),c.loading=!0,c.error="",x.value&&C&&x.value.abort();const _e=C?new AbortController:null;x.value=_e;const U=l.startFetch();try{const Q=Math.max(0,(c.pagination.current-1)*c.pagination.limit),{items:re,pagination:he}=await a.fetchShippingRules({endpoint:u,limit:c.pagination.limit,start:Q,search:c.search.trim(),signal:_e?_e.signal:void 0});c.items=re,c.pagination={...c.pagination,...he,current:he.current&&he.current>0?he.current:1},c.lastUpdated=new Date().toISOString(),St(ie,{items:re,pagination:c.pagination,lastUpdated:c.lastUpdated})}catch(Q){if((Q==null?void 0:Q.name)==="AbortError")return;c.error=(z=Q==null?void 0:Q.message)!=null?z:"Unknown error"}finally{l.endFetch(U),C&&x.value===_e&&(x.value=null),c.loading=!1}},$=()=>{c.pagination.current=1,Ue(L()),w(!0)},P=async Z=>{var ie;c.saving=!0,c.error="";try{const ee=Z.id?await a.updateShippingRule({endpoint:S,id:Z.id,data:Z}):await a.createShippingRule({endpoint:p,data:Z});if(ee){const _e=c.items.findIndex(U=>U.id===ee.id);_e===-1?c.items.unshift(ee):c.items.splice(_e,1,ee),Ue(L())}return ee}catch(ee){throw c.error=(ie=ee==null?void 0:ee.message)!=null?ie:"Unknown error",ee}finally{c.saving=!1}},D=async Z=>{var ie;if(!Array.isArray(Z)||!Z.length)return 0;c.saving=!0,c.error="";try{const ee=await a.deleteShippingRules({endpoint:m,ids:Z});return ee&&(c.items=c.items.filter(_e=>!Z.includes(_e.id)),Ue(L())),ee}catch(ee){throw c.error=(ie=ee==null?void 0:ee.message)!=null?ie:"Unknown error",ee}finally{c.saving=!1}};return it(()=>{o&&(!Array.isArray(c.items)||!c.items.length)&&w()}),{state:c,loadRules:w,refresh:$,saveRule:P,deleteRules:D,metrics:l.metrics}}function $R({endpoints:e,token:t,preload:s={},autoload:o=!0,cacheTTL:n=3e5}){var P,D,K,Y,E,j,ne,de,Se,W,B;const a=Et({token:t}),l=Nt("logs"),u=(P=e==null?void 0:e.list)!=null?P:"",p=$e({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(E=(Y=(D=s.pagination)==null?void 0:D.total)!=null?Y:(K=s.items)==null?void 0:K.length)!=null?E:0,limit:(ne=(j=s.pagination)==null?void 0:j.limit)!=null?ne:20,pages:(Se=(de=s.pagination)==null?void 0:de.pages)!=null?Se:0,current:(B=(W=s.pagination)==null?void 0:W.current)!=null?B:1},search:"",entity:"",lastUpdated:null}),S=typeof AbortController!="undefined",m=He(null),c=()=>{const q=p.pagination.current||1,H=p.pagination.limit||20,se=p.search.trim(),me=p.entity.trim();return`logs:page=${q}:limit=${H}:search=${se}:entity=${me}`},C=async(q=!1)=>{var Z;if(!u){p.error="Logs endpoint unavailable.",p.items=[];return}const H=c(),se=q?null:vt(H,n);if(se){l.recordCacheHit(),p.items=se.items,p.pagination={...p.pagination,...se.pagination},p.lastUpdated=se.lastUpdated;return}l.recordCacheMiss(),p.loading=!0,p.error="",S&&m.value&&m.value.abort();const me=S?new AbortController:null;m.value=me;const ue=l.startFetch();try{const ie=Math.max(0,(p.pagination.current-1)*p.pagination.limit),{items:ee,pagination:_e}=await a.fetchLogs({endpoint:u,limit:p.pagination.limit,start:ie,search:p.search.trim(),entity:p.entity,signal:me?me.signal:void 0});p.items=ee,p.pagination={...p.pagination,..._e,current:_e.current&&_e.current>0?_e.current:1},p.lastUpdated=new Date().toISOString(),St(H,{items:ee,pagination:p.pagination,lastUpdated:p.lastUpdated})}catch(ie){if((ie==null?void 0:ie.name)==="AbortError")return;p.error=(Z=ie==null?void 0:ie.message)!=null?Z:"Unknown error"}finally{l.endFetch(ue),S&&m.value===me&&(m.value=null),p.loading=!1}},x=()=>{p.pagination.current=1,Ue(c()),C(!0)},L=()=>{p.pagination.current=1,C()},w=q=>{const H=typeof q=="string"?q.trim():"";p.entity!==H&&(p.entity=H,p.pagination.current=1,C())},$=q=>{const H=Number(q);Number.isNaN(H)||H<1||H===p.pagination.current||(p.pagination.current=H,C(!0))};return it(()=>{o&&(!Array.isArray(p.items)||!p.items.length)&&C()}),{state:p,loadLogs:C,refresh:x,search:L,setEntity:w,goToPage:$,metrics:l.metrics}}const aa=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function LR({endpoints:e={},token:t=""}){const s=Et({token:t}),o=$e({loading:!1,saving:!1,error:"",config:aa(),message:""}),n=async()=>{var u,p,S,m;if(e.show){o.loading=!0,o.error="";try{const c=await s.get(e.show);o.config=l((S=(p=(u=c==null?void 0:c.data)==null?void 0:u.config)!=null?p:c==null?void 0:c.config)!=null?S:{})}catch(c){o.error=(m=c.message)!=null?m:"Unable to load payment configuration."}finally{o.loading=!1}}},a=async u=>{var p,S,m,c,C,x,L;if(e.update){o.saving=!0,o.error="",o.message="";try{const w=await s.post(e.update,{config:u});o.config=l((m=(S=(p=w==null?void 0:w.data)==null?void 0:p.config)!=null?S:w==null?void 0:w.config)!=null?m:{}),o.message=(x=(C=(c=w==null?void 0:w.data)==null?void 0:c.message)!=null?C:w==null?void 0:w.message)!=null?x:""}catch(w){o.error=(L=w.message)!=null?L:"Unable to save payment configuration."}finally{o.saving=!1}}},l=u=>{var S,m,c,C;const p=aa();return{stripe:{...p.stripe,...(S=u.stripe)!=null?S:{}},paypal:{...p.paypal,...(m=u.paypal)!=null?m:{}},cod:{...p.cod,...(c=u.cod)!=null?c:{}},bank_transfer:{...p.bank_transfer,...(C=u.bank_transfer)!=null?C:{}}}};return{state:o,refresh:n,save:a}}const DR={class:"nxp-ec-admin-app__shell"},UR={class:"nxp-ec-admin-app__header"},YR={class:"nxp-ec-admin-app__title"},XR={class:"nxp-ec-admin-app__lead"},FR={key:0,class:"nxp-ec-admin-nav"},GR=["href"],VR={key:9,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},HR={class:"nxp-ec-admin-panel__body"},BR={class:"nxp-ec-admin-panel__lead"},Yn="nxp:admin:onboarding:dismissed",KR={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var fr,mr,hr,gr,Er,Sr,Cr,br,Ar,Tr,yr,Or,Rr,xr,vr,Nr,Pr,Mr,Ir,kr,wr,$r,Lr,Dr,Ur,Yr,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Jr,Wr,qr,zr,Qr,Zr,el,tl,nl,sl,il,ol,al,rl,ll,cl,dl,ul,pl,_l,fl,ml,hl,gl,El,Sl,Cl,bl,Al,Tl,yl,Ol,Rl,xl,vl,Nl,Pl,Ml,Il,kl,wl,$l,Ll,Dl,Ul,Yl,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Jl,Wl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,oc,ac,rc,lc,cc,dc,uc,pc,_c,fc,mc,hc,gc,Ec,Sc,Cc,bc,Ac,Tc,yc,Oc,Rc,xc,vc,Nc,Pc,Mc,Ic,kc,wc,$c,Lc,Dc,Uc,Yc,Xc,Fc,Gc,Vc,Hc;const t=e,{__:s}=bR(t.dataset),o=Ee(()=>{var X;return((X=t.dataset)==null?void 0:X.appTitleKey)||"COM_NXPEASYCART"}),n=Ee(()=>{var X;return((X=t.dataset)==null?void 0:X.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),a=(X,oe)=>{if(!X||typeof X!="string")return oe;try{return JSON.parse(X)}catch(ye){return oe}},l=Ee(()=>{var oe,ye;if(Array.isArray((oe=t.config)==null?void 0:oe.navItems))return t.config.navItems.map(Ge=>({id:Ge.id,title:Ge.title,link:Ge.link}));const X=a((ye=t.dataset)==null?void 0:ye.navItems,[]);return Array.isArray(X)?X.map(Ge=>({id:Ge.id,title:Ge.title,link:Ge.link})):[]}),u=X=>{const oe=l.value;if(!Array.isArray(oe))return"";const ye=oe.find(Ge=>Ge.id===X);return ye?ye.link:""},p=Ee(()=>{var X,oe;return((X=t.config)==null?void 0:X.activeSection)||((oe=t.dataset)==null?void 0:oe.activeSection)||"dashboard"}),S=Ee(()=>{var X,oe;return((X=t.config)==null?void 0:X.settingsTab)||((oe=t.dataset)==null?void 0:oe.settingsTab)||"general"}),m=X=>p.value===X,c=Ee(()=>m("dashboard")),C=Ee(()=>m("products")),x=Ee(()=>m("categories")||m("products")),L=Ee(()=>m("orders")),w=Ee(()=>m("customers")),$=Ee(()=>m("coupons")),P=Ee(()=>m("settings")),D=Ee(()=>m("logs")),K=(Tr=(fr=t.endpoints)==null?void 0:fr.products)!=null?Tr:{list:(hr=(mr=t.dataset)==null?void 0:mr.productsEndpoint)!=null?hr:"",create:(Er=(gr=t.dataset)==null?void 0:gr.productsEndpointCreate)!=null?Er:"",update:(Cr=(Sr=t.dataset)==null?void 0:Sr.productsEndpointUpdate)!=null?Cr:"",delete:(Ar=(br=t.dataset)==null?void 0:br.productsEndpointDelete)!=null?Ar:""},Y=(kr=(yr=t.endpoints)==null?void 0:yr.categories)!=null?kr:{list:(Rr=(Or=t.dataset)==null?void 0:Or.categoriesEndpoint)!=null?Rr:"",create:(vr=(xr=t.dataset)==null?void 0:xr.categoriesEndpointCreate)!=null?vr:"",update:(Pr=(Nr=t.dataset)==null?void 0:Nr.categoriesEndpointUpdate)!=null?Pr:"",delete:(Ir=(Mr=t.dataset)==null?void 0:Mr.categoriesEndpointDelete)!=null?Ir:""},E=(Br=(wr=t.endpoints)==null?void 0:wr.orders)!=null?Br:{list:(Lr=($r=t.dataset)==null?void 0:$r.ordersEndpoint)!=null?Lr:"",show:(Ur=(Dr=t.dataset)==null?void 0:Dr.ordersEndpointShow)!=null?Ur:"",transition:(Xr=(Yr=t.dataset)==null?void 0:Yr.ordersEndpointTransition)!=null?Xr:"",bulkTransition:(Gr=(Fr=t.dataset)==null?void 0:Fr.ordersEndpointBulk)!=null?Gr:"",note:(Hr=(Vr=t.dataset)==null?void 0:Vr.ordersEndpointNote)!=null?Hr:""},j=(zr=(Kr=t.endpoints)==null?void 0:Kr.customers)!=null?zr:{list:(Jr=(jr=t.dataset)==null?void 0:jr.customersEndpoint)!=null?Jr:"",show:(qr=(Wr=t.dataset)==null?void 0:Wr.customersEndpointShow)!=null?qr:""},ne=(rl=(Qr=t.endpoints)==null?void 0:Qr.coupons)!=null?rl:{list:(el=(Zr=t.dataset)==null?void 0:Zr.couponsEndpoint)!=null?el:"",create:(nl=(tl=t.dataset)==null?void 0:tl.couponsEndpointCreate)!=null?nl:"",update:(il=(sl=t.dataset)==null?void 0:sl.couponsEndpointUpdate)!=null?il:"",delete:(al=(ol=t.dataset)==null?void 0:ol.couponsEndpointDelete)!=null?al:""},de=(gl=(ll=t.endpoints)==null?void 0:ll.tax)!=null?gl:{list:(dl=(cl=t.dataset)==null?void 0:cl.taxEndpoint)!=null?dl:"",create:(pl=(ul=t.dataset)==null?void 0:ul.taxEndpointCreate)!=null?pl:"",update:(fl=(_l=t.dataset)==null?void 0:_l.taxEndpointUpdate)!=null?fl:"",delete:(hl=(ml=t.dataset)==null?void 0:ml.taxEndpointDelete)!=null?hl:""},Se=(xl=(El=t.endpoints)==null?void 0:El.shipping)!=null?xl:{list:(Cl=(Sl=t.dataset)==null?void 0:Sl.shippingEndpoint)!=null?Cl:"",create:(Al=(bl=t.dataset)==null?void 0:bl.shippingEndpointCreate)!=null?Al:"",update:(yl=(Tl=t.dataset)==null?void 0:Tl.shippingEndpointUpdate)!=null?yl:"",delete:(Rl=(Ol=t.dataset)==null?void 0:Ol.shippingEndpointDelete)!=null?Rl:""},W=(kl=(vl=t.endpoints)==null?void 0:vl.settings)!=null?kl:{show:(Pl=(Nl=t.dataset)==null?void 0:Nl.settingsEndpointShow)!=null?Pl:"",update:(Il=(Ml=t.dataset)==null?void 0:Ml.settingsEndpointUpdate)!=null?Il:""},B=(Dl=(wl=t.endpoints)==null?void 0:wl.logs)!=null?Dl:{list:(Ll=($l=t.dataset)==null?void 0:$l.logsEndpoint)!=null?Ll:""},q=(Vl=(Ul=t.endpoints)==null?void 0:Ul.payments)!=null?Vl:{show:(Xl=(Yl=t.dataset)==null?void 0:Yl.paymentsEndpointShow)!=null?Xl:"",update:(Gl=(Fl=t.dataset)==null?void 0:Fl.paymentsEndpointUpdate)!=null?Gl:""},H=Ee(()=>{var X;return a((X=t.dataset)==null?void 0:X.orderStates,[])}),{state:se,refresh:me}=NR({endpoint:(ql=(Wl=(jl=(Hl=t.endpoints)==null?void 0:Hl.dashboard)!=null?jl:(Kl=(Bl=t.config)==null?void 0:Bl.endpoints)==null?void 0:Kl.dashboard)!=null?Wl:(Jl=t.dataset)==null?void 0:Jl.dashboardEndpoint)!=null?ql:"",token:t.csrfToken,preload:(tc=(Ql=(zl=t.config)==null?void 0:zl.preload)==null?void 0:Ql.dashboard)!=null?tc:{summary:a((Zl=t.dataset)==null?void 0:Zl.dashboardSummary,{}),checklist:a((ec=t.dataset)==null?void 0:ec.dashboardChecklist,[])},autoload:c.value}),{state:ue,refresh:Z,search:ie,createProduct:ee,updateProduct:_e,deleteProducts:U}=RR({endpoints:K,token:t.csrfToken,autoload:C.value}),{state:z,refresh:Q,search:re,goToPage:he,saveCategory:fe,deleteCategories:Ce,loadOptions:Ie}=xR({endpoints:Y,token:t.csrfToken,preload:(ac=(sc=(nc=t.config)==null?void 0:nc.preload)==null?void 0:sc.categories)!=null?ac:{items:a((ic=t.dataset)==null?void 0:ic.categoriesPreload,[]),pagination:a((oc=t.dataset)==null?void 0:oc.categoriesPreloadPagination,{})},autoload:x.value}),k=Ee(()=>(Array.isArray(z.items)?z.items:[]).map(oe=>{var ye,Ge,ct;return{id:Number.parseInt((ye=oe==null?void 0:oe.id)!=null?ye:0,10)||0,title:String((Ge=oe==null?void 0:oe.title)!=null?Ge:"").trim(),slug:String((ct=oe==null?void 0:oe.slug)!=null?ct:"").trim(),parent_id:(oe==null?void 0:oe.parent_id)!==null&&(oe==null?void 0:oe.parent_id)!==void 0&&Number.parseInt(oe.parent_id,10)||null}}).filter(oe=>oe.title!=="")),{state:O,refresh:N,search:_,setFilterState:h,viewOrder:M,closeOrder:F,transitionOrder:y,goToPage:G,bulkTransition:A,toggleSelection:f,clearSelection:g,addNote:b,updateTracking:T,downloadInvoice:I,exportOrders:J,sendEmail:V}=vR({endpoints:E,token:t.csrfToken,states:H.value,preload:(uc=(lc=(rc=t.config)==null?void 0:rc.preload)==null?void 0:lc.orders)!=null?uc:{items:a((cc=t.dataset)==null?void 0:cc.ordersPreload,[]),pagination:a((dc=t.dataset)==null?void 0:dc.ordersPreloadPagination,{})},autoload:L.value}),{state:ae,refresh:le,search:ge,goToPage:Oe,viewCustomer:ve,closeCustomer:ke,gdprExport:Ke,gdprAnonymise:rt}=PR({endpoints:{...j,gdpr:(_c=(pc=t.endpoints)==null?void 0:pc.gdpr)!=null?_c:{}},token:t.csrfToken,preload:(Ec=(mc=(fc=t.config)==null?void 0:fc.preload)==null?void 0:mc.customers)!=null?Ec:{items:a((hc=t.dataset)==null?void 0:hc.customersPreload,[]),pagination:a((gc=t.dataset)==null?void 0:gc.customersPreloadPagination,{})},autoload:w.value}),{state:We,refresh:Ye,search:Xe,goToPage:lt,saveCoupon:Pt,deleteCoupons:fn}=MR({endpoints:(Cc=(Sc=t.endpoints)==null?void 0:Sc.coupons)!=null?Cc:ne,token:t.csrfToken,preload:(Oc=(Ac=(bc=t.config)==null?void 0:bc.preload)==null?void 0:Ac.coupons)!=null?Oc:{items:a((Tc=t.dataset)==null?void 0:Tc.couponsPreload,[]),pagination:a((yc=t.dataset)==null?void 0:yc.couponsPreloadPagination,{})},autoload:$.value}),mn=(Nc=(xc=(Rc=t.config)==null?void 0:Rc.preload)==null?void 0:xc.settings)!=null?Nc:a((vc=t.dataset)==null?void 0:vc.settingsPreload,{}),{state:Qt,refresh:Xn,save:di}=IR({endpoints:W,token:t.csrfToken,preload:mn,autoload:P.value}),ui=Ee(()=>{var oe,ye;const X=(ye=(oe=t.dataset)==null?void 0:oe.baseCurrency)!=null?ye:"";return typeof X=="string"?X.trim().toUpperCase():""}),jR=Ee(()=>{var oe,ye;const X=(ye=(oe=Qt==null?void 0:Qt.values)==null?void 0:oe.base_currency)!=null?ye:"";return typeof X=="string"?X.trim().toUpperCase():""}),Ss=Ee(()=>{const X=jR.value||ui.value;return X!==""?X:"USD"}),JR=Ee(()=>{var oe,ye;const X=(ye=(oe=t.dataset)==null?void 0:oe.mediaModalUrl)!=null?ye:"";return typeof X=="string"?X.trim():""}),WR=Ee(()=>{var oe,ye,Ge,ct,st;const X=(ct=(Ge=(oe=t.config)==null?void 0:oe.siteRoot)!=null?Ge:(ye=t.dataset)==null?void 0:ye.siteRoot)!=null?ct:"";return typeof X=="string"&&X.trim()!==""?X.trim():typeof window!="undefined"&&((st=window.location)!=null&&st.origin)?window.location.origin:""}),qR=X=>{switch(X){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:u("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:u("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:u("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:u("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:X||"step",titleKey:X||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:X||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:u("dashboard")||""}}},ur=Ee(()=>(Array.isArray(se.checklist)?se.checklist:[]).map(oe=>{const ye=qR(oe.label);return{id:ye.id,completed:!!oe.completed,link:oe.link||ye.link||"",label:oe.label,titleKey:ye.titleKey,descriptionKey:ye.descriptionKey,titleFallback:ye.titleFallback,descriptionFallback:ye.descriptionFallback}})),pi=Ee(()=>ur.value.some(X=>!X.completed)),Fn=He(!1),zR=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(Yn,"0")}catch(X){}Fn.value=!0},pr=()=>{if(Fn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(Yn,"1")}catch(X){}},QR=X=>{X&&typeof X.link=="string"&&X.link!==""&&(pr(),typeof window!="undefined"&&(window.location.href=X.link))};Fe(pi,X=>{if(!X&&(Fn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(Yn,"1")}catch(oe){}});const ZR=(wc=(Mc=(Pc=t.config)==null?void 0:Pc.preload)==null?void 0:Mc.tax)!=null?wc:{items:a((Ic=t.dataset)==null?void 0:Ic.taxPreload,[]),pagination:a((kc=t.dataset)==null?void 0:kc.taxPreloadPagination,{})},{state:ex,refresh:Cs,saveRate:tx,deleteRates:nx}=kR({endpoints:de,token:t.csrfToken,preload:ZR,autoload:P.value}),sx=(Yc=(Lc=($c=t.config)==null?void 0:$c.preload)==null?void 0:Lc.shipping)!=null?Yc:{items:a((Dc=t.dataset)==null?void 0:Dc.shippingPreload,[]),pagination:a((Uc=t.dataset)==null?void 0:Uc.shippingPreloadPagination,{})},{state:ix,refresh:bs,saveRule:ox,deleteRules:ax}=wR({endpoints:Se,token:t.csrfToken,preload:sx,autoload:P.value}),rx=(Hc=(Fc=(Xc=t.config)==null?void 0:Xc.preload)==null?void 0:Fc.logs)!=null?Hc:{items:a((Gc=t.dataset)==null?void 0:Gc.logsPreload,[]),pagination:a((Vc=t.dataset)==null?void 0:Vc.logsPreloadPagination,{})},{state:lx,refresh:_r,search:cx,setEntity:dx,goToPage:ux}=$R({endpoints:B,token:t.csrfToken,preload:rx,autoload:D.value}),{state:px,refresh:_i,save:_x}=LR({endpoints:q,token:t.csrfToken});Fe(p,X=>{switch(X){case"dashboard":me();break;case"products":Z(),Q();break;case"categories":Q();break;case"orders":N();break;case"customers":le();break;case"coupons":Ye();break;case"settings":Xn(),Cs(),bs(),_i();break;case"logs":_r();break}}),it(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const X=window.localStorage.getItem(Yn);pi.value?X!=="1"&&(Fn.value=!0):window.localStorage.setItem(Yn,"1")}catch(X){}}P.value&&_i()});const fx=()=>{Z()},mx=()=>{ie()},hx=async X=>{try{await ee(X),Z(),Q()}catch(oe){}},gx=async({id:X,data:oe})=>{try{await _e(X,oe),Z(),Q()}catch(ye){}},Ex=async X=>{try{await U(X),Z(),Q()}catch(oe){}},Sx=()=>{Q()},Cx=()=>{re()},bx=X=>{he(X)},Ax=async X=>{try{await fe(X),Q()}catch(oe){}},Tx=async X=>{try{await Ce(X),Q()}catch(oe){}},yx=()=>{me()},Ox=()=>{N()},Rx=()=>{_()},xx=X=>{h(X)},vx=X=>{M(X)},Nx=()=>{F()},Px=async({id:X,state:oe})=>{try{await y(X,oe)}catch(ye){}},Mx=X=>{G(X)},Ix=async({ids:X,state:oe})=>{try{await A(X,oe)}catch(ye){}},kx=X=>{f(X)},wx=()=>{g()},$x=async({id:X,message:oe})=>{await b(X,oe)},Lx=async X=>{if(!(X!=null&&X.id))return;const{id:oe,...ye}=X;await T(oe,ye)},Dx=async X=>{!(X!=null&&X.id)||!(X!=null&&X.type)||await V(X.id,X.type)},Ux=async X=>{if(!X)return;const oe=await I(X);if(!(oe!=null&&oe.content))return;const ye=atob(oe.content),Ge=new Uint8Array(ye.length);for(let Zt=0;Zt<ye.length;Zt+=1)Ge[Zt]=ye.charCodeAt(Zt);const ct=new Blob([Ge],{type:"application/pdf"}),st=window.URL.createObjectURL(ct),dt=document.createElement("a");dt.href=st,dt.download=oe.filename||"invoice.pdf",document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),setTimeout(()=>window.URL.revokeObjectURL(st),1e3)},Yx=async()=>{const X=await J();if(!(X!=null&&X.content))return;const oe=atob(X.content),ye=new Uint8Array(oe.length);for(let dt=0;dt<oe.length;dt+=1)ye[dt]=oe.charCodeAt(dt);const Ge=new Blob([ye],{type:"text/csv;charset=utf-8"}),ct=window.URL.createObjectURL(Ge),st=document.createElement("a");st.href=ct,st.download=X.filename||"orders-export.csv",document.body.appendChild(st),st.click(),document.body.removeChild(st),setTimeout(()=>window.URL.revokeObjectURL(ct),1e3)},Xx=()=>{le()},Fx=()=>{ge()},Gx=X=>{Oe(X)},Vx=X=>{ve(X)},Hx=()=>{ke()},Bx=X=>{Ke(X)},Kx=X=>{rt(X)},jx=()=>{Ye()},Jx=()=>{Xe()},Wx=X=>{lt(X)},qx=async X=>{try{await Pt(X)}catch(oe){}},zx=async X=>{try{await fn(X)}catch(oe){}},Qx=()=>{Xn()},Zx=async X=>{try{await di(X)}catch(oe){}},ev=()=>{Cs()},tv=async X=>{try{await tx(X),Cs()}catch(oe){}},nv=async X=>{try{await nx(X),Cs()}catch(oe){}},sv=()=>{bs()},iv=async X=>{try{await ox(X),bs()}catch(oe){}},ov=async X=>{try{await ax(X),bs()}catch(oe){}},av=()=>{_r()},rv=()=>{cx()},lv=X=>{dx(X)},cv=X=>{ux(X)},dv=()=>{_i()},uv=async X=>{await _x(X)};return(X,oe)=>(R(),pt(Op,null,{default:Qi(()=>{var ye,Ge,ct,st,dt,Zt;return[i("section",DR,[i("header",UR,[i("div",null,[i("h1",YR,d(r(s)(o.value,(Ge=(ye=t.dataset)==null?void 0:ye.appTitle)!=null?Ge:"NXP Easy Cart",[],"appTitle")),1),i("p",XR,d(r(s)(n.value,(st=(ct=t.dataset)==null?void 0:ct.appLead)!=null?st:"Manage your storefront from one place.",[],"appLead")),1)]),te(i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:zR},d(r(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen")),513),[[zu,pi.value]])]),l.value.length?(R(),v("nav",FR,[(R(!0),v(Ae,null,Re(l.value,As=>(R(),v("a",{key:As.id,href:As.link,class:Pe({"is-active":As.id===p.value})},d(As.title),11,GR))),128))])):pe("",!0),p.value==="dashboard"?(R(),pt(i_,{key:1,state:r(se),translate:r(s),onRefresh:yx},null,8,["state","translate"])):p.value==="products"?(R(),pt($m,{key:2,state:r(ue),translate:r(s),"base-currency":Ss.value,"category-options":k.value,"media-modal-url":JR.value,onCreate:hx,onUpdate:gx,onDelete:Ex,onRefresh:fx,onSearch:mx},null,8,["state","translate","base-currency","category-options","media-modal-url"])):p.value==="categories"?(R(),pt(Lh,{key:3,state:r(z),translate:r(s),"load-options":r(Ie),onRefresh:Sx,onSearch:Cx,onPage:bx,onSave:Ax,onDelete:Tx},null,8,["state","translate","load-options"])):p.value==="orders"?(R(),pt(YE,{key:4,state:r(O),translate:r(s),"site-root":WR.value,onRefresh:Ox,onSearch:Rx,onFilter:xx,onView:vx,onClose:Nx,onTransition:Px,onPage:Mx,onBulkTransition:Ix,onToggleSelection:kx,onClearSelection:wx,onAddNote:$x,onSaveTracking:Lx,onSendEmail:Dx,onInvoice:Ux,onExport:Yx},null,8,["state","translate","site-root"])):p.value==="customers"?(R(),pt(XS,{key:5,state:r(ae),translate:r(s),"base-currency":Ss.value,onRefresh:Xx,onSearch:Fx,onPage:Gx,onView:Vx,onClose:Hx,onGdprExport:Bx,onGdprAnonymise:Kx},null,8,["state","translate","base-currency"])):p.value==="coupons"?(R(),pt(zC,{key:6,state:r(We),translate:r(s),"base-currency":Ss.value,onRefresh:jx,onSearch:Jx,onPage:Wx,onSave:qx,onDelete:zx},null,8,["state","translate","base-currency"])):p.value==="settings"?(R(),pt(SO,{key:7,"settings-state":r(Qt),"tax-state":r(ex),"shipping-state":r(ix),"payments-state":r(px),translate:r(s),"base-currency":Ss.value,"initial-tab":S.value,onRefreshSettings:Qx,onSaveSettings:Zx,onRefreshTax:ev,onSaveTax:tv,onDeleteTax:nv,onRefreshShipping:sv,onSaveShipping:iv,onDeleteShipping:ov,onRefreshPayments:dv,onSavePayments:uv},null,8,["settings-state","tax-state","shipping-state","payments-state","translate","base-currency","initial-tab"])):p.value==="logs"?(R(),pt(nR,{key:8,state:r(lx),translate:r(s),onRefresh:av,onSearch:rv,onFilter:lv,onPage:cv},null,8,["state","translate"])):(R(),v("div",VR,[i("div",HR,[i("p",BR,d(r(s)(n.value,(Zt=(dt=t.dataset)==null?void 0:dt.appLead)!=null?Zt:"This section will be available soon.",[],"appLead")),1)])]))]),Be(ER,{visible:Fn.value,steps:ur.value,translate:r(s),onClose:pr,onNavigate:QR},null,8,["visible","steps","translate"])]}),_:1}))}},Es=document.getElementById("nxp-ec-admin-app");if(!Es)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(ra=Es.getAttribute("data-csrf-token"))!=null?ra:"",t=Object.assign({},Es.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(x){console.warn("[NXP Easy Cart] Failed to parse admin config payload",x)}const o=(_a=(la=s==null?void 0:s.endpoints)==null?void 0:la.products)!=null?_a:{list:(ca=t.productsEndpoint)!=null?ca:"",create:(da=t.productsEndpointCreate)!=null?da:"",update:(ua=t.productsEndpointUpdate)!=null?ua:"",delete:(pa=t.productsEndpointDelete)!=null?pa:""},n=(Sa=(fa=s==null?void 0:s.endpoints)==null?void 0:fa.categories)!=null?Sa:{list:(ma=t.categoriesEndpoint)!=null?ma:"",create:(ha=t.categoriesEndpointCreate)!=null?ha:"",update:(ga=t.categoriesEndpointUpdate)!=null?ga:"",delete:(Ea=t.categoriesEndpointDelete)!=null?Ea:""},a=(va=(Ca=s==null?void 0:s.endpoints)==null?void 0:Ca.orders)!=null?va:{list:(ba=t.ordersEndpoint)!=null?ba:"",show:(Aa=t.ordersEndpointShow)!=null?Aa:"",transition:(Ta=t.ordersEndpointTransition)!=null?Ta:"",bulkTransition:(ya=t.ordersEndpointBulk)!=null?ya:"",note:(Oa=t.ordersEndpointNote)!=null?Oa:"",tracking:(Ra=t.ordersEndpointTracking)!=null?Ra:"",invoice:(xa=t.ordersEndpointInvoice)!=null?xa:""},l=(Ia=(Na=s==null?void 0:s.endpoints)==null?void 0:Na.customers)!=null?Ia:{list:(Pa=t.customersEndpoint)!=null?Pa:"",show:(Ma=t.customersEndpointShow)!=null?Ma:""},u=(La=(ka=s==null?void 0:s.endpoints)==null?void 0:ka.gdpr)!=null?La:{export:(wa=t.gdprEndpointExport)!=null?wa:"",anonymise:($a=t.gdprEndpointAnonymise)!=null?$a:""},p=(Ga=(Da=s==null?void 0:s.endpoints)==null?void 0:Da.coupons)!=null?Ga:{list:(Ua=t.couponsEndpoint)!=null?Ua:"",create:(Ya=t.couponsEndpointCreate)!=null?Ya:"",update:(Xa=t.couponsEndpointUpdate)!=null?Xa:"",delete:(Fa=t.couponsEndpointDelete)!=null?Fa:""},S=(Ja=(Va=s==null?void 0:s.endpoints)==null?void 0:Va.tax)!=null?Ja:{list:(Ha=t.taxEndpoint)!=null?Ha:"",create:(Ba=t.taxEndpointCreate)!=null?Ba:"",update:(Ka=t.taxEndpointUpdate)!=null?Ka:"",delete:(ja=t.taxEndpointDelete)!=null?ja:""},m=(er=(Wa=s==null?void 0:s.endpoints)==null?void 0:Wa.shipping)!=null?er:{list:(qa=t.shippingEndpoint)!=null?qa:"",create:(za=t.shippingEndpointCreate)!=null?za:"",update:(Qa=t.shippingEndpointUpdate)!=null?Qa:"",delete:(Za=t.shippingEndpointDelete)!=null?Za:""},c=(ir=(tr=s==null?void 0:s.endpoints)==null?void 0:tr.settings)!=null?ir:{show:(nr=t.settingsEndpointShow)!=null?nr:"",update:(sr=t.settingsEndpointUpdate)!=null?sr:""},C=(rr=(or=s==null?void 0:s.endpoints)==null?void 0:or.logs)!=null?rr:{list:(ar=t.logsEndpoint)!=null?ar:""};gp(KR,{csrfToken:e,dataset:t,config:s,endpoints:{products:o,categories:n,orders:a,customers:l,gdpr:u,coupons:p,tax:S,shipping:m,settings:c,logs:C,dashboard:(dr=(cr=(lr=s==null?void 0:s.endpoints)==null?void 0:lr.dashboard)!=null?cr:t.dashboardEndpoint)!=null?dr:""}}).mount(Es)}})();
