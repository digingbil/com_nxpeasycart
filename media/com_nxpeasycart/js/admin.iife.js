(function(){"use strict";/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var To,yo,Ro,Oo,xo,No,vo,Po,Mo,Io,ko,$o,wo,Lo,Do,Yo,Uo,Xo,Fo,Go,Vo,Ho,Bo,Ko,jo,Wo,Jo,qo,zo,Qo,Zo,er,tr,nr,sr,ir,ar,or,rr,lr,cr,dr,ur,_r,pr,fr,mr,hr,gr,Er,Cr,Ar,Sr,br,Tr,yr,Rr,Or,xr,Nr,vr,Pr,Mr;function Fs(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const je={},Cn=[],Lt=()=>{},Pi=()=>!1,os=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Gs=e=>e.startsWith("onUpdate:"),pt=Object.assign,Vs=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Cd=Object.prototype.hasOwnProperty,Ve=(e,t)=>Cd.call(e,t),Pe=Array.isArray,An=e=>kn(e)==="[object Map]",Sn=e=>kn(e)==="[object Set]",Mi=e=>kn(e)==="[object Date]",Ie=e=>typeof e=="function",tt=e=>typeof e=="string",Mt=e=>typeof e=="symbol",qe=e=>e!==null&&typeof e=="object",Ii=e=>(qe(e)||Ie(e))&&Ie(e.then)&&Ie(e.catch),ki=Object.prototype.toString,kn=e=>ki.call(e),Ad=e=>kn(e).slice(8,-1),$i=e=>kn(e)==="[object Object]",Hs=e=>tt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$n=Fs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),rs=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Sd=/-\w/g,tn=rs(e=>e.replace(Sd,t=>t.slice(1).toUpperCase())),bd=/\B([A-Z])/g,nn=rs(e=>e.replace(bd,"-$1").toLowerCase()),wi=rs(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bs=rs(e=>e?`on${wi(e)}`:""),sn=(e,t)=>!Object.is(e,t),ls=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},Li=(e,t,s,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:s})},cs=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Di;const ds=()=>Di||(Di=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function jt(e){if(Pe(e)){const t={};for(let s=0;s<e.length;s++){const a=e[s],n=tt(a)?Od(a):jt(a);if(n)for(const r in n)t[r]=n[r]}return t}else if(tt(e)||qe(e))return e}const Td=/;(?![^(]*\))/g,yd=/:([^]+)/,Rd=/\/\*[^]*?\*\//g;function Od(e){const t={};return e.replace(Rd,"").split(Td).forEach(s=>{if(s){const a=s.split(yd);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Ye(e){let t="";if(tt(e))t=e;else if(Pe(e))for(let s=0;s<e.length;s++){const a=Ye(e[s]);a&&(t+=a+" ")}else if(qe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const xd=Fs("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Yi(e){return!!e||e===""}function Nd(e,t){if(e.length!==t.length)return!1;let s=!0;for(let a=0;s&&a<e.length;a++)s=wn(e[a],t[a]);return s}function wn(e,t){if(e===t)return!0;let s=Mi(e),a=Mi(t);if(s||a)return s&&a?e.getTime()===t.getTime():!1;if(s=Mt(e),a=Mt(t),s||a)return e===t;if(s=Pe(e),a=Pe(t),s||a)return s&&a?Nd(e,t):!1;if(s=qe(e),a=qe(t),s||a){if(!s||!a)return!1;const n=Object.keys(e).length,r=Object.keys(t).length;if(n!==r)return!1;for(const c in e){const u=e.hasOwnProperty(c),_=t.hasOwnProperty(c);if(u&&!_||!u&&_||!wn(e[c],t[c]))return!1}}return String(e)===String(t)}function Ks(e,t){return e.findIndex(s=>wn(s,t))}const Ui=e=>!!(e&&e.__v_isRef===!0),d=e=>tt(e)?e:e==null?"":Pe(e)||qe(e)&&(e.toString===ki||!Ie(e.toString))?Ui(e)?d(e.value):JSON.stringify(e,Xi,2):String(e),Xi=(e,t)=>Ui(t)?Xi(e,t.value):An(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[a,n],r)=>(s[js(a,r)+" =>"]=n,s),{})}:Sn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>js(s))}:Mt(t)?js(t):qe(t)&&!Pe(t)&&!$i(t)?String(t):t,js=(e,t="")=>{var s;return Mt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Et;class vd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Et,!t&&Et&&(this.index=(Et.scopes||(Et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Et;try{return Et=this,t()}finally{Et=s}}}on(){++this._on===1&&(this.prevScope=Et,Et=this)}off(){this._on>0&&--this._on===0&&(Et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,a;for(s=0,a=this.effects.length;s<a;s++)this.effects[s].stop();for(this.effects.length=0,s=0,a=this.cleanups.length;s<a;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,a=this.scopes.length;s<a;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Pd(){return Et}let ze;const Ws=new WeakSet;class Fi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Et&&Et.active&&Et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ws.has(this)&&(Ws.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Vi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wi(this),Hi(this);const t=ze,s=It;ze=this,It=!0;try{return this.fn()}finally{Bi(this),ze=t,It=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Qs(t);this.deps=this.depsTail=void 0,Wi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ws.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zs(this)&&this.run()}get dirty(){return zs(this)}}let Gi=0,Ln,Dn;function Vi(e,t=!1){if(e.flags|=8,t){e.next=Dn,Dn=e;return}e.next=Ln,Ln=e}function Js(){Gi++}function qs(){if(--Gi>0)return;if(Dn){let t=Dn;for(Dn=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ln;){let t=Ln;for(Ln=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=s}}if(e)throw e}function Hi(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Bi(e){let t,s=e.depsTail,a=s;for(;a;){const n=a.prevDep;a.version===-1?(a===s&&(s=n),Qs(a),Md(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=n}e.deps=t,e.depsTail=s}function zs(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ki(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ki(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Yn)||(e.globalVersion=Yn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!zs(e))))return;e.flags|=2;const t=e.dep,s=ze,a=It;ze=e,It=!0;try{Hi(e);const n=e.fn(e._value);(t.version===0||sn(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(n){throw t.version++,n}finally{ze=s,It=a,Bi(e),e.flags&=-3}}function Qs(e,t=!1){const{dep:s,prevSub:a,nextSub:n}=e;if(a&&(a.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=a,e.nextSub=void 0),s.subs===e&&(s.subs=a,!a&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Qs(r,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Md(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let It=!0;const ji=[];function Dt(){ji.push(It),It=!1}function Yt(){const e=ji.pop();It=e===void 0?!0:e}function Wi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ze;ze=void 0;try{t()}finally{ze=s}}}let Yn=0;class Id{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Zs{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ze||!It||ze===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ze)s=this.activeLink=new Id(ze,this),ze.deps?(s.prevDep=ze.depsTail,ze.depsTail.nextDep=s,ze.depsTail=s):ze.deps=ze.depsTail=s,Ji(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const a=s.nextDep;a.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=a),s.prevDep=ze.depsTail,s.nextDep=void 0,ze.depsTail.nextDep=s,ze.depsTail=s,ze.deps===s&&(ze.deps=a)}return s}trigger(t){this.version++,Yn++,this.notify(t)}notify(t){Js();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{qs()}}}function Ji(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)Ji(a)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ei=new WeakMap,un=Symbol(""),ti=Symbol(""),Un=Symbol("");function dt(e,t,s){if(It&&ze){let a=ei.get(e);a||ei.set(e,a=new Map);let n=a.get(s);n||(a.set(s,n=new Zs),n.map=a,n.key=s),n.track()}}function Wt(e,t,s,a,n,r){const c=ei.get(e);if(!c){Yn++;return}const u=_=>{_&&_.trigger()};if(Js(),t==="clear")c.forEach(u);else{const _=Pe(e),p=_&&Hs(s);if(_&&s==="length"){const f=Number(a);c.forEach((l,b)=>{(b==="length"||b===Un||!Mt(b)&&b>=f)&&u(l)})}else switch((s!==void 0||c.has(void 0))&&u(c.get(s)),p&&u(c.get(Un)),t){case"add":_?p&&u(c.get("length")):(u(c.get(un)),An(e)&&u(c.get(ti)));break;case"delete":_||(u(c.get(un)),An(e)&&u(c.get(ti)));break;case"set":An(e)&&u(c.get(un));break}}qs()}function bn(e){const t=Ge(e);return t===e?t:(dt(t,"iterate",Un),Nt(e)?t:t.map(rt))}function us(e){return dt(e=Ge(e),"iterate",Un),e}const kd={__proto__:null,[Symbol.iterator](){return ni(this,Symbol.iterator,rt)},concat(...e){return bn(this).concat(...e.map(t=>Pe(t)?bn(t):t))},entries(){return ni(this,"entries",e=>(e[1]=rt(e[1]),e))},every(e,t){return Jt(this,"every",e,t,void 0,arguments)},filter(e,t){return Jt(this,"filter",e,t,s=>s.map(rt),arguments)},find(e,t){return Jt(this,"find",e,t,rt,arguments)},findIndex(e,t){return Jt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Jt(this,"findLast",e,t,rt,arguments)},findLastIndex(e,t){return Jt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Jt(this,"forEach",e,t,void 0,arguments)},includes(...e){return si(this,"includes",e)},indexOf(...e){return si(this,"indexOf",e)},join(e){return bn(this).join(e)},lastIndexOf(...e){return si(this,"lastIndexOf",e)},map(e,t){return Jt(this,"map",e,t,void 0,arguments)},pop(){return Xn(this,"pop")},push(...e){return Xn(this,"push",e)},reduce(e,...t){return qi(this,"reduce",e,t)},reduceRight(e,...t){return qi(this,"reduceRight",e,t)},shift(){return Xn(this,"shift")},some(e,t){return Jt(this,"some",e,t,void 0,arguments)},splice(...e){return Xn(this,"splice",e)},toReversed(){return bn(this).toReversed()},toSorted(e){return bn(this).toSorted(e)},toSpliced(...e){return bn(this).toSpliced(...e)},unshift(...e){return Xn(this,"unshift",e)},values(){return ni(this,"values",rt)}};function ni(e,t,s){const a=us(e),n=a[t]();return a!==e&&!Nt(e)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.done||(r.value=s(r.value)),r}),n}const $d=Array.prototype;function Jt(e,t,s,a,n,r){const c=us(e),u=c!==e&&!Nt(e),_=c[t];if(_!==$d[t]){const l=_.apply(e,r);return u?rt(l):l}let p=s;c!==e&&(u?p=function(l,b){return s.call(this,rt(l),b,e)}:s.length>2&&(p=function(l,b){return s.call(this,l,b,e)}));const f=_.call(c,p,a);return u&&n?n(f):f}function qi(e,t,s,a){const n=us(e);let r=s;return n!==e&&(Nt(e)?s.length>3&&(r=function(c,u,_){return s.call(this,c,u,_,e)}):r=function(c,u,_){return s.call(this,c,rt(u),_,e)}),n[t](r,...a)}function si(e,t,s){const a=Ge(e);dt(a,"iterate",Un);const n=a[t](...s);return(n===-1||n===!1)&&oi(s[0])?(s[0]=Ge(s[0]),a[t](...s)):n}function Xn(e,t,s=[]){Dt(),Js();const a=Ge(e)[t].apply(e,s);return qs(),Yt(),a}const wd=Fs("__proto__,__v_isRef,__isVue"),zi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mt));function Ld(e){Mt(e)||(e=String(e));const t=Ge(this);return dt(t,"has",e),t.hasOwnProperty(e)}class Qi{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,a){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return a===(n?r?ia:sa:r?na:ta).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const c=Pe(t);if(!n){let _;if(c&&(_=kd[s]))return _;if(s==="hasOwnProperty")return Ld}const u=Reflect.get(t,s,lt(t)?t:a);if((Mt(s)?zi.has(s):wd(s))||(n||dt(t,"get",s),r))return u;if(lt(u)){const _=c&&Hs(s)?u:u.value;return n&&qe(_)?ai(_):_}return qe(u)?n?ai(u):Ke(u):u}}class Zi extends Qi{constructor(t=!1){super(!1,t)}set(t,s,a,n){let r=t[s];if(!this._isShallow){const _=an(r);if(!Nt(a)&&!an(a)&&(r=Ge(r),a=Ge(a)),!Pe(t)&&lt(r)&&!lt(a))return _||(r.value=a),!0}const c=Pe(t)&&Hs(s)?Number(s)<t.length:Ve(t,s),u=Reflect.set(t,s,a,lt(t)?t:n);return t===Ge(n)&&(c?sn(a,r)&&Wt(t,"set",s,a):Wt(t,"add",s,a)),u}deleteProperty(t,s){const a=Ve(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&a&&Wt(t,"delete",s,void 0),n}has(t,s){const a=Reflect.has(t,s);return(!Mt(s)||!zi.has(s))&&dt(t,"has",s),a}ownKeys(t){return dt(t,"iterate",Pe(t)?"length":un),Reflect.ownKeys(t)}}class ea extends Qi{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Dd=new Zi,Yd=new ea,Ud=new Zi(!0),Xd=new ea(!0),ii=e=>e,_s=e=>Reflect.getPrototypeOf(e);function Fd(e,t,s){return function(...a){const n=this.__v_raw,r=Ge(n),c=An(r),u=e==="entries"||e===Symbol.iterator&&c,_=e==="keys"&&c,p=n[e](...a),f=s?ii:t?hs:rt;return!t&&dt(r,"iterate",_?ti:un),{next(){const{value:l,done:b}=p.next();return b?{value:l,done:b}:{value:u?[f(l[0]),f(l[1])]:f(l),done:b}},[Symbol.iterator](){return this}}}}function ps(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gd(e,t){const s={get(n){const r=this.__v_raw,c=Ge(r),u=Ge(n);e||(sn(n,u)&&dt(c,"get",n),dt(c,"get",u));const{has:_}=_s(c),p=t?ii:e?hs:rt;if(_.call(c,n))return p(r.get(n));if(_.call(c,u))return p(r.get(u));r!==c&&r.get(n)},get size(){const n=this.__v_raw;return!e&&dt(Ge(n),"iterate",un),n.size},has(n){const r=this.__v_raw,c=Ge(r),u=Ge(n);return e||(sn(n,u)&&dt(c,"has",n),dt(c,"has",u)),n===u?r.has(n):r.has(n)||r.has(u)},forEach(n,r){const c=this,u=c.__v_raw,_=Ge(u),p=t?ii:e?hs:rt;return!e&&dt(_,"iterate",un),u.forEach((f,l)=>n.call(r,p(f),p(l),c))}};return pt(s,e?{add:ps("add"),set:ps("set"),delete:ps("delete"),clear:ps("clear")}:{add(n){!t&&!Nt(n)&&!an(n)&&(n=Ge(n));const r=Ge(this);return _s(r).has.call(r,n)||(r.add(n),Wt(r,"add",n,n)),this},set(n,r){!t&&!Nt(r)&&!an(r)&&(r=Ge(r));const c=Ge(this),{has:u,get:_}=_s(c);let p=u.call(c,n);p||(n=Ge(n),p=u.call(c,n));const f=_.call(c,n);return c.set(n,r),p?sn(r,f)&&Wt(c,"set",n,r):Wt(c,"add",n,r),this},delete(n){const r=Ge(this),{has:c,get:u}=_s(r);let _=c.call(r,n);_||(n=Ge(n),_=c.call(r,n)),u&&u.call(r,n);const p=r.delete(n);return _&&Wt(r,"delete",n,void 0),p},clear(){const n=Ge(this),r=n.size!==0,c=n.clear();return r&&Wt(n,"clear",void 0,void 0),c}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Fd(n,e,t)}),s}function fs(e,t){const s=Gd(e,t);return(a,n,r)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?a:Reflect.get(Ve(s,n)&&n in a?s:a,n,r)}const Vd={get:fs(!1,!1)},Hd={get:fs(!1,!0)},Bd={get:fs(!0,!1)},Kd={get:fs(!0,!0)},ta=new WeakMap,na=new WeakMap,sa=new WeakMap,ia=new WeakMap;function jd(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wd(e){return e.__v_skip||!Object.isExtensible(e)?0:jd(Ad(e))}function Ke(e){return an(e)?e:ms(e,!1,Dd,Vd,ta)}function Jd(e){return ms(e,!1,Ud,Hd,na)}function ai(e){return ms(e,!0,Yd,Bd,sa)}function zP(e){return ms(e,!0,Xd,Kd,ia)}function ms(e,t,s,a,n){if(!qe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Wd(e);if(r===0)return e;const c=n.get(e);if(c)return c;const u=new Proxy(e,r===2?a:s);return n.set(e,u),u}function Tn(e){return an(e)?Tn(e.__v_raw):!!(e&&e.__v_isReactive)}function an(e){return!!(e&&e.__v_isReadonly)}function Nt(e){return!!(e&&e.__v_isShallow)}function oi(e){return e?!!e.__v_raw:!1}function Ge(e){const t=e&&e.__v_raw;return t?Ge(t):e}function qd(e){return!Ve(e,"__v_skip")&&Object.isExtensible(e)&&Li(e,"__v_skip",!0),e}const rt=e=>qe(e)?Ke(e):e,hs=e=>qe(e)?ai(e):e;function lt(e){return e?e.__v_isRef===!0:!1}function We(e){return zd(e,!1)}function zd(e,t){return lt(e)?e:new Qd(e,t)}class Qd{constructor(t,s){this.dep=new Zs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:Ge(t),this._value=s?t:rt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,a=this.__v_isShallow||Nt(t)||an(t);t=a?t:Ge(t),sn(t,s)&&(this._rawValue=t,this._value=a?t:rt(t),this.dep.trigger())}}function o(e){return lt(e)?e.value:e}const Zd={get:(e,t,s)=>t==="__v_raw"?e:o(Reflect.get(e,t,s)),set:(e,t,s,a)=>{const n=e[t];return lt(n)&&!lt(s)?(n.value=s,!0):Reflect.set(e,t,s,a)}};function aa(e){return Tn(e)?e:new Proxy(e,Zd)}class eu{constructor(t,s,a){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Zs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&ze!==this)return Vi(this,!0),!0}get value(){const t=this.dep.track();return Ki(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function tu(e,t,s=!1){let a,n;return Ie(e)?a=e:(a=e.get,n=e.set),new eu(a,n,s)}const gs={},Es=new WeakMap;let _n;function nu(e,t=!1,s=_n){if(s){let a=Es.get(s);a||Es.set(s,a=[]),a.push(e)}}function su(e,t,s=je){const{immediate:a,deep:n,once:r,scheduler:c,augmentJob:u,call:_}=s,p=L=>n?L:Nt(L)||n===!1||n===0?qt(L,1):qt(L);let f,l,b,M,D=!1,k=!1;if(lt(e)?(l=()=>e.value,D=Nt(e)):Tn(e)?(l=()=>p(e),D=!0):Pe(e)?(k=!0,D=e.some(L=>Tn(L)||Nt(L)),l=()=>e.map(L=>{if(lt(L))return L.value;if(Tn(L))return p(L);if(Ie(L))return _?_(L,2):L()})):Ie(e)?t?l=_?()=>_(e,2):e:l=()=>{if(b){Dt();try{b()}finally{Yt()}}const L=_n;_n=f;try{return _?_(e,3,[M]):e(M)}finally{_n=L}}:l=Lt,t&&n){const L=l,V=n===!0?1/0:n;l=()=>qt(L(),V)}const x=Pd(),T=()=>{f.stop(),x&&x.active&&Vs(x.effects,f)};if(r&&t){const L=t;t=(...V)=>{L(...V),T()}}let y=k?new Array(e.length).fill(gs):gs;const $=L=>{if(!(!(f.flags&1)||!f.dirty&&!L))if(t){const V=f.run();if(n||D||(k?V.some((ce,Z)=>sn(ce,y[Z])):sn(V,y))){b&&b();const ce=_n;_n=f;try{const Z=[V,y===gs?void 0:k&&y[0]===gs?[]:y,M];y=V,_?_(t,3,Z):t(...Z)}finally{_n=ce}}}else f.run()};return u&&u($),f=new Fi(l),f.scheduler=c?()=>c($,!1):$,M=L=>nu(L,!1,f),b=f.onStop=()=>{const L=Es.get(f);if(L){if(_)_(L,4);else for(const V of L)V();Es.delete(f)}},t?a?$(!0):y=f.run():c?c($.bind(null,!0),!0):f.run(),T.pause=f.pause.bind(f),T.resume=f.resume.bind(f),T.stop=T,T}function qt(e,t=1/0,s){if(t<=0||!qe(e)||e.__v_skip||(s=s||new Map,(s.get(e)||0)>=t))return e;if(s.set(e,t),t--,lt(e))qt(e.value,t,s);else if(Pe(e))for(let a=0;a<e.length;a++)qt(e[a],t,s);else if(Sn(e)||An(e))e.forEach(a=>{qt(a,t,s)});else if($i(e)){for(const a in e)qt(e[a],t,s);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&qt(e[a],t,s)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Fn=[];let ri=!1;function QP(e,...t){if(ri)return;ri=!0,Dt();const s=Fn.length?Fn[Fn.length-1].component:null,a=s&&s.appContext.config.warnHandler,n=iu();if(a)yn(a,s,11,[e+t.map(r=>{var c,u;return(u=(c=r.toString)==null?void 0:c.call(r))!=null?u:JSON.stringify(r)}).join(""),s&&s.proxy,n.map(({vnode:r})=>`at <${eo(s,r.type)}>`).join(`
`),n]);else{const r=[`[Vue warn]: ${e}`,...t];n.length&&r.push(`
`,...au(n)),console.warn(...r)}Yt(),ri=!1}function iu(){let e=Fn[Fn.length-1];if(!e)return[];const t=[];for(;e;){const s=t[0];s&&s.vnode===e?s.recurseCount++:t.push({vnode:e,recurseCount:0});const a=e.component&&e.component.parent;e=a&&a.vnode}return t}function au(e){const t=[];return e.forEach((s,a)=>{t.push(...a===0?[]:[`
`],...ou(s))}),t}function ou({vnode:e,recurseCount:t}){const s=t>0?`... (${t} recursive calls)`:"",a=e.component?e.component.parent==null:!1,n=` at <${eo(e.component,e.type,a)}`,r=">"+s;return e.props?[n,...ru(e.props),r]:[n+r]}function ru(e){const t=[],s=Object.keys(e);return s.slice(0,3).forEach(a=>{t.push(...oa(a,e[a]))}),s.length>3&&t.push(" ..."),t}function oa(e,t,s){return tt(t)?(t=JSON.stringify(t),s?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?s?t:[`${e}=${t}`]:lt(t)?(t=oa(e,Ge(t.value),!0),s?t:[`${e}=Ref<`,t,">"]):Ie(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=Ge(t),s?t:[`${e}=`,t])}function yn(e,t,s,a){try{return a?e(...a):e()}catch(n){Cs(n,t,s)}}function Ut(e,t,s,a){if(Ie(e)){const n=yn(e,t,s,a);return n&&Ii(n)&&n.catch(r=>{Cs(r,t,s)}),n}if(Pe(e)){const n=[];for(let r=0;r<e.length;r++)n.push(Ut(e[r],t,s,a));return n}}function Cs(e,t,s,a=!0){const n=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:c}=t&&t.appContext.config||je;if(t){let u=t.parent;const _=t.proxy,p=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const f=u.ec;if(f){for(let l=0;l<f.length;l++)if(f[l](e,_,p)===!1)return}u=u.parent}if(r){Dt(),yn(r,null,10,[e,_,p]),Yt();return}}lu(e,s,n,a,c)}function lu(e,t,s,a=!0,n=!1){if(n)throw e;console.error(e)}const ft=[];let Xt=-1;const Rn=[];let on=null,On=0;const ra=Promise.resolve();let As=null;function la(e){const t=As||ra;return e?t.then(this?e.bind(this):e):t}function cu(e){let t=Xt+1,s=ft.length;for(;t<s;){const a=t+s>>>1,n=ft[a],r=Gn(n);r<e||r===e&&n.flags&2?t=a+1:s=a}return t}function li(e){if(!(e.flags&1)){const t=Gn(e),s=ft[ft.length-1];!s||!(e.flags&2)&&t>=Gn(s)?ft.push(e):ft.splice(cu(t),0,e),e.flags|=1,ca()}}function ca(){As||(As=ra.then(_a))}function du(e){Pe(e)?Rn.push(...e):on&&e.id===-1?on.splice(On+1,0,e):e.flags&1||(Rn.push(e),e.flags|=1),ca()}function da(e,t,s=Xt+1){for(;s<ft.length;s++){const a=ft[s];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;ft.splice(s,1),s--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function ua(e){if(Rn.length){const t=[...new Set(Rn)].sort((s,a)=>Gn(s)-Gn(a));if(Rn.length=0,on){on.push(...t);return}for(on=t,On=0;On<on.length;On++){const s=on[On];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}on=null,On=0}}const Gn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function _a(e){try{for(Xt=0;Xt<ft.length;Xt++){const t=ft[Xt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),yn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Xt<ft.length;Xt++){const t=ft[Xt];t&&(t.flags&=-2)}Xt=-1,ft.length=0,ua(),As=null,(ft.length||Rn.length)&&_a()}}let ut=null,pa=null;function Ss(e){const t=ut;return ut=e,pa=e&&e.type.__scopeId||null,t}function fa(e,t=ut,s){if(!t||e._n)return e;const a=(...n)=>{a._d&&ja(-1);const r=Ss(t);let c;try{c=e(...n)}finally{Ss(r),a._d&&ja(1)}return c};return a._n=!0,a._c=!0,a._d=!0,a}function K(e,t){if(ut===null)return e;const s=Ms(ut),a=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[r,c,u,_=je]=t[n];r&&(Ie(r)&&(r={mounted:r,updated:r}),r.deep&&qt(c),a.push({dir:r,instance:s,value:c,oldValue:void 0,arg:u,modifiers:_}))}return e}function pn(e,t,s,a){const n=e.dirs,r=t&&t.dirs;for(let c=0;c<n.length;c++){const u=n[c];r&&(u.oldValue=r[c].value);let _=u.dir[a];_&&(Dt(),Ut(_,s,8,[e.el,u,e,t]),Yt())}}const uu=Symbol("_vte"),_u=e=>e.__isTeleport,pu=Symbol("_leaveCb");function ci(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ci(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ma(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const bs=new WeakMap;function Vn(e,t,s,a,n=!1){if(Pe(e)){e.forEach((D,k)=>Vn(D,t&&(Pe(t)?t[k]:t),s,a,n));return}if(xn(a)&&!n){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Vn(e,t,s,a.component.subTree);return}const r=a.shapeFlag&4?Ms(a.component):a.el,c=n?null:r,{i:u,r:_}=e,p=t&&t.r,f=u.refs===je?u.refs={}:u.refs,l=u.setupState,b=Ge(l),M=l===je?Pi:D=>Ve(b,D);if(p!=null&&p!==_){if(ha(t),tt(p))f[p]=null,M(p)&&(l[p]=null);else if(lt(p)){p.value=null;const D=t;D.k&&(f[D.k]=null)}}if(Ie(_))yn(_,u,12,[c,f]);else{const D=tt(_),k=lt(_);if(D||k){const x=()=>{if(e.f){const T=D?M(_)?l[_]:f[_]:_.value;if(n)Pe(T)&&Vs(T,r);else if(Pe(T))T.includes(r)||T.push(r);else if(D)f[_]=[r],M(_)&&(l[_]=f[_]);else{const y=[r];_.value=y,e.k&&(f[e.k]=y)}}else D?(f[_]=c,M(_)&&(l[_]=c)):k&&(_.value=c,e.k&&(f[e.k]=c))};if(c){const T=()=>{x(),bs.delete(e)};T.id=-1,bs.set(e,T),yt(T,s)}else ha(e),x()}}}function ha(e){const t=bs.get(e);t&&(t.flags|=8,bs.delete(e))}ds().requestIdleCallback,ds().cancelIdleCallback;const xn=e=>!!e.type.__asyncLoader,ga=e=>e.type.__isKeepAlive;function fu(e,t){Ea(e,"a",t)}function mu(e,t){Ea(e,"da",t)}function Ea(e,t,s=ht){const a=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Ts(t,a,s),s){let n=s.parent;for(;n&&n.parent;)ga(n.parent.vnode)&&hu(a,t,s,n),n=n.parent}}function hu(e,t,s,a){const n=Ts(t,e,a,!0);Aa(()=>{Vs(a[t],n)},s)}function Ts(e,t,s=ht,a=!1){if(s){const n=s[e]||(s[e]=[]),r=t.__weh||(t.__weh=(...c)=>{Dt();const u=Jn(s),_=Ut(t,s,e,c);return u(),Yt(),_});return a?n.unshift(r):n.push(r),r}}const zt=e=>(t,s=ht)=>{(!qn||e==="sp")&&Ts(e,(...a)=>t(...a),s)},gu=zt("bm"),Tt=zt("m"),Eu=zt("bu"),Cu=zt("u"),Ca=zt("bum"),Aa=zt("um"),Au=zt("sp"),Su=zt("rtg"),bu=zt("rtc");function Tu(e,t=ht){Ts("ec",e,t)}const yu=Symbol.for("v-ndc");function we(e,t,s,a){let n;const r=s,c=Pe(e);if(c||tt(e)){const u=c&&Tn(e);let _=!1,p=!1;u&&(_=!Nt(e),p=an(e),e=us(e)),n=new Array(e.length);for(let f=0,l=e.length;f<l;f++)n[f]=t(_?p?hs(rt(e[f])):rt(e[f]):e[f],f,void 0,r)}else if(typeof e=="number"){n=new Array(e);for(let u=0;u<e;u++)n[u]=t(u+1,u,void 0,r)}else if(qe(e))if(e[Symbol.iterator])n=Array.from(e,(u,_)=>t(u,_,void 0,r));else{const u=Object.keys(e);n=new Array(u.length);for(let _=0,p=u.length;_<p;_++){const f=u[_];n[_]=t(e[f],f,_,r)}}else n=[];return n}function Ru(e,t,s={},a,n){if(ut.ce||ut.parent&&xn(ut.parent)&&ut.parent.ce){const p=Object.keys(s).length>0;return E(),Ct(ve,null,[st("slot",s,a)],p?-2:64)}let r=e[t];r&&r._c&&(r._d=!1),E();const c=r&&Sa(r(s)),u=s.key||c&&c.key,_=Ct(ve,{key:(u&&!Mt(u)?u:`_${t}`)+(!c&&a?"_fb":"")},c||[],c&&e._===1?64:-2);return _.scopeId&&(_.slotScopeIds=[_.scopeId+"-s"]),r&&r._c&&(r._d=!0),_}function Sa(e){return e.some(t=>Ei(t)?!(t.type===Qt||t.type===ve&&!Sa(t.children)):!0)?e:null}const di=e=>e?za(e)?Ms(e):di(e.parent):null,Hn=pt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>di(e.parent),$root:e=>di(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Ra(e),$forceUpdate:e=>e.f||(e.f=()=>{li(e.update)}),$nextTick:e=>e.n||(e.n=la.bind(e.proxy)),$watch:e=>ju.bind(e)}),ui=(e,t)=>e!==je&&!e.__isScriptSetup&&Ve(e,t),Ou={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:a,data:n,props:r,accessCache:c,type:u,appContext:_}=e;let p;if(t[0]!=="$"){const M=c[t];if(M!==void 0)switch(M){case 1:return a[t];case 2:return n[t];case 4:return s[t];case 3:return r[t]}else{if(ui(a,t))return c[t]=1,a[t];if(n!==je&&Ve(n,t))return c[t]=2,n[t];if((p=e.propsOptions[0])&&Ve(p,t))return c[t]=3,r[t];if(s!==je&&Ve(s,t))return c[t]=4,s[t];_i&&(c[t]=0)}}const f=Hn[t];let l,b;if(f)return t==="$attrs"&&dt(e.attrs,"get",""),f(e);if((l=u.__cssModules)&&(l=l[t]))return l;if(s!==je&&Ve(s,t))return c[t]=4,s[t];if(b=_.config.globalProperties,Ve(b,t))return b[t]},set({_:e},t,s){const{data:a,setupState:n,ctx:r}=e;return ui(n,t)?(n[t]=s,!0):a!==je&&Ve(a,t)?(a[t]=s,!0):Ve(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:a,appContext:n,propsOptions:r,type:c}},u){let _,p;return!!(s[u]||e!==je&&u[0]!=="$"&&Ve(e,u)||ui(t,u)||(_=r[0])&&Ve(_,u)||Ve(a,u)||Ve(Hn,u)||Ve(n.config.globalProperties,u)||(p=c.__cssModules)&&p[u])},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ve(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ba(e){return Pe(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let _i=!0;function xu(e){const t=Ra(e),s=e.proxy,a=e.ctx;_i=!1,t.beforeCreate&&Ta(t.beforeCreate,e,"bc");const{data:n,computed:r,methods:c,watch:u,provide:_,inject:p,created:f,beforeMount:l,mounted:b,beforeUpdate:M,updated:D,activated:k,deactivated:x,beforeDestroy:T,beforeUnmount:y,destroyed:$,unmounted:L,render:V,renderTracked:ce,renderTriggered:Z,errorCaptured:v,serverPrefetch:ge,expose:X,inheritAttrs:F,components:z,directives:me,filters:Re}=t;if(p&&Nu(p,a,null),c)for(const oe in c){const re=c[oe];Ie(re)&&(a[oe]=re.bind(s))}if(n){const oe=n.call(s,s);qe(oe)&&(e.data=Ke(oe))}if(_i=!0,r)for(const oe in r){const re=r[oe],ae=Ie(re)?re.bind(s,s):Ie(re.get)?re.get.bind(s,s):Lt,Ne=!Ie(re)&&Ie(re.set)?re.set.bind(s):Lt,m=Te({get:ae,set:Ne});Object.defineProperty(a,oe,{enumerable:!0,configurable:!0,get:()=>m.value,set:g=>m.value=g})}if(u)for(const oe in u)ya(u[oe],a,s,oe);if(_){const oe=Ie(_)?_.call(s):_;Reflect.ownKeys(oe).forEach(re=>{$u(re,oe[re])})}f&&Ta(f,e,"c");function Ce(oe,re){Pe(re)?re.forEach(ae=>oe(ae.bind(s))):re&&oe(re.bind(s))}if(Ce(gu,l),Ce(Tt,b),Ce(Eu,M),Ce(Cu,D),Ce(fu,k),Ce(mu,x),Ce(Tu,v),Ce(bu,ce),Ce(Su,Z),Ce(Ca,y),Ce(Aa,L),Ce(Au,ge),Pe(X))if(X.length){const oe=e.exposed||(e.exposed={});X.forEach(re=>{Object.defineProperty(oe,re,{get:()=>s[re],set:ae=>s[re]=ae,enumerable:!0})})}else e.exposed||(e.exposed={});V&&e.render===Lt&&(e.render=V),F!=null&&(e.inheritAttrs=F),z&&(e.components=z),me&&(e.directives=me),ge&&ma(e)}function Nu(e,t,s=Lt){Pe(e)&&(e=pi(e));for(const a in e){const n=e[a];let r;qe(n)?"default"in n?r=Rs(n.from||a,n.default,!0):r=Rs(n.from||a):r=Rs(n),lt(r)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>r.value,set:c=>r.value=c}):t[a]=r}}function Ta(e,t,s){Ut(Pe(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,s)}function ya(e,t,s,a){let n=a.includes(".")?Ga(s,a):()=>s[a];if(tt(e)){const r=t[e];Ie(r)&&Qe(n,r)}else if(Ie(e))Qe(n,e.bind(s));else if(qe(e))if(Pe(e))e.forEach(r=>ya(r,t,s,a));else{const r=Ie(e.handler)?e.handler.bind(s):t[e.handler];Ie(r)&&Qe(n,r,e)}}function Ra(e){const t=e.type,{mixins:s,extends:a}=t,{mixins:n,optionsCache:r,config:{optionMergeStrategies:c}}=e.appContext,u=r.get(t);let _;return u?_=u:!n.length&&!s&&!a?_=t:(_={},n.length&&n.forEach(p=>ys(_,p,c,!0)),ys(_,t,c)),qe(t)&&r.set(t,_),_}function ys(e,t,s,a=!1){const{mixins:n,extends:r}=t;r&&ys(e,r,s,!0),n&&n.forEach(c=>ys(e,c,s,!0));for(const c in t)if(!(a&&c==="expose")){const u=vu[c]||s&&s[c];e[c]=u?u(e[c],t[c]):t[c]}return e}const vu={data:Oa,props:xa,emits:xa,methods:Bn,computed:Bn,beforeCreate:mt,created:mt,beforeMount:mt,mounted:mt,beforeUpdate:mt,updated:mt,beforeDestroy:mt,beforeUnmount:mt,destroyed:mt,unmounted:mt,activated:mt,deactivated:mt,errorCaptured:mt,serverPrefetch:mt,components:Bn,directives:Bn,watch:Mu,provide:Oa,inject:Pu};function Oa(e,t){return t?e?function(){return pt(Ie(e)?e.call(this,this):e,Ie(t)?t.call(this,this):t)}:t:e}function Pu(e,t){return Bn(pi(e),pi(t))}function pi(e){if(Pe(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function mt(e,t){return e?[...new Set([].concat(e,t))]:t}function Bn(e,t){return e?pt(Object.create(null),e,t):t}function xa(e,t){return e?Pe(e)&&Pe(t)?[...new Set([...e,...t])]:pt(Object.create(null),ba(e),ba(t!=null?t:{})):t}function Mu(e,t){if(!e)return t;if(!t)return e;const s=pt(Object.create(null),e);for(const a in t)s[a]=mt(e[a],t[a]);return s}function Na(){return{app:null,config:{isNativeTag:Pi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Iu=0;function ku(e,t){return function(a,n=null){Ie(a)||(a=pt({},a)),n!=null&&!qe(n)&&(n=null);const r=Na(),c=new WeakSet,u=[];let _=!1;const p=r.app={_uid:Iu++,_component:a,_props:n,_container:null,_context:r,_instance:null,version:C_,get config(){return r.config},set config(f){},use(f,...l){return c.has(f)||(f&&Ie(f.install)?(c.add(f),f.install(p,...l)):Ie(f)&&(c.add(f),f(p,...l))),p},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),p},component(f,l){return l?(r.components[f]=l,p):r.components[f]},directive(f,l){return l?(r.directives[f]=l,p):r.directives[f]},mount(f,l,b){if(!_){const M=p._ceVNode||st(a,n);return M.appContext=r,b===!0?b="svg":b===!1&&(b=void 0),e(M,f,b),_=!0,p._container=f,f.__vue_app__=p,Ms(M.component)}},onUnmount(f){u.push(f)},unmount(){_&&(Ut(u,p._instance,16),e(null,p._container),delete p._container.__vue_app__)},provide(f,l){return r.provides[f]=l,p},runWithContext(f){const l=Nn;Nn=p;try{return f()}finally{Nn=l}}};return p}}let Nn=null;function $u(e,t){if(ht){let s=ht.provides;const a=ht.parent&&ht.parent.provides;a===s&&(s=ht.provides=Object.create(a)),s[e]=t}}function Rs(e,t,s=!1){const a=d_();if(a||Nn){let n=Nn?Nn._context.provides:a?a.parent==null||a.ce?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&Ie(t)?t.call(a&&a.proxy):t}}const va={},Pa=()=>Object.create(va),Ma=e=>Object.getPrototypeOf(e)===va;function wu(e,t,s,a=!1){const n={},r=Pa();e.propsDefaults=Object.create(null),Ia(e,t,n,r);for(const c in e.propsOptions[0])c in n||(n[c]=void 0);s?e.props=a?n:Jd(n):e.type.props?e.props=n:e.props=r,e.attrs=r}function Lu(e,t,s,a){const{props:n,attrs:r,vnode:{patchFlag:c}}=e,u=Ge(n),[_]=e.propsOptions;let p=!1;if((a||c>0)&&!(c&16)){if(c&8){const f=e.vnode.dynamicProps;for(let l=0;l<f.length;l++){let b=f[l];if(Os(e.emitsOptions,b))continue;const M=t[b];if(_)if(Ve(r,b))M!==r[b]&&(r[b]=M,p=!0);else{const D=tn(b);n[D]=fi(_,u,D,M,e,!1)}else M!==r[b]&&(r[b]=M,p=!0)}}}else{Ia(e,t,n,r)&&(p=!0);let f;for(const l in u)(!t||!Ve(t,l)&&((f=nn(l))===l||!Ve(t,f)))&&(_?s&&(s[l]!==void 0||s[f]!==void 0)&&(n[l]=fi(_,u,l,void 0,e,!0)):delete n[l]);if(r!==u)for(const l in r)(!t||!Ve(t,l))&&(delete r[l],p=!0)}p&&Wt(e.attrs,"set","")}function Ia(e,t,s,a){const[n,r]=e.propsOptions;let c=!1,u;if(t)for(let _ in t){if($n(_))continue;const p=t[_];let f;n&&Ve(n,f=tn(_))?!r||!r.includes(f)?s[f]=p:(u||(u={}))[f]=p:Os(e.emitsOptions,_)||(!(_ in a)||p!==a[_])&&(a[_]=p,c=!0)}if(r){const _=Ge(s),p=u||je;for(let f=0;f<r.length;f++){const l=r[f];s[l]=fi(n,_,l,p[l],e,!Ve(p,l))}}return c}function fi(e,t,s,a,n,r){const c=e[s];if(c!=null){const u=Ve(c,"default");if(u&&a===void 0){const _=c.default;if(c.type!==Function&&!c.skipFactory&&Ie(_)){const{propsDefaults:p}=n;if(s in p)a=p[s];else{const f=Jn(n);a=p[s]=_.call(null,t),f()}}else a=_;n.ce&&n.ce._setProp(s,a)}c[0]&&(r&&!u?a=!1:c[1]&&(a===""||a===nn(s))&&(a=!0))}return a}const Du=new WeakMap;function ka(e,t,s=!1){const a=s?Du:t.propsCache,n=a.get(e);if(n)return n;const r=e.props,c={},u=[];let _=!1;if(!Ie(e)){const f=l=>{_=!0;const[b,M]=ka(l,t,!0);pt(c,b),M&&u.push(...M)};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!_)return qe(e)&&a.set(e,Cn),Cn;if(Pe(r))for(let f=0;f<r.length;f++){const l=tn(r[f]);$a(l)&&(c[l]=je)}else if(r)for(const f in r){const l=tn(f);if($a(l)){const b=r[f],M=c[l]=Pe(b)||Ie(b)?{type:b}:pt({},b),D=M.type;let k=!1,x=!0;if(Pe(D))for(let T=0;T<D.length;++T){const y=D[T],$=Ie(y)&&y.name;if($==="Boolean"){k=!0;break}else $==="String"&&(x=!1)}else k=Ie(D)&&D.name==="Boolean";M[0]=k,M[1]=x,(k||Ve(M,"default"))&&u.push(l)}}const p=[c,u];return qe(e)&&a.set(e,p),p}function $a(e){return e[0]!=="$"&&!$n(e)}const mi=e=>e==="_"||e==="_ctx"||e==="$stable",hi=e=>Pe(e)?e.map(Ft):[Ft(e)],Yu=(e,t,s)=>{if(t._n)return t;const a=fa((...n)=>hi(t(...n)),s);return a._c=!1,a},wa=(e,t,s)=>{const a=e._ctx;for(const n in e){if(mi(n))continue;const r=e[n];if(Ie(r))t[n]=Yu(n,r,a);else if(r!=null){const c=hi(r);t[n]=()=>c}}},La=(e,t)=>{const s=hi(t);e.slots.default=()=>s},Da=(e,t,s)=>{for(const a in t)(s||!mi(a))&&(e[a]=t[a])},Uu=(e,t,s)=>{const a=e.slots=Pa();if(e.vnode.shapeFlag&32){const n=t._;n?(Da(a,t,s),s&&Li(a,"_",n,!0)):wa(t,a)}else t&&La(e,t)},Xu=(e,t,s)=>{const{vnode:a,slots:n}=e;let r=!0,c=je;if(a.shapeFlag&32){const u=t._;u?s&&u===1?r=!1:Da(n,t,s):(r=!t.$stable,wa(t,n)),c=t}else t&&(La(e,t),c={default:1});if(r)for(const u in n)!mi(u)&&c[u]==null&&delete n[u]},yt=t_;function Fu(e){return Gu(e)}function Gu(e,t){const s=ds();s.__VUE__=!0;const{insert:a,remove:n,patchProp:r,createElement:c,createText:u,createComment:_,setText:p,setElementText:f,parentNode:l,nextSibling:b,setScopeId:M=Lt,insertStaticContent:D}=e,k=(A,N,U,ee=null,W=null,q=null,ue=void 0,ne=null,se=!!N.dynamicChildren)=>{if(A===N)return;A&&!Wn(A,N)&&(ee=Oe(A),g(A,W,q,!0),A=null),N.patchFlag===-2&&(se=!1,N.dynamicChildren=null);const{type:j,ref:O,shapeFlag:R}=N;switch(j){case xs:x(A,N,U,ee);break;case Qt:T(A,N,U,ee);break;case Ns:A==null&&y(N,U,ee,ue);break;case ve:z(A,N,U,ee,W,q,ue,ne,se);break;default:R&1?V(A,N,U,ee,W,q,ue,ne,se):R&6?me(A,N,U,ee,W,q,ue,ne,se):(R&64||R&128)&&j.process(A,N,U,ee,W,q,ue,ne,se,Be)}O!=null&&W?Vn(O,A&&A.ref,q,N||A,!N):O==null&&A&&A.ref!=null&&Vn(A.ref,null,q,A,!0)},x=(A,N,U,ee)=>{if(A==null)a(N.el=u(N.children),U,ee);else{const W=N.el=A.el;N.children!==A.children&&p(W,N.children)}},T=(A,N,U,ee)=>{A==null?a(N.el=_(N.children||""),U,ee):N.el=A.el},y=(A,N,U,ee)=>{[A.el,A.anchor]=D(A.children,N,U,ee,A.el,A.anchor)},$=({el:A,anchor:N},U,ee)=>{let W;for(;A&&A!==N;)W=b(A),a(A,U,ee),A=W;a(N,U,ee)},L=({el:A,anchor:N})=>{let U;for(;A&&A!==N;)U=b(A),n(A),A=U;n(N)},V=(A,N,U,ee,W,q,ue,ne,se)=>{N.type==="svg"?ue="svg":N.type==="math"&&(ue="mathml"),A==null?ce(N,U,ee,W,q,ue,ne,se):ge(A,N,W,q,ue,ne,se)},ce=(A,N,U,ee,W,q,ue,ne)=>{let se,j;const{props:O,shapeFlag:R,transition:G,dirs:Q}=A;if(se=A.el=c(A.type,q,O&&O.is,O),R&8?f(se,A.children):R&16&&v(A.children,se,null,ee,W,gi(A,q),ue,ne),Q&&pn(A,null,ee,"created"),Z(se,A,A.scopeId,ue,ee),O){for(const xe in O)xe!=="value"&&!$n(xe)&&r(se,xe,null,O[xe],q,ee);"value"in O&&r(se,"value",null,O.value,q),(j=O.onVnodeBeforeMount)&&Gt(j,ee,A)}Q&&pn(A,null,ee,"beforeMount");const w=Vu(W,G);w&&G.beforeEnter(se),a(se,N,U),((j=O&&O.onVnodeMounted)||w||Q)&&yt(()=>{j&&Gt(j,ee,A),w&&G.enter(se),Q&&pn(A,null,ee,"mounted")},W)},Z=(A,N,U,ee,W)=>{if(U&&M(A,U),ee)for(let q=0;q<ee.length;q++)M(A,ee[q]);if(W){let q=W.subTree;if(N===q||Ka(q.type)&&(q.ssContent===N||q.ssFallback===N)){const ue=W.vnode;Z(A,ue,ue.scopeId,ue.slotScopeIds,W.parent)}}},v=(A,N,U,ee,W,q,ue,ne,se=0)=>{for(let j=se;j<A.length;j++){const O=A[j]=ne?rn(A[j]):Ft(A[j]);k(null,O,N,U,ee,W,q,ue,ne)}},ge=(A,N,U,ee,W,q,ue)=>{const ne=N.el=A.el;let{patchFlag:se,dynamicChildren:j,dirs:O}=N;se|=A.patchFlag&16;const R=A.props||je,G=N.props||je;let Q;if(U&&fn(U,!1),(Q=G.onVnodeBeforeUpdate)&&Gt(Q,U,N,A),O&&pn(N,A,U,"beforeUpdate"),U&&fn(U,!0),(R.innerHTML&&G.innerHTML==null||R.textContent&&G.textContent==null)&&f(ne,""),j?X(A.dynamicChildren,j,ne,U,ee,gi(N,W),q):ue||re(A,N,ne,null,U,ee,gi(N,W),q,!1),se>0){if(se&16)F(ne,R,G,U,W);else if(se&2&&R.class!==G.class&&r(ne,"class",null,G.class,W),se&4&&r(ne,"style",R.style,G.style,W),se&8){const w=N.dynamicProps;for(let xe=0;xe<w.length;xe++){const B=w[xe],ie=R[B],he=G[B];(he!==ie||B==="value")&&r(ne,B,ie,he,W,U)}}se&1&&A.children!==N.children&&f(ne,N.children)}else!ue&&j==null&&F(ne,R,G,U,W);((Q=G.onVnodeUpdated)||O)&&yt(()=>{Q&&Gt(Q,U,N,A),O&&pn(N,A,U,"updated")},ee)},X=(A,N,U,ee,W,q,ue)=>{for(let ne=0;ne<N.length;ne++){const se=A[ne],j=N[ne],O=se.el&&(se.type===ve||!Wn(se,j)||se.shapeFlag&198)?l(se.el):U;k(se,j,O,null,ee,W,q,ue,!0)}},F=(A,N,U,ee,W)=>{if(N!==U){if(N!==je)for(const q in N)!$n(q)&&!(q in U)&&r(A,q,N[q],null,W,ee);for(const q in U){if($n(q))continue;const ue=U[q],ne=N[q];ue!==ne&&q!=="value"&&r(A,q,ne,ue,W,ee)}"value"in U&&r(A,"value",N.value,U.value,W)}},z=(A,N,U,ee,W,q,ue,ne,se)=>{const j=N.el=A?A.el:u(""),O=N.anchor=A?A.anchor:u("");let{patchFlag:R,dynamicChildren:G,slotScopeIds:Q}=N;Q&&(ne=ne?ne.concat(Q):Q),A==null?(a(j,U,ee),a(O,U,ee),v(N.children||[],U,O,W,q,ue,ne,se)):R>0&&R&64&&G&&A.dynamicChildren?(X(A.dynamicChildren,G,U,W,q,ue,ne),(N.key!=null||W&&N===W.subTree)&&Ya(A,N,!0)):re(A,N,U,O,W,q,ue,ne,se)},me=(A,N,U,ee,W,q,ue,ne,se)=>{N.slotScopeIds=ne,A==null?N.shapeFlag&512?W.ctx.activate(N,U,ee,ue,se):Re(N,U,ee,W,q,ue,se):de(A,N,se)},Re=(A,N,U,ee,W,q,ue)=>{const ne=A.component=c_(A,ee,W);if(ga(A)&&(ne.ctx.renderer=Be),u_(ne,!1,ue),ne.asyncDep){if(W&&W.registerDep(ne,Ce,ue),!A.el){const se=ne.subTree=st(Qt);T(null,se,N,U),A.placeholder=se.el}}else Ce(ne,A,N,U,W,q,ue)},de=(A,N,U)=>{const ee=N.component=A.component;if(Zu(A,N,U))if(ee.asyncDep&&!ee.asyncResolved){oe(ee,N,U);return}else ee.next=N,ee.update();else N.el=A.el,ee.vnode=N},Ce=(A,N,U,ee,W,q,ue)=>{const ne=()=>{if(A.isMounted){let{next:R,bu:G,u:Q,parent:w,vnode:xe}=A;{const De=Ua(A);if(De){R&&(R.el=xe.el,oe(A,R,ue)),De.asyncDep.then(()=>{A.isUnmounted||ne()});return}}let B=R,ie;fn(A,!1),R?(R.el=xe.el,oe(A,R,ue)):R=xe,G&&ls(G),(ie=R.props&&R.props.onVnodeBeforeUpdate)&&Gt(ie,w,R,xe),fn(A,!0);const he=Ha(A),J=A.subTree;A.subTree=he,k(J,he,l(J.el),Oe(J),A,W,q),R.el=he.el,B===null&&e_(A,he.el),Q&&yt(Q,W),(ie=R.props&&R.props.onVnodeUpdated)&&yt(()=>Gt(ie,w,R,xe),W)}else{let R;const{el:G,props:Q}=N,{bm:w,m:xe,parent:B,root:ie,type:he}=A,J=xn(N);fn(A,!1),w&&ls(w),!J&&(R=Q&&Q.onVnodeBeforeMount)&&Gt(R,B,N),fn(A,!0);{ie.ce&&ie.ce._def.shadowRoot!==!1&&ie.ce._injectChildStyle(he);const De=A.subTree=Ha(A);k(null,De,U,ee,A,W,q),N.el=De.el}if(xe&&yt(xe,W),!J&&(R=Q&&Q.onVnodeMounted)){const De=N;yt(()=>Gt(R,B,De),W)}(N.shapeFlag&256||B&&xn(B.vnode)&&B.vnode.shapeFlag&256)&&A.a&&yt(A.a,W),A.isMounted=!0,N=U=ee=null}};A.scope.on();const se=A.effect=new Fi(ne);A.scope.off();const j=A.update=se.run.bind(se),O=A.job=se.runIfDirty.bind(se);O.i=A,O.id=A.uid,se.scheduler=()=>li(O),fn(A,!0),j()},oe=(A,N,U)=>{N.component=A;const ee=A.vnode.props;A.vnode=N,A.next=null,Lu(A,N.props,ee,U),Xu(A,N.children,U),Dt(),da(A),Yt()},re=(A,N,U,ee,W,q,ue,ne,se=!1)=>{const j=A&&A.children,O=A?A.shapeFlag:0,R=N.children,{patchFlag:G,shapeFlag:Q}=N;if(G>0){if(G&128){Ne(j,R,U,ee,W,q,ue,ne,se);return}else if(G&256){ae(j,R,U,ee,W,q,ue,ne,se);return}}Q&8?(O&16&&Se(j,W,q),R!==j&&f(U,R)):O&16?Q&16?Ne(j,R,U,ee,W,q,ue,ne,se):Se(j,W,q,!0):(O&8&&f(U,""),Q&16&&v(R,U,ee,W,q,ue,ne,se))},ae=(A,N,U,ee,W,q,ue,ne,se)=>{A=A||Cn,N=N||Cn;const j=A.length,O=N.length,R=Math.min(j,O);let G;for(G=0;G<R;G++){const Q=N[G]=se?rn(N[G]):Ft(N[G]);k(A[G],Q,U,null,W,q,ue,ne,se)}j>O?Se(A,W,q,!0,!1,R):v(N,U,ee,W,q,ue,ne,se,R)},Ne=(A,N,U,ee,W,q,ue,ne,se)=>{let j=0;const O=N.length;let R=A.length-1,G=O-1;for(;j<=R&&j<=G;){const Q=A[j],w=N[j]=se?rn(N[j]):Ft(N[j]);if(Wn(Q,w))k(Q,w,U,null,W,q,ue,ne,se);else break;j++}for(;j<=R&&j<=G;){const Q=A[R],w=N[G]=se?rn(N[G]):Ft(N[G]);if(Wn(Q,w))k(Q,w,U,null,W,q,ue,ne,se);else break;R--,G--}if(j>R){if(j<=G){const Q=G+1,w=Q<O?N[Q].el:ee;for(;j<=G;)k(null,N[j]=se?rn(N[j]):Ft(N[j]),U,w,W,q,ue,ne,se),j++}}else if(j>G)for(;j<=R;)g(A[j],W,q,!0),j++;else{const Q=j,w=j,xe=new Map;for(j=w;j<=G;j++){const Je=N[j]=se?rn(N[j]):Ft(N[j]);Je.key!=null&&xe.set(Je.key,j)}let B,ie=0;const he=G-w+1;let J=!1,De=0;const Xe=new Array(he);for(j=0;j<he;j++)Xe[j]=0;for(j=Q;j<=R;j++){const Je=A[j];if(ie>=he){g(Je,W,q,!0);continue}let P;if(Je.key!=null)P=xe.get(Je.key);else for(B=w;B<=G;B++)if(Xe[B-w]===0&&Wn(Je,N[B])){P=B;break}P===void 0?g(Je,W,q,!0):(Xe[P-w]=j+1,P>=De?De=P:J=!0,k(Je,N[P],U,null,W,q,ue,ne,se),ie++)}const it=J?Hu(Xe):Cn;for(B=it.length-1,j=he-1;j>=0;j--){const Je=w+j,P=N[Je],h=N[Je+1],H=Je+1<O?h.el||h.placeholder:ee;Xe[j]===0?k(null,P,U,H,W,q,ue,ne,se):J&&(B<0||j!==it[B]?m(P,U,H,2):B--)}}},m=(A,N,U,ee,W=null)=>{const{el:q,type:ue,transition:ne,children:se,shapeFlag:j}=A;if(j&6){m(A.component.subTree,N,U,ee);return}if(j&128){A.suspense.move(N,U,ee);return}if(j&64){ue.move(A,N,U,Be);return}if(ue===ve){a(q,N,U);for(let R=0;R<se.length;R++)m(se[R],N,U,ee);a(A.anchor,N,U);return}if(ue===Ns){$(A,N,U);return}if(ee!==2&&j&1&&ne)if(ee===0)ne.beforeEnter(q),a(q,N,U),yt(()=>ne.enter(q),W);else{const{leave:R,delayLeave:G,afterLeave:Q}=ne,w=()=>{A.ctx.isUnmounted?n(q):a(q,N,U)},xe=()=>{q._isLeaving&&q[pu](!0),R(q,()=>{w(),Q&&Q()})};G?G(q,w,xe):xe()}else a(q,N,U)},g=(A,N,U,ee=!1,W=!1)=>{const{type:q,props:ue,ref:ne,children:se,dynamicChildren:j,shapeFlag:O,patchFlag:R,dirs:G,cacheIndex:Q}=A;if(R===-2&&(W=!1),ne!=null&&(Dt(),Vn(ne,null,U,A,!0),Yt()),Q!=null&&(N.renderCache[Q]=void 0),O&256){N.ctx.deactivate(A);return}const w=O&1&&G,xe=!xn(A);let B;if(xe&&(B=ue&&ue.onVnodeBeforeUnmount)&&Gt(B,N,A),O&6)fe(A.component,U,ee);else{if(O&128){A.suspense.unmount(U,ee);return}w&&pn(A,null,N,"beforeUnmount"),O&64?A.type.remove(A,N,U,Be,ee):j&&!j.hasOnce&&(q!==ve||R>0&&R&64)?Se(j,N,U,!1,!0):(q===ve&&R&384||!W&&O&16)&&Se(se,N,U),ee&&C(A)}(xe&&(B=ue&&ue.onVnodeUnmounted)||w)&&yt(()=>{B&&Gt(B,N,A),w&&pn(A,null,N,"unmounted")},U)},C=A=>{const{type:N,el:U,anchor:ee,transition:W}=A;if(N===ve){pe(U,ee);return}if(N===Ns){L(A);return}const q=()=>{n(U),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(A.shapeFlag&1&&W&&!W.persisted){const{leave:ue,delayLeave:ne}=W,se=()=>ue(U,q);ne?ne(A.el,q,se):se()}else q()},pe=(A,N)=>{let U;for(;A!==N;)U=b(A),n(A),A=U;n(N)},fe=(A,N,U)=>{const{bum:ee,scope:W,job:q,subTree:ue,um:ne,m:se,a:j}=A;Xa(se),Xa(j),ee&&ls(ee),W.stop(),q&&(q.flags|=8,g(ue,A,N,U)),ne&&yt(ne,N),yt(()=>{A.isUnmounted=!0},N)},Se=(A,N,U,ee=!1,W=!1,q=0)=>{for(let ue=q;ue<A.length;ue++)g(A[ue],N,U,ee,W)},Oe=A=>{if(A.shapeFlag&6)return Oe(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const N=b(A.anchor||A.el),U=N&&N[uu];return U?b(U):N};let Le=!1;const $e=(A,N,U)=>{A==null?N._vnode&&g(N._vnode,null,null,!0):k(N._vnode||null,A,N,null,null,null,U),N._vnode=A,Le||(Le=!0,da(),ua(),Le=!1)},Be={p:k,um:g,m,r:C,mt:Re,mc:v,pc:re,pbc:X,n:Oe,o:e};return{render:$e,hydrate:void 0,createApp:ku($e)}}function gi({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function fn({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Vu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ya(e,t,s=!1){const a=e.children,n=t.children;if(Pe(a)&&Pe(n))for(let r=0;r<a.length;r++){const c=a[r];let u=n[r];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=n[r]=rn(n[r]),u.el=c.el),!s&&u.patchFlag!==-2&&Ya(c,u)),u.type===xs&&u.patchFlag!==-1&&(u.el=c.el),u.type===Qt&&!u.el&&(u.el=c.el)}}function Hu(e){const t=e.slice(),s=[0];let a,n,r,c,u;const _=e.length;for(a=0;a<_;a++){const p=e[a];if(p!==0){if(n=s[s.length-1],e[n]<p){t[a]=n,s.push(a);continue}for(r=0,c=s.length-1;r<c;)u=r+c>>1,e[s[u]]<p?r=u+1:c=u;p<e[s[r]]&&(r>0&&(t[a]=s[r-1]),s[r]=a)}}for(r=s.length,c=s[r-1];r-- >0;)s[r]=c,c=t[c];return s}function Ua(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ua(t)}function Xa(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Bu=Symbol.for("v-scx"),Ku=()=>Rs(Bu);function Qe(e,t,s){return Fa(e,t,s)}function Fa(e,t,s=je){const{immediate:a,deep:n,flush:r,once:c}=s,u=pt({},s),_=t&&a||!t&&r!=="post";let p;if(qn){if(r==="sync"){const M=Ku();p=M.__watcherHandles||(M.__watcherHandles=[])}else if(!_){const M=()=>{};return M.stop=Lt,M.resume=Lt,M.pause=Lt,M}}const f=ht;u.call=(M,D,k)=>Ut(M,f,D,k);let l=!1;r==="post"?u.scheduler=M=>{yt(M,f&&f.suspense)}:r!=="sync"&&(l=!0,u.scheduler=(M,D)=>{D?M():li(M)}),u.augmentJob=M=>{t&&(M.flags|=4),l&&(M.flags|=2,f&&(M.id=f.uid,M.i=f))};const b=su(e,t,u);return qn&&(p?p.push(b):_&&b()),b}function ju(e,t,s){const a=this.proxy,n=tt(e)?e.includes(".")?Ga(a,e):()=>a[e]:e.bind(a,a);let r;Ie(t)?r=t:(r=t.handler,s=t);const c=Jn(this),u=Fa(n,r.bind(a),s);return c(),u}function Ga(e,t){const s=t.split(".");return()=>{let a=e;for(let n=0;n<s.length&&a;n++)a=a[s[n]];return a}}const Wu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tn(t)}Modifiers`]||e[`${nn(t)}Modifiers`];function Ju(e,t,...s){if(e.isUnmounted)return;const a=e.vnode.props||je;let n=s;const r=t.startsWith("update:"),c=r&&Wu(a,t.slice(7));c&&(c.trim&&(n=s.map(f=>tt(f)?f.trim():f)),c.number&&(n=s.map(cs)));let u,_=a[u=Bs(t)]||a[u=Bs(tn(t))];!_&&r&&(_=a[u=Bs(nn(t))]),_&&Ut(_,e,6,n);const p=a[u+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,Ut(p,e,6,n)}}const qu=new WeakMap;function Va(e,t,s=!1){const a=s?qu:t.emitsCache,n=a.get(e);if(n!==void 0)return n;const r=e.emits;let c={},u=!1;if(!Ie(e)){const _=p=>{const f=Va(p,t,!0);f&&(u=!0,pt(c,f))};!s&&t.mixins.length&&t.mixins.forEach(_),e.extends&&_(e.extends),e.mixins&&e.mixins.forEach(_)}return!r&&!u?(qe(e)&&a.set(e,null),null):(Pe(r)?r.forEach(_=>c[_]=null):pt(c,r),qe(e)&&a.set(e,c),c)}function Os(e,t){return!e||!os(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ve(e,t[0].toLowerCase()+t.slice(1))||Ve(e,nn(t))||Ve(e,t))}function ZP(){}function Ha(e){const{type:t,vnode:s,proxy:a,withProxy:n,propsOptions:[r],slots:c,attrs:u,emit:_,render:p,renderCache:f,props:l,data:b,setupState:M,ctx:D,inheritAttrs:k}=e,x=Ss(e);let T,y;try{if(s.shapeFlag&4){const L=n||a,V=L;T=Ft(p.call(V,L,f,l,M,b,D)),y=u}else{const L=t;T=Ft(L.length>1?L(l,{attrs:u,slots:c,emit:_}):L(l,null)),y=t.props?u:zu(u)}}catch(L){Kn.length=0,Cs(L,e,1),T=st(Qt)}let $=T;if(y&&k!==!1){const L=Object.keys(y),{shapeFlag:V}=$;L.length&&V&7&&(r&&L.some(Gs)&&(y=Qu(y,r)),$=vn($,y,!1,!0))}return s.dirs&&($=vn($,null,!1,!0),$.dirs=$.dirs?$.dirs.concat(s.dirs):s.dirs),s.transition&&ci($,s.transition),T=$,Ss(x),T}const zu=e=>{let t;for(const s in e)(s==="class"||s==="style"||os(s))&&((t||(t={}))[s]=e[s]);return t},Qu=(e,t)=>{const s={};for(const a in e)(!Gs(a)||!(a.slice(9)in t))&&(s[a]=e[a]);return s};function Zu(e,t,s){const{props:a,children:n,component:r}=e,{props:c,children:u,patchFlag:_}=t,p=r.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&_>=0){if(_&1024)return!0;if(_&16)return a?Ba(a,c,p):!!c;if(_&8){const f=t.dynamicProps;for(let l=0;l<f.length;l++){const b=f[l];if(c[b]!==a[b]&&!Os(p,b))return!0}}}else return(n||u)&&(!u||!u.$stable)?!0:a===c?!1:a?c?Ba(a,c,p):!0:!!c;return!1}function Ba(e,t,s){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let n=0;n<a.length;n++){const r=a[n];if(t[r]!==e[r]&&!Os(s,r))return!0}return!1}function e_({vnode:e,parent:t},s){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=s,t=t.parent;else break}}const Ka=e=>e.__isSuspense;function t_(e,t){t&&t.pendingBranch?Pe(e)?t.effects.push(...e):t.effects.push(e):du(e)}const ve=Symbol.for("v-fgt"),xs=Symbol.for("v-txt"),Qt=Symbol.for("v-cmt"),Ns=Symbol.for("v-stc"),Kn=[];let Rt=null;function E(e=!1){Kn.push(Rt=e?null:[])}function n_(){Kn.pop(),Rt=Kn[Kn.length-1]||null}let jn=1;function ja(e,t=!1){jn+=e,e<0&&Rt&&t&&(Rt.hasOnce=!0)}function Wa(e){return e.dynamicChildren=jn>0?Rt||Cn:null,n_(),jn>0&&Rt&&Rt.push(e),e}function S(e,t,s,a,n,r){return Wa(i(e,t,s,a,n,r,!0))}function Ct(e,t,s,a,n){return Wa(st(e,t,s,a,n,!0))}function Ei(e){return e?e.__v_isVNode===!0:!1}function Wn(e,t){return e.type===t.type&&e.key===t.key}const Ja=({key:e})=>e!=null?e:null,vs=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?tt(e)||lt(e)||Ie(e)?{i:ut,r:e,k:t,f:!!s}:e:null);function i(e,t=null,s=null,a=0,n=null,r=e===ve?0:1,c=!1,u=!1){const _={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ja(t),ref:t&&vs(t),scopeId:pa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:a,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ut};return u?(Ci(_,s),r&128&&e.normalize(_)):s&&(_.shapeFlag|=tt(s)?8:16),jn>0&&!c&&Rt&&(_.patchFlag>0||r&6)&&_.patchFlag!==32&&Rt.push(_),_}const st=s_;function s_(e,t=null,s=null,a=0,n=null,r=!1){if((!e||e===yu)&&(e=Qt),Ei(e)){const u=vn(e,t,!0);return s&&Ci(u,s),jn>0&&!r&&Rt&&(u.shapeFlag&6?Rt[Rt.indexOf(e)]=u:Rt.push(u)),u.patchFlag=-2,u}if(E_(e)&&(e=e.__vccOpts),t){t=i_(t);let{class:u,style:_}=t;u&&!tt(u)&&(t.class=Ye(u)),qe(_)&&(oi(_)&&!Pe(_)&&(_=pt({},_)),t.style=jt(_))}const c=tt(e)?1:Ka(e)?128:_u(e)?64:qe(e)?4:Ie(e)?2:0;return i(e,t,s,a,n,c,r,!0)}function i_(e){return e?oi(e)||Ma(e)?pt({},e):e:null}function vn(e,t,s=!1,a=!1){const{props:n,ref:r,patchFlag:c,children:u,transition:_}=e,p=t?o_(n||{},t):n,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:p,key:p&&Ja(p),ref:t&&t.ref?s&&r?Pe(r)?r.concat(vs(t)):[r,vs(t)]:vs(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ve?c===-1?16:c|16:c,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:_,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&vn(e.ssContent),ssFallback:e.ssFallback&&vn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return _&&a&&ci(f,_.clone(f)),f}function ke(e=" ",t=0){return st(xs,null,e,t)}function a_(e,t){const s=st(Ns,null,e);return s.staticCount=t,s}function le(e="",t=!1){return t?(E(),Ct(Qt,null,e)):st(Qt,null,e)}function Ft(e){return e==null||typeof e=="boolean"?st(Qt):Pe(e)?st(ve,null,e.slice()):Ei(e)?rn(e):st(xs,null,String(e))}function rn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:vn(e)}function Ci(e,t){let s=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Pe(t))s=16;else if(typeof t=="object")if(a&65){const n=t.default;n&&(n._c&&(n._d=!1),Ci(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!Ma(t)?t._ctx=ut:n===3&&ut&&(ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ie(t)?(t={default:t,_ctx:ut},s=32):(t=String(t),a&64?(s=16,t=[ke(t)]):s=8);e.children=t,e.shapeFlag|=s}function o_(...e){const t={};for(let s=0;s<e.length;s++){const a=e[s];for(const n in a)if(n==="class")t.class!==a.class&&(t.class=Ye([t.class,a.class]));else if(n==="style")t.style=jt([t.style,a.style]);else if(os(n)){const r=t[n],c=a[n];c&&r!==c&&!(Pe(r)&&r.includes(c))&&(t[n]=r?[].concat(r,c):c)}else n!==""&&(t[n]=a[n])}return t}function Gt(e,t,s,a=null){Ut(e,t,7,[s,a])}const r_=Na();let l_=0;function c_(e,t,s){const a=e.type,n=(t?t.appContext:e.appContext)||r_,r={uid:l_++,vnode:e,type:a,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ka(a,n),emitsOptions:Va(a,n),emit:null,emitted:null,propsDefaults:je,inheritAttrs:a.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Ju.bind(null,r),e.ce&&e.ce(r),r}let ht=null;const d_=()=>ht||ut;let Ps,Ai;{const e=ds(),t=(s,a)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(a),r=>{n.length>1?n.forEach(c=>c(r)):n[0](r)}};Ps=t("__VUE_INSTANCE_SETTERS__",s=>ht=s),Ai=t("__VUE_SSR_SETTERS__",s=>qn=s)}const Jn=e=>{const t=ht;return Ps(e),e.scope.on(),()=>{e.scope.off(),Ps(t)}},qa=()=>{ht&&ht.scope.off(),Ps(null)};function za(e){return e.vnode.shapeFlag&4}let qn=!1;function u_(e,t=!1,s=!1){t&&Ai(t);const{props:a,children:n}=e.vnode,r=za(e);wu(e,a,r,t),Uu(e,n,s||t);const c=r?__(e,t):void 0;return t&&Ai(!1),c}function __(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Ou);const{setup:a}=s;if(a){Dt();const n=e.setupContext=a.length>1?f_(e):null,r=Jn(e),c=yn(a,e,0,[e.props,n]),u=Ii(c);if(Yt(),r(),(u||e.sp)&&!xn(e)&&ma(e),u){if(c.then(qa,qa),t)return c.then(_=>{Qa(e,_)}).catch(_=>{Cs(_,e,0)});e.asyncDep=c}else Qa(e,c)}else Za(e)}function Qa(e,t,s){Ie(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:qe(t)&&(e.setupState=aa(t)),Za(e)}function Za(e,t,s){const a=e.type;e.render||(e.render=a.render||Lt);{const n=Jn(e);Dt();try{xu(e)}finally{Yt(),n()}}}const p_={get(e,t){return dt(e,"get",""),e[t]}};function f_(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,p_),slots:e.slots,emit:e.emit,expose:t}}function Ms(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(aa(qd(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Hn)return Hn[s](e)},has(t,s){return s in t||s in Hn}})):e.proxy}const m_=/(?:^|[-_])\w/g,h_=e=>e.replace(m_,t=>t.toUpperCase()).replace(/[-_]/g,"");function g_(e,t=!0){return Ie(e)?e.displayName||e.name:e.name||t&&e.__name}function eo(e,t,s=!1){let a=g_(t);if(!a&&t.__file){const n=t.__file.match(/([^/\\]+)\.\w+$/);n&&(a=n[1])}if(!a&&e&&e.parent){const n=r=>{for(const c in r)if(r[c]===t)return c};a=n(e.components||e.parent.type.components)||n(e.appContext.components)}return a?h_(a):s?"App":"Anonymous"}function E_(e){return Ie(e)&&"__vccOpts"in e}const Te=(e,t)=>tu(e,t,qn),C_="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Si;const to=typeof window!="undefined"&&window.trustedTypes;if(to)try{Si=to.createPolicy("vue",{createHTML:e=>e})}catch(e){}const no=Si?e=>Si.createHTML(e):e=>e,A_="http://www.w3.org/2000/svg",S_="http://www.w3.org/1998/Math/MathML",Zt=typeof document!="undefined"?document:null,so=Zt&&Zt.createElement("template"),b_={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,a)=>{const n=t==="svg"?Zt.createElementNS(A_,e):t==="mathml"?Zt.createElementNS(S_,e):s?Zt.createElement(e,{is:s}):Zt.createElement(e);return e==="select"&&a&&a.multiple!=null&&n.setAttribute("multiple",a.multiple),n},createText:e=>Zt.createTextNode(e),createComment:e=>Zt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Zt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,a,n,r){const c=s?s.previousSibling:t.lastChild;if(n&&(n===r||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{so.innerHTML=no(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const u=so.content;if(a==="svg"||a==="mathml"){const _=u.firstChild;for(;_.firstChild;)u.appendChild(_.firstChild);u.removeChild(_)}t.insertBefore(u,s)}return[c?c.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},T_=Symbol("_vtc");function y_(e,t,s){const a=e[T_];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Is=Symbol("_vod"),io=Symbol("_vsh"),Pn={name:"show",beforeMount(e,{value:t},{transition:s}){e[Is]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):zn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:a}){!t!=!s&&(a?t?(a.beforeEnter(e),zn(e,!0),a.enter(e)):a.leave(e,()=>{zn(e,!1)}):zn(e,t))},beforeUnmount(e,{value:t}){zn(e,t)}};function zn(e,t){e.style.display=t?e[Is]:"none",e[io]=!t}const R_=Symbol(""),O_=/(?:^|;)\s*display\s*:/;function x_(e,t,s){const a=e.style,n=tt(s);let r=!1;if(s&&!n){if(t)if(tt(t))for(const c of t.split(";")){const u=c.slice(0,c.indexOf(":")).trim();s[u]==null&&ks(a,u,"")}else for(const c in t)s[c]==null&&ks(a,c,"");for(const c in s)c==="display"&&(r=!0),ks(a,c,s[c])}else if(n){if(t!==s){const c=a[R_];c&&(s+=";"+c),a.cssText=s,r=O_.test(s)}}else t&&e.removeAttribute("style");Is in e&&(e[Is]=r?a.display:"",e[io]&&(a.display="none"))}const ao=/\s*!important$/;function ks(e,t,s){if(Pe(s))s.forEach(a=>ks(e,t,a));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const a=N_(e,t);ao.test(s)?e.setProperty(nn(a),s.replace(ao,""),"important"):e[a]=s}}const oo=["Webkit","Moz","ms"],bi={};function N_(e,t){const s=bi[t];if(s)return s;let a=tn(t);if(a!=="filter"&&a in e)return bi[t]=a;a=wi(a);for(let n=0;n<oo.length;n++){const r=oo[n]+a;if(r in e)return bi[t]=r}return t}const ro="http://www.w3.org/1999/xlink";function lo(e,t,s,a,n,r=xd(t)){a&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(ro,t.slice(6,t.length)):e.setAttributeNS(ro,t,s):s==null||r&&!Yi(s)?e.removeAttribute(t):e.setAttribute(t,r?"":Mt(s)?String(s):s)}function co(e,t,s,a,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?no(s):s);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const u=r==="OPTION"?e.getAttribute("value")||"":e.value,_=s==null?e.type==="checkbox"?"on":"":String(s);(u!==_||!("_value"in e))&&(e.value=_),s==null&&e.removeAttribute(t),e._value=s;return}let c=!1;if(s===""||s==null){const u=typeof e[t];u==="boolean"?s=Yi(s):s==null&&u==="string"?(s="",c=!0):u==="number"&&(s=0,c=!0)}try{e[t]=s}catch(u){}c&&e.removeAttribute(n||t)}function ln(e,t,s,a){e.addEventListener(t,s,a)}function v_(e,t,s,a){e.removeEventListener(t,s,a)}const uo=Symbol("_vei");function P_(e,t,s,a,n=null){const r=e[uo]||(e[uo]={}),c=r[t];if(a&&c)c.value=a;else{const[u,_]=M_(t);if(a){const p=r[t]=$_(a,n);ln(e,u,p,_)}else c&&(v_(e,u,c,_),r[t]=void 0)}}const _o=/(?:Once|Passive|Capture)$/;function M_(e){let t;if(_o.test(e)){t={};let a;for(;a=e.match(_o);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):nn(e.slice(2)),t]}let Ti=0;const I_=Promise.resolve(),k_=()=>Ti||(I_.then(()=>Ti=0),Ti=Date.now());function $_(e,t){const s=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=s.attached)return;Ut(w_(a,s.value),t,5,[a])};return s.value=e,s.attached=k_(),s}function w_(e,t){if(Pe(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(a=>n=>!n._stopped&&a&&a(n))}else return t}const po=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,L_=(e,t,s,a,n,r)=>{const c=n==="svg";t==="class"?y_(e,a,c):t==="style"?x_(e,s,a):os(t)?Gs(t)||P_(e,t,s,a,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):D_(e,t,a,c))?(co(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&lo(e,t,a,c,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!tt(a))?co(e,tn(t),a,r,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),lo(e,t,a,c))};function D_(e,t,s,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&po(t)&&Ie(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return po(t)&&tt(s)?!1:t in e}const Mn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Pe(t)?s=>ls(t,s):t};function Y_(e){e.target.composing=!0}function fo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const en=Symbol("_assign"),Ae={created(e,{modifiers:{lazy:t,trim:s,number:a}},n){e[en]=Mn(n);const r=a||n.props&&n.props.type==="number";ln(e,t?"change":"input",c=>{if(c.target.composing)return;let u=e.value;s&&(u=u.trim()),r&&(u=cs(u)),e[en](u)}),s&&ln(e,"change",()=>{e.value=e.value.trim()}),t||(ln(e,"compositionstart",Y_),ln(e,"compositionend",fo),ln(e,"change",fo))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:a,trim:n,number:r}},c){if(e[en]=Mn(c),e.composing)return;const u=(r||e.type==="number")&&!/^0\d/.test(e.value)?cs(e.value):e.value,_=t==null?"":t;u!==_&&(document.activeElement===e&&e.type!=="range"&&(a&&t===s||n&&e.value.trim()===_)||(e.value=_))}},_t={deep:!0,created(e,t,s){e[en]=Mn(s),ln(e,"change",()=>{const a=e._modelValue,n=Qn(e),r=e.checked,c=e[en];if(Pe(a)){const u=Ks(a,n),_=u!==-1;if(r&&!_)c(a.concat(n));else if(!r&&_){const p=[...a];p.splice(u,1),c(p)}}else if(Sn(a)){const u=new Set(a);r?u.add(n):u.delete(n),c(u)}else c(go(e,r))})},mounted:mo,beforeUpdate(e,t,s){e[en]=Mn(s),mo(e,t,s)}};function mo(e,{value:t,oldValue:s},a){e._modelValue=t;let n;if(Pe(t))n=Ks(t,a.props.value)>-1;else if(Sn(t))n=t.has(a.props.value);else{if(t===s)return;n=wn(t,go(e,!0))}e.checked!==n&&(e.checked=n)}const At={deep:!0,created(e,{value:t,modifiers:{number:s}},a){const n=Sn(t);ln(e,"change",()=>{const r=Array.prototype.filter.call(e.options,c=>c.selected).map(c=>s?cs(Qn(c)):Qn(c));e[en](e.multiple?n?new Set(r):r:r[0]),e._assigning=!0,la(()=>{e._assigning=!1})}),e[en]=Mn(a)},mounted(e,{value:t}){ho(e,t)},beforeUpdate(e,t,s){e[en]=Mn(s)},updated(e,{value:t}){e._assigning||ho(e,t)}};function ho(e,t){const s=e.multiple,a=Pe(t);if(!(s&&!a&&!Sn(t))){for(let n=0,r=e.options.length;n<r;n++){const c=e.options[n],u=Qn(c);if(s)if(a){const _=typeof u;_==="string"||_==="number"?c.selected=t.some(p=>String(p)===String(u)):c.selected=Ks(t,u)>-1}else c.selected=t.has(u);else if(wn(Qn(c),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Qn(e){return"_value"in e?e._value:e.value}function go(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const U_=["ctrl","shift","alt","meta"],X_={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>U_.some(s=>e[`${s}Key`]&&!t.includes(s))},vt=(e,t)=>{const s=e._withMods||(e._withMods={}),a=t.join(".");return s[a]||(s[a]=(n,...r)=>{for(let c=0;c<t.length;c++){const u=X_[t[c]];if(u&&u(n,t))return}return e(n,...r)})},F_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},St=(e,t)=>{const s=e._withKeys||(e._withKeys={}),a=t.join(".");return s[a]||(s[a]=n=>{if(!("key"in n))return;const r=nn(n.key);if(t.some(c=>c===r||F_[c]===r))return e(n)})},G_=pt({patchProp:L_},b_);let Eo;function V_(){return Eo||(Eo=Fu(G_))}const H_=(...e)=>{const t=V_().createApp(...e),{mount:s}=t;return t.mount=a=>{const n=K_(a);if(!n)return;const r=t._component;!Ie(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const c=s(n,!1,B_(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),c},t};function B_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function K_(e){return tt(e)?document.querySelector(e):e}const Ot=(e,t)=>{const s=e.__vccOpts||e;for(const[a,n]of t)s[a]=n;return s},j_={name:"ErrorBoundary",data(){return{error:null}},computed:{fallbackTitle(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_TITLE"))||"Something went wrong"},fallbackMessage(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_ERROR_GENERIC"))||"Please reload the page and try again."},reloadLabel(){var e;return((e=this.$t)==null?void 0:e.call(this,"COM_NXPEASYCART_RELOAD"))||"Reload"}},errorCaptured(e){return this.error=e,!1},methods:{reload(){typeof window!="undefined"&&window.location.reload()}}},W_={key:0,class:"nxp-ec-admin-error"},J_={class:"nxp-ec-admin-error__title"},q_={class:"nxp-ec-admin-error__body"};function z_(e,t,s,a,n,r){return E(),S("div",null,[n.error?(E(),S("div",W_,[i("h2",J_,d(r.fallbackTitle),1),i("p",q_,d(r.fallbackMessage),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:t[0]||(t[0]=(...c)=>r.reload&&r.reload(...c))},d(r.reloadLabel),1)])):Ru(e.$slots,"default",{key:1})])}const Q_=Ot(j_,[["render",z_]]),Z_={class:"nxp-ec-admin-panel nxp-ec-admin-panel--dashboard"},ep={class:"nxp-ec-admin-panel__header"},tp={class:"nxp-ec-admin-panel__title"},np={class:"nxp-ec-admin-panel__lead"},sp={class:"nxp-ec-admin-panel__actions"},ip=["disabled"],ap={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},op={key:1,class:"nxp-ec-dashboard"},rp={class:"nxp-ec-dashboard__metrics"},lp={class:"nxp-ec-dashboard__card"},cp={class:"nxp-ec-dashboard__value"},dp={class:"nxp-ec-dashboard__hint"},up={class:"nxp-ec-dashboard__card"},_p={class:"nxp-ec-dashboard__value"},pp={class:"nxp-ec-dashboard__hint"},fp={class:"nxp-ec-dashboard__card"},mp={class:"nxp-ec-dashboard__value"},hp={class:"nxp-ec-dashboard__hint"},gp={class:"nxp-ec-dashboard__card"},Ep={class:"nxp-ec-dashboard__value"},Cp={class:"nxp-ec-dashboard__hint"},Ap={class:"nxp-ec-dashboard__checklist","aria-labelledby":"dashboard-checklist-heading"},Sp={class:"nxp-ec-dashboard__checklist-header"},bp={id:"dashboard-checklist-heading"},Tp={class:"nxp-ec-dashboard__checklist-progress"},yp={class:"nxp-ec-dashboard__checklist-list"},Rp={class:"nxp-ec-dashboard__checklist-icon","aria-hidden":"true"},Op={key:0,class:"fa-solid fa-circle-check"},xp={key:1,class:"fa-regular fa-circle"},Np={class:"nxp-ec-dashboard__checklist-label"},vp=["href","title"],Pp={class:"nxp-ec-sr-only"},Mp=Ot({__name:"DashboardPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh"],setup(e,{emit:t}){const s=e,a=s.translate,n=s.state,r=Te(()=>{var l;const f=(l=n.summary)==null?void 0:l.currency;return typeof f=="string"&&f.trim()!==""?f.trim():"USD"}),c=(f=0)=>{const l=(Number(f)||0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:r.value}).format(l)}catch(b){return`${r.value} ${l.toFixed(2)}`}},u=Te(()=>Array.isArray(n.checklist)?n.checklist:[]),_=Te(()=>u.value.filter(f=>f.completed).length),p=f=>{switch(f){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return"Set base currency";case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return"Add first product";case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return"Configure payment gateway";case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return"Review orders";case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return"Invite customers";default:return f}};return(f,l)=>(E(),S("section",Z_,[i("header",ep,[i("div",null,[i("h2",tp,d(o(a)("COM_NXPEASYCART_MENU_DASHBOARD","Dashboard",[],"dashboardTitle")),1),i("p",np,d(o(a)("COM_NXPEASYCART_DASHBOARD_LEAD","Monitor store health and complete setup steps.",[],"dashboardLead")),1)]),i("div",sp,[i("button",{class:"nxp-ec-btn",type:"button",onClick:l[0]||(l[0]=b=>f.$emit("refresh")),disabled:o(n).loading},d(o(a)("COM_NXPEASYCART_DASHBOARD_REFRESH","Refresh",[],"dashboardRefresh")),9,ip)])]),o(n).error?(E(),S("div",ap,d(o(n).error),1)):(E(),S("div",op,[i("div",rp,[i("article",lp,[i("h3",null,d(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS","Active products",[],"dashboardMetricProducts")),1),i("p",cp,d(o(n).summary.products.active),1),i("p",dp,d(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_PRODUCTS_TOTAL","%s total",[String(o(n).summary.products.total)],"dashboardMetricProductsTotal")),1)]),i("article",up,[i("h3",null,d(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS","Orders today",[],"dashboardMetricOrders")),1),i("p",_p,d(c(o(n).summary.orders.revenue_today)),1),i("p",pp,d(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_ORDERS_COUNT","%s orders",[String(o(n).summary.orders.total)],"dashboardMetricOrdersCount")),1)]),i("article",fp,[i("h3",null,d(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS","Customers",[],"dashboardMetricCustomers")),1),i("p",mp,d(o(n).summary.customers.total),1),i("p",hp,d(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CUSTOMERS_HINT","Unique purchasers",[],"dashboardMetricCustomersHint")),1)]),i("article",gp,[i("h3",null,d(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_MONTH","Revenue this month",[],"dashboardMetricMonth")),1),i("p",Ep,d(c(o(n).summary.orders.revenue_month)),1),i("p",Cp,d(o(a)("COM_NXPEASYCART_DASHBOARD_METRIC_CURRENCY","%s",[r.value.value],"dashboardMetricCurrency")),1)])]),i("section",Ap,[i("header",Sp,[i("h3",bp,d(o(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST","Launch checklist",[],"dashboardChecklistTitle")),1),i("span",Tp,d(_.value)+" / "+d(u.value.length),1)]),i("ul",yp,[(E(!0),S(ve,null,we(u.value,b=>(E(),S("li",{key:b.id,class:Ye({"is-complete":b.completed})},[i("span",Rp,[b.completed?(E(),S("span",Op)):(E(),S("span",xp))]),i("span",Np,d(o(a)(b.label,p(b.label))),1),b.link?(E(),S("a",{key:0,href:b.link,class:"nxp-ec-link-button nxp-ec-btn--icon",title:o(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")},[l[1]||(l[1]=i("i",{class:"fa-solid fa-up-right-from-square","aria-hidden":"true"},null,-1)),i("span",Pp,d(o(a)("COM_NXPEASYCART_DASHBOARD_CHECKLIST_ACTION","Open",[],"dashboardChecklistAction")),1)],8,vp)):le("",!0)],2))),128))])])]))]))}},[["__scopeId","data-v-d7833c68"]]),Ip={class:"nxp-ec-admin-table","aria-describedby":"nxp-ec-products-caption"},kp={id:"nxp-ec-products-caption",class:"visually-hidden"},$p={scope:"col"},wp={scope:"col"},Lp={scope:"col"},Dp={scope:"col"},Yp={scope:"col"},Up={scope:"col"},Xp={scope:"col"},Fp={scope:"col"},Gp={scope:"col",class:"nxp-ec-admin-table__actions"},Vp={key:0},Hp={colspan:"8",class:"nxp-ec-admin-table__empty"},Bp=["data-label"],Kp={class:"nxp-ec-admin-table__primary"},jp={class:"nxp-ec-products-table__title"},Wp={class:"nxp-ec-products-table__slug"},Jp={key:0,class:"nxp-ec-products-table__badge"},qp={class:"nxp-ec-status nxp-ec-status--featured"},zp=["data-label"],Qp={key:0},Zp={key:1},ef=["data-label"],tf=["data-label"],nf=["data-label"],sf={key:0},af={key:1},of=["data-label"],rf=["disabled","aria-pressed","title","aria-label","onClick"],lf={class:"nxp-ec-sr-only"},cf=["data-label"],df={class:"nxp-ec-admin-table__actions"},uf=["onClick","title","aria-label"],_f={class:"nxp-ec-sr-only"},pf=["onClick","title","aria-label"],ff={class:"nxp-ec-sr-only"},yi=1,Zn=-1,Ri=0,mf={__name:"ProductTable",props:{items:{type:Array,default:()=>[]},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},saving:{type:Boolean,default:!1}},emits:["edit","delete","toggle-active"],setup(e){const t=e,s=t.translate,a=Te(()=>(t.baseCurrency||"USD").toUpperCase()),n=(f,l=!1)=>{const b=Number(f);if(Number.isFinite(b))return b===Zn?Zn:b===Ri?Ri:yi;if(l)return Zn;if(typeof f=="string"){const M=f.trim().toLowerCase();if(M==="out_of_stock"||M==="out-of-stock"||M==="-1")return Zn;if(M==="inactive"||M==="0")return Ri}return yi},r=f=>{var D;const l=n((D=f==null?void 0:f.status)!=null?D:f==null?void 0:f.active,f==null?void 0:f.out_of_stock),b=l===yi,M=l===Zn;return{status:l,isActive:b,isOutOfStock:M,label:b?s("COM_NXPEASYCART_STATUS_ACTIVE","Active",[],"statusActive"):M?s("COM_NXPEASYCART_STATUS_DEPLETED","Out of stock"):s("COM_NXPEASYCART_STATUS_INACTIVE","Inactive",[],"statusInactive"),className:b?"nxp-ec-status--active":M?"nxp-ec-status--muted":"nxp-ec-status--inactive",icon:b?"fa-solid fa-circle-check":M?"fa-solid fa-triangle-exclamation":"fa-regular fa-circle",title:s("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")}},c=f=>{var k,x,T,y;const l=(x=(k=f==null?void 0:f.summary)==null?void 0:k.variants)!=null?x:{};if(l.multiple_currencies)return s("COM_NXPEASYCART_PRODUCTS_PRICE_MIXED","Mixed currencies");const b=Number.isFinite(l.price_min_cents)?l.price_min_cents:null,M=Number.isFinite(l.price_max_cents)?l.price_max_cents:null;if(b===null)return"";const D=l.currency||((y=(T=f==null?void 0:f.variants)==null?void 0:T[0])==null?void 0:y.currency)||a.value;return M===null||M===b?p(b,D):`${p(b,D)}  ${p(M,D)}`},u=f=>{var M,D;const l=(D=(M=f==null?void 0:f.summary)==null?void 0:M.variants)!=null?D:{},b=Number.isFinite(l.count)?l.count:Array.isArray(f==null?void 0:f.variants)?f.variants.length:0;return b===1?s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT_ONE","1 variant"):s("COM_NXPEASYCART_PRODUCTS_VARIANT_COUNT","%s variants",[String(b)])},_=f=>{if(!Array.isArray(f)||!f.length)return"";const l=f.map(D=>(D==null?void 0:D.title)||(D==null?void 0:D.slug)).filter(D=>!!D);if(!l.length)return"";if(l.length<=3)return l.join(", ");const b=l.slice(0,3).join(", "),M=l.length-3;return`${b} ${s("COM_NXPEASYCART_PRODUCTS_MORE_CATEGORIES","+%s more",[String(M)])}`},p=(f,l)=>`${(f/100).toFixed(2)} ${l}`;return(f,l)=>(E(),S("table",Ip,[i("caption",kp,d(o(s)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("thead",null,[i("tr",null,[i("th",$p,d(o(s)("JGRID_HEADING_ID","ID")),1),i("th",wp,d(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_TITLE","Product")),1),i("th",Lp,d(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")),1),i("th",Dp,d(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")),1),i("th",Yp,d(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")),1),i("th",Up,d(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")),1),i("th",Xp,d(o(s)("JSTATUS","Status")),1),i("th",Fp,d(o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")),1),i("th",Gp,d(o(s)("JGLOBAL_ACTIONS","Actions")),1)])]),i("tbody",null,[e.items.length?le("",!0):(E(),S("tr",Vp,[i("td",Hp,d(o(s)("COM_NXPEASYCART_PRODUCTS_EMPTY","No products found.",[],"productsEmpty")),1)])),(E(!0),S(ve,null,we(e.items,b=>{var M,D,k,x,T,y,$,L,V,ce,Z,v;return E(),S("tr",{key:b.id},[i("td",{"data-label":o(s)("JGRID_HEADING_ID","ID"),class:"nxp-ec-admin-table__id"},d(b.id),9,Bp),i("td",Kp,[i("div",jp,d(b.title),1),i("div",Wp,d(b.slug),1),b.featured?(E(),S("div",Jp,[i("span",qp,[l[0]||(l[0]=i("i",{class:"fa-solid fa-sun","aria-hidden":"true"},null,-1)),ke(" "+d(o(s)("COM_NXPEASYCART_PRODUCTS_BADGE_FEATURED","Featured")),1)])])):le("",!0)]),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_PRICE","Price")},[c(b)?(E(),S("span",Qp,d(c(b)),1)):(E(),S("span",Zp,d(o(s)("COM_NXPEASYCART_PRODUCTS_PRICE_UNKNOWN","")),1))],8,zp),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_VARIANTS","Variants")},d(u(b)),9,ef),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_STOCK","Stock")},[i("span",{class:Ye(["nxp-ec-status",(D=(M=b.summary)==null?void 0:M.variants)!=null&&D.stock_zero?"nxp-ec-status--danger":(x=(k=b.summary)==null?void 0:k.variants)!=null&&x.stock_low?"nxp-ec-status--warning":"nxp-ec-status--muted"])},[(y=(T=b.summary)==null?void 0:T.variants)!=null&&y.stock_zero||((L=($=b.summary)==null?void 0:$.variants)==null?void 0:L.stock_total)===0?(E(),S(ve,{key:0},[ke(d(o(s)("COM_NXPEASYCART_PRODUCTS_STOCK_UNAVAILABLE","Unavailable")),1)],64)):(E(),S(ve,{key:1},[ke(d(o(s)("COM_NXPEASYCART_PRODUCTS_STOCK_COUNT","%s in stock",[String((Z=(ce=(V=b.summary)==null?void 0:V.variants)==null?void 0:ce.stock_total)!=null?Z:0)])),1)],64))],2)],8,tf),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_CATEGORIES","Categories")},[(v=b.categories)!=null&&v.length?(E(),S("span",sf,d(_(b.categories)),1)):(E(),S("span",af,d(o(s)("COM_NXPEASYCART_PRODUCTS_NO_CATEGORIES","Uncategorised")),1))],8,nf),i("td",{"data-label":o(s)("JSTATUS","Status")},[i("button",{type:"button",class:Ye(["nxp-ec-status","nxp-ec-status-button",r(b).className]),disabled:e.saving,"aria-pressed":r(b).isActive?"true":"false",title:r(b).title,"aria-label":r(b).title,onClick:ge=>f.$emit("toggle-active",b)},[i("i",{class:Ye(r(b).icon),"aria-hidden":"true"},null,2),ke(" "+d(r(b).label)+" ",1),i("span",lf,d(o(s)("COM_NXPEASYCART_PRODUCTS_STATUS_TOGGLE","Toggle status",[],"productsStatusToggle")),1)],10,rf)],8,of),i("td",{"data-label":o(s)("COM_NXPEASYCART_PRODUCTS_TABLE_UPDATED","Updated")},d(b.modified||b.created),9,cf),i("td",df,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("edit",b),title:o(s)("JGLOBAL_EDIT","Edit"),"aria-label":o(s)("JGLOBAL_EDIT","Edit")},[l[1]||(l[1]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",_f,d(o(s)("JGLOBAL_EDIT","Edit")),1)],8,uf),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ge=>f.$emit("delete",b),title:o(s)("JTRASH","Delete"),"aria-label":o(s)("JTRASH","Delete")},[l[2]||(l[2]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",ff,d(o(s)("JTRASH","Delete")),1)],8,pf)])])}),128))])]))}};class hf{constructor({token:t=""}={}){this.token=t}async request(t,s={}){const a={method:"GET",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"},credentials:"same-origin",cache:"no-store",...s};a.headers={...a.headers,...s.headers||{}};const n=String(a.method||"GET").toUpperCase();let r=t;this.token&&(a.headers["X-CSRF-Token"]=this.token,n!=="GET"&&(r=this.ensureTokenOnUrl(r)));const c=await fetch(r,a);let u=null;const _=await c.text();if(_)try{u=JSON.parse(_)}catch(p){}if(!c.ok){const p=new Error((u==null?void 0:u.message)||`Request failed with status ${c.status}`);throw p.code=c.status,p.details=(u==null?void 0:u.data)||(u==null?void 0:u.errors)||null,p}if((u==null?void 0:u.success)===!1){const p=new Error(u.message||"Unknown API error");throw p.details=u.data||u.errors||null,p}return u!=null?u:{}}ensureTokenOnUrl(t){if(!this.token)return t;const s=encodeURIComponent(this.token);try{const a=typeof window!="undefined"&&window.location?window.location.origin:void 0,n=new URL(t,a);return n.searchParams.has(this.token)||n.searchParams.set(this.token,"1"),n.toString()}catch(a){if(t.includes(`${s}=`))return t;const n=t.includes("?")?"&":"?";return`${t}${n}${s}=1`}}get(t,s={}){return this.request(t,{...s,method:"GET"})}post(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"POST",headers:n,body:JSON.stringify(s)})}put(t,s,a={}){const n={"Content-Type":"application/json",...a.headers||{}};return this.request(t,{...a,method:"PUT",headers:n,body:JSON.stringify(s)})}delete(t,s={}){return this.request(t,{...s,method:"DELETE"})}async fetchProducts({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var b,M,D,k;const c=new URLSearchParams({limit:String(s),start:String(a)});n&&c.set("search",n);const u=`${t}&${c.toString()}`,p=(b=(await this.get(u,{signal:r})).data)!=null?b:{},f=(D=(M=p.items)!=null?M:p.data)!=null?D:[],l=(k=p.pagination)!=null?k:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCategories({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var p,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(p=(await this.get(c,{signal:r})).data)!=null?p:{};return{items:(f=_.items)!=null?f:[],pagination:(l=_.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async fetchOrders({endpoint:t,limit:s=20,start:a=0,search:n="",state:r="",signal:c}){var b,M,D,k;const u=this.mergeParams(t,{limit:s,start:a,search:n||void 0,state:r||void 0}),p=(b=(await this.get(u,{signal:c})).data)!=null?b:{},f=(D=(M=p.items)!=null?M:p.data)!=null?D:[],l=(k=p.pagination)!=null?k:{total:0,limit:s,pages:0,current:0};return{items:f,pagination:l}}async fetchCustomers({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var l,b,M;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(l=(await this.get(c,{signal:r})).data)!=null?l:{},p=(b=_.items)!=null?b:[],f=(M=_.pagination)!=null?M:{total:0,limit:s,pages:0,current:0};return{items:p,pagination:f}}async fetchCustomer({endpoint:t,email:s}){var r,c;const a=this.mergeParams(t,{email:s});return(c=(r=(await this.get(a)).data)==null?void 0:r.customer)!=null?c:null}async fetchCoupons({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var p,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(p=(await this.get(c,{signal:r})).data)!=null?p:{};return{items:(f=_.items)!=null?f:[],pagination:(l=_.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createCoupon({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.coupon)!=null?r:null}async updateCoupon({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.coupon)!=null?u:null}async deleteCoupons({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchTaxRates({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var p,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(p=(await this.get(c,{signal:r})).data)!=null?p:{};return{items:(f=_.items)!=null?f:[],pagination:(l=_.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createTaxRate({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.rate)!=null?r:null}async updateTaxRate({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.rate)!=null?u:null}async deleteTaxRates({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchShippingRules({endpoint:t,limit:s=20,start:a=0,search:n="",signal:r}){var p,f,l;const c=this.mergeParams(t,{limit:s,start:a,search:n||void 0}),_=(p=(await this.get(c,{signal:r})).data)!=null?p:{};return{items:(f=_.items)!=null?f:[],pagination:(l=_.pagination)!=null?l:{total:0,limit:s,pages:0,current:0}}}async createShippingRule({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.rule)!=null?r:null}async updateShippingRule({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.rule)!=null?u:null}async deleteShippingRules({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async fetchLogs({endpoint:t,limit:s=20,start:a=0,search:n="",entity:r="",signal:c}){var f,l,b;const u=this.mergeParams(t,{limit:s,start:a,search:n||void 0,entity:r||void 0}),p=(f=(await this.get(u,{signal:c})).data)!=null?f:{};return{items:(l=p.items)!=null?l:[],pagination:(b=p.pagination)!=null?b:{total:0,limit:s,pages:0,current:0}}}async fetchDashboard({endpoint:t}){var a;return t?(a=(await this.get(t)).data)!=null?a:{}:{}}async fetchSettings({endpoint:t}){var a,n;return t?(n=(a=(await this.get(t)).data)==null?void 0:a.settings)!=null?n:{}:{}}async updateSettings({endpoint:t,data:s}){var n,r;return(r=(n=(await this.put(t,s)).data)==null?void 0:n.settings)!=null?r:{}}async fetchOrder({endpoint:t,id:s=null,orderNumber:a=""}){var c,u;const n=this.mergeParams(t,{id:s||void 0,order_no:a||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.order)!=null?u:null}async transitionOrder({endpoint:t,id:s,state:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.post(n,{state:a})).data)==null?void 0:c.order)!=null?u:null}async bulkTransitionOrders({endpoint:t,ids:s,state:a}){var c;const n={ids:s,state:a};return(c=(await this.post(t,n)).data)!=null?c:{}}async addOrderNote({endpoint:t,id:s,message:a}){var r,c;return(c=(r=(await this.post(t,{id:s,message:a})).data)==null?void 0:r.order)!=null?c:null}async fetchOrderInvoice({endpoint:t,id:s,orderNumber:a}){var c,u;const n={id:s||void 0,order_no:a||void 0};return(u=(c=(await this.post(t,n)).data)==null?void 0:c.invoice)!=null?u:null}async exportOrders({endpoint:t,search:s="",state:a=""}){var c,u;const n=this.mergeParams(t,{search:s||void 0,state:a||void 0});return(u=(c=(await this.get(n)).data)==null?void 0:c.export)!=null?u:null}async updateOrderTracking({endpoint:t,id:s,tracking:a}){var r,c;return(c=(r=(await this.post(t,{id:s,...a})).data)==null?void 0:r.order)!=null?c:null}async sendOrderEmail({endpoint:t,id:s,type:a}){var r,c;return(c=(r=(await this.post(t,{id:s,type:a})).data)==null?void 0:r.order)!=null?c:null}async recordTransaction({endpoint:t,id:s,amountCents:a,reference:n,note:r}){var u,_;return(_=(u=(await this.post(t,{id:s,amount_cents:a,reference:n||void 0,note:r||void 0})).data)==null?void 0:u.order)!=null?_:null}async resendDownloads({endpoint:t,id:s}){var n,r;return(r=(n=(await this.post(t,{id:s})).data)==null?void 0:n.order)!=null?r:null}async resetDownload({endpoint:t,downloadId:s,orderId:a}){var r;return(r=(await this.post(t,{download_id:s,order_id:a||void 0})).data)!=null?r:null}async createProduct({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?r:null}async updateProduct({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.item)!=null?u:null}async deleteProducts({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.post(t,{ids:s},{headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:[]}async fetchDigitalFiles({endpoint:t,productId:s,variantId:a=null,signal:n}){var u,_;const r=this.mergeParams(t,{product_id:s,variant_id:a||void 0});return(_=(u=(await this.get(r,{signal:n})).data)==null?void 0:u.files)!=null?_:[]}async uploadDigitalFile({endpoint:t,productId:s,file:a,variantId:n=null,version:r="1.0"}){var _,p;const c=new FormData;return c.append("product_id",s),n&&c.append("variant_id",n),r&&c.append("version",r),c.append("file",a),(p=(_=(await this.request(t,{method:"POST",body:c})).data)==null?void 0:_.file)!=null?p:null}async deleteDigitalFile({endpoint:t,fileId:s}){var n,r;return(r=(n=(await this.post(t,{id:s})).data)==null?void 0:n.deleted)!=null?r:null}async createCategory({endpoint:t,data:s}){var n,r;return(r=(n=(await this.post(t,s)).data)==null?void 0:n.item)!=null?r:null}async updateCategory({endpoint:t,id:s,data:a}){var c,u;const n=this.mergeParams(t,{id:s});return(u=(c=(await this.put(n,a)).data)==null?void 0:c.item)!=null?u:null}async deleteCategories({endpoint:t,ids:s}){var n,r;return(r=(n=(await this.delete(t,{body:JSON.stringify({ids:s}),headers:{"Content-Type":"application/json"}})).data)==null?void 0:n.deleted)!=null?r:0}async gdprExport({endpoint:t,email:s}){var r,c;const a=this.mergeParams(t,{email:s});return(c=(r=(await this.get(a)).data)==null?void 0:r.export)!=null?c:null}async gdprAnonymise({endpoint:t,email:s}){var n,r,c,u;const a=await this.post(t,{email:s});return{affected:(r=(n=a.data)==null?void 0:n.affected)!=null?r:0,message:(u=(c=a.data)==null?void 0:c.message)!=null?u:""}}mergeParams(t,s={}){const a=new URLSearchParams;return Object.entries(s).forEach(([n,r])=>{r==null||r===""||a.set(n,String(r))}),a.toString()?`${t}${t.includes("?")?"&":"?"}${a.toString()}`:t}}const Pt=e=>new hf(e),gf={class:"nxp-ec-modal__dialog"},Ef={class:"nxp-ec-modal__header"},Cf={id:"product-modal-title",class:"nxp-ec-modal__title"},Af={class:"nxp-ec-modal__header-actions"},Sf=["disabled","title","aria-label"],bf={class:"nxp-ec-sr-only"},Tf=["disabled","title","aria-label"],yf={class:"nxp-ec-sr-only"},Rf=["title","aria-label"],Of={class:"nxp-ec-sr-only"},xf={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Nf={class:"nxp-ec-editor-tabs",role:"tablist"},vf={class:"nxp-ec-editor-panel"},Pf={class:"nxp-ec-form-field"},Mf={class:"nxp-ec-form-label",for:"product-title"},If={class:"nxp-ec-form-field"},kf={class:"nxp-ec-form-label",for:"product-slug"},$f=["placeholder"],wf={class:"nxp-ec-form-field"},Lf={class:"nxp-ec-form-label",for:"product-short-desc"},Df={class:"nxp-ec-form-field"},Yf={class:"nxp-ec-form-label",for:"product-long-desc"},Uf={class:"nxp-ec-form-field"},Xf={class:"nxp-ec-form-label",for:"product-status"},Ff={value:1},Gf={value:-1},Vf={value:0},Hf={class:"nxp-ec-form-help"},Bf={class:"nxp-ec-form-field"},Kf={class:"nxp-ec-form-label",for:"product-type"},jf={value:"physical"},Wf={value:"digital"},Jf={class:"nxp-ec-form-help"},qf={class:"nxp-ec-form-field nxp-ec-form-field--inline"},zf={class:"nxp-ec-form-label",for:"product-featured"},Qf={class:"nxp-ec-form-help"},Zf={class:"nxp-ec-editor-panel"},em={class:"nxp-ec-form-field"},tm={class:"nxp-ec-form-label",for:"product-images"},nm={id:"product-images",class:"nxp-ec-image-list"},sm=["id","onUpdate:modelValue","placeholder"],im={class:"nxp-ec-image-row__actions"},am=["onClick"],om=["onClick","disabled"],rm=["onClick","disabled"],lm=["onClick","aria-label"],cm={class:"nxp-ec-form-help"},dm={class:"nxp-ec-editor-panel"},um={class:"nxp-ec-form-field"},_m={class:"nxp-ec-form-label",for:"product-category-select"},pm=["value"],fm={class:"nxp-ec-chip-input nxp-ec-chip-input--selected"},mm=["onClick","aria-label"],hm={class:"nxp-ec-chip-input nxp-ec-chip-input--new"},gm=["onKeydown","placeholder"],Em={class:"nxp-ec-form-help"},Cm={class:"nxp-ec-variant-section"},Am={class:"nxp-ec-variant-section__header"},Sm={class:"nxp-ec-variant-section__title"},bm={class:"nxp-ec-form-help"},Tm={class:"nxp-ec-variant-card__header"},ym={class:"nxp-ec-variant-card__title"},Rm=["onClick"],Om=["onClick","disabled"],xm={class:"nxp-ec-variant-card__grid"},Nm={class:"nxp-ec-form-field"},vm=["for"],Pm=["id","onUpdate:modelValue"],Mm={class:"nxp-ec-form-field"},Im=["for"],km=["id","onUpdate:modelValue","onBlur"],$m={class:"nxp-ec-form-field"},wm=["for"],Lm=["id","onUpdate:modelValue"],Dm={class:"nxp-ec-form-field"},Ym=["for"],Um=["id","onUpdate:modelValue"],Xm={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Fm=["for"],Gm=["id","onUpdate:modelValue"],Vm={class:"nxp-ec-form-help"},Hm={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Bm=["for"],Km=["id","onUpdate:modelValue"],jm={class:"nxp-ec-variant-options"},Wm={class:"nxp-ec-variant-options__header"},Jm={class:"nxp-ec-variant-options__title"},qm=["onClick"],zm={class:"nxp-ec-form-help"},Qm=["id","onUpdate:modelValue","placeholder"],Zm=["id","onUpdate:modelValue","placeholder"],eh=["onClick","aria-label"],th={key:1,class:"nxp-ec-editor-panel nxp-ec-editor-panel--digital"},nh={class:"nxp-ec-admin-alert nxp-ec-admin-alert--info"},sh={style:{"margin-bottom":"0"}},ih={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ah={key:1,class:"nxp-ec-admin-callout nxp-ec-admin-callout--info"},oh={class:"nxp-ec-admin-callout__content"},rh={class:"nxp-ec-admin-callout__title"},lh={class:"nxp-ec-digital-grid"},ch={class:"nxp-ec-digital-card"},dh={class:"nxp-ec-form-field"},uh={class:"nxp-ec-form-label",for:"digital-file-input"},_h=["disabled"],ph={class:"nxp-ec-form-field"},fh={class:"nxp-ec-form-label",for:"digital-version"},mh=["disabled"],hh={class:"nxp-ec-form-field"},gh={class:"nxp-ec-form-label",for:"digital-variant"},Eh=["disabled"],Ch={value:""},Ah=["value"],Sh={class:"nxp-ec-form-help"},bh={class:"nxp-ec-admin-form__actions"},Th=["disabled"],yh={class:"nxp-ec-digital-card"},Rh={class:"nxp-ec-digital-card__header"},Oh={key:0},xh={key:0,class:"nxp-ec-form-help"},Nh={key:1,class:"nxp-ec-digital-table"},vh={class:"nxp-ec-digital-meta"},Ph={class:"nxp-ec-admin-panel__muted"},Mh={key:0,class:"nxp-ec-admin-panel__muted"},Ih={class:"nxp-ec-digital-actions"},kh=["disabled","onClick"],$h={class:"nxp-ec-modal__actions"},wh=["disabled"],Lh=["disabled"],Co="product-editor-form",Dh=Ot({__name:"ProductEditor",props:{open:{type:Boolean,default:!1},product:{type:Object,default:()=>null},saving:{type:Boolean,default:!1},baseCurrency:{type:String,default:"USD"},translate:{type:Function,required:!0},errors:{type:Array,default:()=>[]},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["submit","cancel"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Te(()=>(s.baseCurrency||"USD").toUpperCase()),c=We("general"),u=Pt({token:s.csrfToken||""}),_=Te(()=>s.digitalEndpoints||{});Te(()=>s.csrfToken||"");const p=P=>{var h,H,be,ye,Y,Ee,te,Ue;if(P==null)return null;if(typeof P=="string"){const Fe=P.trim();return Fe===""?null:{id:0,title:Fe,slug:""}}if(typeof P=="object"){const Fe=Number.parseInt((H=(h=P.id)!=null?h:P.value)!=null?H:0,10)||0,et=(te=(Ee=(Y=(ye=(be=P.title)!=null?be:P.name)!=null?ye:P.text)!=null?Y:P.label)!=null?Ee:P.slug)!=null?te:"",nt=String(et!=null?et:"").trim(),at=String((Ue=P.slug)!=null?Ue:"").trim(),gt=P.parent_id!==null&&P.parent_id!==void 0&&Number.parseInt(P.parent_id,10)||null;return Fe<=0&&nt===""?null:{id:Fe>0?Fe:0,title:nt!==""?nt:at,slug:at,parent_id:gt}}return null},f=P=>{const h=Number(P);if(Number.isFinite(h))return h===-1?-1:h===0?0:1;if(typeof P=="string"){const H=P.trim().toLowerCase();if(H==="out_of_stock"||H==="out-of-stock"||H==="-1")return-1;if(H==="inactive"||H==="0")return 0}return 1},l=Ke({title:"",slug:"",short_desc:"",long_desc:"",status:1,featured:!1,images:[],categories:[],variants:[],product_type:"physical",digital_files:[]}),b=We(""),M=We(!1),D=Te(()=>(l.product_type||"physical").toString().toLowerCase()),k=Te(()=>D.value==="digital"),x=Ke({files:[],loading:!1,uploading:!1,deletingId:0,error:"",version:"1.0",variantId:""}),T=We(null),y=We(null),$=()=>{T.value=null,y.value&&(y.value.value="")},L=(P,h,H=new Set)=>{if(!P||H.has(P))return 0;H.add(P);const be=h.find(ye=>ye.id===P);return!be||!be.parent_id?0:1+L(be.parent_id,h,H)},V=P=>{if(!P)return"";const h=Array.isArray(s.categoryOptions)?s.categoryOptions:[],H=L(P.id,h);return H===0?P.title:"".repeat(H)+" "+P.title},ce=Te(()=>{const h=(Array.isArray(s.categoryOptions)?s.categoryOptions:[]).map(p).filter(Y=>Y&&Y.id>0&&Y.title!==""),H=new Map;h.forEach(Y=>{H.set(Y.id,Y)}),l.categories.forEach(Y=>{var Ee;Y.id>0&&Y.title&&!H.has(Y.id)&&H.set(Y.id,{id:Y.id,title:Y.title,slug:(Ee=Y.slug)!=null?Ee:"",parent_id:Y.parent_id!==null&&Y.parent_id!==void 0?Y.parent_id:null})});const be=Array.from(H.values()),ye=(Y=null,Ee=0)=>be.filter(te=>te.parent_id===Y).sort((te,Ue)=>te.title.localeCompare(Ue.title)).flatMap(te=>[te,...ye(te.id,Ee+1)]);return ye()}),Z=Te(()=>{const P=new Map;return ce.value.forEach(h=>{var H;P.set(h.id,{title:h.title,slug:(H=h.slug)!=null?H:""})}),P}),v=Te({get:()=>l.categories.filter(h=>h&&h.id>0).map(h=>h.id),set:P=>{const h=Array.isArray(P)?P:[],H=Array.from(new Set(h.map(Y=>Number.parseInt(Y!=null?Y:0,10)||0).filter(Y=>Y>0))),be=l.categories.filter(Y=>!(Y.id>0)),ye=H.map(Y=>{const Ee=Z.value.get(Y),te=l.categories.find(et=>et.id===Y),Ue=(Ee==null?void 0:Ee.title)||(te==null?void 0:te.title)||"",Fe=(Ee==null?void 0:Ee.slug)||(te==null?void 0:te.slug)||"";return Ue===""?null:{id:Y,title:Ue,slug:Fe}}).filter(Y=>Y!==null);l.categories.splice(0,l.categories.length,...ye,...be)}}),ge=Te(()=>s.product&&s.product.id?"edit":"create"),X=()=>({id:0,sku:"",price:"",currency:r.value,stock:0,weight:"",active:!0,options:[],is_digital:k.value}),F=()=>({name:"",value:""}),z=P=>P?P.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",me=()=>{M.value=!0,l.slug=z(l.slug)},Re=P=>{const H=(Array.isArray(P)?P:[]).map(p).filter(Y=>Y&&(Y.id>0||Y.title!=="")),be=new Set,ye=[];H.forEach(Y=>{const Ee=Y.id>0?`id:${Y.id}`:`title:${Y.title.toLowerCase()}`;be.has(Ee)||(be.add(Ee),ye.push(Y))}),l.categories.splice(0,l.categories.length,...ye)},de=P=>{l.variants.splice(0,l.variants.length,...P),Ne()},Ce=P=>{l.images.splice(0,l.images.length,...P)},oe=P=>Array.isArray(P)?P.map(h=>{var H,be,ye;return{name:String((be=(H=h==null?void 0:h.name)!=null?H:h==null?void 0:h.key)!=null?be:"").trim(),value:String((ye=h==null?void 0:h.value)!=null?ye:"").trim()}}):P&&typeof P=="object"?Object.entries(P).map(([h,H])=>({name:String(h!=null?h:"").trim(),value:String(H!=null?H:"").trim()})):[],re=P=>Array.isArray(P)?P.map(h=>{var H,be,ye,Y,Ee,te,Ue;return{id:Number.parseInt((H=h==null?void 0:h.id)!=null?H:0,10)||0,product_id:Number.parseInt((be=h==null?void 0:h.product_id)!=null?be:0,10)||0,variant_id:(h==null?void 0:h.variant_id)!==null&&(h==null?void 0:h.variant_id)!==void 0?Number.parseInt(h.variant_id,10)||0:null,filename:String((ye=h==null?void 0:h.filename)!=null?ye:"").trim(),storage_path:String((Y=h==null?void 0:h.storage_path)!=null?Y:"").trim(),file_size:Number.parseInt((Ee=h==null?void 0:h.file_size)!=null?Ee:0,10)||0,mime_type:(h==null?void 0:h.mime_type)!==null&&(h==null?void 0:h.mime_type)!==void 0?String(h.mime_type).trim():"",version:String((te=h==null?void 0:h.version)!=null?te:"1.0").trim()||"1.0",created:String((Ue=h==null?void 0:h.created)!=null?Ue:"").trim()}}).filter(h=>h.id>0&&h.filename!==""):[],ae=P=>!Array.isArray(P)||P.length===0?[X()]:P.map(h=>{var H,be,ye,Y;return{id:Number.parseInt((H=h==null?void 0:h.id)!=null?H:0,10)||0,sku:String((be=h==null?void 0:h.sku)!=null?be:"").trim(),price:(h==null?void 0:h.price)!=null?String(h.price):Number.isFinite(h==null?void 0:h.price_cents)?(h.price_cents/100).toFixed(2):"",currency:String((ye=h==null?void 0:h.currency)!=null?ye:r.value).toUpperCase(),stock:Number.parseInt((Y=h==null?void 0:h.stock)!=null?Y:0,10)||0,weight:(h==null?void 0:h.weight)!=null?String(h.weight):"",active:(h==null?void 0:h.active)!==void 0?!!h.active:!0,options:oe(h==null?void 0:h.options),is_digital:(h==null?void 0:h.is_digital)!==void 0?!!h.is_digital:k.value}}),Ne=()=>{l.variants.forEach(P=>{(P.is_digital===void 0||P.is_digital===null)&&(P.is_digital=k.value),k.value&&(P.weight="")})},m=P=>{var Y,Ee,te,Ue,Fe;const h=P?JSON.parse(JSON.stringify(P)):{};l.title=(Y=h.title)!=null?Y:"",l.slug=(Ee=h.slug)!=null?Ee:"",l.short_desc=(te=h.short_desc)!=null?te:"",l.long_desc=(Ue=h.long_desc)!=null?Ue:"",l.status=f(h.status!==void 0?h.status:h.active),l.featured=h.featured!==void 0?!!h.featured:!1,l.product_type=typeof h.product_type=="string"&&h.product_type!==""?h.product_type.toLowerCase():"physical";const H=Array.isArray(h.images)?h.images.map(et=>String(et!=null?et:"").trim()).filter(Boolean):[];Ce(H);const be=Array.isArray(h.categories)?h.categories:[];Re(be);const ye=re((Fe=h.digital_files)!=null?Fe:[]);l.digital_files.splice(0,l.digital_files.length,...ye),x.files=ye.slice(),x.error="",x.variantId="",x.version="1.0",x.deletingId=0,$(),b.value="",de(ae(h.variants)),M.value=!!l.slug},g=Te(()=>l.variants.map((P,h)=>{var Y,Ee;const H=String((Y=P==null?void 0:P.sku)!=null?Y:"").trim(),be=Array.isArray(P==null?void 0:P.options)?P.options.filter(te=>(te==null?void 0:te.name)&&(te==null?void 0:te.value)).map(te=>`${String(te.name).trim()}: ${String(te.value).trim()}`).join(", "):"",ye=n("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(h+1)]);return{id:Number.parseInt((Ee=P==null?void 0:P.id)!=null?Ee:0,10)||0,label:H||be||ye}})),C=P=>{if(!P)return n("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants");const h=g.value.find(H=>H.id===P);return(h==null?void 0:h.label)||n("COM_NXPEASYCART_DIGITAL_VARIANT_SPECIFIC","Variant")},pe=P=>{const h=Number(P)||0;if(h<=0)return n("COM_NXPEASYCART_DIGITAL_FILE_SIZE_UNKNOWN","Unknown size");const H=["B","KB","MB","GB"];let be=0,ye=h;for(;ye>=1024&&be<H.length-1;)ye/=1024,be+=1;return`${ye.toFixed(ye>=10?0:1)} ${H[be]}`},fe=async()=>{var P,h;if(!((P=s.product)!=null&&P.id)){x.files=re(l.digital_files);return}if(!((h=_.value)!=null&&h.list)){x.files=re(l.digital_files);return}x.loading=!0,x.error="";try{const H=await u.fetchDigitalFiles({endpoint:_.value.list,productId:s.product.id}),be=re(H);x.files=be,l.digital_files.splice(0,l.digital_files.length,...be)}catch(H){x.error=(H==null?void 0:H.message)||n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to load digital files.")}finally{x.loading=!1}},Se=P=>{var H;const h=(H=P==null?void 0:P.target)==null?void 0:H.files;T.value=h&&h.length?h[0]:null},Oe=async()=>{var P,h;if(!((P=s.product)!=null&&P.id)){x.error=n("COM_NXPEASYCART_ERROR_PRODUCT_ID_REQUIRED","Save the product before uploading files.");return}if(!((h=_.value)!=null&&h.upload)){x.error=n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Digital upload endpoint unavailable.");return}if(!T.value){x.error=n("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Select a file to upload.");return}x.uploading=!0,x.error="";try{const H=await u.uploadDigitalFile({endpoint:_.value.upload,productId:s.product.id,variantId:x.variantId&&Number.parseInt(x.variantId,10)||null,version:x.version||"1.0",file:T.value}),be=H?re([H]):[];be.length&&(x.files.unshift(be[0]),l.digital_files.unshift(be[0]))}catch(H){x.error=(H==null?void 0:H.message)||n("COM_NXPEASYCART_ERROR_UPLOAD_FAILED","Upload failed.")}finally{x.uploading=!1,$()}},Le=async P=>{var H,be;const h=Number.parseInt((H=P==null?void 0:P.id)!=null?H:0,10)||0;if(!(!h||!((be=_.value)!=null&&be.delete))){x.deletingId=h,x.error="";try{await u.deleteDigitalFile({endpoint:_.value.delete,fileId:h});const ye=x.files.filter(Y=>Y.id!==h);x.files=ye,l.digital_files.splice(0,l.digital_files.length,...ye)}catch(ye){x.error=(ye==null?void 0:ye.message)||n("COM_NXPEASYCART_ERROR_DIGITAL_FILES_UNAVAILABLE","Unable to delete file.")}finally{x.deletingId=0}}};Qe(()=>s.product,P=>{m(P),c.value="general",c.value==="digital"&&fe()},{immediate:!0}),Qe(()=>l.title,P=>{M.value||(l.slug=z(P))}),Qe(r,P=>{l.variants.forEach(h=>{h.currency=P})}),Qe(D,P=>{Ne(),P!=="digital"&&c.value==="digital"&&(c.value="general")}),Qe(c,P=>{P==="digital"&&fe()});const $e=()=>{const P=b.value.trim();if(!P)return;const h=P.toLowerCase(),H=l.categories.slice();H.some(ye=>ye.title.toLowerCase()===h)||(H.push({id:0,title:P,slug:""}),l.categories.splice(0,l.categories.length,...H)),b.value=""},Be=P=>{if(P<0||P>=l.categories.length)return;const h=l.categories.slice();h.splice(P,1),l.categories.splice(0,l.categories.length,...h)},ot=()=>{l.variants.push(X())},A=P=>{l.variants.length<=1||l.variants.splice(P,1)},N=P=>{const h=l.variants[P];h&&(Array.isArray(h.options)||(h.options=[]),h.options.push(F()))},U=(P,h)=>{const H=l.variants[P];!H||!Array.isArray(H.options)||H.options.splice(h,1)},ee=(P,h)=>`${P.id||"new"}-${h}`,W=P=>{const h=l.variants[P];if(!h)return;const H=JSON.parse(JSON.stringify(h));H.id=0,H.sku=[H.sku||"SKU","COPY"].join("-").replace(/-+/g,"-"),H.active=!0,l.variants.splice(P+1,0,H)},q=P=>{const h=l.variants[P];if(!h)return;const H=Number.parseFloat(h.price);Number.isNaN(H)||(h.price=H.toFixed(2))};let ue=null,ne=null,se=null,j=null,O="";const R=()=>{Array.isArray(l.images)||(l.images=[])},G=P=>{var ye,Y,Ee;if(!P)return"";let h=String(P).trim();if(h==="")return"";try{const te=(Ee=(Y=(ye=window.Joomla)==null?void 0:ye.getOptions)==null?void 0:Y.call(ye,"system.paths",{}))!=null?Ee:{},Ue=te.rootFull||window.location.origin,Fe=te.root||"/";h.startsWith(Ue)&&(h=h.substring(Ue.length)),h.startsWith(Fe)&&(h=h.substring(Fe.length))}catch(te){}const H=h.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);H&&H[1]&&(h=H[1]);const be=h.indexOf("#joomlaImage://");return be!==-1&&(h=h.substring(0,be)),h.trim()},Q=(P,{keepIndex:h=!1,appendWhenNoIndex:H=!1,targetIndex:be=null}={})=>{const ye=G(P);if(ye==="")return!1;R();const Y=be!==null&&be>=0?be:j;return Y==null||Number.isNaN(Y)?H?(l.images.push(ye),h||(j=null,O=""),!0):!1:(Y>=l.images.length?l.images.push(ye):l.images[Y]=ye,O=h?ye:"",h||(j=null,O=""),!0)},w=()=>{R(),l.images.push("")},xe=P=>{R(),l.images.splice(P,1)},B=(P,h)=>{R();const H=l.images[P];if(H===void 0)return;const be=P+h;be<0||be>=l.images.length||(l.images.splice(P,1),l.images.splice(be,0,H))},ie=P=>{var be;R();const h=(be=l.images[P])!=null?be:"";if(typeof window=="undefined")return;const H=window.prompt(n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PROMPT","Image URL"),h);Q(H!=null?H:"",{targetIndex:P})},he=()=>{var Y,Ee,te,Ue,Fe,et;const P=(s.mediaModalUrl||"").trim();if(P!=="")return P;const h=(te=(Ee=(Y=window.Joomla)==null?void 0:Y.getOptions)==null?void 0:Ee.call(Y,"media-picker",{}))!=null?te:{};if(h.modalUrl)return h.modalUrl;const H=(et=(Fe=(Ue=window.Joomla)==null?void 0:Ue.getOptions)==null?void 0:Fe.call(Ue,"system.paths",{}))!=null?et:{},be=H.rootFull||H.root||"";return(be?be.replace(/\/?$/,"/"):"")+"index.php?option=com_media&view=media&tmpl=component&layout=modal&mediatypes=0,1,2,3&asset=com_nxpeasycart"},J=async()=>{var te,Ue,Fe,et,nt,at,gt,Ds,Ys;if(ue)return ue;if(typeof window=="undefined"||!window.Joomla||!window.customElements)return null;if(!customElements.get("joomla-field-media"))try{await customElements.whenDefined("joomla-field-media")}catch(wt){return null}const P=(Fe=(Ue=(te=window.Joomla)==null?void 0:te.getOptions)==null?void 0:Ue.call(te,"system.paths",{}))!=null?Fe:{},h=P.rootFull||P.root||"",H=(at=(nt=(et=window.Joomla)==null?void 0:et.getOptions)==null?void 0:nt.call(et,"com_media",{}))!=null?at:{},be=(H==null?void 0:H.file_path)||"images",ye=(Ys=(Ds=(gt=window.Joomla)==null?void 0:gt.getOptions)==null?void 0:Ds.call(gt,"media-picker",{}))!=null?Ys:{images:["bmp","gif","jpg","jpeg","png","webp","svg","avif"],audios:[],videos:[],documents:[]},Ee=n("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MODAL_TITLE","Media Manager",[],"productImagesModalTitle").replace(/"/g,"&quot;");return ne=document.createElement("div"),ne.className="nxp-ec-media-picker-host",ne.style.display="none",ne.innerHTML=`
        <joomla-field-media
            class="nxp-ec-media-field"
            types="images"
            base-path="${h.replace(/"/g,"&quot;")}"
            root-folder="${be.replace(/"/g,"&quot;")}"
            url=""
            preview="none"
            input=".nxp-ec-media-field__input"
            button-select=".nxp-ec-media-field__select"
            button-clear=".nxp-ec-media-field__clear"
            modal-title="${Ee}"
            modal-width="960"
            modal-height="600"
            supported-extensions='${JSON.stringify(ye).replace(/'/g,"&apos;")}'
        >
            <div class="input-group">
                <input type="text" class="nxp-ec-media-field__input field-media-input" />
                <button type="button" class="nxp-ec-media-field__select button-select"></button>
                <button type="button" class="nxp-ec-media-field__clear button-clear"></button>
            </div>
        </joomla-field-media>
    `,document.body.appendChild(ne),ue=ne.querySelector("joomla-field-media"),se=ne.querySelector(".nxp-ec-media-field__input"),ue.addEventListener("change",wt=>{var mn,hn,cn,dn,ss,Us;const Bt=(cn=(hn=(mn=wt.detail)==null?void 0:mn.value)!=null?hn:se==null?void 0:se.value)!=null?cn:"";let Kt=G(Bt);if(Kt===""&&O!==""&&(Kt=O),Kt===""&&((dn=window.Joomla)!=null&&dn.selectedMediaFile)){const Ni=G((ss=window.Joomla.selectedMediaFile.url)!=null?ss:""),gn=G((Us=window.Joomla.selectedMediaFile.path)!=null?Us:"");Kt=Ni||gn}Q(Kt)}),ue.addEventListener("joomla-dialog:close",()=>{j=null,O=""}),se&&se.addEventListener("change",()=>{var Bt,Kt,mn,hn;if(j===null)return;let wt=G((Bt=se.value)!=null?Bt:"");if(wt===""&&O!==""&&(wt=O),wt===""&&((Kt=window.Joomla)!=null&&Kt.selectedMediaFile)){const cn=G((mn=window.Joomla.selectedMediaFile.url)!=null?mn:""),dn=G((hn=window.Joomla.selectedMediaFile.path)!=null?hn:"");wt=cn||dn}wt!==""&&Q(wt)}),ue},De=P=>{var Y,Ee;const h=P==null?void 0:P.detail;if(!h||typeof h!="object")return;const H=G((Y=h.path)!=null?Y:""),ye=G((Ee=h.url)!=null?Ee:"")||H;ye===""||j===null||(O=ye,Q(ye,{keepIndex:!0}))};Tt(()=>{typeof document!="undefined"&&document.addEventListener("onMediaFileSelected",De)});const Xe=async P=>{var be;R();const h=await J();if(!h||typeof h.show!="function"){ie(P);return}j=P,h.setAttribute("url",he());const H=(be=l.images[P])!=null?be:"";typeof h.setValue=="function"?h.setValue(H):se&&(se.value=H);try{h.show()}catch(ye){j=null,O="",ie(P)}};Ca(()=>{ne&&ne.parentNode&&ne.parentNode.removeChild(ne),ue=null,ne=null,se=null,j=null,O="",typeof document!="undefined"&&document.removeEventListener("onMediaFileSelected",De)});const it=()=>{var Y,Ee;R();const P=Array.from(new Set(l.images.map(te=>String(te!=null?te:"").trim()).filter(te=>te!==""))),h=l.categories.map(te=>{var nt,at,gt;const Ue=Number.parseInt((nt=te==null?void 0:te.id)!=null?nt:0,10)||0,Fe=String((at=te==null?void 0:te.title)!=null?at:"").trim(),et=String((gt=te==null?void 0:te.slug)!=null?gt:"").trim();return Ue>0?{id:Ue,title:Fe,slug:et}:Fe===""?null:{id:0,title:Fe,slug:""}}).filter(te=>te!==null),H=l.variants.map(te=>{const Ue=Array.isArray(te.options)?te.options.map(nt=>{var at,gt;return{name:String((at=nt==null?void 0:nt.name)!=null?at:"").trim(),value:String((gt=nt==null?void 0:nt.value)!=null?gt:"").trim()}}).filter(nt=>nt.name!==""&&nt.value!==""):[],Fe=Number.isFinite(Number(te.stock))?Math.max(0,parseInt(te.stock,10)):0,et=te.weight!==null&&te.weight!==""?String(te.weight).trim():null;return{id:te.id||0,sku:te.sku.trim(),price:te.price!==null&&te.price!==void 0?String(te.price).trim():"",currency:te.currency?String(te.currency).trim().toUpperCase():r.value,stock:Fe,weight:et,active:!!te.active,is_digital:!!te.is_digital,options:Ue}}),be=f(l.status),ye={title:l.title.trim(),slug:l.slug.trim(),short_desc:(Y=l.short_desc)!=null?Y:"",long_desc:(Ee=l.long_desc)!=null?Ee:"",status:be,active:be,featured:!!l.featured,images:P,categories:h,variants:H,product_type:D.value==="digital"?"digital":"physical"};a("submit",ye)},Je=()=>{a("cancel")};return Qe(()=>s.saving,(P,h)=>{h&&!P&&s.errors.length===0&&ge.value==="create"&&(m(null),b.value="",M.value=!1)}),(P,h)=>{var H,be,ye;return e.open?(E(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"product-modal-title",onKeydown:St(Je,["esc"])},[h[20]||(h[20]=i("div",{class:"nxp-ec-modal__backdrop"},null,-1)),i("div",gf,[i("header",Ef,[i("h2",Cf,d(ge.value==="edit"?o(n)("COM_NXPEASYCART_PRODUCTS_EDIT","Edit product"):o(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1),i("div",Af,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--icon",onClick:Je,disabled:e.saving,title:o(n)("JCANCEL","Cancel"),"aria-label":o(n)("JCANCEL","Cancel")},[h[16]||(h[16]=i("i",{class:"fa-solid fa-arrow-rotate-left","aria-hidden":"true"},null,-1)),i("span",bf,d(o(n)("JCANCEL","Cancel")),1)],8,Sf),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--icon nxp-ec-btn--primary",disabled:e.saving,form:Co,title:e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save"),"aria-label":e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")},[i("i",{class:Ye(["fa-solid fa-floppy-disk",{"fa-spin":e.saving}]),"aria-hidden":"true"},null,2),i("span",yf,d(e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")),1)],8,Tf),i("button",{type:"button",class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",onClick:Je,title:o(n)("JCLOSE","Close"),"aria-label":o(n)("JCLOSE","Close")},[h[17]||(h[17]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Of,d(o(n)("JCLOSE","Close")),1)],8,Rf)])]),i("form",{id:Co,class:"nxp-ec-form",onSubmit:vt(it,["prevent"])},[e.errors.length?(E(),S("div",xf,[(E(!0),S(ve,null,we(e.errors,(Y,Ee)=>(E(),S("p",{key:Ee},d(Y),1))),128))])):le("",!0),i("nav",Nf,[i("button",{type:"button",class:Ye(["nxp-ec-editor-tab",{"is-active":c.value==="general"}]),onClick:h[0]||(h[0]=Y=>c.value="general")},d(o(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General")),3),i("button",{type:"button",class:Ye(["nxp-ec-editor-tab",{"is-active":c.value==="variants"}]),onClick:h[1]||(h[1]=Y=>c.value="variants")},d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),3),i("button",{type:"button",class:Ye(["nxp-ec-editor-tab",{"is-active":c.value==="images"}]),onClick:h[2]||(h[2]=Y=>c.value="images")},d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),3),i("button",{type:"button",class:Ye(["nxp-ec-editor-tab",{"is-active":c.value==="categories"}]),onClick:h[3]||(h[3]=Y=>c.value="categories")},d(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),3),k.value?(E(),S("button",{key:0,type:"button",class:Ye(["nxp-ec-editor-tab",{"is-active":c.value==="digital"}]),onClick:h[4]||(h[4]=Y=>c.value="digital")},d(o(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital")),3)):le("",!0)]),K(i("section",vf,[i("div",Pf,[i("label",Mf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TITLE","Title")),1),K(i("input",{id:"product-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[5]||(h[5]=Y=>l.title=Y),required:""},null,512),[[Ae,l.title,void 0,{trim:!0}]])]),i("div",If,[i("label",kf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG","Slug")),1),K(i("input",{id:"product-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[6]||(h[6]=Y=>l.slug=Y),onInput:me,placeholder:o(n)("COM_NXPEASYCART_FIELD_PRODUCT_SLUG_PLACEHOLDER","Auto-generated if left empty")},null,40,$f),[[Ae,l.slug,void 0,{trim:!0}]])]),i("div",wf,[i("label",Lf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_SHORT_DESC","Short description")),1),K(i("textarea",{id:"product-short-desc",class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":h[7]||(h[7]=Y=>l.short_desc=Y)},null,512),[[Ae,l.short_desc]])]),i("div",Df,[i("label",Yf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_LONG_DESC","Long description")),1),K(i("textarea",{id:"product-long-desc",class:"nxp-ec-form-textarea",rows:"5","onUpdate:modelValue":h[8]||(h[8]=Y=>l.long_desc=Y)},null,512),[[Ae,l.long_desc]])]),i("div",Uf,[i("label",Xf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS","Status")),1),K(i("select",{id:"product-status",class:"nxp-ec-form-select","onUpdate:modelValue":h[9]||(h[9]=Y=>l.status=Y)},[i("option",Ff,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_ACTIVE","Active (visible & purchasable)")),1),i("option",Gf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_OUT_OF_STOCK","Out of stock (visible, purchase disabled)")),1),i("option",Vf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_INACTIVE","Inactive (hidden)")),1)],512),[[At,l.status,void 0,{number:!0}]]),i("p",Hf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_STATUS_DESC","Control storefront visibility and purchase availability.")),1)]),i("div",Bf,[i("label",Kf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE","Product type")),1),K(i("select",{id:"product-type",class:"nxp-ec-form-select","onUpdate:modelValue":h[10]||(h[10]=Y=>l.product_type=Y)},[i("option",jf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_PHYSICAL","Physical product")),1),i("option",Wf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_TYPE_DIGITAL","Digital product")),1)],512),[[At,l.product_type]]),i("p",Jf,d(o(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),i("div",qf,[i("label",zf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED","Featured")),1),K(i("input",{id:"product-featured",type:"checkbox",class:"nxp-ec-form-checkbox","onUpdate:modelValue":h[11]||(h[11]=Y=>l.featured=Y)},null,512),[[_t,l.featured]]),i("p",Qf,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_FEATURED_DESC","Surface this product on the shop landing page.")),1)])],512),[[Pn,c.value==="general"]]),K(i("section",Zf,[i("div",em,[i("label",tm,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES","Images")),1),i("div",nm,[(E(!0),S(ve,null,we(l.images,(Y,Ee)=>(E(),S("div",{key:`product-image-${Ee}`,class:"nxp-ec-image-row"},[K(i("input",{id:`product-image-${Ee}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":te=>l.images[Ee]=te,placeholder:o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_PLACEHOLDER","https://example.com/image.jpg",[],"productImagesPlaceholder")},null,8,sm),[[Ae,l.images[Ee],void 0,{trim:!0}]]),i("div",im,[i("button",{type:"button",class:"nxp-ec-btn",onClick:te=>Xe(Ee)},[h[18]||(h[18]=i("i",{class:"fa-solid fa-photo-film","aria-hidden":"true"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_SELECT","Select from media",[],"productImagesSelect")),1)],8,am),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:te=>B(Ee,-1),disabled:Ee===0},d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_UP","Up",[],"productImagesMoveUp")),9,om),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:te=>B(Ee,1),disabled:Ee===l.images.length-1},d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_MOVE_DOWN","Down",[],"productImagesMoveDown")),9,rm),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:te=>xe(Ee),"aria-label":o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_REMOVE","Remove image",[],"productImagesRemove")},d(o(n)("COM_NXPEASYCART_REMOVE","Remove")),9,lm)])]))),128))]),i("button",{type:"button",class:"nxp-ec-btn",onClick:w},d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_ADD","Add image",[],"productImagesAdd")),1),i("p",cm,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_IMAGES_HELP","These URLs are stored as-is; ensure they are publicly accessible.")),1)])],512),[[Pn,c.value==="images"]]),K(i("section",dm,[i("div",um,[i("label",_m,d(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_LABEL","Categories")),1),K(i("select",{id:"product-category-select",class:"nxp-ec-form-select",multiple:"","onUpdate:modelValue":h[12]||(h[12]=Y=>v.value=Y)},[(E(!0),S(ve,null,we(ce.value,Y=>(E(),S("option",{key:Y.id,value:Y.id},d(V(Y)),9,pm))),128))],512),[[At,v.value]]),i("div",fm,[(E(!0),S(ve,null,we(l.categories,(Y,Ee)=>(E(),S("span",{key:`selected-category-${Ee}`,class:"nxp-ec-chip"},[ke(d(Y.title)+" ",1),i("button",{type:"button",class:"nxp-ec-chip__remove",onClick:te=>Be(Ee),"aria-label":o(n)("COM_NXPEASYCART_REMOVE_CATEGORY","Remove category")},"  ",8,mm)]))),128))]),i("div",hm,[K(i("input",{id:"product-category-input",type:"text",class:"nxp-ec-chip-input__field","onUpdate:modelValue":h[13]||(h[13]=Y=>b.value=Y),onKeydown:St(vt($e,["prevent"]),["enter"]),placeholder:o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD_PLACEHOLDER","New category name",[],"productCategoriesAddPlaceholder")},null,40,gm),[[Ae,b.value]]),i("button",{type:"button",class:"nxp-ec-btn",onClick:$e},d(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_ADD","Add category",[],"productCategoriesAdd")),1)]),i("p",Em,d(o(n)("COM_NXPEASYCART_PRODUCT_CATEGORIES_HELP","Select a category or create a new one",[],"productCategoriesHelp")),1)])],512),[[Pn,c.value==="categories"]]),K(i("section",Cm,[i("header",Am,[i("h3",Sm,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS","Variants")),1),i("button",{type:"button",class:"nxp-ec-btn",onClick:ot},d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_ADD","Add variant")),1)]),i("p",bm,[ke(d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANTS_HELP","Each product needs at least one variant with a price."))+" ",1),r.value?(E(),S(ve,{key:0},[ke(" ("+d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_CURRENCY_NOTE","All prices in %s",[r.value]))+") ",1)],64)):le("",!0)]),(E(!0),S(ve,null,we(l.variants,(Y,Ee)=>(E(),S("article",{key:ee(Y,Ee),class:"nxp-ec-variant-card"},[i("header",Tm,[i("h4",ym,d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_HEADING","Variant %s",[String(Ee+1)])),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:te=>W(Ee)},d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_DUPLICATE","Duplicate")),9,Rm),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:te=>A(Ee),disabled:l.variants.length<=1},d(o(n)("COM_NXPEASYCART_FIELD_PRODUCT_VARIANT_REMOVE","Remove")),9,Om)]),i("div",xm,[i("div",Nm,[i("label",{class:"nxp-ec-form-label",for:`variant-sku-${Ee}`},d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_SKU","SKU")),9,vm),K(i("input",{id:`variant-sku-${Ee}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":te=>Y.sku=te,required:""},null,8,Pm),[[Ae,Y.sku,void 0,{trim:!0}]])]),i("div",Mm,[i("label",{class:"nxp-ec-form-label",for:`variant-price-${Ee}`},d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_PRICE","Price")),9,Im),K(i("input",{id:`variant-price-${Ee}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":te=>Y.price=te,onBlur:te=>q(Ee),required:""},null,40,km),[[Ae,Y.price,void 0,{trim:!0}]])]),i("div",$m,[i("label",{class:"nxp-ec-form-label",for:`variant-stock-${Ee}`},d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_STOCK","Stock")),9,wm),K(i("input",{id:`variant-stock-${Ee}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":te=>Y.stock=te},null,8,Lm),[[Ae,Y.stock,void 0,{number:!0}]])]),i("div",Dm,[i("label",{class:"nxp-ec-form-label",for:`variant-weight-${Ee}`},d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_WEIGHT","Weight (kg)")),9,Ym),K(i("input",{id:`variant-weight-${Ee}`,class:"nxp-ec-form-input",type:"number",min:"0",step:"0.001","onUpdate:modelValue":te=>Y.weight=te},null,8,Um),[[Ae,Y.weight,void 0,{trim:!0}]])]),i("div",Xm,[i("label",{class:"nxp-ec-form-label",for:`variant-digital-${Ee}`},d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL","Digital item")),9,Fm),K(i("input",{id:`variant-digital-${Ee}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":te=>Y.is_digital=te},null,8,Gm),[[_t,Y.is_digital]]),i("p",Vm,d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_DIGITAL_HELP","Digital variants skip shipping.")),1)]),i("div",Hm,[i("label",{class:"nxp-ec-form-label",for:`variant-active-${Ee}`},d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_ACTIVE","Published")),9,Bm),K(i("input",{id:`variant-active-${Ee}`,class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":te=>Y.active=te},null,8,Km),[[_t,Y.active]])])]),i("section",jm,[i("header",Wm,[i("h5",Jm,d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS","Options")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:te=>N(Ee)},d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_ADD","Add option")),9,qm)]),i("p",zm,d(o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTIONS_HELP","Add optional key/value pairs such as Size or Colour.")),1),(E(!0),S(ve,null,we(Y.options,(te,Ue)=>(E(),S("div",{key:`variant-${Ee}-option-${Ue}`,class:"nxp-ec-variant-option-row"},[K(i("input",{id:`variant-${Ee}-option-name-${Ue}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Fe=>te.name=Fe,placeholder:o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_NAME","Name (e.g. Size)")},null,8,Qm),[[Ae,te.name,void 0,{trim:!0}]]),K(i("input",{id:`variant-${Ee}-option-value-${Ue}`,class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":Fe=>te.value=Fe,placeholder:o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_VALUE","Value (e.g. Large)")},null,8,Zm),[[Ae,te.value,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",onClick:Fe=>U(Ee,Ue),"aria-label":o(n)("COM_NXPEASYCART_FIELD_VARIANT_OPTION_REMOVE","Remove option")},d(o(n)("COM_NXPEASYCART_REMOVE","Remove")),9,eh)]))),128))])]))),128))],512),[[Pn,c.value==="variants"]]),k.value?K((E(),S("section",th,[i("div",nh,[i("p",sh,d(o(n)("COM_NXPEASYCART_CHECKOUT_DIGITAL_NOTE","Digital items skip shipping and deliver download links.")),1)]),x.error?(E(),S("div",ih,d(x.error),1)):le("",!0),(H=e.product)!=null&&H.id?le("",!0):(E(),S("div",ah,[h[19]||(h[19]=i("span",{class:"nxp-ec-admin-callout__icon"},[i("i",{class:"fa-solid fa-circle-info"})],-1)),i("div",oh,[i("div",rh,d(o(n)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST_TITLE","Save Required")),1),ke(" "+d(o(n)("COM_NXPEASYCART_DIGITAL_FILES_SAVE_FIRST","Digital files are linked to the product record. Save this product first, then reopen the editor to upload your files.")),1)])])),i("div",lh,[i("div",ch,[i("h4",null,d(o(n)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1),i("div",dh,[i("label",uh,d(o(n)("COM_NXPEASYCART_DIGITAL_FILES_SELECT","Choose file")),1),i("input",{id:"digital-file-input",ref_key:"fileInputRef",ref:y,type:"file",class:"nxp-ec-form-input",onChange:Se,disabled:x.uploading||!((be=e.product)!=null&&be.id)},null,40,_h)]),i("div",ph,[i("label",fh,d(o(n)("COM_NXPEASYCART_DIGITAL_VERSION","Version")),1),K(i("input",{id:"digital-version",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":h[14]||(h[14]=Y=>x.version=Y),disabled:x.uploading},null,8,mh),[[Ae,x.version,void 0,{trim:!0}]])]),i("div",hh,[i("label",gh,d(o(n)("COM_NXPEASYCART_DIGITAL_VARIANT_SCOPE","Applies to")),1),K(i("select",{id:"digital-variant",class:"nxp-ec-form-select","onUpdate:modelValue":h[15]||(h[15]=Y=>x.variantId=Y),disabled:x.uploading},[i("option",Ch,d(o(n)("COM_NXPEASYCART_DIGITAL_VARIANT_ALL","All variants")),1),(E(!0),S(ve,null,we(g.value,Y=>(E(),S("option",{key:Y.id,value:Y.id},d(Y.label),9,Ah))),128))],8,Eh),[[At,x.variantId]]),i("p",Sh,d(o(n)("COM_NXPEASYCART_DIGITAL_VARIANT_HELP","Scope downloads to a specific variant when needed.")),1)]),i("div",bh,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--primary",onClick:Oe,disabled:x.uploading||!((ye=e.product)!=null&&ye.id)},[i("i",{class:Ye(["fa-solid fa-cloud-arrow-up",{"fa-spin":x.uploading}]),"aria-hidden":"true"},null,2),ke(" "+d(x.uploading?o(n)("JPROCESSING_REQUEST","Uploading"):o(n)("COM_NXPEASYCART_DIGITAL_FILES_UPLOAD","Upload file")),1)],8,Th)])]),i("div",yh,[i("div",Rh,[i("h4",null,d(o(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital files")),1),x.loading?(E(),S("span",Oh,d(o(n)("JGLOBAL_LOADING","Loading")),1)):le("",!0)]),x.files.length===0?(E(),S("div",xh,d(o(n)("COM_NXPEASYCART_DIGITAL_FILES_EMPTY","No files attached to this product.")),1)):(E(),S("div",Nh,[(E(!0),S(ve,null,we(x.files,Y=>(E(),S("div",{key:Y.id,class:"nxp-ec-digital-row"},[i("div",vh,[i("strong",null,d(Y.filename),1),i("div",Ph,[ke(d(C(Y.variant_id))+"  "+d(pe(Y.file_size))+" ",1),Y.version?(E(),S(ve,{key:0},[ke("  v"+d(Y.version),1)],64)):le("",!0)]),Y.created?(E(),S("div",Mh,d(Y.created),1)):le("",!0)]),i("div",Ih,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger",disabled:x.deletingId===Y.id,onClick:Ee=>Le(Y)},d(x.deletingId===Y.id?o(n)("JPROCESSING_REQUEST","Removing"):o(n)("COM_NXPEASYCART_REMOVE","Remove")),9,kh)])]))),128))]))])])],512)),[[Pn,c.value==="digital"]]):le("",!0),i("footer",$h,[i("button",{type:"button",class:"nxp-ec-btn",onClick:Je,disabled:e.saving},d(o(n)("JCANCEL","Cancel")),9,wh),i("button",{type:"submit",class:"nxp-ec-btn nxp-ec-btn--primary",disabled:e.saving},d(e.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")),9,Lh)])],32)])],32)):le("",!0)}}},[["__scopeId","data-v-cf390461"]]),Yh={name:"SkeletonLoader",props:{type:{type:String,default:"text",validator:e=>["text","rectangle","circle","card","table"].includes(e)},width:{type:String,default:"100%"},height:{type:String,default:"20px"},rows:{type:Number,default:3},columns:{type:Number,default:4},animated:{type:Boolean,default:!0}},computed:{skeletonClasses(){return{"nxp-ec-skeleton--animated":this.animated,[`nxp-ec-skeleton--${this.type}`]:!0}}}},Uh={key:1,class:"nxp-ec-skeleton__table"},Xh={key:2,class:"nxp-ec-skeleton__card"},Fh={key:3,class:"nxp-ec-skeleton__circle"};function Gh(e,t,s,a,n,r){return E(),S("div",{class:Ye(["nxp-ec-skeleton",r.skeletonClasses])},[s.type==="text"?(E(),S("div",{key:0,class:"nxp-ec-skeleton__line",style:jt({width:s.width})},null,4)):s.type==="table"?(E(),S("div",Uh,[(E(!0),S(ve,null,we(s.rows,c=>(E(),S("div",{key:c,class:"nxp-ec-skeleton__table-row"},[(E(!0),S(ve,null,we(s.columns,u=>(E(),S("div",{key:u,class:"nxp-ec-skeleton__table-cell"}))),128))]))),128))])):s.type==="card"?(E(),S("div",Xh,[...t[0]||(t[0]=[a_('<div class="nxp-ec-skeleton__card-header" data-v-c8b9a887></div><div class="nxp-ec-skeleton__card-body" data-v-c8b9a887><div class="nxp-ec-skeleton__line" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:80%;" data-v-c8b9a887></div><div class="nxp-ec-skeleton__line" style="width:60%;" data-v-c8b9a887></div></div>',2)])])):s.type==="circle"?(E(),S("div",Fh)):(E(),S("div",{key:4,class:"nxp-ec-skeleton__rectangle",style:jt({width:s.width,height:s.height})},null,4))],2)}const es=Ot(Yh,[["render",Gh],["__scopeId","data-v-c8b9a887"]]),Vh={class:"nxp-ec-admin-panel"},Hh={class:"nxp-ec-admin-panel__header"},Bh={class:"nxp-ec-admin-panel__title"},Kh={class:"nxp-ec-admin-panel__lead"},jh={class:"nxp-ec-admin-panel__actions"},Wh=["placeholder","aria-label"],Jh=["disabled","title","aria-label"],qh={class:"nxp-ec-sr-only"},zh={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Qh={key:1,class:"nxp-ec-admin-panel__body"},Zh={key:2,class:"nxp-ec-admin-panel__body"},eg=["title"],ts=1,In=-1,$s=0,tg={__name:"ProductPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},categoryOptions:{type:Array,default:()=>[]},mediaModalUrl:{type:String,default:""},digitalEndpoints:{type:Object,default:()=>({})},csrfToken:{type:String,default:""}},emits:["create","update","delete","refresh","search"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ke({mode:"create",product:null}),c=We(!1),u=Te(()=>(s.baseCurrency||"USD").toUpperCase()),_=Te(()=>r.product),p=Te(()=>(s.mediaModalUrl||"").trim()),f=Te(()=>s.digitalEndpoints||{}),l=Te(()=>s.csrfToken||""),b=(Z,v=!1)=>{const ge=Number(Z);if(Number.isFinite(ge))return ge===In?In:ge===$s?$s:ts;if(v)return In;if(typeof Z=="string"){const X=Z.trim().toLowerCase();if(X==="out_of_stock"||X==="out-of-stock"||X==="-1")return In;if(X==="inactive"||X==="0")return $s}return ts},M=(Z,v=!1)=>{const ge=b(Z,v);return ge===ts?In:ge===In?$s:ts},D=()=>{s.state.validationErrors=[],s.state.error="",r.mode="create",r.product={title:"",slug:"",short_desc:"",long_desc:"",status:ts,active:!0,featured:!1,images:[],categories:[],variants:[],product_type:"physical"},c.value=!0},k=Z=>{s.state.validationErrors=[],s.state.error="",r.mode="edit";const v=JSON.parse(JSON.stringify(Z));v.product_type||(v.product_type="physical"),r.product=v,c.value=!0},x=()=>{c.value=!1,s.state.validationErrors=[]},T=async Z=>{var X,F;const v=b((X=Z.status)!=null?X:Z.active,Z.out_of_stock),ge={...Z,status:v,active:v,featured:Z.featured?1:0,product_type:typeof Z.product_type=="string"&&Z.product_type.trim()||"physical"};r.mode==="edit"&&((F=r.product)!=null&&F.id)?a("update",{id:r.product.id,data:ge}):a("create",ge)},y=async Z=>{var X;const v=(X=Z==null?void 0:Z.title)!=null?X:"",ge=n("COM_NXPEASYCART_PRODUCTS_DELETE_CONFIRM_NAME",'Delete "%s"?',[v||"#"]);window.confirm(ge)&&a("delete",[Z.id])},$=Z=>{var Re;if(!(Z!=null&&Z.id)||s.state.saving)return;const v=M((Re=Z.status)!=null?Re:Z.active,Z.out_of_stock),ge=de=>de==null?"":String(de),X=(de,Ce=0)=>{const oe=Number(de);return Number.isFinite(oe)?oe:Ce},F=Array.isArray(Z.variants)?Z.variants.map(de=>{var m,g;if(!de)return null;const Ce=ge(de.sku).trim();if(!Ce)return null;let oe=X(de.price_cents,Number.NaN);if(!Number.isFinite(oe)){const C=ge(de.price),pe=C?Number.parseFloat(C):NaN;oe=Number.isFinite(pe)?Math.round(pe*100):NaN}if(!Number.isFinite(oe))return null;const re=ge((m=de.currency)!=null?m:u.value).trim().toUpperCase();if(!re)return null;const ae=(g=de.options)!=null?g:null,Ne=Math.max(0,Math.round(X(de.stock,0)));return{id:X(de.id,0),sku:Ce,price_cents:Math.round(oe),currency:re,stock:Ne,options:ae!=null?ae:null,weight:de.weight!==null&&de.weight!==void 0&&de.weight!==""?String(de.weight):null,active:de.active===void 0?!0:!!de.active,is_digital:de.is_digital===void 0?!1:!!de.is_digital}}).filter(Boolean):[];if(!F.length){s.state.error=n("COM_NXPEASYCART_ERROR_PRODUCT_VARIANT_REQUIRED","At least one variant with a price is required.");return}const z=Array.isArray(Z.categories)?Z.categories.map(de=>{if(de==null)return null;if(typeof de=="number")return de>0?{id:de,title:"",slug:""}:null;if(typeof de=="string"&&de.trim()!==""&&Number.isFinite(Number(de))){const oe=Number(de);return oe>0?{id:oe,title:"",slug:""}:null}if(typeof de=="object"){if(de.id){const re=X(de.id,0);return re>0?{id:re,title:"",slug:""}:null}return X(de.id,0)<=0&&!de.title?null:{id:0,title:ge(de.title),slug:ge(de.slug)}}const Ce=ge(de).trim();return Ce?{id:0,title:Ce,slug:""}:null}).filter(Boolean):[],me=Array.isArray(Z.images)?Z.images.map(de=>ge(de).trim()).map(de=>{var ae,Ne,m;let Ce=de;if(!Ce)return"";const oe=Ce.indexOf("#joomlaImage://");oe!==-1&&(Ce=Ce.substring(0,oe));const re=Ce.match(/^(?:local-[a-z0-9_-]+|images|videos|audios|documents):\/\/?(.*)$/i);if(re&&re[1]&&(Ce=re[1]),typeof window!="undefined")try{const g=(m=(Ne=(ae=window.Joomla)==null?void 0:ae.getOptions)==null?void 0:Ne.call(ae,"system.paths",{}))!=null?m:{},C=g.rootFull||window.location.origin,pe=g.root||"/";Ce.startsWith(C)&&(Ce=Ce.substring(C.length)),Ce.startsWith(pe)&&(Ce=Ce.substring(pe.length))}catch(g){}return Ce.trim()}).filter(de=>de!==""):[];s.state.error="",a("update",{id:Z.id,data:{title:ge(Z.title),slug:ge(Z.slug),short_desc:ge(Z.short_desc),long_desc:ge(Z.long_desc),status:v,active:v,featured:Z.featured?1:0,images:me,variants:F,categories:z,product_type:typeof Z.product_type=="string"&&Z.product_type.trim()||"physical"}})},L=()=>{a("refresh")},V=()=>{a("search")},ce=Z=>{if(!Z)return"";try{const v=new Date(Z),X=new Date-v,F=Math.floor(X/1e3),z=Math.floor(F/60),me=Math.floor(z/60);return F<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):z<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[z]):me<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[me]):v.toLocaleString()}catch(v){return Z}};return Qe(()=>s.state.saving,(Z,v)=>{v&&!Z&&c.value&&!s.state.validationErrors.length&&!s.state.error&&x()}),(Z,v)=>(E(),S("section",Vh,[i("header",Hh,[i("div",null,[i("h2",Bh,d(o(n)("COM_NXPEASYCART_MENU_PRODUCTS","Products",[],"productsPanelTitle")),1),i("p",Kh,d(o(n)("COM_NXPEASYCART_PRODUCTS_LEAD","Manage products from a single dashboard.",[],"productsPanelLead")),1)]),i("div",jh,[K(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder"),"onUpdate:modelValue":v[0]||(v[0]=ge=>e.state.search=ge),onKeyup:St(V,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_PRODUCTS_SEARCH_PLACEHOLDER","Search products",[],"productsSearchPlaceholder")},null,40,Wh),[[Ae,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:L,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh"),"aria-label":o(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")},[v[1]||(v[1]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",qh,d(o(n)("COM_NXPEASYCART_PRODUCTS_REFRESH","Refresh",[],"productsRefresh")),1)],8,Jh),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:D},[v[2]||(v[2]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_PRODUCTS_ADD","Add product")),1)])])]),e.state.error?(E(),S("div",zh,d(e.state.error),1)):le("",!0),e.state.loading?(E(),S("div",Qh,[st(es,{type:"table",rows:5,columns:5})])):le("",!0),e.state.loading?le("",!0):(E(),S("div",Zh,[st(mf,{items:e.state.items,translate:o(n),"base-currency":u.value,saving:e.state.saving,onEdit:k,onDelete:y,onToggleActive:$},null,8,["items","translate","base-currency","saving"]),e.state.lastUpdated?(E(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(ce(e.state.lastUpdated)),9,eg)):le("",!0)])),st(Dh,{open:c.value,product:_.value,saving:e.state.saving,"base-currency":u.value,translate:o(n),errors:e.state.validationErrors,"category-options":e.categoryOptions,"media-modal-url":p.value,"digital-endpoints":f.value,"csrf-token":l.value,onSubmit:T,onCancel:x},null,8,["open","product","saving","base-currency","translate","errors","category-options","media-modal-url","digital-endpoints","csrf-token"])]))}},ng={class:"nxp-ec-admin-panel nxp-ec-admin-panel--categories"},sg={class:"nxp-ec-admin-panel__header"},ig={class:"nxp-ec-admin-panel__title"},ag={class:"nxp-ec-admin-panel__lead"},og={class:"nxp-ec-admin-panel__actions"},rg=["placeholder","aria-label"],lg=["disabled","title","aria-label"],cg={class:"nxp-ec-sr-only"},dg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},ug={key:1,class:"nxp-ec-admin-panel__body"},_g={key:2,class:"nxp-ec-admin-panel__body"},pg={class:"nxp-ec-admin-panel__table"},fg={class:"nxp-ec-admin-table"},mg={scope:"col"},hg={scope:"col"},gg={scope:"col"},Eg={scope:"col"},Cg={scope:"col"},Ag={key:0},Sg={colspan:"6"},bg={scope:"row",class:"nxp-ec-admin-table__primary"},Tg=["data-label"],yg=["data-label"],Rg=["data-label"],Og=["data-label"],xg={class:"nxp-ec-admin-table__actions"},Ng=["onClick","title","aria-label"],vg={class:"nxp-ec-sr-only"},Pg=["disabled","onClick","title","aria-label"],Mg={class:"nxp-ec-sr-only"},Ig={key:0,class:"nxp-ec-admin-pagination"},kg=["disabled"],$g={class:"nxp-ec-admin-pagination__status"},wg=["disabled"],Lg=["title"],Dg={class:"nxp-ec-modal__dialog"},Yg={class:"nxp-ec-modal__header"},Ug={id:"category-modal-title",class:"nxp-ec-modal__title"},Xg=["title","aria-label"],Fg={class:"nxp-ec-sr-only"},Gg={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Vg={class:"nxp-ec-form-field"},Hg={class:"nxp-ec-form-label",for:"category-title"},Bg={class:"nxp-ec-form-field"},Kg={class:"nxp-ec-form-label",for:"category-slug"},jg={class:"nxp-ec-form-field"},Wg={class:"nxp-ec-form-label",for:"category-parent"},Jg={value:""},qg=["value"],zg={class:"nxp-ec-form-field"},Qg={class:"nxp-ec-form-label",for:"category-sort"},Zg={class:"nxp-ec-modal__actions"},eE=["disabled"],tE=Ot({__name:"CategoryPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},loadOptions:{type:Function,default:null}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=We(!1),c=We(!1),u=We([]),_=X=>{const z=(Array.isArray(X)?X:[]).map(m=>{var g,C,pe,fe,Se;return{...m,id:Number.parseInt((g=m==null?void 0:m.id)!=null?g:0,10)||0,parent_id:(m==null?void 0:m.parent_id)!=null&&Number.parseInt(m.parent_id,10)||0,sort:Number.parseInt((C=m==null?void 0:m.sort)!=null?C:0,10)||0,title:String((pe=m==null?void 0:m.title)!=null?pe:"").trim(),slug:String((fe=m==null?void 0:m.slug)!=null?fe:"").trim(),usage:(Se=m==null?void 0:m.usage)!=null?Se:0}}).filter(m=>m.id>0||m.title!==""),me=new Set(z.map(m=>m.id));z.forEach(m=>{me.has(m.parent_id)||(m.parent_id=0)});const Re=new Map,de=new Map;z.forEach(m=>{de.set(m.id,m);const g=m.parent_id||0;Re.has(g)||Re.set(g,[]),Re.get(g).push(m)});const Ce=m=>m.sort((g,C)=>{var pe,fe;return((pe=g.sort)!=null?pe:0)-((fe=C.sort)!=null?fe:0)||g.title.localeCompare(C.title,void 0,{sensitivity:"base"})});Re.forEach(Ce);const oe=new Set,re=[],ae=(m,g,C)=>{if(!m||oe.has(m.id)||C.includes(m.id))return;const pe=[...C],fe=pe.map(Le=>{var $e;return($e=de.get(Le))==null?void 0:$e.title}).filter(Boolean),Se={...m,depth:g,path:fe.join(" / "),ancestors:pe,indentedTitle:g>0?`${" ".repeat(g)}${m.title}`:m.title};re.push(Se),oe.add(m.id),(Re.get(m.id)||[]).forEach(Le=>ae(Le,g+1,[...C,m.id]))},Ne=z.filter(m=>m.parent_id===0||!me.has(m.parent_id));return Ce(Ne),Ne.forEach(m=>ae(m,0,[])),z.forEach(m=>{oe.has(m.id)||ae(m,0,[])}),re},p=Te(()=>{var X,F;return _((F=(X=s.state)==null?void 0:X.items)!=null?F:[])}),f=()=>({id:0,title:"",slug:"",parent_id:null,sort:0}),l=Ke(f()),b=Te(()=>{var F,z;const X=(z=Array.isArray(u.value)&&u.value.length?u.value:(F=s.state)==null?void 0:F.items)!=null?z:[];return _(X).filter(me=>me.id>0&&me.id!==l.id&&!(Array.isArray(me.ancestors)&&me.ancestors.includes(l.id))).map(me=>({id:me.id,title:me.title,label:me.depth>0?`${" ".repeat(me.depth)}${me.title}`:me.title}))}),M=()=>{Object.assign(l,f()),c.value=!1},D=X=>X?X.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,190):"",k=()=>{c.value=!0,l.slug=D(l.slug)};Qe(()=>l.title,X=>{c.value||(l.slug=D(X))});const x=async(X=0)=>{if(typeof s.loadOptions!="function"){u.value=Array.isArray(s.state.items)?[...s.state.items]:[];return}try{const F=await s.loadOptions();u.value=Array.isArray(F)?[...F]:[]}catch(F){u.value=[]}u.value=u.value.filter(F=>{var me,Re;return(Number.parseInt((Re=(me=F==null?void 0:F.id)!=null?me:F==null?void 0:F.value)!=null?Re:0,10)||0)!==X})},T=async()=>{M(),await x(),r.value=!0},y=async X=>{var F,z,me,Re;X&&(l.id=Number.parseInt((F=X.id)!=null?F:0,10)||0,l.title=String((z=X.title)!=null?z:"").trim(),l.slug=String((me=X.slug)!=null?me:"").trim(),l.parent_id=X.parent_id!=null&&Number.parseInt(X.parent_id,10)||null,l.sort=Number.parseInt((Re=X.sort)!=null?Re:0,10)||0,c.value=!!l.slug,await x(l.id),r.value=!0)},$=()=>{r.value=!1,M()},L=()=>{a("refresh")},V=()=>{a("search")},ce=X=>{a("page",X)},Z=()=>{const X={id:l.id||void 0,title:l.title.trim(),slug:l.slug.trim(),parent_id:l.parent_id||null,sort:Number.isFinite(l.sort)?l.sort:0};a("save",X)},v=X=>{if(!X||!X.id)return;const F=n("COM_NXPEASYCART_CATEGORIES_DELETE_CONFIRM","Remove selected categories?",[],"categoriesDeleteConfirm");typeof window!="undefined"&&!window.confirm(F)||a("delete",[X.id])},ge=X=>{if(!X)return"";try{const F=new Date(X),me=new Date-F,Re=Math.floor(me/1e3),de=Math.floor(Re/60),Ce=Math.floor(de/60);return Re<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):de<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[de]):Ce<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Ce]):F.toLocaleString()}catch(F){return X}};return Qe(()=>{var X;return(X=s.state)==null?void 0:X.saving},(X,F)=>{var z,me,Re;F&&!X&&(((me=(z=s.state)==null?void 0:z.validationErrors)!=null?me:[]).length>0||(Re=s.state)!=null&&Re.error||(r.value=!1,M()))}),(X,F)=>(E(),S("section",ng,[i("header",sg,[i("div",null,[i("h2",ig,d(o(n)("COM_NXPEASYCART_MENU_CATEGORIES","Categories",[],"categoriesPanelTitle")),1),i("p",ag,d(o(n)("COM_NXPEASYCART_CATEGORIES_LEAD","Organise products with reusable categories.",[],"categoriesPanelLead")),1)]),i("div",og,[K(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder"),"onUpdate:modelValue":F[0]||(F[0]=z=>e.state.search=z),onKeyup:St(V,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_CATEGORIES_SEARCH_PLACEHOLDER","Search categories",[],"categoriesSearchPlaceholder")},null,40,rg),[[Ae,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:L,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh"),"aria-label":o(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")},[F[7]||(F[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",cg,d(o(n)("COM_NXPEASYCART_CATEGORIES_REFRESH","Refresh",[],"categoriesRefresh")),1)],8,lg),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:T},[F[8]||(F[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1)])])]),e.state.error?(E(),S("div",dg,d(e.state.error),1)):le("",!0),e.state.loading?(E(),S("div",ug,[st(es,{type:"table",rows:5,columns:5})])):le("",!0),e.state.loading?le("",!0):(E(),S("div",_g,[i("div",pg,[i("table",fg,[i("thead",null,[i("tr",null,[i("th",mg,d(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_TITLE","Title",[],"categoriesTableTitle")),1),i("th",hg,d(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug",[],"categoriesTableSlug")),1),i("th",gg,d(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent",[],"categoriesTableParent")),1),i("th",Eg,d(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort",[],"categoriesTableSort")),1),i("th",Cg,d(o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products",[],"categoriesTableUsage")),1),F[9]||(F[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?le("",!0):(E(),S("tr",Ag,[i("td",Sg,d(o(n)("COM_NXPEASYCART_CATEGORIES_EMPTY","No categories created yet.",[],"categoriesEmpty")),1)])),(E(!0),S(ve,null,we(p.value,z=>{var me;return E(),S("tr",{key:z.id,class:Ye({"is-active":l.id===z.id})},[i("th",bg,[i("span",{style:jt({paddingLeft:`${z.depth*1.5}rem`})},d(z.indentedTitle),5)]),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SLUG","Slug")},d(z.slug||""),9,Tg),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_PARENT","Parent")},d(z.path||o(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),9,yg),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_SORT","Sort")},d(z.sort),9,Rg),i("td",{"data-label":o(n)("COM_NXPEASYCART_CATEGORIES_TABLE_USAGE","Products")},d((me=z.usage)!=null?me:0),9,Og),i("td",xg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:Re=>y(z),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[F[10]||(F[10]=i("i",{class:"fa-solid fa-pen-to-square"},null,-1)),i("span",vg,d(o(n)("JEDIT","Edit")),1)],8,Ng),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",disabled:e.state.deleting,onClick:Re=>v(z),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[F[11]||(F[11]=i("i",{class:"fa-solid fa-trash"},null,-1)),i("span",Mg,d(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Pg)])],2)}),128))])]),e.state.pagination.pages>1?(E(),S("div",Ig,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:F[1]||(F[1]=z=>ce(e.state.pagination.current-1))},"  ",8,kg),i("span",$g,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:F[2]||(F[2]=z=>ce(e.state.pagination.current+1))},"  ",8,wg)])):le("",!0)]),e.state.lastUpdated?(E(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(ge(e.state.lastUpdated)),9,Lg)):le("",!0),r.value?(E(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"category-modal-title",onKeydown:St($,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop",onClick:$}),i("div",Dg,[i("header",Yg,[i("h3",Ug,d(l.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_CATEGORIES_ADD","Add category",[],"categoriesAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:$,title:o(n)("JCLOSE","Close"),"aria-label":o(n)("JCLOSE","Close")},[F[12]||(F[12]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",Fg,d(o(n)("JCLOSE","Close")),1)],8,Xg)]),i("form",{class:"nxp-ec-form",onSubmit:vt(Z,["prevent"]),autocomplete:"off"},[Array.isArray(e.state.validationErrors)&&e.state.validationErrors.length?(E(),S("div",Gg,[i("ul",null,[(E(!0),S(ve,null,we(e.state.validationErrors,(z,me)=>(E(),S("li",{key:me},d(z),1))),128))])])):le("",!0),i("div",Vg,[i("label",Hg,d(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_TITLE","Name",[],"categoriesFormTitle")),1),K(i("input",{id:"category-title",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F[3]||(F[3]=z=>l.title=z),required:"",maxlength:"255"},null,512),[[Ae,l.title,void 0,{trim:!0}]])]),i("div",Bg,[i("label",Kg,d(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_SLUG","Slug",[],"categoriesFormSlug")),1),K(i("input",{id:"category-slug",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":F[4]||(F[4]=z=>l.slug=z),maxlength:"190",onInput:k},null,544),[[Ae,l.slug,void 0,{trim:!0}]])]),i("div",jg,[i("label",Wg,d(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_PARENT","Parent category",[],"categoriesFormParent")),1),K(i("select",{id:"category-parent",class:"nxp-ec-form-select","onUpdate:modelValue":F[5]||(F[5]=z=>l.parent_id=z)},[i("option",Jg,d(o(n)("COM_NXPEASYCART_CATEGORIES_PARENT_NONE","None",[],"categoriesParentNone")),1),(E(!0),S(ve,null,we(b.value,z=>(E(),S("option",{key:z.id,value:z.id},d(z.label),9,qg))),128))],512),[[At,l.parent_id,void 0,{number:!0}]])]),i("div",zg,[i("label",Qg,d(o(n)("COM_NXPEASYCART_CATEGORIES_FORM_SORT","Sort order",[],"categoriesFormSort")),1),K(i("input",{id:"category-sort",class:"nxp-ec-form-input",type:"number","onUpdate:modelValue":F[6]||(F[6]=z=>l.sort=z),min:"0",step:"1"},null,512),[[Ae,l.sort,void 0,{number:!0}]])]),i("footer",Zg,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},[F[13]||(F[13]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_CATEGORIES_SAVE","Save category",[],"categoriesSave")),1)],8,eE),i("button",{class:"nxp-ec-btn nxp-ec-btn--ghost",type:"button",onClick:$},[F[14]||(F[14]=i("i",{class:"fa-solid fa-ban"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_CATEGORIES_CANCEL","Cancel",[],"categoriesCancel")),1)])])],32)])],32)):le("",!0)]))]))}},[["__scopeId","data-v-abfd7207"]]),nE={class:"nxp-ec-admin-panel nxp-ec-admin-panel--orders"},sE={class:"nxp-ec-admin-panel__header"},iE={class:"nxp-ec-admin-panel__title"},aE={class:"nxp-ec-admin-panel__lead"},oE={class:"nxp-ec-admin-panel__actions"},rE=["placeholder","aria-label"],lE=["aria-label"],cE={value:""},dE=["value"],uE=["disabled","title","aria-label"],_E={class:"nxp-ec-sr-only"},pE=["disabled","title","aria-label"],fE={class:"nxp-ec-sr-only"},mE={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},hE={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},gE={key:2,class:"nxp-ec-admin-panel__body"},EE={key:3,class:"nxp-ec-admin-panel__body nxp-ec-admin-panel__body--orders"},CE={class:"nxp-ec-admin-panel__table"},AE={key:0,class:"nxp-ec-admin-panel__selection"},SE=["aria-label"],bE={value:""},TE=["value"],yE=["disabled"],RE=["title","aria-label"],OE={class:"nxp-ec-sr-only"},xE={class:"nxp-ec-admin-table"},NE={scope:"col",class:"nxp-ec-admin-table__select"},vE={scope:"col"},PE={scope:"col"},ME={scope:"col"},IE={scope:"col"},kE={scope:"col"},$E={scope:"col",class:"nxp-ec-admin-table__actions"},wE={key:0},LE={colspan:"7"},DE={class:"nxp-ec-admin-table__select"},YE=["checked","onChange","aria-label"],UE={scope:"row",class:"nxp-ec-admin-table__primary"},XE=["onClick"],FE=["data-label"],GE={class:"nxp-ec-admin-table__meta"},VE=["data-label"],HE=["data-label"],BE={class:"nxp-ec-badge"},KE=["title"],jE=["data-label"],WE={class:"nxp-ec-admin-table__actions"},JE=["onUpdate:modelValue","aria-label"],qE=["value"],zE=["value"],QE=["disabled","onClick"],ZE=["aria-label"],eC=["disabled","aria-label"],tC={class:"nxp-ec-admin-pagination__status","aria-current":"page"},nC=["disabled","aria-label"],sC=["title"],iC={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},aC={class:"nxp-ec-admin-panel__sidebar nxp-ec-admin-panel__sidebar--orders","aria-live":"polite"},oC={class:"nxp-ec-admin-panel__sidebar-header"},rC={id:"order-modal-title"},lC=["title","aria-label"],cC={class:"nxp-ec-sr-only"},dC={class:"nxp-ec-admin-panel__sidebar-content"},uC={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},_C={key:1,class:"nxp-ec-admin-alert nxp-ec-admin-alert--warning"},pC={key:2,class:"nxp-ec-admin-panel__section"},fC={class:"nxp-ec-admin-copy"},mC=["value"],hC=["disabled"],gC={key:0,class:"nxp-ec-admin-panel__muted"},EC={class:"nxp-ec-admin-copy",style:{"margin-top":"0.75rem"}},CC=["disabled"],AC={key:0,class:"nxp-ec-admin-panel__muted"},SC={class:"nxp-ec-admin-panel__section"},bC={class:"nxp-ec-admin-list"},TC={class:"nxp-ec-admin-list__title"},yC={class:"nxp-ec-admin-list__meta"},RC={key:3,class:"nxp-ec-admin-panel__section"},OC={class:"nxp-ec-admin-panel__section-header"},xC=["disabled"],NC={key:0,class:"nxp-ec-admin-panel__muted"},vC={class:"nxp-ec-download-list"},PC={class:"nxp-ec-download-card__meta"},MC={class:"nxp-ec-admin-list__title"},IC={class:"nxp-ec-admin-panel__muted"},kC={class:"nxp-ec-download-card__actions"},$C=["disabled","onClick","title"],wC=["onClick"],LC=["href"],DC={class:"nxp-ec-admin-panel__section"},YC={class:"nxp-ec-admin-panel__total"},UC={class:"nxp-ec-admin-panel__addresses"},XC={class:"nxp-ec-admin-panel__section"},FC={class:"nxp-ec-admin-address"},GC={class:"nxp-ec-admin-panel__section"},VC={key:0,class:"nxp-ec-admin-address"},HC={key:1,class:"nxp-ec-admin-panel__muted"},BC={class:"nxp-ec-admin-panel__section"},KC={class:"nxp-ec-form-field"},jC={class:"nxp-ec-form-label",for:"nxp-ec-tracking-carrier"},WC={class:"nxp-ec-form-field"},JC={class:"nxp-ec-form-label",for:"nxp-ec-tracking-number"},qC={class:"nxp-ec-form-field"},zC={class:"nxp-ec-form-label",for:"nxp-ec-tracking-url"},QC={key:0,class:"nxp-ec-form-checkbox"},ZC={class:"nxp-ec-admin-form__actions"},eA=["disabled"],tA={key:4,class:"nxp-ec-admin-panel__section"},nA={class:"nxp-ec-admin-form__actions nxp-ec-admin-form__actions--stacked"},sA=["disabled"],iA=["disabled"],aA={key:5,class:"nxp-ec-admin-panel__section"},oA={class:"nxp-ec-form-help",style:{"margin-bottom":"0.75rem"}},rA={class:"nxp-ec-form-field"},lA={class:"nxp-ec-form-label",for:"nxp-ec-payment-amount"},cA=["placeholder"],dA={class:"nxp-ec-form-help"},uA={class:"nxp-ec-form-field"},_A={class:"nxp-ec-form-label",for:"nxp-ec-payment-reference"},pA=["placeholder"],fA={class:"nxp-ec-form-field"},mA={class:"nxp-ec-form-label",for:"nxp-ec-payment-note"},hA={class:"nxp-ec-admin-form__actions",style:{"margin-top":"0.75rem"}},gA=["disabled"],EA={key:6,class:"nxp-ec-admin-panel__section"},CA={class:"nxp-ec-admin-list"},AA={class:"nxp-ec-admin-list__title"},SA={class:"nxp-ec-admin-list__meta"},bA={class:"nxp-ec-admin-panel__section"},TA=["placeholder"],yA={class:"nxp-ec-admin-form__actions"},RA=["disabled"],OA={class:"nxp-ec-admin-panel__section"},xA={key:0,class:"nxp-ec-admin-list"},NA={class:"nxp-ec-admin-list__title"},vA={class:"nxp-ec-admin-list__meta"},PA={key:1,class:"nxp-ec-admin-panel__muted"},MA=Ot({__name:"OrdersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},siteRoot:{type:String,default:""}},emits:["refresh","search","filter","view","close","transition","page","bulk-transition","toggle-selection","clear-selection","add-note","save-tracking","invoice","export","send-email","record-payment","resend-downloads","reset-download"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Ke({}),c=We(""),u=We(""),_=Te(()=>u.value.trim().length>0),p=We(""),f=We(""),l=Ke({carrier:"",tracking_number:"",tracking_url:"",markFulfilled:!1}),b=Ke({amount:null,reference:"",note:""}),M=Te(()=>{var R;const O=(R=s.state)==null?void 0:R.selection;return!O||typeof O.values!="function"?[]:Array.from(O.values())}),D=Te(()=>M.value.length>0),k=Te(()=>{var Q;const O=(Q=s.state)==null?void 0:Q.activeOrder;if(!O)return!1;const R=["cod","bank_transfer"],G=String(O.payment_method||"").toLowerCase();return O.state==="pending"&&R.includes(G)}),x=Te(()=>{var G,Q;const O=(G=s.state)==null?void 0:G.activeOrder;return O?["paid","fulfilled"].includes(O.state)&&((Q=O.downloads)==null?void 0:Q.length)>0:!1});Te(()=>k.value),Qe(M,O=>{O.length||(c.value="")}),Qe(()=>s.state.activeOrder,O=>{var R,G,Q;u.value="",p.value="",l.carrier=(R=O==null?void 0:O.carrier)!=null?R:"",l.tracking_number=(G=O==null?void 0:O.tracking_number)!=null?G:"",l.tracking_url=(Q=O==null?void 0:O.tracking_url)!=null?Q:"",l.markFulfilled=!1,b.amount=null,b.reference="",b.note="",f.value=""},{immediate:!0}),Qe(()=>s.state.items,O=>{Array.isArray(O)&&O.forEach(R=>{!R||typeof R.id=="undefined"||r[R.id]||(r[R.id]=R.state)})},{immediate:!0}),Qe(()=>s.state.transitionError,O=>{var G;if(!O)return;const R=(G=s.state)==null?void 0:G.items;Array.isArray(R)&&R.forEach(Q=>{Q!=null&&Q.id&&Q.state&&(r[Q.id]=Q.state)})});const T=(O,R)=>{const G=(Number(O)||0)/100,Q=(R||"").toUpperCase()||"USD";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:Q}).format(G)}catch(w){return`${Q} ${G.toFixed(2)}`}},y=O=>{if(!O)return"";const R=new Date(O);return Number.isNaN(R.getTime())?O:R.toLocaleString()},$=O=>O?{payment_amount_mismatch:n("COM_NXPEASYCART_ORDERS_REVIEW_AMOUNT_MISMATCH","Payment amount does not match order total. Please verify the transaction in your payment gateway dashboard.")}[O]||O:n("COM_NXPEASYCART_ORDERS_REVIEW_UNKNOWN","Unknown reason"),L=O=>O===1?n("COM_NXPEASYCART_ORDERS_BADGE_ITEM","1 item"):n("COM_NXPEASYCART_ORDERS_BADGE_ITEMS","%s items",[String(O)]),V=O=>{if(!O)return"";const R=`COM_NXPEASYCART_ORDERS_STATE_${String(O).toUpperCase()}`;return n(R,O)},ce=O=>s.state.orderStates.filter(R=>R!==O.state),Z=O=>(r[O.id]||O.state)!==O.state,v=()=>{var O;return s.siteRoot&&s.siteRoot.trim()!==""?s.siteRoot.trim():typeof window!="undefined"&&((O=window.location)!=null&&O.origin)?window.location.origin:""},ge=Te(()=>{var B,ie;const O=(ie=(B=s.state)==null?void 0:B.activeOrder)!=null?ie:{},R=String(O.public_token||"").trim(),G=String(O.order_no||"").trim();if(!R)return"";const Q=v();if(!Q)return"";const w=Q.endsWith("/")?"":"/",xe=new URLSearchParams({option:"com_nxpeasycart",view:"order",ref:R});return G&&xe.set("no",G),`${Q}${w}index.php?${xe.toString()}`}),X=async()=>{var O;if(ge.value){try{if(!((O=navigator==null?void 0:navigator.clipboard)!=null&&O.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(ge.value),p.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopied")}catch(R){try{const G=document.createElement("textarea");G.value=ge.value,G.setAttribute("readonly",""),G.style.position="absolute",G.style.left="-9999px",document.body.appendChild(G),G.select(),document.execCommand("copy"),document.body.removeChild(G),p.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied",[],"ordersLinkCopiedFallback")}catch(G){p.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.",[],"ordersLinkCopyFallback")}}p.value&&setTimeout(()=>{p.value=""},2e3)}},F=O=>{var Q,w;const R=Number((Q=O==null?void 0:O.download_count)!=null?Q:0),G=Number((w=O==null?void 0:O.max_downloads)!=null?w:0);if(G>0){const xe=Math.max(0,G-R);return n("COM_NXPEASYCART_ORDER_DOWNLOADS_REMAINING","%d downloads remaining",[xe])}return n("COM_NXPEASYCART_ORDER_DOWNLOADS_UNLIMITED","Unlimited downloads")},z=O=>O!=null&&O.expires_at?n("COM_NXPEASYCART_ORDER_DOWNLOADS_EXPIRES","Expires %s",[O.expires_at]):n("JNONE","No expiry"),me=async O=>{var G;const R=O==null?void 0:O.url;if(R){try{if(!((G=navigator==null?void 0:navigator.clipboard)!=null&&G.writeText))throw new Error("Clipboard unavailable");await navigator.clipboard.writeText(R),f.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(Q){try{const w=document.createElement("textarea");w.value=R,w.setAttribute("readonly",""),w.style.position="absolute",w.style.left="-9999px",document.body.appendChild(w),w.select(),document.execCommand("copy"),document.body.removeChild(w),f.value=n("COM_NXPEASYCART_ORDERS_LINK_COPIED","Link copied")}catch(w){f.value=n("COM_NXPEASYCART_ORDERS_LINK_COPY_FALLBACK","Copy the link below.")}}f.value&&setTimeout(()=>{f.value=""},2e3)}},Re=Te(()=>{var R,G,Q,w,xe;const O=(G=(R=s.state)==null?void 0:R.activeOrder)!=null?G:{};return l.carrier!==((Q=O.carrier)!=null?Q:"")||l.tracking_number!==((w=O.tracking_number)!=null?w:"")||l.tracking_url!==((xe=O.tracking_url)!=null?xe:"")||l.markFulfilled}),de=O=>!O||typeof O!="object"?[]:Object.entries(O).filter(([,R])=>R!=null&&`${R}`.trim()!=="").map(([R,G])=>({key:R,value:`${G}`.trim()})),Ce=()=>{a("refresh")},oe=()=>{a("export")},re=()=>{a("search")},ae=()=>{a("filter",s.state.filterState)},Ne=O=>{a("view",O)},m=()=>{a("close")},g=O=>{const R=r[O.id]||O.state;R!==O.state&&a("transition",{id:O.id,state:R})},C=O=>{a("page",O)},pe=O=>{var R,G,Q,w;return(w=(Q=(G=(R=s.state)==null?void 0:R.selection)==null?void 0:G.has)==null?void 0:Q.call(G,O))!=null?w:!1},fe=O=>{a("toggle-selection",O)},Se=()=>{c.value="",a("clear-selection")},Oe=()=>{!D.value||!c.value||a("bulk-transition",{ids:[...M.value],state:c.value})},Le=()=>{if(!s.state.activeOrder)return;const O=u.value.trim();O&&(a("add-note",{id:s.state.activeOrder.id,message:O}),u.value="")},$e=()=>{s.state.activeOrder&&a("invoice",s.state.activeOrder.id)},Be=()=>{!s.state.activeOrder||!Re.value||(a("save-tracking",{id:s.state.activeOrder.id,carrier:l.carrier,tracking_number:l.tracking_number,tracking_url:l.tracking_url,mark_fulfilled:l.markFulfilled}),l.markFulfilled=!1)},ot=O=>{s.state.activeOrder&&a("send-email",{id:s.state.activeOrder.id,type:O})},A=()=>{if(!s.state.activeOrder||!k.value)return;const O=s.state.activeOrder,R=b.amount!==null&&b.amount!==""?Math.round(Number(b.amount)*100):O.total_cents;a("record-payment",{id:O.id,amountCents:R,reference:b.reference,note:b.note}),b.amount=null,b.reference="",b.note=""},N=()=>{!s.state.activeOrder||!x.value||a("resend-downloads",{id:s.state.activeOrder.id})},U=O=>{!s.state.activeOrder||!(O!=null&&O.id)||a("reset-download",{download_id:O.id,order_id:s.state.activeOrder.id})},ee=O=>{var Q;const R=(Q=s.state)==null?void 0:Q.activeOrder;return R?(R.timeline||R.audit||[]).some(w=>{var xe;return w.action==="order.email.sent"?((xe=w.context)==null?void 0:xe.type)===O:!1}):!1},W=Te(()=>n("COM_NXPEASYCART_ORDERS_SELECTED_COUNT","%s selected",[String(M.value.length)],"ordersSelectedCount")),q=O=>{var R,G,Q,w,xe,B,ie,he,J,De,Xe,it;if(!O||!O.action)return"";switch(O.action){case"order.created":return n("COM_NXPEASYCART_ORDERS_TIMELINE_CREATED","Order created",[],"ordersTimelineCreated");case"order.state.transitioned":{const Je=V((G=(R=O.context)==null?void 0:R.from)!=null?G:""),P=V((w=(Q=O.context)==null?void 0:Q.to)!=null?w:"");return n("COM_NXPEASYCART_ORDERS_TIMELINE_STATE","State changed from %s to %s",[Je||((xe=O.context)==null?void 0:xe.from)||"",P||((B=O.context)==null?void 0:B.to)||""],"ordersTimelineState")}case"order.note":return((ie=O.context)==null?void 0:ie.message)||n("COM_NXPEASYCART_ORDERS_TIMELINE_NOTE","Note added",[],"ordersTimelineNote");case"order.payment.recorded":{const Je=((he=O.context)==null?void 0:he.gateway)||n("COM_NXPEASYCART_ORDERS_TRANSACTION","Payment",[],"ordersTransactionLabel"),P=T((De=(J=O.context)==null?void 0:J.amount_cents)!=null?De:0,(it=(Xe=s.state)==null?void 0:Xe.activeOrder)==null?void 0:it.currency);return n("COM_NXPEASYCART_ORDERS_TIMELINE_PAYMENT_RECORDED","%s recorded (%s)",[Je,P],"ordersTimelinePaymentRecorded")}case"order.tracking.updated":return n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTracking");default:return O.action}},ue=O=>{if(!O)return"";const R=String(O.type||"").toLowerCase(),G=String(O.message||"").trim(),Q=String(O.state||"").toLowerCase();return R==="tracking"?n("COM_NXPEASYCART_ORDER_TRACKING_EVENT","Tracking updated",[],"ordersTimelineTrackingEvent"):Q?V(Q):G||R||""},ne=Te(()=>{var Q,w,xe,B;const O=[];return(Array.isArray((w=(Q=s.state)==null?void 0:Q.activeOrder)==null?void 0:w.fulfillment_events)?s.state.activeOrder.fulfillment_events:[]).forEach((ie,he)=>{var J,De;O.push({label:ue(ie),created:(J=ie==null?void 0:ie.at)!=null?J:"",key:`f-${he}-${(De=ie==null?void 0:ie.at)!=null?De:""}`})}),(Array.isArray((B=(xe=s.state)==null?void 0:xe.activeOrder)==null?void 0:B.timeline)?s.state.activeOrder.timeline:[]).forEach((ie,he)=>{var J,De,Xe;O.push({label:q(ie),created:(J=ie==null?void 0:ie.created)!=null?J:"",key:`a-${(De=ie==null?void 0:ie.id)!=null?De:he}-${(Xe=ie==null?void 0:ie.created)!=null?Xe:""}`})}),O.filter(ie=>ie.label).sort((ie,he)=>{const J=new Date(ie.created||0).getTime();return new Date(he.created||0).getTime()-J})}),se=O=>n(`COM_NXPEASYCART_TRANSACTION_STATUS_${String(O.status||"").toUpperCase()}`,O.status||""),j=O=>{if(!O)return"";try{const R=new Date(O),Q=new Date-R,w=Math.floor(Q/1e3),xe=Math.floor(w/60),B=Math.floor(xe/60);return w<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):xe<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[xe]):B<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[B]):R.toLocaleString()}catch(R){return O}};return(O,R)=>{var G,Q;return E(),S("section",nE,[i("header",sE,[i("div",null,[i("h2",iE,d(o(n)("COM_NXPEASYCART_MENU_ORDERS","Orders",[],"ordersPanelTitle")),1),i("p",aE,d(o(n)("COM_NXPEASYCART_ORDERS_LEAD","Track orders and manage fulfilment from this screen.",[],"ordersPanelLead")),1)]),i("div",oE,[K(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder"),"onUpdate:modelValue":R[0]||(R[0]=w=>e.state.search=w),onKeyup:St(re,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_SEARCH_PLACEHOLDER","Search orders",[],"ordersSearchPlaceholder")},null,40,rE),[[Ae,e.state.search]]),K(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":R[1]||(R[1]=w=>e.state.filterState=w),onChange:ae,"aria-label":o(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","Filter by state",[],"ordersFilterState")},[i("option",cE,"  "+d(o(n)("COM_NXPEASYCART_ORDERS_FILTER_STATE","State",[],"ordersFilterState"))+"  ",1),(E(!0),S(ve,null,we(e.state.orderStates,w=>(E(),S("option",{key:w,value:w},d(V(w)),9,dE))),128))],40,lE),[[At,e.state.filterState]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:oe,disabled:e.state.loading||e.state.exporting,title:o(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")},[R[15]||(R[15]=i("i",{class:"fa-solid fa-file-csv"},null,-1)),i("span",_E,d(o(n)("COM_NXPEASYCART_ORDERS_EXPORT","Export CSV",[],"ordersExport")),1)],8,uE),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:Ce,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")},[R[16]||(R[16]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",fE,d(o(n)("COM_NXPEASYCART_ORDERS_REFRESH","Refresh",[],"ordersRefresh")),1)],8,pE)])]),e.state.error?(E(),S("div",mE,d(e.state.error),1)):le("",!0),e.state.transitionError&&!e.state.error?(E(),S("div",hE,d(e.state.transitionError),1)):le("",!0),e.state.loading&&!e.state.error?(E(),S("div",gE,[st(es,{type:"table",rows:5,columns:7})])):le("",!0),!e.state.loading&&!e.state.error?(E(),S("div",EE,[i("div",CE,[D.value?(E(),S("div",AE,[i("span",null,d(W.value),1),K(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":R[2]||(R[2]=w=>c.value=w),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_BULK_STATE","Select target state",[],"ordersBulkState")},[i("option",bE,d(o(n)("COM_NXPEASYCART_ORDERS_BULK_STATE_PLACEHOLDER","Choose state",[],"ordersBulkStatePlaceholder")),1),(E(!0),S(ve,null,we(e.state.orderStates,w=>(E(),S("option",{key:`bulk-${w}`,value:w},d(V(w)),9,TE))),128))],8,SE),[[At,c.value]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:!c.value||e.state.saving,onClick:Oe},[R[17]||(R[17]=i("i",{class:"fa-solid fa-check"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_ORDERS_BULK_APPLY","Apply",[],"ordersBulkApply")),1)],8,yE),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:Se,title:o(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")},[R[18]||(R[18]=i("i",{class:"fa-solid fa-xmark"},null,-1)),i("span",OE,d(o(n)("COM_NXPEASYCART_ORDERS_CLEAR_SELECTION","Clear",[],"ordersClearSelection")),1)],8,RE)])):le("",!0),i("table",xE,[i("thead",null,[i("tr",null,[i("th",NE,d(o(n)("COM_NXPEASYCART_ORDERS_TABLE_SELECT","Select",[],"ordersTableSelect")),1),i("th",vE,d(o(n)("COM_NXPEASYCART_ORDERS_TABLE_ORDER","Order",[],"ordersTableOrder")),1),i("th",PE,d(o(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer",[],"ordersTableCustomer")),1),i("th",ME,d(o(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total",[],"ordersTableTotal")),1),i("th",IE,d(o(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State",[],"ordersTableState")),1),i("th",kE,d(o(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated",[],"ordersTableUpdated")),1),i("th",$E,d(o(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")),1)])]),i("tbody",null,[e.state.items.length?le("",!0):(E(),S("tr",wE,[i("td",LE,d(o(n)("COM_NXPEASYCART_ORDERS_EMPTY","No orders found.",[],"ordersEmpty")),1)])),(E(!0),S(ve,null,we(e.state.items,w=>{var xe,B,ie;return E(),S("tr",{key:w.id,class:Ye({"is-active":e.state.activeOrder&&e.state.activeOrder.id===w.id})},[i("td",DE,[i("input",{type:"checkbox",class:"nxp-ec-admin-checkbox",checked:pe(w.id),onChange:he=>fe(w.id),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_SELECT_ORDER","Select order",[],"ordersSelectOrder")},null,40,YE)]),i("th",UE,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:he=>Ne(w)},d(w.order_no),9,XE)]),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_CUSTOMER","Customer")},[i("div",null,d(w.email),1),i("div",GE,d(L((ie=w.items_count)!=null?ie:(B=(xe=w.items)==null?void 0:xe.length)!=null?B:0)),1)],8,FE),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_TOTAL","Total")},d(T(w.total_cents,w.currency)),9,VE),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_STATE","State")},[i("span",BE,d(V(w.state)),1),w.needs_review?(E(),S("span",{key:0,class:"nxp-ec-badge nxp-ec-badge--warning",title:w.review_reason||o(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs review")},d(o(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW_SHORT","Review")),9,KE)):le("",!0)],8,HE),i("td",{"data-label":o(n)("COM_NXPEASYCART_ORDERS_TABLE_UPDATED","Updated")},d(y(w.modified||w.created)),9,jE),i("td",WE,[K(i("select",{class:"nxp-ec-admin-select","onUpdate:modelValue":he=>r[w.id]=he,"aria-label":o(n)("COM_NXPEASYCART_ORDERS_CHANGE_STATE","Change state",[],"ordersChangeState")},[i("option",{value:w.state},d(V(w.state)),9,qE),(E(!0),S(ve,null,we(ce(w),he=>(E(),S("option",{key:he,value:he},d(V(he)),9,zE))),128))],8,JE),[[At,r[w.id]]]),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.saving||!Z(w),onClick:he=>g(w)},d(o(n)("COM_NXPEASYCART_ORDERS_TRANSITIONS","State transitions",[],"ordersStateTransitions")),9,QE)])],2)}),128))])]),e.state.pagination.pages>1?(E(),S("nav",{key:1,class:"nxp-ec-admin-pagination","aria-label":o(n)("COM_NXPEASYCART_PAGINATION","Pagination")},[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:R[3]||(R[3]=w=>C(e.state.pagination.current-1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,eC),i("span",tC,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:R[4]||(R[4]=w=>C(e.state.pagination.current+1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,nC)],8,ZE)):le("",!0)]),e.state.lastUpdated?(E(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(j(e.state.lastUpdated)),9,sC)):le("",!0),e.state.activeOrder?(E(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"order-modal-title",onKeydown:St(m,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:m}),i("div",iC,[i("aside",aC,[i("header",oC,[i("h3",rC,d(o(n)("COM_NXPEASYCART_ORDERS_DETAILS_TITLE","Order details",[],"ordersDetailsTitle"))+"  "+d(e.state.activeOrder.order_no),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon",type:"button",onClick:m,title:o(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose"),"aria-label":o(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")},[R[19]||(R[19]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",cC,d(o(n)("COM_NXPEASYCART_ORDERS_DETAILS_CLOSE","Close details",[],"ordersDetailsClose")),1)],8,lC)]),i("div",dC,[e.state.transitionError?(E(),S("div",uC,d(e.state.transitionError),1)):le("",!0),(G=e.state.activeOrder)!=null&&G.needs_review?(E(),S("div",_C,[i("strong",null,d(o(n)("COM_NXPEASYCART_ORDERS_NEEDS_REVIEW","Needs Review",[],"ordersNeedsReview"))+": ",1),ke(" "+d($((Q=e.state.activeOrder)==null?void 0:Q.review_reason)),1)])):le("",!0),ge.value?(E(),S("section",pC,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_STATUS_LINK","Status link",[],"ordersStatusLink")),1),i("div",fC,[i("input",{type:"text",class:"nxp-ec-form-input",value:ge.value,readonly:""},null,8,mC),i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!ge.value,onClick:X},[R[20]||(R[20]=i("i",{class:"fa-solid fa-link"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link",[],"ordersCopyLink")),1)],8,hC)]),p.value?(E(),S("p",gC,d(p.value),1)):le("",!0),i("div",EC,[i("button",{class:"nxp-ec-btn nxp-ec-btn--small",type:"button",disabled:!s.state.activeOrder||s.state.invoiceLoading,onClick:$e},[R[21]||(R[21]=i("i",{class:"fa-solid fa-file-pdf"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_ORDERS_INVOICE_DOWNLOAD","Download invoice (PDF)",[],"ordersInvoiceDownload")),1)],8,CC),s.state.invoiceLoading?(E(),S("span",AC,d(o(n)("COM_NXPEASYCART_LOADING","Loading",[],"ordersInvoiceLoading")),1)):le("",!0)])])):le("",!0),i("section",SC,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_ITEMS_LABEL","Items",[],"ordersItemsLabel")),1),i("ul",bC,[(E(!0),S(ve,null,we(e.state.activeOrder.items,w=>(E(),S("li",{key:w.id},[i("div",TC,[ke(d(w.title)+" ",1),i("small",null,"("+d(w.sku)+")",1)]),i("div",yC,"  "+d(w.qty)+"  "+d(T(w.unit_price_cents,e.state.activeOrder.currency)),1)]))),128))])]),e.state.activeOrder.downloads&&e.state.activeOrder.downloads.length?(E(),S("section",RC,[i("div",OC,[i("h4",null,d(o(n)("COM_NXPEASYCART_DIGITAL_FILES","Digital downloads")),1),x.value?(E(),S("button",{key:0,type:"button",class:"nxp-ec-btn nxp-ec-btn--small",disabled:e.state.saving,onClick:N},[R[22]||(R[22]=i("i",{class:"fa-solid fa-envelope"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_ORDERS_RESEND_DOWNLOADS","Resend email")),1)],8,xC)):le("",!0)]),f.value?(E(),S("p",NC,d(f.value),1)):le("",!0),i("div",vC,[(E(!0),S(ve,null,we(e.state.activeOrder.downloads,w=>(E(),S("article",{key:w.id,class:"nxp-ec-download-card"},[i("div",PC,[i("div",MC,d(w.filename),1),i("div",IC,d(F(w))+"  "+d(z(w)),1)]),i("div",kC,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",disabled:e.state.saving,onClick:xe=>U(w),title:o(n)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD_TITLE","Reset download count to 0")},[R[23]||(R[23]=i("i",{class:"fa-solid fa-rotate-left"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_ORDERS_RESET_DOWNLOAD","Reset")),1)],8,$C),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--small",onClick:xe=>me(w)},d(o(n)("COM_NXPEASYCART_ORDERS_COPY_LINK","Copy link")),9,wC),w.url?(E(),S("a",{key:0,class:"nxp-ec-btn nxp-ec-btn--small",href:w.url,target:"_blank",rel:"noopener"},d(o(n)("COM_NXPEASYCART_DOWNLOAD","Download")),9,LC)):le("",!0)])]))),128))])])):le("",!0),i("section",DC,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_TOTAL_LABEL","Total",[],"ordersTotalLabel")),1),i("p",YC,d(T(e.state.activeOrder.total_cents,e.state.activeOrder.currency)),1)]),i("div",UC,[i("section",XC,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_BILLING_LABEL","Billing",[],"ordersBillingLabel")),1),i("address",FC,[(E(!0),S(ve,null,we(de(e.state.activeOrder.billing),w=>(E(),S("span",{key:w.key},d(w.value),1))),128))])]),i("section",GC,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_SHIPPING_LABEL","Shipping",[],"ordersShippingLabel")),1),e.state.activeOrder.shipping?(E(),S("address",VC,[(E(!0),S(ve,null,we(de(e.state.activeOrder.shipping),w=>(E(),S("span",{key:w.key},d(w.value),1))),128))])):(E(),S("p",HC,d(o(n)("COM_NXPEASYCART_ORDERS_NO_SHIPPING","Shipping information not provided.",[],"ordersNoShipping")),1))])]),i("section",BC,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_LABEL","Tracking",[],"ordersTrackingLabel")),1),i("div",KC,[i("label",jC,d(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_CARRIER","Carrier",[],"ordersTrackingCarrier")),1),K(i("input",{id:"nxp-ec-tracking-carrier",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[5]||(R[5]=w=>l.carrier=w)},null,512),[[Ae,l.carrier]])]),i("div",WC,[i("label",JC,d(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_NUMBER","Tracking number",[],"ordersTrackingNumber")),1),K(i("input",{id:"nxp-ec-tracking-number",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[6]||(R[6]=w=>l.tracking_number=w)},null,512),[[Ae,l.tracking_number]])]),i("div",qC,[i("label",zC,d(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_URL","Tracking URL",[],"ordersTrackingUrl")),1),K(i("input",{id:"nxp-ec-tracking-url",class:"nxp-ec-form-input",type:"url","onUpdate:modelValue":R[7]||(R[7]=w=>l.tracking_url=w)},null,512),[[Ae,l.tracking_url]])]),e.state.activeOrder.state!=="fulfilled"&&e.state.activeOrder.state!=="refunded"?(E(),S("label",QC,[K(i("input",{type:"checkbox","onUpdate:modelValue":R[8]||(R[8]=w=>l.markFulfilled=w)},null,512),[[_t,l.markFulfilled]]),ke(" "+d(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_MARK_FULFILLED","Mark fulfilled",[],"ordersTrackingMarkFulfilled")),1)])):le("",!0),i("div",ZC,[i("button",{class:"nxp-ec-btn",type:"button",disabled:!Re.value||e.state.saving,onClick:Be},[R[24]||(R[24]=i("i",{class:"fa-solid fa-truck"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_ORDERS_TRACKING_SAVE","Save tracking",[],"ordersTrackingSave")),1)],8,eA)])]),e.state.activeOrder.state==="fulfilled"||e.state.activeOrder.state==="refunded"?(E(),S("section",tA,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_EMAIL_LABEL","Email notifications",[],"ordersEmailLabel")),1),i("div",nA,[e.state.activeOrder.state==="fulfilled"?(E(),S("button",{key:0,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:R[9]||(R[9]=w=>ot("shipped"))},[R[25]||(R[25]=i("i",{class:"fa-solid fa-envelope"},null,-1)),ke(" "+d(ee("shipped")?o(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_SHIPPED","Re-send shipped email",[],"ordersEmailResendShipped"):o(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_SHIPPED","Send shipped email",[],"ordersEmailSendShipped")),1)],8,sA)):le("",!0),e.state.activeOrder.state==="refunded"?(E(),S("button",{key:1,class:"nxp-ec-btn",type:"button",disabled:e.state.saving,onClick:R[10]||(R[10]=w=>ot("refunded"))},[R[26]||(R[26]=i("i",{class:"fa-solid fa-envelope"},null,-1)),ke(" "+d(ee("refunded")?o(n)("COM_NXPEASYCART_ORDERS_EMAIL_RESEND_REFUNDED","Re-send refunded email",[],"ordersEmailResendRefunded"):o(n)("COM_NXPEASYCART_ORDERS_EMAIL_SEND_REFUNDED","Send refunded email",[],"ordersEmailSendRefunded")),1)],8,iA)):le("",!0)])])):le("",!0),k.value?(E(),S("section",aA,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT","Record Payment",[],"ordersRecordPayment")),1),i("p",oA,d(o(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_HELP","Manually record payment receipt for this order. This will mark the order as paid.",[],"ordersRecordPaymentHelp")),1),i("div",rA,[i("label",lA,d(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT","Amount",[],"ordersPaymentAmount")),1),K(i("input",{id:"nxp-ec-payment-amount",class:"nxp-ec-form-input",type:"number",step:"0.01",min:"0","onUpdate:modelValue":R[11]||(R[11]=w=>b.amount=w),placeholder:T(e.state.activeOrder.total_cents,e.state.activeOrder.currency)},null,8,cA),[[Ae,b.amount]]),i("small",dA,d(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_AMOUNT_HELP","Leave empty to use order total",[],"ordersPaymentAmountHelp")),1)]),i("div",uA,[i("label",_A,d(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE","Reference (optional)",[],"ordersPaymentReference")),1),K(i("input",{id:"nxp-ec-payment-reference",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":R[12]||(R[12]=w=>b.reference=w),placeholder:o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_REFERENCE_PLACEHOLDER","Receipt number, bank reference...",[],"ordersPaymentReferencePlaceholder")},null,8,pA),[[Ae,b.reference]])]),i("div",fA,[i("label",mA,d(o(n)("COM_NXPEASYCART_ORDERS_PAYMENT_NOTE","Note (optional)",[],"ordersPaymentNote")),1),K(i("textarea",{id:"nxp-ec-payment-note",class:"nxp-ec-form-textarea",rows:"2","onUpdate:modelValue":R[13]||(R[13]=w=>b.note=w)},null,512),[[Ae,b.note]])]),i("div",hA,[i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",disabled:e.state.saving,onClick:A},[R[27]||(R[27]=i("i",{class:"icon-credit"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_ORDERS_RECORD_PAYMENT_SUBMIT","Record Payment",[],"ordersRecordPaymentSubmit")),1)],8,gA)])])):le("",!0),e.state.activeOrder.transactions&&e.state.activeOrder.transactions.length?(E(),S("section",EA,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_TRANSACTIONS_LABEL","Payments",[],"ordersTransactionsLabel")),1),i("ul",CA,[(E(!0),S(ve,null,we(e.state.activeOrder.transactions,w=>(E(),S("li",{key:w.id},[i("div",AA,d(w.gateway)+"  "+d(T(w.amount_cents,e.state.activeOrder.currency)),1),i("div",SA,d(se(w))+"  "+d(y(w.created)),1)]))),128))])])):le("",!0),i("section",bA,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_NOTE_LABEL","Add note",[],"ordersNoteLabel")),1),i("form",{class:"nxp-ec-admin-form",onSubmit:vt(Le,["prevent"])},[K(i("textarea",{class:"nxp-ec-form-textarea",rows:"3","onUpdate:modelValue":R[14]||(R[14]=w=>u.value=w),placeholder:o(n)("COM_NXPEASYCART_ORDERS_NOTE_PLACEHOLDER","Leave a fulfilment note",[],"ordersNotePlaceholder")},null,8,TA),[[Ae,u.value]]),i("div",yA,[i("button",{class:"nxp-ec-btn",type:"submit",disabled:!_.value||e.state.saving},[R[28]||(R[28]=i("i",{class:"fa-solid fa-floppy-disk"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_ORDERS_NOTE_SUBMIT","Save note",[],"ordersNoteSubmit")),1)],8,RA)])],32)]),i("section",OA,[i("h4",null,d(o(n)("COM_NXPEASYCART_ORDERS_TIMELINE_LABEL","History",[],"ordersTimelineLabel")),1),ne.value.length?(E(),S("ul",xA,[(E(!0),S(ve,null,we(ne.value,w=>(E(),S("li",{key:w.key},[i("div",NA,d(w.label),1),i("div",vA,d(y(w.created)),1)]))),128))])):(E(),S("p",PA,d(o(n)("COM_NXPEASYCART_ORDERS_TIMELINE_EMPTY","No history recorded yet.",[],"ordersTimelineEmpty")),1))])])])])],32)):le("",!0)])):le("",!0)])}}},[["__scopeId","data-v-c57062e2"]]),IA={class:"nxp-ec-admin-panel nxp-ec-admin-panel--customers"},kA={class:"nxp-ec-admin-panel__header"},$A={class:"nxp-ec-admin-panel__title"},wA={class:"nxp-ec-admin-panel__lead"},LA={class:"nxp-ec-admin-panel__actions"},DA=["placeholder","aria-label"],YA=["disabled","title","aria-label"],UA={class:"nxp-ec-sr-only"},XA={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},FA={key:1,class:"nxp-ec-admin-panel__body"},GA={key:2,class:"nxp-ec-admin-panel__body"},VA={class:"nxp-ec-admin-panel__table"},HA={class:"nxp-ec-admin-table"},BA={scope:"col"},KA={scope:"col"},jA={scope:"col"},WA={scope:"col"},JA={scope:"col"},qA={key:0},zA={colspan:"5"},QA={scope:"row",class:"nxp-ec-admin-table__primary"},ZA=["onClick"],eS=["data-label"],tS=["data-label"],nS=["data-label"],sS=["data-label"],iS={key:0,class:"nxp-ec-admin-pagination"},aS=["disabled"],oS={class:"nxp-ec-admin-pagination__status"},rS=["disabled"],lS=["title"],cS={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},dS={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},uS={class:"nxp-ec-admin-panel__sidebar-header"},_S={id:"customer-modal-title"},pS=["title","aria-label"],fS={class:"nxp-ec-sr-only"},mS={class:"nxp-ec-admin-panel__section"},hS={class:"nxp-ec-admin-summary"},gS={class:"nxp-ec-admin-panel__addresses"},ES={class:"nxp-ec-admin-panel__section"},CS={class:"nxp-ec-admin-address"},AS={class:"nxp-ec-admin-panel__section"},SS={key:0,class:"nxp-ec-admin-address"},bS={key:1,class:"nxp-ec-admin-panel__muted"},TS={class:"nxp-ec-admin-panel__section"},yS={key:0,class:"nxp-ec-admin-list"},RS={class:"nxp-ec-admin-list__title"},OS={class:"nxp-ec-admin-list__meta"},xS={key:1,class:"nxp-ec-admin-panel__muted"},NS={class:"nxp-ec-admin-panel__section nxp-ec-gdpr-section"},vS={class:"nxp-ec-admin-panel__muted nxp-ec-gdpr-description"},PS={class:"nxp-ec-gdpr-actions"},MS=["disabled","title"],IS=["disabled","title"],kS=Ot({__name:"CustomersPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","view","close","gdprExport","gdprAnonymise"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=(T,y)=>{const $=(Number(T)||0)/100,L=(y||"").toUpperCase()||s.baseCurrency;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:L}).format($)}catch(V){return`${L} ${$.toFixed(2)}`}},c=T=>{if(!T)return"";const y=new Date(T);return Number.isNaN(y.getTime())?T:y.toLocaleString()},u=T=>!T||typeof T!="object"?[]:Object.entries(T).filter(([,y])=>y!=null&&`${y}`.trim()!=="").map(([y,$])=>({key:y,value:`${$}`.trim()})),_=T=>{if(!T)return"";const y=`COM_NXPEASYCART_ORDERS_STATE_${String(T).toUpperCase()}`;return n(y,T)},p=()=>a("refresh"),f=()=>a("search"),l=T=>a("page",T),b=T=>a("view",T),M=()=>a("close"),D=T=>a("gdprExport",T),k=T=>a("gdprAnonymise",T),x=T=>{if(!T)return"";try{const y=new Date(T),L=new Date-y,V=Math.floor(L/1e3),ce=Math.floor(V/60),Z=Math.floor(ce/60);return V<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):ce<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[ce]):Z<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[Z]):y.toLocaleString()}catch(y){return T}};return(T,y)=>{var $,L,V;return E(),S("section",IA,[i("header",kA,[i("div",null,[i("h2",$A,d(o(n)("COM_NXPEASYCART_MENU_CUSTOMERS","Customers",[],"customersPanelTitle")),1),i("p",wA,d(o(n)("COM_NXPEASYCART_CUSTOMERS_LEAD","Understand your buyers and their order history.",[],"customersPanelLead")),1)]),i("div",LA,[K(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder"),"onUpdate:modelValue":y[0]||(y[0]=ce=>e.state.search=ce),onKeyup:St(f,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_CUSTOMERS_SEARCH_PLACEHOLDER","Search customers",[],"customersSearchPlaceholder")},null,40,DA),[[Ae,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:p,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh"),"aria-label":o(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")},[y[5]||(y[5]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",UA,d(o(n)("COM_NXPEASYCART_CUSTOMERS_REFRESH","Refresh",[],"customersRefresh")),1)],8,YA)])]),e.state.error?(E(),S("div",XA,d(e.state.error),1)):le("",!0),e.state.loading?(E(),S("div",FA,[st(es,{type:"table",rows:5,columns:5})])):le("",!0),e.state.loading?le("",!0):(E(),S("div",GA,[i("div",VA,[i("table",HA,[i("thead",null,[i("tr",null,[i("th",BA,d(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_EMAIL","Email",[],"customersTableEmail")),1),i("th",KA,d(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name",[],"customersTableName")),1),i("th",jA,d(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders",[],"customersTableOrders")),1),i("th",WA,d(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent",[],"customersTableTotal")),1),i("th",JA,d(o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order",[],"customersTableLast")),1)])]),i("tbody",null,[e.state.items.length?le("",!0):(E(),S("tr",qA,[i("td",zA,d(o(n)("COM_NXPEASYCART_CUSTOMERS_EMPTY","No customers yet.",[],"customersEmpty")),1)])),(E(!0),S(ve,null,we(e.state.items,ce=>{var Z;return E(),S("tr",{key:ce.email,class:Ye({"is-active":e.state.activeCustomer&&e.state.activeCustomer.email===ce.email})},[i("th",QA,[i("button",{class:"nxp-ec-link-button",type:"button",onClick:v=>b(ce)},d(ce.email),9,ZA)]),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_NAME","Name")},d(((Z=ce.meta)==null?void 0:Z.name)||""),9,eS),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_ORDERS","Orders")},d(ce.orders_count),9,tS),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_TOTAL","Total spent")},d(r(ce.total_spent_cents,ce.currency||e.baseCurrency)),9,nS),i("td",{"data-label":o(n)("COM_NXPEASYCART_CUSTOMERS_TABLE_LAST","Last order")},d(c(ce.last_order)),9,sS)],2)}),128))])]),e.state.pagination.pages>1?(E(),S("div",iS,[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:y[1]||(y[1]=ce=>l(e.state.pagination.current-1))},"  ",8,aS),i("span",oS,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:y[2]||(y[2]=ce=>l(e.state.pagination.current+1))},"  ",8,rS)])):le("",!0)]),e.state.lastUpdated?(E(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:e.state.lastUpdated},d(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(x(e.state.lastUpdated)),9,lS)):le("",!0),e.state.activeCustomer?(E(),S("div",{key:1,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"customer-modal-title",onKeydown:St(M,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:M}),i("div",cS,[i("aside",dS,[i("header",uS,[i("h3",_S,d(e.state.activeCustomer.email),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:M,title:o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose"),"aria-label":o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")},[y[6]||(y[6]=i("i",{class:"fa-solid fa-circle-xmark"},null,-1)),i("span",fS,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_CLOSE","Close details",[],"customersDetailsClose")),1)],8,pS)]),i("section",mS,[i("h4",null,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SUMMARY","Summary",[],"customersDetailsSummary")),1),i("dl",hS,[i("div",null,[i("dt",null,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NAME","Name",[],"customersDetailsName")),1),i("dd",null,d((($=e.state.activeCustomer.meta)==null?void 0:$.name)||""),1)]),i("div",null,[i("dt",null,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_TOTAL","Total spent",[],"customersDetailsTotal")),1),i("dd",null,d(r(e.state.activeCustomer.total_spent_cents,e.state.activeCustomer.currency||e.baseCurrency)),1)]),i("div",null,[i("dt",null,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS","Orders",[],"customersDetailsOrders")),1),i("dd",null,d(e.state.activeCustomer.orders_count),1)]),i("div",null,[i("dt",null,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_LAST","Last order",[],"customersDetailsLast")),1),i("dd",null,d(c(e.state.activeCustomer.last_order)),1)])])]),i("div",gS,[i("section",ES,[i("h4",null,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_BILLING","Billing address",[],"customersDetailsBilling")),1),i("address",CS,[(E(!0),S(ve,null,we(u((L=e.state.activeCustomer.meta)==null?void 0:L.billing),ce=>(E(),S("span",{key:ce.key},d(ce.value),1))),128))])]),i("section",AS,[i("h4",null,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_SHIPPING","Shipping address",[],"customersDetailsShipping")),1),(V=e.state.activeCustomer.meta)!=null&&V.shipping?(E(),S("address",SS,[(E(!0),S(ve,null,we(u(e.state.activeCustomer.meta.shipping),ce=>(E(),S("span",{key:ce.key},d(ce.value),1))),128))])):(E(),S("p",bS,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_SHIPPING","No shipping address on file.",[],"customersDetailsNoShipping")),1))])]),i("section",TS,[i("h4",null,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_ORDERS_LIST","Recent orders",[],"customersDetailsOrdersList")),1),e.state.activeCustomer.orders&&e.state.activeCustomer.orders.length?(E(),S("ul",yS,[(E(!0),S(ve,null,we(e.state.activeCustomer.orders,ce=>(E(),S("li",{key:ce.id},[i("div",RS,d(ce.order_no)+"  "+d(r(ce.total_cents,ce.currency||e.baseCurrency)),1),i("div",OS,d(_(ce.state))+"  "+d(c(ce.created)),1)]))),128))])):(E(),S("p",xS,d(o(n)("COM_NXPEASYCART_CUSTOMERS_DETAILS_NO_ORDERS","No orders yet.",[],"customersDetailsNoOrders")),1))]),i("section",NS,[i("h4",null,d(o(n)("COM_NXPEASYCART_GDPR_TITLE","GDPR Actions",[],"gdprTitle")),1),i("p",vS,d(o(n)("COM_NXPEASYCART_GDPR_DESCRIPTION","Handle customer data requests under GDPR.",[],"gdprDescription")),1),i("div",PS,[i("button",{class:"nxp-ec-btn nxp-ec-btn--secondary",type:"button",onClick:y[3]||(y[3]=ce=>D(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:o(n)("COM_NXPEASYCART_GDPR_EXPORT_TOOLTIP","Download all customer data as JSON",[],"gdprExportTooltip")},[y[7]||(y[7]=i("i",{class:"fa-solid fa-download"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_GDPR_EXPORT","Export Data",[],"gdprExport")),1)],8,MS),i("button",{class:"nxp-ec-btn nxp-ec-btn--danger",type:"button",onClick:y[4]||(y[4]=ce=>k(e.state.activeCustomer.email)),disabled:e.state.gdprLoading,title:o(n)("COM_NXPEASYCART_GDPR_ANONYMISE_TOOLTIP","Permanently anonymise customer data (cannot be undone)",[],"gdprAnonymiseTooltip")},[y[8]||(y[8]=i("i",{class:"fa-solid fa-user-slash"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_GDPR_ANONYMISE","Anonymise",[],"gdprAnonymise")),1)],8,IS)]),e.state.gdprMessage?(E(),S("p",{key:0,class:Ye(["nxp-ec-gdpr-message",{"nxp-ec-gdpr-message--success":e.state.gdprSuccess}])},d(e.state.gdprMessage),3)):le("",!0)])])])],32)):le("",!0)]))])}}},[["__scopeId","data-v-2e6c67f3"]]),$S={class:"nxp-ec-admin-panel nxp-ec-admin-panel--coupons"},wS={class:"nxp-ec-admin-panel__header"},LS={class:"nxp-ec-admin-panel__title"},DS={class:"nxp-ec-admin-panel__lead"},YS={class:"nxp-ec-admin-panel__actions"},US=["placeholder","aria-label"],XS=["disabled","title","aria-label"],FS={class:"nxp-ec-sr-only"},GS={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},VS={key:1,class:"nxp-ec-admin-panel__loading"},HS={key:2,class:"nxp-ec-admin-panel__body"},BS={class:"nxp-ec-admin-panel__table"},KS={class:"nxp-ec-admin-table"},jS={scope:"col"},WS={scope:"col"},JS={scope:"col"},qS={scope:"col"},zS={scope:"col"},QS={scope:"col"},ZS={key:0},eb={colspan:"7"},tb={scope:"row",class:"nxp-ec-admin-table__primary"},nb=["data-label"],sb=["data-label"],ib=["data-label"],ab=["data-label"],ob=["data-label"],rb={class:"nxp-ec-admin-table__actions"},lb=["onClick","title","aria-label"],cb={class:"nxp-ec-sr-only"},db=["onClick","title","aria-label"],ub={class:"nxp-ec-sr-only"},_b=["aria-label"],pb=["disabled","aria-label"],fb={class:"nxp-ec-admin-pagination__status","aria-current":"page"},mb=["disabled","aria-label"],hb={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},gb={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},Eb={class:"nxp-ec-admin-panel__sidebar-header"},Cb={id:"coupon-modal-title"},Ab=["title","aria-label"],Sb={class:"nxp-ec-sr-only"},bb={class:"nxp-ec-form-field"},Tb={class:"nxp-ec-form-label",for:"coupon-code"},yb={class:"nxp-ec-form-field"},Rb={class:"nxp-ec-form-label",for:"coupon-type"},Ob={value:"percent"},xb={value:"fixed"},Nb={class:"nxp-ec-form-field"},vb={class:"nxp-ec-form-label",for:"coupon-value"},Pb={class:"nxp-ec-form-field"},Mb={class:"nxp-ec-form-label",for:"coupon-min-total"},Ib={class:"nxp-ec-form-field"},kb={class:"nxp-ec-form-label",for:"coupon-start"},$b={class:"nxp-ec-form-field"},wb={class:"nxp-ec-form-label",for:"coupon-end"},Lb={class:"nxp-ec-form-field"},Db={class:"nxp-ec-form-label",for:"coupon-max-uses"},Yb={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Ub={class:"nxp-ec-form-label",for:"coupon-active"},Xb={class:"nxp-ec-modal__actions"},Fb=["disabled"],Gb=["disabled"],Vb=["disabled"],Hb=Ot({__name:"CouponsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","search","page","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Te(()=>(s.baseCurrency||"USD").toUpperCase()),c=Ke({open:!1,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0}),u=Te(()=>c.open),_=()=>a("refresh"),p=()=>a("search"),f=$=>a("page",$),l=()=>{Object.assign(c,{open:!0,id:null,code:"",type:"percent",value:0,min_total:0,start:"",end:"",max_uses:null,active:!0})},b=$=>{var L,V;Object.assign(c,{open:!0,id:$.id,code:$.code,type:$.type,value:$.value,min_total:(V=$.min_total)!=null?V:((L=$.min_total_cents)!=null?L:0)/100,start:$.start?$.start.substring(0,10):"",end:$.end?$.end.substring(0,10):"",max_uses:$.max_uses,active:$.active})},M=()=>{c.open=!1},D=()=>{const $={id:c.id||void 0,code:c.code,type:c.type,value:c.value,min_total:c.min_total||0,start:c.start||null,end:c.end||null,max_uses:c.max_uses!==null&&c.max_uses!==""?c.max_uses:null,active:c.active};a("save",$)},k=$=>{const L=n("COM_NXPEASYCART_COUPONS_DELETE_CONFIRM","Delete this coupon?");window.confirm(L)&&(a("delete",[$.id]),c.id===$.id&&M())},x=($,L)=>{const V=(Number($)||0)/100,ce=(L||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:ce}).format(V)}catch(Z){return`${ce} ${V.toFixed(2)}`}},T=$=>$.type==="percent"?`${$.value}%`:x($.value*100,r.value),y=$=>$==="fixed"?n("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed"):n("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent");return Qe(()=>s.state.saving,($,L)=>{L&&!$&&!s.state.error&&c.open&&M()}),($,L)=>(E(),S("section",$S,[i("header",wS,[i("div",null,[i("h2",LS,d(o(n)("COM_NXPEASYCART_MENU_COUPONS","Coupons",[],"couponsPanelTitle")),1),i("p",DS,d(o(n)("COM_NXPEASYCART_COUPONS_LEAD","Create promotional codes for discounts.",[],"couponsPanelLead")),1)]),i("div",YS,[K(i("input",{type:"search",class:"nxp-ec-admin-search",placeholder:o(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder"),"onUpdate:modelValue":L[0]||(L[0]=V=>e.state.search=V),onKeyup:St(p,["enter"]),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_SEARCH_PLACEHOLDER","Search coupons",[],"couponsSearchPlaceholder")},null,40,US),[[Ae,e.state.search]]),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[L[12]||(L[12]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",FS,d(o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,XS),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:l},[L[13]||(L[13]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1)])])]),e.state.error?(E(),S("div",GS,d(e.state.error),1)):le("",!0),e.state.loading?(E(),S("div",VS,d(o(n)("COM_NXPEASYCART_COUPONS_LOADING","Loading coupons",[],"couponsLoading")),1)):le("",!0),e.state.loading?le("",!0):(E(),S("div",HS,[i("div",BS,[i("table",KS,[i("thead",null,[i("tr",null,[i("th",jS,d(o(n)("COM_NXPEASYCART_COUPONS_TABLE_CODE","Code",[],"couponsTableCode")),1),i("th",WS,d(o(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type",[],"couponsTableType")),1),i("th",JS,d(o(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value",[],"couponsTableValue")),1),i("th",qS,d(o(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order",[],"couponsTableMinTotal")),1),i("th",zS,d(o(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active",[],"couponsTableActive")),1),i("th",QS,d(o(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage",[],"couponsTableUsage")),1),L[14]||(L[14]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?le("",!0):(E(),S("tr",ZS,[i("td",eb,d(o(n)("COM_NXPEASYCART_COUPONS_EMPTY","No coupons configured yet.",[],"couponsEmpty")),1)])),(E(!0),S(ve,null,we(e.state.items,V=>(E(),S("tr",{key:V.id,class:Ye({"is-active":c.id===V.id})},[i("th",tb,d(V.code),1),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_TYPE","Type")},d(y(V.type)),9,nb),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_VALUE","Value")},d(T(V)),9,sb),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_MIN_TOTAL","Min. order")},d(x(V.min_total_cents,r.value)),9,ib),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_ACTIVE","Active")},[i("span",{class:Ye(["nxp-ec-badge",{"is-active":V.active}])},[i("i",{class:Ye(V.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ke(" "+d(V.active?o(n)("JYES","Yes"):o(n)("JNO","No")),1)],2)],8,ab),i("td",{"data-label":o(n)("COM_NXPEASYCART_COUPONS_TABLE_USAGE","Usage")},d(V.times_used)+d(V.max_uses?` / ${V.max_uses}`:""),9,ob),i("td",rb,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:ce=>b(V),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[L[15]||(L[15]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",cb,d(o(n)("JEDIT","Edit")),1)],8,lb),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:ce=>k(V),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[L[16]||(L[16]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",ub,d(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,db)])],2))),128))])]),e.state.pagination.pages>1?(E(),S("nav",{key:0,class:"nxp-ec-admin-pagination","aria-label":o(n)("COM_NXPEASYCART_PAGINATION","Pagination")},[i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current<=1,onClick:L[1]||(L[1]=V=>f(e.state.pagination.current-1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_PREV","Previous page")},"  ",8,pb),i("span",fb,d(e.state.pagination.current)+" / "+d(e.state.pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:e.state.pagination.current>=e.state.pagination.pages,onClick:L[2]||(L[2]=V=>f(e.state.pagination.current+1)),"aria-label":o(n)("COM_NXPEASYCART_PAGINATION_NEXT","Next page")},"  ",8,mb)],8,_b)):le("",!0)]),u.value?(E(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"coupon-modal-title",onKeydown:St(M,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:M}),i("div",hb,[i("aside",gb,[i("header",Eb,[i("h3",Cb,d(c.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_COUPONS_ADD","Add coupon",[],"couponsAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:M,title:o(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose"),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")},[L[17]||(L[17]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",Sb,d(o(n)("COM_NXPEASYCART_COUPONS_DETAILS_CLOSE","Close",[],"couponsDetailsClose")),1)],8,Ab)]),i("form",{class:"nxp-ec-form",onSubmit:vt(D,["prevent"]),autocomplete:"off"},[i("div",bb,[i("label",Tb,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_CODE","Coupon code",[],"couponsFormCode")),1),K(i("input",{id:"coupon-code",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":L[3]||(L[3]=V=>c.code=V),required:"",maxlength:"64"},null,512),[[Ae,c.code,void 0,{trim:!0}]])]),i("div",yb,[i("label",Rb,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE","Discount type",[],"couponsFormType")),1),K(i("select",{id:"coupon-type",class:"nxp-ec-form-select","onUpdate:modelValue":L[4]||(L[4]=V=>c.type=V)},[i("option",Ob,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_PERCENT","Percent",[],"couponsFormTypePercent")),1),i("option",xb,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_TYPE_FIXED","Fixed amount",[],"couponsFormTypeFixed")),1)],512),[[At,c.type]])]),i("div",Nb,[i("label",vb,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_VALUE","Discount value",[],"couponsFormValue")),1),K(i("input",{id:"coupon-value",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":L[5]||(L[5]=V=>c.value=V),required:""},null,512),[[Ae,c.value,void 0,{number:!0}]])]),i("div",Pb,[i("label",Mb,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_MIN_TOTAL","Minimum order total",[],"couponsFormMinTotal")),1),K(i("input",{id:"coupon-min-total",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":L[6]||(L[6]=V=>c.min_total=V)},null,512),[[Ae,c.min_total,void 0,{number:!0}]])]),i("div",Ib,[i("label",kb,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_START","Start date",[],"couponsFormStart")),1),K(i("input",{id:"coupon-start",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":L[7]||(L[7]=V=>c.start=V)},null,512),[[Ae,c.start]])]),i("div",$b,[i("label",wb,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_END","End date",[],"couponsFormEnd")),1),K(i("input",{id:"coupon-end",class:"nxp-ec-form-input",type:"date","onUpdate:modelValue":L[8]||(L[8]=V=>c.end=V)},null,512),[[Ae,c.end]])]),i("div",Lb,[i("label",Db,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_MAX_USES","Maximum uses",[],"couponsFormMaxUses")),1),K(i("input",{id:"coupon-max-uses",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":L[9]||(L[9]=V=>c.max_uses=V)},null,512),[[Ae,c.max_uses,void 0,{number:!0}]])]),i("div",Yb,[i("label",Ub,d(o(n)("COM_NXPEASYCART_COUPONS_FORM_ACTIVE","Active",[],"couponsFormActive")),1),K(i("input",{id:"coupon-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":L[10]||(L[10]=V=>c.active=V)},null,512),[[_t,c.active]])]),i("footer",Xb,[i("button",{class:"nxp-ec-btn",type:"button",onClick:M,disabled:e.state.saving},d(o(n)("COM_NXPEASYCART_COUPONS_FORM_CANCEL","Cancel",[],"couponsFormCancel")),9,Fb),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_COUPONS_FORM_SAVE","Save coupon",[],"couponsFormSave")),9,Gb)]),c.id?(E(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:L[11]||(L[11]=V=>k(c)),disabled:e.state.saving},[L[18]||(L[18]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Vb)):le("",!0)],32)])])],32)):le("",!0)]))]))}},[["__scopeId","data-v-768a321c"]]),Bb={class:"nxp-ec-admin-panel nxp-ec-admin-panel--settings"},Kb={class:"nxp-ec-admin-panel__header"},jb={class:"nxp-ec-admin-panel__title"},Wb={class:"nxp-ec-admin-panel__lead"},Jb={class:"nxp-ec-settings-tabs"},qb={key:0,class:"nxp-ec-settings-panel"},zb={class:"nxp-ec-settings-panel__header"},Qb=["disabled"],Zb={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},eT={key:1,class:"nxp-ec-admin-panel__loading"},tT={class:"nxp-ec-form-field"},nT={class:"nxp-ec-form-label",for:"settings-store-name"},sT={class:"nxp-ec-form-field"},iT={class:"nxp-ec-form-label",for:"settings-store-email"},aT={class:"nxp-ec-form-field"},oT={class:"nxp-ec-form-label",for:"settings-store-phone"},rT={class:"nxp-ec-form-field"},lT={class:"nxp-ec-form-label",for:"settings-base-currency"},cT=["value"],dT={class:"nxp-ec-form-help"},uT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},_T={class:"nxp-ec-form-label",for:"settings-checkout-phone-required"},pT={class:"nxp-ec-form-help"},fT={class:"nxp-ec-form-field"},mT={class:"nxp-ec-form-label",for:"settings-display-locale"},hT={class:"nxp-ec-form-help"},gT={class:"nxp-ec-form-field"},ET={class:"nxp-ec-form-label",for:"settings-category-page-size"},CT={class:"nxp-ec-form-help"},AT={class:"nxp-ec-form-field"},ST={class:"nxp-ec-form-label",for:"settings-category-pagination-mode"},bT={value:"paged"},TT={value:"infinite"},yT={class:"nxp-ec-form-help"},RT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},OT={class:"nxp-ec-form-label",for:"settings-auto-send-order-emails"},xT={class:"nxp-ec-form-help"},NT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vT={class:"nxp-ec-form-label",for:"settings-stale-order-cleanup-enabled"},PT={class:"nxp-ec-form-help"},MT={key:0,class:"nxp-ec-form-field"},IT={class:"nxp-ec-form-label",for:"settings-stale-order-hours"},kT={class:"nxp-ec-form-help"},$T={class:"nxp-ec-form-field nxp-ec-form-field--inline"},wT={class:"nxp-ec-form-label",for:"settings-show-advanced-mode"},LT={class:"nxp-ec-form-help"},DT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},YT={class:"nxp-ec-settings-actions"},UT=["disabled"],XT=["disabled"],FT={key:1,class:"nxp-ec-settings-panel"},GT={class:"nxp-ec-settings-panel__header"},VT=["disabled"],HT={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},BT={key:1,class:"nxp-ec-admin-panel__loading"},KT={class:"nxp-ec-form-grid"},jT={class:"nxp-ec-form-field"},WT={class:"nxp-ec-form-label",for:"settings-digital-max"},JT={class:"nxp-ec-form-help"},qT={class:"nxp-ec-form-field"},zT={class:"nxp-ec-form-label",for:"settings-digital-expiry"},QT={class:"nxp-ec-form-help"},ZT={class:"nxp-ec-form-field nxp-ec-form-field--inline"},ey={class:"nxp-ec-form-label",for:"settings-digital-fulfill"},ty={class:"nxp-ec-form-help"},ny={class:"nxp-ec-form-field"},sy={class:"nxp-ec-form-label",for:"settings-digital-max-size"},iy={class:"nxp-ec-form-help"},ay={class:"nxp-ec-form-field"},oy={class:"nxp-ec-form-label",for:"settings-digital-storage"},ry={class:"nxp-ec-form-help"},ly={class:"nxp-ec-form-section"},cy={class:"nxp-ec-form-section__title"},dy={class:"nxp-ec-form-help",style:{"margin-bottom":"1rem"}},uy={class:"nxp-ec-filetypes-actions"},_y={class:"nxp-ec-filetypes-grid"},py={class:"nxp-ec-filetypes-category__title"},fy={class:"nxp-ec-filetypes-category__list"},my=["value"],hy={class:"nxp-ec-filetypes-item__label"},gy={class:"nxp-ec-form-field",style:{"margin-top":"1.5rem"}},Ey={class:"nxp-ec-form-label",for:"settings-digital-custom-ext"},Cy={class:"nxp-ec-form-help nxp-ec-form-help--warning"},Ay={class:"nxp-ec-settings-actions"},Sy=["disabled"],by={key:2,class:"nxp-ec-settings-panel"},Ty={class:"nxp-ec-settings-panel__header"},yy=["disabled"],Ry={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},Oy={class:"nxp-ec-form-help"},xy={class:"nxp-ec-form-grid"},Ny={class:"nxp-ec-form-field"},vy={class:"nxp-ec-form-label",for:"settings-checkout-window"},Py={class:"nxp-ec-form-help"},My={class:"nxp-ec-form-field"},Iy={class:"nxp-ec-form-label",for:"settings-offline-window"},ky={class:"nxp-ec-form-help"},$y={class:"nxp-ec-form-grid"},wy={class:"nxp-ec-form-field"},Ly={class:"nxp-ec-form-label",for:"settings-checkout-ip-limit"},Dy={class:"nxp-ec-form-field"},Yy={class:"nxp-ec-form-label",for:"settings-checkout-email-limit"},Uy={class:"nxp-ec-form-field"},Xy={class:"nxp-ec-form-label",for:"settings-checkout-session-limit"},Fy={class:"nxp-ec-form-grid"},Gy={class:"nxp-ec-form-field"},Vy={class:"nxp-ec-form-label",for:"settings-offline-ip-limit"},Hy={class:"nxp-ec-form-field"},By={class:"nxp-ec-form-label",for:"settings-offline-email-limit"},Ky={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},jy={class:"nxp-ec-settings-actions"},Wy=["disabled"],Jy=["disabled"],qy={key:3,class:"nxp-ec-settings-panel"},zy={class:"nxp-ec-settings-panel__header"},Qy={class:"nxp-ec-settings-actions"},Zy=["disabled"],eR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},tR={key:1,class:"nxp-ec-admin-panel__loading"},nR={class:"nxp-ec-form-field"},sR={class:"nxp-ec-form-label",for:"nxp-ec-stripe-publishable"},iR={class:"nxp-ec-form-field"},aR={class:"nxp-ec-form-label",for:"nxp-ec-stripe-secret"},oR={class:"nxp-ec-form-field"},rR={class:"nxp-ec-form-label",for:"nxp-ec-stripe-webhook"},lR={class:"nxp-ec-form-help"},cR={class:"nxp-ec-form-field"},dR={class:"nxp-ec-form-label",for:"nxp-ec-stripe-mode"},uR={value:"test"},_R={value:"live"},pR={class:"nxp-ec-form-field"},fR={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-id"},mR={class:"nxp-ec-form-field"},hR={class:"nxp-ec-form-label",for:"nxp-ec-paypal-client-secret"},gR={class:"nxp-ec-form-field"},ER={class:"nxp-ec-form-label",for:"nxp-ec-paypal-webhook-id"},CR={class:"nxp-ec-form-help"},AR={class:"nxp-ec-form-field"},SR={class:"nxp-ec-form-label",for:"nxp-ec-paypal-mode"},bR={value:"sandbox"},TR={value:"live"},yR={class:"nxp-ec-form-field nxp-ec-form-field--inline"},RR={class:"nxp-ec-form-label",for:"nxp-ec-cod-enabled"},OR={class:"nxp-ec-form-field"},xR={class:"nxp-ec-form-label",for:"nxp-ec-cod-label"},NR={class:"nxp-ec-form-field nxp-ec-form-field--inline"},vR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-enabled"},PR={class:"nxp-ec-form-field"},MR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-label"},IR={class:"nxp-ec-form-field"},kR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-instructions"},$R=["placeholder"],wR={class:"nxp-ec-form-help"},LR={class:"nxp-ec-form-grid"},DR={class:"nxp-ec-form-field"},YR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-account-name"},UR={class:"nxp-ec-form-field"},XR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-iban"},FR={class:"nxp-ec-form-field"},GR={class:"nxp-ec-form-label",for:"nxp-ec-bank-transfer-bic"},VR={class:"nxp-ec-form-field nxp-ec-form-field--inline"},HR={class:"nxp-ec-form-label",for:"settings-payments-configured"},BR={class:"nxp-ec-form-help"},KR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},jR={class:"nxp-ec-settings-actions"},WR=["disabled"],JR=["disabled"],qR={key:4,class:"nxp-ec-settings-panel"},zR={class:"nxp-ec-settings-panel__header"},QR=["disabled"],ZR={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},eO={key:1,class:"nxp-ec-admin-panel__loading"},tO={class:"nxp-ec-form-help"},nO={class:"nxp-ec-form-help nxp-ec-form-help--muted"},sO={class:"nxp-ec-visual-grid"},iO={class:"nxp-ec-visual-field"},aO={class:"nxp-ec-form-label",for:"visual-primary-color"},oO={class:"nxp-ec-color-input-group"},rO=["value"],lO=["placeholder"],cO={class:"nxp-ec-visual-field"},dO={class:"nxp-ec-form-label",for:"visual-text-color"},uO={class:"nxp-ec-color-input-group"},_O=["value"],pO=["placeholder"],fO={class:"nxp-ec-visual-field"},mO={class:"nxp-ec-form-label",for:"visual-surface-color"},hO={class:"nxp-ec-color-input-group"},gO=["value"],EO=["placeholder"],CO={class:"nxp-ec-visual-field"},AO={class:"nxp-ec-form-label",for:"visual-border-color"},SO={class:"nxp-ec-color-input-group"},bO=["value"],TO=["placeholder"],yO={class:"nxp-ec-visual-field"},RO={class:"nxp-ec-form-label",for:"visual-muted-color"},OO={class:"nxp-ec-color-input-group"},xO=["value"],NO=["placeholder"],vO={class:"nxp-ec-visual-preview"},PO={type:"button",class:"nxp-ec-preview-btn"},MO={class:"nxp-ec-preview-text"},IO={class:"nxp-ec-preview-muted"},kO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--success"},$O={class:"nxp-ec-settings-actions"},wO=["disabled"],LO=["disabled"],DO=Ot({__name:"SettingsPanel",props:{settingsState:{type:Object,required:!0},paymentsState:{type:Object,default:()=>({loading:!1,saving:!1,error:"",message:"",config:{stripe:{},paypal:{}}})},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"},initialTab:{type:String,default:"general"}},emits:["refresh-settings","save-settings","refresh-payments","save-payments"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=s.settingsState,c=s.paymentsState,_=We(["general","digital","security","payments","visual"].includes(s.initialTab)?s.initialTab:"general");Te(()=>{var fe;const m=s.baseCurrency||"USD",g=typeof p.baseCurrency=="string"?p.baseCurrency.trim():"",C=typeof((fe=r==null?void 0:r.values)==null?void 0:fe.base_currency)=="string"?r.values.base_currency.trim():"";return(g!==""?g:C!==""?C:m).toUpperCase()});const p=Ke({storeName:"",storeEmail:"",storePhone:"",checkoutPhoneRequired:!1,paymentsConfigured:!1,autoSendOrderEmails:!1,baseCurrency:"",displayLocale:"",categoryPageSize:12,categoryPaginationMode:"paged",staleOrderCleanupEnabled:!1,staleOrderHours:48,showAdvancedMode:!1,digitalMaxDownloads:5,digitalExpiryDays:30,digitalStoragePath:"",digitalAutoFulfill:!0,digitalMaxFileSize:200,digitalAllowedExtensions:[],digitalCustomExtensions:""}),f=We({archives:["zip","rar","7z","tar","gz","tgz"],audio:["mp3","wav","flac"],video:["mp4","webm","mov","avi","mkv"],images:["jpg","jpeg","png","gif","svg","webp","avif"],documents:["pdf","txt","rtf","doc","docx","xls","xlsx","ppt","pptx","odt","ods","odp","csv"],ebooks:["epub","mobi"],installers:["exe","msi","deb","rpm","dmg","app","pkg","apk","ipa"]}),l=()=>Object.values(f.value).flat(),b=m=>{var fe,Se;const g=(fe=m==null?void 0:m.digital)!=null?fe:{},C=(Se=g.file_type_categories)!=null?Se:f.value;if(Array.isArray(g.allowed_extensions))return[...g.allowed_extensions];const pe=[];for(const[Oe,Le]of Object.entries(C))Oe!=="installers"&&pe.push(...Le);return pe},M=m=>{var C;return(C={archives:"Archives",audio:"Audio",video:"Video",images:"Images",documents:"Documents",ebooks:"E-books",installers:"Installers"}[m])!=null?C:m.charAt(0).toUpperCase()+m.slice(1)},D=()=>{p.digitalAllowedExtensions=l()},k=()=>{p.digitalAllowedExtensions=[]},x=Ke({checkoutWindowMinutes:15,checkoutIpLimit:10,checkoutEmailLimit:5,checkoutSessionLimit:15,offlineWindowMinutes:240,offlineIpLimit:10,offlineEmailLimit:5}),T=Ke({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}}),y=Ke({primaryColor:"",textColor:"",surfaceColor:"",borderColor:"",mutedColor:""}),$=Te(()=>{var g,C;const m=(C=(g=r.values)==null?void 0:g.visual_defaults)!=null?C:{};return{primary:m.primary_color||"#4f6d7a",text:m.text_color||"#1f2933",surface:m.surface_color||"#ffffff",border:m.border_color||"#e4e7ec",muted:m.muted_color||"#6b7280"}}),L=Te(()=>{var m,g;return(g=(m=r.values)==null?void 0:m.currencies)!=null?g:[]}),V=Te(()=>({"--nxp-ec-color-primary":y.primaryColor||$.value.primary,"--nxp-ec-color-text":y.textColor||$.value.text,"--nxp-ec-color-surface":y.surfaceColor||$.value.surface,"--nxp-ec-color-border":y.borderColor||$.value.border,"--nxp-ec-color-muted":y.mutedColor||$.value.muted})),ce=(m={})=>{var Se,Oe,Le,$e,Be,ot,A,N,U,ee,W,q,ue,ne,se,j,O,R,G,Q;const g=(Se=m==null?void 0:m.store)!=null?Se:{},C=(Oe=m==null?void 0:m.payments)!=null?Oe:{},pe=(Le=m==null?void 0:m.visual)!=null?Le:{},fe=(Be=($e=m==null?void 0:m.security)==null?void 0:$e.rate_limits)!=null?Be:{};Object.assign(p,{storeName:(ot=g.name)!=null?ot:"",storeEmail:(A=g.email)!=null?A:"",storePhone:(N=g.phone)!=null?N:"",checkoutPhoneRequired:!!((U=m==null?void 0:m.checkout_phone_required)!=null&&U),paymentsConfigured:!!C.configured,autoSendOrderEmails:!!((ee=m==null?void 0:m.auto_send_order_emails)!=null&&ee),baseCurrency:typeof(m==null?void 0:m.base_currency)=="string"?m.base_currency.trim().toUpperCase():(s.baseCurrency||"USD").toUpperCase(),displayLocale:typeof(m==null?void 0:m.display_locale)=="string"?m.display_locale.trim():"",categoryPageSize:Number.isFinite(Number(m==null?void 0:m.category_page_size))?Number(m.category_page_size):12,categoryPaginationMode:(m==null?void 0:m.category_pagination_mode)==="infinite"?"infinite":"paged",staleOrderCleanupEnabled:!!((W=m==null?void 0:m.stale_order_cleanup_enabled)!=null&&W),staleOrderHours:Number.isFinite(Number(m==null?void 0:m.stale_order_hours))?Math.max(1,Math.min(720,Number(m.stale_order_hours))):48,showAdvancedMode:!!((q=m==null?void 0:m.show_advanced_mode)!=null&&q),digitalMaxDownloads:Number.isFinite(Number(m==null?void 0:m.digital_download_max))?Math.max(0,Number(m.digital_download_max)):5,digitalExpiryDays:Number.isFinite(Number(m==null?void 0:m.digital_download_expiry))?Math.max(0,Number(m.digital_download_expiry)):30,digitalStoragePath:typeof(m==null?void 0:m.digital_storage_path)=="string"?m.digital_storage_path:"",digitalAutoFulfill:!!((ue=m==null?void 0:m.digital_auto_fulfill)==null||ue),digitalMaxFileSize:Number.isFinite(Number(m==null?void 0:m.digital_max_file_size))?Math.max(1,Math.min(2048,Number(m.digital_max_file_size))):200,digitalAllowedExtensions:b(m),digitalCustomExtensions:typeof((ne=m==null?void 0:m.digital)==null?void 0:ne.custom_extensions)=="string"?m.digital.custom_extensions:""}),(se=m==null?void 0:m.digital)!=null&&se.file_type_categories&&(f.value=m.digital.file_type_categories),Object.assign(y,{primaryColor:(j=pe.primary_color)!=null?j:"",textColor:(O=pe.text_color)!=null?O:"",surfaceColor:(R=pe.surface_color)!=null?R:"",borderColor:(G=pe.border_color)!=null?G:"",mutedColor:(Q=pe.muted_color)!=null?Q:""}),Object.assign(x,{checkoutWindowMinutes:Number.isFinite(Number(fe.checkout_window_minutes))?Number(fe.checkout_window_minutes):15,checkoutIpLimit:Number.isFinite(Number(fe.checkout_ip_limit))?Number(fe.checkout_ip_limit):10,checkoutEmailLimit:Number.isFinite(Number(fe.checkout_email_limit))?Number(fe.checkout_email_limit):5,checkoutSessionLimit:Number.isFinite(Number(fe.checkout_session_limit))?Number(fe.checkout_session_limit):15,offlineWindowMinutes:Number.isFinite(Number(fe.offline_window_minutes))?Number(fe.offline_window_minutes):240,offlineIpLimit:Number.isFinite(Number(fe.offline_ip_limit))?Number(fe.offline_ip_limit):10,offlineEmailLimit:Number.isFinite(Number(fe.offline_email_limit))?Number(fe.offline_email_limit):5})},Z=(m={})=>{var Se,Oe,Le,$e,Be,ot,A,N,U,ee,W,q,ue,ne,se,j,O,R,G,Q,w,xe,B,ie;const g=(Se=m.stripe)!=null?Se:{},C=(Oe=m.paypal)!=null?Oe:{},pe=(Le=m.cod)!=null?Le:{},fe=($e=m.bank_transfer)!=null?$e:{};Object.assign(T.stripe,{publishable_key:(Be=g.publishable_key)!=null?Be:"",secret_key:(ot=g.secret_key)!=null?ot:"",webhook_secret:(A=g.webhook_secret)!=null?A:"",mode:(N=g.mode)!=null?N:"test"}),Object.assign(T.paypal,{client_id:(U=C.client_id)!=null?U:"",client_secret:(ee=C.client_secret)!=null?ee:"",webhook_id:(W=C.webhook_id)!=null?W:"",mode:(q=C.mode)!=null?q:"sandbox"}),Object.assign(T.cod,{enabled:pe.enabled!==void 0?!!pe.enabled:T.cod.enabled,label:(ne=(ue=pe.label)!=null?ue:T.cod.label)!=null?ne:"Cash on delivery"}),Object.assign(T.bank_transfer,{enabled:fe.enabled!==void 0?!!fe.enabled:T.bank_transfer.enabled,label:(j=(se=fe.label)!=null?se:T.bank_transfer.label)!=null?j:"Bank transfer",instructions:(R=(O=fe.instructions)!=null?O:T.bank_transfer.instructions)!=null?R:"",account_name:(Q=(G=fe.account_name)!=null?G:T.bank_transfer.account_name)!=null?Q:"",iban:(xe=(w=fe.iban)!=null?w:T.bank_transfer.iban)!=null?xe:"",bic:(ie=(B=fe.bic)!=null?B:T.bank_transfer.bic)!=null?ie:""})};Qe(()=>r.values,m=>{ce(m!=null?m:{})},{immediate:!0});const v=()=>a("refresh-settings"),ge=()=>{const m=(p.baseCurrency||"").trim().toUpperCase(),g=(p.displayLocale||"").trim();a("save-settings",{store:{name:p.storeName,email:p.storeEmail,phone:p.storePhone,base_currency:m},payments:{configured:p.paymentsConfigured},base_currency:m,display_locale:g,checkout_phone_required:p.checkoutPhoneRequired,auto_send_order_emails:p.autoSendOrderEmails,category_page_size:Number.isFinite(Number(p.categoryPageSize))?Number(p.categoryPageSize):12,category_pagination_mode:p.categoryPaginationMode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!p.staleOrderCleanupEnabled,stale_order_hours:Number.isFinite(Number(p.staleOrderHours))?Math.max(1,Math.min(720,Number(p.staleOrderHours))):48,show_advanced_mode:!!p.showAdvancedMode})},X=()=>{var m;ce((m=r.values)!=null?m:{})},F=()=>{const m=Number.isFinite(Number(p.digitalMaxDownloads))?Math.max(0,Number(p.digitalMaxDownloads)):0,g=Number.isFinite(Number(p.digitalExpiryDays))?Math.max(0,Number(p.digitalExpiryDays)):0,C=(p.digitalStoragePath||"").trim(),pe=Number.isFinite(Number(p.digitalMaxFileSize))?Math.max(1,Math.min(2048,Number(p.digitalMaxFileSize))):200,fe=l(),Se=p.digitalAllowedExtensions||[],Le=fe.length===Se.length&&fe.every(Be=>Se.includes(Be))?null:[...Se],$e=(p.digitalCustomExtensions||"").trim();a("save-settings",{digital:{max_downloads:m,expiry_days:g,storage_path:C,auto_fulfill:!!p.digitalAutoFulfill,max_file_size:pe,allowed_extensions:Le,custom_extensions:$e}})},z=()=>{var m;ce((m=r.values)!=null?m:{})},me=()=>{const m=(g,C=0)=>{const pe=Number(g);return Number.isFinite(pe)&&pe>=0?pe:C};a("save-settings",{security:{rate_limits:{checkout_window_minutes:m(x.checkoutWindowMinutes,15),checkout_ip_limit:m(x.checkoutIpLimit,10),checkout_email_limit:m(x.checkoutEmailLimit,5),checkout_session_limit:m(x.checkoutSessionLimit,15),offline_window_minutes:m(x.offlineWindowMinutes,240),offline_ip_limit:m(x.offlineIpLimit,10),offline_email_limit:m(x.offlineEmailLimit,5)}}})},Re=()=>{var m;ce((m=r.values)!=null?m:{})};Qe(()=>r.saving,(m,g)=>{var C;g&&!m&&!r.error&&ce((C=r.values)!=null?C:{})}),Qe(()=>c.config,m=>{Z(m!=null?m:{})},{immediate:!0}),Qe(()=>c.saving,(m,g)=>{var C;g&&!m&&!c.error&&Z((C=c.config)!=null?C:{})});const de=()=>a("refresh-payments"),Ce=()=>{const m=JSON.parse(JSON.stringify(T));a("save-payments",m),a("save-settings",{payments:{configured:p.paymentsConfigured}})},oe=()=>{var m;Z((m=c.config)!=null?m:{})},re=()=>a("refresh-settings"),ae=()=>{a("save-settings",{visual:{primary_color:y.primaryColor,text_color:y.textColor,surface_color:y.surfaceColor,border_color:y.borderColor,muted_color:y.mutedColor}})},Ne=()=>{var g,C,pe,fe,Se,Oe,Le;const m=(C=(g=r.values)==null?void 0:g.visual)!=null?C:{};Object.assign(y,{primaryColor:(pe=m.primary_color)!=null?pe:"",textColor:(fe=m.text_color)!=null?fe:"",surfaceColor:(Se=m.surface_color)!=null?Se:"",borderColor:(Oe=m.border_color)!=null?Oe:"",mutedColor:(Le=m.muted_color)!=null?Le:""})};return(m,g)=>(E(),S("section",Bb,[i("header",Kb,[i("div",null,[i("h2",jb,d(o(n)("COM_NXPEASYCART_MENU_SETTINGS","Settings",[],"settingsPanelTitle")),1),i("p",Wb,d(o(n)("COM_NXPEASYCART_SETTINGS_LEAD","Configure payments, security, and store defaults.",[],"settingsPanelLead")),1)])]),i("nav",Jb,[i("button",{type:"button",class:Ye(["nxp-ec-settings-tab",{"is-active":_.value==="general"}]),onClick:g[0]||(g[0]=C=>_.value="general")},d(o(n)("COM_NXPEASYCART_SETTINGS_TAB_GENERAL","General",[],"settingsTabGeneral")),3),i("button",{type:"button",class:Ye(["nxp-ec-settings-tab",{"is-active":_.value==="digital"}]),onClick:g[1]||(g[1]=C=>_.value="digital")},d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital")),3),p.showAdvancedMode?(E(),S("button",{key:0,type:"button",class:Ye(["nxp-ec-settings-tab",{"is-active":_.value==="security"}]),onClick:g[2]||(g[2]=C=>_.value="security")},d(o(n)("COM_NXPEASYCART_SETTINGS_TAB_SECURITY","Security",[],"settingsTabSecurity")),3)):le("",!0),i("button",{type:"button",class:Ye(["nxp-ec-settings-tab",{"is-active":_.value==="payments"}]),onClick:g[3]||(g[3]=C=>_.value="payments")},d(o(n)("COM_NXPEASYCART_SETTINGS_TAB_PAYMENTS","Payments",[],"settingsTabPayments")),3),i("button",{type:"button",class:Ye(["nxp-ec-settings-tab",{"is-active":_.value==="visual"}]),onClick:g[4]||(g[4]=C=>_.value="visual")},d(o(n)("COM_NXPEASYCART_SETTINGS_TAB_VISUAL","Visual",[],"settingsTabVisual")),3)]),_.value==="general"?(E(),S("div",qb,[i("header",zb,[i("h3",null,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_TITLE","Store defaults",[],"settingsGeneralTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:v,disabled:o(r).loading},d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh",[],"settingsGeneralRefresh")),9,Qb)]),o(r).error?(E(),S("div",Zb,d(o(r).error),1)):o(r).loading?(E(),S("div",eT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings",[],"settingsGeneralLoading")),1)):(E(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:vt(ge,["prevent"])},[i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_INFO","Store Information",[],"settingsGeneralStoreInfo")),1),i("div",tT,[i("label",nT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_NAME","Store name",[],"settingsGeneralStoreName")),1),K(i("input",{id:"settings-store-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[5]||(g[5]=C=>p.storeName=C),maxlength:"190"},null,512),[[Ae,p.storeName,void 0,{trim:!0}]])]),i("div",sT,[i("label",iT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_EMAIL","Support email",[],"settingsGeneralStoreEmail")),1),K(i("input",{id:"settings-store-email",class:"nxp-ec-form-input",type:"email","onUpdate:modelValue":g[6]||(g[6]=C=>p.storeEmail=C)},null,512),[[Ae,p.storeEmail,void 0,{trim:!0}]])]),i("div",aT,[i("label",oT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STORE_PHONE","Support phone",[],"settingsGeneralStorePhone")),1),K(i("input",{id:"settings-store-phone",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[7]||(g[7]=C=>p.storePhone=C),maxlength:"64"},null,512),[[Ae,p.storePhone,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT","Checkout",[],"settingsGeneralCheckout")),1),i("div",rT,[i("label",lT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY","Base currency",[],"settingsGeneralBaseCurrency")),1),K(i("select",{id:"settings-base-currency",class:"nxp-ec-form-select","onUpdate:modelValue":g[8]||(g[8]=C=>p.baseCurrency=C),required:""},[(E(!0),S(ve,null,we(L.value,C=>(E(),S("option",{key:C.code,value:C.code},d(C.label),9,cT))),128))],512),[[At,p.baseCurrency]]),i("p",dT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_BASE_CURRENCY_HELP","Select the store's base currency (ISO 4217).",[],"settingsGeneralBaseCurrencyHelp")),1)]),i("div",uT,[i("label",_T,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_REQUIRED","Require phone at checkout",[],"settingsGeneralCheckoutPhoneRequired")),1),K(i("input",{id:"settings-checkout-phone-required",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[9]||(g[9]=C=>p.checkoutPhoneRequired=C)},null,512),[[_t,p.checkoutPhoneRequired]]),i("p",pT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CHECKOUT_PHONE_HELP","Collect a phone number during checkout (recommended for delivery issues).",[],"settingsGeneralCheckoutPhoneHelp")),1)]),i("div",fT,[i("label",mT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE","Price display locale",[],"settingsGeneralDisplayLocale")),1),K(i("input",{id:"settings-display-locale",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[10]||(g[10]=C=>p.displayLocale=C),maxlength:"10",placeholder:"Auto (from site language)",pattern:"[a-z]{2}[-_][A-Z]{2}"},null,512),[[Ae,p.displayLocale,void 0,{trim:!0}]]),i("p",hT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_DISPLAY_LOCALE_HELP","Override price formatting locale. Leave empty to use Joomla's site language. Examples: mk-MK, de-DE, en-US",[],"settingsGeneralDisplayLocaleHelp")),1)])]),i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STOREFRONT","Storefront",[],"settingsGeneralStorefront")),1),i("div",gT,[i("label",ET,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE","Products per page",[],"settingsGeneralCategoryPageSize")),1),K(i("input",{id:"settings-category-page-size",class:"nxp-ec-form-input",type:"number",min:"1",step:"1","onUpdate:modelValue":g[11]||(g[11]=C=>p.categoryPageSize=C)},null,512),[[Ae,p.categoryPageSize,void 0,{number:!0}]]),i("p",CT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGE_SIZE_HELP","How many products to show per page on the storefront category grid.",[],"settingsGeneralCategoryPageSizeHelp")),1)]),i("div",AT,[i("label",ST,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE","Category pagination mode",[],"settingsGeneralCategoryPaginationMode")),1),K(i("select",{id:"settings-category-pagination-mode",class:"nxp-ec-form-select","onUpdate:modelValue":g[12]||(g[12]=C=>p.categoryPaginationMode=C)},[i("option",bT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_PAGED","Previous/Next links",[],"settingsGeneralCategoryPaginationPaged")),1),i("option",TT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_INFINITE","Load more on scroll",[],"settingsGeneralCategoryPaginationInfinite")),1)],512),[[At,p.categoryPaginationMode]]),i("p",yT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CATEGORY_PAGINATION_MODE_HELP","Choose between classic paging links or an infinite load-more experience on the category grid.",[],"settingsGeneralCategoryPaginationModeHelp")),1)])]),i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_NOTIFICATIONS","Notifications",[],"settingsGeneralNotifications")),1),i("div",RT,[i("label",OT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS","Auto-send order emails",[],"settingsGeneralAutoSendEmails")),1),K(i("input",{id:"settings-auto-send-order-emails",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[13]||(g[13]=C=>p.autoSendOrderEmails=C)},null,512),[[_t,p.autoSendOrderEmails]]),i("p",xT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_AUTO_SEND_EMAILS_HELP","Automatically send email notifications when order status changes (e.g. shipped, refunded).",[],"settingsGeneralAutoSendEmailsHelp")),1)])]),i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_CLEANUP","Stale Order Cleanup",[],"settingsGeneralStaleOrderCleanup")),1),i("div",NT,[i("label",vT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED","Enable stale order cleanup",[],"settingsGeneralStaleOrderEnabled")),1),K(i("input",{id:"settings-stale-order-cleanup-enabled",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[14]||(g[14]=C=>p.staleOrderCleanupEnabled=C)},null,512),[[_t,p.staleOrderCleanupEnabled]]),i("p",PT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_ENABLED_HELP","Automatically cancel pending orders older than the threshold below. Requires the NXP Easy Cart Cleanup task plugin to be enabled in System > Scheduled Tasks.",[],"settingsGeneralStaleOrderEnabledHelp")),1)]),p.staleOrderCleanupEnabled?(E(),S("div",MT,[i("label",IT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS","Hours before cleanup",[],"settingsGeneralStaleOrderHours")),1),K(i("input",{id:"settings-stale-order-hours",class:"nxp-ec-form-input",type:"number",min:"1",max:"720",step:"1","onUpdate:modelValue":g[15]||(g[15]=C=>p.staleOrderHours=C)},null,512),[[Ae,p.staleOrderHours,void 0,{number:!0}]]),i("p",kT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_STALE_ORDER_HOURS_HELP","Pending orders older than this will be automatically canceled and their reserved stock released (1-720 hours, default 48 = 2 days).",[],"settingsGeneralStaleOrderHoursHelp")),1)])):le("",!0)]),i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_ADVANCED_MODE","Advanced Mode",[],"settingsGeneralAdvancedMode")),1),i("div",$T,[i("label",wT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED","Show advanced options",[],"settingsGeneralShowAdvanced")),1),K(i("input",{id:"settings-show-advanced-mode",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[16]||(g[16]=C=>p.showAdvancedMode=C)},null,512),[[_t,p.showAdvancedMode]]),i("p",LT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SHOW_ADVANCED_HELP","Enable to show Security settings and Logs panel. These are typically only needed for debugging or advanced configuration.",[],"settingsGeneralShowAdvancedHelp")),1)])]),o(r).message?(E(),S("div",DT,d(o(r).message),1)):le("",!0),i("div",YT,[i("button",{class:"nxp-ec-btn",type:"button",onClick:X,disabled:o(r).saving},d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsGeneralCancel")),9,UT),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},d(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_SAVE","Save settings",[],"settingsGeneralSave")),9,XT)])],32))])):_.value==="digital"?(E(),S("div",FT,[i("header",GT,[i("h3",null,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_TITLE","Digital products")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:v,disabled:o(r).loading},d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_REFRESH","Refresh")),9,VT)]),o(r).error?(E(),S("div",HT,d(o(r).error),1)):o(r).loading?(E(),S("div",BT,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_LOADING","Loading settings")),1)):(E(),S("form",{key:2,class:"nxp-ec-settings-form",onSubmit:vt(F,["prevent"])},[i("div",KT,[i("div",jT,[i("label",WT,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS","Default max downloads")),1),K(i("input",{id:"settings-digital-max",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[17]||(g[17]=C=>p.digitalMaxDownloads=C)},null,512),[[Ae,p.digitalMaxDownloads,void 0,{number:!0}]]),i("p",JT,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_DOWNLOADS_DESC","Maximum downloads allowed per purchase (0 for unlimited).")),1)]),i("div",qT,[i("label",zT,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY","Download link expiry (days)")),1),K(i("input",{id:"settings-digital-expiry",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[18]||(g[18]=C=>p.digitalExpiryDays=C)},null,512),[[Ae,p.digitalExpiryDays,void 0,{number:!0}]]),i("p",QT,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_EXPIRY_DESC","Number of days before links expire (0 for no expiry).")),1)]),i("div",ZT,[i("label",ey,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL","Auto-fulfill digital orders")),1),K(i("input",{id:"settings-digital-fulfill",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[19]||(g[19]=C=>p.digitalAutoFulfill=C)},null,512),[[_t,p.digitalAutoFulfill]]),i("p",ty,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_AUTO_FULFILL_DESC","Mark digital-only orders fulfilled after payment.")),1)]),i("div",ny,[i("label",sy,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE","Max file size (MB)")),1),K(i("input",{id:"settings-digital-max-size",class:"nxp-ec-form-input",type:"number",min:"1",max:"2048",step:"1","onUpdate:modelValue":g[20]||(g[20]=C=>p.digitalMaxFileSize=C)},null,512),[[Ae,p.digitalMaxFileSize,void 0,{number:!0}]]),i("p",iy,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_MAX_FILE_SIZE_DESC","Maximum upload size per file in megabytes (1-2048 MB).")),1)]),i("div",ay,[i("label",oy,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH","Storage path")),1),K(i("input",{id:"settings-digital-storage",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[21]||(g[21]=C=>p.digitalStoragePath=C),maxlength:"250"},null,512),[[Ae,p.digitalStoragePath,void 0,{trim:!0}]]),i("p",ry,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_STORAGE_PATH_DESC","Protected directory for digital files. Adjust only if you know the server path.")),1)])]),i("div",ly,[i("h4",cy,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES","Allowed File Types")),1),i("p",dy,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_ALLOWED_TYPES_DESC","Select which file types can be uploaded as digital products.")),1),i("div",uy,[i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm",onClick:D},d(o(n)("COM_NXPEASYCART_SELECT_ALL","Select All")),1),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--sm nxp-ec-btn--link",onClick:k},d(o(n)("COM_NXPEASYCART_SELECT_NONE","Select None")),1)]),i("div",_y,[(E(!0),S(ve,null,we(f.value,(C,pe)=>(E(),S("div",{key:pe,class:"nxp-ec-filetypes-category"},[i("h5",py,d(M(pe)),1),i("div",fy,[(E(!0),S(ve,null,we(C,fe=>(E(),S("label",{key:fe,class:"nxp-ec-filetypes-item"},[K(i("input",{type:"checkbox",value:fe,"onUpdate:modelValue":g[22]||(g[22]=Se=>p.digitalAllowedExtensions=Se),class:"nxp-ec-filetypes-item__checkbox"},null,8,my),[[_t,p.digitalAllowedExtensions]]),i("span",hy,"."+d(fe),1)]))),128))])]))),128))]),i("div",gy,[i("label",Ey,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS","Custom Extensions")),1),K(i("input",{id:"settings-digital-custom-ext",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[23]||(g[23]=C=>p.digitalCustomExtensions=C),placeholder:"blend, psd, ai, sketch"},null,512),[[Ae,p.digitalCustomExtensions,void 0,{trim:!0}]]),i("p",Cy,d(o(n)("COM_NXPEASYCART_SETTINGS_DIGITAL_CUSTOM_EXTENSIONS_DESC","Comma-separated list of additional extensions. These bypass MIME validation - use only for trusted uploads.")),1)])]),i("div",Ay,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link",type:"button",onClick:z},d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_RESET","Reset")),1),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},d(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("JSAVE","Save")),9,Sy)])],32))])):_.value==="security"&&p.showAdvancedMode?(E(),S("div",by,[i("header",Ty,[i("h3",null,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_TITLE","Security & anti-spam",[],"settingsSecurityTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:v,disabled:o(r).loading},d(o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"settingsSecurityRefresh")),9,yy)]),o(r).error?(E(),S("div",Ry,d(o(r).error),1)):(E(),S("form",{key:1,class:"nxp-ec-settings-form nxp-ec-settings-form--security",onSubmit:vt(me,["prevent"])},[i("p",Oy,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_LEAD","Tighten checkout and offline payment limits to reduce bot spam. Set a value to 0 to disable a limit.",[],"settingsSecurityLead")),1),i("div",xy,[i("div",Ny,[i("label",vy,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW","Checkout window (minutes)",[],"settingsSecurityCheckoutWindow")),1),K(i("input",{id:"settings-checkout-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[24]||(g[24]=C=>x.checkoutWindowMinutes=C)},null,512),[[Ae,x.checkoutWindowMinutes,void 0,{number:!0}]]),i("p",Py,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_WINDOW_HELP","Applies to all gateways; counts reset after this window.",[],"settingsSecurityCheckoutWindowHelp")),1)]),i("div",My,[i("label",Iy,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW","Offline payments window (minutes)",[],"settingsSecurityOfflineWindow")),1),K(i("input",{id:"settings-offline-window",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[25]||(g[25]=C=>x.offlineWindowMinutes=C)},null,512),[[Ae,x.offlineWindowMinutes,void 0,{number:!0}]]),i("p",ky,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_WINDOW_HELP","Used for COD and bank transfer spam protection.",[],"settingsSecurityOfflineWindowHelp")),1)])]),i("div",$y,[i("div",wy,[i("label",Ly,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_IP_LIMIT","Checkout attempts per IP",[],"settingsSecurityCheckoutIpLimit")),1),K(i("input",{id:"settings-checkout-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[26]||(g[26]=C=>x.checkoutIpLimit=C)},null,512),[[Ae,x.checkoutIpLimit,void 0,{number:!0}]])]),i("div",Dy,[i("label",Yy,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_EMAIL_LIMIT","Checkout attempts per email",[],"settingsSecurityCheckoutEmailLimit")),1),K(i("input",{id:"settings-checkout-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[27]||(g[27]=C=>x.checkoutEmailLimit=C)},null,512),[[Ae,x.checkoutEmailLimit,void 0,{number:!0}]])]),i("div",Uy,[i("label",Xy,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_CHECKOUT_SESSION_LIMIT","Checkout attempts per session",[],"settingsSecurityCheckoutSessionLimit")),1),K(i("input",{id:"settings-checkout-session-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[28]||(g[28]=C=>x.checkoutSessionLimit=C)},null,512),[[Ae,x.checkoutSessionLimit,void 0,{number:!0}]])])]),i("div",Fy,[i("div",Gy,[i("label",Vy,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_IP_LIMIT","Offline attempts per IP",[],"settingsSecurityOfflineIpLimit")),1),K(i("input",{id:"settings-offline-ip-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[29]||(g[29]=C=>x.offlineIpLimit=C)},null,512),[[Ae,x.offlineIpLimit,void 0,{number:!0}]])]),i("div",Hy,[i("label",By,d(o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_OFFLINE_EMAIL_LIMIT","Offline attempts per email",[],"settingsSecurityOfflineEmailLimit")),1),K(i("input",{id:"settings-offline-email-limit",class:"nxp-ec-form-input",type:"number",min:"0",step:"1","onUpdate:modelValue":g[30]||(g[30]=C=>x.offlineEmailLimit=C)},null,512),[[Ae,x.offlineEmailLimit,void 0,{number:!0}]])])]),o(r).message?(E(),S("div",Ky,d(o(r).message),1)):le("",!0),i("div",jy,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Re,disabled:o(r).saving},d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsSecurityCancel")),9,Wy),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},d(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_SECURITY_SAVE","Save security",[],"settingsSecuritySave")),9,Jy)])],32))])):_.value==="payments"?(E(),S("div",qy,[i("header",zy,[i("h3",null,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_TITLE","Payment gateways",[],"settingsPaymentsTitle")),1),i("div",Qy,[i("button",{class:"nxp-ec-btn",type:"button",onClick:de,disabled:o(c).loading},d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_REFRESH","Refresh",[],"settingsPaymentsRefresh")),9,Zy)])]),o(c).error?(E(),S("div",eR,d(o(c).error),1)):o(c).loading?(E(),S("div",tR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_LOADING","Loading payment configuration",[],"settingsPaymentsLoading")),1)):(E(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--payments",onSubmit:vt(Ce,["prevent"])},[i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE","Stripe",[],"settingsPaymentsStripe")),1),i("div",nR,[i("label",sR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_PUBLISHABLE","Publishable key",[],"settingsPaymentsStripePublishable")),1),K(i("input",{id:"nxp-ec-stripe-publishable",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[31]||(g[31]=C=>T.stripe.publishable_key=C)},null,512),[[Ae,T.stripe.publishable_key,void 0,{trim:!0}]])]),i("div",iR,[i("label",aR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_SECRET","Secret key",[],"settingsPaymentsStripeSecret")),1),K(i("input",{id:"nxp-ec-stripe-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":g[32]||(g[32]=C=>T.stripe.secret_key=C),autocomplete:"off"},null,512),[[Ae,T.stripe.secret_key,void 0,{trim:!0}]])]),i("div",oR,[i("label",rR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_WEBHOOK","Webhook secret",[],"settingsPaymentsStripeWebhook")),1),K(i("input",{id:"nxp-ec-stripe-webhook",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":g[33]||(g[33]=C=>T.stripe.webhook_secret=C),autocomplete:"off"},null,512),[[Ae,T.stripe.webhook_secret,void 0,{trim:!0}]]),i("p",lR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STRIPE_HELP","Copy the signing secret from your Stripe webhook configuration.",[],"settingsPaymentsStripeHelp")),1)]),i("div",cR,[i("label",dR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),K(i("select",{id:"nxp-ec-stripe-mode",class:"nxp-ec-form-input","onUpdate:modelValue":g[34]||(g[34]=C=>T.stripe.mode=C)},[i("option",uR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_TEST","Test",[],"settingsPaymentsModeTest")),1),i("option",_R,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[At,T.stripe.mode]])])]),i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL","PayPal",[],"settingsPaymentsPayPal")),1),i("div",pR,[i("label",fR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_ID","Client ID",[],"settingsPaymentsPayPalClientId")),1),K(i("input",{id:"nxp-ec-paypal-client-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[35]||(g[35]=C=>T.paypal.client_id=C)},null,512),[[Ae,T.paypal.client_id,void 0,{trim:!0}]])]),i("div",mR,[i("label",hR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_CLIENT_SECRET","Client secret",[],"settingsPaymentsPayPalClientSecret")),1),K(i("input",{id:"nxp-ec-paypal-client-secret",class:"nxp-ec-form-input",type:"password","onUpdate:modelValue":g[36]||(g[36]=C=>T.paypal.client_secret=C),autocomplete:"off"},null,512),[[Ae,T.paypal.client_secret,void 0,{trim:!0}]])]),i("div",gR,[i("label",ER,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_WEBHOOK","Webhook ID",[],"settingsPaymentsPayPalWebhook")),1),K(i("input",{id:"nxp-ec-paypal-webhook-id",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[37]||(g[37]=C=>T.paypal.webhook_id=C)},null,512),[[Ae,T.paypal.webhook_id,void 0,{trim:!0}]]),i("p",CR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_PAYPAL_HELP","Use the webhook ID from your PayPal app to verify notifications.",[],"settingsPaymentsPayPalHelp")),1)]),i("div",AR,[i("label",SR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE","Mode",[],"settingsPaymentsMode")),1),K(i("select",{id:"nxp-ec-paypal-mode",class:"nxp-ec-form-input","onUpdate:modelValue":g[38]||(g[38]=C=>T.paypal.mode=C)},[i("option",bR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_SANDBOX","Sandbox",[],"settingsPaymentsModeSandbox")),1),i("option",TR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_MODE_LIVE","Live",[],"settingsPaymentsModeLive")),1)],512),[[At,T.paypal.mode]])])]),i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD","Cash on delivery",[],"settingsPaymentsCod")),1),i("div",yR,[i("label",RR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_ENABLED","Enable cash on delivery",[],"settingsPaymentsCodEnabled")),1),K(i("input",{id:"nxp-ec-cod-enabled",type:"checkbox","onUpdate:modelValue":g[39]||(g[39]=C=>T.cod.enabled=C)},null,512),[[_t,T.cod.enabled]])]),i("div",OR,[i("label",xR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_COD_LABEL","Checkout label",[],"settingsPaymentsCodLabel")),1),K(i("input",{id:"nxp-ec-cod-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[40]||(g[40]=C=>T.cod.label=C),placeholder:"Cash on delivery"},null,512),[[Ae,T.cod.label,void 0,{trim:!0}]])])]),i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER","Bank transfer",[],"settingsPaymentsBankTransfer")),1),i("div",NR,[i("label",vR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ENABLED","Enable bank transfer",[],"settingsPaymentsBankTransferEnabled")),1),K(i("input",{id:"nxp-ec-bank-transfer-enabled",type:"checkbox","onUpdate:modelValue":g[41]||(g[41]=C=>T.bank_transfer.enabled=C)},null,512),[[_t,T.bank_transfer.enabled]])]),i("div",PR,[i("label",MR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_LABEL","Checkout label",[],"settingsPaymentsBankTransferLabel")),1),K(i("input",{id:"nxp-ec-bank-transfer-label",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[42]||(g[42]=C=>T.bank_transfer.label=C),placeholder:"Bank transfer"},null,512),[[Ae,T.bank_transfer.label,void 0,{trim:!0}]])]),i("div",IR,[i("label",kR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS","Payment instructions",[],"settingsPaymentsBankTransferInstructions")),1),K(i("textarea",{id:"nxp-ec-bank-transfer-instructions",class:"nxp-ec-form-input",rows:"4","onUpdate:modelValue":g[43]||(g[43]=C=>T.bank_transfer.instructions=C),placeholder:o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_PLACEHOLDER","Share how to complete the transfer and include the order number reference.",[],"settingsPaymentsBankTransferInstructionsPlaceholder")},null,8,$R),[[Ae,T.bank_transfer.instructions]]),i("p",wR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_INSTRUCTIONS_HELP","Customers will see this in the checkout email alongside their invoice.",[],"settingsPaymentsBankTransferInstructionsHelp")),1)]),i("div",LR,[i("div",DR,[i("label",YR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_ACCOUNT_NAME","Account name",[],"settingsPaymentsBankTransferAccountName")),1),K(i("input",{id:"nxp-ec-bank-transfer-account-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[44]||(g[44]=C=>T.bank_transfer.account_name=C)},null,512),[[Ae,T.bank_transfer.account_name,void 0,{trim:!0}]])]),i("div",UR,[i("label",XR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_IBAN","IBAN",[],"settingsPaymentsBankTransferIban")),1),K(i("input",{id:"nxp-ec-bank-transfer-iban",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[45]||(g[45]=C=>T.bank_transfer.iban=C),maxlength:"34"},null,512),[[Ae,T.bank_transfer.iban,void 0,{trim:!0}]])]),i("div",FR,[i("label",GR,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_BANK_TRANSFER_BIC","BIC/SWIFT",[],"settingsPaymentsBankTransferBic")),1),K(i("input",{id:"nxp-ec-bank-transfer-bic",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[46]||(g[46]=C=>T.bank_transfer.bic=C),maxlength:"11"},null,512),[[Ae,T.bank_transfer.bic,void 0,{trim:!0}]])])])]),i("fieldset",null,[i("legend",null,d(o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_STATUS","Status",[],"settingsPaymentsStatus")),1),i("div",VR,[i("label",HR,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_CONFIGURED","Payments configured",[],"settingsPaymentsConfigured")),1),K(i("input",{id:"settings-payments-configured",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":g[47]||(g[47]=C=>p.paymentsConfigured=C)},null,512),[[_t,p.paymentsConfigured]]),i("p",BR,d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_PAYMENTS_HELP","Track when core payment settings are complete (used by dashboard checklist).",[],"settingsPaymentsConfiguredHelp")),1)])]),o(c).message?(E(),S("div",KR,d(o(c).message),1)):le("",!0),i("div",jR,[i("button",{class:"nxp-ec-btn",type:"button",onClick:oe,disabled:o(c).saving},d(o(n)("COM_NXPEASYCART_SETTINGS_GENERAL_CANCEL","Cancel",[],"settingsPaymentsCancel")),9,WR),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(c).saving},d(o(c).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_PAYMENTS_SAVE","Save payments",[],"settingsPaymentsSave")),9,JR)])],32))])):_.value==="visual"?(E(),S("div",qR,[i("header",zR,[i("h3",null,d(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_TITLE","Storefront colors",[],"settingsVisualTitle")),1),i("button",{class:"nxp-ec-btn",type:"button",onClick:re,disabled:o(r).loading},d(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_REFRESH","Refresh",[],"settingsVisualRefresh")),9,QR)]),o(r).error?(E(),S("div",ZR,d(o(r).error),1)):o(r).loading?(E(),S("div",eO,d(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_LOADING","Loading visual settings",[],"settingsVisualLoading")),1)):(E(),S("form",{key:2,class:"nxp-ec-settings-form nxp-ec-settings-form--visual",onSubmit:vt(ae,["prevent"])},[i("p",tO,d(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_HINT","Override your template's colors. Empty fields will use your current template defaults shown in the color pickers.",[],"settingsVisualHint")),1),i("p",nO,d(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_ADAPTER_NOTE","The component will attempt to adapt to your current template's styling automatically. If no adapter is available for your template, these fallback colors will be used instead.",[],"settingsVisualAdapterNote")),1),i("div",sO,[i("div",iO,[i("label",aO,d(o(n)("COM_NXPEASYCART_VISUAL_PRIMARY","Primary color",[],"visualPrimary")),1),i("div",oO,[i("input",{id:"visual-primary-color",class:"nxp-ec-color-picker",type:"color",value:y.primaryColor||$.value.primary,onInput:g[48]||(g[48]=C=>y.primaryColor=C.target.value)},null,40,rO),K(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[49]||(g[49]=C=>y.primaryColor=C),placeholder:$.value.primary,maxlength:"7"},null,8,lO),[[Ae,y.primaryColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[50]||(g[50]=C=>y.primaryColor="")},d(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",cO,[i("label",dO,d(o(n)("COM_NXPEASYCART_VISUAL_TEXT","Text color",[],"visualText")),1),i("div",uO,[i("input",{id:"visual-text-color",class:"nxp-ec-color-picker",type:"color",value:y.textColor||$.value.text,onInput:g[51]||(g[51]=C=>y.textColor=C.target.value)},null,40,_O),K(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[52]||(g[52]=C=>y.textColor=C),placeholder:$.value.text,maxlength:"7"},null,8,pO),[[Ae,y.textColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[53]||(g[53]=C=>y.textColor="")},d(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",fO,[i("label",mO,d(o(n)("COM_NXPEASYCART_VISUAL_SURFACE","Background color",[],"visualSurface")),1),i("div",hO,[i("input",{id:"visual-surface-color",class:"nxp-ec-color-picker",type:"color",value:y.surfaceColor||$.value.surface,onInput:g[54]||(g[54]=C=>y.surfaceColor=C.target.value)},null,40,gO),K(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[55]||(g[55]=C=>y.surfaceColor=C),placeholder:$.value.surface,maxlength:"7"},null,8,EO),[[Ae,y.surfaceColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[56]||(g[56]=C=>y.surfaceColor="")},d(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",CO,[i("label",AO,d(o(n)("COM_NXPEASYCART_VISUAL_BORDER","Border color",[],"visualBorder")),1),i("div",SO,[i("input",{id:"visual-border-color",class:"nxp-ec-color-picker",type:"color",value:y.borderColor||$.value.border,onInput:g[57]||(g[57]=C=>y.borderColor=C.target.value)},null,40,bO),K(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[58]||(g[58]=C=>y.borderColor=C),placeholder:$.value.border,maxlength:"7"},null,8,TO),[[Ae,y.borderColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[59]||(g[59]=C=>y.borderColor="")},d(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])]),i("div",yO,[i("label",RO,d(o(n)("COM_NXPEASYCART_VISUAL_MUTED","Muted text color",[],"visualMuted")),1),i("div",OO,[i("input",{id:"visual-muted-color",class:"nxp-ec-color-picker",type:"color",value:y.mutedColor||$.value.muted,onInput:g[60]||(g[60]=C=>y.mutedColor=C.target.value)},null,40,xO),K(i("input",{class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":g[61]||(g[61]=C=>y.mutedColor=C),placeholder:$.value.muted,maxlength:"7"},null,8,NO),[[Ae,y.mutedColor,void 0,{trim:!0}]]),i("button",{type:"button",class:"nxp-ec-btn nxp-ec-btn--link",onClick:g[62]||(g[62]=C=>y.mutedColor="")},d(o(n)("COM_NXPEASYCART_VISUAL_RESET","Reset",[],"visualReset")),1)])])]),i("div",vO,[i("h4",null,d(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW","Preview",[],"visualPreview")),1),i("div",{class:"nxp-ec-preview-box",style:jt(V.value)},[i("button",PO,d(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW_BUTTON","Sample Button",[],"visualPreviewButton")),1),i("p",MO,d(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW_TEXT","Sample text in your chosen colors",[],"visualPreviewText")),1),i("p",IO,d(o(n)("COM_NXPEASYCART_VISUAL_PREVIEW_MUTED","Muted text example",[],"visualPreviewMuted")),1)],4)]),o(r).message?(E(),S("div",kO,d(o(r).message),1)):le("",!0),i("div",$O,[i("button",{class:"nxp-ec-btn",type:"button",onClick:Ne,disabled:o(r).saving},d(o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_CANCEL","Cancel",[],"settingsVisualCancel")),9,wO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:o(r).saving},d(o(r).saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SETTINGS_VISUAL_SAVE","Save colors",[],"settingsVisualSave")),9,LO)])],32))])):le("",!0)]))}},[["__scopeId","data-v-dff41c0c"]]),YO={class:"nxp-ec-admin-panel nxp-ec-admin-panel--tax"},UO={class:"nxp-ec-admin-panel__header"},XO={class:"nxp-ec-admin-panel__title"},FO={class:"nxp-ec-admin-panel__lead"},GO={class:"nxp-ec-admin-panel__actions"},VO=["disabled","title","aria-label"],HO={class:"nxp-ec-sr-only"},BO={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},KO={key:1,class:"nxp-ec-admin-panel__loading"},jO={key:2,class:"nxp-ec-admin-panel__body"},WO={class:"nxp-ec-admin-panel__table"},JO={class:"nxp-ec-admin-table"},qO={scope:"col"},zO={scope:"col"},QO={scope:"col"},ZO={scope:"col"},ex={scope:"col"},tx={scope:"col"},nx={key:0},sx={colspan:"7"},ix={scope:"row",class:"nxp-ec-admin-table__primary"},ax=["data-label"],ox=["data-label"],rx=["data-label"],lx=["data-label"],cx=["data-label"],dx={class:"nxp-ec-admin-table__actions"},ux=["onClick","title","aria-label"],_x={class:"nxp-ec-sr-only"},px=["onClick","title","aria-label"],fx={class:"nxp-ec-sr-only"},mx={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},hx={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},gx={class:"nxp-ec-admin-panel__sidebar-header"},Ex={id:"tax-modal-title"},Cx=["title","aria-label"],Ax={class:"nxp-ec-sr-only"},Sx={class:"nxp-ec-form-field"},bx={class:"nxp-ec-form-label",for:"tax-name"},Tx=["placeholder"],yx={class:"nxp-ec-form-help"},Rx={class:"nxp-ec-form-field"},Ox={class:"nxp-ec-form-label",for:"tax-country"},xx=["placeholder"],Nx={class:"nxp-ec-form-help"},vx={class:"nxp-ec-form-field"},Px={class:"nxp-ec-form-label",for:"tax-region"},Mx=["placeholder"],Ix={class:"nxp-ec-form-help"},kx={class:"nxp-ec-form-field"},$x={class:"nxp-ec-form-label",for:"tax-rate"},wx={class:"nxp-ec-input-group"},Lx={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Dx={class:"nxp-ec-form-label",for:"tax-inclusive"},Yx={class:"nxp-ec-form-help"},Ux={class:"nxp-ec-form-field"},Xx={class:"nxp-ec-form-label",for:"tax-priority"},Fx={class:"nxp-ec-form-help"},Gx={class:"nxp-ec-modal__actions"},Vx=["disabled"],Hx=["disabled"],Bx=["disabled"],Kx=Ot({__name:"TaxPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=We(!1),c=Ke({id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0}),u=()=>a("refresh"),_=()=>{l(),r.value=!0},p=D=>{Object.assign(c,{id:D.id,name:D.name||"",country:D.country,region:D.region,rate:D.rate,inclusive:D.inclusive,priority:D.priority}),r.value=!0},f=()=>{r.value=!1,l()},l=()=>{Object.assign(c,{id:null,name:"",country:"",region:"",rate:0,inclusive:!1,priority:0})},b=()=>{a("save",{id:c.id||void 0,name:c.name||null,country:c.country,region:c.region,rate:c.rate,inclusive:c.inclusive,priority:c.priority})},M=D=>{const k=n("COM_NXPEASYCART_TAX_DELETE_CONFIRM","Delete this tax rate?",[],"taxDeleteConfirm");window.confirm(k)&&(a("delete",[D.id]),c.id===D.id&&f())};return Qe(()=>s.state.saving,(D,k)=>{k&&!D&&!s.state.error&&f()}),(D,k)=>(E(),S("section",YO,[i("header",UO,[i("div",null,[i("h2",XO,d(o(n)("COM_NXPEASYCART_MENU_TAX","Tax Rates",[],"taxPanelTitle")),1),i("p",FO,d(o(n)("COM_NXPEASYCART_TAX_LEAD","Configure tax rates by country and region.",[],"taxPanelLead")),1)]),i("div",GO,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh"),"aria-label":o(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")},[k[7]||(k[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",HO,d(o(n)("COM_NXPEASYCART_TAX_REFRESH","Refresh",[],"taxRefresh")),1)],8,VO),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:_},[k[8]||(k[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1)])])]),e.state.error?(E(),S("div",BO,d(e.state.error),1)):le("",!0),e.state.loading?(E(),S("div",KO,d(o(n)("COM_NXPEASYCART_TAX_LOADING","Loading tax rates",[],"taxLoading")),1)):le("",!0),e.state.loading?le("",!0):(E(),S("div",jO,[i("div",WO,[i("table",JO,[i("thead",null,[i("tr",null,[i("th",qO,d(o(n)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),i("th",zO,d(o(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),i("th",QO,d(o(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),i("th",ZO,d(o(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("th",ex,d(o(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),i("th",tx,d(o(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),k[9]||(k[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?le("",!0):(E(),S("tr",nx,[i("td",sx,d(o(n)("COM_NXPEASYCART_TAX_EMPTY","No tax rates defined.",[],"taxEmpty")),1)])),(E(!0),S(ve,null,we(e.state.items,x=>{var T;return E(),S("tr",{key:x.id,class:Ye({"is-active":c.id===x.id})},[i("th",ix,d(x.name||o(n)("COM_NXPEASYCART_TAX_DEFAULT_NAME","Tax",[],"taxDefaultName")),1),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_COUNTRY","Country")},d(x.country),9,ax),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_REGION","Region")},d(x.region||""),9,ox),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_RATE","Rate")},d(((T=x.rate)!=null?T:0).toFixed(2))+"%",9,rx),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive")},[i("span",{class:Ye(["nxp-ec-badge",{"is-active":x.inclusive}])},[i("i",{class:Ye(x.inclusive?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ke(" "+d(x.inclusive?o(n)("JYES","Yes"):o(n)("JNO","No")),1)],2)],8,lx),i("td",{"data-label":o(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority")},d(x.priority),9,cx),i("td",dx,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:y=>p(x),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[k[10]||(k[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",_x,d(o(n)("JEDIT","Edit")),1)],8,ux),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:y=>M(x),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[k[11]||(k[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",fx,d(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,px)])],2)}),128))])])]),r.value?(E(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"tax-modal-title",onKeydown:St(f,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:f}),i("div",mx,[i("aside",hx,[i("header",gx,[i("h3",Ex,d(c.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_TAX_ADD","Add tax rate",[],"taxAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:f,title:o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[k[12]||(k[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",Ax,d(o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,Cx)]),i("form",{class:"nxp-ec-form",onSubmit:vt(b,["prevent"]),autocomplete:"off"},[i("div",Sx,[i("label",bx,d(o(n)("COM_NXPEASYCART_TAX_NAME","Name",[],"taxName")),1),K(i("input",{id:"tax-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[0]||(k[0]=x=>c.name=x),maxlength:"100",placeholder:o(n)("COM_NXPEASYCART_TAX_NAME_PLACEHOLDER","e.g. VAT, GST, Sales Tax",[],"taxNamePlaceholder")},null,8,Tx),[[Ae,c.name,void 0,{trim:!0}]]),i("p",yx,d(o(n)("COM_NXPEASYCART_TAX_NAME_HELP",'Optional display name shown to customers. Falls back to "Tax" if empty.',[],"taxNameHelp")),1)]),i("div",Rx,[i("label",Ox,d(o(n)("COM_NXPEASYCART_TAX_COUNTRY","Country",[],"taxCountry")),1),K(i("input",{id:"tax-country",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[1]||(k[1]=x=>c.country=x),maxlength:"2",required:"",placeholder:o(n)("COM_NXPEASYCART_TAX_COUNTRY_PLACEHOLDER","e.g. US",[],"taxCountryPlaceholder")},null,8,xx),[[Ae,c.country,void 0,{trim:!0}]]),i("p",Nx,d(o(n)("COM_NXPEASYCART_TAX_COUNTRY_HELP","Use ISO 3166-1 alpha-2 country codes (e.g., US, GB, DE).",[],"taxCountryHelp")),1)]),i("div",vx,[i("label",Px,d(o(n)("COM_NXPEASYCART_TAX_REGION","Region",[],"taxRegion")),1),K(i("input",{id:"tax-region",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":k[2]||(k[2]=x=>c.region=x),placeholder:o(n)("COM_NXPEASYCART_TAX_REGION_PLACEHOLDER","State/province code (optional)",[],"taxRegionPlaceholder")},null,8,Mx),[[Ae,c.region,void 0,{trim:!0}]]),i("p",Ix,d(o(n)("COM_NXPEASYCART_TAX_REGION_HELP","Leave empty for country-wide tax rates.",[],"taxRegionHelp")),1)]),i("div",kx,[i("label",$x,d(o(n)("COM_NXPEASYCART_TAX_RATE","Rate",[],"taxRate")),1),i("div",wx,[K(i("input",{id:"tax-rate",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":k[3]||(k[3]=x=>c.rate=x),required:""},null,512),[[Ae,c.rate,void 0,{number:!0}]]),k[13]||(k[13]=i("span",{class:"nxp-ec-input-group__suffix"},"%",-1))])]),i("div",Lx,[i("label",Dx,d(o(n)("COM_NXPEASYCART_TAX_INCLUSIVE","Inclusive",[],"taxInclusive")),1),K(i("input",{id:"tax-inclusive",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":k[4]||(k[4]=x=>c.inclusive=x)},null,512),[[_t,c.inclusive]]),i("p",Yx,d(o(n)("COM_NXPEASYCART_TAX_INCLUSIVE_HELP","When enabled, prices are displayed with tax already included.",[],"taxInclusiveHelp")),1)]),i("div",Ux,[i("label",Xx,d(o(n)("COM_NXPEASYCART_TAX_PRIORITY","Priority",[],"taxPriority")),1),K(i("input",{id:"tax-priority",class:"nxp-ec-form-input",type:"number",step:"1","onUpdate:modelValue":k[5]||(k[5]=x=>c.priority=x)},null,512),[[Ae,c.priority,void 0,{number:!0}]]),i("p",Fx,d(o(n)("COM_NXPEASYCART_TAX_PRIORITY_HELP","Higher priority rates are applied first when multiple rates match.",[],"taxPriorityHelp")),1)]),i("footer",Gx,[i("button",{class:"nxp-ec-btn",type:"button",onClick:f,disabled:e.state.saving},d(o(n)("COM_NXPEASYCART_TAX_FORM_CANCEL","Cancel",[],"taxFormCancel")),9,Vx),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_TAX_FORM_SAVE","Save tax rate",[],"taxFormSave")),9,Hx)]),c.id?(E(),S("button",{key:0,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:k[6]||(k[6]=x=>M(c)),disabled:e.state.saving},[k[14]||(k[14]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,Bx)):le("",!0)],32)])])],32)):le("",!0)]))]))}},[["__scopeId","data-v-2ed24c88"]]),jx={class:"nxp-ec-admin-panel nxp-ec-admin-panel--shipping"},Wx={class:"nxp-ec-admin-panel__header"},Jx={class:"nxp-ec-admin-panel__title"},qx={class:"nxp-ec-admin-panel__lead"},zx={class:"nxp-ec-admin-panel__actions"},Qx=["disabled","title","aria-label"],Zx={class:"nxp-ec-sr-only"},e1={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},t1={key:1,class:"nxp-ec-admin-panel__loading"},n1={key:2,class:"nxp-ec-admin-panel__body"},s1={class:"nxp-ec-admin-panel__table"},i1={class:"nxp-ec-admin-table"},a1={scope:"col"},o1={scope:"col"},r1={scope:"col"},l1={scope:"col"},c1={scope:"col"},d1={scope:"col"},u1={key:0},_1={colspan:"7"},p1={scope:"row",class:"nxp-ec-admin-table__primary"},f1=["data-label"],m1=["data-label"],h1=["data-label"],g1=["data-label"],E1=["data-label"],C1={class:"nxp-ec-admin-table__actions"},A1=["onClick","title","aria-label"],S1={class:"nxp-ec-sr-only"},b1=["onClick","title","aria-label"],T1={class:"nxp-ec-sr-only"},y1={class:"nxp-ec-modal__dialog nxp-ec-modal__dialog--panel",role:"document"},R1={class:"nxp-ec-admin-panel__sidebar","aria-live":"polite"},O1={class:"nxp-ec-admin-panel__sidebar-header"},x1={id:"shipping-modal-title"},N1=["title","aria-label"],v1={class:"nxp-ec-sr-only"},P1={class:"nxp-ec-form-field"},M1={class:"nxp-ec-form-label",for:"shipping-name"},I1=["placeholder"],k1={class:"nxp-ec-form-field"},$1={class:"nxp-ec-form-label",for:"shipping-type"},w1={value:"flat"},L1={value:"free_over"},D1={class:"nxp-ec-form-help"},Y1={class:"nxp-ec-form-field"},U1={class:"nxp-ec-form-label",for:"shipping-price"},X1={class:"nxp-ec-input-group"},F1={class:"nxp-ec-input-group__prefix"},G1={key:0,class:"nxp-ec-form-field"},V1={class:"nxp-ec-form-label",for:"shipping-threshold"},H1={class:"nxp-ec-input-group"},B1={class:"nxp-ec-input-group__prefix"},K1={class:"nxp-ec-form-help"},j1={class:"nxp-ec-form-field"},W1={class:"nxp-ec-form-label",for:"shipping-regions"},J1=["placeholder"],q1={class:"nxp-ec-form-help"},z1={class:"nxp-ec-form-field nxp-ec-form-field--inline"},Q1={class:"nxp-ec-form-label",for:"shipping-active"},Z1={class:"nxp-ec-form-help"},eN={class:"nxp-ec-modal__actions"},tN=["disabled"],nN=["disabled"],sN=["disabled"],iN=Ot({__name:"ShippingPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0},baseCurrency:{type:String,default:"USD"}},emits:["refresh","save","delete"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=Te(()=>{const T=s.baseCurrency;return typeof T=="string"&&T.trim()!==""?T.trim().toUpperCase():"USD"}),c=We(!1),u=Ke({id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0}),_=()=>a("refresh"),p=()=>{b(),c.value=!0},f=T=>{var y,$,L;Object.assign(u,{id:T.id,name:T.name,type:T.type,price:($=T.price)!=null?$:((y=T.price_cents)!=null?y:0)/100,threshold:T.threshold!==null&&T.threshold!==void 0?T.threshold:((L=T.threshold_cents)!=null?L:0)/100,regions:T.regions&&T.regions.length?T.regions.join(", "):"",active:T.active}),c.value=!0},l=()=>{c.value=!1,b()},b=()=>{Object.assign(u,{id:null,name:"",type:"flat",price:0,threshold:0,regions:"",active:!0})},M=()=>{const T={id:u.id||void 0,name:u.name,type:u.type,price:u.price,threshold:u.type==="free_over"?u.threshold:0,regions:u.regions,active:u.active};a("save",T)},D=T=>{const y=n("COM_NXPEASYCART_SHIPPING_DELETE_CONFIRM","Delete this shipping rule?",[],"shippingDeleteConfirm");window.confirm(y)&&(a("delete",[T.id]),u.id===T.id&&l())};Qe(()=>s.state.saving,(T,y)=>{y&&!T&&!s.state.error&&l()});const k=(T,y)=>{const $=(Number(T)||0)/100,L=(y||"").toUpperCase()||r.value;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:L}).format($)}catch(V){return`${L} ${$.toFixed(2)}`}},x=T=>T==="free_over"?n("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree"):n("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat");return(T,y)=>(E(),S("section",jx,[i("header",Wx,[i("div",null,[i("h2",Jx,d(o(n)("COM_NXPEASYCART_MENU_SHIPPING","Shipping Methods",[],"shippingPanelTitle")),1),i("p",qx,d(o(n)("COM_NXPEASYCART_SHIPPING_LEAD","Configure shipping rules and rates for your store.",[],"shippingPanelLead")),1)]),i("div",zx,[i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:_,disabled:e.state.loading,title:o(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh"),"aria-label":o(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")},[y[7]||(y[7]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",Zx,d(o(n)("COM_NXPEASYCART_SHIPPING_REFRESH","Refresh",[],"shippingRefresh")),1)],8,Qx),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"button",onClick:p},[y[8]||(y[8]=i("i",{class:"fa-solid fa-plus"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1)])])]),e.state.error?(E(),S("div",e1,d(e.state.error),1)):le("",!0),e.state.loading?(E(),S("div",t1,d(o(n)("COM_NXPEASYCART_SHIPPING_LOADING","Loading shipping rules",[],"shippingLoading")),1)):le("",!0),e.state.loading?le("",!0):(E(),S("div",n1,[i("div",s1,[i("table",i1,[i("thead",null,[i("tr",null,[i("th",a1,d(o(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),i("th",o1,d(o(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),i("th",r1,d(o(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("th",l1,d(o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("th",c1,d(o(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),i("th",d1,d(o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),y[9]||(y[9]=i("th",{scope:"col",class:"nxp-ec-admin-table__actions"},null,-1))])]),i("tbody",null,[e.state.items.length?le("",!0):(E(),S("tr",u1,[i("td",_1,d(o(n)("COM_NXPEASYCART_SHIPPING_EMPTY","No shipping rules defined.",[],"shippingEmpty")),1)])),(E(!0),S(ve,null,we(e.state.items,$=>(E(),S("tr",{key:$.id,class:Ye({"is-active":u.id===$.id})},[i("th",p1,d($.name),1),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type")},d(x($.type)),9,f1),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price")},d(k($.price_cents,r.value)),9,m1),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold")},d($.type==="free_over"?k($.threshold_cents,r.value):""),9,h1),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions")},d($.regions&&$.regions.length?$.regions.join(", "):o(n)("COM_NXPEASYCART_SHIPPING_ALL","All regions",[],"shippingAll")),9,g1),i("td",{"data-label":o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active")},[i("span",{class:Ye(["nxp-ec-badge",{"is-active":$.active}])},[i("i",{class:Ye($.active?"fa-solid fa-circle-check":"fa-regular fa-circle"),"aria-hidden":"true"},null,2),ke(" "+d($.active?o(n)("JYES","Yes"):o(n)("JNO","No")),1)],2)],8,E1),i("td",C1,[i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--icon",type:"button",onClick:L=>f($),title:o(n)("JEDIT","Edit"),"aria-label":o(n)("JEDIT","Edit")},[y[10]||(y[10]=i("i",{class:"fa-solid fa-pen-to-square","aria-hidden":"true"},null,-1)),i("span",S1,d(o(n)("JEDIT","Edit")),1)],8,A1),i("button",{class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:L=>D($),title:o(n)("COM_NXPEASYCART_REMOVE","Remove"),"aria-label":o(n)("COM_NXPEASYCART_REMOVE","Remove")},[y[11]||(y[11]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),i("span",T1,d(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,b1)])],2))),128))])])]),c.value?(E(),S("div",{key:0,class:"nxp-ec-modal",role:"dialog","aria-modal":"true","aria-labelledby":"shipping-modal-title",onKeydown:St(l,["esc"])},[i("div",{class:"nxp-ec-modal__backdrop","aria-hidden":"true",onClick:l}),i("div",y1,[i("aside",R1,[i("header",O1,[i("h3",x1,d(u.id?o(n)("JEDIT","Edit"):o(n)("COM_NXPEASYCART_SHIPPING_ADD","Add shipping rule",[],"shippingAdd")),1),i("button",{class:"nxp-ec-link-button nxp-ec-btn--icon nxp-ec-modal__close-btn",type:"button",onClick:l,title:o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close"),"aria-label":o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")},[y[12]||(y[12]=i("i",{class:"fa-solid fa-circle-xmark","aria-hidden":"true"},null,-1)),i("span",v1,d(o(n)("COM_NXPEASYCART_CLOSE","Close",[],"close")),1)],8,N1)]),i("form",{class:"nxp-ec-form",onSubmit:vt(M,["prevent"]),autocomplete:"off"},[i("div",P1,[i("label",M1,d(o(n)("COM_NXPEASYCART_SHIPPING_NAME","Name",[],"shippingName")),1),K(i("input",{id:"shipping-name",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[0]||(y[0]=$=>u.name=$),required:"",placeholder:o(n)("COM_NXPEASYCART_SHIPPING_NAME_PLACEHOLDER","e.g. Standard Shipping",[],"shippingNamePlaceholder")},null,8,I1),[[Ae,u.name,void 0,{trim:!0}]])]),i("div",k1,[i("label",$1,d(o(n)("COM_NXPEASYCART_SHIPPING_TYPE","Type",[],"shippingType")),1),K(i("select",{id:"shipping-type",class:"nxp-ec-form-select","onUpdate:modelValue":y[1]||(y[1]=$=>u.type=$)},[i("option",w1,d(o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT","Flat rate",[],"shippingTypeFlat")),1),i("option",L1,d(o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE","Free over threshold",[],"shippingTypeFree")),1)],512),[[At,u.type]]),i("p",D1,d(u.type==="free_over"?o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FREE_HELP","Shipping is free when the order subtotal exceeds the threshold.",[],"shippingTypeFreeHelp"):o(n)("COM_NXPEASYCART_SHIPPING_TYPE_FLAT_HELP","A fixed shipping cost regardless of order total.",[],"shippingTypeFlatHelp")),1)]),i("div",Y1,[i("label",U1,d(o(n)("COM_NXPEASYCART_SHIPPING_PRICE","Price",[],"shippingPrice")),1),i("div",X1,[i("span",F1,d(r.value),1),K(i("input",{id:"shipping-price",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":y[2]||(y[2]=$=>u.price=$),required:""},null,512),[[Ae,u.price,void 0,{number:!0}]])])]),u.type==="free_over"?(E(),S("div",G1,[i("label",V1,d(o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD","Threshold",[],"shippingThreshold")),1),i("div",H1,[i("span",B1,d(r.value),1),K(i("input",{id:"shipping-threshold",class:"nxp-ec-form-input",type:"number",min:"0",step:"0.01","onUpdate:modelValue":y[3]||(y[3]=$=>u.threshold=$),required:""},null,512),[[Ae,u.threshold,void 0,{number:!0}]])]),i("p",K1,d(o(n)("COM_NXPEASYCART_SHIPPING_THRESHOLD_HELP","Orders above this amount qualify for free shipping.",[],"shippingThresholdHelp")),1)])):le("",!0),i("div",j1,[i("label",W1,d(o(n)("COM_NXPEASYCART_SHIPPING_REGIONS","Regions",[],"shippingRegions")),1),K(i("input",{id:"shipping-regions",class:"nxp-ec-form-input",type:"text","onUpdate:modelValue":y[4]||(y[4]=$=>u.regions=$),placeholder:o(n)("COM_NXPEASYCART_SHIPPING_REGIONS_PLACEHOLDER","e.g. US,GB,FR",[],"shippingRegionsPlaceholder")},null,8,J1),[[Ae,u.regions,void 0,{trim:!0}]]),i("p",q1,d(o(n)("COM_NXPEASYCART_SHIPPING_REGIONS_HELP","Leave empty to apply to all regions. Use two-letter ISO 3166-1 alpha-2 country codes.",[],"shippingRegionsHelp")),1)]),i("div",z1,[i("label",Q1,d(o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE","Active",[],"shippingActive")),1),K(i("input",{id:"shipping-active",class:"nxp-ec-form-checkbox",type:"checkbox","onUpdate:modelValue":y[5]||(y[5]=$=>u.active=$)},null,512),[[_t,u.active]]),i("p",Z1,d(o(n)("COM_NXPEASYCART_SHIPPING_ACTIVE_HELP","Only active shipping rules are available at checkout.",[],"shippingActiveHelp")),1)]),i("footer",eN,[i("button",{class:"nxp-ec-btn",type:"button",onClick:l,disabled:e.state.saving},d(o(n)("COM_NXPEASYCART_SHIPPING_FORM_CANCEL","Cancel",[],"shippingFormCancel")),9,tN),i("button",{class:"nxp-ec-btn nxp-ec-btn--primary",type:"submit",disabled:e.state.saving},d(e.state.saving?o(n)("JPROCESSING_REQUEST","Saving"):o(n)("COM_NXPEASYCART_SHIPPING_FORM_SAVE","Save shipping rule",[],"shippingFormSave")),9,nN)]),u.id?(E(),S("button",{key:1,class:"nxp-ec-btn nxp-ec-btn--link nxp-ec-btn--danger nxp-ec-btn--icon",type:"button",onClick:y[6]||(y[6]=$=>D(u)),disabled:e.state.saving},[y[13]||(y[13]=i("i",{class:"fa-solid fa-trash","aria-hidden":"true"},null,-1)),ke(" "+d(o(n)("COM_NXPEASYCART_REMOVE","Remove")),1)],8,sN)):le("",!0)],32)])])],32)):le("",!0)]))]))}},[["__scopeId","data-v-e9835937"]]),aN={class:"nxp-ec-admin-panel nxp-ec-admin-panel--logs"},oN={class:"nxp-ec-admin-panel__header"},rN={class:"nxp-ec-admin-panel__title"},lN={class:"nxp-ec-admin-panel__lead"},cN={class:"nxp-ec-admin-panel__actions"},dN=["placeholder","aria-label"],uN=["value"],_N={value:""},pN=["value"],fN=["disabled","title","aria-label"],mN={class:"nxp-ec-sr-only"},hN={key:0,class:"nxp-ec-admin-alert nxp-ec-admin-alert--error"},gN={key:1,class:"nxp-ec-admin-panel__body"},EN={key:2,class:"nxp-ec-admin-panel__body"},CN={class:"nxp-ec-admin-panel__table"},AN={class:"nxp-ec-admin-table"},SN={scope:"col"},bN={scope:"col"},TN={scope:"col"},yN={scope:"col"},RN={scope:"col"},ON={key:0},xN={colspan:"5"},NN=["data-label"],vN=["data-label"],PN={class:"nxp-ec-log-entity"},MN={class:"nxp-ec-log-entity-id"},IN=["data-label"],kN=["data-label"],$N=["data-label"],wN={class:"nxp-ec-log-context"},LN={key:0,class:"nxp-ec-admin-pagination"},DN=["disabled"],YN={class:"nxp-ec-admin-pagination__status"},UN=["disabled"],XN=["title"],FN=Ot({__name:"LogsPanel",props:{state:{type:Object,required:!0},translate:{type:Function,required:!0}},emits:["refresh","search","filter","page"],setup(e,{emit:t}){const s=e,a=t,n=s.translate,r=s.state,c=Te(()=>{const x=new Set;return Array.isArray(r.items)&&r.items.forEach(T=>{T!=null&&T.entity_type&&x.add(T.entity_type)}),r.entity&&x.add(r.entity),Array.from(x).sort()}),u=()=>a("refresh"),_=()=>a("search"),p=x=>a("filter",x),f=x=>a("page",x),l=x=>{if(!x)return"";try{const T=new Date(x.replace(" ","T"));if(!Number.isNaN(T.getTime()))return T.toLocaleString()}catch(T){}return x},b=x=>{if(!x)return n("COM_NXPEASYCART_LOGS_FILTER_UNKNOWN","Unknown",[],"logsFilterUnknown");switch(x){case"order":return n("COM_NXPEASYCART_MENU_ORDERS","Orders");case"product":return n("COM_NXPEASYCART_MENU_PRODUCTS","Products");case"coupon":return n("COM_NXPEASYCART_MENU_COUPONS","Coupons");case"customer":return n("COM_NXPEASYCART_MENU_CUSTOMERS","Customers");default:return x.charAt(0).toUpperCase()+x.slice(1)}},M=x=>{if(!(x!=null&&x.user))return n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown");const T=x.user.name||"",y=x.user.username||"";return T&&y?`${T} (${y})`:T||y||n("COM_NXPEASYCART_LOGS_ACTOR_UNKNOWN","System",[],"logsActorUnknown")},D=x=>{if(!x||Array.isArray(x)&&!x.length||typeof x=="object"&&!Object.keys(x).length)return"";try{return JSON.stringify(x,null,2)}catch(T){return String(x)}},k=x=>{if(!x)return"";try{const T=new Date(x),$=new Date-T,L=Math.floor($/1e3),V=Math.floor(L/60),ce=Math.floor(V/60);return L<60?n("COM_NXPEASYCART_TIME_SECONDS_AGO","just now"):V<60?n("COM_NXPEASYCART_TIME_MINUTES_AGO","%s minutes ago",[V]):ce<24?n("COM_NXPEASYCART_TIME_HOURS_AGO","%s hours ago",[ce]):T.toLocaleString()}catch(T){return x}};return(x,T)=>(E(),S("section",aN,[i("header",oN,[i("div",null,[i("h2",rN,d(o(n)("COM_NXPEASYCART_MENU_LOGS","Logs",[],"logsPanelTitle")),1),i("p",lN,d(o(n)("COM_NXPEASYCART_LOGS_LEAD","Review audit events across the store.",[],"logsPanelLead")),1)]),i("div",cN,[K(i("input",{type:"search",class:"nxp-ec-admin-search","onUpdate:modelValue":T[0]||(T[0]=y=>o(r).search=y),placeholder:o(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),"aria-label":o(n)("COM_NXPEASYCART_LOGS_SEARCH_PLACEHOLDER","Search logs",[],"logsSearchPlaceholder"),onKeyup:St(_,["enter"])},null,40,dN),[[Ae,o(r).search]]),i("select",{class:"nxp-ec-form-select nxp-ec-admin-select",value:o(r).entity,onChange:T[1]||(T[1]=y=>p(y.target.value)),"aria-label":"Entity filter"},[i("option",_N,d(o(n)("COM_NXPEASYCART_LOGS_FILTER_ALL","All entities",[],"logsFilterAll")),1),(E(!0),S(ve,null,we(c.value,y=>(E(),S("option",{key:y,value:y},d(b(y)),9,pN))),128))],40,uN),i("button",{class:"nxp-ec-btn nxp-ec-btn--icon",type:"button",onClick:u,disabled:o(r).loading,title:o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh"),"aria-label":o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")},[T[4]||(T[4]=i("i",{class:"fa-solid fa-rotate"},null,-1)),i("span",mN,d(o(n)("COM_NXPEASYCART_COUPONS_REFRESH","Refresh",[],"couponsRefresh")),1)],8,fN)])]),o(r).error?(E(),S("div",hN,d(o(r).error),1)):le("",!0),o(r).loading?(E(),S("div",gN,[st(es,{type:"table",rows:5,columns:5})])):le("",!0),o(r).loading?le("",!0):(E(),S("div",EN,[i("div",CN,[i("table",AN,[i("thead",null,[i("tr",null,[i("th",SN,d(o(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time",[],"logsTableTime")),1),i("th",bN,d(o(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity",[],"logsTableEntity")),1),i("th",TN,d(o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action",[],"logsTableAction")),1),i("th",yN,d(o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor",[],"logsTableActor")),1),i("th",RN,d(o(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details",[],"logsTableDetails")),1)])]),i("tbody",null,[o(r).items.length?le("",!0):(E(),S("tr",ON,[i("td",xN,d(o(n)("COM_NXPEASYCART_LOGS_EMPTY","No audit events captured yet.",[],"logsEmpty")),1)])),(E(!0),S(ve,null,we(o(r).items,y=>(E(),S("tr",{key:y.id},[i("td",{class:"nxp-ec-admin-table__primary","data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_TIME","Time")},d(l(y.created)),9,NN),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_ENTITY","Entity")},[i("span",PN,d(b(y.entity_type)),1),i("span",MN,"#"+d(y.entity_id),1)],8,vN),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTION","Action")},d(y.action),9,IN),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_ACTOR","Actor")},d(M(y)),9,kN),i("td",{"data-label":o(n)("COM_NXPEASYCART_LOGS_TABLE_DETAILS","Details")},[i("pre",wN,d(D(y.context)),1)],8,$N)]))),128))])]),o(r).pagination.pages>1?(E(),S("div",LN,[i("button",{class:"nxp-ec-btn",type:"button",disabled:o(r).pagination.current<=1,onClick:T[2]||(T[2]=y=>f(o(r).pagination.current-1))},"  ",8,DN),i("span",YN,d(o(r).pagination.current)+" / "+d(o(r).pagination.pages),1),i("button",{class:"nxp-ec-btn",type:"button",disabled:o(r).pagination.current>=o(r).pagination.pages,onClick:T[3]||(T[3]=y=>f(o(r).pagination.current+1))},"  ",8,UN)])):le("",!0)]),o(r).lastUpdated?(E(),S("div",{key:0,class:"nxp-ec-admin-panel__metadata",title:o(r).lastUpdated},d(o(n)("COM_NXPEASYCART_LAST_UPDATED","Last updated"))+": "+d(k(o(r).lastUpdated)),9,XN)):le("",!0)]))]))}},[["__scopeId","data-v-9e9017d5"]]),GN={key:0,class:"nxp-ec-onboarding"},VN={class:"nxp-ec-onboarding__panel",role:"dialog","aria-modal":"true"},HN={class:"nxp-ec-onboarding__header"},BN={class:"nxp-ec-onboarding__title"},KN={class:"nxp-ec-onboarding__lead"},jN={class:"nxp-ec-onboarding__progress"},WN={class:"nxp-ec-onboarding__progress-bar"},JN={class:"nxp-ec-onboarding__progress-label"},qN={class:"nxp-ec-onboarding__steps"},zN={class:"nxp-ec-onboarding__step-main"},QN={class:"nxp-ec-onboarding__step-icon","aria-hidden":"true"},ZN={key:0,class:"fa-solid fa-circle-check"},ev={key:1,class:"fa-regular fa-circle"},tv={class:"nxp-ec-onboarding__step-actions"},nv=["onClick"],sv=Ot({__name:"OnboardingWizard",props:{visible:{type:Boolean,default:!1},steps:{type:Array,default:()=>[]},translate:{type:Function,required:!0},titleKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_TITLE"},leadKey:{type:String,default:"COM_NXPEASYCART_ONBOARDING_LEAD"}},setup(e){const t=e,s=t.translate,a=Te(()=>t.steps.length?t.steps.filter(u=>u.completed).length/t.steps.length*100:0),n=Te(()=>`${a.value}%`),r=Te(()=>{const c=t.steps.filter(u=>u.completed).length;return s("COM_NXPEASYCART_ONBOARDING_PROGRESS","%s of %s complete",[String(c),String(t.steps.length)],"onboardingProgress")});return(c,u)=>e.visible?(E(),S("div",GN,[i("div",{class:"nxp-ec-onboarding__backdrop",onClick:u[0]||(u[0]=_=>c.$emit("close"))}),i("section",VN,[i("header",HN,[i("div",null,[i("h2",BN,d(o(s)(e.titleKey,"Get ready to sell",[],"onboardingTitle")),1),i("p",KN,d(o(s)(e.leadKey,"Work through these guided steps to launch in minutes.",[],"onboardingLead")),1)]),i("button",{type:"button",class:"nxp-ec-link-button",onClick:u[1]||(u[1]=_=>c.$emit("close"))},d(o(s)("COM_NXPEASYCART_ONBOARDING_DISMISS","Dismiss",[],"onboardingDismiss")),1)]),i("div",jN,[i("div",WN,[i("span",{style:jt({width:n.value})},null,4)]),i("span",JN,d(r.value),1)]),i("ol",qN,[(E(!0),S(ve,null,we(e.steps,_=>(E(),S("li",{key:_.id,class:Ye({"is-complete":_.completed})},[i("div",zN,[i("span",QN,[_.completed?(E(),S("span",ZN)):(E(),S("span",ev))]),i("div",null,[i("h3",null,d(o(s)(_.titleKey,_.titleFallback,[],`${_.id}-title`)),1),i("p",null,d(o(s)(_.descriptionKey,_.descriptionFallback,[],`${_.id}-description`)),1)])]),i("div",tv,[_.link?(E(),S("button",{key:0,type:"button",class:Ye(["nxp-ec-btn",{"nxp-ec-btn--ghost":_.completed}]),onClick:p=>c.$emit("navigate",_)},d(_.completed?o(s)("COM_NXPEASYCART_ONBOARDING_REVISIT","Review",[],`${_.id}-action`):o(s)("COM_NXPEASYCART_ONBOARDING_START","Start",[],`${_.id}-action`)),11,nv)):le("",!0)])],2))),128))])])])):le("",!0)}},[["__scopeId","data-v-c2a94811"]]),iv=(e,t=[])=>{var n;if(!t.length)return e;const s=(n=window==null?void 0:window.Joomla)==null?void 0:n.sprintf;if(typeof s=="function")try{return s.call(window.Joomla,e,...t)}catch(r){}let a=String(e);return t.forEach(r=>{const c=r!=null?r:"";a=a.replace(/%[sd]/,String(c))}),a},av=(e,t="",s=[])=>{var r;const a=(r=window==null?void 0:window.Joomla)==null?void 0:r.Text;let n=t||e;if(a&&typeof a._=="function"){const c=a._(e);c&&c!==e&&(n=c)}return iv(n,s)};function ov(e={}){const t=e||{},s=(n,r)=>{if(!n)return r;const c=t[n];return c!=null&&c!==""?c:r};return{__:(n,r="",c=[],u="")=>{const _=s(u,r);return av(n,_,c)}}}const Ao=typeof window!="undefined"&&window.performance;function So(e){if(Ao)try{performance.mark(e)}catch(t){console.warn(`[NXP EC Performance] Failed to mark: ${e}`,t)}}function rv(e,t,s){if(!Ao)return null;try{performance.measure(e,t,s);const a=performance.getEntriesByName(e,"measure")[0];if(a)return a.duration}catch(a){console.warn(`[NXP EC Performance] Failed to measure: ${e}`,a)}return null}const ws=Ke({}),lv=3e5;function cv(e,t){return!e||!e.timestamp?!1:Date.now()-e.timestamp<t}function Vt(e,t=lv){const s=ws[e];return s?cv(s,t)?s.data:(delete ws[e],null):null}function kt(e,t){ws[e]={data:t,timestamp:Date.now()}}function He(e){delete ws[e]}function Ht(e){const t=We({lastFetchDuration:null,totalFetches:0,cacheHits:0,cacheMisses:0});return{metrics:t,startFetch:()=>{const c=`${e}-fetch-start`;return So(c),c},endFetch:c=>{const u=`${e}-fetch-end`;So(u);const _=rv(`${e}-fetch`,c,u);_!==null&&(t.value.lastFetchDuration=_),t.value.totalFetches+=1},recordCacheHit:()=>{t.value.cacheHits+=1},recordCacheMiss:()=>{t.value.cacheMisses+=1}}}const Oi=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.products.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function dv({endpoints:e,token:t,autoload:s=!0,cacheTTL:a=3e5}){var ce,Z,v,ge;const n=Pt({token:t}),r=Ht("products"),c=(ce=e==null?void 0:e.list)!=null?ce:"",u=(Z=e==null?void 0:e.create)!=null?Z:Oi(c,"store"),_=(v=e==null?void 0:e.update)!=null?v:Oi(c,"update"),p=(ge=e==null?void 0:e.delete)!=null?ge:Oi(c,"delete"),f=typeof AbortController!="undefined",l=Ke({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:[],pagination:{total:0,limit:20,pages:0,current:1},search:"",lastUpdated:null}),b=We(null),M=()=>{const X=l.pagination.current||1,F=l.pagination.limit||20,z=l.search.trim();return`products:page=${X}:limit=${F}:search=${z}`},D=async(X=!1)=>{var de;if(!c){l.error="Products endpoint unavailable.",l.items=[];return}const F=M(),z=X?null:Vt(F,a);if(z){r.recordCacheHit(),l.items=z.items,l.pagination={...l.pagination,...z.pagination},l.lastUpdated=z.lastUpdated;return}r.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],b.value&&f&&b.value.abort();const me=f?new AbortController:null;b.value=me;const Re=r.startFetch();try{const{items:Ce,pagination:oe}=await n.fetchProducts({endpoint:c,signal:me?me.signal:void 0,limit:l.pagination.limit,start:Math.max(0,(l.pagination.current-1)*l.pagination.limit),search:l.search.trim()});l.items=Ce,l.pagination={...l.pagination,...oe,current:oe.current&&oe.current>0?oe.current:1},l.lastUpdated=new Date().toISOString(),kt(F,{items:Ce,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Ce){if((Ce==null?void 0:Ce.name)==="AbortError")return;l.error=(de=Ce==null?void 0:Ce.message)!=null?de:"Unknown error"}finally{r.endFetch(Re),f&&b.value===me&&(b.value=null),l.loading=!1}},k=()=>{l.pagination.current=1,He(M()),D(!0)},x=()=>{l.pagination.current=1,D()},T=X=>X?typeof X=="string"?X:typeof X=="object"&&X.message?String(X.message):String(X):"",y=(X,{setValidation:F=!1}={})=>{var z;if((X==null?void 0:X.code)===422&&F){const me=Array.isArray(X.details)?X.details:[X.details].filter(Boolean);l.validationErrors=me.map(T).filter(Re=>Re!=="");return}l.error=(z=X==null?void 0:X.message)!=null?z:"Unknown error"},$=async X=>{if(!u)throw new Error("Create endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const F=await n.createProduct({endpoint:u,data:X});return F&&(l.items=[F,...l.items],l.pagination.total+=1,He(M())),F}catch(F){throw y(F,{setValidation:!0}),F}finally{l.saving=!1}},L=async(X,F)=>{if(!_)throw new Error("Update endpoint unavailable.");l.saving=!0,l.validationErrors=[];try{const z=await n.updateProduct({endpoint:_,id:X,data:F});if(z){const me=l.items.findIndex(Re=>Re.id===z.id);me!==-1&&l.items.splice(me,1,z),He(M())}return z}catch(z){throw y(z,{setValidation:!0}),z}finally{l.saving=!1}},V=async X=>{if(!p)throw new Error("Delete endpoint unavailable.");l.deleting=!0,l.validationErrors=[];try{const F=await n.deleteProducts({endpoint:p,ids:X});return F.length&&(l.items=l.items.filter(z=>!F.includes(z.id)),l.pagination.total=Math.max(0,l.pagination.total-F.length),He(M())),F}catch(F){throw y(F),F}finally{l.deleting=!1}};return Tt(()=>{s&&D()}),{state:l,loadProducts:D,refresh:k,search:x,createProduct:$,updateProduct:L,deleteProducts:V,metrics:r.metrics}}function uv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var Z,v,ge,X,F,z,me,Re,de,Ce,oe,re,ae,Ne;const r=Pt({token:t}),c=Ht("categories"),u=(Z=e==null?void 0:e.list)!=null?Z:"",_=(v=e==null?void 0:e.create)!=null?v:u,p=(ge=e==null?void 0:e.update)!=null?ge:u,f=(X=e==null?void 0:e.delete)!=null?X:u,l=Ke({loading:!1,saving:!1,deleting:!1,error:"",validationErrors:[],items:Array.isArray(s.items)?s.items:[],pagination:{total:(Re=(me=(F=s.pagination)==null?void 0:F.total)!=null?me:(z=s.items)==null?void 0:z.length)!=null?Re:0,limit:(Ce=(de=s.pagination)==null?void 0:de.limit)!=null?Ce:20,pages:(re=(oe=s.pagination)==null?void 0:oe.pages)!=null?re:0,current:(Ne=(ae=s.pagination)==null?void 0:ae.current)!=null?Ne:1},search:"",lastUpdated:null}),b=typeof AbortController!="undefined",M=We(null),D=()=>{const m=l.pagination.current||1,g=l.pagination.limit||20,C=l.search.trim();return`categories:page=${m}:limit=${g}:search=${C}`},k=async(m=!1)=>{var Se;if(!u){l.error="Categories endpoint unavailable.",l.items=[];return}const g=D(),C=m?null:Vt(g,n);if(C){c.recordCacheHit(),l.items=C.items,l.pagination={...l.pagination,...C.pagination},l.lastUpdated=C.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",l.validationErrors=[],M.value&&b&&M.value.abort();const pe=b?new AbortController:null;M.value=pe;const fe=c.startFetch();try{const Oe=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Le,pagination:$e}=await r.fetchCategories({endpoint:u,limit:l.pagination.limit,start:Oe,search:l.search.trim(),signal:pe?pe.signal:void 0});l.items=Le,l.pagination={...l.pagination,...$e,current:$e.current&&$e.current>0?$e.current:1},l.lastUpdated=new Date().toISOString(),kt(g,{items:Le,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Oe){if((Oe==null?void 0:Oe.name)==="AbortError")return;l.error=(Se=Oe==null?void 0:Oe.message)!=null?Se:"Unknown error"}finally{c.endFetch(fe),b&&M.value===pe&&(M.value=null),l.loading=!1}},x=()=>{l.pagination.current=1,He(D()),k(!0)},T=()=>{l.pagination.current=1,k()},y=m=>{const g=Number(m);Number.isNaN(g)||g<1||g===l.pagination.current||(l.pagination.current=g,k(!0))},$=(m,{validation:g=!1}={})=>{var C;if(g&&(m==null?void 0:m.code)===422){const pe=m.details,fe=Array.isArray(pe)?pe:[pe].filter(Boolean);l.validationErrors=fe.map(Se=>Se?typeof Se=="string"?Se:typeof Se=="object"&&Se.message?String(Se.message):String(Se):"").filter(Boolean);return}l.error=(C=m==null?void 0:m.message)!=null?C:"Unknown error"},L=async m=>{if(!_||!p)throw new Error("Category endpoints unavailable.");l.saving=!0,l.error="",l.validationErrors=[];try{let g=null;return m.id?g=await r.updateCategory({endpoint:p,id:m.id,data:m}):g=await r.createCategory({endpoint:_,data:m}),g&&(He(D()),await k()),g}catch(g){throw $(g,{validation:!0}),g}finally{l.saving=!1}},V=async m=>{if(!Array.isArray(m)||!m.length||!f)return 0;l.deleting=!0,l.error="";try{const g=await r.deleteCategories({endpoint:f,ids:m});return g&&(He(D()),await k()),g}catch(g){throw $(g),g}finally{l.deleting=!1}},ce=async()=>{if(!u)return[];try{const{items:m}=await r.fetchCategories({endpoint:u,limit:200,start:0,search:""});return m}catch(m){return[]}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadCategories:k,refresh:x,search:T,goToPage:y,saveCategory:L,deleteCategories:V,loadOptions:ce,metrics:c.metrics}}const $t=(e,t)=>{if(!e)return"";const s=typeof window!="undefined"?window.location.origin:"http://localhost",a=new URL(e,s);return a.searchParams.set("task",`api.orders.${t}`),`${a.pathname}?${a.searchParams.toString()}`};function _v({endpoints:e,token:t,states:s=[],preload:a={},autoload:n=!0,cacheTTL:r=3e5}){var A,N,U,ee,W,q,ue,ne,se,j,O,R,G,Q,w,xe;const c=Pt({token:t}),u=Ht("orders"),_=(A=e==null?void 0:e.list)!=null?A:"",p=(N=e==null?void 0:e.show)!=null?N:$t(_,"show"),f=(U=e==null?void 0:e.transition)!=null?U:$t(_,"transition"),l=(ee=e==null?void 0:e.bulkTransition)!=null?ee:$t(_,"bulkTransition"),b=(W=e==null?void 0:e.note)!=null?W:$t(_,"note"),M=(q=e==null?void 0:e.tracking)!=null?q:$t(_,"tracking"),D=(ue=e==null?void 0:e.invoice)!=null?ue:$t(_,"invoice"),k=(ne=e==null?void 0:e.export)!=null?ne:$t(_,"export"),x=(se=e==null?void 0:e.sendEmail)!=null?se:$t(_,"sendEmail"),T=(j=e==null?void 0:e.recordTransaction)!=null?j:$t(_,"recordTransaction"),y=(O=e==null?void 0:e.resendDownloads)!=null?O:$t(_,"resendDownloads"),$=(R=e==null?void 0:e.resetDownload)!=null?R:$t(_,"resetDownload"),L=typeof AbortController!="undefined",V=We(null),ce=Array.isArray(a==null?void 0:a.items)?a.items:[],Z=a!=null&&a.pagination&&typeof a.pagination=="object"?a.pagination:{},v=Ke({loading:!1,saving:!1,exporting:!1,error:"",transitionError:"",items:[...ce],pagination:{total:(G=Z.total)!=null?G:ce.length,limit:(Q=Z.limit)!=null?Q:20,pages:(w=Z.pages)!=null?w:0,current:(xe=Z.current)!=null?xe:1},search:"",filterState:"",orderStates:Array.isArray(s)&&s.length?s:["pending","paid","fulfilled","refunded","canceled"],activeOrder:null,selection:new Set,lastUpdated:null,invoiceLoading:!1}),ge=()=>{const B=v.pagination.current||1,ie=v.pagination.limit||20,he=v.search.trim(),J=v.filterState||"";return`orders:page=${B}:limit=${ie}:search=${he}:state=${J}`},X=async(B=!1)=>{var Xe;if(!_){v.error="Orders endpoint unavailable.",v.items=[];return}const ie=ge(),he=B?null:Vt(ie,r);if(he){u.recordCacheHit(),v.items=he.items,v.pagination={...v.pagination,...he.pagination},v.lastUpdated=he.lastUpdated;return}u.recordCacheMiss(),v.loading=!0,v.error="",V.value&&L&&V.value.abort();const J=L?new AbortController:null;V.value=J;const De=u.startFetch();try{const it=Math.max(0,(v.pagination.current-1)*v.pagination.limit),{items:Je,pagination:P}=await c.fetchOrders({endpoint:_,limit:v.pagination.limit,start:it,search:v.search.trim(),state:v.filterState,signal:J?J.signal:void 0});v.items=Je,v.pagination={...v.pagination,...P,current:P.current&&P.current>0?P.current:1},v.selection.clear(),v.lastUpdated=new Date().toISOString(),kt(ie,{items:Je,pagination:v.pagination,lastUpdated:v.lastUpdated})}catch(it){if((it==null?void 0:it.name)==="AbortError")return;v.error=(Xe=it==null?void 0:it.message)!=null?Xe:"Unknown error"}finally{u.endFetch(De),L&&V.value===J&&(V.value=null),v.loading=!1}},F=()=>{v.pagination.current=1,He(ge()),X(!0)},z=()=>{v.pagination.current=1,X()},me=B=>{v.filterState=B||"",v.pagination.current=1,X()},Re=B=>{const ie=Number(B);Number.isNaN(ie)||ie<1||ie===v.pagination.current||(v.pagination.current=ie,X(!0))},de=()=>{v.selection.clear()},Ce=B=>{B&&(v.selection.has(B)?v.selection.delete(B):v.selection.add(B))},oe=()=>{v.pagination.current>=v.pagination.pages||(v.pagination.current+=1,X(!0))},re=()=>{v.pagination.current<=1||(v.pagination.current-=1,X(!0))},ae=async(B,ie="")=>{var he;if(!p)return null;try{return await c.fetchOrder({endpoint:p,id:B,orderNumber:ie})}catch(J){return v.transitionError=(he=J==null?void 0:J.message)!=null?he:"Unknown error",null}},Ne=async B=>{var ie,he,J;if(!B){v.activeOrder=null;return}v.transitionError="";try{const De=await ae(B.id,B.order_no);v.activeOrder=De||{...B,items:Array.isArray(B.items)?B.items:[],transactions:Array.isArray(B.transactions)?B.transactions:[],timeline:Array.isArray(B.timeline)?B.timeline:[],billing:(ie=B.billing)!=null?ie:{}}}catch(De){v.transitionError=(he=De==null?void 0:De.message)!=null?he:"Unknown error",v.activeOrder={...B,items:Array.isArray(B.items)?B.items:[],transactions:Array.isArray(B.transactions)?B.transactions:[],timeline:Array.isArray(B.timeline)?B.timeline:[],billing:(J=B.billing)!=null?J:{}}}},m=()=>{v.transitionError="",v.activeOrder=null},g=B=>{if(!(B!=null&&B.id))return;const ie=v.items.findIndex(he=>he.id===B.id);ie!==-1&&v.items.splice(ie,1,B)},C=async(B,ie)=>{var he;if(!f)throw new Error("Transition endpoint unavailable.");v.saving=!0,v.transitionError="";try{const J=await c.transitionOrder({endpoint:f,id:B,state:ie});return J&&(g(J),v.activeOrder&&v.activeOrder.id===J.id&&(v.activeOrder=J),He(ge())),J}catch(J){throw v.transitionError=(he=J==null?void 0:J.message)!=null?he:"Unknown error",J}finally{v.saving=!1}},pe=async(B,ie)=>{var he;if(!M)throw new Error("Tracking endpoint unavailable.");v.saving=!0,v.transitionError="";try{const J=await c.updateOrderTracking({endpoint:M,id:B,tracking:ie});return J&&(g(J),v.activeOrder&&v.activeOrder.id===J.id&&(v.activeOrder=J),He(ge())),J}catch(J){throw v.transitionError=(he=J==null?void 0:J.message)!=null?he:"Unknown error",J}finally{v.saving=!1}},fe=async(B,ie="")=>{var he;if(!D)throw new Error("Invoice endpoint unavailable.");v.invoiceLoading=!0,v.transitionError="";try{const J=await c.fetchOrderInvoice({endpoint:D,id:B,orderNumber:ie});if(!J)throw new Error("Invoice not available.");return J}catch(J){throw v.transitionError=(he=J==null?void 0:J.message)!=null?he:"Unknown error",J}finally{v.invoiceLoading=!1}},Se=async()=>{var B;if(!k)throw new Error("Export endpoint unavailable.");v.exporting=!0,v.error="";try{const ie=await c.exportOrders({endpoint:k,search:v.search.trim(),state:v.filterState});if(!ie)throw new Error("Export not available.");return ie}catch(ie){throw v.error=(B=ie==null?void 0:ie.message)!=null?B:"Export failed",ie}finally{v.exporting=!1}},Oe=async(B,ie)=>{var he;if(!x)throw new Error("Send email endpoint unavailable.");v.saving=!0,v.transitionError="";try{const J=await c.sendOrderEmail({endpoint:x,id:B,type:ie});return J&&(g(J),v.activeOrder&&v.activeOrder.id===J.id&&(v.activeOrder=J),He(ge())),J}catch(J){throw v.transitionError=(he=J==null?void 0:J.message)!=null?he:"Failed to send email",J}finally{v.saving=!1}},Le=async(B,{amountCents:ie,reference:he,note:J})=>{var De;if(!T)throw new Error("Record transaction endpoint unavailable.");v.saving=!0,v.transitionError="";try{const Xe=await c.recordTransaction({endpoint:T,id:B,amountCents:ie,reference:he,note:J});return Xe&&(g(Xe),v.activeOrder&&v.activeOrder.id===Xe.id&&(v.activeOrder=Xe),He(ge())),Xe}catch(Xe){throw v.transitionError=(De=Xe==null?void 0:Xe.message)!=null?De:"Failed to record payment",Xe}finally{v.saving=!1}},$e=async B=>{var ie;if(!y)throw new Error("Resend downloads endpoint unavailable.");v.saving=!0,v.transitionError="";try{const he=await c.resendDownloads({endpoint:y,id:B});return he&&(g(he),v.activeOrder&&v.activeOrder.id===he.id&&(v.activeOrder=he),He(ge())),he}catch(he){throw v.transitionError=(ie=he==null?void 0:he.message)!=null?ie:"Failed to resend downloads email",he}finally{v.saving=!1}},Be=async(B,ie)=>{var he;if(!$)throw new Error("Reset download endpoint unavailable.");v.saving=!0,v.transitionError="";try{const J=await c.resetDownload({endpoint:$,downloadId:B,orderId:ie});return J!=null&&J.order&&(g(J.order),v.activeOrder&&v.activeOrder.id===J.order.id&&(v.activeOrder=J.order),He(ge())),J}catch(J){throw v.transitionError=(he=J==null?void 0:J.message)!=null?he:"Failed to reset download count",J}finally{v.saving=!1}},ot=async(B,ie)=>{var he;if(!l)throw new Error("Bulk transition endpoint unavailable.");if(!Array.isArray(B)||!B.length)return{updated:[]};v.saving=!0;try{const J=await c.bulkTransitionOrders({endpoint:l,ids:B,state:ie}),De=Array.isArray(J.updated)?J.updated:[];return De.forEach(Xe=>{g(Xe),v.activeOrder&&v.activeOrder.id===Xe.id&&(v.activeOrder=Xe)}),de(),{updated:De}}catch(J){throw v.transitionError=(he=J==null?void 0:J.message)!=null?he:"Unknown error",J}finally{v.saving=!1}};return Tt(()=>{n&&X()}),{state:v,loadOrders:X,refresh:F,search:z,setFilterState:me,goToPage:Re,nextPage:oe,previousPage:re,viewOrder:Ne,closeOrder:m,transitionOrder:C,bulkTransition:ot,updateTracking:pe,downloadInvoice:fe,exportOrders:Se,sendEmail:Oe,recordTransaction:Le,resendDownloads:$e,resetDownload:Be,toggleSelection:Ce,clearSelection:de,metrics:u.metrics,addNote:async(B,ie)=>{var he;if(!b)throw new Error("Note endpoint unavailable.");if(!B||!ie||!ie.trim())return null;v.transitionError="",v.saving=!0;try{const J=await c.addOrderNote({endpoint:b,id:B,message:ie});return J&&(g(J),v.activeOrder&&v.activeOrder.id===J.id&&(v.activeOrder=J)),J}catch(J){throw v.transitionError=(he=J==null?void 0:J.message)!=null?he:"Unknown error",J}finally{v.saving=!1}}}}function pv({endpoint:e="",token:t="",preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var f,l,b;const r=Pt({token:t}),c=Ht("dashboard"),u=Ke({loading:!1,error:"",summary:(b=s.summary)!=null?b:{products:{total:0,active:0},orders:{total:0,pending:0,paid:0,fulfilled:0,refunded:0,revenue_today:0,revenue_month:0},customers:{total:0},currency:(l=(f=s.summary)==null?void 0:f.currency)!=null?l:"USD"},checklist:Array.isArray(s.checklist)?s.checklist:[],lastUpdated:null}),_=()=>"dashboard",p=async(M=!1)=>{var T,y;if(!e)return;const D=_(),k=M?null:Vt(D,n);if(k){c.recordCacheHit(),u.summary=k.summary,u.checklist=k.checklist,u.lastUpdated=k.lastUpdated;return}c.recordCacheMiss(),u.loading=!0,u.error="";const x=c.startFetch();try{const $=await r.fetchDashboard({endpoint:e});u.summary=(T=$.summary)!=null?T:u.summary,u.checklist=Array.isArray($.checklist)?$.checklist:u.checklist,u.lastUpdated=new Date().toISOString(),kt(D,{summary:u.summary,checklist:u.checklist,lastUpdated:u.lastUpdated})}catch($){u.error=(y=$==null?void 0:$.message)!=null?y:"Unknown error"}finally{c.endFetch(x),u.loading=!1}};return Tt(()=>{a&&(!Array.isArray(u.checklist)||!u.checklist.length)&&p()}),{state:u,refresh:p,metrics:c.metrics}}function fv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var Z,v,ge,X,F,z,me,Re,de,Ce,oe,re,ae,Ne,m,g,C;const r=Pt({token:t}),c=Ht("customers"),u=(Z=e==null?void 0:e.list)!=null?Z:"",_=(v=e==null?void 0:e.show)!=null?v:"",p=(X=(ge=e==null?void 0:e.gdpr)==null?void 0:ge.export)!=null?X:"",f=(z=(F=e==null?void 0:e.gdpr)==null?void 0:F.anonymise)!=null?z:"",l=Ke({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Ce=(de=(me=s.pagination)==null?void 0:me.total)!=null?de:(Re=s.items)==null?void 0:Re.length)!=null?Ce:0,limit:(re=(oe=s.pagination)==null?void 0:oe.limit)!=null?re:20,pages:(Ne=(ae=s.pagination)==null?void 0:ae.pages)!=null?Ne:0,current:(g=(m=s.pagination)==null?void 0:m.current)!=null?g:1},search:"",activeCustomer:(C=s.active)!=null?C:null,lastUpdated:null,gdprLoading:!1,gdprMessage:"",gdprSuccess:!1}),b=typeof AbortController!="undefined",M=We(null),D=()=>{const pe=l.pagination.current||1,fe=l.pagination.limit||20,Se=l.search.trim();return`customers:page=${pe}:limit=${fe}:search=${Se}`},k=async(pe=!1)=>{var $e;if(!u){l.error="Customers endpoint unavailable.",l.items=[];return}const fe=D(),Se=pe?null:Vt(fe,n);if(Se){c.recordCacheHit(),l.items=Se.items,l.pagination={...l.pagination,...Se.pagination},l.lastUpdated=Se.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",M.value&&b&&M.value.abort();const Oe=b?new AbortController:null;M.value=Oe;const Le=c.startFetch();try{const Be=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:ot,pagination:A}=await r.fetchCustomers({endpoint:u,limit:l.pagination.limit,start:Be,search:l.search.trim(),signal:Oe?Oe.signal:void 0});l.items=ot,l.pagination={...l.pagination,...A,current:A.current&&A.current>0?A.current:1},l.lastUpdated=new Date().toISOString(),kt(fe,{items:ot,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Be){if((Be==null?void 0:Be.name)==="AbortError")return;l.error=($e=Be==null?void 0:Be.message)!=null?$e:"Unknown error"}finally{c.endFetch(Le),b&&M.value===Oe&&(M.value=null),l.loading=!1}},x=()=>{l.pagination.current=1,He(D()),k(!0)},T=()=>{l.pagination.current=1,k()},y=pe=>{const fe=Number(pe);Number.isNaN(fe)||fe<1||fe===l.pagination.current||(l.pagination.current=fe,k(!0))},$=async pe=>{var fe;if(!_||!(pe!=null&&pe.email)){l.activeCustomer=pe||null;return}try{const Se=await r.fetchCustomer({endpoint:_,email:pe.email});l.activeCustomer=Se||pe}catch(Se){l.error=(fe=Se==null?void 0:Se.message)!=null?fe:"Unknown error"}},L=()=>{l.activeCustomer=null,l.gdprMessage="",l.gdprSuccess=!1},V=async pe=>{var fe;if(!p||!pe){l.gdprMessage="GDPR export endpoint unavailable.",l.gdprSuccess=!1;return}l.gdprLoading=!0,l.gdprMessage="";try{const Se=await r.gdprExport({endpoint:p,email:pe});if(!Se)throw new Error("No data returned");const Oe=new Blob([JSON.stringify(Se,null,2)],{type:"application/json"}),Le=URL.createObjectURL(Oe),$e=document.createElement("a");$e.href=Le,$e.download=`gdpr-export-${pe.replace(/[^a-z0-9]/gi,"-")}-${Date.now()}.json`,document.body.appendChild($e),$e.click(),document.body.removeChild($e),URL.revokeObjectURL(Le),l.gdprMessage="Data exported successfully.",l.gdprSuccess=!0}catch(Se){l.gdprMessage=(fe=Se==null?void 0:Se.message)!=null?fe:"Export failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}},ce=async pe=>{var Se;if(!f||!pe){l.gdprMessage="GDPR anonymise endpoint unavailable.",l.gdprSuccess=!1;return}if(window.confirm(`Are you sure you want to anonymise all data for ${pe}?

This action:
 Replaces the email with an anonymous hash
 Removes billing and shipping addresses
 Removes tracking information
 CANNOT BE UNDONE

Order totals and items are preserved for accounting.`)){l.gdprLoading=!0,l.gdprMessage="";try{const Oe=await r.gdprAnonymise({endpoint:f,email:pe});l.gdprMessage=Oe.message||`Anonymised ${Oe.affected} order(s).`,l.gdprSuccess=!0,He(D()),k(!0),setTimeout(()=>{l.activeCustomer=null,l.gdprMessage=""},2e3)}catch(Oe){l.gdprMessage=(Se=Oe==null?void 0:Oe.message)!=null?Se:"Anonymisation failed",l.gdprSuccess=!1}finally{l.gdprLoading=!1}}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadCustomers:k,refresh:x,search:T,goToPage:y,viewCustomer:$,closeCustomer:L,gdprExport:V,gdprAnonymise:ce,metrics:c.metrics}}function mv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var Z,v,ge,X,F,z,me,Re,de,Ce,oe,re,ae,Ne;const r=Pt({token:t}),c=Ht("coupons"),u=(Z=e==null?void 0:e.list)!=null?Z:"",_=(v=e==null?void 0:e.create)!=null?v:u,p=(ge=e==null?void 0:e.update)!=null?ge:u,f=(X=e==null?void 0:e.delete)!=null?X:u,l=Ke({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(Re=(me=(F=s.pagination)==null?void 0:F.total)!=null?me:(z=s.items)==null?void 0:z.length)!=null?Re:0,limit:(Ce=(de=s.pagination)==null?void 0:de.limit)!=null?Ce:20,pages:(re=(oe=s.pagination)==null?void 0:oe.pages)!=null?re:0,current:(Ne=(ae=s.pagination)==null?void 0:ae.current)!=null?Ne:1},search:"",activeCoupon:null,lastUpdated:null}),b=typeof AbortController!="undefined",M=We(null),D=()=>{const m=l.pagination.current||1,g=l.pagination.limit||20,C=l.search.trim();return`coupons:page=${m}:limit=${g}:search=${C}`},k=async(m=!1)=>{var Se;if(!u){l.error="Coupons endpoint unavailable.",l.items=[];return}const g=D(),C=m?null:Vt(g,n);if(C){c.recordCacheHit(),l.items=C.items,l.pagination={...l.pagination,...C.pagination},l.lastUpdated=C.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",M.value&&b&&M.value.abort();const pe=b?new AbortController:null;M.value=pe;const fe=c.startFetch();try{const Oe=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:Le,pagination:$e}=await r.fetchCoupons({endpoint:u,limit:l.pagination.limit,start:Oe,search:l.search.trim(),signal:pe?pe.signal:void 0});l.items=Le,l.pagination={...l.pagination,...$e,current:$e.current&&$e.current>0?$e.current:1},l.lastUpdated=new Date().toISOString(),kt(g,{items:Le,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(Oe){if((Oe==null?void 0:Oe.name)==="AbortError")return;l.error=(Se=Oe==null?void 0:Oe.message)!=null?Se:"Unknown error"}finally{c.endFetch(fe),b&&M.value===pe&&(M.value=null),l.loading=!1}},x=()=>{l.pagination.current=1,He(D()),k(!0)},T=()=>{l.pagination.current=1,k()},y=m=>{const g=Number(m);Number.isNaN(g)||g<1||g===l.pagination.current||(l.pagination.current=g,k(!0))},$=m=>{l.activeCoupon=m},L=m=>{const g=l.items.findIndex(C=>C.id===m.id);g===-1?l.items.unshift(m):l.items.splice(g,1,m)},V=async m=>{var g;l.saving=!0,l.error="";try{let C=null;return m.id?C=await r.updateCoupon({endpoint:p,id:m.id,data:m}):C=await r.createCoupon({endpoint:_,data:m}),C&&(L(C),l.activeCoupon&&l.activeCoupon.id===C.id&&(l.activeCoupon=C),He(D())),C}catch(C){throw l.error=(g=C==null?void 0:C.message)!=null?g:"Unknown error",C}finally{l.saving=!1}},ce=async m=>{var g;if(!Array.isArray(m)||!m.length)return 0;l.saving=!0,l.error="";try{const C=await r.deleteCoupons({endpoint:f,ids:m});return C&&(l.items=l.items.filter(pe=>!m.includes(pe.id)),l.activeCoupon&&m.includes(l.activeCoupon.id)&&(l.activeCoupon=null),He(D())),C}catch(C){throw l.error=(g=C==null?void 0:C.message)!=null?g:"Unknown error",C}finally{l.saving=!1}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadCoupons:k,refresh:x,search:T,goToPage:y,setActive:$,saveCoupon:V,deleteCoupons:ce,metrics:c.metrics}}const xi=(e={})=>{var p,f,l,b,M,D,k,x,T,y,$,L,V,ce,Z,v,ge,X,F;const t=(p=e.store)!=null?p:{},s=(f=e.payments)!=null?f:{},a=(l=e.visual)!=null?l:{},n=(b=e.visual_defaults)!=null?b:{},r=(D=(M=e.security)==null?void 0:M.rate_limits)!=null?D:{},c=Array.isArray(e.currencies)?e.currencies:[],u=typeof e.base_currency=="string"&&e.base_currency.trim()!==""?e.base_currency.trim().toUpperCase():"",_=typeof e.display_locale=="string"?e.display_locale.trim():"";return{store:{name:(k=t.name)!=null?k:"",email:(x=t.email)!=null?x:"",phone:(T=t.phone)!=null?T:""},payments:{configured:!!s.configured},base_currency:u,display_locale:_,checkout_phone_required:!!e.checkout_phone_required,auto_send_order_emails:!!e.auto_send_order_emails,category_page_size:Number.isFinite(Number(e.category_page_size))?Number(e.category_page_size):12,category_pagination_mode:e.category_pagination_mode==="infinite"?"infinite":"paged",stale_order_cleanup_enabled:!!e.stale_order_cleanup_enabled,stale_order_hours:Number.isFinite(Number(e.stale_order_hours))?Math.max(1,Math.min(720,Number(e.stale_order_hours))):48,show_advanced_mode:!!e.show_advanced_mode,visual:{primary_color:(y=a.primary_color)!=null?y:"",text_color:($=a.text_color)!=null?$:"",surface_color:(L=a.surface_color)!=null?L:"",border_color:(V=a.border_color)!=null?V:"",muted_color:(ce=a.muted_color)!=null?ce:""},visual_defaults:{primary_color:(Z=n.primary_color)!=null?Z:"#4f6d7a",text_color:(v=n.text_color)!=null?v:"#1f2933",surface_color:(ge=n.surface_color)!=null?ge:"#ffffff",border_color:(X=n.border_color)!=null?X:"#e4e7ec",muted_color:(F=n.muted_color)!=null?F:"#6b7280"},security:{rate_limits:{checkout_ip_limit:Number.isFinite(Number(r.checkout_ip_limit))?Number(r.checkout_ip_limit):10,checkout_email_limit:Number.isFinite(Number(r.checkout_email_limit))?Number(r.checkout_email_limit):5,checkout_session_limit:Number.isFinite(Number(r.checkout_session_limit))?Number(r.checkout_session_limit):15,checkout_window_minutes:Number.isFinite(Number(r.checkout_window_minutes))?Number(r.checkout_window_minutes):Number.isFinite(Number(r.checkout_window))?Math.max(0,Math.ceil(Number(r.checkout_window)/60)):10,offline_ip_limit:Number.isFinite(Number(r.offline_ip_limit))?Number(r.offline_ip_limit):3,offline_email_limit:Number.isFinite(Number(r.offline_email_limit))?Number(r.offline_email_limit):3,offline_window_minutes:Number.isFinite(Number(r.offline_window_minutes))?Number(r.offline_window_minutes):Number.isFinite(Number(r.offline_window))?Math.max(0,Math.ceil(Number(r.offline_window)/60)):30}},currencies:c}};function hv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var b,M;const r=Pt({token:t}),c=Ht("settings"),u=(b=e==null?void 0:e.show)!=null?b:"",_=(M=e==null?void 0:e.update)!=null?M:u,p=Ke({loading:!1,saving:!1,error:"",message:"",values:xi(s),lastUpdated:null}),f=async(D=!1)=>{var y;if(!u){p.error="Settings endpoint unavailable.";return}const k="settings:data",x=D?null:Vt(k,n);if(x){c.recordCacheHit(),p.values=x.values,p.lastUpdated=x.lastUpdated;return}c.recordCacheMiss(),p.loading=!0,p.error="";const T=c.startFetch();try{const $=await r.fetchSettings({endpoint:u});p.values=xi($),p.lastUpdated=new Date().toISOString(),kt(k,{values:p.values,lastUpdated:p.lastUpdated})}catch($){throw p.error=(y=$==null?void 0:$.message)!=null?y:"Unknown error",$}finally{c.endFetch(T),p.loading=!1}},l=async D=>{var k;if(!_)return p.error="Settings endpoint unavailable.",null;p.saving=!0,p.error="",p.message="";try{const x=await r.updateSettings({endpoint:_,data:D});return p.values=xi(x),p.lastUpdated=new Date().toISOString(),p.message="Settings saved.",He("settings:data"),kt("settings:data",{values:p.values,lastUpdated:p.lastUpdated}),p.values}catch(x){throw p.error=(k=x==null?void 0:x.message)!=null?k:"Unknown error",x}finally{p.saving=!1}};return Tt(()=>{a&&f()}),{state:p,refresh:f,save:l,metrics:c.metrics}}function gv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var $,L,V,ce,Z,v,ge,X,F,z,me,Re,de,Ce;const r=Pt({token:t}),c=Ht("taxRates"),u=($=e==null?void 0:e.list)!=null?$:"",_=(L=e==null?void 0:e.create)!=null?L:u,p=(V=e==null?void 0:e.update)!=null?V:u,f=(ce=e==null?void 0:e.delete)!=null?ce:u,l=Ke({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(X=(ge=(Z=s.pagination)==null?void 0:Z.total)!=null?ge:(v=s.items)==null?void 0:v.length)!=null?X:0,limit:(z=(F=s.pagination)==null?void 0:F.limit)!=null?z:20,pages:(Re=(me=s.pagination)==null?void 0:me.pages)!=null?Re:0,current:(Ce=(de=s.pagination)==null?void 0:de.current)!=null?Ce:1},search:"",lastUpdated:null}),b=typeof AbortController!="undefined",M=We(null),D=()=>{const oe=l.pagination.current||1,re=l.pagination.limit||20,ae=l.search.trim();return`taxRates:page=${oe}:limit=${re}:search=${ae}`},k=async(oe=!1)=>{var g;if(!u){l.error="Tax endpoint unavailable.",l.items=[];return}const re=D(),ae=oe?null:Vt(re,n);if(ae){c.recordCacheHit(),l.items=ae.items,l.pagination={...l.pagination,...ae.pagination},l.lastUpdated=ae.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",M.value&&b&&M.value.abort();const Ne=b?new AbortController:null;M.value=Ne;const m=c.startFetch();try{const C=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:pe,pagination:fe}=await r.fetchTaxRates({endpoint:u,limit:l.pagination.limit,start:C,search:l.search.trim(),signal:Ne?Ne.signal:void 0});l.items=pe,l.pagination={...l.pagination,...fe,current:fe.current&&fe.current>0?fe.current:1},l.lastUpdated=new Date().toISOString(),kt(re,{items:pe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(C){if((C==null?void 0:C.name)==="AbortError")return;l.error=(g=C==null?void 0:C.message)!=null?g:"Unknown error"}finally{c.endFetch(m),b&&M.value===Ne&&(M.value=null),l.loading=!1}},x=()=>{l.pagination.current=1,He(D()),k(!0)},T=async oe=>{var re;l.saving=!0,l.error="";try{const ae=oe.id?await r.updateTaxRate({endpoint:p,id:oe.id,data:oe}):await r.createTaxRate({endpoint:_,data:oe});if(ae){const Ne=l.items.findIndex(m=>m.id===ae.id);Ne===-1?l.items.unshift(ae):l.items.splice(Ne,1,ae),He(D())}return ae}catch(ae){throw l.error=(re=ae==null?void 0:ae.message)!=null?re:"Unknown error",ae}finally{l.saving=!1}},y=async oe=>{var re;if(!Array.isArray(oe)||!oe.length)return 0;l.saving=!0,l.error="";try{const ae=await r.deleteTaxRates({endpoint:f,ids:oe});return ae&&(l.items=l.items.filter(Ne=>!oe.includes(Ne.id)),He(D())),ae}catch(ae){throw l.error=(re=ae==null?void 0:ae.message)!=null?re:"Unknown error",ae}finally{l.saving=!1}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadRates:k,refresh:x,saveRate:T,deleteRates:y,metrics:c.metrics}}function Ev({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var $,L,V,ce,Z,v,ge,X,F,z,me,Re,de,Ce;const r=Pt({token:t}),c=Ht("shippingRules"),u=($=e==null?void 0:e.list)!=null?$:"",_=(L=e==null?void 0:e.create)!=null?L:u,p=(V=e==null?void 0:e.update)!=null?V:u,f=(ce=e==null?void 0:e.delete)!=null?ce:u,l=Ke({loading:!1,saving:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(X=(ge=(Z=s.pagination)==null?void 0:Z.total)!=null?ge:(v=s.items)==null?void 0:v.length)!=null?X:0,limit:(z=(F=s.pagination)==null?void 0:F.limit)!=null?z:20,pages:(Re=(me=s.pagination)==null?void 0:me.pages)!=null?Re:0,current:(Ce=(de=s.pagination)==null?void 0:de.current)!=null?Ce:1},search:"",lastUpdated:null}),b=typeof AbortController!="undefined",M=We(null),D=()=>{const oe=l.pagination.current||1,re=l.pagination.limit||20,ae=l.search.trim();return`shippingRules:page=${oe}:limit=${re}:search=${ae}`},k=async(oe=!1)=>{var g;if(!u){l.error="Shipping endpoint unavailable.",l.items=[];return}const re=D(),ae=oe?null:Vt(re,n);if(ae){c.recordCacheHit(),l.items=ae.items,l.pagination={...l.pagination,...ae.pagination},l.lastUpdated=ae.lastUpdated;return}c.recordCacheMiss(),l.loading=!0,l.error="",M.value&&b&&M.value.abort();const Ne=b?new AbortController:null;M.value=Ne;const m=c.startFetch();try{const C=Math.max(0,(l.pagination.current-1)*l.pagination.limit),{items:pe,pagination:fe}=await r.fetchShippingRules({endpoint:u,limit:l.pagination.limit,start:C,search:l.search.trim(),signal:Ne?Ne.signal:void 0});l.items=pe,l.pagination={...l.pagination,...fe,current:fe.current&&fe.current>0?fe.current:1},l.lastUpdated=new Date().toISOString(),kt(re,{items:pe,pagination:l.pagination,lastUpdated:l.lastUpdated})}catch(C){if((C==null?void 0:C.name)==="AbortError")return;l.error=(g=C==null?void 0:C.message)!=null?g:"Unknown error"}finally{c.endFetch(m),b&&M.value===Ne&&(M.value=null),l.loading=!1}},x=()=>{l.pagination.current=1,He(D()),k(!0)},T=async oe=>{var re;l.saving=!0,l.error="";try{const ae=oe.id?await r.updateShippingRule({endpoint:p,id:oe.id,data:oe}):await r.createShippingRule({endpoint:_,data:oe});if(ae){const Ne=l.items.findIndex(m=>m.id===ae.id);Ne===-1?l.items.unshift(ae):l.items.splice(Ne,1,ae),He(D())}return ae}catch(ae){throw l.error=(re=ae==null?void 0:ae.message)!=null?re:"Unknown error",ae}finally{l.saving=!1}},y=async oe=>{var re;if(!Array.isArray(oe)||!oe.length)return 0;l.saving=!0,l.error="";try{const ae=await r.deleteShippingRules({endpoint:f,ids:oe});return ae&&(l.items=l.items.filter(Ne=>!oe.includes(Ne.id)),He(D())),ae}catch(ae){throw l.error=(re=ae==null?void 0:ae.message)!=null?re:"Unknown error",ae}finally{l.saving=!1}};return Tt(()=>{a&&(!Array.isArray(l.items)||!l.items.length)&&k()}),{state:l,loadRules:k,refresh:x,saveRule:T,deleteRules:y,metrics:c.metrics}}function Cv({endpoints:e,token:t,preload:s={},autoload:a=!0,cacheTTL:n=3e5}){var T,y,$,L,V,ce,Z,v,ge,X,F;const r=Pt({token:t}),c=Ht("logs"),u=(T=e==null?void 0:e.list)!=null?T:"",_=Ke({loading:!1,error:"",items:Array.isArray(s.items)?s.items:[],pagination:{total:(V=(L=(y=s.pagination)==null?void 0:y.total)!=null?L:($=s.items)==null?void 0:$.length)!=null?V:0,limit:(Z=(ce=s.pagination)==null?void 0:ce.limit)!=null?Z:20,pages:(ge=(v=s.pagination)==null?void 0:v.pages)!=null?ge:0,current:(F=(X=s.pagination)==null?void 0:X.current)!=null?F:1},search:"",entity:"",lastUpdated:null}),p=typeof AbortController!="undefined",f=We(null),l=()=>{const z=_.pagination.current||1,me=_.pagination.limit||20,Re=_.search.trim(),de=_.entity.trim();return`logs:page=${z}:limit=${me}:search=${Re}:entity=${de}`},b=async(z=!1)=>{var oe;if(!u){_.error="Logs endpoint unavailable.",_.items=[];return}const me=l(),Re=z?null:Vt(me,n);if(Re){c.recordCacheHit(),_.items=Re.items,_.pagination={..._.pagination,...Re.pagination},_.lastUpdated=Re.lastUpdated;return}c.recordCacheMiss(),_.loading=!0,_.error="",p&&f.value&&f.value.abort();const de=p?new AbortController:null;f.value=de;const Ce=c.startFetch();try{const re=Math.max(0,(_.pagination.current-1)*_.pagination.limit),{items:ae,pagination:Ne}=await r.fetchLogs({endpoint:u,limit:_.pagination.limit,start:re,search:_.search.trim(),entity:_.entity,signal:de?de.signal:void 0});_.items=ae,_.pagination={..._.pagination,...Ne,current:Ne.current&&Ne.current>0?Ne.current:1},_.lastUpdated=new Date().toISOString(),kt(me,{items:ae,pagination:_.pagination,lastUpdated:_.lastUpdated})}catch(re){if((re==null?void 0:re.name)==="AbortError")return;_.error=(oe=re==null?void 0:re.message)!=null?oe:"Unknown error"}finally{c.endFetch(Ce),p&&f.value===de&&(f.value=null),_.loading=!1}},M=()=>{_.pagination.current=1,He(l()),b(!0)},D=()=>{_.pagination.current=1,b()},k=z=>{const me=typeof z=="string"?z.trim():"";_.entity!==me&&(_.entity=me,_.pagination.current=1,b())},x=z=>{const me=Number(z);Number.isNaN(me)||me<1||me===_.pagination.current||(_.pagination.current=me,b(!0))};return Tt(()=>{a&&(!Array.isArray(_.items)||!_.items.length)&&b()}),{state:_,loadLogs:b,refresh:M,search:D,setEntity:k,goToPage:x,metrics:c.metrics}}const bo=()=>({stripe:{publishable_key:"",secret_key:"",webhook_secret:"",mode:"test"},paypal:{client_id:"",client_secret:"",webhook_id:"",mode:"sandbox"},cod:{enabled:!0,label:"Cash on delivery"},bank_transfer:{enabled:!1,label:"Bank transfer",instructions:"",account_name:"",iban:"",bic:""}});function Av({endpoints:e={},token:t=""}){const s=Pt({token:t}),a=Ke({loading:!1,saving:!1,error:"",config:bo(),message:""}),n=async()=>{var u,_,p,f;if(e.show){a.loading=!0,a.error="";try{const l=await s.get(e.show);a.config=c((p=(_=(u=l==null?void 0:l.data)==null?void 0:u.config)!=null?_:l==null?void 0:l.config)!=null?p:{})}catch(l){a.error=(f=l.message)!=null?f:"Unable to load payment configuration."}finally{a.loading=!1}}},r=async u=>{var _,p,f,l,b,M,D;if(e.update){a.saving=!0,a.error="",a.message="";try{const k=await s.post(e.update,{config:u});a.config=c((f=(p=(_=k==null?void 0:k.data)==null?void 0:_.config)!=null?p:k==null?void 0:k.config)!=null?f:{}),a.message=(M=(b=(l=k==null?void 0:k.data)==null?void 0:l.message)!=null?b:k==null?void 0:k.message)!=null?M:""}catch(k){a.error=(D=k.message)!=null?D:"Unable to save payment configuration."}finally{a.saving=!1}}},c=u=>{var p,f,l,b;const _=bo();return{stripe:{..._.stripe,...(p=u.stripe)!=null?p:{}},paypal:{..._.paypal,...(f=u.paypal)!=null?f:{}},cod:{..._.cod,...(l=u.cod)!=null?l:{}},bank_transfer:{..._.bank_transfer,...(b=u.bank_transfer)!=null?b:{}}}};return{state:a,refresh:n,save:r}}const Sv={class:"nxp-ec-admin-app__shell"},bv={class:"nxp-ec-admin-app__header"},Tv={class:"nxp-ec-admin-app__title"},yv={class:"nxp-ec-admin-app__lead"},Rv={class:"nxp-ec-btn__progress-label"},Ov={key:0,class:"nxp-ec-admin-nav"},xv=["href"],Nv={key:11,class:"nxp-ec-admin-panel nxp-ec-admin-panel--placeholder"},vv={class:"nxp-ec-admin-panel__body"},Pv={class:"nxp-ec-admin-panel__lead"},ns="nxp:admin:onboarding:dismissed",Mv={__name:"App",props:{csrfToken:{type:String,default:""},dataset:{type:Object,default:()=>({})},config:{type:Object,default:()=>({})},endpoints:{type:Object,default:()=>({})}},setup(e){var $r,wr,Lr,Dr,Yr,Ur,Xr,Fr,Gr,Vr,Hr,Br,Kr,jr,Wr,Jr,qr,zr,Qr,Zr,el,tl,nl,sl,il,al,ol,rl,ll,cl,dl,ul,_l,pl,fl,ml,hl,gl,El,Cl,Al,Sl,bl,Tl,yl,Rl,Ol,xl,Nl,vl,Pl,Ml,Il,kl,$l,wl,Ll,Dl,Yl,Ul,Xl,Fl,Gl,Vl,Hl,Bl,Kl,jl,Wl,Jl,ql,zl,Ql,Zl,ec,tc,nc,sc,ic,ac,oc,rc,lc,cc,dc,uc,_c,pc,fc,mc,hc,gc,Ec,Cc,Ac,Sc,bc,Tc,yc,Rc,Oc,xc,Nc,vc,Pc,Mc,Ic,kc,$c,wc,Lc,Dc,Yc,Uc,Xc,Fc,Gc,Vc,Hc,Bc,Kc,jc,Wc,Jc,qc,zc,Qc,Zc,ed,td,nd,sd,id,ad,od,rd,ld,cd,dd,ud,_d,pd,fd,md,hd,gd,Ed;const t=e,{__:s}=ov(t.dataset),a=Te(()=>{var I;return((I=t.dataset)==null?void 0:I.appTitleKey)||"COM_NXPEASYCART"}),n=Te(()=>{var I;return((I=t.dataset)==null?void 0:I.appLeadKey)||"COM_NXPEASYCART_ADMIN_PLACEHOLDER"}),r=(I,_e)=>{if(!I||typeof I!="string")return _e;try{return JSON.parse(I)}catch(Me){return _e}},c=Te(()=>{var I,_e;return!!((_e=(I=at==null?void 0:at.values)==null?void 0:I.show_advanced_mode)!=null&&_e)}),u=Te(()=>{var _e,Me;let I=[];if(Array.isArray((_e=t.config)==null?void 0:_e.navItems))I=t.config.navItems.map(Ze=>({id:Ze.id,title:Ze.title,link:Ze.link}));else{const Ze=r((Me=t.dataset)==null?void 0:Me.navItems,[]);I=Array.isArray(Ze)?Ze.map(ct=>({id:ct.id,title:ct.title,link:ct.link})):[]}return c.value||(I=I.filter(Ze=>Ze.id!=="logs")),I}),_=I=>{const _e=u.value;if(!Array.isArray(_e))return"";const Me=_e.find(Ze=>Ze.id===I);return Me?Me.link:""},p=Te(()=>{var I,_e;return((I=t.config)==null?void 0:I.activeSection)||((_e=t.dataset)==null?void 0:_e.activeSection)||"dashboard"}),f=Te(()=>{var I,_e;return((I=t.config)==null?void 0:I.settingsTab)||((_e=t.dataset)==null?void 0:_e.settingsTab)||"general"}),l=I=>p.value===I,b=Te(()=>l("dashboard")),M=Te(()=>l("products")),D=Te(()=>l("categories")||l("products")),k=Te(()=>l("orders")),x=Te(()=>l("customers")),T=Te(()=>l("coupons")),y=Te(()=>l("settings")),$=Te(()=>l("tax")),L=Te(()=>l("shipping")),V=Te(()=>l("logs")),ce=(Vr=($r=t.endpoints)==null?void 0:$r.products)!=null?Vr:{list:(Lr=(wr=t.dataset)==null?void 0:wr.productsEndpoint)!=null?Lr:"",create:(Yr=(Dr=t.dataset)==null?void 0:Dr.productsEndpointCreate)!=null?Yr:"",update:(Xr=(Ur=t.dataset)==null?void 0:Ur.productsEndpointUpdate)!=null?Xr:"",delete:(Gr=(Fr=t.dataset)==null?void 0:Fr.productsEndpointDelete)!=null?Gr:""},Z=(Zr=(Hr=t.endpoints)==null?void 0:Hr.categories)!=null?Zr:{list:(Kr=(Br=t.dataset)==null?void 0:Br.categoriesEndpoint)!=null?Kr:"",create:(Wr=(jr=t.dataset)==null?void 0:jr.categoriesEndpointCreate)!=null?Wr:"",update:(qr=(Jr=t.dataset)==null?void 0:Jr.categoriesEndpointUpdate)!=null?qr:"",delete:(Qr=(zr=t.dataset)==null?void 0:zr.categoriesEndpointDelete)!=null?Qr:""},v=(ul=(el=t.endpoints)==null?void 0:el.orders)!=null?ul:{list:(nl=(tl=t.dataset)==null?void 0:tl.ordersEndpoint)!=null?nl:"",show:(il=(sl=t.dataset)==null?void 0:sl.ordersEndpointShow)!=null?il:"",transition:(ol=(al=t.dataset)==null?void 0:al.ordersEndpointTransition)!=null?ol:"",bulkTransition:(ll=(rl=t.dataset)==null?void 0:rl.ordersEndpointBulk)!=null?ll:"",note:(dl=(cl=t.dataset)==null?void 0:cl.ordersEndpointNote)!=null?dl:""},ge=(gl=(_l=t.endpoints)==null?void 0:_l.customers)!=null?gl:{list:(fl=(pl=t.dataset)==null?void 0:pl.customersEndpoint)!=null?fl:"",show:(hl=(ml=t.dataset)==null?void 0:ml.customersEndpointShow)!=null?hl:""},X=(xl=(El=t.endpoints)==null?void 0:El.coupons)!=null?xl:{list:(Al=(Cl=t.dataset)==null?void 0:Cl.couponsEndpoint)!=null?Al:"",create:(bl=(Sl=t.dataset)==null?void 0:Sl.couponsEndpointCreate)!=null?bl:"",update:(yl=(Tl=t.dataset)==null?void 0:Tl.couponsEndpointUpdate)!=null?yl:"",delete:(Ol=(Rl=t.dataset)==null?void 0:Rl.couponsEndpointDelete)!=null?Ol:""},F=(Dl=(Nl=t.endpoints)==null?void 0:Nl.tax)!=null?Dl:{list:(Pl=(vl=t.dataset)==null?void 0:vl.taxEndpoint)!=null?Pl:"",create:(Il=(Ml=t.dataset)==null?void 0:Ml.taxEndpointCreate)!=null?Il:"",update:($l=(kl=t.dataset)==null?void 0:kl.taxEndpointUpdate)!=null?$l:"",delete:(Ll=(wl=t.dataset)==null?void 0:wl.taxEndpointDelete)!=null?Ll:""},z=(jl=(Yl=t.endpoints)==null?void 0:Yl.shipping)!=null?jl:{list:(Xl=(Ul=t.dataset)==null?void 0:Ul.shippingEndpoint)!=null?Xl:"",create:(Gl=(Fl=t.dataset)==null?void 0:Fl.shippingEndpointCreate)!=null?Gl:"",update:(Hl=(Vl=t.dataset)==null?void 0:Vl.shippingEndpointUpdate)!=null?Hl:"",delete:(Kl=(Bl=t.dataset)==null?void 0:Bl.shippingEndpointDelete)!=null?Kl:""},me=(tc=(Wl=t.endpoints)==null?void 0:Wl.digitalfiles)!=null?tc:{list:(ql=(Jl=t.dataset)==null?void 0:Jl.digitalfilesEndpointList)!=null?ql:"",upload:(Ql=(zl=t.dataset)==null?void 0:zl.digitalfilesEndpointUpload)!=null?Ql:"",delete:(ec=(Zl=t.dataset)==null?void 0:Zl.digitalfilesEndpointDelete)!=null?ec:""},Re=(rc=(nc=t.endpoints)==null?void 0:nc.settings)!=null?rc:{show:(ic=(sc=t.dataset)==null?void 0:sc.settingsEndpointShow)!=null?ic:"",update:(oc=(ac=t.dataset)==null?void 0:ac.settingsEndpointUpdate)!=null?oc:""},de=(uc=(lc=t.endpoints)==null?void 0:lc.logs)!=null?uc:{list:(dc=(cc=t.dataset)==null?void 0:cc.logsEndpoint)!=null?dc:""},Ce=(gc=(_c=t.endpoints)==null?void 0:_c.payments)!=null?gc:{show:(fc=(pc=t.dataset)==null?void 0:pc.paymentsEndpointShow)!=null?fc:"",update:(hc=(mc=t.dataset)==null?void 0:mc.paymentsEndpointUpdate)!=null?hc:""},oe=Te(()=>{var I;return r((I=t.dataset)==null?void 0:I.orderStates,[])}),{state:re,refresh:ae}=pv({endpoint:(yc=(Tc=(Sc=(Ec=t.endpoints)==null?void 0:Ec.dashboard)!=null?Sc:(Ac=(Cc=t.config)==null?void 0:Cc.endpoints)==null?void 0:Ac.dashboard)!=null?Tc:(bc=t.dataset)==null?void 0:bc.dashboardEndpoint)!=null?yc:"",token:t.csrfToken,preload:(vc=(Oc=(Rc=t.config)==null?void 0:Rc.preload)==null?void 0:Oc.dashboard)!=null?vc:{summary:r((xc=t.dataset)==null?void 0:xc.dashboardSummary,{}),checklist:r((Nc=t.dataset)==null?void 0:Nc.dashboardChecklist,[])},autoload:b.value}),{state:Ne,refresh:m,search:g,createProduct:C,updateProduct:pe,deleteProducts:fe}=dv({endpoints:ce,token:t.csrfToken,autoload:M.value}),{state:Se,refresh:Oe,search:Le,goToPage:$e,saveCategory:Be,deleteCategories:ot,loadOptions:A}=uv({endpoints:Z,token:t.csrfToken,preload:($c=(Mc=(Pc=t.config)==null?void 0:Pc.preload)==null?void 0:Mc.categories)!=null?$c:{items:r((Ic=t.dataset)==null?void 0:Ic.categoriesPreload,[]),pagination:r((kc=t.dataset)==null?void 0:kc.categoriesPreloadPagination,{})},autoload:D.value}),N=Te(()=>(Array.isArray(Se.items)?Se.items:[]).map(_e=>{var Me,Ze,ct;return{id:Number.parseInt((Me=_e==null?void 0:_e.id)!=null?Me:0,10)||0,title:String((Ze=_e==null?void 0:_e.title)!=null?Ze:"").trim(),slug:String((ct=_e==null?void 0:_e.slug)!=null?ct:"").trim(),parent_id:(_e==null?void 0:_e.parent_id)!==null&&(_e==null?void 0:_e.parent_id)!==void 0&&Number.parseInt(_e.parent_id,10)||null}}).filter(_e=>_e.title!=="")),{state:U,refresh:ee,search:W,setFilterState:q,viewOrder:ue,closeOrder:ne,transitionOrder:se,goToPage:j,bulkTransition:O,toggleSelection:R,clearSelection:G,addNote:Q,updateTracking:w,downloadInvoice:xe,exportOrders:B,sendEmail:ie,recordTransaction:he,resendDownloads:J,resetDownload:De}=_v({endpoints:v,token:t.csrfToken,states:oe.value,preload:(Uc=(Lc=(wc=t.config)==null?void 0:wc.preload)==null?void 0:Lc.orders)!=null?Uc:{items:r((Dc=t.dataset)==null?void 0:Dc.ordersPreload,[]),pagination:r((Yc=t.dataset)==null?void 0:Yc.ordersPreloadPagination,{})},autoload:k.value}),{state:Xe,refresh:it,search:Je,goToPage:P,viewCustomer:h,closeCustomer:H,gdprExport:be,gdprAnonymise:ye}=fv({endpoints:{...ge,gdpr:(Fc=(Xc=t.endpoints)==null?void 0:Xc.gdpr)!=null?Fc:{}},token:t.csrfToken,preload:(Kc=(Vc=(Gc=t.config)==null?void 0:Gc.preload)==null?void 0:Vc.customers)!=null?Kc:{items:r((Hc=t.dataset)==null?void 0:Hc.customersPreload,[]),pagination:r((Bc=t.dataset)==null?void 0:Bc.customersPreloadPagination,{})},autoload:x.value}),{state:Y,refresh:Ee,search:te,goToPage:Ue,saveCoupon:Fe,deleteCoupons:et}=mv({endpoints:(Wc=(jc=t.endpoints)==null?void 0:jc.coupons)!=null?Wc:X,token:t.csrfToken,preload:(Zc=(qc=(Jc=t.config)==null?void 0:Jc.preload)==null?void 0:qc.coupons)!=null?Zc:{items:r((zc=t.dataset)==null?void 0:zc.couponsPreload,[]),pagination:r((Qc=t.dataset)==null?void 0:Qc.couponsPreloadPagination,{})},autoload:T.value}),nt=(sd=(td=(ed=t.config)==null?void 0:ed.preload)==null?void 0:td.settings)!=null?sd:r((nd=t.dataset)==null?void 0:nd.settingsPreload,{}),{state:at,refresh:gt,save:Ds}=hv({endpoints:Re,token:t.csrfToken,preload:nt,autoload:y.value}),Ys=Te(()=>{var _e,Me;const I=(Me=(_e=t.dataset)==null?void 0:_e.baseCurrency)!=null?Me:"";return typeof I=="string"?I.trim().toUpperCase():""}),wt=Te(()=>{var _e,Me;const I=(Me=(_e=at==null?void 0:at.values)==null?void 0:_e.base_currency)!=null?Me:"";return typeof I=="string"?I.trim().toUpperCase():""}),Bt=Te(()=>{const I=wt.value||Ys.value;return I!==""?I:"USD"}),Kt=Te(()=>{var _e,Me;const I=(Me=(_e=t.dataset)==null?void 0:_e.mediaModalUrl)!=null?Me:"";return typeof I=="string"?I.trim():""}),mn=Te(()=>{var _e,Me,Ze,ct,bt;const I=(ct=(Ze=(_e=t.config)==null?void 0:_e.siteRoot)!=null?Ze:(Me=t.dataset)==null?void 0:Me.siteRoot)!=null?ct:"";return typeof I=="string"&&I.trim()!==""?I.trim():typeof window!="undefined"&&((bt=window.location)!=null&&bt.origin)?window.location.origin:""}),hn=I=>{switch(I){case"COM_NXPEASYCART_CHECKLIST_SET_CURRENCY":return{id:"set-currency",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_SET_CURRENCY_DESC",titleFallback:"Set your base currency",descriptionFallback:"Lock in the store currency so product pricing and orders stay consistent.",link:_("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_PUBLISH_CART_MODULE":return{id:"publish-cart-module",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_PUBLISH_CART_MODULE_DESC",titleFallback:"Publish the cart module",descriptionFallback:"Add the cart module to a template position so customers can see their shopping cart.",link:"index.php?option=com_modules&filter[module]=mod_nxpeasycart_cart"};case"COM_NXPEASYCART_CHECKLIST_ADD_PRODUCT":return{id:"add-product",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_ADD_PRODUCT_DESC",titleFallback:"Create your first product",descriptionFallback:"Add product details, images, and variants to populate your catalogue.",link:_("products")||"index.php?option=com_nxpeasycart&view=products"};case"COM_NXPEASYCART_CHECKLIST_CONFIGURE_PAYMENTS":return{id:"configure-payments",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_CONFIGURE_PAYMENTS_DESC",titleFallback:"Configure payment gateways",descriptionFallback:"Connect Stripe or PayPal so you can capture orders securely.",link:_("settings")||"index.php?option=com_nxpeasycart&view=settings"};case"COM_NXPEASYCART_CHECKLIST_REVIEW_ORDERS":return{id:"review-orders",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_REVIEW_ORDERS_DESC",titleFallback:"Review the orders workspace",descriptionFallback:"Verify fulfilment workflows, notes, and state transitions.",link:_("orders")||"index.php?option=com_nxpeasycart&view=orders"};case"COM_NXPEASYCART_CHECKLIST_INVITE_CUSTOMERS":return{id:"invite-customers",titleKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_TITLE",descriptionKey:"COM_NXPEASYCART_ONBOARDING_STEP_INVITE_CUSTOMERS_DESC",titleFallback:"Invite customers or teammates",descriptionFallback:"Send invites or import contacts so customers can access their orders.",link:_("customers")||"index.php?option=com_nxpeasycart&view=customers"};default:return{id:I||"step",titleKey:I||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_TITLE",descriptionKey:I||"COM_NXPEASYCART_ONBOARDING_STEP_DEFAULT_DESC",titleFallback:"Complete setup",descriptionFallback:"Work through this step to finish onboarding.",link:_("dashboard")||""}}},cn=Te(()=>(Array.isArray(re.checklist)?re.checklist:[]).map(_e=>{const Me=hn(_e.label);return{id:Me.id,completed:!!_e.completed,link:_e.link||Me.link||"",label:_e.label,titleKey:Me.titleKey,descriptionKey:Me.descriptionKey,titleFallback:Me.titleFallback,descriptionFallback:Me.descriptionFallback}})),dn=Te(()=>cn.value.some(I=>!I.completed)),ss=Te(()=>{const I=cn.value;if(!I.length)return{completed:0,total:0,percent:0};const _e=I.filter(Me=>Me.completed).length;return{completed:_e,total:I.length,percent:Math.round(_e/I.length*100)}}),Us=Te(()=>{const{completed:I,total:_e}=ss.value;return`${I}/${_e}`}),Ni=Te(()=>{const{percent:I}=ss.value;return{background:`linear-gradient(90deg, var(--nxp-ec-primary, #0d6efd) ${I}%, #e9ecef ${I}%)`,borderColor:"var(--nxp-ec-primary, #0d6efd)",color:I>=50?"#fff":"var(--nxp-ec-text, #212529)"}}),gn=We(!1),Iv=()=>{if(typeof window!="undefined")try{window.localStorage.setItem(ns,"0")}catch(I){}gn.value=!0},Ir=()=>{if(gn.value=!1,typeof window!="undefined")try{window.localStorage.setItem(ns,"1")}catch(I){}},kv=I=>{I&&typeof I.link=="string"&&I.link!==""&&(Ir(),typeof window!="undefined"&&(window.location.href=I.link))};Qe(dn,I=>{if(!I&&(gn.value=!1,typeof window!="undefined"))try{window.localStorage.setItem(ns,"1")}catch(_e){}});const $v=(ld=(ad=(id=t.config)==null?void 0:id.preload)==null?void 0:ad.tax)!=null?ld:{items:r((od=t.dataset)==null?void 0:od.taxPreload,[]),pagination:r((rd=t.dataset)==null?void 0:rd.taxPreloadPagination,{})},{state:wv,refresh:is,saveRate:Lv,deleteRates:Dv}=gv({endpoints:F,token:t.csrfToken,preload:$v,autoload:$.value||y.value}),Yv=(pd=(dd=(cd=t.config)==null?void 0:cd.preload)==null?void 0:dd.shipping)!=null?pd:{items:r((ud=t.dataset)==null?void 0:ud.shippingPreload,[]),pagination:r((_d=t.dataset)==null?void 0:_d.shippingPreloadPagination,{})},{state:Uv,refresh:as,saveRule:Xv,deleteRules:Fv}=Ev({endpoints:z,token:t.csrfToken,preload:Yv,autoload:L.value||y.value}),Gv=(Ed=(md=(fd=t.config)==null?void 0:fd.preload)==null?void 0:md.logs)!=null?Ed:{items:r((hd=t.dataset)==null?void 0:hd.logsPreload,[]),pagination:r((gd=t.dataset)==null?void 0:gd.logsPreloadPagination,{})},{state:Vv,refresh:kr,search:Hv,setEntity:Bv,goToPage:Kv}=Cv({endpoints:de,token:t.csrfToken,preload:Gv,autoload:V.value}),{state:jv,refresh:vi,save:Wv}=Av({endpoints:Ce,token:t.csrfToken});Qe(p,I=>{switch(I){case"dashboard":ae();break;case"products":m(),Oe();break;case"categories":Oe();break;case"orders":ee();break;case"customers":it();break;case"coupons":Ee();break;case"tax":is();break;case"shipping":as();break;case"settings":gt(),is(),as(),vi();break;case"logs":kr();break}}),Tt(()=>{if(typeof window!="undefined"){window.__NXP_EASYCART__={...window.__NXP_EASYCART__||{},adminMounted:!0,dataset:t.dataset};try{const I=window.localStorage.getItem(ns);dn.value?I!=="1"&&(gn.value=!0):window.localStorage.setItem(ns,"1")}catch(I){}}y.value&&vi()});const Jv=()=>{m()},qv=()=>{g()},zv=async I=>{try{await C(I),m(),Oe(),He("dashboard"),ae(!0)}catch(_e){}},Qv=async({id:I,data:_e})=>{try{await pe(I,_e),m(),Oe()}catch(Me){}},Zv=async I=>{try{await fe(I),m(),Oe()}catch(_e){}},eP=()=>{Oe()},tP=()=>{Le()},nP=I=>{$e(I)},sP=async I=>{try{await Be(I),Oe()}catch(_e){}},iP=async I=>{try{await ot(I),Oe()}catch(_e){}},aP=()=>{ae()},oP=()=>{ee()},rP=()=>{W()},lP=I=>{q(I)},cP=I=>{ue(I)},dP=()=>{ne()},uP=async({id:I,state:_e})=>{try{await se(I,_e)}catch(Me){}},_P=I=>{j(I)},pP=async({ids:I,state:_e})=>{try{await O(I,_e)}catch(Me){}},fP=I=>{R(I)},mP=()=>{G()},hP=async({id:I,message:_e})=>{await Q(I,_e)},gP=async I=>{if(!(I!=null&&I.id))return;const{id:_e,...Me}=I;try{await w(_e,Me)}catch(Ze){}},EP=async I=>{!(I!=null&&I.id)||!(I!=null&&I.type)||await ie(I.id,I.type)},CP=async I=>{if(I!=null&&I.id)try{await he(I.id,{amountCents:I.amountCents,reference:I.reference,note:I.note})}catch(_e){}},AP=async I=>{if(I!=null&&I.id)try{await J(I.id)}catch(_e){}},SP=async I=>{if(I!=null&&I.download_id)try{await De(I.download_id,I.order_id)}catch(_e){}},bP=async I=>{if(!I)return;const _e=await xe(I);if(!(_e!=null&&_e.content))return;const Me=atob(_e.content),Ze=new Uint8Array(Me.length);for(let En=0;En<Me.length;En+=1)Ze[En]=Me.charCodeAt(En);const ct=new Blob([Ze],{type:"application/pdf"}),bt=window.URL.createObjectURL(ct),xt=document.createElement("a");xt.href=bt,xt.download=_e.filename||"invoice.pdf",document.body.appendChild(xt),xt.click(),document.body.removeChild(xt),setTimeout(()=>window.URL.revokeObjectURL(bt),1e3)},TP=async()=>{const I=await B();if(!(I!=null&&I.content))return;const _e=atob(I.content),Me=new Uint8Array(_e.length);for(let xt=0;xt<_e.length;xt+=1)Me[xt]=_e.charCodeAt(xt);const Ze=new Blob([Me],{type:"text/csv;charset=utf-8"}),ct=window.URL.createObjectURL(Ze),bt=document.createElement("a");bt.href=ct,bt.download=I.filename||"orders-export.csv",document.body.appendChild(bt),bt.click(),document.body.removeChild(bt),setTimeout(()=>window.URL.revokeObjectURL(ct),1e3)},yP=()=>{it()},RP=()=>{Je()},OP=I=>{P(I)},xP=I=>{h(I)},NP=()=>{H()},vP=I=>{be(I)},PP=I=>{ye(I)},MP=()=>{Ee()},IP=()=>{te()},kP=I=>{Ue(I)},$P=async I=>{try{await Fe(I)}catch(_e){}},wP=async I=>{try{await et(I)}catch(_e){}},LP=()=>{gt(!0)},DP=async I=>{try{await Ds(I),He("dashboard"),ae(!0)}catch(_e){}},YP=()=>{is()},UP=async I=>{try{await Lv(I),is()}catch(_e){}},XP=async I=>{try{await Dv(I),is()}catch(_e){}},FP=()=>{as()},GP=async I=>{try{await Xv(I),as()}catch(_e){}},VP=async I=>{try{await Fv(I),as()}catch(_e){}},HP=()=>{kr()},BP=()=>{Hv()},KP=I=>{Bv(I)},jP=I=>{Kv(I)},WP=()=>{vi()},JP=async I=>{await Wv(I),He("dashboard"),ae(!0)};return(I,_e)=>(E(),Ct(Q_,null,{default:fa(()=>{var Me,Ze,ct,bt,xt,En;return[i("section",Sv,[i("header",bv,[i("div",null,[i("h1",Tv,d(o(s)(a.value,(Ze=(Me=t.dataset)==null?void 0:Me.appTitle)!=null?Ze:"NXP Easy Cart",[],"appTitle")),1),i("p",yv,d(o(s)(n.value,(bt=(ct=t.dataset)==null?void 0:ct.appLead)!=null?bt:"Manage your storefront from one place.",[],"appLead")),1)]),K(i("button",{class:"nxp-ec-btn nxp-ec-btn--onboarding-progress",type:"button",style:jt(Ni.value),onClick:Iv},[ke(d(o(s)("COM_NXPEASYCART_ONBOARDING_OPEN","Open onboarding",[],"onboardingOpen"))+" ",1),i("span",Rv,d(Us.value),1)],4),[[Pn,dn.value]])]),u.value.length?(E(),S("nav",Ov,[(E(!0),S(ve,null,we(u.value,Xs=>(E(),S("a",{key:Xs.id,href:Xs.link,class:Ye({"is-active":Xs.id===p.value})},d(Xs.title),11,xv))),128))])):le("",!0),p.value==="dashboard"?(E(),Ct(Mp,{key:1,state:o(re),translate:o(s),onRefresh:aP},null,8,["state","translate"])):p.value==="products"?(E(),Ct(tg,{key:2,state:o(Ne),translate:o(s),"base-currency":Bt.value,"category-options":N.value,"media-modal-url":Kt.value,"digital-endpoints":o(me),"csrf-token":t.csrfToken,onCreate:zv,onUpdate:Qv,onDelete:Zv,onRefresh:Jv,onSearch:qv},null,8,["state","translate","base-currency","category-options","media-modal-url","digital-endpoints","csrf-token"])):p.value==="categories"?(E(),Ct(tE,{key:3,state:o(Se),translate:o(s),"load-options":o(A),onRefresh:eP,onSearch:tP,onPage:nP,onSave:sP,onDelete:iP},null,8,["state","translate","load-options"])):p.value==="orders"?(E(),Ct(MA,{key:4,state:o(U),translate:o(s),"site-root":mn.value,onRefresh:oP,onSearch:rP,onFilter:lP,onView:cP,onClose:dP,onTransition:uP,onPage:_P,onBulkTransition:pP,onToggleSelection:fP,onClearSelection:mP,onAddNote:hP,onSaveTracking:gP,onSendEmail:EP,onRecordPayment:CP,onResendDownloads:AP,onResetDownload:SP,onInvoice:bP,onExport:TP},null,8,["state","translate","site-root"])):p.value==="customers"?(E(),Ct(kS,{key:5,state:o(Xe),translate:o(s),"base-currency":Bt.value,onRefresh:yP,onSearch:RP,onPage:OP,onView:xP,onClose:NP,onGdprExport:vP,onGdprAnonymise:PP},null,8,["state","translate","base-currency"])):p.value==="coupons"?(E(),Ct(Hb,{key:6,state:o(Y),translate:o(s),"base-currency":Bt.value,onRefresh:MP,onSearch:IP,onPage:kP,onSave:$P,onDelete:wP},null,8,["state","translate","base-currency"])):p.value==="tax"?(E(),Ct(Kx,{key:7,state:o(wv),translate:o(s),onRefresh:YP,onSave:UP,onDelete:XP},null,8,["state","translate"])):p.value==="shipping"?(E(),Ct(iN,{key:8,state:o(Uv),translate:o(s),"base-currency":Bt.value,onRefresh:FP,onSave:GP,onDelete:VP},null,8,["state","translate","base-currency"])):p.value==="settings"?(E(),Ct(DO,{key:9,"settings-state":o(at),"payments-state":o(jv),translate:o(s),"base-currency":Bt.value,"initial-tab":f.value,onRefreshSettings:LP,onSaveSettings:DP,onRefreshPayments:WP,onSavePayments:JP},null,8,["settings-state","payments-state","translate","base-currency","initial-tab"])):p.value==="logs"&&c.value?(E(),Ct(FN,{key:10,state:o(Vv),translate:o(s),onRefresh:HP,onSearch:BP,onFilter:KP,onPage:jP},null,8,["state","translate"])):(E(),S("div",Nv,[i("div",vv,[i("p",Pv,d(o(s)(n.value,(En=(xt=t.dataset)==null?void 0:xt.appLead)!=null?En:"This section will be available soon.",[],"appLead")),1)])]))]),st(sv,{visible:gn.value,steps:cn.value,translate:o(s),onClose:Ir,onNavigate:kv},null,8,["visible","steps","translate"])]}),_:1}))}},Ls=document.getElementById("nxp-ec-admin-app");if(!Ls)console.warn("[NXP Easy Cart] Admin mount point not found.");else{const e=(To=Ls.getAttribute("data-csrf-token"))!=null?To:"",t=Object.assign({},Ls.dataset);let s={};if(t.config)try{s=JSON.parse(t.config)}catch(D){console.warn("[NXP Easy Cart] Failed to parse admin config payload",D)}const a=(vo=(yo=s==null?void 0:s.endpoints)==null?void 0:yo.products)!=null?vo:{list:(Ro=t.productsEndpoint)!=null?Ro:"",create:(Oo=t.productsEndpointCreate)!=null?Oo:"",update:(xo=t.productsEndpointUpdate)!=null?xo:"",delete:(No=t.productsEndpointDelete)!=null?No:""},n=(wo=(Po=s==null?void 0:s.endpoints)==null?void 0:Po.categories)!=null?wo:{list:(Mo=t.categoriesEndpoint)!=null?Mo:"",create:(Io=t.categoriesEndpointCreate)!=null?Io:"",update:(ko=t.categoriesEndpointUpdate)!=null?ko:"",delete:($o=t.categoriesEndpointDelete)!=null?$o:""},r=(Ho=(Lo=s==null?void 0:s.endpoints)==null?void 0:Lo.orders)!=null?Ho:{list:(Do=t.ordersEndpoint)!=null?Do:"",show:(Yo=t.ordersEndpointShow)!=null?Yo:"",transition:(Uo=t.ordersEndpointTransition)!=null?Uo:"",bulkTransition:(Xo=t.ordersEndpointBulk)!=null?Xo:"",note:(Fo=t.ordersEndpointNote)!=null?Fo:"",tracking:(Go=t.ordersEndpointTracking)!=null?Go:"",invoice:(Vo=t.ordersEndpointInvoice)!=null?Vo:""},c=(Wo=(Bo=s==null?void 0:s.endpoints)==null?void 0:Bo.customers)!=null?Wo:{list:(Ko=t.customersEndpoint)!=null?Ko:"",show:(jo=t.customersEndpointShow)!=null?jo:""},u=(Qo=(Jo=s==null?void 0:s.endpoints)==null?void 0:Jo.gdpr)!=null?Qo:{export:(qo=t.gdprEndpointExport)!=null?qo:"",anonymise:(zo=t.gdprEndpointAnonymise)!=null?zo:""},_=(ir=(Zo=s==null?void 0:s.endpoints)==null?void 0:Zo.coupons)!=null?ir:{list:(er=t.couponsEndpoint)!=null?er:"",create:(tr=t.couponsEndpointCreate)!=null?tr:"",update:(nr=t.couponsEndpointUpdate)!=null?nr:"",delete:(sr=t.couponsEndpointDelete)!=null?sr:""},p=(dr=(ar=s==null?void 0:s.endpoints)==null?void 0:ar.tax)!=null?dr:{list:(or=t.taxEndpoint)!=null?or:"",create:(rr=t.taxEndpointCreate)!=null?rr:"",update:(lr=t.taxEndpointUpdate)!=null?lr:"",delete:(cr=t.taxEndpointDelete)!=null?cr:""},f=(hr=(ur=s==null?void 0:s.endpoints)==null?void 0:ur.shipping)!=null?hr:{list:(_r=t.shippingEndpoint)!=null?_r:"",create:(pr=t.shippingEndpointCreate)!=null?pr:"",update:(fr=t.shippingEndpointUpdate)!=null?fr:"",delete:(mr=t.shippingEndpointDelete)!=null?mr:""},l=(Sr=(gr=s==null?void 0:s.endpoints)==null?void 0:gr.digitalfiles)!=null?Sr:{list:(Er=t.digitalfilesEndpointList)!=null?Er:"",upload:(Cr=t.digitalfilesEndpointUpload)!=null?Cr:"",delete:(Ar=t.digitalfilesEndpointDelete)!=null?Ar:""},b=(Rr=(br=s==null?void 0:s.endpoints)==null?void 0:br.settings)!=null?Rr:{show:(Tr=t.settingsEndpointShow)!=null?Tr:"",update:(yr=t.settingsEndpointUpdate)!=null?yr:""},M=(Nr=(Or=s==null?void 0:s.endpoints)==null?void 0:Or.logs)!=null?Nr:{list:(xr=t.logsEndpoint)!=null?xr:""};H_(Mv,{csrfToken:e,dataset:t,config:s,endpoints:{products:a,categories:n,orders:r,customers:c,gdpr:u,coupons:_,tax:p,shipping:f,digitalfiles:l,settings:b,logs:M,dashboard:(Mr=(Pr=(vr=s==null?void 0:s.endpoints)==null?void 0:vr.dashboard)!=null?Pr:t.dashboardEndpoint)!=null?Mr:""}}).mount(Ls)}})();
